[{"tags": ["maven", "kotlin"], "comments": [{"owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1484821372, "post_id": 41730667, "comment_id": 70671605, "body": "How are you running the compiler? From IDE or command line?"}, {"owner": {"reputation": 8020, "user_id": 823282, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xBNDh.png?s=128&g=1", "display_name": "activedecay", "link": "https://stackoverflow.com/users/823282/activedecay"}, "reply_to_user": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1484854565, "post_id": 41730667, "comment_id": 70692804, "body": "I&#39;m using an IDE and the command line without any issues, and the dev guy&#39;s broken setup uses mvn from the command line."}, {"owner": {"reputation": 8020, "user_id": 823282, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xBNDh.png?s=128&g=1", "display_name": "activedecay", "link": "https://stackoverflow.com/users/823282/activedecay"}, "reply_to_user": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1504203525, "post_id": 41730667, "comment_id": 78935632, "body": "I&#39;d be grateful for any feedback or criticism that I can learn from or use to help me improve my answer."}, {"owner": {"reputation": 2235, "user_id": 1832206, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/4rUCH.jpg?s=128&g=1", "display_name": "szxnyc", "link": "https://stackoverflow.com/users/1832206/szxnyc"}, "edited": false, "score": 0, "creation_date": 1517462775, "post_id": 41730667, "comment_id": 84107837, "body": "I have the exact same problem, the only way I was able to fix it was create a brand new project entirely and copy over all my source code."}, {"owner": {"reputation": 8020, "user_id": 823282, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xBNDh.png?s=128&g=1", "display_name": "activedecay", "link": "https://stackoverflow.com/users/823282/activedecay"}, "reply_to_user": {"reputation": 2235, "user_id": 1832206, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/4rUCH.jpg?s=128&g=1", "display_name": "szxnyc", "link": "https://stackoverflow.com/users/1832206/szxnyc"}, "edited": false, "score": 0, "creation_date": 1517508581, "post_id": 41730667, "comment_id": 84134512, "body": "@szxnyc maybe upvote if you think this question deserves attention. the downvote was someone&#39;s rage against me i think"}], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 5660200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a053aa187ae95a70bb030ff97abdd0ed?s=128&d=identicon&r=PG", "display_name": "Ilya Chernikov", "link": "https://stackoverflow.com/users/5660200/ilya-chernikov"}, "is_accepted": false, "score": 1, "last_activity_date": 1484911496, "creation_date": 1484911496, "answer_id": 41762537, "question_id": 41730667, "link": "https://stackoverflow.com/questions/41730667/kotlin-compiler-issues-for-unresolved-class/41762537#41762537", "title": "kotlin compiler issues for unresolved class", "body": "<p>It looks like Kotlin's issue with IBM J9 JVM implementation reported as <a href=\"https://youtrack.jetbrains.com/issue/KT-14437\" rel=\"nofollow noreferrer\" title=\"here\">KT-14437</a> in the JB issue tracker. The fix is in work and most likely will be included in some upcoming Kotlin release. Meanwhile, you may want to use Oracle JDK as a workaround.</p>\n"}], "owner": {"reputation": 8020, "user_id": 823282, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xBNDh.png?s=128&g=1", "display_name": "activedecay", "link": "https://stackoverflow.com/users/823282/activedecay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1837, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1484911496, "creation_date": 1484778786, "question_id": 41730667, "link": "https://stackoverflow.com/questions/41730667/kotlin-compiler-issues-for-unresolved-class", "title": "kotlin compiler issues for unresolved class", "body": "<p>Kotlin compiler has some confusing error messaging for unresolved classes. One developer's project compiles, and the other developers does not. They have the same code. Here is the error...</p>\n\n<pre><code>[ERROR] Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\n    class java.lang.AutoClosable, unresolved supertypes: Object\n    class com.mycompany.ProviderObjIdentity, unresolved supertypes: Object\n</code></pre>\n\n<p>I don't know where to start debugging this problem. There are no differences in the code for the projects, but I guess the two developers are using different JDKs. Maybe different versions of maven. Definitely different flavors of linux.</p>\n\n<p>I'd be happy to provide any additional information, I just don't know what would be helpful.</p>\n\n<p>this dev guy's setup is busted:</p>\n\n<p>Kotlin: 1.0.4\nsles SUSE Linux Enterprise Server 11 (x86_64)\nLinux 3.0.76-0.11-default</p>\n\n<p>mvn -version</p>\n\n<pre><code> Apache Maven 3.0.5 (r01de14724cdef164cd33c7c8c2fe155faf9602da; 2013-02-19 06:51:28-0700)\n Maven home: /home/devguy1/apache-maven-3.0.5\n Java version: 1.7.0, vendor: IBM Corporation\n Java home: /usr/lib64/jvm/java-1.7.0-ibm-1.7.0/jre\n Default locale: en_US, platform encoding: UTF-8\n OS name: \"linux\", version: \"3.0.76-0.11-default\", arch: \"amd64\", family: \"unix\"\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 429, "user_id": 8499384, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WyvDW.jpg?s=128&g=1", "display_name": "BlackCat", "link": "https://stackoverflow.com/users/8499384/blackcat"}, "edited": false, "score": 0, "creation_date": 1509624752, "post_id": 41722493, "comment_id": 81098177, "body": "I encountered the same problem, have you ever found a better solution?"}, {"owner": {"reputation": 608, "user_id": 944734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372b85636d62b8a8fd7c0dc730a242fb?s=128&d=identicon&r=PG", "display_name": "xklakoux", "link": "https://stackoverflow.com/users/944734/xklakoux"}, "reply_to_user": {"reputation": 429, "user_id": 8499384, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WyvDW.jpg?s=128&g=1", "display_name": "BlackCat", "link": "https://stackoverflow.com/users/8499384/blackcat"}, "edited": false, "score": 0, "creation_date": 1509711446, "post_id": 41722493, "comment_id": 81140444, "body": "as far as I know, there isn&#39;t one"}], "answers": [{"comments": [{"owner": {"reputation": 608, "user_id": 944734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372b85636d62b8a8fd7c0dc730a242fb?s=128&d=identicon&r=PG", "display_name": "xklakoux", "link": "https://stackoverflow.com/users/944734/xklakoux"}, "edited": false, "score": 2, "creation_date": 1484834133, "post_id": 41722883, "comment_id": 70679755, "body": "Thanks mate, but obviously I already did that and was trying to improve it."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 608, "user_id": 944734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372b85636d62b8a8fd7c0dc730a242fb?s=128&d=identicon&r=PG", "display_name": "xklakoux", "link": "https://stackoverflow.com/users/944734/xklakoux"}, "edited": false, "score": 2, "creation_date": 1484834370, "post_id": 41722883, "comment_id": 70679928, "body": "I understand you were hoping for a better/different answer. If you want to discuss adding features to the language to improve this I recommend posting on discuss.kotlinlang.org."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 8, "last_activity_date": 1484752246, "creation_date": 1484752246, "answer_id": 41722883, "question_id": 41722493, "link": "https://stackoverflow.com/questions/41722493/how-to-use-jvmoverloads-with-interface-in-kotlin/41722883#41722883", "title": "how to use @jvmoverloads with interface in Kotlin", "body": "<p>I believe the best you can do is to define the overloads yourself. e.g.:</p>\n\n<pre><code>fun getClientCompanyId(clientId: Long, date: DateTime): Long\nfun getClientCompanyId(clientId: Long) = getClientCompanyId(clientId, DateTime.now())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 4741304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDzEv.jpg?s=128&g=1", "display_name": "Alexander Knauf", "link": "https://stackoverflow.com/users/4741304/alexander-knauf"}, "is_accepted": false, "score": 2, "last_activity_date": 1571838764, "creation_date": 1571838764, "answer_id": 58524460, "question_id": 41722493, "link": "https://stackoverflow.com/questions/41722493/how-to-use-jvmoverloads-with-interface-in-kotlin/58524460#58524460", "title": "how to use @jvmoverloads with interface in Kotlin", "body": "<p>Spoilers ahead: This answer is not satisfying.</p>\n\n<p>I ran into a similar issue while converting a Java class and interface into kotlin. The only way that my legacy Java code accepts <code>@JvmOverloads</code> generated code was to change my kotlin <code>interface</code> into an <code>open class</code> and change all <code>fun()</code> into <code>open fun()</code></p>\n\n<p>Works but its not what we really want.</p>\n"}], "owner": {"reputation": 608, "user_id": 944734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/372b85636d62b8a8fd7c0dc730a242fb?s=128&d=identicon&r=PG", "display_name": "xklakoux", "link": "https://stackoverflow.com/users/944734/xklakoux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3610, "favorite_count": 3, "answer_count": 2, "score": 24, "last_activity_date": 1571838764, "creation_date": 1484751134, "last_edit_date": 1592644375, "question_id": 41722493, "link": "https://stackoverflow.com/questions/41722493/how-to-use-jvmoverloads-with-interface-in-kotlin", "title": "how to use @jvmoverloads with interface in Kotlin", "body": "<p>My codebase is mixed java and kotlin code. I'd like to use @JvmOverloads on interface method with default arguments. Like that:</p>\n<pre><code>@JvmOverloads\nfun getClientCompanyId(clientId: Long, date: DateTime = DateTime.now()): Long\n</code></pre>\n<p>I can't do this unfortunately and I get the message that:</p>\n<blockquote>\n<p>JvmOverloads cannot be used on interface methods</p>\n</blockquote>\n<p>However if I use it on overridden function then I get</p>\n<blockquote>\n<p>Platform declaration clash: The following declarations have the same JVM signature(getClientCompanyId(JLorg/joda/time/DateTime;)J):</p>\n<ul>\n<li>@JvmOverloads public open fun getClientCompanyId(clientId: Long, date: DateTime = ...): Long</li>\n<li>@JvmOverloads public open fun getClientCompanyId(clientId: Long, date: DateTime = ...): Long</li>\n</ul>\n</blockquote>\n<p>and just for the record: when I try to put default value in overridden method I get the message that:</p>\n<blockquote>\n<p>An overriding function is not allowed to specify default values on its parameters</p>\n</blockquote>\n<p>Is it a possible thing to do in kotlin? Thanks for all the answers.</p>\n"}, {"tags": ["kotlin", "spring-data-mongodb"], "answers": [{"comments": [{"owner": {"reputation": 795, "user_id": 560601, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9c39562c23b83e2e858c481b2c26d190?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/560601/daniel"}, "edited": false, "score": 0, "creation_date": 1484841705, "post_id": 41736023, "comment_id": 70685336, "body": "Thanks Rafal, much appreciated. Not sure I fully understand though. Why does Spring invoke the instructor with a null value for userName? Why doesn&#39;t it use the userName it loaded from the database?"}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "reply_to_user": {"reputation": 795, "user_id": 560601, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9c39562c23b83e2e858c481b2c26d190?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/560601/daniel"}, "edited": false, "score": 0, "creation_date": 1484844244, "post_id": 41736023, "comment_id": 70687049, "body": "Alright (and LOL) I may be wrong there... Try adding @Field to second argument :)"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1502722574, "post_id": 41736023, "comment_id": 78312229, "body": "This should be the accepted answer! (<code>@JvmOverloads</code>)"}], "tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": false, "score": 5, "last_activity_date": 1484810598, "creation_date": 1484810598, "answer_id": 41736023, "question_id": 41715144, "link": "https://stackoverflow.com/questions/41715144/exception-when-using-spring-data-mongodb-with-kotlin/41736023#41736023", "title": "Exception when using spring-data-mongodb with Kotlin", "body": "<p>Yes, it is a known problem. You should check how the bytecode for your User class looks like. Java sees the constructor with all the parameters present and tries to call it with a null value for the 2nd one.</p>\n\n<p>What you could do is to try adding <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#overloads-generation\" rel=\"noreferrer\"><code>@JvmOverloads</code></a> to your constructor - this will force Kotlin compiler to generate all versions of the constructor and so the Spring Data Mongo could pick the correct one (get rid of the @PersistenceConstructor) then.</p>\n\n<p>You could also define 1 constructor with no defaults - only for Java-based frameworks and 2nd one with some defaults your you. Or...</p>\n\n<p>When I write things like you are now, I create simple 'persistence' data classes with no default values whatsoever that are mapped to/from my regular domain objects (a sort of abstraction over database). It may generate some overhead at the start - but keeping your domain model not coupled so tightly with the storage model is usually a good idea anyway.</p>\n"}], "owner": {"reputation": 795, "user_id": 560601, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9c39562c23b83e2e858c481b2c26d190?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/560601/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2066, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1484810598, "creation_date": 1484730289, "question_id": 41715144, "link": "https://stackoverflow.com/questions/41715144/exception-when-using-spring-data-mongodb-with-kotlin", "title": "Exception when using spring-data-mongodb with Kotlin", "body": "<p>I'm new to Kotlin, and experimenting with spring-data-mongodb. Please see example below (also available here as fully runnable Maven project with in-memory MongoDb: <a href=\"https://github.com/danielsindahl/spring-boot-kotlin-example\" rel=\"nofollow noreferrer\">https://github.com/danielsindahl/spring-boot-kotlin-example</a>).</p>\n\n<p>Application.kt</p>\n\n<pre><code>package dsitest\n\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.autoconfigure.SpringBootApplication\n\n@SpringBootApplication\nopen class Application\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(Application::class.java, *args)\n}\n</code></pre>\n\n<p>User.kt</p>\n\n<pre><code>package dsitest\n\nimport org.springframework.data.annotation.Id\nimport org.springframework.data.annotation.PersistenceConstructor\nimport org.springframework.data.mongodb.core.mapping.Document\n\n@Document(collection = \"user\")\ndata class User @PersistenceConstructor constructor(@Id val id: String? = null, val userName: String)\n</code></pre>\n\n<p>UserRepository.kt</p>\n\n<pre><code>package dsitest\n\nimport org.springframework.data.repository.CrudRepository\n\ninterface UserRepository : CrudRepository&lt;User, String&gt;\n</code></pre>\n\n<p>KotlinIntegrationTest.kt</p>\n\n<pre><code>package dsitest\n\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.test.context.junit4.SpringRunner\n\n@RunWith(SpringRunner::class)\n@SpringBootTest\nclass KotlinIntegrationTest constructor () {\n\n    @Autowired\n    lateinit var userRepository : UserRepository;\n\n    @Test\n    fun persistenceTest() {\n        val user : User = User(userName = \"Mary\")\n        val savedUser = userRepository.save(user)\n        val loadedUser = userRepository.findOne(savedUser.id) // Failing code\n        println(\"loadedUser = ${loadedUser}\")\n    }\n}\n</code></pre>\n\n<p>When running the test KotlinIntegrationTest.persistenceTest, I get the following error message when trying to retrieve a User object from MongoDb:</p>\n\n<pre><code>org.springframework.data.mapping.model.MappingException: No property null found on entity class dsitest.User to bind constructor parameter to!\n</code></pre>\n\n<p>If I modify the User data class so that userName is nullable, everything works. </p>\n\n<pre><code>data class User @PersistenceConstructor constructor(@Id val id: String? = null,\nval userName: String? = null)\n</code></pre>\n\n<p>I would like to understand why this is the case, since I don't want userName to be nullable. Is there some alternative, better way of defining my User class in Kotlin?</p>\n\n<p>Many thanks,\nDaniel</p>\n"}, {"tags": ["intellij-idea", "kotlin", "intellij-plugin"], "answers": [{"comments": [{"owner": {"reputation": 1938, "user_id": 2114895, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/vrccB.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2114895/andrew"}, "edited": false, "score": 0, "creation_date": 1484730347, "post_id": 41714140, "comment_id": 70625194, "body": "Your suggestions seem to work. Thank you! Could you advice some resource where I could find out more on the topic? I have not found such information on a tutorial <a href=\"http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started.html\" rel=\"nofollow noreferrer\">jetbrains.org/intellij/sdk/docs/basics/getting_started.html</a> of the JetBrain site."}, {"owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "reply_to_user": {"reputation": 1938, "user_id": 2114895, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/vrccB.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2114895/andrew"}, "edited": false, "score": 0, "creation_date": 1484734049, "post_id": 41714140, "comment_id": 70627774, "body": "I think you will have to look at the source code of IJ and Kotlin."}], "tags": [], "owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "is_accepted": true, "score": 5, "last_activity_date": 1484729971, "last_edit_date": 1484729971, "creation_date": 1484726735, "answer_id": 41714140, "question_id": 41705925, "link": "https://stackoverflow.com/questions/41705925/modify-a-kotlin-class/41714140#41714140", "title": "modify a Kotlin class", "body": "<p>When you search for a Kotlin class via the <code>JavaPsiFacade</code>, it returns the light class which is a shallow representation that is just based on the information in the class file. In order to add PSI elements, you have to call <code>navigationElement</code> on it. Then, IJ will parse the source and build a full PSI tree that can be modified.</p>\n\n<p>However, if the class is a Kotlin class, <code>navigationElement</code> will return a <code>KtClass</code> which is not derived from <code>PsiClass</code>. You will have to use the facilities in the Kotlin hierarchy to modify it. Method instances in Kotlin are also not instances of <code>PsiMethod</code>, but instances of <code>KtMethod</code>.</p>\n\n<p>For analyzing Java and Kotlin sources in a common fashion there is a different syntax tree called \"UAST\", but for modifications you need a language-specific approach.</p>\n"}], "owner": {"reputation": 1938, "user_id": 2114895, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/vrccB.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2114895/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 41714140, "answer_count": 1, "score": 3, "last_activity_date": 1484729971, "creation_date": 1484683331, "question_id": 41705925, "link": "https://stackoverflow.com/questions/41705925/modify-a-kotlin-class", "title": "modify a Kotlin class", "body": "<p>I'd like to write a plugin for Intellij IDEA that should modify a Java and Kotlin code.</p>\n\n<p>I use the method </p>\n\n<pre><code>PsiClass.getMethods()\n</code></pre>\n\n<p>in order to get all methods of Java and Kotlin classes. So far so good, so then I use methods like </p>\n\n<pre><code>PsiClass.add(), PsiClass.addAfter(), PsiClass.addBefore()\n</code></pre>\n\n<p>that all work fine once they are called on Java files, but start to throw an exception</p>\n\n<pre><code>IncorrectOperationException\n</code></pre>\n\n<p>once I called them on a Kotlin class.</p>\n\n<p>I'd appreciate any hint on how I can modify Kotlin and Java classes (preferably using the same approach).</p>\n"}, {"tags": ["android", "realm", "rx-java", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1484728940, "post_id": 41700834, "comment_id": 70624341, "body": "It might be a better idea to collect the responses into a list first, and then execute the transaction for the list. But this could also work"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1484666492, "creation_date": 1484666492, "question_id": 41700834, "link": "https://stackoverflow.com/questions/41700834/realm-turn-transaction-into-observable", "title": "Realm Turn Transaction into observable", "body": "<p>Sometimes i want to perform a write operation after a service call using Retrofit. As my default server calls are performed on the io thread, i just want to use the same thread for the Realm write operation.</p>\n\n<p>I'm using it like this:</p>\n\n<pre><code>serviceInteractor.uploadMeasure(measure)\n        .filter { uploaded: Boolean -&gt; uploaded } // filter only the ones successfully uploaded\n        .flatMap { realmInteractor.markMeasureSent(measure.timeStamp) }\n        .subscribe(\n                { success -&gt; /* do nothing */ },\n                { inDebug { it.printStackTrace() } }\n        )\n</code></pre>\n\n<p>My Realm Observable is as follows:</p>\n\n<pre><code>fun markMeasureSent(measureId: Long?): Observable&lt;Unit&gt; {\n        if (measureId == null) Observable.just(Unit)\n\n        return Observable.fromCallable {\n            Realm.getDefaultInstance().use {\n                it.executeTransaction { tRealm -&gt;\n                    assertNotMainThread()\n                    val measure = tRealm.where(Item::class.java)\n                            .equalTo(item, measureId)\n                            .findFirst()\n\n                    measure.sent = 1\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Is this the correct way of wrapping a Realm Transaction into an observable?</p>\n"}, {"tags": ["android", "gradle", "proguard", "kotlin"], "comments": [{"owner": {"reputation": 934, "user_id": 1815209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6cbca63e8eae12b8959f53c6e4e5133?s=128&d=identicon&r=PG", "display_name": "quezak", "link": "https://stackoverflow.com/users/1815209/quezak"}, "edited": false, "score": 0, "creation_date": 1493000728, "post_id": 41699606, "comment_id": 74207480, "body": "did you find a workaround? I&#39;m having the same problem, Proguard strips annotations and even visibility/nullability info... <a href=\"https://stackoverflow.com/questions/43565633/\">stackoverflow.com/questions/43565633</a>"}, {"owner": {"reputation": 21, "user_id": 7030616, "user_type": "registered", "profile_image": "https://graph.facebook.com/795933185/picture?type=large", "display_name": "Raivis Dejus", "link": "https://stackoverflow.com/users/7030616/raivis-dejus"}, "reply_to_user": {"reputation": 934, "user_id": 1815209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6cbca63e8eae12b8959f53c6e4e5133?s=128&d=identicon&r=PG", "display_name": "quezak", "link": "https://stackoverflow.com/users/1815209/quezak"}, "edited": false, "score": 0, "creation_date": 1493226419, "post_id": 41699606, "comment_id": 74329202, "body": "Unfortunately no."}, {"owner": {"reputation": 934, "user_id": 1815209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6cbca63e8eae12b8959f53c6e4e5133?s=128&d=identicon&r=PG", "display_name": "quezak", "link": "https://stackoverflow.com/users/1815209/quezak"}, "edited": false, "score": 0, "creation_date": 1493226735, "post_id": 41699606, "comment_id": 74329398, "body": "In the meantime I did :) check the question I linked if you&#39;re interested."}], "owner": {"reputation": 21, "user_id": 7030616, "user_type": "registered", "profile_image": "https://graph.facebook.com/795933185/picture?type=large", "display_name": "Raivis Dejus", "link": "https://stackoverflow.com/users/7030616/raivis-dejus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 816, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1484667991, "creation_date": 1484663073, "last_edit_date": 1484667991, "question_id": 41699606, "link": "https://stackoverflow.com/questions/41699606/proguard-strips-custom-annotations-in-kotlin", "title": "Proguard strips custom annotations in Kotlin", "body": "<p>My Kotlin project uses MVP architecture. Custom annotations are being used to the bins presenter to the view for example:</p>\n\n<pre><code>@PresenterBinding(MyPresenter::class)\nclass MyActivity{\n</code></pre>\n\n<p>When this project is build with Proguard's</p>\n\n<pre><code>minifyEnabled true\n</code></pre>\n\n<p>The link of presenter to the view is lost and I get <code>kotlin.KotlinNullPointerException</code> accessing presenter functions</p>\n\n<p>Following bits are there in my Proguard config (among other keep rules)</p>\n\n<pre><code># Kotlin rules #\n-assumenosideeffects class kotlin.jvm.internal.Intrinsics {\n    static void checkParameterIsNotNull(java.lang.Object, java.lang.String);\n}\n-keepclassmembers class **$WhenMappings {\n    &lt;fields&gt;;\n}\n-dontwarn kotlin.**\n-keep class kotlin.**\n\n-keepattributes *Annotation*\n</code></pre>\n\n<p>I have tried many things, however no luck yet.\nAny pointers to the right are welcome.</p>\n"}, {"tags": ["intellij-idea", "compilation", "kotlin"], "comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1506688050, "post_id": 41696760, "comment_id": 79931993, "body": "I&#39;m voting to close this question as off-topic because there isn&#39;t a &#39;this question is old, and the tools no longer have this issue&#39; option anywhere.  @OP are you still experiencing this issue? With the improvements in the Kotlin plugin, I would be very surprised if you are."}, {"owner": {"reputation": 6870, "user_id": 1041442, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/99d5dced06046bd68560dc8eb4caa61f?s=128&d=identicon&r=PG", "display_name": "Jilles van Gurp", "link": "https://stackoverflow.com/users/1041442/jilles-van-gurp"}, "reply_to_user": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1543338011, "post_id": 41696760, "comment_id": 93878649, "body": "@Mikezx6r kotlin compilation is still super slow for me as of kotlin 1.3.10. In general, intellij and speed have always been an issue for me. Multi second compile times on a one line change basically means that incremental compilation is not really working incrementally."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1543461498, "post_id": 41696760, "comment_id": 93930821, "body": "Can you create a sample project and put somewhere public. I can then check it out, and report/see times on my machine. Maybe I&#39;ve just never noticed the delay because I&#39;m not trying to do live coding demos.  An alternative for a demo would be a scratch file. Depending on what you&#39;re demoing, that works quite well, and quickly."}], "answers": [{"comments": [{"owner": {"reputation": 220, "user_id": 7430144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62af92cb2b415451da474aa20cf11de?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien7", "link": "https://stackoverflow.com/users/7430144/bastien7"}, "edited": false, "score": 2, "creation_date": 1484656254, "post_id": 41696924, "comment_id": 70590163, "body": "&quot;Keep compiler process alive between invocations&quot; and &quot;Enable precise incremental compilation&quot; are already checked in my preferences."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1484739989, "post_id": 41696924, "comment_id": 70631693, "body": "Search for them in general settings"}, {"owner": {"reputation": 593, "user_id": 1076720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/559826338/picture?type=large", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/1076720/kelvin"}, "edited": false, "score": 0, "creation_date": 1502254091, "post_id": 41696924, "comment_id": 78122890, "body": "Hi, I think I&#39;m experiencing the same IDE lag/slowness issue in Kotlin projects, <a href=\"https://stackoverflow.com/questions/45581424/extremely-slow-in-autocompletion-code-analysis-for-kotlin-projects-in-intellij\" title=\"extremely slow in autocompletion code analysis for kotlin projects in intellij\">stackoverflow.com/questions/45581424/&hellip;</a>. Did you end up finding a fix for it? Please let me know. Thanks."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1484655387, "creation_date": 1484655387, "answer_id": 41696924, "question_id": 41696760, "link": "https://stackoverflow.com/questions/41696760/big-compilation-time-for-kotlin-code-in-intellij/41696924#41696924", "title": "Big compilation time for Kotlin code in IntelliJ", "body": "<p>Make sure you have checked those boxes in settings:</p>\n\n<ul>\n<li>Incremental Kotlin compilation</li>\n<li>Kotlin compiler daemon (keeps the kotlinc process alive)</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 220, "user_id": 7430144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62af92cb2b415451da474aa20cf11de?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien7", "link": "https://stackoverflow.com/users/7430144/bastien7"}, "edited": false, "score": 0, "creation_date": 1484679283, "post_id": 41703275, "comment_id": 70605397, "body": "It seems to not be my case: this program prints less than 0.03 seconds on my OSX computer... :(   I tried to compile/run all kind of Kotlin program with Eclipse and I have very very small compilation time (but not as good as IntelliJ for Kotlin...)"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 220, "user_id": 7430144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62af92cb2b415451da474aa20cf11de?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien7", "link": "https://stackoverflow.com/users/7430144/bastien7"}, "edited": false, "score": 0, "creation_date": 1492803844, "post_id": 41703275, "comment_id": 74153844, "body": "@Bastien7 Take a look at these questions then: <a href=\"http://stackoverflow.com/questions/39636792/jvm-takes-a-long-time-to-resolve-ip-address-for-localhost\" title=\"jvm takes a long time to resolve ip address for localhost\">stackoverflow.com/questions/39636792/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/33289695/inetaddress-getlocalhost-slow-to-run-30-seconds/33289897\" title=\"inetaddress getlocalhost slow to run 30 seconds\">stackoverflow.com/questions/33289695/&hellip;</a>"}, {"owner": {"reputation": 220, "user_id": 7430144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62af92cb2b415451da474aa20cf11de?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien7", "link": "https://stackoverflow.com/users/7430144/bastien7"}, "edited": false, "score": 1, "creation_date": 1493127702, "post_id": 41703275, "comment_id": 74273615, "body": "Yes you&#39;re right, there are issues about it on YouTrack now, and the Idea team first said us to fix the OSX problem by ourself. But since we are many to have asked them a solution they planned to apply a JDK patch : <a href=\"https://youtrack.jetbrains.com/issue/KT-17523#comment=27-2118243\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-17523#comment=27-2118243</a>"}, {"owner": {"reputation": 593, "user_id": 1076720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/559826338/picture?type=large", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/1076720/kelvin"}, "edited": false, "score": 0, "creation_date": 1502254073, "post_id": 41703275, "comment_id": 78122884, "body": "Hi, I think I&#39;m experiencing the same IDE lag/slowness issue in Kotlin projects, <a href=\"https://stackoverflow.com/questions/45581424/extremely-slow-in-autocompletion-code-analysis-for-kotlin-projects-in-intellij\" title=\"extremely slow in autocompletion code analysis for kotlin projects in intellij\">stackoverflow.com/questions/45581424/&hellip;</a>. Did you end up finding a fix for it? Please let me know. Thanks."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 1, "last_activity_date": 1484673670, "last_edit_date": 1495542353, "creation_date": 1484673670, "answer_id": 41703275, "question_id": 41696760, "link": "https://stackoverflow.com/questions/41696760/big-compilation-time-for-kotlin-code-in-intellij/41703275#41703275", "title": "Big compilation time for Kotlin code in IntelliJ", "body": "<p>This seems similar to the problem <a href=\"https://youtrack.jetbrains.com/issue/KT-15491\" rel=\"nofollow noreferrer\">KT-15491</a>.</p>\n\n<p>To ensure that it's your case too, try to execute the following simple Kotlin program:</p>\n\n<pre><code>import java.io.File\nimport kotlin.system.measureNanoTime\n\nfun main(args: Array&lt;String&gt;) {\n    val elapsedNs = measureNanoTime { File.createTempFile(\"tmp\", \"\", null).deleteOnExit() }\n    println(elapsedNs.toDouble() / 1000000000)\n}\n</code></pre>\n\n<p>If the printed elapsed time is significantly greater than a fraction of a second, than that is the reason.</p>\n\n<p>This issue affects not only Kotlin compiler but every JVM program that tries to create a temporary file, or to do any other action involving <code>SecureRandom</code> class.</p>\n\n<p>I've experienced the same slowdown on each JPS build on my Windows 7 notebook. I've tried the workaround with security providers order described in this <a href=\"https://stackoverflow.com/questions/38942514/simple-java-program-100-times-slower-after-plugging-in-usb-hotspot\">question</a> and it helped.</p>\n"}], "owner": {"reputation": 220, "user_id": 7430144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62af92cb2b415451da474aa20cf11de?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien7", "link": "https://stackoverflow.com/users/7430144/bastien7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3404, "favorite_count": 3, "answer_count": 2, "score": 11, "last_activity_date": 1484673670, "creation_date": 1484654963, "question_id": 41696760, "link": "https://stackoverflow.com/questions/41696760/big-compilation-time-for-kotlin-code-in-intellij", "title": "Big compilation time for Kotlin code in IntelliJ", "body": "<p>I have used Kotlin with latest version of <strong>Eclipse</strong> for 2 months without any performance problem on my <strong>Windows 10</strong> computer.\nNow I would like to do a live coding session about Kotlin with <strong>intelliJ</strong> (since it's the JetBrains language...) ultimate edition that I just installed and never used before, on a recent <strong>OSX</strong> computer. The two computers have good hardware and are no limiting my tests.</p>\n\n<p>My problem is that each time there is a modification in my Kotlin code, the compilation time is between <strong>8 seconds</strong> and <strong>35 seconds</strong>. I did my tests on minimalist code:</p>\n\n<pre><code>class TestKotlin {\n    var a = 1\n}\n</code></pre>\n\n<p>If I change the variable \"a\" and so need to build again, it always need 8 seconds in the best cases to complete the compilation.</p>\n\n<p>Since I want to do a live coding session with a lot of small functions and compilations, this kind of delay is way too much significative.\nThe viewers will need to wait a lot before to see the results at each compilation, they are logically expecting good performance from IntelliJ tool.</p>\n\n<p>In the same project, I tried to do the same kind of <strong>Java class</strong> (with a single attribute) and modify its attribute in order to trigger the compilation, and it takes less than <strong>1 second</strong> to compile.</p>\n\n<p>I tried to <strong>manually compile the code in command line</strong> with that:</p>\n\n<pre><code>kotlinc hello.kt -include-runtime -d hello.jar\njava -jar hello.jar\n</code></pre>\n\n<p>I had some decent compilation times, even if it was near to <strong>3 seconds</strong>.</p>\n\n<p>When I look at the \"Messages\" screen in IntelliJ while it is compiling Kotlin code, I can see this:</p>\n\n<pre><code>Information:Kotlin: Kotlin JPS plugin version 1.0.6-release-127\nInformation:Kotlin: Using kotlin-home = /Users/myUsername/Library/Application Support/IntelliJIdea2016.3/Kotlin/kotlinc\n</code></pre>\n\n<p>It stops here for all the compilation time, and then do almost instantaneously the next steps:</p>\n\n<pre><code>Information:Kotlin: Kotlin Compiler version 1.0.6-release-127\nInformation:17/01/17 11:38 - Compilation completed successfully in 11s 639ms\n</code></pre>\n\n<p>Maybe there is a problem in the configuration of IntelliJ or something like this. I had a hard time at searching for something that could improve the performances but nothing helped me...</p>\n\n<p>I would be very grateful if someone can help me to have some realistic compilation time with Kotlin in Intellij like in Eclipse!</p>\n"}, {"tags": ["java", "kotlin", "jna", "openvr"], "comments": [{"owner": {"reputation": 1836, "user_id": 351861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540239cb3a1089fcb53aae8abea1cfdd?s=128&d=identicon&r=PG&f=1", "display_name": "specializt", "link": "https://stackoverflow.com/users/351861/specializt"}, "edited": false, "score": 0, "creation_date": 1484647424, "post_id": 41693912, "comment_id": 70584210, "body": "your words are extremely confusing ... whats that about <code>sizeof</code>- do you actually think that this keyword is some sort of data type?? Well, it isnt. Its a C/C++ <b>operator</b> and it will yield a result of type <code>size_t</code> - no pointers involved unless you want to retrieve the size of a specific pointer ... which is actually a good idea since even pointers can be of different sizes, depending on your architecture"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "reply_to_user": {"reputation": 1836, "user_id": 351861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540239cb3a1089fcb53aae8abea1cfdd?s=128&d=identicon&r=PG&f=1", "display_name": "specializt", "link": "https://stackoverflow.com/users/351861/specializt"}, "edited": false, "score": 0, "creation_date": 1484648917, "post_id": 41693912, "comment_id": 70585269, "body": "Sorry, my mistake, I modified, I hope is clear now"}], "answers": [{"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1485976032, "post_id": 41765522, "comment_id": 71152929, "body": "How can I check/query which struct of the union is? Is there a way from jna?"}, {"owner": {"reputation": 9289, "user_id": 17175, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9a89d4cf026c5eb3af2b3fdea1925723?s=128&d=identicon&r=PG", "display_name": "technomage", "link": "https://stackoverflow.com/users/17175/technomage"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1486152857, "post_id": 41765522, "comment_id": 71239060, "body": "That&#39;s implementation-specific.  Usually the union has a common &quot;type&quot; field in each member, or you can tell from the context in which it is used."}], "tags": [], "owner": {"reputation": 9289, "user_id": 17175, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9a89d4cf026c5eb3af2b3fdea1925723?s=128&d=identicon&r=PG", "display_name": "technomage", "link": "https://stackoverflow.com/users/17175/technomage"}, "is_accepted": true, "score": 3, "last_activity_date": 1484921125, "creation_date": 1484921125, "answer_id": 41765522, "question_id": 41693912, "link": "https://stackoverflow.com/questions/41693912/how-to-implement-in-jna-a-structure-sizeof-with-an-union-type/41765522#41765522", "title": "How to implement in jna a structure sizeof() with an union type", "body": "<p>You obtain the size of a <code>Structure</code> (including <code>Union</code>) with the <code>size()</code> method.  In the case of unions, you'll get the size of the largest member.</p>\n\n<p>You set the desired type of the union with <code>Union.setType()</code>.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "accepted_answer_id": 41765522, "answer_count": 1, "score": 1, "last_activity_date": 1484921125, "creation_date": 1484646800, "last_edit_date": 1484648873, "question_id": 41693912, "link": "https://stackoverflow.com/questions/41693912/how-to-implement-in-jna-a-structure-sizeof-with-an-union-type", "title": "How to implement in jna a structure sizeof() with an union type", "body": "<p>I updated the <a href=\"https://github.com/elect86/openvr\" rel=\"nofollow noreferrer\">jvm openvr binding</a> to the last <a href=\"https://github.com/ValveSoftware/openvr\" rel=\"nofollow noreferrer\">openvr</a> version, 1.0.5, but I am unsure about one thing.</p>\n\n<p>In cpp, there is the <code>IVROverlay</code> class with this virtual <a href=\"https://github.com/ValveSoftware/openvr/blob/master/headers/openvr.h#L2830\" rel=\"nofollow noreferrer\"><code>SetOverlayIntersectionMask</code></a> function:</p>\n\n<pre><code>virtual EVROverlayError SetOverlayIntersectionMask(\n             VROverlayHandle_t ulOverlayHandle, \n             VROverlayIntersectionMaskPrimitive_t *pMaskPrimitives, \n             uint32_t unNumMaskPrimitives, \n             uint32_t unPrimitiveSize = sizeof( VROverlayIntersectionMaskPrimitive_t ) ) = 0;\n</code></pre>\n\n<p>My doubts regards the last argument.</p>\n\n<p><a href=\"https://github.com/ValveSoftware/openvr/blob/master/headers/openvr.h#L2522-L2526\" rel=\"nofollow noreferrer\"><code>VROverlayIntersectionMaskPrimitive_t</code></a>:</p>\n\n<pre><code>struct VROverlayIntersectionMaskPrimitive_t\n{\n    EVROverlayIntersectionMaskPrimitiveType m_nPrimitiveType;\n    VROverlayIntersectionMaskPrimitive_Data_t m_Primitive;\n};\n</code></pre>\n\n<p>is a struct with a enum type and an union type variable, called <a href=\"https://github.com/ValveSoftware/openvr/blob/master/headers/openvr.h#L2516-L2520\" rel=\"nofollow noreferrer\"><code>VROverlayIntersectionMaskPrimitive_Data_t</code></a>:</p>\n\n<pre><code>typedef union\n{\n    IntersectionMaskRectangle_t m_Rectangle;\n    IntersectionMaskCircle_t m_Circle;\n} VROverlayIntersectionMaskPrimitive_Data_t;\n</code></pre>\n\n<p>Which is being implemented by the two classes right above, <a href=\"https://github.com/ValveSoftware/openvr/blob/master/headers/openvr.h#L2500-L2506\" rel=\"nofollow noreferrer\"><code>IntersectionMaskRectangle_t</code></a> and <a href=\"https://github.com/ValveSoftware/openvr/blob/master/headers/openvr.h#L2508-L2513\" rel=\"nofollow noreferrer\"><code>IntersectionMaskCircle_t</code></a></p>\n\n<p>Now, the enum translates to an <code>Int</code> but the latter? Since it should be a pointer, I guess it shall be <code>Pointer.SIZE</code>?</p>\n\n<p>However this is my implementation, where <a href=\"https://github.com/elect86/openvr/blob/master/src/main/kotlin/openvr.kt#L4600-L4604\" rel=\"nofollow noreferrer\"><code>VROverlayIntersectionMaskPrimitive_Data_t</code></a> is an abstract class:</p>\n\n<pre><code>abstract class VROverlayIntersectionMaskPrimitive_Data_t : Structure {\n\n    constructor() : super()\n    constructor(peer: Pointer) : super(peer)\n}\n</code></pre>\n\n<p>Implemented in turn by the <a href=\"https://github.com/elect86/openvr/blob/master/src/main/kotlin/openvr.kt#L4549-L4597\" rel=\"nofollow noreferrer\">two other classes</a>.</p>\n\n<p>My <a href=\"https://github.com/elect86/openvr/blob/master/src/main/kotlin/openvr.kt#L5433-L5435\" rel=\"nofollow noreferrer\">first guess</a> is that <code>sizeof(VROverlayIntersectionMaskPrimitive_Data_t)</code> translates to <code>Int + Pointer.SIZE</code></p>\n\n<pre><code>@JvmOverloads fun setOverlayIntersectionMask(\n                ulOverlayHandle: VROverlayHandle_t,\n                pMaskPrimitives: VROverlayIntersectionMaskPrimitive_t.ByReference, \n                unNumMaskPrimitives: Int, \n                unPrimitiveSize: Int = Int.BYTES + Pointer.SIZE)\n</code></pre>\n\n<p>Does my reasoning appear correct?</p>\n"}, {"tags": ["android", "kotlin", "dsl", "anko"], "answers": [{"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 3, "last_activity_date": 1493033124, "creation_date": 1493033124, "answer_id": 43586818, "question_id": 41687871, "link": "https://stackoverflow.com/questions/41687871/how-to-set-navigationviews-headerview-with-anko-dsl/43586818#43586818", "title": "How to set NavigationView&#39;s headerView with Anko DSL?", "body": "<p>First, DrawerLayout in its constructor checks <code>fistSystemWindows</code> and sets status bar background, so, unfortunately, the easiest way to use DrawerLayout with <code>fitsSystemWindows</code> is inflating it from XML.</p>\n\n<p>Second, Anko DSL methods not just create new views, but attach them to parent as well. You must create a detached view:</p>\n\n<pre><code>addHeaderView(UI {\n    navHeaderView()\n}.view)\n</code></pre>\n\n<p>This code is intended to use with Anko <code>0.10.0-beta-2</code>, behavior and even syntax may vary from version to version.</p>\n\n<p>Third, I've caught a bug: when I open drawer while keyboard is shown, header view gets large bottom padding (inset). My sad workaround looks like this:</p>\n\n<pre><code>addHeaderView(\n  object : _RelativeLayout(context) { // fixes bottomPadding with open keyboard :'(\n    @TargetApi(20) override fun onApplyWindowInsets(insets: WindowInsets) =\n        insets.consumeSystemWindowInsets()\n  }.apply {\n    /* DSL code here */\n  })\n</code></pre>\n"}], "owner": {"reputation": 3643, "user_id": 4206925, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PhlNi.png?s=128&g=1", "display_name": "MewX", "link": "https://stackoverflow.com/users/4206925/mewx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1072, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1493033124, "creation_date": 1484617898, "question_id": 41687871, "link": "https://stackoverflow.com/questions/41687871/how-to-set-navigationviews-headerview-with-anko-dsl", "title": "How to set NavigationView&#39;s headerView with Anko DSL?", "body": "<p>In general XML layout, the default main layout is like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;include\n        layout=\"@layout/app_bar_main\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"\n        app:headerLayout=\"@layout/nav_header_main\"\n        app:menu=\"@menu/activity_main_drawer\" /&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>I tried to code this with Anko DSL:</p>\n\n<pre><code>...\n\noverride fun createView(ui: AnkoContext&lt;MainActivity&gt;) = with(ui) {\n    drawerLayout {\n        lparams(width = matchParent, height = matchParent)\n        id = ID_DRAWER_LAYOUT\n        fitsSystemWindows = true\n\n        navigationView {\n            lparams(width = wrapContent, height = matchParent)\n            id = ID_NAVIGATION_VIEW\n            foregroundGravity = Gravity.START\n            fitsSystemWindows = true\n\n            addHeaderView(navHeaderView()) //// PROBLEM HERE ////\n            inflateMenu(R.menu.activity_main_drawer)\n        }\n    }\n}\n\nprivate fun ViewGroup.navHeaderView() {\n    linearLayout {\n        lparams(width = matchParent, height = dip(160))\n        backgroundResource = R.drawable.side_nav_bar\n        gravity = Gravity.BOTTOM\n        orientation = LinearLayout.VERTICAL\n        setPadding(dip(64), dip(16), dip(64), dip(16))\n\n        imageView {\n            id = ID_IMAGE_VIEW\n            topPadding = dip(16)\n            imageResource = android.R.drawable.sym_def_app_icon\n        }\n\n        textView {\n            lparams(width = matchParent, height = wrapContent)\n            id = ID_TEXT_NAME\n            topPadding = dip(16)\n            text = \"test1\"\n            if (Build.VERSION.SDK_INT &gt;= 23) {\n                setTextAppearance(R.style.TextAppearance_AppCompat_Body1)\n            } else {\n                setTextAppearance(context, android.R.style.TextAppearance_Medium)\n            }\n        }\n\n        textView {\n            id = ID_TEXT_DESCRIPTION\n            text = \"test2\"\n        }\n    }\n}\n\n...\n</code></pre>\n\n<p>The marked line throws an exception saying that the view has already had a parent.</p>\n\n<hr>\n\n<p>Then I tried to use the Anko DSL Preview plugin to convert the xml automatically, it just did it like this, not completely changed it into Anko DSL:</p>\n\n<pre><code>android.support.v4.widget.DrawerLayout {\n    id = Ids.drawer_layout\n\n    include&lt;View&gt;(R.layout.app_bar_main).lparams(width = matchParent, height = matchParent)\n    org.mewx.projectprpr.template.NavigationFitSystemView {\n        id = Ids.nav_view\n        app:headerLayout = @layout/nav_header_main //// HERE ////\n        app:menu = @menu/activity_main_drawer\n    }.lparams(width = wrapContent, height = matchParent)\n}\n</code></pre>\n\n<p>How can I add the header view with Anko DSL?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 6819868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cOHGU.jpg?s=128&g=1", "display_name": "\u042d\u043b\u044c\u043d\u0430\u0440 \u0411\u0435\u0440\u0445\u0435\u0435\u0432", "link": "https://stackoverflow.com/users/6819868/%d0%ad%d0%bb%d1%8c%d0%bd%d0%b0%d1%80-%d0%91%d0%b5%d1%80%d1%85%d0%b5%d0%b5%d0%b2"}, "is_accepted": false, "score": 1, "last_activity_date": 1484633210, "creation_date": 1484633210, "answer_id": 41690068, "question_id": 41687311, "link": "https://stackoverflow.com/questions/41687311/how-can-i-do-a-for-with-many-variables/41690068#41690068", "title": "How Can I do a for with many variables", "body": "<p>As far as i know u can't have multiple indexes in for loop</p>\n\n<p>As a solution u can use Array.reverse() function or just calculate the second index:</p>\n\n<pre><code>    val array = arrayOf(1, 2, 3)\n\n    val lastIndex = array.size - 1\n    for (i in 0..lastIndex)\n        array[lastIndex - i] = array[i]\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/grammar.html#for\" rel=\"nofollow noreferrer\"><strong>for</strong> syntaxis</a></p>\n"}, {"comments": [{"owner": {"reputation": 591, "user_id": 6819868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cOHGU.jpg?s=128&g=1", "display_name": "\u042d\u043b\u044c\u043d\u0430\u0440 \u0411\u0435\u0440\u0445\u0435\u0435\u0432", "link": "https://stackoverflow.com/users/6819868/%d0%ad%d0%bb%d1%8c%d0%bd%d0%b0%d1%80-%d0%91%d0%b5%d1%80%d1%85%d0%b5%d0%b5%d0%b2"}, "edited": false, "score": 3, "creation_date": 1484646733, "post_id": 41692792, "comment_id": 70583714, "body": "<b>reversedArray</b> returns new Array. <b>reverse</b> shuffles the same array"}], "tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": 3, "last_activity_date": 1484643461, "creation_date": 1484643461, "answer_id": 41692792, "question_id": 41687311, "link": "https://stackoverflow.com/questions/41687311/how-can-i-do-a-for-with-many-variables/41692792#41692792", "title": "How Can I do a for with many variables", "body": "<p>If you are Using IntelliJ Idea, you can use <a href=\"https://www.jetbrains.com/help/idea/2016.3/converting-a-java-file-to-kotlin-file.html\" rel=\"nofollow noreferrer\">Java to Kotlin code conversion</a>. Result for your code is:</p>\n\n<pre><code>var i = arr.length - 1\nvar j = 0\nwhile (i &gt;= 0 &amp;&amp; j &lt; reverse.length) {\n    reverse[j] = arr[i]\n    i--\n    j++\n}\n</code></pre>\n\n<p>But if all you need is reverse of your array, then you can just call Array's method <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reversed-array.html\" rel=\"nofollow noreferrer\">reversedArray</a>.</p>\n\n<pre><code>val arr = arrayOf(\"a\", \"b\", \"c\")\nval reversed = arr.reversedArray()\n</code></pre>\n"}], "owner": {"reputation": 1245, "user_id": 4048543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUTuu.png?s=128&g=1", "display_name": "jmarkstar", "link": "https://stackoverflow.com/users/4048543/jmarkstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 41692792, "answer_count": 2, "score": 2, "last_activity_date": 1484644339, "creation_date": 1484613502, "last_edit_date": 1484644339, "question_id": 41687311, "link": "https://stackoverflow.com/questions/41687311/how-can-i-do-a-for-with-many-variables", "title": "How Can I do a for with many variables", "body": "<p>I'd like to know how I can do this for in Kotlin:</p>\n\n<pre><code>for(int i=arr.length-1, j=0; i&gt;=0 &amp;&amp; j&lt;reverse.length; i--, j++){\n    reverse[j] = arr[i];\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "intellij-idea", "path", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1484607145, "post_id": 41686295, "comment_id": 70569778, "body": "<i>as it is different depending on which file it is called from</i>: no, it&#39;s not. A relative path is relative to the <b>current</b> directory, i.e. the directory from which <code>java</code> is executed. If you run from your IDE, this is usually the project root directory, unless you explicitly specify something else in the run configuration."}, {"owner": {"reputation": 3008, "user_id": 265954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb86bc783e1c8cbf3544083563987cef?s=128&d=identicon&r=PG", "display_name": "t0r0X", "link": "https://stackoverflow.com/users/265954/t0r0x"}, "edited": false, "score": 0, "creation_date": 1484661129, "post_id": 41686295, "comment_id": 70593545, "body": "<code>I have made a directory called files</code>: where exactly did you create that directory? How do you start your project?"}], "answers": [{"tags": [], "owner": {"reputation": 453, "user_id": 276183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70da92ce287d0c995bae15280570155d?s=128&d=identicon&r=PG", "display_name": "Barry O&#39;Neill", "link": "https://stackoverflow.com/users/276183/barry-oneill"}, "is_accepted": false, "score": 1, "last_activity_date": 1484656702, "creation_date": 1484656702, "answer_id": 41697419, "question_id": 41686295, "link": "https://stackoverflow.com/questions/41686295/reference-project-directory-from-anywhere/41697419#41697419", "title": "Reference project directory from anywhere", "body": "<p>If your files are bundled with your application, use resources and load them from the classpath. Otherwise, I recommend adding configuration support or command line parameters to your app to let the caller specify the location of these files. Relying on figuring out the 'current directory' is error prone and subject to the environment (in your case, whichever directory the 'Run Configuration' in Intellij specifies, usually $MODULE_DIR$ in a maven project).</p>\n"}], "owner": {"reputation": 345, "user_id": 5900360, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/119ff10a995406c96dabfcc058c4894e?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/5900360/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 793, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1484656702, "creation_date": 1484606970, "last_edit_date": 1484607821, "question_id": 41686295, "link": "https://stackoverflow.com/questions/41686295/reference-project-directory-from-anywhere", "title": "Reference project directory from anywhere", "body": "<p>I am currently coding a Java/kotlin project in intellij and have to use file readers to get XML and other text based files.</p>\n\n<p>I have made a directory called files for which I store all the files necessary. </p>\n\n<p>The problem I have is that I need to make a new path for each method call to reference the files directory as it is different depending on which directory the method is called from. </p>\n\n<p>Is there a way to reference the project root directory or files directory and have it work everywhere, something like System.getDirectory(\"files\" OR \"root\") etc.</p>\n\n<p>I am currently using System.getProperty(\"user.dir\") but this path is subjective to where it is being called and is thus not what I am looking for.</p>\n"}, {"tags": ["jackson", "kotlin", "jackson-modules"], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 706, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1484811414, "creation_date": 1484605186, "last_edit_date": 1484605879, "question_id": 41685930, "link": "https://stackoverflow.com/questions/41685930/register-deserializer-for-a-wrapped-list-of-type", "title": "Register deserializer for a wrapped List of type", "body": "<p>I have JSON that is like this:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n  \"apps\": [\n    {\n      \"id\": \"1\",\n      ...\n    },\n    {\n      \"id\": \"2\",\n      ...\n    }\n  ]\n}\n</code></pre>\n\n<p>And for example say the <code>Application</code> class looks like this</p>\n\n<pre><code>data class Application(\n    val id: String\n)\n</code></pre>\n\n<p>I want to deserialize the JSON into a <code>List&lt;Application&gt;</code>, where each <code>{...}</code> is an <code>Application</code>. I was hoping to do this without having to create a wrapper class like <code>Applications</code>, annotating it with <code>@JsonRootName</code>, and then enabling <code>DeserializationFeature.UNWRAP_ROOT_VALUE</code>. The end goal is to have a <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a> interface that has something like:</p>\n\n<pre><code>@GET(\"api/apps\")\nfun listApplications(): Call&lt;List&lt;Application&gt;&gt;\n</code></pre>\n\n<p>I tried to implement a simple <code>JsonDeserializer</code> (could probably be optimized):</p>\n\n<pre><code>class ApplicationListDeserializer\n  : JsonDeserializer&lt;List&lt;Application&gt;&gt;() {\n\n  companion object {\n    private val COLLECTION_TYPE: CollectionType = TypeFactory.defaultInstance()\n        .constructCollectionType(List::class.java, Application::class.java)\n  }\n  override fun deserialize(parser: JsonParser, context: DeserializationContext): List&lt;Application&gt; {\n    val mapper = ObjectMapper()\n    val node: JsonNode = parser.codec.readTree(parser)\n    val collectionReader = mapper.readerFor(COLLECTION_TYPE)\n    return collectionReader.readValue(node.get(\"apps\"))\n  }\n}\n</code></pre>\n\n<p>I don't see any way to register this deserializer for this specific type. I tried this:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.databind.module.SimpleModule\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\nimport com.fasterxml.jackson.module.kotlin.readValue\n\nval objectMapper = ObjectMapper().registerModule(KotlinModule())\nval module = SimpleModule()\nmodule.addDeserializer(List::class.java, ApplicationListDeserializer())\nobjectMapper.registerModule(module)\nval applications: List&lt;Application&gt; = objectMapper.readValue(\"\"\"{\n  \"apps\": [\n    {\n      \"id\": \"/api-catalog-backend\"\n    }\n  ]\n}\"\"\")\n</code></pre>\n\n<p>But that fails with:</p>\n\n<pre><code>Can not construct instance of Application: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)&amp;#xa; at [Source: N/A; line: -1, column: -1] (through reference chain: java.util.ArrayList[0])\" type=\"com.fasterxml.jackson.databind.JsonMappingException\"&gt;&lt;![CDATA[com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of Application: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\n at [Source: N/A; line: -1, column: -1] (through reference chain: java.util.ArrayList[0])\n  at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:270)\n  at com.fasterxml.jackson.databind.DeserializationContext.instantiationException(DeserializationContext.java:1456)\n  at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1012)\n</code></pre>\n\n<p>I am using the following dependency versions:</p>\n\n<pre><code>compile(\"com.fasterxml.jackson.core\", \"jackson-core\", \"2.8.6\")\ncompile(\"com.fasterxml.jackson.module\", \"jackson-module-kotlin\", \"2.8.4\")\ncompile(kotlinModule(\"stdlib\", \"1.1-M03\"))\ncompile(kotlinModule(\"reflect\", \"1.1-M03\"))\n</code></pre>\n\n<p>How do I configure the deserialization to work correctly with a <code>List&lt;Application&gt;</code>?</p>\n"}, {"tags": ["android", "android-fragments", "android-support-library", "kotlin"], "comments": [{"owner": {"reputation": 1213, "user_id": 921834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygjaF.png?s=128&g=1", "display_name": "andrei_zaitcev", "link": "https://stackoverflow.com/users/921834/andrei-zaitcev"}, "edited": false, "score": 0, "creation_date": 1484584765, "post_id": 41677693, "comment_id": 70559222, "body": "I guess there&#39;s nothing wrong with your code. It seems like a bug in support library itself. If you take a look on the source code, you can see that NPE happens on this line <code>inName.equals(inNames.get(j))</code>. Basically what can be the reason of this NPE is that a shared view in a fragment you try to add has a null as transition name."}], "answers": [{"tags": [], "owner": {"reputation": 231, "user_id": 9193052, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hCV2A.png?s=128&g=1", "display_name": "Constantin Chernishov", "link": "https://stackoverflow.com/users/9193052/constantin-chernishov"}, "is_accepted": true, "score": 0, "last_activity_date": 1522847159, "creation_date": 1522847159, "answer_id": 49651851, "question_id": 41677693, "link": "https://stackoverflow.com/questions/41677693/fragment-transition-support-25-1-0-with-recyclerview/49651851#49651851", "title": "Fragment transition support 25.1.0 with Recyclerview", "body": "<p>It works fine for me since 25.0.1 version. Show your full code or at least commonViews. I think, the problem is in your commonViews.</p>\n"}], "owner": {"reputation": 145, "user_id": 2655829, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000209168441/picture?type=large", "display_name": "Bruno Oliveira", "link": "https://stackoverflow.com/users/2655829/bruno-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 2, "accepted_answer_id": 49651851, "answer_count": 1, "score": 9, "last_activity_date": 1522847159, "creation_date": 1484573917, "last_edit_date": 1484575199, "question_id": 41677693, "link": "https://stackoverflow.com/questions/41677693/fragment-transition-support-25-1-0-with-recyclerview", "title": "Fragment transition support 25.1.0 with Recyclerview", "body": "<p>I was using fragment transitions to animate a view from a recycler view, with the 25.0.1 support lib and the transition was working fine for push and pop the target fragment.</p>\n\n<p>The code I'm using to generate the transaction is:</p>\n\n<pre><code>supportFragmentManager.beginTransaction()\n    .replaceAddToBackStack(R.id.content, fragment)\n    .addSharedElement(fragment, commonViews)\n    .commit()\n</code></pre>\n\n<p>Now I'm trying to update to the 25.1.0 version of the support libraries and the pop animation is crashing because the transition is not finding the original views, and is crashing with:</p>\n\n<pre><code>E/MessageQueue-JNI: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference\nat android.support.v4.app.FragmentTransitionCompat21.setNameOverridesOptimized(FragmentTransitionCompat21.java:339)\nat android.support.v4.app.FragmentTransition.configureTransitionsOptimized(FragmentTransition.java:232)\nat android.support.v4.app.FragmentTransition.startTransitions(FragmentTransition.java:111)\nat android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2143)\nat android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(FragmentManager.java:2092)\nat android.support.v4.app.FragmentManagerImpl.popBackStackImmediate(FragmentManager.java:822)\nat android.support.v4.app.FragmentManagerImpl.popBackStackImmediate(FragmentManager.java:775)\nat android.support.v4.app.FragmentActivity.onBackPressed(FragmentActivity.java:178)\nat App.ui.base.BaseActivity.onBackPressed(BaseActivity.kt:23)\n...\n</code></pre>\n\n<p>But if I disable the \"optimizations\" it works fine. </p>\n\n<pre><code>supportFragmentManager.beginTransaction()\n    .replaceAddToBackStack(R.id.content, fragment)\n    .addSharedElement(fragment, commonViews)\n    .setAllowOptimization(false)\n    .commit()\n</code></pre>\n\n<p>What I'm doing wrong?</p>\n\n<p>Edit:\nThe extensions I'm using to wrap the shared elements:</p>\n\n<p>.replaceAddToBackStack</p>\n\n<pre><code>fun&lt;T : Fragment&gt; FragmentTransaction.replaceAddToBackStack(containerView: Int, fragment: T, tag: String? = null) : FragmentTransaction {\n  return replace(containerView, fragment, tag).addToBackStack(fragment.toString())\n}\n</code></pre>\n\n<p>.addSharedElement</p>\n\n<pre><code>fun&lt;T: Fragment, V: View&gt; FragmentTransaction\n    .addSharedElement(destination: T?, sharedViews: List&lt;V&gt;?,\n                      sharedTransform: TransitionSet? = null,\n                      enterTransition: Transition? = null,\n                      exitTransition: Transition? = null\n                      ) : FragmentTransaction {\n  if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\n    return this\n  }\n  if (destination == null || sharedViews == null) {\n    return this\n  }\n\n  val fade = Fade()\n  fade.duration = 150\n  destination.enterTransition = enterTransition ?: fade\n  destination.allowEnterTransitionOverlap = false\n  destination.allowReturnTransitionOverlap = false\n  destination.exitTransition = exitTransition ?: fade\n  destination.sharedElementEnterTransition = sharedTransform ?: DetailsTransition()\n  destination.sharedElementReturnTransition = sharedTransform ?: DetailsTransition()\n\n  sharedViews.forEach {\n    this.addSharedElement(it, it.transitionName)\n  }\n  return this\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": false, "score": 1, "last_activity_date": 1484565244, "last_edit_date": 1484565244, "creation_date": 1484564902, "answer_id": 41675005, "question_id": 41671540, "link": "https://stackoverflow.com/questions/41671540/read-line-and-append-something-at-the-end/41675005#41675005", "title": "Read line and append something at the end", "body": "<p>You can't read and write to the same file unless you are using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\">RandomAccessFile</a>. Instead you should do the following:</p>\n\n<ul>\n<li>Read line from your input file.</li>\n<li>Do the modification you want (append to the end of the line, print line).</li>\n<li>Write modified line to the output file.</li>\n<li>After reading/writing all the data close both files.</li>\n<li>Delete input file. Rename output file to the input file name.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 5, "last_activity_date": 1484654370, "last_edit_date": 1495541788, "creation_date": 1484581679, "answer_id": 41680092, "question_id": 41671540, "link": "https://stackoverflow.com/questions/41671540/read-line-and-append-something-at-the-end/41680092#41680092", "title": "Read line and append something at the end", "body": "<p><a href=\"https://stackoverflow.com/users/2392960/januson\">Januson</a> has the right <a href=\"https://stackoverflow.com/a/41675005/3255152\">idea</a>. Here is some Kotlin code to do the job:</p>\n\n<pre><code>inline fun File.mapLines(crossinline transform: (line: String) -&gt; String) {\n    val tempFile = createTempFile(prefix = \"transform\", suffix = \".txt\")\n    tempFile.printWriter().use { writer -&gt;\n        this.forEachLine { line -&gt; writer.println(transform(line)) }\n    }\n    check(this.delete() &amp;&amp; tempFile.renameTo(this)) { \"failed to replace file\" }\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>val pathToFile = \"abc.txt\"\nvar index = 0\nFile(pathToFile).mapLines { line -&gt; \"${line}smth${++index}\" }\n</code></pre>\n\n<p>If you are using Java 1.7+ then you can use <code>Files.move</code> instead of <code>delete</code>/<code>renameTo</code>:</p>\n\n<pre><code>Files.move(tempFile.toPath(), this.toPath(), StandardCopyOption.REPLACE_EXISTING)\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/q/41278921/3255152\">Write to file after match in Kotlin</a>.</p>\n"}], "owner": {"reputation": 125, "user_id": 6803990, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/8c5bb2c39c79157e9d484dc99930662c?s=128&d=identicon&r=PG&f=1", "display_name": "J. Carrer", "link": "https://stackoverflow.com/users/6803990/j-carrer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 760, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1557458761, "creation_date": 1484552375, "question_id": 41671540, "link": "https://stackoverflow.com/questions/41671540/read-line-and-append-something-at-the-end", "title": "Read line and append something at the end", "body": "<p>I'm new in kotlin. I'm trying to read file line by line and add something at the end to each of them.</p>\n\n<p>My file before reading:</p>\n\n<pre><code>abcd;abcd;abcd;\nbcda;bcda;bcda;\ndacb;dacb;dacb;\n</code></pre>\n\n<p>My file after reading and appending:</p>\n\n<pre><code>abcd;abcd;abcd;smth1\nbcda;bcda;bcda;smth2\ndacb;dacb;dacb;smth3\n</code></pre>\n\n<p>I have code for reading file line by line but could you tell me how to add string to each of them?</p>\n\n<pre><code>val pathToFile = \"abc.txt\"\nval scan = Scanner(File(pathToFile))\nwhile (scan.hasNextLine()) {\n    val line = scan.nextLine()\n    var lista = ArrayList&lt;String&gt;()\n    lista = line.split(\";\") as ArrayList&lt;String&gt;\n    println(lista.get(0) + \" and \" + lista.get(1) + \" and \" + lista.get(2))\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1484552309, "post_id": 41667594, "comment_id": 70540531, "body": "These are not sequences, but mere collections. Please fix the title not to confuse anyone."}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 1, "creation_date": 1484563866, "post_id": 41667594, "comment_id": 70546608, "body": "You need to distinguish between a collection and a sequence. A sequence calculates the list lazily, so there is no [100, 64, 36, 16, 4] at any time during execution"}], "answers": [{"comments": [{"owner": {"reputation": 6798, "user_id": 4174897, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gS0gI.jpg?s=128&g=1", "display_name": "Kyll", "link": "https://stackoverflow.com/users/4174897/kyll"}, "edited": false, "score": 0, "creation_date": 1508784680, "post_id": 41670669, "comment_id": 80740053, "body": "How does this help to see intermediate collections though?"}], "tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": false, "score": 7, "last_activity_date": 1484549278, "last_edit_date": 1484549278, "creation_date": 1484548484, "answer_id": 41670669, "question_id": 41667594, "link": "https://stackoverflow.com/questions/41667594/how-to-debug-kotlin-sequences-collections/41670669#41670669", "title": "How to debug Kotlin sequences / collections", "body": "<p>In latest Intellij Idea when adding a breakpoint you have an option to set it to not inspect whole expression but only a Lambda body.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uQFlz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uQFlz.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then in the debug itself you can see what is happening inside of your Lambda.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4sUSQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4sUSQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>But this is not the only way. You can also use <a href=\"https://www.jetbrains.com/help/idea/2016.3/debugger-basics.html#d165252e188\" rel=\"noreferrer\">Run to cursor (Alt + F9)</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1752, "user_id": 1287550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7179c081476171e59a8fcdfed5dbb967?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1287550/will"}, "edited": false, "score": 0, "creation_date": 1484691297, "post_id": 41671588, "comment_id": 70611493, "body": "Thank you for the code snippet! It&#39;s unfortunate, though, that I need to be proactive to add logging (also it makes my code less readable). All the great code conciseness and bug-free-ness does seem to come at this cost."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 1752, "user_id": 1287550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7179c081476171e59a8fcdfed5dbb967?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1287550/will"}, "edited": false, "score": 0, "creation_date": 1484709930, "post_id": 41671588, "comment_id": 70617081, "body": "This is only a debugging technique. I would not recommend to use it for logging of any kind."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 9, "last_activity_date": 1484636369, "last_edit_date": 1484636369, "creation_date": 1484552607, "answer_id": 41671588, "question_id": 41667594, "link": "https://stackoverflow.com/questions/41667594/how-to-debug-kotlin-sequences-collections/41671588#41671588", "title": "How to debug Kotlin sequences / collections", "body": "<p>You can log the intermediate values (lists) with</p>\n\n<pre><code>fun &lt;T&gt; T.log(): T { println(this); this }\n\n//USAGE:\nval nums = (10 downTo 1)\n    .filter { it % 2 == 0 }.log()\n    .map { it * it }.log()\n    .sorted().log()\n</code></pre>\n\n<p>This will work as desired since in your example you work with collections, not sequences. For lazy <code>Sequence</code> you need:</p>\n\n<pre><code>// coming in 1.1\npublic fun &lt;T&gt; Sequence&lt;T&gt;.onEach(action: (T) -&gt; Unit): Sequence&lt;T&gt; {\n    return map {\n        action(it)\n        it\n    }\n}\n\nfun &lt;T&gt; Sequence&lt;T&gt;.log() = onEach {print(it)}\n\n//USAGE:\nval nums = (10 downTo 1).asSequance()\n    .filter { it % 2 == 0 }\n    .map { it * it }.log()\n    .sorted()\n    .toList()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1752, "user_id": 1287550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7179c081476171e59a8fcdfed5dbb967?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1287550/will"}, "edited": false, "score": 0, "creation_date": 1534431692, "post_id": 50147047, "comment_id": 90711656, "body": "This is definitely the answer. IDE tool to help with debugging without having to put in logging statements beforehand."}, {"owner": {"reputation": 403, "user_id": 2596742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHU6c.png?s=128&g=1", "display_name": "kit", "link": "https://stackoverflow.com/users/2596742/kit"}, "edited": false, "score": 1, "creation_date": 1596032910, "post_id": 50147047, "comment_id": 111680542, "body": "Since 2019.1 the plugin&#39;s features are included in the Kotlin plugin, no need for a separate install"}], "tags": [], "owner": {"reputation": 5612, "user_id": 9279, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d32ae698b36d5de067710811fec3094b?s=128&d=identicon&r=PG", "display_name": "Tim Keating", "link": "https://stackoverflow.com/users/9279/tim-keating"}, "is_accepted": true, "score": 3, "last_activity_date": 1525322193, "creation_date": 1525322193, "answer_id": 50147047, "question_id": 41667594, "link": "https://stackoverflow.com/questions/41667594/how-to-debug-kotlin-sequences-collections/50147047#50147047", "title": "How to debug Kotlin sequences / collections", "body": "<p>I think the current correct answer is that you want the <a href=\"https://plugins.jetbrains.com/plugin/10301-kotlin-sequence-debugger\" rel=\"nofollow noreferrer\">Kotlin Sequence Debugger</a> plugin, which lets you use IntelliJ's lovely Java stream debugger with Kotlin sequences. </p>\n\n<p>Note that (unless I'm doing something wrong) it doesn't appear to work with collections, so you will have to convert the collection to a sequence in order to debug it. Easy enough using Iterable.asSequence, and a small price to pay -- you can always revert that change once you are done debugging.</p>\n"}], "owner": {"reputation": 1752, "user_id": 1287550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7179c081476171e59a8fcdfed5dbb967?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1287550/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1864, "favorite_count": 1, "accepted_answer_id": 50147047, "answer_count": 3, "score": 6, "last_activity_date": 1525322193, "creation_date": 1484523659, "last_edit_date": 1484580748, "question_id": 41667594, "link": "https://stackoverflow.com/questions/41667594/how-to-debug-kotlin-sequences-collections", "title": "How to debug Kotlin sequences / collections", "body": "<p>Take the following one-liner, which can be expressed as a series of operations on a collection or a sequence:</p>\n\n<pre><code>val nums = (10 downTo 1)\n        // .asSequence() if we want this to be a sequence\n        .filter { it % 2 == 0 }\n        .map { it * it }\n        .sorted()\n        // .asList() if declaring it a sequence\n\nprintln(nums)   // [4, 16, 36, 64, 100]\n</code></pre>\n\n<p>Let's say I want to see the elements at each step, they would be (from deduction):</p>\n\n<pre><code>[10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\n[10, 8, 6, 4, 2]\n[100, 64, 36, 16, 4]\n[4, 16, 36, 64, 100]\n</code></pre>\n\n<p>Unfortunately, there's no good way to either debug this with a debugger or log these values for later inspection. With good functional programming constructs, entire methods can be rewritten as single statements like this but there seems to be no good way to inspect intermediate states, even counts (<code>10, 5, 5, 5</code> here).</p>\n\n<p>What's the best way to debug these?</p>\n"}, {"tags": ["java", "mockito", "logback", "kotlin", "logstash-logback-encoder"], "owner": {"reputation": 851, "user_id": 4837642, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/f0482c59ac9c42388232a8888be501c7?s=128&d=identicon&r=PG&f=1", "display_name": "dnltsk", "link": "https://stackoverflow.com/users/4837642/dnltsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1484519806, "creation_date": 1484514082, "last_edit_date": 1484519806, "question_id": 41666298, "link": "https://stackoverflow.com/questions/41666298/unit-test-logstashencoder-is-configured-correctly", "title": "unit test LogstashEncoder is configured correctly", "body": "<p>I want to have a unit test in place to verify that the LogstashEncoder is configured correctly and produces JSON formatted logs \n=> logstash-logback-encoder must be registered as a dependency and a logback.xml must be configured.</p>\n\n<p>Trying out the @Captor as described here <a href=\"http://bloodredsun.com/2014/06/03/checking-logback-based-logging-in-unit-tests/\" rel=\"nofollow noreferrer\">http://bloodredsun.com/2014/06/03/checking-logback-based-logging-in-unit-tests/</a> I can only test the content of the <em>message</em> but not its <em>format</em>.</p>\n\n<p>In my concrete case I'm logging the following info: <code>LOG.info(\"my demo log\")</code></p>\n\n<p>which generates the following log output:\n<code>{\"@timestamp\":\"2017-01-15T21:43:41.295+01:00\",\"@version\":1,\"message\":\"my demo log message\",\"logger_name\":\"org.sample.project.Application\",\"thread_name\":\"main\",\"level\":\"INFO\",\"level_value\":20000,\"HOSTNAME\":\"tee\"}\n</code></p>\n\n<p>But as written above <code>loggingEvent.getFormattedMessage()</code> returns just the message string <code>my demo log</code>.</p>\n\n<p>So what's the trick to get the json formatted message from the LoggingEvent?</p>\n\n<p>Thanks and best regards!</p>\n"}, {"tags": ["unit-testing", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484497174, "post_id": 41663170, "comment_id": 70524836, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/30000983/what-access-modifier-for-testable-helper-methods\">What access modifier for testable helper methods?</a>"}, {"owner": {"reputation": 1851, "user_id": 1598308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1368d51060d82d90724610c0976d8f86?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Seweryn", "link": "https://stackoverflow.com/users/1598308/kamil-seweryn"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484497711, "post_id": 41663170, "comment_id": 70525014, "body": "@JBNizet changing visibility on overridden method is with <code>internal</code> not possible and with <code>public</code> not really acceptable - especially since I can do it in Java"}], "answers": [{"comments": [{"owner": {"reputation": 1851, "user_id": 1598308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1368d51060d82d90724610c0976d8f86?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Seweryn", "link": "https://stackoverflow.com/users/1598308/kamil-seweryn"}, "edited": false, "score": 0, "creation_date": 1484508290, "post_id": 41664023, "comment_id": 70528900, "body": "Class A is actually part of library, so cannot be changed and when I tried to put <code>internal</code> on overridden method it&#39;s not allowed"}], "tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": false, "score": 8, "last_activity_date": 1508860705, "last_edit_date": 1508860705, "creation_date": 1484501003, "answer_id": 41664023, "question_id": 41663170, "link": "https://stackoverflow.com/questions/41663170/test-in-kotlin-cannot-access-protected-method/41664023#41664023", "title": "Test in Kotlin cannot access protected method", "body": "<p><code>protected</code> in Java is not the same as in Kotlin.</p>\n\n<p>In Java, everything in the same package can access a <code>protected</code> method.\nSee <a href=\"https://stackoverflow.com/a/215505/4706743\">In Java, difference between default, public, protected, and private</a></p>\n\n<p>In Kotlin, <code>protected</code> means that you can only access it in the same class or any subclass of it. See <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#classes-and-interfaces\" rel=\"noreferrer\">Visibility Modifiers - Kotlin</a></p>\n\n<p>The only possible way is to use the <code>internal</code> modifier and make the method visible to your tests in the same module.</p>\n"}, {"tags": [], "owner": {"reputation": 1851, "user_id": 1598308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1368d51060d82d90724610c0976d8f86?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Seweryn", "link": "https://stackoverflow.com/users/1598308/kamil-seweryn"}, "is_accepted": true, "score": 10, "last_activity_date": 1484650908, "creation_date": 1484650908, "answer_id": 41695398, "question_id": 41663170, "link": "https://stackoverflow.com/questions/41663170/test-in-kotlin-cannot-access-protected-method/41695398#41695398", "title": "Test in Kotlin cannot access protected method", "body": "<p>Since Kotlin reduce visibility on <code>protected</code> (in compare to Java) by not allowing package access, the best option I could find is to workaround with reflection (since this is for testing I see no reason why not)</p>\n\n<pre><code>private fun invokeHiddenMethod(name: String) {\n    val method = sut.javaClass.getDeclaredMethod(name)\n    method.isAccessible = true\n    method.invoke(testSubject)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 245, "user_id": 8578878, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iGDoWFg7HR8/AAAAAAAAAAI/AAAAAAAADI8/S5KvKt6zh7c/photo.jpg?sz=128", "display_name": "Leon Chang", "link": "https://stackoverflow.com/users/8578878/leon-chang"}, "is_accepted": false, "score": -3, "last_activity_date": 1551745813, "last_edit_date": 1551745813, "creation_date": 1551695064, "answer_id": 54981216, "question_id": 41663170, "link": "https://stackoverflow.com/questions/41663170/test-in-kotlin-cannot-access-protected-method/54981216#54981216", "title": "Test in Kotlin cannot access protected method", "body": "<pre><code>@Test\nfun getTotalTest() {\n//test private method: getTotal(int, int)\n\n//sample class\nval student = StudentKt(\"Leon\", 80, 60)\n\n//set your expected value\nval expected = 80 + 60\nvar actual = 0\n\n// bring the type of the parameters\n//getDeclaredMethod(\"method name\", parameter type, ...)\n//if there is no parameter = getDeclaredMethod(\"method name\")\nval  method = student.javaClass.getDeclaredMethod(\n     \"getTotalScore\", Int::class.java, Int::class.java\n)\n\n//set it could be Accessible\nmethod.isAccessible = true\n\n//set your parameters\nval parameters = arrayOfNulls&lt;Any&gt;(2)\nparameters[0] = 80\nparameters[1] = 60\n\n//force the result as Int(the output type of your method)\nactual = method.invoke(student, *parameters) as Int\n//or you could just put the parameters in the method\n//actual = method.invoke(student, 80, 60) as Int\n\n//check your result\nassertEquals(expected, actual)\n}\n</code></pre>\n\n<p><strong>-------------------------------------------------------------------------------</strong></p>\n\n<p>I write a sample that you could reference</p>\n\n<p>kotlin is developed from Java.</p>\n\n<h2>So maybe you should know how to write the test case in Java first</h2>\n\n<blockquote>\n  <p>Java Sample Class</p>\n</blockquote>\n\n<pre><code>public class Student {\n\n//properties\nprivate String id = \"A01234567\";\npublic String name = \"Leon\";\nprivate int englishScore = 0;\nprivate int mathScore = 0;\n\n//constructor\npublic Student(String name, int englishScore, int mathScore) {\n    this.name = name;\n    this.englishScore = englishScore;\n    this.mathScore = mathScore;\n}\n\n//private method\nprivate boolean isPass() {\n    return  (englishScore&gt;=60 &amp;&amp; mathScore&gt;=60);\n}\n\n//private method\nprivate int getTotalScore(int english, int math) {\n    return  english+math;\n}\n\n//public method\npublic double getAvg() {\n    return (englishScore+mathScore) / 2.0;\n}\n}\n</code></pre>\n\n<blockquote>\n  <p>Java Test Sample</p>\n</blockquote>\n\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\nimport static org.junit.Assert.assertEquals;\n\npublic class StudentTest {\n\n\n@Test\npublic void idTest() {\n    //test private property: id\n    Student student = new Student(\"Leon\", 80, 60);\n\n    String expected = \"A01234567\";\n    String actual = \"\";\n\n    Field field = student.getClass().getDeclaredField(\"id\");\n    field.setAccessible(true);\n    actual = (String) field.get(student);\n\n    assertEquals(expected, actual);\n}\n\n@Test\npublic void nameTest() {\n    //test public property: name\n    Student student = new Student(\"Leon\", 80, 60);\n\n    String expected = \"Leon\";\n    String actual =  student.name;\n\n    assertEquals(expected, actual);\n}\n\n@Test\npublic void isPassTest() {\n    //test private method: isPass() -- no parameter\n    Student student = new Student(\"Leon\", 80, 60);\n\n    boolean expected = true;\n    boolean actual = false;\n\n    Method method = student.getClass().getDeclaredMethod(\"isPass\");\n    method.setAccessible(true);\n    actual = (boolean) method.invoke(student);\n\n    assertEquals(expected, actual);\n}\n\n@Test\npublic void getTotalTest() {\n    //test private method: getTotal()\n    Student student = new Student(\"Leon\", 80, 60);\n\n    int expected = 80+60;\n    int actual = 0;\n\n    // bring the type of the parameters\n    Method method = student.getClass().getDeclaredMethod(\"getTotalScore\", int.class, int.class);\n    method.setAccessible(true);\n\n    //set parameters\n    Object[] parameters = new Object[2];\n    parameters[0] = 80;\n    parameters[1] = 60;\n\n    actual = (int) method.invoke(student, parameters);\n\n    assertEquals(expected, actual);\n}\n\n@Test\npublic void getAvgTest() {\n    //test public method: getAvg()\n    Student student = new Student(\"Leon\", 80, 60);\n\n    double expected = (80+60)/2.0;\n    double actual = student.getAvg();\n\n    //(double expected, double actual, double epsilon)\n    assertEquals(expected, actual ,0);\n}\n}\n</code></pre>\n\n<p><strong>-------------------------------------------------------------------------------</strong></p>\n\n<p><strong>Kotlin Version</strong></p>\n\n<blockquote>\n  <p>Kotlin Sample Class</p>\n</blockquote>\n\n<pre><code>class StudentKt(name:String, englishScore:Int, mathScore:Int) {\n\n//properties\nprivate var id:String = \"A01234567\"\nvar name:String = \"Leon\"\nprivate var englishScore:Int = 0\nvar mathScore:Int = 0\n\n//initialization\ninit {\n    this.name = name\n    this.englishScore = englishScore\n    this.mathScore = mathScore\n}\n\n//private method\nprivate fun isPass():Boolean {\n\n    return (englishScore&gt;=60 &amp;&amp; mathScore&gt;=60)\n}\n\n//private method\nprivate fun getTotalScore(english: Int, math: Int): Int {\n    return english + math\n}\n\n//public method\nfun getAvg():Double {\n    return (englishScore + mathScore) / 2.0\n}\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Kotlin Sample Test</p>\n</blockquote>\n\n<pre><code>import junit.framework.Assert.assertEquals\nimport org.junit.Test\nimport java.lang.reflect.InvocationTargetException\n\nclass StudentKtTest {\n\n@Test\nfun idTest() {\n    //test private property: id\n    val student = StudentKt(\"Leon\", 80, 60)\n\n    val expected = \"A01234567\"\n    var actual = \"\"\n\n    val field = student.javaClass.getDeclaredField(\"id\")\n    field.isAccessible = true\n    actual = field.get(student) as String\n\n    assertEquals(expected, actual)\n}\n\n@Test\nfun nameTest() {\n    //test public property: name\n    val student = StudentKt(\"Leon\", 80, 60)\n\n    val expected = \"Leon\"\n    val actual = student.name\n\n    assertEquals(expected, actual)\n}\n\n@Test\nfun isPassTest() {\n    //test private method: isPass() -- no parameter\n    val student = StudentKt(\"Leon\", 80, 60)\n\n    val expected = true\n    var actual = false\n\n    //you don't need set type if there is no parameter in the method\n    val method = student.javaClass.getDeclaredMethod(\"isPass\")\n    method.isAccessible = true\n    //you don't need set type if there is no parameter in the method\n    actual = method.invoke(student) as Boolean\n\n    assertEquals(expected, actual)\n}\n\n@Test\nfun getTotalTest() {\n    //test private method: getTotal()\n    val student = StudentKt(\"Leon\", 80, 60)\n\n    val expected = 80 + 60\n    var actual = 0\n\n    // bring the type of the parameters\n    val  method = student.javaClass.getDeclaredMethod(\n         \"getTotalScore\", Int::class.java, Int::class.java\n    )\n\n    method.isAccessible = true\n\n    //set parameters\n    val parameters = arrayOfNulls&lt;Any&gt;(2)\n    parameters[0] = 80\n    parameters[1] = 60\n\n    actual = method.invoke(student, *parameters) as Int\n\n    assertEquals(expected, actual)\n}\n\n@Test\nfun getAvgTest() {\n    //test public method: getAvg()\n    val student = Student(\"Leon\", 80, 60)\n\n    val expected = (80 + 60) / 2.0\n    val actual = student.avg\n\n    //(double expected, double actual, double epsilon)\n    assertEquals(expected, actual, 0.0)\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 1851, "user_id": 1598308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1368d51060d82d90724610c0976d8f86?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Seweryn", "link": "https://stackoverflow.com/users/1598308/kamil-seweryn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9572, "favorite_count": 0, "accepted_answer_id": 41695398, "answer_count": 3, "score": 10, "last_activity_date": 1551745813, "creation_date": 1484496283, "last_edit_date": 1484497841, "question_id": 41663170, "link": "https://stackoverflow.com/questions/41663170/test-in-kotlin-cannot-access-protected-method", "title": "Test in Kotlin cannot access protected method", "body": "<p>I want to test class B:</p>\n\n<pre><code>class B : A {\n    override fun init() {\n        // do work here\n    }\n}\n\nclass A {\n    protected fun init() { } // will be called by internal logic\n}\n</code></pre>\n\n<p>and in Java there is no problem to call: <code>b.init()</code> within test method (<strong>test class is in the same package as test subject</strong>), but in Kotlin compiler complains: </p>\n\n<blockquote>\n  <p>Cannot access 'init': it is protected in 'B'</p>\n</blockquote>\n\n<pre><code>@Test\nfun `checks init`() {\n    val b = B()\n    b.init()\n    // assert work done\n}\n</code></pre>\n\n<p>Why isn't it working? How can this be workaround (I want to avoid making method public)?</p>\n"}, {"tags": ["java", "android", "realm", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1484510988, "post_id": 41662714, "comment_id": 70529733, "body": "You shouldn&#39;t add version 0.87.4 along with version 2.2.3"}, {"owner": {"reputation": 1864, "user_id": 4656400, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-IDixEc9j9gU/AAAAAAAAAAI/AAAAAAAADAo/yQ0BYFbDP8A/photo.jpg?sz=128", "display_name": "AlexKost", "link": "https://stackoverflow.com/users/4656400/alexkost"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1484543290, "post_id": 41662714, "comment_id": 70537418, "body": "@EpicPandaForce, do you mean verson 2.2.3 of io.realm:realm-gradle-plugin? I&#39;ve tried this and I&#39;ve got &quot;Could not find io.realm:realm-gradle-plugin:2.2.3&quot; gradle build Error"}], "answers": [{"comments": [{"owner": {"reputation": 1864, "user_id": 4656400, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-IDixEc9j9gU/AAAAAAAAAAI/AAAAAAAADAo/yQ0BYFbDP8A/photo.jpg?sz=128", "display_name": "AlexKost", "link": "https://stackoverflow.com/users/4656400/alexkost"}, "edited": false, "score": 0, "creation_date": 1484548635, "post_id": 41663412, "comment_id": 70539014, "body": "Thanks, @\u042d\u043b\u044c\u043d\u0430\u0440 \u0411\u0435\u0440\u0445\u0435\u0435\u0432, it helped! Just in case it would help someone: I had to make few other changes to build the project."}, {"owner": {"reputation": 1864, "user_id": 4656400, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-IDixEc9j9gU/AAAAAAAAAAI/AAAAAAAADAo/yQ0BYFbDP8A/photo.jpg?sz=128", "display_name": "AlexKost", "link": "https://stackoverflow.com/users/4656400/alexkost"}, "edited": false, "score": 1, "creation_date": 1484549507, "post_id": 41663412, "comment_id": 70539327, "body": "Theres no need for args in RealmConfiguretion.Build() call and I had to call Realm.init(context) before it. Also refresh(), clean() and allObjects() method were replaced with waitForChange(), delete() and where().findAll() methods respectively, as stated here: <a href=\"https://github.com/realm/realm-java/issues/2864\" rel=\"nofollow noreferrer\">github.com/realm/realm-java/issues/2864</a>. Cheers!"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1484554526, "post_id": 41663412, "comment_id": 70541492, "body": "waitForChange()  works differently than refresh(), use this instead  <a href=\"http://stackoverflow.com/a/38839808/2413303\">stackoverflow.com/a/38839808/2413303</a>"}], "tags": [], "owner": {"reputation": 591, "user_id": 6819868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cOHGU.jpg?s=128&g=1", "display_name": "\u042d\u043b\u044c\u043d\u0430\u0440 \u0411\u0435\u0440\u0445\u0435\u0435\u0432", "link": "https://stackoverflow.com/users/6819868/%d0%ad%d0%bb%d1%8c%d0%bd%d0%b0%d1%80-%d0%91%d0%b5%d1%80%d1%85%d0%b5%d0%b5%d0%b2"}, "is_accepted": false, "score": 2, "last_activity_date": 1484516350, "last_edit_date": 1484516350, "creation_date": 1484497711, "answer_id": 41663412, "question_id": 41662714, "link": "https://stackoverflow.com/questions/41662714/cannot-set-up-realm-in-project-using-kotlin/41663412#41663412", "title": "Cannot set up Realm in project using Kotlin", "body": "<p>Use RealmClass annotation + RealmModel interface</p>\n\n<pre><code>import io.realm.Realm\nimport io.realm.RealmModel\nimport io.realm.annotations.PrimaryKey\nimport io.realm.annotations.RealmClass\n\n@RealmClass\nopen class Example(\n    @PrimaryKey open var Id : Long = 0,\n    open var Field : String = \"\"\n) : RealmModel\n</code></pre>\n\n<p>In module gradle file add</p>\n\n<pre><code>apply plugin: 'realm-android'\n</code></pre>\n\n<p>In project gradle file add</p>\n\n<pre><code>classpath \"io.realm:realm-gradle-plugin:2.2.2\"\n</code></pre>\n\n<p>No additional compile/kapt needed</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "is_accepted": false, "score": 2, "last_activity_date": 1508606906, "last_edit_date": 1508606906, "creation_date": 1508606319, "answer_id": 46865929, "question_id": 41662714, "link": "https://stackoverflow.com/questions/41662714/cannot-set-up-realm-in-project-using-kotlin/46865929#46865929", "title": "Cannot set up Realm in project using Kotlin", "body": "<p>Realm java 4.1.0 has been released and most problem of Realm with Kotlin has resolved! You don't need to use <code>open var</code> just use <code>var</code>. You can test <a href=\"https://github.com/c2c2/RealmKotlinShop\" rel=\"nofollow noreferrer\">my sample project</a>. My sample is for testing module in Realm object Server with kotlin.</p>\n"}], "owner": {"reputation": 1864, "user_id": 4656400, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-IDixEc9j9gU/AAAAAAAAAAI/AAAAAAAADAo/yQ0BYFbDP8A/photo.jpg?sz=128", "display_name": "AlexKost", "link": "https://stackoverflow.com/users/4656400/alexkost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1716, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1508606906, "creation_date": 1484493378, "question_id": 41662714, "link": "https://stackoverflow.com/questions/41662714/cannot-set-up-realm-in-project-using-kotlin", "title": "Cannot set up Realm in project using Kotlin", "body": "<p>I'm trying to build a test project in Kotlin with Realm. \nHere's my model:</p>\n\n<pre><code>open class Book : RealmObject() {\n\n    // Standard getters &amp; setters generated by your IDE\u2026\n    @PrimaryKey\n    open var id: Long = 0\n\n    open var title = \"\"\n\n    open var description = \"\"\n\n    open var author = \"\"\n\n    open var imageUrl = \"\"\n}\n</code></pre>\n\n<p>and here's exception I get:</p>\n\n<pre><code>FATAL EXCEPTION: main\n                                                                        Process: app.androidhive.info.realm, PID: 18782\n                                                                        java.lang.RuntimeException: Unable to start activity ComponentInfo{app.androidhive.info.realm/app.androidhive.info.realm.activity.MainActivity}: java.lang.IllegalArgumentException: Book is not part of the schema for this Realm\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\n                                                                            at android.app.ActivityThread.-wrap11(ActivityThread.java)\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                            at android.os.Looper.loop(Looper.java:148)\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:5417)\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n                                                                         Caused by: java.lang.IllegalArgumentException: Book is not part of the schema for this Realm\n</code></pre>\n\n<p>I searched around for the solution so and added  <code>classpath \"io.realm:realm-gradle-plugin:2.2.2\"</code> in build.gradle and \n<code>apply plugin: 'realm-android'</code> and </p>\n\n<pre><code>dependencies {\n    ...\n    // Realm\n    compile 'io.realm:realm-android:0.87.4'\n    kapt \"io.realm:realm-annotations:0.87.4\"\n    kapt \"io.realm:realm-annotations-processor:0.87.4\"\n}\n</code></pre>\n\n<p>into build script in module app. It gives me another problem: </p>\n\n<pre><code>Error:(15, 48) Cannot access '&lt;init&gt;': it is public/*package*/ in \n\n'Builder'\n/Volumes/Toshiba/Users/macuser/Development/Android/Exersises/MyApplication/app/src/main/java/realmtest/realm/RealmController.kt\nError:(27, 15) Unresolved reference: refresh\nError:(34, 15) Unresolved reference: clear\nError:(53, 23) Unresolved reference: allObjects\n\n[KOTLIN] deleting /Volumes/Toshiba/Users/macuser/Development/Android/Exersises/MyApplication/app/build/tmp/kotlin-classes/debug on error\n</code></pre>\n\n<p>I can only build my project successfully if Book is written in java. \nAny suggestion how to make Realm and Kotlin work together?</p>\n"}, {"tags": ["kotlin", "datetime-format", "threetenbp"], "answers": [{"tags": [], "owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "is_accepted": true, "score": 16, "last_activity_date": 1484445404, "last_edit_date": 1484445404, "creation_date": 1484444823, "answer_id": 41656999, "question_id": 41656756, "link": "https://stackoverflow.com/questions/41656756/how-to-convert-localdatetime-object-into-iso-string-including-time-zone/41656999#41656999", "title": "How to convert LocalDateTime object into ISO string including time zone?", "body": "<p><code>LocalDateTime</code> is offset/timezone agnostic class. You need an <code>OffsetDateTime</code> class.</p>\n\n<p>String -> OffsetDateTime</p>\n\n<pre><code>val actual = OffsetDateTime.parse(\"2016-12-27T08:15:05.674+01:00\", DateTimeFormatter.ISO_DATE_TIME)\nval expected = OffsetDateTime.of(2016, 12, 27, 8, 15, 5, 674000000, ZoneOffset.of(\"+01:00\"))\nassertThat(actual).isEqualTo(expected)\n</code></pre>\n\n<p>OffsetDateTime -> String</p>\n\n<pre><code>val dateTime = OffsetDateTime.of(2016, 12, 27, 8, 15, 5, 674000000, ZoneOffset.of(\"+01:00\"))\nval actual  = dateTime.format(DateTimeFormatter.ISO_DATE_TIME)\nassertThat(actual).isEqualTo(\"2016-12-27T08:15:05.674+01:00\")\n</code></pre>\n"}], "owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13503, "favorite_count": 1, "accepted_answer_id": 41656999, "answer_count": 1, "score": 12, "last_activity_date": 1484445404, "creation_date": 1484442209, "question_id": 41656756, "link": "https://stackoverflow.com/questions/41656756/how-to-convert-localdatetime-object-into-iso-string-including-time-zone", "title": "How to convert LocalDateTime object into ISO string including time zone?", "body": "<p>I am trying to convert a date/time string back and forth into a <code>LocalDateTime</code> object. I am using <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em>ThreeTenBp</em></a> as the date/time library.</p>\n\n<h3>String -> LocalDateTime</h3>\n\n<pre><code>val actual = LocalDateTime.parse(\"2016-12-27T08:15:05.674+01:00\", \n                                 DateTimeFormatter.ISO_DATE_TIME)\nval expected = LocalDateTime.of(2016, 12, 27, 8, 15, 5, 674000000)\nassertThat(actual).isEqualTo(expected) // Successful\n</code></pre>\n\n<h3>LocalDateTime -> String</h3>\n\n<pre><code>val dateTime = LocalDateTime.of(2016, 12, 27, 8, 15, 5, 674000000)\nval actual  = dateTime.format(DateTimeFormatter.ISO_DATE_TIME)\nassertThat(actual).isEqualTo(\"2016-12-27T08:15:05.674+01:00\") // Fails\n</code></pre>\n\n<p>For some reason the time zone is missing:</p>\n\n<blockquote>\n  <p>expected: &lt;...6-12-27T08:15:05.674[+01:00]\"> but was:&lt;...6-12-27T08:15:05.674[]\"><br>\n  Expected :\"2016-12-27T08:15:05.674+01:00\"<br>\n  Actual   :\"2016-12-27T08:15:05.674\"</p>\n</blockquote>\n"}, {"tags": ["numbers", "integer", "int", "hex", "kotlin"], "comments": [{"owner": {"reputation": 2775, "user_id": 2102748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a1adcb8ed924ecd1045fd6252a7df18?s=128&d=identicon&r=PG", "display_name": "milosmns", "link": "https://stackoverflow.com/users/2102748/milosmns"}, "edited": false, "score": 0, "creation_date": 1484433410, "post_id": 41655713, "comment_id": 70510165, "body": "Note: I&#39;m aware that I can use the <code>Integer</code> class from Java :) I&#39;m looking for a pure Kotlin approach, if available."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484434368, "post_id": 41655713, "comment_id": 70510429, "body": "Most of the kotlin library simply consists in providing extension methods on top of standard Java classes. The language and library are designed to make it easy to use the Java classes. Why won&#39;t you use Integer.toHexString? What would an alternate implementation bring, except redundancy?"}, {"owner": {"reputation": 2775, "user_id": 2102748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a1adcb8ed924ecd1045fd6252a7df18?s=128&d=identicon&r=PG", "display_name": "milosmns", "link": "https://stackoverflow.com/users/2102748/milosmns"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484434821, "post_id": 41655713, "comment_id": 70510533, "body": "@JBNizet I&#39;m not against using <code>Integer.toHexString()</code> - For example, take a look at the answer that @hotkey provided below. Short and directly accessible from any Int. I can use anything really to complete my task, but I was just looking for something Kotlin-like if available."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1484434931, "post_id": 41655713, "comment_id": 70510576, "body": "@milosmns, updated the answer. The <code>toString(radix: Int)</code> function will still be different because of the unsigned conversion used in <code>Integer.toHexString()</code>, so that it won&#39;t probably fit you anyway."}, {"owner": {"reputation": 2775, "user_id": 2102748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a1adcb8ed924ecd1045fd6252a7df18?s=128&d=identicon&r=PG", "display_name": "milosmns", "link": "https://stackoverflow.com/users/2102748/milosmns"}, "edited": false, "score": 0, "creation_date": 1484434964, "post_id": 41655713, "comment_id": 70510587, "body": "Right, got it. That pretty much answers everything I wanted to know"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484434973, "post_id": 41655713, "comment_id": 70510593, "body": "So, you want to define an extension method that calls Integer.toHexString()? Not reimplmeent the function in Kotlin? Here it is: <code>fun Int.toHexString() = Integer.toHexString(this)</code>"}, {"owner": {"reputation": 2775, "user_id": 2102748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a1adcb8ed924ecd1045fd6252a7df18?s=128&d=identicon&r=PG", "display_name": "milosmns", "link": "https://stackoverflow.com/users/2102748/milosmns"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484435018, "post_id": 41655713, "comment_id": 70510610, "body": "@JBNizet Yep, that&#39;s exactly what I had so far. Thanks for the help guys"}], "answers": [{"comments": [{"owner": {"reputation": 9837, "user_id": 483520, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4fc6e3d12a3ca9dd7998d4109b3415ca?s=128&d=identicon&r=PG", "display_name": "Nolan Amy", "link": "https://stackoverflow.com/users/483520/nolan-amy"}, "edited": false, "score": 1, "creation_date": 1557039961, "post_id": 41655900, "comment_id": 98627532, "body": "@hotkey Looks like <code>toString(radix)</code> is available now"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 3, "creation_date": 1574781371, "post_id": 41655900, "comment_id": 104347767, "body": "You can get the same results as <code>Integer.toHexString()</code> by converting to long first: <code>(-50).toLong().toString(16)</code> returns <code>ffffffce</code>. Also, there is <code>UInt</code> and <code>ULong</code> now, so for a long, you could use <code>toULong().toString(16)</code>."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 82, "last_activity_date": 1585939750, "last_edit_date": 1592644375, "creation_date": 1484434384, "answer_id": 41655900, "question_id": 41655713, "link": "https://stackoverflow.com/questions/41655713/how-to-convert-int-to-hex-string-in-kotlin/41655900#41655900", "title": "How to convert Int to Hex String in Kotlin?", "body": "<p>You can still use the Java conversion by calling the static function on <code>java.lang.Integer</code>:</p>\n<pre><code>val hexString = java.lang.Integer.toHexString(i)\n</code></pre>\n<p>And, starting with Kotlin 1.1, there is a function in the Kotlin standard library that does the conversion, too:</p>\n<blockquote>\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-string.html\" rel=\"noreferrer\"><code>fun Int.toString(radix: Int): String</code></a></p>\n<p>Returns a string representation of this <code>Int</code> value in the specified <code>radix</code>.</p>\n</blockquote>\n<p>Note, however, that <strong>this will still be different</strong> from <code>Integer.toHexString()</code>, because the latter performs the unsigned conversion:</p>\n<pre><code>println((-50).toString(16)) // -32\nprintln(Integer.toHexString(-50)) // ffffffce\n</code></pre>\n<p>But with experimental <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#unsigned-integers\" rel=\"noreferrer\">Kotlin unsigned types</a>, it is now possible to get the same result from negative number unsigned conversion as with <code>Integer.toHexString(-50)</code>:</p>\n<pre><code>println((-50).toUInt().toString(16)) // ffffffce\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7069, "user_id": 267680, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7c9b0a8d7e3dfaaef677e873ce2f6ad9?s=128&d=identicon&r=PG", "display_name": "Dhiraj Gupta", "link": "https://stackoverflow.com/users/267680/dhiraj-gupta"}, "edited": false, "score": 6, "creation_date": 1578691292, "post_id": 56736097, "comment_id": 105534940, "body": "And you can also use <code>&quot;%X&quot;.format(1234)</code> if you want the hex string outputted in all caps."}], "tags": [], "owner": {"reputation": 2885, "user_id": 538877, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qBVKk.jpg?s=128&g=1", "display_name": "M.Sameer", "link": "https://stackoverflow.com/users/538877/m-sameer"}, "is_accepted": false, "score": 12, "last_activity_date": 1561377601, "creation_date": 1561377601, "answer_id": 56736097, "question_id": 41655713, "link": "https://stackoverflow.com/questions/41655713/how-to-convert-int-to-hex-string-in-kotlin/56736097#56736097", "title": "How to convert Int to Hex String in Kotlin?", "body": "<p>You can simply do it like this:\n<code>\"%x\".format(1234)</code></p>\n"}, {"tags": [], "owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "is_accepted": false, "score": 14, "last_activity_date": 1562760698, "creation_date": 1562760698, "answer_id": 56970434, "question_id": 41655713, "link": "https://stackoverflow.com/questions/41655713/how-to-convert-int-to-hex-string-in-kotlin/56970434#56970434", "title": "How to convert Int to Hex String in Kotlin?", "body": "<p>If you need to add zero before bytes which less than 10(hex), for example you need string - \"0E\" then use:\n <code>\"%02x\".format(14)</code></p>\n"}], "owner": {"reputation": 2775, "user_id": 2102748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a1adcb8ed924ecd1045fd6252a7df18?s=128&d=identicon&r=PG", "display_name": "milosmns", "link": "https://stackoverflow.com/users/2102748/milosmns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39571, "favorite_count": 5, "accepted_answer_id": 41655900, "answer_count": 3, "score": 55, "last_activity_date": 1585939750, "creation_date": 1484433083, "question_id": 41655713, "link": "https://stackoverflow.com/questions/41655713/how-to-convert-int-to-hex-string-in-kotlin", "title": "How to convert Int to Hex String in Kotlin?", "body": "<p>I'm looking for a similar function to Java's <code>Integer.toHexString()</code> in Kotlin. Is there something built-in, or we have to manually write a function to convert <code>Int</code> to <code>String</code>?</p>\n"}, {"tags": ["hex", "kotlin", "long-integer"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1484408388, "post_id": 41651704, "comment_id": 70502146, "body": "How about <code>java.lang.Long.parseLong(&quot;ED05265A&quot;, 16)</code>? Or <code>import java.lang.Long.parseLong [...] parseLong(&quot;ED05265A&quot;, 16)</code>? Kotlin is compatible with Java, and you can, and should, use Java&#39;s built-in classes and methods."}, {"owner": {"reputation": 1710, "user_id": 1443182, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/U6MEM.jpg?s=128&g=1", "display_name": "Mark Gilchrist", "link": "https://stackoverflow.com/users/1443182/mark-gilchrist"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484408473, "post_id": 41651704, "comment_id": 70502171, "body": "will try it now"}, {"owner": {"reputation": 1710, "user_id": 1443182, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/U6MEM.jpg?s=128&g=1", "display_name": "Mark Gilchrist", "link": "https://stackoverflow.com/users/1443182/mark-gilchrist"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1484408697, "post_id": 41651704, "comment_id": 70502228, "body": "it works, answer the question and I will accept!"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1484577873, "post_id": 41651704, "comment_id": 70555012, "body": "Note that you may want to use <code>Long.parseUnsignedLong</code> instead of <code>Long.parseLong</code>."}], "answers": [{"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1509286374, "post_id": 41651833, "comment_id": 80948820, "body": "When using Integer.parseInt(&quot;ffff0000&quot;, 16) , I get exception: NumberFormatException: For input string: &quot;ffff0000&quot; . How come?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1509286790, "post_id": 41651833, "comment_id": 80948949, "body": "It&#39;s larger than the max integer value."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1509287019, "post_id": 41651833, "comment_id": 80949033, "body": "But on Java it works fine, and is easy to read because in this case it&#39;s a representation of a color (red color in this case). Suppose I have an hexa-decimal value that I used fine in Java, what should I set its value in Kotlin? Do I really have to manually convert it myself?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 1, "creation_date": 1509287092, "post_id": 41651833, "comment_id": 80949060, "body": "No, it doesn&#39;t work in Java. You&#39;d need to use parseUnsignedInt()."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1509288093, "post_id": 41651833, "comment_id": 80949433, "body": "Correct. I thought it will also work (never needed to use it, so forgot it has this issue), because my use case is on something else. Please consider checking this question: <a href=\"https://stackoverflow.com/q/47001467/878126\">stackoverflow.com/q/47001467/878126</a>"}, {"owner": {"reputation": 36733, "user_id": 907695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daac9f1ef1a91604000a38376cace034?s=128&d=identicon&r=PG", "display_name": "Pointer Null", "link": "https://stackoverflow.com/users/907695/pointer-null"}, "edited": false, "score": 0, "creation_date": 1565028460, "post_id": 41651833, "comment_id": 101214153, "body": "&quot;Kotlin is compatible with Java&quot; is true only on JVM target, but not on Javascript or native targets. There you won&#39;t find any java.lang.Long."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 12, "last_activity_date": 1484408780, "creation_date": 1484408780, "answer_id": 41651833, "question_id": 41651704, "link": "https://stackoverflow.com/questions/41651704/kotlin-parse-hex-string-to-long/41651833#41651833", "title": "Kotlin parse Hex String to Long", "body": "<p>You can simply use</p>\n\n<pre><code>java.lang.Long.parseLong(\"ED05265A\", 16)\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>import java.lang.Long.parseLong \n\n[...] \n\nparseLong(\"ED05265A\", 16)\n</code></pre>\n\n<p>Kotlin is compatible with Java, and you can, and should, use Java's built-in classes and methods.</p>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 46, "last_activity_date": 1563788752, "last_edit_date": 1563788752, "creation_date": 1484423902, "answer_id": 41654372, "question_id": 41651704, "link": "https://stackoverflow.com/questions/41651704/kotlin-parse-hex-string-to-long/41654372#41654372", "title": "Kotlin parse Hex String to Long", "body": "<p><a href=\"https://github.com/JetBrains/kotlin/blob/bc944961f1d56506b69c22c79ede0ac1311c30f5/libraries/stdlib/src/kotlin/text/StringNumberConversions.kt#L101\" rel=\"noreferrer\">Since</a> Kotlin v1.1 you can use:</p>\n\n<pre><code>\"ED05265A\".toLong(radix = 16)\n</code></pre>\n\n<p>Until then use the Java's <code>Long.parseLong</code>.</p>\n"}], "owner": {"reputation": 1710, "user_id": 1443182, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/U6MEM.jpg?s=128&g=1", "display_name": "Mark Gilchrist", "link": "https://stackoverflow.com/users/1443182/mark-gilchrist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15723, "favorite_count": 3, "accepted_answer_id": 41651833, "answer_count": 2, "score": 20, "last_activity_date": 1563788752, "creation_date": 1484408102, "last_edit_date": 1484520619, "question_id": 41651704, "link": "https://stackoverflow.com/questions/41651704/kotlin-parse-hex-string-to-long", "title": "Kotlin parse Hex String to Long", "body": "<p>I am starting to work in Kotlin and I need to parse a hex String to a long, which in java can be done with </p>\n\n<pre><code>Long.parseLong(\"ED05265A\", 16); \n</code></pre>\n\n<p>I can not find anything this in Kotlin, although I can find </p>\n\n<pre><code>val i = \"2\".toLong()\n</code></pre>\n\n<p>This is not what I am looking for!</p>\n\n<p>before I write anything from scratch is there a built in function for this?</p>\n"}, {"tags": ["java", "android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 1815209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6cbca63e8eae12b8959f53c6e4e5133?s=128&d=identicon&r=PG", "display_name": "quezak", "link": "https://stackoverflow.com/users/1815209/quezak"}, "edited": false, "score": 0, "creation_date": 1489250357, "post_id": 41655719, "comment_id": 72593472, "body": "thanks for the great explanation :) I&#39;ve implemented something based on your advices, but finally it seems that the delegated properties are skipped by firebase libraries when getting/saving objects from/to the database. Do you maybe have any idea how to work around this? Details: <a href=\"https://stackoverflow.com/questions/42737499/firebase-db-models-with-kotlin-delegated-properties\" title=\"firebase db models with kotlin delegated properties\">stackoverflow.com/questions/42737499/&hellip;</a>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 934, "user_id": 1815209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6cbca63e8eae12b8959f53c6e4e5133?s=128&d=identicon&r=PG", "display_name": "quezak", "link": "https://stackoverflow.com/users/1815209/quezak"}, "edited": false, "score": 0, "creation_date": 1489265738, "post_id": 41655719, "comment_id": 72598783, "body": "@quezak Try to use <code>@PropertyName</code>: <a href=\"http://stackoverflow.com/questions/38681260/firebase-propertyname-doesnt-work\" title=\"firebase propertyname doesnt work\">stackoverflow.com/questions/38681260/&hellip;</a> I don&#39;t have any experience with Firebase, but it looks like it just works only with fields by default."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1484433505, "last_edit_date": 1484433505, "creation_date": 1484433107, "answer_id": 41655719, "question_id": 41651507, "link": "https://stackoverflow.com/questions/41651507/firebase-clean-way-for-using-enum-fields-in-kotlin-java/41655719#41655719", "title": "Firebase: clean way for using enum fields in Kotlin/Java?", "body": "<p>If the conversion between a property with your <code>enum</code> value and another property of <code>String</code> type is enough, this can be easily done in a flexible way using <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"noreferrer\">Kotlin delegated properties</a>. </p>\n\n<p>To say it short, you can implement a delegate for <code>String</code> properties which performs the conversion and actually gets/sets the value of another property storing the <code>enum</code> values, and then delegate the <code>String</code> property to it.</p>\n\n<p>One possible implementation would look like this:</p>\n\n<pre><code>class EnumStringDelegate&lt;T : Enum&lt;T&gt;&gt;(\n        private val enumClass: Class&lt;T&gt;,\n        private val otherProperty: KMutableProperty&lt;T&gt;,\n        private val enumNameToString: (String) -&gt; String,\n        private val stringToEnumName: (String) -&gt; String) {\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n        return enumNameToString(otherProperty.call(thisRef).toString())\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n        val enumValue = java.lang.Enum.valueOf(enumClass, stringToEnumName(value))\n        otherProperty.setter.call(thisRef, enumValue)\n    }\n}\n</code></pre>\n\n<p><strong><sup>Note: This code requires you to add the Kotlin reflection API, <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect\" rel=\"noreferrer\"><code>kotlin-reflect</code></a>,  as a dependency to your project. With Gradle, use <code>compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"</code>.</sup></strong></p>\n\n<p>This will be explained below, but first let me add a convenience method to avoid creating the instances directly:</p>\n\n<pre><code>inline fun &lt;reified T : Enum&lt;T&gt;&gt; enumStringLowerCase(\n    property: KMutableProperty&lt;T&gt;) = EnumStringDelegate(\n    T::class.java,\n    property,\n    String::toLowerCase,\n    String::toUpperCase)\n</code></pre>\n\n<p>And a usage example for your class:</p>\n\n<pre><code>// if you don't need the `str` anywhere else, the enum class can be shortened to this:\nenum class WeightUnit { KG, LB } \n\nclass UserData : BaseModel() {\n    // ... more fields omitted for clarity\n    @Exclude\n    var weightUnitEnum: WeightUnit = WeightUnit.KG\n    var weightUnit: String by enumStringLowerCase(UserData::weightUnitEnum)\n}\n</code></pre>\n\n<p>Now, the explanation:</p>\n\n<p>When you write <code>var weightUnit: String by enumStringLowerCase(UserData::weightUnitEnum)</code>, you delegate the <code>String</code> property to the constructed delegate object. This means that when the property is accessed, the delegate methods are called instead. And the delegate object, in turn, works with the <code>weightUnitEnum</code> property under the hood. </p>\n\n<p>The convenience function I added saves you from the necessity of writing <code>UserData::class.java</code> at the property declaration site (using a <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"noreferrer\">reified type parameter</a>) and provides the conversion functions to <code>EnumStringDelegate</code> (you can create other functions with different conversions at any time, or even make a function that receives the conversion functions as lambdas).</p>\n\n<p>Basically, this solution saves you from the boilerplate code that represents a property of <code>enum</code> type as a <code>String</code> property, given the conversion logic, and also allows you to get rid of the redundant code in your <code>enum</code>, if you don't use it anywhere else.</p>\n\n<p>Using this technique, you can implement any other conversion between properties, like the <em>number to timestamp</em> you mentioned.</p>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 6487951, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b12362ee2f48d9b7a9e5d759a4209d1c?s=128&d=identicon&r=PG&f=1", "display_name": "Neo Split", "link": "https://stackoverflow.com/users/6487951/neo-split"}, "is_accepted": false, "score": 5, "last_activity_date": 1491821438, "creation_date": 1491821438, "answer_id": 43321225, "question_id": 41651507, "link": "https://stackoverflow.com/questions/41651507/firebase-clean-way-for-using-enum-fields-in-kotlin-java/43321225#43321225", "title": "Firebase: clean way for using enum fields in Kotlin/Java?", "body": "<p>I am in similar situation &amp; thus found your question, plus whole lot of other similar questions/answers. </p>\n\n<p>Cant answer your question directly but this is what I ended up doing: I decided to change my app &amp; not use enum data types at all - mainly because of the advice from Google dev portal which shows how bad the enum's are on app's performance. See the video below <a href=\"https://www.youtube.com/watch?v=Hzs6OBcvNQE\" rel=\"noreferrer\">https://www.youtube.com/watch?v=Hzs6OBcvNQE</a></p>\n"}], "owner": {"reputation": 934, "user_id": 1815209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6cbca63e8eae12b8959f53c6e4e5133?s=128&d=identicon&r=PG", "display_name": "quezak", "link": "https://stackoverflow.com/users/1815209/quezak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2125, "favorite_count": 0, "accepted_answer_id": 41655719, "answer_count": 2, "score": 8, "last_activity_date": 1491821438, "creation_date": 1484406823, "last_edit_date": 1484410607, "question_id": 41651507, "link": "https://stackoverflow.com/questions/41651507/firebase-clean-way-for-using-enum-fields-in-kotlin-java", "title": "Firebase: clean way for using enum fields in Kotlin/Java?", "body": "<p>My data on firebase uses many fields which have string type, but really are enum values (which I check in my validation rules). To download the data into my Android app, <a href=\"https://firebase.google.com/docs/database/android/read-and-write\" rel=\"noreferrer\">following the guide</a>, the field must be a basic <code>String</code>. I know I can work around this with a second (excluded) field which is an enum, and set this basing on the string value. A short example:</p>\n\n<pre><code>class UserData : BaseModel() {\n    val email: String? = null\n    val id: String = \"\"\n    val created: Long = 0\n    // ... more fields omitted for clarity\n    @Exclude\n    var weightUnitEnum: WeightUnit = WeightUnit.KG\n    var weightUnit: String\n        get() = weightUnitEnum.toString()\n        set(value) { weightUnitEnum = WeightUnit.fromString(value) }\n}\n\nenum class WeightUnit(val str: String) {\n    KG(\"kg\"), LB(\"lb\");\n    override fun toString(): String = str\n    companion object {\n        @JvmStatic\n        fun fromString(s: String): WeightUnit = WeightUnit.valueOf(s.toUpperCase())\n    }\n}\n</code></pre>\n\n<p>Now, while this works, it's not really clean:</p>\n\n<ul>\n<li>The <code>enum class</code> itself is (1) kinda long for an\nenum, (2) the insides are repeated for every enum. And I have more of them.</li>\n<li>It's not only enums, the <code>created</code> field above is really a timestamp,\nnot a <code>Long</code>.</li>\n<li>Each model uses these enum fields a lot of times, which bloats the model classes with repeatable code...</li>\n<li>The helper field/functions are getting much worse/longer for fields with types such as <code>Map&lt;SomeEnum, Timestamp&gt;</code>...</li>\n</ul>\n\n<p>So, is there any way to do this properly? Some library maybe? Or some way to write a magic \"field wrapper\" that would automatically convert strings to enums, or numbers to timestamps, and so on, but is still compatible with Firebase library for getting/setting data?</p>\n\n<p>(Java solutions are welcome too :) )</p>\n"}, {"tags": ["android", "lambda", "interface", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2174, "user_id": 6475283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-jiDjEDozY2k/AAAAAAAAAAI/AAAAAAAAACM/SP7ueSX6j60/photo.jpg?sz=128", "display_name": "Tomasz Czura", "link": "https://stackoverflow.com/users/6475283/tomasz-czura"}, "reply_to_user": {"reputation": 1406, "user_id": 2947357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7fe16f326274a1a54b247aca7d4f488e?s=128&d=identicon&r=PG&f=1", "display_name": "maphongba008", "link": "https://stackoverflow.com/users/2947357/maphongba008"}, "edited": false, "score": 4, "creation_date": 1484396566, "post_id": 41649585, "comment_id": 70498563, "body": "You can decalre function as:  <code>fun test(handler: () -&gt; Unit)</code> (or other than Unit, if you want to return something)"}, {"owner": {"reputation": 387, "user_id": 6422618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y-ljWL3Okow/AAAAAAAAAAI/AAAAAAAAAcw/jKvHDgW24SQ/photo.jpg?sz=128", "display_name": "Siddharth jain", "link": "https://stackoverflow.com/users/6422618/siddharth-jain"}, "edited": false, "score": 1, "creation_date": 1515743514, "post_id": 41649585, "comment_id": 83424895, "body": "How I can I use the lambda to implement callback feature (Java). I want the implementation in different class and invocation on that in different"}], "tags": [], "owner": {"reputation": 2174, "user_id": 6475283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-jiDjEDozY2k/AAAAAAAAAAI/AAAAAAAAACM/SP7ueSX6j60/photo.jpg?sz=128", "display_name": "Tomasz Czura", "link": "https://stackoverflow.com/users/6475283/tomasz-czura"}, "is_accepted": true, "score": 87, "last_activity_date": 1484394168, "creation_date": 1484394168, "answer_id": 41649585, "question_id": 41649535, "link": "https://stackoverflow.com/questions/41649535/pass-interface-as-parameter-in-kotlin/41649585#41649585", "title": "Pass interface as parameter in Kotlin", "body": "<p>In Kotlin you can do :</p>\n\n<pre><code>test(object: Handler {\n    override fun onComplete() {\n\n    }\n})\n</code></pre>\n\n<p>Or make a property the same way: </p>\n\n<pre><code>val handler = object: Handler {\n    override fun onComplete() {\n\n    }\n}\n</code></pre>\n\n<p>And, somewhere in code: \n    test(handler)</p>\n"}, {"comments": [{"owner": {"reputation": 373, "user_id": 8399495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d4dcf7abc7d47d4c9e4f563f4964d0c?s=128&d=identicon&r=PG&f=1", "display_name": "Sarp Ba\u015faraner", "link": "https://stackoverflow.com/users/8399495/sarp-ba%c5%9faraner"}, "edited": false, "score": 0, "creation_date": 1586178651, "post_id": 60200178, "comment_id": 108024206, "body": "how does this answer the question?"}, {"owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "reply_to_user": {"reputation": 373, "user_id": 8399495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d4dcf7abc7d47d4c9e4f563f4964d0c?s=128&d=identicon&r=PG&f=1", "display_name": "Sarp Ba\u015faraner", "link": "https://stackoverflow.com/users/8399495/sarp-ba%c5%9faraner"}, "edited": false, "score": 1, "creation_date": 1602534419, "post_id": 60200178, "comment_id": 113745842, "body": "@SarpBa\u015faraner What I had answered was like casting to an interface so it did not make much sense regarding the question. I already updated my answer. Thanks"}], "tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": -1, "last_activity_date": 1602534837, "last_edit_date": 1602534837, "creation_date": 1581565668, "answer_id": 60200178, "question_id": 41649535, "link": "https://stackoverflow.com/questions/41649535/pass-interface-as-parameter-in-kotlin/60200178#60200178", "title": "Pass interface as parameter in Kotlin", "body": "<p>Attached is an example of how to pass an object by parameter that represents the value of the data type and invoke behaviors using interface inheritance.</p>\n<pre><code>fun main() {\n\n    val customClass = CustomClass(\n            object : First {\n                override fun first() {\n                    super.first()\n                    println(&quot;first new impl&quot;)\n                }\n                override fun second() {\n                    super.second()\n                    println(&quot;second new impl&quot;)\n                }\n            }\n    )\n\n    customClass.first.first()\n    customClass.first.second()\n\n}\n\ndata class CustomClass(val first: First)\n\ninterface First: Second {\n    fun first() {\n        println(&quot;first default impl&quot;)\n    }\n}\n\n\ninterface Second {\n    fun second() {\n        println(&quot;second default impl&quot;)\n    }\n}\n</code></pre>\n<p>It is worth mentioning that with <code>super.first()</code> or <code>super.second()</code> the default behavior of the interface is being invoked.</p>\n<p>It doesn't make much sense to pass a lamda with an anonymous object as a parameter, <code>lambda: () -&gt; Unit</code> , if what we need is to invoke the functions.</p>\n<p>GL</p>\n<p><a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjcyIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsImpzQ29kZSI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiICAgIGZ1biBtYWluKCkge1xuXG4gICAgICAgIHZhbCBjdXN0b21DbGFzcyA9IEN1c3RvbUNsYXNzKFxuICAgICAgICAgICAgICAgIG9iamVjdCA6IEZpcnN0IHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGUgZnVuIGZpcnN0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VwZXIuZmlyc3QoKVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnRsbihcImZpcnN0IG5ldyBpbXBsXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGUgZnVuIHNlY29uZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyLnNlY29uZCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmludGxuKFwic2Vjb25kIG5ldyBpbXBsXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIClcblxuICAgICAgICBjdXN0b21DbGFzcy5maXJzdC5maXJzdCgpXG4gICAgICAgIGN1c3RvbUNsYXNzLmZpcnN0LnNlY29uZCgpXG5cbiAgICB9XG5cbiAgICBkYXRhIGNsYXNzIEN1c3RvbUNsYXNzKHZhbCBmaXJzdDogRmlyc3QpXG5cbiAgICBpbnRlcmZhY2UgRmlyc3Q6IFNlY29uZCB7XG4gICAgICAgIGZ1biBmaXJzdCgpIHtcbiAgICAgICAgICAgIHByaW50bG4oXCJmaXJzdCBkZWZhdWx0IGltcGxcIilcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgaW50ZXJmYWNlIFNlY29uZCB7XG4gICAgICAgIGZ1biBzZWNvbmQoKSB7XG4gICAgICAgICAgICBwcmludGxuKFwic2Vjb25kIGRlZmF1bHQgaW1wbFwiKVxuICAgICAgICB9XG4gICAgfSJ9\" rel=\"nofollow noreferrer\">Playground</a></p>\n"}, {"comments": [{"owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "edited": false, "score": 0, "creation_date": 1615196281, "post_id": 65775609, "comment_id": 117606903, "body": "thank you this is EXACTLY what I was looking for"}], "tags": [], "owner": {"reputation": 67, "user_id": 9995949, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gSSX2i6rn2U/AAAAAAAAAAI/AAAAAAAAMEU/O7fZAKMRGgA/photo.jpg?sz=128", "display_name": "eliranno", "link": "https://stackoverflow.com/users/9995949/eliranno"}, "is_accepted": false, "score": 2, "last_activity_date": 1610977092, "creation_date": 1610977092, "answer_id": 65775609, "question_id": 41649535, "link": "https://stackoverflow.com/questions/41649535/pass-interface-as-parameter-in-kotlin/65775609#65775609", "title": "Pass interface as parameter in Kotlin", "body": "<p>since your interface has only one function. you can convert it to SAM like this</p>\n<pre><code>fun interface Handler {\n        fun onCompleted()\n}\n\n</code></pre>\n<p>then you can just implement this interface using lambda instead and so reduce the overall written code. this is only possible in v1.4</p>\n"}], "owner": {"reputation": 1406, "user_id": 2947357, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7fe16f326274a1a54b247aca7d4f488e?s=128&d=identicon&r=PG&f=1", "display_name": "maphongba008", "link": "https://stackoverflow.com/users/2947357/maphongba008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17584, "favorite_count": 2, "accepted_answer_id": 41649585, "answer_count": 3, "score": 33, "last_activity_date": 1610977092, "creation_date": 1484393909, "last_edit_date": 1484410794, "question_id": 41649535, "link": "https://stackoverflow.com/questions/41649535/pass-interface-as-parameter-in-kotlin", "title": "Pass interface as parameter in Kotlin", "body": "<p>I want to pass an interface as parameter like this:</p>\n\n<pre><code>class Test {\n    fun main() {\n        test({})\n        // how can I pass here?\n    }\n\n    fun test(handler: Handler) {\n        // do something\n    }\n\n    interface Handler {\n        fun onCompleted()\n    }\n}\n</code></pre>\n\n<p>In Java, I can use anonymous function like <code>test(new Handler() { .......... })</code>, but I can't do this in Kotlin. Anyone know how to do this?</p>\n"}, {"tags": ["android", "architecture", "rx-java", "kotlin", "mvp"], "answers": [{"tags": [], "owner": {"reputation": 15573, "user_id": 397786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8550f0386287de4073e022c401b9d4aa?s=128&d=identicon&r=PG", "display_name": "Tassos Bassoukos", "link": "https://stackoverflow.com/users/397786/tassos-bassoukos"}, "is_accepted": true, "score": 2, "last_activity_date": 1484394240, "creation_date": 1484394240, "answer_id": 41649595, "question_id": 41646040, "link": "https://stackoverflow.com/questions/41646040/mvp-rxjava-put-the-schedulers-in-the-presenter-or-in-the-interactor/41649595#41649595", "title": "MVP + RxJava - Put the Schedulers in the Presenter or in the Interactor?", "body": "<p>If you want to have good composability, I would recommend that you specify your schedulers as late as possible (unless necessary); this usually means right before subscribing. This way you can reuse f.e. <code>login()</code> in another flow without having to thread-hop all the time.</p>\n\n<p>However, this is like, just my opinion...</p>\n"}, {"comments": [{"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "edited": false, "score": 1, "creation_date": 1491316448, "post_id": 43209894, "comment_id": 73492005, "body": "I can create a Scheduler provider and mock it in the Presenter via Depency Injection. You can see a nice example in this repo: <a href=\"https://github.com/googlesamples/android-architecture/tree/todo-mvp-rxjava\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-architecture/tree/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1707, "user_id": 6440190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0xWL.png?s=128&g=1", "display_name": "Bal0r", "link": "https://stackoverflow.com/users/6440190/bal0r"}, "is_accepted": false, "score": 0, "last_activity_date": 1491373478, "last_edit_date": 1491373478, "creation_date": 1491315538, "answer_id": 43209894, "question_id": 41646040, "link": "https://stackoverflow.com/questions/41646040/mvp-rxjava-put-the-schedulers-in-the-presenter-or-in-the-interactor/43209894#43209894", "title": "MVP + RxJava - Put the Schedulers in the Presenter or in the Interactor?", "body": "<p>If you are going to unit test the presenter you should probably put the scheduler in the interactor, because the <code>subscribeOn()</code> one is (most of the time) android related (because of the main thread scheduler) and you won't be able to test your presenter (unless you mock the schedulers) if it has android specific classes inside of it.</p>\n"}], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "accepted_answer_id": 41649595, "answer_count": 2, "score": 4, "last_activity_date": 1491373478, "creation_date": 1484359097, "question_id": 41646040, "link": "https://stackoverflow.com/questions/41646040/mvp-rxjava-put-the-schedulers-in-the-presenter-or-in-the-interactor", "title": "MVP + RxJava - Put the Schedulers in the Presenter or in the Interactor?", "body": "<p>I am developing an Android application with MVP and RxJava. Well, I have a doubt: </p>\n\n<p>When I am creating my presenter and interactor I can put me Schedulers in the presenter, like this:</p>\n\n<p><strong>Schedulers in the Presenter</strong></p>\n\n<p>Presenter: </p>\n\n<pre><code> override fun tryLogin(username: String, password: String) {\n                mLoginInteractor.login(username, password)\n                        .subscribeOn(Schedulers.newThread())\n                        .observeOn(AndroidSchedulers.mainThread())\n                        .subscribe(object : Subscriber&lt;User&gt;(){\n        [...]\n        }\n</code></pre>\n\n<p>Login Interactor:</p>\n\n<pre><code>override fun login(username: String, password: String) =\n mRetrofit.create(ApiClient::class.java).login()\n</code></pre>\n\n<p>Or I can set the Schedulers in the Interactor, like this:</p>\n\n<p><strong>Schedulers in the Interactor</strong></p>\n\n<p>Presenter: </p>\n\n<pre><code> override fun tryLogin(username: String, password: String) {\n                mLoginInteractor.login(username, password)\n                        .subscribe(object : Subscriber&lt;User&gt;(){\n        [...]\n        }\n</code></pre>\n\n<p>Login Interactor:</p>\n\n<pre><code>    override fun login(username: String, password: String) =\n     mRetrofit.create(ApiClient::class.java).login()\n.subscribeOn(Schedulers.newThread())\n.observeOn(AndroidSchedulers.mainThread())\n</code></pre>\n\n<p>I see that Google advices to set Schedulers in the Interactor. You can see this in this link:</p>\n\n<p><a href=\"https://github.com/googlesamples/android-architecture/tree/todo-mvp-rxjava/\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-architecture/tree/todo-mvp-rxjava/</a></p>\n\n<p>But many people put the code in the Presenter, like this example:</p>\n\n<p><a href=\"https://github.com/BoydHogerheijde/Android-MVP-example/blob/master/app/src/main/java/nl/bhogerheijde/example/rxmvp/interactor/Interactor.java\" rel=\"nofollow noreferrer\">https://github.com/BoydHogerheijde/Android-MVP-example/blob/master/app/src/main/java/nl/bhogerheijde/example/rxmvp/interactor/Interactor.java</a></p>\n\n<p>So, <strong>Do I set Schedulers in the Presenter or in the Interactor</strong>?</p>\n\n<p>(I think it's a better idea to put in the Presenter as the Intractor job is only to get the Data, but maybe I am wrong...)</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6517307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-LYqaO69Gb_c/AAAAAAAAAAI/AAAAAAAAAF4/LRZ5nHHN4L0/photo.jpg?sz=128", "display_name": "Ankul Jain", "link": "https://stackoverflow.com/users/6517307/ankul-jain"}, "edited": false, "score": 0, "creation_date": 1484682310, "post_id": 41649267, "comment_id": 70606892, "body": "I have removed <code>compile &quot;org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_vers&zwnj;&#8203;ion&quot;</code> from the project level gradle. Still I get the same error. Could you please tell me what is wrong with the code?"}, {"owner": {"reputation": 395, "user_id": 3002719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SbA9p.jpg?s=128&g=1", "display_name": "SilSur", "link": "https://stackoverflow.com/users/3002719/silsur"}, "edited": false, "score": 0, "creation_date": 1504464100, "post_id": 41649267, "comment_id": 79012885, "body": "This post finally alleviated my 4-day frustration with this duplication problem: <b>Remove compile &quot;org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_vers&zwnj;&#8203;ion&quot; from your gradle</b>. Thanks @Tomasz Czura"}], "tags": [], "owner": {"reputation": 2174, "user_id": 6475283, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-jiDjEDozY2k/AAAAAAAAAAI/AAAAAAAAACM/SP7ueSX6j60/photo.jpg?sz=128", "display_name": "Tomasz Czura", "link": "https://stackoverflow.com/users/6475283/tomasz-czura"}, "is_accepted": true, "score": 1, "last_activity_date": 1484730911, "last_edit_date": 1484730911, "creation_date": 1484392146, "answer_id": 41649267, "question_id": 41642982, "link": "https://stackoverflow.com/questions/41642982/duplicatefileexception-in-apk-build-using-kotlin/41649267#41649267", "title": "DuplicateFileException in apk build using Kotlin", "body": "<p>Remove <code>compile \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"</code> from your gradle</p>\n\n<p>Remove also all <code>buildscript</code> section from you app level gradle</p>\n"}, {"comments": [{"owner": {"reputation": 395, "user_id": 3002719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SbA9p.jpg?s=128&g=1", "display_name": "SilSur", "link": "https://stackoverflow.com/users/3002719/silsur"}, "edited": false, "score": 0, "creation_date": 1504463960, "post_id": 42717654, "comment_id": 79012834, "body": "This was the MOST useful bit of information &quot;<b>you don&#39;t need the android-extensions dependency anymore, as it&#39;s bundled into the plugin</b>&quot; I came across during the 4 days of struggling with this problem!! BIG THANKS @VeteR_OK"}], "tags": [], "owner": {"reputation": 127, "user_id": 3928938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edec0daa77ea6b07c84c93408abb368?s=128&d=identicon&r=PG&f=1", "display_name": "VeteR_OK", "link": "https://stackoverflow.com/users/3928938/veter-ok"}, "is_accepted": false, "score": 1, "last_activity_date": 1489490727, "last_edit_date": 1489490727, "creation_date": 1489146375, "answer_id": 42717654, "question_id": 41642982, "link": "https://stackoverflow.com/questions/41642982/duplicatefileexception-in-apk-build-using-kotlin/42717654#42717654", "title": "DuplicateFileException in apk build using Kotlin", "body": "<p>Try this one:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\ncompile (\"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\") {\n    transitive = false\n}\n</code></pre>\n\n<p>Also you don't need the android-extensions dependency anymore, as it's bundled into the plugin. Just having the <code>apply plugin: 'kotlin-android-extensions'</code> in your gradle is enough.</p>\n"}], "owner": {"reputation": 35, "user_id": 6517307, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-LYqaO69Gb_c/AAAAAAAAAAI/AAAAAAAAAF4/LRZ5nHHN4L0/photo.jpg?sz=128", "display_name": "Ankul Jain", "link": "https://stackoverflow.com/users/6517307/ankul-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 810, "favorite_count": 0, "accepted_answer_id": 41649267, "answer_count": 2, "score": 1, "last_activity_date": 1489490727, "creation_date": 1484339472, "question_id": 41642982, "link": "https://stackoverflow.com/questions/41642982/duplicatefileexception-in-apk-build-using-kotlin", "title": "DuplicateFileException in apk build using Kotlin", "body": "<p>I am trying to build a basic app using Kotlin/Anko but I am getting the following duplicate file exception </p>\n\n<blockquote>\n  <p>Execution failed for task\n  ':app:transformResourcesWithMergeJavaResForDebug'.>\n  com.android.build.api.transform.TransformException: \n  com.android.builder.packaging.DuplicateFileException: Duplicate files\n  copied in APK kotlin/internal/internal.kotlin_builtins    File1:\n  C:\\Users\\mahesh.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-runtime\\1.0.6.\\3562c66f648480d3bd4f76cff722488ced13445b\\kotlin-runtime-1.0.6.jar   File2:\n  C:\\Users\\mahesh.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.0.6\\4008eb91a337b377dae7e4572b8b543e5321f549\\kotlin-compiler-embeddable-1.0.6.jar</p>\n</blockquote>\n\n<p>Following is the code for the app level gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nbuildscript {\n    ext.kotlin_version = '1.0.6'\n\n    repositories {\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nrepositories {\n    jcenter()\n}\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.2\"\n\n    defaultConfig {\n        applicationId \"com.example.kotlin.androdikotlinexample\"\n        minSdkVersion 15\n        targetSdkVersion 23\n        versionCode 1\n        versionName \"1.0\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.android.support:design:23.1.1'\n\n    //kotlin\n    compile \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    //anko\n    compile \"org.jetbrains.anko:anko-design:0.8.3\"\n    compile \"org.jetbrains.anko:anko-support-v4:0.8.3\"\n    compile \"org.jetbrains.anko:anko-sdk15:0.8.3\"\n    compile 'org.jetbrains.anko:anko-appcompat-v7:0.8.3'\n\n}\n</code></pre>\n\n<p>Following is the code for Project level gradle file:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.0.6'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>And this is the basic code for the MainUI file </p>\n\n<pre><code>class MainUI : AnkoComponent&lt;MainActivityKotlin&gt; {\n    override fun createView(ui: AnkoContext&lt;MainActivityKotlin&gt;): View = with(ui) {\n        coordinatorLayout {\n            verticalLayout {\n                // maybe put some content here\n            }\n            floatingActionButton {\n                imageResource = android.R.drawable.ic_menu_edit\n                onClick {\n                    ui.owner.startActivityForResult&lt;MainActivityKotlin&gt;(1)\n                }\n            }.lparams {\n                gravity = Gravity.BOTTOM or Gravity.END\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And the content is set on MainActivityKotlin file using the method <code>MainUI().setContentView(this)</code> in its <code>onCreatemethod</code>.</p>\n\n<p>I have tried deleting the gradle cache and building the project again but nothing works. Please let me know where am I going wrong?</p>\n"}, {"tags": ["kotlin", "kotlintest"], "answers": [{"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 1, "last_activity_date": 1484336849, "creation_date": 1484336849, "answer_id": 41642377, "question_id": 41641472, "link": "https://stackoverflow.com/questions/41641472/is-it-possible-to-retrieve-the-string-within-the-lambda-expression/41642377#41642377", "title": "Is it possible to retrieve the string within the lambda expression?", "body": "<p>You would have to store a reference to the string yourself. Something like</p>\n\n<pre><code>class stl : StringSpec() {\n    init {\n        val spek = \"triangle.stl\"\n        spek {\n             // use spek in here\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 3, "last_activity_date": 1484337258, "last_edit_date": 1484337258, "creation_date": 1484336877, "answer_id": 41642383, "question_id": 41641472, "link": "https://stackoverflow.com/questions/41641472/is-it-possible-to-retrieve-the-string-within-the-lambda-expression/41642383#41642383", "title": "Is it possible to retrieve the string within the lambda expression?", "body": "<p>It doesn't look like <code>StringSpec</code> exposes this information but you can extend <code>StringSpec</code> to do so. e.g.:</p>\n\n<pre><code>class Spec : StringSpec() {\n    init {\n        \"triangle.stl\" { testCase -&gt;\n            println(testCase.name)\n        }\n    }\n\n    operator fun String.invoke(test: (TestCase) -&gt; Unit): TestCase {\n        var tc: TestCase? = null\n        tc = invoke(fun() { test(tc!!) })\n        return tc\n    }\n}\n</code></pre>\n\n<p>Or to avoid function conflicts with the exsting <code>String.invoke</code> you could extend it with your own syntax. e.g.:</p>\n\n<pre><code>class Spec : StringSpec() {\n    init {\n        \"triangle.stl\" testCase {\n            println(name)\n        }\n    }\n\n    infix fun String.testCase(test: TestCase.() -&gt; Unit): TestCase {\n        var tc: TestCase? = null\n        tc = invoke { test(tc!!) }\n        return tc\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 41642383, "answer_count": 2, "score": 2, "last_activity_date": 1484337258, "creation_date": 1484333324, "question_id": 41641472, "link": "https://stackoverflow.com/questions/41641472/is-it-possible-to-retrieve-the-string-within-the-lambda-expression", "title": "Is it possible to retrieve the string within the lambda expression?", "body": "<p>Writing tests using <em>String Spec</em>:</p>\n\n<pre><code>class stl : StringSpec() {\n\n    init {\n\n        \"triangle.stl\" {\n             ...\n        }\n    }\n}\n</code></pre>\n\n<p>Is it possible to retrieve <code>\"triangle.stl\"</code> within the lambda expression?</p>\n"}, {"tags": ["java", "spring", "hibernate", "spring-mvc", "kotlin"], "comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1602180292, "post_id": 41636745, "comment_id": 113646465, "body": "I know it&#39;s been 3 years, but did you have any success resolving this? I just stumbled upon this now. I can&#39;t use inheritance with TABLE_PER_CLASS because it requires me to define Id in subclasses.."}], "answers": [{"tags": [], "owner": {"reputation": 92, "user_id": 1309260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b701fb8a351a8a30adf58380edf2317c?s=128&d=identicon&r=PG", "display_name": "Manos Batsis", "link": "https://stackoverflow.com/users/1309260/manos-batsis"}, "is_accepted": false, "score": 3, "last_activity_date": 1485257061, "creation_date": 1485257061, "answer_id": 41827010, "question_id": 41636745, "link": "https://stackoverflow.com/questions/41636745/spring-data-jpa-hibernate-unable-to-locate-attribute-with-the-given-name/41827010#41827010", "title": "Spring Data JPA / Hibernate &quot;Unable to locate Attribute with the given name&quot;", "body": "<p>In my case, using pure java, the cause was that an abstract @MappedSuperClass defined abstract getter/setter methods according to an interface, but did not define the actual member field. </p>\n\n<p>The error went away after removing the getter/setter methods from the abstract class, there was no need for them after all. HTH</p>\n"}, {"comments": [{"owner": {"reputation": 779, "user_id": 6697093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-WA820H1e7wg/AAAAAAAAAAI/AAAAAAAABTE/ejlPYwraCAM/photo.jpg?sz=128", "display_name": "Julio Villane", "link": "https://stackoverflow.com/users/6697093/julio-villane"}, "edited": false, "score": 0, "creation_date": 1501530518, "post_id": 45424167, "comment_id": 77809606, "body": "in my case was @NamedEntityGraph"}], "tags": [], "owner": {"reputation": 779, "user_id": 6697093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-WA820H1e7wg/AAAAAAAAAAI/AAAAAAAABTE/ejlPYwraCAM/photo.jpg?sz=128", "display_name": "Julio Villane", "link": "https://stackoverflow.com/users/6697093/julio-villane"}, "is_accepted": false, "score": 0, "last_activity_date": 1501530484, "creation_date": 1501530484, "answer_id": 45424167, "question_id": 41636745, "link": "https://stackoverflow.com/questions/41636745/spring-data-jpa-hibernate-unable-to-locate-attribute-with-the-given-name/45424167#45424167", "title": "Spring Data JPA / Hibernate &quot;Unable to locate Attribute with the given name&quot;", "body": "<p>A wider possibility is that you refactorized an attribute name but with an inconsistency in a:</p>\n\n<ul>\n<li>getter and/or setter</li>\n<li>@Query</li>\n<li>@NamedEntityGraphs</li>\n<li>@NamedQuery</li>\n</ul>\n"}], "owner": {"reputation": 660, "user_id": 4868095, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/d56dfd15261094dfcf7a036dc6d4826a?s=128&d=identicon&r=PG", "display_name": "Heady", "link": "https://stackoverflow.com/users/4868095/heady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15807, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1501530484, "creation_date": 1484317455, "question_id": 41636745, "link": "https://stackoverflow.com/questions/41636745/spring-data-jpa-hibernate-unable-to-locate-attribute-with-the-given-name", "title": "Spring Data JPA / Hibernate &quot;Unable to locate Attribute with the given name&quot;", "body": "<p>We have a problem with a Spring Web Application and Hibernate. It is written in Kotlin.\n We have an abstract Entity</p>\n\n<pre><code>@Inheritance(strategy = InheritanceType.JOINED)\nabstract @Entity class ContactLogEntry protected constructor() {\n\n    @GeneratedValue @Id val id: Long = 0\n\n\n    @ManyToOne\n    @JoinColumn\n    protected lateinit var _contact: AbstractContact\n    open val contact: AbstractContact? get() = _contact\n\n  @ManyToOne\n    protected var _user: User? = null\n    open val user: User? get() = _user\n</code></pre>\n\n<p>And some of those:</p>\n\n<pre><code>@Entity class MailLogEntry() : ContactLogEntry() {\n\n\n    override var contact: Lead\n        get() = super.contact as Lead\n        set(value) {\n            super._contact = value\n        }\n\n override var user: Telephonist\n        get() = super.user as Telephonist\n        private set(value) {\n            super._user = value\n        }\n</code></pre>\n\n<p>Note that \"Lead\" inherits directly from \"AbstractContact\". The Problem is with the property <code>contact</code>. The User Property, where Telephonist inherits directly from User, works fine.</p>\n\n<p>We get <code>Unable to locate Attribute  with the the given name [contact] on this ManagedType (PATH to ContactLogEntry)</code></p>\n\n<p>We did it the same way before, where it works. Really no clue whats wrong.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 3, "creation_date": 1484302253, "post_id": 41631913, "comment_id": 70463924, "body": "<code>.firstOrNull { it != null }</code> is not the same as <code>firstOrNull()</code>. The first will return the first non-null element, or null if the sequence is empty. The latter will return the first element regardless of whether it&#39;s null or not (or null if it&#39;s empty)."}, {"owner": {"reputation": 1069, "user_id": 574082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c7c3ed46e436736f53f34aa6b9cdda0?s=128&d=identicon&r=PG", "display_name": "blootsvoets", "link": "https://stackoverflow.com/users/574082/blootsvoets"}, "edited": false, "score": 1, "creation_date": 1593608085, "post_id": 41631913, "comment_id": 110839939, "body": "Alternatively, use <code>this.asSequence().mapNotNull { transform(it) }.firstOrNull()</code>"}, {"owner": {"reputation": 2852, "user_id": 3047318, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QPoQU.jpg?s=128&g=1", "display_name": "Pavel Shorokhov", "link": "https://stackoverflow.com/users/3047318/pavel-shorokhov"}, "edited": false, "score": 0, "creation_date": 1611165360, "post_id": 41631913, "comment_id": 116365778, "body": "Avoiding it != null can be with: .mapNotNull { ... }.firstOrNull()"}, {"owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "edited": false, "score": 0, "creation_date": 1611209108, "post_id": 41631913, "comment_id": 116378013, "body": "I&#39;ve edited the answer with the above suggestion"}], "tags": [], "owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "is_accepted": true, "score": 15, "last_activity_date": 1611209079, "last_edit_date": 1611209079, "creation_date": 1484301811, "answer_id": 41631913, "question_id": 41631856, "link": "https://stackoverflow.com/questions/41631856/kotlin-short-circuit-map-firstornull/41631913#41631913", "title": "Kotlin short circuit map{}.firstOrNull{}", "body": "<p>Kotlin has lazily evaluated <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/\" rel=\"nofollow noreferrer\">sequences</a> that correspond to Java 8 streams, instead of invoking <code>stream()</code> on a collection, you invoke <code>asSequence()</code>:</p>\n<pre><code>return this\n        .asSequence()\n        .mapNotNull { transform(it) }\n        .firstOrNull()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1547, "user_id": 1020871, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2af0b561054a608a7f1877deaeb3f748?s=128&d=identicon&r=PG", "display_name": "Love", "link": "https://stackoverflow.com/users/1020871/love"}, "edited": false, "score": 1, "creation_date": 1484306709, "post_id": 41632980, "comment_id": 70466590, "body": "Depending on the transformation this could give much overhead. But for my case I need the transformation to only execute once"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1484304981, "creation_date": 1484304981, "answer_id": 41632980, "question_id": 41631856, "link": "https://stackoverflow.com/questions/41631856/kotlin-short-circuit-map-firstornull/41632980#41632980", "title": "Kotlin short circuit map{}.firstOrNull{}", "body": "<p>I wonder what is faster, the @ingoKegel's solution, or this:</p>\n\n<pre><code>return this.firstOrNull { transform(it) != null }?.let { transform(it) }\n</code></pre>\n"}], "owner": {"reputation": 1547, "user_id": 1020871, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2af0b561054a608a7f1877deaeb3f748?s=128&d=identicon&r=PG", "display_name": "Love", "link": "https://stackoverflow.com/users/1020871/love"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5450, "favorite_count": 1, "accepted_answer_id": 41631913, "answer_count": 2, "score": 6, "last_activity_date": 1611209079, "creation_date": 1484301600, "last_edit_date": 1484310740, "question_id": 41631856, "link": "https://stackoverflow.com/questions/41631856/kotlin-short-circuit-map-firstornull", "title": "Kotlin short circuit map{}.firstOrNull{}", "body": "<p>I need to map a list and retrieve the first non null element, and I need the map operation to be short circuited like it should be in Java 8 streams API. Is there a ready way to do this in Kotlin, without Java 8 streams?</p>\n\n<p>I created my own extension method to do this:</p>\n\n<pre><code>fun &lt;T, R&gt; Iterable&lt;T&gt;.firstNonNullMapping(transform: (T) -&gt; R?): R? {\n    for (element in this) {\n        val result = transform(element)\n        if (result != null) {\n            return result\n        }\n    }\n    return null\n}\n</code></pre>\n\n<p>A test proves that this works</p>\n\n<pre><code>val firstNonNullMapping = listOf(null, 'a', 'b')\n        .firstNonNullMapping {\n            assertNotEquals(it, 'b') // Mapping should be stopped before reaching 'b'\n            it\n        }\nassertEquals(firstNonNullMapping, 'a')\n</code></pre>\n\n<p>IntelliJ, however, suggest that I replace my for loop with the much neater</p>\n\n<pre><code>return this\n        .map { transform(it) }\n        .firstOrNull { it != null }\n</code></pre>\n\n<p>Problem is that this will map all elements of the iterable, and it is essential to my use case that is stops at the first non null element.</p>\n"}, {"tags": ["spring", "maven", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 7196, "user_id": 1048093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1ac70d9112d2076be39ef7d531aa4f?s=128&d=identicon&r=PG", "display_name": "wemu", "link": "https://stackoverflow.com/users/1048093/wemu"}, "edited": false, "score": 1, "creation_date": 1484307051, "post_id": 41629871, "comment_id": 70466788, "body": "if you use the <a href=\"http://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> project generator (switch to the full version) you can choose spring boot 2 snapshot and kotlin as a language. for both maven and gradle. everything is in there. that should be a good starting point :)"}, {"owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "reply_to_user": {"reputation": 7196, "user_id": 1048093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1ac70d9112d2076be39ef7d531aa4f?s=128&d=identicon&r=PG", "display_name": "wemu", "link": "https://stackoverflow.com/users/1048093/wemu"}, "edited": false, "score": 1, "creation_date": 1484319872, "post_id": 41629871, "comment_id": 70474727, "body": "It seems I was fooled by IntelliJ\u2019s Spring Initializr support which didn\u2019t offer me that. Thank you! Care to turn it into an answer?"}, {"owner": {"reputation": 7196, "user_id": 1048093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1ac70d9112d2076be39ef7d531aa4f?s=128&d=identicon&r=PG", "display_name": "wemu", "link": "https://stackoverflow.com/users/1048093/wemu"}, "edited": false, "score": 0, "creation_date": 1484327906, "post_id": 41629871, "comment_id": 70479883, "body": "oh sure! Glad it solved what you where looking for :)"}], "answers": [{"tags": [], "owner": {"reputation": 7196, "user_id": 1048093, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1ac70d9112d2076be39ef7d531aa4f?s=128&d=identicon&r=PG", "display_name": "wemu", "link": "https://stackoverflow.com/users/1048093/wemu"}, "is_accepted": true, "score": 10, "last_activity_date": 1484327885, "creation_date": 1484327885, "answer_id": 41640053, "question_id": 41629871, "link": "https://stackoverflow.com/questions/41629871/spring-boot-2-and-kotlin-with-maven/41640053#41640053", "title": "Spring Boot 2 and Kotlin (with Maven)", "body": "<p>if you use the <a href=\"http://start.spring.io/\" rel=\"noreferrer\">start.spring.io</a> project generator (<strong>switch to the full version</strong>) you can choose spring boot 2 snapshot and kotlin as a language. For both maven and gradle based builds. Everything is in there. </p>\n\n<p>That should be a good starting point :) </p>\n"}], "owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2085, "favorite_count": 4, "accepted_answer_id": 41640053, "answer_count": 1, "score": 6, "last_activity_date": 1514489211, "creation_date": 1484294482, "last_edit_date": 1514489211, "question_id": 41629871, "link": "https://stackoverflow.com/questions/41629871/spring-boot-2-and-kotlin-with-maven", "title": "Spring Boot 2 and Kotlin (with Maven)", "body": "<p>I want to start a new project using Spring Boot 2 (that\u2019s build snapshots for the time being), which in turn uses Spring Framework 5 (bleeding edge as well). Reason is that Spring 5 is supposed to have <a href=\"https://spring.io/blog/2017/01/04/introducing-kotlin-support-in-spring-framework-5-0\" rel=\"nofollow noreferrer\">much improved Kotlin support</a>, and I would like to use Kotlin.</p>\n\n<p>Now the <a href=\"https://github.com/sdeleuze/spring-boot-kotlin-demo\" rel=\"nofollow noreferrer\">example</a> that I find use Spring Boot 1.4.3, and of course Gradle, and of course Kotlin-based Gradle file. To be honest, this is too much new technology for me for a single project. I don\u2019t even know how to add a new repository to the Gradle (Kotlin-Gradle!) build script. I would prefer a Maven project, since I\u2019m familiar with that at least, and brand-new Spring and Kotlin will be enough experimentation.</p>\n\n<p>So, how to do this in Maven? What\u2019s the <code>kotlin-spring</code> plugin called there that I see referenced for Gradle?</p>\n"}, {"tags": ["delegates", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 6, "creation_date": 1484298503, "post_id": 41630295, "comment_id": 70461710, "body": "The other way around works too - when you modify <code>name</code>, the map is modified accordingly"}], "tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": 10, "last_activity_date": 1484296919, "last_edit_date": 1484296919, "creation_date": 1484296208, "answer_id": 41630295, "question_id": 41629688, "link": "https://stackoverflow.com/questions/41629688/kotlin-when-to-delegate-by-map/41630295#41630295", "title": "Kotlin, when to delegate by map?", "body": "<p>Difference is that in the first example with delegate, all you have to do is to put map to the constructor and done.</p>\n\n<pre><code>val user = MutableUser(mutableMapOf(\n        \"name\" to \"John Doe\",\n        \"age\"  to 25\n))\n\nprintln(user.name) // Prints \"John Doe\"\nprintln(user.age)  // Prints 25\n</code></pre>\n\n<p>But for this to work the same with your second example, you have to implement initialization of properties from map yourself.</p>\n\n<pre><code>class MutableUser(val map: MutableMap&lt;String, Any?&gt;) {\n    var name: String\n    var age: Int\n\n    init {\n        name = map[\"name\"].toString()\n        age = map[\"age\"].toString().toInt()\n    }\n}\n</code></pre>\n\n<p>One common use case would be implementing a JSON parser.</p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"noreferrer\">Storing Properties in a Map</a></li>\n</ul>\n"}], "owner": {"reputation": 3643, "user_id": 4206925, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PhlNi.png?s=128&g=1", "display_name": "MewX", "link": "https://stackoverflow.com/users/4206925/mewx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2081, "favorite_count": 0, "accepted_answer_id": 41630295, "answer_count": 1, "score": 12, "last_activity_date": 1484296919, "creation_date": 1484293641, "question_id": 41629688, "link": "https://stackoverflow.com/questions/41629688/kotlin-when-to-delegate-by-map", "title": "Kotlin, when to delegate by map?", "body": "<p>I checked the documentation on <code>delegate</code>, and I found there was a provided delegate type <code>map</code>:</p>\n\n<pre><code>class MutableUser(val map: MutableMap&lt;String, Any?&gt;) {\n    var name: String by map\n    var age: Int     by map\n}\n</code></pre>\n\n<p>But I couldn't figure out what's the difference between the version without <code>delegate</code>, like this:</p>\n\n<pre><code>class MutableUser(val map: MutableMap&lt;String, Any?&gt;) {\n    var name: String\n    var age: Int\n}\n</code></pre>\n\n<p>And what's the common usage for the delegate <code>by map</code>?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 3, "creation_date": 1484307098, "post_id": 41629325, "comment_id": 70466814, "body": "Not actually relevant, but there is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/retain-all.html\" rel=\"nofollow noreferrer\"><code>retainAll</code></a> function that removes all the items not contained in another collection, though it doesn&#39;t add the missing ones."}, {"owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1507098701, "post_id": 41629325, "comment_id": 80070511, "body": "@s1m0nw1 There is no such method. Instead you can use the extension method like above."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1533220150, "post_id": 41629325, "comment_id": 90275785, "body": "@miensol, why hope? It&#39;s a standard operation to set new items without recreating a list."}, {"owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 2, "creation_date": 1533325372, "post_id": 41629325, "comment_id": 90321517, "body": "@CoolMind In Android, We use listview with an adapter to show a list of elements. The adapter takes in listOfChecklist as a parameter once we pass the list to the adapter it binds together, the only thing we can do is add or remove items in listOfChecklist which will automatically update the listview once we notify adapter. If we change the reference to new list &quot;listOfChecklist = newlist&quot; and boom, we are doomed and we can only see empty listview. To bring back listview, recreate everything after changing the reference which is a time-consuming job. So I was looking for clearAndAddAll."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1534261436, "post_id": 41629325, "comment_id": 90643762, "body": "@SaiKiran, I agree with you and do the same. So, your method is useful."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 14, "last_activity_date": 1571200863, "last_edit_date": 1571200863, "creation_date": 1506421646, "answer_id": 46423950, "question_id": 41629325, "link": "https://stackoverflow.com/questions/41629325/list-clear-and-addall-in-single-statement-kotlin/46423950#46423950", "title": "List clear and addAll in single statement Kotlin", "body": "<p>It's not possible to do this. An idiomatic way to solve your case would be using a scope function like <code>with</code>.</p>\n\n<pre><code>val list = mutableListOf&lt;String&gt;()\n\nwith(list){\n    clear()\n    addAll(arrayListOf())\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "edited": false, "score": 1, "creation_date": 1533324981, "post_id": 46612146, "comment_id": 90321341, "body": "You are absolutely right but in case of android, We use listview with an adapter to show a list of elements. The adapter takes in listOfChecklist as a parameter once we pass the list to the adapter it binds together, the only thing we can do is add or remove items in listOfChecklist which will automatically update the listview once we notify adapter. If we change the reference to new list &quot;listOfChecklist = newlist&quot; and boom, we are doomed and we can only see empty listview.To bring back listview, recreate everything after changing the reference which is a time-consuming job. So clearAndAddAll"}, {"owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "edited": false, "score": 0, "creation_date": 1533325185, "post_id": 46612146, "comment_id": 90321435, "body": "I should explain a bit more, in my question. I will update it when soon."}, {"owner": {"reputation": 1199, "user_id": 2424380, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9e5abda8a6c25ef3624d161296b33f?s=128&d=identicon&r=PG", "display_name": "user2424380", "link": "https://stackoverflow.com/users/2424380/user2424380"}, "edited": false, "score": 1, "creation_date": 1589801635, "post_id": 46612146, "comment_id": 109427852, "body": "Saying &quot;bad design&quot; is like a doctor diagnosing a patient without seeing him. There are times when it is certainly true, and sometimes it is not, there is a bit more to it: <a href=\"https://stackoverflow.com/questions/6961356/list-clear-vs-list-new-arraylistinteger\" title=\"list clear vs list new arraylistinteger\">stackoverflow.com/questions/6961356/&hellip;</a> If you want to keep the list size, clear() is better than creating a new."}, {"owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "edited": false, "score": 1, "creation_date": 1595315410, "post_id": 46612146, "comment_id": 111423846, "body": "Coming back after a few years of experience in programming. Your points perfectly make sense to me now. Avoid clear/addAll all together use newlists directly, and just in case if we end up using clear/addAll using two lines makes the code more readable."}], "tags": [], "owner": {"reputation": 79, "user_id": 1277145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9nvxX.jpg?s=128&g=1", "display_name": "LittleLight", "link": "https://stackoverflow.com/users/1277145/littlelight"}, "is_accepted": false, "score": 1, "last_activity_date": 1507315796, "creation_date": 1507315796, "answer_id": 46612146, "question_id": 41629325, "link": "https://stackoverflow.com/questions/41629325/list-clear-and-addall-in-single-statement-kotlin/46612146#46612146", "title": "List clear and addAll in single statement Kotlin", "body": "<p>My answer will be rather philosophical, so here are my thoughts:</p>\n\n<ol>\n<li><p>If you really feel the need to merge these 2 operations into one line of code, it suggests you use this very often.</p></li>\n<li><p>If you use this design pattern very often, it seems to me that there is something quite wrong in your overall design of your application/class and here I totally agree with the \"I hope there's no such method\" comment by @miensol.</p></li>\n<li><p>If you don't use it often, I think that leaving it on 2 lines of code makes it much more readable.</p></li>\n<li><p>Clearing the \"listOfChecklist\" makes sense only if \"newlist\" gets cleared at some point too, otherwise you could just keep the reference like: <em>\"listOfChecklist = newlist\"</em> and boom! You're done ...</p></li>\n<li><p>If you use mutable lists a lot, which are being cleared and their elements are being copied between each other, again, it seem to me as an over-use of mutable state, which makes your code difficult to reason about. I would suggest to look at some core functional programming principles which will get you rid of the clear/addAll concerns completely :-).</p></li>\n<li><p>I am not a performance expert, but for most of the use cases I don't really see a reasonable benefit of reusing an existing list instead of just simply cloning it (if you really need to keep the elements for some reason) and speaking of performance itself, the JVM almost always does a good job anyway.</p></li>\n</ol>\n\n<p><strong>Conclusion:</strong> What I would suggest is to keep it on 2 lines if you really need it or design your code in a way so that you completely avoid the need for clear/addAll. Otherwise you can just go with your extension function or whatever makes you feel happy.</p>\n"}], "owner": {"reputation": 12577, "user_id": 2102794, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/BrKf5.jpg?s=128&g=1", "display_name": "Sai", "link": "https://stackoverflow.com/users/2102794/sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18628, "favorite_count": 0, "answer_count": 2, "score": 14, "last_activity_date": 1579079235, "creation_date": 1484292049, "last_edit_date": 1516052081, "question_id": 41629325, "link": "https://stackoverflow.com/questions/41629325/list-clear-and-addall-in-single-statement-kotlin", "title": "List clear and addAll in single statement Kotlin", "body": "<p>Is there any method in kotlin which replaces below two line into one. I know i can create a extension function but I'm eager to know if it already exist in kotlin. Something like <code>listOfChecklist.clearAndAddAll()</code>.</p>\n\n<pre><code>listOfChecklist.clear()\nlistOfChecklist.addAll(newList)\n</code></pre>\n\n<p>This is what I'm doing now manually using an extension function. But I hope there is a better solution.</p>\n\n<pre><code>fun &lt;E&gt; MutableCollection&lt;E&gt;.clearAndAddAll(replace: MutableSet&lt;E&gt;) {\n    clear()\n    addAll(replace)\n}\n</code></pre>\n"}, {"tags": ["md5", "kotlin"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1484315393, "post_id": 41626319, "comment_id": 70471814, "body": "Your example test passes for me."}, {"owner": {"reputation": 3926, "user_id": 2327342, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Swo06.jpg?s=128&g=1", "display_name": "regmoraes", "link": "https://stackoverflow.com/users/2327342/regmoraes"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1484320669, "post_id": 41626319, "comment_id": 70475229, "body": "@mfulton26 which version of kotlin are you using?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1484332949, "post_id": 41626319, "comment_id": 70482631, "body": "I&#39;m using Kotlin 1.0.6."}, {"owner": {"reputation": 3926, "user_id": 2327342, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Swo06.jpg?s=128&g=1", "display_name": "regmoraes", "link": "https://stackoverflow.com/users/2327342/regmoraes"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1484346320, "post_id": 41626319, "comment_id": 70488613, "body": "Me too. Still not working. I&#39;m using  library <code>commons-codec:commons-codec:1.10</code>"}, {"owner": {"reputation": 1183, "user_id": 1511077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/688ec604ef6cb96baadeaaa5d4036858?s=128&d=identicon&r=PG&f=1", "display_name": "Evgeny Lebedev", "link": "https://stackoverflow.com/users/1511077/evgeny-lebedev"}, "edited": false, "score": 0, "creation_date": 1503733941, "post_id": 41626319, "comment_id": 78745489, "body": "kotlin 1.1.4-2 doesn&#39;t have such problem :)"}], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "edited": false, "score": 0, "creation_date": 1563530076, "post_id": 48465808, "comment_id": 100739348, "body": "&quot;Base64.encodeToString&quot; shows unresolved reference, any suggestion?"}, {"owner": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "reply_to_user": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "edited": false, "score": 1, "creation_date": 1563530693, "post_id": 48465808, "comment_id": 100739628, "body": "@SARATHV You probably imported <code>java.util.Base64</code>. I used <code>android.util.Base64</code> class which you can find here <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/util/Base64.java#455\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/master/c&zwnj;&#8203;ore/&hellip;</a>"}], "tags": [], "owner": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "is_accepted": false, "score": 2, "last_activity_date": 1516985271, "creation_date": 1516985271, "answer_id": 48465808, "question_id": 41626319, "link": "https://stackoverflow.com/questions/41626319/digestutils-md5hex-generates-wrong-hash-value-when-passing-string-object/48465808#48465808", "title": "DigestUtils.md5Hex() generates wrong hash value when passing String object", "body": "<p>Here is a complete solution to get MD5 base64 hash:</p>\n\n<pre><code>fun getMd5Base64(encTarget: ByteArray): String? {\n    val mdEnc: MessageDigest?\n    try {\n        mdEnc = MessageDigest.getInstance(\"MD5\")\n        // Encryption algorithmy\n        val md5Base16 = BigInteger(1, mdEnc.digest(encTarget))     // calculate md5 hash\n        return Base64.encodeToString(md5Base16.toByteArray(), 16).trim()     // convert from base16 to base64 and remove the new line character\n    } catch (e: NoSuchAlgorithmException) {\n        e.printStackTrace()\n        return null\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 933, "user_id": 9885611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3Ilg.jpg?s=128&g=1", "display_name": "Hossein Yousefpour", "link": "https://stackoverflow.com/users/9885611/hossein-yousefpour"}, "is_accepted": false, "score": 0, "last_activity_date": 1556266934, "creation_date": 1556266934, "answer_id": 55863582, "question_id": 41626319, "link": "https://stackoverflow.com/questions/41626319/digestutils-md5hex-generates-wrong-hash-value-when-passing-string-object/55863582#55863582", "title": "DigestUtils.md5Hex() generates wrong hash value when passing String object", "body": "<p>This is the most simple and complete solution in kotlin:</p>\n\n<pre><code>val hashedStr = String.format(\"%032x\", BigInteger(1, MessageDigest.getInstance(\"MD5\").digest(\"your string value\".toByteArray(Charsets.UTF_8))))\n</code></pre>\n"}], "owner": {"reputation": 3926, "user_id": 2327342, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/Swo06.jpg?s=128&g=1", "display_name": "regmoraes", "link": "https://stackoverflow.com/users/2327342/regmoraes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6637, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1556266934, "creation_date": 1484273269, "question_id": 41626319, "link": "https://stackoverflow.com/questions/41626319/digestutils-md5hex-generates-wrong-hash-value-when-passing-string-object", "title": "DigestUtils.md5Hex() generates wrong hash value when passing String object", "body": "<p>I'm trying to generate a md5 hash in Kotlin using the <code>DigestUtils</code> class from the <code>org.apache.commons.codec</code>. Here's the test code</p>\n\n<pre><code>@Test\nfun md5Test(){\n\n    val userPassword: String = \"123\"\n    val md5Hash: String = \"202cb962ac59075b964b07152d234b70\"\n\n    assertEquals(md5Hash, DigestUtils.md5Hex(userPassword))\n}\n</code></pre>\n\n<p>The problem is that when I run this test it fails and says that the generated md5 hash is <strong>28c1a138574866e9c2e5a19dca9234ce</strong></p>\n\n<p>But... when I pass the String value instead of the object</p>\n\n<pre><code>assertEquals(md5Hash, DigestUtils.md5Hex(\"123\"))\n</code></pre>\n\n<p>The test passes without errors</p>\n\n<p>Why this is happening?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 4, "creation_date": 1484254338, "post_id": 41620937, "comment_id": 70446882, "body": "Just a helpful hint, you can shorten that to <code>val numsPlusOne = nums.map { it + 1 }</code> (because <code>it</code> is implied if not specified, and if <code>it + 1</code> is the last line, its result will be returned as @hotkey explained)"}], "answers": [{"comments": [{"owner": {"reputation": 14209, "user_id": 828584, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/498f20465c08db69a48f10e852ba6263?s=128&d=identicon&r=PG", "display_name": "mowwwalker", "link": "https://stackoverflow.com/users/828584/mowwwalker"}, "edited": false, "score": 0, "creation_date": 1601918889, "post_id": 41621349, "comment_id": 113549549, "body": "&quot;if the last statement of a lambda is an expression&quot; - I can&#39;t find a definitive source for definitions, but I think it&#39;s incorrect to call the &quot;expression&quot; a &quot;statement&quot;. The Kotlin docs only say &quot;the value of the last expression is implicitly returned&quot;. My understanding is that statements typically don&#39;t produce values and that an <code>expression</code> is not a type of <code>statement</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 14209, "user_id": 828584, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/498f20465c08db69a48f10e852ba6263?s=128&d=identicon&r=PG", "display_name": "mowwwalker", "link": "https://stackoverflow.com/users/828584/mowwwalker"}, "edited": false, "score": 1, "creation_date": 1601923175, "post_id": 41621349, "comment_id": 113551331, "body": "@mowwwalker Well, while this is arguable, in <a href=\"https://kotlinlang.org/docs/reference/grammar.html#statements\" rel=\"nofollow noreferrer\">the Kotlin grammar</a>, one kind of a statement is an expression, which may be a dangling unused value or a function call whose return value is ignored."}, {"owner": {"reputation": 14209, "user_id": 828584, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/498f20465c08db69a48f10e852ba6263?s=128&d=identicon&r=PG", "display_name": "mowwwalker", "link": "https://stackoverflow.com/users/828584/mowwwalker"}, "edited": false, "score": 0, "creation_date": 1601927009, "post_id": 41621349, "comment_id": 113552793, "body": "Ah awesome that settles that then :)"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 41, "last_activity_date": 1493111698, "last_edit_date": 1495541896, "creation_date": 1484249210, "answer_id": 41621349, "question_id": 41620937, "link": "https://stackoverflow.com/questions/41620937/implicit-return-from-lambda-in-kotlin/41621349#41621349", "title": "Implicit return from lambda in Kotlin", "body": "<p>Yes, this is correct, if the last statement of a lambda is an expression, it is considered its return value.</p>\n\n<p>Here's <a href=\"http://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"noreferrer\">what the reference says</a> (thanks <a href=\"https://stackoverflow.com/users/615306/kirill-rakhman\">@KirillRakhman</a>):</p>\n\n<blockquote>\n  <p>We can explicitly return a value from the lambda using the <a href=\"http://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"noreferrer\">qualified return</a> syntax. Otherwise, the value of the last expression is implictly returned. Therefore, the two following snippets are equivalent:</p>\n\n<pre><code>ints.filter {\n    val shouldFilter = it &gt; 0 \n    shouldFilter\n}\n</code></pre>\n  \n  <p><sup> </sup></p>\n\n<pre><code>ints.filter {\n    val shouldFilter = it &gt; 0 \n    return@filter shouldFilter\n}\n</code></pre>\n</blockquote>\n\n<p>The last statement semantics is also true for <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#if-expression\" rel=\"noreferrer\"><code>if</code> (that's why there's no ternary operator)</a>, <code>when</code> and <a href=\"https://kotlinlang.org/docs/reference/exceptions.html#try-is-an-expression\" rel=\"noreferrer\"><code>try</code>-<code>catch</code></a> blocks, and these statements are expressions themselves:</p>\n\n<pre><code>val foo = if (bar) { \n    doSomething()\n    baz \n} else { \n    doSomethingElse()\n    qux \n}\n</code></pre>\n\n<p><sup>See also: <a href=\"http://try.kotlinlang.org/#/UserProjects/rrdg9fn46rg3563uvigo8o2bp6/dvqkeha0alvsaqjvl6hppb1n90\" rel=\"noreferrer\">examples for <code>when</code> and <code>try</code>-<code>catch</code></a>.</sup></p>\n\n<p>So, lambdas are consistent with the language constructs in this respect.</p>\n\n<hr>\n\n<p>If you want to make an explicit <code>return</code> statement in a lambda, use the <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"noreferrer\"><code>return@label</code> syntax</a> (also, <a href=\"https://stackoverflow.com/questions/40160489/kotlin-whats-does-return-mean\">another answer with examples</a>). Non-labeled <code>return</code>, on contrary, works with the nearest <code>fun</code> (ignoring lambdas) and thus can only occur in those lambdas which are <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#non-local-returns\" rel=\"noreferrer\">inlined</a>.</p>\n\n<p>There was a <a href=\"https://youtrack.jetbrains.com/issue/KT-8695\" rel=\"noreferrer\">language proposal</a> to add special syntax for <em>emitting</em> a value from a code block, but it was rejected.</p>\n"}], "owner": {"reputation": 1752, "user_id": 1287550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7179c081476171e59a8fcdfed5dbb967?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1287550/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11137, "favorite_count": 4, "accepted_answer_id": 41621349, "answer_count": 1, "score": 26, "last_activity_date": 1493111698, "creation_date": 1484247660, "question_id": 41620937, "link": "https://stackoverflow.com/questions/41620937/implicit-return-from-lambda-in-kotlin", "title": "Implicit return from lambda in Kotlin", "body": "<p>It seems that the last line of a lambda always returns that value even if you omit the <code>return</code> statement. Is this correct? Is it documented anywhere?</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val nums = arrayOf(1, 2, 3)\n    val numsPlusOne = nums.map { it -&gt; \n        val r = it + 1\n        r\n    }\n    // numsPlusOne = [2, 3, 4]\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 6340, "user_id": 775894, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20eefa46efacbb8718dec81fd7db7baa?s=128&d=identicon&r=PG", "display_name": "Marc Plano-Lesay", "link": "https://stackoverflow.com/users/775894/marc-plano-lesay"}, "edited": false, "score": 0, "creation_date": 1484235243, "post_id": 41617042, "comment_id": 70435460, "body": "Maybe <code>this as MainActivity</code>?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1484235280, "post_id": 41617042, "comment_id": 70435494, "body": "And if this code is not inside <code>MainActivity</code>, then which instance of <code>MainActivity</code> is it connected to (and how)? Which instance do you want to access as <code>this</code>?"}, {"owner": {"reputation": 1707, "user_id": 6440190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0xWL.png?s=128&g=1", "display_name": "Bal0r", "link": "https://stackoverflow.com/users/6440190/bal0r"}, "edited": false, "score": 0, "creation_date": 1484239832, "post_id": 41617042, "comment_id": 70438795, "body": "The working Java code references just the activity.this, so a static one? I&#39;m not sure tho."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1484251959, "post_id": 41617042, "comment_id": 70445605, "body": "Is the working Java code also in a completely separate file?"}, {"owner": {"reputation": 6340, "user_id": 775894, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20eefa46efacbb8718dec81fd7db7baa?s=128&d=identicon&r=PG", "display_name": "Marc Plano-Lesay", "link": "https://stackoverflow.com/users/775894/marc-plano-lesay"}, "edited": false, "score": 0, "creation_date": 1484291885, "post_id": 41617042, "comment_id": 70458708, "body": "How is this code called, if not in <code>MainActivity</code> but still casting <code>this</code> to <code>MainActivity</code>? In a subclass maybe?"}, {"owner": {"reputation": 1707, "user_id": 6440190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0xWL.png?s=128&g=1", "display_name": "Bal0r", "link": "https://stackoverflow.com/users/6440190/bal0r"}, "edited": false, "score": 0, "creation_date": 1484298053, "post_id": 41617042, "comment_id": 70461463, "body": "It turns out that it <b>was</b> related to the activity, so <code>this@MainActivity</code> actually worked."}], "answers": [{"comments": [{"owner": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "edited": false, "score": 1, "creation_date": 1535125061, "post_id": 41620834, "comment_id": 90965690, "body": "How about Fragment? I&#39;ve injected Context into Fragment(with <code>@ActivityContext</code> attribute), now I need Activity. Of course, I know about <code>getActivity()</code> (Kotlin <code>activity</code>) in the Fragment, but is the second way okay or cause I have Context, it&#39;s better to use it to access to the activity?"}, {"owner": {"reputation": 1314, "user_id": 8650422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_JNDDkGkTYE/AAAAAAAAAAI/AAAAAAAAADY/ah_Y5aSbqYQ/photo.jpg?sz=128", "display_name": "jan4co", "link": "https://stackoverflow.com/users/8650422/jan4co"}, "reply_to_user": {"reputation": 2481, "user_id": 421467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wkFyw.jpg?s=128&g=1", "display_name": "Dr.jacky", "link": "https://stackoverflow.com/users/421467/dr-jacky"}, "edited": false, "score": 0, "creation_date": 1550087224, "post_id": 41620834, "comment_id": 96145489, "body": "@Dr.jacky I think you can do &#39; (context as? YourActivity)&#39; cast. Now you can access your activity methods"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 688, "user_id": 4102958, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3970da9a5bb062fd11dcdd73a80e82c6?s=128&d=identicon&r=PG&f=1", "display_name": "Siddarth G", "link": "https://stackoverflow.com/users/4102958/siddarth-g"}, "edited": false, "score": 0, "creation_date": 1577456225, "post_id": 41620834, "comment_id": 105176255, "body": "@siddarth-g if you are having an issue with unresolved references then I recommend creating a new question with an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a> to get help."}, {"owner": {"reputation": 688, "user_id": 4102958, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3970da9a5bb062fd11dcdd73a80e82c6?s=128&d=identicon&r=PG&f=1", "display_name": "Siddarth G", "link": "https://stackoverflow.com/users/4102958/siddarth-g"}, "edited": false, "score": 0, "creation_date": 1595752823, "post_id": 41620834, "comment_id": 111577918, "body": "@mfulton26 its not compilation issue this@ActivityName did not work for me in another project as well."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 275, "last_activity_date": 1521814252, "last_edit_date": 1521814252, "creation_date": 1484247259, "answer_id": 41620834, "question_id": 41617042, "link": "https://stackoverflow.com/questions/41617042/how-to-access-activity-this-in-kotlin/41620834#41620834", "title": "How to access &quot;Activity.this&quot; in Kotlin?", "body": "<p>You can get a reference to your <code>MainActivity</code> object in Kotlin by using a <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"noreferrer\">qualified <code>this</code></a>. e.g.:</p>\n\n<pre><code>class MyActivity : MainActivity() {\n    val builder = MaterialDialog.Builder(this@MyActivity)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 688, "user_id": 4102958, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3970da9a5bb062fd11dcdd73a80e82c6?s=128&d=identicon&r=PG&f=1", "display_name": "Siddarth G", "link": "https://stackoverflow.com/users/4102958/siddarth-g"}, "edited": false, "score": 1, "creation_date": 1577368669, "post_id": 52700581, "comment_id": 105153246, "body": "unresolevd reference"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1580760816, "post_id": 52700581, "comment_id": 106196358, "body": "It doesn&#39;t compile"}, {"owner": {"reputation": 121, "user_id": 3146247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVUyI.jpg?s=128&g=1", "display_name": "Grecha", "link": "https://stackoverflow.com/users/3146247/grecha"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 6, "creation_date": 1586965301, "post_id": 52700581, "comment_id": 108324955, "body": "@IgorGanapolsky  change the ActivityName to your Activity name -_-"}, {"owner": {"reputation": 64, "user_id": 3173597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7989efe09788a2431ca786d118f6fcb1?s=128&d=identicon&r=PG", "display_name": "Glass Cannon", "link": "https://stackoverflow.com/users/3173597/glass-cannon"}, "reply_to_user": {"reputation": 688, "user_id": 4102958, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3970da9a5bb062fd11dcdd73a80e82c6?s=128&d=identicon&r=PG&f=1", "display_name": "Siddarth G", "link": "https://stackoverflow.com/users/4102958/siddarth-g"}, "edited": false, "score": 0, "creation_date": 1617392497, "post_id": 52700581, "comment_id": 118299308, "body": "@SiddarthG make sure your inner class is marked with &quot;inner&quot; this was my problem"}], "tags": [], "owner": {"reputation": 1027, "user_id": 5416615, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a098a61b2adec91399be136a8dd54a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Bala", "link": "https://stackoverflow.com/users/5416615/the-bala"}, "is_accepted": false, "score": 27, "last_activity_date": 1586968494, "last_edit_date": 1586968494, "creation_date": 1538995521, "answer_id": 52700581, "question_id": 41617042, "link": "https://stackoverflow.com/questions/41617042/how-to-access-activity-this-in-kotlin/52700581#52700581", "title": "How to access &quot;Activity.this&quot; in Kotlin?", "body": "<p>Try this label instead</p>\n\n<pre><code>this@YourActivityName\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6769, "user_id": 2769892, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/CrBdP.jpg?s=128&g=1", "display_name": "droidev", "link": "https://stackoverflow.com/users/2769892/droidev"}, "edited": false, "score": 2, "creation_date": 1582009363, "post_id": 55283741, "comment_id": 106617982, "body": "@Allen you are correct, inner keyword is required to access the Activity inside inner class"}], "tags": [], "owner": {"reputation": 2063, "user_id": 3531558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kH9pf.jpg?s=128&g=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/3531558/allen"}, "is_accepted": false, "score": 6, "last_activity_date": 1553181488, "creation_date": 1553181488, "answer_id": 55283741, "question_id": 41617042, "link": "https://stackoverflow.com/questions/41617042/how-to-access-activity-this-in-kotlin/55283741#55283741", "title": "How to access &quot;Activity.this&quot; in Kotlin?", "body": "<p>If you are calling Activity.this from an inner class, you have to put <strong>inner</strong> before the class</p>\n\n<pre><code>class MyActivity : MainActivity() {\n    // Call from class itself\n    val builder = MaterialDialog.Builder(this@MyActivity) \n\n    inner class Inner {\n        this@MyActivity // Call from the inner class \n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1027, "user_id": 5416615, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8a098a61b2adec91399be136a8dd54a0?s=128&d=identicon&r=PG&f=1", "display_name": "The Bala", "link": "https://stackoverflow.com/users/5416615/the-bala"}, "edited": false, "score": 0, "creation_date": 1578911447, "post_id": 56075728, "comment_id": 105580310, "body": "are you adding this comments for  what? Can you give some resolved reference? It will helpful to us, So that we will follow it from next time"}], "tags": [], "owner": {"reputation": 673, "user_id": 5335382, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yxY9MKKmk4o/AAAAAAAAAAI/AAAAAAAABIQ/33FrI6z6tbM/photo.jpg?sz=128", "display_name": "Shivam Yadav", "link": "https://stackoverflow.com/users/5335382/shivam-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1557484081, "creation_date": 1557484081, "answer_id": 56075728, "question_id": 41617042, "link": "https://stackoverflow.com/questions/41617042/how-to-access-activity-this-in-kotlin/56075728#56075728", "title": "How to access &quot;Activity.this&quot; in Kotlin?", "body": "<p>Just as you do in java for getting the context of activity as MainActivtiy.this , in kotlin you will get the context as <strong>this@MainActivity</strong></p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 6593037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dda34ffd46d29156d73088cb1a41acf?s=128&d=identicon&r=PG&f=1", "display_name": "Mechadroid", "link": "https://stackoverflow.com/users/6593037/mechadroid"}, "is_accepted": false, "score": 0, "last_activity_date": 1567592220, "last_edit_date": 1567592220, "creation_date": 1567587540, "answer_id": 57784948, "question_id": 41617042, "link": "https://stackoverflow.com/questions/41617042/how-to-access-activity-this-in-kotlin/57784948#57784948", "title": "How to access &quot;Activity.this&quot; in Kotlin?", "body": "<p><code>getActivity()</code> equivalent is <code>this@activity_name</code> \nin case of builder for materialDialog</p>\n\n<pre><code>materialDialog = MaterialDialog.Builder(this)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1107, "user_id": 1947494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/yGTAe.jpg?s=128&g=1", "display_name": "Nikhil Katekhaye", "link": "https://stackoverflow.com/users/1947494/nikhil-katekhaye"}, "is_accepted": false, "score": 0, "last_activity_date": 1578568685, "last_edit_date": 1578568685, "creation_date": 1578566148, "answer_id": 59662045, "question_id": 41617042, "link": "https://stackoverflow.com/questions/41617042/how-to-access-activity-this-in-kotlin/59662045#59662045", "title": "How to access &quot;Activity.this&quot; in Kotlin?", "body": "<p>You can get the object of activity like this.</p>\n\n<pre><code>class DemoActivity : MainActivity() {\n    val builder = MaterialDialog.Builder(this@DemoActivity)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1992, "user_id": 8471798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WiHS.jpg?s=128&g=1", "display_name": "canerkaseler", "link": "https://stackoverflow.com/users/8471798/canerkaseler"}, "is_accepted": false, "score": 4, "last_activity_date": 1582293741, "creation_date": 1582293741, "answer_id": 60340175, "question_id": 41617042, "link": "https://stackoverflow.com/questions/41617042/how-to-access-activity-this-in-kotlin/60340175#60340175", "title": "How to access &quot;Activity.this&quot; in Kotlin?", "body": "<p>In Kotlin, you have to use this way:</p>\n\n<blockquote>\n  <p>this@ActivityName</p>\n</blockquote>\n\n<p>For example: You should use it if you would like to define \"Context\" in MainActivity.kt</p>\n\n<pre><code>var mContext:Context = this@MainActivity\n</code></pre>\n\n<p>Why? Because in Kotlin language @ has mean \"of\" such as:</p>\n\n<pre><code>val a = this@A // A's this\n</code></pre>\n\n<p>If you want to learn more information, you can look Kotlin Language website:\n<a href=\"https://kotlinlang.org/docs/reference/this-expressions.html\" rel=\"nofollow noreferrer\">This Expression in Kotlin</a></p>\n\n<p>@canerkaseler</p>\n"}], "owner": {"reputation": 1707, "user_id": 6440190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0xWL.png?s=128&g=1", "display_name": "Bal0r", "link": "https://stackoverflow.com/users/6440190/bal0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56796, "favorite_count": 16, "accepted_answer_id": 41620834, "answer_count": 7, "score": 150, "last_activity_date": 1589627196, "creation_date": 1484235109, "last_edit_date": 1484297979, "question_id": 41617042, "link": "https://stackoverflow.com/questions/41617042/how-to-access-activity-this-in-kotlin", "title": "How to access &quot;Activity.this&quot; in Kotlin?", "body": "<p>I have this piece of Java code:</p>\n\n<pre><code>MaterialDialog builder = new MaterialDialog.Builder(MainActivity.this)\n</code></pre>\n\n<p>I want to get the MainActivity object in Kotlin. The automatic conversion breaks at <code>MainActivity.this</code>.</p>\n"}, {"tags": ["enums", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1484241320, "post_id": 41614490, "comment_id": 70439765, "body": "The question looks like you are asking for an implicit type conversion <code>Message -&gt; String</code>, while you are probably not."}, {"owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1484242009, "post_id": 41614490, "comment_id": 70440143, "body": "Well that would be a workaround but quite possibly could work"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1484242165, "post_id": 41614490, "comment_id": 70440238, "body": "<code>constructor</code> is superfluous"}], "answers": [{"comments": [{"owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 0, "creation_date": 1484230136, "post_id": 41615201, "comment_id": 70431762, "body": "thanks, just wondering: why is the semicolon required? Because compiler will think that I&#39;m trying to declare another enum?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 0, "creation_date": 1484230369, "post_id": 41615201, "comment_id": 70431904, "body": "Correct, see <a href=\"https://kotlinlang.org/docs/reference/enum-classes.html#anonymous-classes\" rel=\"nofollow noreferrer\">Anonymous Classes - Enum Classes - Kotlin Programming Language</a> for details. See also the <a href=\"https://kotlinlang.org/docs/reference/grammar.html#enum-classes\" rel=\"nofollow noreferrer\">grammar for enum classes</a>."}, {"owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 1, "creation_date": 1484231472, "post_id": 41615201, "comment_id": 70432663, "body": "This only seems to work when using println, if message is changed to <code>val message: String = Message.ALREADY_REGISTERED</code> the same problem is still present"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 0, "creation_date": 1484232099, "post_id": 41615201, "comment_id": 70433139, "body": "I&#39;ve updated my answer. You cannot extend <code>String</code> but you can get close. Java/Kotlin does this in lots of places with the <code>CharSequence</code> interface which <code>String</code> implements. In fact, when ever you define methods that receive a <code>String</code> and you do not require that input <code>String</code> to be immutable then you should use <code>CharSequence</code> instead for this exact purpose (e.g. take a look at the various methods in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/\" rel=\"nofollow noreferrer\"><code>kotlin.text</code></a> package)."}, {"owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 0, "creation_date": 1484232442, "post_id": 41615201, "comment_id": 70433353, "body": "Hmm then the <code>.value</code> will be easier haha. Thanks for your help!"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "edited": false, "score": 0, "creation_date": 1484232866, "post_id": 41615201, "comment_id": 70433670, "body": "Or simply use <code>toString()</code> explicitly."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 8, "last_activity_date": 1484231925, "last_edit_date": 1484231925, "creation_date": 1484229973, "answer_id": 41615201, "question_id": 41614490, "link": "https://stackoverflow.com/questions/41614490/kotlin-assign-value-of-enum-to-variable-without-value/41615201#41615201", "title": "Kotlin - assign value of enum to variable without .value", "body": "<p>You need to override <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-string.html\" rel=\"noreferrer\"><code>toString()</code></a> for your <code>enum class</code>:</p>\n\n<pre><code>enum class Message(val value: String) {\n    ALREADY_REGISTERED(\"You've already been registered\");\n\n    override fun toString() = value\n}\n</code></pre>\n\n<p>You can also use <a href=\"https://kotlinlang.org/docs/reference/delegation.html#class-delegation\" rel=\"noreferrer\">class delegation</a> if you want to be able to treat your enum class as a <code>CharSequence</code> (like <code>StringBuilder</code> and other <code>String</code>-like classes):</p>\n\n<pre><code>enum class Message(val value: String) : CharSequence by value {\n    ALREADY_REGISTERED(\"You've already been registered\");\n\n    override fun toString() = value\n}\n</code></pre>\n\n<p>Then you can use it just like any other <code>CharSequence</code>. e.g.:</p>\n\n<pre><code>buildString {\n    append(\"Message received: \")\n    appendln(Message.ALREADY_REGISTERED)\n    appendln()\n    appendln(\"Don't forget to do your laundry.\")\n}\n</code></pre>\n"}], "owner": {"reputation": 7128, "user_id": 4189582, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-rJzuadzQg0o/AAAAAAAAAAI/AAAAAAAAABQ/lRX62PozZNA/photo.jpg?sz=128", "display_name": "Ivar Reukers", "link": "https://stackoverflow.com/users/4189582/ivar-reukers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6436, "favorite_count": 0, "accepted_answer_id": 41615201, "answer_count": 1, "score": 4, "last_activity_date": 1484231925, "creation_date": 1484227754, "question_id": 41614490, "link": "https://stackoverflow.com/questions/41614490/kotlin-assign-value-of-enum-to-variable-without-value", "title": "Kotlin - assign value of enum to variable without .value", "body": "<p>What it's like now:</p>\n\n<pre><code>class Trial {\n    companion object{\n        @JvmStatic fun main(args: Array&lt;String&gt;){\n            val message = Message.ALREADY_REGISTERED.value\n            println(message);\n        }\n    }\n}\n\nenum class Message constructor(val value: String){\n    ALREADY_REGISTERED(\"You've already been registered\")\n}\n</code></pre>\n\n<p>This outputs: <code>You've already been registered</code>. But I was wondering, is there a way to just assign <code>val message = Message.ALREADY_REGISTERED</code> and have the value immediately without having to use <code>.value</code>?</p>\n\n<p>When trying this (with the code I want)</p>\n\n<pre><code>class Trial {\n    companion object{\n        @JvmStatic fun main(args: Array&lt;String&gt;){\n            val message = Message.ALREADY_REGISTERED\n            println(message);\n        }\n    }\n}\n\nenum class Message constructor(val value: String){\n    ALREADY_REGISTERED(\"You've already been registered\")\n}\n</code></pre>\n\n<p>it outputs <code>ALREADY_REGISTERED</code>.</p>\n\n<p>So can I make the value of the enum return default instead of it's name?</p>\n"}]