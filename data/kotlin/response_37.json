[{"tags": ["pattern-matching", "tuples", "kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1443268282, "post_id": 32745030, "comment_id": 53431495, "body": "The logic doesn&#39;t seem to depend on the type of <code>item</code> at all. If it does, you should probably mention it or modify the code sample."}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1443070199, "post_id": 32748904, "comment_id": 53347228, "body": "@Yaroslav, which option did you use (out of the three above)? Just curious :D"}, {"owner": {"reputation": 3897, "user_id": 1351319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ce42732ebb48b66719bccc64b1efb5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Yaroslav", "link": "https://stackoverflow.com/users/1351319/yaroslav"}, "edited": false, "score": 0, "creation_date": 1443073487, "post_id": 32748904, "comment_id": 53348310, "body": "the first one, the third is nice also"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 14, "last_activity_date": 1451543065, "last_edit_date": 1451543065, "creation_date": 1443040211, "answer_id": 32748904, "question_id": 32745030, "link": "https://stackoverflow.com/questions/32745030/pattern-matching-on-tuples-in-kotlin/32748904#32748904", "title": "Pattern matching on tuples in Kotlin", "body": "<p>Well, for Scala's sake, you can write:</p>\n\n<pre><code>fun changeSelection(item: FileOrFolder, selected: Boolean) {\n    selection = when {\n        item is Folder &amp;&amp;  selected -&gt; selection + item\n        item is Folder &amp;&amp; !selected -&gt; selection - item\n        item is File   &amp;&amp;  selected -&gt; selection + item\n        item is File   &amp;&amp; !selected -&gt; selection - item\n        else -&gt; throw Exception()\n    }\n}\n</code></pre>\n\n<p>A more straight-forward version would be:</p>\n\n<pre><code>fun changeSelection(item: FileOrFolder, selected: Boolean) {\n    selection = if(selected)\n        when(item) {\n            is Folder -&gt; selection + item\n            is File   -&gt; selection + item\n            else -&gt; throw Exception()\n        }\n    else\n        when(item) {\n            is Folder -&gt; selection - item\n            is File   -&gt; selection - item\n            else -&gt; throw Exception()\n        }\n}\n</code></pre>\n\n<p>But I definitely prefer:</p>\n\n<pre><code>operator fun Selection.plus(f: FileOrFolder) = ...\noperator fun Selection.minus(f: FileOrFolder) = ...\n\nfun changeSelection(item: FileOrFolder, selected: Boolean) {\n    if(selected)\n        selection += item\n    else \n        selection -= item\n}\n</code></pre>\n"}], "owner": {"reputation": 3897, "user_id": 1351319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ce42732ebb48b66719bccc64b1efb5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Yaroslav", "link": "https://stackoverflow.com/users/1351319/yaroslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4466, "favorite_count": 2, "accepted_answer_id": 32748904, "answer_count": 1, "score": 14, "last_activity_date": 1451543065, "creation_date": 1443026548, "question_id": 32745030, "link": "https://stackoverflow.com/questions/32745030/pattern-matching-on-tuples-in-kotlin", "title": "Pattern matching on tuples in Kotlin", "body": "<p>I have the following piece of code</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun changeSelection(item: FileOrFolder, selected: Boolean) {\n    selection = when(item) {\n        is Folder -&gt; {\n            when(selected) {\n                true -&gt; selection + item\n                false -&gt; selection - item\n            }\n        }\n        is File -&gt; {\n            when(selected) {\n                true -&gt; selection + item\n                false -&gt; selection - item\n            }\n        }\n        else -&gt; throw Exception(\"unreachable\")\n    }\n}\n</code></pre>\n\n<p>which looks kinda cluttered for me as I got used to this in scala</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>def changeSelection(item: FileOrFolder, selected: Boolean) {\n    (item, selected) match {\n        case (item: Folder, true) =&gt; selection + item\n        case (item: Folder, false) =&gt; selection - item\n        case (item: File, true) =&gt; selection + item\n        case (item: File, false) =&gt; selection - item\n    }\n}\n</code></pre>\n\n<p>Is there a way to achieve something similar in Kotlin?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452115958, "post_id": 32684739, "comment_id": 57032250, "body": "You should clarify what you want to do with the &quot;type of a variable&quot;, if for instance checking &quot;a is instance of b&quot; then you don&#39;t want a string.  If for display, or some other use then maybe a string."}, {"owner": {"reputation": 2798, "user_id": 2192483, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/dv9nY.jpg?s=128&g=1", "display_name": "Luc-Olivier", "link": "https://stackoverflow.com/users/2192483/luc-olivier"}, "edited": false, "score": 0, "creation_date": 1610903970, "post_id": 32684739, "comment_id": 116273841, "body": "Quite simple: variable::class"}], "answers": [{"comments": [{"owner": {"reputation": 1890, "user_id": 2329437, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/So1V2.jpg?s=128&g=1", "display_name": "Alex Facciorusso", "link": "https://stackoverflow.com/users/2329437/alex-facciorusso"}, "edited": false, "score": 0, "creation_date": 1442791437, "post_id": 32685010, "comment_id": 53215366, "body": "Same thing as the @michael answer"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452132018, "post_id": 32685010, "comment_id": 57038074, "body": "@michael answered in Java not Kotlin.  This answer from Rodrigo is for Kotlin,  The difference is that <code>instanceof</code> does not exist in Kotlin, but instead the <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#is-and-is-operators\" rel=\"nofollow noreferrer\"><code>is</code> and <code>!is</code> operators</a>"}], "tags": [], "owner": {"reputation": 326, "user_id": 4984231, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-q8zxggHRHSg/AAAAAAAAAAI/AAAAAAAABp4/7OOij3ybxv8/photo.jpg?sz=128", "display_name": "Rodrigo Gomes", "link": "https://stackoverflow.com/users/4984231/rodrigo-gomes"}, "is_accepted": false, "score": 1, "last_activity_date": 1520924617, "last_edit_date": 1520924617, "creation_date": 1442788391, "answer_id": 32685010, "question_id": 32684739, "link": "https://stackoverflow.com/questions/32684739/kotlin-get-type-as-string/32685010#32685010", "title": "Kotlin get type as string", "body": "<p><a href=\"http://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">Type Checks and Casts: 'is' and 'as'</a></p>\n\n<pre><code>if (obj is String) {\n  print(obj.length)\n}\n\nif (obj !is String) { // same as !(obj is String)\n  print(\"Not a String\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1890, "user_id": 2329437, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/So1V2.jpg?s=128&g=1", "display_name": "Alex Facciorusso", "link": "https://stackoverflow.com/users/2329437/alex-facciorusso"}, "edited": false, "score": 0, "creation_date": 1442930396, "post_id": 32718623, "comment_id": 53280214, "body": "Yes, I think that <code>javaClass</code>, as stated in the other comments, is the answer."}, {"owner": {"reputation": 91, "user_id": 6905050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7TlGn.png?s=128&g=1", "display_name": "M.Penchev", "link": "https://stackoverflow.com/users/6905050/m-penchev"}, "edited": false, "score": 0, "creation_date": 1504013427, "post_id": 32718623, "comment_id": 78839045, "body": "This doesn&#39;t seem to work with the nullable types. For example if you had      <code>val obj = getInt();</code> where <code>getInt()</code> returns a <code>Int?</code> type, then trying     <code>obj.javaClass.name</code> results in compilation error"}, {"owner": {"reputation": 10110, "user_id": 4584675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqtdH.png?s=128&g=1", "display_name": "Lamorak", "link": "https://stackoverflow.com/users/4584675/lamorak"}, "edited": false, "score": 1, "creation_date": 1505314265, "post_id": 32718623, "comment_id": 79364059, "body": "If your property is nullable, then you of course have to run <code>obj?.javaClass?.name</code> which returns <code>null</code> for null values"}, {"owner": {"reputation": 1138, "user_id": 5800527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1040958575927029/picture?type=large", "display_name": "Andrew Nessin", "link": "https://stackoverflow.com/users/5800527/andrew-nessin"}, "edited": false, "score": 0, "creation_date": 1585799517, "post_id": 32718623, "comment_id": 107891676, "body": "In case you face a <code>kotlin.jvm.KotlinReflectionNotSupportedError</code>: <a href=\"https://stackoverflow.com/a/36440329/5800527\">stackoverflow.com/a/36440329/5800527</a>"}, {"owner": {"reputation": 2393, "user_id": 671393, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/035d4c85912d57bddcef8e8b5745f2e4?s=128&d=identicon&r=PG", "display_name": "Rupert Rawnsley", "link": "https://stackoverflow.com/users/671393/rupert-rawnsley"}, "edited": false, "score": 1, "creation_date": 1589369084, "post_id": 32718623, "comment_id": 109264352, "body": "It&#39;s worth pointing out that these names can get mangled by obfuscation (ProGuard and R8)."}], "tags": [], "owner": {"reputation": 10110, "user_id": 4584675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqtdH.png?s=128&g=1", "display_name": "Lamorak", "link": "https://stackoverflow.com/users/4584675/lamorak"}, "is_accepted": true, "score": 82, "last_activity_date": 1442929595, "creation_date": 1442929595, "answer_id": 32718623, "question_id": 32684739, "link": "https://stackoverflow.com/questions/32684739/kotlin-get-type-as-string/32718623#32718623", "title": "Kotlin get type as string", "body": "<p>You can use one of the methods that best suits your needs:</p>\n\n<pre><code>val obj: Double = 5.0\n\nSystem.out.println(obj.javaClass.name)                 // double\nSystem.out.println(obj.javaClass.kotlin)               // class kotlin.Double\nSystem.out.println(obj.javaClass.kotlin.qualifiedName) // kotlin.Double\n</code></pre>\n\n<p>You can fiddle with this <a href=\"http://try.kotlinlang.org/#/UserProjects/ols2tsupj16iium7j6fcsv6kou/nfedagar0hmtt4a947imqig2ls\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "is_accepted": false, "score": 6, "last_activity_date": 1558732418, "creation_date": 1558732418, "answer_id": 56299599, "question_id": 32684739, "link": "https://stackoverflow.com/questions/32684739/kotlin-get-type-as-string/56299599#56299599", "title": "Kotlin get type as string", "body": "<p>There is a simpler way using <code>simpleName</code> property and avoiding <em>Kotlin</em> prefix. </p>\n\n<pre><code>val lis = listOf(1,2,3)\n</code></pre>\n\n<p><code>lis</code> is from type <code>ArrayList</code>. So one can use</p>\n\n<pre><code>println(lis.javaClass.kotlin.simpleName)  // ArrayList\n</code></pre>\n\n<p>or, more elegantly:</p>\n\n<pre><code>println(lis::class.simpleName)  // ArrayList \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4798, "user_id": 14747039, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pvsfF.png?s=128&g=1", "display_name": "Aalexander", "link": "https://stackoverflow.com/users/14747039/aalexander"}, "edited": false, "score": 0, "creation_date": 1610905323, "post_id": 65763693, "comment_id": 116274293, "body": "Write a few words about your answer. Explaining your answer makes it easier to OP to understand it."}], "tags": [], "owner": {"reputation": 2798, "user_id": 2192483, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/dv9nY.jpg?s=128&g=1", "display_name": "Luc-Olivier", "link": "https://stackoverflow.com/users/2192483/luc-olivier"}, "is_accepted": false, "score": 0, "last_activity_date": 1610976080, "last_edit_date": 1610976080, "creation_date": 1610904070, "answer_id": 65763693, "question_id": 32684739, "link": "https://stackoverflow.com/questions/32684739/kotlin-get-type-as-string/65763693#65763693", "title": "Kotlin get type as string", "body": "<p>You can use the '::class' keyword that gives the type of an instance. Converting this type to string with the method &quot;.toSting()&quot;, you get a &quot;class XXXXXX&quot; string that you can reduce to &quot;XXXXX&quot; with a replace(...)</p>\n<pre><code>var variable = MyClass()\n\nvar nameOfClass = variable::class.simpleName\n\nnameofClass &gt;&gt; &quot;MyClass&quot;\n</code></pre>\n"}], "owner": {"reputation": 1890, "user_id": 2329437, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/So1V2.jpg?s=128&g=1", "display_name": "Alex Facciorusso", "link": "https://stackoverflow.com/users/2329437/alex-facciorusso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33526, "favorite_count": 4, "accepted_answer_id": 32718623, "answer_count": 4, "score": 63, "last_activity_date": 1610976080, "creation_date": 1442786333, "last_edit_date": 1442828711, "question_id": 32684739, "link": "https://stackoverflow.com/questions/32684739/kotlin-get-type-as-string", "title": "Kotlin get type as string", "body": "<p>I can't find how to get the type of a variable (or constant) as <code>String</code>, like <code>typeof(variable)</code>, with Kotlin language. How to accomplish this?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 12, "last_activity_date": 1442750430, "creation_date": 1442750430, "answer_id": 32679143, "question_id": 32679060, "link": "https://stackoverflow.com/questions/32679060/kotlin-create-a-regular-array-as-in-java/32679143#32679143", "title": "Kotlin: Create a regular array as in Java", "body": "<p>Use <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/array-of-nulls.html\"><code>arrayOfNulls()</code></a>. Naturally, your array will be of nullable type. Alternatively, just use a list.</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1094, "favorite_count": 0, "accepted_answer_id": 32679143, "answer_count": 1, "score": 3, "last_activity_date": 1442750430, "creation_date": 1442749943, "question_id": 32679060, "link": "https://stackoverflow.com/questions/32679060/kotlin-create-a-regular-array-as-in-java", "title": "Kotlin: Create a regular array as in Java", "body": "<p>For example, in Java I can create such an array with this syntax:</p>\n\n<p><code>Thing box = new Thing[10];</code></p>\n\n<p>In Kotlin such syntax can't be used. I would like to create the equivalent of above in Kotlin.</p>\n\n<p>I have found the <code>Array(size: Int, init: Int -&gt; T)</code> methods but it requires that I specify an init lambda that will not allow me to use <code>null</code>. I want to have an array filled with <code>null</code> or some equivalent of the size that I want.</p>\n\n<p><strong>The scenario:</strong> I need to have an array of packet handlers where the index of the handler is the packet's opcode.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 1, "creation_date": 1442677115, "post_id": 32669960, "comment_id": 53185817, "body": "What does the warning say, the one in the declaration of <code>passes(address: String)</code>?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1452116138, "post_id": 32669960, "comment_id": 57032342, "body": "It is best if you put error messages as text and not just as an image.  It will help others with the same error to find the post."}], "answers": [{"tags": [], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "is_accepted": false, "score": 2, "last_activity_date": 1442677288, "creation_date": 1442677288, "answer_id": 32670087, "question_id": 32669960, "link": "https://stackoverflow.com/questions/32669960/kotlin-why-cant-i-use-one-of-my-functions/32670087#32670087", "title": "Kotlin: Why can&#39;t I use one of my functions?", "body": "<p>The issue was an import of <code>java.lang.String</code>. For some reason IntelliJ imported it.</p>\n"}, {"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 4, "last_activity_date": 1442677310, "creation_date": 1442677310, "answer_id": 32670090, "question_id": 32669960, "link": "https://stackoverflow.com/questions/32669960/kotlin-why-cant-i-use-one-of-my-functions/32670090#32670090", "title": "Kotlin: Why can&#39;t I use one of my functions?", "body": "<p>I presume you're using <code>java.lang.String</code> instead of <code>kotlin.String</code> in the Kotlin source code. Please use only <code>kotlin.String</code> instead, this is the type that string literals in Kotlin have (but in the bytecode it's still transformed to <code>java.lang.String</code>).</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 32670090, "answer_count": 2, "score": 0, "last_activity_date": 1453110673, "creation_date": 1442676500, "last_edit_date": 1453110673, "question_id": 32669960, "link": "https://stackoverflow.com/questions/32669960/kotlin-why-cant-i-use-one-of-my-functions", "title": "Kotlin: Why can&#39;t I use one of my functions?", "body": "<p>I am trying to use one of my defined functions that accepts a string yet the software won't compile.</p>\n\n<pre><code>fun passes(address: String) = Collections.frequency(addresses, address) &lt;= CONNECTIONS_PER_IP\n\nfun passes(remoteAddress: InetSocketAddress) = passes(remoteAddress.hostName)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WGDkq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WGDkq.png\" alt=\"The error\"></a></p>\n\n<p>I can't even call the string function using a custom string, for example <code>passes(\"127.0.0.1\")</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nBMC5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nBMC5.png\" alt=\"The error with a custom string\"></a></p>\n\n<pre><code>None of the following functions can eb called with the arguments supplied.\n\npasses(String) defined in abendigo.Firewall\npasses(InetSocketAddress) defined in abendigo.Firewall\n</code></pre>\n"}, {"tags": ["abstract-syntax-tree", "kotlin"], "comments": [{"owner": {"reputation": 1191, "user_id": 547546, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4bb62fbc38c7277e51e440a3529c2336?s=128&d=identicon&r=PG", "display_name": "Chad Retz", "link": "https://stackoverflow.com/users/547546/chad-retz"}, "edited": false, "score": 0, "creation_date": 1541690960, "post_id": 32664842, "comment_id": 93309735, "body": "I built a project to do this (with AST, but not types): <a href=\"https://github.com/cretz/kastree\" rel=\"nofollow noreferrer\">github.com/cretz/kastree</a>"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 521147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0fd04950d515b46af5a3f24cb73df9?s=128&d=identicon&r=PG", "display_name": "Iurii", "link": "https://stackoverflow.com/users/521147/iurii"}, "edited": false, "score": 0, "creation_date": 1442764884, "post_id": 32666408, "comment_id": 53207291, "body": "Any start points? Relevant unit tests, maybe, class names? I understand that there is no API, but I&#39;d appreciate any hints about where to start or which classes to look."}, {"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "reply_to_user": {"reputation": 125, "user_id": 521147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0fd04950d515b46af5a3f24cb73df9?s=128&d=identicon&r=PG", "display_name": "Iurii", "link": "https://stackoverflow.com/users/521147/iurii"}, "edited": false, "score": 3, "creation_date": 1442784923, "post_id": 32666408, "comment_id": 53213835, "body": "Well, it&#39;s rather complicated, to be honest. You can look into how our <code>ExpressionTypingVisitor</code> classes work, also there&#39;s a concept of PSI \u2014 a concrete syntax tree,and BindingContext \u2014 a mapping from PSI to type information an other semantic information. PSI classes are prefixed with <code>Jet</code>"}, {"owner": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "edited": false, "score": 1, "creation_date": 1470037617, "post_id": 32666408, "comment_id": 64765672, "body": "What is the status right now? Is there or will there be an api for that purpose?"}, {"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "reply_to_user": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "edited": false, "score": 0, "creation_date": 1470170795, "post_id": 32666408, "comment_id": 64836579, "body": "@user3464741 No real changes, we may expose such an API at some point, but currently this is not a high-priority task"}, {"owner": {"reputation": 1214, "user_id": 343846, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3bb9588b8e025e863cc50e9dc1f189f9?s=128&d=identicon&r=PG", "display_name": "guai", "link": "https://stackoverflow.com/users/343846/guai"}, "edited": false, "score": 0, "creation_date": 1486334510, "post_id": 32666408, "comment_id": 71288966, "body": "@Andrey is there any place where users can vote for features like this one?"}, {"owner": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "edited": false, "score": 0, "creation_date": 1512402182, "post_id": 32666408, "comment_id": 82231916, "body": "And what is the status today, one more year after my last question? How can I get a typechecked syntax tree for more than one .kt source file?"}, {"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "reply_to_user": {"reputation": 616, "user_id": 3464741, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3icQS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3464741/michael"}, "edited": false, "score": 0, "creation_date": 1513587155, "post_id": 32666408, "comment_id": 82694591, "body": "@Michael No changes so far, you can still use the source code of the compiler and the IDE plugin to achieve what you need."}], "tags": [], "owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "is_accepted": false, "score": 7, "last_activity_date": 1442654008, "creation_date": 1442654008, "answer_id": 32666408, "question_id": 32664842, "link": "https://stackoverflow.com/questions/32664842/how-to-get-kotlin-ast/32666408#32666408", "title": "How to get Kotlin AST?", "body": "<p>There's no standard API to do this at the moment. You can play with the Kotlin compiler and REPL <a href=\"https://github.com/JetBrains/kotlin\" rel=\"noreferrer\">source code</a> to try to achieve this.</p>\n"}, {"comments": [{"owner": {"reputation": 2682, "user_id": 5040035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sFkvw.jpg?s=128&g=1", "display_name": "plamut", "link": "https://stackoverflow.com/users/5040035/plamut"}, "edited": false, "score": 0, "creation_date": 1446200149, "post_id": 33433130, "comment_id": 54655112, "body": "Please include the essential parts of linked resource in the answer itself, so-called &quot;link only&quot; answers should be avoided."}], "tags": [], "owner": {"reputation": 116, "user_id": 5506571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b4ac10214e27e1c577619524a349a9?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u0438\u043a\u0442\u043e\u0440 \u0412\u0435\u0440\u0431\u0438\u0446\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5506571/%d0%92%d0%b8%d0%ba%d1%82%d0%be%d1%80-%d0%92%d0%b5%d1%80%d0%b1%d0%b8%d1%86%d0%ba%d0%b8%d0%b9"}, "is_accepted": true, "score": 9, "last_activity_date": 1446203623, "last_edit_date": 1446203623, "creation_date": 1446198940, "answer_id": 33433130, "question_id": 32664842, "link": "https://stackoverflow.com/questions/32664842/how-to-get-kotlin-ast/33433130#33433130", "title": "How to get Kotlin AST?", "body": "<p>I have some investigation of Kotlin compiler. Some proof of concept to getting of AST can be seen on my <a href=\"https://github.com/vektory79/kotlin-script-parser-test\" rel=\"noreferrer\">GitHub repo</a>.</p>\n\n<p>It's a sketch only, but can be helpful:</p>\n\n<pre><code>class KotlinScriptParser {\n    companion object {\n        private val LOG = Logger.getLogger(KotlinScriptParser.javaClass.name)\n        private val messageCollector = object : MessageCollector {\n            override fun report(severity: CompilerMessageSeverity, message: String, location: CompilerMessageLocation) {\n                val path = location.path\n                val position = if (path == null) \"\" else \"$path: (${location.line}, ${location.column}) \"\n\n                val text = position + message\n\n                if (CompilerMessageSeverity.VERBOSE.contains(severity)) {\n                    LOG.finest(text)\n                } else if (CompilerMessageSeverity.ERRORS.contains(severity)) {\n                    LOG.severe(text)\n                } else if (severity == CompilerMessageSeverity.INFO) {\n                    LOG.info(text)\n                } else {\n                    LOG.warning(text)\n                }\n            }\n        }\n\n        private val classPath: ArrayList&lt;File&gt; by lazy {\n            val classpath = arrayListOf&lt;File&gt;()\n            classpath += PathUtil.getResourcePathForClass(AnnotationTarget.CLASS.javaClass)\n            classpath\n        }\n    }\n\n    fun parse(vararg files: String): TopDownAnalysisContext {\n        // The Kotlin compiler configuration\n        val configuration = CompilerConfiguration()\n\n        val groupingCollector = GroupingMessageCollector(messageCollector)\n        val severityCollector = MessageSeverityCollector(groupingCollector)\n        configuration.put(CLIConfigurationKeys.MESSAGE_COLLECTOR_KEY, severityCollector)\n\n\n        configuration.addJvmClasspathRoots(PathUtil.getJdkClassesRoots())\n        // The path to .kt files sources\n        files.forEach { configuration.addKotlinSourceRoot(it) }\n        // Configuring Kotlin class path\n        configuration.addJvmClasspathRoots(classPath)\n        configuration.put(JVMConfigurationKeys.MODULE_NAME, JvmAbi.DEFAULT_MODULE_NAME)\n        configuration.put&lt;List&lt;AnalyzerScriptParameter&gt;&gt;(JVMConfigurationKeys.SCRIPT_PARAMETERS, CommandLineScriptUtils.scriptParameters())\n\n        val rootDisposable = Disposer.newDisposable()\n        try {\n            val environment = KotlinCoreEnvironment.createForProduction(rootDisposable, configuration, EnvironmentConfigFiles.JVM_CONFIG_FILES)\n            val ktFiles = environment.getSourceFiles()\n            val sharedTrace = CliLightClassGenerationSupport.NoScopeRecordCliBindingTrace()\n            val moduleContext = TopDownAnalyzerFacadeForJVM.createContextWithSealedModule(environment.project,\n                    environment.getModuleName())\n\n            val project = moduleContext.project\n            val allFiles = JvmAnalyzerFacade.getAllFilesToAnalyze(project, null, ktFiles)\n            val providerFactory = FileBasedDeclarationProviderFactory(moduleContext.storageManager, allFiles)\n            val lookupTracker = LookupTracker.DO_NOTHING\n            val packagePartProvider = JvmPackagePartProvider(environment)\n            val container = createContainerForTopDownAnalyzerForJvm(\n                    moduleContext,\n                    sharedTrace,\n                    providerFactory,\n                    GlobalSearchScope.allScope(project),\n                    lookupTracker,\n                    packagePartProvider)\n\n            val additionalProviders = ArrayList&lt;PackageFragmentProvider&gt;()\n\n            additionalProviders.add(container.javaDescriptorResolver.packageFragmentProvider)\n\n            return container.lazyTopDownAnalyzerForTopLevel.analyzeFiles(TopDownAnalysisMode.LocalDeclarations, allFiles, additionalProviders)\n        } finally {\n            rootDisposable.dispose()\n            if (severityCollector.anyReported(CompilerMessageSeverity.ERROR)) {\n                throw RuntimeException(\"Compilation error\")\n            }\n        }\n    }\n}\n\n\nfun main(args: Array&lt;String&gt;) {\n    val scriptFile = \"/media/data/java/blackfern/kotlin-compile-test/test.kt\"\n\n    val parser = KotlinScriptParser()\n    // Getting a root element of the AST\n    val analyzeContext = parser.parse(scriptFile)\n    // Sample AST investigation\n    val function = analyzeContext.functions.keys.first()\n    val body = function.bodyExpression as KtBlockExpression\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 521147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0fd04950d515b46af5a3f24cb73df9?s=128&d=identicon&r=PG", "display_name": "Iurii", "link": "https://stackoverflow.com/users/521147/iurii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3515, "favorite_count": 4, "accepted_answer_id": 33433130, "answer_count": 2, "score": 7, "last_activity_date": 1526021435, "creation_date": 1442642652, "last_edit_date": 1526021435, "question_id": 32664842, "link": "https://stackoverflow.com/questions/32664842/how-to-get-kotlin-ast", "title": "How to get Kotlin AST?", "body": "<p>I have a string with Kotlin source in it. How can I compile it at run-time and get abstract syntax tree and types info to analyze?</p>\n"}, {"tags": ["java", "class", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1311, "user_id": 742802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67986bf944536d15ec1619564435b16c?s=128&d=identicon&r=PG", "display_name": "Nishad", "link": "https://stackoverflow.com/users/742802/nishad"}, "edited": false, "score": 0, "creation_date": 1455214886, "post_id": 32655996, "comment_id": 58401229, "body": "Any place I can follow the implementation of something::class?"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 1311, "user_id": 742802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67986bf944536d15ec1619564435b16c?s=128&d=identicon&r=PG", "display_name": "Nishad", "link": "https://stackoverflow.com/users/742802/nishad"}, "edited": false, "score": 1, "creation_date": 1455266218, "post_id": 32655996, "comment_id": 58422236, "body": "@Nishad The easiest place would be to look at the generated bytecode (e.g. with <code>javap</code>)"}, {"owner": {"reputation": 597, "user_id": 6663366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-ySbXtlW-Mm8/AAAAAAAAAAI/AAAAAAAAAg8/fRVTBE3afA8/photo.jpg?sz=128", "display_name": "Saminda Peramuna", "link": "https://stackoverflow.com/users/6663366/saminda-peramuna"}, "edited": false, "score": 2, "creation_date": 1526451025, "post_id": 32655996, "comment_id": 87743275, "body": "You can also use <code>KClass::class</code> to get the current class object."}, {"owner": {"reputation": 259, "user_id": 983194, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b10310a075c5c8ecbc954a4c39649ac8?s=128&d=identicon&r=PG", "display_name": "KylePlusPlus", "link": "https://stackoverflow.com/users/983194/kyleplusplus"}, "edited": false, "score": 1, "creation_date": 1531929523, "post_id": 32655996, "comment_id": 89783812, "body": "Something to note is that <code>something::class</code> returns <code>KClass&lt;out Something&gt;</code> while <code>something.javaClass.kotlin</code> returns <code>KClass&lt;Something&gt;</code>"}, {"owner": {"reputation": 1951, "user_id": 1463100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33490c7e9eea31bdc5e11289fcefe2a1?s=128&d=identicon&r=PG", "display_name": "Markus Kreusch", "link": "https://stackoverflow.com/users/1463100/markus-kreusch"}, "reply_to_user": {"reputation": 597, "user_id": 6663366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-ySbXtlW-Mm8/AAAAAAAAAAI/AAAAAAAAAg8/fRVTBE3afA8/photo.jpg?sz=128", "display_name": "Saminda Peramuna", "link": "https://stackoverflow.com/users/6663366/saminda-peramuna"}, "edited": false, "score": 1, "creation_date": 1578390873, "post_id": 32655996, "comment_id": 105414151, "body": "@SamindaPeramuna This is just wrong, KClass::class returns the class object kotlin.reflect.KClass not the current class object! To get it you have to use this::class."}, {"owner": {"reputation": 663, "user_id": 10259491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77894db6abc4635e893e0312450dc0d0?s=128&d=identicon&r=PG&f=1", "display_name": "Raj Narayanan", "link": "https://stackoverflow.com/users/10259491/raj-narayanan"}, "edited": false, "score": 0, "creation_date": 1580743239, "post_id": 32655996, "comment_id": 106187948, "body": "Just use <code>something::class.simplename</code>"}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 158, "last_activity_date": 1497876516, "last_edit_date": 1497876516, "creation_date": 1442590790, "answer_id": 32655996, "question_id": 32655216, "link": "https://stackoverflow.com/questions/32655216/kotlin-equivalent-of-getclass-for-kclass/32655996#32655996", "title": "Kotlin: Equivalent of getClass() for KClass", "body": "<p>The easiest way to achieve this since Kotlin 1.1 is the <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-class-references-since-11\" rel=\"noreferrer\">class reference syntax</a>:</p>\n\n<pre><code>something::class\n</code></pre>\n\n<p>If you use Kotlin 1.0, you can convert the obtained Java class to a KClass instance by calling the <code>.kotlin</code> extension property:</p>\n\n<pre><code>something.javaClass.kotlin\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 38631, "user_id": 253468, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/eump2.jpg?s=128&g=1", "display_name": "TWiStErRob", "link": "https://stackoverflow.com/users/253468/twisterrob"}, "edited": false, "score": 1, "creation_date": 1526324423, "post_id": 36589130, "comment_id": 87690712, "body": "You can skip the <code>java</code> bit and go straight Kotlin: <code>fun&lt;T: Any&gt; T.getClass(): KClass&lt;out T&gt; = this::class</code>"}, {"owner": {"reputation": 1651, "user_id": 4630491, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh5.googleusercontent.com/-tTs9nCNmnRI/AAAAAAAAAAI/AAAAAAAAHKk/TDTnCbRXUEc/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/4630491/max"}, "edited": false, "score": 1, "creation_date": 1531194111, "post_id": 36589130, "comment_id": 89492509, "body": "This answer should be updated to reflect the changes in 1.1. Now it is possible to get the class using <code>someClass::class</code>"}], "tags": [], "owner": {"reputation": 385, "user_id": 1299302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee7b64c37b908bfbc06935accd78fcc?s=128&d=identicon&r=PG", "display_name": "dherman", "link": "https://stackoverflow.com/users/1299302/dherman"}, "is_accepted": false, "score": 12, "last_activity_date": 1531262114, "last_edit_date": 1531262114, "creation_date": 1460524442, "answer_id": 36589130, "question_id": 32655216, "link": "https://stackoverflow.com/questions/32655216/kotlin-equivalent-of-getclass-for-kclass/36589130#36589130", "title": "Kotlin: Equivalent of getClass() for KClass", "body": "<p><em>EDIT: See comments, below, and answer from Alexander, above. This advice was originally for Kotlin 1.0 and it seems is now obsolete.</em></p>\n\n<p>Since the language doesn't support a direct way to get this yet, <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">consider defining an extension method for now</a>.</p>\n\n<pre><code>fun&lt;T: Any&gt; T.getClass(): KClass&lt;T&gt; {\n    return javaClass.kotlin\n}\n\nval test = 0\nprintln(\"Kotlin type: ${test.getClass()}\")\n</code></pre>\n\n<p>Or, if you prefer a property:</p>\n\n<pre><code>val&lt;T: Any&gt; T.kClass: KClass&lt;T&gt;\n    get() = javaClass.kotlin\n\nval test = 0\nprintln(\"Kotlin type: ${test.kClass}\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 598, "user_id": 4034209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nACGR.png?s=128&g=1", "display_name": "Kashif Anwaar", "link": "https://stackoverflow.com/users/4034209/kashif-anwaar"}, "is_accepted": false, "score": 3, "last_activity_date": 1587568480, "creation_date": 1587568480, "answer_id": 61368613, "question_id": 32655216, "link": "https://stackoverflow.com/questions/32655216/kotlin-equivalent-of-getclass-for-kclass/61368613#61368613", "title": "Kotlin: Equivalent of getClass() for KClass", "body": "<p>Here's my solution</p>\n\n<pre><code>val TAG = javaClass.simpleName\n</code></pre>\n\n<p>With javaClass.simpleName you can obtain your class name. Also the above example is very useful for android developers to declare on top of the class as an instance variable for logging purposes.</p>\n"}, {"tags": [], "owner": {"reputation": 1189, "user_id": 4723178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f8rtm.jpg?s=128&g=1", "display_name": "Muhammad Maqsood", "link": "https://stackoverflow.com/users/4723178/muhammad-maqsood"}, "is_accepted": false, "score": 2, "last_activity_date": 1592220461, "creation_date": 1592220461, "answer_id": 62387221, "question_id": 32655216, "link": "https://stackoverflow.com/questions/32655216/kotlin-equivalent-of-getclass-for-kclass/62387221#62387221", "title": "Kotlin: Equivalent of getClass() for KClass", "body": "<p><strong>Here are different Implementations to get class names. You can utilize it as per your requirements.</strong></p>\n\n<pre><code>import kotlin.reflect.KClass\n\nval &lt;T : Any &gt; T.kClassName: KClass&lt;out T&gt;\nget() {\n    return javaClass.kotlin\n}\n</code></pre>\n\n<p><strong>Here we can get the class name in kotlin</strong></p>\n\n<pre><code>val &lt;T : Any &gt; T.classNameKotlin: String?\nget() {\n    return javaClass.kotlin.simpleName\n}\n</code></pre>\n\n<p><strong>Here we can get the class name in kotlin</strong></p>\n\n<pre><code>val &lt;T : Any &gt; T.classNameJava: String\nget() {\n    return javaClass.simpleName\n}\n</code></pre>\n\n<p><strong>Here are the outputs to the following operations.</strong></p>\n\n<pre><code>fun main(){\n\nval userAge = 0\n\nprintln(userAge.kClassName) \nOutput: class java.lang.Integer (Kotlin reflection is not available)\n\nprintln(userAge.classNameKotlin)\nOutput: Int\n\nprintln(userAge.classNameJava)\nOutput: Integer\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13978141, "user_type": "registered", "profile_image": "https://graph.facebook.com/163874245357293/picture?type=large", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0421\u0443\u0437\u0434\u0430\u043b\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/13978141/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b5%d0%b9-%d0%a1%d1%83%d0%b7%d0%b4%d0%b0%d0%bb%d0%b5%d0%bd%d0%ba%d0%be"}, "is_accepted": false, "score": 0, "last_activity_date": 1614284936, "last_edit_date": 1614284936, "creation_date": 1614275201, "answer_id": 66373789, "question_id": 32655216, "link": "https://stackoverflow.com/questions/32655216/kotlin-equivalent-of-getclass-for-kclass/66373789#66373789", "title": "Kotlin: Equivalent of getClass() for KClass", "body": "<p>In Kotlin:</p>\n<pre><code>val className = serviceClass.javaClass.name\n</code></pre>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63437, "favorite_count": 8, "accepted_answer_id": 32655996, "answer_count": 5, "score": 100, "last_activity_date": 1614284936, "creation_date": 1442588615, "last_edit_date": 1561380483, "question_id": 32655216, "link": "https://stackoverflow.com/questions/32655216/kotlin-equivalent-of-getclass-for-kclass", "title": "Kotlin: Equivalent of getClass() for KClass", "body": "<p>In Java we can resolve a variable's class through <code>getClass()</code> like <code>something.getClass()</code>. In Kotlin I am aware of <code>something.javaClass</code> which is nice but I want to be able to get the <code>KClass</code> in a similar way. I've seen the <code>Something::class</code> syntax but this is not what I need. I need to get the KClass of a variable. Does such functionality exist?</p>\n"}]