[{"tags": ["kotlin", "kovenant"], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 1, "last_activity_date": 1496923693, "creation_date": 1496923693, "answer_id": 44435396, "question_id": 44423488, "link": "https://stackoverflow.com/questions/44423488/chaining-promises-with-custom-error-types-with-kovenant/44435396#44435396", "title": "Chaining Promises with custom error types with Kovenant", "body": "<p>Some of the base definitions do not have generic bounds for <code>E</code> but almost all of the extension functions do indicate the <code>E</code> is of type <code>Exception</code>.  Viewing the source code in Kovenant <a href=\"https://github.com/mplatvoet/kovenant/blob/develop/projects/core/src/main/kotlin/promises-api.kt\" rel=\"nofollow noreferrer\">promises-api.kt</a> shows that it is clear that most things have this expectation.</p>\n\n<p>You can simply change your error class to be a descendant of <code>Exception</code>:</p>\n\n<pre><code>class ApiError(val statusCode: Int, val apiErrorCode: Int, message: String) : Exception(message)\n</code></pre>\n\n<p>Then you can throw it to fail the <code>Promise</code> or use it to call fail on the  <code>Deferred</code>.</p>\n"}], "owner": {"reputation": 187, "user_id": 3785179, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c8d42c01aafd83864d3436738870dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Dragonspell", "link": "https://stackoverflow.com/users/3785179/dragonspell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 44435396, "answer_count": 1, "score": 0, "last_activity_date": 1496923693, "creation_date": 1496872782, "question_id": 44423488, "link": "https://stackoverflow.com/questions/44423488/chaining-promises-with-custom-error-types-with-kovenant", "title": "Chaining Promises with custom error types with Kovenant", "body": "<p>I'm using Retrofit to access a REST API and I would like to use Kovenant's <code>then</code> function to chain several units of work. In other words, I want to feed the output of one API call as a parameter to another API call.</p>\n\n<p>I've defined a custom error type that includes a property to contain API specific error codes defined as follows:</p>\n\n<pre><code>class ApiError(val statusCode: Int, val apiErrorCode: Int, val message: String)\n</code></pre>\n\n<p>If an error occurs during an API call, an instance of this class is created with the appropriate error codes.</p>\n\n<p>According to Kovenant's documentation, I can create an instance of <code>Deferred&lt;V, E&gt;</code> to obtain a <code>Promise&lt;V, E&gt;</code>. I was hoping that I could supply <code>ApiError</code> for the generic parameter <code>E</code>. I didn't see any generic constraints in Kovenant's definition of <code>Deferred</code> that seem to require <code>E</code> to be an <code>Exception</code>.</p>\n\n<p>That being said, when I attempt to chain two functions that return <code>Promise&lt;V, ApiError&gt;</code> using <code>then</code>, I receive a compiler error stating that the expected type for <code>then</code> is a <code>Promise&lt;V, Exception&gt;</code>.</p>\n\n<p>Can I make Kovenant work with a custom error type and if not, is subclassing Exception to include the properties I need the correct solution for what I'm trying to achieve?</p>\n"}, {"tags": ["kotlin", "setter", "getter"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496923837, "post_id": 44422600, "comment_id": 75867877, "body": "Are you trying to name these using snake case for the benefit of some other system (i.e. JSON serdes?).  Why use the non standard naming for properties?  That context might lead to completely different answers to help you accomplish what you are trying.  (in other words, is this an XY problem <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>)"}, {"owner": {"reputation": 352, "user_id": 2877339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/905977fbc5dd81c0793187ed8b1b39fb?s=128&d=identicon&r=PG", "display_name": "Jeffmagma", "link": "https://stackoverflow.com/users/2877339/jeffmagma"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496957213, "post_id": 44422600, "comment_id": 75889262, "body": "@JaysonMinard I just like the snake case style when naming my variables, but the project requirements need camel case getters and setters"}], "answers": [{"comments": [{"owner": {"reputation": 352, "user_id": 2877339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/905977fbc5dd81c0793187ed8b1b39fb?s=128&d=identicon&r=PG", "display_name": "Jeffmagma", "link": "https://stackoverflow.com/users/2877339/jeffmagma"}, "edited": false, "score": 0, "creation_date": 1496873686, "post_id": 44422652, "comment_id": 75845686, "body": "This is still pretty tedious, but I guess it still works a lot better"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 11, "last_activity_date": 1496869143, "creation_date": 1496869143, "answer_id": 44422652, "question_id": 44422600, "link": "https://stackoverflow.com/questions/44422600/kotlin-renaming-generated-getters-and-setters/44422652#44422652", "title": "Kotlin Renaming Generated Getters and Setters", "body": "<p>It is described in the section on handling signature clashes: <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#handling-signature-clashes-with-jvmname\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#handling-signature-clashes-with-jvmname</a></p>\n\n<pre><code>val x: Int\n    @JvmName(\"getX_prop\")\n    get() = 15\n</code></pre>\n\n<p>So <code>@JvmName(\"getPropertyName\") get</code> should work.</p>\n"}, {"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 19, "last_activity_date": 1496938249, "creation_date": 1496938249, "answer_id": 44440741, "question_id": 44422600, "link": "https://stackoverflow.com/questions/44422600/kotlin-renaming-generated-getters-and-setters/44440741#44440741", "title": "Kotlin Renaming Generated Getters and Setters", "body": "<p>If you just want to change the name and not the functionality, you can also scope the annotation like so:</p>\n\n<pre><code>@get:JvmName(\"getPropertyName\")\n@set:JvmName(\"setPropertyName\")\nvar property_name = Color.BLACK\n</code></pre>\n"}], "owner": {"reputation": 352, "user_id": 2877339, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/905977fbc5dd81c0793187ed8b1b39fb?s=128&d=identicon&r=PG", "display_name": "Jeffmagma", "link": "https://stackoverflow.com/users/2877339/jeffmagma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2930, "favorite_count": 0, "accepted_answer_id": 44422652, "answer_count": 2, "score": 5, "last_activity_date": 1496938249, "creation_date": 1496868900, "question_id": 44422600, "link": "https://stackoverflow.com/questions/44422600/kotlin-renaming-generated-getters-and-setters", "title": "Kotlin Renaming Generated Getters and Setters", "body": "<p>Is there a way to rename the default getters and setters in Kotlin? I have a property named in <code>snake_case</code>, but I still want the getters and setters to be named in <code>camelCase</code>.</p>\n\n<p>The closest I've gotten is something like</p>\n\n<pre><code>private var property_name = Color.BLACK\nprivate set\nfun setPropertyName(c: Color) { property_name = c }\nfun getPropertyName() = property_name\n</code></pre>\n\n<p>Is there a way to do this without hiding the getters and setters and defining new methods?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 1, "creation_date": 1496863526, "post_id": 44421189, "comment_id": 75840853, "body": "When you say &quot;doesn&#39;t work&quot;, what exactly do you mean? Are you getting an error? Do you just not get the results you want?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1496863544, "post_id": 44421189, "comment_id": 75840865, "body": "Do you have the <code>WRITE_EXTERNAL_STORAGE</code> permission in your manifest / did you request it at runtime if your target API is 23+?"}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "edited": false, "score": 2, "creation_date": 1496863616, "post_id": 44421189, "comment_id": 75840895, "body": "Yes I have WRITE_EXTERNAL_STORAGE permission in my manifest file, I am using api 19"}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 1, "creation_date": 1496863670, "post_id": 44421189, "comment_id": 75840917, "body": "@Todd, as soon as i type mkdirs(), it throws an error"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1496863832, "post_id": 44421189, "comment_id": 75841014, "body": "Can you post the error you&#39;re getting?"}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1496863848, "post_id": 44421189, "comment_id": 75841028, "body": "OK. What error? Can you edit your question to post the error? Help us out here, we&#39;re trying to help you."}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "edited": false, "score": 0, "creation_date": 1496863909, "post_id": 44421189, "comment_id": 75841075, "body": "Expecting member declaration"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1496864024, "post_id": 44421189, "comment_id": 75841134, "body": "Are you just writing on the top level of a file or just inside a class? You should put your code in a function if it isn&#39;t in one. Can you post your code with more context?"}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "edited": false, "score": 0, "creation_date": 1496864051, "post_id": 44421189, "comment_id": 75841152, "body": "is there any other way, I can Create a directory in android using kotlin"}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "edited": false, "score": 0, "creation_date": 1496864185, "post_id": 44421189, "comment_id": 75841241, "body": "I have wrote it as a function also but then too the directory is not created"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 2, "creation_date": 1496924107, "post_id": 44421189, "comment_id": 75868077, "body": "Are you having a compiler error, or a runtime error.  Your mention in a comment of &quot;<i>Expecting member declaration</i>&quot; is a compiler error, but your question sounds like it just doesn&#39;t work at runtime.  This should be clarified."}], "answers": [{"comments": [{"owner": {"reputation": 11047, "user_id": 208273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65129b14ad4a755ba297a84f0ea03727?s=128&d=identicon&r=PG", "display_name": "Ryan M", "link": "https://stackoverflow.com/users/208273/ryan-m"}, "edited": false, "score": 1, "creation_date": 1591925211, "post_id": 44425281, "comment_id": 110247196, "body": "What is it that makes this work, when the question didn&#39;t?  They look pretty similar - is it the extra slash?"}], "tags": [], "owner": {"reputation": 2135, "user_id": 3484674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38bd607afe25b8f274798a7d99f5bf66?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/3484674/arun-shankar"}, "is_accepted": true, "score": 19, "last_activity_date": 1496885576, "creation_date": 1496885576, "answer_id": 44425281, "question_id": 44421189, "link": "https://stackoverflow.com/questions/44421189/creating-a-new-directory-using-kotlin-mkdir-doesnt-work/44425281#44425281", "title": "Creating a new directory using Kotlin, Mkdir() doesn&#39;t work", "body": "<p>This works perfectly on Kotlin</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    var filename = \"blesson.txt\"\n    // create a File object for the parent directory\n    val wallpaperDirectory = File(\"/sdcard/Wallpaper/\")\n    // have the object build the directory structure, if needed.\n    wallpaperDirectory.mkdirs()\n    // create a File object for the output file\n    val outputFile = File(wallpaperDirectory, filename)\n    // now attach the OutputStream to the file object, instead of a String representation\n    try {\n      val fos = FileOutputStream(outputFile)\n    } catch (e: FileNotFoundException) {\n      e.printStackTrace()\n    }\n\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 2625272, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eac2f226ee9d8c8cacec3d435a3e12ad?s=128&d=identicon&r=PG", "display_name": "Rundom", "link": "https://stackoverflow.com/users/2625272/rundom"}, "is_accepted": false, "score": 5, "last_activity_date": 1591904519, "last_edit_date": 1591904519, "creation_date": 1536645104, "answer_id": 52269445, "question_id": 44421189, "link": "https://stackoverflow.com/questions/44421189/creating-a-new-directory-using-kotlin-mkdir-doesnt-work/52269445#52269445", "title": "Creating a new directory using Kotlin, Mkdir() doesn&#39;t work", "body": "<p>You can also use <code>also</code> to do this:</p>\n\n<pre><code>File(\"path_to_file\").also {\n                              file -&gt; file.parentFile.mkdirs()\n                          }.writeBytes(bytes)\n</code></pre>\n"}], "owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16587, "favorite_count": 3, "accepted_answer_id": 44425281, "answer_count": 2, "score": 11, "last_activity_date": 1591904519, "creation_date": 1496863377, "last_edit_date": 1496884335, "question_id": 44421189, "link": "https://stackoverflow.com/questions/44421189/creating-a-new-directory-using-kotlin-mkdir-doesnt-work", "title": "Creating a new directory using Kotlin, Mkdir() doesn&#39;t work", "body": "<pre><code>var filename = \"blesson.txt\"\nvar wallpaperDirectory = File(\"/sdcard/Wallpaper\")\n wallpaperDirectory.mkdirs()\nval outputFile = File(wallpaperDirectory, filename)\nval fos = FileOutputStream(outputFile)\n</code></pre>\n\n<p>I am trying to make a new directory on an Android device using Kotlin, but the function <code>mkdirs()</code> doesn't work.</p>\n\n<pre><code>var filename = \"blesson.txt\"\nvar wallpaperDirectory = File(Environment.getExternalStorageDirectory().absolutePath)//(\"/sdcard/Wallpaper\")\nwall\nval outputFile = File(wallpaperDirectory, filename)\nval fos = FileOutputStream(outputFile)\n</code></pre>\n\n<p>I have tried this also, it is not making a new directory\nAny help is welcome</p>\n"}, {"tags": ["kotlin", "data-class", "sealed-class"], "answers": [{"comments": [{"owner": {"reputation": 432, "user_id": 1861742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30d20df0d41569ea11dee20f4aa09d20?s=128&d=identicon&r=PG", "display_name": "alvaro", "link": "https://stackoverflow.com/users/1861742/alvaro"}, "edited": false, "score": 0, "creation_date": 1583170914, "post_id": 44420084, "comment_id": 107018186, "body": "Do extending data classes have to be nested within sealed superclass or just in the same file? <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/inheritance.html#sealed-classes\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/kotlin-for-py/&hellip;</a>"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 432, "user_id": 1861742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30d20df0d41569ea11dee20f4aa09d20?s=128&d=identicon&r=PG", "display_name": "alvaro", "link": "https://stackoverflow.com/users/1861742/alvaro"}, "edited": false, "score": 0, "creation_date": 1583190883, "post_id": 44420084, "comment_id": 107025670, "body": "@alvaro That appears to be the case, looks like only the normal sealed class restrictions apply."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 71, "last_activity_date": 1583190907, "last_edit_date": 1583190907, "creation_date": 1496859565, "answer_id": 44420084, "question_id": 44419997, "link": "https://stackoverflow.com/questions/44419997/extending-data-class-from-a-sealed-class-in-kotlin/44420084#44420084", "title": "Extending data class from a sealed class in Kotlin", "body": "<p>Options 3 and 4 would result in the class holding <code>messageId</code> twice. Once in the new class and once in its superclass.</p>\n\n<p>The solution is to declare but not define the variable in the superclass:</p>\n\n<pre><code>sealed class Message {\n    abstract val messageId: String\n}\n\ndata class Track(val event: String, override val messageId: String): Message()\n</code></pre>\n\n<p>This will make the messageId available on <code>Message</code>, but delegates the storage to whatever implements it.</p>\n"}], "owner": {"reputation": 1834, "user_id": 1431669, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/af62a2814aed79f5beacd0670f3eab99?s=128&d=identicon&r=PG", "display_name": "f2prateek", "link": "https://stackoverflow.com/users/1431669/f2prateek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11137, "favorite_count": 5, "accepted_answer_id": 44420084, "answer_count": 1, "score": 47, "last_activity_date": 1613661787, "creation_date": 1496859255, "last_edit_date": 1613661787, "question_id": 44419997, "link": "https://stackoverflow.com/questions/44419997/extending-data-class-from-a-sealed-class-in-kotlin", "title": "Extending data class from a sealed class in Kotlin", "body": "<p>I have a set of data classes that share some common fields, So ideally I'd like to declare those in a supertype (Message in this example), and be able to write functions that operate on the supertype if they need access to these common fields (messageId in this example).</p>\n\n<pre><code>fun operate(m: Message) {\n  use(m.messageId)\n}\n</code></pre>\n\n<p>I tried to accomplish this by extending my data classes from a sealed class.</p>\n\n<p>Data classes may extend sealed classes, but not I'm not sure how/if they can accept arguments required by the \"supertype\" sealed class.</p>\n\n<ol>\n<li><p>Extending a regular class from a sealed class compiles just fine.</p>\n\n<pre><code>sealed class Message(val messageId: String)\n\nclass Track(val event: String, messageId: String): Message(messageId)\n</code></pre></li>\n<li><p>However, changing it to a data class doesn't compile (\"Data class primary constructor must have only property (val/var) parameters.\").</p>\n\n<pre><code>sealed class Message(val messageId: String)\n\ndata class Track(val event: String, messageId: String): Message(messageId)\n</code></pre></li>\n<li><p>Declaring the parameter as a property also doesn't compile (\"'messageId' hides member of supertype 'Message' and needs 'override' modifier'\").</p>\n\n<pre><code>sealed class Message(val messageId: String)\n\ndata class Track(val event: String, val messageId: String): Message(messageId)\n</code></pre></li>\n<li><p>Opening the supertype property and overriding it in each of the base classes compiles fine:</p>\n\n<pre><code>sealed class Message(open val messageId: String)\n\ndata class Track(val event: String, override val messageId: String): Message(messageId)\n</code></pre></li>\n</ol>\n\n<p>Ideally I would like something close to Option 2 - it allows me to combine the best of both worlds.</p>\n\n<p>Otherwise, it seems my options are either handrolling my own data class functionality (copy, hashcode, equals etc) with option 1, or live with a compromise by opening up up the supertype properties with option 4.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 5, "creation_date": 1496851974, "post_id": 44417868, "comment_id": 75834439, "body": "Yes, you need to install the JDK to use Kotlin."}, {"owner": {"reputation": 1187, "user_id": 8081281, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a50b68e390dee8e4eea4c4f87b0e8dd6?s=128&d=identicon&r=PG&f=1", "display_name": "utkarsh31", "link": "https://stackoverflow.com/users/8081281/utkarsh31"}, "edited": false, "score": 2, "creation_date": 1496852140, "post_id": 44417868, "comment_id": 75834539, "body": "Install java and set you environment variables - If you are using Windows 10 link is <a href=\"https://www.mkyong.com/java/how-to-set-java_home-on-windows-10/\" rel=\"nofollow noreferrer\">link</a>....For windows 7 <a href=\"https://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7\">link</a>"}], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 1, "last_activity_date": 1496856607, "creation_date": 1496856607, "answer_id": 44419227, "question_id": 44417868, "link": "https://stackoverflow.com/questions/44417868/java-is-not-recognized-as-an-internal-or-external-command-program-or-batch/44419227#44419227", "title": "&quot;&quot;Java&quot;&quot; is not recognized as an internal or external command, program or batch file. in Kotlin", "body": "<p>Install Java 8 JDK (not JRE) on your development machine as it is a prerequisite for running the Kotlin compiler, and also for any Java or Kotlin application.  You can use either the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">Oracle JDK</a> for most platforms or <a href=\"http://openjdk.java.net/install/\" rel=\"nofollow noreferrer\">OpenJDK</a> for Linux platforms.</p>\n"}], "owner": {"reputation": 25, "user_id": 7377458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f457e75b15b5adec91af3b22c08b7a?s=128&d=identicon&r=PG&f=1", "display_name": "Vitmar Aliaga", "link": "https://stackoverflow.com/users/7377458/vitmar-aliaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2401, "favorite_count": 0, "accepted_answer_id": 44419227, "answer_count": 1, "score": 1, "last_activity_date": 1496856607, "creation_date": 1496851926, "last_edit_date": 1496852015, "question_id": 44417868, "link": "https://stackoverflow.com/questions/44417868/java-is-not-recognized-as-an-internal-or-external-command-program-or-batch", "title": "&quot;&quot;Java&quot;&quot; is not recognized as an internal or external command, program or batch file. in Kotlin", "body": "<p>I'm starting with kotlin on windows, I'm following the steps of\n<a href=\"https://kotlinlang.org/docs/tutorials/command-line.html\" rel=\"nofollow noreferrer\">Working with the Command Line Compiler</a></p>\n\n<p>And I get the following error after trying to compile(and add the bin directory in the path of my system):</p>\n\n<p><strong>Comand compile</strong>:</p>\n\n<pre><code>$ kotlinc hello.kt -include-runtime -d hello.jar\n</code></pre>\n\n<p><strong>Error</strong>: </p>\n\n<pre><code>\"\"Java\"\" is not recognized as an internal or external command, program or batch file\n</code></pre>\n\n<p>in my windows CMD.</p>\n\n<p>I need to have java installed on my pc. To start with kotlin?</p>\n"}, {"tags": ["java", "json", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496850392, "post_id": 44416855, "comment_id": 75833412, "body": "<code>catch (e: IOException = java.io.IOException)</code> is wrong, should be just <code>catch (e: IOException)</code>. Or you can remove catch at all."}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496850529, "post_id": 44416855, "comment_id": 75833508, "body": "Thank you, will make the change. Got any more tips?"}, {"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496851719, "post_id": 44416855, "comment_id": 75834284, "body": "You need to first read the json, then add new element, last store it."}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "reply_to_user": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496853938, "post_id": 44416855, "comment_id": 75835615, "body": "@KrisRoofe Adding the new element is what I&#39;m having difficulty with. How can I make it so the user can specify an object to add the new element to?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496856631, "post_id": 44418833, "comment_id": 75837020, "body": "Hmm, having some difficulty with the Type class, seems to not play nice with Kotlin because the Java to Kotlin conversion removes the &quot;Type&quot; type and replaces it with &quot;object&quot;, which then results in an inference error. Any alternatives to Type?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 1, "creation_date": 1496856899, "post_id": 44418833, "comment_id": 75837159, "body": "just change it back to Type, it works fine in Kotlin.  @CoalCoding you are asking people to write your code instead of one specific question."}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496857012, "post_id": 44418833, "comment_id": 75837226, "body": "If I change it back to type it says &quot;unresolved reference &quot;type&quot; at the &quot;.type&quot; it converts it to at the end. &quot;.getType()&quot; is the same."}, {"owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "edited": false, "score": 0, "creation_date": 1496857095, "post_id": 44418833, "comment_id": 75837272, "body": "According to the <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">doc</a>, &quot;On the Java platform, the runtime component required for using the reflection features is distributed as a separate JAR file (kotlin-reflect.jar). &quot;"}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496857194, "post_id": 44418833, "comment_id": 75837329, "body": "Will check that out now. The only alternative seems to be &quot;KType&quot;, which appears to have a different usage."}, {"owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "edited": false, "score": 0, "creation_date": 1496857398, "post_id": 44418833, "comment_id": 75837425, "body": "Also see the solution for <a href=\"https://stackoverflow.com/questions/33381384/how-to-use-typetoken-generics-with-gson-in-kotlin\">this question</a>"}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 1, "creation_date": 1496857848, "post_id": 44418833, "comment_id": 75837665, "body": "Thank you very much. That fixed the issue."}, {"owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "edited": false, "score": 0, "creation_date": 1496858698, "post_id": 44418833, "comment_id": 75838125, "body": "Happy to help, and welcome to Stack Overflow. If this answer or any other one solved your issue, please mark it as accepted."}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496859026, "post_id": 44418833, "comment_id": 75838295, "body": "I&#39;m not done yet unfortunately. I don&#39;t really understand how to implement this. I&#39;m sorry I&#39;m a bit of a noob. I&#39;ve previously been using simple objects and .name and .value and stuff. How do I add stuff to this? How do I combine this with my previous code."}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496860089, "post_id": 44418833, "comment_id": 75838835, "body": "Getting this error when I attempt to use: Exception in thread &quot;main&quot; java.lang.IllegalStateException: gson.fromJson&lt;Map&lt;String\u2026eader(File(path))), type) must not be null @Ishnark"}, {"owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "edited": false, "score": 0, "creation_date": 1496860615, "post_id": 44418833, "comment_id": 75839157, "body": "Could you add to your post the current version of your code?"}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496862680, "post_id": 44418833, "comment_id": 75840333, "body": "<code>fun UpdateJson(path: String, name: String, value: String){     var gson = Gson()     var reader: FileReader = FileReader(File(path))      val type = object : TypeToken&lt;Map&lt;String, String&gt;&gt;() {}.type     println(&quot;Type: &quot; + type.toString())     println(&quot;Existing Json: ${gson.fromJson&lt;Map&lt;String,String&gt;&gt;(JsonReader(reader), type)}&quot;)     var existingJson: Map&lt;String, String&gt; = gson.fromJson&lt;Map&lt;String,String&gt;&gt;(JsonReader(reader), type)     existingJson.put(name, value)     FileWriter(File(path)).use({ writer -&gt; writer.write(gson.toJson(existingJson)) }) }  </code> @Ishnark"}, {"owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "edited": false, "score": 0, "creation_date": 1496865804, "post_id": 44418833, "comment_id": 75842130, "body": "Edited post for Kotlin"}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496934611, "post_id": 44418833, "comment_id": 75876482, "body": "&quot;plus&quot; is not a function and if you try &quot;put&quot; , it requires a string rather than a Pair of strings. Assume you mean this: <code>val newJsonMap = existingJson.put(name,value)</code> however that gives you the following error: <code>Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected a string but was BEGIN_OBJECT at line 1 column 13 path $. \tat com.google.gson.Gson.fromJson(Gson.java:891) \tat JsonUtilityKt.addObjects(JsonUtility.kt:45) \tat JsonUtilityKt.main(JsonUtility.kt:15) </code>"}, {"owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "edited": false, "score": 0, "creation_date": 1496934806, "post_id": 44418833, "comment_id": 75876625, "body": "That&#39;s interesting -&gt; IntelliJ tells me <code>put</code> doesn&#39;t exist, but <code>plus</code> does."}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496935010, "post_id": 44418833, "comment_id": 75876752, "body": "We most likely have different versions of gson, I am also using IntelliJ. My version is 2.6.2."}, {"owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "edited": false, "score": 0, "creation_date": 1496935467, "post_id": 44418833, "comment_id": 75877088, "body": "<code>existingJson</code> is a<code>Map&lt;String, String&gt;</code>. Shouldn&#39;t be gson related. Also it looks like <code>plus</code> has been in both 1.0.x and 1.1.x versions of the language. Maybe I&#39;m missing something <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/\" rel=\"nofollow noreferrer\">here&#39;s what I&#39;m looking at</a>. Also I&#39;m using <code>gson-2.8.0.jar</code>"}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496939362, "post_id": 44418833, "comment_id": 75879821, "body": "Ahh the issue was I was using the Java Map package. I still get this error though: <code>Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected a string but was BEGIN_OBJECT at line 1 column 13 path $.</code>"}, {"owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "edited": false, "score": 0, "creation_date": 1496939666, "post_id": 44418833, "comment_id": 75880019, "body": "I got the IllegalStateException by calling <code>gson.fromJson&lt;Map&lt;String, String&gt;&gt;(JsonReader(reader), type)</code> twice. Which is why in my code, instead of calling it twice, the second time I called it (in the print statement) I called it by <code>existingJson</code>"}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496940228, "post_id": 44418833, "comment_id": 75880321, "body": "I only used it once and I still get the error with some existing json in there."}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 0, "creation_date": 1496940575, "post_id": 44418833, "comment_id": 75880518, "body": "Also if there is no json in there it is null and doesn&#39;t add anything."}, {"owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "edited": false, "score": 0, "creation_date": 1496940650, "post_id": 44418833, "comment_id": 75880563, "body": "An empty json file, to be considered an object, must atleast have <code>{}</code>"}, {"owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "edited": false, "score": 1, "creation_date": 1496941045, "post_id": 44418833, "comment_id": 75880787, "body": "That fixed my issue. The error was from using the incorrect format. Everything works now and I realise I&#39;ve been pretty stupid not reading the gson documentation. Thanks for all the help."}], "tags": [], "owner": {"reputation": 641, "user_id": 6475173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345fb137696a11edee79c5ff5c661e62?s=128&d=identicon&r=PG&f=1", "display_name": "Ishnark", "link": "https://stackoverflow.com/users/6475173/ishnark"}, "is_accepted": true, "score": 0, "last_activity_date": 1496865784, "last_edit_date": 1496865784, "creation_date": 1496855233, "answer_id": 44418833, "question_id": 44416855, "link": "https://stackoverflow.com/questions/44416855/adding-json-objects-to-existing-json-file/44418833#44418833", "title": "Adding JSON objects to existing JSON File", "body": "<p>The easiest way is to, as @KrisRoofe suggested, read the json, then add an element. I would do this by <a href=\"https://stackoverflow.com/questions/2779251/how-can-i-convert-json-to-a-hashmap-using-gson\">converting the existing json in the file to a Map</a>. Since you don't actually care about the existing json, all you want to do is add a new entry to that Map. Once you do that, simply write the new Map to the File. You can do this like so:</p>\n\n<pre><code>public class UpdateJson {\n    public static void main(String[] args) throws IOException {\n        addObject(\"example.json\", \"GENERAL\", arrayOf(arrayOf(\"POS_X\",\"2\"), arrayOf(\"POS_Y\",\"4\")));\n    }\n\n    private static void addObject(String fileName, String newObjName, String newObjValue) throws IOException {\n        Gson gson = new Gson();\n        Type type = new TypeToken&lt;Map&lt;String, String&gt;&gt;(){}.getType();\n        Map&lt;String, String&gt; existingJson = gson.fromJson(new JsonReader(new FileReader(new File(fileName))), type);\n        existingJson.put(newObjName, newObjValue);\n        try (FileWriter writer = new FileWriter(new File(fileName))) {\n            writer.write(gson.toJson(existingJson));\n        }\n    }\n\n    private static String arrayOf(String s1, String s2) {\n        return \"[\" + s1 + \", \" + s2 + \"]\";\n    }\n}\n</code></pre>\n\n<p>EDIT:\nThe above solution is a Java solution. There seems to be an issue with the <code>Type</code> in Kotlin.</p>\n\n<ol>\n<li>This <a href=\"https://stackoverflow.com/questions/33381384/how-to-use-typetoken-generics-with-gson-in-kotlin\">Stack Overflow question</a> has a workaround by using <code>object:</code></li>\n<li>Also, note that to use reflection with Kotlin, you need a separate jar, according to <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">Kotlin documentation</a>'</li>\n</ol>\n\n<p>EDIT 2: Provided Kotlin Answer:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    addObject(\"example.json\", \"GENERAL\", arrayOf(arrayOf(\"POS_X\", \"2\"), arrayOf(\"POS_Y\", \"4\")))\n}\n\n\nfun addObject(path: String, name: String, value: String) {\n    val gson = Gson()\n    val reader: FileReader = FileReader(File(path))\n    val type = object : TypeToken&lt;Map&lt;String, String&gt;&gt;() {}.type\n    System.out.println(\"Type: \" + type.toString())\n    val existingJson = gson.fromJson&lt;Map&lt;String, String&gt;&gt;(JsonReader(reader), type)\n    System.out.println(\"Existing Json: ${existingJson}\")\n    val newJsonMap = existingJson.plus(Pair(name, value))\n    FileWriter(File(path)).use(\n        { writer -&gt; writer.write(gson.toJson(newJsonMap)) }\n    )\n}\n\nfun arrayOf(s1: String, s2: String): String {\n    return \"[$s1, $s2]\"\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4970235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fed8643a947009f06435e205b231700?s=128&d=identicon&r=PG&f=1", "display_name": "CoalCoding", "link": "https://stackoverflow.com/users/4970235/coalcoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3015, "favorite_count": 0, "accepted_answer_id": 44418833, "answer_count": 1, "score": -2, "last_activity_date": 1496865784, "creation_date": 1496849137, "last_edit_date": 1496863960, "question_id": 44416855, "link": "https://stackoverflow.com/questions/44416855/adding-json-objects-to-existing-json-file", "title": "Adding JSON objects to existing JSON File", "body": "<p>So I've recently been tasked with creating a utility which will allow easy addition of JSON to a .json file via the gson library. I've coded this in Kotlin:</p>\n\n<pre><code>fun addObject(filePath: String, name: String, values: Array&lt;Array&lt;String&gt;&gt;) {\ntry {\n\n    var writer: JsonWriter = JsonWriter(FileWriter(File(filePath)))\n    writer.beginObject()\n    writer.name(name)\n    writer.beginObject()\n    for(item in values){\n        writer.name(item[0]).value(item[1])\n    }\n    writer.endObject()\n    writer.endObject()\n\n    writer.close()\n\n    println(\"[JSONUtil] Wrote object successfully!\")\n\n} catch (e: IOException) {\n    e.printStackTrace()\n}\n}\n</code></pre>\n\n<p>I used a 2 Dimensional array to allow the user to add different objects with any number of values in said object. For instance, you would run it like so:</p>\n\n<pre><code>addObject(\"C:\\\\Users\\\\Test\\\\Desktop\\\\JsonUtility\\\\output.json\", \"GENERAL\", \narrayOf(arrayOf(\"POS_X\",\"2\"), arrayOf(\"POS_Y\",\"4\")))\n</code></pre>\n\n<p>This creates the following JSON:</p>\n\n<pre><code>{\"GENERAL\":{\"POS_X\":\"2\",\"POS_Y\":\"4\"}}\n</code></pre>\n\n<p>This is how it was intended and works, my issue is that upon running the function again it completely overwrites the previous JSON in the file, and this is obviously bad.</p>\n\n<p>My questions are:</p>\n\n<ul>\n<li><p>How can I add new JSON objects inside the entire file, or at specific points, like \"addObject(\"GENERAL\", ...)\" for this example?</p></li>\n<li><p>How can I make this better?</p></li>\n</ul>\n\n<p>I'm fairly new to Kotlin and have been coding in Java mostly, so Java solutions are fine as I'm sure I'll be able to convert it.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: New Code, no idea how to implement it:</p>\n\n<pre><code>fun UpdateJson(path: String, name: String, value: String){\n    var gson = Gson()\n    var reader: FileReader = FileReader(File(path))\n\n    val type = object : TypeToken&lt;Map&lt;String, String&gt;&gt;() {}.type\n    println(\"Type: \" + type.toString())\n    println(\"Existing Json: ${gson.fromJson&lt;Map&lt;String,String&gt;&gt;\n    (JsonReader(reader), type)}\")\n    var existingJson: Map&lt;String, String&gt; = \n    gson.fromJson&lt;Map&lt;String,String&gt;&gt;(JsonReader(reader), type)\n    existingJson.put(name, value)\n    FileWriter(File(path)).use({ writer -&gt; \n    writer.write(gson.toJson(existingJson)) })\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1496847556, "creation_date": 1496847556, "answer_id": 44416235, "question_id": 44416076, "link": "https://stackoverflow.com/questions/44416076/converting-java-parcel-creator-code-to-kotlin/44416235#44416235", "title": "Converting Java Parcel creator code to Kotlin", "body": "<p><code>arrayOfNulls</code> will return an array of nullable elements, <code>Array&lt;Save?&gt;</code> in this case. You should change your function's return type to match that.</p>\n\n<pre><code>override fun newArray(size: Int): Array&lt;Save?&gt; {\n    return arrayOfNulls(size)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "is_accepted": false, "score": 0, "last_activity_date": 1496847607, "creation_date": 1496847607, "answer_id": 44416255, "question_id": 44416076, "link": "https://stackoverflow.com/questions/44416076/converting-java-parcel-creator-code-to-kotlin/44416255#44416255", "title": "Converting Java Parcel creator code to Kotlin", "body": "<p>You can try <a href=\"https://github.com/nekocode/android-parcelable-intellij-plugin-kotlin\" rel=\"nofollow noreferrer\">this</a> plugin to do Parcelable, just suggestion, I never tried but come across while googling.</p>\n"}], "owner": {"reputation": 1, "user_id": 7484196, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2IalfiN6r-I/AAAAAAAAAAI/AAAAAAAAAE8/f-MUxocH5fw/photo.jpg?sz=128", "display_name": "Tony", "link": "https://stackoverflow.com/users/7484196/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 44416235, "answer_count": 2, "score": 0, "last_activity_date": 1496857065, "creation_date": 1496847165, "last_edit_date": 1496857065, "question_id": 44416076, "link": "https://stackoverflow.com/questions/44416076/converting-java-parcel-creator-code-to-kotlin", "title": "Converting Java Parcel creator code to Kotlin", "body": "<p>I'm trying to convert my Parcel Creator code from Java to Kotlin. The auto code converter fails at this and I'm not sure how to resolve it. The code I'm converting is: </p>\n\n<pre><code>public static final Creator&lt;Save&gt; CREATOR = new Creator&lt;Save&gt;() {\n\n    @Override\n    public Save[] newArray(int size) {\n        return new Save[size];\n    }\n\n    @Override\n    public Save createFromParcel(Parcel incoming) {\n        return new Save(incoming);\n    }\n};\n</code></pre>\n\n<p>I end up with this:</p>\n\n<pre><code>val CREATOR: Parcelable.Creator&lt;Save&gt; = object : Parcelable.Creator&lt;Save&gt; {\n\n    override fun newArray(size: Int): Array&lt;Save&gt; {\n        return arrayOfNulls(size)\n    }\n\n    override fun createFromParcel(incoming: Parcel): Save {\n        return Save(incoming)\n    }\n}\n</code></pre>\n\n<p>which gives an error saying 'Type inference failed' for arrayOfNulls(size). I have tried changing it to Save(size) but that doesn't work either. Any Ideas?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 758, "user_id": 7773813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/seqtn.jpg?s=128&g=1", "display_name": "Sidharth Anil", "link": "https://stackoverflow.com/users/7773813/sidharth-anil"}, "edited": false, "score": 0, "creation_date": 1496847568, "post_id": 44415933, "comment_id": 75831422, "body": "Thanks a lot. One more thing what is the use of this dialog interface?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 758, "user_id": 7773813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/seqtn.jpg?s=128&g=1", "display_name": "Sidharth Anil", "link": "https://stackoverflow.com/users/7773813/sidharth-anil"}, "edited": false, "score": 0, "creation_date": 1496849651, "post_id": 44415933, "comment_id": 75832936, "body": "I believe it&#39;s for a case when you want to call its <a href=\"https://stackoverflow.com/questions/12139335/what-is-difference-between-dialoginterface-dismiss-and-dialoginterface-can\"><code>cancel()</code> or <code>dismiss()</code></a> in your event handler. I found nothing else in <a href=\"https://developer.android.com/reference/android/content/DialogInterface.html\" rel=\"nofollow noreferrer\">its docs</a> that would look useful."}, {"owner": {"reputation": 746, "user_id": 1496693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WB16i.jpg?s=128&g=1", "display_name": "airowe", "link": "https://stackoverflow.com/users/1496693/airowe"}, "edited": false, "score": 0, "creation_date": 1506088216, "post_id": 44415933, "comment_id": 79692262, "body": "I&#39;m getting an unresolved reference for selector. I am including dependencies for ank-commons as instructed by the docs. Anyone else getting that?"}, {"owner": {"reputation": 746, "user_id": 1496693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WB16i.jpg?s=128&g=1", "display_name": "airowe", "link": "https://stackoverflow.com/users/1496693/airowe"}, "edited": false, "score": 0, "creation_date": 1506088852, "post_id": 44415933, "comment_id": 79692690, "body": "Looks like I need to include the meta-dependency too, in case anyone stumbles on this: compile&quot;org.jetbrains.anko:anko:$anko_version&quot;"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1496846787, "creation_date": 1496846787, "answer_id": 44415933, "question_id": 44415524, "link": "https://stackoverflow.com/questions/44415524/kotlin-anko-common-selector-not-working-as-in-the-provided-examples/44415933#44415933", "title": "Kotlin anko common selector not working as in the provided examples", "body": "<p>Seems like it's a mistake in the example.</p>\n\n<p>The <a href=\"https://github.com/Kotlin/anko/blob/d5a526512b48c5cd2e3b8f6ff14b153c2337aa22/anko/library/static/commons/src/dialogs/AndroidSelectors.kt#L24\" rel=\"nofollow noreferrer\"><code>selector</code> function source</a> says it expects <code>(DialogInterface, Int) -&gt; Unit</code>, a function with two parameters, so you can fix your code by adding the missing parameter as follows:</p>\n\n<pre><code>selector(\"Where are you from?\", countries) { dialogInterface, i -&gt; /* ... */ }\n</code></pre>\n\n<p>Or, if you don't use the <code>DialogInterface</code>, just ignore it with an underscore:</p>\n\n<pre><code>selector(\"Where are you from?\", countries) { _, i -&gt; /* ... */ }\n</code></pre>\n"}], "owner": {"reputation": 758, "user_id": 7773813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/seqtn.jpg?s=128&g=1", "display_name": "Sidharth Anil", "link": "https://stackoverflow.com/users/7773813/sidharth-anil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 781, "favorite_count": 0, "accepted_answer_id": 44415933, "answer_count": 1, "score": 2, "last_activity_date": 1496846787, "creation_date": 1496845837, "question_id": 44415524, "link": "https://stackoverflow.com/questions/44415524/kotlin-anko-common-selector-not-working-as-in-the-provided-examples", "title": "Kotlin anko common selector not working as in the provided examples", "body": "<p>When using anko selector as provided in the examples it is not working</p>\n\n<pre><code>val countries = listOf(\"Russia\", \"USA\", \"Japan\", \"Australia\")\nselector(\"Where are you from?\", countries) { i -&gt;\n    toast(\"So you're living in ${countries[i]}, right?\")\n}\n</code></pre>\n\n<p>here when defining the lambda function it says expected two types of arguments. (Dialoginterface and int). I am stuck with this. Alos the default kotlin alertdialog is saying the same thing. Can anywone solve this issue or tell me how to build an alert dialog with selection in kotlin?</p>\n"}, {"tags": ["kotlin", "coroutine"], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 19038, "user_id": 1056263, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/56d515afd6a1001e8264df0d96c7a80e?s=128&d=identicon&r=PG", "display_name": "Dmytro Danylyk", "link": "https://stackoverflow.com/users/1056263/dmytro-danylyk"}, "edited": false, "score": 0, "creation_date": 1521448984, "post_id": 44414346, "comment_id": 85717438, "body": "@Dmytro Danylyk I reverted your change. The <code>runBlocking</code> function was never removed and <code>withContext</code> does something completely different."}, {"owner": {"reputation": 19038, "user_id": 1056263, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/56d515afd6a1001e8264df0d96c7a80e?s=128&d=identicon&r=PG", "display_name": "Dmytro Danylyk", "link": "https://stackoverflow.com/users/1056263/dmytro-danylyk"}, "edited": false, "score": 0, "creation_date": 1521504048, "post_id": 44414346, "comment_id": 85749865, "body": "@KirillRakhman sorry I misread it, thought it was <code>run</code>. Btw, I think it&#39;s still better to use <code>withContext</code>. Documentation says: <code>runBlocking </code> to be used in main functions and in tests. <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental/run-blocking.html\" rel=\"nofollow noreferrer\">kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 19038, "user_id": 1056263, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/56d515afd6a1001e8264df0d96c7a80e?s=128&d=identicon&r=PG", "display_name": "Dmytro Danylyk", "link": "https://stackoverflow.com/users/1056263/dmytro-danylyk"}, "edited": false, "score": 2, "creation_date": 1521535796, "post_id": 44414346, "comment_id": 85760060, "body": "@DmytroDanylyk <code>withContext</code> is a <code>suspend</code> function. The code in question is inside a regular function."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 26, "last_activity_date": 1521448377, "last_edit_date": 1521448377, "creation_date": 1496842802, "answer_id": 44414346, "question_id": 44414272, "link": "https://stackoverflow.com/questions/44414272/returning-a-value-produced-in-kotlin-coroutine/44414346#44414346", "title": "Returning a value produced in Kotlin coroutine", "body": "<p>You can do</p>\n\n<pre><code>val result = runBlocking(CommonPool) {\n    suspendingFunctionThatReturnsMyValue()\n}\n</code></pre>\n\n<p>to block until the result is available.</p>\n"}, {"tags": [], "owner": {"reputation": 152, "user_id": 8514508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b83mz.jpg?s=128&g=1", "display_name": "Andres Rivas", "link": "https://stackoverflow.com/users/8514508/andres-rivas"}, "is_accepted": false, "score": 0, "last_activity_date": 1526046097, "creation_date": 1526046097, "answer_id": 50293684, "question_id": 44414272, "link": "https://stackoverflow.com/questions/44414272/returning-a-value-produced-in-kotlin-coroutine/50293684#50293684", "title": "Returning a value produced in Kotlin coroutine", "body": "<p>You can use this: </p>\n\n<pre><code>private val uiContext: CoroutineContext = UI\nprivate val bgContext: CoroutineContext = CommonPool\n\nprivate fun loadData() = launch(uiContext) {\n try {\n  val task = async(bgContext){dataProvider.loadData(\"task\")}\n  val result = task.await() //This is the data result\n  }\n}catch (e: UnsupportedOperationException) {\n        e.printStackTrace()\n    }\n\n }\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 5394586, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/476180752547835/picture?type=large", "display_name": "DEDZTBH", "link": "https://stackoverflow.com/users/5394586/dedztbh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11138, "favorite_count": 2, "accepted_answer_id": 44414346, "answer_count": 2, "score": 9, "last_activity_date": 1526046097, "creation_date": 1496842583, "question_id": 44414272, "link": "https://stackoverflow.com/questions/44414272/returning-a-value-produced-in-kotlin-coroutine", "title": "Returning a value produced in Kotlin coroutine", "body": "<p>I am trying to return a value generated from coroutine</p>\n\n<pre><code>fun nonSuspending (): MyType {\n    launch(CommonPool) {\n        suspendingFunctionThatReturnsMyValue()\n    }\n    //Do something to get the value out of coroutine context\n    return somehowGetMyValue\n}\n</code></pre>\n\n<p>I have come up with the following solution (not very safe!):</p>\n\n<pre><code>fun nonSuspending (): MyType {\n    val deferred = async(CommonPool) {\n        suspendingFunctionThatReturnsMyValue()\n    }\n    while (deferred.isActive) Thread.sleep(1)\n    return deferred.getCompleted()\n}\n</code></pre>\n\n<p>I also thought about using event bus, but is there a more elegant solution to this problem?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496842349, "post_id": 44414119, "comment_id": 75827167, "body": "Check this out, they have a plug-in: <a href=\"http://methodscount.com/\" rel=\"nofollow noreferrer\">methodscount.com</a>. Counting methods in jar/aar looks incorrect to me, because after <code>dx</code> number of them may change."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1496845416, "post_id": 44414119, "comment_id": 75829620, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14023397/is-there-a-way-to-get-count-of-number-methods-used-in-a-jar-file\">Is there a way to get count of number methods used in a jar file</a>"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1496843459, "creation_date": 1496843459, "answer_id": 44414601, "question_id": 44414119, "link": "https://stackoverflow.com/questions/44414119/how-to-count-methods-in-a-kotlin-library/44414601#44414601", "title": "How to count methods in a Kotlin library", "body": "<p>The <a href=\"https://github.com/KeepSafe/dexcount-gradle-plugin\" rel=\"nofollow noreferrer\">dexcount-gradle-plugin</a> works with libraries as well. The resulting <code>@aar</code> file should not differ when using Kotlin instead of Java, since Kotlin just compiles to Java byte code as well. So just use it and you'll get all the information you need for your library.</p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.getkeepsafe.dexcount:dexcount-gradle-plugin:0.6.4'\n    }\n}\napply plugin: 'com.getkeepsafe.dexcount'\n</code></pre>\n"}], "owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 1, "accepted_answer_id": 44414601, "answer_count": 1, "score": 0, "last_activity_date": 1496857178, "creation_date": 1496842197, "last_edit_date": 1496857178, "question_id": 44414119, "link": "https://stackoverflow.com/questions/44414119/how-to-count-methods-in-a-kotlin-library", "title": "How to count methods in a Kotlin library", "body": "<p>I am developing a future open source Android library with Kotlin, and I'd like to count the methods from my own code as well as from dependencies.\nSince how Kotlin differs from Java, I assume the tool should take an aar input as a file to get the real methods count, but I only found tools taking apk files as inputs so far.</p>\n\n<p>How can I do it the simplest way?</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 2052223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fa0c5bbb53d1851e767b94ff6fda6b6?s=128&d=identicon&r=PG", "display_name": "sjoshua270", "link": "https://stackoverflow.com/users/2052223/sjoshua270"}, "edited": false, "score": 1, "creation_date": 1496842311, "post_id": 44414112, "comment_id": 75827144, "body": "Ah. The Anko library uses <code>android.app.Fragment</code> I was hoping to use  <code>android.support.v4.app.Fragment</code>"}, {"owner": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "edited": false, "score": 1, "creation_date": 1496860133, "post_id": 44414112, "comment_id": 75838867, "body": "You should add the <code>anko-support-v4-commons</code> to your dependencies list. Then you&#39;ll be able to use the same with support fragment"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 3, "last_activity_date": 1496842175, "creation_date": 1496842175, "answer_id": 44414112, "question_id": 44414041, "link": "https://stackoverflow.com/questions/44414041/receiver-type-mismatch-with-fragment-and-anko-toast/44414112#44414112", "title": "&#39;receiver type mismatch&#39; with Fragment and Anko toast", "body": "<p>Since the error says none are applicable you've probably imported a different <code>Fragment</code> class than the one defined by Android/Support Library.</p>\n\n<p>Check your imports.</p>\n"}, {"tags": [], "owner": {"reputation": 1411, "user_id": 5805330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26778c360fbb08f6d7d1b10ebaabd015?s=128&d=identicon&r=PG&f=1", "display_name": "cromod", "link": "https://stackoverflow.com/users/5805330/cromod"}, "is_accepted": false, "score": 0, "last_activity_date": 1597447213, "creation_date": 1597447213, "answer_id": 63421078, "question_id": 44414041, "link": "https://stackoverflow.com/questions/44414041/receiver-type-mismatch-with-fragment-and-anko-toast/63421078#63421078", "title": "&#39;receiver type mismatch&#39; with Fragment and Anko toast", "body": "<p>I encountered the same issue using <code>import android.support.v4.app.Fragment</code>.</p>\n<p>As Kingsley Adio said in a previous comment, add the following line in the dependencies specified in your module gradle file:</p>\n<pre><code>dependencies \n{\n...\n    implementation &quot;org.jetbrains.anko:anko-support.v4-commons:$your_anko_version&quot;\n...\n}\n</code></pre>\n<p>Then add this import in your .kt file:</p>\n<pre><code>import org.jetbrains.anko.support.v4.toast\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 2052223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fa0c5bbb53d1851e767b94ff6fda6b6?s=128&d=identicon&r=PG", "display_name": "sjoshua270", "link": "https://stackoverflow.com/users/2052223/sjoshua270"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 846, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1610229380, "creation_date": 1496842011, "question_id": 44414041, "link": "https://stackoverflow.com/questions/44414041/receiver-type-mismatch-with-fragment-and-anko-toast", "title": "&#39;receiver type mismatch&#39; with Fragment and Anko toast", "body": "<p>I am trying to use Jetbrains' Anko library to easily display an Android toast message in my app.</p>\n\n<p>Here is the relevant code snippet:</p>\n\n<pre><code>val message : CharSequence = \"Recycled: ${holder.taskEditText.text}\"\n(tasksFragment as Fragment).toast(text = message)\n</code></pre>\n\n<p>and the error:</p>\n\n<pre><code>Error:(80, 45) Unresolved reference. None of the following candidates is applicable because of receiver type mismatch:\npublic inline fun Fragment.toast(text: CharSequence): Unit defined in org.jetbrains.anko\npublic inline fun Fragment.toast(textResource: Int): Unit defined in org.jetbrains.anko\npublic fun Context.toast(text: CharSequence): Unit defined in org.jetbrains.anko\npublic fun Context.toast(textResource: Int): Unit defined in org.jetbrains.anko\npublic inline fun AnkoContext&lt;*&gt;.toast(text: CharSequence): Unit defined in org.jetbrains.anko\npublic inline fun AnkoContext&lt;*&gt;.toast(textResource: Int): Unit defined in org.jetbrains.anko\n</code></pre>\n\n<p>I am pretty new to Kotlin and have been searching for a solution to this issue for a while. All help is appreciated.</p>\n"}, {"tags": ["java", "android", "intellij-idea", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1496844701, "post_id": 44412774, "comment_id": 75829043, "body": "Usually there&#39;s more output by the Dagger compiler, which can help locate the problem. By the way, are you using kapt for annotation processing?"}, {"owner": {"reputation": 1044, "user_id": 4469745, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae66806e9a5fc63482f58779c34d0f69?s=128&d=identicon&r=PG&f=1", "display_name": "xiang", "link": "https://stackoverflow.com/users/4469745/xiang"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1496845105, "post_id": 44412774, "comment_id": 75829388, "body": "@Egor yes,I&#39;m using kapt. you can see gradle config <a href=\"https://github.com/enbandari/Kotlin-Tutorials/blob/master/code/Kt13/build.gradle#L38\" rel=\"nofollow noreferrer\">here</a> . Unfortunately, there isn&#39;t more error output."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1496853912, "post_id": 44412774, "comment_id": 75835604, "body": "I actually ran into this problem and it was because ButterKnife doesn&#39;t handle nullable type for view properly and had to replace it with <code>lateinit</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1809, "user_id": 239431, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6b18ed1f7c31a7126e65e7ae39ac349e?s=128&d=identicon&r=PG&f=1", "display_name": "jzarsuelo", "link": "https://stackoverflow.com/users/239431/jzarsuelo"}, "edited": false, "score": 0, "creation_date": 1540114640, "post_id": 44417165, "comment_id": 92738034, "body": "Thanks! I got the same issue in IntelliJ though it&#39;s not an android project. I just need to run a gradle build not to rebuild the whole project."}], "tags": [], "owner": {"reputation": 1044, "user_id": 4469745, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae66806e9a5fc63482f58779c34d0f69?s=128&d=identicon&r=PG&f=1", "display_name": "xiang", "link": "https://stackoverflow.com/users/4469745/xiang"}, "is_accepted": true, "score": 2, "last_activity_date": 1496849928, "creation_date": 1496849928, "answer_id": 44417165, "question_id": 44412774, "link": "https://stackoverflow.com/questions/44412774/dagger2-error-kotlin-unresolved-reference-daggersomethingcomponent/44417165#44417165", "title": "Dagger2 error: Kotlin: Unresolved reference: DaggerSOMETHINGComponent", "body": "<h1>wrong operation</h1>\n\n<p>I use <strong>Ctrl+F9</strong> to compile and this error arises\u3002</p>\n\n<h1>right operation</h1>\n\n<p>We should click <strong>View</strong> -> <strong>Tool Windows</strong> -> <strong>Gradle</strong> to open <em>Gradle projects</em> Window</p>\n\n<p>Then click <strong>Tasks</strong> -> <strong>build</strong> -> <strong>build</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/dPUtX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dPUtX.png\" alt=\"right build\"></a></p>\n\n<h1>reason</h1>\n\n<p><strong>Ctrl+F9</strong> isn't invoking <code>gradle build</code>, we should use <code>gradle build</code> in <em>Gradle projects</em> Window</p>\n"}], "owner": {"reputation": 1044, "user_id": 4469745, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae66806e9a5fc63482f58779c34d0f69?s=128&d=identicon&r=PG&f=1", "display_name": "xiang", "link": "https://stackoverflow.com/users/4469745/xiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1660, "favorite_count": 0, "accepted_answer_id": 44417165, "answer_count": 1, "score": 1, "last_activity_date": 1523779555, "creation_date": 1496838877, "last_edit_date": 1592644375, "question_id": 44412774, "link": "https://stackoverflow.com/questions/44412774/dagger2-error-kotlin-unresolved-reference-daggersomethingcomponent", "title": "Dagger2 error: Kotlin: Unresolved reference: DaggerSOMETHINGComponent", "body": "<h1>source code</h1>\n<p>I'm building a gradle project of Kotlin and Dagger2 which runs well half year ago in macOS:</p>\n<p><a href=\"https://github.com/enbandari/Kotlin-Tutorials/tree/master/code/Kt13\" rel=\"nofollow noreferrer\">GitHub:Kotlin-Tutorials13</a></p>\n<p>you can get it by</p>\n<pre><code>git clone https://github.com/enbandari/Kotlin-Tutorials.git\ncd Kotlin-Tutorials/code/Kt13\n</code></pre>\n<p>you can open it in IntelliJ IDEA</p>\n<h1>building enviroment</h1>\n<p>My building enviroment is listed as below:</p>\n<ul>\n<li>IntelliJ IDEA 2017.1.3</li>\n<li>JRE: 1.8.0_112-release-736-b21 amd64</li>\n<li>JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o</li>\n<li>Windows 10 10.0</li>\n</ul>\n<h1>building result</h1>\n<p>It tuens out an error:</p>\n<pre><code>C:\\Users\\xiang\\IdeaProjects\\Kotlin-Tutorials-master\\code\\Kt13\\src\\main\\kotlin\\net\\println\\kt13\\Service.kt\nError:(3, 25) Kotlin: Unresolved reference: DaggerRESTFulComponent\nError:(19, 9) Kotlin: Unresolved reference: DaggerRESTFulComponent\n</code></pre>\n<h1>decompile</h1>\n<p>So, I decompile <code>RESTFulComponent.class</code></p>\n<p>the source file of it is <code>RESTFulComponent.kt</code></p>\n<pre><code>package net.println.kt13\n\nimport dagger.Component\nimport net.println.kt13.module.RetrofitModule\nimport retrofit2.Retrofit\nimport javax.inject.Singleton\n\n/**\n * Created by benny on 12/11/16.\n */\n@Singleton\n@Component(modules = arrayOf(RetrofitModule::class))\ninterface RESTFulComponent {\n    fun retrofit(): Retrofit\n}\n</code></pre>\n<p>decompile <code>RESTFulComponent.class</code> we get</p>\n<pre><code>// IntelliJ API Decompiler stub source generated from a class file\n// Implementation of methods is not available\n\npackage net.println.kt13.module\n\n@dagger.Module public final class RxAdapterModule public constructor() {\n    @javax.inject.Singleton @dagger.Provides public final fun adapter(): retrofit2.CallAdapter.Factory { /* compiled code */ }\n}\n</code></pre>\n<h1>reason</h1>\n<p>The error result from <em>annotation of dagger</em>'s not working.</p>\n<p>How can I fix this error?</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 5, "creation_date": 1496840409, "post_id": 44411928, "comment_id": 75825610, "body": "Its&#39;t is by default <code>not null</code>? Because i am also working on room persistence lib and accidentally sent null to database it fired exception."}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496869223, "post_id": 44411928, "comment_id": 75843848, "body": "I got some empty fields, like empty string and it works fine so I guess thats not the case"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496898039, "post_id": 44411928, "comment_id": 75851872, "body": "then what is your problem?"}], "answers": [{"comments": [{"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1496869606, "post_id": 44413561, "comment_id": 75844013, "body": "My understanding of what NOT NULL in database means it cannot be empty field, it needs to have a value assigned so that empty string &quot;&quot; would be considered NULL. In kotlin String means it has object assigned that is not null, empty string by default in my case. I just want my database to throw exception when it is assigned empty string. I guess you can&#39;t do that in Room"}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1496910391, "post_id": 44413561, "comment_id": 75858606, "body": "I will mark it as correct because it clarified my confusion between empty string and null. However in my particular case your proposed converted statement(second one) is not compilable because Room requires default constructor, and to do so each parameter has to have default value. But thanks for help!"}, {"owner": {"reputation": 2572, "user_id": 812919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izI7J.png?s=128&g=1", "display_name": "daka", "link": "https://stackoverflow.com/users/812919/daka"}, "edited": false, "score": 0, "creation_date": 1543060488, "post_id": 44413561, "comment_id": 93787525, "body": "Thanks, initially, this answer wasn&#39;t working for me because I had the scope set to <code>private</code> on the variable."}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 1, "creation_date": 1550457773, "post_id": 44413561, "comment_id": 96261940, "body": "Thanks. with <code>NonNull</code> annotation + set the properties without assignment fixed the issue for me as well @Devarshi"}, {"owner": {"reputation": 823, "user_id": 1713450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4683615320a349adc8ac4f68faace0?s=128&d=identicon&r=PG", "display_name": "user1713450", "link": "https://stackoverflow.com/users/1713450/user1713450"}, "edited": false, "score": 0, "creation_date": 1581693756, "post_id": 44413561, "comment_id": 106533459, "body": "&quot;it needs to have a value assigned so that empty string &quot;&quot; would be considered NULL&quot;  That is not correct. An empty string is not null. Null is null. Empty string is a string object of length 0."}], "tags": [], "owner": {"reputation": 15294, "user_id": 217586, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/l9b1b.jpg?s=128&g=1", "display_name": "Devarshi", "link": "https://stackoverflow.com/users/217586/devarshi"}, "is_accepted": true, "score": 30, "last_activity_date": 1496905396, "last_edit_date": 1496905396, "creation_date": 1496840856, "answer_id": 44413561, "question_id": 44411928, "link": "https://stackoverflow.com/questions/44411928/how-to-annotate-column-as-not-null-using-android-room-persistence-library/44413561#44413561", "title": "How to annotate Column as NOT NULL using Android Room Persistence Library", "body": "<p>In order to identify exact annotation for NOT NULL I went through the list of all annotations provided at this link: <a href=\"https://developer.android.com/reference/android/arch/persistence/room/package-summary.html\" rel=\"noreferrer\">android.arch.persistence.room</a> but could not find any relevant annotation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8urmM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8urmM.png\" alt=\"enter image description here\"></a></p>\n\n<p>My assumption is that since you are using Kotlin, which by default treats a var as non-optional, all the attributes declared by you are NOT NULL. In order to declare a var as optional probably you have to use a ? operator, an example below:</p>\n\n<pre><code>var name: String // NOT NULL \nvar name: String? // OPTIONAL\n</code></pre>\n\n<p><strong>Updated based on comment:</strong></p>\n\n<p>I guess you are confused with NULL and empty string. NULL means no value, in the shared code you are providing a default value to each column which is an empty string and that is not equal to NULL, so even though you might not have provided a value for that attribute it is by default assigning an empty string to it. </p>\n\n<p>Try removing value assignment operator and RHS value for an attribute and then insert the record without assigning value to that attribute, you should get appropriate error.</p>\n\n<p>Basically, convert below statement:</p>\n\n<pre><code>@ColumnInfo(name = \"name\") var name: String = \"\"\n</code></pre>\n\n<p>To </p>\n\n<pre><code>@ColumnInfo(name = \"name\") var name: String\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 8630628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/686e62e0b75263a3cc4be37baa748c51?s=128&d=identicon&r=PG&f=1", "display_name": "Evan I", "link": "https://stackoverflow.com/users/8630628/evan-i"}, "is_accepted": false, "score": 5, "last_activity_date": 1508451395, "last_edit_date": 1508451395, "creation_date": 1508447579, "answer_id": 46838986, "question_id": 44411928, "link": "https://stackoverflow.com/questions/44411928/how-to-annotate-column-as-not-null-using-android-room-persistence-library/46838986#46838986", "title": "How to annotate Column as NOT NULL using Android Room Persistence Library", "body": "<p>As a work around to actual table constraints, you could use a single method TypeConverter class to make sure your String members are not null.</p>\n\n<p>For example, for a Non-null String, you could use:</p>\n\n<pre><code>public class RoomConverterNullString {\n    @TypeConverter\n    public static String fromNullToString(String value) {\n        if (value == null) {\n            return \"\";\n        } else {\n            return value;\n        }\n    }\n}\n</code></pre>\n\n<p>You can simplify it like this, of course:</p>\n\n<pre><code>public class RoomConverterNullString {\n    @TypeConverter\n    public static String fromNullToString(String value) {\n        return (value == null) ? \"\" : value;\n    }\n}\n</code></pre>\n\n<p>And you can use it like this:</p>\n\n<pre><code>@TypeConverters(RoomConverterNullString.class)\npublic String stringMember;\n</code></pre>\n\n<p>Any assignments and update/insert actions will store an empty string value when the value is null and any retrieval will force a null value to be converted to an empty string.</p>\n\n<p>You can do this for other types and for any default values you wish to have.</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 3585463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e64459873a4ac292c46a9eee90a3e2?s=128&d=identicon&r=PG&f=1", "display_name": "codeyourstack", "link": "https://stackoverflow.com/users/3585463/codeyourstack"}, "edited": false, "score": 0, "creation_date": 1535746640, "post_id": 47109367, "comment_id": 91195594, "body": "You just saved my day!"}, {"owner": {"reputation": 1029, "user_id": 1748716, "user_type": "registered", "accept_rate": 15, "profile_image": "https://i.stack.imgur.com/gZgkp.jpg?s=128&g=1", "display_name": "Ishwor Khanal", "link": "https://stackoverflow.com/users/1748716/ishwor-khanal"}, "edited": false, "score": 0, "creation_date": 1536234421, "post_id": 47109367, "comment_id": 91355680, "body": "What else if we need to use RxJava with Room then which should we import while creating entity?"}, {"owner": {"reputation": 1749, "user_id": 4365688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/poWWs.jpg?s=128&g=1", "display_name": "Nokuap", "link": "https://stackoverflow.com/users/4365688/nokuap"}, "edited": false, "score": 1, "creation_date": 1536322211, "post_id": 47109367, "comment_id": 91393129, "body": "Ishwor Khanal, same @android.support.annotation.NonNull, rx&#39;s annottation mostly used for internal purposes"}], "tags": [], "owner": {"reputation": 1749, "user_id": 4365688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/poWWs.jpg?s=128&g=1", "display_name": "Nokuap", "link": "https://stackoverflow.com/users/4365688/nokuap"}, "is_accepted": false, "score": 40, "last_activity_date": 1610062233, "last_edit_date": 1610062233, "creation_date": 1509788362, "answer_id": 47109367, "question_id": 44411928, "link": "https://stackoverflow.com/questions/44411928/how-to-annotate-column-as-not-null-using-android-room-persistence-library/47109367#47109367", "title": "How to annotate Column as NOT NULL using Android Room Persistence Library", "body": "<p>For Java you should annotate with <code>@android.support.annotation.NonNull</code></p>\n<p>DO  NOT CONFUSE WITH <code>@io.reactivex.annotations.NonNull</code></p>\n"}, {"tags": [], "owner": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "is_accepted": false, "score": 11, "last_activity_date": 1515852888, "last_edit_date": 1515852888, "creation_date": 1513145443, "answer_id": 47786631, "question_id": 44411928, "link": "https://stackoverflow.com/questions/44411928/how-to-annotate-column-as-not-null-using-android-room-persistence-library/47786631#47786631", "title": "How to annotate Column as NOT NULL using Android Room Persistence Library", "body": "<p>Complementary answer for those using Kotlin:</p>\n\n<p>please note that marking a type as non optional will automatically make it not null (and an optional type will not do that).</p>\n\n<p>You can check it in the schema generated by room with <code>@Database(exportSchema = true)</code> on your database.</p>\n\n<p>For example I have something like that:</p>\n\n<pre><code>@Entity(tableName = \"messages\")\ndata class Message (\n        @PrimaryKey\n        val messageId: UUID = UUID.randomUUID(),\n        val date: Date = Date(),\n        val receivedDate: Date? = null\n)\n</code></pre>\n\n<p>And in the generated schema I can read:</p>\n\n<pre><code>\"CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (\n    `messageId` TEXT NOT NULL, \n    `date` INTEGER NOT NULL, \n    `receivedDate` INTEGER, \n    PRIMARY KEY(`messageId`)\n)\"\n</code></pre>\n\n<p>(Note: the Date type is here an <code>Int</code> and the UUID a string due to converters I use elsewhere)</p>\n"}, {"comments": [{"owner": {"reputation": 432, "user_id": 295028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651f91e7ec321ea4dfd43ba56b893864?s=128&d=identicon&r=PG", "display_name": "Beer Me", "link": "https://stackoverflow.com/users/295028/beer-me"}, "edited": false, "score": 4, "creation_date": 1548024510, "post_id": 48328861, "comment_id": 95385193, "body": "Note that primitive types (int, long, etc) are <i>always</i> considered to be NonNull, and you don&#39;t have to annotate them as such."}, {"owner": {"reputation": 81, "user_id": 9986248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c8b94d0325d0bb8de63c890b6b850b?s=128&d=identicon&r=PG&f=1", "display_name": "shield", "link": "https://stackoverflow.com/users/9986248/shield"}, "reply_to_user": {"reputation": 432, "user_id": 295028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651f91e7ec321ea4dfd43ba56b893864?s=128&d=identicon&r=PG", "display_name": "Beer Me", "link": "https://stackoverflow.com/users/295028/beer-me"}, "edited": false, "score": 0, "creation_date": 1600787302, "post_id": 48328861, "comment_id": 113194987, "body": "@BeerMe, do you know where it is documented? I just found a mention of the management of the primitive types in <a href=\"https://medium.com/@iamsadesh/moving-to-room-310b19c83cf4\" rel=\"nofollow noreferrer\">this article</a>. It seems that float types are not treated the same and are nullable by default."}, {"owner": {"reputation": 432, "user_id": 295028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651f91e7ec321ea4dfd43ba56b893864?s=128&d=identicon&r=PG", "display_name": "Beer Me", "link": "https://stackoverflow.com/users/295028/beer-me"}, "reply_to_user": {"reputation": 81, "user_id": 9986248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c8b94d0325d0bb8de63c890b6b850b?s=128&d=identicon&r=PG&f=1", "display_name": "shield", "link": "https://stackoverflow.com/users/9986248/shield"}, "edited": false, "score": 0, "creation_date": 1600804085, "post_id": 48328861, "comment_id": 113202469, "body": "@shield, I don&#39;t have the actual documentation handy, but this answer sums it up pretty well: <a href=\"https://stackoverflow.com/a/11047335/295028\">stackoverflow.com/a/11047335/295028</a>"}, {"owner": {"reputation": 432, "user_id": 295028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651f91e7ec321ea4dfd43ba56b893864?s=128&d=identicon&r=PG", "display_name": "Beer Me", "link": "https://stackoverflow.com/users/295028/beer-me"}, "edited": false, "score": 0, "creation_date": 1600804150, "post_id": 48328861, "comment_id": 113202499, "body": "Also, I don&#39;t see any reference to float types in your linked article, but it does say &quot;All the primitive types are by default non null in Room&quot;."}, {"owner": {"reputation": 81, "user_id": 9986248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c8b94d0325d0bb8de63c890b6b850b?s=128&d=identicon&r=PG&f=1", "display_name": "shield", "link": "https://stackoverflow.com/users/9986248/shield"}, "reply_to_user": {"reputation": 432, "user_id": 295028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651f91e7ec321ea4dfd43ba56b893864?s=128&d=identicon&r=PG", "display_name": "Beer Me", "link": "https://stackoverflow.com/users/295028/beer-me"}, "edited": false, "score": 1, "creation_date": 1600849398, "post_id": 48328861, "comment_id": 113214755, "body": "@BeerMe, thanks. My mistake regarding the float type. In the example I looked at, the column type was not primitive. It was declared as Float, not float, and was therefore nullable by default."}], "tags": [], "owner": {"reputation": 660, "user_id": 2689703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/308d988a79952c909e1dbf0ae693530d?s=128&d=identicon&r=PG&f=1", "display_name": "avisper", "link": "https://stackoverflow.com/users/2689703/avisper"}, "is_accepted": false, "score": 12, "last_activity_date": 1533687384, "last_edit_date": 1533687384, "creation_date": 1516303341, "answer_id": 48328861, "question_id": 44411928, "link": "https://stackoverflow.com/questions/44411928/how-to-annotate-column-as-not-null-using-android-room-persistence-library/48328861#48328861", "title": "How to annotate Column as NOT NULL using Android Room Persistence Library", "body": "<p>For Java I used <code>@NonNull</code> after the <code>@ColumnInfo</code>:</p>\n\n<pre><code>@ColumnInfo(name = \"column_name\")\n@NonNull private String str;\n</code></pre>\n\n<p>Ensure that you have imported the correct library in the class:</p>\n\n<pre><code>import android.support.annotation.NonNull;\n</code></pre>\n"}], "owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30822, "favorite_count": 6, "accepted_answer_id": 44413561, "answer_count": 5, "score": 28, "last_activity_date": 1610062233, "creation_date": 1496836411, "question_id": 44411928, "link": "https://stackoverflow.com/questions/44411928/how-to-annotate-column-as-not-null-using-android-room-persistence-library", "title": "How to annotate Column as NOT NULL using Android Room Persistence Library", "body": "<p>My data class looks like this</p>\n\n<pre><code>@Entity(tableName = \"items\")\ndata class Item(\n        @ColumnInfo(name = \"name\") var name: String = \"\",\n        @ColumnInfo(name = \"room\") var room: String = \"\",\n        @ColumnInfo(name = \"quantity\") var quantity: String = \"\",\n        @ColumnInfo(name = \"description\") var description: String = \"\",\n        @PrimaryKey(autoGenerate = true)\n        @ColumnInfo(name = \"id\") var id: Long = 0\n)\n</code></pre>\n\n<p>Room uses SQLite and SQLite supports NOT NULL columns in its database. I tried annotating columns with @NonNull but it has no effect.</p>\n\n<p>Is there a way to make columns in Room Database not nullable?</p>\n"}, {"tags": ["serialization", "singleton", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1496838264, "post_id": 44411764, "comment_id": 75823989, "body": "Are you sure you don&#39;t want a normal class here? A singleton with variables is essentially global mutable state."}, {"owner": {"reputation": 6535, "user_id": 804138, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/813bef5c16481022c426d80bd65e331c?s=128&d=identicon&r=PG", "display_name": "Basel Shishani", "link": "https://stackoverflow.com/users/804138/basel-shishani"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496872364, "post_id": 44411764, "comment_id": 75845138, "body": "@marstran: Setters can be made <code>private</code> or <code>internal</code>."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496902388, "post_id": 44411764, "comment_id": 75853768, "body": "It is still global mutable state. It can be accessed globally, and it can mutate."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1496914037, "post_id": 44411764, "comment_id": 75861042, "body": "Yes, and both can be very bad."}], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 2, "last_activity_date": 1496857937, "creation_date": 1496857937, "answer_id": 44419620, "question_id": 44411764, "link": "https://stackoverflow.com/questions/44411764/singleton-serialization-in-kotlin/44419620#44419620", "title": "Singleton serialization in Kotlin", "body": "<p>There is no way to reassign the global reference to a singleton with a new instance.  At most you can write out the properties during serialization, and then on deserialization directly read the properties and mutate the state in the original object.  It will require custom code for you to assign the properties into the object either by direct assignment or reflection.  It would be better if you make your own singleton mechanism that holds an instance that you can swap out to be another instance that you deserialize.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1807571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3d1bcb8fbfc4969d09aaf549aa7fba?s=128&d=identicon&r=PG", "display_name": "Nikita Chegodaev", "link": "https://stackoverflow.com/users/1807571/nikita-chegodaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1540290434, "creation_date": 1540290434, "answer_id": 52946773, "question_id": 44411764, "link": "https://stackoverflow.com/questions/44411764/singleton-serialization-in-kotlin/52946773#52946773", "title": "Singleton serialization in Kotlin", "body": "<p>have faced with the same issue, and want to share with you my solution:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.DeserializationFeature\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.databind.SerializationFeature\nimport java.io.File\nimport java.lang.reflect.Modifier\n\ntypealias ObjMap = HashMap&lt;String, Any?&gt;\n\nfun &lt;T : Any&gt; T.getInstance() : Any? {\n    val target = if(this is Class&lt;*&gt;) this else javaClass\n\n    return target.getDeclaredField(\"INSTANCE\")?.get(null)\n}\n\nclass ObjectHelper {\n    companion object {\n        val mapper = ObjectMapper().apply {\n            enable(SerializationFeature.INDENT_OUTPUT)\n            configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n        }\n\n        fun objectToMap(obj: Any): ObjMap {\n            var res = ObjMap()\n\n            val instance = obj.getInstance()\n            val o = instance ?: obj\n\n            o.javaClass.declaredFields.forEach {\n                if(it.name != \"INSTANCE\") {\n                    it.isAccessible = true\n                    val value = if(Modifier.isStatic(it.modifiers)) it.get(null) else it.get(o)\n                    res[it.name] = value\n                }\n            }\n\n            o.javaClass.classes.forEach {\n                res[it.simpleName] = objectToMap(it)\n            }\n\n            return res\n        }\n\n        fun saveObject(path: String, obj: Any)  {\n            mapper.writeValue(File(path), objectToMap(obj))\n        }\n\n        fun loadObject(path: String, obj: Any) {\n            val json = mapper.readValue&lt;HashMap&lt;*,*&gt;&gt;(File(path), HashMap::class.java) as ObjMap\n\n            loadObject(obj, json)\n        }\n\n         fun loadObject(obj: Any, props: ObjMap) {\n            val objectParam = mapper.writeValueAsString(props)\n\n            mapper.readValue(objectParam, obj::class.java)\n\n            obj.javaClass.classes.forEach {\n                val instance = it.getInstance()\n                val map = props[it.simpleName]\n\n                if(map != null &amp;&amp; instance != null) {\n                    loadObject(instance, map as ObjMap)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code> object TestObj {\n        var f1: String = \"f1\"\n        var f2: String = \"f2\"\n\n        object TestObj_2 {\n            var f1: String = \"f1_1\"\n            var f2: String = \"f2_2\"\n        }\n    }\n\n        TestObj.f1 = \"aaa\"\n        saveObject(\"out.json\", TestObj)\n\n        TestObj.f1 = \"bbb\"\n        loadObject(\"out.json\", TestObj)\n\n        println(TestObj.f1)\n</code></pre>\n\n<p>Result will be \"aaa\". </p>\n"}], "owner": {"reputation": 6535, "user_id": 804138, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/813bef5c16481022c426d80bd65e331c?s=128&d=identicon&r=PG", "display_name": "Basel Shishani", "link": "https://stackoverflow.com/users/804138/basel-shishani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 2, "accepted_answer_id": 44419620, "answer_count": 2, "score": 5, "last_activity_date": 1540290434, "creation_date": 1496835995, "last_edit_date": 1496837501, "question_id": 44411764, "link": "https://stackoverflow.com/questions/44411764/singleton-serialization-in-kotlin", "title": "Singleton serialization in Kotlin", "body": "<p>I'm wondering if it's possible in Kotlin to deserialize (restore property values) of a declared object, <strong>without having to manually assign the properties or resorting to reflection</strong>. The following snippet further explains:</p>\n\n<pre><code>object Foo: Serializable {\n    var propOne: String = \"\"\n    // ...\n\n    fun persist() {\n        serialize(this) \n        // no problem with serialization\n    }\n\n    fun restore(bytes: ByteArray) {\n\n        val fooObj: Foo = deserialize(bytes) as Foo\n        // It seems Kotlin allows us to use singleton as type!\n\n        // obvioulsly either of the following is wrong:\n        // this = fooObj\n        // Foo = fooObj\n\n        // ... is there a way to 'recover' the singleton (object) other than \n        //     manual assignment of properties (or reflection) ???    \n    }\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "nested-generics"], "comments": [{"owner": {"reputation": 11019, "user_id": 418488, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/625af9d6f5c5062f65a43582b57c041d?s=128&d=identicon&r=PG", "display_name": "Just another metaprogrammer", "link": "https://stackoverflow.com/users/418488/just-another-metaprogrammer"}, "edited": false, "score": 0, "creation_date": 1496840256, "post_id": 44408683, "comment_id": 75825475, "body": "Have you tried reified generics in kotlin? <code>inline fun &lt;reified T&gt; B&lt;A&lt;T&gt;&gt;.doTransitiveThing(c: C&lt;B&lt;T&gt;&gt;) : C&lt;A&lt;T&gt;&gt;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 8124371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ya9zd.png?s=128&g=1", "display_name": "World Outsider", "link": "https://stackoverflow.com/users/8124371/world-outsider"}, "is_accepted": true, "score": 1, "last_activity_date": 1518588750, "last_edit_date": 1592644375, "creation_date": 1518588750, "answer_id": 48780736, "question_id": 44408683, "link": "https://stackoverflow.com/questions/44408683/higher-order-or-recursive-generic-type-parameters-in-kotlin/48780736#48780736", "title": "Higher order (or recursive?) generic type parameters in kotlin", "body": "<p>Ultimately what I was looking for is <a href=\"http://arrow-kt.io/docs/patterns/glossary/#higher-kinds\" rel=\"nofollow noreferrer\">higher kinds</a>. I was trying to force it all into one single overly nested type constructor. The manipulations I wanted to accomplish cannot be achieved that way, and must be done using multiple type parameters. The functional library <a href=\"http://arrow-kt.io/docs/patterns/glossary/#higher-kinds\" rel=\"nofollow noreferrer\">Arrow's description of higher kinds</a> helped me realize that.</p>\n<blockquote>\n<p>In a Higher Kind with the shape <code>Kind&lt;F, A&gt;</code>, if <code>A</code> is the type of the content then <code>F</code> has to be the type of the container.</p>\n<p>A malformed Higher Kind would use the whole type constructor to define the container, duplicating the type of the content <code>Kind&lt;Option&lt;A&gt;, A&gt;</code>. This incorrect representation has large a number of issues when working with partially applied types and nested types.</p>\n</blockquote>\n"}], "owner": {"reputation": 293, "user_id": 8124371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ya9zd.png?s=128&g=1", "display_name": "World Outsider", "link": "https://stackoverflow.com/users/8124371/world-outsider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 1, "accepted_answer_id": 48780736, "answer_count": 1, "score": 8, "last_activity_date": 1518588750, "creation_date": 1496827605, "last_edit_date": 1496828147, "question_id": 44408683, "link": "https://stackoverflow.com/questions/44408683/higher-order-or-recursive-generic-type-parameters-in-kotlin", "title": "Higher order (or recursive?) generic type parameters in kotlin", "body": "<p>I'm prototyping some highly declarative code, and the type inference and safety that comes with Kotlin helps a lot. One of the goals is making extensions (subclasses) of the primary types stupidly easy to implement. In order to maintain rich type inference and expressiveness, I've found some success in defining generic extension functions projected against subclasses. All the type information of subclass methods with none of the extra subclass implementation, it's great.</p>\n\n<p>So I'm trying to write a rich generic function that maintains as much type information as possible. The issue creeps up with the fact that this function operates on potentially recursively generic types, and I want to shuffle the generic type parameters.</p>\n\n<p>This would be impossible to describe without an example. So consider:</p>\n\n<pre><code>open class G&lt;in T&gt;\nclass A&lt;in T&gt; : G&lt;T&gt;()\nclass B&lt;in T&gt; : G&lt;T&gt;()\nclass C&lt;in T&gt; : G&lt;T&gt;()\nval ba = B&lt;A&lt;*&gt;&gt;()\nval cb = C&lt;B&lt;*&gt;&gt;()\n</code></pre>\n\n<p>We want a function that effectively can do this, except generically</p>\n\n<pre><code>fun B&lt;A&lt;*&gt;&gt;.doTransitiveThing(c: C&lt;B&lt;*&gt;&gt;) : C&lt;A&lt;*&gt;&gt;\n{\n    // implement\n}\n\nval ca = ba.doTransitiveThing(cb) // Returns C&lt;A&lt;*&gt;&gt;\n</code></pre>\n\n<p>Goal Criteria:</p>\n\n<ul>\n<li>Takes <code>C</code> as a param and returns <code>C</code>, except with different generic type parameter</li>\n<li>I'd like to generalize this behavior as an extension function of all subclasses of <code>G</code>\n\n<ul>\n<li>It needs to be an extension function so that using generic types we can have the type of the subclass and ensure the argument has a generic type argument of the receiver type. </li>\n<li>Or in other words, we want an extension function for subclasses of <code>G</code> so the argument must be <code>C&lt;B&lt;*&gt;&gt;</code> instead of <code>C&lt;G&lt;*&gt;&gt;</code> when invoked on <code>B&lt;A&lt;*&gt;&gt;</code> </li>\n</ul></li>\n</ul>\n\n<p><strong>That describes the gist of the problem.</strong> I'm not sure the language is capable of supporting what I want. I'm not sure if type erasure is a factor that makes this impossible, but so far I can't find it so (maybe I could use help if it is so).</p>\n\n<hr>\n\n<p>The following is close</p>\n\n<pre><code>fun &lt;\n    TargetGenericType, \n    Arg1Type: G&lt;*&gt;, \n    ReceiverType: G&lt;TargetGenericType&gt;, \n    Arg2Type: G&lt;Arg1Type&gt;, \n    ResultType: G&lt;TargetGenericType&gt;\n    &gt;\n    ReceiverType.doTransitiveThingGeneric(x: Arg2Type): ResultType\n{\n    //implement\n}\nval ca2 = ba.doTransitiveThingGeneric(cb)\n</code></pre>\n\n<p>but there are a few problems</p>\n\n<ul>\n<li>It returns <code>G&lt;A&lt;*&gt;&gt;</code> instead of <code>C&lt;A&lt;*&gt;&gt;</code>. It would be nice if it could return <code>C</code> and not lose type information (otherwise I don't really have a use for this function anyway)</li>\n<li>There is technically no guarantee <code>ReceiverType</code> is <code>Arg1Type</code></li>\n</ul>\n\n<hr>\n\n<p>Thinking ahead, if something like the following was valid Kotlin, I think it would address my problem</p>\n\n<pre><code>fun &lt;\n    TargetGenericType,\n    ReceiverBaseType&lt;T&gt;: G&lt;T&gt;,\n    typealias ReceiverType = ReceiverBaseType&lt;TargetGenericType&gt;,\n    ParamBaseType&lt;U&gt;: G&lt;U&gt;,\n    typealias ParamType = ParamBaseType&lt;ReceiverBaseType&lt;*&gt;&gt;,\n    ResultType: ParamBaseType&lt;TargetGenericType&gt;\n    &gt;\n    ReceiverType.doTransitiveThingHigherOrderGeneric(x: ParamType): ResultType\n{\n    //implement\n}\n</code></pre>\n\n<p>Is there a reason it can't be done? e.g. added as a feature on the language? I am sympathetic to logistical reasons against, but I'm curious if it is even possible in principle too.</p>\n\n<p>Last notes:</p>\n\n<ul>\n<li>It reminds me of type aliases except for generic type parameters themselves. In fact I've included that keyword in the example in case it helps to digest. That isn't the only part though, notice <code>&lt;T&gt;</code> and <code>&lt;U&gt;</code> in the syntax.</li>\n<li>It almost reminds me of Monads as well, except with class definitions themselves if that makes sense in a sort of hand wavy, intuitive way.</li>\n<li>I have no idea how to implement the body yet, but I haven't gotten that far since I'm still trying to see if the signature is even possible :p</li>\n</ul>\n"}, {"tags": ["methods", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 4, "creation_date": 1496826046, "post_id": 44407899, "comment_id": 75814978, "body": "You can declare a map from String (function name) to function, e. g. <code>Map&lt;String, () -&gt; Unit&gt;</code>"}, {"owner": {"reputation": 747, "user_id": 6477694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b295a4726fb5094fda67dcb001c90b11?s=128&d=identicon&r=PG&f=1", "display_name": "junk", "link": "https://stackoverflow.com/users/6477694/junk"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496826339, "post_id": 44407899, "comment_id": 75815212, "body": "good idea! @Miha_x64"}], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 2, "last_activity_date": 1496825654, "creation_date": 1496825654, "answer_id": 44407946, "question_id": 44407899, "link": "https://stackoverflow.com/questions/44407899/can-kotlin-define-dynamic-method-when-class-init/44407946#44407946", "title": "Can kotlin define dynamic method when class init?", "body": "<p>No, Kotlin is a statically typed language. That means that the type every variable and method must be known at compile-time.</p>\n"}, {"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 4, "last_activity_date": 1496834093, "creation_date": 1496834093, "answer_id": 44411114, "question_id": 44407899, "link": "https://stackoverflow.com/questions/44407899/can-kotlin-define-dynamic-method-when-class-init/44411114#44411114", "title": "Can kotlin define dynamic method when class init?", "body": "<p>No, you can't dynamically define functions in classes, but because functions are also objects, you can dynamically store them (in a field, array, map) and call them dynamically. Using some language features of Kotlin we can get a quite terse syntax:</p>\n\n<pre><code>class Demo(name: String) {\n    private val functions: Map&lt;String, () -&gt; Any&gt; = mapOf(name to { \"Hello $name\" })\n\n    operator fun get(name: String): Any? = functions[name]?.invoke()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val demo = Demo(\"Kirill\")\n\n    println(demo[\"Kirill\"])\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>Hello Kirill</p>\n</blockquote>\n"}], "owner": {"reputation": 747, "user_id": 6477694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b295a4726fb5094fda67dcb001c90b11?s=128&d=identicon&r=PG&f=1", "display_name": "junk", "link": "https://stackoverflow.com/users/6477694/junk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 0, "accepted_answer_id": 44411114, "answer_count": 2, "score": 4, "last_activity_date": 1496834093, "creation_date": 1496825504, "last_edit_date": 1496833069, "question_id": 44407899, "link": "https://stackoverflow.com/questions/44407899/can-kotlin-define-dynamic-method-when-class-init", "title": "Can kotlin define dynamic method when class init?", "body": "<p>My class:</p>\n\n<pre><code>class Demo {\n    init {\n        // define method here my some array:[a,b,c]\n        // such as fun Demo.a,Demo.b...\n    }\n}\n</code></pre>\n\n<p>Function names are dynamic.</p>\n\n<p>Can Kotlin do this?</p>\n"}, {"tags": ["reflection", "properties", "delegates", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1496826789, "post_id": 44407836, "comment_id": 75815535, "body": "Note that the exception is thrown only for <code>Array&lt;T&gt;.length</code> and not for <code>Collection&lt;T&gt;.length</code>."}, {"owner": {"reputation": 714, "user_id": 2315445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a36eb457583a88bae10d96a4c587a654?s=128&d=identicon&r=PG", "display_name": "Minami", "link": "https://stackoverflow.com/users/2315445/minami"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1496827469, "post_id": 44407836, "comment_id": 75816075, "body": "@nhaarman nice hint"}], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 2, "last_activity_date": 1496835744, "last_edit_date": 1496835744, "creation_date": 1496827560, "answer_id": 44408667, "question_id": 44407836, "link": "https://stackoverflow.com/questions/44407836/kotlin-alias-property-delegation-throws-exception/44408667#44408667", "title": "kotlin alias property delegation throws Exception", "body": "<p>It seems to be a bug. The following program crashes as well:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val a: KProperty1&lt;Array&lt;String&gt;, Int&gt; = Array&lt;String&gt;::size\n    a.get(args)\n}\n</code></pre>\n\n<p>The problem here is that the generated <code>KProperty1&lt;Array&lt;String&gt;&gt;</code> references <code>getSize()</code> instead of <code>length</code> on <code>Object[]</code>.</p>\n\n<pre><code>final class MainKt$main$a$1 extends PropertyReference1 {\n   public static final KProperty1 INSTANCE = new MainKt$main$a$1();\n\n   public String getName() {\n      return \"size\";\n   }\n\n   public String getSignature() {\n      return \"getSize()I\";\n   }\n\n   public KDeclarationContainer getOwner() {\n      return Reflection.getOrCreateKotlinClass(Object[].class);\n   }\n\n   @Nullable\n   public Object get(@Nullable Object receiver) {\n      return Integer.valueOf(((String[])receiver).getSize());\n   }\n}\n</code></pre>\n\n<p>See <a href=\"https://youtrack.jetbrains.com/issue/KT-15618\" rel=\"nofollow noreferrer\">KT-15618</a> for this.</p>\n"}], "owner": {"reputation": 714, "user_id": 2315445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a36eb457583a88bae10d96a4c587a654?s=128&d=identicon&r=PG", "display_name": "Minami", "link": "https://stackoverflow.com/users/2315445/minami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 44408667, "answer_count": 1, "score": 2, "last_activity_date": 1496835744, "creation_date": 1496825305, "question_id": 44407836, "link": "https://stackoverflow.com/questions/44407836/kotlin-alias-property-delegation-throws-exception", "title": "kotlin alias property delegation throws Exception", "body": "<p>i want to add aliases property to some class in kotlin which just delegate themselves to some existed properties </p>\n\n<p>then i invent a method called alias to do so, which unfortunately results in an Exception</p>\n\n<pre><code>val &lt;T&gt; Array&lt;T&gt;.length by alias(Array&lt;T&gt;::size)\n\nval &lt;T&gt; Collection&lt;T&gt;.length by alias(Collection&lt;T&gt;::size)\n\nfun &lt;R, T&gt; alias(alias: KProperty1&lt;R, T&gt;) = object : ReadOnlyProperty&lt;R, T&gt; {\n    override operator fun getValue(thisRef: R, property: KProperty&lt;*&gt;): T {\n        return alias.get(thisRef)\n    }\n}\n</code></pre>\n\n<p>following the exception stack</p>\n\n<pre><code>java.lang.NoSuchMethodError: [Ljava.lang.Object;.getSize()I\nat kt.ruby.ArrayKt$length$2.get(Array.kt:34)\nat kt.ruby.ArrayKt$alias$1.getValue(Array.kt:40)\nat kt.ruby.ArrayKt.getLength(Array.kt)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1496822907, "post_id": 44406886, "comment_id": 75812861, "body": "Could you add a reference to why this is so?"}, {"owner": {"reputation": 165, "user_id": 9180229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C77ib.jpg?s=128&g=1", "display_name": "wang willway", "link": "https://stackoverflow.com/users/9180229/wang-willway"}, "edited": false, "score": 0, "creation_date": 1586078604, "post_id": 44406886, "comment_id": 107988269, "body": "Yes, this is very curious."}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 19, "last_activity_date": 1496825288, "last_edit_date": 1496825288, "creation_date": 1496822542, "answer_id": 44406886, "question_id": 44406649, "link": "https://stackoverflow.com/questions/44406649/cannot-use-argb-color-int-value-in-kotlin/44406886#44406886", "title": "Cannot use argb color int value in Kotlin?", "body": "<p><code>0xFF8363FF</code> (as well as <code>0xFFC953BE</code>) is a <code>Long</code>, not an <code>Int</code>. </p>\n\n<p>You have to cast them to <code>Int</code> explicitly:</p>\n\n<pre><code>val animator = ObjectAnimator.ofInt(myTextView, \"textColor\", 0xFF8363FF.toInt(), 0xFFC953BE.toInt())\n</code></pre>\n\n<hr>\n\n<p>The point is that the numeric value of <code>0xFFC953BE</code> is <code>4291384254</code>, so it should be stored in a <code>Long</code> variable. But the high bit here is a sign bit, that denotes a negative number: <code>-3583042</code> which can be stored in <code>Int</code>.</p>\n\n<p>And that's the difference between two languages. In <strong>Kotlin</strong> you should add the <code>-</code> sign to denote negative <code>Int</code> which is not true in <strong>Java</strong>:</p>\n\n<pre><code>// Kotlin\nprint(-0x80000000)             // &gt;&gt;&gt; -2147483648 (fits into Int)\nprint(0x80000000)              // &gt;&gt;&gt;  2147483648 (does NOT fit into Int)\n\n// Java\nSystem.out.print(-0x80000000); // &gt;&gt;&gt; -2147483648 (fits into Integer)\nSystem.out.print(0x80000000);  // &gt;&gt;&gt; -2147483648 (fits into Integer)\n</code></pre>\n"}], "owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4913, "favorite_count": 0, "accepted_answer_id": 44406886, "answer_count": 1, "score": 12, "last_activity_date": 1496825288, "creation_date": 1496821796, "question_id": 44406649, "link": "https://stackoverflow.com/questions/44406649/cannot-use-argb-color-int-value-in-kotlin", "title": "Cannot use argb color int value in Kotlin?", "body": "<p>When I want to animate the <code>textColor</code> of <code>TextView</code> in Kotlin:</p>\n\n<pre><code>val animator = ObjectAnimator.ofInt(myTextView, \"textColor\", 0xFF8363FF, 0xFFC953BE)\n</code></pre>\n\n<p>this error occurs:</p>\n\n<pre><code>Error:(124, 43) None of the following functions can be called with the arguments supplied:\npublic open fun &lt;T : Any!&gt; ofInt(target: TextView!, xProperty: Property&lt;TextView!, Int!&gt;!, yProperty: Property&lt;TextView!, Int!&gt;!, path: Path!): ObjectAnimator! defined in android.animation.ObjectAnimator\npublic open fun &lt;T : Any!&gt; ofInt(target: TextView!, property: Property&lt;TextView!, Int!&gt;!, vararg values: Int): ObjectAnimator! defined in android.animation.ObjectAnimator\npublic open fun ofInt(target: Any!, propertyName: String!, vararg values: Int): ObjectAnimator! defined in android.animation.ObjectAnimator\npublic open fun ofInt(target: Any!, xPropertyName: String!, yPropertyName: String!, path: Path!): ObjectAnimator! defined in android.animation.ObjectAnimator\npublic open fun ofInt(vararg values: Int): ValueAnimator! defined in android.animation.ObjectAnimator\n</code></pre>\n\n<p>Seems that the value <code>0xFF8363FF</code> and <code>0xFFC953BE</code> cannot be cast to <code>Int</code> in Kotlin, however, it's normal in Java:</p>\n\n<pre><code>ObjectAnimator animator = ObjectAnimator.ofInt(myTextView, \"textColor\", 0xFF8363FF, 0xFFC953BE);\n</code></pre>\n\n<p>Any ideas? Thanks in advance.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "is_accepted": true, "score": 6, "last_activity_date": 1496821776, "creation_date": 1496821776, "answer_id": 44406642, "question_id": 44406553, "link": "https://stackoverflow.com/questions/44406553/is-there-any-replicate-function-in-kotlin/44406642#44406642", "title": "Is there any replicate function in Kotlin?", "body": "<p>You can use <code>List instantiation functions</code>. They accept a function from the Index to the desired element, but you can also use them to create a List of constant values.</p>\n\n<pre><code>fun &lt;T&gt; replicate(n:Int,x:T):List&lt;T&gt; {\n   return List(n) { x }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1496967146, "creation_date": 1496967146, "answer_id": 44447415, "question_id": 44406553, "link": "https://stackoverflow.com/questions/44406553/is-there-any-replicate-function-in-kotlin/44447415#44447415", "title": "Is there any replicate function in Kotlin?", "body": "<p>If you need a read-only list, you can implement <code>replicate</code> the following way:</p>\n\n<pre><code>fun &lt;T&gt; replicate(n: Int, x: T): List&lt;T&gt; = object : AbstractList&lt;T&gt;() {\n    override val size: Int = n\n    override fun get(index: Int): T = \n        if (index in 0..lastIndex) x else throw IndexOutOfBoundsException(\"$n\")\n\n}\n</code></pre>\n\n<p>It has an advantage that it requires a constant amount of memory no matter how large <code>n</code> is.</p>\n"}], "owner": {"reputation": 1044, "user_id": 4469745, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ae66806e9a5fc63482f58779c34d0f69?s=128&d=identicon&r=PG&f=1", "display_name": "xiang", "link": "https://stackoverflow.com/users/4469745/xiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 44406642, "answer_count": 2, "score": 2, "last_activity_date": 1496967146, "creation_date": 1496821536, "question_id": 44406553, "link": "https://stackoverflow.com/questions/44406553/is-there-any-replicate-function-in-kotlin", "title": "Is there any replicate function in Kotlin?", "body": "<p><code>replicate(n:Int,x:T):List&lt;T&gt;</code>  is a list of length n with x the value of every element. </p>\n\n<p>I wrote a mutable version replicate as below:</p>\n\n<pre><code>fun &lt;T&gt; mutableReplicate(n:Int, x:T) : MutableList&lt;T&gt;{\n    val xs = mutableListOf&lt;T&gt;()\n    for (i in 1..n){\n        xs.add(x)\n    }\n    return xs\n}\n</code></pre>\n\n<p>Is there any bulid-in immutable replicate function in Kotlin?</p>\n\n<p>How to write ourselves an immutable replicate function in Kotlin?</p>\n"}, {"tags": ["java", "android", "kotlin", "dalvik", "android-multidex"], "comments": [{"owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "edited": false, "score": 0, "creation_date": 1496839269, "post_id": 44406246, "comment_id": 75824735, "body": "Did you change your target at any time ? A pre-lollipop device require to add the dependency, contrary to V21+."}, {"owner": {"reputation": 441, "user_id": 8122696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fddb7e0f2c499257b012202c5310c502?s=128&d=identicon&r=PG", "display_name": "Sebastianus Kurniawan", "link": "https://stackoverflow.com/users/8122696/sebastianus-kurniawan"}, "reply_to_user": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "edited": false, "score": 0, "creation_date": 1496848810, "post_id": 44406246, "comment_id": 75832348, "body": "@GeoffreyMarizy thanks for the response, my minimum SDK target is API 14 and my SDK target is 24. It was 25. Because of this problem, I changed it to 24 because I think maybe API 25 is not stable. But the problem still there. What dependency do you mean? multidex dependency?"}, {"owner": {"reputation": 441, "user_id": 8122696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fddb7e0f2c499257b012202c5310c502?s=128&d=identicon&r=PG", "display_name": "Sebastianus Kurniawan", "link": "https://stackoverflow.com/users/8122696/sebastianus-kurniawan"}, "reply_to_user": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "edited": false, "score": 0, "creation_date": 1496849249, "post_id": 44406246, "comment_id": 75832640, "body": "@GeoffreyMarizy do you think this problem is related to Kotlin? I&#39;m experienced enough with Android and never met this problem before. This is my first time creating app using full Kotlin and this problem happens"}, {"owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "edited": false, "score": 0, "creation_date": 1496856053, "post_id": 44406246, "comment_id": 75836717, "body": "Looks like more related to android than kotlin. I suspect Multidex to be not correctly working. Multidex support for lollipop or previous versions is different. Since you are targeting API 14 you should have compile &#39;com.android.support:multidex:1.0.1&#39; in your dependencies. See <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/multidex.html</a>"}, {"owner": {"reputation": 441, "user_id": 8122696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fddb7e0f2c499257b012202c5310c502?s=128&d=identicon&r=PG", "display_name": "Sebastianus Kurniawan", "link": "https://stackoverflow.com/users/8122696/sebastianus-kurniawan"}, "reply_to_user": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "edited": false, "score": 0, "creation_date": 1497005371, "post_id": 44406246, "comment_id": 75907930, "body": "after I update to the lastest android studio (version 3 canary 3) and upgrade the gradle to alpha-3, the problem is gone thankyou all"}], "owner": {"reputation": 441, "user_id": 8122696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fddb7e0f2c499257b012202c5310c502?s=128&d=identicon&r=PG", "display_name": "Sebastianus Kurniawan", "link": "https://stackoverflow.com/users/8122696/sebastianus-kurniawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1496820605, "creation_date": 1496820605, "question_id": 44406246, "link": "https://stackoverflow.com/questions/44406246/android-class-not-found-intermitten-and-spreading-through-the-code", "title": "Android Class Not Found Intermitten and Spreading Through The Code", "body": "<p>It's been a week since I start my project using Kotlin and Android Studio. Everything seems ok until I started to get error </p>\n\n<pre><code>Suppressed: java.lang.ClassNotFoundException: android.support.v7.appcompat.R$drawable\n</code></pre>\n\n<p>the problem is, this error is intermittent and unclear for me.</p>\n\n<p>I encountered this problem first time when my google play service enabled. The class not found was a resources from google service. After I looked at stack overflow, I found out it was about multidex (I hope it was that simple)</p>\n\n<p>After I turned multidex on, it worked. But then the error occurred again until I turn off the google service. It work until another error occurred. After google service was turned off, the missing class now is fabric class (I'm also using fabric). Then I took out all fabric library.</p>\n\n<p>Now the missing class is support.v7.appcompat.R$drawable. Weird thing is, whenever I do clean build on my project, the project smoothly. After some build, the ClassNotFoundException occurred again.</p>\n\n<p>I know this problem was about the class is gone from the dex file. Multidex should solve it. But still, it still occurred. Thank you in advance.</p>\n"}, {"tags": ["constructor", "kotlin"], "comments": [{"owner": {"reputation": 2424, "user_id": 5680724, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nxB49.jpg?s=128&g=1", "display_name": "kishu mewara", "link": "https://stackoverflow.com/users/5680724/kishu-mewara"}, "edited": false, "score": 0, "creation_date": 1496818556, "post_id": 44404969, "comment_id": 75810125, "body": "check it <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/properties.html</a>"}, {"owner": {"reputation": 2424, "user_id": 5680724, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nxB49.jpg?s=128&g=1", "display_name": "kishu mewara", "link": "https://stackoverflow.com/users/5680724/kishu-mewara"}, "edited": false, "score": 0, "creation_date": 1496818614, "post_id": 44404969, "comment_id": 75810170, "body": "<a href=\"https://stackoverflow.com/questions/40438571/kotlin-understanding-getters-and-setters\" title=\"kotlin understanding getters and setters\">stackoverflow.com/questions/40438571/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1496819573, "post_id": 44405396, "comment_id": 75810776, "body": "I think would switch the naming though. <code>_name</code> in the constructor, and <code>name</code> for the property."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496820904, "post_id": 44405396, "comment_id": 75811556, "body": "You will end up having two names. After <code>_name</code>&#39;s <code>set</code>, <code>get</code>&#39;s return value won&#39;t change."}, {"owner": {"reputation": 133, "user_id": 8123557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31da45f14cdbfdda3be29b4661f8e199?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Yan", "link": "https://stackoverflow.com/users/8123557/joshua-yan"}, "edited": false, "score": 0, "creation_date": 1496820933, "post_id": 44405396, "comment_id": 75811572, "body": "Adding secondary constructor may be a better solution"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496824359, "post_id": 44405396, "comment_id": 75813818, "body": "As @Miha_x64 points out, you have to implement the setter of the &quot;backing field&quot; so that it changes the constructor field."}], "tags": [], "owner": {"reputation": 1455, "user_id": 4312262, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ovlGx.jpg?s=128&g=1", "display_name": "VinayagaSundar", "link": "https://stackoverflow.com/users/4312262/vinayagasundar"}, "is_accepted": false, "score": 0, "last_activity_date": 1496817956, "creation_date": 1496817956, "answer_id": 44405396, "question_id": 44404969, "link": "https://stackoverflow.com/questions/44404969/in-kotlin-how-to-make-the-setter-of-properties-in-primary-constructor-private/44405396#44405396", "title": "In kotlin, how to make the setter of properties in primary constructor private?", "body": "<p>You can try like this</p>\n\n<pre><code>class Sample(var id: Int, private var name:String) {\n\n    // Backing field\n    var _name: String = \"\"\n        get() = name\n        private set\n\n}\n\nfun main(args: Array&lt;String&gt;) {\n     println(\"Hello World\")\n\n     val sample = Sample(1, \"hello\")\n    //    println(sample.name); It's not possible\n    println(sample._name)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": true, "score": 26, "last_activity_date": 1534969503, "last_edit_date": 1534969503, "creation_date": 1496821179, "answer_id": 44406450, "question_id": 44404969, "link": "https://stackoverflow.com/questions/44404969/in-kotlin-how-to-make-the-setter-of-properties-in-primary-constructor-private/44406450#44406450", "title": "In kotlin, how to make the setter of properties in primary constructor private?", "body": "<p>The solution is to create a property outside of constructor and set setter's visibility.</p>\n\n<pre><code>class Sample(var id: Int, name: String) {\n\n    var name: String = name\n        private set\n\n}\n</code></pre>\n\n<p><strong>Update:</strong><br>\nThey're discussing it here: <a href=\"https://discuss.kotlinlang.org/t/private-setter-for-var-in-primary-constructor/3640\" rel=\"noreferrer\">https://discuss.kotlinlang.org/t/private-setter-for-var-in-primary-constructor/3640</a></p>\n"}], "owner": {"reputation": 133, "user_id": 8123557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31da45f14cdbfdda3be29b4661f8e199?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Yan", "link": "https://stackoverflow.com/users/8123557/joshua-yan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3996, "favorite_count": 1, "accepted_answer_id": 44406450, "answer_count": 2, "score": 13, "last_activity_date": 1534969503, "creation_date": 1496816483, "last_edit_date": 1496817352, "question_id": 44404969, "link": "https://stackoverflow.com/questions/44404969/in-kotlin-how-to-make-the-setter-of-properties-in-primary-constructor-private", "title": "In kotlin, how to make the setter of properties in primary constructor private?", "body": "<p>In kotlin, how to make the setter of properties in primary constructor private?</p>\n\n<pre><code>class City(val id: String, var name: String, var description: String = \"\") {\n\n    fun update(name: String, description: String? = \"\") {\n        this.name = name\n        this.description = description ?: this.description\n    }\n}\n</code></pre>\n\n<p>I  want the setter of properties <code>name</code> to be private, and the getter of it public, how can I do?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 1066787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/876734c511cd6bb5af3ff9c0a1317b64?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/1066787/jason"}, "edited": false, "score": 0, "creation_date": 1517533683, "post_id": 44427693, "comment_id": 84145222, "body": "How do you know if an error occurred within the transaction?"}], "tags": [], "owner": {"reputation": 14634, "user_id": 1460509, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AFLuB.jpg?s=128&g=1", "display_name": "Devrim", "link": "https://stackoverflow.com/users/1460509/devrim"}, "is_accepted": false, "score": 1, "last_activity_date": 1496901482, "creation_date": 1496901482, "answer_id": 44427693, "question_id": 44404906, "link": "https://stackoverflow.com/questions/44404906/android-roomdb-entity-inserted-successfully-not-found-on-select-query-in-ano/44427693#44427693", "title": "Android - RoomDb - Entity inserted successfully not found on select query in another Activity", "body": "<p>You should use; </p>\n\n<ol>\n<li><code>Database.beginTransaction()</code> before insert operation.</li>\n<li><code>Database.setTransactionSuccessful()</code> after insert operation.</li>\n<li><code>Database.endTransaction()</code> finally.</li>\n</ol>\n\n<p>Sample code:</p>\n\n<pre><code>private static void insertData(AppDatabase db, List&lt;ProductEntity&gt; products, List&lt;CommentEntity&gt; comments) {\n    db.beginTransaction();\n    try {\n        db.productDao().insertAll(products);\n        db.commentDao().insertAll(comments);\n        db.setTransactionSuccessful();\n    } finally {\n        db.endTransaction();\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/BasicSample/app/src/main/java/com/example/android/persistence/db/DatabaseInitUtil.java\" rel=\"nofollow noreferrer\">Sample reference</a></p>\n"}], "owner": {"reputation": 21, "user_id": 6002486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/363238579ecb36774afd0004c16e0e35?s=128&d=identicon&r=PG&f=1", "display_name": "TUSHAR", "link": "https://stackoverflow.com/users/6002486/tushar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1496901482, "creation_date": 1496816257, "last_edit_date": 1496824015, "question_id": 44404906, "link": "https://stackoverflow.com/questions/44404906/android-roomdb-entity-inserted-successfully-not-found-on-select-query-in-ano", "title": "Android - RoomDb - Entity inserted successfully not found on select query in another Activity", "body": "<p>I have an Entity(Kotlin code):</p>\n\n<pre><code>@Entity(foreignKeys = arrayOf(ForeignKey(entity = Agent::class, parentColumns = arrayOf(\"guid\"), childColumns = arrayOf(\"agentGuid\"), onDelete = ForeignKey.CASCADE)))\ndata class Client (@PrimaryKey\n                   var guid: String = \"\",\n                   var name: String = \"\",\n                   var email: String = \"\",\n                   var phone: String = \"\",\n                   var address: String = \"\",\n                   var agentGuid: String = \"\")\n</code></pre>\n\n<p>Here is respective Dao Class:</p>\n\n<pre><code>@Dao\npublic interface ClientDao {\n    @Query(\"SELECT * FROM Client where guid = :clientGUID LIMIT 1\")\n    Client getClient(String clientGUID);\n\n    @Query(\"SELECT * FROM Client where agentGuid = :agentGUID\")\n    List&lt;Client&gt; getClients(String agentGUID);\n\n    @Insert\n    void insertClient(Client client);\n}\n</code></pre>\n\n<p>Here is the Background Task in which I am performing insert operation:</p>\n\n<pre><code>interface UpdateClientTaskResponseHandler {\n    fun clientUpdated(client: Client)\n    fun clientUpdateFailed()\n}\ndata class ClientData(var client: Client, var documents: ArrayList&lt;Document&gt;)\n\nclass UpdateClientDataTask(val responseHandler: UpdateClientTaskResponseHandler): AsyncTask&lt;ClientData, Void, Client?&gt;() {\n    override fun doInBackground(vararg params: ClientData?): Client? {\n        params[0]?.let {\n            val clientDao = MyApp.database!!.clientDao()\n            //1: Check if client exists or not\n            val client = clientDao.getClient(it.client.guid)\n            if (client != null) {\n                //TODO: to be handled\n                // Update functionality\n            } else {\n                //2. Insert client\n                clientDao.insertClient(it.client)\n\n                //3. Insert all documents\n                if (it.documents.size &gt; 0) {\n                    val documentDao = MyApp.database!!.documentDao()\n                    documentDao.insertDocuments(it.documents)\n                }\n\n                return it.client\n            }\n\n            return null\n        }\n        return null\n    }\n\n    override fun onPostExecute(result: Client?) {\n        result?.let {\n            responseHandler.clientUpdated(it)\n        } ?: responseHandler.clientUpdateFailed()\n    }\n}\n</code></pre>\n\n<p>I am using below code to insert the Entity:</p>\n\n<pre><code>public void confirmClient(View view) {\n        // Creating client object\n        Client client = new Client(clientGuid, name, email, phone, address, agentGuid);\n        // Creating client data object\n        ClientData clientData = new ClientData(client, documentsAdapter.documents);\n        UpdateClientDataTask updateClientDataTask = new UpdateClientDataTask(this);\n        updateClientDataTask.execute(clientData);\n    }\n</code></pre>\n\n<p>On Success I am invoking below code to jump back to <code>ClientActivity</code>:</p>\n\n<pre><code>@Override\n    public void clientUpdated(@NotNull Client client) {\n        Intent clientsActivity = new Intent(this,ClientActivity.class);\n        clientsActivity.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP );\n        clientsActivity.putExtra(IntentKeysKt.getShouldRefreshData(), true);\n        startActivity(clientsActivity);\n    }\n</code></pre>\n\n<p>My problem is - When I fire select query in <code>onResume()</code> method of <code>ClientActivity</code> it is not returning the inserted Entity.\nBelow is the Code:</p>\n\n<pre><code>private void displayClients()\n    {\n        Intent intent = getIntent();\n        boolean shouldRefreshData = intent.getBooleanExtra(IntentKeysKt.getShouldRefreshData(),false);\n        Toast.makeText(this, \"shouldRefreshData=\"+shouldRefreshData, Toast.LENGTH_SHORT).show();\n        if (shouldRefreshData) {\n            //Load data from clients table\n            intent.putExtra(IntentKeysKt.getShouldRefreshData(), false);\n            ClientsRetrievalTask clientsRetrievalTask = new ClientsRetrievalTask(this);\n            clientsRetrievalTask.execute(agentGUID);\n        }\n    }\n\n@Override\n    public void clientsRetrieved(@NotNull List&lt;Client&gt; clients) {\n        clientsAdapter.refresh(new ArrayList&lt;&gt;(clients));\n        recyclerViewClients.setVisibility(View.VISIBLE);\n        frameLayoutPlaceholderFragment.setVisibility(View.INVISIBLE);\n    } \n</code></pre>\n\n<p>Surprisingly on next time app launch it shows inserted record. I am clueless please guid me.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2135, "user_id": 3484674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38bd607afe25b8f274798a7d99f5bf66?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/3484674/arun-shankar"}, "edited": false, "score": 0, "creation_date": 1496816182, "post_id": 44404638, "comment_id": 75808741, "body": "Can you paste your code as opposed to screenshot"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 2135, "user_id": 3484674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38bd607afe25b8f274798a7d99f5bf66?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/3484674/arun-shankar"}, "edited": false, "score": 0, "creation_date": 1496816231, "post_id": 44404638, "comment_id": 75808766, "body": "@ArunShankar see it now"}, {"owner": {"reputation": 2135, "user_id": 3484674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38bd607afe25b8f274798a7d99f5bf66?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/3484674/arun-shankar"}, "edited": false, "score": 0, "creation_date": 1496816635, "post_id": 44404638, "comment_id": 75808999, "body": "I have updated my answer for it to work with your code. The problem is that method invocation cannot be at top level"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 201, "user_id": 8053519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18a6d0d758aedf64c29a071c431372d?s=128&d=identicon&r=PG&f=1", "display_name": "Raunak Verma", "link": "https://stackoverflow.com/users/8053519/raunak-verma"}, "edited": false, "score": 0, "creation_date": 1496820750, "post_id": 44404638, "comment_id": 75811472, "body": "@RaunakVerma <a href=\"https://kotlinlang.org/docs/reference/\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference</a>"}, {"owner": {"reputation": 201, "user_id": 8053519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c18a6d0d758aedf64c29a071c431372d?s=128&d=identicon&r=PG&f=1", "display_name": "Raunak Verma", "link": "https://stackoverflow.com/users/8053519/raunak-verma"}, "edited": false, "score": 0, "creation_date": 1496834402, "post_id": 44404638, "comment_id": 75821087, "body": "@Williams thank you"}], "answers": [{"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1496816105, "post_id": 44404711, "comment_id": 75808698, "body": "Thanks, I have similar kinda in my code, see my updated question"}], "tags": [], "owner": {"reputation": 2135, "user_id": 3484674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38bd607afe25b8f274798a7d99f5bf66?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/3484674/arun-shankar"}, "is_accepted": true, "score": 4, "last_activity_date": 1496819534, "last_edit_date": 1496819534, "creation_date": 1496815522, "answer_id": 44404711, "question_id": 44404638, "link": "https://stackoverflow.com/questions/44404638/supportslollipop-in-kotlin/44404711#44404711", "title": "supportsLollipop in Kotlin", "body": "<p>You could go through <a href=\"https://android.jlelse.eu/keddit-part-7-infinite-scroll-higher-order-functions-lambdas-3a11fbd5090e\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/keddit-part-7-infinite-scroll-higher-order-functions-lambdas-3a11fbd5090e</a></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        submitButton.setOnClickListener({ view -&gt;\n            longToast(\"Clicked\")\n        })\n\n        supportsLollipop {\n            Log.d(\"Test\", \"Test\")\n        }\n    }\n\n    inline fun supportsLollipop(code: () -&gt; Unit) {\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            code()\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6348, "user_id": 1495081, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/T0tix.jpg?s=128&g=1", "display_name": "JiTHiN", "link": "https://stackoverflow.com/users/1495081/jithin"}, "is_accepted": false, "score": 2, "last_activity_date": 1496815539, "creation_date": 1496815539, "answer_id": 44404718, "question_id": 44404638, "link": "https://stackoverflow.com/questions/44404638/supportslollipop-in-kotlin/44404718#44404718", "title": "supportsLollipop in Kotlin", "body": "<p>You need to have the function.</p>\n\n<pre><code> fun supportsLollipop(code: () -&gt; Unit) {\n        supportsVersion(code, 21)\n    }\n\nprivate fun supportsVersion(code: () -&gt; Unit, sdk: Int) {\n    if (Build.VERSION.SDK_INT &gt;= sdk) {\n        code.invoke()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 1, "accepted_answer_id": 44404711, "answer_count": 2, "score": 2, "last_activity_date": 1496819534, "creation_date": 1496815177, "last_edit_date": 1496816221, "question_id": 44404638, "link": "https://stackoverflow.com/questions/44404638/supportslollipop-in-kotlin", "title": "supportsLollipop in Kotlin", "body": "<p>I am learning <code>Kotlin</code> syntac and extensions of it. I came across that if you want to run code on Lollipop and above you can do </p>\n\n<pre><code>supportsLollipop {\n    window.setStatusBarColor(Color.BLACK)\n}\n</code></pre>\n\n<p>This seems well, I am trying to use it in my code but getting an error \"Expecting member declaration\" . </p>\n\n<p><a href=\"https://i.stack.imgur.com/cvU7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cvU7H.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        submitButton.setOnClickListener({ view -&gt;\n            longToast(\"Clicked\")\n        })\n    }\n\n    inline fun supportsLollipop(code: () -&gt; Unit) {\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            code()\n        }\n    }\n\n    supportsLollipop {\n        Log.d(\"Test\", \"Test\")\n    }\n}\n</code></pre>\n\n<p>Do I need to install any extension for it ? Do you have an idea ?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2135, "user_id": 3484674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38bd607afe25b8f274798a7d99f5bf66?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/3484674/arun-shankar"}, "is_accepted": true, "score": 35, "last_activity_date": 1496814040, "creation_date": 1496814040, "answer_id": 44404362, "question_id": 44404275, "link": "https://stackoverflow.com/questions/44404275/expression-cannot-be-a-selector-occur-after-a-dot-in-kotlin/44404362#44404362", "title": "Expression cannot be a selector (occur after a dot) in Kotlin", "body": "<pre><code>Toast.makeText(this@MainActivity, \"Clicked\", Toast. LENGTH_SHORT).show()\n</code></pre>\n\n<p>This is the right way to do in Kotlin</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 7810035, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7c279776e795a0f1f903a0938c1db001?s=128&d=identicon&r=PG&f=1", "display_name": "ktsakiris", "link": "https://stackoverflow.com/users/7810035/ktsakiris"}, "is_accepted": false, "score": 1, "last_activity_date": 1579536357, "last_edit_date": 1579536357, "creation_date": 1579532416, "answer_id": 59825923, "question_id": 44404275, "link": "https://stackoverflow.com/questions/44404275/expression-cannot-be-a-selector-occur-after-a-dot-in-kotlin/59825923#59825923", "title": "Expression cannot be a selector (occur after a dot) in Kotlin", "body": "<p>You have to write it like this:</p>\n\n<pre><code>Toast.makeText(applicationContext, \"Clicked\", Toast.LENGTH_SHORT).show()\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3712, "favorite_count": 0, "accepted_answer_id": 44404362, "answer_count": 2, "score": 14, "last_activity_date": 1579536357, "creation_date": 1496813606, "question_id": 44404275, "link": "https://stackoverflow.com/questions/44404275/expression-cannot-be-a-selector-occur-after-a-dot-in-kotlin", "title": "Expression cannot be a selector (occur after a dot) in Kotlin", "body": "<p>I am using <code>Kotlin</code> library to code my android app. I have one activity with one button. I have set click listener on it, I am displaying a <code>toast</code> on clicking on button.</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        submitButton.setOnClickListener({ view -&gt;\n            Toast.makeText(MainActivity.this, \"Clicked\", Toast.LENGTH_SHORT).show()\n        })\n    }\n}\n</code></pre>\n\n<p>I am getting a message expression cannot be a selector (occur after a dot) on <code>MainActivity.this</code> in click listener. </p>\n\n<p>What is the way to do this in <code>Kotlin</code> ? </p>\n"}, {"tags": ["kotlin", "delegation"], "answers": [{"tags": [], "owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "is_accepted": true, "score": 2, "last_activity_date": 1496818492, "creation_date": 1496818492, "answer_id": 44405571, "question_id": 44403772, "link": "https://stackoverflow.com/questions/44403772/set-and-get-property-directly-in-delegate/44405571#44405571", "title": "Set and get property directly in delegate", "body": "<p>If you want to do some change or checking inside getter and setter, can do like this </p>\n\n<pre><code>class Example {\n    var p: String by Delegate()\n}\n\nclass Delegate() {\n    var localValue: String? = null\n\n    operator fun getValue(thisRef: Any?, prop: KProperty&lt;*&gt;): String {\n\n        //This is not possible.\n//        if (prop/*.getValueSomehow()*/){ //&lt;=== is this possible\n//\n//        } else {\n//            prop./*setValueSomehow(\"foo\")*/\n//                    return prop./*.getValueSomehow()*/ //&lt;=== is this possible\n//        }\n\n        if(localValue == null) {\n            return \"\"\n        } else {\n            return localValue!!\n        }\n    }\n\n\n    operator fun setValue(thisRef: Any?, prop: KProperty&lt;*&gt;, value: String) {\n        // prop./*setValueSomehow(someDefaultValue)*/ //&lt;=== is this possible - this is not possible\n        localValue = value\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 625, "user_id": 4338130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6d3e0ab83a934b9a7fa02afe81a5902?s=128&d=identicon&r=PG&f=1", "display_name": "ClassyPimp", "link": "https://stackoverflow.com/users/4338130/classypimp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 44405571, "answer_count": 1, "score": 1, "last_activity_date": 1496818492, "creation_date": 1496811149, "question_id": 44403772, "link": "https://stackoverflow.com/questions/44403772/set-and-get-property-directly-in-delegate", "title": "Set and get property directly in delegate", "body": "<p>I want to set and get property passed to delegate like this (or should I maintain the state on delegate itself?):</p>\n\n<pre><code>class Example {\n    var p: String by Delegate()\n}\n\nclass Delegate() {\n    operator fun getValue(thisRef: Any?, prop: KProperty&lt;*&gt;): String {\n        if (prop/*.getValueSomehow()*/){ //&lt;=== is this possible\n\n        } else {\n           prop./*setValueSomehow(\"foo\")*/\n           return prop./*.getValueSomehow()*/ //&lt;=== is this possible\n        }\n    }\n\n    operator fun setValue(thisRef: Any?, prop: KProperty&lt;*&gt;, value: String) {\n        prop./*setValueSomehow(someDefaultValue)*/ //&lt;=== is this possible\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 28323, "user_id": 413254, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/VxL0m.jpg?s=128&g=1", "display_name": "loeschg", "link": "https://stackoverflow.com/users/413254/loeschg"}, "is_accepted": true, "score": 11, "last_activity_date": 1496794609, "last_edit_date": 1496794609, "creation_date": 1496783066, "answer_id": 44399805, "question_id": 44399804, "link": "https://stackoverflow.com/questions/44399804/how-do-you-inject-named-field-parameters-in-kotlin-with-dagger-2/44399805#44399805", "title": "How do you inject named field parameters in Kotlin with Dagger 2?", "body": "<p>The following is the form for Dagger2 &amp; Kotlin for named fields.</p>\n\n<pre><code> @field:[Inject Named(\"io\")]\n lateinit var ioScheduler: Scheduler\n</code></pre>\n\n<p><strong>see also:</strong></p>\n\n<ul>\n<li><a href=\"http://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"noreferrer\">Late initialized properties</a></li>\n<li><a href=\"http://kotlinlang.org/docs/reference/annotations.html#annotations\" rel=\"noreferrer\">Kotlin annotation syntax</a></li>\n<li><a href=\"http://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">Annotation use-site targets</a></li>\n</ul>\n"}], "owner": {"reputation": 28323, "user_id": 413254, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/VxL0m.jpg?s=128&g=1", "display_name": "loeschg", "link": "https://stackoverflow.com/users/413254/loeschg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 920, "favorite_count": 1, "accepted_answer_id": 44399805, "answer_count": 1, "score": 5, "last_activity_date": 1496794609, "creation_date": 1496783066, "question_id": 44399804, "link": "https://stackoverflow.com/questions/44399804/how-do-you-inject-named-field-parameters-in-kotlin-with-dagger-2", "title": "How do you inject named field parameters in Kotlin with Dagger 2?", "body": "<p>I have a named parameter in Java that I inject in the following way:</p>\n\n<pre><code>@Inject @Named(\"io\")\nScheduler ioScheduler; \n</code></pre>\n\n<p>How do I do this in Kotlin?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 5, "last_activity_date": 1496779612, "creation_date": 1496779612, "answer_id": 44398924, "question_id": 44398880, "link": "https://stackoverflow.com/questions/44398880/how-to-rewrite-this-java-class-to-a-kotlin-data-class/44398924#44398924", "title": "How to rewrite this Java class to a Kotlin data class?", "body": "<p>You can use a combination of default and named arguments, so there is no need for  multiple constructors. Define your data class like this:</p>\n\n<pre><code>data class User(var name: String? = null, var age: Int = 0, var id: String? = null)\n</code></pre>\n\n<p>And then construct it any number of ways. </p>\n\n<pre><code>User(name = \"Foo\") // returns User(\"Foo\", 0, null)\nUser(name = \"Foo\", age = 21) // returns User(\"Foo\", 21, null)\nUser(id = \"x\") // returns User(null, 0, \"x\")\nUser(\"Foo\", 21, \"x\") // returns User(\"Foo\", 21, \"x\")\nUser(id = \"x\", name = \"Foo\", age = 21) // returns User(\"Foo\", 21, \"x\")\netc...\n</code></pre>\n\n<p>The getters and setters are defined for you, no need to define them either.</p>\n"}, {"tags": [], "owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "is_accepted": false, "score": 1, "last_activity_date": 1496795297, "creation_date": 1496795297, "answer_id": 44401676, "question_id": 44398880, "link": "https://stackoverflow.com/questions/44398880/how-to-rewrite-this-java-class-to-a-kotlin-data-class/44401676#44401676", "title": "How to rewrite this Java class to a Kotlin data class?", "body": "<p>In Kotlin we can have that in a single constructor like this</p>\n\n<pre><code>data class User(var name: String, var age: Int = 0, var id: String = \"ABC\")\n</code></pre>\n\n<p>If we want to expose getters and not setters, we just provide <strong>val</strong> instead of <strong>var</strong> like below,</p>\n\n<pre><code>data class User(val name: String, val age: Int = 0, val id: String = \"ABC\")\n</code></pre>\n\n<p>getters/setters visibility modifiers we can provide them in the constructor like this,</p>\n\n<pre><code>data class User(internal val name, internal val age: Int = 0, internal var id: String = \"ABC\")\n</code></pre>\n\n<p>In this above case, getter will be accessible only to that module.</p>\n\n<p>We can create object like this,</p>\n\n<pre><code>    var user = User(\"XYZ\")\n    var user1 = User(\"XYZ\", 29)\n    var user2 = User(\"XYZ\", 29, \"AXCVFC\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2135, "user_id": 3484674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38bd607afe25b8f274798a7d99f5bf66?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Shankar", "link": "https://stackoverflow.com/users/3484674/arun-shankar"}, "is_accepted": false, "score": 1, "last_activity_date": 1496815184, "creation_date": 1496815184, "answer_id": 44404642, "question_id": 44398880, "link": "https://stackoverflow.com/questions/44398880/how-to-rewrite-this-java-class-to-a-kotlin-data-class/44404642#44404642", "title": "How to rewrite this Java class to a Kotlin data class?", "body": "<p>Android studio provides an extremely simply method to achieve convert any Java class to Kotlin. Just type \"convert java to kotlin\" in your file search tab and the IDE will do that for you\n<a href=\"https://i.stack.imgur.com/LXEhh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LXEhh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 6208, "user_id": 3782085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kRcFk.png?s=128&g=1", "display_name": "Magesh Pandian", "link": "https://stackoverflow.com/users/3782085/magesh-pandian"}, "is_accepted": false, "score": 1, "last_activity_date": 1499070853, "creation_date": 1499070853, "answer_id": 44881025, "question_id": 44398880, "link": "https://stackoverflow.com/questions/44398880/how-to-rewrite-this-java-class-to-a-kotlin-data-class/44881025#44881025", "title": "How to rewrite this Java class to a Kotlin data class?", "body": "<p>just i added different answer from other's because if you have too many variable inside User data class then it should be too long like below.</p>\n\n<pre><code> data class UserTooLongClass(var id: String, var name : String, var age : String, var location : String, var mobileNo : String, var mailId : String)\n</code></pre>\n\n<p>so you can create like below,</p>\n\n<pre><code> data class User(var id: String = \"1\") {\n    var name: String = \"\"\n    var age: Int = 0\n    var location : String = \"\"\n    var mobileNo :  String = \"\"\n    var mailId : String = \"\"\n\n    override fun toString(): String {\n        return \" id : $id, name : $name, age : $age, location : $location, mobileNo : $mobileNo, mailId : $mailId\"\n    }\n}\n</code></pre>\n\n<p><strong>Implementation:</strong></p>\n\n<pre><code>val user : User = User()\n    user.name = \"TestName\"\n    user.id = \"1223\"\n    user.age = 23\n    user.mobileNo = \"333\"\n    user.mailId = \"ddd@gmail.com\"\n    user.location = \"xxxxx\"\n    Log.d(\"TAG\",\" user : \"+user.toString())\n</code></pre>\n\n<p><strong>Output :</strong></p>\n\n<pre><code>TAG:  user :  id : 1223, name : TestName, age : 23, location : xxxxx, mobileNo : 333, mailId : ddd@gmail.com\n</code></pre>\n"}], "owner": {"reputation": 1057, "user_id": 8119977, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-UKerJziyq2I/AAAAAAAAAAI/AAAAAAAABWA/YRGWMdu_gig/photo.jpg?sz=128", "display_name": "Eder Padilla", "link": "https://stackoverflow.com/users/8119977/eder-padilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1921, "favorite_count": 0, "accepted_answer_id": 44398924, "answer_count": 4, "score": 1, "last_activity_date": 1499070853, "creation_date": 1496779428, "last_edit_date": 1496794346, "question_id": 44398880, "link": "https://stackoverflow.com/questions/44398880/how-to-rewrite-this-java-class-to-a-kotlin-data-class", "title": "How to rewrite this Java class to a Kotlin data class?", "body": "<p>I have this in Java : </p>\n\n<pre><code>public class User {\n\n    String name;\n    String id;\n    int age;\n\n    public User(String name) {\n        this.name = name;\n    }\n\n    public User(String name, String id) {\n        this.name = name;\n        this.id = id;\n    }\n\n    public User(String id, int age) {\n        this.id = id;\n        this.age = age;\n    }\n\n    public User() {\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    @Override\n    public String toString() {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                \", id='\" + id + '\\'' +\n                \", age=\" + age +\n                '}';\n    }\n} \n</code></pre>\n\n<p>In a Kotlin class its something like this :</p>\n\n<pre><code>class User {\n\n    var name: String?=null\n    var id: String?=null\n    var age: Int = 0\n\n    constructor(name: String) {\n        this.name = name\n    }\n\n    constructor(name: String, id: String) {\n        this.name = name\n        this.id = id\n    }\n\n    constructor(id: String, age: Int) {\n        this.id = id\n        this.age = age\n    }\n\n    constructor() {}\n\n    override fun toString(): String {\n        return \"User{\" +\n                \"name='\" + name + '\\'' +\n                \", id='\" + id + '\\'' +\n                \", age=\" + age +\n                '}'\n    }\n}\n</code></pre>\n\n<p>What I need to know, is how to do that in a data class with the 4 different constructors and the setters and getters</p>\n"}, {"tags": ["kotlin", "kotlin-js-interop"], "comments": [{"owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496787131, "post_id": 44395540, "comment_id": 75800940, "body": "@JaysonMinard Yes that&#39;s correct. I&#39;m translating some Typescript definition files that have union types over to Kotlin, which is why I&#39;d like to do it. Although the below answers are good, they don&#39;t fit into what I need. So I&#39;ll just have to use the <code>Any</code> type for now."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496791635, "post_id": 44395540, "comment_id": 75802162, "body": "I made the question clear about your use case, and added an answer focused on the TypeScript / JS target."}], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 1, "last_activity_date": 1496767740, "creation_date": 1496767740, "answer_id": 44395629, "question_id": 44395540, "link": "https://stackoverflow.com/questions/44395540/how-to-represent-multiple-types-union-types-when-targeting-javascript/44395629#44395629", "title": "How to represent multiple types (union types) when targeting JavaScript", "body": "<p>How would the compiler know what type is being returned in this case? <code>T</code> could presumably be anything, so they would be no way to define something like that. </p>\n\n<p>You could define three type-specific methods:</p>\n\n<pre><code>fun getString(key: String): String = ...\nfun getBoolean(key: String): Boolean= ...\nfun getInt(key: String): Int = ...\n</code></pre>\n\n<p>(Or a wrapper method, as kevinmost suggested)</p>\n"}, {"tags": [], "owner": {"reputation": 388, "user_id": 3204764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef3330b87afafdefbc04ece5eed5aa80?s=128&d=identicon&r=PG&f=1", "display_name": "kevinmost", "link": "https://stackoverflow.com/users/3204764/kevinmost"}, "is_accepted": false, "score": 9, "last_activity_date": 1496769769, "last_edit_date": 1496769769, "creation_date": 1496767821, "answer_id": 44395651, "question_id": 44395540, "link": "https://stackoverflow.com/questions/44395540/how-to-represent-multiple-types-union-types-when-targeting-javascript/44395651#44395651", "title": "How to represent multiple types (union types) when targeting JavaScript", "body": "<p>This does not work because <code>T</code> cannot be represented as some type that is at the intersection of <code>String</code>, <code>Number</code>, and <code>Boolean</code>.</p>\n\n<p>If you want to restrict your type to a list of predefined types, sealed classes are a great soltuion.</p>\n\n<pre><code>sealed class MyData {\n  class Bool(val data: Boolean) : MyData()\n  class String(val data: String) : MyData()\n  class Number(val data: Number) : MyData()\n}\n\nfun get(key: String): MyData = TODO()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 2, "last_activity_date": 1496793484, "last_edit_date": 1496793484, "creation_date": 1496791558, "answer_id": 44401212, "question_id": 44395540, "link": "https://stackoverflow.com/questions/44395540/how-to-represent-multiple-types-union-types-when-targeting-javascript/44401212#44401212", "title": "How to represent multiple types (union types) when targeting JavaScript", "body": "<p>For KotlinJS you can use <a href=\"https://github.com/Kotlin/ts2kt\" rel=\"nofollow noreferrer\">ts2kt</a> to translate your TypeScript definitions to Kotlin.  It does support Union Types but maybe not all cases are perfect.  There are <a href=\"https://github.com/Kotlin/ts2kt/tree/master/testData/unionType\" rel=\"nofollow noreferrer\">tests for unionTypes in ts2kt</a> that shed light on how they are handled now and you can do something similar for anything you are creating by hand when targetting the JavaScript platform.</p>\n\n<p>Further work is mentioned in comments to <a href=\"https://github.com/Kotlin/ts2kt/issues/41\" rel=\"nofollow noreferrer\">issue #41 - to add better Union Type support</a>.  Lastly there is at least one <a href=\"https://discuss.kotlinlang.org/t/how-will-kotlin-handle-union-types-from-javascript-typescript/1799\" rel=\"nofollow noreferrer\">discussion thread</a> on the topic that indicates:</p>\n\n<blockquote>\n  <p>In JS and TS in most cases union types used as the alternative to overloading, so in the near future, we going to use overloading for that when it possible.\n  Also,\u200b we think about providing the additional way to specify union types for native declarations.</p>\n</blockquote>\n\n<p>There is another Stack Overflow question talking about this and gives a few current options:  <a href=\"https://stackoverflow.com/questions/28695254/kotlin-and-discriminated-unions-sum-types\">Kotlin and discriminated unions (sum types)</a> which has answers that are valid across all Kotlin target platforms.</p>\n\n<p>Specifically for the JavaScript target you can consider using the <a href=\"https://kotlinlang.org/docs/reference/dynamic-type.html\" rel=\"nofollow noreferrer\"><code>dynamic</code> type</a>.  I see at least <a href=\"https://github.com/Kotlin/ts2kt/blob/master/testData/unionType/aliases.d.kt#L4\" rel=\"nofollow noreferrer\">one test case in ts2kt</a> that is using this type.  This example starts with this TypeScript code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>declare class Foo\n\ntype Key = Key2 | number;\ntype Key2 = string | Foo;\ndeclare var fooKey: Key;\n\ndeclare function barKey(a: Key|number);\ndeclare function barList(a: List&lt;Key&gt;);\ndeclare function barArray(a: Key[]);\n\ninterface Parent {\n    (...children: Key[]): Foo;\n}\n</code></pre>\n\n<p>And generates this Kotlin using <code>dynamic</code> as a return type in place of the union type; and in other cases overloading the method signature to handle the union type (<em>some comments added by me</em>):</p>\n\n<pre><code>external open class Foo\n\n// using dynamic in place of union type\nexternal var fooKey: dynamic /* String | Foo | Number */ = definedExternally\n\n// using method overloading in place of union type\nexternal fun barKey(a: String): Unit = definedExternally\nexternal fun barKey(a: Foo): Unit = definedExternally\nexternal fun barKey(a: Number): Unit = definedExternally\n\n// using dynamic in place of union type\nexternal fun barList(a: List&lt;dynamic /* String | Foo | Number */&gt;): Unit = definedExternally\nexternal fun barArray(a: Array&lt;dynamic /* String | Foo | Number */&gt;): Unit = definedExternally\n\nexternal interface Parent {\n    // using method overloading in place of union type\n    @nativeInvoke\n    fun invoke(vararg children: String): Foo\n    @nativeInvoke\n    fun invoke(vararg children: Foo): Foo\n    @nativeInvoke\n    fun invoke(vararg children: Number): Foo\n}\n</code></pre>\n\n<p>But again, you should review all of the <a href=\"https://github.com/Kotlin/ts2kt/tree/master/testData/unionType\" rel=\"nofollow noreferrer\">ts2kt test cases for union types</a> to see other ideas <em>including for handling of <code>undefined</code></em>.</p>\n"}], "owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1860, "favorite_count": 1, "accepted_answer_id": 44401212, "answer_count": 3, "score": 2, "last_activity_date": 1496793484, "creation_date": 1496767444, "last_edit_date": 1496791612, "question_id": 44395540, "link": "https://stackoverflow.com/questions/44395540/how-to-represent-multiple-types-union-types-when-targeting-javascript", "title": "How to represent multiple types (union types) when targeting JavaScript", "body": "<p>What I would like to do is use a generic type that can be one of three other types.</p>\n\n<p>Here's an example with a function:</p>\n\n<pre><code>fun &lt;T&gt; get(key: String) : T where T: String, T: Number, T: Boolean {}\n</code></pre>\n\n<p>The above code doesn't work, so how should I go about doing this?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1496780846, "post_id": 44395147, "comment_id": 75798346, "body": "<code>cur</code> is both being assigned and returned? It&#39;s not returned as far as I can see. What do you mean?"}, {"owner": {"reputation": 148157, "user_id": 35364, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f11512869fe2f8d87a2f2b687b76686c?s=128&d=identicon&r=PG", "display_name": "hasen", "link": "https://stackoverflow.com/users/35364/hasen"}, "edited": false, "score": 0, "creation_date": 1496812877, "post_id": 44395147, "comment_id": 75807341, "body": "The call to filter at every loop iteration is wrapping filters in filters so that each number has to pass through all the filters before finally coming back"}, {"owner": {"reputation": 777, "user_id": 1971586, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1f6027e3a9bb7094bd38fc08be15af55?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/1971586/brian"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1496932687, "post_id": 44395147, "comment_id": 75874969, "body": "@JornVernee I mean to say there is both <code>var cur = numbersFrom(context, 2)</code> as well as <code>cur = filter(context, cur, prime)</code>, which both appear to be assigning to the <code>cur</code> var.  I believe both <code>numbersFrom</code> and <code>filter</code> methods return a ProcessJob."}], "answers": [{"tags": [], "owner": {"reputation": 26710, "user_id": 705676, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e991d2f490ff558d6ce74a313c65d38d?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 \u0160rajer", "link": "https://stackoverflow.com/users/705676/micha%c5%82-%c5%a0rajer"}, "is_accepted": false, "score": 3, "last_activity_date": 1496824973, "creation_date": 1496824973, "answer_id": 44407724, "question_id": 44395147, "link": "https://stackoverflow.com/questions/44395147/how-does-the-prime-numbers-example-from-the-kotlin-coroutines-documentation-work/44407724#44407724", "title": "How does the prime numbers example from the Kotlin Coroutines documentation work?", "body": "<p>Make sure you understand the logic of <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"nofollow noreferrer\">Sieve of Eratosthenes</a> algorithm.</p>\n\n<p>Look at the <a href=\"https://upload.wikimedia.org/wikipedia/commons/b/b9/Sieve_of_Eratosthenes_animation.gif\" rel=\"nofollow noreferrer\">animation</a>: <code>filter(2)</code> is shown in red color.\n<code>filter(3)</code> is green,\n<code>filter(5)</code> is blue, etc.</p>\n"}, {"comments": [{"owner": {"reputation": 777, "user_id": 1971586, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1f6027e3a9bb7094bd38fc08be15af55?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/1971586/brian"}, "edited": false, "score": 2, "creation_date": 1496933003, "post_id": 44417226, "comment_id": 75875245, "body": "Great explanation! Thanks!"}, {"owner": {"reputation": 925, "user_id": 1068076, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/9trWY.gif?s=128&g=1", "display_name": "mjollneer", "link": "https://stackoverflow.com/users/1068076/mjollneer"}, "edited": false, "score": 0, "creation_date": 1572939488, "post_id": 44417226, "comment_id": 103707430, "body": "those nested couroutines still confuses me. can&#39;t arrange all calls and scopes in my imagination =/"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 6, "last_activity_date": 1496850104, "creation_date": 1496850104, "answer_id": 44417226, "question_id": 44395147, "link": "https://stackoverflow.com/questions/44395147/how-does-the-prime-numbers-example-from-the-kotlin-coroutines-documentation-work/44417226#44417226", "title": "How does the prime numbers example from the Kotlin Coroutines documentation work?", "body": "<p>The point of the example is to implement the <a href=\"https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes\" rel=\"noreferrer\">Sieve of Eratosthenes</a>. In other words, to find prime numbers by filtering out numbers that can't be prime because of their divisibility. Anything left is a prime.</p>\n\n<p>Let's look at what we have. I'm going to ignore all of the <code>context</code> variables for now, it just makes things easier to talk about.</p>\n\n<p>First, we have a function called <code>numbersFrom</code>, which is just an endless sequence of integers starting at 2 (in this case). </p>\n\n<p>We also have function called <code>filter</code>, which takes in a channel, and a number which is presumably prime. Looking at the return type, we can see that this function returns a new producer. In order to produce results (<code>Int</code>s in this case), the <code>send</code> function can be called. Looking at the body of the function, <code>filter</code> will accept numbers off the channel (via <code>send</code>) and <em>REJECT</em> anything that is evenly divisible by the prime number (by doing nothing). </p>\n\n<p>For example, if the channel produces a 4 and the prime is a 2, that is rejected. On the other hand, if the channel produces a 5 and the prime is a 2, it will <code>send</code> that number along. It should now become obvious that <code>filter</code> does what its name says - read inputs, find the ones it likes, send them along to its output.</p>\n\n<p>Now let's look at the main function. First we create a stream of numbers starting at 2 (what a coincidence, the first prime!) and assign that to <code>cur</code>. So far, so good.</p>\n\n<p>Next, we start a loop. I reduced the 10 to a 3 to make things easier to understand, but essentially that number means how many primes the main method will calculate. If you want the first 100 primes, set it to 100. </p>\n\n<p>In the loop, we take the first number off the numbers list, by calling <code>receive()</code> on <code>cur</code>. This is a suspending function. And as I mentioned above, it will get a 2 as its first <code>prime</code> value. </p>\n\n<p>And now here is the fun part. We take that <code>2</code>, and use it as the basis for a call to <code>filter</code>, along with <code>cur</code>, which is currently the stream of <code>Int</code>s, and reassign that to <code>cur</code>. So what does that mean? <code>cur</code> now represents a stream of Ints, filtered to NOT be divisible by 2!. </p>\n\n<p>In the next loop, we take the first number off the <code>cur</code> channel, and it's a 3. The next prime. Why is it a 3? Because <code>filter(2)</code> allowed it to pass (3 % 2 != 0). This is the fun part. Now we take cur (a filtered list of numbers that are not divisible by 2) and pass it into a <code>filter</code> function, along with 3 (our most recent prime). Now <code>cur</code> represents a stream of numbers not divisible by 2 or 3. See where this is going?</p>\n\n<p>Essentially at this point we have this:</p>\n\n<pre><code>numbers -&gt; filter(2) -&gt; filter(3)\n</code></pre>\n\n<p>Or, read another (less precise wrt coroutines but easier to picture):</p>\n\n<pre><code>filter(3, filter(2, numbers))\n</code></pre>\n\n<p>Any number that makes it to the head of <code>cur</code> is prime, because it passed through all of the filters.</p>\n\n<p>Thanks for asking this question! \"<a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"noreferrer\">Go learn Kotlin Coroutines</a>\" has been on my research list for a couple of weeks and I had a good morning reading about them and figuring this out. </p>\n"}], "owner": {"reputation": 777, "user_id": 1971586, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1f6027e3a9bb7094bd38fc08be15af55?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/1971586/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "accepted_answer_id": 44417226, "answer_count": 2, "score": 6, "last_activity_date": 1496850104, "creation_date": 1496765998, "question_id": 44395147, "link": "https://stackoverflow.com/questions/44395147/how-does-the-prime-numbers-example-from-the-kotlin-coroutines-documentation-work", "title": "How does the prime numbers example from the Kotlin Coroutines documentation work?", "body": "<p>I'm going through the coroutines documentation for Kotlin and was following along pretty well until this example.  I'm having a really difficult time understanding how it's calculating when it finds a prime number, and specifically how the return from the <code>filter</code> function is both being returned and assigned to <code>cur</code>, as well as still producing numbers from the <code>numbersFrom</code> method.</p>\n\n<p>I've added debugging statements to try and follow the various coroutines that are running, but I'm still lost on the logical flow of when it starts new coroutines and receives numbers from others.</p>\n\n<p><a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#prime-numbers-with-pipeline\" rel=\"noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#prime-numbers-with-pipeline</a></p>\n\n<p>The code:</p>\n\n<pre><code>fun log(msg: String) = println(\"[${Thread.currentThread().name}] $msg\")\n\nfun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\n    var cur = numbersFrom(context, 2)\n    for (i in 1..10) {\n        val prime = cur.receive()\n        println(prime)\n        cur = filter(context, cur, prime)\n    }\n}\n\nfun numbersFrom(context: CoroutineContext, start: Int) = produce&lt;Int&gt;(context) {\n       var x = start\n    while (true) {\n        log(\"NumbersFrom Send: ${x}\")\n        send(x++)\n    } // infinite stream of integers from start\n}\n\nfun filter(context: CoroutineContext, numbers: ReceiveChannel&lt;Int&gt;, prime: Int) = produce&lt;Int&gt;(context) {\n    for (x in numbers) {\n        log(\"filter ${x}, prime ${prime}\")\n        if (x % prime != 0) {\n            send(x)\n        }\n    }\n}\n</code></pre>\n\n<p>Outout:</p>\n\n<pre><code>[main @coroutine#2] NumbersFrom Send: 2\n[main @coroutine#2] NumbersFrom Send: 3\n2\n[main @coroutine#3] filter 3, prime 2\n[main @coroutine#2] NumbersFrom Send: 4\n[main @coroutine#2] NumbersFrom Send: 5\n3\n[main @coroutine#3] filter 4, prime 2\n[main @coroutine#3] filter 5, prime 2\n[main @coroutine#4] filter 5, prime 3\n[main @coroutine#2] NumbersFrom Send: 6\n[main @coroutine#3] filter 6, prime 2\n5\n[main @coroutine#2] NumbersFrom Send: 7\n[main @coroutine#2] NumbersFrom Send: 8\n[main @coroutine#3] filter 7, prime 2\n[main @coroutine#3] filter 8, prime 2\n[main @coroutine#4] filter 7, prime 3\n[main @coroutine#2] NumbersFrom Send: 9\n[main @coroutine#2] NumbersFrom Send: 10\n[main @coroutine#5] filter 7, prime 5\n[main @coroutine#3] filter 9, prime 2\n[main @coroutine#3] filter 10, prime 2\n7\n[main @coroutine#4] filter 9, prime 3\n[main @coroutine#2] NumbersFrom Send: 11\n[main @coroutine#2] NumbersFrom Send: 12\n[main @coroutine#3] filter 11, prime 2\n[main @coroutine#3] filter 12, prime 2\n[main @coroutine#4] filter 11, prime 3\n[main @coroutine#2] NumbersFrom Send: 13\n[main @coroutine#2] NumbersFrom Send: 14\n[main @coroutine#5] filter 11, prime 5\n[main @coroutine#3] filter 13, prime 2\n[main @coroutine#3] filter 14, prime 2\n[main @coroutine#6] filter 11, prime 7\n[main @coroutine#4] filter 13, prime 3\n[main @coroutine#2] NumbersFrom Send: 15\n[main @coroutine#2] NumbersFrom Send: 16\n11\n[main @coroutine#5] filter 13, prime 5\n[main @coroutine#3] filter 15, prime 2\n[main @coroutine#3] filter 16, prime 2\n[main @coroutine#6] filter 13, prime 7\n[main @coroutine#4] filter 15, prime 3\n[main @coroutine#2] NumbersFrom Send: 17\n[main @coroutine#2] NumbersFrom Send: 18\n[main @coroutine#7] filter 13, prime 11\n[main @coroutine#3] filter 17, prime 2\n[main @coroutine#3] filter 18, prime 2\n13\n[main @coroutine#4] filter 17, prime 3\n[main @coroutine#2] NumbersFrom Send: 19\n[main @coroutine#2] NumbersFrom Send: 20\n[main @coroutine#5] filter 17, prime 5\n[main @coroutine#3] filter 19, prime 2\n[main @coroutine#3] filter 20, prime 2\n[main @coroutine#6] filter 17, prime 7\n[main @coroutine#4] filter 19, prime 3\n[main @coroutine#2] NumbersFrom Send: 21\n[main @coroutine#2] NumbersFrom Send: 22\n[main @coroutine#7] filter 17, prime 11\n[main @coroutine#5] filter 19, prime 5\n[main @coroutine#3] filter 21, prime 2\n[main @coroutine#3] filter 22, prime 2\n[main @coroutine#8] filter 17, prime 13\n[main @coroutine#6] filter 19, prime 7\n[main @coroutine#4] filter 21, prime 3\n[main @coroutine#2] NumbersFrom Send: 23\n[main @coroutine#2] NumbersFrom Send: 24\n17\n[main @coroutine#7] filter 19, prime 11\n[main @coroutine#3] filter 23, prime 2\n[main @coroutine#3] filter 24, prime 2\n[main @coroutine#8] filter 19, prime 13\n[main @coroutine#4] filter 23, prime 3\n[main @coroutine#2] NumbersFrom Send: 25\n[main @coroutine#2] NumbersFrom Send: 26\n[main @coroutine#9] filter 19, prime 17\n[main @coroutine#5] filter 23, prime 5\n[main @coroutine#3] filter 25, prime 2\n[main @coroutine#3] filter 26, prime 2\n19\n[main @coroutine#6] filter 23, prime 7\n[main @coroutine#4] filter 25, prime 3\n[main @coroutine#2] NumbersFrom Send: 27\n[main @coroutine#2] NumbersFrom Send: 28\n[main @coroutine#7] filter 23, prime 11\n[main @coroutine#5] filter 25, prime 5\n[main @coroutine#3] filter 27, prime 2\n[main @coroutine#3] filter 28, prime 2\n[main @coroutine#8] filter 23, prime 13\n[main @coroutine#4] filter 27, prime 3\n[main @coroutine#2] NumbersFrom Send: 29\n[main @coroutine#2] NumbersFrom Send: 30\n[main @coroutine#9] filter 23, prime 17\n[main @coroutine#3] filter 29, prime 2\n[main @coroutine#3] filter 30, prime 2\n[main @coroutine#10] filter 23, prime 19\n[main @coroutine#4] filter 29, prime 3\n[main @coroutine#2] NumbersFrom Send: 31\n[main @coroutine#2] NumbersFrom Send: 32\n23\n[main @coroutine#5] filter 29, prime 5\n[main @coroutine#3] filter 31, prime 2\n[main @coroutine#3] filter 32, prime 2\n[main @coroutine#6] filter 29, prime 7\n[main @coroutine#4] filter 31, prime 3\n[main @coroutine#2] NumbersFrom Send: 33\n[main @coroutine#2] NumbersFrom Send: 34\n[main @coroutine#7] filter 29, prime 11\n[main @coroutine#5] filter 31, prime 5\n[main @coroutine#3] filter 33, prime 2\n[main @coroutine#3] filter 34, prime 2\n[main @coroutine#8] filter 29, prime 13\n[main @coroutine#6] filter 31, prime 7\n[main @coroutine#4] filter 33, prime 3\n[main @coroutine#2] NumbersFrom Send: 35\n[main @coroutine#2] NumbersFrom Send: 36\n[main @coroutine#9] filter 29, prime 17\n[main @coroutine#7] filter 31, prime 11\n[main @coroutine#3] filter 35, prime 2\n[main @coroutine#3] filter 36, prime 2\n[main @coroutine#10] filter 29, prime 19\n[main @coroutine#8] filter 31, prime 13\n[main @coroutine#4] filter 35, prime 3\n[main @coroutine#2] NumbersFrom Send: 37\n[main @coroutine#2] NumbersFrom Send: 38\n[main @coroutine#11] filter 29, prime 23\n[main @coroutine#9] filter 31, prime 17\n[main @coroutine#5] filter 35, prime 5\n[main @coroutine#3] filter 37, prime 2\n[main @coroutine#3] filter 38, prime 2\n29\n[main @coroutine#10] filter 31, prime 19\n[main @coroutine#4] filter 37, prime 3\n[main @coroutine#2] NumbersFrom Send: 39\n</code></pre>\n"}, {"tags": ["class", "kotlin", "visibility", "protected", "access-modifiers"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1496762742, "post_id": 44393917, "comment_id": 75787812, "body": "I assume you mean for a top-level class. How would that even make sense? What does it mean to mark a class as protected?"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496762765, "post_id": 44393917, "comment_id": 75787828, "body": "Nested classes can be protected, exactly as in Java."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496774464, "post_id": 44393917, "comment_id": 75794780, "body": "You should show a sample that has an issue with exact error, because what you are asking for <i>is</i> allowed so you must be doing something different."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1496774423, "last_edit_date": 1496774423, "creation_date": 1496762871, "answer_id": 44394073, "question_id": 44393917, "link": "https://stackoverflow.com/questions/44393917/why-we-cannot-mark-the-visibility-of-a-class-as-protected-in-kotlin/44394073#44394073", "title": "Why we cannot mark the visibility of a class as &quot;protected&quot; in kotlin?", "body": "<p>You can mark <code>protected</code> only parts of classes, so that they become accessible only from the derived classes. You can mark <code>protected</code> a member property, a member function or a nested class:</p>\n\n<pre><code>open class X {\n    protected val v: SomeType = someValue\n    protected fun f() { }\n    protected class Y { ... }\n}\n</code></pre>\n\n<p>But you cannot mark <code>protected</code> anything that does not belong to a class (e.g. a top-level class or function), because the modifier would make no sense: a top-level entity is not subject to inheritance, thus there can be no derived class that would access it.</p>\n"}], "owner": {"reputation": 840, "user_id": 7527287, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-APqegiJWjg8/AAAAAAAAAAI/AAAAAAAAAaw/KON4KVj_qD8/photo.jpg?sz=128", "display_name": "Saud Qureshi", "link": "https://stackoverflow.com/users/7527287/saud-qureshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 44394073, "answer_count": 1, "score": 1, "last_activity_date": 1496774423, "creation_date": 1496762402, "question_id": 44393917, "link": "https://stackoverflow.com/questions/44393917/why-we-cannot-mark-the-visibility-of-a-class-as-protected-in-kotlin", "title": "Why we cannot mark the visibility of a class as &quot;protected&quot; in kotlin?", "body": "<p>I am new to kotlin I have been learning about inheritance in kotlin recently, and then I realised that we cannot mark the visibility of a class as \"protected\". Correct me if i am wrong, or is there any other way to make a class protected ?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1496759149, "post_id": 44392580, "comment_id": 75785051, "body": "Define &#39;without success&#39;."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496761753, "post_id": 44392580, "comment_id": 75787073, "body": "<code>where P : class</code> looks wrong, <code>class</code> is a keyword. Take a look at the last code example: <a href=\"https://kotlinlang.org/docs/reference/generics.html#upper-bounds\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/generics.html#upper-bounds</a>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1496815355, "post_id": 44392580, "comment_id": 75808330, "body": "Please provide the exact compilation error in your questions (this is probably why all the down votes happened)"}], "answers": [{"comments": [{"owner": {"reputation": 248, "user_id": 3116100, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/k97z7.gif?s=128&g=1", "display_name": "SWAppDev", "link": "https://stackoverflow.com/users/3116100/swappdev"}, "edited": false, "score": 0, "creation_date": 1496789239, "post_id": 44392746, "comment_id": 75801521, "body": "Thanks, you saved me ! Removing the &quot;class&quot; word made it work :-)"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 9, "last_activity_date": 1496759727, "last_edit_date": 1496759727, "creation_date": 1496759236, "answer_id": 44392746, "question_id": 44392580, "link": "https://stackoverflow.com/questions/44392580/kotlin-how-to-use-multiple-generic-in-class/44392746#44392746", "title": "Kotlin: how to use multiple Generic in Class?", "body": "<p>In Kotlin, you can specify the type parameter upper bounds at their declaration:</p>\n\n<pre><code>class ChildItemCollection&lt;P, T : ChildItem&lt;P&gt;, C : Collection&lt;T&gt;&gt; : ...\n</code></pre>\n\n<p>If you have multiple upper bounds, they should be specified separately with <code>where</code>, see <a href=\"https://stackoverflow.com/questions/34470703/generic-extending-class-and-implements-interface-in-kotlin\">another Q&amp;A</a>.</p>\n\n<p>Also, Kotlin does not have a <code>class</code> upper bound, because there's no distinction between value types and classes.</p>\n"}], "owner": {"reputation": 248, "user_id": 3116100, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/k97z7.gif?s=128&g=1", "display_name": "SWAppDev", "link": "https://stackoverflow.com/users/3116100/swappdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5190, "favorite_count": 0, "accepted_answer_id": 44392746, "answer_count": 1, "score": 1, "last_activity_date": 1496759727, "creation_date": 1496758794, "question_id": 44392580, "link": "https://stackoverflow.com/questions/44392580/kotlin-how-to-use-multiple-generic-in-class", "title": "Kotlin: how to use multiple Generic in Class?", "body": "<p>i'm trying to convert this c# class to kotlin for android:</p>\n\n<pre><code>public class ChildItemCollection&lt;P, T, C&gt; : ICollection&lt;T&gt;\n    where P : class\n    where T : ChildItem&lt;P&gt;\n    where C : class, ICollection&lt;T&gt;\n{\n\n    private P _parent;\n    private C _collection;\n\n    public ChildItemCollection(P parent, C collection)\n    {\n        this._parent = parent;\n        this._collection = collection;\n    }\n\n\n...\n\n}\n\npublic class ChildItemCollection&lt;P, T&gt; : ChildItemCollection&lt;P, T, List&lt;T&gt;&gt;\n        where P : class\n        where T : ChildItem&lt;P&gt;\n    {\n        #region Constructors\n        public ChildItemCollection(P parent)\n            : base(parent, new List&lt;T&gt;()) { }\n\n        public ChildItemCollection(P parent, ICollection&lt;T&gt; collection)\n            : this(parent)\n        {\n            foreach (T item in collection)\n                this.Add(item);\n        }\n        #endregion Constructors\n    }\n</code></pre>\n\n<p>I have tried many things without success.</p>\n\n<p>I didn't understand how to use the \"where\" lines either.</p>\n"}, {"tags": ["constructor", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496756572, "post_id": 44391468, "comment_id": 75783133, "body": "<code>data class User(val name: String, val age: Int) { constructor(age: Int, name: String) : this(name, age) }</code>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496774596, "post_id": 44391468, "comment_id": 75794845, "body": "Did you try to add a second constructor?"}], "answers": [{"comments": [{"owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "edited": false, "score": 0, "creation_date": 1496757391, "post_id": 44391601, "comment_id": 75783743, "body": "In Data class we can&#39;t have empty constructor. We should have min one param."}, {"owner": {"reputation": 4770, "user_id": 1483117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada85f7d5c5245f819af33e67677fe6d?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1483117/robert"}, "reply_to_user": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "edited": false, "score": 0, "creation_date": 1496760852, "post_id": 44391601, "comment_id": 75786404, "body": "Ah sorry, misread data class, in that case this answers your question: <a href=\"https://stackoverflow.com/questions/37873995/how-to-create-empty-constructor-for-data-class-in-kotlin-android\" title=\"how to create empty constructor for data class in kotlin android\">stackoverflow.com/questions/37873995/&hellip;</a>."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496774744, "post_id": 44391601, "comment_id": 75794935, "body": "@Robert what does an empty constructor have to do with the question.  You can easily just fix your answer here to be for data classes."}], "tags": [], "owner": {"reputation": 4770, "user_id": 1483117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada85f7d5c5245f819af33e67677fe6d?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1483117/robert"}, "is_accepted": false, "score": 11, "last_activity_date": 1496778406, "last_edit_date": 1496778406, "creation_date": 1496756321, "answer_id": 44391601, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/44391601#44391601", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>Updated answer for data classes:</p>\n\n<p>Yes you can, but you will need to delegate everything to the primary constructor</p>\n\n<pre><code>data class User(val name: String, val age: Int)\n{\n    constructor(name: String): this(name, -1) {\n    }\n\n    constructor(age: Int): this(\"Anon\", age) {\n    }\n}\n\n// Anon name: Anon\nprintln(\"Anon name: \" + User(30).name)\n\n// No age: -1\nprintln(\"No age: \" + User(\"Name\").age)\n\n// Name: Name age: 20\nval u = User(\"Name\", 20)\nprintln(\"Name: \" + u.name + \" age: \" + u.age)\n</code></pre>\n\n<p>You can also set default values in your primary constructor as Alexey did.</p>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 13, "creation_date": 1496774691, "post_id": 44391956, "comment_id": 75794903, "body": "what does this have to do with a secondary constructor?"}, {"owner": {"reputation": 3380, "user_id": 8094213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHg3X.jpg?s=128&g=1", "display_name": "Alexey Denysenko", "link": "https://stackoverflow.com/users/8094213/alexey-denysenko"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496776222, "post_id": 44391956, "comment_id": 75795794, "body": "@JaysonMinard Sorry, I don&#39;t understand your question."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 13, "creation_date": 1496776593, "post_id": 44391956, "comment_id": 75796003, "body": "The question asked above is &quot;if it&#39;s possible to declare a second constructor for that data class?&quot; and your answer does not mention secondary constructors at all."}, {"owner": {"reputation": 1233, "user_id": 1740097, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7a1397e879a1e705a0ec816214dc0295?s=128&d=identicon&r=PG", "display_name": "Mr.G", "link": "https://stackoverflow.com/users/1740097/mr-g"}, "edited": false, "score": 0, "creation_date": 1501052418, "post_id": 44391956, "comment_id": 77601131, "body": "when i was trying to access my created data class . with default value constructor i cannot use it . gives a compile error"}], "tags": [], "owner": {"reputation": 3380, "user_id": 8094213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHg3X.jpg?s=128&g=1", "display_name": "Alexey Denysenko", "link": "https://stackoverflow.com/users/8094213/alexey-denysenko"}, "is_accepted": false, "score": 17, "last_activity_date": 1496757191, "creation_date": 1496757191, "answer_id": 44391956, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/44391956#44391956", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>Yes, but each variable should be initialized, so you may set default arguments in your data class constructor, like this:</p>\n\n<pre><code>data class Person(val age: Int, val name: String = \"Person without name\")\n</code></pre>\n\n<p>Now you can create instance of this data class in two ways</p>\n\n<ul>\n<li><code>Person(30)</code></li>\n<li><code>Person(20, \"Bob\")</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496775138, "post_id": 44391988, "comment_id": 75795178, "body": "<code>var</code> is not a great default, especially if the data class is used in something that relies on consistency of <code>hashCode()</code> and <code>equals()</code>"}, {"owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496790765, "post_id": 44391988, "comment_id": 75801934, "body": "@JaysonMinard, I agree."}], "tags": [], "owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "is_accepted": false, "score": 4, "last_activity_date": 1496790726, "last_edit_date": 1496790726, "creation_date": 1496757277, "answer_id": 44391988, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/44391988#44391988", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>Yes, we can use like below code, and in primary constructor for data class should have min one parameter. </p>\n\n<pre><code>data class SampleData(val name: String, val age: Int) {\n    constructor(name: String, age: Int, email: String) : this(name, age) {\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 40, "last_activity_date": 1496778804, "last_edit_date": 1496778804, "creation_date": 1496775090, "answer_id": 44397706, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/44397706#44397706", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>A Kotlin data class must have a primary constructor that defines at least one member.  Other than that, you can add secondary constructors as explained in <a href=\"http://kotlinlang.org/docs/reference/classes.html#secondary-constructors\" rel=\"noreferrer\">Classes and Inheritance - Secondary Constructors</a>.</p>\n\n<p>For your class, and example secondary constructor:</p>\n\n<pre><code>data class User(val name: String, val age: Int) {\n    constructor(name: String): this(name, -1) { ... }\n}\n</code></pre>\n\n<p>Notice that the secondary constructor must delegate to the primary constructor in its definition.</p>\n\n<p>Although many things common to secondary constructors can be solved by having default values for the parameters. In the case above, you could simplify to:</p>\n\n<pre><code>data class User(val name: String, val age: Int = -1) \n</code></pre>\n\n<p>If calling these from Java, you should read the <a href=\"http://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"noreferrer\">Java interop - Java calling Kotlin</a> documentation on how to generate overloads, and maybe sometimes the <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"noreferrer\">NoArg Compiler Plugin</a> for other special cases. </p>\n"}, {"comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 1, "creation_date": 1561300927, "post_id": 49146153, "comment_id": 100009909, "body": "In your example, the secondary constructor does not add anything. The primary constructor can already be called with only 2 parameters (due to the default value)."}], "tags": [], "owner": {"reputation": 161, "user_id": 3192258, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/58XVI.jpg?s=128&g=1", "display_name": "boopathiraja", "link": "https://stackoverflow.com/users/3192258/boopathiraja"}, "is_accepted": false, "score": 8, "last_activity_date": 1614125130, "last_edit_date": 1614125130, "creation_date": 1520406886, "answer_id": 49146153, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/49146153#49146153", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>Data class will ensure consistency and meaningful behavior also we need to have val for immutability.</p>\n<pre><code>data class SampleData(val name: String, val age: Int, val email: String ?= null) {\nconstructor(name: String, age: Int) : this(name, age, null) {\n\n    }\n}\n</code></pre>\n<p>secondary constructor must delegate to the primary constructor in its definition, so to maintain the immutability, having  &quot;null&quot;  will work.</p>\n"}, {"comments": [{"owner": {"reputation": 1162, "user_id": 1363998, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cad3d6c65cb93bd79273d02f17904648?s=128&d=identicon&r=PG", "display_name": "Zonker.in.Geneva", "link": "https://stackoverflow.com/users/1363998/zonker-in-geneva"}, "edited": false, "score": 1, "creation_date": 1587240956, "post_id": 54971737, "comment_id": 108435658, "body": "This is a great solution, and I need it for exactly the reason you mentioned: I need to do some calculations/conversions before I can call the constructor and I&#39;d rather include that logic with the data class and not in some unrelated file."}], "tags": [], "owner": {"reputation": 5246, "user_id": 1601298, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/31d376306ea1b4c19411e4748ccdddfc?s=128&d=identicon&r=PG", "display_name": "Mike Hanafey", "link": "https://stackoverflow.com/users/1601298/mike-hanafey"}, "is_accepted": false, "score": 9, "last_activity_date": 1551634592, "creation_date": 1551634592, "answer_id": 54971737, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/54971737#54971737", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>Default values in the primary constructor eliminates many needs for secondary constructors, but if the needed instance depends on logic based on data that must be analyzed the better answer may be to use a companion object.</p>\n\n<pre><code>data class KeyTag(val a: String, val b: Int, val c: Double) {\n    companion object Factory {\n        val empty = KeyTag(\"\", 0, 0.0)\n\n        fun create(bigString: String): KeyTag {\n            // Logic to extract appropriate values for arguments a, b, c\n            return KeyTag(a, b, c)\n        }\n\n        fun bake(i: Int): KeyTag = KeyTag(\"$i\", i, i.toDouble())\n    }\n}\n</code></pre>\n\n<p>Usage is then:</p>\n\n<pre><code>val ks = KeyTag.create(\"abc:1:10.0\")\nval ke = KeyTag.empty\nval kb = KeyTag.bake(2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 10624990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3048ca73c4943c134bbf8f6f41f95b6?s=128&d=identicon&r=PG&f=1", "display_name": "RanaUmer", "link": "https://stackoverflow.com/users/10624990/ranaumer"}, "is_accepted": false, "score": 3, "last_activity_date": 1603702345, "last_edit_date": 1603702345, "creation_date": 1564689937, "answer_id": 57316284, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/57316284#57316284", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>Instructs the Kotlin compiler to generate overloads for this function that substitute default parameter values.\nIf a method has N parameters and M of which have default values, M overloads are generated: the first one takes N-1 parameters (all but the last one that takes a default value), the second takes N-2 parameters, and so on.</p>\n<pre><code> data class User @JvmOverloads  constructor(\nvar email: String=&quot;&quot;,\nvar password: String=&quot;&quot;)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1057, "user_id": 8119977, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-UKerJziyq2I/AAAAAAAAAAI/AAAAAAAABWA/YRGWMdu_gig/photo.jpg?sz=128", "display_name": "Eder Padilla", "link": "https://stackoverflow.com/users/8119977/eder-padilla"}, "is_accepted": true, "score": 8, "last_activity_date": 1567115988, "creation_date": 1567115988, "answer_id": 57718203, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/57718203#57718203", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>you can set the data class like this </p>\n\n<pre><code>data class User(val name: String? = null, val id: String? = null, val email: String? = null)\n</code></pre>\n\n<p>and you can instance the object with multiple constructors like this </p>\n\n<pre><code>val userId = User(id = \"123456\")\n        val userMail = User(email= \"email@email.com\")\n        val userName = User(\"Name\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1888, "user_id": 5509575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f2debfe039604b4e24c7769935bca5?s=128&d=identicon&r=PG&f=1", "display_name": "Hack5", "link": "https://stackoverflow.com/users/5509575/hack5"}, "is_accepted": false, "score": 6, "last_activity_date": 1583573086, "creation_date": 1583573086, "answer_id": 60576117, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/60576117#60576117", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>I wanted to have a class similar to below (with a constructor that parses an input)</p>\n\n<pre><code>data class Data(val a: String, val b: String) {\n    constructor(spaceSeparated: String) { // error because we don't call this()\n        val split = spaceSeparated.split(\" \")\n        this(split.first(), split.last()) // error again because it's not valid there\n    }\n}\n</code></pre>\n\n<p>The solution is to do this:</p>\n\n<pre><code>data class Data(val a: String, val b: String) {\n    companion object {\n        operator fun invoke(spaceSeparated: String): Data {\n            val split = spaceSeparated.split(\" \")\n            return Data(split.first(), split.last())\n        }\n    }\n}\n</code></pre>\n\n<p>And it can be called just as if it were a constructor</p>\n"}, {"tags": [], "owner": {"reputation": 253, "user_id": 410505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/04Nu1.png?s=128&g=1", "display_name": "furkan", "link": "https://stackoverflow.com/users/410505/furkan"}, "is_accepted": false, "score": 0, "last_activity_date": 1619024839, "last_edit_date": 1619024839, "creation_date": 1619024336, "answer_id": 67200309, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor/67200309#67200309", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>Yes you can have multiple contractors on data classes. But there is something which makes the <code>primary constructor</code> special. The compiler will auto generate methods like <code>equals</code>, <code>hashCode</code>, <code>copy</code>, <code>toStrings</code> based on the <code>primary constructor</code> for the data class.</p>\n<p>Below is an example of two instances of a data class which looks different (first.gender = male, second.gender = female) but <code>equals</code> method would evaluate to <code>true</code> because <code>gender</code> is not defined in the primary constructor and therefore not considered in the auto generated methods. Likewise, gender would not be included in the string representation.</p>\n<pre><code>data class A(val name: String, val age: Int) {\n    var gender: String = &quot;Female&quot;\n    constructor(name: String, age: Int, gender: String) : this(name, age) {\n        this.gender = gender\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val first = A(&quot;foo&quot;, 10)\n    val second = A(&quot;foo&quot;, 10, &quot;Male&quot;)\n    println(first == second)  //prints true\n    println(second)  //prints A(name=foo,age=10)\n}\n</code></pre>\n"}], "owner": {"reputation": 1057, "user_id": 8119977, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-UKerJziyq2I/AAAAAAAAAAI/AAAAAAAABWA/YRGWMdu_gig/photo.jpg?sz=128", "display_name": "Eder Padilla", "link": "https://stackoverflow.com/users/8119977/eder-padilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36173, "favorite_count": 4, "accepted_answer_id": 57718203, "answer_count": 10, "score": 53, "last_activity_date": 1619024839, "creation_date": 1496755998, "last_edit_date": 1509737463, "question_id": 44391468, "link": "https://stackoverflow.com/questions/44391468/can-kotlin-data-class-have-more-than-one-constructor", "title": "Can Kotlin data class have more than one constructor?", "body": "<p>I know that data class are like simple models in kotlin with getters and setter by default and are as simple this:</p>\n\n<pre><code>data class User(val name: String, val age: Int)\n</code></pre>\n\n<p>Is it possible to declare a second constructor for that data class?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 678, "user_id": 7768165, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gb_HKOYMQXc/AAAAAAAAAAI/AAAAAAAAAA4/psIFQ0Adofs/photo.jpg?sz=128", "display_name": "stephanmg", "link": "https://stackoverflow.com/users/7768165/stephanmg"}, "edited": false, "score": 0, "creation_date": 1582066997, "post_id": 44390363, "comment_id": 106647216, "body": "This will be then a deque not queue I guess?"}, {"owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "edited": false, "score": 0, "creation_date": 1584746143, "post_id": 44390363, "comment_id": 107540753, "body": "<code>Deque</code> extends <code>Queue</code>"}, {"owner": {"reputation": 8918, "user_id": 2356570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/3eFoq.jpg?s=128&g=1", "display_name": "capt.swag", "link": "https://stackoverflow.com/users/2356570/capt-swag"}, "edited": false, "score": 0, "creation_date": 1608992306, "post_id": 44390363, "comment_id": 115725446, "body": "Hmm, after going through multiple stackoverflow questions, what I figured out is there are various implementations of the Queue interface. Now my problem is which one should I use. I just want a really basic queue. Should I go with ArrayDeque or LinkedList?"}], "tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": true, "score": 30, "last_activity_date": 1496753047, "creation_date": 1496753047, "answer_id": 44390363, "question_id": 44390207, "link": "https://stackoverflow.com/questions/44390207/kotlin-interface-queue-does-not-have-constructors/44390363#44390363", "title": "Kotlin : Interface Queue does not have constructors", "body": "<p><code>Queue</code> is an <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Queue.html\" rel=\"noreferrer\">interface</a>. So you can't instantiate an interface, you have to implement it or instantiate a class that implement it.</p>\n\n<p>For example, you can do <code>var queue: Queue&lt;Int&gt; = ArrayDeque&lt;Int&gt;()</code>. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayDeque.html\" rel=\"noreferrer\">ArrayDeque</a> implements <code>Queue</code>.  </p>\n"}, {"tags": [], "owner": {"reputation": 619, "user_id": 3324341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Bdxs.jpg?s=128&g=1", "display_name": "Silvestr", "link": "https://stackoverflow.com/users/3324341/silvestr"}, "is_accepted": false, "score": 12, "last_activity_date": 1496753311, "creation_date": 1496753311, "answer_id": 44390459, "question_id": 44390207, "link": "https://stackoverflow.com/questions/44390207/kotlin-interface-queue-does-not-have-constructors/44390459#44390459", "title": "Kotlin : Interface Queue does not have constructors", "body": "<p>You trying to create instance of interface but don`t override methods for it. You should use something like this: </p>\n\n<pre><code>val queueA = LinkedList&lt;Int&gt;()\nval queueB = PriorityQueue&lt;Int&gt;()\n</code></pre>\n\n<p>Also you can read more about queue implementations <a href=\"http://tutorials.jenkov.com/java-collections/queue.html\" rel=\"noreferrer\">here</a> </p>\n"}, {"tags": [], "owner": {"reputation": 1338, "user_id": 4570569, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-U1rqLolbHjs/AAAAAAAAAAI/AAAAAAAAABw/w8PRKQppstM/photo.jpg?sz=128", "display_name": "Pavan Bilagi", "link": "https://stackoverflow.com/users/4570569/pavan-bilagi"}, "is_accepted": false, "score": 0, "last_activity_date": 1617423683, "creation_date": 1617423683, "answer_id": 66927703, "question_id": 44390207, "link": "https://stackoverflow.com/questions/44390207/kotlin-interface-queue-does-not-have-constructors/66927703#66927703", "title": "Kotlin : Interface Queue does not have constructors", "body": "<p>Queue is an interface. So you can't instantiate an interface. You should use something like this:</p>\n<pre><code>val queue: Queue&lt;Int&gt; = LinkedList()\n</code></pre>\n"}], "owner": {"reputation": 1608, "user_id": 5031114, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nJzUn.jpg?s=128&g=1", "display_name": "Vicky", "link": "https://stackoverflow.com/users/5031114/vicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21115, "favorite_count": 1, "accepted_answer_id": 44390363, "answer_count": 3, "score": 19, "last_activity_date": 1617423683, "creation_date": 1496752625, "question_id": 44390207, "link": "https://stackoverflow.com/questions/44390207/kotlin-interface-queue-does-not-have-constructors", "title": "Kotlin : Interface Queue does not have constructors", "body": "<p>I'm trying to instantiate an object of <code>Queue</code> using below code</p>\n\n<p><code>var queue: Queue&lt;Int&gt; = Queue()\n</code></p>\n\n<p>But I get this </p>\n\n<blockquote>\n  <p>Interface Queue does not have constructors</p>\n</blockquote>\n\n<p>No idea what's going on, while searching I found this <a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"noreferrer\">link.</a> </p>\n\n<p>But I don't understand anything.\nPlease help.</p>\n"}, {"tags": ["spring", "kotlin", "reactive"], "answers": [{"comments": [{"owner": {"reputation": 304, "user_id": 339286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a889d59cdf00d085404a360ff3706b2?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/339286/nick"}, "edited": false, "score": 0, "creation_date": 1496766834, "post_id": 44392422, "comment_id": 75790512, "body": "Actually it&#39;s Mono because of using reactive-mongo, so can&#39;t call ${inn.name} directly."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "reply_to_user": {"reputation": 304, "user_id": 339286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a889d59cdf00d085404a360ff3706b2?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/339286/nick"}, "edited": false, "score": 0, "creation_date": 1496766942, "post_id": 44392422, "comment_id": 75790569, "body": "OK, that&#39;s weird. Because I replicated this and was able to use ${inn.name} just fine."}, {"owner": {"reputation": 304, "user_id": 339286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a889d59cdf00d085404a360ff3706b2?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/339286/nick"}, "edited": false, "score": 0, "creation_date": 1496808031, "post_id": 44392422, "comment_id": 75805887, "body": "I think my approach breaks reactive paradigm... And I guess been reactive already ensured the whole context between client and server wouldn&#39;t fall apart."}, {"owner": {"reputation": 241, "user_id": 4089277, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-rY2iMGuteSk/AAAAAAAAAAI/AAAAAAAAR28/9NUEqCciyMc/photo.jpg?sz=128", "display_name": "Randomlogicx", "link": "https://stackoverflow.com/users/4089277/randomlogicx"}, "edited": false, "score": 0, "creation_date": 1508378096, "post_id": 44392422, "comment_id": 80590935, "body": "@Todd What is class.java means here"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 2, "last_activity_date": 1496758399, "creation_date": 1496758399, "answer_id": 44392422, "question_id": 44387524, "link": "https://stackoverflow.com/questions/44387524/how-to-access-monot-while-handling-exception-with-onerrormap/44392422#44392422", "title": "How to Access Mono&lt;T&gt; While Handling Exception with onErrorMap()?", "body": "<p>In <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#onErrorMap-java.util.function.Function-\" rel=\"nofollow noreferrer\">reactor</a>, you aren't going to have the value you want handed to you in <code>onErrorMap</code> as an argument, you just get the <code>Throwable</code>. However, in Kotlin you can reach outside the scope of the error handler and just refer to <code>inn</code> directly. You don't need to change much:</p>\n\n<pre><code>fun create(inn: Mono&lt;Inn&gt;): Mono&lt;Inn&gt; =\n    repository\n      .create(inn)\n      .onErrorMap(\n          DuplicateKeyException::class.java,\n          { InnAlreadyExistedException(\"The inn ${inn.name} already existed\", it) }\n      )\n}\n</code></pre>\n"}], "owner": {"reputation": 304, "user_id": 339286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a889d59cdf00d085404a360ff3706b2?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/339286/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1854, "favorite_count": 0, "accepted_answer_id": 44392422, "answer_count": 1, "score": -1, "last_activity_date": 1496758399, "creation_date": 1496744791, "last_edit_date": 1496750826, "question_id": 44387524, "link": "https://stackoverflow.com/questions/44387524/how-to-access-monot-while-handling-exception-with-onerrormap", "title": "How to Access Mono&lt;T&gt; While Handling Exception with onErrorMap()?", "body": "<p>In data class I defined the <strong>'name'</strong> must be unique across whole mongo collection:</p>\n\n<pre><code>@Document\ndata class Inn(@Indexed(unique = true) val name: String,\n               val description: String) {\n  @Id\n  var id: String = UUID.randomUUID().toString()\n\n  var intro: String = \"\"\n}\n</code></pre>\n\n<p>So in service I have to capture the unexpected exception if someone pass the same name again.</p>\n\n<pre><code>@Service\nclass InnService(val repository: InnRepository) {\n  fun create(inn: Mono&lt;Inn&gt;): Mono&lt;Inn&gt; =\n      repository\n          .create(inn)\n          .onErrorMap(\n              DuplicateKeyException::class.java,\n              { err -&gt; InnAlreadyExistedException(\"The inn already existed\", err) }\n          )\n}\n</code></pre>\n\n<p>This is OK, but what if I want to add more info to the exceptional message like <code>\"The inn named '$it.name' already existed\"</code>, what should I do for transforming exception with enriched message.</p>\n\n<p>Clearly, assign <code>Mono&lt;Inn&gt;</code> to a local variable at the beginning is not a good idea...</p>\n\n<p>Similar situation in handler,  I'd like to give client more info which derived from the customized exception, but no proper way can be found.</p>\n\n<pre><code>@Component\nclass InnHandler(val innService: InnService) {\n  fun create(req: ServerRequest): Mono&lt;ServerResponse&gt; {\n    return innService\n        .create(req.bodyToMono&lt;Inn&gt;())\n        .flatMap {\n          created(URI.create(\"/api/inns/${it.id}\"))\n              .contentType(MediaType.APPLICATION_JSON_UTF8).body(it.toMono())\n        }\n        .onErrorReturn(\n            InnAlreadyExistedException::class.java,\n            badRequest().body(mapOf(\"code\" to \"SF400\", \"message\" to t.message).toMono()).block()\n        )\n  }\n}\n</code></pre>\n"}, {"tags": ["range", "kotlin"], "comments": [{"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496742694, "post_id": 44386394, "comment_id": 75773259, "body": "I didn&#39;t get your idea, what the 51 will be converted to ?"}, {"owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "reply_to_user": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496743024, "post_id": 44386394, "comment_id": 75773467, "body": "@KrisRoofe 51 would be 4 until we get to 55 and between 55 to 60 the result would be 5. I somehow want to transfer my range into a new range."}, {"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496743124, "post_id": 44386394, "comment_id": 75773540, "body": "the new range also have 100 elements?"}, {"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496743343, "post_id": 44386394, "comment_id": 75773694, "body": "what will be 0 convert to ?"}, {"owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "reply_to_user": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496743381, "post_id": 44386394, "comment_id": 75773722, "body": "@KrisRoofe the new range is not specific, it may have 20 element (0..19) or 9 elements (0..8)"}, {"owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "reply_to_user": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496743434, "post_id": 44386394, "comment_id": 75773774, "body": "@KrisRoofe in question sample 0 -&gt; 0"}, {"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1496743592, "post_id": 44386394, "comment_id": 75773874, "body": "If so, <code>0-&gt;0, 50-&gt;4, 100-&gt;9</code>, it&#39;s a nonlinear convertion"}], "answers": [{"comments": [{"owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "edited": false, "score": 0, "creation_date": 1496743317, "post_id": 44386789, "comment_id": 75773672, "body": "Sorry for my bad question, I just improve it."}], "tags": [], "owner": {"reputation": 55186, "user_id": 301607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1a7b23a820171d3370a308139556e29?s=128&d=identicon&r=PG", "display_name": "StanislavL", "link": "https://stackoverflow.com/users/301607/stanislavl"}, "is_accepted": false, "score": 1, "last_activity_date": 1496742766, "creation_date": 1496742766, "answer_id": 44386789, "question_id": 44386394, "link": "https://stackoverflow.com/questions/44386394/is-there-any-method-in-kotlin-which-allow-me-to-translate-a-value-from-a-range-i/44386789#44386789", "title": "Is there any method in Kotlin which allow me to translate a value from a range into another range?", "body": "<pre><code>val r2 = IntRange(0, 100).filter { it %10 ==0 }.map { it /10 }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "edited": false, "score": 0, "creation_date": 1496743489, "post_id": 44387002, "comment_id": 75773807, "body": "Thanks for the answer, It is correct, just want to know if is there any function in Kotlin API or I have to do this."}, {"owner": {"reputation": 23460, "user_id": 1117415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icExy.jpg?s=128&g=1", "display_name": "Benito Bertoli", "link": "https://stackoverflow.com/users/1117415/benito-bertoli"}, "reply_to_user": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "edited": false, "score": 0, "creation_date": 1496743551, "post_id": 44387002, "comment_id": 75773844, "body": "Not that I know of. You could write it as an extension function"}], "tags": [], "owner": {"reputation": 23460, "user_id": 1117415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icExy.jpg?s=128&g=1", "display_name": "Benito Bertoli", "link": "https://stackoverflow.com/users/1117415/benito-bertoli"}, "is_accepted": true, "score": 3, "last_activity_date": 1496743515, "last_edit_date": 1496743515, "creation_date": 1496743310, "answer_id": 44387002, "question_id": 44386394, "link": "https://stackoverflow.com/questions/44386394/is-there-any-method-in-kotlin-which-allow-me-to-translate-a-value-from-a-range-i/44387002#44387002", "title": "Is there any method in Kotlin which allow me to translate a value from a range into another range?", "body": "<p>Calculate the ratio of the number within the original range.\nMultiply it by the second range.</p>\n\n<pre><code>fun convert(number: Int, original: IntRange, target: IntRange): Int {\n    val ratio = number.toFloat() / (original.endInclusive - original.start)\n    return (ratio * (target.endInclusive - target.start)).toInt()\n}\n</code></pre>\n\n<p>As an extension function</p>\n\n<pre><code>fun IntRange.convert(number: Int, target: IntRange): Int {\n    val ratio = number.toFloat() / (endInclusive - start)\n    return (ratio * (target.endInclusive - target.start)).toInt()\n}\n\nval result =  (0..100).convert(50, 0..9)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "is_accepted": false, "score": 0, "last_activity_date": 1496743953, "creation_date": 1496743953, "answer_id": 44387219, "question_id": 44386394, "link": "https://stackoverflow.com/questions/44386394/is-there-any-method-in-kotlin-which-allow-me-to-translate-a-value-from-a-range-i/44387219#44387219", "title": "Is there any method in Kotlin which allow me to translate a value from a range into another range?", "body": "<p>I think this should works, </p>\n\n<pre><code>val original = 0..100\nval new = original.step((original.endInclusive - original.start) / 9).map{it /10}.forEach{ println(it)}\n</code></pre>\n\n<p>output,</p>\n\n<pre><code>0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n</code></pre>\n"}], "owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 44387002, "answer_count": 3, "score": 2, "last_activity_date": 1507920779, "creation_date": 1496741685, "last_edit_date": 1507920779, "question_id": 44386394, "link": "https://stackoverflow.com/questions/44386394/is-there-any-method-in-kotlin-which-allow-me-to-translate-a-value-from-a-range-i", "title": "Is there any method in Kotlin which allow me to translate a value from a range into another range?", "body": "<p>I have a value inside a range of numbers (for instance <code>0..100</code>) which I want to translate it into another range, (for instance to <code>0..9</code>). So the result would be:</p>\n\n<p><code>50 -&gt; 4</code> or <code>100 -&gt; 9</code>, ...</p>\n\n<p>Is there any method in Kotlin which helps me in this regard?</p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 39263, "user_id": 323924, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19c51b649e40894c34905f0225196907?s=128&d=identicon&r=PG", "display_name": "Cheng Chen", "link": "https://stackoverflow.com/users/323924/cheng-chen"}, "edited": false, "score": 0, "creation_date": 1496737604, "post_id": 44384851, "comment_id": 75769825, "body": "I don&#39;t think there is any compile error except the missing brackets <code>class Event : Item&lt;Event&gt;()</code>, which version are you using? And what is the exact error message?"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1496737636, "post_id": 44384851, "comment_id": 75769840, "body": "Can&#39;t reproduce after adding missing constructor call at line <code>class Event : Item&lt;Event&gt; {</code>"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 4, "creation_date": 1496737869, "post_id": 44384851, "comment_id": 75769972, "body": "And it&#39;s not part of type inference, it&#39;s <i>smartcast</i>."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1496746294, "post_id": 44384851, "comment_id": 75775591, "body": "Please clarify what error you are getting exactly. For now, I&#39;m flagging the question."}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1497600493, "post_id": 44384851, "comment_id": 76155841, "body": "Thanks for the accept :-)"}], "answers": [{"tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": true, "score": 4, "last_activity_date": 1496738780, "creation_date": 1496738780, "answer_id": 44385386, "question_id": 44384851, "link": "https://stackoverflow.com/questions/44384851/kotlin-generics-and-wrong-type-inference/44385386#44385386", "title": "Kotlin generics and wrong type inference", "body": "<p>Even when you sort out the syntactical problems: do <strong>not</strong> do this. </p>\n\n<p>You are creating a generic container, which explicitly checks if a distinct <strong>subclass</strong> comes in. To then do a downcast and access fields in the subclass.</p>\n\n<p>This is like the absolute opposite of a good OO design. You base class should know <strong>nothing</strong> about any subclass!</p>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 44385386, "answer_count": 1, "score": 1, "last_activity_date": 1496738811, "creation_date": 1496737225, "last_edit_date": 1496738811, "question_id": 44384851, "link": "https://stackoverflow.com/questions/44384851/kotlin-generics-and-wrong-type-inference", "title": "Kotlin generics and wrong type inference", "body": "<p>Consider a general <code>class Item</code> and specific <code>class Event</code> which inherits it:</p>\n\n<pre><code>open class Item&lt;T&gt; {\n    fun copyFrom(item: T) {\n        if (this is Event &amp;&amp; item is Event) {\n            owner = item.owner\n            value = item.value \n        }\n    }\n}\n\nclass Event : Item&lt;Event&gt; {\n    open var owner = \"\"\n    open var value = 0\n}\n</code></pre>\n\n<p>Thanks to type inference we don't have to cast Item to Event and we can directly access the <code>owner</code> and <code>value</code>. However it says the <code>item</code> is of type <code>T</code> and cannot be cast to <code>Event</code> in the <code>item is Event</code> clause. I believe this should not happen as this clause is correct in Java?</p>\n\n<p>EDIT:</p>\n\n<p>I am aware of the fact that the <code>copyFrom</code> implementation should be done in <code>Event</code>, but this is just to demonstrate the type inference issue.</p>\n"}, {"tags": ["spring", "kotlin"], "comments": [{"owner": {"reputation": 55186, "user_id": 301607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1a7b23a820171d3370a308139556e29?s=128&d=identicon&r=PG", "display_name": "StanislavL", "link": "https://stackoverflow.com/users/301607/stanislavl"}, "edited": false, "score": 0, "creation_date": 1496741141, "post_id": 44384322, "comment_id": 75772087, "body": "Should be PATCH not POST. How to distinguish set a student property to NULL? I would say it&#39;s better to have a map of request parameters. Read Student from DB (e.g. by id) and then go through the map updating appropriate field of Student. Finally save the Student back to DB."}, {"owner": {"reputation": 984, "user_id": 2293768, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/099dcc815c0819d45efc52ea46fde348?s=128&d=identicon&r=PG", "display_name": "MiguelAngel_LV", "link": "https://stackoverflow.com/users/2293768/miguelangel-lv"}, "reply_to_user": {"reputation": 55186, "user_id": 301607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1a7b23a820171d3370a308139556e29?s=128&d=identicon&r=PG", "display_name": "StanislavL", "link": "https://stackoverflow.com/users/301607/stanislavl"}, "edited": false, "score": 0, "creation_date": 1496747829, "post_id": 44384322, "comment_id": 75776632, "body": "All my fields are &quot;no nullable&quot;, so, I don&#39;t have any null.  I read about &quot;ModelAttribute&quot; that load first the element from DB and after apply the data from request, but I don&#39;t know how start with it."}], "answers": [{"comments": [{"owner": {"reputation": 984, "user_id": 2293768, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/099dcc815c0819d45efc52ea46fde348?s=128&d=identicon&r=PG", "display_name": "MiguelAngel_LV", "link": "https://stackoverflow.com/users/2293768/miguelangel-lv"}, "edited": false, "score": 0, "creation_date": 1496749156, "post_id": 44388904, "comment_id": 75777585, "body": "The problem is that all my variables are &quot;no nullable&quot;, so, BeanUtils replace all data by &quot;default data&quot;"}, {"owner": {"reputation": 55186, "user_id": 301607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1a7b23a820171d3370a308139556e29?s=128&d=identicon&r=PG", "display_name": "StanislavL", "link": "https://stackoverflow.com/users/301607/stanislavl"}, "reply_to_user": {"reputation": 984, "user_id": 2293768, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/099dcc815c0819d45efc52ea46fde348?s=128&d=identicon&r=PG", "display_name": "MiguelAngel_LV", "link": "https://stackoverflow.com/users/2293768/miguelangel-lv"}, "edited": false, "score": 0, "creation_date": 1496749523, "post_id": 44388904, "comment_id": 75777827, "body": "It&#39;s rather business logic problem. How to skip empty (default values) fields? Try to explain how you would do it manually. That&#39;s why I suggested initially a Map with key value. If something is not sent you don&#39;t override existing value."}], "tags": [], "owner": {"reputation": 55186, "user_id": 301607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1a7b23a820171d3370a308139556e29?s=128&d=identicon&r=PG", "display_name": "StanislavL", "link": "https://stackoverflow.com/users/301607/stanislavl"}, "is_accepted": false, "score": 0, "last_activity_date": 1496748747, "creation_date": 1496748747, "answer_id": 44388904, "question_id": 44384322, "link": "https://stackoverflow.com/questions/44384322/partial-update-rest-in-spring-boot-and-kotlin/44388904#44388904", "title": "Partial update REST in Spring Boot and Kotlin", "body": "<p>There are 2 things to implement. Reading Student from DB and copying properties from the student from request.</p>\n\n<p>I post java code but it's no problem to convert to kotlin</p>\n\n<pre><code>Morphia morphia = new Morphia();\ndb = new Mongo();\nDatastore ds = morphia.createDatastore(db, appname, user, pass.toCharArray());\n\nmorphia.map(Student.class);\nStudent existing= ds.find(Student.class).field(\"id\").equal(student.id).get(); \n</code></pre>\n\n<p>Then you can use Apache BeanUtils</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-beanutils/javadocs/v1.8.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#copyProperties%28java.lang.Object,%20java.lang.Object%29\" rel=\"nofollow noreferrer\">http://commons.apache.org/proper/commons-beanutils/javadocs/v1.8.3/apidocs/org/apache/commons/beanutils/BeanUtils.html#copyProperties%28java.lang.Object,%20java.lang.Object%29</a></p>\n\n<pre><code> BeanUtils.copyProperties(existing, student);\n</code></pre>\n\n<p>then</p>\n\n<pre><code>existing.save();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 8545864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f12ffc2ae5bcd695fac25a86ceb9ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emily", "link": "https://stackoverflow.com/users/8545864/emily"}, "is_accepted": false, "score": 0, "last_activity_date": 1558378057, "creation_date": 1558378057, "answer_id": 56226554, "question_id": 44384322, "link": "https://stackoverflow.com/questions/44384322/partial-update-rest-in-spring-boot-and-kotlin/56226554#56226554", "title": "Partial update REST in Spring Boot and Kotlin", "body": "<p>This is my solution:</p>\n\n<pre><code>import org.springframework.beans.BeanWrapperImpl\nimport java.util.HashSet\n\nfun getNullPropertyNames(source: Any): Array&lt;String&gt; {\n    val src = BeanWrapperImpl(source)\n    val pds = src.propertyDescriptors\n    val emptyNames = HashSet&lt;String&gt;()\n    for (pd in pds) {\n        if (src.getPropertyValue(pd.name) == null) emptyNames.add(pd.name)\n    }\n    return emptyNames.toTypedArray()\n}\n</code></pre>\n\n<p>And in controller</p>\n\n<pre><code>import org.springframework.beans.BeanUtils\n\n@RestController\nclass GateController {\n\n    @Autowired\n    private val modelRepository: MyRepository? = null\n\n    // allow both 'full' and 'partial' update\n    @PutMapping(\"/somemodel/{Id}\")\n    fun updateModel(\n            @PathVariable Id: Long,\n            @RequestBody requestBody: SomeModel\n    ): SomeModel {\n        var objFromDb = modelRepository!!.findById(Id).orElseThrow { ResourceNotFoundException(\"Object not found with id: \" + Id) }\n        BeanUtils.copyProperties(requestBody, objFromDb, *getNullPropertyNames(requestBody))\n        return modelRepository.save(objFromDb)\n    }\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 984, "user_id": 2293768, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/099dcc815c0819d45efc52ea46fde348?s=128&d=identicon&r=PG", "display_name": "MiguelAngel_LV", "link": "https://stackoverflow.com/users/2293768/miguelangel-lv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 749, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558378057, "creation_date": 1496735594, "question_id": 44384322, "link": "https://stackoverflow.com/questions/44384322/partial-update-rest-in-spring-boot-and-kotlin", "title": "Partial update REST in Spring Boot and Kotlin", "body": "<p>I have a project with Spring Boot + Kotlin + Morphia. </p>\n\n<p>I need add partial update of my entities. My actual post method:</p>\n\n<pre><code>   @PostMapping(\"update/\")\n    fun updateStudent(@RequestBody @Valid  student: Student, results: BindingResult): ResponseData&lt;Student&gt; {\n\n        if (results.hasErrors())\n            return ResponseData(errors = results.errors)\n\n\n        if (!student.canEdit(login.user))\n            return ResponseData()\n\n\n        student.save()\n        return ResponseData(data = student)\n    }\n</code></pre>\n\n<p>I need read student from database and update only the sended fields</p>\n"}, {"tags": ["unit-testing", "mocking", "mockito", "kotlin", "powermock"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1496731681, "post_id": 44382540, "comment_id": 75766348, "body": "Just like in Java, you want to avoid static methods like that. Static methods should usually be used as simple util functions. Extension functions are like static methods, so they should only be used as simple util functions. These functions should be so simple it is not needed or worth to mock them."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496739014, "post_id": 44382540, "comment_id": 75770679, "body": "can you provide what have you tried till now?"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1501744412, "post_id": 44382540, "comment_id": 77914908, "body": "Just wondering: are you still waiting for other answers; or is there something I could do to make my answer accept-worthy?"}], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 1871403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e487e9a3c405f36f5ffd9bbbb5f9a0?s=128&d=identicon&r=PG", "display_name": "Kraiden", "link": "https://stackoverflow.com/users/1871403/kraiden"}, "edited": false, "score": 6, "creation_date": 1500527405, "post_id": 44385596, "comment_id": 77377646, "body": "just for the next person, extension function signatures in java: <code>class FilenameKt { public static ReturnType extensionName(Receiver receiver, Params otherParams)...</code>"}], "tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 7, "last_activity_date": 1496739381, "creation_date": 1496739381, "answer_id": 44385596, "question_id": 44382540, "link": "https://stackoverflow.com/questions/44382540/mocking-extension-function-in-kotlin/44385596#44385596", "title": "Mocking extension function in Kotlin", "body": "<p>First of all, Mockito knows <strong>nothing</strong> Kotlin specific language constructs. In the end, Mockito will have a look <strong>into</strong> the byte code. Mockito is only able to understand what it finds there and what looks like a Java language construct.</p>\n\n<p>Meaning: to be really sure, you might want to use <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javap.html\" rel=\"noreferrer\">javap</a> to deassemble the compiled classfiles to identify the exact names/signatures of the methods you want to mock. </p>\n\n<p>And obviously: when that method is <em>static</em>, you have to user PowerMock, or JMockit; if not, you should prefer to with Mockito. </p>\n\n<p>From a java point of view, you simply avoid mocking static stuff; but of course, things get really interesting, now that different languages with different ideas/concepts come together.</p>\n"}, {"comments": [{"owner": {"reputation": 222, "user_id": 4034143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf8b9624c3b5e085309e53567fcbf7fb?s=128&d=identicon&r=PG&f=1", "display_name": "hmac", "link": "https://stackoverflow.com/users/4034143/hmac"}, "edited": false, "score": 0, "creation_date": 1574853488, "post_id": 52646647, "comment_id": 104376094, "body": "does this work when the extension function has arguments? Verify seems to fail due to mismatching arguments (weirdly it seems to expect another argument, of type equal to the class you&#39;re extending)"}, {"owner": {"reputation": 7328, "user_id": 1101730, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0ZiMa.jpg?s=128&g=1", "display_name": "Micer", "link": "https://stackoverflow.com/users/1101730/micer"}, "edited": false, "score": 0, "creation_date": 1596114586, "post_id": 52646647, "comment_id": 111712011, "body": "Works prefectly, thanks! Note when using <i>verify</i> you need to use the one from Mockk library and not from Mockito. Since I had both in the same file, I solved it by creating import alias: <code>import io.mockk.verify as verifyMockk</code>"}, {"owner": {"reputation": 778, "user_id": 9210263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2I8LA.jpg?s=128&g=1", "display_name": "LeYAUable", "link": "https://stackoverflow.com/users/9210263/leyauable"}, "edited": false, "score": 0, "creation_date": 1598970142, "post_id": 52646647, "comment_id": 112624762, "body": "This did not work for me, but a slightly different way did (adapted to the example): every {     any&lt;Obj&gt;().extensionFunc() } returns 11  looks silly because now the result does not depend on parameters, but in my use-case it didn&#39;t have to and the other way was throwing errors."}], "tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 20, "last_activity_date": 1538662327, "last_edit_date": 1538662327, "creation_date": 1538655858, "answer_id": 52646647, "question_id": 44382540, "link": "https://stackoverflow.com/questions/44382540/mocking-extension-function-in-kotlin/52646647#52646647", "title": "Mocking extension function in Kotlin", "body": "<p>I think <strong>MockK</strong> can help you.</p>\n\n<p>It supports mocking <em>extension functions</em> too.</p>\n\n<p>You can use it to mock object-wide extensions:</p>\n\n<pre><code>data class Obj(val value: Int)\n\nclass Ext {\n    fun Obj.extensionFunc() = value + 5\n}\n\nwith(mockk&lt;Ext&gt;()) {\n    every {\n        Obj(5).extensionFunc()\n    } returns 11\n\n    assertEquals(11, Obj(5).extensionFunc())\n\n    verify {\n        Obj(5).extensionFunc()\n    }\n}\n</code></pre>\n\n<p>If you extension is a module-wide, meaning that it is declared in a file (not inside <code>class</code>), you should mock it in this way:</p>\n\n<pre><code>data class Obj(val value: Int)\n\n// declared in File.kt (\"pkg\" package)\nfun Obj.extensionFunc() = value + 5\n\nmockkStatic(\"pkg.FileKt\")\n\nevery {\n    Obj(5).extensionFunc()\n} returns 11\n\nassertEquals(11, Obj(5).extensionFunc())\n\nverify {\n    Obj(5).extensionFunc()\n}\n</code></pre>\n\n<p>By adding <code>mockkStatic(\"pkg.FileKt\")</code> line with the name of a package and file where extension is declared (<code>pkg.File.kt</code> in the example).</p>\n\n<p>More info can be found here: <a href=\"https://mockk.io/#extension-functions\" rel=\"noreferrer\">web site</a> and <a href=\"https://github.com/mockk/mockk\" rel=\"noreferrer\">github</a></p>\n"}, {"comments": [{"owner": {"reputation": 1399, "user_id": 4212710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77c69fe524bfe3ae75f99524e935dc28?s=128&d=identicon&r=PG&f=1", "display_name": "typoerrpr", "link": "https://stackoverflow.com/users/4212710/typoerrpr"}, "edited": false, "score": 0, "creation_date": 1607062581, "post_id": 63348648, "comment_id": 115159536, "body": "exactly what I was looking for!"}], "tags": [], "owner": {"reputation": 5230, "user_id": 305532, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/be1815a0a124a8a1935f67426690a3eb?s=128&d=identicon&r=PG", "display_name": "Thomas Keller", "link": "https://stackoverflow.com/users/305532/thomas-keller"}, "is_accepted": false, "score": 3, "last_activity_date": 1597097181, "creation_date": 1597097181, "answer_id": 63348648, "question_id": 44382540, "link": "https://stackoverflow.com/questions/44382540/mocking-extension-function-in-kotlin/63348648#63348648", "title": "Mocking extension function in Kotlin", "body": "<p>Instance extension functions can be stubbed and verified like this with the help of mockito-kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Bar(thing: Int)\n\nclass Foo {\n   fun Bar.bla(anotherThing: Int): Int { ... }\n}\n\nval bar = Bar(thing = 1)\nval foo = mock&lt;Foo&gt;()\n\nwith(foo) {\n  whenever(any&lt;Bar&gt;().bla(any()).doReturn(3)\n}\n\nverify(foo).apply {\n  bar.bla(anotherThing = 2)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 7699617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cKOu7.jpg?s=128&g=1", "display_name": "SerjantArbuz", "link": "https://stackoverflow.com/users/7699617/serjantarbuz"}, "is_accepted": false, "score": 0, "last_activity_date": 1610369773, "creation_date": 1610369773, "answer_id": 65667283, "question_id": 44382540, "link": "https://stackoverflow.com/questions/44382540/mocking-extension-function-in-kotlin/65667283#65667283", "title": "Mocking extension function in Kotlin", "body": "<p>I use <strong>mockk</strong> library.</p>\n<p>For extension file write java name, like this:</p>\n<pre><code>@file:JvmName(name = &quot;ExtensionUtils&quot;)\n\npackage myproject.extension\n\n...\n</code></pre>\n<p>And for fast codding I created file with different extension mocks:</p>\n<pre><code>object FastMock {\n\n    fun extension() = mockkStatic(&quot;myproject.extension.ExtensionUtils&quot;)\n\n    fun listExtension() = mockkStatic(&quot;myproject.extension.ListExtensionUtils&quot;)\n\n}\n</code></pre>\n<p>In test call this:</p>\n<pre><code>FastMock.listExtension()\nevery { itemList.move(from, to) } returns Unit\n</code></pre>\n"}], "owner": {"reputation": 1361, "user_id": 7527624, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/2bbc57066ad37a5876653d8e933ad924?s=128&d=identicon&r=PG&f=1", "display_name": "Romper", "link": "https://stackoverflow.com/users/7527624/romper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9470, "favorite_count": 2, "answer_count": 4, "score": 17, "last_activity_date": 1610369773, "creation_date": 1496729512, "question_id": 44382540, "link": "https://stackoverflow.com/questions/44382540/mocking-extension-function-in-kotlin", "title": "Mocking extension function in Kotlin", "body": "<p>How to mock Kotlin extension function using Mockito or PowerMock in tests? Since they are resolved statically should they be tested as static method calls or as non static?</p>\n"}, {"tags": ["android", "android-studio", "data-binding", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5972, "user_id": 261363, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9965204e5fcfc7437ad7c7a1039df909?s=128&d=identicon&r=PG", "display_name": "Calin", "link": "https://stackoverflow.com/users/261363/calin"}, "is_accepted": false, "score": 2, "last_activity_date": 1496738571, "creation_date": 1496738571, "answer_id": 44385308, "question_id": 44382000, "link": "https://stackoverflow.com/questions/44382000/android-studio-2-3-2-and-kotlin-1-1-2-4-data-binding/44385308#44385308", "title": "Android Studio 2.3.2 and Kotlin 1.1.2-4 + Data Binding", "body": "<p>Unfortunately this is a known bug, </p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-18279\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-18279</a>\n<a href=\"https://issuetracker.google.com/issues/62324689\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/62324689</a></p>\n\n<p>the work around, as you found out, is to downgrade to kotlin 1.1.2-3</p>\n"}, {"comments": [{"owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "edited": false, "score": 0, "creation_date": 1496818156, "post_id": 44403569, "comment_id": 75809920, "body": "I will wait for release don&#39;t want to use alpha version in production"}], "tags": [], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "is_accepted": false, "score": 0, "last_activity_date": 1496810003, "creation_date": 1496810003, "answer_id": 44403569, "question_id": 44382000, "link": "https://stackoverflow.com/questions/44382000/android-studio-2-3-2-and-kotlin-1-1-2-4-data-binding/44403569#44403569", "title": "Android Studio 2.3.2 and Kotlin 1.1.2-4 + Data Binding", "body": "<p>It is a bug, but you can download Android Studio 3.0 Canary 3 and update your Android Gradle Plugin to <code>3.0.0-alpha3</code> and it's fixed.</p>\n"}, {"tags": [], "owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "is_accepted": false, "score": 1, "last_activity_date": 1497357693, "creation_date": 1497357693, "answer_id": 44521855, "question_id": 44382000, "link": "https://stackoverflow.com/questions/44382000/android-studio-2-3-2-and-kotlin-1-1-2-4-data-binding/44521855#44521855", "title": "Android Studio 2.3.2 and Kotlin 1.1.2-4 + Data Binding", "body": "<p>Finally fixed in version 1.1.2-5 Thanks to JetBrains!</p>\n"}], "owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1497357693, "creation_date": 1496727054, "question_id": 44382000, "link": "https://stackoverflow.com/questions/44382000/android-studio-2-3-2-and-kotlin-1-1-2-4-data-binding", "title": "Android Studio 2.3.2 and Kotlin 1.1.2-4 + Data Binding", "body": "<p>I have issue in Android Studio 2.3.2 when trying to use Kotlin 1.1.2-4 and Data Binding.</p>\n\n<p>Here is my gradle files:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<hr>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.3\"\n    defaultConfig {\n        applicationId \"my.app.kotlin.databinding\"\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n\n    // Data binding compiler for kotlin\n    kapt 'com.android.databinding:compiler:2.3.2'\n\n    //support libraries\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    // std lib for Kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    testCompile 'junit:junit:4.12'\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>When I try to compile the project it gives me this error:</p>\n\n<pre><code>* Exception is:\norg.gradle.api.CircularReferenceException: Circular dependency between the following tasks:\n:app:compileReleaseKotlin\n\\--- :app:kaptReleaseKotlin\n     \\--- :app:compileReleaseKotlin (*)\n\n(*) - details omitted (listed previously)\n\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.onOrderingCycle(DefaultTaskExecutionPlan.java:445)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.determineExecutionPlan(DefaultTaskExecutionPlan.java:287)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.ensurePopulated(DefaultTaskGraphExecuter.java:202)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:109)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n        at org.gradle.initialization.DefaultGradleLauncher$3.execute(DefaultGradleLauncher.java:196)\n        at org.gradle.initialization.DefaultGradleLauncher$3.execute(DefaultGradleLauncher.java:193)\n        at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:56)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:193)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:119)\n        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:102)\n        at org.gradle.launcher.exec.GradleBuildController.run(GradleBuildController.java:71)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:49)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:44)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:29)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:47)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n        at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\n\n\nBUILD FAILED\n</code></pre>\n\n<p>If I switch back to version 1.1.2-3 everything works well and compiling without any issue.</p>\n\n<p>What I missed? Why it doesn't work with version 1.1.2-4?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 722, "user_id": 3142342, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000973086717/picture?type=large", "display_name": "Rahul Ahuja", "link": "https://stackoverflow.com/users/3142342/rahul-ahuja"}, "edited": false, "score": 2, "creation_date": 1496726451, "post_id": 44381791, "comment_id": 75763929, "body": "you can initialize it to 0 initially."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496755247, "post_id": 44381791, "comment_id": 75782103, "body": "see:  <a href=\"https://stackoverflow.com/a/44206094/3679676\">stackoverflow.com/a/44206094/3679676</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2379, "user_id": 519035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f372079010c5f7b9728c0e5c5635f9c7?s=128&d=identicon&r=PG&f=1", "display_name": "AbstractVoid", "link": "https://stackoverflow.com/users/519035/abstractvoid"}, "edited": false, "score": 2, "creation_date": 1550662746, "post_id": 44386513, "comment_id": 96349291, "body": "Cool, <code>var count: Int by Delegates.notNull&lt;Int&gt;()</code> solves the problem of having <code>@ ConfigurationProperties</code> class in Spring that gets primitive values from properties file, without necessity to provide static default value."}, {"owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1597411530, "post_id": 44386513, "comment_id": 112131648, "body": "What solution do you see when you need to check whether it was initialized already. With <code>lateinit</code> you could do <code>::count.isInitialized</code>. With <code>Delegates.notNull</code> you would have to catch the exception which is bad. Is there another way including checking for initialization?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1597909866, "post_id": 44386513, "comment_id": 112287513, "body": "@Vampire If you think there are cases where <code>count</code> could be uninitialized then make it nullable. If there is a guarantee that <code>count</code> will be initialized before its uses then only use <code>lateinit</code>. For example, initializing it in constructor will make sure of its initialization."}, {"owner": {"reputation": 454, "user_id": 3410835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NRX1V.jpg?s=128&g=1", "display_name": "K Pradeep Kumar Reddy", "link": "https://stackoverflow.com/users/3410835/k-pradeep-kumar-reddy"}, "edited": false, "score": 0, "creation_date": 1600533287, "post_id": 44386513, "comment_id": 113120749, "body": "What is the speciality of lazy function ?"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 69, "last_activity_date": 1542486422, "last_edit_date": 1542486422, "creation_date": 1496741977, "answer_id": 44386513, "question_id": 44381791, "link": "https://stackoverflow.com/questions/44381791/lateinit-modifier-is-not-allowed-on-primitive-type-properties-in-kotlin/44386513#44386513", "title": "lateinit modifier is not allowed on primitive type properties in Kotlin", "body": "<p>There are several ways to resolve this issue. </p>\n\n<p>You can Initialise it with default value (e.i <code>0</code> or <code>-1</code> or whatever) and then initialise it whenever your logic says. </p>\n\n<p>Or tell compiler that count will be initialised later in this code by using <code>Delegates.notNull</code> check <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/not-null.html\" rel=\"noreferrer\">notNull</a>. </p>\n\n<pre><code>var count: Int by Delegates.notNull&lt;Int&gt;()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    // You can not call `Int.inc()` in onCreate()` function until `count` is initialised.\n    // count.inc()\n    // **initialise count** \n}\n</code></pre>\n\n<p>And if you need count value on demand (if not necessary to initialise in <code>onCreate</code>), you can use <code>lazy</code> function. Use this only if you have an intensive (Some calculation/Inflating a layout etc) task that you want to do <code>on demand</code>, Not to just assign a value.</p>\n\n<pre><code>var count:Int by lazy {\n    // initialise\n}\n</code></pre>\n\n<p>Now you can decide what to use.</p>\n\n<p>I hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 10, "creation_date": 1515216655, "post_id": 44387560, "comment_id": 83226064, "body": "Especially with the release of Kotlin 1.2 and the introduction of <code>isInitialized</code> it makes a lot of sense to leave a property uninitialized - and maybe 0 and -1 are both legal values after the initialization?"}], "tags": [], "owner": {"reputation": 148157, "user_id": 35364, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f11512869fe2f8d87a2f2b687b76686c?s=128&d=identicon&r=PG", "display_name": "hasen", "link": "https://stackoverflow.com/users/35364/hasen"}, "is_accepted": false, "score": -17, "last_activity_date": 1496744931, "creation_date": 1496744931, "answer_id": 44387560, "question_id": 44381791, "link": "https://stackoverflow.com/questions/44381791/lateinit-modifier-is-not-allowed-on-primitive-type-properties-in-kotlin/44387560#44387560", "title": "lateinit modifier is not allowed on primitive type properties in Kotlin", "body": "<p>There's no reason to leave it uninitialized. Just initialize it to 0 or -1.</p>\n\n<p><code>lateinit</code> is for non-null object references that can't easily be initialized in the class body definition.</p>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21044, "favorite_count": 4, "accepted_answer_id": 44386513, "answer_count": 2, "score": 43, "last_activity_date": 1542486422, "creation_date": 1496725857, "question_id": 44381791, "link": "https://stackoverflow.com/questions/44381791/lateinit-modifier-is-not-allowed-on-primitive-type-properties-in-kotlin", "title": "lateinit modifier is not allowed on primitive type properties in Kotlin", "body": "<p>I am defining like a instance variable in <code>kotlin</code> and want to initialize it <code>onCreate</code> method of an <code>activity</code>. </p>\n\n<pre><code>var count: Int\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    count.inc()\n}\n</code></pre>\n\n<p>Here I am getting a below error on count variable. </p>\n\n<blockquote>\n  <p>Property must be initialized or be abstract in Kotlin</p>\n</blockquote>\n\n<p>Well, I read this thread <a href=\"https://stackoverflow.com/questions/33849811/property-must-be-initialized-or-be-abstract\">Property must be initialized or be abstract</a> and tried same but again I am getting a below error.</p>\n\n<blockquote>\n  <p>lateinit modifier is not allowed on primitive type properties</p>\n</blockquote>\n\n<pre><code>lateinit var count: Int\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    count.inc()\n}\n</code></pre>\n\n<p>Is there any way to do this in <code>Kotlin</code> ?</p>\n"}, {"tags": ["android", "kotlin", "live-templates"], "comments": [{"owner": {"reputation": 10162, "user_id": 430720, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/028694798d002eba1e272107640656ee?s=128&d=identicon&r=PG", "display_name": "Jaguar", "link": "https://stackoverflow.com/users/430720/jaguar"}, "edited": false, "score": 0, "creation_date": 1511318410, "post_id": 44381348, "comment_id": 81806760, "body": "Accepted answer as of writing this comment is not the best way to reuse templates."}, {"owner": {"reputation": 628, "user_id": 5164741, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-9A02auSc6xw/AAAAAAAAAAI/AAAAAAAAAFk/EUivJBw3bIg/photo.jpg?sz=128", "display_name": "Ihor Klimov", "link": "https://stackoverflow.com/users/5164741/ihor-klimov"}, "edited": false, "score": 0, "creation_date": 1512482386, "post_id": 44381348, "comment_id": 82268917, "body": "Seems like Android Studio&#39;s Kotlin &quot;out-of-the-box&quot; support is still in development"}, {"owner": {"reputation": 1927, "user_id": 4540114, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6SPDR.jpg?s=128&g=1", "display_name": "Tobias Uhmann", "link": "https://stackoverflow.com/users/4540114/tobias-uhmann"}, "edited": false, "score": 1, "creation_date": 1526115527, "post_id": 44381348, "comment_id": 87625373, "body": "Just created the templates as described by <a href=\"https://stackoverflow.com/a/46152625/4540114\">Leo Droidcoder</a> (@Leo Droidcoder Thanks!) and uploaded them to <a href=\"https://github.com/TobiasUhmann/android-studio-log-templates-for-kotlin\" rel=\"nofollow noreferrer\">Github</a>. Simply download the .jar and import it in Android Studio via &#39;File &gt; Import Settings...&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 2615, "user_id": 3535408, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/289ea239b6ee021a1789c400532aa7ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mackovich", "link": "https://stackoverflow.com/users/3535408/mackovich"}, "edited": false, "score": 0, "creation_date": 1568545190, "post_id": 44382133, "comment_id": 102301025, "body": "Excellent and clear explanations. However, whatever template I add under kotlin, never does Android Studio make it work for me as it would with Java. Indeed, whenever I start writing <code>log</code> it suggests logarithm functions... though, there are no templates for those. I am running Android Studio 3.5. Thanks for the help ! I have tried with different names, no suggestions at all. And I also tried by restarting AS."}], "tags": [], "owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "is_accepted": true, "score": 19, "last_activity_date": 1496728279, "last_edit_date": 1496728279, "creation_date": 1496727772, "answer_id": 44382133, "question_id": 44381348, "link": "https://stackoverflow.com/questions/44381348/live-template-not-working-in-kotlin/44382133#44382133", "title": "Live Template not working in Kotlin", "body": "<p>Yet not added log template in <strong>Kotlin Live templates section</strong> in Android Studio.</p>\n\n<p><strong>Settings -> Editor -> Live Templates -> Kotlin</strong> for <strong>kotlin</strong> templates.</p>\n\n<p><a href=\"https://i.stack.imgur.com/c3amd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c3amd.png\" alt=\"kotlin templates\"></a></p>\n\n<p><strong>Settings -> Editor -> Live Templates -> AndroidLog</strong> for <strong>AndroidLog</strong>  templates</p>\n\n<p><a href=\"https://i.stack.imgur.com/uoSYH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uoSYH.png\" alt=\"AndroidLog  templates\"></a>.</p>\n\n<p><em>So you can't get the same AndroidLog templates in Kotlin code.</em></p>\n\n<p>So now <strong>Question</strong> is <em>How to use same Log Functions using templates in Kotlin</em>?</p>\n\n<p><strong>Ans:</strong> You can add same Log templates (AndroidLog Templates) in <strong>Kotlin Templates section</strong> in Android studio as below example.</p>\n\n<p><a href=\"https://i.stack.imgur.com/k3iDR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k3iDR.png\" alt=\"Kotlin Templates section\"></a></p>\n\n<p>Then It will be available in your Kotlin code!</p>\n\n<p><a href=\"https://i.stack.imgur.com/QdTOU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QdTOU.png\" alt=\"Kotlin loge\"></a></p>\n\n<p>I hope in this way you can get an advantage of Log functions templates in Kotlin. </p>\n"}, {"comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 1, "creation_date": 1505130007, "post_id": 46152625, "comment_id": 79271176, "body": "Thanks @Leo for sharing a new solution. As you said, It is much simpler."}], "tags": [], "owner": {"reputation": 11742, "user_id": 5730321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6yX7D.jpg?s=128&g=1", "display_name": "Leo Droidcoder", "link": "https://stackoverflow.com/users/5730321/leo-droidcoder"}, "is_accepted": false, "score": 36, "last_activity_date": 1526654117, "last_edit_date": 1526654117, "creation_date": 1505123055, "answer_id": 46152625, "question_id": 44381348, "link": "https://stackoverflow.com/questions/44381348/live-template-not-working-in-kotlin/46152625#46152625", "title": "Live Template not working in Kotlin", "body": "<p>Here is the step-by-step guide:</p>\n\n<p><strong>Firstly</strong>, Copy and paste AndroidLog templates to Kotlin (Just select them and use CMD+C, CMD+V (or Ctrl+C, Ctrl+V)<br>\n<strong>Secondly</strong>, You have to adjust them manually:   </p>\n\n<ol>\n<li><strong>logd (loge, logv and others)</strong> \nSelect the logd item and press \"Edit variables\" \n<a href=\"https://i.stack.imgur.com/WIkme.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WIkme.jpg\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>Change expression to: kotlinMethodName()\n<a href=\"https://i.stack.imgur.com/UrBSM.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UrBSM.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Also, remove <code>;</code> from the end of the template, as you don't need it in Kotlin.</p>\n\n<p>Now your method name will be shown correctly</p>\n\n<ol start=\"2\">\n<li><strong>logt</strong></li>\n</ol>\n\n<p>This one is a bit trickier.<br>\n<strong>Solution 1: TAG = class name.</strong></p>\n\n<p>Template text :</p>\n\n<pre><code>private val TAG = \"$className$\"\n</code></pre>\n\n<p>Edit variables -> Expression:</p>\n\n<pre><code>groovyScript(\"_1.take(Math.min(23, _1.length()));\", kotlinClassName())\n</code></pre>\n\n<p><strong>Solution 2: TAG = file name</strong> (can be used inside Companion)</p>\n\n<p>Template text :</p>\n\n<pre><code>private const val TAG = \"$className$\"\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>companion object {\n    private const val TAG = \"$className$\"\n}\n</code></pre>\n\n<p>Edit variables -> Expression:</p>\n\n<pre><code>groovyScript(\"_1.take(Math.min(23, _1.length()));\", fileNameWithoutExtension())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10162, "user_id": 430720, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/028694798d002eba1e272107640656ee?s=128&d=identicon&r=PG", "display_name": "Jaguar", "link": "https://stackoverflow.com/users/430720/jaguar"}, "is_accepted": false, "score": 13, "last_activity_date": 1511212847, "last_edit_date": 1511212847, "creation_date": 1511212511, "answer_id": 47401182, "question_id": 44381348, "link": "https://stackoverflow.com/questions/44381348/live-template-not-working-in-kotlin/47401182#47401182", "title": "Live Template not working in Kotlin", "body": "<p>You don't need to copy paste anything as mentioned in the other answers. Locate the <strong>\"Applicable in *\"</strong> text in the <strong>Live Templates</strong> section in Android Studio - clicking on \"Change\" button gives a list of all scopes. Choose Kotlin (or one of it's child nodes) and apply. Note that some statements from Java will not work in Kotlin (like the ones using static keyword) - It's better to create a new template for those, rather than editing the existing one.</p>\n\n<p><a href=\"https://i.stack.imgur.com/43O2k.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/43O2k.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 12288, "user_id": 5699956, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8f8a27337886706b303e88cf00edb24e?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/5699956/max"}, "is_accepted": false, "score": 7, "last_activity_date": 1514893590, "creation_date": 1514893590, "answer_id": 48060400, "question_id": 44381348, "link": "https://stackoverflow.com/questions/44381348/live-template-not-working-in-kotlin/48060400#48060400", "title": "Live Template not working in Kotlin", "body": "<p><a href=\"https://github.com/kirtan403/android-studio-live-templates\" rel=\"noreferrer\">Here</a> is the repository which contains all the templates for Android-Kotlin.</p>\n\n<p>All you need to do this is download the repository, copy the <a href=\"https://github.com/kirtan403/android-studio-live-templates/tree/master/templates\" rel=\"noreferrer\">templates</a> directory and paste in your Android Studio config folder.</p>\n\n<p>The config folder for your Android Studio can be found at</p>\n\n<pre><code>Windows: C:\\Users\\%userName%\\.AndroidStudio&lt;version&gt;\\config\\templates\nLinux: ~AndroidStudio&lt;version&gt;/config/templates\nmacOS: ~/Library/Preferences/AndroidStudio&lt;version&gt;/templates\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "is_accepted": false, "score": 0, "last_activity_date": 1541697592, "creation_date": 1541697592, "answer_id": 53213009, "question_id": 44381348, "link": "https://stackoverflow.com/questions/44381348/live-template-not-working-in-kotlin/53213009#53213009", "title": "Live Template not working in Kotlin", "body": "<p>This is the combination of all good answers by @pRaNaY @Leo and @Jaguar with <strong>bonus</strong> of TAG-free and variable-ready usage (no need to type \"${}\")</p>\n\n<p><strong>Template text:</strong> android.util.Log.d(\"$className$\", \"$methodName$  $$$contents$\")</p>\n\n<p><strong>Applicable in</strong> Kotlin: top-level, statement, class, expression</p>\n\n<p><strong>variable expressions</strong> can be found in dropdown menu</p>\n\n<p><a href=\"https://i.stack.imgur.com/ratxf.png\" rel=\"nofollow noreferrer\">here you can see whole picture</a></p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 4060580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3JTx.png?s=128&g=1", "display_name": "Falgee", "link": "https://stackoverflow.com/users/4060580/falgee"}, "is_accepted": false, "score": 0, "last_activity_date": 1545037528, "creation_date": 1545037528, "answer_id": 53811895, "question_id": 44381348, "link": "https://stackoverflow.com/questions/44381348/live-template-not-working-in-kotlin/53811895#53811895", "title": "Live Template not working in Kotlin", "body": "<p>For logt the above two answers works but additionally need to add \"define\" as \"class\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/bgG3I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bgG3I.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5844, "favorite_count": 6, "accepted_answer_id": 44382133, "answer_count": 6, "score": 30, "last_activity_date": 1545037528, "creation_date": 1496722783, "last_edit_date": 1592644375, "question_id": 44381348, "link": "https://stackoverflow.com/questions/44381348/live-template-not-working-in-kotlin", "title": "Live Template not working in Kotlin", "body": "<p>Hope you have worked with Live Templates which is given by Android by default.</p>\n<p>Like:</p>\n<pre><code>Generate debug log statement: &quot;logd&quot;+TAB\nGenerate error log statement: &quot;loge&quot;+TAB\nGenerate info log statement: &quot;logi&quot;+TAB\nGenerate TAG declaration: &quot;logt&quot;+TAB\nGenerate parameter logging: &quot;logm&quot;+TAB\nGenerate method return log: &quot;logr&quot;+TAB\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SeU8z.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SeU8z.gif\" alt=\"enter image description here\" /></a></p>\n<h2>Which it is not available in <strong>KOTLIN</strong>?</h2>\n<p>Is it not available in <strong>Android Studio 3.0 Canary Version</strong>?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 0, "creation_date": 1611699135, "post_id": 44381002, "comment_id": 116534573, "body": "It should be pointed out that the assertion <code>sometimes the receiver you&#39;re trying to invoke a method on is null (so that won&#39;t work).</code> is not true - you <i>can</i> have an extension function on a nullable type and it&#39;s no problem that the receiver is null."}], "answers": [{"comments": [{"owner": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 1, "creation_date": 1496721851, "post_id": 44381060, "comment_id": 75762653, "body": "It&#39;s <code>let</code> that I&#39;m looking for thanks.  I&#39;m aware of the null-safe operators."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 0, "creation_date": 1496721956, "post_id": 44381060, "comment_id": 75762686, "body": "Kotlin has a bunch of such functions, like <code>let</code>, <code>apply</code>, <code>run</code>, <code>also</code>, <code>use</code>, <code>with</code>. Just mentioning them so you won&#39;t be lost searching for another of them."}, {"owner": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 0, "creation_date": 1496722122, "post_id": 44381060, "comment_id": 75762726, "body": "Thanks @glee8e - I will have to spend some time just reading the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/index.html\" rel=\"nofollow noreferrer\">standard library</a>"}], "tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": true, "score": 17, "last_activity_date": 1496726202, "last_edit_date": 1496726202, "creation_date": 1496720566, "answer_id": 44381060, "question_id": 44381002, "link": "https://stackoverflow.com/questions/44381002/kotlin-equivalent-of-optional-map-and-a-method-reference/44381060#44381060", "title": "Kotlin equivalent of Optional.map and a method reference", "body": "<p>We use <a href=\"http://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"noreferrer\">safe call operator</a>:</p>\n\n<pre><code>val foo: Foo? = ...\nfoo?.toA()?.toB()\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>foo?.let(this::transform1)?.let(this::transform2)\n</code></pre>\n\n<p>Kotlin emphasis on null safety. There is <a href=\"http://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">an entire chapter</a> in its manual describing related technics.</p>\n"}], "owner": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4180, "favorite_count": 0, "accepted_answer_id": 44381060, "answer_count": 1, "score": 6, "last_activity_date": 1496726202, "creation_date": 1496720127, "question_id": 44381002, "link": "https://stackoverflow.com/questions/44381002/kotlin-equivalent-of-optional-map-and-a-method-reference", "title": "Kotlin equivalent of Optional.map and a method reference", "body": "<h2>The Java</h2>\n\n<p>Consider the following Java:</p>\n\n<pre><code>private void example() {\n  Optional&lt;String&gt; foo = ...\n  Optional&lt;String&gt; bar = \n      foo.map(this::transform1)\n          .map(this::transform2)\n}\n\nprivate String transform1(String s) {\n  return s + \"!\";\n}\n\nprivate String transform2(String s) {\n  return \"@\" + s;\n}\n</code></pre>\n\n<p>Note that the <code>transform</code> methods accept non-Optional values.</p>\n\n<h2>Question</h2>\n\n<p><em>Does Kotlin have a built-in mechanism to achieve the same thing when using its nullable/non-nullabe types?</em></p>\n\n<h2>The first attempt</h2>\n\n<p>I managed to achieve this effect with the following:</p>\n\n<pre><code>fun &lt;A, B&gt; nullMap(a: A?, mapper: (a: A) -&gt; B?): B? =\n  if (a != null) mapper.invoke(a) else null\n\nfun example() {\n  val foo: String? = \"Space cookies\"\n  val bar1: String? = nullMap(foo, Example::transform1)\n  val bar2: String? = nullMap(bar1, Example::transform2)\n}\n\nfun transform(s: String) = s + \"!\"\nfun transform2(s: String) = \"@\" + s\n</code></pre>\n\n<p>(Again, we note that for the <code>transform</code> methods, <code>s</code> is a non-nullable String.)</p>\n\n<p>So, my question stated another way is: Does a <code>nullMap</code> equivalent already exist in Kotlin's standard library? And/or: is there a different standard way of doing this?</p>\n\n<p>Finally, can the visually cleaner <em>chaining</em> approach be achieved in Kotlin, rather than either separate assignments (above) or nested function calls?  For a moment I considered that you could add <code>nullMap</code> as an extension method on <code>Any</code>, but sometimes the receiver you're trying to invoke a method on is <code>null</code> (so that won't work).</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "edited": false, "score": 0, "creation_date": 1496697187, "post_id": 44377516, "comment_id": 75756453, "body": "I&#39;m not sure but I guess you use the wrong <code>addView</code> method. Try the one from ViewPager -&gt; <a href=\"https://developer.android.com/reference/android/support/v4/view/ViewPager.html#addView%28android.view.View%2C%20int%2C%20android.view.ViewGroup.LayoutParams%29\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/v4/view/&hellip;</a>"}, {"owner": {"reputation": 443, "user_id": 4206907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oZScB.jpg?s=128&g=1", "display_name": "SteedsOfWar", "link": "https://stackoverflow.com/users/4206907/steedsofwar"}, "reply_to_user": {"reputation": 2439, "user_id": 1016472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1331172495/picture?type=large", "display_name": "Ralph Bergmann", "link": "https://stackoverflow.com/users/1016472/ralph-bergmann"}, "edited": false, "score": 0, "creation_date": 1496697722, "post_id": 44377516, "comment_id": 75756653, "body": "@RalphBergmann just tried it: val viewPager = container as ViewPager             viewPager.addView(rootLayout, 0, ViewGroup.LayoutParams(ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT)) - Didn&#39;t make a difference."}, {"owner": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "edited": false, "score": 0, "creation_date": 1496699022, "post_id": 44377516, "comment_id": 75757140, "body": "Could you omit that line where you&#39;re setting layout params and use <code>container.addView(rootLayout, 0)</code> instead"}, {"owner": {"reputation": 443, "user_id": 4206907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oZScB.jpg?s=128&g=1", "display_name": "SteedsOfWar", "link": "https://stackoverflow.com/users/4206907/steedsofwar"}, "reply_to_user": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "edited": false, "score": 0, "creation_date": 1496699165, "post_id": 44377516, "comment_id": 75757209, "body": "@KingsleyAdio sure, just tried it -&gt; val viewPager = container as ViewPager             viewPager.addView(rootLayout, 0)  - Made no difference."}, {"owner": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "edited": false, "score": 0, "creation_date": 1496703499, "post_id": 44377516, "comment_id": 75758680, "body": "@WolfBane Found your bug. See my answer below"}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 0, "creation_date": 1496704601, "post_id": 44377516, "comment_id": 75759002, "body": "You&#39;re not setting LayoutParams for some of the views, including the ViewPager which should be MATCH_PARENT for both width and height."}], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 4206907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oZScB.jpg?s=128&g=1", "display_name": "SteedsOfWar", "link": "https://stackoverflow.com/users/4206907/steedsofwar"}, "edited": false, "score": 0, "creation_date": 1496746784, "post_id": 44378923, "comment_id": 75775887, "body": "You are a star!  This solved the problem.  Once i changed the code to set the view pager layout params, and tweaked the positioning a bit, it works like a charm."}, {"owner": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "reply_to_user": {"reputation": 443, "user_id": 4206907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oZScB.jpg?s=128&g=1", "display_name": "SteedsOfWar", "link": "https://stackoverflow.com/users/4206907/steedsofwar"}, "edited": false, "score": 0, "creation_date": 1496826119, "post_id": 44378923, "comment_id": 75815038, "body": "Glad it helped :)"}], "tags": [], "owner": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "is_accepted": true, "score": 1, "last_activity_date": 1496703468, "creation_date": 1496703468, "answer_id": 44378923, "question_id": 44377516, "link": "https://stackoverflow.com/questions/44377516/views-are-not-displayed-in-the-viewpager/44378923#44378923", "title": "Views are not displayed in the ViewPager", "body": "<p>Looking at your full activity code. It appears you are setting a <code>CoordinatorLayout</code> layout params on your view pager, but you are forgetting to set the behavior, seeing that you also have an <code>AppBarLayout</code> in the hierarchy. Hence, the view pager content is being drawn behind the tab layout. You can verify this by using the layout inspector in AS.</p>\n\n<p>Doing the following should fix your issue</p>\n\n<pre><code>val pagerParams = CoordinatorLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT)\npagerParams.behavior = AppBarLayout.ScrollingViewBehavior()\nviewPager.layoutParams = pagerParams\n</code></pre>\n\n<p>You could also take advantage of Kotlin's <code>apply</code> function</p>\n\n<pre><code>viewPager.layoutParams = CoordinatorLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT).apply {\n    behavior = AppBarLayout.ScrollingViewBehavior()\n}\n</code></pre>\n\n<p>Hope that helps</p>\n"}], "owner": {"reputation": 443, "user_id": 4206907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oZScB.jpg?s=128&g=1", "display_name": "SteedsOfWar", "link": "https://stackoverflow.com/users/4206907/steedsofwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 1, "accepted_answer_id": 44378923, "answer_count": 1, "score": 1, "last_activity_date": 1496703468, "creation_date": 1496696005, "last_edit_date": 1496700921, "question_id": 44377516, "link": "https://stackoverflow.com/questions/44377516/views-are-not-displayed-in-the-viewpager", "title": "Views are not displayed in the ViewPager", "body": "<p>I have a simple ViewPager backed with a PagerAdapter, but for the views i instantiate never display in the view pager.</p>\n\n<p>I have a requirement to develop the UI purely in code.  So i can't inflate an xml layout in the instantiateItem method.  Unfortunately almost all the examples i've seen are inflating xml, which obviously doesn't work.</p>\n\n<p>So i have an PagerAdapter, (i do NOT want to use fragments) with a ViewPager as below.  The adapter takes some data </p>\n\n<pre><code>val viewAdapter = ViewPagerAdapter(data)\nviewPager.adapter = viewAdapter\n</code></pre>\n\n<p>ViewPagerAdapter looks like this:</p>\n\n<pre><code>inner class ViewPagerAdapter(val data: List&lt;Item&gt;) : PagerAdapter() {\n    override fun isViewFromObject(view: View?, obj: Any?): Boolean {\n        return obj == view\n    }\n\n    override fun getCount(): Int {\n        return data.count()\n    }\n\n    override fun instantiateItem(container: ViewGroup?, position: Int): Any {\n        val rootLayout = LinearLayout(container?.context)\n        rootLayout.layoutParams = rootLayout.setDimensions(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n        rootLayout.orientation = LinearLayout.HORIZONTAL\n\n        val title = Button(container?.context)\n        title.text = \"Title\"\n        title.textSize = 13f\n        title.setTextColor(Color.WHITE)\n        rootLayout.addView(title)\n\n        val subtitle = Button(container?.context)\n        subtitle.text = \"Subtitle\"\n        subtitle.textSize = 13f\n        subtitle.setTextColor(Color.WHITE)\n        rootLayout.addView(subtitle)\n\n        (container as ViewPager).addView(rootLayout)\n        return rootLayout\n    }\n\n    override fun getPageTitle(position: Int): CharSequence {\n        return data[position].title\n    }\n\n    override fun destroyItem(container: ViewGroup?, position: Int, obj: Any?) {\n        if (obj == null) return\n           container?.removeView(obj as View?)\n        }\n    }\n}\n</code></pre>\n\n<p>For the life of me i can't see what's wrong with this code.  I've tried changing the layouts, textview to a button but nothing works.</p>\n\n<p>I'm hoping someone can point me in the right direction?</p>\n\n<p>Thanks!</p>\n\n<p>Update:  </p>\n\n<p>I've created a simple app to prove that i'm not doing anything silly.  Should be able to copy and paste this and run it, provided you've added the relevant libs.</p>\n\n<pre><code>import android.graphics.Color\nimport android.os.Bundle\nimport android.support.design.widget.AppBarLayout\nimport android.support.design.widget.CoordinatorLayout\nimport android.support.design.widget.TabLayout\nimport android.support.v4.view.PagerAdapter\nimport android.support.v4.view.ViewPager\nimport android.support.v7.app.AppCompatActivity\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.Button\nimport android.widget.LinearLayout\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    val rootLayout = CoordinatorLayout(this)\n    rootLayout.layoutParams = CoordinatorLayout.LayoutParams(CoordinatorLayout.LayoutParams.MATCH_PARENT, CoordinatorLayout.LayoutParams.MATCH_PARENT)\n\n    val appBarLayout = AppBarLayout(this)\n    rootLayout.addView(appBarLayout)\n    appBarLayout.layoutParams = CoordinatorLayout.LayoutParams(CoordinatorLayout.LayoutParams.MATCH_PARENT, CoordinatorLayout.LayoutParams.WRAP_CONTENT)\n\n    val tabLayout = TabLayout(this)\n\n    tabLayout.tabMode = TabLayout.MODE_FIXED\n    tabLayout.tabGravity = TabLayout.GRAVITY_FILL\n    appBarLayout.addView(tabLayout)\n    tabLayout.layoutParams = AppBarLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n\n    //add viewpager\n    val viewPager = ViewPager(this)\n    viewPager.id = 11122\n\n    val viewAdapter = ViewPagerAdapter()\n    viewPager.adapter = viewAdapter\n\n    rootLayout.addView(viewPager)\n    viewPager.layoutParams = CoordinatorLayout.LayoutParams(CoordinatorLayout.LayoutParams.MATCH_PARENT, CoordinatorLayout.LayoutParams.MATCH_PARENT)\n    tabLayout.setupWithViewPager(viewPager)\n\n    rootLayout.setBackgroundColor(Color.BLACK)\n    setContentView(rootLayout)\n}\n\n\ninner class ViewPagerAdapter : PagerAdapter() {\n\n    override fun isViewFromObject(view: View?, obj: Any?): Boolean {\n        return obj == view\n    }\n\n    override fun getCount(): Int {\n        return 3\n    }\n\n    override fun instantiateItem(container: ViewGroup?, position: Int): Any {\n        val rootLayout = LinearLayout(container?.context)\n        rootLayout.layoutParams = LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n        rootLayout.orientation = LinearLayout.HORIZONTAL\n\n        val title = Button(container?.context)\n        title.text = \"Title\"\n        title.textSize = 13f\n        title.setTextColor(Color.WHITE)\n        rootLayout.addView(title)\n\n        val subtitle = Button(container?.context)\n        subtitle.text = \"Subtitle\"\n        subtitle.textSize = 13f\n        subtitle.setTextColor(Color.WHITE)\n        rootLayout.addView(subtitle)\n\n        val viewPager = container as ViewPager\n        viewPager.addView(rootLayout, 0)\n        return rootLayout\n    }\n\n    override fun getPageTitle(position: Int): CharSequence {\n        return \"Title: $position\"\n    }\n\n    override fun destroyItem(container: ViewGroup?, position: Int, obj: Any?) {\n        if (obj == null) return\n        when (obj) {\n            is ArrayList&lt;*&gt; -&gt; for (item in obj) {\n                container?.removeView(item as View?)\n            }\n            else -&gt; container?.removeView(obj as View?)\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "comments": [{"owner": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "edited": false, "score": 0, "creation_date": 1496698427, "post_id": 44377364, "comment_id": 75756927, "body": "Are you by any chance setting your source version to 1.8. Try taking that out see if it fixes the issue"}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "reply_to_user": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "edited": false, "score": 1, "creation_date": 1496726233, "post_id": 44377364, "comment_id": 75763866, "body": "No I&#39;m not I&#39;m using the 1.8 that&#39;s why it&#39;s so weird"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1496739346, "post_id": 44377364, "comment_id": 75770891, "body": "The Gradle output you&#39;ve posted only contains warnings, not errors. Could please specify &quot;nothing works&quot; more precisely? Maybe related issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-17959\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-17959</a>"}, {"owner": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "edited": false, "score": 0, "creation_date": 1496746341, "post_id": 44377364, "comment_id": 75775613, "body": "@GilGoldzweig As I know those error messages are not actually errors, they are warnings. Do you see anything else in &quot;Messages&quot; tab beside those warnings?"}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 1, "creation_date": 1496747043, "post_id": 44377364, "comment_id": 75776084, "body": "that&#39;s the issue the are errors it doesn&#39;t let me compile on these so called warnings because the error sais fix the warrnings"}, {"owner": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "edited": false, "score": 0, "creation_date": 1496747622, "post_id": 44377364, "comment_id": 75776488, "body": "@GilGoldzweig it&#39;s strange, I&#39;ve just had the same warnings plus error <code>Error:(1, 1) Some error(s) occurred while processing annotations. Please see the error messages above.</code>, and after fixing the error it starts working without fixing any warnings."}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "reply_to_user": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "edited": false, "score": 0, "creation_date": 1496747804, "post_id": 44377364, "comment_id": 75776618, "body": "@VasylGlodan i really don&#39;t know"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 7274877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdf2e9a16b704d8af2def2d5742aaaa?s=128&d=identicon&r=PG&f=1", "display_name": "toteto", "link": "https://stackoverflow.com/users/7274877/toteto"}, "is_accepted": false, "score": 1, "last_activity_date": 1499961497, "creation_date": 1499961497, "answer_id": 45085798, "question_id": 44377364, "link": "https://stackoverflow.com/questions/44377364/android-kotlin-and-room-persistences-library-not-building/45085798#45085798", "title": "Android kotlin and Room Persistences library not building", "body": "<p>Had the same issue and thought that the warning was the issue.</p>\n\n<p>After scrolling a bit up in the Event log I saw that my builds fails when Room checks if my SQL is good.</p>\n\n<p>Please check the log, but i guess Room has hard time converting your </p>\n\n<pre><code>var users :ArrayList&lt;String&gt;\n</code></pre>\n"}], "owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 867, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1499961497, "creation_date": 1496695385, "last_edit_date": 1496726348, "question_id": 44377364, "link": "https://stackoverflow.com/questions/44377364/android-kotlin-and-room-persistences-library-not-building", "title": "Android kotlin and Room Persistences library not building", "body": "<p>I'm trying to use Room with kotlin and nothing works it throws the following:</p>\n\n<pre><code>Supported source version 'RELEASE_7' from annotation processor 'android.arch.lifecycle.LifecycleProcessor' less than -source '1.8'\n\nSupported source version 'RELEASE_7' from annotation processor 'android.arch.persistence.room.RoomProcessor' less than - source '1.8'\n\nThe following options were not recognized by any processor: '[kapt.kotlin.generated]' \n</code></pre>\n\n<p>In my Build.Gradle class, I have the following(Out of order but all the important info is here)</p>\n\n<pre><code>//project build.gradle\next {\n   versions = [\n        support: '25.3.1',\n        dagger     : '2.11',\n        arch_comp  : '1.0.0-alpha1'\n    ]\n}\n//app build.gradle \n\napply plugin: 'kotlin-kapt'\n\n\ncompile \"android.arch.lifecycle:runtime:$rootProject.versions.arch_comp\"\ncompile \"android.arch.lifecycle:extensions:$rootProject.versions.arch_comp\"\nkapt \"android.arch.lifecycle:compiler:$rootProject.versions.arch_comp\"\n\ncompile \"android.arch.persistence.room:runtime:$rootProject.versions.arch_comp\"\ncompile \"android.arch.persistence.room:rxjava2:$rootProject.versions.arch_comp\"\nkapt \"android.arch.persistence.room:compiler:$rootProject.versions.arch_comp\"\n</code></pre>\n\n<p>My module class</p>\n\n<pre><code>@Entity(tableName = \"groups\")\ndata class Group(@ColumnInfo(name = \"group_name\")\n                 var groupName: String = \"\",\n                 @ColumnInfo(name = \"users\")\n                 var users :ArrayList&lt;String&gt; = ArrayList&lt;String&gt;()) {\n\n    @ColumnInfo(name = \"id\")\n    @PrimaryKey(autoGenerate = true)\n    var id: Long = 0\n\n}\n</code></pre>\n\n<p>My Dao class </p>\n\n<pre><code>@Dao\ninterface GroupDao {\n   @Query(\"SELECT * FROM groups\")\n   fun getAll() : LiveData&lt;ArrayList&lt;Group&gt;&gt;\n\n   @Query(\"SELECT * FROM groups WHERE group_name = :p0\")\n   fun getGroupByName(groupName: String) : Group\n\n   //I also did this but with no succsess instade of the above\n   @Query(\"SELECT * FROM groups WHERE group_name = :arg0\")\n   fun getGroupByName(groupName: String) : Group \n}\n</code></pre>\n\n<p>Am i missing something or doing something wrong? </p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1496678471, "post_id": 44372432, "comment_id": 75746853, "body": "There&#39;s an adapter somewhere. In <code>getView()</code>, <code>convertView</code> parameter should be nullable, i. e. <code>convertView: View?</code>. Otherwise Kotlin asserts it is not null."}, {"owner": {"reputation": 619, "user_id": 3324341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Bdxs.jpg?s=128&g=1", "display_name": "Silvestr", "link": "https://stackoverflow.com/users/3324341/silvestr"}, "edited": false, "score": 0, "creation_date": 1496678719, "post_id": 44372432, "comment_id": 75746980, "body": "Use great tool Anko for simpler life)) - <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">github.com/Kotlin/anko</a>"}, {"owner": {"reputation": 619, "user_id": 3324341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Bdxs.jpg?s=128&g=1", "display_name": "Silvestr", "link": "https://stackoverflow.com/users/3324341/silvestr"}, "edited": false, "score": 0, "creation_date": 1496680817, "post_id": 44372432, "comment_id": 75748258, "body": "@Eugene It&#39;s just advise), about your problem - I think you are not import kotlinx plugin(you need to import it in main gradle file and apply in app gradle file, see my answer) correctly or problem was in beta studio and android plugin"}, {"owner": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "edited": false, "score": 1, "creation_date": 1496698229, "post_id": 44372432, "comment_id": 75756844, "body": "The problem is not with this activity. You need to share your adapter, since I suppose it&#39;s the one that owns the convert view"}, {"owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "edited": false, "score": 3, "creation_date": 1512446974, "post_id": 44372432, "comment_id": 82250426, "body": "I&#39;m facing the same issue with a recyclerview, it seems super random, Kotlin can find other views with no problem. Did you find a solution? clean/rebuild doesnt help"}, {"owner": {"reputation": 5005, "user_id": 1550974, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/EH53Y.jpg?s=128&g=1", "display_name": "Khant Thu Linn", "link": "https://stackoverflow.com/users/1550974/khant-thu-linn"}, "edited": false, "score": 0, "creation_date": 1556638125, "post_id": 44372432, "comment_id": 98502087, "body": "Same here. I got issue for recyclerview. I use kotlin extension. If I call in onCreate, it crash but if i call in onViewCreated, it is okay. How shall I solve?"}], "answers": [{"tags": [], "owner": {"reputation": 619, "user_id": 3324341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Bdxs.jpg?s=128&g=1", "display_name": "Silvestr", "link": "https://stackoverflow.com/users/3324341/silvestr"}, "is_accepted": false, "score": -1, "last_activity_date": 1496681080, "last_edit_date": 1496681080, "creation_date": 1496678370, "answer_id": 44372908, "question_id": 44372432, "link": "https://stackoverflow.com/questions/44372432/kotlin-view-variable-is-unexpectedly-null-in-activity-oncreate-method/44372908#44372908", "title": "Kotlin view variable is unexpectedly null in Activity onCreate method", "body": "<p>I think problem is in kotlin-android-extensions, your code looks good, just try to clean project and change grid view id. Also you can read great article about configuring <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">kotlin-android-extensions</a>, this is realy cool tool, you will forget about findViewById. Also please try it in stable version of studio and android plugin and make sure that you import it in main gradle file and apply in app gradle file.</p>\n"}, {"tags": [], "owner": {"reputation": 1002, "user_id": 2967875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e55218f9daf6c7d82aa3050eb05148?s=128&d=identicon&r=PG", "display_name": "zzas11", "link": "https://stackoverflow.com/users/2967875/zzas11"}, "is_accepted": false, "score": 0, "last_activity_date": 1533723638, "creation_date": 1533723638, "answer_id": 51744251, "question_id": 44372432, "link": "https://stackoverflow.com/questions/44372432/kotlin-view-variable-is-unexpectedly-null-in-activity-oncreate-method/51744251#51744251", "title": "Kotlin view variable is unexpectedly null in Activity onCreate method", "body": "<p>Kotlin provide null check using safe call operator. You can use it before accessing the view. <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">Safe Calls</a>. For example, </p>\n\n<pre><code>gridview?.adapter = storyboardAdapter\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1072, "user_id": 6330489, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/831813746924822/picture?type=large", "display_name": "Aziz", "link": "https://stackoverflow.com/users/6330489/aziz"}, "is_accepted": false, "score": 0, "last_activity_date": 1566564283, "creation_date": 1566564283, "answer_id": 57626613, "question_id": 44372432, "link": "https://stackoverflow.com/questions/44372432/kotlin-view-variable-is-unexpectedly-null-in-activity-oncreate-method/57626613#57626613", "title": "Kotlin view variable is unexpectedly null in Activity onCreate method", "body": "<p>The exception seems to be with the null value you are supplying to your storyboardAdapter. As the error line,</p>\n\n<pre><code>Parameter specified as non-null is null\n</code></pre>\n\n<p>The <code>items</code> is somehow null. Check your code. And also try to call <code>setContentView</code> before the array initialization, as I suspect there might have something to do with the <code>applicationContext</code></p>\n"}], "owner": {"reputation": 1895, "user_id": 2852849, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/edecbe40f3a603b2b5f485e15f34b48b?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/2852849/eugene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4925, "favorite_count": 0, "answer_count": 3, "score": 8, "last_activity_date": 1566564283, "creation_date": 1496676833, "question_id": 44372432, "link": "https://stackoverflow.com/questions/44372432/kotlin-view-variable-is-unexpectedly-null-in-activity-oncreate-method", "title": "Kotlin view variable is unexpectedly null in Activity onCreate method", "body": "<p>I have a small Java Android Studio project, and I used the Kotlin converter in Android Studio 3.0 Canary 3 to convert all four source files to Kotlin. I then made some small modifications to get it to compile. I have only one activity with the following code:</p>\n\n<pre><code>package com.ebelinski.soundboard\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.AdapterView\nimport kotlinx.android.synthetic.main.activity_storyboard.gridview;\n\nclass StoryboardActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        val itemManager = ItemManager(applicationContext)\n        val items = itemManager.getItems().toTypedArray&lt;Item&gt;()\n\n        setContentView(R.layout.activity_storyboard)\n        val storyboardAdapter = StoryboardAdapter(this, items)\n        gridview.adapter = storyboardAdapter\n\n        gridview.onItemClickListener = AdapterView.OnItemClickListener { parent, v, position, id -&gt;\n            // todo\n        }\n    }\n\n}\n</code></pre>\n\n<p>When I run this I get the following error:</p>\n\n<pre><code>06-05 10:25:42.758 5668-5668/? E/AndroidRuntime: FATAL EXCEPTION: main\n                                                 Process: com.ebelinski.soundboard, PID: 5668\n                                                 java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter convertView\n                                                     at com.ebelinski.soundboard.StoryboardAdapter.getView(StoryboardAdapter.kt)\n                                                     at android.widget.AbsListView.obtainView(AbsListView.java:2363)\n                                                     at android.widget.GridView.onMeasure(GridView.java:1065)\n                                                     at android.view.View.measure(View.java:19857)\n                                                     at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:715)\n                                                     at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:461)\n                                                     at android.view.View.measure(View.java:19857)\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n                                                     at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n                                                     at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\n                                                     at android.view.View.measure(View.java:19857)\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n                                                     at android.support.v7.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:393)\n                                                     at android.view.View.measure(View.java:19857)\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n                                                     at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n                                                     at android.view.View.measure(View.java:19857)\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n                                                     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)\n                                                     at android.widget.LinearLayout.measureVertical(LinearLayout.java:758)\n                                                     at android.widget.LinearLayout.onMeasure(LinearLayout.java:640)\n                                                     at android.view.View.measure(View.java:19857)\n                                                     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6083)\n                                                     at android.widget.FrameLayout.onMeasure(FrameLayout.java:185)\n                                                     at com.android.internal.policy.DecorView.onMeasure(DecorView.java:689)\n                                                     at android.view.View.measure(View.java:19857)\n                                                     at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2275)\n                                                     at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1366)\n                                                     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1619)\n                                                     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1254)\n                                                     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6337)\n                                                     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:874)\n                                                     at android.view.Choreographer.doCallbacks(Choreographer.java:686)\n                                                     at android.view.Choreographer.doFrame(Choreographer.java:621)\n                                                     at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:860)\n                                                     at android.os.Handler.handleCallback(Handler.java:751)\n                                                     at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                     at android.os.Looper.loop(Looper.java:154)\n                                                     at android.app.ActivityThread.main(ActivityThread.java:6119)\n                                                     at java.lang.reflect.Method.invoke(Native Method)\n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n\n<p>I'm not sure what the problem here is. Clearly <code>gridview</code> is null, but I don't know why. When I comment out the <code>gridview.adapter</code> and <code>gridview.onItemClickListener</code> lines, at least the program doesn't crash. I had the same error message before I used <code>kotlin-android-extensions</code> and defined the variable in question as <code>val gridView = findViewById(R.id.gridview) as GridView</code>. </p>\n\n<p>The corresponding XML file has the following content:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/activity_storyboard\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\"com.ebelinski.soundboard.StoryboardActivity\"&gt;\n\n    &lt;GridView\n        android:id=\"@+id/gridview\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:gravity=\"center\"\n        android:columnWidth=\"100dp\"\n        android:numColumns=\"auto_fit\"\n        android:verticalSpacing=\"24dp\"\n        android:horizontalSpacing=\"10dp\"\n        android:stretchMode=\"spacingWidthUniform\"\n        /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>My original Java code which worked just fine for this class was:</p>\n\n<pre><code>package com.ebelinski.soundboard;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.GridView;\n\npublic class StoryboardActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        ItemManager itemManager = new ItemManager(getApplicationContext());\n        final Item[] items = itemManager.getItems().toArray(new Item[itemManager.getItems().size()]);\n\n        setContentView(R.layout.activity_storyboard);\n        GridView gridView = (GridView)findViewById(R.id.gridview);\n        StoryboardAdapter storyboardAdapter = new StoryboardAdapter(this, items);\n        gridView.setAdapter(storyboardAdapter);\n\n        gridView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            public void onItemClick(AdapterView&lt;?&gt; parent, View v, int position, long id) {\n                // todo\n            }\n        });\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mediarecorder"], "comments": [{"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 1, "creation_date": 1496676315, "post_id": 44372243, "comment_id": 75745644, "body": "Are you asking for RECORD_AUDIO permission at runtime?"}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "reply_to_user": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 0, "creation_date": 1496676611, "post_id": 44372243, "comment_id": 75745835, "body": "yes , that i  included in AndroidManifest file, I checked the same code without Permission too"}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "reply_to_user": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 0, "creation_date": 1496676651, "post_id": 44372243, "comment_id": 75745863, "body": "Same error exist"}, {"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 0, "creation_date": 1496676664, "post_id": 44372243, "comment_id": 75745868, "body": "No, I mean at runtime, not in the manifest file"}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "reply_to_user": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "edited": false, "score": 0, "creation_date": 1496676704, "post_id": 44372243, "comment_id": 75745891, "body": "At the runtime, It does not ask for the permission"}], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "edited": false, "score": 0, "creation_date": 1496677210, "post_id": 44372444, "comment_id": 75746173, "body": "So I do have to add the code for permission for every audio recordin"}], "tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": true, "score": 2, "last_activity_date": 1496676873, "creation_date": 1496676873, "answer_id": 44372444, "question_id": 44372243, "link": "https://stackoverflow.com/questions/44372243/android-code-works-with-api-19-but-not-with-api-24/44372444#44372444", "title": "Android: code works with api 19 but not with api 24", "body": "<p>You must need to ask for RECORD_AUDIO permission at runtime for API level 23 and above.</p>\n\n<p>Check out <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">this</a> link for more information.</p>\n"}], "owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 44372444, "answer_count": 1, "score": 0, "last_activity_date": 1496676873, "creation_date": 1496676113, "last_edit_date": 1496676763, "question_id": 44372243, "link": "https://stackoverflow.com/questions/44372243/android-code-works-with-api-19-but-not-with-api-24", "title": "Android: code works with api 19 but not with api 24", "body": "<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.media.MediaPlayer\nimport android.media.MediaRecorder\nimport android.os.Environment\nimport android.view.View\nimport android.widget.Toast\nimport java.io.IOException\nimport android.widget.ImageButton\n\n\nclass record : AppCompatActivity() {\n\n    var buttonStart: ImageButton? = null\n    var buttonStop: ImageButton? = null\n    var buttonPlayLastRecordAudio: ImageButton? = null\n    var buttonStopPlayingRecording: ImageButton? = null\n    var AudioSavePathInDevice = \"Blesson\"\n    var mediaRecorder: MediaRecorder? = null\n\n\n    var mediaPlayer: MediaPlayer? = null\n\n    public override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_record)\n\n        buttonStart = findViewById(R.id.record) as ImageButton\n        buttonStop = findViewById(R.id.stop) as ImageButton\n        buttonPlayLastRecordAudio = findViewById(R.id.play) as ImageButton\n        buttonStopPlayingRecording= findViewById(R.id.playstop) as ImageButton\n        buttonStop!!.isEnabled = false\n        buttonPlayLastRecordAudio!!.isEnabled = false\n\n\n\n\n        buttonStart!!.setOnClickListener {\n\n\n            AudioSavePathInDevice = Environment.getExternalStorageDirectory().absolutePath + \"/\" +\"Medpro.mp3\"\n\n            MediaRecorderReady()\n\n            try {\n                mediaRecorder!!.prepare()\n                mediaRecorder!!.start()\n            } catch (e: IllegalStateException) {\n                Toast.makeText(this, \"Recording roblem started\",\n                        Toast.LENGTH_LONG).show()\n            }\n\n\n\n            buttonStart!!.isEnabled = false\n            buttonStart!!.visibility = View.INVISIBLE\n            buttonStop!!.visibility = View.VISIBLE\n            buttonStop!!.isEnabled = true\n\n            Toast.makeText(this, \"Recording started\",\n                    Toast.LENGTH_LONG).show()\n\n        }\n            buttonStop!!.setOnClickListener {\n\n                 mediaRecorder!!.stop()\n                 buttonStop!!.isEnabled = false\n                 buttonPlayLastRecordAudio!!.isEnabled = true\n                // buttonStart!!.isEnabled = true\n                 buttonStopPlayingRecording!!.isEnabled = false\n\n                     Toast.makeText(this, \"Recording Completed\",\n                            Toast.LENGTH_LONG).show()\n                 buttonStop!!.visibility = View.INVISIBLE\n                  buttonPlayLastRecordAudio!!.visibility = View.VISIBLE\n\n\n        }\n\n              buttonPlayLastRecordAudio!!.setOnClickListener {\n                  buttonStop!!.isEnabled = false\n                  buttonStart!!.isEnabled = false\n                  buttonPlayLastRecordAudio!!.visibility=View.INVISIBLE\n                  buttonStopPlayingRecording!!.isEnabled = true\n                  buttonStopPlayingRecording!!.visibility=View.VISIBLE\n\n                    mediaPlayer = MediaPlayer()\n                     try {\n                         mediaPlayer!!.setDataSource(AudioSavePathInDevice)\n                         mediaPlayer!!.prepare()\n                        } catch (e: IOException) {\n                                Toast.makeText(this, \"Recoring not found\",\n                                 Toast.LENGTH_LONG).show() \n                        }\n\n                          mediaPlayer!!.start()\n                          Toast.makeText(this, \"Recording Playing\",\n                          Toast.LENGTH_LONG).show() \n              }\n\n                 buttonStopPlayingRecording!!.setOnClickListener {\n\n                 buttonStopPlayingRecording!!.isEnabled = false\n                 buttonPlayLastRecordAudio!!.isEnabled = true\n\n                      if (mediaPlayer != null) {\n                      mediaPlayer!!.stop()\n                      mediaPlayer!!.release()\n                     MediaRecorderReady() \n                      }\n              }\n\n\n\n        }\n\n\n        fun MediaRecorderReady() {\n            mediaRecorder = MediaRecorder()\n            mediaRecorder!!.setAudioSource(MediaRecorder.AudioSource.MIC)\n            mediaRecorder!!.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4)\n            mediaRecorder!!.setAudioEncoder(MediaRecorder.OutputFormat.AMR_NB)\n            mediaRecorder!!.setOutputFile(AudioSavePathInDevice)\n        }\n    }\n</code></pre>\n\n<p>/*\nThe error that is associated with this code</p>\n\n<p>FATAL EXCEPTION: main\n                                                                            Process: com.example.admin.lifeplus, PID: 21679\n                                                                            java.lang.RuntimeException: setAudioSource failed.\n                                                                                at android.media.MediaRecorder.setAudioSource(Native Method)\n                                                                                at com.example.admin.lifeplus.record.MediaRecorderReady(record.kt:138)\n                                                                                at com.example.admin.lifeplus.record$onCreate$1.onClick(record.kt:45)\n                                                                                at android.view.View.performClick(View.java:5623)\n                                                                                at android.view.View$PerformClick.run(View.java:22433)\n                                                                                at android.os.Handler.handleCallback(Handler.java:751)\n                                                                                at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                                at android.os.Looper.loop(Looper.java:154)\n                                                                                at android.app.ActivityThread.main(ActivityThread.java:6247)\n                                                                                at java.lang.reflect.Method.invoke(Native Method)\n                                                                                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:872)\n                                                                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:762)\n*/</p>\n\n<p>The given above is my code for recording an audio file, it works fine with api 19 devices but does not work with api 24. Can you help me?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 1, "last_activity_date": 1496674090, "creation_date": 1496674090, "answer_id": 44371602, "question_id": 44371496, "link": "https://stackoverflow.com/questions/44371496/large-numbers-conversion-to-byte-in-kotlin/44371602#44371602", "title": "Large numbers conversion to Byte in Kotlin", "body": "<p>Double 65555.0 gets converted to integer 65555 which is 0x10013. Conversion to Byte takes lower byte which is 0x13 (19 decimal).</p>\n"}, {"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 3, "last_activity_date": 1496674188, "creation_date": 1496674188, "answer_id": 44371636, "question_id": 44371496, "link": "https://stackoverflow.com/questions/44371496/large-numbers-conversion-to-byte-in-kotlin/44371636#44371636", "title": "Large numbers conversion to Byte in Kotlin", "body": "<p>Because when you convert 65555 (or 65555.0) to a binary representation it takes more than one byte. So calling <code>.toByte()</code> takes the lowest one, which is 19.</p>\n\n<pre><code>65555 -&gt; Binary == 1 00000000 00010011\n                   ^ ^^^^^^^^ ^^^^^^^^\n                   1     0       19\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 9, "last_activity_date": 1496747295, "last_edit_date": 1496747295, "creation_date": 1496674207, "answer_id": 44371649, "question_id": 44371496, "link": "https://stackoverflow.com/questions/44371496/large-numbers-conversion-to-byte-in-kotlin/44371649#44371649", "title": "Large numbers conversion to Byte in Kotlin", "body": "<p>That's because of a numerical conversion from a wider type to a type of a smaller size. The <code>Double</code> (<a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format\" rel=\"nofollow noreferrer\">IEEE 754 double precision number</a>) has its integral part factored to the powers of two as <br>65555 = 2<sup>17</sup> + 2<sup>4</sup> + 2<sup>2</sup> + 2<sup>0</sup> = 65536 + 16 + 2 + 1, which is stored in binary form as (higher bits to lower):</p>\n\n<pre><code> \u202d... 0 1  0 0 0 0 0 0 0 0  0 0 0 1 0 0 1 1\u202c\n</code></pre>\n\n<p>When this number is converted to <code>Byte</code>, only its lowest 8 bits are retained:</p>\n\n<pre><code> ... _ \u202d_  _ _ _ _ _ _ _ _  0 0 0 1 0 0 1 1\u202c\n</code></pre>\n\n<p>And that results into 2<sup>4</sup> + 2<sup>2</sup> + 2<sup>0</sup> = 16 + 2 + 1 = 19.</p>\n"}], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1496747295, "creation_date": 1496673743, "question_id": 44371496, "link": "https://stackoverflow.com/questions/44371496/large-numbers-conversion-to-byte-in-kotlin", "title": "Large numbers conversion to Byte in Kotlin", "body": "<p>Why does a <code>double</code> of <code>65555</code> converted to <code>byte</code> produce a result of <code>19</code> in Kotlin?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 1, "creation_date": 1496671698, "post_id": 44370792, "comment_id": 75742742, "body": "Take also a look at this, it has a lot of examples :) <a href=\"https://stackoverflow.com/questions/41283393/reading-input-from-the-console-in-kotlin\" title=\"reading input from the console in kotlin\">stackoverflow.com/questions/41283393/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "edited": false, "score": 0, "creation_date": 1496672372, "post_id": 44370866, "comment_id": 75743225, "body": "what is the meaning of double exclamation marks in &quot;readLine()!!&quot;?"}, {"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "reply_to_user": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "edited": false, "score": 2, "creation_date": 1496672691, "post_id": 44370866, "comment_id": 75743443, "body": "@AksharPatel It means that cannot content Null ;), see also <a href=\"https://stackoverflow.com/questions/34342413/what-is-the-kotlin-double-bang\" title=\"what is the kotlin double bang\">stackoverflow.com/questions/34342413/&hellip;</a>, don&#39;t forget voting if you liked :)"}], "tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": true, "score": 1, "last_activity_date": 1496671658, "creation_date": 1496671658, "answer_id": 44370866, "question_id": 44370792, "link": "https://stackoverflow.com/questions/44370792/read-primitive-datatype-values-in-kotlin/44370866#44370866", "title": "Read primitive datatype values in Kotlin", "body": "<p>Just do something like:</p>\n\n<pre><code>fun main(vararg args: String) {\n  val (a, b) = readLine()!!.split(' ')\n  println(a.toInt() + b.toInt())\n}\n</code></pre>\n"}], "owner": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "closed_date": 1496671766, "accepted_answer_id": 44370866, "answer_count": 1, "score": 0, "last_activity_date": 1497796505, "creation_date": 1496671426, "last_edit_date": 1497796505, "question_id": 44370792, "link": "https://stackoverflow.com/questions/44370792/read-primitive-datatype-values-in-kotlin", "closed_reason": "Duplicate", "title": "Read primitive datatype values in Kotlin", "body": "<p><strong>Note: Please do not downvote question as I tried searching but did not find anything. The question has already been marked duplicate.</strong> </p>\n\n<p>How to read primitive datatype values in Kotlin?</p>\n\n<p>We can use Scanner object of java but I want to implement using readLine function of kotlin.</p>\n\n<p>How do I scan numbers e.g num1 and num2 and perform some operation like sum ?</p>\n\n<p>How do it convert following code to koltin without using scanner?</p>\n\n<pre><code>val sc = Scanner(System.in)\nval num1 = sc.nextInt()\nval num2 = sc.nextInt()\nval sum = sum(num1, num2)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1496665993, "post_id": 44368741, "comment_id": 75738969, "body": "<a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html#constructors</a>"}], "answers": [{"comments": [{"owner": {"reputation": 779, "user_id": 2859375, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/uTttX.png?s=128&g=1", "display_name": "hugerde", "link": "https://stackoverflow.com/users/2859375/hugerde"}, "edited": false, "score": 0, "creation_date": 1496665071, "post_id": 44368763, "comment_id": 75738412, "body": "Thank you, But I Also do something inside constructor"}, {"owner": {"reputation": 7897, "user_id": 5091346, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/MEVJT.jpg?s=128&g=1", "display_name": "Andrii Abramov", "link": "https://stackoverflow.com/users/5091346/andrii-abramov"}, "reply_to_user": {"reputation": 779, "user_id": 2859375, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/uTttX.png?s=128&g=1", "display_name": "hugerde", "link": "https://stackoverflow.com/users/2859375/hugerde"}, "edited": false, "score": 1, "creation_date": 1496665175, "post_id": 44368763, "comment_id": 75738484, "body": "@hugerde what about using <code>init {}</code> block?"}, {"owner": {"reputation": 779, "user_id": 2859375, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/uTttX.png?s=128&g=1", "display_name": "hugerde", "link": "https://stackoverflow.com/users/2859375/hugerde"}, "reply_to_user": {"reputation": 7897, "user_id": 5091346, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/MEVJT.jpg?s=128&g=1", "display_name": "Andrii Abramov", "link": "https://stackoverflow.com/users/5091346/andrii-abramov"}, "edited": false, "score": 0, "creation_date": 1496665567, "post_id": 44368763, "comment_id": 75738709, "body": "@AndriiAbramov Thank you, This is what I need, I will use init block with constructor."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 17, "last_activity_date": 1496665303, "last_edit_date": 1496665303, "creation_date": 1496665007, "answer_id": 44368763, "question_id": 44368741, "link": "https://stackoverflow.com/questions/44368741/expecting-member-declaration-in-kotlin/44368763#44368763", "title": "Expecting member declaration in Kotlin", "body": "<p>In Kotlin you can use constructors like so:</p>\n\n<pre><code>class YLAService constructor(val context: Context) {\n\n}\n</code></pre>\n\n<p>Even shorter:</p>\n\n<pre><code>class YLAService(val context: Context) {\n\n}\n</code></pre>\n\n<p>If you want to do some processing first:</p>\n\n<pre><code>class YLAService(context: Context) {\n\n  val locationService: LocationManager\n\n  init {\n    locationService = context.getService(LocationManager::class.java)\n  }\n}\n</code></pre>\n\n<p>If you really want to use a secondary constructor:</p>\n\n<pre><code>class YLAService {\n\n  val context: Context\n\n  constructor(context: Context) {\n    this.context = context\n  }\n\n}\n</code></pre>\n\n<p>This looks more like the Java variant, but is more verbose.  </p>\n\n<p>See the <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"noreferrer\">Kotlin reference on constructors</a>.</p>\n"}], "owner": {"reputation": 779, "user_id": 2859375, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/uTttX.png?s=128&g=1", "display_name": "hugerde", "link": "https://stackoverflow.com/users/2859375/hugerde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48801, "favorite_count": 2, "accepted_answer_id": 44368763, "answer_count": 1, "score": 12, "last_activity_date": 1608192953, "creation_date": 1496664916, "last_edit_date": 1608192953, "question_id": 44368741, "link": "https://stackoverflow.com/questions/44368741/expecting-member-declaration-in-kotlin", "title": "Expecting member declaration in Kotlin", "body": "<p>I want to assign my class variable in constructor, but I get an error 'expecting member declaration'</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class YLAService {\n\n    var context:Context?=null\n\n    class YLAService constructor(context: Context) {\n        this.context=context;// do something\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "edited": false, "score": 0, "creation_date": 1496658199, "post_id": 44366425, "comment_id": 75734563, "body": "I presume you aren&#39;t using latest version of kotlin. Can you confirm the version?"}, {"owner": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "edited": false, "score": 1, "creation_date": 1496658294, "post_id": 44366425, "comment_id": 75734620, "body": "It could be because of the reflection apis missing in class path. Refer <a href=\"https://stackoverflow.com/questions/34144392/kotlin-fooclass-java-unresolved-reference-java-error\" title=\"kotlin fooclass java unresolved reference java error\">stackoverflow.com/questions/34144392/&hellip;</a>"}, {"owner": {"reputation": 299, "user_id": 5196822, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bidf7y6-aDE/AAAAAAAAAAI/AAAAAAAAAEQ/QqDjVASr0qA/photo.jpg?sz=128", "display_name": "Rohit Parmar", "link": "https://stackoverflow.com/users/5196822/rohit-parmar"}, "reply_to_user": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "edited": false, "score": 0, "creation_date": 1496658485, "post_id": 44366425, "comment_id": 75734754, "body": "i am using android studio to convert the java class to kolin class"}, {"owner": {"reputation": 299, "user_id": 5196822, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bidf7y6-aDE/AAAAAAAAAAI/AAAAAAAAAEQ/QqDjVASr0qA/photo.jpg?sz=128", "display_name": "Rohit Parmar", "link": "https://stackoverflow.com/users/5196822/rohit-parmar"}, "reply_to_user": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "edited": false, "score": 0, "creation_date": 1496658542, "post_id": 44366425, "comment_id": 75734796, "body": "Can any one tell me why i am down voting is there wrong question i have asked??"}, {"owner": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "edited": false, "score": 0, "creation_date": 1496658590, "post_id": 44366425, "comment_id": 75734812, "body": "nothing to do with me! I haven&#39;t downvoted.."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1496671555, "post_id": 44366425, "comment_id": 75742639, "body": "You do not even say what the error message is, nor show anything that would help resolve an unresolved class error (i.e. dependencies), nor the stack trace of the error.  For me, that would cause a downvote until you added those to the question.  For example, you know the problem is with gradle, but you never showed your gradle file."}, {"owner": {"reputation": 299, "user_id": 5196822, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bidf7y6-aDE/AAAAAAAAAAI/AAAAAAAAAEQ/QqDjVASr0qA/photo.jpg?sz=128", "display_name": "Rohit Parmar", "link": "https://stackoverflow.com/users/5196822/rohit-parmar"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496744171, "post_id": 44366425, "comment_id": 75774262, "body": "@JaysonMinard Fist of all thanks for adding comment there,"}, {"owner": {"reputation": 299, "user_id": 5196822, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bidf7y6-aDE/AAAAAAAAAAI/AAAAAAAAAEQ/QqDjVASr0qA/photo.jpg?sz=128", "display_name": "Rohit Parmar", "link": "https://stackoverflow.com/users/5196822/rohit-parmar"}, "edited": false, "score": 0, "creation_date": 1496744336, "post_id": 44366425, "comment_id": 75774368, "body": "@JayaonMinard I am using android studio 3.0 within that i have an existing project developed in java,I am not much more familiar with kotlin but trying to learn kotlin by simply converting my java code to kotlin. In existing project i don&#39;t added the gradle dependency for kotlin support that was the causing actual problem thats it."}], "answers": [{"tags": [], "owner": {"reputation": 299, "user_id": 5196822, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bidf7y6-aDE/AAAAAAAAAAI/AAAAAAAAAEQ/QqDjVASr0qA/photo.jpg?sz=128", "display_name": "Rohit Parmar", "link": "https://stackoverflow.com/users/5196822/rohit-parmar"}, "is_accepted": true, "score": -1, "last_activity_date": 1496661231, "creation_date": 1496661231, "answer_id": 44367689, "question_id": 44366425, "link": "https://stackoverflow.com/questions/44366425/room-database-using-kotlin/44367689#44367689", "title": "Room database using kotlin", "body": "<p>Error is resolved i need first add kotlin dependency in my gradle file.</p>\n"}], "owner": {"reputation": 299, "user_id": 5196822, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bidf7y6-aDE/AAAAAAAAAAI/AAAAAAAAAEQ/QqDjVASr0qA/photo.jpg?sz=128", "display_name": "Rohit Parmar", "link": "https://stackoverflow.com/users/5196822/rohit-parmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 44367689, "answer_count": 1, "score": -1, "last_activity_date": 1496671467, "creation_date": 1496656976, "last_edit_date": 1496671467, "question_id": 44366425, "link": "https://stackoverflow.com/questions/44366425/room-database-using-kotlin", "title": "Room database using kotlin", "body": "<p>I am converting java code to kotlin code and i am getting type unresolved java class error.</p>\n\n<p>My Java Class is</p>\n\n<pre><code>Room.databaseBuilder(context.getApplicationContext(), EventDatabase.class, \"event_db\").build();\n</code></pre>\n\n<p>Converted Kotlin class </p>\n\n<pre><code> Room.databaseBuilder&lt;EventDatabase&gt;(context.applicationContext, EventDatabase::class.java!!, \"event_db\").build()\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 8, "last_activity_date": 1496656647, "last_edit_date": 1496656647, "creation_date": 1496656575, "answer_id": 44366286, "question_id": 44366227, "link": "https://stackoverflow.com/questions/44366227/how-to-access-instance-variable-in-static-companion-object-in-kotlin/44366286#44366286", "title": "How to access instance variable in static companion object in Kotlin", "body": "<p>A companion object is not part of an instance of a class.\nYou can't access members from a companion object, just like in Java you can't access members from a static method.</p>\n\n<p>Instead, don't use a companion object:</p>\n\n<pre><code>class AsyncService(val command: Command, val context: Context) {\n\n    fun doGet(request: String) {\n        doAsync {\n            val jsonObj = java.net.URL(request).readText()\n            command.execute(JSONObject(jsonObj))\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": false, "score": 4, "last_activity_date": 1496656725, "creation_date": 1496656725, "answer_id": 44366346, "question_id": 44366227, "link": "https://stackoverflow.com/questions/44366227/how-to-access-instance-variable-in-static-companion-object-in-kotlin/44366346#44366346", "title": "How to access instance variable in static companion object in Kotlin", "body": "<p>You should pass arguments directly to your companion object function:</p>\n\n<pre><code>class AsyncService {\n\n    companion object {\n        fun doGet(command: Command, context: Context, request: String) {\n            doAsync {\n                val jsonObj = java.net.URL(request).readText()\n                command.execute(JSONObject(jsonObj))\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4482, "favorite_count": 0, "accepted_answer_id": 44366286, "answer_count": 2, "score": 6, "last_activity_date": 1567171995, "creation_date": 1496656340, "last_edit_date": 1567171995, "question_id": 44366227, "link": "https://stackoverflow.com/questions/44366227/how-to-access-instance-variable-in-static-companion-object-in-kotlin", "title": "How to access instance variable in static companion object in Kotlin", "body": "<p>I am trying to make utils for performing network operations in <code>kotlin</code>. I have below code where the primary constructor is taking <code>Command</code> and <code>Context</code>. </p>\n\n<p>I am unable to access command variable in <code>command.execute(JSONObject(jsonObj))</code>, getting below error. I am not sure what is causing an issue?</p>\n\n<blockquote>\n  <p>Unresolved reference: command</p>\n</blockquote>\n\n<pre><code>class AsyncService(val command: Command, val context: Context) {\n\n    companion object {\n        fun doGet(request: String) {\n            doAsync {\n                val jsonObj = java.net.URL(request).readText()\n                command.execute(JSONObject(jsonObj))\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496671972, "post_id": 44365888, "comment_id": 75742936, "body": "In Kotlin language reference, this is clearly covered:  <a href=\"http://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1496655738, "post_id": 44365960, "comment_id": 75733189, "body": "Or swap <code>val1</code> and <code>val2</code> so there is no need to use named parameter."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 4, "last_activity_date": 1496655503, "creation_date": 1496655503, "answer_id": 44365960, "question_id": 44365888, "link": "https://stackoverflow.com/questions/44365888/calling-a-method-with-null-param/44365960#44365960", "title": "Calling A Method With null param", "body": "<p>You can use default values:</p>\n\n<pre><code>fun aMethod(val1: String = \"default value\", val2: String)\n</code></pre>\n\n<p>You can now use the default method like so:</p>\n\n<pre><code>classObject.aMethod(val2 = \"val2\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3505, "user_id": 2522861, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/hq8ay.jpg?s=128&g=1", "display_name": "Ichigo Kurosaki", "link": "https://stackoverflow.com/users/2522861/ichigo-kurosaki"}, "is_accepted": false, "score": 3, "last_activity_date": 1496682975, "last_edit_date": 1496682975, "creation_date": 1496655510, "answer_id": 44365963, "question_id": 44365888, "link": "https://stackoverflow.com/questions/44365888/calling-a-method-with-null-param/44365963#44365963", "title": "Calling A Method With null param", "body": "<p>Try it this way</p>\n\n<pre><code>fun printHello(name: String?): Unit {\n    if (name != null)\n        println(\"Hello ${name}\")\n    else\n        println(\"Hi there!\")\n    // `return Unit` or `return` is optional\n}\n</code></pre>\n\n<p>Return type as your wish.<br>\nRefrence from <a href=\"https://kotlinlang.org/docs/reference/functions.html\" rel=\"nofollow noreferrer\">kotlin langauge function tutorial</a></p>\n\n<p><code>?</code> after the datatype allows you to have null. refer <a href=\"http://codeofrob.com/entries/looking-at-kotlin---the-rest-of-it.html\" rel=\"nofollow noreferrer\">this link</a></p>\n"}, {"tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": false, "score": 1, "last_activity_date": 1496671957, "last_edit_date": 1496671957, "creation_date": 1496655521, "answer_id": 44365967, "question_id": 44365888, "link": "https://stackoverflow.com/questions/44365888/calling-a-method-with-null-param/44365967#44365967", "title": "Calling A Method With null param", "body": "<p>Kotlin emphasis on null safety. If you want a property/return type/parameter/local variable to be null, you will have to use <a href=\"http://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\"><em>nullable types</em></a>, by appending a question mark to the end of your type.</p>\n\n<p>e.g.</p>\n\n<pre><code>Foo foo = null // doesn't compile\nFoo? foo = null // compiles\n\nfun foo(foo: Foo)\nfoo(null) // doesn't compile\n\nfun bar(foo: Foo?)\nbar(null) // compiles\n\nfun foo(): Foo = null // doesn't compile\nfun foo(): Foo? = null // compiles\n</code></pre>\n\n<p>So in order to make your code works, all you need is to specify that function <code>aMethod</code> takes a nullable type:</p>\n\n<pre><code>fun aMethod(val1: SomeType?, val2) {\n    //...\n}\n</code></pre>\n\n<p>However, in kotlin, it's not suggested to use null here. We have a better way to deal with your situation. We use <em>default parameters</em>, as suggested by nhaarman.</p>\n\n<pre><code>fun aMethod(val1: SomeType = someDefaultValue, val2: OtherType) {\n    //...\n}\naMethod(val2 = OtherType())\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 8003911, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd057a7b2093fa6db229aa37ecf3f1e4?s=128&d=identicon&r=PG&f=1", "display_name": "niranjan", "link": "https://stackoverflow.com/users/8003911/niranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1496682975, "creation_date": 1496655277, "last_edit_date": 1496655372, "question_id": 44365888, "link": "https://stackoverflow.com/questions/44365888/calling-a-method-with-null-param", "title": "Calling A Method With null param", "body": "<p>In java we can call a method <code>aMethod(val1 , val2)</code></p>\n\n<p>with <code>classObject.aMethod(null_if_Val1_NotAvailable,val2)</code>\nAnd inside the Method i will check that if val1 is null\ni will initialize that </p>\n\n<p>How to do the same in Kotlin.\nI tried but its saying Null Cannot be value of Non-null type</p>\n"}, {"tags": ["kotlin", "aop", "aspectj"], "comments": [{"owner": {"reputation": 176, "user_id": 311601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228c46558f760e7a1a4d0878694eccd1?s=128&d=identicon&r=PG", "display_name": "Mario Arias", "link": "https://stackoverflow.com/users/311601/mario-arias"}, "edited": false, "score": 0, "creation_date": 1496657189, "post_id": 44364633, "comment_id": 75734021, "body": "What happens if you try a more specific pointcut expression?  Another theory is that somehow the AOP weaving phase get lost or applied in a different order"}, {"owner": {"reputation": 747, "user_id": 6477694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b295a4726fb5094fda67dcb001c90b11?s=128&d=identicon&r=PG&f=1", "display_name": "junk", "link": "https://stackoverflow.com/users/6477694/junk"}, "reply_to_user": {"reputation": 176, "user_id": 311601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228c46558f760e7a1a4d0878694eccd1?s=128&d=identicon&r=PG", "display_name": "Mario Arias", "link": "https://stackoverflow.com/users/311601/mario-arias"}, "edited": false, "score": 0, "creation_date": 1496659531, "post_id": 44364633, "comment_id": 75735403, "body": "@MarioArias nothing happened."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496672039, "post_id": 44364633, "comment_id": 75742983, "body": "Are you using a Kotlin annotation processor KAPT?  If not, start there."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496679519, "post_id": 44364633, "comment_id": 75747471, "body": "@junk if you are using annotation processor, show us how."}], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 311601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228c46558f760e7a1a4d0878694eccd1?s=128&d=identicon&r=PG", "display_name": "Mario Arias", "link": "https://stackoverflow.com/users/311601/mario-arias"}, "reply_to_user": {"reputation": 747, "user_id": 6477694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b295a4726fb5094fda67dcb001c90b11?s=128&d=identicon&r=PG&f=1", "display_name": "junk", "link": "https://stackoverflow.com/users/6477694/junk"}, "edited": false, "score": 0, "creation_date": 1496675098, "post_id": 44370993, "comment_id": 75744911, "body": "@junk - Is a pure AspectJ app or a Spring app? It could be something related to final by default classes"}, {"owner": {"reputation": 747, "user_id": 6477694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b295a4726fb5094fda67dcb001c90b11?s=128&d=identicon&r=PG&f=1", "display_name": "junk", "link": "https://stackoverflow.com/users/6477694/junk"}, "reply_to_user": {"reputation": 176, "user_id": 311601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228c46558f760e7a1a4d0878694eccd1?s=128&d=identicon&r=PG", "display_name": "Mario Arias", "link": "https://stackoverflow.com/users/311601/mario-arias"}, "edited": false, "score": 0, "creation_date": 1496675369, "post_id": 44370993, "comment_id": 75745068, "body": "@MarioArias it is a pure Aspectj + Kotlin app,no Spring. no any java code"}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1535618828, "post_id": 44370993, "comment_id": 91135404, "body": "See my answer <a href=\"https://stackoverflow.com/questions/44364633/aspectj-doesnt-work-with-kotlin\">here</a> for a complete working example."}, {"owner": {"reputation": 689, "user_id": 5259354, "user_type": "registered", "profile_image": "https://graph.facebook.com/854861604628628/picture?type=large", "display_name": "Jacob Wu", "link": "https://stackoverflow.com/users/5259354/jacob-wu"}, "reply_to_user": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1538835700, "post_id": 44370993, "comment_id": 92288494, "body": "@RobbyCornelissen The link you provided is wrong(which points to this question).  I found your another answer that works, which might be what you actually meant:  <a href=\"https://stackoverflow.com/questions/52087239/kotlin-possible-to-modify-functions-during-compile-time-through-metaprogramming/52092531#52092531\" title=\"kotlin possible to modify functions during compile time through metaprogramming\">stackoverflow.com/questions/52087239/&hellip;</a>"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 3, "last_activity_date": 1496672110, "creation_date": 1496672110, "answer_id": 44370993, "question_id": 44364633, "link": "https://stackoverflow.com/questions/44364633/aspectj-doesnt-work-with-kotlin/44370993#44370993", "title": "Aspectj doesn&#39;t work with kotlin", "body": "<p>For annotation process in Kotlin, you must enable and use <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">KAPT</a>.  Without this being added via Gradle or Maven plugin, nothing is going to work for annotation processing in Kotlin code.</p>\n\n<blockquote>\n  <p>The Kotlin plugin supports annotation processors like Dagger or DBFlow. In order for them to work with Kotlin classes, apply the kotlin-kapt plugin.</p>\n</blockquote>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://medium.com/@workingkills/pushing-the-limits-of-kotlin-annotation-processing-8611027b6711\" rel=\"nofollow noreferrer\">Pushing the limits of Kotlin annotation processing</a></li>\n<li><a href=\"https://blog.jetbrains.com/kotlin/2015/05/kapt-annotation-processing-for-kotlin/\" rel=\"nofollow noreferrer\">kapt: Annotation Processing for Kotlin</a></li>\n<li><a href=\"https://blog.jetbrains.com/kotlin/2015/06/better-annotation-processing-supporting-stubs-in-kapt/\" rel=\"nofollow noreferrer\">Better Annotation Processing: Supporting Stubs in kapt</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 1726074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fec10600027050b4be71bd6bbc0fc34?s=128&d=identicon&r=PG", "display_name": "jmlw", "link": "https://stackoverflow.com/users/1726074/jmlw"}, "edited": false, "score": 0, "creation_date": 1540396792, "post_id": 49319700, "comment_id": 92853141, "body": "This only works for Spring managed beans, not for compile time weaving which I believe would be required to intercept interaction with a <code>List</code> class"}, {"owner": {"reputation": 9549, "user_id": 317522, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/y7DXx.jpg?s=128&g=1", "display_name": "Paulo Merson", "link": "https://stackoverflow.com/users/317522/paulo-merson"}, "edited": false, "score": 2, "creation_date": 1559937140, "post_id": 49319700, "comment_id": 99590145, "body": "The question is about <b>AspectJ</b> not Spring-AOP. In addition to only working for managed beans, Spring-AOP has other limitations if compared with AspectJ. For example, it does not support compile time error and warning declarations."}], "tags": [], "owner": {"reputation": 29, "user_id": 9307276, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yxJkyZKEKDc/AAAAAAAAAAI/AAAAAAAAAB4/WmvSDvrwspk/photo.jpg?sz=128", "display_name": "SaveTheCode", "link": "https://stackoverflow.com/users/9307276/savethecode"}, "is_accepted": false, "score": 2, "last_activity_date": 1521199726, "creation_date": 1521199726, "answer_id": 49319700, "question_id": 44364633, "link": "https://stackoverflow.com/questions/44364633/aspectj-doesnt-work-with-kotlin/49319700#49319700", "title": "Aspectj doesn&#39;t work with kotlin", "body": "<p>spring + kotlin + AOP work nice, just go to <a href=\"http://start.spring.io/\" rel=\"nofollow noreferrer\">http://start.spring.io/</a> and generate a project with AOP support, you can see a piece of <strong>build.gradle</strong> here... </p>\n\n<pre><code>buildscript {\n\n    ext {\n        kotlinVersion = '1.2.30'\n        springBootVersion = '2.0.0.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'org.springframework.boot'\n\n...\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-aop')\n    ...\n}\n</code></pre>\n\n<p>plugin <strong>kotlin-spring</strong> makes all classes <em>open</em> to allow AOP</p>\n\n<p>Then, just declare your aspect as follows</p>\n\n<pre><code>@Aspect\n@Component\nclass MyAspect {\n...\n</code></pre>\n\n<p><strong>Important</strong>: annotate your aspect class with <strong>@Aspect</strong> and <strong>@Component</strong> annotations</p>\n\n<p>Piece of cake! :)</p>\n"}, {"comments": [{"owner": {"reputation": 418, "user_id": 5319831, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-L5E5DzWkK80/AAAAAAAAAAI/AAAAAAAAAFk/tqjsWxozcYs/photo.jpg?sz=128", "display_name": "Mohd Naved", "link": "https://stackoverflow.com/users/5319831/mohd-naved"}, "edited": false, "score": 0, "creation_date": 1568610887, "post_id": 53320843, "comment_id": 102313740, "body": "My kotlin classes are not being weaved even after adding this code. Any guesses why? Though java classes are working perfectly fine, and getting weaved in the same project.(I have both kotlin and java classes in a project.)"}, {"owner": {"reputation": 3845, "user_id": 613339, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/09953a70f4c8a0e7b6a90897e5c747df?s=128&d=identicon&r=PG", "display_name": "bsautner", "link": "https://stackoverflow.com/users/613339/bsautner"}, "reply_to_user": {"reputation": 418, "user_id": 5319831, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-L5E5DzWkK80/AAAAAAAAAAI/AAAAAAAAAFk/tqjsWxozcYs/photo.jpg?sz=128", "display_name": "Mohd Naved", "link": "https://stackoverflow.com/users/5319831/mohd-naved"}, "edited": false, "score": 1, "creation_date": 1568643134, "post_id": 53320843, "comment_id": 102329192, "body": "I&#39;d suggest doing a reality check on the build path in the bottom of the script and verify the kotlin class files are in that directory.  Gradle changes the path names for build outputs in gradle 5 so it could be different"}], "tags": [], "owner": {"reputation": 3845, "user_id": 613339, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/09953a70f4c8a0e7b6a90897e5c747df?s=128&d=identicon&r=PG", "display_name": "bsautner", "link": "https://stackoverflow.com/users/613339/bsautner"}, "is_accepted": false, "score": 5, "last_activity_date": 1542289499, "creation_date": 1542289499, "answer_id": 53320843, "question_id": 44364633, "link": "https://stackoverflow.com/questions/44364633/aspectj-doesnt-work-with-kotlin/53320843#53320843", "title": "Aspectj doesn&#39;t work with kotlin", "body": "<p>For what it's worth, we needed aspectJ weaving in our android project but really wanted to move to kotlin so we had to solve this problem. So the solutions in this thread using spring or maven didn't work for us.  This is the solution for android gradle projects however, this WILL break incremental compilation and therefor slow down your build times and/or break something eventually.  This gets us by until I can re-think our architecture and phase out aspectJ or (hopefully) android starts supporting it.  </p>\n\n<p>There is confusion in some of the answers and comments to the OP that kapt solves this, but kapt lets you do compile time annotation processing, not weaving. That is, annotation processors let you generate code based on annotations but do not let you inject logic into existing code. </p>\n\n<p>This builds on top of this blog on adding aspectJ to android: <a href=\"https://fernandocejas.com/2014/08/03/aspect-oriented-programming-in-android\" rel=\"noreferrer\">https://fernandocejas.com/2014/08/03/aspect-oriented-programming-in-android</a></p>\n\n<p>Your kotlin classes get compiled into byte code, just into a different directory. So this solution using the same process to weave the java classes but runs it again on the kotlin class files</p>\n\n<p>at the top of your <code>App/build.gradle</code> add:</p>\n\n<pre><code>buildscript {\n    ext.aspectjVersion = '1.9.1'\n    dependencies {\n        classpath \"org.aspectj:aspectjtools:$aspectjVersion\"\n    }\n}\n</code></pre>\n\n<p>At the bottom of your App/build.gradle add:</p>\n\n<pre><code>android.applicationVariants.all { variant -&gt;\n\n// add the versionName &amp; versionCode to the apk file name\nvariant.outputs.all { output -&gt;\n    def newPath = outputFileName.replace(\".apk\", \"-${variant.versionName}.${variant.versionCode}.apk\")\n    outputFileName = new File(outputFileName, newPath)\n\n\n    def fullName = \"\"\n    output.name.tokenize('-').eachWithIndex { token, index -&gt;\n        fullName = fullName + (index == 0 ? token : token.capitalize())\n    }\n\n    JavaCompile javaCompile = variant.javaCompiler\n\n    MessageHandler handler = new MessageHandler(true)\n    javaCompile.doLast {\n        String[] javaArgs = [\"-showWeaveInfo\",\n                             \"-1.8\",\n                             \"-inpath\", javaCompile.destinationDir.toString(),\n                             \"-aspectpath\", javaCompile.classpath.asPath,\n                             \"-d\", javaCompile.destinationDir.toString(),\n                             \"-classpath\", javaCompile.classpath.asPath,\n                             \"-bootclasspath\", project.android.bootClasspath.join(\n                File.pathSeparator)]\n\n        String[] kotlinArgs = [\"-showWeaveInfo\",\n                               \"-1.8\",\n                               \"-inpath\", project.buildDir.path + \"/tmp/kotlin-classes/\" + fullName,\n                               \"-aspectpath\", javaCompile.classpath.asPath,\n                               \"-d\", project.buildDir.path + \"/tmp/kotlin-classes/\" + fullName,\n                               \"-classpath\", javaCompile.classpath.asPath,\n                               \"-bootclasspath\", project.android.bootClasspath.join(\n                File.pathSeparator)]\n\n        new Main().run(javaArgs, handler)\n        new Main().run(kotlinArgs, handler)\n\n        def log = project.logger\n        for (IMessage message : handler.getMessages(null, true)) {\n            switch (message.getKind()) {\n                case IMessage.ABORT:\n                case IMessage.ERROR:\n                case IMessage.FAIL:\n                    log.error message.message, message.thrown\n                    break\n                case IMessage.WARNING:\n                case IMessage.INFO:\n                    log.info message.message, message.thrown\n                    break\n                case IMessage.DEBUG:\n                    log.debug message.message, message.thrown\n                    break\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10160619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LB09.jpg?s=128&g=1", "display_name": "almayce", "link": "https://stackoverflow.com/users/10160619/almayce"}, "is_accepted": false, "score": 1, "last_activity_date": 1600019875, "creation_date": 1600019875, "answer_id": 63873925, "question_id": 44364633, "link": "https://stackoverflow.com/questions/44364633/aspectj-doesnt-work-with-kotlin/63873925#63873925", "title": "Aspectj doesn&#39;t work with kotlin", "body": "<p>You can use <a href=\"https://plugins.gradle.org/plugin/io.freefair.aspectj.post-compile-weaving\" rel=\"nofollow noreferrer\">freefair gradle plugin</a></p>\n<pre><code>buildscript {\n  repositories {\n    maven {\n      url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n  }\n  dependencies {\n    classpath &quot;io.freefair.gradle:aspectj-plugin:5.2.1&quot;\n  }\n}\n\napply plugin: &quot;io.freefair.aspectj.post-compile-weaving&quot;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3784, "user_id": 1449683, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8b53ee2b64a8868fcb13e6a143435807?s=128&d=identicon&r=PG&f=1", "display_name": "squirrel", "link": "https://stackoverflow.com/users/1449683/squirrel"}, "is_accepted": false, "score": 0, "last_activity_date": 1604458009, "creation_date": 1604458009, "answer_id": 64673644, "question_id": 44364633, "link": "https://stackoverflow.com/questions/44364633/aspectj-doesnt-work-with-kotlin/64673644#64673644", "title": "Aspectj doesn&#39;t work with kotlin", "body": "<p>So I think I've got a good (but wordy) solution <em>for Android</em>. At the time of writing I'm using Gradle 6.7, Android plugin 4.1.0, and AspectJ tools 1.9.6.</p>\n<p>The gist of the problem is that:</p>\n<ul>\n<li>Java is compiled by task <code>compileDebugJavaWithJavac</code></li>\n<li>Kotlin is compiled by task <code>compileDebugKotlin</code></li>\n<li>Gradle can run either one of these tasks, or both of them, or none</li>\n<li><code>compileDebugJavaWithJavac</code> depends on <code>compileDebugKotlin</code></li>\n<li>weaving Kotlin usually requires Java classes.</li>\n</ul>\n<p>If you look at these points closely, you'll see that you can't do weaving as part of compiling Kotlin, as Java classes can be missing at this point. If you do that, you'll get warnings such as:</p>\n<blockquote>\n<p>WARN: incorrect classpath: C:\\Users\\user\\StudioProjects\\myapp\\app\\build\\intermediates\\javac\\debug\\classes</p>\n</blockquote>\n<p>and errors such as</p>\n<blockquote>\n<p>ERROR: can\u2019t determine modifiers of missing type myapp.Foo.Bar</p>\n</blockquote>\n<p>So the better approach would be to postpone weaving until Java classes are compiled. But as you would be modifying files <em>not</em> as a part of compilation task, you lose incremental builds... Besides, this postponed weaving is super hard to get right\u2014remember, none of the compile tasks might be actually scheduled for running!</p>\n<hr />\n<p>The real solution is to wrap weaving in a <a href=\"https://developer.android.com/reference/tools/gradle-api/4.1/com/android/build/api/transform/Transform\" rel=\"nofollow noreferrer\"><code>Transform</code></a>, which will produce a Gradle task with its own inputs and outputs. This means that you will not be polluting the files of compile tasks, and those tasks, as well as this task, will be, so to say, UP-TO-DATE-able. This requires quite a bit of code, but it's rather sensible!</p>\n<p>First, put this in your project <code>build.gradle.kts</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>buildscript {\n    dependencies {\n        classpath(&quot;org.aspectj:aspectjtools:1.9.6&quot;)\n    }\n}\n</code></pre>\n<p>This is needed to run weaving from inside \u201cinside\u201d the buildscript. If you want to run weaving in a separate process, which is a good idea on Windows, you will need the path of this jar, which you can get by adding the following to your app <code>build.gradle.kts</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val weaving: Configuration by configurations.creating\n\ndependencies {\n    weaving(&quot;org.aspectj:aspectjtools:1.9.6&quot;)\n}\n</code></pre>\n<p>Finally, put AspectJ runtime on the classpath (app <code>build.gradle.kts</code>, note that I only need weaving in debug builds):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>dependencies {\n    debugImplementation(&quot;org.aspectj:aspectjrt:1.9.6&quot;)\n}\n</code></pre>\n<p>Now, here's my setup. I have a local logging library, <code>:cats</code>, which containts aspects that I want to weave. Logging statements are only inside my project, and not anywhere else. Also, I only want to run these in debug builds. So here's the transformation that \u201cweaves cats\u201d into the app (app's <code>build.gradle.kts</code>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class TransformCats : Transform() {\n    override fun getName(): String = TransformCats::class.simpleName!!\n\n    override fun getInputTypes() = setOf(QualifiedContent.DefaultContentType.CLASSES)\n\n    // only look for annotations in app classes\n    // transformation will consume these and put woven classes in the output dir\n    override fun getScopes() = mutableSetOf(QualifiedContent.Scope.PROJECT)\n\n    // ...but also have the rest on our class path\n    // these will not be touched by the transformation\n    override fun getReferencedScopes() = mutableSetOf(QualifiedContent.Scope.SUB_PROJECTS,\n                                                      QualifiedContent.Scope.EXTERNAL_LIBRARIES)\n\n    override fun isIncremental() = false\n\n    // only run on debug builds\n    override fun applyToVariant(variant: VariantInfo) = variant.isDebuggable\n\n    override fun transform(invocation: TransformInvocation) {\n        if (!invocation.isIncremental) {\n            invocation.outputProvider.deleteAll()\n        }\n\n        val output = invocation.outputProvider.getContentLocation(name, outputTypes,\n                                                                  scopes, Format.DIRECTORY)\n        if (output.isDirectory) FileUtils.deleteDirectoryContents(output)\n        FileUtils.mkdirs(output)\n\n        val input = mutableListOf&lt;File&gt;()\n        val classPath = mutableListOf&lt;File&gt;()\n        val aspectPath = mutableListOf&lt;File&gt;()\n\n        invocation.inputs.forEach { source -&gt;\n            source.directoryInputs.forEach { dir -&gt;\n                input.add(dir.file)\n                classPath.add(dir.file)\n            }\n\n            source.jarInputs.forEach { jar -&gt;\n                input.add(jar.file)\n                classPath.add(jar.file)\n            }\n        }\n\n        invocation.referencedInputs.forEach { source -&gt;\n            source.directoryInputs.forEach { dir -&gt;\n                classPath.add(dir.file)\n            }\n\n            source.jarInputs.forEach { jar -&gt;\n                classPath.add(jar.file)\n                if (jar.name == &quot;:cats&quot;) aspectPath.add(jar.file)\n            }\n\n        }\n\n        weave(classPath, aspectPath, input, output)\n    }\n}\n\nandroid.registerTransform(TransformCats())\n</code></pre>\n<p>And here's the weaving code mentioned above:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// ajc gets hold of some files such as R.jar, and on Windows it leads to errors such as:\n//   The process cannot access the file because it is being used by another process\n// to avoid these, weave in a process, which `javaexec` will helpfully launch for us.\n\nfun weave(classPath: Iterable&lt;File&gt;, aspectPath: Iterable&lt;File&gt;, input: Iterable&lt;File&gt;, output: File) {\n    val runInAProcess = OperatingSystem.current().isWindows\n    val bootClassPath = android.bootClasspath\n\n    println(if (runInAProcess) &quot;:: weaving in a process...&quot; else &quot;:: weaving...&quot;)\n    println(&quot;:: boot class path:  $bootClassPath&quot;)\n    println(&quot;:: class path:       $classPath&quot;)\n    println(&quot;:: aspect path:      $aspectPath&quot;)\n    println(&quot;:: input:            $input&quot;)\n    println(&quot;:: output:           $output&quot;)\n\n    val arguments = listOf(&quot;-showWeaveInfo&quot;,\n                           &quot;-1.8&quot;,\n                           &quot;-bootclasspath&quot;, bootClassPath.asArgument,\n                           &quot;-classpath&quot;, classPath.asArgument,\n                           &quot;-aspectpath&quot;, aspectPath.asArgument,\n                           &quot;-inpath&quot;, input.asArgument,\n                           &quot;-d&quot;, output.absolutePath)\n\n    if (runInAProcess) {\n        javaexec {\n            classpath = weaving\n            main = &quot;org.aspectj.tools.ajc.Main&quot;\n            args = arguments\n        }\n    } else {\n        val handler = MessageHandler(true)\n        Main().run(arguments.toTypedArray(), handler)\n\n        val log = project.logger\n        for (message in handler.getMessages(null, true)) {\n            when (message.kind) {\n                IMessage.DEBUG -&gt; log.debug(&quot;DEBUG &quot; + message.message, message.thrown)\n                IMessage.INFO -&gt; log.info(&quot;INFO: &quot; + message.message, message.thrown)\n                IMessage.WARNING -&gt; log.warn(&quot;WARN: &quot; + message.message, message.thrown)\n                IMessage.FAIL,\n                IMessage.ERROR,\n                IMessage.ABORT -&gt; log.error(&quot;ERROR: &quot; + message.message, message.thrown)\n            }\n        }\n    }\n}\n\nval Iterable&lt;File&gt;.asArgument get() = joinToString(File.pathSeparator)\n</code></pre>\n<p>(The Windows part is using <code>weaving</code> configuration; you may not want either part of the <code>if</code>)</p>\n<p>This is it!</p>\n"}], "owner": {"reputation": 747, "user_id": 6477694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b295a4726fb5094fda67dcb001c90b11?s=128&d=identicon&r=PG&f=1", "display_name": "junk", "link": "https://stackoverflow.com/users/6477694/junk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7875, "favorite_count": 6, "answer_count": 5, "score": 14, "last_activity_date": 1604458009, "creation_date": 1496650797, "question_id": 44364633, "link": "https://stackoverflow.com/questions/44364633/aspectj-doesnt-work-with-kotlin", "title": "Aspectj doesn&#39;t work with kotlin", "body": "<p>i want to use aspectj aop in kotlin,here is my code:</p>\n\n<p>my annotation in annotation.lazy_list:</p>\n\n<p>Kotlin:</p>\n\n<pre><code> package anotation\n\n@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FUNCTION)\nannotation class lazy_list\n</code></pre>\n\n<p>my aspectj aop class:</p>\n\n<pre><code>@Aspect\nclass ActiveListAop{\n\n    @Pointcut(\"execution(@annotation.lazy_list * *(..))\")\n    fun profile() {\n\n    }\n\n    @Before(\"profile()\")\n    fun testModeOnly(joinPoint: JoinPoint) {\n        println(\"123\")\n    }\n\n}\n</code></pre>\n\n<p>my usage:</p>\n\n<pre><code> @lazy_list\n    fun all():List&lt;T&gt;{\n        return lazy_obj?.all() as List&lt;T&gt;\n    }\n</code></pre>\n\n<p>when i call all() function , no error,but wont't print \"123\", why?</p>\n"}, {"tags": ["java", "gradle", "jar", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 0, "last_activity_date": 1496681646, "last_edit_date": 1496681646, "creation_date": 1496681280, "answer_id": 44373735, "question_id": 44363426, "link": "https://stackoverflow.com/questions/44363426/how-to-put-the-res-files-from-the-project-to-the-jar-in-the-same-folder/44373735#44373735", "title": "How to put the res files from the project to the jar in the same folder?", "body": "<p>Normally you would reference such as resource from: <code>src/main/resources</code> as the source folder which then is copied auto copied into your JAR by Gradle.  You then use the Classloader to read the resources as a stream. </p>\n\n<p>If I placed a file at <code>src/main/resources/my_resource_file.json</code> it would be loaded via:</p>\n\n<pre><code>// relative to the current class package location\nval input  = javaClass.getResourceAsStream(\"/my_resource_file.json\")\n\n// or use system classloader\nval input = ClassLoader.getSystemClassLoader().getResourceAsStream(\"my_resource_file.json\")\n</code></pre>\n\n<p>You are instead doing it in a non standard way by using <code>res</code> as the directory name instead of <code>resources</code> and by trying to access it as a file instead of a classpath resource.  In Gradle docs (similarly for Maven) they explain the file layout: <a href=\"https://docs.gradle.org/3.3/userguide/java_plugin.html#sec:java_project_layout\" rel=\"nofollow noreferrer\">Gradle Java Project Layout</a></p>\n"}], "owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496681646, "creation_date": 1496646201, "question_id": 44363426, "link": "https://stackoverflow.com/questions/44363426/how-to-put-the-res-files-from-the-project-to-the-jar-in-the-same-folder", "title": "How to put the res files from the project to the jar in the same folder?", "body": "<p>I have problem with gradle. \nI need the res folder had exactly the same location as in the project in order that would be executable file addressed to the resource in the same way as in the \"unbuild\" project.\nmy project file tree:</p>\n\n<pre><code>Project\n+--src\n   +--main\n      |--kotlin\n      +--res\n</code></pre>\n\n<p>In the project resource usage I address in the following way: </p>\n\n<pre><code>var serviceAccount =  FileInputStream(\"src/main/res/my_resource_file.json\")\n</code></pre>\n\n<p>And I need when assembled the project location of the resource file saved in the jar file</p>\n\n<p>my build.gradle file:</p>\n\n<pre><code>group 'Bot'\nversion '1.0'\n\nbuildscript {\n    ext.kotlin_version = '1.1.2'\n\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    jsoup = \"1.10.2\"\n    //...\n    firebase_admin = \"5.0.0\"\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    //...\n    compile \"com.google.firebase:firebase-admin:$firebase_admin\"\n}\n\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin/'\n    test.java.srcDirs += 'src/test/kotlin/'\n    main {\n        resources {\n            srcDirs = [\"src/main/res\"]\n        }\n    }\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'com.my.bot.MainKt'\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>I suspect that you need to configure this section <code>jar{//...}</code>, but i don't know what did is in gradle</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "parcelable"], "answers": [{"comments": [{"owner": {"reputation": 704, "user_id": 7667623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250775215012375/picture?type=large", "display_name": "Sanjay Hadiya", "link": "https://stackoverflow.com/users/7667623/sanjay-hadiya"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496648612, "post_id": 44362179, "comment_id": 75729457, "body": "@Miha_x64 yaaa but you can do it in kotlin"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496648707, "post_id": 44362179, "comment_id": 75729495, "body": "Oh, I&#39;ve never noticed it&#39;s in Java. Switching between Kotlin and Java is absolutely seamless for me. :)"}, {"owner": {"reputation": 704, "user_id": 7667623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250775215012375/picture?type=large", "display_name": "Sanjay Hadiya", "link": "https://stackoverflow.com/users/7667623/sanjay-hadiya"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496649081, "post_id": 44362179, "comment_id": 75729670, "body": "@Miha_x64  plzzz solve this  <a href=\"https://stackoverflow.com/questions/44361960/how-to-put-recyclerview-onitemclicklistener-on-fragment\" title=\"how to put recyclerview onitemclicklistener on fragment\">stackoverflow.com/questions/44361960/&hellip;</a>"}], "tags": [], "owner": {"reputation": 704, "user_id": 7667623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250775215012375/picture?type=large", "display_name": "Sanjay Hadiya", "link": "https://stackoverflow.com/users/7667623/sanjay-hadiya"}, "is_accepted": false, "score": 7, "last_activity_date": 1496652855, "last_edit_date": 1496652855, "creation_date": 1496640376, "answer_id": 44362179, "question_id": 44362067, "link": "https://stackoverflow.com/questions/44362067/creating-a-parcelable-object-in-kotlin/44362179#44362179", "title": "creating a parcelable object in kotlin", "body": "<p>TestActivity.kt</p>\n\n<pre><code>class TestActivity : Activity() {  \n    val DEVOTIONAL_RESPONSE: String = \"DEVOTIONAL_RESPONSE\"\n    var holdr: Holdr_ActivityTest? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_test)\n        holdr = Holdr_ActivityTest(findViewById(android.R.id.content))\n\n        //create response\n        var response: DevotionalResponse = DevotionalResponse()\n        fillInResponse(response)\n\n        //write it to a Bundle\n        var newBundle: Bundle = Bundle()\n        newBundle.putParcelable(DEVOTIONAL_RESPONSE, response)\n\n        //read it from the new Bundle\n        var newResponse: DevotionalResponse = newBundle.getParcelable(DEVOTIONAL_RESPONSE)\n\n        //check that they're the same\n        assert(newResponse.getDevotionals().get(0).getContent().equalsIgnoreCase(response.getDevotionals().get(0).getContent()))\n    }\n}\n</code></pre>\n\n<p>DevotionalResponse.kt</p>\n\n<pre><code>class DevotionalResponse() : Parcelable {\n\n    @Expose\n    var devotionals = arrayListOf&lt;Devotional&gt;();\n\n    constructor(in: Parcel) : this() {\n        in.readTypedList(this.devotionals, Devotional.CREATOR)\n    }\n\n    override fun describeContents(): Int = 0\n\n    override fun writeToParcel(dest: Parcel, flags: Int) {\n        dest.writeTypedList(devotionals)\n    }\n\n    companion object {\n        @JvmField val CREATOR = object : Parcelable.Creator&lt;DevotionalResponse&gt;() {\n            override fun createFromParcel(in: Parcel): DevotionalResponse =\n                    DevotionalResponse(in)\n\n            override fun newArray(size: Int): Array&lt;DevotionalResponse?&gt; =\n                    arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n\n<p>Go on This Link For full Solution</p>\n\n<p><a href=\"http://matthewwear.xyz/kotlin-android-and-parcelable-a-journey-of-a-thousand-bundles/\" rel=\"noreferrer\">Kotlin Object Example</a></p>\n"}], "owner": {"reputation": 399, "user_id": 3793506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iEhwk.jpg?s=128&g=1", "display_name": "Rabindra Khadka", "link": "https://stackoverflow.com/users/3793506/rabindra-khadka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3883, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1516360260, "creation_date": 1496639672, "last_edit_date": 1516360260, "question_id": 44362067, "link": "https://stackoverflow.com/questions/44362067/creating-a-parcelable-object-in-kotlin", "title": "creating a parcelable object in kotlin", "body": "<p>Best way to create a parcelable object in kotlin?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "answers": [{"comments": [{"owner": {"reputation": 5283, "user_id": 4908802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/yKPO8.jpg?s=128&g=1", "display_name": "yennsarah", "link": "https://stackoverflow.com/users/4908802/yennsarah"}, "edited": false, "score": 3, "creation_date": 1502175569, "post_id": 44428451, "comment_id": 78081891, "body": "Do you have a working implementation in a sample app or something like that? That&#39;d be great!"}, {"owner": {"reputation": 1239, "user_id": 1544211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc45c86b58b06eb5af34ec1891f2cc68?s=128&d=identicon&r=PG", "display_name": "fast3r", "link": "https://stackoverflow.com/users/1544211/fast3r"}, "edited": false, "score": 20, "creation_date": 1521039299, "post_id": 44428451, "comment_id": 85564397, "body": "Have you, by any chance, found a way to fetch the whole object instead of the ids? I&#39;m afraid there is no way to achieve that in a single query with a M:N relationship."}, {"owner": {"reputation": 1052, "user_id": 2238023, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a92a99a6222b719e5b407e0ea6f7cac6?s=128&d=identicon&r=PG", "display_name": "Bryan Bryce", "link": "https://stackoverflow.com/users/2238023/bryan-bryce"}, "edited": false, "score": 1, "creation_date": 1547572664, "post_id": 44428451, "comment_id": 95234428, "body": "Using Room 2.0.0, projection is looking or an <code>Array</code>, not a <code>String</code>...has the API changed?"}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1562489331, "post_id": 44428451, "comment_id": 100383772, "body": "@Devrim can you please give me a hand on this? Looks similar to this but can not make it work... <a href=\"https://stackoverflow.com/questions/56918019/how-to-store-what-user-have-searched-and-its-result\" title=\"how to store what user have searched and its result\">stackoverflow.com/questions/56918019/&hellip;</a>"}, {"owner": {"reputation": 131, "user_id": 6661043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETmUQ.png?s=128&g=1", "display_name": "Deepak Joshi", "link": "https://stackoverflow.com/users/6661043/deepak-joshi"}, "edited": false, "score": 1, "creation_date": 1564991076, "post_id": 44428451, "comment_id": 101195620, "body": "Try this for many to many,  <a href=\"https://developer.android.com/training/data-storage/room/relationships#many-to-many\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room/&hellip;</a>"}, {"owner": {"reputation": 1815, "user_id": 1708390, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/symR5.jpg?s=128&g=1", "display_name": "Bugs Happen", "link": "https://stackoverflow.com/users/1708390/bugs-happen"}, "edited": false, "score": 0, "creation_date": 1566298875, "post_id": 44428451, "comment_id": 101604686, "body": "<a href=\"https://developer.android.com/training/data-storage/room/referencing-data#understand-no-object-references\" rel=\"nofollow noreferrer\">Here</a> is why Room doesn&#39;t provide Relation to Object mapping"}], "tags": [], "owner": {"reputation": 14634, "user_id": 1460509, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/AFLuB.jpg?s=128&g=1", "display_name": "Devrim", "link": "https://stackoverflow.com/users/1460509/devrim"}, "is_accepted": false, "score": 88, "last_activity_date": 1498482723, "last_edit_date": 1498482723, "creation_date": 1496904141, "answer_id": 44428451, "question_id": 44361824, "link": "https://stackoverflow.com/questions/44361824/how-can-i-represent-a-many-to-many-relation-with-android-room-when-column-name/44428451#44428451", "title": "How can I represent a &quot;many to many&quot; relation with Android Room when column names are same?", "body": "<p>I had a similar issue. Here is my solution.</p>\n\n<p>You can use an extra entity (<code>ReservationGuest</code>) which keeps the relation between <code>Guest</code> and <code>Reservation</code>.</p>\n\n<pre><code>@Entity data class Guest(\n    @PrimaryKey val id: Long,\n    val name: String,\n    val email: String\n)\n\n@Entity data class Reservation(\n    @PrimaryKey val id: Long,\n    val table: String\n)\n\n@Entity data class ReservationGuest(\n    @PrimaryKey(autoGenerate = true) val id: Long,\n    val reservationId: Long,\n    val guestId: Long\n)\n</code></pre>\n\n<p>You can get reservations with their list of <code>guestId</code>s. (Not the guest objects)</p>\n\n<pre><code>data class ReservationWithGuests(\n    @Embedded val reservation:Reservation,\n    @Relation(\n        parentColumn = \"id\",\n        entityColumn = \"reservationId\",\n        entity = ReservationGuest::class,\n        projection = \"guestId\"\n    ) val guestIdList: List&lt;Long&gt;\n)\n</code></pre>\n\n<p>You can also get guests with their list of <code>reservationId</code>s. (Not the reservation objects)</p>\n\n<pre><code>data class GuestWithReservations(\n    @Embedded val guest:Guest,\n    @Relation(\n        parentColumn = \"id\",\n        entityColumn = \"guestId\",\n        entity = ReservationGuest::class,\n        projection = \"reservationId\"\n   ) val reservationIdList: List&lt;Long&gt;\n)\n</code></pre>\n\n<p>Since you can get the <code>guestId</code>s and <code>reservationId</code>s, you can query <code>Reservation</code> and <code>Guest</code> entities with those.</p>\n\n<p>I'll update my answer if I find an easy way to fetch Reservation and Guest object list instead of their ids.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/44330452/android-persistence-room-cannot-figure-out-how-to-read-this-field-from-a-curso/44424148#44424148\">Similar answer</a></p>\n"}, {"comments": [{"owner": {"reputation": 7061, "user_id": 650322, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2b655fa98f7b5628135b63e5f559c70c?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/650322/anthony"}, "edited": false, "score": 1, "creation_date": 1514660717, "post_id": 47312356, "comment_id": 83044076, "body": "<code>ReservationGuest</code> is an additional copy of the <code>Guest</code> table with the one-way reservation relation.  This isn&#39;t really M:N."}, {"owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "edited": false, "score": 0, "creation_date": 1535022136, "post_id": 47312356, "comment_id": 90917848, "body": "What @Embedded do is create for you the columns that the embedded object has on the table of the entity that you used it. If you do like this you going to have the same kind of data for Guest in two tables."}], "tags": [], "owner": {"reputation": 146, "user_id": 4992598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee53ee50ba63e8ed5ee76e070ceb7f60?s=128&d=identicon&r=PG&f=1", "display_name": "andu", "link": "https://stackoverflow.com/users/4992598/andu"}, "is_accepted": false, "score": -1, "last_activity_date": 1510762697, "creation_date": 1510762697, "answer_id": 47312356, "question_id": 44361824, "link": "https://stackoverflow.com/questions/44361824/how-can-i-represent-a-many-to-many-relation-with-android-room-when-column-name/47312356#47312356", "title": "How can I represent a &quot;many to many&quot; relation with Android Room when column names are same?", "body": "<p>Based on the answer above: <a href=\"https://stackoverflow.com/a/44428451/4992598\">https://stackoverflow.com/a/44428451/4992598</a> only by keeping separate field names between entities\nyou can have models returned (not just ids). All you need to do is:</p>\n\n<pre><code>@Entity data class ReservationGuest(\n    @PrimaryKey(autoGenerate = true) val id: Long,\n    val reservationId: Long,\n    @Embedded\n    val guest: Guest\n)\n</code></pre>\n\n<p>And yes entities can be embedded in one another as long as you don't keep duplicate fields. So in consequence the ReservationWithGuests class can look like this.</p>\n\n<pre><code>data class ReservationWithGuests(\n    @Embedded val reservation:Reservation,\n    @Relation(\n        parentColumn = \"id\",\n        entityColumn = \"reservationId\",\n        entity = ReservationGuest::class,\n        projection = \"guestId\"\n    ) val guestList: List&lt;Guest&gt;\n)\n</code></pre>\n\n<p>So at this point you can use val guestIdList: List because your ReservationGuest entity actually maps ids with entity models.  </p>\n"}, {"comments": [{"owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "edited": false, "score": 0, "creation_date": 1535051511, "post_id": 48045879, "comment_id": 90935140, "body": "Is the <code>table</code> in the second line of the SQL statement right or is a typo for <code>tables</code>?"}, {"owner": {"reputation": 7061, "user_id": 650322, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2b655fa98f7b5628135b63e5f559c70c?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/650322/anthony"}, "reply_to_user": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "edited": false, "score": 1, "creation_date": 1535075311, "post_id": 48045879, "comment_id": 90942197, "body": "<code>table</code> selects a column, <code>tables</code> is the query result"}, {"owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "edited": false, "score": 0, "creation_date": 1535121026, "post_id": 48045879, "comment_id": 90963225, "body": "TABLE is a keyword in SQLite, even with the column name changed the lint still points errors and I this would make the user lose the ID attribute of <code>Reservation</code>. To preserve an abitrary number of attributes from <code>Reservation</code> another concatenation should be done between its columns and another split on the converter. I will post an answer with my implementation if anyone needs more than one attribute."}], "tags": [], "owner": {"reputation": 7061, "user_id": 650322, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2b655fa98f7b5628135b63e5f559c70c?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/650322/anthony"}, "is_accepted": false, "score": 9, "last_activity_date": 1514760572, "last_edit_date": 1514760572, "creation_date": 1514756978, "answer_id": 48045879, "question_id": 44361824, "link": "https://stackoverflow.com/questions/44361824/how-can-i-represent-a-many-to-many-relation-with-android-room-when-column-name/48045879#48045879", "title": "How can I represent a &quot;many to many&quot; relation with Android Room when column names are same?", "body": "<p>Here is a way to query a full object model through an M:N junction table in a single query.  The subqueries are probably not the most efficient way to do this, but it does work until they get <code>@Relation</code> to properly walk through <code>ForeignKey</code>.  <em>I hand-jammed the Guest/Reservation framework into my working code so there may be typos.</em></p>\n\n<p><strong>Entity</strong> (This has been covered)</p>\n\n<pre><code>@Entity data class Guest(\n    @PrimaryKey val id: Long,\n    val name: String,\n    val email: String\n)\n\n@Entity data class Reservation(\n    @PrimaryKey val id: Long,\n    val table: String\n)\n\n@Entity data class ReservationGuest(\n    @PrimaryKey(autoGenerate = true) val id: Long,\n    val reservationId: Long,\n    val guestId: Long\n)\n</code></pre>\n\n<p><strong>Dao</strong> (Note we pull in the M:N via a subquery and reduce the extra <code>Reservation</code> rows with a <code>GROUP_CONCAT</code></p>\n\n<pre><code>@Query(\"SELECT *, \" +\n            \"(SELECT GROUP_CONCAT(table) \" +\n                \"FROM ReservationGuest \" +\n                \"JOIN Reservation \" +\n                \"ON Reservation.id = ReservationGuest.reservationId \" +\n                \"WHERE ReservationGuest.guestId = Guest.id) AS tables, \" +\n        \"FROM guest\")\nabstract LiveData&lt;List&lt;GuestResult&gt;&gt; getGuests();\n</code></pre>\n\n<p><strong>GuestResult</strong> (This handles the mapping of the query result, note we convert the concatenated string back to a list with <code>@TypeConverter</code>)</p>\n\n<pre><code>@TypeConverters({ReservationResult.class})\npublic class GuestResult extends Guest {\n    public List&lt;String&gt; tables;\n\n    @TypeConverter\n    public List&lt;String&gt; fromGroupConcat(String reservations) {\n        return Arrays.asList(reservations.split(\",\"));\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "is_accepted": false, "score": 19, "last_activity_date": 1527413491, "creation_date": 1527413491, "answer_id": 50550796, "question_id": 44361824, "link": "https://stackoverflow.com/questions/44361824/how-can-i-represent-a-many-to-many-relation-with-android-room-when-column-name/50550796#50550796", "title": "How can I represent a &quot;many to many&quot; relation with Android Room when column names are same?", "body": "<p>Actually there is one more possibility to get <code>Guest</code> list, not only id's like in <a href=\"https://stackoverflow.com/a/44428451/4386668\">@Devrim</a> answer.</p>\n\n<p>First define class which will represent the connection between <code>Guest</code> and <code>Reservation</code>.</p>\n\n<pre><code>@Entity(primaryKeys = [\"reservationId\", \"guestId\"],\n        foreignKeys = [\n            ForeignKey(entity = Reservation::class,\n                    parentColumns = [\"id\"],\n                    childColumns = [\"reservationId\"]),\n            ForeignKey(entity = Guest::class,\n                    parentColumns = [\"id\"],\n                    childColumns = [\"guestId\"])\n        ])\ndata class ReservationGuestJoin(\n    val reservationId: Long,\n    val guestId: Long\n)\n</code></pre>\n\n<p>Each time you will be inserting new <code>Reservation</code>, you will have to insert <code>ReservationGuestJoin</code> object in order to fulfill foreign key constraint. \nAnd now if you want to get <code>Guest</code> list you can use power of SQL query:</p>\n\n<pre><code>@Dao\ninterface ReservationGuestJoinDao {\n\n    @SuppressWarnings(RoomWarnings.CURSOR_MISMATCH)\n    @Query(\"\"\"\n        SELECT * FROM guest INNER JOIN reservationGuestJoin ON\n        guest.id = reservationGuestJoin.guestId WHERE\n        reservationGuestJoin.reservationId = :reservationId\n        \"\"\")\n    fun getGuestsWithReservationId(reservationId: Long): List&lt;Guest&gt;\n}\n</code></pre>\n\n<p>To see more details visit <a href=\"https://android.jlelse.eu/android-architecture-components-room-relationships-bf473510c14a\" rel=\"noreferrer\">this blog</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551632438, "post_id": 52007078, "comment_id": 96701940, "body": "Actually I&#39;ve answered my question and yeah this seems to be the way to go (create an <code>@Entity</code> to define the join table)."}], "tags": [], "owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "is_accepted": false, "score": 0, "last_activity_date": 1551632157, "last_edit_date": 1551632157, "creation_date": 1535122555, "answer_id": 52007078, "question_id": 44361824, "link": "https://stackoverflow.com/questions/44361824/how-can-i-represent-a-many-to-many-relation-with-android-room-when-column-name/52007078#52007078", "title": "How can I represent a &quot;many to many&quot; relation with Android Room when column names are same?", "body": "<p>For the join table entity, I suggest to use a composite ID indexed:</p>\n\n<pre><code>@Entity(\n    primaryKeys = [\"reservationId\", \"guestId\"],\n    indices = [Index(value =[\"reservationId\", \"guestId\"], unique = true)]\n)\ndata class ReservationGuestJoin(\n    @PrimaryKey(autoGenerate = true) var id: Long,\n    var reservationId: Long = 0,\n    var guestId: Long = 0\n)\n</code></pre>\n\n<p>The GuestDao.kt:</p>\n\n<pre><code>@Dao\n@TypeConverters(GuestDao.Converters::class)\ninterface GuestDao {\n\n    @Query(QUERY_STRING)\n    fun listWithReservations(): LiveData&lt;List&lt;GuestWithReservations&gt;&gt;\n\n    data class GuestWithReservations(\n        var id: Long? = null,\n        var name: String? = null,\n        var email: String? = null,\n        var reservations: List&lt;Reservation&gt; = emptyList()\n    )\n\n    class Converters{\n        @TypeConverter\n        fun listReservationFromConcatString(value: String?): List&lt;Reservation&gt;? = value?.let { value -&gt;\n                .split(\"^^\")\n                .map { it.split(\"^_\") }\n                .map { Reservation(id = it.getOrNull(0)?.toLongOrNull(), name = it.getOrNull(1)) }\n        } ?: emptyList()\n    }\n}\n</code></pre>\n\n<p>The <code>QUERY_STRING</code>. We make a inner joins to produce a big table with data from both entities, them we concatenate the data from <code>Reservation</code> as a column string and lastly we group_concat the rows by the guest ID, concatenating the reservation strings with different separators, our converter will take care of rebuild it as a entity:</p>\n\n<pre><code>SELECT \n    t.id, t.name, t.email, GROUP_CONCAT(t.reservation, '^^') as reservations \nFROM (\n    SELECT \n        guestId as id, name, email, (reservationId || '^_' || reservationTable) as reservation \n    FROM  \n        GuestReservationJoin\n        INNER JOIN Guest ON Guest.id = GuestReservationJoin.guestId \n        INNER JOIN Reservation ON Reservation.id = GuestReservationJoin.reservationId\n    ) as t \nGROUP BY t.id\n</code></pre>\n\n<p>Note that I changed your column <code>table</code> name because I think Room do not allow you to use SQLite reserved names.</p>\n\n<p>I didn't test the performance of all this compared with have more flat entity (another option without the concatenations). If I do, I'll update my answer.</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 1092483, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/6nZCs.png?s=128&g=1", "display_name": "christophercarlsson", "link": "https://stackoverflow.com/users/1092483/christophercarlsson"}, "edited": false, "score": 7, "creation_date": 1577712359, "post_id": 58424784, "comment_id": 105232682, "body": "This should be considered the accepted answer from now on, Junctions solves the issue + you get the entire object back and not only the ID. Its also the solution provided by the Android docs. If you&#39;re using Java you have to use @Junction annotation.  <a href=\"https://developer.android.com/training/data-storage/room/relationships#many-to-many\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room/&hellip;</a> ."}, {"owner": {"reputation": 2022, "user_id": 1099884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fb9792afb5d8575b734f05cdc714981?s=128&d=identicon&r=PG", "display_name": "Yeung", "link": "https://stackoverflow.com/users/1099884/yeung"}, "edited": false, "score": 1, "creation_date": 1594898196, "post_id": 58424784, "comment_id": 111291269, "body": "This save me the headache. From <a href=\"https://developer.android.com/training/data-storage/room/relationships\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room/relationshi&zwnj;&#8203;ps</a>, it is missing something in <code>@Relation</code> which drive me crazy!!!!"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 2, "creation_date": 1596186674, "post_id": 58424784, "comment_id": 111737750, "body": "This answer is more useful than the current official docs because the docs repeat the same field names (songId and playlistId) across entities so it&#39;s a little confusing. Thanks!"}, {"owner": {"reputation": 6601, "user_id": 5457853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ee94ffac93a9a507abbbbd679f4779a?s=128&d=identicon&r=PG&f=1", "display_name": "Thracian", "link": "https://stackoverflow.com/users/5457853/thracian"}, "edited": false, "score": 1, "creation_date": 1599856554, "post_id": 58424784, "comment_id": 112915338, "body": "Insert to both tables with a <code>@Transaction</code> or manually, right? Also when a Guest deleted should it also be deleted manually, right or does Room handle that?"}, {"owner": {"reputation": 928, "user_id": 4612653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f074f47aafbc3697cd5019a60ee710?s=128&d=identicon&r=PG", "display_name": "akubi", "link": "https://stackoverflow.com/users/4612653/akubi"}, "edited": false, "score": 0, "creation_date": 1601373041, "post_id": 58424784, "comment_id": 113380873, "body": "Can I use IDs in query using such a setup? For example, I want to select  reservations made by a specific guest ID?"}, {"owner": {"reputation": 692, "user_id": 4568312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pMc4R.jpg?s=128&g=1", "display_name": "Nischal", "link": "https://stackoverflow.com/users/4568312/nischal"}, "reply_to_user": {"reputation": 6601, "user_id": 5457853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ee94ffac93a9a507abbbbd679f4779a?s=128&d=identicon&r=PG&f=1", "display_name": "Thracian", "link": "https://stackoverflow.com/users/5457853/thracian"}, "edited": false, "score": 0, "creation_date": 1601374311, "post_id": 58424784, "comment_id": 113381489, "body": "@Thracian You have to maintain relationship between guest table, reservation table and the join table."}, {"owner": {"reputation": 692, "user_id": 4568312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pMc4R.jpg?s=128&g=1", "display_name": "Nischal", "link": "https://stackoverflow.com/users/4568312/nischal"}, "reply_to_user": {"reputation": 928, "user_id": 4612653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f074f47aafbc3697cd5019a60ee710?s=128&d=identicon&r=PG", "display_name": "akubi", "link": "https://stackoverflow.com/users/4612653/akubi"}, "edited": false, "score": 1, "creation_date": 1601374337, "post_id": 58424784, "comment_id": 113381508, "body": "@akubi Yes you can modify the query as per your need."}], "tags": [], "owner": {"reputation": 692, "user_id": 4568312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pMc4R.jpg?s=128&g=1", "display_name": "Nischal", "link": "https://stackoverflow.com/users/4568312/nischal"}, "is_accepted": false, "score": 34, "last_activity_date": 1571287393, "last_edit_date": 1571287393, "creation_date": 1571285363, "answer_id": 58424784, "question_id": 44361824, "link": "https://stackoverflow.com/questions/44361824/how-can-i-represent-a-many-to-many-relation-with-android-room-when-column-name/58424784#58424784", "title": "How can I represent a &quot;many to many&quot; relation with Android Room when column names are same?", "body": "<p>With the introduction to <a href=\"https://developer.android.com/reference/androidx/room/Junction\" rel=\"noreferrer\">Junction</a> in room you can handle many-to-many relationship with ease.</p>\n\n<p>As @Devrim stated you can use an extra entity (ReservationGuest) which keeps the relation between Guest and Reservation(also know as associative table or junction table or join table).</p>\n\n<pre><code>@Entity\ndata class Guest(\n  @PrimaryKey\n  val gId: Long,\n  val name: String,\n  val email: String\n)\n\n@Entity\ndata class Reservation(\n  @PrimaryKey\n  val rId: Long,\n  val table: String\n)\n\n@Entity(\n  primaryKeys = [\"reservationId\", \"guestId\"]\n)\ndata class ReservationGuest(     \n  val reservationId: Long,\n  val guestId: Long\n)\n</code></pre>\n\n<p>Now you can get reservation with guests using this model:  </p>\n\n<pre><code>data class ReservationWithGuests (\n    @Embedded\n    val reservation: Reservation,\n    @Relation(\n            parentColumn = \"rId\",\n            entity = Guest::class,\n            entityColumn = \"gId\",\n            associateBy = Junction(\n                    value = ReservationGuest::class,\n                    parentColumn = \"reservationId\",\n                    entityColumn = \"guestId\"\n            )\n    )\n    val guests: List&lt;Guest&gt;\n)\n</code></pre>\n\n<p>You can also get guest with their list of reservations as.</p>\n\n<pre><code>data class GuestWithReservations (\n  @Embedded\n  val guest: Guest,\n  @Relation(\n        parentColumn = \"gId\",\n        entity = Reservation::class,\n        entityColumn = \"rId\",\n        associateBy = Junction(\n                value = ReservationGuest::class,\n                parentColumn = \"guestId\",\n                entityColumn = \"reservationId\"\n        )\n  )\n  val reservations: List&lt;Reservation&gt;\n)\n</code></pre>\n\n<p>Now you can query database for the result as:</p>\n\n<pre><code>@Dao\ninterface GuestReservationDao {\n  @Query(\"SELECT * FROM Reservation\")\n  fun getReservationWithGuests(): LiveData&lt;List&lt;ReservationWithGuests&gt;&gt;\n\n  @Query(\"SELECT * FROM Guest\")\n  fun getGuestWithReservations(): LiveData&lt;List&lt;GuestWithReservations&gt;&gt;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 10286, "user_id": 710802, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/7bdd31a948096ab5e3f26f62bb44fed7?s=128&d=identicon&r=PG&f=1", "display_name": "bond", "link": "https://stackoverflow.com/users/710802/bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28633, "favorite_count": 32, "answer_count": 6, "score": 59, "last_activity_date": 1610816788, "creation_date": 1496638062, "last_edit_date": 1610816788, "question_id": 44361824, "link": "https://stackoverflow.com/questions/44361824/how-can-i-represent-a-many-to-many-relation-with-android-room-when-column-name", "title": "How can I represent a &quot;many to many&quot; relation with Android Room when column names are same?", "body": "<p>How can I represent a &quot;many to many&quot; relation with <code>Room</code>? My column names are also the same.</p>\n<p>e.g. I have <code>Guest</code> and <code>Reservation</code>. <code>Reservation</code> can have many <code>Guest</code>'s and a <code>Guest</code> can be part of many Reservations.</p>\n<p>Here are my entity definitions:</p>\n<pre><code>@Entity data class Reservation(\n    @PrimaryKey val id: Long,\n    val table: String,\n    val guests: List&lt;Guest&gt;\n)\n\n@Entity data class Guest(\n    @PrimaryKey val id: Long,\n    val name: String,\n    val email: String\n)\n</code></pre>\n<p>While looking into docs I came across <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Relation.html\" rel=\"nofollow noreferrer\"><code>@Relation</code></a>. I found it really confusing though.</p>\n<p>According to this I would want to create a POJO and add the relationships there. So, with my example I did the following:</p>\n<pre><code>data class ReservationForGuest(\n    @Embedded val reservation: Reservation,\n    @Relation(\n        parentColumn = &quot;reservation.id&quot;, \n        entityColumn = &quot;id&quot;, \n        entity = Guest::class\n    ) val guestList: List&lt;Guest&gt;\n)\n</code></pre>\n<p>With above I get the compiler error:</p>\n<pre><code>&gt; Cannot figure out how to read this field from a cursor.\n</code></pre>\n<p>I wasn't able to find a working sample of <code>@Relation</code>.</p>\n"}, {"tags": ["java", "android", "kotlin", "classcastexception"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7371321, "user_type": "registered", "profile_image": "https://graph.facebook.com/1795058197411413/picture?type=large", "display_name": "Walid Alhasn", "link": "https://stackoverflow.com/users/7371321/walid-alhasn"}, "edited": false, "score": 0, "creation_date": 1496651019, "post_id": 44364077, "comment_id": 75730571, "body": "<code>FATAL EXCEPTION: main                                                                           Process: com.alhasnapps.resimleri, PID: 17516                                                                           kotlin.TypeCastException: null cannot be cast to non-null type android.widget.ImageView                                  </code>"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "reply_to_user": {"reputation": 1, "user_id": 7371321, "user_type": "registered", "profile_image": "https://graph.facebook.com/1795058197411413/picture?type=large", "display_name": "Walid Alhasn", "link": "https://stackoverflow.com/users/7371321/walid-alhasn"}, "edited": false, "score": 0, "creation_date": 1496651254, "post_id": 44364077, "comment_id": 75730698, "body": "I can&#39;t see anything related to ImageView in your code."}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 0, "last_activity_date": 1496648636, "creation_date": 1496648636, "answer_id": 44364077, "question_id": 44361602, "link": "https://stackoverflow.com/questions/44361602/android-kotlin-java-lang-classcastexception/44364077#44364077", "title": "android -kotlin -java.lang.ClassCastException", "body": "<p>In <code>onCreateViewHolder(p0: ViewGroup?, p1: Int)</code>, <code>p1</code> represents <code>viewType</code>.</p>\n\n<p>Should be </p>\n\n<pre><code>if (p1 == TYPE1) {\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>if (getItemViewType(p1) == TYPE1) {\n</code></pre>\n\n<p>Also, you may want to return <code>array.size + 1</code> from <code>getItemCount</code>, because you've added header view.</p>\n"}], "owner": {"reputation": 1, "user_id": 7371321, "user_type": "registered", "profile_image": "https://graph.facebook.com/1795058197411413/picture?type=large", "display_name": "Walid Alhasn", "link": "https://stackoverflow.com/users/7371321/walid-alhasn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 791, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1496648636, "creation_date": 1496636224, "last_edit_date": 1496638039, "question_id": 44361602, "link": "https://stackoverflow.com/questions/44361602/android-kotlin-java-lang-classcastexception", "title": "android -kotlin -java.lang.ClassCastException", "body": "<p>RecyclerView Multi viewType Error</p>\n\n<pre><code>FATAL EXCEPTION: main\n       Process: com.example.expertsaraqeb.myapplication, PID: 4329\n       java.lang.ClassCastException: com.example.expertsaraqeb.myapplication.Madapter$MyHolder cannot be cast to com.example.expertsaraqeb.myapplication.MyViewH\n06-05 07:00:35.897 4329-4329/com.example.expertsaraqeb.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\n   Process: com.example.expertsaraqeb.myapplication, PID: 4329\n   java.lang.ClassCastException: com.example.expertsaraqeb.myapplication.Madapter$MyHolder cannot be cast to com.example.expertsaraqeb.myapplication.MyViewH\n       at com.example.expertsaraqeb.myapplication.Madapter.onBindViewHolder(Madapter.kt:27)\n       at com.example.expertsaraqeb.myapplication.Madapter.onBindViewHolder(Madapter.kt:11)\n       at android.support.v7.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:6356)\n       at android.support.v7.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:6389)\n       at android.support.v7.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:5335)\n       at android.support.v7.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:5598)\n       at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5440)\n       at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5436)\n       at android.support.v7.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2224)\n       at android.support.v7.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1551)\n       at android.support.v7.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1511)\n       at android.support.v7.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:595)\n       at android.support.v7.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3583)\n       at android.support.v7.widget.RecyclerView.onMeasure(RecyclerView.java:3025)\n       at android.view.View.measure(View.java:16749)\n       at android.support.constraint.ConstraintLayout.internalMeasureChildren(ConstraintLayout.java:934)\n       at android.support.constraint.ConstraintLayout.onMeasure(ConstraintLayout.java:973)\n       at android.view.View.measure(View.java:16749)\n       at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1658)\n       at android.view.View.measure(View.java:16749)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5295)\n       at android.support.design.widget.CoordinatorLayout.onMeasureChild(CoordinatorLayout.java:714)\n       at android.support.design.widget.HeaderScrollingViewBehavior.onMeasureChild(HeaderScrollingViewBehavior.java:90)\n       at android.support.design.widget.AppBarLayout$ScrollingViewBehavior.onMeasureChild(AppBarLayout.java:1391)\n       at android.support.design.widget.CoordinatorLayout.onMeasure(CoordinatorLayout.java:784)\n       at android.view.View.measure(View.java:16749)\n       at android.support.v4.widget.DrawerLayout.onMeasure(DrawerLayout.java:1081)\n       at android.view.View.measure(View.java:16749)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5295)\n       at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n       at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\n       at android.view.View.measure(View.java:16749)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5295)\n       at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1413)\n       at android.widget.LinearLayout.measureVertical(LinearLayout.java:696)\n       at android.widget.LinearLayout.onMeasure(LinearLayout.java:589)\n       at android.view.View.measure(View.java:16749)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5295)\n       at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n       at android.view.View.measure(View.java:16749)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5295)\n       at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1413)\n       at android.widget.LinearLayout.measureVertical(LinearLayout.java:696)\n       at android.widget.LinearLayout.onMeasure(LinearLayout.java:589)\n       at android.view.View.measure(View.java:16749)\n       at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5295)\n       at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n       at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2439)\n       at android.view.View.measure(View.java:16749)\n       at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2072)\n    at android.\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>package com.example.expertsaraqeb.myapplication\n\nimport android.content.Context\nimport android.support.v7.widget.RecyclerView\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\n\nclass Madapter (val context: Context, val array:ArrayList&lt;ModelItem&gt;): RecyclerView.Adapter&lt;Madapter.MyHolder&gt;() {\n    var TYPE1=15\n    var TYPE2=28\n    override fun getItemViewType(position: Int): Int {\n        if (position==0){\n            return TYPE1\n        }else{\n            return TYPE2\n        }\n    }\n    override fun getItemCount(): Int {\n       return array.size\n    }\n\n    override fun onBindViewHolder(p0: MyHolder?, p1: Int) {\n        if (p0!!.itemViewType==TYPE1){\n            val my= p0 as MyViewH //Error here\n\n            Log.d(\"walidalhasn\",\"p\"+getItemViewType(p1))\n\n        }else if (p0.itemViewType==TYPE1){\n            Log.d(\"walidalhasn\",\"j\"+getItemViewType(p1))\n\n\n        }\n    }\n\n    override fun onCreateViewHolder(p0: ViewGroup?, p1: Int): MyHolder {\n        if (getItemViewType(p1)==TYPE1){\n            val view= LayoutInflater.from(context).inflate(R.layout.row_no_color,p0,false)\n            return MyViewH(view)\n        }else {\n            val view= LayoutInflater.from(context).inflate(R.layout.home_row,p0,false)\n            return MyHolder(view)\n\n        }\n\n    }\n\n    open class MyHolder (view: View):RecyclerView.ViewHolder(view)\n\n\n}\n\nclass MyViewH(view: View?) : Madapter.MyHolder(view!!)\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 2611, "user_id": 3109549, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/28171eb9da89605ed11018b44ae9be8b?s=128&d=identicon&r=PG", "display_name": "Tr\u1ea7n \u0110\u1ee9c T&#226;m", "link": "https://stackoverflow.com/users/3109549/tr%e1%ba%a7n-%c4%90%e1%bb%a9c-t%c3%a2m"}, "edited": false, "score": 0, "creation_date": 1496632213, "post_id": 44361142, "comment_id": 75724048, "body": "Please update your source code!.."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1496632376, "post_id": 44361142, "comment_id": 75724081, "body": "<code>:kotlin-stdlib-jre8</code> doesn&#39;t like when you use <code>sourceCompatibility = &quot;1.7&quot;</code>"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1496633784, "post_id": 44361142, "comment_id": 75724357, "body": "Do you run with kotlin stdlib on classpath?"}, {"owner": {"reputation": 1, "user_id": 2382308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90014ca798b9b814d0172b6a8a543cba?s=128&d=identicon&r=PG", "display_name": "Sunhuihui", "link": "https://stackoverflow.com/users/2382308/sunhuihui"}, "edited": false, "score": 0, "creation_date": 1496642869, "post_id": 44361142, "comment_id": 75726863, "body": "I have modify the &quot;sourceCompatibility=1.8&quot;,but it always don&#39;s run."}, {"owner": {"reputation": 718, "user_id": 1415323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93e19768a837823804754f8280009595?s=128&d=identicon&r=PG", "display_name": "Kingsley Adio", "link": "https://stackoverflow.com/users/1415323/kingsley-adio"}, "edited": false, "score": 0, "creation_date": 1496663209, "post_id": 44361142, "comment_id": 75737382, "body": "Android and kotlin-stdlib-jre8 don&#39;t really work together very well. Replace that will <code>kotlin-stdlib</code> and all should work"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 2382308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90014ca798b9b814d0172b6a8a543cba?s=128&d=identicon&r=PG", "display_name": "Sunhuihui", "link": "https://stackoverflow.com/users/2382308/sunhuihui"}, "is_accepted": true, "score": 0, "last_activity_date": 1499390820, "creation_date": 1499390820, "answer_id": 44961173, "question_id": 44361142, "link": "https://stackoverflow.com/questions/44361142/failed-when-running-the-codes-that-mixed-java-with-androidstudio/44961173#44961173", "title": "Failed when running the codes that mixed java with androidstudio", "body": "<p>I add the codes belows at build.gradle and fix this problem.</p>\n\n<p>Links:<a href=\"https://stackoverflow.com/questions/33738304/configuring-gradle-with-kotlin\">Configuring Gradle with Kotlin</a></p>\n\n<p>jar {\n    manifest {\n        attributes 'Main-Class': 'KotMainKt'\n    }</p>\n\n<pre><code>from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 1, "user_id": 2382308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90014ca798b9b814d0172b6a8a543cba?s=128&d=identicon&r=PG", "display_name": "Sunhuihui", "link": "https://stackoverflow.com/users/2382308/sunhuihui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 44961173, "answer_count": 1, "score": -3, "last_activity_date": 1499390820, "creation_date": 1496632035, "last_edit_date": 1496643754, "question_id": 44361142, "link": "https://stackoverflow.com/questions/44361142/failed-when-running-the-codes-that-mixed-java-with-androidstudio", "title": "Failed when running the codes that mixed java with androidstudio", "body": "<h2>My project struct</h2>\n\n<p>(\"<a href=\"https://i.stack.imgur.com/EykkL.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/EykkL.png</a>\")</p>\n\n<h2>Build.gradle content as below</h2>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'kotlin'\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n}\n\nsourceCompatibility = \"1.7\"\ntargetCompatibility = \"1.7\"\nbuildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\nrepositories {\n    mavenCentral()\n}\n\n// override the sourceSet flow other answers.\nsourceSets {\n    main.java.srcDirs+= 'src/main/java'\n    main.kotlin.srcDirs+= 'src/main/kotlin'\n    main.resources.srcDirs += 'src/main/resources'\n}\n</code></pre>\n\n<h2>Exception when I run it</h2>\n\n<p>It may be compiled successfuly but when I run the kotlin codes. \nIt throws the exception below. And the java codes run ok.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n    at KotMainKt.main(kotMain.kt)\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 1 more\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "edited": false, "score": 0, "creation_date": 1496681927, "post_id": 44357750, "comment_id": 75748836, "body": "@Scooter  why answer if you do not know the topic?  Kotlin allows this, you will confuse the issue by guessing, even if the guess works."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 7, "last_activity_date": 1496603399, "last_edit_date": 1496603399, "creation_date": 1496602979, "answer_id": 44357772, "question_id": 44357750, "link": "https://stackoverflow.com/questions/44357750/how-to-resolve-this-unresolved-reference-when-i-have-defined-the-function/44357772#44357772", "title": "How to resolve this \u2018Unresolved reference\u2019 when I have defined the function?", "body": "<p>Local functions can only be used in their local scope after their definition. </p>\n\n<p>You can either move the <code>nextTwo</code> function out of the <code>main</code> function, like this (in this case, it doesn't matter whether it's before or after <code>main</code>):</p>\n\n<pre><code>fun nextTwo(...) {}\n\nfun main(args: Array&lt;String&gt;) { \n    nextTwo(...)\n}\n</code></pre>\n\n<p>Or you can just move it before its usages inside <code>main</code>:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    fun nextTwo(...) {}\n\n    nextTwo(...)\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 3745876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AlpRR.jpg?s=128&g=1", "display_name": "mnaraniya", "link": "https://stackoverflow.com/users/3745876/mnaraniya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496603399, "creation_date": 1496602761, "last_edit_date": 1496603201, "question_id": 44357750, "link": "https://stackoverflow.com/questions/44357750/how-to-resolve-this-unresolved-reference-when-i-have-defined-the-function", "title": "How to resolve this \u2018Unresolved reference\u2019 when I have defined the function?", "body": "<p>I am just a beginner in programming, started learning Kotlin today. I am getting this error.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    val (two, three) = nextTwo(1) // Unresolved reference: nextTwo\n    println(\"1, $two, $three\")\n\n    fun nextTwo(num: Int) : Pair&lt;Int, Int&gt; {\n        return Pair(num+1, num+10)\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/raBjX.png\" rel=\"nofollow noreferrer\">Picture of the error.</a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1496602395, "post_id": 44357676, "comment_id": 75717377, "body": "Seems like the support library could be missing from your gradle dependencies, you should check/post those."}, {"owner": {"reputation": 224, "user_id": 5111305, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/qYs6d.png?s=128&g=1", "display_name": "Daniel Burgner", "link": "https://stackoverflow.com/users/5111305/daniel-burgner"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1496602832, "post_id": 44357676, "comment_id": 75717499, "body": "That was what it was.  Thanks."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496682135, "post_id": 44357676, "comment_id": 75748940, "body": "You know the problem was in Gradle, so you should edit your question to show the original area that had the problem so the question is complete."}], "answers": [{"tags": [], "owner": {"reputation": 224, "user_id": 5111305, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/qYs6d.png?s=128&g=1", "display_name": "Daniel Burgner", "link": "https://stackoverflow.com/users/5111305/daniel-burgner"}, "is_accepted": true, "score": 8, "last_activity_date": 1496602788, "creation_date": 1496602788, "answer_id": 44357754, "question_id": 44357676, "link": "https://stackoverflow.com/questions/44357676/unresolved-reference-linearlayoutmanager-recyclerview/44357754#44357754", "title": "Unresolved reference: LinearLayoutManager/RecyclerView", "body": "<p>I figured it out.  I saw <a href=\"http://mateoj.com/2015/10/06/creating-movies-app-retrofit-picasso-android/\" rel=\"noreferrer\">this post</a> and noticed that I missed a     </p>\n\n<pre><code>compile 'com.android.support:recyclerview-v7:25.3.1'\n</code></pre>\n\n<p>reference in my build.gradle file.  Problem solved.</p>\n"}, {"comments": [{"owner": {"reputation": 7465, "user_id": 1791546, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9c75dd804446c0b394e87bfcfc0014a1?s=128&d=identicon&r=PG", "display_name": "shridutt kothari", "link": "https://stackoverflow.com/users/1791546/shridutt-kothari"}, "edited": false, "score": 1, "creation_date": 1576911029, "post_id": 57009095, "comment_id": 105053413, "body": "Cool this answers the actual problem"}], "tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": false, "score": 9, "last_activity_date": 1562945594, "last_edit_date": 1562945594, "creation_date": 1562941905, "answer_id": 57009095, "question_id": 44357676, "link": "https://stackoverflow.com/questions/44357676/unresolved-reference-linearlayoutmanager-recyclerview/57009095#57009095", "title": "Unresolved reference: LinearLayoutManager/RecyclerView", "body": "<p>Considering Jetpack, you can use <a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"noreferrer\">AndroidX</a> as:</p>\n\n<pre><code>implementation 'androidx.recyclerview:recyclerview:1.0.0'\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>compile 'com.android.support:recyclerview-v7:25.3.1'\n</code></pre>\n\n<p>And in the <code>layout.xml</code>, you need something like:</p>\n\n<pre><code>    &lt;androidx.recyclerview.widget.RecyclerView\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/recyclerView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:scrollbars=\"vertical\"/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1267, "user_id": 1514066, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/FOQOA.jpg?s=128&g=1", "display_name": "Emre G&#252;rses", "link": "https://stackoverflow.com/users/1514066/emre-g%c3%bcrses"}, "is_accepted": false, "score": 0, "last_activity_date": 1590229103, "creation_date": 1590229103, "answer_id": 61970522, "question_id": 44357676, "link": "https://stackoverflow.com/questions/44357676/unresolved-reference-linearlayoutmanager-recyclerview/61970522#61970522", "title": "Unresolved reference: LinearLayoutManager/RecyclerView", "body": "<p>if you use androidx, please changed your gradle with the below. </p>\n\n<p>from : </p>\n\n<pre><code>implementation 'com.android.support:recyclerview-v7:28.0.0'\n</code></pre>\n\n<p>to : </p>\n\n<pre><code>implementation 'androidx.recyclerview:recyclerview:1.0.0'\n</code></pre>\n"}], "owner": {"reputation": 224, "user_id": 5111305, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/qYs6d.png?s=128&g=1", "display_name": "Daniel Burgner", "link": "https://stackoverflow.com/users/5111305/daniel-burgner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10871, "favorite_count": 0, "accepted_answer_id": 44357754, "answer_count": 3, "score": 3, "last_activity_date": 1590229103, "creation_date": 1496602275, "question_id": 44357676, "link": "https://stackoverflow.com/questions/44357676/unresolved-reference-linearlayoutmanager-recyclerview", "title": "Unresolved reference: LinearLayoutManager/RecyclerView", "body": "<p>I started building a movie database app using Kotlin based on a tutorial I found online (see <a href=\"https://medium.com/@juanchosaravia/keddit-part-3-extension-functions-android-extensions-and-more-faa7d232f232\" rel=\"nofollow noreferrer\">this link</a> for details.  While building the movie fragment file, I noticed an \"unresolved reference:  LinearLayoutManager\" and an \"unresolved reference:  RecyclerView\" error. \n I have included the code below to and everything matches up like the tutorial except for those errors:</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.support.v7.widget.LinearLayoutManager\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport com.dburgnerjr.movietvshowdatabase.R\nimport com.dburgnerjr.movietvshowdatabase.commons.inflate\nimport kotlinx.android.synthetic.main.movie_fragment.*\n\nclass MovieFragment : Fragment() {\n\n    private val movieList by lazy {\n        movie_list\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return container?.inflate(R.layout.movie_fragment)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        movieList.setHasFixedSize(true)\n        movieList.layoutManager = LinearLayoutManager(context)\n    }\n}\n</code></pre>\n\n<p>Anything I overlooked?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1496583785, "post_id": 44354465, "comment_id": 75711362, "body": "One thing about this question bugs me thou - how could you miss all other kotlinc errors on that line that actually explain what happens? Hm.."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1496583950, "post_id": 44354465, "comment_id": 75711405, "body": "Because I didn&#39;t actually compile, I only see errors given in the first line in IntelliJ IDEA"}], "answers": [{"comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1496583108, "post_id": 44354525, "comment_id": 75711151, "body": "This makes no sense, you can&#39;t call the method <code>boy</code> without parentheses. Does this actually compile?"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1496583603, "post_id": 44354525, "comment_id": 75711306, "body": "Ah, I missed the <code>val boy</code> part. Your initial version did not work because the Kotlin compiler read <code>c.boy &lt; A, B&gt;</code> as part of a call to the function <code>C.boy(Int)</code> with generic type parameters <code>A</code> and <code>B</code>. Since no classes <code>A</code> and <code>B</code> were present, the compiler complained about unresolved references. In all honesty, this looks like you were deliberately trying to confuse the compiler ;-)"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 2, "last_activity_date": 1496679800, "last_edit_date": 1496679800, "creation_date": 1496582431, "answer_id": 44354525, "question_id": 44354465, "link": "https://stackoverflow.com/questions/44354465/kotlin-unexpected-unresolved-reference/44354525#44354525", "title": "Kotlin unexpected `unresolved reference`", "body": "<p>Well.. I solved these errors by adding a pair of braces:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;): Unit {\n    val A = 234\n    val B = 345\n    val c = C(123)\n\n    girl((c.boy &lt; A), B &gt; A) // hey look at here\n}\n</code></pre>\n\n<p>But I still wonder why my code above doesn't work</p>\n\n<p>Edit: see the other answer</p>\n"}, {"comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 1, "creation_date": 1496583487, "post_id": 44354613, "comment_id": 75711269, "body": "Java doesn&#39;t have such issue LOL"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 2, "creation_date": 1496583669, "post_id": 44354613, "comment_id": 75711327, "body": "Actually it is a brilliant design on the Kotlin&#39;s part. Do you remember how you call a generic method in Java?  With generics in the wrong place <code>c.&lt;A, B&gt;boy(A)</code>? That is cased by the same problem."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1496583737, "post_id": 44354613, "comment_id": 75711343, "body": "I think this language design in Java is intended to avoid this conflict."}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 1, "creation_date": 1496583828, "post_id": 44354613, "comment_id": 75711373, "body": "Maybe, but I don&#39;t think code like in your example is very common, so optimizing for the common case where there is no ambiguity seems like a good choice to me."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1496583880, "post_id": 44354613, "comment_id": 75711388, "body": "Java would done it too if it were designed with generics from the beginning"}, {"owner": {"reputation": 39263, "user_id": 323924, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19c51b649e40894c34905f0225196907?s=128&d=identicon&r=PG", "display_name": "Cheng Chen", "link": "https://stackoverflow.com/users/323924/cheng-chen"}, "edited": false, "score": 0, "creation_date": 1496663864, "post_id": 44354613, "comment_id": 75737728, "body": "Same thing can&#39;t happen in C#, because <code>boy</code> is either a property, or a method, never both. In OP&#39;s question, the compiler can&#39;t tell if <code>boy</code> is a property or a generic method, hence the error."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 39263, "user_id": 323924, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19c51b649e40894c34905f0225196907?s=128&d=identicon&r=PG", "display_name": "Cheng Chen", "link": "https://stackoverflow.com/users/323924/cheng-chen"}, "edited": false, "score": 0, "creation_date": 1496680801, "post_id": 44354613, "comment_id": 75748245, "body": "@DannyChen It is possible to create a similar puzzler in C# with a similar behaviour"}, {"owner": {"reputation": 39263, "user_id": 323924, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19c51b649e40894c34905f0225196907?s=128&d=identicon&r=PG", "display_name": "Cheng Chen", "link": "https://stackoverflow.com/users/323924/cheng-chen"}, "edited": false, "score": 0, "creation_date": 1496720905, "post_id": 44354613, "comment_id": 75762434, "body": "@voddan In that case, it is definitely a compile error, under no circumstance it can compile, unlike in Kotlin it should compile if you consider <code>boy</code> as a property."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 39263, "user_id": 323924, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19c51b649e40894c34905f0225196907?s=128&d=identicon&r=PG", "display_name": "Cheng Chen", "link": "https://stackoverflow.com/users/323924/cheng-chen"}, "edited": false, "score": 0, "creation_date": 1496737237, "post_id": 44354613, "comment_id": 75769605, "body": "@DannyChen Kotlin&#39;s properties can not have explicit type parameters, so no"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 10, "last_activity_date": 1496583012, "creation_date": 1496583012, "answer_id": 44354613, "question_id": 44354465, "link": "https://stackoverflow.com/questions/44354465/kotlin-unexpected-unresolved-reference/44354613#44354613", "title": "Kotlin unexpected `unresolved reference`", "body": "<p>You stumped on a very rare case of syntactic ambiguity. I think it is a first for SO, congrats!</p>\n\n<p>Your initial syntax is technically correct, but in this contexts it also can be interpreted as an attempt to call <code>c.boy&lt;A,B&gt;</code>. Since the compiler didn't know what you meant, it assumed you wanted the function call.</p>\n\n<p>The easiest fix is adding parenthesis as you did or rearranging the expressions:</p>\n\n<pre><code>girl(c.boy &lt; A, A &lt; B)\n</code></pre>\n\n<p>P.S. Same thing can happen in C#, so it is not unique to Kotlin</p>\n"}], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2128, "favorite_count": 0, "accepted_answer_id": 44354613, "answer_count": 2, "score": 7, "last_activity_date": 1496679800, "creation_date": 1496581871, "last_edit_date": 1496584004, "question_id": 44354465, "link": "https://stackoverflow.com/questions/44354465/kotlin-unexpected-unresolved-reference", "title": "Kotlin unexpected `unresolved reference`", "body": "<p>I'm a beginner to Kotlin, and here's my code:</p>\n\n<pre><code>class C(val boy: Int = 0) {\n    fun &lt;T, E&gt; boy(i: Int) = i\n}\n\nfun girl(b1: Boolean, b2: Boolean) = println(\"boy($b1, $b2)\")\n\nfun main(args: Array&lt;String&gt;): Unit {\n    val A = 234 // see? A defined!\n    val B = 345 // see? B defined!\n    val c = C(123) // c is also defined!\n\n    girl(c.boy &lt; A, B &gt; A) // hey look at here\n}\n</code></pre>\n\n<p>IntelliJ IDEA gives me:</p>\n\n<ul>\n<li><code>unresolved reference: A</code></li>\n<li><code>unresolved reference: B</code></li>\n<li><code>unresolved reference: c</code></li>\n</ul>\n\n<p>At the line <code>hey look at here</code>.</p>\n\n<p>I think my code is syntactically correct, what's wrong?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1496582556, "post_id": 44354355, "comment_id": 75710978, "body": "You&#39;ve accidentally (?) posted your APP_ID here. You should disable it now and get a new one, unless this API also requires an API secret."}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1496582703, "post_id": 44354355, "comment_id": 75711025, "body": "@ChristianBr&#252;ggemann Ah, removed :)"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 2, "creation_date": 1496682531, "post_id": 44354355, "comment_id": 75749154, "body": "@Williams it is still historically in the change log for the question, so change it if you don&#39;t want some illicit use of your APP_ID"}], "answers": [{"tags": [], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "is_accepted": true, "score": 4, "last_activity_date": 1496582631, "last_edit_date": 1496582631, "creation_date": 1496582233, "answer_id": 44354505, "question_id": 44354355, "link": "https://stackoverflow.com/questions/44354355/unresolved-reference-async-in-kotlin/44354505#44354505", "title": "Unresolved reference async in Kotlin", "body": "<p>I see <code>async</code> function is available in <code>anko</code> library not <code>Kotlin</code> library itself. <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko</a></p>\n\n<p>I resolved by adding this dependency in build.gradle <code>compile \"org.jetbrains.anko:anko-commons:0.10.1\"</code> as this is not available in Kotlin itself.</p>\n\n<p>I see that <code>async</code> is deprecated now, library suggests to use <code>doAsync</code> instead.</p>\n\n<pre><code>doAsync {\n    val forecastWeather = ForecastRequest(\"302015\").execute()\n    uiThread {\n        Log.d(\"Test\", forecastWeather.toString())\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 2, "last_activity_date": 1496584572, "creation_date": 1496584572, "answer_id": 44354842, "question_id": 44354355, "link": "https://stackoverflow.com/questions/44354355/unresolved-reference-async-in-kotlin/44354842#44354842", "title": "Unresolved reference async in Kotlin", "body": "<p>Different Kotlin libraries can have different implementations of <code>async</code> that do different things.</p>\n\n<p>If you wanted the <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/f3042ac332fb79e7b71303538f6affb142195557/kotlinx-coroutines-core/src/main/kotlin/kotlinx/coroutines/experimental/Deferred.kt#L102\" rel=\"nofollow noreferrer\">general <code>async-await</code> function</a> from the core library, make sure you have a dependency to <a href=\"https://github.com/Kotlin/kotlinx.coroutines\" rel=\"nofollow noreferrer\"><code>kotlinx.coroutines</code></a></p>\n"}, {"tags": [], "owner": {"reputation": 1632, "user_id": 2256407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b883b472b93d8d1cabb5ff5e7fffc358?s=128&d=identicon&r=PG&f=1", "display_name": "Mahmoud", "link": "https://stackoverflow.com/users/2256407/mahmoud"}, "is_accepted": false, "score": 13, "last_activity_date": 1560189925, "last_edit_date": 1560189925, "creation_date": 1550834820, "answer_id": 54826076, "question_id": 44354355, "link": "https://stackoverflow.com/questions/44354355/unresolved-reference-async-in-kotlin/54826076#54826076", "title": "Unresolved reference async in Kotlin", "body": "<p><code>async</code> is available inside <a href=\"https://github.com/Kotlin/kotlinx.coroutines\" rel=\"noreferrer\">kotlinx.couroutines</a></p>\n\n<p>Make sure that you added the dependency in your gradle file:</p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.1.1'\n</code></pre>\n\n<p>Also make sure that the async is called on a coroutine scrope such as <code>GlobalScope</code>.</p>\n\n<pre><code> val deferredResult = GlobalScope.async {\n\n            }\n</code></pre>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11682, "favorite_count": 2, "accepted_answer_id": 44354505, "answer_count": 3, "score": 15, "last_activity_date": 1560189925, "creation_date": 1496581181, "last_edit_date": 1496582673, "question_id": 44354355, "link": "https://stackoverflow.com/questions/44354355/unresolved-reference-async-in-kotlin", "title": "Unresolved reference async in Kotlin", "body": "<p>I am trying to perform network operation async in <code>Kotlin</code>. I read it you can do async using <code>async</code> function. I am getting below error, can anyone guess what could be the issue ?</p>\n\n<blockquote>\n  <p>Unresolved reference: async</p>\n</blockquote>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    async() {\n        val forecastWeather = ForecastRequest(\"302015\").execute()\n        Log.d(\"Test\", forecastWeather.toString())\n    }\n}\n</code></pre>\n\n<p><strong>ForecastRequest.kt</strong></p>\n\n<pre><code>class ForecastRequest(val zipcode: String) {\n    companion object {\n        private val APP_ID = \"XYZ\"\n        private val URL = \"http://api.openweathermap.org/data/2.5/\" +\n                    \"forecast/daily?mode=json&amp;units=metric&amp;cnt=7\"\n        private val COMPLETE_URL = \"$URL&amp;APPID=$APP_ID&amp;q=\"\n    }\n\n    fun execute(): ForecastResponse {\n        val forecastJsonStr = java.net.URL(COMPLETE_URL + zipcode).readText()\n        return Gson().fromJson(forecastJsonStr, ForecastResponse::class.java)\n    }\n}\n</code></pre>\n\n<p>Top level <strong>build.gradle</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Module level <strong>build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.williams.thirddemo\"\n        minSdkVersion 23\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.google.code.gson:gson:2.8.1'\n}\n</code></pre>\n"}, {"tags": ["kotlin", "coroutine"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1496567134, "post_id": 44352060, "comment_id": 75706872, "body": "Could be an issue with the kotlinx.coroutines library. <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496572568, "post_id": 44352060, "comment_id": 75708252, "body": "You need to share the &#39;pom.xml&#39; and your IDE project compiler settings showing coroutines, and IDE libraries.  also check the IDE Kotlin plugin version and the versions of your Kotlin libraries all line up and are compatible."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 5690112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc58bf427ea1b60b38efcfe5c096269e?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Zharkov", "link": "https://stackoverflow.com/users/5690112/denis-zharkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1496682663, "last_edit_date": 1496682663, "creation_date": 1496650211, "answer_id": 44364483, "question_id": 44352060, "link": "https://stackoverflow.com/questions/44352060/yield-throws-kotlinnullpointerexception-in-buildsequence-for-maven-projects/44364483#44364483", "title": "yield throws KotlinNullPointerException in buildSequence for maven projects", "body": "<p>The problem was reported in <a href=\"https://youtrack.jetbrains.com/issue/KT-18026\" rel=\"nofollow noreferrer\">KT-18026</a> and was marked fixed for Kotlin version <code>1.1.2-5</code></p>\n"}], "owner": {"reputation": 39263, "user_id": 323924, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19c51b649e40894c34905f0225196907?s=128&d=identicon&r=PG", "display_name": "Cheng Chen", "link": "https://stackoverflow.com/users/323924/cheng-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 44364483, "answer_count": 1, "score": 0, "last_activity_date": 1496682663, "creation_date": 1496563881, "question_id": 44352060, "link": "https://stackoverflow.com/questions/44352060/yield-throws-kotlinnullpointerexception-in-buildsequence-for-maven-projects", "title": "yield throws KotlinNullPointerException in buildSequence for maven projects", "body": "<p>I'm looking into <code>coroutines</code> in Kotlin, starting with Fibonacci sequence like this:</p>\n\n<pre><code>import kotlin.coroutines.experimental.buildSequence\n\nfun main(args: Array&lt;String&gt;) {\n    val fibo = buildSequence {\n        yield(0)\n\n        var a = 0\n        var b = 1\n\n        while (true) {\n            yield(b)\n            b = a + b\n            a = b - a\n        }\n    }\n\n    fibo.take(5).forEach { println(it) }\n}\n</code></pre>\n\n<p>I'm using IntelliJ IDEA, when the above code runs in a project created by <code>New Project</code> -> <code>Kotlin</code> -> <code>Kotlin(JVM)</code>, it's working fine.</p>\n\n<p>When the code runs in a project of Maven, created from archetype <code>org.jetbrains.kotlin:kotlin-archetype-jvm</code> <code>kotlin-archetype-jvm:1.1.2-4</code> it throws <code>KotlinNullPointerException</code>.</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" kotlin.KotlinNullPointerException  at\n  kotlin.coroutines.experimental.SequenceBuilderIterator.yield(SequenceBuilder.kt:163)\n    at com.github.fdudannychen.HelloKt$main$fibo$1.doResume(Hello.kt:7)\n    at\n  kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:54)\n    at\n  kotlin.coroutines.experimental.SequenceBuilderIterator.hasNext(SequenceBuilder.kt:128)\n    at kotlin.sequences.TakeSequence$iterator$1.hasNext(Sequences.kt:348)\n    at com.github.fdudannychen.HelloKt.main(Hello.kt:22)</p>\n</blockquote>\n\n<p>Steps in <a href=\"https://kotlinlang.org/docs/tutorials/coroutines-basic-jvm.html\" rel=\"nofollow noreferrer\">this article</a> don't help to fix the issue. I don't know why it's not working. Am I missing something?</p>\n"}, {"tags": ["kotlin", "inline", "kotlin-interop"], "comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 4, "creation_date": 1496563198, "post_id": 44351700, "comment_id": 75705965, "body": "Why would expect in the first place that the Java compiler can magically inline functions? Java knows about java methods. How should it know about concepts in other languages?"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 16, "last_activity_date": 1496561590, "creation_date": 1496561590, "answer_id": 44351797, "question_id": 44351700, "link": "https://stackoverflow.com/questions/44351700/call-kotlin-inline-function-from-java/44351797#44351797", "title": "Call Kotlin inline function from Java", "body": "<p>The inlining that's done by the Kotlin compiler is not supported for Java files, since the Java compiler is unaware of this transformation (see <a href=\"https://stackoverflow.com/a/42742119/4465208\">this answer</a> about why reified generics do not work from Java at all).</p>\n\n<p>As for other use cases of inlining (most commonly when passing in a lambda as a parameter), as you've already discovered, the bytecode includes a <code>public static</code> method so that the inline function can be still called from Java. In this case, however, no inlining occurs.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14215320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344850d001f399f238afb605db376c29?s=128&d=identicon&r=PG&f=1", "display_name": "  NixesEA", "link": "https://stackoverflow.com/users/14215320/nixesea"}, "is_accepted": false, "score": -1, "last_activity_date": 1599140240, "creation_date": 1599140240, "answer_id": 63724847, "question_id": 44351700, "link": "https://stackoverflow.com/questions/44351700/call-kotlin-inline-function-from-java/63724847#63724847", "title": "Call Kotlin inline function from Java", "body": "<p>Yes, u can do it</p>\n<p>In Kotlin file:</p>\n<pre><code>    Builder.sendEvent { event -&gt;\n                    YandexMetrica.reportEvent(event)\n                }\n                .build();\n</code></pre>\n<p>In Java file:</p>\n<pre><code>    Builder.sendEvent(new Function1&lt;String, Unit&gt;() {\n                    @Override\n                    public Unit invoke(String event) {\n                        Log.i(&quot;TEST&quot;, event);\n                        return null;\n                    }\n                })\n                .build();\n</code></pre>\n"}], "owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4651, "favorite_count": 2, "accepted_answer_id": 44351797, "answer_count": 2, "score": 14, "last_activity_date": 1599140240, "creation_date": 1496560802, "last_edit_date": 1496682745, "question_id": 44351700, "link": "https://stackoverflow.com/questions/44351700/call-kotlin-inline-function-from-java", "title": "Call Kotlin inline function from Java", "body": "<p>Exceptions.kt:</p>\n\n<pre><code>@Suppress(\"NOTHING_TO_INLINE\")\ninline fun generateStyleNotCorrectException(key: String, value: String) =\n        AOPException(key + \" = \" + value)\n</code></pre>\n\n<p>In kotlin:</p>\n\n<pre><code>fun inKotlin(key: String, value: String) {\n    throw generateStyleNotCorrectException(key, value) }\n</code></pre>\n\n<p>It works  in kotlin and the function is inlined.</p>\n\n<p>But when used in Java code, It just cannot be inlined,\n and <em>still</em> a normal static method call (seen from the decompiled contents).</p>\n\n<p>Something like this:</p>\n\n<pre><code>public static final void inJava(String key, String value) throws AOPException {\n    throw ExceptionsKt.generateStyleNotCorrectException(key, value);\n// when decompiled, it has the same contents as before , not the inlined contents.\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "edited": false, "score": 0, "creation_date": 1496552542, "post_id": 44350499, "comment_id": 75704041, "body": "Can you paste the expected output? I didn&#39;t understand your question completely"}], "answers": [{"tags": [], "owner": {"reputation": 1426, "user_id": 2146313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6673183622b898968c41d1caabcd34?s=128&d=identicon&r=PG", "display_name": "volatilevar", "link": "https://stackoverflow.com/users/2146313/volatilevar"}, "is_accepted": true, "score": 2, "last_activity_date": 1496555367, "last_edit_date": 1496555367, "creation_date": 1496554476, "answer_id": 44351079, "question_id": 44350499, "link": "https://stackoverflow.com/questions/44350499/why-this-code-was-not-return-at-label-in-kotlin/44351079#44351079", "title": "Why this code was not return at label in Kotlin", "body": "<blockquote>\n  <p>Why this code does not return from ints.forEach and will output \"level 1 xx ====\" many times?</p>\n</blockquote>\n\n<p>By returning to a label (<code>@let</code> in your case), it returns only from the lambda expression inside <code>forEach</code>. Therefore your <code>foo()</code> is equivalent to below code (using anonymous function instead of labels). That's why <code>forEach</code> block will still be executed for each value in the array. You can find more details <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>fun foo() {\n    val ints = Array(5, {i-&gt;i})\n    ints.forEach(fun(it: Int) {\n        println(\"level 1 $it ====\")\n        val ints2 = Array(3, {i-&gt;i})\n        ints2.forEach {\n            if (it == 2) return\n            println(\"level 2 $it\")\n        }\n    })\n}\n</code></pre>\n\n<blockquote>\n  <p>And there is not difference when I set the label \"let@\" to\n  ints2.forEach.</p>\n</blockquote>\n\n<p>Same reason as above. By settng <code>@let</code> label to <code>ints2.forEach</code>, this inner <code>forEach</code> block is still executed twice before <code>it == 2</code>. </p>\n"}], "owner": {"reputation": 13, "user_id": 3063901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd7b126a0d3248a073e891ab2b739f1?s=128&d=identicon&r=PG&f=1", "display_name": "user3063901", "link": "https://stackoverflow.com/users/3063901/user3063901"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 44351079, "answer_count": 1, "score": 0, "last_activity_date": 1496562323, "creation_date": 1496546759, "last_edit_date": 1496562323, "question_id": 44350499, "link": "https://stackoverflow.com/questions/44350499/why-this-code-was-not-return-at-label-in-kotlin", "title": "Why this code was not return at label in Kotlin", "body": "<p>Why this code does not return from <code>ints2.forEach</code> but will output <code>level 1 xx ====</code> every time? \nAnd there is not difference when I set the label <code>let@</code> to <code>ints2.forEach</code>. </p>\n\n<pre><code>fun foo() {\n    val ints = Array(5, {i-&gt;i})\n    ints.forEach let@ {\n        println(\"level 1 $it ====\")\n        val ints2 = Array(3, {i-&gt;i})\n        ints2.forEach {\n            if (it == 2) return@let\n            println(\"level 2 $it\")\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    foo()\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 2, "creation_date": 1496563989, "post_id": 44350146, "comment_id": 75706131, "body": "You know that you never set <code>person2.name</code> or <code>person3.name</code> to anything though?"}], "answers": [{"comments": [{"owner": {"reputation": 1002, "user_id": 2956628, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f134ecd3b7194eea8cee0ef509df9bc8?s=128&d=identicon&r=PG", "display_name": "Charles-Eugene Loubao", "link": "https://stackoverflow.com/users/2956628/charles-eugene-loubao"}, "edited": false, "score": 0, "creation_date": 1496542692, "post_id": 44350193, "comment_id": 75702757, "body": "Thank you so much . Also how do you see the decompiled kotlin code in Android Studio / IntelliJ ?"}, {"owner": {"reputation": 39263, "user_id": 323924, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19c51b649e40894c34905f0225196907?s=128&d=identicon&r=PG", "display_name": "Cheng Chen", "link": "https://stackoverflow.com/users/323924/cheng-chen"}, "reply_to_user": {"reputation": 1002, "user_id": 2956628, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f134ecd3b7194eea8cee0ef509df9bc8?s=128&d=identicon&r=PG", "display_name": "Charles-Eugene Loubao", "link": "https://stackoverflow.com/users/2956628/charles-eugene-loubao"}, "edited": false, "score": 1, "creation_date": 1496542766, "post_id": 44350193, "comment_id": 75702774, "body": "@Charles-EugeneLoubao I use <a href=\"http://jd.benow.ca/\" rel=\"nofollow noreferrer\">JD GUI</a> to de-compile <code>class</code> files to java source code."}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 4, "creation_date": 1496566976, "post_id": 44350193, "comment_id": 75706834, "body": "You can also use open a .kt file in Android Studio and then Tools -&gt; Kotlin -&gt; Show Kotlin Bytecode. In the right panel the bytecode will appear and can also be decompiled to Java using the &#39;Decompile&#39; button."}], "tags": [], "owner": {"reputation": 39263, "user_id": 323924, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/19c51b649e40894c34905f0225196907?s=128&d=identicon&r=PG", "display_name": "Cheng Chen", "link": "https://stackoverflow.com/users/323924/cheng-chen"}, "is_accepted": true, "score": 11, "last_activity_date": 1496542555, "creation_date": 1496542555, "answer_id": 44350193, "question_id": 44350146, "link": "https://stackoverflow.com/questions/44350146/data-class-equality-in-kotlin/44350193#44350193", "title": "Data Class Equality in Kotlin", "body": "<p>Kotlin compiler generates <code>hashCode</code> and <code>equals</code> methods for data classes, including properties in the constructor only. The property <code>name</code> in <code>PersonImpl1</code> is not included in the <code>hashCode</code>/<code>equals</code>, hence the difference. See the de-compiled code:</p>\n\n<pre><code>  //hashcode implementation of PersonImpl1\n  public int hashCode()\n  {\n    long tmp4_1 = this.id;\n    return (int)(tmp4_1 ^ tmp4_1 &gt;&gt;&gt; 32);\n  }\n\n  //equals implementation of PersonImpl1\n  public boolean equals(Object paramObject)\n  {\n    if (this != paramObject)\n    {\n      if ((paramObject instanceof PersonImpl1))\n      {\n        PersonImpl1 localPersonImpl1 = (PersonImpl1)paramObject;\n        if ((this.id == localPersonImpl1.id ? 1 : 0) == 0) {}\n      }\n    }\n    else {\n      return true;\n    }\n    return false;\n  }\n</code></pre>\n"}], "owner": {"reputation": 1002, "user_id": 2956628, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f134ecd3b7194eea8cee0ef509df9bc8?s=128&d=identicon&r=PG", "display_name": "Charles-Eugene Loubao", "link": "https://stackoverflow.com/users/2956628/charles-eugene-loubao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3634, "favorite_count": 1, "accepted_answer_id": 44350193, "answer_count": 1, "score": 1, "last_activity_date": 1496542555, "creation_date": 1496541962, "question_id": 44350146, "link": "https://stackoverflow.com/questions/44350146/data-class-equality-in-kotlin", "title": "Data Class Equality in Kotlin", "body": "<p>Hello everyone I am trying to use the <code>==</code> to check if two variables are structurally equal</p>\n\n<pre><code>// PersonImpl0 has the name variable in the primary constructor\ndata class PersonImpl0(val id: Long, var name: String=\"\") {\n}\n\n// PersonImpl1 has the name variable in the body\ndata class PersonImpl1(val id: Long) {\n     var name: String=\"\"\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val person0 = PersonImpl0(0)\n    person0.name = \"Charles\"\n\n    val person1 = PersonImpl0(0)\n    person1.name = \"Eugene\"\n\n     val person2 = PersonImpl1(0)\n    person0.name = \"Charles\"\n\n    val person3 = PersonImpl1(0)\n    person1.name = \"Eugene\"\n\n    println(person0 == person1) // Are not equal ??\n    println(person2 == person3) // Are equal ??\n\n }\n</code></pre>\n\n<p>Here the output I got</p>\n\n<pre><code>false\ntrue\n</code></pre>\n\n<p>Why is it that the 2 variables are not equal in the first case and equal in the second case ?</p>\n\n<p>THank you for clearing this up for me</p>\n"}, {"tags": ["android", "performance", "enums", "kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 6, "creation_date": 1496547900, "post_id": 44349080, "comment_id": 75703435, "body": "You might be also interested in whether you should really avoid enums on Android or not: <a href=\"https://stackoverflow.com/questions/29183904/should-i-strictly-avoid-using-enums-on-android\" title=\"should i strictly avoid using enums on android\">stackoverflow.com/questions/29183904/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/5143256/why-was-avoid-enums-where-you-only-need-ints-removed-from-androids-performanc\" title=\"why was avoid enums where you only need ints removed from androids performanc\">stackoverflow.com/questions/5143256/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1045, "user_id": 1240944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/angag.jpg?s=128&g=1", "display_name": "Rambo7", "link": "https://stackoverflow.com/users/1240944/rambo7"}, "edited": false, "score": 5, "creation_date": 1547230012, "post_id": 44349448, "comment_id": 95134799, "body": "Now folks at Google say its okay to use enums, please check out  <a href=\"https://youtu.be/IrMw7MEgADk?t=857\" rel=\"nofollow noreferrer\">youtu.be/IrMw7MEgADk?t=857</a>"}, {"owner": {"reputation": 503, "user_id": 720416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fe851a21bd0a5dc28560c8937d5e5e6?s=128&d=identicon&r=PG", "display_name": "fahadayaz", "link": "https://stackoverflow.com/users/720416/fahadayaz"}, "edited": false, "score": 1, "creation_date": 1561463720, "post_id": 44349448, "comment_id": 100064419, "body": "If you Proguard the class, does it turn them into ints?"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 23, "last_activity_date": 1496537391, "last_edit_date": 1496537391, "creation_date": 1496532643, "answer_id": 44349448, "question_id": 44349080, "link": "https://stackoverflow.com/questions/44349080/kotlin-enum-class-in-android-performance/44349448#44349448", "title": "Kotlin enum class in Android performance", "body": "<p>It would appear so, yes.</p>\n\n<p>I created this in Kotlin:</p>\n\n<pre><code>enum class Thingies {\n    Red,\n    Green,\n    Blue\n}\n</code></pre>\n\n<p>And decompiled it with <code>javap -v</code>, and here is the header:</p>\n\n<pre><code>public final class Thingies extends java.lang.Enum&lt;Thingies&gt;\nminor version: 0\nmajor version: 52\nflags: ACC_PUBLIC, ACC_FINAL, ACC_SUPER, ACC_ENUM\n</code></pre>\n\n<p>Bottom line: they are identical, so you probably have to treat them the same way.</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 5, "last_activity_date": 1496535830, "creation_date": 1496535830, "answer_id": 44349729, "question_id": 44349080, "link": "https://stackoverflow.com/questions/44349080/kotlin-enum-class-in-android-performance/44349729#44349729", "title": "Kotlin enum class in Android performance", "body": "<p>They are exactly the same thing, a Kotlin Enum <em>is</em> a Java JVM Enum.  </p>\n"}, {"comments": [{"owner": {"reputation": 13359, "user_id": 473201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/028566a6d9c6f09b0c01eb9949e9e7c5?s=128&d=identicon&r=PG", "display_name": "phreakhead", "link": "https://stackoverflow.com/users/473201/phreakhead"}, "edited": false, "score": 1, "creation_date": 1557868768, "post_id": 54151820, "comment_id": 98908263, "body": "That video he said that it still isn&#39;t as efficient as using an int. Android Framework devs still avoid them for this reason."}, {"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "reply_to_user": {"reputation": 13359, "user_id": 473201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/028566a6d9c6f09b0c01eb9949e9e7c5?s=128&d=identicon&r=PG", "display_name": "phreakhead", "link": "https://stackoverflow.com/users/473201/phreakhead"}, "edited": false, "score": 0, "creation_date": 1569034169, "post_id": 54151820, "comment_id": 102475342, "body": "@phreakhead you don&#39;t have listened until the 14:40. <a href=\"https://youtu.be/IrMw7MEgADk?t=858\" rel=\"nofollow noreferrer\">youtu.be/IrMw7MEgADk?t=858</a>"}, {"owner": {"reputation": 931, "user_id": 3591480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4786dc25738c6b259d9d8953011ef20?s=128&d=identicon&r=PG&f=1", "display_name": "Teng-pao Yu", "link": "https://stackoverflow.com/users/3591480/teng-pao-yu"}, "edited": false, "score": 0, "creation_date": 1570518126, "post_id": 54151820, "comment_id": 102928557, "body": "I would recommend watching from 10:15 instead if you have time for that extra minute to get the context: It was comparing dalvik and ART."}, {"owner": {"reputation": 10241, "user_id": 612606, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/GoYOY.jpg?s=128&g=1", "display_name": "Viktor Apoyan", "link": "https://stackoverflow.com/users/612606/viktor-apoyan"}, "edited": false, "score": 0, "creation_date": 1603359316, "post_id": 54151820, "comment_id": 114014627, "body": "Yes agree, it&#39;s still maybe not as efficient as using int, but still for normal size project, using 10-50 enums will not have that huge impact on your performance and memory, so I would say use ONLY enums and be happy :)"}], "tags": [], "owner": {"reputation": 1045, "user_id": 1240944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/angag.jpg?s=128&g=1", "display_name": "Rambo7", "link": "https://stackoverflow.com/users/1240944/rambo7"}, "is_accepted": false, "score": 2, "last_activity_date": 1547229830, "creation_date": 1547229830, "answer_id": 54151820, "question_id": 44349080, "link": "https://stackoverflow.com/questions/44349080/kotlin-enum-class-in-android-performance/54151820#54151820", "title": "Kotlin enum class in Android performance", "body": "<p>You can most definitely use enums in Android <strong>now</strong>, they specifically discussed this topic in this Google I/O video: <a href=\"https://www.youtube.com/watch?v=IrMw7MEgADk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=IrMw7MEgADk</a>\n(if you don't want to watch the whole video, then start from 11:30 ish to 14:40).</p>\n"}], "owner": {"reputation": 36820, "user_id": 1296280, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9ca92c86f322a05a19c4fb95cd41d925?s=128&d=identicon&r=PG", "display_name": "Arbitur", "link": "https://stackoverflow.com/users/1296280/arbitur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6392, "favorite_count": 3, "accepted_answer_id": 44349448, "answer_count": 3, "score": 26, "last_activity_date": 1547229830, "creation_date": 1496528783, "last_edit_date": 1496535855, "question_id": 44349080, "link": "https://stackoverflow.com/questions/44349080/kotlin-enum-class-in-android-performance", "title": "Kotlin enum class in Android performance", "body": "<p>In Java we are told to <a href=\"https://developer.android.com/topic/performance/memory.html#Overhead\" rel=\"noreferrer\">strictly avoid using enums on Android</a> because they take up twice the memory.</p>\n\n<p>Does this apply to <code>enum class</code> in Kotlin aswell? Will a Kotlin <code>enum</code> be compiled into a Java <code>enum</code>?</p>\n"}, {"tags": ["kotlin", "higher-order-functions"], "answers": [{"comments": [{"owner": {"reputation": 1483, "user_id": 796336, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riu0L.jpg?s=128&g=1", "display_name": "Pravin Sonawane", "link": "https://stackoverflow.com/users/796336/pravin-sonawane"}, "edited": false, "score": 7, "creation_date": 1496524442, "post_id": 44348581, "comment_id": 75699662, "body": "Yup. That&#39;s it. Adding <code>compile &quot;org.jetbrains.kotlin:kotlin-reflect:$kotlin_version&quot;</code> to build.gradle fixed the issue."}, {"owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "edited": false, "score": 0, "creation_date": 1519840026, "post_id": 44348581, "comment_id": 85076149, "body": "Adding the reflect library fixed the issue (great!) on my builds but does not let me Build an APK. The compiler throws an <code>Execution failed for task &#39;:app:transformDexArchiveWithExternalLibsDexMergerForDebug&#39;.</code> Any ideas why, or how to fix it?"}, {"owner": {"reputation": 3551, "user_id": 310832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/luRtu.png?s=128&g=1", "display_name": "nicopico", "link": "https://stackoverflow.com/users/310832/nicopico"}, "reply_to_user": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "edited": false, "score": 2, "creation_date": 1526129834, "post_id": 44348581, "comment_id": 87628941, "body": "@LucasP.  <code>kotlin-reflect</code> contains a lot of methods and likely pushed your APK method counts above the 64K limit. You can fix it by enabling <a href=\"https://developer.android.com/studio/build/multidex\" rel=\"nofollow noreferrer\">multidex</a>, using <a href=\"https://github.com/Kotlin/kotlinx.reflect.lite\" rel=\"nofollow noreferrer\">kotlin.reflect.lite</a> instead (if applicable), or simply ignoring the warning"}, {"owner": {"reputation": 1363, "user_id": 1677663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eP97Y.jpg?s=128&g=1", "display_name": "user1677663", "link": "https://stackoverflow.com/users/1677663/user1677663"}, "edited": false, "score": 0, "creation_date": 1551643350, "post_id": 44348581, "comment_id": 96705507, "body": "This appears to have been fixed in version 1.3"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1574882839, "post_id": 44348581, "comment_id": 104391539, "body": "What is the solution?"}, {"owner": {"reputation": 178, "user_id": 11235449, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-U1G8s4uudRs/AAAAAAAAAAI/AAAAAAAAAUM/63nGXRI43Ks/photo.jpg?sz=128", "display_name": "NM Naufaldo", "link": "https://stackoverflow.com/users/11235449/nm-naufaldo"}, "edited": false, "score": 0, "creation_date": 1616314556, "post_id": 44348581, "comment_id": 117958645, "body": "Add this library <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect/1.4.31\" rel=\"nofollow noreferrer\">kotlin-reflect</a>"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 22, "last_activity_date": 1496524249, "creation_date": 1496524249, "answer_id": 44348581, "question_id": 44348557, "link": "https://stackoverflow.com/questions/44348557/kotlin-reflection-is-not-available/44348581#44348581", "title": "Kotlin reflection is not available", "body": "<p>Full reflection requires the <code>kotlin-reflect</code> library in addition to <code>kotlin-stdlib</code>.\nIf full reflection is available it will probably have a more comprehensive <code>toString()</code>, hence the message.</p>\n"}], "owner": {"reputation": 1483, "user_id": 796336, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riu0L.jpg?s=128&g=1", "display_name": "Pravin Sonawane", "link": "https://stackoverflow.com/users/796336/pravin-sonawane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7345, "favorite_count": 2, "accepted_answer_id": 44348581, "answer_count": 1, "score": 11, "last_activity_date": 1512073235, "creation_date": 1496524056, "last_edit_date": 1512073235, "question_id": 44348557, "link": "https://stackoverflow.com/questions/44348557/kotlin-reflection-is-not-available", "title": "Kotlin reflection is not available", "body": "<p>I was trying to learn higher order functions from the first example of this <a href=\"https://www.youtube.com/watch?v=a7QpoMj2uIA\" rel=\"noreferrer\">video</a>. Here's my code and output.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>fun lowercase(value: String) = value.toLowerCase()\n\nfun higherOrder(value:String, op: (String) -&gt; String) : String {\n    println(\"Executing higher order fun $op\")\n    return op(value)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(higherOrder(\"HELLO\", ::lowercase))\n    println(higherOrder(\"hello\", {it -&gt; lowercase(it)}))\n    println(higherOrder(\"HeLlo\", { x -&gt; lowercase(x) }))\n    println(higherOrder(\"Hello\", { lowercase(it) }))\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Executing higher order fun function lowercase (Kotlin reflection is not available)\nhello\nExecuting higher order fun Function1&lt;java.lang.String, java.lang.String&gt;\nhello\nExecuting higher order fun Function1&lt;java.lang.String, java.lang.String&gt;\nhello\nExecuting higher order fun Function1&lt;java.lang.String, java.lang.String&gt;\nhello\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>So my question is, why does it print <strong>Kotlin reflection is not available</strong>?</p>\n"}, {"tags": ["kotlin", "extension-function"], "answers": [{"comments": [{"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1496516804, "post_id": 44347573, "comment_id": 75697785, "body": "Thanks for the quick reply and sorry for the noob question but I&#39;m new at kotlin coming from Java.how can I use data in a constructor to use in the function?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1496516843, "post_id": 44347573, "comment_id": 75697794, "body": "No worries, it was a perfectly reasonable question. Have fun with Kotlin :)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 33, "last_activity_date": 1496516510, "creation_date": 1496516510, "answer_id": 44347573, "question_id": 44347533, "link": "https://stackoverflow.com/questions/44347533/global-extension-function-in-kotlin/44347573#44347573", "title": "Global extension function in kotlin", "body": "<p>Having your extensions inside a <code>DateUtils</code> class will make them available for use only inside the <code>DateUtils</code> class.</p>\n\n<p>If you want the extensions to be global, you can just put them on the top level of a file, without putting them inside a class.</p>\n\n<pre><code>package com.something.extensions\n\nfun Long.toDateTime() : DateTime = DateTime(this)\nfun String.toDateTime() : DateTime = DateTime.parse(this)\n</code></pre>\n\n<p>And then import them to use them elsewhere like so:</p>\n\n<pre><code>import com.something.extensions.toDateTime\n\nval x = 123456L.toDateTime()\n</code></pre>\n"}], "owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6370, "favorite_count": 2, "accepted_answer_id": 44347573, "answer_count": 1, "score": 13, "last_activity_date": 1496516510, "creation_date": 1496516262, "question_id": 44347533, "link": "https://stackoverflow.com/questions/44347533/global-extension-function-in-kotlin", "title": "Global extension function in kotlin", "body": "<p>Hey I want to make a class in kotlin that will hold all extension functions that I will use in a few places for example:</p>\n\n<pre><code>class DateUtils {\n    //in this case I use jodatime\n    fun Long.toDateTime() : DateTime = DateTime(this)\n    fun String.toDateTime() : DateTime = DateTime.parse(this)\n}\n\n\nclass SomeClassWithNoConnectionToDateUtils {\n    fun handleDataFromServer(startDate: String) {\n        someOtherFunction()\n        //startDate knows about toDateTime function in DateUtils \n        startDate.toDateTime().plusDays(4)\n    }\n}\n</code></pre>\n\n<p>Is there a way to perform such operation </p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3910, "user_id": 4103854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUnmsdTd6P4/AAAAAAAAAAI/AAAAAAAAAGI/TBEWqWgj0wo/photo.jpg?sz=128", "display_name": "Logain", "link": "https://stackoverflow.com/users/4103854/logain"}, "is_accepted": true, "score": 8, "last_activity_date": 1496519646, "last_edit_date": 1496519646, "creation_date": 1496516136, "answer_id": 44347511, "question_id": 44347113, "link": "https://stackoverflow.com/questions/44347113/cannot-access-to-basecolumns-provides-id-property-in-kotlin/44347511#44347511", "title": "Cannot access to BaseColumns provides _ID property in Kotlin", "body": "<p>You can only access it using <code>BaseColumns._ID</code> since it's a Java interface defining a constant.</p>\n\n<p>On Kotlin, a companion object is an actual object with inheritance, whereas in java a class with static methods does not really behave like an object.</p>\n\n<p>For instance, if you had <code>BaseColumns</code> as a kotlin class instead of a java interface, you could have done something like:</p>\n\n<pre><code>open class KBaseColumns  {\n    val _ID = \"_id\"\n}\n\nclass UserContract private constructor(){\n    class UserEntry private constructor(): BaseColumns {\n        companion object : KBaseColumns() {\n            val TABLE_NAME = \"users\"\n            val COLUMN_DISPLAY_NAME = \"display_name\"\n            val COLUMN_EMAIL = \"email\"\n        }\n    }\n}\n\nobject Example {\n    fun someMethod() {\n        val id = UserContract.UserEntry._ID\n    }\n}\n</code></pre>\n\n<p>Where <code>_ID</code> is accessible in this case because the companion object is actually a subclass of <code>KBaseColumns</code></p>\n"}], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 1, "accepted_answer_id": 44347511, "answer_count": 1, "score": 6, "last_activity_date": 1517935901, "creation_date": 1496513488, "last_edit_date": 1517935901, "question_id": 44347113, "link": "https://stackoverflow.com/questions/44347113/cannot-access-to-basecolumns-provides-id-property-in-kotlin", "title": "Cannot access to BaseColumns provides _ID property in Kotlin", "body": "<p>I am defining my Users SQLite database table, and to do so, I have created the following UserContract and UserEntry classes:</p>\n\n<pre><code>class UserContract private constructor(){\n\n    class UserEntry private constructor(): BaseColumns {\n\n        companion object {\n            val TABLE_NAME = \"users\"\n            val COLUMN_DISPLAY_NAME = \"display_name\"\n            val COLUMN_EMAIL = \"email\"\n            //...\n        }\n    }\n}\n</code></pre>\n\n<p>The problem I am facing is that I cannot access _ID property provided by BaseColums implementation:</p>\n\n<pre><code>val columnDisplayName = UserContract.UserEntry.COLUMN_DISPLAY_NAME //It is OK\nval columnId = UserContract.UserEntry._ID //Unresolved reference: _ID\n</code></pre>\n\n<p>The equivalent code in Java works fine, so, does anybody knows what would be the reason or where the mistake is?</p>\n"}, {"tags": ["singleton", "kotlin", "type-alias"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496536090, "post_id": 44347005, "comment_id": 75701862, "body": "val C = LongName::class // reference to the class of LongName"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1496513139, "creation_date": 1496513139, "answer_id": 44347061, "question_id": 44347005, "link": "https://stackoverflow.com/questions/44347005/difference-between-typealias-and-val-for-object/44347061#44347061", "title": "Difference between typealias and val for object", "body": "<p>You can refer to the single instance of an <code>object</code> by its name, in this case, as <code>LongName</code> (this is why you can assign it to a <code>val</code>):</p>\n\n<pre><code>println(LongName.a)\n\nval longName = LongName\nprintln(longName.a)\n</code></pre>\n\n<p>And you can also refer to its type as <code>LongName</code> (this is why you can create a <code>typealias</code> for it):</p>\n\n<pre><code>fun doStuff(longName: LongName) {}\n\ntypealias LN = LongName\nfun doStuff(longName: LN) {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "is_accepted": false, "score": 2, "last_activity_date": 1496528129, "creation_date": 1496528129, "answer_id": 44349015, "question_id": 44347005, "link": "https://stackoverflow.com/questions/44347005/difference-between-typealias-and-val-for-object/44349015#44349015", "title": "Difference between typealias and val for object", "body": "<p>Assigning a <code>typealias</code> to a class or an object will always work because you are just giving another name to it. From the <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">docs</a>,</p>\n\n<blockquote>\n  <p>Type aliases provide alternative names for existing types. If the type name is too long you can introduce a different shorter name and use the new one instead.</p>\n</blockquote>\n\n<p>While assigning a <code>val</code> is different. <code>val</code> can only be used for properties or objects.</p>\n\n<p>In your first example,</p>\n\n<blockquote>\n  <p>val B = LongName</p>\n</blockquote>\n\n<p>here the compiler tries to find an object or property and assign it to <code>B</code> which it cannot, because <code>LongName</code> is a class and it does not have any <code>companion object</code> either.</p>\n\n<p>In case, if you define a companion object with the class like,</p>\n\n<pre><code>class LongName {\n    companion object {\n        val a = \"123\"\n    }\n}\n</code></pre>\n\n<p>Then you can access it like,</p>\n\n<pre><code>val b = LongName\ninfo(b.a) //123\n</code></pre>\n\n<p>Though it doesn't make much sense to do it this way as you always have access to properties in <code>companion object</code> statically like, <code>LongName.a</code>.</p>\n"}], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1496528129, "creation_date": 1496512764, "question_id": 44347005, "link": "https://stackoverflow.com/questions/44347005/difference-between-typealias-and-val-for-object", "title": "Difference between typealias and val for object", "body": "<p>For a class, it is clear that we can not use <code>val</code> to refer to a type.</p>\n\n<p>For example,</p>\n\n<pre><code>class LongName {\n    ...\n}\n\ntypealias A = LongName // OK\nval B = LongName // compile error\nval C = LongName() // compiles, but it refers to an instance, not the class itself\n</code></pre>\n\n<p>However, for an (singleton) object, both compiles. In addition, both can be used for its members.</p>\n\n<pre><code>object LongName {\n    val a = \"123\"\n}\n\ntypealias A = LongName\nval B = LongName\n\n...\n\n// In a function,\nprintln(A.a) // compiles\nprintln(B.a) // compiles\n</code></pre>\n\n<p>What is difference between them?</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1496515361, "post_id": 44347305, "comment_id": 75697400, "body": "So you mean the manual optimization? And I didn&#39;t know there is file saving in IntelliJ, is that an optional thing?"}, {"owner": {"reputation": 164, "user_id": 8082357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3ee22c9c39aeafad7f026e1848045df0?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8082357/patrick"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1496527465, "post_id": 44347305, "comment_id": 75700338, "body": "Yes, I mean manual optimization. It seems someone has written a plugin to support actions on saving actions (<a href=\"https://stackoverflow.com/a/27706292/8082357\">see here</a>) (I haven&#39;t worked with that plugin so far)."}], "tags": [], "owner": {"reputation": 164, "user_id": 8082357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3ee22c9c39aeafad7f026e1848045df0?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8082357/patrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1496514829, "creation_date": 1496514829, "answer_id": 44347305, "question_id": 44346950, "link": "https://stackoverflow.com/questions/44346950/am-i-the-only-one-ideas-auto-import-doesnt-work-for-in-kotlin/44347305#44347305", "title": "Am I the only one IDEA&#39;s Auto Import doesn&#39;t work for in Kotlin?", "body": "<p>Works partly for me. That means when editing or saving a file unused imports are <strong>not</strong> cleaned. However, when I paste code, imports are automatically inserted.\nI personally always use \"Optimize imports\".</p>\n"}, {"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 0, "last_activity_date": 1503258857, "creation_date": 1503258857, "answer_id": 45786250, "question_id": 44346950, "link": "https://stackoverflow.com/questions/44346950/am-i-the-only-one-ideas-auto-import-doesnt-work-for-in-kotlin/45786250#45786250", "title": "Am I the only one IDEA&#39;s Auto Import doesn&#39;t work for in Kotlin?", "body": "<p>This error does no occur anymore. I am not sure which version of IDEA/Kotlin plugin it was fixed with, but I guess since August this year this should work.</p>\n"}], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 0, "accepted_answer_id": 45786250, "answer_count": 2, "score": 1, "last_activity_date": 1503258857, "creation_date": 1496512407, "question_id": 44346950, "link": "https://stackoverflow.com/questions/44346950/am-i-the-only-one-ideas-auto-import-doesnt-work-for-in-kotlin", "title": "Am I the only one IDEA&#39;s Auto Import doesn&#39;t work for in Kotlin?", "body": "<p>As you can read in the title \"Optimize imports on the fly\" does not work for me in <strong>Kotlin</strong>, but it works in <strong>Java</strong>, i. e. IDEA removes unused imports in my Java files but not in my Kotlin files.</p>\n\n<p>Since I didn't find any posts related to this on the internet I was wondering if this bug is only occurring for me. </p>\n\n<p>Maybe there is a good reason for this, if so feel free to tell me.</p>\n"}, {"tags": ["java", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 4, "creation_date": 1496505823, "post_id": 44345847, "comment_id": 75694514, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44247827/android-studio-converting-java-to-kotlin-error-cannot-infer-a-type-for-this-para\">Android Studio converting Java to Kotlin error Cannot infer a type for this parameter. Please specify it explicitly</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "edited": false, "score": 0, "creation_date": 1496507235, "post_id": 44345883, "comment_id": 75694945, "body": "So, <code>fun main(args: Array&lt;String&gt;) { \tprintln(JavaClass().javaInterfaceAsArgument { it -&gt; it+&quot; | It&#39;s here &quot; }) }</code> is the correct answer?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "edited": false, "score": 0, "creation_date": 1496507314, "post_id": 44345883, "comment_id": 75694971, "body": "Well, having the interface defined in Java is one of the options."}, {"owner": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "edited": false, "score": 0, "creation_date": 1496507406, "post_id": 44345883, "comment_id": 75694994, "body": "Cool thanks. The above one worked for me without the need of creating an interface and function in kotlin."}, {"owner": {"reputation": 41, "user_id": 5451044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-EJrz1YPk9sw/AAAAAAAAAAI/AAAAAAAAAIA/X2PyQ-bfr7w/photo.jpg?sz=128", "display_name": "Maxim Maliarov", "link": "https://stackoverflow.com/users/5451044/maxim-maliarov"}, "edited": false, "score": 0, "creation_date": 1496509857, "post_id": 44345883, "comment_id": 75695739, "body": "@zsmb13 Ok, got it. I guess, as for now if somebody wants to go pure Kotlin, he should use something like this.  <code>val value = kotlinInterfaceAsArgument(object: KotlinInterface {       override fun doStuff(str: String): String {          return str + &quot;| &quot;       }    })</code>"}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "reply_to_user": {"reputation": 41, "user_id": 5451044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-EJrz1YPk9sw/AAAAAAAAAAI/AAAAAAAAAIA/X2PyQ-bfr7w/photo.jpg?sz=128", "display_name": "Maxim Maliarov", "link": "https://stackoverflow.com/users/5451044/maxim-maliarov"}, "edited": false, "score": 1, "creation_date": 1496569493, "post_id": 44345883, "comment_id": 75707500, "body": "@MaximMaliarov no, when you go pure kotlin dont create interfaces with a single method at all! rather use function types e. g. <code>doStuff: (String) -&gt; String</code>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1569259875, "last_edit_date": 1569259875, "creation_date": 1496505759, "answer_id": 44345883, "question_id": 44345847, "link": "https://stackoverflow.com/questions/44345847/kotlin-lambda-with-interface-as-an-argument/44345883#44345883", "title": "Kotlin lambda with Interface as an argument", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a> (as of 1.1) only works with Java interfaces, not Kotlin ones.</p>\n\n<blockquote>\n  <p>Also note that this feature works only for Java interop; since Kotlin has proper function types, automatic conversion of functions into implementations of Kotlin interfaces is unnecessary and therefore unsupported.</p>\n</blockquote>\n\n<p>You can see some ways to fix your code <a href=\"https://stackoverflow.com/a/44247978/4465208\">in this answer</a>.</p>\n\n<p><strong>Edit:</strong> I've realized this is an exact duplicate of the other question, as even the error is the same.</p>\n"}, {"tags": [], "owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "is_accepted": false, "score": 2, "last_activity_date": 1500450003, "creation_date": 1500450003, "answer_id": 45183984, "question_id": 44345847, "link": "https://stackoverflow.com/questions/44345847/kotlin-lambda-with-interface-as-an-argument/45183984#45183984", "title": "Kotlin lambda with Interface as an argument", "body": "<p>The proper way in pure Kotlin is to use higher-order functions: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html</a></p>\n\n<p>With higher-order function you can pass function as argument in it.</p>\n\n<p>If we talk about your example:</p>\n\n<pre><code>fun kotlinFunctionAsArgument(kotlinFunction: (String) -&gt; String): String {\n    return kotlinFunction(\"This was passed to Kotlin Function method\")\n}\n\nfun main(args: Array&lt;String&gt;){\n    val newString = kotlinFunctionAsArgument({\n        str -&gt; str + \" | It's here\" //there are no errors\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5451044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-EJrz1YPk9sw/AAAAAAAAAAI/AAAAAAAAAIA/X2PyQ-bfr7w/photo.jpg?sz=128", "display_name": "Maxim Maliarov", "link": "https://stackoverflow.com/users/5451044/maxim-maliarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2696, "favorite_count": 0, "accepted_answer_id": 44345883, "answer_count": 2, "score": 2, "last_activity_date": 1569259875, "creation_date": 1496505504, "last_edit_date": 1496511486, "question_id": 44345847, "link": "https://stackoverflow.com/questions/44345847/kotlin-lambda-with-interface-as-an-argument", "title": "Kotlin lambda with Interface as an argument", "body": "<p>I'm a bit baffled by the Koltin lambdas and I wanted to know how to use it given the following snippet of code:</p>\n\n<pre><code>interface KotlinInterface {\n\n    fun doStuff(str: String): String\n}\n</code></pre>\n\n<p>And the function that requires this Interface to be passed as a parameter:</p>\n\n<pre><code>fun kotlinInterfaceAsArgument(kotlinInterface: KotlinInterface): String{\n\n   return kotlinInterface.doStuff(\"This was passed to Kotlin Interface method\")\n}\n\nfun main(args: Array&lt;String&gt;){\n\n    val newString = kotlinInterfaceAsArgument({\n      str -&gt; str + \" | It's here\" //error here (type mismatch)\n    })\n}\n</code></pre>\n\n<p>However, the same logic but in Java compiles and runs as intended.</p>\n\n<pre><code>public class JavaClass {\n\n   public String javaInterfaceAsArgument(JavaInterface javaInterface){\n\n        String passedToInterfaceMethod = \"This was passed to Java Interface method\";\n        return javaInterface.doStuff(passedToInterfaceMethod);\n    }\n\n   public interface JavaInterface {\n\n        public String doStuff(String str);\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        JavaClass javaClass = new JavaClass();\n        String newValue = javaClass.javaInterfaceAsArgument(str -&gt; str + \" | It's here!\");\n\n        System.out.println(newValue);\n    }\n}\n</code></pre>\n\n<p>How can I utilize lambda in Kotlin in this case?</p>\n"}, {"tags": ["overloading", "kotlin", "equals"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1496491307, "post_id": 44342776, "comment_id": 75690286, "body": "Please note that this is NOT <code>overriding</code>, but <code>overshadowing</code>"}, {"owner": {"reputation": 164, "user_id": 8082357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3ee22c9c39aeafad7f026e1848045df0?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8082357/patrick"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1496494707, "post_id": 44342776, "comment_id": 75691280, "body": "Thanks for that tiny but important difference!"}], "answers": [{"comments": [{"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1496485567, "post_id": 44342805, "comment_id": 75688762, "body": "Cool that it even compiles"}, {"owner": {"reputation": 164, "user_id": 8082357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3ee22c9c39aeafad7f026e1848045df0?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8082357/patrick"}, "edited": false, "score": 0, "creation_date": 1496494899, "post_id": 44342805, "comment_id": 75691347, "body": "Yes, but it shows a hint that the extension function is never used."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 4, "last_activity_date": 1496484838, "creation_date": 1496484838, "answer_id": 44342805, "question_id": 44342776, "link": "https://stackoverflow.com/questions/44342776/overload-equals-of-bigdecimal-in-kotlin/44342805#44342805", "title": "Overload equals of BigDecimal in Kotlin", "body": "<p>From <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>If a class has a member function, and an extension function is defined which has the same receiver type, the same name and is applicable to given arguments, the member always wins.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 164, "user_id": 8082357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3ee22c9c39aeafad7f026e1848045df0?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8082357/patrick"}, "edited": false, "score": 0, "creation_date": 1496495020, "post_id": 44342806, "comment_id": 75691391, "body": "To summarize that means that with an extension function one cannot override the <i>equals</i> operator?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 164, "user_id": 8082357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3ee22c9c39aeafad7f026e1848045df0?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8082357/patrick"}, "edited": false, "score": 0, "creation_date": 1496495112, "post_id": 44342806, "comment_id": 75691426, "body": "Yes, that&#39;s what it means."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1496484851, "creation_date": 1496484851, "answer_id": 44342806, "question_id": 44342776, "link": "https://stackoverflow.com/questions/44342776/overload-equals-of-bigdecimal-in-kotlin/44342806#44342806", "title": "Overload equals of BigDecimal in Kotlin", "body": "<p>You can not <em>override</em> or shadow functions of classes with extension functions. See the answer to a very similar question <a href=\"https://stackoverflow.com/a/44327728/4465208\">here</a>.</p>\n"}], "owner": {"reputation": 164, "user_id": 8082357, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3ee22c9c39aeafad7f026e1848045df0?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8082357/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681, "favorite_count": 0, "accepted_answer_id": 44342806, "answer_count": 2, "score": 0, "last_activity_date": 1496484851, "creation_date": 1496484597, "question_id": 44342776, "link": "https://stackoverflow.com/questions/44342776/overload-equals-of-bigdecimal-in-kotlin", "title": "Overload equals of BigDecimal in Kotlin", "body": "<p>In a Kotlin file I try to overload the <em>equals</em> method of the <em>BigDecimal</em> class. I have the following piece of code for that:</p>\n\n<pre><code>fun BigDecimal.equals(n: Any?): Boolean = n is Int &amp;&amp; this.compareTo(BigDecimal(n)) == 0\n</code></pre>\n\n<p>The problem is that this function does not get called by <em>n.equals(1)</em> where <em>n</em> is of type BigDecimal.\nWhat's the problem and how can I solve it?</p>\n"}, {"tags": ["string", "kotlin", "string-interpolation"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6623106, "user_type": "registered", "profile_image": "https://graph.facebook.com/244570245935942/picture?type=large", "display_name": "ChanghuiN", "link": "https://stackoverflow.com/users/6623106/changhuin"}, "is_accepted": false, "score": 0, "last_activity_date": 1496465752, "creation_date": 1496465752, "answer_id": 44340429, "question_id": 44339907, "link": "https://stackoverflow.com/questions/44339907/string-interpolation-for-double-number-in-kotlin/44340429#44340429", "title": "String interpolation for double number in Kotlin", "body": "<p>you can try it like this</p>\n\n<pre><code>val df = DecimalFormat(\"#.00\")\nval d1 = 3.54213\ndf.format(d1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2227, "user_id": 3405980, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QOS9s.jpg?s=128&g=1", "display_name": "harshavmb", "link": "https://stackoverflow.com/users/3405980/harshavmb"}, "is_accepted": true, "score": 2, "last_activity_date": 1496466225, "creation_date": 1496466225, "answer_id": 44340481, "question_id": 44339907, "link": "https://stackoverflow.com/questions/44339907/string-interpolation-for-double-number-in-kotlin/44340481#44340481", "title": "String interpolation for double number in Kotlin", "body": "<p>You can try something like this :</p>\n\n<pre><code>   // string interpolation\n    val d = 3.54213\n    println(\"d = %.2f\".format(d))\n</code></pre>\n\n<p>This <a href=\"https://stackoverflow.com/questions/23086291/format-in-kotlin-string-templates\">link</a> too has the same answer but it says </p>\n\n<blockquote>\n  <p>There's clearly a piece of functionality here that is missing from\n  Kotlin at the moment, we'll fix it.</p>\n</blockquote>\n\n<p>Soon, you would see this on Kotlin.</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 320, "user_id": 1658597, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/276a3d91304b635b904f144d16b366ed?s=128&d=identicon&r=PG", "display_name": "thuanle", "link": "https://stackoverflow.com/users/1658597/thuanle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2638, "favorite_count": 0, "closed_date": 1496471782, "accepted_answer_id": 44340481, "answer_count": 2, "score": 1, "last_activity_date": 1549365267, "creation_date": 1496460059, "last_edit_date": 1549365267, "question_id": 44339907, "link": "https://stackoverflow.com/questions/44339907/string-interpolation-for-double-number-in-kotlin", "closed_reason": "Duplicate", "title": "String interpolation for double number in Kotlin", "body": "<p>How to use string interpolation for a double with 2 numbers after the period in Kotlin?</p>\n\n<p>For example </p>\n\n<pre><code>val d = 3.54213\nprintln(\"d = $d\")\n</code></pre>\n\n<p>will get <code>d = 3.54213</code>.</p>\n\n<p>I want to get <code>d = 3.54</code>. </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["constructor", "interface", "compiler-errors", "kotlin", "anonymous-class"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1496443430, "post_id": 44337252, "comment_id": 75680618, "body": "Your second case is wrong as well, you are not actually overriding the <code>run()</code> method in Runnable but passing in a lambda that contains a nested <code>run()</code> function that is never called.  Both examples are invalid."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496443584, "post_id": 44337252, "comment_id": 75680656, "body": "Also for the run example for Runnable, you don&#39;t need to specify the interface either and can just use SAM conversion and pass in a lambda <code>Thread { ... }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496443871, "post_id": 44337387, "comment_id": 75680739, "body": "Please add a note about using an <code>object</code> expression as well, which was also part of your fix.  And link to documentation <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 16210, "user_id": 819340, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NJ0q8ZFwD6s/AAAAAAAAAAI/AAAAAAAAACI/Wy1G-7NtYCU/photo.jpg?sz=128", "display_name": "Paulo Mattos", "link": "https://stackoverflow.com/users/819340/paulo-mattos"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496447211, "post_id": 44337387, "comment_id": 75681400, "body": "@JaysonMinard Yeah, I forgot to mention that error as well... good catch ;)"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496472556, "post_id": 44337387, "comment_id": 75685432, "body": "If <code>SurfaceHolder.Callback</code> is interface, then no <code>()</code> after."}, {"owner": {"reputation": 4757, "user_id": 3992148, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fa0e77e467d622680db5dce8aca2473f?s=128&d=identicon&r=PG&f=1", "display_name": "Joe Maher", "link": "https://stackoverflow.com/users/3992148/joe-maher"}, "edited": false, "score": 0, "creation_date": 1500423991, "post_id": 44337387, "comment_id": 77326640, "body": "Cheers for this, hunted for awhile. shame you can&#39;t lamda these though"}], "tags": [], "owner": {"reputation": 16210, "user_id": 819340, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NJ0q8ZFwD6s/AAAAAAAAAAI/AAAAAAAAACI/Wy1G-7NtYCU/photo.jpg?sz=128", "display_name": "Paulo Mattos", "link": "https://stackoverflow.com/users/819340/paulo-mattos"}, "is_accepted": true, "score": 9, "last_activity_date": 1500429414, "last_edit_date": 1500429414, "creation_date": 1496437335, "answer_id": 44337387, "question_id": 44337252, "link": "https://stackoverflow.com/questions/44337252/implementing-interface-anonymously-in-kotlin-results-in-has-no-constructors-er/44337387#44337387", "title": "Implementing Interface anonymously in Kotlin results in &quot;has no constructors&quot; error", "body": "<p>To create an object of an <em>anonymous subclass</em> you need to use the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"noreferrer\"><code>object:</code> expression</a>:</p>\n\n<pre><code>this.surface!!.holder!!.addCallback(object: SurfaceHolder.Callback {\n    override fun surfaceChanged(holder: SurfaceHolder, format: Int, \n                                width: Int, height: Int) {\n        ...        \n    }\n\n    override fun surfaceCreated(holder: SurfaceHolder) {\n        ...\n    }\n\n    override fun surfaceDestroyed(holder: SurfaceHolder) {\n        ... \n    }\n})\n</code></pre>\n\n<p>and don't forget to use the <code>override</code> keyword <em>per</em> overridden method as well ;)</p>\n"}], "owner": {"reputation": 81, "user_id": 6421442, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/add90fbab9bf1856af8ce5376f29dd4a?s=128&d=identicon&r=PG&f=1", "display_name": "robz", "link": "https://stackoverflow.com/users/6421442/robz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1873, "favorite_count": 0, "accepted_answer_id": 44337387, "answer_count": 1, "score": 5, "last_activity_date": 1534338873, "creation_date": 1496436632, "last_edit_date": 1534338873, "question_id": 44337252, "link": "https://stackoverflow.com/questions/44337252/implementing-interface-anonymously-in-kotlin-results-in-has-no-constructors-er", "title": "Implementing Interface anonymously in Kotlin results in &quot;has no constructors&quot; error", "body": "<p>I'm trying to use a SurfaceView in Android to hold a Camera preview. The documentation tells me that I need to call startPreview in the surfaceCreated callback for the surface holder. I'm trying to set the callback like so</p>\n\n \n\n<pre><code>this.surface!!.holder!!.addCallback(SurfaceHolder.Callback() {\n    fun surfaceChanged(holder: SurfaceHolder, format: Int, \n                       width: Int, height: Int) {\n\n    }\n\n    fun surfaceCreated(holder: SurfaceHolder) {\n\n    }\n\n    fun surfaceDestroyed(holder: SurfaceHolder) {\n\n    }\n})\n</code></pre>\n\n<p>However, I get the error:</p>\n\n<blockquote>\n  <p>SurfaceHolder.Callback has no constructors.</p>\n</blockquote>\n\n<p>I'm confused why this doesn't work when something like this does:</p>\n\n<pre><code>Thread(Runnable() {\n    fun run() {\n        ...        \n    }\n})\n</code></pre>\n"}, {"tags": ["android", "exception", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6363, "user_id": 497366, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/qHX3o.jpg?s=128&g=1", "display_name": "Bj&#246;rn Kechel", "link": "https://stackoverflow.com/users/497366/bj%c3%b6rn-kechel"}, "is_accepted": false, "score": 1, "last_activity_date": 1496434960, "creation_date": 1496434960, "answer_id": 44336887, "question_id": 44336724, "link": "https://stackoverflow.com/questions/44336724/kotlin-android-button-onclicklistener-causing-nosuchmethoderror/44336887#44336887", "title": "Kotlin Android Button.onClickListener causing NoSuchMethodError", "body": "<p>try </p>\n\n<pre><code>button.setOnClickListener {\n    // Handler code here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 6, "last_activity_date": 1496435405, "last_edit_date": 1496435405, "creation_date": 1496435028, "answer_id": 44336903, "question_id": 44336724, "link": "https://stackoverflow.com/questions/44336724/kotlin-android-button-onclicklistener-causing-nosuchmethoderror/44336903#44336903", "title": "Kotlin Android Button.onClickListener causing NoSuchMethodError", "body": "<p>Interestingly, I don't get that error, your code compiles for me. However, it won't work for a different reason: you're passing in a lambda as the listener inside the <code>{}</code>, which means that the contents of it will be executed when the click event happens. There is no code to run inside it though, you're just defining a <a href=\"https://kotlinlang.org/docs/reference/functions.html#local-functions\" rel=\"nofollow noreferrer\">local function</a> named <code>onClick</code> that will never be called.</p>\n\n<pre><code>button.setOnClickListener(Button.OnClickListener {\n    fun onClick(view: View){\n        ...\n    }\n\n    Log.d(\"TAG\", \"hi\") // this is the code that would be executed on click events\n})\n</code></pre>\n\n<p>There are two ways to fix your syntax:</p>\n\n<p>First, you can use an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\"><code>object</code> expression</a> to create the listener, this is pretty close to what you wrote, and is along the lines of the classic Java solution, it explicitly creates an anonymous class (note that the <code>OnClickListener</code> interface is actually under the <code>View</code> class):</p>\n\n<pre><code>button.setOnClickListener(object: View.OnClickListener {\n    override fun onClick(v: View?) {\n        val intent = ...\n    }\n})\n</code></pre>\n\n<p>Or you can use the shorter, more Kotlin-like syntax that the IDE will suggest when you try using the previous long form anyway, by making use of <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a>:</p>\n\n<pre><code>button.setOnClickListener {\n    val intent = ...\n}\n</code></pre>\n\n<p>This solution uses a lambda just like your initial code did, it just doesn't name what interface it converts to explicitly, and drops the <code>()</code> which are not required a single lambda parameter.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 4731759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4627f64c97aa74f6fdf2cbcf49accaf?s=128&d=identicon&r=PG", "display_name": "Jedsada Tiwongvorakul", "link": "https://stackoverflow.com/users/4731759/jedsada-tiwongvorakul"}, "is_accepted": false, "score": 0, "last_activity_date": 1529825242, "creation_date": 1529825242, "answer_id": 51007814, "question_id": 44336724, "link": "https://stackoverflow.com/questions/44336724/kotlin-android-button-onclicklistener-causing-nosuchmethoderror/51007814#51007814", "title": "Kotlin Android Button.onClickListener causing NoSuchMethodError", "body": "<p>You can try :</p>\n\n<pre><code>// case 1\nbutton?.setOnClickListener { view -&gt; \n   // handler here\n}\n\n// case 2\nbutton?.setOnClickListener {\n   // you can use keyword 'it' for use member view\n   // handler here\n}\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 3119628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f12d5a13ebadc3032b658fbf068fc74?s=128&d=identicon&r=PG&f=1", "display_name": "Lewiky", "link": "https://stackoverflow.com/users/3119628/lewiky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2523, "favorite_count": 0, "accepted_answer_id": 44336903, "answer_count": 3, "score": 3, "last_activity_date": 1529825242, "creation_date": 1496434272, "question_id": 44336724, "link": "https://stackoverflow.com/questions/44336724/kotlin-android-button-onclicklistener-causing-nosuchmethoderror", "title": "Kotlin Android Button.onClickListener causing NoSuchMethodError", "body": "<p>I think I've found a quirk of using kotlin for android, or there's some gap in my understanding of the syntax.</p>\n\n<p>Trying to set an <code>onClickListener</code> for a button is throwing a <code>NoSuchMethodError</code></p>\n\n<p>Here's the code at fault</p>\n\n<pre><code>button.setOnClickListener(Button.OnClickListener {\n            fun onClick(view: View){\n                val intent : Intent = Intent(this,DetailActivity::class.java)\n                if(obj is String) {\n                    intent.putExtra(\"Topic\", obj)\n                }\n                startActivity(intent)\n            }\n        })\n</code></pre>\n\n<p>And here's the stacktrace outputted</p>\n\n<pre><code> java.lang.NoSuchMethodError: No static method OnClickListener(Lkotlin/jvm/functions/Function1;)Landroid/view/View$OnClickListener; in class Landroid/widget/Button; or its super classes (declaration of 'android.widget.Button' appears in /system/framework/framework.jar:classes2.dex)\n</code></pre>\n\n<p>Anyone know whats up?</p>\n"}, {"tags": ["spring", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1024, "user_id": 1809445, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2c6ddeb0f06c048c1c8790e29dc1867b?s=128&d=identicon&r=PG", "display_name": "zennon", "link": "https://stackoverflow.com/users/1809445/zennon"}, "is_accepted": false, "score": 6, "last_activity_date": 1510261826, "creation_date": 1510261826, "answer_id": 47211582, "question_id": 44335371, "link": "https://stackoverflow.com/questions/44335371/used-kotlin-spring-plugin-still-getting-class-not-open-error/47211582#47211582", "title": "Used kotlin-spring plugin, still getting class not open error", "body": "<p>Had the same problem. Enabling annotation processing in Intellij solved the issue:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kqOgh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kqOgh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 1113090, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcf4a90aa21f887bf3988d3716eccb1?s=128&d=identicon&r=PG", "display_name": "aimozg", "link": "https://stackoverflow.com/users/1113090/aimozg"}, "is_accepted": false, "score": 1, "last_activity_date": 1526038152, "creation_date": 1526038152, "answer_id": 50291367, "question_id": 44335371, "link": "https://stackoverflow.com/questions/44335371/used-kotlin-spring-plugin-still-getting-class-not-open-error/50291367#50291367", "title": "Used kotlin-spring plugin, still getting class not open error", "body": "<p>Had similar problem. Couldn't run from IDE, but <code>gradlew.bat build bootRun</code> worked. Solved by updating Kotlin plugin <strong>in IDEA</strong>, from 1.2.40 to 1.2.41.</p>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 4886105, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1580891708841830/picture?type=large", "display_name": "Vamsi Krishna DS", "link": "https://stackoverflow.com/users/4886105/vamsi-krishna-ds"}, "is_accepted": false, "score": -1, "last_activity_date": 1559420098, "creation_date": 1559420098, "answer_id": 56410118, "question_id": 44335371, "link": "https://stackoverflow.com/questions/44335371/used-kotlin-spring-plugin-still-getting-class-not-open-error/56410118#56410118", "title": "Used kotlin-spring plugin, still getting class not open error", "body": "<p>I too faced Similar Issue while Running Springboot Application . Finally I learnt that Kotlin Class are final by Default . You need to add <strong>open</strong> before class Name</p>\n\n<p>So , you need to change class modifier as follows :</p>\n\n<blockquote>\n  <p>open class AppConfig {</p>\n</blockquote>\n\n<p>Reference : </p>\n\n<p><a href=\"http://engineering.pivotal.io/post/spring-boot-application-with-kotlin/\" rel=\"nofollow noreferrer\">http://engineering.pivotal.io/post/spring-boot-application-with-kotlin/</a></p>\n"}], "owner": {"reputation": 223, "user_id": 913355, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9dcc9494c55b211afe21fde2b7f007a3?s=128&d=identicon&r=PG", "display_name": "Jay", "link": "https://stackoverflow.com/users/913355/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2173, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1559420098, "creation_date": 1496428368, "last_edit_date": 1496442632, "question_id": 44335371, "link": "https://stackoverflow.com/questions/44335371/used-kotlin-spring-plugin-still-getting-class-not-open-error", "title": "Used kotlin-spring plugin, still getting class not open error", "body": "<p>I am getting a class cannot be final, needs to be open, despite adding the kotlin-spring plugin. The whole purpose of the plugin is to not manually add the open keyword to every class. </p>\n\n<p>Please guide me on getting the Kotling-Spring plugin to work with code below.</p>\n\n<p>build.gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = \"1.1.2\"\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlin_version\"\n    }\n}\n\napply plugin: \"kotlin\"\napply plugin: \"kotlin-spring\"\napply plugin: \"kotlin-noarg\"\napply plugin: \"idea\"\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile\"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    compile \"org.springframework:spring-context:4.3.8.RELEASE\"\n    testCompile \"org.springframework:spring-test:4.3.8.RELEASE\"\n    testCompile \"junit:junit:4.11\"\n}\n</code></pre>\n\n<p>AppConfig.java</p>\n\n<pre><code>@Configuration\nclass AppConfig {\n\n    @Bean\n    fun game(): Game {\n        return BaseballGame(redSox(),cubs())\n    }\n\n    @Bean\n    fun redSox(): Team {\n        return RedSox()\n    }\n\n    @Bean\n    fun cubs(): Team {\n        return Cubs()\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: @Configuration class 'AppConfig' may not be final. Remove the final modifier to continue.\nOffending resource: AppConfig\n</code></pre>\n\n<p>REF: <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#plugin-and-versions\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html#plugin-and-versions</a></p>\n"}, {"tags": ["kotlin", "higher-order-functions", "flatmap"], "answers": [{"comments": [{"owner": {"reputation": 5696, "user_id": 271736, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b1f2c4075a99d2dbff0dd6470630343?s=128&d=identicon&r=PG", "display_name": "RobGThai", "link": "https://stackoverflow.com/users/271736/robgthai"}, "edited": false, "score": 0, "creation_date": 1496427921, "post_id": 44334668, "comment_id": 75674363, "body": "Seems like I literally was not thinking big enough. Thanks."}], "tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": true, "score": 7, "last_activity_date": 1496425464, "creation_date": 1496425464, "answer_id": 44334668, "question_id": 44334585, "link": "https://stackoverflow.com/questions/44334585/how-to-flatmap-collection-inside-pair-in-kotlin/44334668#44334668", "title": "How to Flatmap collection inside Pair in Kotlin", "body": "<p>To get a list of Pairs you can do the following:</p>\n\n<pre><code>orderList.flatMap { order -&gt; //flatMap joins multiple lists together into one\n    order.selections.map { selection -&gt;    //Map every selection into a Pair&lt;Selection, Discount&gt;\n        Pair(selection, order.discount) }\n    .map { pair -&gt; /* Do your stuff here */ }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6162, "user_id": 1672027, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/356de98a7af65cf6dd187d3796ba04fd?s=128&d=identicon&r=PG", "display_name": "Matt Klein", "link": "https://stackoverflow.com/users/1672027/matt-klein"}, "is_accepted": false, "score": 1, "last_activity_date": 1542046431, "creation_date": 1542046431, "answer_id": 53267858, "question_id": 44334585, "link": "https://stackoverflow.com/questions/44334585/how-to-flatmap-collection-inside-pair-in-kotlin/53267858#53267858", "title": "How to Flatmap collection inside Pair in Kotlin", "body": "<p>An alternate syntax to @D3xter's answer using a bit more Kotlin sugar:</p>\n\n<pre><code>1    orderList\n2        .flatMap { order -&gt;\n3            order.selections.map { selection -&gt;\n4                order.discount to selection.price } \n5        .map { (discount, price) -&gt; ... }\n</code></pre>\n\n<p>This makes use of two Kotlin features:</p>\n\n<ol>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to.html\" rel=\"nofollow noreferrer\">to</a> infix operator on line 4 which is a \"factory function\" for <code>Pair</code></li>\n<li><a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">Destructuring</a> the pair on line 5 directly into named variables <code>discount</code> and <code>price</code></li>\n</ol>\n"}], "owner": {"reputation": 5696, "user_id": 271736, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b1f2c4075a99d2dbff0dd6470630343?s=128&d=identicon&r=PG", "display_name": "RobGThai", "link": "https://stackoverflow.com/users/271736/robgthai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2265, "favorite_count": 0, "accepted_answer_id": 44334668, "answer_count": 2, "score": 2, "last_activity_date": 1542046431, "creation_date": 1496425172, "question_id": 44334585, "link": "https://stackoverflow.com/questions/44334585/how-to-flatmap-collection-inside-pair-in-kotlin", "title": "How to Flatmap collection inside Pair in Kotlin", "body": "<p>In this example I have to classes.</p>\n\n<pre><code>Order(selections: List&lt;Selection&gt;, discount: Double, ...)\nSelection(productId: Long, price: Double, ...)\n</code></pre>\n\n<p>I then keep collection of <code>Order</code> that I want to calculate prices afterward which need to use <code>Selection's price</code> and <code>Order's discount</code>. How can I do this?</p>\n\n<p>I try to do the following but it doesn't seem to be possible.</p>\n\n<pre><code>val orderList: List&lt;Order&gt; = loadFromDB()\n\norderList.map { Pair(it.selections, it.discount) }  \n.flatMap { /* Here I want to get list of Pair of selection from all orders with discount. */}\n</code></pre>\n\n<p>Once I have Collection of <code>Pair(Selection, discount)</code> then I can continue calculating further.\nIs that possible to do in this form? Do I need to separate the chain?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1496421370, "post_id": 44333392, "comment_id": 75671019, "body": "FooViewModel::class.java"}], "answers": [{"tags": [], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "is_accepted": true, "score": 11, "last_activity_date": 1496421017, "creation_date": 1496421017, "answer_id": 44333584, "question_id": 44333392, "link": "https://stackoverflow.com/questions/44333392/unable-to-set-viewmodel-on-kotlin/44333584#44333584", "title": "Unable to set ViewModel on Kotlin", "body": "<p>The class usage is wrong. With Kotlin you use: <code>FooViewModel::class.java</code></p>\n"}], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 0, "accepted_answer_id": 44333584, "answer_count": 1, "score": 1, "last_activity_date": 1496421017, "creation_date": 1496420412, "question_id": 44333392, "link": "https://stackoverflow.com/questions/44333392/unable-to-set-viewmodel-on-kotlin", "title": "Unable to set ViewModel on Kotlin", "body": "<p>New to Kotlin language, trying Android <a href=\"https://developer.android.com/topic/libraries/architecture/index.html\" rel=\"nofollow noreferrer\">Architecture Components</a>. Trying to set a <code>ViewModel</code> for my <code>LifecycleActivity</code> in Kotlin language:</p>\n\n<pre><code>class FooActivity : LifecycleActivity() {\n  private var mViewModel: FooViewModel? = null\n  ..\n  override fun onCreate(savedInstanceState: Bundle?) {\n    mViewModel = ViewModelProviders.of(this).get(FooViewModel.class) &lt;-- error here\n</code></pre>\n\n<p>Getting <em>Name expected:</em> and <em>expecting )</em></p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1496417058, "post_id": 44332375, "comment_id": 75668671, "body": "Warn you with what warning?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496417327, "post_id": 44332375, "comment_id": 75668828, "body": "it isn&#39;t clear what you are trying to do, you should show the Kotlin code so we can see the final intent.  And any warning/error you are having."}, {"owner": {"reputation": 779, "user_id": 2859375, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/uTttX.png?s=128&g=1", "display_name": "hugerde", "link": "https://stackoverflow.com/users/2859375/hugerde"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496423177, "post_id": 44332375, "comment_id": 75671952, "body": "@JaysonMinard you are right, I editted my question"}], "answers": [{"comments": [{"owner": {"reputation": 5816, "user_id": 1976843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b252b544ecc188ea1f120e9c2c97ee?s=128&d=identicon&r=PG", "display_name": "JEY", "link": "https://stackoverflow.com/users/1976843/jey"}, "edited": false, "score": 0, "creation_date": 1496417140, "post_id": 44332423, "comment_id": 75668720, "body": "you could provide an example with constructor keyword"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 4, "creation_date": 1496417369, "post_id": 44332423, "comment_id": 75668848, "body": "using the constructor keyword for no reason is not idiomatic, what @todd presented is typical code."}, {"owner": {"reputation": 779, "user_id": 2859375, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/uTttX.png?s=128&g=1", "display_name": "hugerde", "link": "https://stackoverflow.com/users/2859375/hugerde"}, "edited": false, "score": 0, "creation_date": 1496664554, "post_id": 44332423, "comment_id": 75738114, "body": "I edit my question and I need to write something inside my constructor."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 7, "last_activity_date": 1496417104, "creation_date": 1496417104, "answer_id": 44332423, "question_id": 44332375, "link": "https://stackoverflow.com/questions/44332375/how-to-assign-same-name-class-variable-in-kotlin/44332423#44332423", "title": "How to assign same name Class variable in kotlin?", "body": "<p>In Kotlin, if you provide a <code>var</code> or <code>val</code> in the constructor, it automatically becomes available as a property you can use. No other assignment is required.</p>\n\n<pre><code>class LoginApiService(val context: Context) {\n\n   // Example...\n   fun doSomething() {\n      context.doSomethingOnContext()\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 779, "user_id": 2859375, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/uTttX.png?s=128&g=1", "display_name": "hugerde", "link": "https://stackoverflow.com/users/2859375/hugerde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1496423110, "creation_date": 1496416918, "last_edit_date": 1496423110, "question_id": 44332375, "link": "https://stackoverflow.com/questions/44332375/how-to-assign-same-name-class-variable-in-kotlin", "title": "How to assign same name Class variable in kotlin?", "body": "<p>I want to assign my context in constructor but when I use \"this\" ide warn me.  How can I write code like this Java code below, but in Kotlin:</p>\n\n<p>here is java code\n</p>\n\n<pre><code>public class LoginApiService {\n    Context context;\n\n    public LoginApiService(Context context) {\n        this.context = context;\n    }\n}\n</code></pre>\n\n<p>here is what I want to do</p>\n\n<pre><code>class YLAService {\n\n\nvar context:Context?=null\n\nclass YLAService constructor(context: Context) {\n    this.context=context\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1496415284, "post_id": 44331721, "comment_id": 75667574, "body": "Why not just <code>currentObservationKotlin.tempF &gt;= 60</code>?"}, {"owner": {"reputation": 198, "user_id": 4219444, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh5.googleusercontent.com/-1ucxayM2GqE/AAAAAAAAAAI/AAAAAAAAABU/o1fHZB98Ln4/photo.jpg?sz=128", "display_name": "Adam Gardner", "link": "https://stackoverflow.com/users/4219444/adam-gardner"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1496416881, "post_id": 44331721, "comment_id": 75668574, "body": "I can use currentObservationKotlin.tempF!! &gt;= 60 and everything compiles and works as expected but not sure why I need to put !!. Still trying to learn the null stuff with Kotlin."}, {"owner": {"reputation": 198, "user_id": 4219444, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh5.googleusercontent.com/-1ucxayM2GqE/AAAAAAAAAAI/AAAAAAAAABU/o1fHZB98Ln4/photo.jpg?sz=128", "display_name": "Adam Gardner", "link": "https://stackoverflow.com/users/4219444/adam-gardner"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1496417649, "post_id": 44331721, "comment_id": 75669022, "body": "When I do as suggested above, I get an error on the &gt;= operator. I states that &quot;None of the following functions can be called with the arguments supplied: public final operator fun compareTo(other: Double): Int defined in kotlin.Double&quot;.I can use currentObservationKotlin.tempF!! &gt;= 60 and everything compiles and works as expected but not sure why I need to put !!. Still trying to learn the null stuff with Kotlin."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1496417849, "post_id": 44331721, "comment_id": 75669155, "body": "Looks like getCurrentObservation() is declared to return a nullable type. You can&#39;t compare a value of a nullable type with anything, because it would produce an NPE if the value was null."}], "answers": [{"comments": [{"owner": {"reputation": 198, "user_id": 4219444, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh5.googleusercontent.com/-1ucxayM2GqE/AAAAAAAAAAI/AAAAAAAAABU/o1fHZB98Ln4/photo.jpg?sz=128", "display_name": "Adam Gardner", "link": "https://stackoverflow.com/users/4219444/adam-gardner"}, "edited": false, "score": 0, "creation_date": 1496419068, "post_id": 44332706, "comment_id": 75669841, "body": "Awesome, thank you so much, will look into both links. I see your using the Elvis operator also. I was trying to do that first, but wasn&#39;t able to create the code correctly. Is it always better to create another val/car with Kotlin then just using var currentTemp: Double = currentObservationKotlin?.tempF!! and just setting that to a TextView?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 198, "user_id": 4219444, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh5.googleusercontent.com/-1ucxayM2GqE/AAAAAAAAAAI/AAAAAAAAABU/o1fHZB98Ln4/photo.jpg?sz=128", "display_name": "Adam Gardner", "link": "https://stackoverflow.com/users/4219444/adam-gardner"}, "edited": false, "score": 0, "creation_date": 1496426348, "post_id": 44332706, "comment_id": 75673614, "body": "I only created other variables to make the code clearer what steps were doing what.  They are optional."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 1, "last_activity_date": 1496418782, "last_edit_date": 1496418782, "creation_date": 1496418014, "answer_id": 44332706, "question_id": 44331721, "link": "https://stackoverflow.com/questions/44331721/errors-when-converting-java-to-kotlin-code/44332706#44332706", "title": "Errors when converting Java to Kotlin code", "body": "<p>The Java and Kotlin version would be almost the same.  Start with the Java code and drop the semicolons <code>;</code> and then anything that COULD be nullable needs to be handled with either <code>null</code> checks or you asserting that they will never be null with <code>!!</code>, or using another <code>null</code> operator.  You do not show enough code (i.e. the method signature coming into this code, or the declaration of the used variables) to tell you exactly what needs to change.</p>\n\n<p><em>For handling <code>null</code> values see: <a href=\"https://stackoverflow.com/questions/34498562\">In Kotlin, what is the idiomatic way to deal with nullable values</a></em></p>\n\n<p>You might end up with warnings around calling a setter method as <code>something.setXyz(value)</code> instead of assigning it as a property <code>something.xyz = value</code> and the IDE will help you fix those or you can live with the warning.  </p>\n\n<p><em>For more about interoperability with JavaBean properties see: <a href=\"http://kotlinlang.org/docs/reference/java-interop.html#getters-and-setters\" rel=\"nofollow noreferrer\">Java Interop: Getters and Setters</a></em></p>\n\n<p>So with all of that in mind, your final code (with a little more cleaning) might appear something like:</p>\n\n<pre><code>val currentTemp = currentForecastJava.getCurrentObservation()?.getTempF() ?: -1 \n// or change -1 to whatever default you want if there is no observation\nif (currentTemp &gt;= 60) {\n    val warmColor = getResources().getColor(R.color.weather_warm)\n    mCurrentWeatherBox.backgroundColor = warmColor\n    mToolbar.backgroundColor = warmColor\n} else {\n    val coolColor = getResources().getColor(R.color.weather_cool)\n    mCurrentWeatherBox.backgroundColor = coolColor\n    mToolbar.backgroundColor = coolColor\n}\n</code></pre>\n"}], "owner": {"reputation": 198, "user_id": 4219444, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh5.googleusercontent.com/-1ucxayM2GqE/AAAAAAAAAAI/AAAAAAAAABU/o1fHZB98Ln4/photo.jpg?sz=128", "display_name": "Adam Gardner", "link": "https://stackoverflow.com/users/4219444/adam-gardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 44332706, "answer_count": 1, "score": 1, "last_activity_date": 1496418782, "creation_date": 1496414914, "last_edit_date": 1496418724, "question_id": 44331721, "link": "https://stackoverflow.com/questions/44331721/errors-when-converting-java-to-kotlin-code", "title": "Errors when converting Java to Kotlin code", "body": "<p>So this is my Java code that works</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (currentForecastJava.getCurrentObservation().getTempF() &gt;= 60) {\n    mCurrentWeatherBox.setBackgroundColor(getResources().getColor(R.color.weather_warm));\n    mToolbar.setBackgroundColor(getResources().getColor(R.color.weather_warm));\n} else {\n    mCurrentWeatherBox.setBackgroundColor(getResources().getColor(R.color.weather_cool));\n    mToolbar.setBackgroundColor(getResources().getColor(R.color.weather_cool));\n}\n</code></pre>\n\n<p>What I am trying to do is write this in Kotlin(know AS has the converter but does not change anything)</p>\n\n<pre><code>if (currentObservationKotlin.tempF.compareTo() &gt;=)\n\n    currentWeatherBox.setBackgroundColor(resources.getColor(R.color.weather_warm))\n    toolbar.setBackgroundColor(resources.getColor(R.color.weather_warm))\n\nelse currentWeatherBox.setBackgroundColor(resources.getColor(R.color.weather_cool))\n     toolbar.setBackgroundColor(resources.getColor(R.color.weather_cool))\n</code></pre>\n\n<p>I know I need a value in the compareTo() and after but I am not really sure what to place as I want to compare TempF to 60 as I want the color to change based on the TempF value from data class. I do not have another object to compare it to.</p>\n\n<p>I can write this in Java and it works with the rest of the Kotlin code but trying to see if Kotlin can make the Java if/else similar and quicker to write. </p>\n"}, {"tags": ["android", "json", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 2963, "user_id": 4856245, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/y62au.jpg?s=128&g=1", "display_name": "Jeffrey Rajan", "link": "https://stackoverflow.com/users/4856245/jeffrey-rajan"}, "edited": false, "score": 0, "creation_date": 1496413041, "post_id": 44331081, "comment_id": 75666129, "body": "Try to use <code>listView</code> or <code>RecyclerView</code>"}, {"owner": {"reputation": 695, "user_id": 5239122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0da464d60c875def144dfac4f6a6433?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Martinez", "link": "https://stackoverflow.com/users/5239122/juan-martinez"}, "edited": false, "score": 0, "creation_date": 1496413062, "post_id": 44331081, "comment_id": 75666147, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29387403/android-creating-text-view-dynamically\">android creating text view dynamically</a>"}, {"owner": {"reputation": 738, "user_id": 6200183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV9NA.png?s=128&g=1", "display_name": "Pulak", "link": "https://stackoverflow.com/users/6200183/pulak"}, "edited": false, "score": 0, "creation_date": 1496413084, "post_id": 44331081, "comment_id": 75666156, "body": "You have to use xml to define view. One thing you can do is add views as per the number of objects in your json(have their visibility set to invisible or gone) and for each object you check validity and then make that view visible"}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 5668782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7h6wE.png?s=128&g=1", "display_name": "mdb", "link": "https://stackoverflow.com/users/5668782/mdb"}, "is_accepted": true, "score": 2, "last_activity_date": 1496414436, "creation_date": 1496414436, "answer_id": 44331577, "question_id": 44331081, "link": "https://stackoverflow.com/questions/44331081/how-do-i-dynamically-add-textviews-to-my-layout-based-on-the-content-of-a-json-f/44331577#44331577", "title": "How do I dynamically add TextViews to my layout based on the content of a JSON file?", "body": "<p>@Lewiky, Here is .java file code for adding TextView to a ScrollView dynamically. You can replace the loop through according to your json objects length. Also posting the xml layout file code for your reference</p>\n\n<pre><code>public class Scrollview extends AppCompatActivity {\n    ScrollView scrollview;\n    LinearLayout linearLayout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_scrollview);\n\n\n        scrollview = (ScrollView) findViewById(R.id.scrollView);\n        linearLayout=(LinearLayout)findViewById(R.id.scrllinear);\n        TextView textView;\n\n        LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);\n\n\n        for (int i = 0; i &lt; 5; i++) {\n            textView = new TextView(this);\n            textView.setText(\"I=\" + i);\n            linearLayout.addView(textView, lp);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>XML code </p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/relative\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;ScrollView\n        android:id=\"@+id/scrollView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/scrllinear\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Hope this helps, \nHappy Coding. :)</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 6350515, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A82F7ueUUc4/AAAAAAAAAAI/AAAAAAAAAsE/TIPgbHJb-ag/photo.jpg?sz=128", "display_name": "Aran Moncusi Ramirez", "link": "https://stackoverflow.com/users/6350515/aran-moncusi-ramirez"}, "is_accepted": false, "score": 1, "last_activity_date": 1496417426, "last_edit_date": 1496417426, "creation_date": 1496415920, "answer_id": 44332059, "question_id": 44331081, "link": "https://stackoverflow.com/questions/44331081/how-do-i-dynamically-add-textviews-to-my-layout-based-on-the-content-of-a-json-f/44332059#44332059", "title": "How do I dynamically add TextViews to my layout based on the content of a JSON file?", "body": "<p>I Supposing that you have a <code>activity_layout.xml</code> and <code>SomeActivity</code> and both have a relation wihch <code>setContentView(R.layout.activity_layout)</code> method, called in overridden method <code>onCreate</code>, like this:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?)\n{\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_layout)\n}\n</code></pre>\n\n<p>Now, you need finder some <code>ViewGroup</code> like: <code>LinearLayout</code>, <code>ListView</code> (better). Using method <code>findViewById(R.id.some_group_view)</code> and cast with the same class.</p>\n\n<p>With instanced variables (supposing you use <code>ListView</code>) map you Json object and extract the needed information in Iterator object and pass data in you <code>ArrayAdapter</code>.</p>\n\n<p>See Android developer guides for make application. They have a really useful documentation.</p>\n\n<p><a href=\"https://developer.android.com/index.html\" rel=\"nofollow noreferrer\">Android developer Main page</a><br>\n<a href=\"https://developer.android.com/training/index.html\" rel=\"nofollow noreferrer\">Android developer Guides</a><br>\n<a href=\"https://developer.android.com/guide/topics/ui/layout/listview.html\" rel=\"nofollow noreferrer\">Android developer ListView</a>  </p>\n"}], "owner": {"reputation": 315, "user_id": 3119628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f12d5a13ebadc3032b658fbf068fc74?s=128&d=identicon&r=PG&f=1", "display_name": "Lewiky", "link": "https://stackoverflow.com/users/3119628/lewiky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 44331577, "answer_count": 2, "score": 0, "last_activity_date": 1496433834, "creation_date": 1496412848, "last_edit_date": 1496433834, "question_id": 44331081, "link": "https://stackoverflow.com/questions/44331081/how-do-i-dynamically-add-textviews-to-my-layout-based-on-the-content-of-a-json-f", "title": "How do I dynamically add TextViews to my layout based on the content of a JSON file?", "body": "<p>I'm new to android development. I have a JSON File that contains a number of objects, how do I add a new TextView to my ScrollView for every object in the JSON file? Each TextView would store the data contained in the JSON Object. The only way I know at the moment to add Views to a Layout is by defining them in the activity layout XML file, But that doesn't allow for me to automatically generate them, I have to create them all by hand and define them manually.</p>\n\n<p>Thanks</p>\n\n<p>EDIT: The linked duplicate didn't have any answers, however an answer has been provided here.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 3, "creation_date": 1496400805, "post_id": 44327135, "comment_id": 75658417, "body": "You can&#39;t overshadow a method with an extension"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 8, "last_activity_date": 1496415485, "last_edit_date": 1496415485, "creation_date": 1496402620, "answer_id": 44327728, "question_id": 44327135, "link": "https://stackoverflow.com/questions/44327135/why-kotlin-can-not-override-list-operator-method/44327728#44327728", "title": "Why Kotlin can not override List&lt;*&gt; operator method?", "body": "<p>In Kotlin, you cannot shadow a member function with an extension. A <strong>member always wins</strong> in the call resolution. So, you basically cannot call an extension with a signature same to that of a member function, that is present in the type that was declared or inferred for the expression.</p>\n\n<pre><code>class C {\n    fun foo() { println(\"member\") }\n}\n\nfun C.foo() { println(\"extension\") }\n\nC().foo() // prints \"member\"\n</code></pre>\n\n<p>In your case, the member function is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/get.html\" rel=\"nofollow noreferrer\"><code>abstract operator fun get(index: Int): E</code></a> defined in <code>kotlin.collections.List</code>.</p>\n\n<p>See the language reference: <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extensions-are-resolved-statically\" rel=\"nofollow noreferrer\">Extensions are resolved <strong>statically</strong></a> </p>\n"}, {"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 0, "last_activity_date": 1496403422, "last_edit_date": 1496403422, "creation_date": 1496402702, "answer_id": 44327756, "question_id": 44327135, "link": "https://stackoverflow.com/questions/44327135/why-kotlin-can-not-override-list-operator-method/44327756#44327756", "title": "Why Kotlin can not override List&lt;*&gt; operator method?", "body": "<p>As voddan mentions in the comment, you can't overshadow a method with an extension. However, there is a way to get around this with some polymorphism. I don't think I would recommend doing this in your case, but I guess it shows off a cool Kotlin feature.</p>\n\n<p>If <code>b[0]</code> returns an object of type <code>B</code>, you could do this in that class:</p>\n\n<pre><code>data class B(private val _teachers: List&lt;Teacher&gt; = emptyList()) {\n    private class Teachers(private val list: List&lt;Teacher&gt;) : List&lt;Teacher&gt; by list {\n        override operator fun get(int: Int): Teacher {\n            var t = Teacher() \n            t.name = \"asd\"\n            return t ;\n        }\n    }\n\n    val teachers: List&lt;Teacher&gt; = Teachers(_teachers)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(B().teachers[0].name) // Prints \"asd\"\n}\n</code></pre>\n\n<p>When I override the <code>get</code>-function it will affect everyone that uses the <code>B</code> class, not just where you would import the extension-function.</p>\n\n<p>Note that I am delegating all other method-calls on the <code>Teachers</code>-class through to the underlying list.</p>\n"}], "owner": {"reputation": 747, "user_id": 6477694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b295a4726fb5094fda67dcb001c90b11?s=128&d=identicon&r=PG&f=1", "display_name": "junk", "link": "https://stackoverflow.com/users/6477694/junk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 968, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1496415485, "creation_date": 1496400660, "last_edit_date": 1496412228, "question_id": 44327135, "link": "https://stackoverflow.com/questions/44327135/why-kotlin-can-not-override-list-operator-method", "title": "Why Kotlin can not override List&lt;*&gt; operator method?", "body": "<p>Here is my  function:   </p>\n\n<pre><code>operator  infix fun  List&lt;Teacher&gt;.get(int: Int): Teacher {\n    var t = Teacher()\n    t.name = \"asd\"\n    return t ;\n}\n</code></pre>\n\n<p>and my usage:</p>\n\n<pre><code>b[0].teachers[1].name\n</code></pre>\n\n<p>tip: b is an object that has List&lt; Teacher > property</p>\n\n<p>and the error<code>Empty list doesn't contain element at index 1.</code></p>\n\n<p>why this override operator function  doesn't work?</p>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 3201506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97d50b7b1e62d2c9f22b3817a1e5f8b0?s=128&d=identicon&r=PG&f=1", "display_name": "Araf", "link": "https://stackoverflow.com/users/3201506/araf"}, "edited": false, "score": 1, "creation_date": 1496396753, "post_id": 44325609, "comment_id": 75655911, "body": "What if I don&#39;t want to initialize the Array with any values? Kotlin equivalent of this Java snippet <code>ArrayList&lt;Integer&gt; lst = new ArrayList&lt;Integer&gt;(10);</code>"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "reply_to_user": {"reputation": 303, "user_id": 3201506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97d50b7b1e62d2c9f22b3817a1e5f8b0?s=128&d=identicon&r=PG&f=1", "display_name": "Araf", "link": "https://stackoverflow.com/users/3201506/araf"}, "edited": false, "score": 2, "creation_date": 1496396966, "post_id": 44325609, "comment_id": 75656040, "body": "In Java this will result in a list with all <code>0</code> values. In Kotlin you will have to specify this explicitly."}, {"owner": {"reputation": 303, "user_id": 3201506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97d50b7b1e62d2c9f22b3817a1e5f8b0?s=128&d=identicon&r=PG&f=1", "display_name": "Araf", "link": "https://stackoverflow.com/users/3201506/araf"}, "edited": false, "score": 0, "creation_date": 1496397181, "post_id": 44325609, "comment_id": 75656189, "body": "I see. But I&#39;m in the process of writing a twig template and I&#39;m trying to generalize the array creation syntax for various datatypes. So I want something that reads, <code>Array&lt;{{TYPE}}&gt;(a_size) { {{GENERAL_INITIALIZER}} }</code>.  Is this possible with the current syntax?"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "reply_to_user": {"reputation": 303, "user_id": 3201506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97d50b7b1e62d2c9f22b3817a1e5f8b0?s=128&d=identicon&r=PG&f=1", "display_name": "Araf", "link": "https://stackoverflow.com/users/3201506/araf"}, "edited": false, "score": 2, "creation_date": 1496397619, "post_id": 44325609, "comment_id": 75656467, "body": "You will either need to create an array with nullable values, or provide a default non-null value for the type."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 10, "last_activity_date": 1496402103, "last_edit_date": 1496402103, "creation_date": 1496396260, "answer_id": 44325609, "question_id": 44325442, "link": "https://stackoverflow.com/questions/44325442/kotlin-array-init-function/44325609#44325609", "title": "Kotlin Array init function", "body": "<p>You're calling a constructor with an initializer:</p>\n\n<pre><code>/**\n * Creates a new array with the specified [size], where each element is calculated by calling the specified\n * [init] function. The [init] function returns an array element given its index.\n */\npublic inline constructor(size: Int, init: (Int) -&gt; T)\n</code></pre>\n\n<p>Thus, you're passing a function to the constructor which will get called for each element. The result of <code>a</code> will be</p>\n\n<pre><code>[\n  \"n = 0\",\n  \"n = 1\",\n  ...,\n  \"n = $a_size\"\n]\n</code></pre>\n\n<p>If you just want to create an array with all <code>0</code> values, do it like so:</p>\n\n<pre><code>val a = Array&lt;Int&gt;(a_size) { 0 }\n</code></pre>\n\n<p>Alternatively, you can create arrays in the following way:</p>\n\n<pre><code>val a = arrayOf(\"a\", \"b\", \"c\")\nval b = intArrayOf(1, 2, 3)\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 3201506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97d50b7b1e62d2c9f22b3817a1e5f8b0?s=128&d=identicon&r=PG&f=1", "display_name": "Araf", "link": "https://stackoverflow.com/users/3201506/araf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2455, "favorite_count": 0, "accepted_answer_id": 44325609, "answer_count": 1, "score": 5, "last_activity_date": 1496402103, "creation_date": 1496395801, "last_edit_date": 1496395853, "question_id": 44325442, "link": "https://stackoverflow.com/questions/44325442/kotlin-array-init-function", "title": "Kotlin Array init function", "body": "<p>I'm new to Kotlin and have difficulty understanding how the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/-init-.html\" rel=\"noreferrer\">init function</a> works in context of an Array. Specifically, if I'm trying to make an array of <code>String</code> type using:</p>\n\n<pre><code>val a = Array&lt;String&gt;(a_size){\"n = $it\"}\n</code></pre>\n\n<ol>\n<li><p>This works, but what does <code>\"n = $it\"</code> mean? This doesn't look like the <code>init</code> function as it is within curly braces and not inside the parenthesis.</p></li>\n<li><p>If I want an Array of <code>Int</code> what would the <code>init</code> function or the part inside the curly braces look like?</p></li>\n</ol>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 1, "creation_date": 1496398236, "post_id": 44325306, "comment_id": 75656851, "body": "why -1? Seriously, I will accept it, but given no explanation I won&#39;t learn anything"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1496413286, "creation_date": 1496413286, "answer_id": 44331204, "question_id": 44325306, "link": "https://stackoverflow.com/questions/44325306/anko-layouts-distinguishing-layouts-in-applyrecursively/44331204#44331204", "title": "Anko layouts - distinguishing layouts in applyRecursively", "body": "<p>What I can suggest is, you can write a set of extension functions for each style you need to apply and then call them while creating your view hierarchy within the DSL. Something like this for <code>TextView</code>s:</p>\n\n<pre><code>fun TextView.makeBig() {\n    typeface = medium\n    textSize = 16f\n}\n</code></pre>\n\n<p>Then in your DSL:</p>\n\n<pre><code>textView(R.string.example) {\n    makeBig()\n}\n</code></pre>\n\n<p>This approach doesn't require you to generate IDs or set tags, and it looks more or less natural and idiomatic for Kotlin.</p>\n"}], "owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 44331204, "answer_count": 1, "score": 1, "last_activity_date": 1496413286, "creation_date": 1496395393, "question_id": 44325306, "link": "https://stackoverflow.com/questions/44325306/anko-layouts-distinguishing-layouts-in-applyrecursively", "title": "Anko layouts - distinguishing layouts in applyRecursively", "body": "<p>what is the best way to distinguish SOME of the views I want to <code>applyRecursively {}</code> something on? E.g. i've got several <code>textViews</code>, don't want to create separate containers for them (flat hierarchy!), but still I know some need to have e.g. a particular textSize, some need to have particular colour. Should I generate <code>ids</code> in a particular way? For some cases (when some styles are used together) I can of course make up a small function:</p>\n\n<pre><code>private fun ViewManager.bigTextView(\n    content: String, \n    init: (@AnkoViewDslMarker TextView).() -&gt; Unit) = \n    textView(content) {\n        init()\n        typeface = medium\n        textSize = 16f\n    }\n</code></pre>\n\n<p>but what when it's more generic? I was suggested maybe tags would do better.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496408192, "post_id": 44324821, "comment_id": 75663039, "body": "same as: <a href=\"https://stackoverflow.com/questions/44190468\">stackoverflow.com/questions/44190468</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496408217, "post_id": 44324821, "comment_id": 75663052, "body": "same as: <a href=\"https://stackoverflow.com/questions/44189319\">stackoverflow.com/questions/44189319</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1496396217, "post_id": 44324889, "comment_id": 75655631, "body": "<code>MyRunnable</code> should probably be a functional type + maybe a type alias, avoiding this issue altogether. See also <a href=\"https://stackoverflow.com/questions/44323826/why-i-cant-use-lambda-for-interface-at-kotlin/\" title=\"why i cant use lambda for interface at kotlin\">stackoverflow.com/questions/44323826/&hellip;</a>."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496408314, "post_id": 44324889, "comment_id": 75663102, "body": "@Oliver if you want to do the +1 that you mentioned, please see <a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-7770</a>"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496439030, "post_id": 44324889, "comment_id": 75679330, "body": "@jayson - already done :) (though also, if you&#39;re going to edit answers, please do so so the result still makes sense typographically!)"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1496442441, "post_id": 44324889, "comment_id": 75680367, "body": "Sure, trailing * waste bytes!"}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 6, "last_activity_date": 1496438943, "last_edit_date": 1496438943, "creation_date": 1496394235, "answer_id": 44324889, "question_id": 44324821, "link": "https://stackoverflow.com/questions/44324821/why-do-lambda-expressions-behave-differently-for-kotlin-and-java-classes/44324889#44324889", "title": "Why do Lambda expressions behave differently for Kotlin and Java classes?", "body": "<p>From the docs on <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversions</a>:</p>\n\n<blockquote>\n  <p>Note that this feature works only for Java interop; since Kotlin has proper function types, automatic conversion of functions into implementations of Kotlin interfaces is unnecessary and therefore unsupported.</p>\n</blockquote>\n\n<p>In other words, using <code>{ ... }</code> syntax is only supported for calls to Java.  The public rationale is that you could do either of:</p>\n\n<ol>\n<li><p>Have your <code>MyThread</code> constructor take a first-class function type as a parameter.</p></li>\n<li><p>Use an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a>:</p>\n\n<pre><code>MyThread(object : MyRunnable {\n    override fun run() {}\n})\n</code></pre></li>\n</ol>\n\n<p>This is obviously fairly verbose.  However, according to <a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"nofollow noreferrer\">this</a> Kotlin ticket, the lambda syntax is actually only part of the Java interop, not part of the core language, so would take some careful design to do anything more.</p>\n"}], "owner": {"reputation": 192, "user_id": 5022468, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-E9IsdkQXr7w/AAAAAAAAAAI/AAAAAAAAAac/f6NfI2JQAT0/photo.jpg?sz=128", "display_name": "Egor tepikin", "link": "https://stackoverflow.com/users/5022468/egor-tepikin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "closed_date": 1496408173, "accepted_answer_id": 44324889, "answer_count": 1, "score": 2, "last_activity_date": 1496438943, "creation_date": 1496393995, "question_id": 44324821, "link": "https://stackoverflow.com/questions/44324821/why-do-lambda-expressions-behave-differently-for-kotlin-and-java-classes", "closed_reason": "Duplicate", "title": "Why do Lambda expressions behave differently for Kotlin and Java classes?", "body": "<p>Why can I use Lambda for the class <code>java.lang.Thread</code>, but not for <code>MyThread</code>?</p>\n\n<pre><code>interface MyRunnable{\n    fun run()\n}\n\nclass MyThread(runnable : MyRunnable){    \n}\n\nfun test(){\n    Thread({})     // All Alright\n\n    MyThread({})   //Exception. Type mismatch &lt;&lt;-- Why ?\n}\n</code></pre>\n\n<p>Link to check this example: <a href=\"https://try.kotlinlang.org/#/UserProjects/tbs79qfkh50psp7r3qrdrinrmt/sfkpjq1bjvg4r6d5rmnu6mp4a8\" rel=\"nofollow noreferrer\">https://try.kotlinlang.org/#/UserProjects/tbs79qfkh50psp7r3qrdrinrmt/sfkpjq1bjvg4r6d5rmnu6mp4a8</a></p>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496391285, "post_id": 44323826, "comment_id": 75652699, "body": "Kotlin has functional types, e. g. <code>() -&gt; Unit</code> is a function which accepts no parameters and returns Unit (no value). In that way, there&#39;s no need in functional interfaces and SAM-conversions."}, {"owner": {"reputation": 53, "user_id": 2699165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/315916e3a88074c6d7af4e46a1e9f027?s=128&d=identicon&r=PG&f=1", "display_name": "user2699165", "link": "https://stackoverflow.com/users/2699165/user2699165"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496392593, "post_id": 44323826, "comment_id": 75653421, "body": "so in that case, functional types is recommended to replace traditional inner anonymous class? if so, then i get the point"}], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 2, "last_activity_date": 1496395946, "creation_date": 1496395946, "answer_id": 44325496, "question_id": 44323826, "link": "https://stackoverflow.com/questions/44323826/why-i-cant-use-lambda-for-interface-at-kotlin/44325496#44325496", "title": "why i can&#39;t use lambda for interface at kotlin?", "body": "<p>Currently, <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a> is not supported for interfaces defined in Kotlin. There's an issue for that in <a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"nofollow noreferrer\">YouTrack</a>, but currently I'd recommend using functional types instead of single-method interfaces. If you want them to have a proper name, you may use <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">type aliases</a>, but don't overuse them. In many cases a functional type together with good method/variable names is expressive enough.</p>\n"}], "owner": {"reputation": 53, "user_id": 2699165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/315916e3a88074c6d7af4e46a1e9f027?s=128&d=identicon&r=PG&f=1", "display_name": "user2699165", "link": "https://stackoverflow.com/users/2699165/user2699165"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "closed_date": 1496397700, "accepted_answer_id": 44325496, "answer_count": 1, "score": 5, "last_activity_date": 1496407848, "creation_date": 1496390740, "last_edit_date": 1496407848, "question_id": 44323826, "link": "https://stackoverflow.com/questions/44323826/why-i-cant-use-lambda-for-interface-at-kotlin", "closed_reason": "Duplicate", "title": "why i can&#39;t use lambda for interface at kotlin?", "body": "<p>see, I have a Java class:</p>\n\n<pre><code>public final class JavaReceiveSingle {\n    public static void useSingle(Single single) {\n        single.doSth();\n    }\n    public static void useSingle2(SingleInterface singleInterface) {\n        singleInterface.doSth();\n    }\n}\n</code></pre>\n\n<p>a Java interface:</p>\n\n<pre><code>public interface SingleInterface {\n    void doSth();\n}\n</code></pre>\n\n<p>a kotlin interface:</p>\n\n<pre><code>interface Single {\n    fun doSth()\n}\n</code></pre>\n\n<p>Now I can use lambda in a kotlin class like:</p>\n\n<pre><code>JavaReceiveSingle.useSingle2({})\n</code></pre>\n\n<p>But if I want to do the same thing to kotlin interface:</p>\n\n<pre><code>JavaReceiveSingle.useSingle({})\n</code></pre>\n\n<p>IDE will show error :Required: Single!  Found: ()->Unit</p>\n\n<p>And If I specify Single like:</p>\n\n<pre><code>JavaReceiveSingle.useSingle(Single{})\n</code></pre>\n\n<p>Still error:Interface Single does not have constructs!</p>\n\n<p>Though the following code works:</p>\n\n<pre><code>JavaReceiveSingle.useSingle(object :Single{\n    override fun aa() {}\n})\n</code></pre>\n\n<p>But why I can't use lambda for a kotlin interface?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1496389867, "post_id": 44323473, "comment_id": 75651974, "body": "Where is the varargs part? There is just no vararg in both your java version and kotlin version."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 8003911, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd057a7b2093fa6db229aa37ecf3f1e4?s=128&d=identicon&r=PG&f=1", "display_name": "niranjan", "link": "https://stackoverflow.com/users/8003911/niranjan"}, "edited": false, "score": 0, "creation_date": 1496397308, "post_id": 44323950, "comment_id": 75656260, "body": "And using the same spread operator on the other side , right , that way  i found it working ,also used vararg args:String? in method param , then *args"}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 3, "last_activity_date": 1496391144, "creation_date": 1496391144, "answer_id": 44323950, "question_id": 44323473, "link": "https://stackoverflow.com/questions/44323473/passing-var-args-to-messageformat-format-in-kotlin/44323950#44323950", "title": "passing var-args to MessageFormat.format in kotlin", "body": "<p>To remove ambiguity, Kotlin requires 'spread operator' (*) on array which is going to be passed as vararg, i. e.</p>\n\n<pre><code>loggingService.logTheMsg(\"4011\", *arrayOf(\"${expectedVal}\", \"${actualVal}\"))\n</code></pre>\n\n<p>Also, <code>\"${expectedVal}\"</code> should be replaced with <code>expectedVal</code>:</p>\n\n<pre><code>loggingService.logTheMsg(\"4011\", *arrayOf(expectedVal, actualVal))\n</code></pre>\n\n<p>And, of course, you can use varargs as they intended to be used:</p>\n\n<pre><code>loggingService.logTheMsg(\"4011\", expectedVal, actualVal)\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 8003911, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd057a7b2093fa6db229aa37ecf3f1e4?s=128&d=identicon&r=PG&f=1", "display_name": "niranjan", "link": "https://stackoverflow.com/users/8003911/niranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1496391144, "creation_date": 1496389509, "last_edit_date": 1496390308, "question_id": 44323473, "link": "https://stackoverflow.com/questions/44323473/passing-var-args-to-messageformat-format-in-kotlin", "title": "passing var-args to MessageFormat.format in kotlin", "body": "<p>I am trying to parse errorCode like</p>\n\n<pre><code>4011=Error thrown expected: {0} found: {1}.\n</code></pre>\n\n<p>using Message.format in kotlin</p>\n\n<pre><code>loggingService.logTheMsg(\"4011\", arrayOf(\"${expectedVal}\", \"${actualVal}\"))\n</code></pre>\n\n<p>In logTheMsg I am using this code :</p>\n\n<pre><code>var errorMessage = props.getProperty(errorCode)\nerrorMessage = MessageFormat.format(errorMessage as String, args)\nprintln(\"${errorMessage}.\")\n</code></pre>\n\n<p>but getting output as : </p>\n\n<pre><code>Error thrown expected:[Ljava.lang.String;@38f3b4ba found: {1}.\n</code></pre>\n\n<p>It might help in answering , the same thing is achieved in java like this:</p>\n\n<pre><code>parse(value, new String[]{\"firstName\",\"lastName\"});\n</code></pre>\n\n<p>And in parse:</p>\n\n<pre><code>parse(String value, String[]args) {         \n    value = MessageFormat.format((String) value, args);         \n    System.out.println(value); \n}\n</code></pre>\n\n<p>prints:\nmy name is firstName lastName</p>\n"}, {"tags": ["android", "view", "kotlin", "android-constraintlayout"], "comments": [{"owner": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1496388507, "post_id": 44323130, "comment_id": 75651235, "body": "Add layout gravity to both the TextView"}, {"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "reply_to_user": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1496388852, "post_id": 44323130, "comment_id": 75651423, "body": "I have added the Left gravity to textview and Right to textview1 but nothing happens @TerrilThomas"}, {"owner": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1496388972, "post_id": 44323130, "comment_id": 75651471, "body": "layout_gravity rather than just gravity"}, {"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "reply_to_user": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1496400868, "post_id": 44323130, "comment_id": 75658458, "body": "I can&#39;t add the layout_gravity property since for this I need to wrap the textview in linear layout with width match_parent but I don&#39;t want to do like that. @TerrilThomas"}, {"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "reply_to_user": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1496400980, "post_id": 44323130, "comment_id": 75658523, "body": "Moreover, It solves the question but generally, I want to add as many views in the layout till there is no space left. For that problem, I can&#39;t set the gravity. @TerrilThomas"}, {"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "reply_to_user": {"reputation": 1426, "user_id": 1562755, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SVk58.jpg?s=128&g=1", "display_name": "Terril Thomas", "link": "https://stackoverflow.com/users/1562755/terril-thomas"}, "edited": false, "score": 0, "creation_date": 1496401042, "post_id": 44323130, "comment_id": 75658569, "body": "@TerrilThomas XML is working fine without adding the gravity, then why not it is working through my kotlin code."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8101577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e34b11332b79fba273ef2e652441e83?s=128&d=identicon&r=PG&f=1", "display_name": "Y.Benziane", "link": "https://stackoverflow.com/users/8101577/y-benziane"}, "is_accepted": false, "score": -2, "last_activity_date": 1496388867, "creation_date": 1496388867, "answer_id": 44323287, "question_id": 44323130, "link": "https://stackoverflow.com/questions/44323130/how-to-programmatically-add-view-in-constraint-layout/44323287#44323287", "title": "How to programmatically add view in Constraint layout?", "body": "<p>Try to replace   <code>app:layout_constraintRight_toRightOf=\"parent\"</code></p>\n\n<p>with\n<code>app:layout_constraintRight_toRightOf=\"@+id/toogle_diabeties\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1496404320, "post_id": 44327780, "comment_id": 75660591, "body": "It is not working as expected. Result is same as before @Cheticamp"}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "reply_to_user": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1496407907, "post_id": 44327780, "comment_id": 75662879, "body": "@AnkurKhandelwal You definitely need to do the move, but that may not be your only issue. I am not familiar with Kotlin so, if it is a Kotlin issue, I can&#39;t help. I am wondering what <code>before_breakfast_option</code> refers to and are you actually getting your constraints applied. Here is a <a href=\"https://gist.github.com/Cheticamp/4e74a6210728b952cb35e7e2a5656b91\" rel=\"nofollow noreferrer\">quick gist</a> of working code in Java that you can take a look at. It may help you figure out your remaining issues."}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "reply_to_user": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1496409477, "post_id": 44327780, "comment_id": 75663862, "body": "@AnkurKhandelwal I did a conversion of the above-mentioned gist to Kotlin and ran the result with success. Here is the <a href=\"https://gist.github.com/Cheticamp/e0af76d73f7a10367efe4dde4ff2f877\" rel=\"nofollow noreferrer\">Kotlin version</a> of the working Java code. I hope this helps."}, {"owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "edited": false, "score": 1, "creation_date": 1496454871, "post_id": 44327780, "comment_id": 75682632, "body": "I didn&#39;t get time to check your code ( thanks for making gist and so kind of you)  but  I got the solution. Actually, I was using the wrong constraint and yes addview will call before setting the constraint. Thanks for this."}], "tags": [], "owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "is_accepted": false, "score": 3, "last_activity_date": 1496402785, "creation_date": 1496402785, "answer_id": 44327780, "question_id": 44323130, "link": "https://stackoverflow.com/questions/44323130/how-to-programmatically-add-view-in-constraint-layout/44327780#44327780", "title": "How to programmatically add view in Constraint layout?", "body": "<p>Add the <code>TextView</code>s to the layout then connect them just like you did when setting up the XML. You added the views THEN connected them.</p>\n\n<p>Move</p>\n\n<pre><code>before_breakfast_option.addView(textView)\nbefore_breakfast_option.addView(textView1)\n</code></pre>\n\n<p>before</p>\n\n<pre><code>var constraintset= ConstraintSet()\n</code></pre>\n\n<p>and everything should work.</p>\n"}, {"tags": [], "owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1554743164, "last_edit_date": 1554743164, "creation_date": 1496455026, "answer_id": 44339523, "question_id": 44323130, "link": "https://stackoverflow.com/questions/44323130/how-to-programmatically-add-view-in-constraint-layout/44339523#44339523", "title": "How to programmatically add view in Constraint layout?", "body": "<p>Maybe anyone else will use it in future. A sound sleep and work done. \nI was using the wrong constraint.  </p>\n\n<p>Instead of this</p>\n\n<pre><code>//left to left of\nconstraintset.connect(textView.id,ConstraintSet.LEFT,ConstraintSet.PARENT_ID,ConstraintSet.LEFT,0)\n//baseline\nconstraintset.connect(textView.id,ConstraintSet.BASELINE,textView1.id,ConstraintSet.BASELINE,0)\n//right to right of\nconstraintset.connect(textView1.id,ConstraintSet.RIGHT,ConstraintSet.PARENT_ID,ConstraintSet.RIGHT,0)\n//top to top of\nconstraintset.connect(textView1.id,ConstraintSet.TOP,ConstraintSet.PARENT_ID,ConstraintSet.TOP,0)\n</code></pre>\n\n<p>use this</p>\n\n<pre><code>//left to right of\nconstraintset.connect(textView1.id,ConstraintSet.LEFT,textView.id,ConstraintSet.RIGHT,10)\n//baseline\nconstraintset.connect(textView1.id,ConstraintSet.BASELINE,textView.id,ConstraintSet.BASELINE,0)\n</code></pre>\n"}], "owner": {"reputation": 922, "user_id": 7124362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/663c7ea155af997408dbe0a6a8914b52?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7124362/ankur-khandelwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4451, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1554743164, "creation_date": 1496388279, "last_edit_date": 1496389161, "question_id": 44323130, "link": "https://stackoverflow.com/questions/44323130/how-to-programmatically-add-view-in-constraint-layout", "title": "How to programmatically add view in Constraint layout?", "body": "<p>I am trying to design the below layout</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n            android:id=\"@+id/before_breakfast_option\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/diabetes_text\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"16dp\"\n                android:layout_marginStart=\"16dp\"\n                android:text=\"water\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Medium\"\n                android:textColor=\"@color/black\"\n                app:layout_constraintBaseline_toBaselineOf=\"@+id/toogle_diabeties\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"/&gt;\n\n            &lt;TextView\n                android:textColor=\"@color/black\"\n                android:text=\"almonds\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                android:id=\"@+id/toogle_diabeties\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"/&gt;\n\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>using the below code:</p>\n\n<pre><code> var textView= TextView(this@DietStepFive)\n                    textView.id=100\n                    textView.text=\"water\"\n                    textView.background=ContextCompat.getDrawable(this@DietStepFive,R.drawable.rectangle_diet)\n                    textView.setTextColor(ContextCompat.getColor(this@DietStepFive,R.color.black))\n\n                    var textView1= TextView(this@DietStepFive)\n                    textView1.id=101\n                    textView1.text=\"almonds\"\n                    textView1.background=ContextCompat.getDrawable(this@DietStepFive,R.drawable.rectangle_diet)\n                    textView1.setTextColor(ContextCompat.getColor(this@DietStepFive,R.color.black))\n\n                    var constraintset= ConstraintSet()\n                    constraintset.clone(before_breakfast_option)\n\n                    //left to left of\n                    constraintset.connect(textView.id,ConstraintSet.LEFT,ConstraintSet.PARENT_ID,ConstraintSet.LEFT,0)\n                    //baseline\n                    constraintset.connect(textView.id,ConstraintSet.BASELINE,textView1.id,ConstraintSet.BASELINE,0)\n                    //right to right of\n                    constraintset.connect(textView1.id,ConstraintSet.RIGHT,ConstraintSet.PARENT_ID,ConstraintSet.RIGHT,0)\n                    //top to top of\n                    constraintset.connect(textView1.id,ConstraintSet.TOP,ConstraintSet.PARENT_ID,ConstraintSet.TOP,0)\n\n                    constraintset.applyTo(before_breakfast_option)\n\n                    before_breakfast_option.addView(textView)\n                    before_breakfast_option.addView(textView1)\n</code></pre>\n\n<p>But the XML code is giving me the layout which has two textview one is one left side and one is one right side but kotlin code is giving me the both the textview overlapping on left side. Why?</p>\n\n<p>what wents wrong? any lead?</p>\n"}, {"tags": ["android", "kotlin", "gpio", "android-things"], "comments": [{"owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "edited": false, "score": 0, "creation_date": 1496659686, "post_id": 44322455, "comment_id": 75735493, "body": "I&#39;d like to reproduce your issue. What gpio output are you using?"}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "reply_to_user": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "edited": false, "score": 0, "creation_date": 1496696361, "post_id": 44322455, "comment_id": 75756113, "body": "I was listening on pin 20 and I literally took a wire from the VCC and gently placed it in the input pin port and &quot;wiggled&quot; it a lot.  Very scientific, I know. :)"}], "answers": [{"tags": [], "owner": {"reputation": 60522, "user_id": 246461, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NtTHn.jpg?s=128&g=1", "display_name": "devunwired", "link": "https://stackoverflow.com/users/246461/devunwired"}, "is_accepted": true, "score": 2, "last_activity_date": 1496790173, "creation_date": 1496790173, "answer_id": 44400997, "question_id": 44322455, "link": "https://stackoverflow.com/questions/44322455/how-can-a-gpiocallback-register-false-twice-in-a-row/44400997#44400997", "title": "How can a GpioCallback register &quot;false&quot; twice in a row?", "body": "<p>Yes, this is fairly common with noisy input signals like pushbuttons, relay contacts, and \"wiggly wires\". The signal bounce that occurs during contact closure can happen very rapidly such that not every edge trigger event is captured by the input registers.</p>\n\n<p>This is true of all GPIO systems (not just Android Things), and one reason why <a href=\"https://developer.android.com/things/hardware/hardware-101.html#signal_debounce\" rel=\"nofollow noreferrer\">signal debounce</a> is such a common practice. The debounce code in the <a href=\"https://github.com/androidthings/contrib-drivers/tree/master/button\" rel=\"nofollow noreferrer\">button driver</a> was actually written to handle cases like this to ensure they didn't generate false events.</p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 44400997, "answer_count": 1, "score": 1, "last_activity_date": 1496790173, "creation_date": 1496385850, "question_id": 44322455, "link": "https://stackoverflow.com/questions/44322455/how-can-a-gpiocallback-register-false-twice-in-a-row", "title": "How can a GpioCallback register &quot;false&quot; twice in a row?", "body": "<p>I have a very simple setup android-things setup where a GPIO (output) generates very short (10u) pulse, and I'm trying to read that pulse through another GPIO (input).</p>\n\n<p>However, my logs are weirding me out: how could I get two \"false\" readings in a row?  If I have a light switch, I can't turn it off twice in a row... I need to turn it on in between, right?  Can the GpioCallback drop events?  Is my time too short?  Can there be a soft ramp between voltages that doesn't ever count as an \"edge\"?</p>\n\n<pre><code>val gpioIn = PeripheralManagerService().openGpio(gpioPinName)\ngpioIn.setEdgeTriggerType(Gpio.EDGE_NONE) // reset for Android Things bug\ngpioIn.setDirection(Gpio.DIRECTION_IN)\ngpioIn.setActiveType(Gpio.ACTIVE_HIGH)\ngpioIn.setEdgeTriggerType(Gpio.EDGE_BOTH) // I should get all changes, right?\ngpioIn.registerGpioCallback(object : GpioCallback() {\n    override fun onGpioEdge(gpio: Gpio?): Boolean {\n        netLog((gpio?.value  ?: \"null\").toString())\n        return true\n    }\n    override fun onGpioError(gpio: Gpio?, error: Int) {\n        netLog(\"GPIO $gpio Error event $error\")\n    }\n})\n</code></pre>\n\n<p>results in </p>\n\n<pre><code>06-02 06:33:37.052 I/NetGpioListener: NET GPIO LISTENER: 118730013 true\n06-02 06:33:37.091 I/NetGpioListener: NET GPIO LISTENER: 118769152 false\n06-02 06:33:37.094 I/NetGpioListener: NET GPIO LISTENER: 118772102 false\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1496379373, "post_id": 44321046, "comment_id": 75647176, "body": "Welcome to  <a href=\"https://stackoverflow.com\">Stack Overflow</a>. Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for people to help"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496379447, "post_id": 44321046, "comment_id": 75647203, "body": "Welcome to stackoverflow, please read guidelines before posting a question <a href=\"https://stackoverflow.com/help/how-to-\">stackoverflow.com/help/how-to-</a>."}, {"owner": {"reputation": 43, "user_id": 8101191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87248e37f3d30acfd333dd6e7ded4da7?s=128&d=identicon&r=PG&f=1", "display_name": "Krupa Vachhani", "link": "https://stackoverflow.com/users/8101191/krupa-vachhani"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496379894, "post_id": 44321046, "comment_id": 75647335, "body": "@chandil03 please can you explain me how can i give you minimal and complete example of this..."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1496380135, "post_id": 44321046, "comment_id": 75647418, "body": "Just read guidelines you will know."}, {"owner": {"reputation": 43, "user_id": 8101191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87248e37f3d30acfd333dd6e7ded4da7?s=128&d=identicon&r=PG&f=1", "display_name": "Krupa Vachhani", "link": "https://stackoverflow.com/users/8101191/krupa-vachhani"}, "edited": false, "score": 0, "creation_date": 1496380254, "post_id": 44321046, "comment_id": 75647446, "body": "now its ok or you need more details?"}], "answers": [{"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 6, "last_activity_date": 1496387695, "creation_date": 1496387695, "answer_id": 44322964, "question_id": 44321046, "link": "https://stackoverflow.com/questions/44321046/how-to-use-the-androidannotations-library-in-kotlin/44322964#44322964", "title": "How to use the androidannotations library in kotlin?", "body": "<p>You probably need to enable <code>kapt</code> (Kotlin Annotation Processing) in your project.</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\ndependencies {\n    kapt \"org.androidannotations:androidannotations:$AAVersion\"\n}\n</code></pre>\n\n<p>Please see <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/kapt.html</a> for reference and <a href=\"https://github.com/androidannotations/androidannotations/tree/master/examples/kotlin\" rel=\"noreferrer\">https://github.com/androidannotations/androidannotations/tree/master/examples/kotlin</a> for an example.</p>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 2271267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HKj3l.jpg?s=128&g=1", "display_name": "G. Kh.", "link": "https://stackoverflow.com/users/2271267/g-kh"}, "is_accepted": false, "score": 0, "last_activity_date": 1537954422, "creation_date": 1537954422, "answer_id": 52514504, "question_id": 44321046, "link": "https://stackoverflow.com/questions/44321046/how-to-use-the-androidannotations-library-in-kotlin/52514504#52514504", "title": "How to use the androidannotations library in kotlin?", "body": "<p>And also you have to declare annotated class as <code>open</code> , cause by default all classes in Kotlin are <code>final</code></p>\n"}], "owner": {"reputation": 43, "user_id": 8101191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87248e37f3d30acfd333dd6e7ded4da7?s=128&d=identicon&r=PG&f=1", "display_name": "Krupa Vachhani", "link": "https://stackoverflow.com/users/8101191/krupa-vachhani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2195, "favorite_count": 0, "accepted_answer_id": 44322964, "answer_count": 2, "score": 2, "last_activity_date": 1537954422, "creation_date": 1496379187, "last_edit_date": 1496387647, "question_id": 44321046, "link": "https://stackoverflow.com/questions/44321046/how-to-use-the-androidannotations-library-in-kotlin", "title": "How to use the androidannotations library in kotlin?", "body": "<p>I have tried many time using android annotations library in activity with @EActivity. but unfortunately i am failed to declare it in the manifest file with MainActivity_.</p>\n\n<pre><code>@EActivity\nclass MainActivity : AppCompatActivity(){}\n</code></pre>\n\n<p>in manifest file</p>\n\n<pre><code>&lt;activity android:name=\".MainActivity_\"&gt;\n</code></pre>\n\n<p>in this .MainActivity_ not found .</p>\n"}, {"tags": ["environment-variables", "kotlin"], "comments": [{"owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 0, "creation_date": 1496376462, "post_id": 44320495, "comment_id": 75646305, "body": "Did you try System.getenv?"}, {"owner": {"reputation": 658, "user_id": 3499631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L9Uy4.jpg?s=128&g=1", "display_name": "Bjornicus", "link": "https://stackoverflow.com/users/3499631/bjornicus"}, "reply_to_user": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 2, "creation_date": 1496377523, "post_id": 44320495, "comment_id": 75646614, "body": "I did not.  I guess that when a search for &quot;how do I do X in Kotlin&quot; does not turn up the answer I want, then a search for &quot;how do I do X in Java&quot; might yield a usable result."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1496387801, "post_id": 44320495, "comment_id": 75650859, "body": "@Bjornicus You&#39;re absolutely on point. Kotlin on the JVM has access to all of Java&#39;s APIs."}], "answers": [{"comments": [{"owner": {"reputation": 4190, "user_id": 2207729, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/076e4de85fdcd7632642b930f525cfaf?s=128&d=identicon&r=PG&f=1", "display_name": "PedroD", "link": "https://stackoverflow.com/users/2207729/pedrod"}, "edited": false, "score": 0, "creation_date": 1518781603, "post_id": 44320587, "comment_id": 84655657, "body": "Yeah, how do we use envs with that? No doc?"}, {"owner": {"reputation": 1679, "user_id": 267874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007a9c64b82a001443ff463ef326366b?s=128&d=identicon&r=PG", "display_name": "Paul-Sebastian Manole", "link": "https://stackoverflow.com/users/267874/paul-sebastian-manole"}, "reply_to_user": {"reputation": 4190, "user_id": 2207729, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/076e4de85fdcd7632642b930f525cfaf?s=128&d=identicon&r=PG&f=1", "display_name": "PedroD", "link": "https://stackoverflow.com/users/2207729/pedrod"}, "edited": false, "score": 0, "creation_date": 1541447146, "post_id": 44320587, "comment_id": 93212702, "body": "@PedroD The keys in the example, are built from various sources, with env vars probably having priority in case of conflicts."}], "tags": [], "owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "is_accepted": false, "score": 3, "last_activity_date": 1525398115, "last_edit_date": 1525398115, "creation_date": 1496376264, "answer_id": 44320587, "question_id": 44320495, "link": "https://stackoverflow.com/questions/44320495/how-to-read-an-environment-variable-in-kotlin/44320587#44320587", "title": "How to read an environment variable in Kotlin?", "body": "<p>You can use the kotlin extension Konfig </p>\n\n<p><a href=\"https://github.com/npryce/konfig\" rel=\"nofollow noreferrer\">Konfig - A Type Safe Configuration API for Kotlin</a></p>\n\n<p>Konfig provides an extensible, type-safe API for configuration properties gathered from multiple sources \u2014 built in resources, system properties, property files, environment variables, command-line arguments, etc.</p>\n\n<p>For example: <code>Key(\"http.port\", intType)</code></p>\n"}, {"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 8, "creation_date": 1496387855, "post_id": 44320636, "comment_id": 75650886, "body": "There&#39;s nothing wrong with &quot;leveraging Java&#39;s System class&quot;. Kotlin has a strong emphasis on Java interop and when you&#39;re targeting the JVM, it&#39;s expected to use Java APIs."}], "tags": [], "owner": {"reputation": 231, "user_id": 4798832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kEjNo.png?s=128&g=1", "display_name": "Marcin Porwit", "link": "https://stackoverflow.com/users/4798832/marcin-porwit"}, "is_accepted": false, "score": 23, "last_activity_date": 1496376932, "last_edit_date": 1496376932, "creation_date": 1496376630, "answer_id": 44320636, "question_id": 44320495, "link": "https://stackoverflow.com/questions/44320495/how-to-read-an-environment-variable-in-kotlin/44320636#44320636", "title": "How to read an environment variable in Kotlin?", "body": "<p>You could always go down this approach:</p>\n\n<pre><code>val envVar : String? = System.getenv(\"varname\")\n</code></pre>\n\n<p>Though, to be fair, this doesn't feel particularly idiomatic, as you're leveraging Java's System class, not Kotlin's.</p>\n"}, {"comments": [{"owner": {"reputation": 2502, "user_id": 501739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6b8fa3bc7278508dd85dc6090608f26c?s=128&d=identicon&r=PG", "display_name": "Jolta", "link": "https://stackoverflow.com/users/501739/jolta"}, "edited": false, "score": 4, "creation_date": 1555057936, "post_id": 44965363, "comment_id": 97984132, "body": "This could be shorter and more readable using the Elvis operator."}, {"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 3, "creation_date": 1587801146, "post_id": 44965363, "comment_id": 108656024, "body": "<code>System.getenv(&quot;MY_ENV&quot;).takeUnless { it.isNullOrEmpty() } ?: &quot;default_value&quot;</code>"}], "tags": [], "owner": {"reputation": 348, "user_id": 1463086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e261a8cf830404885473906a1869272?s=128&d=identicon&r=PG", "display_name": "suside", "link": "https://stackoverflow.com/users/1463086/suside"}, "is_accepted": false, "score": 2, "last_activity_date": 1611662241, "last_edit_date": 1611662241, "creation_date": 1499413714, "answer_id": 44965363, "question_id": 44320495, "link": "https://stackoverflow.com/questions/44320495/how-to-read-an-environment-variable-in-kotlin/44965363#44965363", "title": "How to read an environment variable in Kotlin?", "body": "<p>My favorite one-liner is (updated after @Adam Millerchip comment):</p>\n<pre><code>val myEnv = System.getenv(&quot;MY_ENV&quot;).takeUnless { it.isNullOrEmpty() } ?: &quot;default_value&quot;\n</code></pre>\n<blockquote class=\"spoiler\">\n<p> Old one:\n <code>val myEnv = if (System.getenv(&quot;MY_ENV&quot;).isNullOrEmpty()) &quot;default_value&quot; else System.getenv(&quot;MY_ENV&quot;)</code></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 6061, "user_id": 496992, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2f115ff65f184658ec426c5c6b793db?s=128&d=identicon&r=PG", "display_name": "Patrick Boos", "link": "https://stackoverflow.com/users/496992/patrick-boos"}, "is_accepted": true, "score": 64, "last_activity_date": 1515106965, "creation_date": 1515106965, "answer_id": 48104838, "question_id": 44320495, "link": "https://stackoverflow.com/questions/44320495/how-to-read-an-environment-variable-in-kotlin/48104838#48104838", "title": "How to read an environment variable in Kotlin?", "body": "<p>It is really easy to get a environment value if it exists or a default value by using the elvis operator in kotlin:</p>\n\n<pre><code>var envVar: String = System.getenv(\"varname\") ?: \"default_value\"\n</code></pre>\n"}], "owner": {"reputation": 658, "user_id": 3499631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L9Uy4.jpg?s=128&g=1", "display_name": "Bjornicus", "link": "https://stackoverflow.com/users/3499631/bjornicus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29319, "favorite_count": 2, "accepted_answer_id": 48104838, "answer_count": 4, "score": 43, "last_activity_date": 1611662241, "creation_date": 1496375715, "last_edit_date": 1579021375, "question_id": 44320495, "link": "https://stackoverflow.com/questions/44320495/how-to-read-an-environment-variable-in-kotlin", "title": "How to read an environment variable in Kotlin?", "body": "<p>I'd like to get a certain value from an environment variable in my Kotlin app, but I can't find anything about reading environment variables in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/index.html\" rel=\"noreferrer\">core libraries</a> documentation.  </p>\n\n<p>I'd expect it to be under <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.system/index.html\" rel=\"noreferrer\">kotlin.system</a> but there's really not that much there.</p>\n"}, {"tags": ["kotlin", "extension-methods", "extension-function"], "answers": [{"tags": [], "owner": {"reputation": 300, "user_id": 4243049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af300a63a849960183a50ec3c2961322?s=128&d=identicon&r=PG&f=1", "display_name": "Varo", "link": "https://stackoverflow.com/users/4243049/varo"}, "is_accepted": false, "score": 3, "last_activity_date": 1496419611, "creation_date": 1496419611, "answer_id": 44333191, "question_id": 44320467, "link": "https://stackoverflow.com/questions/44320467/kotlin-how-can-i-call-supers-extension-function/44333191#44333191", "title": "Kotlin: How can I call super&#39;s extension function?", "body": "<p>Even though the <code>print()</code> function is defined inside of <code>Parent</code>, it belongs to <code>String</code>, not to <code>Parent</code>. So there's no <code>print</code> function that you can call on <code>Parent</code>, which is what you're trying to do with <code>super</code>.</p>\n\n<p>I don't think there's syntax support for the type of call you're trying to do in Kotlin.</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1496419611, "creation_date": 1496375465, "last_edit_date": 1496387991, "question_id": 44320467, "link": "https://stackoverflow.com/questions/44320467/kotlin-how-can-i-call-supers-extension-function", "title": "Kotlin: How can I call super&#39;s extension function?", "body": "<p>How can I call a super's extension function?</p>\n\n<p>For example:</p>\n\n<pre><code>open class Parent {\n    open fun String.print() = println(this)\n}\n\nclass Child : Parent() {\n    override fun String.print() {\n        print(\"child says \")\n        super.print() // syntax error on this\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1496386762, "post_id": 44320880, "comment_id": 75650311, "body": "<code>listOf</code> would be better than <code>arrayOf</code> thou"}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 4, "last_activity_date": 1496378145, "creation_date": 1496378145, "answer_id": 44320880, "question_id": 44320379, "link": "https://stackoverflow.com/questions/44320379/nested-pair-array-in-kotlin/44320880#44320880", "title": "Nested pair array in kotlin", "body": "<p><code>{ A -&gt; B }</code> is an anonymous function whose parameter is <code>A</code> and body is <code>B</code>.</p>\n\n<p><code>{ B }</code> is a short form of <code>{ () -&gt; B }</code>.</p>\n\n<p>In addition,</p>\n\n<pre><code>A; B\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>A\nB\n</code></pre>\n\n<p>Therefore <code>{\"a\" to \"c\"; \"c\" to \"d\"}</code> means a function whose parameter list is <code>()</code> (zero parameters) and body is</p>\n\n<pre><code>Pair(\"a\", \"c\")\nPair(\"c\", \"d\")\n</code></pre>\n\n<p>which is equivalent to something like <code>::noName</code> with</p>\n\n<pre><code>fun noName() {\n    Pair(\"a\", \"c\")\n    return Pair(\"c\", \"d\")\n}\n</code></pre>\n\n<p>Anyway, what are the braces in your code? They do not mean \"pairs.\" I think you meant to represent a map (or dictionary) in python, but PAIRS ARE NOT MAPS and vice versa.</p>\n\n<p>Nested pair is something like this: <code>\"a\" to (\"b\" to \"c\")</code> which is equivalent to <code>Pair(\"a\", Pair(\"b\", \"c\"))</code></p>\n\n<p>If you want to make a map in Kotlin, you should use function <code>mapOf()</code>.</p>\n\n<p>If you want to make an array of pairs in Kotlin, you can do so like <code>arrayOf(\"a\" to \"b\", \"c\" to \"d\")</code>.</p>\n\n<p>Also, arrays are not maps and vice versa.</p>\n\n<p>This is an example of (a pair of (a string) and (an array of (pairs of strings))).</p>\n\n<pre><code>\"a\" to arrayOf(\"b\" to \"c\", \"d\" to \"e\")\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 6477694, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/b295a4726fb5094fda67dcb001c90b11?s=128&d=identicon&r=PG&f=1", "display_name": "junk", "link": "https://stackoverflow.com/users/6477694/junk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2013, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551723578, "creation_date": 1496374760, "last_edit_date": 1551723578, "question_id": 44320379, "link": "https://stackoverflow.com/questions/44320379/nested-pair-array-in-kotlin", "title": "Nested pair array in kotlin", "body": "<p>I want to use nested pair in kotlin, such as  <code>\"a\" to {\"b\" to \"c\"}</code></p>\n\n<p>I have tried :</p>\n\n<pre><code>\"teachers\" to {\"a\" to \"c\"; \"c\" to \"d\"}\n</code></pre>\n\n<p>but when I debug this, the data type is:</p>\n\n<pre><code> (teachers, () -&gt; kotlin.Pair&lt;kotlin.String, kotlin.String&gt;)\n</code></pre>\n\n<p>how to use this?</p>\n\n<p>if don't use </p>\n\n<pre><code>\"a\" to mapOf(\"a\" to \"b\"...)\n</code></pre>\n\n<p>Is it possible\uff1f</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 957, "user_id": 857617, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6da35bda878b03bb9db321373cb7dd67?s=128&d=identicon&r=PG", "display_name": "Alex S", "link": "https://stackoverflow.com/users/857617/alex-s"}, "edited": false, "score": 0, "creation_date": 1496362562, "post_id": 44318859, "comment_id": 75643346, "body": "Seems that I was using a version of the kotlin.io kotlin-stdlib library that didn&#39;t work with the android-extensions, or something like that. It&#39;s now working again."}, {"owner": {"reputation": 957, "user_id": 857617, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6da35bda878b03bb9db321373cb7dd67?s=128&d=identicon&r=PG", "display_name": "Alex S", "link": "https://stackoverflow.com/users/857617/alex-s"}, "edited": false, "score": 0, "creation_date": 1496362593, "post_id": 44318859, "comment_id": 75643353, "body": "Here&#39;s the build.gradle file, for referenc: <a href=\"https://paste.ee/p/zJtZO\" rel=\"nofollow noreferrer\">paste.ee/p/zJtZO</a>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1496363145, "post_id": 44318859, "comment_id": 75643479, "body": "You named a blocking function as async?"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1496395039, "post_id": 44318859, "comment_id": 75654941, "body": "Does changing <code>runBlocking</code> to <code>launch(UI)</code> work? You&#39;ll need <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/ui/kotlinx-coroutines-android\" rel=\"nofollow noreferrer\">this</a> library for that."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1584906987, "post_id": 44318859, "comment_id": 107578306, "body": "It is better to do networking logic in a <code>ViewModel</code> than an <code>Activity</code>"}], "answers": [{"tags": [], "owner": {"reputation": 674, "user_id": 4636726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-W8gVr_D2RYg/AAAAAAAAAAI/AAAAAAAAGPw/17R6ZZIzc4o/photo.jpg?sz=128", "display_name": "Jacks Gong", "link": "https://stackoverflow.com/users/4636726/jacks-gong"}, "is_accepted": false, "score": 0, "last_activity_date": 1505123044, "creation_date": 1505123044, "answer_id": 46152619, "question_id": 44318859, "link": "https://stackoverflow.com/questions/44318859/fetching-a-url-in-android-kotlin-asynchronously/46152619#46152619", "title": "Fetching a URL in Android Kotlin asynchronously", "body": "<p>I know your case, it's because of you are using <code>runBlocking</code>, although <code>await</code> isn't block the thread, but it will suspend the coroutine, and because of the current coroutine did not complete yet, the <code>runBlocking</code> thread will be blocked waiting for it.</p>\n\n<p>So just using <code>launc(UI)</code> instead of <code>runBlocking</code> to solve this problem:</p>\n\n<pre><code>package com.example.susemihl.myapplication\n\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.widget.TextView\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.coroutines.experimental.CommonPool\nimport kotlinx.coroutines.experimental.android.UI\nimport kotlinx.coroutines.experimental.async\nimport kotlinx.coroutines.experimental.launch\nimport java.net.URL\n\nfun fetch_url(url: String): String {\n    return URL(url).readText()\n}\n\nfun fetch_async(url: String, view: TextView) = launch(UI) {\n    val result = async(CommonPool) { fetch_url(url) }\n    view.text = result.await()\n}\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        mainTextView.text = \"Hello there.\"\n        mainButton.setOnClickListener {\n            mainButton.text = \"Check again.\"\n            fetch_async(\"https://jacksgong.com\", mainTextView)\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 975, "user_id": 2035121, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/qwMTp.jpg?s=128&g=1", "display_name": "Gopi.cs", "link": "https://stackoverflow.com/users/2035121/gopi-cs"}, "is_accepted": false, "score": 0, "last_activity_date": 1516794669, "creation_date": 1516794669, "answer_id": 48421843, "question_id": 44318859, "link": "https://stackoverflow.com/questions/44318859/fetching-a-url-in-android-kotlin-asynchronously/48421843#48421843", "title": "Fetching a URL in Android Kotlin asynchronously", "body": "<p><strong>Here is a async sample that can be used with kotlin which is working perfect for me</strong> </p>\n\n<pre><code>val result = URL(\"&lt;api call&gt;\").readText()\n</code></pre>\n\n<hr>\n\n<pre><code>try {\n        URL url = new URL(\"&lt;api call&gt;\");\n            urlConnection = (HttpURLConnection) url.openConnection();\n        urlConnection.setRequestMethod(\"GET\");\n        urlConnection.connect();\n        InputStream inputStream = urlConnection.getInputStream();\n            StringBuffer buffer = new StringBuffer();\n        if (inputStream == null) {\n            // Nothing to do.\n            return null;\n        }\n        reader = new BufferedReader(new InputStreamReader(inputStream));\n        String line;\n        while ((line = reader.readLine()) != null) {\n            buffer.append(line + \"\\n\");\n        }\n        if (buffer.length() == 0) {\n            return null;\n        }\n        result = buffer.toString();\n    } catch (IOException e) {\n        Log.e(\"Request\", \"Error \", e);\n        return null;\n    } finally{\n        if (urlConnection != null) {\n            urlConnection.disconnect();\n        }\n        if (reader != null) {\n            try {\n                reader.close();\n            } catch (final IOException e) {\n                Log.e(\"Request\", \"Error closing stream\", e);\n            }\n        }\n    }\n</code></pre>\n\n<hr>\n\n<pre><code>@Override protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    task = new AsyncTask&lt;Void, Void, String&gt;() {\n        @Override protected String doInBackground(Void... params) {\n            return requestFromServer(\"&lt;api call&gt;\");\n        }\n\n        @Override protected void onPostExecute(String s) {\n            if (!isFinishing() &amp;&amp; !isCancelled()) {\n                Log.d(\"Request\", s);\n                Toast.makeText(ExampleActivity.this, \"Request performed\", Toast.LENGTH_LONG).show();\n            }\n        }\n    };\n}\n\n@Override protected void onDestroy() {\n    super.onDestroy();\n\n    if (task != null) {\n        task.cancel(true);\n        task = null;\n    }\n}\n</code></pre>\n\n<p>Referenced from - <a href=\"https://antonioleiva.com/api-request-kotlin/\" rel=\"nofollow noreferrer\">antonioleiva</a></p>\n"}, {"tags": [], "owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1584908560, "creation_date": 1584908560, "answer_id": 60804550, "question_id": 44318859, "link": "https://stackoverflow.com/questions/44318859/fetching-a-url-in-android-kotlin-asynchronously/60804550#60804550", "title": "Fetching a URL in Android Kotlin asynchronously", "body": "<p>You have to switch to main thread in order to update the UI from a suspend function.  I would do the networking logic in a <strong>ViewModel</strong> and expose the result as <strong>LiveData</strong> to your <strong>Activity</strong>:</p>\n\n<pre><code>class MainViewModel : ViewModel() {\n  val urlLiveData = MutableLiveData&lt;String&gt;()\n\n  fun fetchUrl(url: String): String {\n    viewModelScope.launch {\n      // Dispatchers.IO (main-safety block)\n      withContext(Dispatchers.IO) {\n        fetchAsync(url)\n      }\n    }\n  }\n\n  private suspend fun fetchAsync(url: String) {\n    urlLiveData.postValue(URL(url).readText())  \n  }\n\n}\n\nclass MainActivity : AppCompatActivity() {\n  private val mainViewModel by viewModels&lt;MainViewModel&gt;()\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    mainViewModel.urlLiveData.observe(\n        viewLifecycleOwner,\n        Observer { urlText -&gt;\n          mainTextView.setText(urlText)\n        }\n     )\n   }\n\n   mainViewModel.fetchUrl(\"\"https://random-app.appspot.com/\")\n}\n</code></pre>\n"}], "owner": {"reputation": 957, "user_id": 857617, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6da35bda878b03bb9db321373cb7dd67?s=128&d=identicon&r=PG", "display_name": "Alex S", "link": "https://stackoverflow.com/users/857617/alex-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5389, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1584908560, "creation_date": 1496361808, "last_edit_date": 1496370139, "question_id": 44318859, "link": "https://stackoverflow.com/questions/44318859/fetching-a-url-in-android-kotlin-asynchronously", "title": "Fetching a URL in Android Kotlin asynchronously", "body": "<p>So I'm trying to write a very simple Android app that fetches a response from a URL when a button gets pressed. The kotlin Android extensions have been advertised as a drop-in replacement for the boilerplate necessary in Java, so I tried my hand. Here's what I tried so far:</p>\n\n<pre><code>package com.example.susemihl.myapplication\n\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.widget.TextView\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.coroutines.experimental.CommonPool\nimport kotlinx.coroutines.experimental.async\nimport kotlinx.coroutines.experimental.runBlocking\nimport java.net.URL\n\nsuspend fun fetch_url(url: String): String {\n    return URL(url).readText()\n}\n\nfun fetch_async(url: String, view: TextView) = runBlocking {\n    val result = async(CommonPool) { fetch_url(url) }\n    view.setText(result.await())\n}\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        mainTextView.setText(\"Hello there.\")\n        mainButton.setOnClickListener {\n            mainButton.setText(\"Check again.\")\n            fetch_async(\"https://random-app.appspot.com/\", \n                        mainTextView)\n        }\n\n    }\n}\n</code></pre>\n\n<p>This worked intermittently, but is now completely broken. There is no response to the button click. Print-debugging shows me that the thread gets executed, but seems to hang on the readText() call. Anything stupid I'm doing wrong here?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-storage"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1496354265, "creation_date": 1496354265, "answer_id": 44317728, "question_id": 44317631, "link": "https://stackoverflow.com/questions/44317631/firebase-storages-onsuccesslistener-callback-not-calling/44317728#44317728", "title": "Firebase Storage&#39;s OnSuccessListener callback not calling", "body": "<p>By using <code>{}</code>, you're passing in a lambda as the listener via <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a>. Inside this lambda, you're defining what should happen on success: you're creating an <code>object</code> that's never used. To pass in the <code>object</code> as the listener, use <code>()</code>:</p>\n\n<pre><code>ref.putFile(file).addOnSuccessListener (\n    object : OnSuccessListener&lt;UploadTask.TaskSnapshot&gt; {\n        override fun onSuccess(taskSnapshot: UploadTask.TaskSnapshot?) {\n            val url = taskSnapshot?.downloadUrl\n            Log.d(\"FirebaseManager\", \"Upload Successful\")\n            downloadCallback.callback(url.toString())\n        }\n    }\n)\n</code></pre>\n\n<p>Or go with just SAM conversion, without creating an <code>object</code> explicitly:</p>\n\n<pre><code>ref.putFile(file).addOnSuccessListener { taskSnapshot -&gt;\n    val url = taskSnapshot?.downloadUrl\n    Log.d(\"FirebaseManager\", \"Upload Successful\")\n    downloadCallback.callback(url.toString())\n}\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5620846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a71094ae02b3bd6b09c3b8216a6033?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Young", "link": "https://stackoverflow.com/users/5620846/adam-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3005, "favorite_count": 0, "accepted_answer_id": 44317728, "answer_count": 1, "score": 2, "last_activity_date": 1496399381, "creation_date": 1496353848, "last_edit_date": 1496399381, "question_id": 44317631, "link": "https://stackoverflow.com/questions/44317631/firebase-storages-onsuccesslistener-callback-not-calling", "title": "Firebase Storage&#39;s OnSuccessListener callback not calling", "body": "<p>When uploading files through Firebase Storage, the onSuccess method isn't calling. </p>\n\n<p>I'm currently running Android Studio 3.0 Canary 2, with 'com.google.firebase:firebase-storage:10.2.6'.</p>\n\n<pre><code>fun uploadImage(pathToImage: String, downloadCallback: FirebaseCallback&lt;String?&gt;) {\n        val file = Uri.fromFile(File(pathToImage))\n        val ref = mStorRef.child(\"images/\"+file.lastPathSegment)\n\n        ref.putFile(file).addOnSuccessListener {\n            object : OnSuccessListener&lt;UploadTask.TaskSnapshot&gt; {\n                override fun onSuccess(taskSnapshot: UploadTask.TaskSnapshot?) {\n                    val url = taskSnapshot?.downloadUrl\n                    Log.d(\"FirebaseManager\", \"Upload Successful\")\n                    downloadCallback.callback(url.toString())\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 0, "creation_date": 1496384161, "post_id": 44316658, "comment_id": 75649029, "body": "Could it have something to do with the fact that there is an <code>isNotEmpty()</code> extension function for <code>Collections</code> that returns <code>!isEmpty()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": false, "score": 0, "last_activity_date": 1496387241, "last_edit_date": 1496387241, "creation_date": 1496386419, "answer_id": 44322615, "question_id": 44316658, "link": "https://stackoverflow.com/questions/44316658/why-isnt-isempty-in-kotlin-collections-a-property/44322615#44322615", "title": "Why isn&#39;t isEmpty in Kotlin Collections a property?", "body": "<p>In java you have the <code>list.isEmpty()</code> method <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/List.html#isEmpty()\" rel=\"nofollow noreferrer\">List#isEmpty()</a>.\nHaving a <code>list.isNotEmpty</code> property in kotlin would confuse people.</p>\n\n<p>IMHO the reason why the Kotlin-Devs choose to make <code>isNotEmpty</code> a method rather than a property is consistency with java.</p>\n"}, {"comments": [{"owner": {"reputation": 813, "user_id": 551123, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ef59d35d44afa7f6d22c9059c3381e5e?s=128&d=identicon&r=PG", "display_name": "Ginandi", "link": "https://stackoverflow.com/users/551123/ginandi"}, "edited": false, "score": 0, "creation_date": 1496499469, "post_id": 44325332, "comment_id": 75692555, "body": "Thanks for the answer. I don&#39;t understand your second point though. A method can just as easily be overriden as well can&#39;t it?"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 813, "user_id": 551123, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ef59d35d44afa7f6d22c9059c3381e5e?s=128&d=identicon&r=PG", "display_name": "Ginandi", "link": "https://stackoverflow.com/users/551123/ginandi"}, "edited": false, "score": 0, "creation_date": 1498913872, "post_id": 44325332, "comment_id": 76702046, "body": "@Ginandi a method <code>size()</code> can obviously be overriden as well, however to implement it you likely have to introduce a backing property, <code>_size</code>. By overriding <code>val size</code> with <code>var size</code> (with private setter), you get both an override of getter and a backing field to store the value."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 8, "last_activity_date": 1496395472, "creation_date": 1496395472, "answer_id": 44325332, "question_id": 44316658, "link": "https://stackoverflow.com/questions/44316658/why-isnt-isempty-in-kotlin-collections-a-property/44325332#44325332", "title": "Why isn&#39;t isEmpty in Kotlin Collections a property?", "body": "<p>When deciding which methods of <code>java.util.Collection</code> will be properties in <code>kotlin.collections.Collection</code> the following considerations were taken into account: </p>\n\n<ul>\n<li>both <code>size</code> and <code>isEmpty</code> can be qualified as properties according to <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#functions-vs-properties\" rel=\"noreferrer\">Kotlin coding conventions</a>, however <code>size</code> is inherent to the collection and <code>isEmpty</code> is just a derivative of the <code>size</code> property. </li>\n<li>when implementing a collection one can override <code>size</code> <em>val</em> property with a <em>var</em> property (likely with a private setter), however the same is hardly ever needed for <code>isEmpty</code>.</li>\n<li>exposing a method as a property requires additional methods generated in derived classes, better to keep their number as small as possible.</li>\n</ul>\n"}], "owner": {"reputation": 813, "user_id": 551123, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/ef59d35d44afa7f6d22c9059c3381e5e?s=128&d=identicon&r=PG", "display_name": "Ginandi", "link": "https://stackoverflow.com/users/551123/ginandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 1, "accepted_answer_id": 44325332, "answer_count": 2, "score": 8, "last_activity_date": 1496395472, "creation_date": 1496349300, "question_id": 44316658, "link": "https://stackoverflow.com/questions/44316658/why-isnt-isempty-in-kotlin-collections-a-property", "title": "Why isn&#39;t isEmpty in Kotlin Collections a property?", "body": "<p>I'm starting to learn Kotlin, and just noticed that <code>Collections.isEmpty</code> is a function, rather than a property. However, <code>Collections.size</code> is a property and not a function.</p>\n\n<p>In most (all?) collections, I expect these two to be related semantically, and the implementation of <code>isEmpty</code> can simply be <code>size === 0</code>.</p>\n\n<p>So... why isn't <code>isEmpty</code> a property? Is it simply a design bug?</p>\n"}, {"tags": ["jdbc", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1496347715, "post_id": 44315985, "comment_id": 75638149, "body": "If you want a general solution for mapping a <code>ResultSet</code> to an <code>Iterable</code> or a <code>List</code>, there are a number of ways to define extension functions on it to do so. Otherwise, since <code>ResultSet</code> doesn&#39;t extend these interfaces that are easy to work with in Kotlin, if you only need to do this once, the trivial solution of just iterating over the set and adding every element to a mutable list is probably the best one."}, {"owner": {"reputation": 601, "user_id": 6382484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-WeuQ98-xtxk/AAAAAAAAAAI/AAAAAAAAABc/cugEXnf1jwY/photo.jpg?sz=128", "display_name": "Steven Waterman", "link": "https://stackoverflow.com/users/6382484/steven-waterman"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1496348166, "post_id": 44315985, "comment_id": 75638396, "body": "@zsmb13 Yeah, I added an extension function and implemented it as you suggested in this case, but my question was more out of curiosity prompted by this specific use case than it was specifically about ResultSets"}], "answers": [{"comments": [{"owner": {"reputation": 860, "user_id": 2013924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/395a6aa699f13ec2543c98da550e5414?s=128&d=identicon&r=PG", "display_name": "davidpodhola", "link": "https://stackoverflow.com/users/2013924/davidpodhola"}, "edited": false, "score": 0, "creation_date": 1535095808, "post_id": 44316444, "comment_id": 90948008, "body": "These are great and very useful, thank you very much! Just a small side note if used in the OSGi environment - <code>.use {}</code> requires <code>kotlin-stdlib-jdk7</code> that is NOT OSGi compliant so unfortunatelly it seems it is necessary to close the <code>resultSet</code> manually."}, {"owner": {"reputation": 2685, "user_id": 5376635, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jMd6Z4F-1wA/AAAAAAAAAAI/AAAAAAAADfU/P8egyYlwSWE/photo.jpg?sz=128", "display_name": "qoomon", "link": "https://stackoverflow.com/users/5376635/qoomon"}, "edited": false, "score": 0, "creation_date": 1588521282, "post_id": 44316444, "comment_id": 108923320, "body": "it&#39;s even easer to generate the sequence like this <code>generateSequence { resultSet.takeIf { it.next() } }</code>"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 15, "last_activity_date": 1496349697, "last_edit_date": 1496349697, "creation_date": 1496348441, "answer_id": 44316444, "question_id": 44315985, "link": "https://stackoverflow.com/questions/44315985/producing-a-list-from-a-resultset/44316444#44316444", "title": "Producing a List from a ResultSet", "body": "<p><code>ResultSet</code> does not have the best interface for doing this type of transformation.  But it would look something like:</p>\n\n\n\n<pre><code>val list = resultSet.use {\n    generateSequence {\n        if (resultSet.next()) resultSet.getInt(1) else null\n    }.toList()  // must be inside the use() block\n} \n\n// resultSet is already closed automatically at this point\n</code></pre>\n\n<p><em>See also:  <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/generate-sequence.html\" rel=\"noreferrer\"><code>generateSequence()</code></a></em></p>\n\n<hr/>\n\n<p>If you want to leave it as a <code>Sequence</code> instead of a <code>List</code> to process it lazily, you cannot use the <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/use.html\" rel=\"noreferrer\"><code>.use()</code></a> auto-closing helper.</p>\n\n<pre><code>val seq = generateSequence {\n    if (resultSet.next()) resultSet.getInt(1) else null\n}\n\n// later remember to call resultSet.close(), since the resultSet is still open\n</code></pre>\n\n<hr/>\n\n<p>With Kotlin 1.1 experimental <a href=\"http://kotlinlang.org/docs/reference/coroutines.html\" rel=\"noreferrer\">coroutines</a> you can:</p>\n\n<pre><code>val seq = buildSequence {\n    while (resultSet.next()) {\n        yield(resultSet.getInt(1))\n    }\n\n    // resultSet.close() might work ok here\n}\n\n// if not, later remember to resultSet.close()\n</code></pre>\n\n<p><em>See also:  <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines.experimental/build-sequence.html\" rel=\"noreferrer\"><code>buildSequence()</code></a></em></p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1496348556, "creation_date": 1496348556, "answer_id": 44316473, "question_id": 44315985, "link": "https://stackoverflow.com/questions/44315985/producing-a-list-from-a-resultset/44316473#44316473", "title": "Producing a List from a ResultSet", "body": "<p>It just occured to me that you could use <code>generateSequence</code> too. Props to Jayson for getting to it quicker ^^</p>\n\n<p>This is what I came up with (not tested, but fairly short):</p>\n\n<pre><code>val list = generateSequence {\n    if(!resultSet.next()) null\n    else resultSet.getInt(1)\n}.toList()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11036, "user_id": 714179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f4a83b7d6d53a4d3a5757bc30b3ea5a?s=128&d=identicon&r=PG", "display_name": "nemo", "link": "https://stackoverflow.com/users/714179/nemo"}, "is_accepted": false, "score": 0, "last_activity_date": 1574720151, "creation_date": 1574720151, "answer_id": 59040892, "question_id": 44315985, "link": "https://stackoverflow.com/questions/44315985/producing-a-list-from-a-resultset/59040892#59040892", "title": "Producing a List from a ResultSet", "body": "<p>Since kotlin 1.3</p>\n\n<pre><code>sequence {\n    while (rs.next()) {\n        yield(rs.getString(1))\n    }\n}.toList(\n</code></pre>\n"}], "owner": {"reputation": 601, "user_id": 6382484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-WeuQ98-xtxk/AAAAAAAAAAI/AAAAAAAAABc/cugEXnf1jwY/photo.jpg?sz=128", "display_name": "Steven Waterman", "link": "https://stackoverflow.com/users/6382484/steven-waterman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3335, "favorite_count": 1, "accepted_answer_id": 44316444, "answer_count": 3, "score": 7, "last_activity_date": 1574720151, "creation_date": 1496346639, "last_edit_date": 1496407508, "question_id": 44315985, "link": "https://stackoverflow.com/questions/44315985/producing-a-list-from-a-resultset", "title": "Producing a List from a ResultSet", "body": "<p>I'm not entirely sure this is possible, and I definitely don't know what to search or how to concisely explain it, but this seems like quite a kotlin-y thing which I wouldn't be surprised if it was possible.</p>\n\n<p>I want to instantiate a list with <code>listOf()</code> but instead of providing the elements for the list, providing some code which produces the elements for the list.</p>\n\n<p>For example, using a ResultSet: (This isn't valid code)</p>\n\n<pre><code>val list: List&lt;Int&gt; = listOf(\n    while(resultSet.next()){\n        return resultSet.getInt(1)\n    }\n)\n</code></pre>\n\n<p>Is something like this possible?</p>\n"}, {"tags": ["double", "range", "kotlin"], "comments": [{"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 1, "creation_date": 1496346758, "post_id": 44315977, "comment_id": 75637592, "body": "Well that&#39;s a pretty weird thing to try, what should it even do? Enumerate all 4503599627370496 doubles between 1 and 2? That&#39;s a lot."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1496347063, "post_id": 44315977, "comment_id": 75637764, "body": "It seems like that functionality has been removed, and you&#39;ll have to use a <code>while</code> loop."}, {"owner": {"reputation": 191, "user_id": 8099685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6f226d72b4d10f54f4fe3936d96d60?s=128&d=identicon&r=PG&f=1", "display_name": "Nate Watts", "link": "https://stackoverflow.com/users/8099685/nate-watts"}, "edited": false, "score": 0, "creation_date": 1496347291, "post_id": 44315977, "comment_id": 75637875, "body": "I meant to add step .5 to increment by .5 not every double between the two. Although I guess you can&#39;t use doubles in a range according to the documentation :/"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1496389206, "post_id": 44315977, "comment_id": 75651601, "body": "<code>for (i in 2..4) { val j = 2.0 * i; ... }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 2, "last_activity_date": 1496347052, "creation_date": 1496347052, "answer_id": 44316101, "question_id": 44315977, "link": "https://stackoverflow.com/questions/44315977/ranges-in-kotlin-using-data-type-double/44316101#44316101", "title": "Ranges in Kotlin using data type Double", "body": "<p>According to the <a href=\"https://kotlinlang.org/docs/reference/ranges.html#rangeto\" rel=\"nofollow noreferrer\">documentation for ranges</a>:</p>\n\n<blockquote>\n  <p>Floating point numbers (<code>Double</code>, <code>Float</code>) do not define their <code>rangeTo</code> operator, and the one provided by the standard library for generic Comparable types is used instead:</p>\n</blockquote>\n\n<pre><code>public operator fun &lt;T: Comparable&lt;T&gt;&gt; T.rangeTo(that: T): ClosedRange&lt;T&gt;\n</code></pre>\n\n<blockquote>\n  <p>The range returned by this function cannot be used for iteration.</p>\n</blockquote>\n\n<p>You will have to use some other kind of loop since you can't use ranges.</p>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 16, "last_activity_date": 1496417560, "last_edit_date": 1496417560, "creation_date": 1496416221, "answer_id": 44332139, "question_id": 44315977, "link": "https://stackoverflow.com/questions/44315977/ranges-in-kotlin-using-data-type-double/44332139#44332139", "title": "Ranges in Kotlin using data type Double", "body": "<p>As of Kotlin 1.1, a <code>ClosedRange&lt;Double&gt;</code> \"cannot be used for iteration\" (<a href=\"https://kotlinlang.org/docs/reference/ranges.html#rangeto\" rel=\"noreferrer\"><code>rangeTo()</code> - Utility functions - Ranges - Kotlin Programming Language</a>).</p>\n\n<p>You can, however, define your own <code>step</code> <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"noreferrer\">extension function</a> for this. e.g.:</p>\n\n<pre><code>infix fun ClosedRange&lt;Double&gt;.step(step: Double): Iterable&lt;Double&gt; {\n    require(start.isFinite())\n    require(endInclusive.isFinite())\n    require(step &gt; 0.0) { \"Step must be positive, was: $step.\" }\n    val sequence = generateSequence(start) { previous -&gt;\n        if (previous == Double.POSITIVE_INFINITY) return@generateSequence null\n        val next = previous + step\n        if (next &gt; endInclusive) null else next\n    }\n    return sequence.asIterable()\n}\n</code></pre>\n\n<p>Although you can do this if you are working with money you shouldn't really be using <code>Double</code> (or <code>Float</code>). See <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=13\" rel=\"noreferrer\">Java Practices -> Representing money</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 11517791, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Vuw1rvsHWSw/AAAAAAAAAAI/AAAAAAAADmk/1RaVgPGNW-c/photo.jpg?sz=128", "display_name": "Mii", "link": "https://stackoverflow.com/users/11517791/mii"}, "is_accepted": false, "score": 0, "last_activity_date": 1603652737, "creation_date": 1603652737, "answer_id": 64527676, "question_id": 44315977, "link": "https://stackoverflow.com/questions/44315977/ranges-in-kotlin-using-data-type-double/64527676#64527676", "title": "Ranges in Kotlin using data type Double", "body": "<p>In some cases you can use <code>repeat</code> loop. For example in this situation you can count how many time this the loop will repeat. so...</p>\n<pre><code>fun main() {\n    var startNum = 1.0\n    repeat(4) {\n        startNum += 0.5\n        //TODO something else\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 8099685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6f226d72b4d10f54f4fe3936d96d60?s=128&d=identicon&r=PG&f=1", "display_name": "Nate Watts", "link": "https://stackoverflow.com/users/8099685/nate-watts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8852, "favorite_count": 0, "answer_count": 3, "score": 19, "last_activity_date": 1603652737, "creation_date": 1496346599, "last_edit_date": 1496347258, "question_id": 44315977, "link": "https://stackoverflow.com/questions/44315977/ranges-in-kotlin-using-data-type-double", "title": "Ranges in Kotlin using data type Double", "body": "<pre><code>    fun calcInterest(amount: Double, interest: Double): Double {\n    return(amount *(interest/100.0))\n}\n\nfun main(args: Array&lt;String&gt;) {\n\n    for (i in 1.0..2.0 step .5) {\n        println(\"&amp;10,000 at 5% interest is = ${calcInterest(10000.0,i)}\")\n    }\n\n}\n</code></pre>\n\n<p>I get the error saying the For-loop range must have an 'Iterator()'Method. It underlines my doubles in the section (i in 1.0..2.0)</p>\n\n<p>How can I use doubles in a range?? A website on Ranges Reloaded (<a href=\"https://blog.jetbrains.com/kotlin/2013/02/ranges-reloaded/\" rel=\"noreferrer\">https://blog.jetbrains.com/kotlin/2013/02/ranges-reloaded/</a> ) shows that using datatype Double is fine. I don't know what's wrong with mine. I need to use doubles for the fact that my interest rates are using decimals. Completely new to programming so hopefully someone can explain simply. Thanks!</p>\n\n<p>Edit: added step .5</p>\n"}]