[{"tags": ["android", "xml", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 928, "user_id": 5052133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RxBmEJAEu8Q/AAAAAAAAAAI/AAAAAAAAAAA/6fyGasyBm7s/photo.jpg?sz=128", "display_name": "Muzammil Husnain", "link": "https://stackoverflow.com/users/5052133/muzammil-husnain"}, "edited": false, "score": 0, "creation_date": 1507783948, "post_id": 46697824, "comment_id": 80350316, "body": "Your root <code>LinearLayout</code>&#39;s  <code>width</code> and <code>height</code> are set to  <code>match_parent</code>. At least it&#39;s <code>height</code> should be <code>wrap_content</code>."}, {"owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "reply_to_user": {"reputation": 928, "user_id": 5052133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RxBmEJAEu8Q/AAAAAAAAAAI/AAAAAAAAAAA/6fyGasyBm7s/photo.jpg?sz=128", "display_name": "Muzammil Husnain", "link": "https://stackoverflow.com/users/5052133/muzammil-husnain"}, "edited": false, "score": 0, "creation_date": 1507836792, "post_id": 46697824, "comment_id": 80381336, "body": "Right but I&#39;m resetting the width of the root element  when I call setWidth(). And the thing is if I comment out the bottom most view in the xml, (the view that is a divider line)  then the root element formats to the correct width.   So it appears to be the last view in the layout that is causing the issues."}], "answers": [{"tags": [], "owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "is_accepted": true, "score": 0, "last_activity_date": 1507844203, "creation_date": 1507844203, "answer_id": 46719269, "question_id": 46697824, "link": "https://stackoverflow.com/questions/46697824/why-does-adding-a-view-to-my-layout-change-the-width-of-the-entire-layout/46719269#46719269", "title": "Why does adding a View to my layout change the width of the entire layout?", "body": "<p>Ok, so I fixed this problem by changing both the root LinearLayout and the child LinearLayout to wrap_content.  Before I was only changing the parent layouts width. </p>\n"}], "owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 46719269, "answer_count": 1, "score": 0, "last_activity_date": 1507844203, "creation_date": 1507757177, "question_id": 46697824, "link": "https://stackoverflow.com/questions/46697824/why-does-adding-a-view-to-my-layout-change-the-width-of-the-entire-layout", "title": "Why does adding a View to my layout change the width of the entire layout?", "body": "<p>I added a View to the bottom of my layout to add a line seperator at the end of this element.  The problem is that after putting this View in the layout fills the entire width of the screen but when I take the View out it shows as the correct size (about 400dp in my tests).  Why is the added View causing the layout to fill the whole screen. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    android:orientation=\"vertical\"\n    android:paddingLeft=\"6dp\"\n    &gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/text_label\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"16dp\"\n            android:textColor=\"@android:color/darker_gray\"\n            android:textSize=\"12sp\"\n            tools:text=\"Hello, Label\"\n            android:paddingBottom=\"6dp\"\n            android:paddingLeft=\"6dp\"/&gt;\n\n        &lt;TextView\n            android:id=\"@+id/text_error\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"16dp\"\n            android:textColor=\"@color/sr_red\"\n            android:textSize=\"12sp\"\n            tools:text=\"Error!\"/&gt;\n    &lt;/LinearLayout&gt;\n\n\n&lt;!-- this View causes the parent layout to fill the whole screen width--&gt; \n     &lt;View\n         android:layout_width=\"wrap_content\"\n         android:layout_height=\"1dp\"\n         android:layout_marginTop=\"2dp\"\n         android:background=\"@android:color/darker_gray\"\n         /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>It is the bottom most  that is causing the problems. </p>\n\n<p>I am modifying the view this way:</p>\n\n<pre><code>val inputLayout = createLabelLayout(context, component.name, button)\nviewGroup.addView(inputLayout.root)\ninputLayout.setWidth(width)\n</code></pre>\n\n<p>And here are the relevant classes</p>\n\n<pre><code>private fun &lt;T : View&gt; createLabelLayout(context: Context, text: String, child: T): LabelLayout&lt;T&gt; {\n    val layout = LabelLayout(context, child)\n    layout.label.text = text\n    return layout\n}\n\n\n\nprivate class LabelLayout&lt;out T : View&gt;(context: Context, child: T) {\n    val root = LayoutInflater.from(context).inflate(R.layout.item_custom_field_label, null, false) as ViewGroup\n    val label = root.findViewById(R.id.text_label) as TextView\n    val error = root.findViewById(R.id.text_error) as TextView\n\n\n    init {\n        root.addView(child, root.childCount - 1)\n\n    }\n\n    fun setWidth(width: Int) {\n        val params = root.layoutParams\n        params.width = width\n        root.layoutParams = params\n    }\n}\n</code></pre>\n"}, {"tags": ["dynamic", "types", "kotlin", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 1680, "user_id": 1789532, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a2e5b7bb0f82caeda63a07dc6c8f58ae?s=128&d=identicon&r=PG", "display_name": "dilvan", "link": "https://stackoverflow.com/users/1789532/dilvan"}, "edited": false, "score": 0, "creation_date": 1507804434, "post_id": 46695278, "comment_id": 80361242, "body": "Isn&#39;t there a way to create a variable for both types? Like <code>var x:dynamic</code> where <code>x</code> can be a string or a function? <code>x=&quot;foo&quot;; x= {print (...)}</code>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 6, "last_activity_date": 1507746865, "creation_date": 1507746865, "answer_id": 46695278, "question_id": 46695106, "link": "https://stackoverflow.com/questions/46695106/how-can-i-declare-a-function-parameter-that-can-be-a-string-or-a-function-in-ko/46695278#46695278", "title": "How can I declare a function parameter that can be a string or a function, in Kotlin?", "body": "<p>You could just overload the function:</p>\n\n<pre><code>fun test(attr: String, value: String) = test(attr, { value })\n\nfun test(attr: String, createValue: () -&gt; String): Unit {\n    // do stuff\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1818, "user_id": 4274651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fd438a86da39049aa93ca14b663851ce?s=128&d=identicon&r=PG", "display_name": "janosch", "link": "https://stackoverflow.com/users/4274651/janosch"}, "is_accepted": false, "score": 2, "last_activity_date": 1507750600, "last_edit_date": 1507750600, "creation_date": 1507750186, "answer_id": 46696096, "question_id": 46695106, "link": "https://stackoverflow.com/questions/46695106/how-can-i-declare-a-function-parameter-that-can-be-a-string-or-a-function-in-ko/46696096#46696096", "title": "How can I declare a function parameter that can be a string or a function, in Kotlin?", "body": "<p>You could write:</p>\n\n<pre><code>fun test(attr: String, string: String? = null, lambda: (() -&gt; Unit)? = null) {\n  if(string != null) { // do stuff with string }\n  if(lambda != null) { // do stuff with lambda }\n  // ...\n}\n</code></pre>\n\n<p>And then call the function in the following ways:</p>\n\n<pre><code>test(\"attr\")\ntest(\"attr\", \"hello\")\ntest(\"attr\", lambda = { println(\"hello\") })\ntest(\"attr\") { println(\"hello\") }\ntest(\"attr\", \"hello\", { println(\"hello\") })\ntest(\"attr\", \"hello\") { println(\"hello\") }\n</code></pre>\n"}], "owner": {"reputation": 1680, "user_id": 1789532, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/a2e5b7bb0f82caeda63a07dc6c8f58ae?s=128&d=identicon&r=PG", "display_name": "dilvan", "link": "https://stackoverflow.com/users/1789532/dilvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 46695278, "answer_count": 2, "score": 3, "last_activity_date": 1507750600, "creation_date": 1507746219, "last_edit_date": 1507748996, "question_id": 46695106, "link": "https://stackoverflow.com/questions/46695106/how-can-i-declare-a-function-parameter-that-can-be-a-string-or-a-function-in-ko", "title": "How can I declare a function parameter that can be a string or a function, in Kotlin?", "body": "<p>In the following function, I want to pass to it attributes for a html tag. These attributes can be strings (<code>test(\"id\", \"123\")</code>) or functions (<code>test(\"onclick\", {_ -&gt; window.alert(\"Hi!\")})</code>):   </p>\n\n<pre><code>fun test(attr:String, value:dynamic):Unit {...}\n</code></pre>\n\n<p>I tried to declare the parameter <code>value</code> as <code>Any</code>, the root type in Kotlin. But functions aren't of type <code>Any</code>. Declaring the type as <code>dynamic</code> worked, but</p>\n\n<ul>\n<li><code>dynamic</code> isn't a type. It just turns off typing checking for the parameter.</li>\n<li><code>dynamic</code> only works for kotlin-js (Javascript).</li>\n</ul>\n\n<p>How can I write this function in Kotlin (Java)? How do function types relate to Any? Is there a type that includes both function types and <code>Any</code>?</p>\n"}, {"tags": ["java", "firebase", "jar", "kotlin", "firebase-admin"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1507746296, "post_id": 46694137, "comment_id": 80337960, "body": "What exactly are you doing to export this jar?"}, {"owner": {"reputation": 1, "user_id": 8760507, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SmdakKDPIXM/AAAAAAAAAAI/AAAAAAAAAuc/y8vaHijGnD8/photo.jpg?sz=128", "display_name": "Eric Hamann", "link": "https://stackoverflow.com/users/8760507/eric-hamann"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1507747383, "post_id": 46694137, "comment_id": 80338568, "body": "I updated the question with the build.gradle content for the jar-file. As mentioned, everything works, except the Admin SDK Database connection."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1507750298, "post_id": 46694137, "comment_id": 80339965, "body": "Have you considered using the application plugin for Gradle to manage this?  <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/application_plugin.html</a>"}, {"owner": {"reputation": 1, "user_id": 8760507, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SmdakKDPIXM/AAAAAAAAAAI/AAAAAAAAAuc/y8vaHijGnD8/photo.jpg?sz=128", "display_name": "Eric Hamann", "link": "https://stackoverflow.com/users/8760507/eric-hamann"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1507752180, "post_id": 46694137, "comment_id": 80340993, "body": "Thanks for the reply, I just tried the application plugin, but unfortunately it gives me the same results. It compiles successfully, starts, but then doesn&#39;t get past the connection to the Database."}, {"owner": {"reputation": 5314, "user_id": 5190886, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YLo4CPWOOeA/AAAAAAAAAAI/AAAAAAAAAAA/NEX8mDWN_F0/photo.jpg?sz=128", "display_name": "Hiranya Jayathilaka", "link": "https://stackoverflow.com/users/5190886/hiranya-jayathilaka"}, "edited": false, "score": 1, "creation_date": 1507760078, "post_id": 46694137, "comment_id": 80344385, "body": "This is probably a credential issue. Make sure the credential packaged into the jar is correct, and has access to the database. You can also enable debug logs to see what&#39;s going on (use SLF4J or try the <a href=\"https://firebase.google.com/docs/reference/admin/java/reference/com/google/firebase/database/FirebaseDatabase.html#setLogLevel(com.google.firebase.database.Logger.Level)\" rel=\"nofollow noreferrer\">setLogLevel()</a> method)."}], "answers": [{"tags": [], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "is_accepted": false, "score": 0, "last_activity_date": 1509342105, "creation_date": 1509342105, "answer_id": 47008739, "question_id": 46694137, "link": "https://stackoverflow.com/questions/46694137/firebase-admin-sdk-cant-connect-to-database-from-inside-jar-file/47008739#47008739", "title": "Firebase Admin SDK can&#39;t connect to Database from inside jar file", "body": "<p><a href=\"https://firebase.google.com/docs/reference/admin/java/reference/com/google/firebase/auth/FirebaseCredentials\" rel=\"nofollow noreferrer\">Deprecated</a> class:</p>\n\n<blockquote>\n  <p>FirebaseCredentials </p>\n  \n  <p>...</p>\n  \n  <p>This class was deprecated. Use GoogleCredentials.</p>\n</blockquote>\n\n<p>from the QuickStart <a href=\"https://github.com/firebase/quickstart-java/blob/master/database/src/main/java/com/google/firebase/quickstart/Database.java\" rel=\"nofollow noreferrer\">example</a>:</p>\n\n<pre><code>    public static void main(String[] args) {\n        // Initialize Firebase\n        try {\n            // [START initialize]\n            FileInputStream serviceAccount = new FileInputStream(\"service-account.json\");\n            FirebaseOptions options = new FirebaseOptions.Builder()\n                    .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n                    .setDatabaseUrl(DATABASE_URL)\n                    .build();\n            FirebaseApp.initializeApp(options);\n            // [END initialize]\n        } catch (IOException e) {\n            System.out.println(\"ERROR: invalid service account credentials. See README.\");\n            System.out.println(e.getMessage());\n\n            System.exit(1);\n        }\n\n        // Shared Database reference\n        database = FirebaseDatabase.getInstance().getReference();\n\n        // Start listening to the Database\n        startListeners();\n\n        // Kick off weekly email task\n        startWeeklyTopPostEmailer();\n}\n</code></pre>\n\n<p>Using <code>GoogleCredentials</code> instead.</p>\n"}], "owner": {"reputation": 1, "user_id": 8760507, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SmdakKDPIXM/AAAAAAAAAAI/AAAAAAAAAuc/y8vaHijGnD8/photo.jpg?sz=128", "display_name": "Eric Hamann", "link": "https://stackoverflow.com/users/8760507/eric-hamann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 657, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509342105, "creation_date": 1507742458, "last_edit_date": 1507752311, "question_id": 46694137, "link": "https://stackoverflow.com/questions/46694137/firebase-admin-sdk-cant-connect-to-database-from-inside-jar-file", "title": "Firebase Admin SDK can&#39;t connect to Database from inside jar file", "body": "<p>I'm developing an Android App with Firebase and i've decided to create a simple admin application with the Firebase Admin SDK. Launching with the IDE (IntelliJ IDEA) and connecting to the database via the Admin SDK works fine, but when launching the exported .jar file, the Admin SDK can't connect to the Database. To initialize the connection to Firebase, I use the following (Kotlin) code:</p>\n\n<pre><code>//Initialize the Firebase Admin SDK.\nval serviceAccount = \nthis.javaClass.classLoader.getResourceAsStream(\"fen/ftcConsole/control/flip-the-classroom-app-firebase-adminsdk.json\")\n    val options = FirebaseOptions.Builder()\n        .setCredential(FirebaseCredentials.fromCertificate(serviceAccount))\n        .setDatabaseUrl(\"https://flip-the-classroom-app.firebaseio.com/\")\n        .setStorageBucket(\"flip-the-classroom-app.appspot.com\")\n        .build()\nFirebaseApp.initializeApp(options)\n\n//Get the connections to the database and the cloud storage.\ndatabase = FirebaseDatabase.getInstance()\nstorage = StorageClient.getInstance().bucket()\n</code></pre>\n\n<p>I added a few console outputs and found out that the code just doesn't get past this line: \"database = FirebaseDatabase.getInstance()\". It just blocks the thread and nothing happens. Also no exception is thrown.\nAs I said, this only happens in the exported jar file, when starting with the IDE, everything works fine, which makes testing very hard.</p>\n\n<p>Creating the .jar file with IntelliJ as well as with gradle, packing the dependencies inside the .jar file as well as leaving them outside, loading the .json file with the admin-key from inside the .jar file or from outside, the problem always occurs.</p>\n\n<p>For creating the .jar with gradle, the build.gradle file contains the following jar-block:</p>\n\n<pre><code>jar {\n   manifest {\n       attributes 'Main-Class': 'fen.ftcConsole.gui.GUIStarterKt'\n   }\n   //adding project files/resources to the jar file\n   from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>\"gradle jar\" gives me a .jar file with all dependencies and resources correctly put inside the file. The application also contains a JavaFX GUI that starts correctly. Only the Firebase connection doesn't work. The same happens when I use the application plugin instead of \"gradle jar\".</p>\n"}, {"tags": ["junit", "mockito", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1470, "user_id": 941394, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/80735a6b571c8b92cc1ba7a9a5fefe7f?s=128&d=identicon&r=PG", "display_name": "Will Buck", "link": "https://stackoverflow.com/users/941394/will-buck"}, "edited": false, "score": 0, "creation_date": 1507751191, "post_id": 46695432, "comment_id": 80340429, "body": "You&#39;re saying a Kotlin extension function (which has access to <code>this</code>) is being implemented as a class-static function under the hood? Does that mean it&#39;s also getting an implicit argument (this)?  I did not know Mockito can&#39;t mock static methods though, good to know!"}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "reply_to_user": {"reputation": 1470, "user_id": 941394, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/80735a6b571c8b92cc1ba7a9a5fefe7f?s=128&d=identicon&r=PG", "display_name": "Will Buck", "link": "https://stackoverflow.com/users/941394/will-buck"}, "edited": false, "score": 1, "creation_date": 1507759000, "post_id": 46695432, "comment_id": 80344063, "body": "Yes. Exactly like that."}, {"owner": {"reputation": 1470, "user_id": 941394, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/80735a6b571c8b92cc1ba7a9a5fefe7f?s=128&d=identicon&r=PG", "display_name": "Will Buck", "link": "https://stackoverflow.com/users/941394/will-buck"}, "edited": false, "score": 0, "creation_date": 1507833740, "post_id": 46695432, "comment_id": 80379820, "body": "Thanks for pointing this out! For anyone else who doesn&#39;t want to take Rafal&#39;s word for it (I always like to have multiple sources), here is a post explaining:  <a href=\"https://android.jlelse.eu/the-ugly-truth-about-extension-functions-in-kotlin-486ec49824f4\" rel=\"nofollow noreferrer\">android.jlelse.eu/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": true, "score": 2, "last_activity_date": 1507747444, "creation_date": 1507747444, "answer_id": 46695432, "question_id": 46693791, "link": "https://stackoverflow.com/questions/46693791/mockito-mocks-behaving-like-spies-kotlin/46695432#46695432", "title": "Mockito Mocks Behaving Like Spies: Kotlin", "body": "<p>Extension functions are nothing but a regular Java static method and as far as I remember, Mockito cannot mock static methods.</p>\n"}], "owner": {"reputation": 1470, "user_id": 941394, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/80735a6b571c8b92cc1ba7a9a5fefe7f?s=128&d=identicon&r=PG", "display_name": "Will Buck", "link": "https://stackoverflow.com/users/941394/will-buck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 46695432, "answer_count": 1, "score": 0, "last_activity_date": 1507747444, "creation_date": 1507741143, "question_id": 46693791, "link": "https://stackoverflow.com/questions/46693791/mockito-mocks-behaving-like-spies-kotlin", "title": "Mockito Mocks Behaving Like Spies: Kotlin", "body": "<p>I'm working on a kotlin jar in which I am attempting to mock an input to a function</p>\n\n<pre><code>class MyService\nfun serviceFunction(input: ClassFromAnotherLibrary): Output {\n  val foo = input.memberFunction()\n</code></pre>\n\n<p>It just so happens that <code>memberFunction</code> has been added to that class in my package via an package-level extension function</p>\n\n<pre><code>fun ClassFromAnotherLibrary.memberFunction() : Foo {\n  val mapper = jacksonObjectMapper()\n  return mapper.readValue(this.serializedFoo, Foo::class.java)\n}\n</code></pre>\n\n<p>Now I want to write a test for the <code>serviceFunction</code>, but I want to mock out the <code>memberFunction</code> call (I have separate tests for that).</p>\n\n<p>So in my Mockito JUnit test, I do the following</p>\n\n<pre><code>val service = Service()\nval mockClassFromAnotherLibrary = mock&lt;ClassFromAnotherLibrary&gt;()\nval mockFoo = mock&lt;Foo&gt;()\n\nwhenever(mockClassFromAnotherLibrary.memberFunction())\n  .thenReturn(mockFoo)\n\nservice.serviceFunction(mockClassFromAnotherLibrary)\n</code></pre>\n\n<p>I would expect that <code>memberFunction</code>'s actual implementation would never get called, and that my mock would intercept any attempts to call it and instead return my <code>mockFoo</code>.</p>\n\n<p>What's <em>actually</em> happening is the <code>whenever</code> setup to mock out the method <em>is invoking the underlying function</em>, causing a <code>NullPointerException</code> when the <code>mapper</code> tries to read <code>serializedFoo</code> (which is of course null).</p>\n\n<p>My question is: <strong>why on earth is the real <code>memberFunction</code> being executed??</strong> I'm new to Mockito and Kotlin, but have used Jasmine (for JS) and Spock (for Groovy / Java) testing in the past, and mocking out an object in both of those frameworks would <em>never actually execute</em> any mocked-out function (that I'm aware of).</p>\n\n<p>I've been able to work around issues similar to this in the past by making the <code>ClassFromAnotherLibrary</code> I'm trying to mock have an <code>interface</code> that I mock instead, but that </p>\n\n<ol>\n<li>Feels hacky, and </li>\n<li>Isn't an option in this case (it's not my class to edit, it's coming from another library)</li>\n</ol>\n\n<p>For reference, these are the relevant gradle dependencies my project is using:</p>\n\n<pre><code>compile \"com.fasterxml.jackson.module:jackson-module-kotlin:2.8.9\"\ncompile \"com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.8.9\"\ncompile \"com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.8.9\"\n\ntestCompile 'junit:junit:4.12'\ntestCompile \"org.jetbrains.kotlin:kotlin-test:1.1.4-3\"\ntestCompile \"org.jetbrains.kotlin:kotlin-test-junit:1.1.4-3\"\ntestCompile \"com.nhaarman:mockito-kotlin:1.3.0\"\ntestCompile \"org.mockito:mockito-inline:2.8.47\"\n</code></pre>\n\n<p>I also have set up a <code>MockMaker</code> file in my <code>test/resources</code> folder to enable <code>mock-maker-inline</code>, though I don't totally understand what it is that might accomplish (saw a tip about it <a href=\"https://antonioleiva.com/mockito-2-kotlin/\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>Thanks to any Kotlin/Mockito</p>\n"}, {"tags": ["android", "testing", "kotlin", "android-espresso"], "answers": [{"comments": [{"owner": {"reputation": 1362, "user_id": 4283840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5271515568ac55bf2de7bd0ae0e423ac?s=128&d=identicon&r=PG", "display_name": "Christopher", "link": "https://stackoverflow.com/users/4283840/christopher"}, "edited": false, "score": 0, "creation_date": 1508144200, "post_id": 46694918, "comment_id": 80478100, "body": "This seems to be a step up, thank you, but I get the following error: &gt; Error performing &#39;single click&#39; on view &#39;Animations or transitions are enabled on the target device. after replacing <code>isDsplayed()</code> with what you have shared."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 1362, "user_id": 4283840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5271515568ac55bf2de7bd0ae0e423ac?s=128&d=identicon&r=PG", "display_name": "Christopher", "link": "https://stackoverflow.com/users/4283840/christopher"}, "edited": false, "score": 0, "creation_date": 1508149089, "post_id": 46694918, "comment_id": 80481058, "body": "@Christopher make sure to follow <a href=\"https://developer.android.com/training/testing/espresso/setup.html#set-up-environment\" rel=\"nofollow noreferrer\">Set up your test environment</a> to <code>On your device, under Settings &gt; Developer options, disable settings:</code>and you need to use <code>withEffectiveVisibility</code> when your target views are not visible on the screen"}], "tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1507745492, "creation_date": 1507745492, "answer_id": 46694918, "question_id": 46693403, "link": "https://stackoverflow.com/questions/46693403/cant-find-view-in-bottom-sheet-with-espresso/46694918#46694918", "title": "Can&#39;t find view in bottom sheet with Espresso", "body": "<p>First you have to load the fragment (otherwise there is no fragment to test) so there are two ways</p>\n\n<p>1.) instantiate your fragment object and load using FragmentManager like</p>\n\n<pre><code>   @Before  // you can do it later \n    void setup(){\n       fragment = ...    \n       getActivity().getFragmentManager().beginTransaction().add(id,farment).commit()\n // or  activityTestRule.getActivity()\n //           .getSupportFragmentManager().beginTransaction()\n\n   }\n</code></pre>\n\n<p>Note: if your views are going out of screen then you can use <code>withEffectiveVisibility(ViewMatchers.Visibility.VISIBLE)</code> instead of <code>isDisplayed()</code> </p>\n"}], "owner": {"reputation": 1362, "user_id": 4283840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5271515568ac55bf2de7bd0ae0e423ac?s=128&d=identicon&r=PG", "display_name": "Christopher", "link": "https://stackoverflow.com/users/4283840/christopher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1260, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1507745492, "creation_date": 1507739715, "question_id": 46693403, "link": "https://stackoverflow.com/questions/46693403/cant-find-view-in-bottom-sheet-with-espresso", "title": "Can&#39;t find view in bottom sheet with Espresso", "body": "<p>I have a Fragmant that contains a <code>CoordinatorLayout</code> with two children: a <code>MapView</code> (Google Maps API) &amp; a <code>RelativeLayout</code>, this last layout contains some buttons that I want to test using <code>Espresso</code>.</p>\n\n<p>So here's my test:</p>\n\n<pre><code>@Test\nfun randomButtonTest() {\n    try {\n        Thread.sleep(2000)\n    } catch (e: InterruptedException) {\n        e.printStackTrace()\n    }\n\n    // Find the button and perform a click\n    val appCompatImageButton = onView(\n            allOf(withId(R.id.random_poi), withContentDescription(\"Random Point of Interest\"),\n                    withParent(withId(R.id.design_bottom_sheet)),\n                    isDisplayed()))\n    appCompatImageButton.perform(click())\n\n}\n</code></pre>\n\n<p>And here is my layout (I have removed all layout related parameters for visibility):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;com.google.android.gms.maps.MapView\n        android:id=\"@+id/mapView\"/&gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/design_bottom_sheet\"            \n        app:behavior_hideable=\"true\"\n        app:layout_behavior=\"@string/bottom_sheet_behavior\"&gt;\n\n        &lt;ImageButton\n            android:id=\"@+id/up_arrow\" /&gt;  \n\n        &lt;ImageButton\n            android:id=\"@+id/random_poi\"\n            android:contentDescription=\"@string/random_poi\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>I get the following error when launching my instrumented test:</p>\n\n<blockquote>\n  <p>android.support.test.espresso.NoMatchingViewException: No views in hierarchy found matching: (with id: kade.com.accio:id/random_poi and with content description: is \"Random Point of Interest\" and has parent matching: with id: kade.com.accio:id/design_bottom_sheet and is displayed on the screen to the user)</p>\n</blockquote>\n\n<p>Is that because my button is in a bottom sheet? Why can't I find this view?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 2, "last_activity_date": 1507821524, "last_edit_date": 1507821524, "creation_date": 1507793111, "answer_id": 46703788, "question_id": 46693039, "link": "https://stackoverflow.com/questions/46693039/kotlin-coroutines-wrap-cassandra-synchronous-usage-vs-translate-asynchronous-us/46703788#46703788", "title": "Kotlin coroutines: wrap cassandra synchronous usage vs translate asynchronous usage", "body": "<p>It depends on the internal details of the library you are using and on your performance/scalability goals:</p>\n\n<ul>\n<li>If your library is <em>internally asynchronous</em> then it would be always advisable to use it via its native asynchronous API. Disclaimer: I have no idea how Cassandra is structured internally (sync or async).</li>\n<li>If your library is internally synchronous/blocking (and most legacy libraries are), then it depends:\n\n<ul>\n<li>If your application is IO-bound (reads/writes a lot of bytes to/from\nnetwork/disk) and you are optimizing it for throughput (maximizing\nnumber of bytes processing on large batch loads), then, as a rule of\nthumb, you'll be better of using synchronous/blocking APIs.</li>\n<li>If your application is memory-bound and you want to scale it to more \nconcurrent connections/requests, then, as a rule of thumb, you'll be \nbetter of using asynchronous APIs.</li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 1739, "user_id": 57357, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/46b892c9b15be26fec41fe9112410d5f?s=128&d=identicon&r=PG", "display_name": "Dan Tanner", "link": "https://stackoverflow.com/users/57357/dan-tanner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 46703788, "answer_count": 1, "score": 1, "last_activity_date": 1507821524, "creation_date": 1507738530, "question_id": 46693039, "link": "https://stackoverflow.com/questions/46693039/kotlin-coroutines-wrap-cassandra-synchronous-usage-vs-translate-asynchronous-us", "title": "Kotlin coroutines: wrap cassandra synchronous usage vs translate asynchronous usage", "body": "<p>This question probably applies to other libraries as well, but using Cassandra as a specific example to try to ensure I'm asking an answerable question: </p>\n\n<p>With Kotlin, I can either use Cassandra's async methods, then wrap them with the <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-guava/kotlinx.coroutines.experimental.guava/com.google.common.util.concurrent.-listenable-future/await.html\" rel=\"nofollow noreferrer\">ListenableFuture</a> integration, <strong>or</strong> I can use Cassandra's synchronous methods and wrap their usage with a suspending method and launch/async.  </p>\n\n<p>I'm guessing that the better technique is to use a library's existing async methods, presuming that would more easily avoid deadlocks and be faster, but I'm speculating and am new to coroutines.  </p>\n\n<p>Is this an obvious answer for people more experienced with coroutines, or are there specific areas where \"it depends\"?</p>\n"}, {"tags": ["java", "javafx", "kotlin", "mvvmfx"], "comments": [{"owner": {"reputation": 296034, "user_id": 829571, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zflGZ.png?s=128&g=1", "display_name": "assylias", "link": "https://stackoverflow.com/users/829571/assylias"}, "edited": false, "score": 0, "creation_date": 1507736681, "post_id": 46692259, "comment_id": 80332603, "body": "Kotlin is fully interoperable with Java so yes you can use Kotlin with any Java library."}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 1, "creation_date": 1507737985, "post_id": 46692259, "comment_id": 80333421, "body": "Have you looked into TornadoFX? It has excellent support for MVVM workflows. <a href=\"https://tornadofx.io/\" rel=\"nofollow noreferrer\">tornadofx.io</a>"}, {"owner": {"reputation": 1726, "user_id": 804451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c59f1b0044505c96934b5d56c8c51480?s=128&d=identicon&r=PG", "display_name": "Manuel Mauky", "link": "https://stackoverflow.com/users/804451/manuel-mauky"}, "edited": false, "score": 0, "creation_date": 1508168753, "post_id": 46692259, "comment_id": 80494006, "body": "There is no official example for this combination. However, I don&#39;t think there is anything in the API of mvvmFX that prevents usage with kotlin. If you find any problems with kotlin please file an issue in the <a href=\"https://github.com/sialcasa/mvvmFX/issues\" rel=\"nofollow noreferrer\">mvvmfx issue tracker</a> at github and I will take a look at it. Additionally, if we find the time we will add an example for kotlin in the future."}], "owner": {"reputation": 11, "user_id": 8760000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa901531b08400d4e54aa7b6f14d88b2?s=128&d=identicon&r=PG&f=1", "display_name": "Mediamana", "link": "https://stackoverflow.com/users/8760000/mediamana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507736726, "creation_date": 1507735937, "last_edit_date": 1507736726, "question_id": 46692259, "link": "https://stackoverflow.com/questions/46692259/using-kotlin-with-mvvmfx-framework", "title": "Using kotlin with Mvvmfx framework", "body": "<p>I'm developing a desktop application with JavaFx.\nI'm interested in using Mvvmfx as a framework and wonder if it is possible to use Kotlin with Mvvmfx to avoid all boilerplate code ?</p>\n\n<p>Is there an example of this somewhere ?</p>\n"}, {"tags": ["android", "data-binding", "kotlin"], "comments": [{"owner": {"reputation": 21361, "user_id": 523325, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/hCF4v.png?s=128&g=1", "display_name": "Nguyen  Minh Binh", "link": "https://stackoverflow.com/users/523325/nguyen-minh-binh"}, "reply_to_user": {"reputation": 3071, "user_id": 3166697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGEWy.jpg?s=128&g=1", "display_name": "Dima Kozhevin", "link": "https://stackoverflow.com/users/3166697/dima-kozhevin"}, "edited": false, "score": 2, "creation_date": 1507730195, "post_id": 46689921, "comment_id": 80327977, "body": "No it isn&#39;t. This doesn&#39;t come from my code, it&#39;s regarding to Project Config or Kotlin Extensions"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1507732398, "post_id": 46689921, "comment_id": 80329626, "body": "Did you look at the log for more details?"}, {"owner": {"reputation": 21361, "user_id": 523325, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/hCF4v.png?s=128&g=1", "display_name": "Nguyen  Minh Binh", "link": "https://stackoverflow.com/users/523325/nguyen-minh-binh"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1507732829, "post_id": 46689921, "comment_id": 80329897, "body": "@nhaarman please see the Gradle Log I just attached"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1507753965, "post_id": 46689921, "comment_id": 80341828, "body": "I&#39;d say its a bug in the Android compiler. Try strip away as much as you can (ideally to a max. 3 file project) so that it&#39;s still causing the NPE, and file an issue on <a href=\"https://issuetracker.google.com/\" rel=\"nofollow noreferrer\">issuetracker.google.com</a>."}], "answers": [{"tags": [], "owner": {"reputation": 21361, "user_id": 523325, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/hCF4v.png?s=128&g=1", "display_name": "Nguyen  Minh Binh", "link": "https://stackoverflow.com/users/523325/nguyen-minh-binh"}, "is_accepted": true, "score": 0, "last_activity_date": 1507989578, "creation_date": 1507989578, "answer_id": 46745385, "question_id": 46689921, "link": "https://stackoverflow.com/questions/46689921/cannot-generate-view-binders-java-lang-nullpointerexception/46745385#46745385", "title": "cannot generate view binders java.lang.NullPointerException", "body": "<p>Its seems unbelievable but I think I found the root cause of this problem. Android Studio keeps throw this problem while I sync my gradle within latest version of Layer Atlas <code>implementation 'com.layer.atlas:layer-atlas:0.4.17'</code></p>\n\n<p>If I downgrade to previous version: <code>implementation 'com.layer.atlas:layer-atlas:0.4.16'</code>, it works. </p>\n\n<p>I already try to switch between these version many times and I think I am correct in this.</p>\n"}, {"tags": [], "owner": {"reputation": 1530, "user_id": 2633359, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5Rkdc.png?s=128&g=1", "display_name": "enyciaa", "link": "https://stackoverflow.com/users/2633359/enyciaa"}, "is_accepted": false, "score": 0, "last_activity_date": 1523365805, "creation_date": 1523365805, "answer_id": 49754580, "question_id": 46689921, "link": "https://stackoverflow.com/questions/46689921/cannot-generate-view-binders-java-lang-nullpointerexception/49754580#49754580", "title": "cannot generate view binders java.lang.NullPointerException", "body": "<p>I also had this issue with a random library. If I updated or removed the library, the cannot generate view binders java.lang.NullPointerException gets thrown. Thankfully, the error is helpful and descriptive.</p>\n\n<p>So after trying EVERYTHING.</p>\n\n<p>Updating to version 2 of the databinding library finally worked, and the library could be updated or removed.</p>\n\n<p>To use version2 of data binding, use the normal databinding set up, and add this line to the gradle.properties file.</p>\n\n<pre><code>android.databinding.enableV2=true\n</code></pre>\n"}], "owner": {"reputation": 21361, "user_id": 523325, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/hCF4v.png?s=128&g=1", "display_name": "Nguyen  Minh Binh", "link": "https://stackoverflow.com/users/523325/nguyen-minh-binh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1499, "favorite_count": 0, "accepted_answer_id": 46745385, "answer_count": 2, "score": 2, "last_activity_date": 1523365805, "creation_date": 1507729679, "last_edit_date": 1507732795, "question_id": 46689921, "link": "https://stackoverflow.com/questions/46689921/cannot-generate-view-binders-java-lang-nullpointerexception", "title": "cannot generate view binders java.lang.NullPointerException", "body": "<p>Suddently I got this error while rebuild my project. Anyone have experience with this? \nIn my project, I am using <code>Kotlin 1.1.51</code> and <code>Data Binding</code></p>\n\n<p><code>Error:error: cannot generate view binders java.lang.NullPointerException\nError:java.lang.RuntimeException: failure, see logs for details.\nError:org.gradle.api.GradleException: Internal compiler error. See log for more details</code></p>\n\n<p>For who downvoted my question, please look at below image. It's Android Studio build error, not an exception caused by my wrong code</p>\n\n<p><a href=\"https://i.stack.imgur.com/UiBHZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UiBHZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>And this is Gradle console messages:</p>\n\n<pre><code>e: error: cannot generate view binders java.lang.NullPointerException\ne: \n\ne:      at android.databinding.tool.store.SetterStore.getMatchingMultiAttributeSetters(SetterStore.java:642)\ne:      at android.databinding.tool.store.SetterStore.getMultiAttributeSetterCalls(SetterStore.java:529)\ne:      at android.databinding.tool.BindingTarget.resolveMultiSetters(BindingTarget.java:226)\ne:      at android.databinding.tool.LayoutBinder.&lt;init&gt;(LayoutBinder.java:249)\ne:      at android.databinding.tool.DataBinder.&lt;init&gt;(DataBinder.java:52)\ne:      at android.databinding.tool.CompilerChef.ensureDataBinder(CompilerChef.java:88)\ne:      at android.databinding.tool.CompilerChef.sealModels(CompilerChef.java:187)\ne:      at android.databinding.annotationprocessor.ProcessExpressions.writeResourceBundle(ProcessExpressions.java:184)\ne:      at android.databinding.annotationprocessor.ProcessExpressions.onHandleStep(ProcessExpressions.java:86)\ne:      at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.runStep(ProcessDataBinding.java:189)\ne:      at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.access$000(ProcessDataBinding.java:174)\ne:      at android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:79)\ne:      at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\ne:      at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\ne:      at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\ne:      at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\ne:      at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\ne:      at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\ne:      at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\ne:      at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:73)\ne:      at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\ne:      at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\ne:      at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\ne:      at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\ne:      at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\ne:      at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\ne:      at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\ne:      at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:377)\ne:      at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:68)\ne:      at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\ne:      at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:368)\ne:      at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:133)\ne:      at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:170)\ne:      at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)\ne:      at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:93)\ne:      at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:46)\ne:      at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\ne:      at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\ne:      at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:98)\ne:      at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:832)\ne:      at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\ne:      at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\ne:      at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:859)\ne:      at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:831)\ne:      at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\ne:      at sun.reflect.GeneratedMethodAccessor87.invoke(Unknown Source)\ne:      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\ne:      at java.lang.reflect.Method.invoke(Method.java:498)\ne:      at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\ne:      at sun.rmi.transport.Transport$1.run(Transport.java:200)\ne:      at sun.rmi.transport.Transport$1.run(Transport.java:197)\ne:      at java.security.AccessController.doPrivileged(Native Method)\ne:      at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\ne:      at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\ne:      at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\ne:      at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\ne:      at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\ne:      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\ne:      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\ne:      at java.lang.Thread.run(Thread.java:745)\ne: java.lang.IllegalStateException: failed to analyze: java.lang.RuntimeException: failure, see logs for details.\ncannot generate view binders java.lang.NullPointerException\n    at android.databinding.tool.store.SetterStore.getMatchingMultiAttributeSetters(SetterStore.java:642)\n    at android.databinding.tool.store.SetterStore.getMultiAttributeSetterCalls(SetterStore.java:529)\n    at android.databinding.tool.BindingTarget.resolveMultiSetters(BindingTarget.java:226)\n    at android.databinding.tool.LayoutBinder.&lt;init&gt;(LayoutBinder.java:249)\n    at android.databinding.tool.DataBinder.&lt;init&gt;(DataBinder.java:52)\n    at android.databinding.tool.CompilerChef.ensureDataBinder(CompilerChef.java:88)\n    at android.databinding.tool.CompilerChef.sealModels(CompilerChef.java:187)\n    at android.databinding.annotationprocessor.ProcessExpressions.writeResourceBundle(ProcessExpressions.java:184)\n    at android.databinding.annotationprocessor.ProcessExpressions.onHandleStep(ProcessExpressions.java:86)\n    at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.runStep(ProcessDataBinding.java:189)\n    at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.access$000(ProcessDataBinding.java:174)\n    at android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:79)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:73)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:377)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:68)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:368)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:133)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:170)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:93)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:46)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:832)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:859)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:831)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n    at sun.reflect.GeneratedMethodAccessor87.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:138)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:170)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:93)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:46)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:832)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:859)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:831)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n    at sun.reflect.GeneratedMethodAccessor87.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.RuntimeException: failure, see logs for details.\ncannot generate view binders java.lang.NullPointerException\n    at android.databinding.tool.store.SetterStore.getMatchingMultiAttributeSetters(SetterStore.java:642)\n    at android.databinding.tool.store.SetterStore.getMultiAttributeSetterCalls(SetterStore.java:529)\n    at android.databinding.tool.BindingTarget.resolveMultiSetters(BindingTarget.java:226)\n    at android.databinding.tool.LayoutBinder.&lt;init&gt;(LayoutBinder.java:249)\n    at android.databinding.tool.DataBinder.&lt;init&gt;(DataBinder.java:52)\n    at android.databinding.tool.CompilerChef.ensureDataBinder(CompilerChef.java:88)\n    at android.databinding.tool.CompilerChef.sealModels(CompilerChef.java:187)\n    at android.databinding.annotationprocessor.ProcessExpressions.writeResourceBundle(ProcessExpressions.java:184)\n    at android.databinding.annotationprocessor.ProcessExpressions.onHandleStep(ProcessExpressions.java:86)\n    at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.runStep(ProcessDataBinding.java:189)\n    at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.access$000(ProcessDataBinding.java:174)\n    at android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:79)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:73)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:377)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:68)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:368)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:133)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:170)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:58)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:93)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:46)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:832)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:859)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:831)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n    at sun.reflect.GeneratedMethodAccessor87.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n    at android.databinding.tool.util.L.printMessage(L.java:125)\n    at android.databinding.tool.util.L.e(L.java:110)\n    at android.databinding.annotationprocessor.ProcessExpressions.onHandleStep(ProcessExpressions.java:88)\n    at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.runStep(ProcessDataBinding.java:189)\n    at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.access$000(ProcessDataBinding.java:174)\n    at android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:79)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:73)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:377)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:68)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:368)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:133)\n    ... 29 more\n\n\n:app:kaptProductionReleaseKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptProductionReleaseKotlin'.\n&gt; Internal compiler error. See log for more details\n</code></pre>\n"}, {"tags": ["spring", "kotlin", "coroutine", "spring-webflux", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 220, "user_id": 7430144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62af92cb2b415451da474aa20cf11de?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien7", "link": "https://stackoverflow.com/users/7430144/bastien7"}, "edited": false, "score": 0, "creation_date": 1507736732, "post_id": 46690277, "comment_id": 80332641, "body": "Thanks for your fast and nice response! I will give a try to the Reactor Core support in kotlinx.coroutines, and check Projet Loom."}, {"owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "reply_to_user": {"reputation": 220, "user_id": 7430144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62af92cb2b415451da474aa20cf11de?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien7", "link": "https://stackoverflow.com/users/7430144/bastien7"}, "edited": false, "score": 0, "creation_date": 1556896586, "post_id": 46690277, "comment_id": 98596130, "body": "I have updated my answer with the blog post and documentation of Spring official support for coroutines which will available in Spring Framework 5.2."}], "tags": [], "owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "is_accepted": true, "score": 16, "last_activity_date": 1556896540, "last_edit_date": 1556896540, "creation_date": 1507730634, "answer_id": 46690277, "question_id": 46689682, "link": "https://stackoverflow.com/questions/46689682/kotlin-coroutines-and-spring-framework-5-reactive-types/46690277#46690277", "title": "Kotlin coroutines and Spring Framework 5 reactive types", "body": "<p>As of version 5.2 (still work in progress), Spring Framework provides official support for coroutines. I have written <a href=\"https://spring.io/blog/2019/04/12/going-reactive-with-spring-coroutines-and-kotlin-flow\" rel=\"nofollow noreferrer\">a detailed blog post</a> that explains how <code>Mono</code> and <code>Flux</code> types map to suspending functions, <code>Deferred</code> and Kotlin <code>Flow</code> types. You can also find more details in the <a href=\"https://docs.spring.io/spring/docs/5.2.0.BUILD-SNAPSHOT/spring-framework-reference/languages.html#coroutines\" rel=\"nofollow noreferrer\">coroutines section of Spring Framework 5.2 reference documentation</a>.</p>\n"}], "owner": {"reputation": 220, "user_id": 7430144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62af92cb2b415451da474aa20cf11de?s=128&d=identicon&r=PG&f=1", "display_name": "Bastien7", "link": "https://stackoverflow.com/users/7430144/bastien7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2917, "favorite_count": 3, "accepted_answer_id": 46690277, "answer_count": 1, "score": 7, "last_activity_date": 1586013938, "creation_date": 1507729072, "last_edit_date": 1507730951, "question_id": 46689682, "link": "https://stackoverflow.com/questions/46689682/kotlin-coroutines-and-spring-framework-5-reactive-types", "title": "Kotlin coroutines and Spring Framework 5 reactive types", "body": "<p>Kotlin coroutines allow to execute non-blocking code by returning <code>Deferred</code> value. This is really useful to make non-blocking code while using blocking methods (from a library for example).</p>\n\n<p>Spring 5 allows to use <code>Mono</code> and <code>Flux</code> into the framework. The big interest that I see is the ability to <em>serialize</em> instances of these two types and send it back as response when someone call a controller endpoint.</p>\n\n<p>One of the big point of Spring 5 is to have an specific support for Kotlin (router, bean declaration, ...), but I cannot find informations about the possible interactions between Kotlin coroutines and Spring 5 reactive types.</p>\n\n<p>Is there any way to combine the advantages of these features?</p>\n\n<ul>\n<li>converting <code>Deferred</code> into <code>Mono</code>/<code>Flux</code>?</li>\n<li>having a <code>Deferred</code> as response type of Spring controller methods ?</li>\n</ul>\n\n<p>If no, in which cases do coroutine make sense if we have Spring 5 reactive types?</p>\n"}, {"tags": ["kotlin", "phone-call", "runtime-permissions"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 1, "creation_date": 1507728264, "post_id": 46689376, "comment_id": 80326447, "body": "Maybe this helps: <a href=\"https://developer.android.com/training/permissions/requesting.html?hl=en-419\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/&hellip;</a>"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 2, "creation_date": 1507728938, "post_id": 46689376, "comment_id": 80326965, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42057040/android-request-runtime-permission-to-call-action\">android request runtime permission to call action</a>"}, {"owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "edited": false, "score": 0, "creation_date": 1507797669, "post_id": 46689376, "comment_id": 80356895, "body": "why only tag kotlin? at last add android. And your question is duplicate <a href=\"https://stackoverflow.com/questions/42057040/android-request-runtime-permission-to-call-action\">request permission</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 0, "last_activity_date": 1507728766, "creation_date": 1507728766, "answer_id": 46689575, "question_id": 46689376, "link": "https://stackoverflow.com/questions/46689376/whats-the-right-way-to-get-permissions-for-phone-call-intent/46689575#46689575", "title": "What&#39;s the right way to get permissions for phone call intent", "body": "<p>You need to request the runtime permission, since Android 6.0 certain permissions require you to ask at install and again at runtime.</p>\n\n<p>Following the instructions <a href=\"https://developer.android.com/training/permissions/requesting.html?hl=en-419\" rel=\"nofollow noreferrer\">here</a> explains how to ask for permission at runtime.</p>\n"}, {"tags": [], "owner": {"reputation": 935, "user_id": 8822851, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tmfBFb3Xhyg/AAAAAAAAAAI/AAAAAAAAAEY/srQLkMO4MnE/photo.jpg?sz=128", "display_name": "arjun shrestha", "link": "https://stackoverflow.com/users/8822851/arjun-shrestha"}, "is_accepted": false, "score": 3, "last_activity_date": 1514740356, "creation_date": 1514740356, "answer_id": 48044416, "question_id": 46689376, "link": "https://stackoverflow.com/questions/46689376/whats-the-right-way-to-get-permissions-for-phone-call-intent/48044416#48044416", "title": "What&#39;s the right way to get permissions for phone call intent", "body": "<p>You need to add permission to your manifest first</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n</code></pre>\n\n<p>After permission added in manifest following code would work fine for you \"Number_to_call\" will be youe number that is need to be replaced</p>\n\n<pre><code> val call = Intent(Intent.ACTION_DIAL)\n call.setData(Uri.parse(\"tel:\" +\"Number_to_call\"))\n startActivity(call)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1834, "user_id": 3881947, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0lhYF.jpg?s=128&g=1", "display_name": "Deepshikha Puri", "link": "https://stackoverflow.com/users/3881947/deepshikha-puri"}, "is_accepted": false, "score": 1, "last_activity_date": 1514874609, "creation_date": 1514874609, "answer_id": 48056504, "question_id": 46689376, "link": "https://stackoverflow.com/questions/46689376/whats-the-right-way-to-get-permissions-for-phone-call-intent/48056504#48056504", "title": "What&#39;s the right way to get permissions for phone call intent", "body": "<p>You need to add the run time permission. <a href=\"http://deepshikhapuri.blogspot.in/2017/11/runtime-permission-in-android-kotlin.html\" rel=\"nofollow noreferrer\">Download the source code from here</a></p>\n\n<p>//Click function of layout:</p>\n\n<pre><code>  rl_call.setOnClickListener {\n        if (boolean_call) {\n            phonecall()\n        }else {\n            fn_permission(Manifest.permission.CALL_PHONE,CALLMODE)\n        }\n    }\n</code></pre>\n\n<p>// Request permission response</p>\n\n<pre><code>fun fn_permission(permission:String,mode:Int){\n    requestPermissions(permission, object : PermissionCallBack {\n        override fun permissionGranted() {\n            super.permissionGranted()\n            Log.v(\"Call permissions\", \"Granted\")\n                boolean_call=true              \n                phonecall()        \n\n        }\n\n        override fun permissionDenied() {\n            super.permissionDenied()\n            Log.v(\"Call permissions\", \"Denied\")\n                boolean_call=false              \n\n        }\n    })\n}\n</code></pre>\n\n<p>// function to call intent</p>\n\n<pre><code>   fun phonecall() {\n    val intent = Intent(Intent.ACTION_CALL);\n    intent.data = Uri.parse(\"tel:1234567890s\")\n    startActivity(intent)\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8194895, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PbWLkki2CQM/AAAAAAAAAAI/AAAAAAAAACI/uEy-s11VwZU/photo.jpg?sz=128", "display_name": "norbel ambanumben", "link": "https://stackoverflow.com/users/8194895/norbel-ambanumben"}, "is_accepted": false, "score": 1, "last_activity_date": 1521718887, "last_edit_date": 1521718887, "creation_date": 1521715762, "answer_id": 49426723, "question_id": 46689376, "link": "https://stackoverflow.com/questions/46689376/whats-the-right-way-to-get-permissions-for-phone-call-intent/49426723#49426723", "title": "What&#39;s the right way to get permissions for phone call intent", "body": "<p>First you need to add permission to your <code>manifest</code> first :</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n</code></pre>\n\n<p>This bit of code is used on the place of your method :</p>\n\n<pre><code>fun buChargeEvent(view: View) {\n    var number: Int = txtCharge.text.toString().toInt()\n    val callIntent = Intent(Intent.ACTION_CALL)\n    callIntent.data = Uri.parse(\"tel:$number\")\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this as Activity,\n                Manifest.permission.CALL_PHONE)) {\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    arrayOf(Manifest.permission.CALL_PHONE),\n                    MY_PERMISSIONS_REQUEST_CALL_PHONE)\n        }\n    }\n    startActivity(callIntent)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "is_accepted": false, "score": 0, "last_activity_date": 1536227229, "creation_date": 1536227229, "answer_id": 52201272, "question_id": 46689376, "link": "https://stackoverflow.com/questions/46689376/whats-the-right-way-to-get-permissions-for-phone-call-intent/52201272#52201272", "title": "What&#39;s the right way to get permissions for phone call intent", "body": "<p><strong>This is the complete code for runtime permissions for Call Phone</strong></p>\n\n<blockquote>\n  <p><strong>Step 1</strong>:- add permission in manifest</p>\n</blockquote>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p><strong>Step 2</strong>:- Call this method <code>checkAndroidVersion()</code> in <code>onCreate()</code></p>\n</blockquote>\n\n<pre><code>fun checkAndroidVersion() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (checkAndRequestPermissions()) {\n            } else {\n\n            }\n\n        } else {\n            // do code for pre-lollipop devices\n        }\n\n    }\n\nval REQUEST_ID_MULTIPLE_PERMISSIONS = 1\n\n\n\nfun checkAndRequestPermissions(): Boolean {\n        val call = ContextCompat.checkSelfPermission(this@MainActivity, Manifest.permission.CALL_PHONE)\n        val listPermissionsNeeded = ArrayList&lt;String&gt;()\n        if (call != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.CALL_PHONE)\n        }\n\n        if (!listPermissionsNeeded.isEmpty()) {\n            ActivityCompat.requestPermissions(this@MainActivity, listPermissionsNeeded.toTypedArray(), REQUEST_ID_MULTIPLE_PERMISSIONS)\n            return false\n        }\n        return true\n    }\n\n\n\nfun checkAndRequestPermissions(): Boolean {\n        val call = ContextCompat.checkSelfPermission(this@MainActivity, Manifest.permission.CALL_PHONE)\n        val listPermissionsNeeded = ArrayList&lt;String&gt;()\n        if (call != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.CALL_PHONE)\n        }\n\n        if (!listPermissionsNeeded.isEmpty()) {\n            ActivityCompat.requestPermissions(this@MainActivity, listPermissionsNeeded.toTypedArray(), REQUEST_ID_MULTIPLE_PERMISSIONS)\n            return false\n        }\n        return true\n    }\n\n\n\noverride fun onRequestPermissionsResult(requestCode: Int,\n                                            permissions: Array&lt;String&gt;, grantResults: IntArray) {\n        Log.d(\"in fragment on request\", \"Permission callback called-------\")\n        when (requestCode) {\n            REQUEST_ID_MULTIPLE_PERMISSIONS -&gt; {\n\n                val perms = HashMap&lt;String, Int&gt;()\n                // Initialize the map with both permissions\n                perms[Manifest.permission.CALL_PHONE] = PackageManager.PERMISSION_GRANTED\n                // Fill with actual results from user\n                if (grantResults.size &gt; 0) {\n                    for (i in permissions.indices)\n                        perms[permissions[i]] = grantResults[i]\n                    // Check for both permissions\n                    if (perms[Manifest.permission.CALL_PHONE] == PackageManager.PERMISSION_GRANTED\n                            ) {\n                        print(\"Storage permissions are required\")\n                        // process the normal flow\n                        //else any one or both the permissions are not granted\n                    } else {\n                        Log.d(\"in fragment on request\", \"Some permissions are not granted ask again \")\n                        //permission is denied (this is the first time, when \"never ask again\" is not checked) so ask again explaining the usage of permission\n                        //                        // shouldShowRequestPermissionRationale will return true\n                        //show the dialog or snackbar saying its necessary and try again otherwise proceed with setup.\n                        if (ActivityCompat.shouldShowRequestPermissionRationale(this@MainActivity, Manifest.permission.WRITE_EXTERNAL_STORAGE) || ActivityCompat.shouldShowRequestPermissionRationale(this@MainActivity, Manifest.permission.CAMERA) || ActivityCompat.shouldShowRequestPermissionRationale(this@MainActivity, Manifest.permission.READ_EXTERNAL_STORAGE) || ActivityCompat.shouldShowRequestPermissionRationale(this@MainActivity, Manifest.permission.ACCESS_FINE_LOCATION)) {\n                            showDialogOK(\"Call  permission is required for this app\",\n                                    DialogInterface.OnClickListener { dialog, which -&gt;\n                                        when (which) {\n                                            DialogInterface.BUTTON_POSITIVE -&gt; checkAndRequestPermissions()\n                                            DialogInterface.BUTTON_NEGATIVE -&gt; {\n                                            }\n                                        }// proceed with logic by disabling the related features or quit the app.\n                                    })\n                        } else {\n                            Toast.makeText(this@MainActivity, \"Go to settings and enable permissions\", Toast.LENGTH_LONG)\n                                    .show()\n                            //                            //proceed with logic by disabling the related features or quit the app.\n                        }//permission is denied (and never ask again is  checked)\n                        //shouldShowRequestPermissionRationale will return false\n                    }\n                }\n            }\n        }\n\n    }\n\n    fun showDialogOK(message: String, okListener: DialogInterface.OnClickListener) {\n        AlertDialog.Builder(this@MainActivity)\n                .setMessage(message)\n                .setPositiveButton(\"OK\", okListener)\n                .setNegativeButton(\"Cancel\", okListener)\n                .create()\n                .show()\n    }\n</code></pre>\n\n<blockquote>\n<pre><code>**Step 3**:- On button click\n</code></pre>\n</blockquote>\n\n<pre><code>fun buChargeEvent(view: View){\nif(checkAndRequestPermissions(){\n    var number: Int = txtCharge.text.toString().toInt()\n    val intentChrage = Intent(Intent.ACTION_CALL)\n    intent.data = Uri.parse(\"tel:$number\")\n    startActivity(intentChrage)\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8354200, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213947617584020/picture?type=large", "display_name": "Muftah Alqabaeli", "link": "https://stackoverflow.com/users/8354200/muftah-alqabaeli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3922, "favorite_count": 0, "answer_count": 5, "score": -1, "last_activity_date": 1536227318, "creation_date": 1507728191, "last_edit_date": 1536227318, "question_id": 46689376, "link": "https://stackoverflow.com/questions/46689376/whats-the-right-way-to-get-permissions-for-phone-call-intent", "title": "What&#39;s the right way to get permissions for phone call intent", "body": "<p>How to request permissions using Kotlin.</p>\n\n<p>I am trying to make a phone call function </p>\n\n<pre><code>fun buChargeEvent(view: View){\n    var number: Int = txtCharge.text.toString().toInt()\n    val intentChrage = Intent(Intent.ACTION_CALL)\n    intent.data = Uri.parse(\"tel:$number\")\n    startActivity(intentChrage)\n}\n</code></pre>\n\n<p>I added user permissions in manifest \nbut still having the same\n<a href=\"https://i.stack.imgur.com/zPwsU.png\" rel=\"nofollow noreferrer\">error </a>.</p>\n"}, {"tags": ["kotlin", "kodein"], "answers": [{"tags": [], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "is_accepted": true, "score": 2, "last_activity_date": 1507797582, "creation_date": 1507797582, "answer_id": 46705061, "question_id": 46688887, "link": "https://stackoverflow.com/questions/46688887/kodein-factory-bindings-is-throwing-notfoundexception/46705061#46705061", "title": "Kodein factory bindings is throwing NotFoundException", "body": "<p>You should never write <code>kodein.instance(5)</code>, you should write <code>kodein.instance(tag = 5)</code></p>\n\n<p>Now you see your error. You are setting the tag (which differentiates bindings), not the argument to the factory.</p>\n\n<p>In Kodein 4, the syntax is either <code>kodein.with(5).instance()</code> or <code>kodein.factory&lt;Int, Dice&gt;().invoke(5)</code></p>\n\n<p>I am currently developping Kodein 5 (no release schdule yet), in which this syntax will be changed to <code>kodein.instance(arg = 5)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 4511749, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-2E8MwCNSIlc/AAAAAAAAAAI/AAAAAAAAC5U/_a4U4armn8k/photo.jpg?sz=128", "display_name": "Henrik Schinzel", "link": "https://stackoverflow.com/users/4511749/henrik-schinzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1538643619, "creation_date": 1538643619, "answer_id": 52642872, "question_id": 46688887, "link": "https://stackoverflow.com/questions/46688887/kodein-factory-bindings-is-throwing-notfoundexception/52642872#52642872", "title": "Kodein factory bindings is throwing NotFoundException", "body": "<p>The accepted answer did not work for me in Kodein 5 (5.3.0). The below did. </p>\n\n<pre><code>class Die(val sides: Int)\n\nfun main(args: Array&lt;String&gt;) {\n  val kodein = Kodein {\n    bind&lt;Die&gt;() with factory { sides: Int -&gt; Die(sides) }\n  }\n  val die: Die by kodein.instance { 20 }\n  println(\"Sides ${die.sides}\")\n}\n</code></pre>\n"}], "owner": {"reputation": 422, "user_id": 6740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7589a3591bdeefd637a697cebbc2924b?s=128&d=identicon&r=PG", "display_name": "Anarchofascist", "link": "https://stackoverflow.com/users/6740/anarchofascist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 0, "accepted_answer_id": 46705061, "answer_count": 2, "score": 0, "last_activity_date": 1538643619, "creation_date": 1507726893, "question_id": 46688887, "link": "https://stackoverflow.com/questions/46688887/kodein-factory-bindings-is-throwing-notfoundexception", "title": "Kodein factory bindings is throwing NotFoundException", "body": "<p>I don't know if this is a bug or I'm just doing it wrong. I see nothing in the documentation that says that kodein factory bindings should be called in any way other than this:</p>\n\n<pre><code>class KodeinConfidenceTest {\n    @Test\n    fun testThatKodeinWorks() {\n        val kodein = Kodein {\n            bind&lt;Dice&gt;() with factory { sides: Int -&gt; RandomDice(sides) }\n        }\n        val d:Dice = kodein.instance(5)\n    }\n}\nopen class Dice\ndata class RandomDice(val sides:Int) : Dice()\n</code></pre>\n\n<p>...but this causes a NotFoundException</p>\n\n<pre><code>com.github.salomonbrys.kodein.Kodein$NotFoundException: No provider found for bind&lt;Dice&gt;(\"5\") with ? { ? }\nRegistered in Kodein:\n    bind&lt;Dice&gt;() with factory { Int -&gt; RandomDice } \n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 0, "creation_date": 1507726297, "post_id": 46688473, "comment_id": 80324858, "body": "this should fix <code>var app : Application? = null</code>"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1507727466, "post_id": 46688473, "comment_id": 80325795, "body": "Why don&#39;t you use the constructor to declare required dependencies?"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507731112, "post_id": 46688473, "comment_id": 80328664, "body": "But how can i inject context to test? The same way?"}], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507728408, "post_id": 46688753, "comment_id": 80326552, "body": "Thanks, but now when i try to build i have an error like: Suggestion: add &#39;tools:replace=&quot;android:name&quot;&#39; to &lt;application&gt; element at AndroidManifest.xml:24:5-99:19 to override. Can you help? I will accept your answer if it will work"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507728487, "post_id": 46688753, "comment_id": 80326613, "body": "Also, compiler underlines .application(this) and says &quot;unresolved reference: application&quot;"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507728535, "post_id": 46688753, "comment_id": 80326664, "body": "First i recommend you to use a different name then &quot;App&quot;. Something like YourCoolApp extends DaggerApplication() woukd be great. second you need to use a full path for your name inside your &lt;application in your manifest like android:name=&quot;.com.yourpackage.YourCoolApp&quot;.  it says unresolved because its not yet generated (must have a working build first)"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507728733, "post_id": 46688753, "comment_id": 80326831, "body": "Ok, now after those changes i have an error like: Error:Execution failed for task &#39;:nexo:kaptDebugKotlin&#39;. &gt; Internal compiler error. See log for more details"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507728769, "post_id": 46688753, "comment_id": 80326859, "body": "Now you need to check your gradle log carefully :-) Your almost there. Its not easy to debug Dagger but my sample is the way to go."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507728844, "post_id": 46688753, "comment_id": 80326909, "body": "You mean the logs in &quot;Logcat&quot; panel in Android Studio or somwhere else? Sorry, but I am begginer :D"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507728889, "post_id": 46688753, "comment_id": 80326942, "body": "Gradle Console. If you still need help update your code above with the changes and ill take a look onec its changed."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507729945, "post_id": 46688753, "comment_id": 80327767, "body": "apply plugin: &#39;com.android.application&#39; if you dont provide a library but an application. Use implementation instead of compile since you&#39;r using gradle 3+. Clean your Project and invalidate cache and restart. After press Gradle Console bottom right and post the whole error dump (red colored text) which may give a hint about the error."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507731309, "post_id": 46688753, "comment_id": 80328792, "body": "I still have now the error with replace &quot;android:name&quot;"}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 2, "last_activity_date": 1507727037, "last_edit_date": 1507727037, "creation_date": 1507726568, "answer_id": 46688753, "question_id": 46688473, "link": "https://stackoverflow.com/questions/46688473/kotlin-dagger2-inject-context-var-is-always-null/46688753#46688753", "title": "Kotlin: Dagger2 @Inject context var is always null", "body": "<p>Here's a simple test case. Not tested but should show the concept how you should inject into your LogManager.</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AndroidSupportInjectionModule::class, AppModule::class))\ninterface AppComponent : AndroidInjector&lt;App&gt; { {\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(application: App): Builder\n        fun build(): AppComponent\n    }\n\n    override fun inject(app: App)\n}\n\n@Module\nclass AppModule {\n\n    @Singleton @Provides\n    fun provideYourDb(application: App) = Room.databaseBuilder(application, YourDb::class.java, \"your.db\").build()\n\n    @Singleton @Provides\n    fun provideLogger(application: App) = LogManager(application)\n}\n</code></pre>\n\n<p>An interface for the Apps lifecycle.</p>\n\n<pre><code>interface AppLifecycleCallbacks {\n   fun onCreate(application: Application)\n   fun onTerminate(application: Application)\n}\n</code></pre>\n\n<p>Your application should extend DaggerApplication().</p>\n\n<pre><code>class App:DaggerApplication() {\n\n    @Inject lateinit var appLifecycleCallbacks: AppLifecycleCallbacks\n\n    override fun applicationInjector() = DaggerAppComponent.builder()\n            .application(this)\n            .build()\n\n    override fun onCreate() {\n        super.onCreate()\n        appLifecycleCallbacks.onCreate(this)\n    }\n\n    override fun onTerminate() {\n        appLifecycleCallbacks.onTerminate(this)\n        super.onTerminate()\n    }\n\n}\n</code></pre>\n\n<p>finally you have a provided LogManager.</p>\n\n<pre><code>class LogManager (val app: App)    \n</code></pre>\n\n<p>If you really want to use @Inject inside your LogManager you can inject it inside your AppComponent using <code>fun inject(logManager: LogManager)</code>.</p>\n\n<p>The lifecycle interface is used for auto injection of activities/services in case you want to extend it later. Example:</p>\n\n<p>App entry class</p>\n\n<pre><code>override fun onCreate() {\n     super.onCreate()\n     applyAutoInjector()\n     appLifecycleCallbacks.onCreate(this)\n}\n\n\nfun Application.applyAutoInjector() = registerActivityLifecycleCallbacks(\n        object : Application.ActivityLifecycleCallbacks {\n\n            override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) {\n                handleActivity(activity)\n            }\n         //truncated ... \n        })\n</code></pre>\n\n<p>Take care that you need the dependencies for dagger-android-support in your gradle to have AndroidSupportInjectionModule.</p>\n\n<pre><code>implementation \"com.google.dagger:dagger-android-support:2.11-rc2\" // version may be not up 2 date later.\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507729735, "creation_date": 1507725707, "last_edit_date": 1507729735, "question_id": 46688473, "link": "https://stackoverflow.com/questions/46688473/kotlin-dagger2-inject-context-var-is-always-null", "title": "Kotlin: Dagger2 @Inject context var is always null", "body": "<p>I am trying to to do module in AndroidStudio which is not connected with Android, it has no Activities, but i need Context for several things like Room database.</p>\n\n<p>Here is my setup:</p>\n\n<p><strong>AppComponent</strong></p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AndroidSupportInjectionModule::class, AppModule::class))\ninterface AppComponent : AndroidInjector&lt;NexoApplication&gt; {\n\n@Component.Builder\ninterface Builder {\n    @BindsInstance\n    fun application(application: NexoApplication): Builder\n    fun build(): AppComponent\n }\n\noverride fun inject(app: NexoApplication)\n}\n</code></pre>\n\n<p><strong>AppModule</strong></p>\n\n<pre><code>@Module\nclass AppModule {\n@Singleton @Provides\nfun provideLogger(application: NexoApplication) = LogNexoManager(application)\n}\n</code></pre>\n\n<p><strong>AppLifecycleCallbacks</strong></p>\n\n<pre><code>interface AppLifecycleCallbacks {\nfun onCreate(application: Application)\nfun onTerminate(application: Application)\n}\n</code></pre>\n\n<p><strong>App</strong></p>\n\n<pre><code>class NexoApplication: DaggerApplication() {\n\n@Inject lateinit var appLifecycleCallbacks: AppLifecycleCallbacks\n\noverride fun applicationInjector() = DaggerAppComponent.builder()\n        .application(this)\n        .build()\n\noverride fun onCreate() {\n    super.onCreate()\n    appLifecycleCallbacks.onCreate(this)\n}\n\noverride fun onTerminate() {\n    appLifecycleCallbacks.onTerminate(this)\n    super.onTerminate()\n   }\n\n}\n</code></pre>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\npackage=\"com.elstatgroup.elstat\"&gt;\n\n&lt;application\n    android:name=\"com.elstatgroup.elstat.NexoApplication\"\n    android:allowBackup=\"true\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>And i try to inject context to my main class like this:</p>\n\n<pre><code>class LogNexoManager(app: Application){\n   var logRepository: LogRepository\n\n\ninit {\n    logRepository = LogRepositoryImpl(app)\n\n }\n}\n</code></pre>\n\n<p>Sample unit test is always false</p>\n\n<pre><code>   @Test\nfun proceedWithLogs(){\n    val logManager = LogManager()\n}\n</code></pre>\n\n<p>And the exception is:</p>\n\n<blockquote>\n  <p>kotlin.UninitializedPropertyAccessException: lateinit property app has not been initialized</p>\n</blockquote>\n\n<p><strong>UPDATE:</strong>\nI made the changes proposed by @Emanuel S and now i have an error like:</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':nexo:kaptDebugKotlin'.\n  Internal compiler error. See log for more details</p>\n</blockquote>\n\n<p>My Build.gradle file is:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\ncompileSdkVersion 26\n\ndefaultConfig {\n    minSdkVersion 15\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>ext.daggerVersion = '2.11'\next.roomVersion = '1.0.0-alpha9'\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:26.1.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation('com.android.support.test.espresso:espresso-core:3.0.1', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n// RxJava\nimplementation 'io.reactivex.rxjava2:rxjava:2.1.0'\nimplementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\n\n// Room\nimplementation \"android.arch.persistence.room:runtime:$roomVersion\"\nimplementation \"android.arch.persistence.room:rxjava2:$roomVersion\"\nkapt \"android.arch.persistence.room:compiler:$roomVersion\"\ncompile \"org.jetbrains.kotlin:kotlin-stdlib:1.1.51\"\n\n\nandroidTestImplementation \"android.arch.persistence.room:testing:$roomVersion\"\n\ncompile \"com.google.dagger:dagger:$daggerVersion\"\ncompile \"com.google.dagger:dagger-android:$daggerVersion\"\ncompile \"com.google.dagger:dagger-android-support:$daggerVersion\"\nkapt \"com.google.dagger:dagger-android-processor:$daggerVersion\"\nkapt \"com.google.dagger:dagger-compiler:$daggerVersion\"\nimplementation \"com.google.dagger:dagger-android-support:2.11-rc2\" // version may be not up 2 date later.\n}\n\nrepositories {\nmavenCentral()\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "mocking", "mockito", "kotlin", "powermock"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1507725216, "post_id": 46687792, "comment_id": 80324110, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23629766/how-to-mock-final-field-mockito-powermock\">How to mock final field? mockito/powermock</a>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1507737914, "post_id": 46687792, "comment_id": 80333378, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43306269/how-to-mock-final-class-with-mockito-2-on-java-module-in-android-project\">How to mock final class with Mockito 2 on Java Module in Android project?</a>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1507737965, "post_id": 46687792, "comment_id": 80333408, "body": "^ this question and answer should help you"}, {"owner": {"reputation": 298, "user_id": 2423899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/025aa765baa1d2132bf264e2f774c94d?s=128&d=identicon&r=PG&f=1", "display_name": "illusionJJ", "link": "https://stackoverflow.com/users/2423899/illusionjj"}, "edited": false, "score": 0, "creation_date": 1507812473, "post_id": 46687792, "comment_id": 80366428, "body": "Is final field equally treated final class or final static? I suspect constructor issue for a <code>car</code> with injectMocks."}], "answers": [{"tags": [], "owner": {"reputation": 188, "user_id": 3449634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd923b77c876264393438d8378c63180?s=128&d=identicon&r=PG", "display_name": "palasjir", "link": "https://stackoverflow.com/users/3449634/palasjir"}, "is_accepted": true, "score": 1, "last_activity_date": 1507737930, "creation_date": 1507737930, "answer_id": 46692854, "question_id": 46687792, "link": "https://stackoverflow.com/questions/46687792/mocking-final-field-with-kotlin/46692854#46692854", "title": "Mocking final field with Kotlin", "body": "<p>I think you've already answered your question. There is no other good solution. What you suggest as the options (preferably first one) is properly designed class to be testable.</p>\n"}], "owner": {"reputation": 298, "user_id": 2423899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/025aa765baa1d2132bf264e2f774c94d?s=128&d=identicon&r=PG&f=1", "display_name": "illusionJJ", "link": "https://stackoverflow.com/users/2423899/illusionjj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1259, "favorite_count": 0, "accepted_answer_id": 46692854, "answer_count": 1, "score": 0, "last_activity_date": 1507737930, "creation_date": 1507723536, "last_edit_date": 1507726019, "question_id": 46687792, "link": "https://stackoverflow.com/questions/46687792/mocking-final-field-with-kotlin", "title": "Mocking final field with Kotlin", "body": "<p>I'm newbie on Kotlin, Mockito. Below code has an error which is caused by <code>engine</code>, an immutable field that is not mocked.</p>\n\n<p>I spent a lot of time trying to solve this problem. I found that a way of mocking works, until I don't understand and don't satisfy that.</p>\n\n<ol>\n<li>move a field to constructor. <code>class Car(val engine: Engine) { ... }</code> </li>\n<li>change to mutable field. <code>private var engine = Engine()</code></li>\n</ol>\n\n<p>Is there any other way?</p>\n\n<pre><code>class Car {\n\n  private val engine = Engine() // here\n  var state: String? = null\n\n  fun move() {\n    state = engine.state\n  }\n}\n\n@RunWith(MockitoJUnitRunner::class)\nclass CarTest {\n\n  @Mock private lateinit var mockedEngine: Engine\n\n  @InjectMocks private val car = Car()\n\n  @Test\n  fun test() {\n    `when`.(mockedEngine.state).thenReturn(\"run\")\n    car.move()\n    assertEquals(\"run\", car.state)\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/P9MFU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P9MFU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "forms", "validation", "kotlin", "saripaar"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1507911630, "post_id": 46686543, "comment_id": 80414789, "body": "Post related code."}, {"owner": {"reputation": 2615, "user_id": 1183691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1BeRD.jpg?s=128&g=1", "display_name": "captaindroid", "link": "https://stackoverflow.com/users/1183691/captaindroid"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1508049325, "post_id": 46686543, "comment_id": 80450482, "body": "@azizbekian question updated with code."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 1, "creation_date": 1508053634, "post_id": 46686543, "comment_id": 80451418, "body": "Where from are you performing <code>validator.validate()</code>? Post fragment/activity also."}, {"owner": {"reputation": 2615, "user_id": 1183691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1BeRD.jpg?s=128&g=1", "display_name": "captaindroid", "link": "https://stackoverflow.com/users/1183691/captaindroid"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1508063456, "post_id": 46686543, "comment_id": 80453756, "body": "There is a submit button in fragmentA, On submit button click, I have validate the form i.e <code>validator.validate()</code>"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1508090245, "post_id": 46686543, "comment_id": 80461649, "body": "I am using saripaar with kotlin project and it working fine for me. I think in your project it should be reference problem because for fragments. Can you provide any log ?"}, {"owner": {"reputation": 2615, "user_id": 1183691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1BeRD.jpg?s=128&g=1", "display_name": "captaindroid", "link": "https://stackoverflow.com/users/1183691/captaindroid"}, "reply_to_user": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1508121575, "post_id": 46686543, "comment_id": 80469668, "body": "@RajeshDalsaniya Are you using with butterknife ? There is no error log or something like that. Can you share me buildtoolversion and support library version."}, {"owner": {"reputation": 2129, "user_id": 1336154, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ajJUC.jpg?s=128&g=1", "display_name": "Rinav", "link": "https://stackoverflow.com/users/1336154/rinav"}, "edited": false, "score": 0, "creation_date": 1508134998, "post_id": 46686543, "comment_id": 80473243, "body": "There is also an open issue on the project, but it&#39;s not yet fixed. You can track it here [<a href=\"https://github.com/ragunathjawahar/android-saripaar/issues/204]\" rel=\"nofollow noreferrer\">github.com/ragunathjawahar/android-saripaar/issues/204]</a> (<a href=\"https://github.com/ragunathjawahar/android-saripaar/issues/204\" rel=\"nofollow noreferrer\">github.com/ragunathjawahar/android-saripaar/issues/204</a>)"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 1, "creation_date": 1508138726, "post_id": 46686543, "comment_id": 80475133, "body": "@captaindroid buildToolsVersion &quot;26.0.2&quot; and implementation &#39;com.mobsandgeeks:android-saripaar:2.0.3&#39;"}, {"owner": {"reputation": 2615, "user_id": 1183691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1BeRD.jpg?s=128&g=1", "display_name": "captaindroid", "link": "https://stackoverflow.com/users/1183691/captaindroid"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1508247324, "post_id": 46686543, "comment_id": 80529428, "body": "I solved the issue, I have all the saripaar initialization in basefragment,I was checking the validator instance like: <code>if(validator==null){  validator = Validator(this)  validator.setValidationListener(this) }</code>       I removed the null check part and its now working. Thanks guys @azizbekian @Rajesh @Rinav"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1508248487, "post_id": 46686543, "comment_id": 80530273, "body": "Had you been generous enough and shared proper code - you&#39;d have had solved your problem way sooner ;-)"}, {"owner": {"reputation": 2615, "user_id": 1183691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1BeRD.jpg?s=128&g=1", "display_name": "captaindroid", "link": "https://stackoverflow.com/users/1183691/captaindroid"}, "edited": false, "score": 0, "creation_date": 1508249968, "post_id": 46686543, "comment_id": 80531298, "body": "Yes, stupid me. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 2615, "user_id": 1183691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1BeRD.jpg?s=128&g=1", "display_name": "captaindroid", "link": "https://stackoverflow.com/users/1183691/captaindroid"}, "is_accepted": true, "score": 4, "last_activity_date": 1508247740, "creation_date": 1508247740, "answer_id": 46791658, "question_id": 46686543, "link": "https://stackoverflow.com/questions/46686543/saripaar-formvalidation-not-working-second-time-in-kotlin/46791658#46791658", "title": "Saripaar formvalidation not working second time in kotlin", "body": "<p>I solved the issue, I have all the saripaar initialization in basefragment, I have the following code in basefragment with null check for validator instance:</p>\n\n<pre><code>if(validator==null){  \n validator = Validator(this) \n validator.setValidationListener(this) \n}\n</code></pre>\n\n<p>As I removed the null check part, now its working fine. </p>\n\n<pre><code>validator = Validator(this) \nvalidator.setValidationListener(this) \n</code></pre>\n"}], "owner": {"reputation": 2615, "user_id": 1183691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1BeRD.jpg?s=128&g=1", "display_name": "captaindroid", "link": "https://stackoverflow.com/users/1183691/captaindroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 1, "accepted_answer_id": 46791658, "answer_count": 1, "score": 11, "last_activity_date": 1508247740, "creation_date": 1507719600, "last_edit_date": 1508049287, "question_id": 46686543, "link": "https://stackoverflow.com/questions/46686543/saripaar-formvalidation-not-working-second-time-in-kotlin", "title": "Saripaar formvalidation not working second time in kotlin", "body": "<p>I am using <a href=\"https://github.com/ragunathjawahar/android-saripaar\" rel=\"noreferrer\">saripaar</a> for form validation. I have some edittext in fragmentA, on validation success , view will be switched to fragmentB.<br>\nButterknife and saripaar annotation in fragment.</p>\n\n<pre><code>@NotEmpty\n@BindView(R.id.nameEditText)\nlateinit var nameEditText: EditText\n</code></pre>\n\n<p>Saripaar initialization:</p>\n\n<pre><code> val validator = Validator(this)\n validator.setValidationListener(this)\n</code></pre>\n\n<p>To validate the fields:</p>\n\n<pre><code>validator.validate()\n</code></pre>\n\n<p>Validation is working fine for the first time. When come back from fragmentB to fragmentA, then validation is not working, it will directly call onvalidationsuccess.</p>\n\n<p>On <strong>onValidationSucceeded</strong> , I am using following function to switch to fragmentB.</p>\n\n<pre><code>fun openFragment(fragment: Fragment) {\n    val ft = activity.supportFragmentManager.beginTransaction()\n    ft.replace(R.id.container, fragment)\n    ft.addToBackStack(null)\n    ft.commitAllowingStateLoss()\n}\n</code></pre>\n\n<p>This problem only appears in kotlin but not in java.</p>\n"}, {"tags": ["android", "kotlin", "stopwatch"], "comments": [{"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 1, "creation_date": 1507718170, "post_id": 46686022, "comment_id": 80319543, "body": "post your xml file also"}, {"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 1, "creation_date": 1507718233, "post_id": 46686022, "comment_id": 80319586, "body": "see <a href=\"https://stackoverflow.com/a/46506887/7073808\">here <b>How to initialize views in kotlin</b></a>"}, {"owner": {"reputation": 9, "user_id": 8758152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d55fdb03fbf7483a9bd14998d5cdb35?s=128&d=identicon&r=PG&f=1", "display_name": "MargardiaGhy", "link": "https://stackoverflow.com/users/8758152/margardiaghy"}, "reply_to_user": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1507718341, "post_id": 46686022, "comment_id": 80319656, "body": "Just editted @UltimateDevil"}, {"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 0, "creation_date": 1507719558, "post_id": 46686022, "comment_id": 80320475, "body": "have your problem is solved"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8758152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d55fdb03fbf7483a9bd14998d5cdb35?s=128&d=identicon&r=PG&f=1", "display_name": "MargardiaGhy", "link": "https://stackoverflow.com/users/8758152/margardiaghy"}, "edited": false, "score": 0, "creation_date": 1507718659, "post_id": 46686156, "comment_id": 80319864, "body": "I see, thanks. That&#39;s the only problem on my app correct? :) THanks a lot"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1507718440, "creation_date": 1507718440, "answer_id": 46686156, "question_id": 46686022, "link": "https://stackoverflow.com/questions/46686022/android-stopwatch-app-crashes/46686156#46686156", "title": "Android stopwatch app crashes", "body": "<p>It looks like you're using Kotlin Android Extensions. In this case, you don't have to create the <code>lateinit var</code>s for your Views, you can just refer to their IDs in the XML file.</p>\n\n<p>So instead of this:</p>\n\n<pre><code>class StopwatchActivity : AppCompatActivity() {\n\n    lateinit var textView: TextView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_stopwatch)\n\n        textView = textView as TextView\n\n        textView.text = \"00:00:00\"\n    }\n\n}\n</code></pre>\n\n<p>Just do this:</p>\n\n<pre><code>class StopwatchActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_stopwatch)\n\n        textView.text = \"00:00:00\"\n    }\n\n}\n</code></pre>\n\n<p>And the same with all your other Views.</p>\n\n<p>For options other than Kotlin Android Extensions, see <a href=\"https://stackoverflow.com/q/44285703/4465208\">this discussion</a>.</p>\n"}], "owner": {"reputation": 9, "user_id": 8758152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d55fdb03fbf7483a9bd14998d5cdb35?s=128&d=identicon&r=PG&f=1", "display_name": "MargardiaGhy", "link": "https://stackoverflow.com/users/8758152/margardiaghy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 399, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507718440, "creation_date": 1507718083, "last_edit_date": 1507718322, "question_id": 46686022, "link": "https://stackoverflow.com/questions/46686022/android-stopwatch-app-crashes", "title": "Android stopwatch app crashes", "body": "<p>So I have this stopwatch but when I open its activity this is what I get:</p>\n\n<pre><code>FATAL EXCEPTION: main\nProcess: com.reecreate.woderator2, PID: 5869\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.reecreate.woderator2/com.reecreate.woderator2.Controller.StopwatchActivity}: kotlin.UninitializedPropertyAccessException: lateinit property textView has not been initialized\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2665)\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                            at android.os.Looper.loop(Looper.java:154)\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6119)\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n                                                                         Caused by: kotlin.UninitializedPropertyAccessException: lateinit property textView has not been initialized\n                                                                            at com.reecreate.woderator2.Controller.StopwatchActivity.onCreate(StopwatchActivity.kt:52)\n                                                                            at android.app.Activity.performCreate(Activity.java:6679)\n                                                                            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n                                                                            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)\n                                                                            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\u00a0\n                                                                            at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                                                                            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\u00a0\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                            at android.os.Looper.loop(Looper.java:154)\u00a0\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6119)\u00a0\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\u00a0\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\u00a0\n</code></pre>\n\n<p><strong>This is my code :</strong></p>\n\n<pre><code>class StopwatchActivity : AppCompatActivity() {\n\nlateinit var textView: TextView\n\nlateinit var start: Button\n\nlateinit var pause: Button\nlateinit var reset: Button\nlateinit var lap: Button\n\nvar MillisecondTime: Long = 0\nvar StartTime:Long = 0\nvar TimeBuff:Long = 0\nvar UpdateTime = 0L\n\nlateinit var handler: Handler\n\nvar Seconds: Int = 0\nvar Minutes:Int = 0\nvar MilliSeconds:Int = 0\n\nlateinit var listView: ListView\n\nvar ListElements = arrayOf&lt;String&gt;()\n\nlateinit var ListElementsArrayList: MutableList&lt;String&gt;\n\nlateinit var adapter: ArrayAdapter&lt;String&gt;\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_stopwatch)\n\n\n    textView = textView as TextView\n    start = button as Button\n    pause = button2 as Button\n    reset = button3 as Button\n    lap = button4 as Button\n    listView = listview1 as ListView\n\n    handler = Handler()\n\n    ListElementsArrayList = ArrayList(Arrays.asList(*ListElements))\n\n    adapter = ArrayAdapter(this,\n            android.R.layout.simple_list_item_1,\n            ListElementsArrayList\n    )\n\n    listView.adapter = adapter\n\n    start.setOnClickListener {\n        StartTime = SystemClock.uptimeMillis()\n        handler.postDelayed(runnable, 0)\n\n        reset.setEnabled(false)\n    }\n\n    pause.setOnClickListener(View.OnClickListener {\n        TimeBuff += MillisecondTime\n\n        handler.removeCallbacks(runnable)\n\n        reset.setEnabled(true)\n    })\n\n    reset.setOnClickListener(View.OnClickListener {\n        MillisecondTime = 0L\n        StartTime = 0L\n        TimeBuff = 0L\n        UpdateTime = 0L\n        Seconds = 0\n        Minutes = 0\n        MilliSeconds = 0\n\n        textView.text = \"00:00:00\"\n\n        ListElementsArrayList.clear()\n\n        adapter.notifyDataSetChanged()\n    })\n\n    lap.setOnClickListener(View.OnClickListener {\n        ListElementsArrayList.add(textView.text.toString())\n\n        adapter.notifyDataSetChanged()\n    })\n\n}\n\nvar runnable: Runnable = object : Runnable {\n\n    override fun run() {\n\n        MillisecondTime = SystemClock.uptimeMillis() - StartTime\n\n        UpdateTime = TimeBuff + MillisecondTime\n\n        Seconds = (UpdateTime / 1000).toInt()\n\n        Minutes = Seconds / 60\n\n        Seconds = Seconds % 60\n\n        MilliSeconds = (UpdateTime % 1000).toInt()\n\n        textView.text = (\"\" + Minutes + \":\"\n                + String.format(\"%02d\", Seconds) + \":\"\n                + String.format(\"%03d\", MilliSeconds))\n\n        handler.postDelayed(this, 0)\n    }\n\n}\n}\n</code></pre>\n\n<p>I tried to see exactly what was the problem with my textView, but I didn't see anything that could give it a problem. I mate it private, initialise and all that but I dont know</p>\n\n<p>ANy help would be very appreciated  :)</p>\n\n<p>Thanks</p>\n\n<p><strong>XML:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.reecreate.woderator2.Controller.StopwatchActivity\"\n    tools:layout_editor_absoluteX=\"0dp\"\n    tools:layout_editor_absoluteY=\"25dp\"&gt;\n\n    &lt;TextView\n        android:text=\"00:00:00\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/textView\"\n        android:textSize=\"50dp\"\n        android:textStyle=\"bold\"\n        android:textColor=\"#009688\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_centerHorizontal=\"true\" /&gt;\n\n    &lt;Button\n        android:text=\"Start\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/textView\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_marginTop=\"41dp\"\n        android:id=\"@+id/button\" /&gt;\n\n    &lt;Button\n        android:text=\"Pause\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/button2\"\n        android:layout_alignBaseline=\"@+id/button\"\n        android:layout_alignBottom=\"@+id/button\"\n        android:layout_centerHorizontal=\"true\" /&gt;\n\n    &lt;Button\n        android:text=\"Reset\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignTop=\"@+id/button2\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentEnd=\"true\"\n        android:id=\"@+id/button3\" /&gt;\n\n    &lt;Button\n        android:text=\"Save Lap\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"24dp\"\n        android:id=\"@+id/button4\"\n        android:layout_below=\"@+id/button\"\n        android:layout_centerHorizontal=\"true\" /&gt;\n\n    &lt;ListView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_below=\"@+id/button4\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"12dp\"\n        android:id=\"@+id/listview1\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 928, "user_id": 5052133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RxBmEJAEu8Q/AAAAAAAAAAI/AAAAAAAAAAA/6fyGasyBm7s/photo.jpg?sz=128", "display_name": "Muzammil Husnain", "link": "https://stackoverflow.com/users/5052133/muzammil-husnain"}, "is_accepted": false, "score": 2, "last_activity_date": 1511248184, "last_edit_date": 1511248184, "creation_date": 1507708809, "answer_id": 46682882, "question_id": 46682455, "link": "https://stackoverflow.com/questions/46682455/how-to-solve-violation-of-finite-bound-restriction-in-kotlin/46682882#46682882", "title": "How to solve violation of Finite Bound Restriction in Kotlin?", "body": "<p>Let G be a directed graph whose vertices are all type-parameters of all generic type declarations in the program. For every projection type-argument A in every generic type B&lt;...> in the set of constituent types of every type in the B-closure of the set of declared upper bounds of every type- parameter T in G add an edge from T to U, where U is the type-parameter of the declaration of B&lt;...> corresponding to the type-argument A. It is a compile-time error if the graph G has a cycle.</p>\n\n<p>Note: \nAn intuitive meaning of an edge X \u2192 Y in the graph G is \"the exact meaning of bounds for the type-parameter X depends on bounds for the type-parameter Y\".</p>\n\n<p>Example:</p>\n\n<p>The following declaration is invalid, because there is an edge T \u2192 T, forming a cycle:</p>\n\n<pre><code>interface A&lt;T : A&lt;*&gt;&gt;\n</code></pre>\n\n<p>The bound <code>A&lt;*&gt;</code> is a projection with an implicit bound. If that bound is made explicit, the type <code>A&lt;*&gt;</code> takes an equivalent form <code>A&lt;out A&lt;*&gt;&gt;</code>. In the same way, it can be further rewritten in an equivalent from <code>A&lt;out A&lt;out A&lt;*&gt;&gt;&gt;</code>, and so on. In its fully expanded form this bound would be infinite. The purpose of this rule is to avoid such infinite types, and type checking difficulties associated with them.</p>\n\n<p>The following pair of declarations is invalid, because there are edges T \u2192 S and S \u2192 T, forming a cycle:</p>\n\n<pre><code>interface B&lt;T : C&lt;*&gt;&gt;\ninterface C&lt;S : B&lt;*&gt;&gt;\n</code></pre>\n\n<p>The following declaration is invalid, because there are edges K \u2192 V and V \u2192 K, forming a cycle:</p>\n\n<pre><code>interface D&lt;K: D&lt;K, *&gt;, V: D&lt;*, V&gt;&gt;\n</code></pre>\n\n<p>On the other hand, each of the following declarations is valid:</p>\n\n<pre><code>interface A&lt;T : A&lt;T&gt;&gt;\ninterface D&lt;K, V : D&lt;*, V&gt;&gt;\n</code></pre>\n\n<p>TODO: Interaction of these algoritms with flexible types. TODO: Importing type declared in Java that violate these rules.</p>\n\n<p>Subtyping relationships is to be decided inductively, i.e. must have a finite proof.</p>\n\n<pre><code>interface N&lt;in T&gt;\ninterface A&lt;S&gt; : N&lt;N&lt;A&lt;A&lt;S&gt;&gt;&gt;&gt;\n</code></pre>\n\n<p><a href=\"https://jetbrains.github.io/kotlin-spec/kotlin-spec.pdf\" rel=\"nofollow noreferrer\">Official Link</a></p>\n"}, {"tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": true, "score": 15, "last_activity_date": 1507719224, "last_edit_date": 1507719224, "creation_date": 1507710208, "answer_id": 46683292, "question_id": 46682455, "link": "https://stackoverflow.com/questions/46682455/how-to-solve-violation-of-finite-bound-restriction-in-kotlin/46683292#46683292", "title": "How to solve violation of Finite Bound Restriction in Kotlin?", "body": "<p>It is impossible to use just one type parameter. Introducing <code>Self</code> type, which is natively supported in some other languages, is necessary. However, in kotlin you will have to introduce the <code>Self</code> type by yourself, because <a href=\"https://youtrack.jetbrains.com/issue/KT-6494#comment=27-882961\" rel=\"noreferrer\">JetBrains officially turned down the request of adding self type</a>.</p>\n\n<pre><code>abstract class Start&lt;Self: Start&lt;Self, T&gt;, T: End&lt;T, Self&gt;&gt; {\n    lateinit var end: T\n}\n\nabstract class End&lt;Self: End&lt;Self, T&gt;, T: Start&lt;T, Self&gt;&gt; {\n    lateinit var start: T\n}\n</code></pre>\n\n<p>PS: This <code>Self</code> may later induce tediously long type. Proceed with caution.</p>\n"}], "owner": {"reputation": 2792, "user_id": 1197317, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9a809eed13d4da1cd8797d0578ab6076?s=128&d=identicon&r=PG", "display_name": "fikr4n", "link": "https://stackoverflow.com/users/1197317/fikr4n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2847, "favorite_count": 0, "closed_date": 1507721055, "accepted_answer_id": 46683292, "answer_count": 2, "score": 11, "last_activity_date": 1511248184, "creation_date": 1507707452, "last_edit_date": 1507711490, "question_id": 46682455, "link": "https://stackoverflow.com/questions/46682455/how-to-solve-violation-of-finite-bound-restriction-in-kotlin", "closed_reason": "Duplicate", "title": "How to solve violation of Finite Bound Restriction in Kotlin?", "body": "<p>Assume that I have this declaration in Java, it's okay.</p>\n\n<pre><code>abstract class Start&lt;T extends End&gt; {\n    public T end;\n}\n\nabstract class End&lt;T extends Start&gt; {\n    public T start;\n}\n</code></pre>\n\n<p>However, it's not okay in Kotlin, since Kotlin has restriction for \"cyclic\" type parameter.</p>\n\n<pre><code>abstract class Start&lt;T : End&lt;*&gt;&gt; {\n    lateinit var end: T\n}\n\nabstract class End&lt;T : Start&lt;*&gt;&gt; {\n    lateinit var start: T\n}\n</code></pre>\n\n<p>Is there any approach to solve this in Kotlin, so that I can have generic types that depend on each other?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 3824, "user_id": 6602675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fba4065805a535f33e4062872831559?s=128&d=identicon&r=PG&f=1", "display_name": "Sharath kumar", "link": "https://stackoverflow.com/users/6602675/sharath-kumar"}, "edited": false, "score": 0, "creation_date": 1507697170, "post_id": 46679984, "comment_id": 80307813, "body": "Rebuild the code and check"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8756164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2482e715ec827cf3df7a071de6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "W.J", "link": "https://stackoverflow.com/users/8756164/w-j"}, "edited": false, "score": 0, "creation_date": 1507700260, "post_id": 46680129, "comment_id": 80308982, "body": "It is resolved...I tried before, but it doesn\u2019t work and the gradle build failed. Anyway thank you very much!\ud83d\ude02\ud83d\ude02\ud83d\ude02"}], "tags": [], "owner": {"reputation": 3824, "user_id": 6602675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fba4065805a535f33e4062872831559?s=128&d=identicon&r=PG&f=1", "display_name": "Sharath kumar", "link": "https://stackoverflow.com/users/6602675/sharath-kumar"}, "is_accepted": true, "score": 2, "last_activity_date": 1507697778, "creation_date": 1507697778, "answer_id": 46680129, "question_id": 46679984, "link": "https://stackoverflow.com/questions/46679984/dagger-2-in-kotlin-unresolved-reference-daggerxxxsub/46680129#46680129", "title": "Dagger 2 in Kotlin unresolved reference DaggerXXXSub", "body": "<p>Add the following in your gradle</p>\n\n<pre><code>kapt {\n   generateStubs = true\n}\n\ndependencies {\n   kapt 'com.google.dagger:dagger-compiler:2.8'\n   compile 'com.google.dagger:dagger:2.8'\n }\n</code></pre>\n\n<p>For more information of generateStubs check this link <a href=\"https://blog.jetbrains.com/kotlin/2015/06/better-annotation-processing-supporting-stubs-in-kapt/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2015/06/better-annotation-processing-supporting-stubs-in-kapt/</a></p>\n"}], "owner": {"reputation": 33, "user_id": 8756164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2482e715ec827cf3df7a071de6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "W.J", "link": "https://stackoverflow.com/users/8756164/w-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2100, "favorite_count": 0, "accepted_answer_id": 46680129, "answer_count": 1, "score": 3, "last_activity_date": 1507697778, "creation_date": 1507696932, "question_id": 46679984, "link": "https://stackoverflow.com/questions/46679984/dagger-2-in-kotlin-unresolved-reference-daggerxxxsub", "title": "Dagger 2 in Kotlin unresolved reference DaggerXXXSub", "body": "<p>I am trying to use Dagger 2 in my Android project where I code in Kotlin. I used Dagger 2 in my project like the example in <a href=\"https://google.github.io/dagger/android.html\" rel=\"nofollow noreferrer\">Dagger 2 Android</a>. </p>\n\n<h2>app/build.gradle</h2>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.2\"\n    defaultConfig {\n        applicationId \"com.wj.kotlintest\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation ('com.android.support.test.espresso:espresso-core:3.0.1', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n          })\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    implementation 'com.google.dagger:dagger-android-support:2.11'\n    kapt 'com.google.dagger:dagger-compiler:2.11'\n    provided 'org.glassfish:javax.annotation:10.0-b28'\n}\n</code></pre>\n\n<h2>ApplicationSub.kt</h2>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(ActivityModule::class))\ninterface ApplicationSub {\n    fun inject(app: MyApplication)\n} \n</code></pre>\n\n<h2>    ActivityModule.kt</h2>\n\n<pre><code>@Module(subcomponents = arrayOf(MainActivitySub::class))\nabstract class ActivityModule {\n    @Binds\n    @IntoMap\n    @ActivityKey(MainActivity::class)\n    abstract fun bindMainActivity(builder: MainActivitySub.Builder): AndroidInjector.Factory&lt;out Activity&gt;\n}\n</code></pre>\n\n<h2>MainActivitySub.kt</h2>\n\n<pre><code>@Subcomponent\ninterface MainActivitySub : AndroidInjector&lt;MainActivity&gt; {\n    @Subcomponent.Builder\n    abstract class Builder : AndroidInjector.Builder&lt;MainActivity&gt;()\n}\n</code></pre>\n\n<h2>MainActivity.kt</h2>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n\n<h2>MyApplication.java</h2>\n\n<pre><code>public class MyApplication extends Application implements HasActivityInjector {\n\n    @Inject\n    DispatchingAndroidInjector&lt;Activity&gt; activityInjector;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        DaggerApplicationSub\n                .create()\n                .inject(this);\n\n    }\n\n    @Override\n    public AndroidInjector&lt;Activity&gt; activityInjector() {\n        return activityInjector;\n    }\n}\n</code></pre>\n\n<p>my code like this and it can run, but after I try to convert MyApplication.java to MyApplication.kt, the project couldn't run.</p>\n\n<h2>MyApplication.kt</h2>\n\n<pre><code>class MyApplication: Application(), HasActivityInjector{\n\n    @Inject\n    lateinit var activityInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n\n        DaggerApplicationSub\n                .builder()\n                .build()\n                .inject(this)\n\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; {\n        return activityInjector\n    }\n}\n</code></pre>\n\n<p>I can build the project of success, and the file DaggerApplicationSub is exist, but when I try to run this project, I get compilation errors:</p>\n\n<pre><code>Error:(5, 49) Unresolved reference: DaggerApplicationSub\nError:(24, 9) Unresolved reference: DaggerApplicationSub\n</code></pre>\n\n<p>I don't know how to solve this problem, all my code is in <a href=\"https://github.com/Lorry0822/KotlinTest\" rel=\"nofollow noreferrer\">KotlinTest</a>, thanks for your help!</p>\n"}, {"tags": ["android", "sockets", "reflection", "bluetooth", "kotlin"], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507830431, "creation_date": 1507692253, "last_edit_date": 1507830431, "question_id": 46679260, "link": "https://stackoverflow.com/questions/46679260/bluetooth-client-socket-get-same-exception-everytime", "title": "Bluetooth client Socket get same exception everytime", "body": "<p>I am writing an Android app mostly in Kotlin that is supposed to scan for Bluetooth devices and also pair with them. I also want it to have a Bluetooth server socket running in the background to await connection attempts. However, I keep running into the same exception when attempting to invoke the <code>BluetoothSocket.connect()</code> method. The exception is: </p>\n\n<pre><code>10-10 20:07:57.917 18643-27894/com.example.zemcd.toofxchange E/Pairing\u00a0Thread: error connecting\n\njava.io.IOException: read failed, socket might closed or timeout, read ret: -1\n\nat android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:754)\n\nat android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:766)\n\nat android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:388)\n\nat com.example.zemcd.toofxchange.PairingThread.run(BluetoothUtils.kt:83)\n</code></pre>\n\n<p>I read that this could be fixed with code similar to </p>\n\n<pre><code>btSocket = device.javaClass.getMethod(\"createRFcommSocket\", Int::class).invoke(device, 1) as BluetoothSocket \n</code></pre>\n\n<p>But this does not work. It causes the app to crash with a <code>ReflectException</code> caused by <code>NoSuchMethod</code>. Also I have read that this is not a published method for a reason and I would like to try to use the published <code>createRFcommSocketToServiceRecord()</code> method. I am unsure of where to go from here, or what exactly is causing the <code>IOException</code>. Also, I never even get to the pairing screen. I am trying to find what is the cause of this exception, and how to fix it. My code: </p>\n\n<pre><code>class BluetoothUtils {\n\ncompanion object {\n\n    val _UUID = UUID.fromString(\"a0e7e4c7-0e4e-43b7-9d18-659192512164\")\n    val TAG = \"BluetoothUtils\"\n\n    fun initPairingServer(adapter: BluetoothAdapter){\n        var mmServerSocket: BluetoothServerSocket? = null\n        try {\n            var tmp = adapter.listenUsingRfcommWithServiceRecord(TAG, _UUID)\n            mmServerSocket = tmp\n            ListenThread(mmServerSocket).start()\n        }catch (ioe: IOException){\n            Log.e(TAG, \"Error initializing Bluetooth\", ioe)\n        }\n    }\n\n    fun pair(adapter: BluetoothAdapter, device: BluetoothDevice){\n        var btSocket: BluetoothSocket? = null\n\n        try {\n            adapter.cancelDiscovery()\n            btSocket = device.createRfcommSocketToServiceRecord(_UUID)\n            PairingThread(btSocket).start()\n        }catch (ioe: IOException){\n            Log.e(TAG, \"error connecting\", ioe)\n        }\n    }\n\n}\n}\n\nclass ListenThread(val btServSock: BluetoothServerSocket) : Thread(){\n\ncompanion object {\n    val TAG = \"ListenThread\"\n}\n\nvar btSocket: BluetoothSocket? = null\n\noverride fun run() {\n    super.run()\n    while (true){\n        try {\n            Log.d(TAG, \"listening . . . \")\n            btSocket = btServSock.accept()\n        }catch (ioe: IOException){\n            Log.e(TAG, \"Error\", ioe) \n            break\n        }\n\n        //manage connection here\n        //with either BluetoothUtils function\n        //or BluetoothSocket extension\n    }\n}\n}\n\nclass PairingThread(val btSocket: BluetoothSocket) : Thread(){\n\ncompanion object {\n    val TAG = \"Pairing Thread\"\n}\n\noverride fun run() {\n    super.run()\n\n    try {\n        Log.d(TAG, \"attempting to connect\")\n        btSocket.connect()\n    }catch (ioe: IOException){\n        Log.e(TAG, \"error connecting\", ioe)\n        btSocket.close()\n    }\n}\n}\n</code></pre>\n\n<p>Please somebody help me find my problem. Could it be that I'm attempting to connect to a device that isn't using the same UUID? I am just trying to connect to my laptop. </p>\n"}, {"tags": ["kotlin", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1507714944, "post_id": 46676945, "comment_id": 80317453, "body": "I think you can use the <code>CoroutineContext</code>: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines.experimental/-coroutine-context/\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 7, "last_activity_date": 1507795465, "creation_date": 1507795465, "answer_id": 46704489, "question_id": 46676945, "link": "https://stackoverflow.com/questions/46676945/coroutine-local-variables-in-kotlin/46704489#46704489", "title": "&quot;coroutine local&quot; variables in kotlin", "body": "<p>If you are looking for <code>ThreadLocal</code> as a performance optimization, to make sure that each thread gets it own copy of some temporary object, then you should continue using <code>ThreadLocal</code> for that purpose. There can be much more coroutines than threads, and keeping a copy of some temporary object for each coroutine may do more harm than good.</p>\n\n<p>If you are looking for <code>ThreadLocal</code> as a way to pass some context around method invocation, then I strongly suggest to consider explicitly passing this context into your functions or using some dependency injection framework to do that.</p>\n\n<p>If you have a rare case where you indeed need to pass some context around, but for some technical reason you cannot pass it explicitly nor you can use DI (that is where you would have used <code>ThreadLocal</code> with threads), you can use <code>CoroutineContext</code> with coroutines. The steps are:</p>\n\n<p>Define your own coroutine context element class using the following template:</p>\n\n<pre><code>class MyContextElement : AbstractCoroutineContextElement(MyContextElement) {\n    companion object Key : CoroutineContext.Key&lt;MyContextElement&gt;\n    // you state/code is here\n}\n</code></pre>\n\n<p>Create an instance of your element and pass it to the coroutine builder when you start your coroutine. The following example uses <code>launch</code> coroutine builder, but it works with all of them (<code>async</code>, <code>produce</code>, <code>actor</code>, etc)</p>\n\n<pre><code>launch(MyContextElement()) {\n    // the code of your coroutine\n}\n</code></pre>\n\n<p>You can combine your context with other context elements using <code>+</code> operators (see <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#combining-contexts\" rel=\"noreferrer\">\"Combining Contexts\" in the guide</a> for details)</p>\n\n<p>From inside your coroutine code you can always retrieve your element from the <code>coroutineContext</code>. All the standard builders bring the <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental/-coroutine-scope/index.html\" rel=\"noreferrer\">CoroutineScope</a> instance into their scope, which makes its <code>coroutineContext</code> property available. If you are deep in the call stack of suspending functions, then you can define your own <code>coroutineContext()</code> helper function to retrieve the current context until it makes its way into the standard library in one of the future updates. See <a href=\"https://youtrack.jetbrains.com/issue/KT-17609\" rel=\"noreferrer\">KT-17609</a> for details.</p>\n\n<p>With the <code>coroutineScope</code> in hand, it is easy to retrieve your element:</p>\n\n<pre><code>val myElement = coroutineScope[MyContextElement]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1566308070, "creation_date": 1566308070, "answer_id": 57574935, "question_id": 46676945, "link": "https://stackoverflow.com/questions/46676945/coroutine-local-variables-in-kotlin/57574935#57574935", "title": "&quot;coroutine local&quot; variables in kotlin", "body": "<p>For those stumbling upon this question nowadays, it seems that the syntax has changed a bit:</p>\n\n<pre><code>class MyContextElement : AbstractCoroutineContextElement(MyContextElement), CoroutineContext.Element {\n    override val key = Key\n\n    companion object Key : CoroutineContext.Key&lt;KCallScope&gt;\n\n}\n</code></pre>\n\n<p>In order to be <code>CoroutineContext.Key</code> you now need to implement <code>CoroutineContext.Element</code>, which requires you to implement <code>key</code> getter.</p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2111, "favorite_count": 0, "accepted_answer_id": 46704489, "answer_count": 2, "score": 1, "last_activity_date": 1566308070, "creation_date": 1507674283, "last_edit_date": 1552981987, "question_id": 46676945, "link": "https://stackoverflow.com/questions/46676945/coroutine-local-variables-in-kotlin", "title": "&quot;coroutine local&quot; variables in kotlin", "body": "<p>Java has ThreadLocal variables that are nice for running parallel operations without stepping on other threads or per-loop allocations, for example OpenCV uses <code>videoCapture.retrieve(image)</code>, and \"image\" could be a threadlocal variable.</p>\n\n<p>Does Kotlin have any sense of \"coroutine-local\" variables?  If I wanted to take their counter example but have a counter per coroutine, how would I do that?</p>\n\n<pre><code>for (i in 1..1_000_000)\n    thread(start = true) {\n       c.addAndGet(i)\n    }\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 1, "last_activity_date": 1507666100, "creation_date": 1507666100, "answer_id": 46675118, "question_id": 46674924, "link": "https://stackoverflow.com/questions/46674924/convert-rxjava-code-to-kotlin-properly/46675118#46675118", "title": "Convert RxJava code to Kotlin properly", "body": "<p>You can update your code using safe npe and lambdas. Sometimes the code converted from java to kotlin needs some cosmetic touches.</p>\n\n<pre><code>  .subscribe(object : Consumer&lt;Long&gt; {\n                    @Throws(Exception::class)\n                    override fun accept(aLong: Long?) {\n                        cacheToInsertToDb!!.put(aLong!!.toString() + \"\", aLong)\n                        Log.d(\"Observable\", cacheToInsertToDb!!.values.toString())\n                    }\n                }, Consumer { }, Action { })\n</code></pre>\n\n<p>to </p>\n\n<pre><code>.subscribe(Consumer&lt;Long?&gt;{ aLong -&gt;\n                    cacheToInsertToDb?.put(aLong?.toString() ?: \"\", aLong)\n                    Log.d(\"Observable\", cacheToInsertToDb?.values.toString())\n\n            }, Consumer { }, Action { })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 1, "last_activity_date": 1507714372, "last_edit_date": 1507714372, "creation_date": 1507711199, "answer_id": 46683629, "question_id": 46674924, "link": "https://stackoverflow.com/questions/46674924/convert-rxjava-code-to-kotlin-properly/46683629#46683629", "title": "Convert RxJava code to Kotlin properly", "body": "<p>In kotlin you can replace interfaces implementations, having just one method, for a lambda expression (<a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">doc</a>).</p>\n\n<blockquote>\n  <p>Just like Java 8, Kotlin supports SAM conversions. This means that Kotlin function literals can be automatically converted into implementations of Java interfaces with a single non-default method, as long as the parameter types of the interface method match the parameter types of the Kotlin function.</p>\n</blockquote>\n\n<p>That gives you:</p>\n\n<pre><code>.subscribe(\n        { item: Long? -&gt;\n\n        },\n        { t: Throwable -&gt;\n\n        },\n        {//onComplete\n\n        })\n</code></pre>\n\n<p>also, depending if you are using RxJava2 (<a href=\"https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#nulls\" rel=\"nofollow noreferrer\">doc</a>): </p>\n\n<blockquote>\n  <p>RxJava 2.x no longer accepts null values and the following will yield\n  <code>NullPointerException</code> immediately or as a signal</p>\n</blockquote>\n\n<p>Because of that you are sure you are not receiving a null in your <code>onNext</code> and you can remove the safe-null check <code>?</code></p>\n\n<pre><code>.subscribe(\n        { item: Long -&gt;\n\n        },\n        { t: Throwable -&gt;\n\n        },\n        {//onComplete\n\n        })\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 46683629, "answer_count": 2, "score": 0, "last_activity_date": 1507714372, "creation_date": 1507665314, "last_edit_date": 1507711831, "question_id": 46674924, "link": "https://stackoverflow.com/questions/46674924/convert-rxjava-code-to-kotlin-properly", "title": "Convert RxJava code to Kotlin properly", "body": "<p>I am learning both Kotlin and RxJava. I hava such code in Java:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate HashMap&lt;String, Object&gt; cacheToInsertToDb;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    cacheToInsertToDb = new HashMap&lt;&gt;();\n\n    Observable.interval(1, TimeUnit.SECONDS)\n            .take(30) // up to 30 items\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(new Consumer&lt;Long&gt;() {\n                @Override\n                public void accept(Long aLong) throws Exception {\n                    cacheToInsertToDb.put(aLong+\"\", aLong);\n                    Log.d(\"Observable\", cacheToInsertToDb.values().toString());\n                }\n            }, new Consumer&lt;Throwable&gt;() {\n                @Override\n                public void accept(Throwable throwable) throws Exception {\n\n                }\n            }, new Action() {\n                @Override\n                public void run() throws Exception {\n\n                }\n            });\n\n    Observable.interval(10, TimeUnit.SECONDS)\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(new Consumer&lt;Long&gt;() {\n                @Override\n                public void accept(Long aLong) throws Exception {\n                    proceedVlues(cacheToInsertToDb.values());\n                    cacheToInsertToDb.clear();\n                    Log.d(\"CLEARED\", cacheToInsertToDb.values().toString());\n                }\n            }, new Consumer&lt;Throwable&gt;() {\n                @Override\n                public void accept(Throwable throwable) throws Exception {\n\n                }\n            }, new Action() {\n                @Override\n                public void run() throws Exception {\n\n                }\n            });\n\n}\n\nprivate void proceedVlues(Collection&lt;Object&gt; values) {\n        for(Object v: values){\n            if(v instanceof Long){\n                Log.d(\"proceedVlues\", v+\"\");\n            }\n        }\n   }\n}\n</code></pre>\n\n<p>However, when i convert it in AndroidStudio there is bunch of errors in IDE.</p>\n\n<p>Here it is this code in Kotlin, converted in Android Studio:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate var cacheToInsertToDb: HashMap&lt;String, Any&gt;? = null\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    cacheToInsertToDb = HashMap()\n\n    Observable.interval(1, TimeUnit.SECONDS)\n            .take(30) // up to 30 items\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(object : Consumer&lt;Long&gt; {\n                @Throws(Exception::class)\n                override fun accept(aLong: Long?) {\n                    cacheToInsertToDb!!.put(aLong!!.toString() + \"\", aLong)\n                    Log.d(\"Observable\", cacheToInsertToDb!!.values.toString())\n                }\n            }, Consumer { }, Action { })\n\n    Observable.interval(10, TimeUnit.SECONDS)\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(object : Consumer&lt;Long&gt; {\n                @Throws(Exception::class)\n                override fun accept(aLong: Long?) {\n                    proceedVlues(cacheToInsertToDb!!.values)\n                    cacheToInsertToDb!!.clear()\n                    Log.d(\"CLEARED\", cacheToInsertToDb!!.values.toString())\n                }\n            }, Consumer { }, Action { })\n\n}\n\nprivate fun proceedVlues(values: Collection&lt;Any&gt;) {\n    for (v in values) {\n        if (v is Long) {\n            Log.d(\"proceedVlues\", v.toString() + \"\")\n        }\n      }\n   }\n}\n</code></pre>\n\n<p>It gives me error underlining \"unresolved reference to @Throws\" and \"'accept' overrides nothig\". How can i convert that Java code properly to Kotlin? </p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1507666153, "post_id": 46674787, "comment_id": 80298588, "body": "I think I&#39;ve read somewhere that <code>javaClass</code> is to be considered deprecated, but I can&#39;t find it right now."}], "answers": [{"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1573990242, "post_id": 46675407, "comment_id": 104063675, "body": "Why then, I have to use on Android <code>::class.java</code> for the case of starting an Activity (example: <code>startActivity(Intent(context,SomeActivity::class.java)</code> )? After all, it goes to Java &quot;world&quot;, no?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 23, "last_activity_date": 1507723705, "last_edit_date": 1507723705, "creation_date": 1507667171, "answer_id": 46675407, "question_id": 46674787, "link": "https://stackoverflow.com/questions/46674787/instanceclass-java-vs-instance-javaclass/46675407#46675407", "title": "instance::class.java vs. instance.javaClass", "body": "<p>The difference in these two constructs is that, for an expression <code>foo</code> of static (declared or inferred) type <code>Foo</code>:</p>\n\n<ul>\n<li><p><code>foo.javaClass</code> is typed as <code>Class&lt;Foo&gt;</code></p></li>\n<li><p><code>foo::class.java</code> is typed as <code>Class&lt;out Foo&gt;</code></p></li>\n</ul>\n\n<p>In fact, the latter is more precise, because the actual value that <code>foo</code> evaluates to can be an instance of not <code>Foo</code> itself but one of its subtypes (and it's exactly what's denoted by the covariant <code>out Foo</code>).</p>\n\n<p>As @marstran correctly noted in the comment on the question, <code>.javaClass</code> once was considered to be deprecated (see the <a href=\"https://blog.jetbrains.com/kotlin/2017/02/kotlin-1-1-release-candidate-is-here/\" rel=\"noreferrer\">Kotlin 1.1 RC announcement</a>) because it can break type safety (see below), but it was afterwards left as-is because it was widely used and replacing it with the alternative of <code>::class.java</code> would require adding explicit unchecked casts in the code.</p>\n\n<p>Also, see the comments under this answer: <a href=\"https://stackoverflow.com/a/45782580/2196460\">(link)</a></p>\n\n<hr>\n\n<p>Please note that <code>Int.javaClass</code> does not denote the type of <code>Int</code> but instead is the Java class of the <code>Int</code>'s companion object. Whereas <code>Int::class.java</code> is an unbound class reference and denotes the type. To get it with <code>.javaClass</code>, you need to call it on an <code>Int</code> instance, e.g. <code>1.javaClass</code>.</p>\n\n<hr>\n\n<p>Here's how exactly <code>.javaClass</code> can break type safety. This code compiles but breaks at runtime:</p>\n\n<pre><code>open class Foo\n\nclass Bar : Foo() {\n    val baz: Int = 0\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val someFoo: Foo = Bar()\n    val anotherFoo: Foo = Foo()\n\n    val someFooProperty: KProperty1&lt;in Foo, *&gt; = // 'in Foo' is bad\n            someFoo.javaClass.kotlin.memberProperties.first()\n\n    val someValue = someFooProperty.get(anotherFoo)\n}\n</code></pre>\n\n<p><sup>This example uses <code>kotlin-reflect</code>.</sup></p>\n\n<p>That's because <code>someFooProperty</code> represents a property of <code>Bar</code>, not <code>Foo</code>, but since it was obtained from <code>someFoo.javaClass</code> (<code>Class&lt;Foo&gt;</code> then converted to <code>KClass&lt;Foo&gt;</code>) the compiler allows us to use it with the <code>in Foo</code> projection.</p>\n"}], "owner": {"reputation": 3030, "user_id": 443836, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6a1767f6664b99900d9f7d93be9a6dbe?s=128&d=identicon&r=PG", "display_name": "Marco Eckstein", "link": "https://stackoverflow.com/users/443836/marco-eckstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5085, "favorite_count": 6, "answer_count": 1, "score": 29, "last_activity_date": 1507723705, "creation_date": 1507664888, "question_id": 46674787, "link": "https://stackoverflow.com/questions/46674787/instanceclass-java-vs-instance-javaclass", "title": "instance::class.java vs. instance.javaClass", "body": "<p>Given Kotlin 1.1. For an <code>instance</code> of some class, <code>instance::class.java</code> and <code>instance.javaClass</code> seem to be nearly equivalent:</p>\n\n<pre><code>val i = 0\nprintln(i::class.java) // int\nprintln(i.javaClass) // int\nprintln(i::class.java === i.javaClass) // true\n</code></pre>\n\n<p>There is a subtle difference, however:</p>\n\n<pre><code>val c1: Class&lt;out Int&gt; = i::class.java\nval c2: Class&lt;Int&gt; = i.javaClass\n</code></pre>\n\n<p><code>instance.javaClass</code> is negligibly shorter, but <code>instance::class.java</code> is more consistent with the corresponding usage on a type. While you can use <code>.javaClass</code> on some types, the result may not be what you would expect:</p>\n\n<pre><code>println(i::class.java === Int::class.java) // true\nprintln(i.javaClass === Int.javaClass) // false\nprintln(Int::class.java === Int.javaClass) // false\nprintln(Int.javaClass) // class kotlin.jvm.internal.IntCompanionObject\n</code></pre>\n\n<p>So, I would argue that it is better to never use <code>.javaClass</code> for more consistency. Are there any arguments against that?</p>\n"}, {"tags": ["android", "kotlin", "lint"], "comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1507801908, "post_id": 46673195, "comment_id": 80359613, "body": "I think you should change the title of your question, because in the title and the body you ask two completely different things."}], "answers": [{"comments": [{"owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1507674429, "post_id": 46673626, "comment_id": 80302310, "body": "Thanks @tynn, data classes seems like the most appropriate option for this."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1507660448, "creation_date": 1507660448, "answer_id": 46673626, "question_id": 46673195, "link": "https://stackoverflow.com/questions/46673195/can-a-class-object-created-on-the-fly-in-kotlin-have-a-constructor/46673626#46673626", "title": "Can a class object created &quot;on the fly&quot; in Kotlin have a constructor?", "body": "<p>The usage of your <code>object</code> is done with reflections. The actual class has a constructor defined which has parameter <code>myFieldOne</code> to <code>myFieldThree</code>.</p>\n\n<p>For the sanity of your code, you should consider using a <em>data class</em> instead. <em>Kotlin</em> like <em>Java</em> is statically typed, which you should leverage as much as possible. The next step would then be to get rid of any reflections you don't need to do.</p>\n"}, {"comments": [{"owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1507727378, "post_id": 46688369, "comment_id": 80325718, "body": "Yep, <code>@Suppress(&quot;unused&quot;)</code> is part of lint optins I&#39;m not totally convinced to use."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1507731725, "post_id": 46688369, "comment_id": 80329117, "body": "@lalongooo ok, I see. But as my second paragraph suggests, there are cases in which you will have to use an object{} and thus the notation. I would not change my code design, just because I don&#39;t like a Lint warning which can be ignored. Lint can only know so much, it cannot guess your intention, that&#39;s why you use annotations &quot;to tell it&quot; to not bother you anymore with things you thought through."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1507731878, "post_id": 46688369, "comment_id": 80329236, "body": "@lalongooo so if you declare a data class and only use it once, I would rather use the object{}... if you use the data class twice, go with it instead"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1507725319, "creation_date": 1507725319, "answer_id": 46688369, "question_id": 46673195, "link": "https://stackoverflow.com/questions/46673195/can-a-class-object-created-on-the-fly-in-kotlin-have-a-constructor/46688369#46688369", "title": "Can a class object created &quot;on the fly&quot; in Kotlin have a constructor?", "body": "<p>I don't know what you mean by \"native way to get rid of it\" but there is an annotation for it:</p>\n\n<pre><code>val myObject = @Suppress(\"unused\") object {\n    @SerializedName(\"fieldOne\")\n    val fieldOne = myFieldOne\n    // ...\n}\n</code></pre>\n\n<p>Sure, you can create a data class, but there will be use-cases where anonymous singletons (<code>object {}</code>) are the better choice and then you will need this annotation to tell the static code analysis that this is desired and not by mistake.</p>\n"}], "owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "accepted_answer_id": 46673626, "answer_count": 2, "score": 0, "last_activity_date": 1507725319, "creation_date": 1507658835, "last_edit_date": 1507658880, "question_id": 46673195, "link": "https://stackoverflow.com/questions/46673195/can-a-class-object-created-on-the-fly-in-kotlin-have-a-constructor", "title": "Can a class object created &quot;on the fly&quot; in Kotlin have a constructor?", "body": "<p>I create an object like this in Kotlin and pass it to my method:</p>\n\n<pre><code>    val myObject = object {\n\n        @SerializedName(\"fieldOne\")\n        val fieldOne = myFieldOne\n\n        @SerializedName(\"fieldTwo\")\n        val fieldTwo = myFieldTwo\n\n        @SerializedName(\"fieldThree\")\n        val fieldThree = myFieldThree\n    }\n\n    dbManager.save(myObject) // this works fine\n</code></pre>\n\n<p>However, Android Studio complains about it and says:</p>\n\n<blockquote>\n  <p>Property ''fieldOne'' is never used</p>\n</blockquote>\n\n<p>I know I could remove this warning via lint options, but would like to find a \"native\" way to get rid of this warning.</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3275, "user_id": 2087473, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1bff9ff793657961c911aca9a2e6da3?s=128&d=identicon&r=PG", "display_name": "Ripster", "link": "https://stackoverflow.com/users/2087473/ripster"}, "is_accepted": true, "score": 2, "last_activity_date": 1507656658, "creation_date": 1507656658, "answer_id": 46672619, "question_id": 46672242, "link": "https://stackoverflow.com/questions/46672242/noclassdeffounderror-at-runtime/46672619#46672619", "title": "NoClassDefFoundError at runtime", "body": "<p>I had a class in another file named <code>PdfFile</code> and in Linux since the file system is case sensitive it did not have any issue with this. In windows <code>PDFFile.class</code> and <code>PdfFile.class</code> are the same thing and thus one did not properly end up in the jar file.</p>\n"}], "owner": {"reputation": 3275, "user_id": 2087473, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1bff9ff793657961c911aca9a2e6da3?s=128&d=identicon&r=PG", "display_name": "Ripster", "link": "https://stackoverflow.com/users/2087473/ripster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 46672619, "answer_count": 1, "score": 2, "last_activity_date": 1507656658, "creation_date": 1507655260, "last_edit_date": 1507656386, "question_id": 46672242, "link": "https://stackoverflow.com/questions/46672242/noclassdeffounderror-at-runtime", "title": "NoClassDefFoundError at runtime", "body": "<p>I'm receiving error \"NoClassDefFoundError\" at runtime after building my project using <code>gradle build</code>.  </p>\n\n<p>The program does start and everything seems to be working until it gets to a point where it is supposed to read some pdf files and then I receive a class not found exception. When I debug my application in intellij everything is working correctly.  </p>\n\n<p>When I unzip the jar file I do see that there is not a <code>PDFFile.class</code> included. Oddly enough when I build the same project on Linux I do not have this issue.</p>\n\n<pre><code>java.lang.NoClassDefFoundError: PDFFile\n    at PDFViewModel$loadPdfList$1.invoke(GUI.kt:107)\n    at PDFViewModel$loadPdfList$1.invoke(GUI.kt:87)\n    at tornadofx.FXTask.call(Lib.kt:219)\n    at javafx.concurrent.Task$TaskCallable.call(Task.java:1423)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: PDFFile\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 6 more\n</code></pre>\n\n<p>I do have PDFFile defined.</p>\n\n<pre><code>data class PDFFile(val path: String, val name: String, var pages: Int?, var progress: Int?)\n\nclass PDFViewModel : ItemViewModel&lt;PDFFile&gt;() {\n    val pdfFiles = SimpleObjectProperty&lt;ObservableList&lt;PDFFile&gt;&gt;()\n    private val files = mutableListOf&lt;PDFFile&gt;()\n\n    fun loadPdfList() {\n        files.clear()\n        val pdfPath = File(cfg.getProperty(\"pdf_path\"))\n\n        if (pdfPath.isDirectory) {\n            val pdfList = pdfPath.listFiles().filter { FilenameUtils.getExtension(it.name).toLowerCase() == \"pdf\" }\n            runAsync {\n                // Set progress to 0 just in case directory is empty\n                updateProgress(0.0, 1.0)\n                if (pdfList.isNotEmpty()) {\n                    pdfList.forEachIndexed { index, file -&gt;\n                        updateMessage(\"Loading ${file.name}\")\n                        // Load basic data about pdf files\n                        PDDocument.load(file.absoluteFile).use { document -&gt;\n                            files.add(PDFFile(file.absolutePath,\n                                    file.nameWithoutExtension,\n                                    document.numberOfPages,\n                                    0))\n                            updateProgress((index + 1.0), pdfList.size.toDouble())\n                        }\n                    }\n                }\n            } ui {\n                pdfFiles.set(files.observable())\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And in my gradle.build file I have added:</p>\n\n<pre><code>jar {\n    manifest {\n        attributes 'Implementation-Version': version,\n                'Main-Class': 'PDFStripApp'\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1507651029, "post_id": 46670982, "comment_id": 80290514, "body": "Kotlin compiles to Java 6 by default, which doesn&#39;t have LocalDateTime. You need to set it to Java 8"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1507651804, "post_id": 46670982, "comment_id": 80290971, "body": "@D3xter, as far as I can tell, you don&#39;t need to set the JDK 8 target to use the class; just compiling against JDK 8+ is enough."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1507651656, "last_edit_date": 1592644375, "creation_date": 1507651656, "answer_id": 46671219, "question_id": 46670982, "link": "https://stackoverflow.com/questions/46670982/localdatetime-in-intellij-idea-kotlin-shows-as-unresolved-reference/46671219#46671219", "title": "LocalDateTime in IntelliJ IDEA Kotlin shows as unresolved reference", "body": "<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> class has only been introduced in Java SE 8, so you need to compile your project against JDK 8 or newer.</p>\n<p>Make sure that:</p>\n<ul>\n<li><p>You have an installed JDK 8 or newer;</p>\n</li>\n<li><p>Your project is compiled against this JDK 8+.</p>\n<p>(In IntelliJ IDEA, <kbd>Ctrl</kbd>/<kbd>\u2318</kbd>+<kbd>Shift</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd> \u2192 <em>Project</em> \u2192 <em>Project SDK</em>; other build systems should be set up separately)</p>\n</li>\n</ul>\n<p>With the JDK configured correctly, the code should run fine as-is: <a href=\"https://try.kotlinlang.org/#/UserProjects/23kipl1rri4aj64shfhcq3ssf5/pfe7go028ml0t68gehnvn9vvo7\" rel=\"nofollow noreferrer\">(demo)</a></p>\n"}], "owner": {"reputation": 557, "user_id": 3207230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c3accb7961f15f3a907a8841783978cf?s=128&d=identicon&r=PG&f=1", "display_name": "user3207230", "link": "https://stackoverflow.com/users/3207230/user3207230"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 894, "favorite_count": 0, "accepted_answer_id": 46671219, "answer_count": 1, "score": 2, "last_activity_date": 1507651656, "creation_date": 1507650935, "question_id": 46670982, "link": "https://stackoverflow.com/questions/46670982/localdatetime-in-intellij-idea-kotlin-shows-as-unresolved-reference", "title": "LocalDateTime in IntelliJ IDEA Kotlin shows as unresolved reference", "body": "<p>java.time seems to be missing entirely. The code I'm trying it in is a simple </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(LocalDateTime.now())\n}\n</code></pre>\n\n<p>Seems like I am missing something fundamental, but all I have been doing is following along in a tutorial and it just worked for the tutor.</p>\n"}, {"tags": ["inheritance", "kotlin", "data-class"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 14, "last_activity_date": 1507650549, "creation_date": 1507650549, "answer_id": 46670868, "question_id": 46670757, "link": "https://stackoverflow.com/questions/46670757/kotlin-how-to-inherit-property-in-data-class/46670868#46670868", "title": "Kotlin: How to inherit property in data class", "body": "<p>There are at least two workarounds:</p>\n\n<ul>\n<li><p>Make the property <code>open</code> and <a href=\"https://kotlinlang.org/docs/reference/classes.html#overriding-properties\" rel=\"noreferrer\">override</a> it in the data class primary constructor declaration:</p>\n\n<pre><code>abstract class Token(open var index: Int = 0)\n\ndata class CloseLoop(\n    override var index: Int, \n    var openLoopIndex: Int = 0\n) : Token(index)\n</code></pre></li>\n<li><p>Declare a property with another name and initialize the base class with it:</p>\n\n<pre><code>data class CloseLoop(val theIndex: Int, var openLoopIndex: Int = 0) : Token(theIndex)\n</code></pre>\n\n<p><sup>Make it <code>private</code> if you find it appropriate.</sup></p></li>\n</ul>\n"}], "owner": {"reputation": 286, "user_id": 6513649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf003438eb6ddaccfda28664114f205b?s=128&d=identicon&r=PG&f=1", "display_name": "Yarick", "link": "https://stackoverflow.com/users/6513649/yarick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5618, "favorite_count": 2, "accepted_answer_id": 46670868, "answer_count": 1, "score": 6, "last_activity_date": 1507650549, "creation_date": 1507650150, "question_id": 46670757, "link": "https://stackoverflow.com/questions/46670757/kotlin-how-to-inherit-property-in-data-class", "title": "Kotlin: How to inherit property in data class", "body": "<p>I have abstract Token class declared like this:</p>\n\n<pre><code>abstract class Token(var index: Int = 0) {\nopen fun merge(toMerge: Token): Token? {\n    return null\n    }\n}\n</code></pre>\n\n<p>I want to inherit index property in data class, like this:</p>\n\n<pre><code>data class CloseLoop(index: Int, var openLoopIndex: Int = 0) : Token(index)\n</code></pre>\n\n<p>But it gives me error <code>Data class primary constructor must have only property (val / var) parameters</code></p>\n\n<p>What i have to do to fix this?</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin", "swipe"], "comments": [{"owner": {"reputation": 46728, "user_id": 557179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7KJPr.jpg?s=128&g=1", "display_name": "Nikola Despotoski", "link": "https://stackoverflow.com/users/557179/nikola-despotoski"}, "edited": false, "score": 3, "creation_date": 1507644471, "post_id": 46668822, "comment_id": 80286136, "body": "No, 100 fragments is totally fine. <code>ViewPager</code> will always keep at least 3 loaded pages at time, you can configure it for more too. Also you can  implement pagination to load specific number of news, like 20, then another 20, etc."}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507646892, "post_id": 46668822, "comment_id": 80287843, "body": "Another option could be a RecyclerView with a HorizontalLayoutManager such as in this answer : <a href=\"https://stackoverflow.com/a/28460399/4232337\">stackoverflow.com/a/28460399/4232337</a>  This, of course, would be less interesting if you&#39;re looking to have the &quot;snap&quot; behavior that the ViewPager provides"}], "answers": [{"tags": [], "owner": {"reputation": 4732, "user_id": 5250273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/aKEvO.jpg?s=128&g=1", "display_name": "Ugurcan Yildirim", "link": "https://stackoverflow.com/users/5250273/ugurcan-yildirim"}, "is_accepted": true, "score": 3, "last_activity_date": 1507646135, "creation_date": 1507646135, "answer_id": 46669441, "question_id": 46668822, "link": "https://stackoverflow.com/questions/46668822/how-to-do-a-swipe-information-activity/46669441#46669441", "title": "How to do a &quot;swipe information&quot; activity?", "body": "<p>You can use <code>ViewPager</code> for that. Having 100 fragments inside is totally fine because <code>ViewPager</code> will only load as much  as you set using <code>setOffscreenPageLimit(pageLimit)</code>. For instance, if you set <code>pageLimit = 3</code>, <code>ViewPager</code> will only initialize 3 (up to 6) neighbour fragments that are on the right/left side of your currently visible fragment. And while you're swiping through fragments, it will kill the fragments that are out of this limit, and load new ones. So, there will be no overkill.</p>\n"}], "owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "accepted_answer_id": 46669441, "answer_count": 1, "score": 2, "last_activity_date": 1507646135, "creation_date": 1507644279, "question_id": 46668822, "link": "https://stackoverflow.com/questions/46668822/how-to-do-a-swipe-information-activity", "title": "How to do a &quot;swipe information&quot; activity?", "body": "<p>In my project I have an Activity that loads a list of news. When the list is loaded, this Activity is populated with the information of the first item on the list:</p>\n\n<p><a href=\"https://i.stack.imgur.com/18ppU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/18ppU.png\" alt=\"enter image description here\"></a></p>\n\n<p>But since this loads all the news from the server, I want the user to be able to swap the news with his finger. For example: we start with news[0] and user swipe left, the content change to news[1]. The user swipe left again and the content changes to news[2] and so on... if the user swipes right, then it return to the previous news (news[1]). The header should not have a swipe movement, only the main frame (image and body should change):</p>\n\n<p><a href=\"https://i.stack.imgur.com/4YO70.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4YO70.png\" alt=\"enter image description here\"></a></p>\n\n<p>What would be the best aproach for this behavior? I was thinking about using a TabLayout with ViewPager but I'm not sure if this is the correct way to do this. If I have something like 100 news this could be a overkill to load 100 fragments in the ViewPager right?</p>\n\n<p>Does android have a better way to do this? How should I do this?</p>\n"}, {"tags": ["view", "android-recyclerview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1507650891, "post_id": 46670663, "comment_id": 80290406, "body": "Isn&#39;t that what                      event_recycle.adapter = MyEventAdapter(context,eventList0) Is saying.."}], "tags": [], "owner": {"reputation": 51, "user_id": 7364867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba1f5a03ef6c7f9a75d1176781571bc2?s=128&d=identicon&r=PG&f=1", "display_name": "Ganger", "link": "https://stackoverflow.com/users/7364867/ganger"}, "is_accepted": false, "score": 2, "last_activity_date": 1513702996, "last_edit_date": 1513702996, "creation_date": 1507649717, "answer_id": 46670663, "question_id": 46667702, "link": "https://stackoverflow.com/questions/46667702/i-just-cant-seem-to-get-my-kotlin-recycler-multiple-view-code-sorted-out/46670663#46670663", "title": "I just can&#39;t seem to get my Kotlin Recycler Multiple View Code sorted out", "body": "<p>call your <code>RecyclerViewAdapter</code> class in <code>override fun onViewCreated</code> in your <code>Fragment</code></p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    val recyclerView=view?.findViewById(R.id.your_recycler_view) as RecyclerView\n    recyclerView.layoutManager=LinearLayoutManager(context, LinearLayout.VERTICAL,false)\n    var yourData=ArrayList&lt;YourDataClass&gt;()\n    yourData.add(YourDataClass(\"passYourData\"))\n\n\n    val yourAdapterClassVariableName=YourRecyclerViewAdapterClass(yourData)\n    recyclerView.adapter=yourAdapterClassVariableName\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 746, "user_id": 1496693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WB16i.jpg?s=128&g=1", "display_name": "airowe", "link": "https://stackoverflow.com/users/1496693/airowe"}, "is_accepted": false, "score": 0, "last_activity_date": 1507664907, "creation_date": 1507664907, "answer_id": 46674796, "question_id": 46667702, "link": "https://stackoverflow.com/questions/46667702/i-just-cant-seem-to-get-my-kotlin-recycler-multiple-view-code-sorted-out/46674796#46674796", "title": "I just can&#39;t seem to get my Kotlin Recycler Multiple View Code sorted out", "body": "<p>You need to <a href=\"https://stackoverflow.com/a/30581896/1496693\">set your adapter in the UI thread</a>. Initialize your adapter first, then add the data to it and call adapter.notifyDataSetChanged().</p>\n\n<p>I'd also direct you to <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlin extensions</a> (importing synthetic properties section) so you don't have to call that messy findViewById call anymore.</p>\n"}, {"tags": [], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "is_accepted": false, "score": 0, "last_activity_date": 1507820023, "creation_date": 1507820023, "answer_id": 46712736, "question_id": 46667702, "link": "https://stackoverflow.com/questions/46667702/i-just-cant-seem-to-get-my-kotlin-recycler-multiple-view-code-sorted-out/46712736#46712736", "title": "I just can&#39;t seem to get my Kotlin Recycler Multiple View Code sorted out", "body": "<p>Please see the top for the solution to this issue... was an issue of getting the right types into the right rows.</p>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1513702996, "creation_date": 1507641225, "last_edit_date": 1507819976, "question_id": 46667702, "link": "https://stackoverflow.com/questions/46667702/i-just-cant-seem-to-get-my-kotlin-recycler-multiple-view-code-sorted-out", "title": "I just can&#39;t seem to get my Kotlin Recycler Multiple View Code sorted out", "body": "<p>So I know this is code heave but I'm having issues getting my RecyclerView in a Fragment sorted out. i've read a bunch of tutorial and everyone seems to have a different way of doing things. Just not able to nail it down...So here is my code:</p>\n\n<p><strong>FRAGMENT XML</strong></p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.xxxx.listview.CalendarFragment\"&gt;    \n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/event_recycle\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:scrollbars=\"horizontal\" /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p><strong>DATA CLASS</strong></p>\n\n<pre><code>data class SectionOrRow(var needTicketing:String?,var eventSponsor:String?,var eventED:String?,var eventSD:String?,var eventTitle:String?,var mysectionName:String?,var isRow:Boolean){\n\n    companion object {\n\n        public fun createRow(row: String): Unit {\n           // val ret = SectionOrRow()\n         //   return ret\n        }\n\n        public fun createSection(section: String): Unit {\n           // val ret = SectionOrRow(null,section,false)\n           // return ret\n        }\n    }\n}\n</code></pre>\n\n<p><strong>FRAGMENT CLASS</strong></p>\n\n<pre><code>package com.example.XXX.listview\n\n\n\n\nclass CalendarFragment : Fragment() {\n    lateinit var eventInfo: JsonArray&lt;JsonObject&gt;\n    lateinit var event2Info: JsonArray&lt;JsonObject&gt;\n    val eventList0 = ArrayList&lt;SectionOrRow&gt;()    \n    val TAG : String= \"CalendarFragment\"\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n        val view : View = inflater.inflate(R.layout.fragment_calendar,container,false)\n        (activity as MainActivity).getSupportActionBar()?.setTitle(\"Medfield Calendar\")\n        var event_recycle:RecyclerView = view.findViewById(R.id.event_recycle)\n\n\n        var myUrl:String = \"https://www.nosite.com/functions/API/eventsJSON2.php?zip_code=02052\"\n        myUrl.httpGet().responseString { request, response, result -&gt;\n            //do something with response\n            when (result){\n                is Result.Failure -&gt; {\n                    Log.d(\"Towns\",result.toString())\n                    val error = result.getAs&lt;String&gt;()\n                    Log.d(\"Towns error \",error)\n                }\n                is Result.Success -&gt; {\n\n                    val data = result.getAs&lt;String&gt;()\n                    val events : Parser = Parser()\n                    val eventBuilder: StringBuilder  = StringBuilder(data)\n                    val eventsjson = events.parse(eventBuilder) as JsonObject\n\n                    Log.d(\"JOO\",eventsjson.toString())\n\n                    var eventList0 = ArrayList&lt;SectionOrRow&gt;()\n\n\n                    eventInfo  = eventsjson.array(\"events\")!!\n\n                    Log.d(\"length array\",this.eventInfo.size.toString())\n                    if(this.eventInfo.size&lt;2){\n                        Toast.makeText(context,\"There are no categories for this town...\", Toast.LENGTH_LONG).show()\n                    }else{\n\n                        Log.d(\"type\",this.eventInfo.javaClass.name) // kotlin.Double\n                        for (i in eventInfo.indices){\n\n\n\n                            //Log.d(\"Loops\"+i.toString(),eventInfo[i].string(\"category\"))\n                            //Log.d(\"Loops\"+i.toString(),eventInfo[i].string(\"events2\"))\n                            var theCat = eventInfo[i].string(\"category\")\n                            eventList0.add(SectionOrRow(null,null,null,null,null,theCat,false))\n\n\n                            var theEvents:JsonArray&lt;JsonObject&gt;? = eventInfo[i].array(\"events2\")\n                            Log.d(\"MSG1\",\"IS category header\"+theCat)\n                            theEvents?.let{\n                                for(x in theEvents.indices){\n                                    val needT: String? = theEvents[x].string(\"news_needsticketing\")\n                                    val eventSpon: String? = theEvents[x].string(\"news_sponsor\")\n                                    val startD: String? = theEvents[x].string(\"news_start_date\")\n                                    val endD: String? = theEvents[x].string(\"news_expiration\")\n                                    val newsT: String? = theEvents[x].string(\"news_tile\")\n\n                                    eventList0.add(SectionOrRow(needT,eventSpon,endD,startD,newsT,theCat,true))\n                                }\n                                Log.d(\"MSG2\",\"Are Events\")\n                            }\n\n                            //eventList0.add(SectionOrRow.createRow(\"City\"))\n                        }\n\n\n                    }\n\n                    event_recycle.layoutManager = LinearLayoutManager(context)\n                    event_recycle.hasFixedSize()\n                    event_recycle.adapter = MyEventAdapter(context,eventList0)\n                    Log.d(\"All Size First\",eventList0.size.toString())\n\n\n\n                    //Log.d(\"FN\",nextOne.toString())\n                    // myview.textView3.setText(Html.fromHtml(ownerMessage,Html.FROM_HTML_MODE_LEGACY))\n                    //myview.textView3.setText(myCS)\n\n                }\n            }\n        }\n\n        // Inflate the layout for this fragment\n        return view\n\n    }\n\n    inner class MyEventAdapter(context: Context,val theEvents:ArrayList&lt;SectionOrRow&gt;):RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;(){\n\n        override fun getItemViewType(position: Int): Int {\n            if(theEvents[position].isRow){\n                return 0\n            }else{\n                return 1\n            }\n\n\n        }\n\n        override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n            val item = theEvents.get(position)\n\n            if(item.isRow){\n                val h = holder as RowViewHolder\n                h.textView.setText(item.mysectionName)\n            }else{\n                val h = holder as SectionViewHolder\n                h.textView.setText(item.eventSD)\n            }\n\n        }\n\n\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder? {\n\n            if(viewType==0) {\n                val v = LayoutInflater.from(parent.context).inflate(R.layout.calendar_row, parent, false)\n                return RowViewHolder(v)\n            }\n\n            if(viewType==1){\n                val v = LayoutInflater.from(parent.context).inflate(R.layout.calendar_section, parent, false)\n                return SectionViewHolder(v)\n            }\n            return null\n        }\n\n        override fun getItemCount(): Int {\n                Log.d(\"All Size\",theEvents.size.toString())\n                return theEvents.size\n        }\n\n\n        inner class RowViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n            val textView: TextView\n\n            init {\n                textView = itemView.findViewById&lt;View&gt;(R.id.sectionHead) as TextView\n            }\n        }\n\n        inner class SectionViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n            val textView: TextView\n\n            init {\n                textView = itemView.findViewById&lt;View&gt;(R.id.dateOfEvent) as TextView\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>The error which I'm getting it that:  </p>\n\n<p>10-10 09:12:49.239 32612-32612/com.example.xxxx.listview E/RecyclerView: No adapter attached; skipping layout</p>\n\n<p>SO it appears that I'm not able to attach the adapter to the recycler view. sure there are other errors but this is problem one ;)</p>\n\n<p><strong>SOLUTION</strong></p>\n\n<pre><code> inner class MyEventAdapter(context: Context,val theEvents:ArrayList&lt;SectionOrRow&gt;):RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;(){\n\n        override fun getItemViewType(position: Int): Int {\n            Log.d(\"Current Boolean\",theEvents[position].isRow.toString())\n\n            if(theEvents[position].isRow){\n                //true is row\n                return 1\n            }else{\n                return 0\n            }\n\n\n        }\n\n        override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n            val item = theEvents.get(position)\n            Log.d(\"Current Item\",item.toString())\n\n            if(item.isRow){\n                val h = holder as RowViewHolder\n\n                val s = java.text.SimpleDateFormat(\"EEE\\nMM/dd\")\n                val format = s.format(Integer.parseInt(item.eventSD) * 1000L)\n\n                h.textView.setText(format)\n                Log.d(\"Current Title\",item.eventTitle.toString())\n\n                h.titleView.setText(item.eventTitle)\n                h.datesView.setText(item.eventED)\n                h.sponsorView.setText(item.eventSponsor)\n                if(item.needTicketing==\"Y\") {\n                    h.ticketView.setText(\"Ticketing Available\")\n                }else{\n                    h.ticketView.setText(\"\")\n\n                }\n            }else{\n                val h = holder as SectionViewHolder\n                h.textView.setText(item.mysectionName)\n            }\n\n        }\n\n\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder? {\n\n            if(viewType==1) {\n                val v = LayoutInflater.from(parent.context).inflate(R.layout.calendar_row, parent, false)\n\n                v.setOnClickListener(object: View.OnClickListener {\n                    override fun onClick(p0: View?) {\n                        Toast.makeText(\n                                v.context,\n                                \"Please Click Set Town to Return to Previous Screen....\",\n                                Toast.LENGTH_SHORT\n                        ).show()\n\n                    }\n                })\n                return RowViewHolder(v)\n            }\n\n            if(viewType==0){\n                val v = LayoutInflater.from(parent.context).inflate(R.layout.calendar_section, parent, false)\n                return SectionViewHolder(v)\n            }\n            return null\n        }\n\n        override fun getItemCount(): Int {\n                Log.d(\"All Size\",theEvents.size.toString())\n                return theEvents.size\n        }\n\n\n        inner class RowViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n            var textView: TextView\n            var titleView: TextView\n            var datesView: TextView\n            var sponsorView: TextView\n            var ticketView: TextView\n\n            init {\n                textView = itemView.findViewById&lt;View&gt;(R.id.dateOfEvent) as TextView\n                titleView = itemView.findViewById&lt;View&gt;(R.id.rowTitle) as TextView\n                datesView = itemView.findViewById&lt;View&gt;(R.id.rowDates) as TextView\n                sponsorView = itemView.findViewById&lt;View&gt;(R.id.rowSponsor) as TextView\n                ticketView = itemView.findViewById&lt;View&gt;(R.id.rowTicketing) as TextView\n\n            }\n        }\n\n        inner class SectionViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n            var textView: TextView\n            init {\n                textView = itemView.findViewById&lt;View&gt;(R.id.sectionHead) as TextView\n            }\n        }\n\n\n\n    }\n</code></pre>\n"}, {"tags": ["android", "imageview", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1507637106, "post_id": 46666308, "comment_id": 80280810, "body": "You can copy paste this code in your Kotlin file in Android Studio and it will get converted to Kotlin."}], "answers": [{"comments": [{"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 1, "creation_date": 1536405480, "post_id": 46666363, "comment_id": 91418127, "body": "Note: AFAIK PNG is lossless and quality parameter has no effect"}], "tags": [], "owner": {"reputation": 928, "user_id": 5052133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RxBmEJAEu8Q/AAAAAAAAAAI/AAAAAAAAAAA/6fyGasyBm7s/photo.jpg?sz=128", "display_name": "Muzammil Husnain", "link": "https://stackoverflow.com/users/5052133/muzammil-husnain"}, "is_accepted": true, "score": 10, "last_activity_date": 1507637184, "creation_date": 1507637184, "answer_id": 46666363, "question_id": 46666308, "link": "https://stackoverflow.com/questions/46666308/how-to-convert-imageview-to-bytearray-in-kotlin/46666363#46666363", "title": "How to convert imageview to bytearray in kotlin", "body": "<p>Here it is use java to kotlin converter.</p>\n\n<pre><code>val bitmap = (image.getDrawable() as BitmapDrawable).getBitmap()\nval stream = ByteArrayOutputStream()\nbitmap.compress(Bitmap.CompressFormat.PNG, 90, stream)\nval image = stream.toByteArray()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "is_accepted": false, "score": 1, "last_activity_date": 1507637657, "creation_date": 1507637657, "answer_id": 46666509, "question_id": 46666308, "link": "https://stackoverflow.com/questions/46666308/how-to-convert-imageview-to-bytearray-in-kotlin/46666509#46666509", "title": "How to convert imageview to bytearray in kotlin", "body": "<p>This may help you, </p>\n\n<pre><code>private fun imageToBitmap(image: ImageView): ByteArray {\n    val bitmap = (image.drawable as BitmapDrawable).bitmap\n    val stream = ByteArrayOutputStream()\n    bitmap.compress(Bitmap.CompressFormat.PNG, 90, stream)\n\n    return stream.toByteArray()\n}\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 7625533, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHjdqUUBKM0/AAAAAAAAAAI/AAAAAAAAABM/ZFvamrKQ_I8/photo.jpg?sz=128", "display_name": "Best  Best", "link": "https://stackoverflow.com/users/7625533/best-best"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9968, "favorite_count": 1, "accepted_answer_id": 46666363, "answer_count": 2, "score": 0, "last_activity_date": 1507637657, "creation_date": 1507637019, "question_id": 46666308, "link": "https://stackoverflow.com/questions/46666308/how-to-convert-imageview-to-bytearray-in-kotlin", "title": "How to convert imageview to bytearray in kotlin", "body": "<p>How to convert imageview to bytearray kotlin android</p>\n\n<p>In java</p>\n\n<pre><code>Bitmap bitmap = ((BitmapDrawable)image.getDrawable()).getBitmap();\nByteArrayOutputStream stream=new ByteArrayOutputStream();\nbitmap.compress(Bitmap.CompressFormat.PNG, 90, stream);\nbyte[] image=stream.toByteArray();\n\nreturn image\n</code></pre>\n"}, {"tags": ["kotlin", "corda"], "comments": [{"owner": {"reputation": 1526, "user_id": 7317458, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da7f828a1923ba40798db5f91fb961ca?s=128&d=identicon&r=PG", "display_name": "fay", "link": "https://stackoverflow.com/users/7317458/fay"}, "edited": false, "score": 0, "creation_date": 1603114014, "post_id": 46664985, "comment_id": 113925483, "body": "i am facing a similar use case, can you give me some information on how you ended up achieving this?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 8445167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16946b0ea2ff8ba6bdfb66320975b065?s=128&d=identicon&r=PG&f=1", "display_name": "got2817 dev", "link": "https://stackoverflow.com/users/8445167/got2817-dev"}, "edited": false, "score": 0, "creation_date": 1508736110, "post_id": 46794008, "comment_id": 80711990, "body": "Thanks for that explanation.. can you please point out an example of this?..does the demo bench implement it in the same way?"}, {"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "reply_to_user": {"reputation": 41, "user_id": 8445167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16946b0ea2ff8ba6bdfb66320975b065?s=128&d=identicon&r=PG&f=1", "display_name": "got2817 dev", "link": "https://stackoverflow.com/users/8445167/got2817-dev"}, "edited": false, "score": 0, "creation_date": 1508747579, "post_id": 46794008, "comment_id": 80717229, "body": "Yes, DemoBench does something similar. You can see the source code here: <a href=\"https://github.com/corda/corda/tree/release-V1/tools/demobench\" rel=\"nofollow noreferrer\">github.com/corda/corda/tree/release-V1/tools/demobench</a>. If you start a node in the DemoBench, it will show the location of the node&#39;s logs in the start-up window. If you go to this folder, you&#39;ll see that each node is simply a collection of the files described above, along with some other files. The only difference is that all nodes share a corda.jar, instead of having their own."}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 3, "last_activity_date": 1508254784, "creation_date": 1508254784, "answer_id": 46794008, "question_id": 46664985, "link": "https://stackoverflow.com/questions/46664985/deploy-and-run-nodes-dynamically-in-corda/46794008#46794008", "title": "Deploy and run nodes dynamically in CORDA", "body": "<p>A node is essentially a folder containing two things:</p>\n\n<ul>\n<li>A <code>node.conf</code> file</li>\n<li>A <code>corda.jar</code> file</li>\n</ul>\n\n<p>There are other things it may need (certificates if not in dev mode) or want (<code>corda-webserver</code> if you want it to offer an API, a plugins folder with CorDapps that you want it to load), but the two items above are sufficient.</p>\n\n<p>When you run <code>deployNodes</code> locally, it creates a set of node folders containing these things. \"Running a node\" is equivalent to running <code>java -jar corda.jar</code> on a <code>corda.jar</code> file in a folder where a valid <code>node.conf</code> file is also present.</p>\n\n<p>If you can collect the parameters for a valid <code>node.conf</code> file via a front-end or auto-generate them, then all you need to do on the server is:</p>\n\n<ul>\n<li>Create a new folder</li>\n<li>Generate a <code>node.conf</code> file and save it to the folder</li>\n<li>Copy a <code>corda.jar</code> file to that folder</li>\n<li>Start a <code>corda.jar</code> process in that folder</li>\n</ul>\n"}], "owner": {"reputation": 41, "user_id": 8445167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16946b0ea2ff8ba6bdfb66320975b065?s=128&d=identicon&r=PG&f=1", "display_name": "got2817 dev", "link": "https://stackoverflow.com/users/8445167/got2817-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1508254784, "creation_date": 1507632963, "question_id": 46664985, "link": "https://stackoverflow.com/questions/46664985/deploy-and-run-nodes-dynamically-in-corda", "title": "Deploy and run nodes dynamically in CORDA", "body": "<p>We have a use case in which we have to deploy and start a node at runtime on button click from a web page. The same way as it working in CORDA's demo bench. Can someone please point out to an example or an explanation for achieving this?</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "android-room", "android-architecture-components"], "owner": {"reputation": 1156, "user_id": 1649917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98f36daa955c06085670a76a55a246a6?s=128&d=identicon&r=PG&f=1", "display_name": "nmu", "link": "https://stackoverflow.com/users/1649917/nmu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 712, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1519990380, "creation_date": 1507629389, "last_edit_date": 1519990380, "question_id": 46663834, "link": "https://stackoverflow.com/questions/46663834/using-android-room-to-get-the-maximum-result-of-another-table", "title": "Using android Room to get the maximum result of another table", "body": "<p>In the room documentation there is this example of how to use <code>@Relation</code> to get all 'Users' and all 'Pets'</p>\n\n<pre><code>public class User {\n     int id;\n     // other fields\n }\n public class PetNameAndId {\n     int id;\n     String name;\n }\n public class UserAllPets {\n   @Embedded\n   public User user;\n   @Relation(parentColumn = \"id\", entityColumn = \"userId\", entity = Pet.class)\n   public List pets;\n }\n @Dao\n public interface UserPetDao {\n     @Query(\"SELECT * from User WHERE age &gt; :minAge\")\n     public List&lt;UserAllPets&gt; loadUserAndPets(int minAge);\n }\n</code></pre>\n\n<p>However, if instead of wanting to get all Pets, in this scenario, I just wanted all Users and most recent Pet created, A group by userid.<a href=\"https://i.stack.imgur.com/B6IuQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B6IuQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Would I just filter the results after querying the database, or would it be better to create a foreign key query. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1554110958, "post_id": 46662513, "comment_id": 97617688, "body": "The main problem why it didn&#39;t work in the first place, was, that you basically created a <code>List&lt;IntArray&gt;</code>. You need to use the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">spread operator (<code>*</code>)</a> to get a <code>List&lt;Int&gt;</code>, i.e. the following would have worked too: <code>val integers = Arrays.asList(*disabledNos)</code>. A similar question, that also mentions the actual error: <a href=\"https://stackoverflow.com/questions/55451118/convert-arraystring-to-arrayliststring\">Convert <code>Array&lt;String&gt;</code> to <code>ArrayList&lt;String&gt;</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 2, "creation_date": 1507649629, "post_id": 46662717, "comment_id": 80289677, "body": "This will give you <code>List&lt;IntArray&gt;</code> instead of <code>List&lt;Int&gt;</code>. @crgarridos&#39;s answer is correct."}, {"owner": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1507708837, "post_id": 46662717, "comment_id": 80313436, "body": "Oh boy I forgot to remove Arrays.asList() while posting the answer :("}], "tags": [], "owner": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "is_accepted": false, "score": -1, "last_activity_date": 1530263034, "last_edit_date": 1530263034, "creation_date": 1507626349, "answer_id": 46662717, "question_id": 46662513, "link": "https://stackoverflow.com/questions/46662513/convert-array-to-list-in-kotlin/46662717#46662717", "title": "Convert Array to List in Kotlin", "body": "<p>Oops that was very simple:</p>\n\n<pre><code>var integers = disabledNos.toList()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "reply_to_user": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "edited": false, "score": 1, "creation_date": 1507626904, "post_id": 46662879, "comment_id": 80274123, "body": "Just because you used <b>Arrays.asList(disabledNos)</b>.toList()"}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 83, "last_activity_date": 1507626772, "creation_date": 1507626772, "answer_id": 46662879, "question_id": 46662513, "link": "https://stackoverflow.com/questions/46662513/convert-array-to-list-in-kotlin/46662879#46662879", "title": "Convert Array to List in Kotlin", "body": "<p>Kotlin support in the standard library this conversion.</p>\n\n<p>You can use directly</p>\n\n<pre><code>disableNos.toList()\n</code></pre>\n\n<p>or if you want to make it mutable:</p>\n\n<pre><code>disableNos.toMutableList()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1387, "user_id": 651377, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/537563472e02359f184f0d4a5da446a5?s=128&d=identicon&r=PG", "display_name": "Alok Gupta", "link": "https://stackoverflow.com/users/651377/alok-gupta"}, "is_accepted": false, "score": 2, "last_activity_date": 1590735086, "last_edit_date": 1590735086, "creation_date": 1585201384, "answer_id": 60861578, "question_id": 46662513, "link": "https://stackoverflow.com/questions/46662513/convert-array-to-list-in-kotlin/60861578#60861578", "title": "Convert Array to List in Kotlin", "body": "<p>This will fix your problem :</p>\n\n<pre><code>val disabledNos = intArrayOf(1, 2, 3, 4)\nvar integers = Arrays.asList(*disabledNos)\n</code></pre>\n\n<p>Just add * to this to asList</p>\n"}], "owner": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27555, "favorite_count": 2, "accepted_answer_id": 46662879, "answer_count": 3, "score": 39, "last_activity_date": 1590735086, "creation_date": 1507625746, "last_edit_date": 1554110976, "question_id": 46662513, "link": "https://stackoverflow.com/questions/46662513/convert-array-to-list-in-kotlin", "title": "Convert Array to List in Kotlin", "body": "<p>I try to do this with (same as java)</p>\n\n<pre><code>val disabledNos = intArrayOf(1, 2, 3, 4)\nvar integers = Arrays.asList(disabledNos)\n</code></pre>\n\n<p>but this doesn't give me a list.\nAny ideas?</p>\n"}, {"tags": ["java", "android", "kotlin", "inputstream", "zipinputstream"], "comments": [{"owner": {"reputation": 1562, "user_id": 608011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f503ccc16672cb7738ea63ba6f16f77?s=128&d=identicon&r=PG", "display_name": "zulqarnain", "link": "https://stackoverflow.com/users/608011/zulqarnain"}, "edited": false, "score": 0, "creation_date": 1507624185, "post_id": 46661956, "comment_id": 80272467, "body": "Show the code where you calling the method."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 11, "last_activity_date": 1507624538, "creation_date": 1507624538, "answer_id": 46662122, "question_id": 46661956, "link": "https://stackoverflow.com/questions/46661956/error-must-not-be-null-in-kotlin/46662122#46662122", "title": "Error &quot;must not be null&quot; in Kotlin", "body": "<p>The <code>ZipEntry</code> you read from the stream will be <code>null</code> when you reach the end of the file, so you have to make the variable that you store it in nullable:</p>\n\n<pre><code>var ze: ZipEntry?\n</code></pre>\n\n<p>You were allowed to assign the values you read to a non-nullable variable because they had the platform type <code>ZipEntry!</code>, since it's a Java API - in this case you have to determine whether it can be <code>null</code>. See the <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"noreferrer\">docs</a> about platform types for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 3, "last_activity_date": 1507624556, "creation_date": 1507624556, "answer_id": 46662127, "question_id": 46661956, "link": "https://stackoverflow.com/questions/46661956/error-must-not-be-null-in-kotlin/46662127#46662127", "title": "Error &quot;must not be null&quot; in Kotlin", "body": "<p>You define the variable <code>ze</code> like this <code>var ze: ZipEntry</code>. So the type is <code>ZipEntry</code> and not <code>ZipEntry?</code> (nullable type).</p>\n\n<p>If you change <code>var ze: ZipEntry</code> by <code>var ze: ZipEntry?</code>, the variable can be null.</p>\n\n<p>You can check the doc for <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Null Safety</a>. It's one of the big thing with Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6480036, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-su-2Dfu91n0/AAAAAAAAAAI/AAAAAAAAAhQ/cxAF_ggaD3I/photo.jpg?sz=128", "display_name": "HamBeast", "link": "https://stackoverflow.com/users/6480036/hambeast"}, "is_accepted": false, "score": 0, "last_activity_date": 1539607489, "last_edit_date": 1539607489, "creation_date": 1539606801, "answer_id": 52816888, "question_id": 46661956, "link": "https://stackoverflow.com/questions/46661956/error-must-not-be-null-in-kotlin/52816888#52816888", "title": "Error &quot;must not be null&quot; in Kotlin", "body": "<p>I had a similar issue when trying to build this functionality that lead me here. Once I made zipEntry nullable an error popped up in an if statement which said zipEntry? is a mismatch to zipEntry, I was able to solve that by using zipEntry!! guaranteeing it was not null. </p>\n\n<pre><code>      while(zippedFile != null) {\n            fileName = zippedFile.name //It wasn't able to smart cast once zipEntry was nullable\n            if (zippedFile.isDirectory) {} //Here it had a type mismatch\n</code></pre>\n\n<p>This was the solution I was able to work out. </p>\n\n<pre><code>  while(zippedFile != null) {\n            fileName = zippedFile!!.name //Adding !! (not null) allowed it to safely smart cast\n            if (zippedFile!!.isDirectory) {} //Here adding not null removed the type mismatch\n</code></pre>\n\n<p>If anyone working in Kotlin runs into this issue I hope it can help! </p>\n"}], "owner": {"reputation": 171, "user_id": 8750959, "user_type": "registered", "profile_image": "https://graph.facebook.com/1477003875688873/picture?type=large", "display_name": "Petras Bartusis", "link": "https://stackoverflow.com/users/8750959/petras-bartusis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20486, "favorite_count": 1, "answer_count": 3, "score": 17, "last_activity_date": 1539607489, "creation_date": 1507624029, "last_edit_date": 1507624642, "question_id": 46661956, "link": "https://stackoverflow.com/questions/46661956/error-must-not-be-null-in-kotlin", "title": "Error &quot;must not be null&quot; in Kotlin", "body": "<p>There are multiple files in a .zip file, which I'm trying to get. Trying to unzip the files provides a java.lang.IllegalStateException: zis.nextEntry must not be null. How to do it the right way?</p>\n\n<pre><code>@Throws(IOException::class)\n    fun unzip(zipFile: File, targetDirectory: File) {\n        val zis = ZipInputStream(\n                BufferedInputStream(FileInputStream(zipFile)))\n        try {\n            var ze: ZipEntry\n            var count: Int\n            val buffer = ByteArray(8192)\n            ze = zis.nextEntry\n            while (ze != null) {\n                val file = File(targetDirectory, ze.name)\n                val dir = if (ze.isDirectory) file else file.parentFile\n                if (!dir.isDirectory &amp;&amp; !dir.mkdirs())\n                    throw FileNotFoundException(\"Failed to ensure directory: \" + dir.absolutePath)\n                if (ze.isDirectory)\n                    continue\n                val fout = FileOutputStream(file)\n                try {\n                    count = zis.read(buffer)\n                    while (count != -1) {\n                        fout.write(buffer, 0, count)\n                        count = zis.read(buffer)\n                    }\n                } finally {\n                    fout.close()\n                    zis.closeEntry()\n                    ze = zis.nextEntry\n                }\n            }\n        } finally {\n            zis.closeEntry()\n            zis.close()\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 6159314, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/899492cdab3bea8b47e332ef564b0146?s=128&d=identicon&r=PG&f=1", "display_name": "Kulwinder Singh Rahal", "link": "https://stackoverflow.com/users/6159314/kulwinder-singh-rahal"}, "edited": false, "score": 0, "creation_date": 1507648691, "post_id": 46665885, "comment_id": 80289081, "body": "looks like it will work , i will  update you  after implementing it ."}, {"owner": {"reputation": 437, "user_id": 6159314, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/899492cdab3bea8b47e332ef564b0146?s=128&d=identicon&r=PG&f=1", "display_name": "Kulwinder Singh Rahal", "link": "https://stackoverflow.com/users/6159314/kulwinder-singh-rahal"}, "edited": false, "score": 0, "creation_date": 1507686026, "post_id": 46665885, "comment_id": 80305101, "body": "first of all thanks it is working but I don&#39;t understand much about it that how it is working,i have read documentation but not very helpful , can you please explain more"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1507635763, "creation_date": 1507635763, "answer_id": 46665885, "question_id": 46661497, "link": "https://stackoverflow.com/questions/46661497/kotlin-how-value-of-actual-variable-we-can-change-in-another-class-to-which-it-p/46665885#46665885", "title": "kotlin,How value of Actual variable we can change in another class to which it passed using parameter?", "body": "<p>You can use a mutable <a href=\"https://kotlinlang.org/docs/reference/reflection.html#property-references\" rel=\"nofollow noreferrer\">property reference</a> to achieve this. Here's an example:</p>\n\n<pre><code>class BaseDelegation&lt;T&gt;(val property: KMutableProperty0&lt;T&gt;) {\n    override fun onSuccess(data: T) {\n        property.set(data)\n    }\n}\n</code></pre>\n\n<p>Then, to construct a <code>BaseDelegation</code>, use a <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11\" rel=\"nofollow noreferrer\">bound reference</a> to a property, e.g. <code>this::oldData</code> or <code>myActivity::oldData</code> (the property itself should be mutable, i.e. <code>var</code>).</p>\n\n<p>Here's a simplified runnable demo: <a href=\"https://try.kotlinlang.org/#/UserProjects/nmdf0hc73jrua64b4pk8gds2op/m3rcqmlf7p6s4jd4gid7b96i7g\" rel=\"nofollow noreferrer\">(link)</a></p>\n"}], "owner": {"reputation": 437, "user_id": 6159314, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/899492cdab3bea8b47e332ef564b0146?s=128&d=identicon&r=PG&f=1", "display_name": "Kulwinder Singh Rahal", "link": "https://stackoverflow.com/users/6159314/kulwinder-singh-rahal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 1, "accepted_answer_id": 46665885, "answer_count": 1, "score": 2, "last_activity_date": 1507684196, "creation_date": 1507622437, "last_edit_date": 1507684196, "question_id": 46661497, "link": "https://stackoverflow.com/questions/46661497/kotlin-how-value-of-actual-variable-we-can-change-in-another-class-to-which-it-p", "title": "kotlin,How value of Actual variable we can change in another class to which it passed using parameter?", "body": "<p>I am using Delegation in Kotlin. So therefore I have base class which handles common network result but only difference is Data(Model class)   </p>\n\n<pre><code>class BaseDataDelegation&lt;T&gt;(var oldData: T): WebDataListener&lt;T&gt; {\n    override fun onSuccess(data: T) {\n        oldData = data //oldData's original variable value which is inside main activity should also be updated\n\n               /.../\n    }\n\n    override fun onFailed() {\n      /.../\n    }\n\n\n}\n</code></pre>\n\n<p>then In MainActivity I'm calling   </p>\n\n<pre><code>dataManager.getResponse(BaseDataDelegation(oldData))//in DataManager.getResponse(listener:WebDataListener&lt;T&gt;)  \n</code></pre>\n\n<p>Now as I passed <code>oldData</code> to <code>BaseDataDelegation</code>, so when value of <code>oldData</code> is changed in <code>BaseDataDelegation</code> class it should reflect back to variable of <code>MainActivty</code>.<br>\nHow can I do this in Kotlin?</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1507608906, "post_id": 46658470, "comment_id": 80265735, "body": "Put the db name on constructor? <code>(context: Context)</code> -&gt; <code>(context: Context, name: String)</code>,  <code>SQLiteOpenHelper(context, &quot;mydb.db&quot;, null, 4)</code> -&gt; <code>SQLiteOpenHelper(context, name, null, 4)</code>. What is the problem?"}], "answers": [{"tags": [], "owner": {"reputation": 4690, "user_id": 2019549, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/900a3735d55a0473c975ba9266bf0c68?s=128&d=identicon&r=PG", "display_name": "cambunctious", "link": "https://stackoverflow.com/users/2019549/cambunctious"}, "is_accepted": false, "score": 0, "last_activity_date": 1507614725, "creation_date": 1507614725, "answer_id": 46659457, "question_id": 46658470, "link": "https://stackoverflow.com/questions/46658470/how-to-pass-db-name-on-run-time-in-kotlin/46659457#46659457", "title": "How to pass db name on run time in kotlin", "body": "<p>Add a constructor argument</p>\n\n<pre><code>class DatabaseOpenHelper (context: Context, name: String) : SQLiteOpenHelper(context, name, null, 4) {\n</code></pre>\n"}], "owner": {"reputation": 3278, "user_id": 3282461, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v6pSx.png?s=128&g=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/3282461/ankit-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507614725, "creation_date": 1507608496, "question_id": 46658470, "link": "https://stackoverflow.com/questions/46658470/how-to-pass-db-name-on-run-time-in-kotlin", "title": "How to pass db name on run time in kotlin", "body": "<p>I have tried create DatabaseOpenHelper in kotlin. it doesn't allow me to pass db name on run time.</p>\n\n<pre><code>class DatabaseOpenHelper (context: Context) : SQLiteOpenHelper(context, \"mydb.db\", null, 4) {\n   val TAG = javaClass&lt;DatabaseOpenHelper &gt;().getSimpleName()\n   val TABLE = \"logs\"\n\n   companion object {\n       public val ID: String = \"_id\"\n       public val TIMESTAMP: String = \"TIMESTAMP\"\n       public val TEXT: String = \"TEXT\"\n   }\n   ..... other methods\n}\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4253, "user_id": 5372008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4rFGo.png?s=128&g=1", "display_name": "Teocci", "link": "https://stackoverflow.com/users/5372008/teocci"}, "edited": false, "score": 0, "creation_date": 1507599647, "post_id": 46657013, "comment_id": 80263747, "body": "Did you check <a href=\"https://stackoverflow.com/questions/36623177/kotlin-property-initialization-using-by-lazy-vs-lateinit\">this question</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8749146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae6d6530651970e3c23d43d619cba179?s=128&d=identicon&r=PG", "display_name": "ohtakazuki", "link": "https://stackoverflow.com/users/8749146/ohtakazuki"}, "edited": false, "score": 0, "creation_date": 1507642557, "post_id": 46657498, "comment_id": 80284731, "body": "Thank you for your reply. I understand your answer, but from your answer, I did not know the alternative way.I think that using nullable method(like Cursur?) is not like kotlin."}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1507600326, "creation_date": 1507600326, "answer_id": 46657498, "question_id": 46657013, "link": "https://stackoverflow.com/questions/46657013/is-the-best-way-using-lateinit/46657498#46657498", "title": "Is the best way using lateinit?", "body": "<p>No, this is not the best use of <code>lateinit</code>. First, the use of <code>lateinit</code> is for a variable that should be available when it is being used. Using nullable mean the variable can be null which is different for <code>lateinit</code> meaning it should not be null.</p>\n\n<p>It is pretty useful in Android as you initial variable in <code>onCreate</code> instead of constructor. It is also good for dependency injection likke Dagger.</p>\n\n<p>It throws of <code>UninitializedPropertyAccessException</code> mean your <code>Cursor</code> is not initialized when it is being access. That's mean there is a logical error in your code that the cursor being access without initialize.</p>\n\n<p>Note that hold a <code>Cursor</code> is not a good practice. It holds a connection to the database. You should close after using it and recreate a new one instead of holding it. </p>\n"}, {"tags": [], "owner": {"reputation": 721, "user_id": 6893685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pc8f4.jpg?s=128&g=1", "display_name": "Gulzar Bhat", "link": "https://stackoverflow.com/users/6893685/gulzar-bhat"}, "is_accepted": false, "score": 0, "last_activity_date": 1533288418, "creation_date": 1533288418, "answer_id": 51669467, "question_id": 46657013, "link": "https://stackoverflow.com/questions/46657013/is-the-best-way-using-lateinit/51669467#51669467", "title": "Is the best way using lateinit?", "body": "<p>Use <code>lateinit</code> for properties that cannot be initialized in a constructor</p>\n"}], "owner": {"reputation": 1, "user_id": 8749146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae6d6530651970e3c23d43d619cba179?s=128&d=identicon&r=PG", "display_name": "ohtakazuki", "link": "https://stackoverflow.com/users/8749146/ohtakazuki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533288418, "creation_date": 1507596174, "last_edit_date": 1507612751, "question_id": 46657013, "link": "https://stackoverflow.com/questions/46657013/is-the-best-way-using-lateinit", "title": "Is the best way using lateinit?", "body": "<p>There is processing to acquire the image held by android using the cursor.The cursor needs authorization to external storage. \nIf AndroidOS is 6.0 or higher and authorization permission is not obtained, the application will be terminated.\nIf permission is obtained, processing to close the cursor is necessary.</p>\n\n<p>If it is Java, it would have been nice to write to onStop as follows, except for Kotlin, an exception will be raised.</p>\n\n<pre><code>if (cursor != null )\n  cursor.close();\n\nkotlin.UninitializedPropertyAccessException: lateinit property cursor has not been initialized\n</code></pre>\n\n<p>So I wrote that we initialize the cursor and finish it.</p>\n\n<pre><code>cursor = contentResolver.query(\n    MediaStore.Images.Media.INTERNAL_CONTENT_URI,\n    null, null, null, null\n)\n</code></pre>\n\n<p>This no longer causes an exception, but it seems that you write unnecessary code, and it does not get clearer.\nHowever, I do not lateinit the cursor, and I think that it is useless code to initialize it at the time of declaration.\nAlso, when declaring <code>private var cursor: Cursor? = Null</code>, I think that a null judgment code is necessary in various places and I do not think it is like Kotlin.</p>\n\n<p>I would be pleased if you could give me advice on how to write the best.</p>\n\n<p>This is the code that is used:</p>\n\n<pre><code>private lateinit var cursor : Cursor\n\nprivate val PERMISSIONS_REQUEST_CODE = 100\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        // Android Version 6.0 later\n        if(checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n            initCursor()\n        } else {\n            requestPermissions(arrayOf(Manifest.permission.READ_EXTERNAL_STORAGE), PERMISSIONS_REQUEST_CODE)\n        }\n    } else {\n        // Android Version under 6.0\n        initCursor()\n    }\n}\n\noverride fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n    when (requestCode) {\n        PERMISSIONS_REQUEST_CODE -&gt;\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                initCursor()\n            } else {\n                finishApp()\n            }\n        else -&gt;\n            finishApp()\n    }\n}\n\nprivate fun finishApp() {\n    //  It prevents kotlin.UninitializedPropertyAccessException of cursor(lateinit valiant). It's last resort...\n    cursor = contentResolver.query(\n            MediaStore.Images.Media.INTERNAL_CONTENT_URI,\n            null, null, null, null)\n    /*\n    if(cursor != null)\n        cursor.close()\n    */\n    finish()\n}\n\noverride fun onStop() {\n    super.onStop()\n    cursor.close()\n}\n\nprivate fun initCursor() {\n    cursor = contentResolver.query(\n            MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n            null, null, null, null)\n    cursor.moveToFirst()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-android-extensions", "kotlin-null-safety"], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 4386341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IGVa8GRpwb8/AAAAAAAAAAI/AAAAAAAADp8/C9WwJqQR5d8/photo.jpg?sz=128", "display_name": "diman", "link": "https://stackoverflow.com/users/4386341/diman"}, "edited": false, "score": 1, "creation_date": 1507594334, "post_id": 46656694, "comment_id": 80262595, "body": "I guess this supports your argument: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#nullability-annotations\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>. Will try to convert with an annotation once again (didn\u2019t work for me before)"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 1, "creation_date": 1507600444, "post_id": 46656694, "comment_id": 80263935, "body": "Yes, Kotlin assume Java code is not null by default unless it has annotation. It use <code>!</code> for Java code, like <code>String!</code> to tell you that the code is come from Java."}], "tags": [], "owner": {"reputation": 9163, "user_id": 1108397, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/XChaT.png?s=128&g=1", "display_name": "rupps", "link": "https://stackoverflow.com/users/1108397/rupps"}, "is_accepted": true, "score": 4, "last_activity_date": 1507631102, "last_edit_date": 1507631102, "creation_date": 1507593493, "answer_id": 46656694, "question_id": 46656444, "link": "https://stackoverflow.com/questions/46656444/java-to-kotlin-converter-and-nullable-method-arguments/46656694#46656694", "title": "Java to Kotlin converter and nullable method arguments", "body": "<p>If annotations don't help, I don't think there's a way to know if an argument is nullable or not.</p>\n\n<p>Regarding your posted code, I think I know what's going on:</p>\n\n<p>Activity <code>onCreate</code> <strong>IS</strong> marked as <code>@Nullable</code>:</p>\n\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    final AppCompatDelegate delegate = getDelegate();\n    delegate.installViewFactory();\n    delegate.onCreate(savedInstanceState);\n    .\n    .\n</code></pre>\n\n<p>While <code>ActivityLifecycleCallbacks</code> interface methods <strong>are not</strong>: (See <code>Application.java</code>)</p>\n\n<pre><code>public interface ActivityLifecycleCallbacks {\n    void onActivityCreated(Activity activity, Bundle savedInstanceState);\n    void onActivityStarted(Activity activity);\n    void onActivityResumed(Activity activity);\n    void onActivityPaused(Activity activity);\n    void onActivityStopped(Activity activity);\n    void onActivitySaveInstanceState(Activity activity, Bundle outState);\n    void onActivityDestroyed(Activity activity);\n}\n</code></pre>\n\n<p>So apparently Kotlin translator is processing annotations, but using <em>Non-Null</em> as default, which in my humble opinion is not the usual, as it makes more sense for non-annotated parameters to be considered <em>Nullable</em>. However I can understand that decision in order to force developers to pay attention to translated code and decide explicitly if a parameter is <em>Nullable</em> or not.</p>\n\n<p>By the way, mind that there are several <code>@NonNull</code> and <code>@Nullable</code> annotations (javax, android, jetbrains ...) I wouldn't be surprised if Kotlin translator only recognises some of them (but it's just a guess)</p>\n\n<p>Also regarding your code, Java Lint should have given you a warning about your overridden <code>onCreate</code>, saying that you are overriding a method with annotated parameters and you have not annotated them.</p>\n"}], "owner": {"reputation": 419, "user_id": 4386341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IGVa8GRpwb8/AAAAAAAAAAI/AAAAAAAADp8/C9WwJqQR5d8/photo.jpg?sz=128", "display_name": "diman", "link": "https://stackoverflow.com/users/4386341/diman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1340, "favorite_count": 1, "accepted_answer_id": 46656694, "answer_count": 1, "score": 7, "last_activity_date": 1507631102, "creation_date": 1507591538, "last_edit_date": 1507627219, "question_id": 46656444, "link": "https://stackoverflow.com/questions/46656444/java-to-kotlin-converter-and-nullable-method-arguments", "title": "Java to Kotlin converter and nullable method arguments", "body": "<p>I had a case in which Java to Kotlin converter failed me miserably by not marking method arguments as nullable.</p>\n\n<p>Example: tracking activity lifecycle using <code>registerActivityLifecycleCallbacks</code>:</p>\n\n<pre><code>registerActivityLifecycleCallbacks(new ActivityLifecycleCallbacks() {\n    @Override\n    public void onActivityCreated(Activity activity, Bundle savedInstanceState) {}\n\n    @Override\n    public void onActivityStarted(Activity activity) {}\n\n    @Override\n    public void onActivityResumed(Activity activity) {}\n\n    // ... other overriden methods\n});\n</code></pre>\n\n<p>Pasting this code to Kotlin results:</p>\n\n<pre><code>registerActivityLifecycleCallbacks(object : Application.ActivityLifecycleCallbacks {\n    override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle) {}\n\n    override fun onActivityStarted(activity: Activity) {}\n\n    override fun onActivityResumed(activity: Activity) {}\n\n    override fun onActivityPaused(activity: Activity) {}\n\n    // ... other overriden methods (all with non-nullable parameters)\n})\n</code></pre>\n\n<p>The issue is that <code>savedInstanceState</code> argument type is <code>Bundle</code> where it should be <code>Bundle?</code> because it's value can be <code>null</code>.</p>\n\n<p>In this case we will get the following exception when an <code>Activity</code> is created without instance state:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n</code></pre>\n\n<p>Note, the root cause to this can be that <a href=\"https://developer.android.com/reference/android/app/Application.ActivityLifecycleCallbacks.html#onActivityCreated(android.app.Activity,%20android.os.Bundle)\" rel=\"nofollow noreferrer\">onActivityCreated documentation</a> <strong>doesn't mention that <code>Bundle</code> can be null</strong> whereas <a href=\"https://developer.android.com/reference/android/app/Activity.html#onCreate%28android.os.Bundle%29\" rel=\"nofollow noreferrer\">onCreate documentation</a> does which can explain why simple <code>onCreate</code> conversion works as expected:</p>\n\n<pre><code>// Java\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n}\n// Kotlin\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n}\n</code></pre>\n\n<p>My question is how do we know which arguments should be nullable to prevent those kind of issues? The <em>@Nullable</em> annotation doesn't help here.</p>\n"}, {"tags": ["class", "parameters", "constructor", "callback", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1507590918, "creation_date": 1507590918, "answer_id": 46656350, "question_id": 46656054, "link": "https://stackoverflow.com/questions/46656054/callback-to-constructor-with-multiple-parameters/46656350#46656350", "title": "Callback to constructor with multiple parameters", "body": "<p>Just use the <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"nofollow noreferrer\">lambda expression syntax</a> with explicit parameters:</p>\n\n<pre><code>val something = SomeClass { num, str -&gt; onSomething(num, str) }\n</code></pre>\n\n<p><sup>When passing a lambda as the last parameter, you can omit the parenthesis.</sup></p>\n\n<p>Also, you can use a <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">bound function reference</a> when the expected and actual function signatures match exactly:</p>\n\n<pre><code>val something = SomeClass(this::onSomething)\n</code></pre>\n"}], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 46656350, "answer_count": 1, "score": 1, "last_activity_date": 1507590918, "creation_date": 1507588954, "question_id": 46656054, "link": "https://stackoverflow.com/questions/46656054/callback-to-constructor-with-multiple-parameters", "title": "Callback to constructor with multiple parameters", "body": "<p>What I've tried so far is callback with single parameter and it works:</p>\n\n<pre><code>class SomeClass (something:Int = 3, val callback: (Int) -&gt; Unit) {\n    fun doSomething() {\n      callback(11)\n    }\n}\n\nclass AnotherClass {\n\n    val something = SomeClass({onSomething(it)}) \n\n    protected fun onSomething(num: Int) {\n        // ...\n    }\n}\n</code></pre>\n\n<p>But how to implemented it with multiple parameters like:</p>\n\n<pre><code>class SomeClass (something:Int = 3, val callback: (Int, String) -&gt; Unit) {\n    fun doSomething() {\n      callback(11, \"Yeah\")\n    }\n}\n\nclass AnotherClass {\n\n    val something = SomeClass(/* ...... what goes here???? */) \n\n    protected fun onSomething(num: Int, str: String) {\n        // ...\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "edited": false, "score": 0, "creation_date": 1507581686, "post_id": 46654395, "comment_id": 80258574, "body": "Have a look at your <code>Gradle Console</code> panel in Android Studio. Normally more error logs within there"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "edited": false, "score": 0, "creation_date": 1507581940, "post_id": 46654395, "comment_id": 80258698, "body": "@StuStirling i made an update in my question, maybe now you can help?"}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "edited": false, "score": 0, "creation_date": 1507582755, "post_id": 46654395, "comment_id": 80259017, "body": "Change <code>annotationProcessor</code> to <code>kapt</code>"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "edited": false, "score": 0, "creation_date": 1507582861, "post_id": 46654395, "comment_id": 80259053, "body": "Changed, still the same problem"}, {"owner": {"reputation": 13997, "user_id": 507313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b8b097f0a88ab346a912b74fda4c57cf?s=128&d=identicon&r=PG", "display_name": "StuStirling", "link": "https://stackoverflow.com/users/507313/stustirling"}, "edited": false, "score": 0, "creation_date": 1507583954, "post_id": 46654395, "comment_id": 80259454, "body": "Your entity doesn&#39;t have a primary key. Add another column <code>@PrimaryKey(autogenerate = true) val id : Long = 0</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507581526, "post_id": 46654550, "comment_id": 80258499, "body": "Change your AppDatabase class to kotlin instead of java and try again"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507581968, "post_id": 46654550, "comment_id": 80258711, "body": "I made an update to my question, maybe now you can help? I also convert the AppDatabase to kotlin"}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507582073, "post_id": 46654550, "comment_id": 80258758, "body": "Change annotationProcessor to kapt. I use Room with Kotlin a lot and this kind of errors are always because of the gradle file ;)"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507582243, "post_id": 46654550, "comment_id": 80258827, "body": "I am really stuck, there is no up to date tutorial on this topic"}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507582419, "post_id": 46654550, "comment_id": 80258890, "body": "Remember always to &quot;Rebuild Project&quot; You can also update your room version to 1.0.0-alpha9-1 I think it is more stable"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507583178, "post_id": 46654550, "comment_id": 80259171, "body": "I just need simple setup, nothing more. Maybe you have something that you can share? With the latest version"}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507583445, "post_id": 46654550, "comment_id": 80259274, "body": "I was reading again your gradle file and comparing it with mine and I don&#39;t see anywhere this line  implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;"}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507583684, "post_id": 46654550, "comment_id": 80259367, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/156295/discussion-between-fredy-mederos-and-oksett\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 1, "last_activity_date": 1507583659, "last_edit_date": 1507583659, "creation_date": 1507581336, "answer_id": 46654550, "question_id": 46654395, "link": "https://stackoverflow.com/questions/46654395/kotlin-room-setup-problems-in-android-studio/46654550#46654550", "title": "Kotlin Room setup problems in Android Studio", "body": "<p>This RuntimeError happens because room compiler could not generate the AppDatabase implementation. </p>\n\n<p>I recommend you to change \"compile\" instruction to \"implementation\" in your gradle file. I think it could help.</p>\n\n<p>I was reading again your gradle file and comparing it with mine and I don't see anywhere this line <code>implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "is_accepted": false, "score": 0, "last_activity_date": 1507585086, "creation_date": 1507585086, "answer_id": 46655352, "question_id": 46654395, "link": "https://stackoverflow.com/questions/46654395/kotlin-room-setup-problems-in-android-studio/46655352#46655352", "title": "Kotlin Room setup problems in Android Studio", "body": "<p>OK.</p>\n\n<p>So the answer is to put this line into the gradle file:</p>\n\n<pre><code>    compile \"org.jetbrains.kotlin:kotlin-stdlib:1.1.51\"\n</code></pre>\n\n<p>The whole setup(Kotlin) stays the same, and the gradle look like this:</p>\n\n<pre><code>   // Room\nimplementation \"android.arch.persistence.room:runtime:$roomVersion\"\nimplementation \"android.arch.persistence.room:rxjava2:$roomVersion\"\nkapt \"android.arch.persistence.room:compiler:$roomVersion\"\ncompile \"org.jetbrains.kotlin:kotlin-stdlib:1.1.51\"\n</code></pre>\n\n<p>Hope this help someone, i lost way too much time for this</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1086, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507585086, "creation_date": 1507580551, "last_edit_date": 1507582295, "question_id": 46654395, "link": "https://stackoverflow.com/questions/46654395/kotlin-room-setup-problems-in-android-studio", "title": "Kotlin Room setup problems in Android Studio", "body": "<p>I'm trying hard to setup simple example of Room+Kotlin in Android Studio, but it is really a pain to do it.</p>\n\n<p>I have classes like:</p>\n\n<pre><code>@Entity(tableName = \"test\")\ndata class Test(val name: String, val lastname: String)\n</code></pre>\n\n<p>DAO</p>\n\n<pre><code>@Dao\ninterface TestDao {\n@Query(\"SELECT * FROM test\")\nfun loadAll(): List&lt;Test&gt;\n\n@Insert\nfun insertAll(vararg tests: Test)\n\n@Delete\nfun delete(test: Test)\n}\n</code></pre>\n\n<p>AppDatabase:</p>\n\n<pre><code>@Database(entities = arrayOf(Test::class), version = 1)\nabstract class AppDatabase : RoomDatabase() {\n   abstract fun testDao(): TestDao\n}\n</code></pre>\n\n<p>My build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\ncompileSdkVersion 26\nbuildToolsVersion \"26.0.2\"\ndefaultConfig {\n    applicationId \"com.example.roomtest\"\n    minSdkVersion 15\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), \n'proguard-rules.pro'\n    }\n }\n}\n\next.roomVersion = '1.0.0-alpha9'\n\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation('com.android.support.test.espresso:espresso-\ncore:3.0.1', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\n\n// Room\ncompile \"android.arch.persistence.room:runtime:$roomVersion\"\ncompile \"android.arch.persistence.room:rxjava2:$roomVersion\"\nkapt \"android.arch.persistence.room:compiler:$roomVersion\"\n\n}\nrepositories {\nmavenCentral()\n}\n</code></pre>\n\n<p>Build.gradle(project)</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\next.kotlin_version = '1.1.51'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.0-beta7'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n    }\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n    maven { url 'https://maven.google.com' }\n }\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n\next {\narchRoomVersion = \"1.0.0-alpha9\"\n}\n</code></pre>\n\n<p>And i try to do simple insert to my database in MainActivity:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    AppDatabase db = Room.databaseBuilder(getApplicationContext(),\n            AppDatabase.class, \"database-name\").build();\n\n    Test test = new Test(\"test1\", \"test2\");\n\n    db.testDao().insertAll(test);\n  }\n}\n</code></pre>\n\n<p>However, project cannot be compiled and the error is:</p>\n\n<blockquote>\n  <p>Warning:warning: Supported source version 'RELEASE_7' from annotation processor 'android.arch.persistence.room.RoomProcessor' less than -source '1.8'</p>\n  \n  <p>Error:Execution failed for task ':app:kaptDebugKotlin'.\n  Internal compiler error. See log for more details</p>\n</blockquote>\n\n<p>How can i setup this really simple example properly? I am stuck, looking for correct setup at this moment.</p>\n\n<p>UPDATE:</p>\n\n<p>When i change my Room setup in gradle like this:</p>\n\n<pre><code>//    // Room\n//    implementation \"android.arch.persistence.room:runtime:$roomVersion\"\n//    implementation \"android.arch.persistence.room:rxjava2:$roomVersion\"\n//    kapt \"android.arch.persistence.room:compiler:$roomVersion\"\n\n//room database\nimplementation \"android.arch.persistence.room:runtime:1.0.0-alpha9\"\nannotationProcessor \"android.arch.persistence.room:compiler:1.0.0-alpha9\"\n</code></pre>\n\n<p>The app now starts, but crash in the beginning and the exception is:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.roomtest/com.example.roomtest.MainActivity}: java.lang.RuntimeException: cannot find implementation for com.example.roomtest.AppDatabase. AppDatabase_Impl does not exist\n                                                                          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)\n                                                                          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\n                                                                          at android.app.ActivityThread.-wrap11(ActivityThread.java)\n                                                                          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\n                                                                          at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                          at android.os.Looper.loop(Looper.java:148)\n                                                                          at android.app.ActivityThread.main(ActivityThread.java:5417)\n                                                                          at java.lang.reflect.Method.invoke(Native Method)\n                                                                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n                                                                       Caused by: java.lang.RuntimeException: cannot find implementation for com.example.roomtest.AppDatabase. AppDatabase_Impl does not exist\n                                                                          at android.arch.persistence.room.Room.getGeneratedImplementation(Room.java:90)\n                                                                          at android.arch.persistence.room.RoomDatabase$Builder.build(RoomDatabase.java:440)\n                                                                          at com.example.roomtest.MainActivity.onCreate(MainActivity.java:17)\n                                                                          at android.app.Activity.performCreate(Activity.java:6237)\n                                                                          at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\n                                                                          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)</p>\n</blockquote>\n"}, {"tags": ["neo4j", "spring-data", "kotlin", "spring-data-neo4j-5"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6079304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154078596915712/picture?type=large", "display_name": "jpop", "link": "https://stackoverflow.com/users/6079304/jpop"}, "edited": false, "score": 0, "creation_date": 1508432453, "post_id": 46798422, "comment_id": 80617922, "body": "Looks like it is due to 2.0.0.M4. Upgrading fixed it. Thank you."}], "tags": [], "owner": {"reputation": 1005, "user_id": 1132615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6XRH8.png?s=128&g=1", "display_name": "nmervaillie", "link": "https://stackoverflow.com/users/1132615/nmervaillie"}, "is_accepted": true, "score": 1, "last_activity_date": 1508271112, "creation_date": 1508271112, "answer_id": 46798422, "question_id": 46651008, "link": "https://stackoverflow.com/questions/46651008/spring-data-neo4j-5s-entityscan-includes-companion-objects-when-using-kotlin/46798422#46798422", "title": "Spring Data Neo4j 5&#39;s EntityScan includes companion objects when using Kotlin", "body": "<p>This problem was fixed in the Kay release.\nSee <a href=\"https://jira.spring.io/browse/DATACMNS-1171\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATACMNS-1171</a>.\nThis seems also related to a kotlin bug described <a href=\"https://youtrack.jetbrains.com/issue/KT-20442\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Upgrading to Spring Boot 2.0.0.M5 fixes the problem.</p>\n"}], "owner": {"reputation": 59, "user_id": 6079304, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10154078596915712/picture?type=large", "display_name": "jpop", "link": "https://stackoverflow.com/users/6079304/jpop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 46798422, "answer_count": 1, "score": 2, "last_activity_date": 1508271112, "creation_date": 1507566424, "last_edit_date": 1507661999, "question_id": 46651008, "link": "https://stackoverflow.com/questions/46651008/spring-data-neo4j-5s-entityscan-includes-companion-objects-when-using-kotlin", "title": "Spring Data Neo4j 5&#39;s EntityScan includes companion objects when using Kotlin", "body": "<p>I am using Spring Data 5 via Spring Boot 2.0.0.M4.</p>\n\n<p>I noticed that when using <code>@EntityScan</code> and providing a package, it includes scanning of 'inner' classes that are generated by Kotlin. In my example below, I only have one property, but I have also tried <code>companion object { &lt;property here&gt; }</code> and it still errors out.</p>\n\n<p><strong>Is there anyway to filter out these internal classes that Kotlin generates?</strong></p>\n\n<p>Here is the exception I am getting:</p>\n\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'neo4jMappingContext': Invocation of init method failed; nested exception is java.lang.UnsupportedOperationException: This class is an internal synthetic class generated by the Kotlin compiler, such as an anonymous class for a lambda, a SAM wrapper, a callable reference, etc. It's not a Kotlin class or interface, so the reflection library has no idea what declarations does it have. Please use Java reflection to inspect this class: class com.mybusinessincorp.mbitest.model.Store$properties$3</code></p>\n\n<p><strong><em>Full Stacktrace:</em></strong></p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'storeController' defined in file [C:\\Users\\jimpo\\IdeaProjects\\myboothinventory\\mbi-test\\target\\classes\\com\\mybusinessincorp\\mbitest\\web\\StoreController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'storeRepository': Cannot resolve reference to bean 'neo4jMappingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'neo4jMappingContext': Invocation of init method failed; nested exception is java.lang.UnsupportedOperationException: This class is an internal synthetic class generated by the Kotlin compiler, such as an anonymous class for a lambda, a SAM wrapper, a callable reference, etc. It's not a Kotlin class or interface, so the reflection library has no idea what declarations does it have. Please use Java reflection to inspect this class: class com.mybusinessincorp.mbitest.model.Store$properties$3\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:745) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:214) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1269) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1126) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:122) ~[spring-boot-2.0.0.M4.jar:2.0.0.M4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.0.0.M4.jar:2.0.0.M4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386) [spring-boot-2.0.0.M4.jar:2.0.0.M4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.0.M4.jar:2.0.0.M4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245) [spring-boot-2.0.0.M4.jar:2.0.0.M4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233) [spring-boot-2.0.0.M4.jar:2.0.0.M4]\n    at com.mybusinessincorp.mbitest.MbiTestApplicationKt.main(MbiTestApplication.kt:12) [classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'storeRepository': Cannot resolve reference to bean 'neo4jMappingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'neo4jMappingContext': Invocation of init method failed; nested exception is java.lang.UnsupportedOperationException: This class is an internal synthetic class generated by the Kotlin compiler, such as an anonymous class for a lambda, a SAM wrapper, a callable reference, etc. It's not a Kotlin class or interface, so the reflection library has no idea what declarations does it have. Please use Java reflection to inspect this class: class com.mybusinessincorp.mbitest.model.Store$properties$3\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1607) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:275) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1133) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1060) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:832) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:737) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'neo4jMappingContext': Invocation of init method failed; nested exception is java.lang.UnsupportedOperationException: This class is an internal synthetic class generated by the Kotlin compiler, such as an anonymous class for a lambda, a SAM wrapper, a callable reference, etc. It's not a Kotlin class or interface, so the reflection library has no idea what declarations does it have. Please use Java reflection to inspect this class: class com.mybusinessincorp.mbitest.model.Store$properties$3\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1702) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:583) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    ... 33 common frames omitted\nCaused by: java.lang.UnsupportedOperationException: This class is an internal synthetic class generated by the Kotlin compiler, such as an anonymous class for a lambda, a SAM wrapper, a callable reference, etc. It's not a Kotlin class or interface, so the reflection library has no idea what declarations does it have. Please use Java reflection to inspect this class: class com.mybusinessincorp.mbitest.model.Store$properties$3\n    at kotlin.reflect.jvm.internal.KClassImpl.reportUnresolvedClass(KClassImpl.kt:289) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl.access$reportUnresolvedClass(KClassImpl.kt:42) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl$Data$descriptor$2.invoke(KClassImpl.kt:52) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl$Data$descriptor$2.invoke(KClassImpl.kt:43) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.invoke(ReflectProperties.java:93) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.ReflectProperties$Val.getValue(ReflectProperties.java:32) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl$Data.getDescriptor(KClassImpl.kt) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl.getDescriptor(KClassImpl.kt:172) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl.getConstructorDescriptors(KClassImpl.kt:186) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl$Data$constructors$2.invoke(KClassImpl.kt:90) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl$Data$constructors$2.invoke(KClassImpl.kt:43) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.ReflectProperties$LazySoftVal.invoke(ReflectProperties.java:93) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.ReflectProperties$Val.getValue(ReflectProperties.java:32) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl$Data.getConstructors(KClassImpl.kt) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.jvm.internal.KClassImpl.getConstructors(KClassImpl.kt:222) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at kotlin.reflect.full.KClasses.getPrimaryConstructor(KClasses.kt:40) ~[kotlin-reflect-1.1.51.jar:1.1.51]\n    at org.springframework.data.mapping.model.PreferredConstructorDiscoverer$Discoverers$2.lambda$discover$2(PreferredConstructorDiscoverer.java:168) ~[spring-data-commons-2.0.0.RC3.jar:na]\n    at java.util.Optional.orElseGet(Optional.java:267) ~[na:1.8.0_112]\n    at org.springframework.data.mapping.model.PreferredConstructorDiscoverer$Discoverers$2.discover(PreferredConstructorDiscoverer.java:165) ~[spring-data-commons-2.0.0.RC3.jar:na]\n    at org.springframework.data.mapping.model.PreferredConstructorDiscoverer.discover(PreferredConstructorDiscoverer.java:77) ~[spring-data-commons-2.0.0.RC3.jar:na]\n    at org.springframework.data.mapping.model.BasicPersistentEntity.&lt;init&gt;(BasicPersistentEntity.java:93) ~[spring-data-commons-2.0.0.RC3.jar:na]\n    at org.springframework.data.mapping.model.BasicPersistentEntity.&lt;init&gt;(BasicPersistentEntity.java:74) ~[spring-data-commons-2.0.0.RC3.jar:na]\n    at org.springframework.data.neo4j.mapping.Neo4jPersistentEntity.&lt;init&gt;(Neo4jPersistentEntity.java:56) ~[spring-data-neo4j-5.0.0.RC3.jar:na]\n    at org.springframework.data.neo4j.mapping.Neo4jMappingContext.createPersistentEntity(Neo4jMappingContext.java:64) ~[spring-data-neo4j-5.0.0.RC3.jar:na]\n    at org.springframework.data.neo4j.mapping.Neo4jMappingContext.createPersistentEntity(Neo4jMappingContext.java:44) ~[spring-data-neo4j-5.0.0.RC3.jar:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:376) ~[spring-data-commons-2.0.0.RC3.jar:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext.addPersistentEntity(AbstractMappingContext.java:343) ~[spring-data-commons-2.0.0.RC3.jar:na]\n    at org.springframework.data.neo4j.mapping.Neo4jMappingContext.lambda$new$1(Neo4jMappingContext.java:57) ~[spring-data-neo4j-5.0.0.RC3.jar:na]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:1.8.0_112]\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[na:1.8.0_112]\n    at java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1620) ~[na:1.8.0_112]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[na:1.8.0_112]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[na:1.8.0_112]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:1.8.0_112]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:1.8.0_112]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:1.8.0_112]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[na:1.8.0_112]\n    at org.springframework.data.neo4j.mapping.Neo4jMappingContext.&lt;init&gt;(Neo4jMappingContext.java:57) ~[spring-data-neo4j-5.0.0.RC3.jar:na]\n    at org.springframework.data.neo4j.repository.config.Neo4jMappingContextFactoryBean.createInstance(Neo4jMappingContextFactoryBean.java:62) ~[spring-data-neo4j-5.0.0.RC3.jar:na]\n    at org.springframework.data.neo4j.repository.config.Neo4jMappingContextFactoryBean.createInstance(Neo4jMappingContextFactoryBean.java:31) ~[spring-data-neo4j-5.0.0.RC3.jar:na]\n    at org.springframework.beans.factory.config.AbstractFactoryBean.afterPropertiesSet(AbstractFactoryBean.java:141) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1761) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698) ~[spring-beans-5.0.0.RC4.jar:5.0.0.RC4]\n    ... 40 common frames omitted\n</code></pre>\n\n<p>I have created a sample project below to help out.</p>\n\n<p><strong><em>pom.xml</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mybusinessincorp&lt;/groupId&gt;\n    &lt;artifactId&gt;mbi-test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;mbi-test&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.M4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.1.51&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!--&lt;dependency&gt;--&gt;\n            &lt;!--&lt;groupId&gt;au.com.console&lt;/groupId&gt;--&gt;\n            &lt;!--&lt;artifactId&gt;kassava&lt;/artifactId&gt;--&gt;\n            &lt;!--&lt;version&gt;1.0.0&lt;/version&gt;--&gt;\n            &lt;!--&lt;exclusions&gt;--&gt;\n                &lt;!--&lt;exclusion&gt;--&gt;\n                    &lt;!--&lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;--&gt;\n                    &lt;!--&lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;--&gt;\n                &lt;!--&lt;/exclusion&gt;--&gt;\n            &lt;!--&lt;/exclusions&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong><em>MbiTestApplication.kt</em></strong></p>\n\n<pre><code>package com.mybusinessincorp.mbitest\n\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.autoconfigure.domain.EntityScan\n\n@SpringBootApplication\n@EntityScan(\"com.mybusinessincorp.mbitest.model\")\nclass MbiTestApplication\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(MbiTestApplication::class.java, *args)\n}\n</code></pre>\n\n<p><strong><em>/model/Store.kt</em></strong></p>\n\n<pre><code>package com.mybusinessincorp.mbitest.model\n\nimport org.neo4j.ogm.annotation.Index\nimport org.neo4j.ogm.annotation.NodeEntity\nimport org.neo4j.ogm.annotation.Transient\n\n@NodeEntity\ndata class Store(\n\n    var id: Long? = null,\n\n    @Index(unique = true)\n    var storeId: Long? = null,\n\n    var name: String? = null\n\n) {\n    @Transient\n    private val properties = arrayOf(Store::id, Store::storeId, Store::name)\n}\n</code></pre>\n\n<p><strong><em>/domain/StoreRepository.kt</em></strong></p>\n\n<pre><code>package com.mybusinessincorp.mbitest.domain\n\nimport com.mybusinessincorp.mbitest.model.Store\nimport org.springframework.data.neo4j.repository.Neo4jRepository\nimport org.springframework.stereotype.Repository\nimport org.springframework.transaction.annotation.Transactional\n\n\n/**\n * Repository for [Store]s\n * */\n@Repository\n@Transactional\ninterface StoreRepository : Neo4jRepository&lt;Store, Long&gt;\n</code></pre>\n\n<p><strong><em>/web/StoreController.kt</em></strong></p>\n\n<pre><code>package com.mybusinessincorp.mbitest.web\n\nimport com.mybusinessincorp.mbitest.domain.StoreRepository\nimport com.mybusinessincorp.mbitest.model.Store\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RequestMapping\nimport org.springframework.web.bind.annotation.RestController\n\n@RestController\n@RequestMapping(\"stores\")\nclass StoreController\nconstructor(private val storeRepository: StoreRepository) {\n\n    @GetMapping(\"/\", \"/allStores\")\n    fun allStores(): Iterable&lt;Store&gt; = storeRepository.findAll(1)\n}\n</code></pre>\n\n<p><strong><em>application.yml</em></strong></p>\n\n<pre><code>spring:\n  application:\n    name: myboothinventory-test\n  data:\n    neo4j:\n      uri: bolt://localhost:7687\n      username: neo4j\n      password: &lt;password&gt;\nsecurity:\n    basic:\n        enabled: false\n</code></pre>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "is_accepted": true, "score": 2, "last_activity_date": 1507566267, "creation_date": 1507566267, "answer_id": 46650967, "question_id": 46650369, "link": "https://stackoverflow.com/questions/46650369/file-found-in-intellij-but-not-in-built-jar/46650967#46650967", "title": "File found in IntelliJ but not in built jar", "body": "<p><code>javaClass.classLoader.getResource(\"osx_linux\")</code> gives you an instance of <code>URL</code>, <code>URL.file</code> gives you the file part of the <code>URL</code>. This might work as long as the file is not packaged in a JAR, but as you can see fails in case the file is packed into a JAR. You should probably instead use <code>getResourceAsStream</code> and the copy the <code>InputStream</code> you receive to the destination where you want to have it.</p>\n"}], "owner": {"reputation": 823, "user_id": 3133685, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0aa0c2fbfdbfd344c896fdc5c8a4e473?s=128&d=identicon&r=PG&f=1", "display_name": "MaxPower", "link": "https://stackoverflow.com/users/3133685/maxpower"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 46650967, "answer_count": 1, "score": 1, "last_activity_date": 1507566267, "creation_date": 1507564148, "last_edit_date": 1507566123, "question_id": 46650369, "link": "https://stackoverflow.com/questions/46650369/file-found-in-intellij-but-not-in-built-jar", "title": "File found in IntelliJ but not in built jar", "body": "<p>I am running some code through a compiler, and I have to query which Operating System the user is using to call the appropriate binary.  The code works, and calls the binary in IntelliJ, but when I build a jar file with gradle, I get a file not found exception (the binary) on the line that corresponds to val tempBinaryCopy.</p>\n\n<pre><code> fun assemble(file: String) {\n\n    val currentDirectory = System.getProperty(\"user.dir\")\n\n    val binary = when {\n        System.getProperty(\"os.name\").startsWith(\"Linux\") -&gt; javaClass.classLoader.getResource(\"osx_linux\").file\n        System.getProperty(\"os.name\").startsWith(\"Mac\") -&gt; javaClass.classLoader.getResource(\"osx_mac\").file\n        else -&gt;javaClass.classLoader.getResource(\"osx_win.exe\").file\n    }\n\n    val binaryFile = File(binary).name\n    val assemblyFile = File(file).name\n\n    val tempBinaryCopy = File(binary).copyTo(File(currentDirectory, binaryFile), true)\n    val tempAssemblyCopy = File(file).copyTo(File(currentDirectory, assemblyFile), true)\n\n    tempAssemblyCopy.deleteOnExit()\n    tempBinaryCopy.deleteOnExit()\n\n    Files.setPosixFilePermissions(tempBinaryCopy.toPath(), setOf(PosixFilePermission.OWNER_EXECUTE))\n    val process = Runtime.getRuntime().exec(arrayOf(tempBinaryCopy.absolutePath, tempAssemblyCopy.absolutePath, \"-v\"))\n    process.inputStream.bufferedReader().readLines().forEach { println(it) }\n}\n</code></pre>\n\n<p>The exception</p>\n\n<pre><code>Exception in thread \"main\" kotlin.io.NoSuchFileException: file:/Users/dross/Desktop/OS.jar!/osx_mac: The source file doesn't exist.\nat kotlin.io.FilesKt__UtilsKt.copyTo(Utils.kt:179)\nat kotlin.io.FilesKt__UtilsKt.copyTo$default(Utils.kt:177)\nat com.max.power.os.assembler.ProvidedAssembler.assemble(ProvidedAssembler.kt:22)\n</code></pre>\n\n<p>I have also tried a replace on the line in question to remove the ! and the result was the same.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 312, "user_id": 8746644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a519bf2c839cd239b8c5e24a1704dca2?s=128&d=identicon&r=PG&f=1", "display_name": "michpohl", "link": "https://stackoverflow.com/users/8746644/michpohl"}, "edited": false, "score": 0, "creation_date": 1509477335, "post_id": 46650305, "comment_id": 81033026, "body": "I spent a while now getting used to Kotlin, and I guess I just didn&#39;t get how to properly do these things when I asked this question. So by now I think it is not a useful question."}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 8746644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a519bf2c839cd239b8c5e24a1704dca2?s=128&d=identicon&r=PG&f=1", "display_name": "michpohl", "link": "https://stackoverflow.com/users/8746644/michpohl"}, "edited": false, "score": 0, "creation_date": 1507577273, "post_id": 46653331, "comment_id": 80256588, "body": "What exactly do you mean? That I could get them mixed up? All my imports are of the android.support.v4.app.Fragment class."}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "reply_to_user": {"reputation": 312, "user_id": 8746644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a519bf2c839cd239b8c5e24a1704dca2?s=128&d=identicon&r=PG&f=1", "display_name": "michpohl", "link": "https://stackoverflow.com/users/8746644/michpohl"}, "edited": false, "score": 0, "creation_date": 1507579470, "post_id": 46653331, "comment_id": 80257659, "body": "&quot;Type mismatch - Required: Fragment, found: WelcomeFragment!&quot; is a typical error when trying to access Fragment.instantiate and passing another class. I just say it. I will try to reproduce your error"}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 1, "last_activity_date": 1507575870, "creation_date": 1507575870, "answer_id": 46653331, "question_id": 46650305, "link": "https://stackoverflow.com/questions/46650305/streamlined-adding-and-replacing-fragments-in-kotlin/46653331#46653331", "title": "Streamlined Adding and Replacing Fragments in Kotlin", "body": "<p>Please be careful with the imports, sometimes we have a <code>android.support.v4.app.Fragment</code> \nand then we can't use <code>android.app.Fragment.instantiate</code> function in it.</p>\n"}], "owner": {"reputation": 312, "user_id": 8746644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a519bf2c839cd239b8c5e24a1704dca2?s=128&d=identicon&r=PG&f=1", "display_name": "michpohl", "link": "https://stackoverflow.com/users/8746644/michpohl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507575870, "creation_date": 1507563877, "question_id": 46650305, "link": "https://stackoverflow.com/questions/46650305/streamlined-adding-and-replacing-fragments-in-kotlin", "title": "Streamlined Adding and Replacing Fragments in Kotlin", "body": "<p>I am working on a small App with just a few screens that I want to implement as a single Activity which calls several fragments. I have some experience in Java for Android but using Kotlin is new territory.\nI have understood how to basically add fragments in Kotlin, but I'd like to do it in a reusable way.\nI came across the solution mentioned <a href=\"https://medium.com/thoughts-overflow/how-to-add-a-fragment-in-kotlin-way-73203c5a450b\" rel=\"nofollow noreferrer\">here</a> and it works, but there is something I don't quite understand. My following MainActivity works so far, but I have to create the var welcomeFragment in the onCreate method like I did it here:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n\n        val toggle = ActionBarDrawerToggle(\n                this, drawer_layout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n        drawer_layout.addDrawerListener(toggle)\n        toggle.syncState()\n\n        nav_view.setNavigationItemSelectedListener(this)\n\n        var welcomeFragment = Fragment.instantiate(this@MainActivity,\n                WelcomeFragment::class.java!!.getName())\n\n        addFragment( welcomeFragment, welcome)\n\n    }\n\n    inline fun android.support.v4.app.FragmentManager.inTransaction(func:               android.support.v4.app.FragmentTransaction.() -&gt; android.support.v4.app.FragmentTransaction) {\n    beginTransaction().func().commit()\n    }\n\n\n    fun AppCompatActivity.addFragment(fragment: Fragment, frameId: Int){\n        supportFragmentManager.inTransaction { add(frameId, fragment) }\n    }\n\n    fun AppCompatActivity.replaceFragment(fragment: Fragment, frameId: Int) {\n        supportFragmentManager.inTransaction{replace(frameId, fragment)}\n    }\n\n\n\n\n    }\n</code></pre>\n\n<p>I don't seem to get why I can't declare the property and later assign it. It's possible to declare it with lateinit but when I then try to assign it like this:</p>\n\n<pre><code>var welcomeFragment = Fragment.instantiate(this@MainActivity,\n                WelcomeFragment::class.java!!.getName())\n</code></pre>\n\n<p>I get \"Type mismatch - Required: Fragment, found: WelcomeFragment!\"\nAlso, if I try to do this:</p>\n\n<pre><code>addFragment(WelcomeFragment, welcome)\n</code></pre>\n\n<p>Android Studio complains about WelcomeFragment \u00b4(which is right now just empty except for a TextView saying \"Welcome\") not having a companion object. I have tried to make one but I don't really understand what it has to do. Reading the documentation didnt help me either with this one. </p>\n\n<p>So my question is: How do I do the instantiating right, and or do I have to do it at all when most of my fragments will be one instance only. Can I avoid this by properly adding a companion object to my fragments? How would that look?</p>\n\n<p>Any help on this, hints at misconceptions I have here, or general stupidity pointed out would be greatly appreciated!</p>\n"}, {"tags": ["android", "list", "inheritance", "kotlin"], "comments": [{"owner": {"reputation": 4319, "user_id": 4874829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cfECAGc8huU/AAAAAAAAAAI/AAAAAAAAAJk/Pebw5H-quLo/photo.jpg?sz=128", "display_name": "Yoav Sternberg", "link": "https://stackoverflow.com/users/4874829/yoav-sternberg"}, "edited": false, "score": 0, "creation_date": 1507563629, "post_id": 46650079, "comment_id": 80249350, "body": "As far as I know, you&#39;ll have to cast the expression to <code>HashMap&lt;String, List&lt;DataStatus&gt;&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1507564772, "post_id": 46650387, "comment_id": 80250093, "body": "@lannyf Thanks to have pointed out your doubts, I&#39;ve edited my answer using a better explanation"}], "tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 8, "last_activity_date": 1507564807, "last_edit_date": 1507564807, "creation_date": 1507564205, "answer_id": 46650387, "question_id": 46650079, "link": "https://stackoverflow.com/questions/46650079/in-kotlin-how-to-pass-back-a-mutablelist-where-the-destination-expects-a-list/46650387#46650387", "title": "in kotlin, how to pass back a MutableList where the destination expects a List", "body": "<p>You have two solutions depending on your needs.</p>\n\n<p><strong>Cast it</strong></p>\n\n<p>Considering that <code>MutableList</code> is a subclass of <code>List</code>, you can cast it. There's only a problem here: you will lose immutability. If you cast the <code>List</code> back to <code>MutableList</code>, you can modify its content.</p>\n\n<pre><code>mMap = getDataStatus(repo) as HashMap&lt;String, List&lt;String&gt;&gt;\n</code></pre>\n\n<p><strong>Convert it</strong></p>\n\n<p>In order to maintain immutability on the list, you have to convert each <code>MutableList</code> to an immutable <code>List</code>:</p>\n\n<pre><code>mMap = HashMap&lt;String, List&lt;String&gt;&gt;()\ngetDataStatus(repo).forEach { (s, list) -&gt;\n    mMap?.put(s, list.toList())\n}\n</code></pre>\n\n<p>In this case, if you try to modify the content of a list inside <code>mMap</code>, an exception will be thrown.</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 1, "last_activity_date": 1507595322, "last_edit_date": 1507595322, "creation_date": 1507594476, "answer_id": 46656824, "question_id": 46650079, "link": "https://stackoverflow.com/questions/46650079/in-kotlin-how-to-pass-back-a-mutablelist-where-the-destination-expects-a-list/46656824#46656824", "title": "in kotlin, how to pass back a MutableList where the destination expects a List", "body": "<p>If you do not plan to put new items in the map after it was returned to you, just declare your variable having a more permissive type:</p>\n\n<pre><code>// prohibits calling members that take List&lt;DataStatus&gt; as a parameter,\n// so you can store a HashMap with values of any List subtype, \n// for example of MutableList\nprivate var mMap: HashMap&lt;String, out List&lt;DataStatus&gt;&gt;? = null\n</code></pre>\n\n<p>or</p>\n\n<pre><code>// prohibits calling mutating methods\n// List&lt;DataStatus&gt; already has 'out' variance\nprivate var mMap: Map&lt;String, List&lt;DataStatus&gt;&gt;? = null\n</code></pre>\n\n<p>If you for some reason need that variable to have exactly that type, then you need to convert or upcast values in the returned map:</p>\n\n<pre><code>mMap = getDataStatus(resp).mapValuesTo(HashMap()) { (_, v) -&gt; v as List&lt;DataStatus&gt; }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68, "user_id": 8022768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894470770840835/picture?type=large", "display_name": "Alexandr  Tolstikov", "link": "https://stackoverflow.com/users/8022768/alexandr-tolstikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1507596540, "creation_date": 1507596540, "answer_id": 46657055, "question_id": 46650079, "link": "https://stackoverflow.com/questions/46650079/in-kotlin-how-to-pass-back-a-mutablelist-where-the-destination-expects-a-list/46657055#46657055", "title": "in kotlin, how to pass back a MutableList where the destination expects a List", "body": "<p>One great solution is:</p>\n\n<pre><code>private var mMap: Map&lt;String, List&lt;DataStatus&gt;&gt;? = null // Do you \n//really need to have object with interface of HashMap? I don't think so..\nmMap = getDataStatus(resp).mapValues { it.value.toList() } \n// add as HashMap&lt;String, List&lt;DataStatus&gt;&gt; if you really need \n//HashMap interface\n</code></pre>\n\n<p>So, using var + nullable types is not recommended when using Kotlin. Maybe you want follows:</p>\n\n<pre><code>val mMap = mutableMapOf&lt;String, List&lt;DataStatus&gt;()\n</code></pre>\n\n<p>or immediately:</p>\n\n<pre><code>val mMap = getDataStatus(resp).mapValues {\n it.value.toList()\n}\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6380, "favorite_count": 2, "accepted_answer_id": 46650387, "answer_count": 3, "score": 6, "last_activity_date": 1507596540, "creation_date": 1507563181, "last_edit_date": 1507567940, "question_id": 46650079, "link": "https://stackoverflow.com/questions/46650079/in-kotlin-how-to-pass-back-a-mutablelist-where-the-destination-expects-a-list", "title": "in kotlin, how to pass back a MutableList where the destination expects a List", "body": "<p>having a hashMap with List as value defined:</p>\n\n<pre><code>     private var mMap: HashMap&lt;String, List&lt;DataStatus&gt;&gt;? = null\n</code></pre>\n\n<p>having a function return a hashMap but with the value of MutableList</p>\n\n<pre><code>     fun getDataStatus(response: JSONObject?): HashMap&lt;String, MutableList&lt;DataStatus&gt;&gt; {\n\n          return HashMap&lt;String, MutableList&lt;AccountStatusAlert&gt;&gt;()\n     }\n</code></pre>\n\n<p>when pass the result to the hashMap expecting List it got error:</p>\n\n<pre><code>     mMap = getDataStatus(resp) //&lt;== got error\n</code></pre>\n\n<p>got error:</p>\n\n<pre><code>Error:(81, 35) Type mismatch: inferred type is HashMap&lt;String, \nMutableList&lt;DataStatus&gt;&gt; but HashMap&lt;String, List&lt;DataStatus&gt;&gt;? was expected\n</code></pre>\n"}, {"tags": ["android", "arrays", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1507570325, "post_id": 46648422, "comment_id": 80252860, "body": "Can you please add error log which you are getting?"}, {"owner": {"reputation": 13, "user_id": 8688889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/200b78501fb7276a04fb3074cdda6723?s=128&d=identicon&r=PG&f=1", "display_name": "EmanyHeather", "link": "https://stackoverflow.com/users/8688889/emanyheather"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1507649260, "post_id": 46648422, "comment_id": 80289444, "body": "Only saw this now sorry. Going to edit my question with the error"}, {"owner": {"reputation": 13, "user_id": 8688889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/200b78501fb7276a04fb3074cdda6723?s=128&d=identicon&r=PG&f=1", "display_name": "EmanyHeather", "link": "https://stackoverflow.com/users/8688889/emanyheather"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1507799595, "post_id": 46648422, "comment_id": 80358121, "body": "Any ideas @pRaNaY ?"}], "owner": {"reputation": 13, "user_id": 8688889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/200b78501fb7276a04fb3074cdda6723?s=128&d=identicon&r=PG&f=1", "display_name": "EmanyHeather", "link": "https://stackoverflow.com/users/8688889/emanyheather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1507649371, "creation_date": 1507558002, "last_edit_date": 1507649371, "question_id": 46648422, "link": "https://stackoverflow.com/questions/46648422/populate-string-with-firestore", "title": "Populate String with Firestore", "body": "<p>I have this spinner which is populated by an array of strings.\nI tried replacing this for a Document I have in <a href=\"https://imgur.com/a/Ej2aK\" rel=\"nofollow noreferrer\">firestore</a> although the result I get is <a href=\"https://imgur.com/a/Ej2aK\" rel=\"nofollow noreferrer\">this</a>, before the app crashes.</p>\n\n<p>Could I please get some help on how to populate my array with the information from my Document? Been around this for day without any luck :/</p>\n\n<p>Thanks</p>\n\n<pre><code>    private var db = FirebaseFirestore.getInstance()\n\n\n   private var spinnerArray: Array&lt;Task&lt;QuerySnapshot&gt;&gt; =  arrayOf(db.collection(\"KitList\").get()\n           .addOnCompleteListener { task -&gt;\n               if (task.isSuccessful) {\n                   spinnerArray = task.result as Array&lt;Task&lt;QuerySnapshot&gt;&gt;\n\n //or however you get your document array\n                   for (document in task.result) {\n                       Log.d(\"weight05\", document.id + \" =&gt; \" + document.data)\n                   }\n               } else {\n                   Log.w(\"error\", \"Error getting documents.\", task.exception)\n               }\n           })\n    var newKitList = mutableListOf&lt;String&gt;()\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_new_kit_list)\n    var addButton = addKitItemBtn\n\n\n\n\n    val spinner = newKitItemSpinner\n    val spinnerArrayAdapter = ArrayAdapter(this, android.R.layout.simple_spinner_dropdown_item, spinnerArray)\n    //selected item will look like a spinner set from XML\n    spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    spinner.adapter = spinnerArrayAdapter\n\n    val kitList = newKistListView\n    val listViewAdapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, newKitList)\n    kitList.adapter = listViewAdapter\n\n\n\n\n    addButton.setOnClickListener(object : View.OnClickListener {\n        override fun onClick(v: View?) {\n            val selectedItem = spinner.selectedItem.toString()\n            newKitList.add(selectedItem)\n            listViewAdapter.notifyDataSetChanged()\n        }\n    })\n</code></pre>\n\n<p><strong>ERROR LOG:</strong></p>\n\n<pre><code>0-10 16:28:48.176 23462-23462/com.reecreate.woderator2 E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                      Process: com.reecreate.woderator2, PID: 23462\n                                                                      java.lang.ClassCastException: com.google.firebase.firestore.QuerySnapshot cannot be cast to com.google.android.gms.tasks.Task[]\n                                                                          at com.reecreate.woderator2.Controller.NewKitListActivity$spinnerArray$1.onComplete(NewKitListActivity.kt:27)\n                                                                          at com.google.android.gms.tasks.zzf.run(Unknown Source)\n                                                                          at android.os.Handler.handleCallback(Handler.java:751)\n                                                                          at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                          at android.os.Looper.loop(Looper.java:154)\n                                                                          at android.app.ActivityThread.main(ActivityThread.java:6119)\n                                                                          at java.lang.reflect.Method.invoke(Native Method)\n                                                                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n                                                                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 2, "creation_date": 1507558215, "post_id": 46648318, "comment_id": 80246036, "body": "Gradle version?"}, {"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "edited": false, "score": 0, "creation_date": 1507558599, "post_id": 46648318, "comment_id": 80246280, "body": "Can you post here the list of your dependencies with their versions?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1507559105, "post_id": 46648318, "comment_id": 80246591, "body": "I updated my question. My dependencies do not matter becase this happens with all kinds of Kotlin projects."}, {"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "edited": false, "score": 0, "creation_date": 1507559724, "post_id": 46648318, "comment_id": 80247001, "body": "@AdamArold It matters if you are using different versions of <code>Kotlin</code> for two <code>Kotlin</code> dependencies"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1507594821, "post_id": 46648318, "comment_id": 80262716, "body": "Please provide at least the version of Kotlin gradle plugin."}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 3, "last_activity_date": 1507623786, "creation_date": 1507623786, "answer_id": 46661882, "question_id": 46648318, "link": "https://stackoverflow.com/questions/46648318/building-kotlin-projects-with-gradle-sometimes-fails-with-noclassdeffounderror/46661882#46661882", "title": "Building Kotlin projects with Gradle sometimes fails with NoClassDefFoundError", "body": "<p>This is a <a href=\"https://youtrack.jetbrains.com/issue/KT-18300\" rel=\"nofollow noreferrer\">known issue with Kotlin</a>. Unfortunately at this time we don't know what exactly causes it.</p>\n"}, {"tags": [], "owner": {"reputation": 746, "user_id": 4501494, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vQlbzv2NqHE/AAAAAAAAAAI/AAAAAAAAADA/UayTLkri1BA/photo.jpg?sz=128", "display_name": "Esmaeil MIRZAEE", "link": "https://stackoverflow.com/users/4501494/esmaeil-mirzaee"}, "is_accepted": false, "score": 3, "last_activity_date": 1512851345, "creation_date": 1512851345, "answer_id": 47732873, "question_id": 46648318, "link": "https://stackoverflow.com/questions/46648318/building-kotlin-projects-with-gradle-sometimes-fails-with-noclassdeffounderror/47732873#47732873", "title": "Building Kotlin projects with Gradle sometimes fails with NoClassDefFoundError", "body": "<p>The cause of this problem is related to use of two or more different Kotlin version. In my case, I use Android Studio 3 and IntelliJ IdeaU 2017. The solution that I used and it worked is: </p>\n\n<ul>\n<li><p>check your Kotlin version in either IDE. In this case, you should update the Kotlin's compiler to the same version.</p></li>\n<li><p>If you use just one IDE, the best possible solution is to remove your IDE and all caches.</p></li>\n</ul>\n\n<p>For more information, please refer to <a href=\"https://discuss.kotlinlang.org/t/errors-following-getting-started-with-intellij-idea-page/1588\" rel=\"nofollow noreferrer\">Kotlin community</a>.</p>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3780, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1512851345, "creation_date": 1507557641, "last_edit_date": 1507559016, "question_id": 46648318, "link": "https://stackoverflow.com/questions/46648318/building-kotlin-projects-with-gradle-sometimes-fails-with-noclassdeffounderror", "title": "Building Kotlin projects with Gradle sometimes fails with NoClassDefFoundError", "body": "<p>I can't reliably reproduce this problem because it is sporadic. This is what I get when I build a <strong>Kotlin</strong> project with <strong>Gradle</strong>:</p>\n\n<pre><code>Could not perform incremental compilation: Could not connect to Kotlin compile daemon\nCould not connect to kotlin daemon. Using fallback strategy.\n:myproj:compileKotlin FAILED\n1 actionable task: 1 executed\ne: java.lang.NoClassDefFoundError: Could not initialize class kotlin.Unit\nwarning: the '-d' option with a directory destination is ignored because '-Xbuild-file' is specified\nException in thread \"Thread-25\" java.lang.NoClassDefFoundError: Could not initialize class kotlin.Unit\n    at org.jetbrains.kotlin.compilerRunner.UtilsKt$runToolInSeparateProcess$readErrThread$1$1.invoke(utils.kt)\n    at kotlin.io.TextStreamsKt.forEachLine(ReadWrite.kt:154)\n    at org.jetbrains.kotlin.compilerRunner.UtilsKt$runToolInSeparateProcess$readErrThread$1.invoke(utils.kt:68)\n    at org.jetbrains.kotlin.compilerRunner.UtilsKt$runToolInSeparateProcess$readErrThread$1.invoke(utils.kt)\n    at kotlin.concurrent.ThreadsKt$thread$thread$1.run(Thread.kt:18)\ne: java.lang.NoClassDefFoundError: Could not initialize class kotlin.Unit\n...\n</code></pre>\n\n<p>I run Gradle with the following options</p>\n\n<ul>\n<li><code>gradle assemble --no-daemon --parallel</code></li>\n<li>I tried this within Docker and on my local machine as well (this even happens on the CI server as well)</li>\n<li>this error is completely sporadic I was not able to pinpoint a cause</li>\n<li>it happens with single and multi-module projects as well</li>\n<li>removing the <code>--parallel</code> or adding <code>--daemon</code> option does not help</li>\n<li>I'm using Gradle <code>4.2</code></li>\n</ul>\n\n<p>What could be the problem?</p>\n"}, {"tags": ["error-handling", "kotlin", "rx-java", "rx-android", "rx-java2"], "comments": [{"owner": {"reputation": 495, "user_id": 6774854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a105d7c663b5df2e16b787791bac6?s=128&d=identicon&r=PG&f=1", "display_name": "masp", "link": "https://stackoverflow.com/users/6774854/masp"}, "edited": false, "score": 0, "creation_date": 1507564612, "post_id": 46648216, "comment_id": 80249996, "body": "It would be easier perhaps if you didn&#39;t continue with error on resume next but with a wrapper object that contains the error?"}, {"owner": {"reputation": 1331, "user_id": 706833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7da2b02238a72bca9a3a0c064ac78d96?s=128&d=identicon&r=PG", "display_name": "iGoDa", "link": "https://stackoverflow.com/users/706833/igoda"}, "reply_to_user": {"reputation": 495, "user_id": 6774854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a105d7c663b5df2e16b787791bac6?s=128&d=identicon&r=PG&f=1", "display_name": "masp", "link": "https://stackoverflow.com/users/6774854/masp"}, "edited": false, "score": 0, "creation_date": 1507564969, "post_id": 46648216, "comment_id": 80250227, "body": "That is a possible solution thanks. However it does not defeat the purpose of having a onError() onNext() method?"}, {"owner": {"reputation": 495, "user_id": 6774854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a105d7c663b5df2e16b787791bac6?s=128&d=identicon&r=PG&f=1", "display_name": "masp", "link": "https://stackoverflow.com/users/6774854/masp"}, "edited": false, "score": 2, "creation_date": 1507566626, "post_id": 46648216, "comment_id": 80251116, "body": "&#39;purpose of having a onError() onNext() method?&#39; It depends on what you define as <code>Error</code> in your system. I agree with the article @LordRaydenMK mentions and also <a href=\"http://blog.danlew.net/2015/12/08/error-handling-in-rxjava/\" rel=\"nofollow noreferrer\">this one</a>. <code>OnError</code> should be used for cases where your app/system doesn&#39;t know how to handle. You should not throw exceptions every time the system doesn&#39;t follow the &quot;happy path&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "is_accepted": true, "score": 6, "last_activity_date": 1507566119, "creation_date": 1507566119, "answer_id": 46650921, "question_id": 46648216, "link": "https://stackoverflow.com/questions/46648216/rxandroid-handle-errors-with-zip-operator/46650921#46650921", "title": "RxAndroid - Handle Errors with Zip operator", "body": "<p>You can model your observables using data classes. E.g.</p>\n\n<pre><code>sealed class Response {\n    data class Success(val data: String) : Response()\n    data class Error(val t: Throwable) : Response()\n}\n</code></pre>\n\n<p>then you can map your observables to Response like this:</p>\n\n<pre><code>val first: Observable&lt;Response&gt; = observable1\n        .map&lt;Response&gt; { Response.Success(it) }\n        .onErrorReturn { Response.Error(it) }\n\nval second: Observable&lt;Response&gt; = observable2\n        .map&lt;Response&gt; { Response.Success(it) }\n        .onErrorReturn { Response.Error(it) }\n</code></pre>\n\n<p>and you can combine them:</p>\n\n<pre><code>Observable.zip(\n        first,\n        second,\n        BiFunction { t1: Response, t2: Response -&gt; Pair(t1, t2) }\n).subscribe({println(it)})\n</code></pre>\n\n<p>this prints: </p>\n\n<blockquote>\n  <p>(Error(t=java.lang.Exception: Error 1), Error(t=java.lang.Exception:\n  Error 2))</p>\n</blockquote>\n\n<p>Also take a look at <a href=\"https://medium.com/@ZakTaccardi/api-design-handling-exceptions-84a143e32232\" rel=\"noreferrer\">this article</a>.</p>\n"}], "owner": {"reputation": 1331, "user_id": 706833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7da2b02238a72bca9a3a0c064ac78d96?s=128&d=identicon&r=PG", "display_name": "iGoDa", "link": "https://stackoverflow.com/users/706833/igoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2076, "favorite_count": 1, "accepted_answer_id": 46650921, "answer_count": 1, "score": 1, "last_activity_date": 1507566119, "creation_date": 1507557370, "question_id": 46648216, "link": "https://stackoverflow.com/questions/46648216/rxandroid-handle-errors-with-zip-operator", "title": "RxAndroid - Handle Errors with Zip operator", "body": "<p>I'm trying to find a way to execute requests in parallel and handle them when every observable finishes. Despite everything is working when all observables gives a response, I not seeing a way to handle each all errors when everything is finished.</p>\n\n<p>This is a sample of zip operator, which basically executes 2 requests in parallel:</p>\n\n<pre><code>Observable.zip(\n                getObservable1()\n                        .onErrorResumeNext { errorThrowable: Throwable -&gt;\n                            Observable.error(ErrorEntity(Type.ONE, errorThrowable))\n                        }.subscribeOn(Schedulers.io()),\n                getObservable2()\n                        .onErrorResumeNext { errorThrowable: Throwable -&gt;\n                            Observable.error(ErrorEntity(Type.TWO, errorThrowable))\n                        }.subscribeOn(Schedulers.io()),\n                BiFunction { value1: String, value2: String -&gt;\n                    return@BiFunction value1 + value2\n                })\n                //execute requests should be on io() thread\n                .subscribeOn(Schedulers.io())\n                //there are other tasks inside subscriber that need io() thread\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(\n                        { result -&gt;\n                            Snackbar.make(view, \"Replace with your own action \" + result, Snackbar.LENGTH_LONG)\n                                    .setAction(\"Action\", null).show()\n                        },\n                        { error -&gt;\n                            Log.d(\"TAG\", \"Error is : \" + (error as ErrorEntity).error.message)\n                        }\n                )\n\n\nprivate fun getObservable1(): Observable&lt;String&gt; {\n    return Observable.defer {\n        throw Throwable(\"Error 1\")\n    }\n}\n\nprivate fun getObservable2(): Observable&lt;String&gt; {\n    return Observable.defer {\n        throw Throwable(\"Error 2\")\n    }\n}\n</code></pre>\n\n<p>Problem with this approach is that there is no mechanism to join each error like BiFunction do for the success case. Therefore, the zip operator will only trigger the first error and will ignore the others.</p>\n\n<p>Output:</p>\n\n<pre><code>D/TAG: Error is : Error 1\n</code></pre>\n\n<p>Is there any way to retrieve all errors only after every observable inside zip completed or gave an error? </p>\n\n<p>My main goal is to see which requests gave an error and execute only those after a dialog appears to the user asking him if he wants to retry the failed requests.</p>\n"}, {"tags": ["java-native-interface", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 3, "last_activity_date": 1507570485, "last_edit_date": 1507570485, "creation_date": 1507558429, "answer_id": 46648551, "question_id": 46648121, "link": "https://stackoverflow.com/questions/46648121/kotlin-native-interface/46648551#46648551", "title": "Kotlin native interface", "body": "<p>Under the hood, the implementation is the same, because it will be converted to the same Java code. It means that it's efficient as your Java code.</p>\n\n<p>Given this Kotlin class with the native method <code>nativeMethod()</code>:</p>\n\n<pre><code>class ExampleJni {\n\n    companion object {\n        init {\n            System.loadLibrary(\"example-jni\")\n        }\n    }\n\n    external fun nativeMethod(): String\n}\n</code></pre>\n\n<p>It will use the \"same\" implementation of this Java class (the conversion isn't exactly the same, but it won't impact the native implementation):</p>\n\n<pre><code>public class ExampleJni {\n\n    static {\n        System.loadLibrary(\"hello-jni\");\n    }\n\n    public final native String nativeMethod();\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>To be more clear about the conversion. If you decompile the Kotlin code, you can see that it's converted to two classes.\nThe first one is containing the native methods:</p>\n\n<pre><code>@dalvik.annotation.MemberClasses \n@kotlin.Metadata \npublic final class ExampleJni {\n\n    public static final ExampleJni$Companion Companion;\n\n    public ExampleJni() { ... }\n\n    static void &lt;clinit&gt;() { ... }\n    @org.jetbrains.annotations.NotNull \n    // Here you can see that the implementation is the same.\n    public final native String nativeMethod() { ... }\n}\n</code></pre>\n\n<p>The other one is the inner class related to the <code>companion object</code>.</p>\n\n<pre><code>@dalvik.annotation.EnclosingClass \n@dalvik.annotation.InnerClass \n@kotlin.Metadata \npublic final class ExampleJni$Companion {\n\n    private ExampleJni$Companion() { ... }\n    public ExampleJni$Companion(DefaultConstructorMarker) { ... }\n} \n</code></pre>\n"}], "owner": {"reputation": 482, "user_id": 8001960, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/i59dG.jpg?s=128&g=1", "display_name": "Bord81", "link": "https://stackoverflow.com/users/8001960/bord81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2162, "favorite_count": 1, "accepted_answer_id": 46648551, "answer_count": 1, "score": 2, "last_activity_date": 1507570485, "creation_date": 1507557072, "question_id": 46648121, "link": "https://stackoverflow.com/questions/46648121/kotlin-native-interface", "title": "Kotlin native interface", "body": "<p>Does Kotlin use the same native interface implementation as Java under the hood?\nIs it as efficient (or ineffecient) as in Java (cost of objects transfer, byte streams, etc.)?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "mvp", "android-constraintlayout"], "comments": [{"owner": {"reputation": 322, "user_id": 2229157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dIubx.jpg?s=128&g=1", "display_name": "CiDsTaR", "link": "https://stackoverflow.com/users/2229157/cidstar"}, "edited": false, "score": 0, "creation_date": 1520587746, "post_id": 46646744, "comment_id": 85386037, "body": "Did you find a solution?"}, {"owner": {"reputation": 227, "user_id": 4614550, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/X0OB7.jpg?s=128&g=1", "display_name": "Ahmed Elshaer", "link": "https://stackoverflow.com/users/4614550/ahmed-elshaer"}, "reply_to_user": {"reputation": 322, "user_id": 2229157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dIubx.jpg?s=128&g=1", "display_name": "CiDsTaR", "link": "https://stackoverflow.com/users/2229157/cidstar"}, "edited": false, "score": 0, "creation_date": 1521932845, "post_id": 46646744, "comment_id": 85944308, "body": "yea, it was an issue that the UI code is not running in the UI Thread and i fixied it by calling <code>runOnUiThread</code> and notifying my adapter inside it"}], "answers": [{"comments": [{"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "reply_to_user": {"reputation": 227, "user_id": 4614550, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/X0OB7.jpg?s=128&g=1", "display_name": "Ahmed Elshaer", "link": "https://stackoverflow.com/users/4614550/ahmed-elshaer"}, "edited": false, "score": 0, "creation_date": 1507579538, "post_id": 46653496, "comment_id": 80257691, "body": "Try to use a fixed size in your item root element. like 100dp or 200dp to see if the issue persist"}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 1, "last_activity_date": 1507576522, "creation_date": 1507576522, "answer_id": 46653496, "question_id": 46646744, "link": "https://stackoverflow.com/questions/46646744/recyclerview-items-doesnt-appear-until-i-scroll-it/46653496#46653496", "title": "RecyclerView Items doesn&#39;t appear until i scroll it", "body": "<p>I noticed in your item xml your constraintLayout height is match_parent right?\nI recommend you to use it as <strong>wrap_content</strong></p>\n"}, {"comments": [{"owner": {"reputation": 227, "user_id": 4614550, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/X0OB7.jpg?s=128&g=1", "display_name": "Ahmed Elshaer", "link": "https://stackoverflow.com/users/4614550/ahmed-elshaer"}, "edited": false, "score": 0, "creation_date": 1549215168, "post_id": 54328498, "comment_id": 95814831, "body": "i already discovered it myself that i&#39;m not on the main thread , thanks alot this is the correct answer"}], "tags": [], "owner": {"reputation": 56, "user_id": 5639120, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134656039897579/picture?type=large", "display_name": "Martin Malmgren", "link": "https://stackoverflow.com/users/5639120/martin-malmgren"}, "is_accepted": true, "score": 4, "last_activity_date": 1548250460, "creation_date": 1548250460, "answer_id": 54328498, "question_id": 46646744, "link": "https://stackoverflow.com/questions/46646744/recyclerview-items-doesnt-appear-until-i-scroll-it/54328498#54328498", "title": "RecyclerView Items doesn&#39;t appear until i scroll it", "body": "<p>You need to use runOnUiThread.</p>\n\n<pre><code>if(activity != null) {\n       activity!!.runOnUiThread {\n            root.Recycleview.adapter = Adapter(Array)\n            Adapter(Array).notifyDataSetChanged()\n\n       }\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 227, "user_id": 4614550, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/X0OB7.jpg?s=128&g=1", "display_name": "Ahmed Elshaer", "link": "https://stackoverflow.com/users/4614550/ahmed-elshaer"}, "edited": false, "score": 0, "creation_date": 1566640961, "post_id": 57636207, "comment_id": 101726380, "body": "thanks but the problem was solved by the chosen answer as I was trying to update the recyclerview from a background thread"}, {"owner": {"reputation": 2195, "user_id": 2472350, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/slD29.jpg?s=128&g=1", "display_name": "Amin Keshavarzian", "link": "https://stackoverflow.com/users/2472350/amin-keshavarzian"}, "reply_to_user": {"reputation": 227, "user_id": 4614550, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/X0OB7.jpg?s=128&g=1", "display_name": "Ahmed Elshaer", "link": "https://stackoverflow.com/users/4614550/ahmed-elshaer"}, "edited": false, "score": 0, "creation_date": 1566646265, "post_id": 57636207, "comment_id": 101727370, "body": "Yeah, but since this line saved, I posted if someone else was facing the same problem :)"}], "tags": [], "owner": {"reputation": 2195, "user_id": 2472350, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/slD29.jpg?s=128&g=1", "display_name": "Amin Keshavarzian", "link": "https://stackoverflow.com/users/2472350/amin-keshavarzian"}, "is_accepted": false, "score": 2, "last_activity_date": 1566911753, "last_edit_date": 1566911753, "creation_date": 1566634155, "answer_id": 57636207, "question_id": 46646744, "link": "https://stackoverflow.com/questions/46646744/recyclerview-items-doesnt-appear-until-i-scroll-it/57636207#57636207", "title": "RecyclerView Items doesn&#39;t appear until i scroll it", "body": "<p>have a look at this <a href=\"https://stackoverflow.com/a/57636106/2472350\">answer</a></p>\n\n<p>As stupid as it might sound, calling this line of code after setting data for recyclerView, helped me for this issue:</p>\n\n<pre><code>recyclerView.smoothScrollToPosition(0)\n</code></pre>\n\n<p>PS: technologies that I was using that may have something to do with this were: RJava, Retrofit2, NavigationUI, Fragments, LiveData, and Databinding.</p>\n\n<p><strong>EDIT:</strong> \nI followed @SudoPlz comment and <a href=\"https://stackoverflow.com/a/57636106/2472350\">answer</a> on another question and it also worked too, you have to extend RecyclerView and override requestLayout: </p>\n\n<pre><code>private boolean mRequestedLayout = false;\n\n@SuppressLint(\"WrongCall\")\n@Override\npublic void requestLayout() {\n    super.requestLayout();\n    // We need to intercept this method because if we don't our children will never update\n    // Check https://stackoverflow.com/questions/49371866/recyclerview-wont-update-child-until-i-scroll\n    if (!mRequestedLayout) {\n        mRequestedLayout = true;\n        this.post(() -&gt; {\n            mRequestedLayout = false;\n            layout(getLeft(), getTop(), getRight(), getBottom());\n            onLayout(false, getLeft(), getTop(), getRight(), getBottom());\n        });\n    }\n}\n</code></pre>\n\n<p>while still, I would have preferred this to fixed after 4, 5 years, however, this was a good workaround, and you won't forget about them in your view.</p>\n"}], "owner": {"reputation": 227, "user_id": 4614550, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/X0OB7.jpg?s=128&g=1", "display_name": "Ahmed Elshaer", "link": "https://stackoverflow.com/users/4614550/ahmed-elshaer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2216, "favorite_count": 0, "accepted_answer_id": 54328498, "answer_count": 3, "score": 5, "last_activity_date": 1566911753, "creation_date": 1507552912, "last_edit_date": 1507553559, "question_id": 46646744, "link": "https://stackoverflow.com/questions/46646744/recyclerview-items-doesnt-appear-until-i-scroll-it", "title": "RecyclerView Items doesn&#39;t appear until i scroll it", "body": "<p>I'm using <code>Recyclerview</code> inside a <code>Fragment</code> Following <a href=\"https://github.com/googlesamples/android-architecture/tree/todo-mvp/\" rel=\"noreferrer\">Google's sample of MVP</a> Android architecture and I tried to make the <code>View</code> part passive as possible following <a href=\"https://android.jlelse.eu/recyclerview-in-mvp-passive-views-approach-8dd74633158\" rel=\"noreferrer\">this article</a> , which makes the whole <code>Recyclerview</code> <code>Adapter</code> passive of the Data Models and the presenter handles it.</p>\n\n<p><strong>Here is my code of the Fragment:</strong></p>\n\n<pre><code>class OrderHistoryFragment : Fragment(), OrderHistoryContract.View {\n\n\n    lateinit var mPresenter: OrderHistoryContract.Presenter\n    lateinit var rvOrderHistory: RecyclerView\n    lateinit var  orderHistoryAdapter : OrderHistoryAdapter\n\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        val root = inflater!!.inflate(R.layout.order_history_fragment, container, false)\n        rvOrderHistory = root.findViewById&lt;RecyclerView&gt;(R.id.rvOrderHistory)\n        rvOrderHistory.layoutManager = LinearLayoutManager(context, LinearLayout.VERTICAL, false)\n         orderHistoryAdapter = OrderHistoryAdapter(mPresenter, object : HistoryItemListener {\n            override fun onReorder(orderHistory: OrderHistory) {\n\n            }\n\n            override fun onOpenOrder(orderHistory: OrderHistory) {\n                val orderIntent = Intent(activity, OrderDetailActivity::class.java)\n                orderIntent.putExtra(\"orderId\", orderHistory.id)\n                startActivity(orderIntent)\n\n            }\n        })\n        rvOrderHistory.adapter = orderHistoryAdapter\n\n\n        return root\n    }\n\n\n\n    override fun onResume() {\n        super.onResume()\n        mPresenter.start()\n\n    }\n\n    override fun setPresenter(presenter: OrderHistoryContract.Presenter) {\n        mPresenter = checkNotNull&lt;OrderHistoryContract.Presenter&gt;(presenter)\n\n    }\n\n\n    override fun showLoadingIndicator(load: Boolean?) {\n\n\n    }\n\n\n    override fun updateOrdersAdapter() {\n\n        orderHistoryAdapter.notifyDataSetChanged()\n\n\n    }\n\n    override fun showSnackBar(Message: String) {\n        val parentLayout = activity.findViewById&lt;View&gt;(android.R.id.content)\n        val snackBar = Snackbar\n                .make(parentLayout, Message, Snackbar.LENGTH_INDEFINITE)\n        snackBar.setAction(\"Dismiss\") { snackBar.dismiss() }\n        snackBar.setActionTextColor(Color.RED)\n        snackBar.show()\n\n    }\n\n\n    interface HistoryItemListener {\n\n        fun onReorder(orderHistory: OrderHistory)\n\n        fun onOpenOrder(orderHistory: OrderHistory)\n\n    }\n\n    companion object {\n\n        fun newInstance(): OrderHistoryFragment {\n\n            return OrderHistoryFragment()\n        }\n    }\n\n    fun OrderHistoryFragment() {\n\n    }\n\n}\n</code></pre>\n\n<p><strong>And this is my <code>RecyclerView</code> Adapters code</strong></p>\n\n<pre><code>class OrderHistoryAdapter(internal var orderHistoryPresenter: OrderHistoryContract.Presenter, private val listener: OrderHistoryFragment.HistoryItemListener) : RecyclerView.Adapter&lt;OrderHistoryAdapter.ViewHolder&gt;() {\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(parent.context)\n                .inflate(R.layout.order_history_item, parent, false)\n        return ViewHolder(view)\n\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        orderHistoryPresenter.onBindOrdersRow(position, holder)\n        holder.bReOrder!!.setOnClickListener { v -&gt; listener.onReorder(orderHistoryPresenter.getOrderHistoryItem(position)) }\n        holder.cvOrderItem!!.setOnClickListener { v -&gt; listener.onOpenOrder(orderHistoryPresenter.getOrderHistoryItem(position)) }\n\n\n    }\n\n    override fun getItemId(position: Int): Long {\n        return position.toLong()\n    }\n\n    override fun getItemCount(): Int {\n        return orderHistoryPresenter.getOrdersCount()\n    }\n\n\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView), OrderHistoryContract.orderRowView {\n        internal var ivOrderVendor: ImageView? = null\n        internal var tvOrderId: TextView? = null\n        internal var tvOrderItems: TextView? = null\n        internal var tvOrderDate: TextView? = null\n        internal var tvOrderPrice: TextView? = null\n        internal var bReOrder: Button? = null\n        internal var cvOrderItem: CardView? = null\n\n        init {\n            ivOrderVendor = itemView.findViewById&lt;ImageView&gt;(R.id.ivOrderVendor)\n            tvOrderId = itemView.findViewById&lt;TextView&gt;(R.id.tvOrderId)\n            tvOrderItems = itemView.findViewById&lt;TextView&gt;(R.id.tvOrderItems)\n            tvOrderDate = itemView.findViewById&lt;TextView&gt;(R.id.tvOrderDate)\n            tvOrderPrice = itemView.findViewById&lt;TextView&gt;(R.id.tvOrderPrice)\n            bReOrder = itemView.findViewById&lt;Button&gt;(R.id.bReOrder)\n            cvOrderItem = itemView.findViewById&lt;CardView&gt;(R.id.cvOrderItem)\n\n        }\n\n        override fun setOrderImage(url: String) {\n            Glide.with(itemView.context).load(url).into(ivOrderVendor!!)\n\n\n        }\n\n        override fun setOrderDate(orderDate: String) {\n            tvOrderDate!!.text = orderDate\n\n\n        }\n\n        override fun setOrderId(orderId: String) {\n            tvOrderId!!.text = orderId\n\n\n        }\n\n        override fun setOrderItems(orderItems: ArrayList&lt;String&gt;) {\n            val stringBuilder = StringBuilder()\n            for (item in orderItems) {\n                stringBuilder.append(item)\n            }\n            tvOrderItems!!.text = stringBuilder.toString()\n\n\n        }\n\n        override fun setOrderPrice(orderPrice: String) {\n            tvOrderPrice!!.text = R.string.price.toString() + \" \" + orderPrice + \" \" + R.string.egp\n\n        }\n    }\n\n\n}\n</code></pre>\n\n<p><strong>And Here is code of the presenter which handles the <code>Adapter</code> data and it's binding to the <code>ViewHolder</code></strong> </p>\n\n<pre><code>class OrderHistoryPresenter internal constructor(mDataRepository: DataRepository, mOrdeHistoryView: OrderHistoryContract.View) : OrderHistoryContract.Presenter {\n\n\n    private val mDataRepository: DataRepository\n    //refrence of the View to trigger the functions after proccessing the task\n    private val mOrdeHistoryView: OrderHistoryContract.View\n    private var orderHistoryItems = ArrayList&lt;OrderHistory&gt;()\n\n\n    init {\n        this.mDataRepository = checkNotNull(mDataRepository, \"tasksRepository cannot be null\")\n        this.mOrdeHistoryView = checkNotNull&lt;OrderHistoryContract.View&gt;(mOrdeHistoryView, \"tasksView cannot be null!\")\n\n        mOrdeHistoryView.setPresenter(this)\n    }\n\n\n    override fun start() {\n        mOrdeHistoryView.showLoadingIndicator(true)\n        mDataRepository.getCurrentUser(object : LocalDataSource.userRequestCallback {\n            override fun onUserRequestSuccess(botitUser: BotitUser) {\n                val urlParams = HashMap&lt;String, String&gt;()\n                urlParams.put(Endpoints.USER_ID_KEY, botitUser.userId!!)\n                val url = Endpoints.getUrl(Endpoints.urls.ORDER_HISTORY, urlParams)\n                mDataRepository.buildEndPointRequest(url, \" \", Endpoints.requestsType.GET, object : EndpointDataSource.RequestCallback {\n                    override fun onRequestSuccess(Body: String) {\n                        try {\n                            mOrdeHistoryView.showLoadingIndicator(false)\n                            orderHistoryItems = JSONParser.parseData(JSONParser.parsers.ORDER_HISTORY, JSONObject(Body)) as ArrayList&lt;OrderHistory&gt;\n                            mOrdeHistoryView.updateOrdersAdapter()\n                        } catch (e: JSONException) {\n                            e.printStackTrace()\n                        }\n\n                    }\n\n                    override fun onRequestError(Body: String) {\n                        mOrdeHistoryView.showLoadingIndicator(false)\n                        mOrdeHistoryView.showSnackBar(\"Cannot load data\")\n\n                    }\n                })\n\n            }\n\n            override fun onUserRequestError(Body: String) {\n\n            }\n        })\n    }\n\n\n    override fun refreshData() {\n\n\n    }\n\n    override fun getOrdersCount(): Int {\n\n            return orderHistoryItems.size\n\n\n    }\n\n    override fun onBindOrdersRow(position: Int, orderViewHolder: OrderHistoryContract.orderRowView) {\n        if (orderHistoryItems.isNotEmpty()) {\n            val orderHistory = orderHistoryItems[position]\n//            orderViewHolder.setOrderDate(orderHistory.orderDate!!)\n            orderViewHolder.setOrderId(orderHistory.orderId!!)\n            orderViewHolder.setOrderImage(orderHistory.orderImage!!)\n            orderViewHolder.setOrderItems(orderHistory.orderItems)\n            orderViewHolder.setOrderPrice(orderHistory.orderPrice!!)\n        }\n\n\n    }\n\n    override fun getOrderHistoryItem(position: Int): OrderHistory {\n        return orderHistoryItems[position]\n    }\n\n    override fun actionReOrder(ordreId: String) {\n\n\n    }\n\n\n}\n</code></pre>\n\n<p><strong>Here is the <code>Fragment</code> XML</strong> </p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView android:layout_width=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/rvOrderHistory\"\n    android:layout_height=\"match_parent\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n        &lt;/android.support.v7.widget.RecyclerView&gt;\n</code></pre>\n\n<p>and Here is the RecyclerView Item XML order_history_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/cvOrderItem\"\n    android:layout_margin=\"4dp\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        android:padding=\"8dp\"&gt;\n\n\n        &lt;ImageView\n            android:id=\"@+id/ivOrderVendor\"\n            android:layout_width=\"60dp\"\n            android:layout_height=\"60dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@drawable/mac\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tvOrderId\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:text=\"Order #2123\"\n            android:textAppearance=\"@style/TextAppearance.AppCompat.Body2\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintLeft_toRightOf=\"@+id/ivOrderVendor\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tvOrderItems\"\n            android:layout_width=\"242dp\"\n            android:layout_height=\"35dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:text=\"MacDonald\u2019s: Big Mac Beef, Big Tasty Beef. El Ezaby: Signal 2, Pantene Shampoo\"\n            android:textAppearance=\"@style/TextAppearance.AppCompat.Small\"\n            android:layout_marginRight=\"8dp\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            android:layout_marginTop=\"8dp\"\n            app:layout_constraintTop_toBottomOf=\"@+id/tvOrderId\"\n            app:layout_constraintLeft_toRightOf=\"@+id/ivOrderVendor\"\n            android:layout_marginLeft=\"8dp\"\n            app:layout_constraintHorizontal_bias=\"0.0\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tvOrderDate\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"8dp\"\n            android:layout_marginEnd=\"16dp\"\n            android:layout_marginRight=\"16dp\"\n            android:layout_marginTop=\"8dp\"\n            android:text=\"03:22 PM 23/2/2017\"\n            app:layout_constraintBottom_toTopOf=\"@+id/tvOrderItems\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.0\"\n            android:layout_marginLeft=\"8dp\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"1.0\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tvOrderPrice\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"16dp\"\n            android:text=\"Price: 225.50 LE\"\n            android:textAppearance=\"@style/TextAppearance.AppCompat.Body2\"\n            app:layout_constraintHorizontal_bias=\"0.0\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/tvOrderItems\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/bReOrder\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"35dp\"\n            android:layout_margin=\"4dp\"\n            android:background=\"@drawable/chip_accent\"\n            android:foreground=\"?attr/selectableItemBackground\"\n            android:orientation=\"vertical\"\n            android:padding=\"8dp\"\n            android:text=\"Order Again\"\n            android:textAllCaps=\"false\"\n            android:textColor=\"@color/colorAccent\"\n            android:textSize=\"15sp\"\n            app:layout_constraintHorizontal_bias=\"0.937\"\n            app:layout_constraintLeft_toRightOf=\"@+id/tvOrderPrice\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/tvOrderItems\"\n            tools:layout_editor_absoluteY=\"74dp\" /&gt;\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p>The issue is that when I start the <code>Activity</code> showing the <code>Fragment</code>, the <code>RecyclerView</code> doesn't show the Item. It only appears if I scrolled the empty <code>RecyclerView</code> or by leaving the App on the foreground and go back to it again.</p>\n\n<p>At the initialization the data of the <code>Adapter</code> is empty but <code>onResume()</code> I make a request which updates the data at the Presenter, Then I <code>notifyDataChange()</code> on the <code>Adapter</code> but nothing updates.</p>\n\n<p>When I debugged I found that <code>onBindViewHolder()</code> isn't called after <code>notifyDataChange()</code> on the Adapter so i don't know why the <code>notifyDataChange()</code> doesn't notify the <code>Adapter</code> that the data is changed.</p>\n\n<p>Anyone has an idea or any solution that might fix this issue?</p>\n"}, {"tags": ["arrays", "generics", "multidimensional-array", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1507553432, "last_edit_date": 1507553432, "creation_date": 1507552796, "answer_id": 46646698, "question_id": 46646541, "link": "https://stackoverflow.com/questions/46646541/two-dimensional-generic-array-provider/46646698#46646698", "title": "Two dimensional generic Array provider", "body": "<p>First, your inner <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/-init-.html\" rel=\"nofollow noreferrer\"><code>Array</code> constructor</a> call is missing its second <code>init</code> parameter, the lambda where you create the initial elements that the <code>Array</code> will contain. If you, say, want to fill it all with the same element, you could pass that as a parameter:</p>\n\n<pre><code>fun &lt;T&gt; array2dim(sizeOuter: Int, sizeInner: Int, element: T): Array&lt;Array&lt;T&gt;&gt;\n            = Array(sizeOuter) { Array(sizeInner) { element } }\n</code></pre>\n\n<p>You could also use the outer and inner indexes and create initial elements based on those:</p>\n\n<pre><code>fun &lt;T&gt; array2dim(sizeOuter: Int, \n                  sizeInner: Int, \n                  createElement: (Int, Int) -&gt; T): Array&lt;Array&lt;T&gt;&gt;\n        = Array(sizeOuter) { outerIndex -&gt;\n              Array(sizeInner) { innerIndex -&gt;\n                  createElement(outerIndex, innerIndex)\n              } \n          }\n</code></pre>\n\n<p>If you have nothing to initialize your <code>Array</code> with when you create it, consider creating nullable inner <code>Array</code>s with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/array-of-nulls.html\" rel=\"nofollow noreferrer\"><code>arrayOfNulls</code></a>.</p>\n\n<hr>\n\n<p>These will still give you an error about not being able to access <code>T</code> - see <a href=\"https://stackoverflow.com/a/41946516/4465208\">this answer</a> to a related question for the explanation, but you'll need to mark your <code>T</code> as <code>reified</code> (and consequently, your function as <code>inline</code>):</p>\n\n<pre><code>inline fun &lt;reified T&gt; array2dim(sizeOuter: Int, sizeInner: Int, element: T)\n            : Array&lt;Array&lt;T&gt;&gt;\n            = Array(sizeOuter) { Array(sizeInner) { element } }\n</code></pre>\n"}], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 46646698, "answer_count": 1, "score": 2, "last_activity_date": 1507998622, "creation_date": 1507552326, "last_edit_date": 1507998622, "question_id": 46646541, "link": "https://stackoverflow.com/questions/46646541/two-dimensional-generic-array-provider", "title": "Two dimensional generic Array provider", "body": "<p>I'm trying to implement generic two dimensional array provider in Kotlin:</p>\n\n<pre><code>public fun &lt;T&gt; array2dim(sizeOuter: Int, sizeInner: Int): Array&lt;Array&lt;T&gt;&gt;\n            = Array(sizeOuter) { Array(sizeInner) }\n</code></pre>\n\n<p>but can't figure out how to overcome the issue.</p>\n\n<p>The compiler says: <strong>Type interface failed: Not enough information to infer parameter T in\nconstructor Array\n(\nsize: Int,\ninit: (Int) \u2192 T\n)\nPlease specify it explicitly.</strong></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1507551487, "post_id": 46646239, "comment_id": 80241482, "body": "Please post just one part of the code with its inputs and expected outputs. Also, if you don&#39;t know what&#39;s happening when your code is executed, use the debugger to follow the values in it."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1507551535, "post_id": 46646239, "comment_id": 80241515, "body": "Please provide more details about what is not correct, what you expect from this code and what research you have already done. Questions asking for debugging help and only providing the sources without an explanation are considered off-topic on StackOverflow."}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 1, "creation_date": 1507551580, "post_id": 46646239, "comment_id": 80241542, "body": "&quot;Android not applying math correclty&quot; that&#39;s quite a statement :D I suggest you to write a small test case, to verify your calculations are correct"}, {"owner": {"reputation": 11, "user_id": 8745558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35fcc722bf14ca091578608c6c6ade81?s=128&d=identicon&r=PG&f=1", "display_name": "LyndaH", "link": "https://stackoverflow.com/users/8745558/lyndah"}, "edited": false, "score": 0, "creation_date": 1507552283, "post_id": 46646239, "comment_id": 80241995, "body": "A simple calculation: for 10:12 (minutes and seconds) at a pace of 1:23 (mm:ss again) the distance in KM is 7.37 (and I get that value correctly). Although, when I convert it to Miles, it gives me 4.35 when it should give me 4.58 Miles"}, {"owner": {"reputation": 11, "user_id": 8745558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35fcc722bf14ca091578608c6c6ade81?s=128&d=identicon&r=PG&f=1", "display_name": "LyndaH", "link": "https://stackoverflow.com/users/8745558/lyndah"}, "edited": false, "score": 0, "creation_date": 1507552915, "post_id": 46646239, "comment_id": 80242388, "body": "I did verify the calculations on a paper before writing them :)"}, {"owner": {"reputation": 11, "user_id": 8745558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35fcc722bf14ca091578608c6c6ade81?s=128&d=identicon&r=PG&f=1", "display_name": "LyndaH", "link": "https://stackoverflow.com/users/8745558/lyndah"}, "edited": false, "score": 0, "creation_date": 1507553627, "post_id": 46646239, "comment_id": 80242883, "body": "I put a breakpoint on the val I calculate it and I see the value being passed as 4.35 instead of 4.58. So weird. I even tried using toDouble"}], "answers": [{"tags": [], "owner": {"reputation": 686, "user_id": 1968123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8ced43546846efec1fd41ae1600099?s=128&d=identicon&r=PG", "display_name": "Henning Dodenhof", "link": "https://stackoverflow.com/users/1968123/henning-dodenhof"}, "is_accepted": false, "score": 0, "last_activity_date": 1507718656, "creation_date": 1507718656, "answer_id": 46686227, "question_id": 46646239, "link": "https://stackoverflow.com/questions/46646239/unit-conversion-kilometers-to-miles-doesnt-return-the-expected-result/46686227#46686227", "title": "Unit conversion kilometers to miles doesn&#39;t return the expected result", "body": "<p>This is a rounding issue. Lets break it down:</p>\n\n<pre><code>val timeInSeconds = timeToSeconds(time)\nval paceInSeconds = timeToSeconds(pace)\nval timeDivPace = timeInSeconds.div(paceInSeconds)\nval calculatedDistance = timeDivPace * 0.621371\n</code></pre>\n\n<p>Using the sample data from your comment, <code>timeInSeconds</code> is 612 and <code>paceInSeconds</code> is 83. You expect <code>timeDivPace</code> to be 7.373494 but it actually is 7 because a division of two integers returns an integer as result.</p>\n\n<p>The fix is simple: convert either the dividend or the divisor to float, e.g.:</p>\n\n<pre><code>val timeDivPace = timeInSeconds.div(paceInSeconds.toFloat())\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8745558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35fcc722bf14ca091578608c6c6ade81?s=128&d=identicon&r=PG&f=1", "display_name": "LyndaH", "link": "https://stackoverflow.com/users/8745558/lyndah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507718656, "creation_date": 1507551347, "last_edit_date": 1507556838, "question_id": 46646239, "link": "https://stackoverflow.com/questions/46646239/unit-conversion-kilometers-to-miles-doesnt-return-the-expected-result", "title": "Unit conversion kilometers to miles doesn&#39;t return the expected result", "body": "<p>I am trying to convert my result from kilometers to miles but the result I get isn't correct.</p>\n\n<p>What seems to be the problem here?</p>\n\n<pre><code>when {\n    // TIME: To calculate your time, fill in your distance and pace\n    time == null -&gt; {\n        val calculatedTime = distance!!.toLong() * timeToSeconds(pace.toString())\n        result.text = \"The runner's time is ${secondsToTime(calculatedTime)}\"\n    }\n    // DISTANCE: To calculate your distance, fill in your time and pace\n    distance == null -&gt; {\n        val calculatedDistance = ((timeToSeconds(time).div(timeToSeconds\n        (pace.toString()))) * 0.621371).format(2)\n        result.text = \"Distance is $calculatedDistance Miles\"\n    }\n    // PACE: To calculate your pace, fill in your time and distance\n    pace == null -&gt; {\n        // Calculate Pace\n        val calculatedPace: Long = timeToSeconds(time).toLong() / distance.toLong()\n\n        Log.i(\"PaceSeconds\", calculatedPace.toString() +\n                secondsToTime(calculatedPace))\n\n        result.text = \"The runner's pace in miles is ${secondsToTime(calculatedPace)}\"\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": true, "score": 4, "last_activity_date": 1507550057, "creation_date": 1507550057, "answer_id": 46645839, "question_id": 46645796, "link": "https://stackoverflow.com/questions/46645796/errorcannot-access-notnull/46645839#46645839", "title": "Error:cannot access NotNull", "body": "<p>After long hours of investigation, found out that, the calling Feature to this library, still using the Java Annotation </p>\n\n<pre><code>annotationProcessor \"com.google.dagger:dagger-compiler:$daggerVersion\"\n</code></pre>\n\n<p>But my library is using <code>kapt</code> as mentioned in the question above. So that's a clash of annotation processor used, and Java annotation processor is used instead I suspect. By changing the calling library annotation processor to </p>\n\n<pre><code>kapt \"com.google.dagger:dagger-compiler:$daggerVersion\"\n</code></pre>\n\n<p>would solve the problem. (remember to add <code>apply plugin: 'kotlin-kapt'</code> at the top as well)</p>\n"}, {"tags": [], "owner": {"reputation": 5303, "user_id": 545026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xviGa.jpg?s=128&g=1", "display_name": "Leo supports Monica Cellio", "link": "https://stackoverflow.com/users/545026/leo-supports-monica-cellio"}, "is_accepted": false, "score": 0, "last_activity_date": 1573242961, "creation_date": 1573242961, "answer_id": 58773023, "question_id": 46645796, "link": "https://stackoverflow.com/questions/46645796/errorcannot-access-notnull/58773023#58773023", "title": "Error:cannot access NotNull", "body": "<p>Besides the case mentioned by Elye, this can also happen when a field annotated with <code>@Inject</code> has no corresponding <code>@Provides</code> method on a Dagger module, or at least a constructor annotated with <code>@Inject</code></p>\n\n<p>I know there is already a Dagger error complaining about this, but I stumbled accross this today after removing the module with the <code>@Provides</code> method and expecting a clean rebuild to tell me what was missing via that error... but I got this error instead.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "accepted_answer_id": 46645839, "answer_count": 2, "score": 2, "last_activity_date": 1573242961, "creation_date": 1507549847, "question_id": 46645796, "link": "https://stackoverflow.com/questions/46645796/errorcannot-access-notnull", "title": "Error:cannot access NotNull", "body": "<p>I encounter the error above when compiling, and it doesn't goes to to any source file. After slowly identify the changes that cause the issue, found out it is apparently the dagger 2 inject is causing issue.</p>\n\n<pre><code>@FragmentScope\n@Subcomponent\npublic interface MyComponent {\n    void inject(MyJavaFragment myJavaFragment);\n\n    void inject(MyJavaClass myJavaClass);\n\n    void inject(MyKotlinClass myKotlinClass); // &lt;- if change to Java, all works\n}\n</code></pre>\n\n<p>I converted MyKotlinClass from Java code to Kotlin, and the error happens. This is in a library, and I already use that in build.gradle</p>\n\n<pre><code>kapt \"com.google.dagger:dagger-compiler:$daggerVersion\"\n</code></pre>\n\n<p>Why? (note: the app code is originally Java, so I didn't change all to Kotlin yet unless needed).</p>\n"}, {"tags": ["android", "kotlin", "android-toolbar", "lottie"], "comments": [{"owner": {"reputation": 246, "user_id": 12805923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDBHrBHZLXp382gqm4Supb0iYO3olDkXm0w09lcKA=k-s128", "display_name": "Ahmet", "link": "https://stackoverflow.com/users/12805923/ahmet"}, "edited": false, "score": 0, "creation_date": 1600809056, "post_id": 46644083, "comment_id": 113204295, "body": "There is a more easy solution, <a href=\"https://stackoverflow.com/a/64017611/12805923\">stackoverflow.com/a/64017611/12805923</a>"}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 2832429, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2veBU.jpg?s=128&g=1", "display_name": "Roberto", "link": "https://stackoverflow.com/users/2832429/roberto"}, "is_accepted": false, "score": 2, "last_activity_date": 1538105611, "creation_date": 1538105611, "answer_id": 52547899, "question_id": 46644083, "link": "https://stackoverflow.com/questions/46644083/use-lottie-animation-in-android-toolbar/52547899#52547899", "title": "Use Lottie animation in Android toolbar", "body": "<p>I also had that doubt and I left my answer in case someone else needed it, I make this code and it works for me.</p>\n\n<p>Create an attribute in the activity:</p>\n\n<pre><code>private LottieDrawable animateCameraIcon;\n</code></pre>\n\n<p>and put this code in your activity <b><i>protected void onCreate(Bundle savedInstanceState)</i></b>:</p>\n\n<pre><code>LottieTask&lt;LottieComposition&gt; task = LottieCompositionFactory.fromRawRes(this, R.raw.camera);\n\ntask.addListener(new LottieListener&lt;LottieComposition&gt;() {\n    @Override\n    public void onResult(LottieComposition result) {\n        Log.i(TAG, \"Loaded camera animation: \"+result);\n        animateCameraIcon = new LottieDrawable();\n        animateCameraIcon.setComposition(result);\n        animateCameraIcon.setRepeatCount(LottieDrawable.INFINITE);\n        animateCameraIcon.setScale(0.23f);\n        animateCameraIcon.playAnimation();\n        animateCameraIcon.setSpeed(0.7f);\n    }\n});\n\ntask.addFailureListener(new LottieListener&lt;Throwable&gt;() {\n   @Override\n   public void onResult(Throwable result) {\n      Log.e(TAG, \"Error loading camera animation: \"+result);\n   }\n});\n</code></pre>\n\n<p>And in the method <b><i>public boolean onCreateOptionsMenu(Menu menu)</i></b> make this:</p>\n\n<pre><code>if(animateCameraIcon != null){\n  MenuItem cameraMenuItem =menu.getItem(0);\n  cameraMenuItem.setIcon(animateCameraIcon);\n}\n</code></pre>\n"}], "owner": {"reputation": 2264, "user_id": 948645, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/541e744d6552b91e24db6691f33b62ed?s=128&d=identicon&r=PG", "display_name": "alexbirkett", "link": "https://stackoverflow.com/users/948645/alexbirkett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1872, "favorite_count": 3, "answer_count": 1, "score": 4, "last_activity_date": 1538118438, "creation_date": 1507544253, "last_edit_date": 1538118438, "question_id": 46644083, "link": "https://stackoverflow.com/questions/46644083/use-lottie-animation-in-android-toolbar", "title": "Use Lottie animation in Android toolbar", "body": "<p>Is it possible to add a lottie animation to an Android toolbar?</p>\n\n<p>I attempted this:</p>\n\n<pre><code>override fun onCreateOptionsMenu(menu : Menu, inflater : MenuInflater) {\n    inflater.inflate(R.menu.menu_program_fragment, menu)\n    val menuFavorite = menu.findItem(R.id.menuSubscribe)\n    val lottieDrawable =  LottieDrawable()\n    LottieComposition.Factory.fromAssetFileName(activity, \"favorite.json\", {\n        composition -&gt;\n        lottieDrawable.setComposition(composition)\n        lottieDrawable.loop(true)\n        lottieDrawable.playAnimation()\n        lottieDrawable.invalidateSelf()\n        menuFavorite.icon = lottieDrawable\n    })\n}\n</code></pre>\n\n<p>This results in a <code>IllegalStateException: You or your view must set a Drawable.Callback before setting the composition.</code></p>\n\n<p>So I added a callback:</p>\n\n<pre><code> lottieDrawable.callback = object : Drawable.Callback {\n            override fun unscheduleDrawable(who: Drawable?, what: Runnable?) {\n            }\n\n            override fun invalidateDrawable(who: Drawable?) {\n             }\n\n            override fun scheduleDrawable(who: Drawable?, what: Runnable?, `when`: Long) {\n            }\n\n        }\n</code></pre>\n\n<p>Which stops the exception occurring but the icon is not drawn in the toolbar.</p>\n\n<p>How do I make this work?</p>\n\n<ul>\n<li><p>Is the problem something to do with the intrinsic height of the <code>LottieDrawable</code>?</p></li>\n<li><p>What should the <code>Drawable.Callback</code> do (if anything)?</p></li>\n<li><p>Are there any implications for the <code>Fragment</code>/<code>Activity</code> lifecycle? I.e should I stop or cleanup something on destruction?</p></li>\n</ul>\n"}, {"tags": ["xml", "string", "loops", "format", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": true, "score": 9, "last_activity_date": 1507550420, "last_edit_date": 1507550420, "creation_date": 1507542531, "answer_id": 46643499, "question_id": 46642811, "link": "https://stackoverflow.com/questions/46642811/kotlin-format-string/46643499#46643499", "title": "Kotlin: format string", "body": "<p>You should learn how Android works first. <code>R.string.skill</code> returns the resource id of the string which is an <code>Int</code> To get the String, from resource, you have to use</p>\n\n<pre><code>context.getString(resId)\n</code></pre>\n\n<p>It also supports string formatting.</p>\n\n<pre><code>context.getString(R.string.skill, skill)\n</code></pre>\n\n<p><code>context</code> can be anything that extends <code>Context</code>, i.e <code>Activity</code>, <code>Fragment</code>.</p>\n\n<p>To format <code>String</code> in Kotlin, you use string interpolation.</p>\n\n<pre><code>val world = \"World\"\nval helloWorld = \"Hello $world\"  // Hello World\n</code></pre>\n"}], "owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4242, "favorite_count": 0, "accepted_answer_id": 46643499, "answer_count": 1, "score": 3, "last_activity_date": 1507550420, "creation_date": 1507540555, "question_id": 46642811, "link": "https://stackoverflow.com/questions/46642811/kotlin-format-string", "title": "Kotlin: format string", "body": "<p>I have a Recycle view that i want to iterate over and add a bullet point in front of each input String.</p>\n\n<p>I have the following:</p>\n\n<p>value.strings.xml</p>\n\n<pre><code>&lt;string name=\"skill\"&gt;\u2022 %1$s&lt;/string&gt;\n</code></pre>\n\n<p>ProfileListAdapter:</p>\n\n<pre><code>fun bindSkills(skill: String) {\n\n            itemView.recycleSkillItem.text = String.format(Locale(R.string.skill.toString()), ${R.string.skill}, skill)\n    }\n</code></pre>\n\n<p>This prints the same int over and over again without the bullet point.</p>\n\n<p>what is the best practice to format strings in kotlin?</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507539134, "post_id": 46642295, "comment_id": 80233797, "body": "I thought the question mark operator is enough for that"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1507539236, "post_id": 46642295, "comment_id": 80233866, "body": "Yes normally it is. But <code>&gt;</code> is compiled to <code>.compareTo()</code>, without the safe question mark operator, which the compiler does not like here ;-)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1507538979, "creation_date": 1507538979, "answer_id": 46642295, "question_id": 46642191, "link": "https://stackoverflow.com/questions/46642191/kotlin-cannot-apply-two-conditionals-at-once-check-with-return-body-function/46642295#46642295", "title": "Kotlin: Cannot apply two conditionals at once check with &quot;return body&quot; function style", "body": "<p>Your transformed function is missing the <code>null</code> check:</p>\n\n<pre><code>fun parseValidBluetoothBrickedId(controllerId: String?) =\n        controllerId != null &amp;&amp; controllerId.length &gt; \"\".length\n                &amp;&amp; controllerId.startsWith(\"\")\n</code></pre>\n\n<p>As in your first example, the null check is necessary for the compiler to know, that <code>controllerId</code>  is not <code>null</code>. After the check, the compiler uses \"smart casting\" and the calls are safe.\nTherefore you do not have to use <code>?.</code> notation after the check.</p>\n"}, {"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 2, "last_activity_date": 1507539066, "creation_date": 1507539066, "answer_id": 46642325, "question_id": 46642191, "link": "https://stackoverflow.com/questions/46642191/kotlin-cannot-apply-two-conditionals-at-once-check-with-return-body-function/46642325#46642325", "title": "Kotlin: Cannot apply two conditionals at once check with &quot;return body&quot; function style", "body": "<p>When you do <code>controllerId?.length</code>, you are getting an <code>Int?</code>. You cannot compare <code>Int</code> with an <code>Int?</code>. That is the reason you get the first error.</p>\n\n<p>You get the other error because <code>controllerId?.startsWith(BLUETOOTH_NAME_PREFIX)</code> returns <code>Boolean?</code>. You cannot use the <code>&amp;&amp;</code> operator on a nullable parameter. It requires two parameters of type <code>Boolean</code>.</p>\n\n<p>To solve the problems, you need to check <code>controllerId != null</code> first. This will smart cast <code>controllerId</code> to the non-nullable type <code>String</code>. Like this:</p>\n\n<pre><code>fun parseValidBluetoothBrickedId(controllerId: String?): Boolean =\n    controllerId != null\n        &amp;&amp; controllerId.startsWith(BLUETOOTH_NAME_PREFIX)\n        &amp;&amp; controllerId.length &gt; BLUETOOTH_NAME_PREFIX.length\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 8, "last_activity_date": 1507539115, "creation_date": 1507539115, "answer_id": 46642343, "question_id": 46642191, "link": "https://stackoverflow.com/questions/46642191/kotlin-cannot-apply-two-conditionals-at-once-check-with-return-body-function/46642343#46642343", "title": "Kotlin: Cannot apply two conditionals at once check with &quot;return body&quot; function style", "body": "<p>You can't call <code>compareTo</code> (use the <code>&lt;</code> operator) on <code>controllerId?.length</code>, since its type is <code>Int?</code>, which means it might be <code>null</code>, in which case it can't be compared as a number.</p>\n\n<p>Similarly, the <code>controllerId?.startsWith(BLUETOOTH_NAME_PREFIX)</code> call returns <code>Boolean?</code> (since it will return <code>null</code> if <code>controllerId</code> is <code>null</code>), which can't be passed to the the <code>&amp;&amp;</code> operator, only a real <code>Boolean</code> can.</p>\n\n<p>The solution here is to do the <code>null</code> check that you were doing in your original method, and get rid of the safe calls by relying on smart casts casting your <code>controllerId</code> to <code>String</code>:</p>\n\n<pre><code>fun parseValidBluetoothBrickedId(controllerId: String?): Boolean =\n        controllerId != null \n        &amp;&amp;  controllerId.length &gt; BLUETOOTH_NAME_PREFIX.length\n        &amp;&amp;  controllerId.startsWith(BLUETOOTH_NAME_PREFIX)\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3279, "favorite_count": 0, "accepted_answer_id": 46642343, "answer_count": 3, "score": 5, "last_activity_date": 1507539115, "creation_date": 1507538636, "question_id": 46642191, "link": "https://stackoverflow.com/questions/46642191/kotlin-cannot-apply-two-conditionals-at-once-check-with-return-body-function", "title": "Kotlin: Cannot apply two conditionals at once check with &quot;return body&quot; function style", "body": "<p>I have a simply function check like this:</p>\n\n<pre><code>    fun parseValidBluetoothBrickedId(controllerId: String?): Boolean{\n    if(controllerId != null){\n        if(controllerId.startsWith(BLUETOOTH_NAME_PREFIX) &amp;&amp; controllerId.length &gt; BLUETOOTH_NAME_PREFIX.length)\n            return true\n    }\n\n    return false\n}\n</code></pre>\n\n<p>I want to convert it to simplier style:</p>\n\n<pre><code>   fun parseValidBluetoothBrickedId(controllerId: String?) =\n        controllerId?.length &gt; BLUETOOTH_NAME_PREFIX.length\n      &amp;&amp;  controllerId?.startsWith(BLUETOOTH_NAME_PREFIX)\n</code></pre>\n\n<p>but IDE(Android Studio 3.0 Beta7) gives me an error, underlines the greater than('>') operator:</p>\n\n<blockquote>\n  <p>Operator calls corresponds to a dot-qualified call 'controllerId?.length.compareTo(BLUETOOTH_NAME_PREFIX.length) which is not allowed here</p>\n</blockquote>\n\n<p>Also it underline as an error line controllerId?.startsWith(BLUETOOTH_NAME_PREFIX) and says:</p>\n\n<blockquote>\n  <p>Type mismatch. Required: Boolean, Found Boolean?</p>\n</blockquote>\n\n<p>What is the problem, really? It is just a simply method, works well with the first block if-else style.</p>\n"}, {"tags": ["java", "kotlin", "log4j2"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1507539495, "post_id": 46641799, "comment_id": 80234048, "body": "I&#39;m not sure, but could you try <code>SyslogAppender.newSyslogAppenderBuilder&lt;SyslogAppender.Build&zwnj;&#8203;er&lt;*&gt;&gt;()</code>?"}, {"owner": {"reputation": 1, "user_id": 5111075, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W00v0t2oDNo/AAAAAAAAAAI/AAAAAAAAAPU/AdaYg-5PtNw/photo.jpg?sz=128", "display_name": "Frank Weinhold", "link": "https://stackoverflow.com/users/5111075/frank-weinhold"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1507542231, "post_id": 46641799, "comment_id": 80235848, "body": "This results in:       Type argument is not within its bounds: should be subtype of &#39;SyslogAppender.Builder&lt;syslogappender.builder!&gt;!&#39;"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1507555489, "post_id": 46641799, "comment_id": 80244164, "body": "@FrankWeinhold post your kotlin code which produces the given error, pls"}], "owner": {"reputation": 1, "user_id": 5111075, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W00v0t2oDNo/AAAAAAAAAAI/AAAAAAAAAPU/AdaYg-5PtNw/photo.jpg?sz=128", "display_name": "Frank Weinhold", "link": "https://stackoverflow.com/users/5111075/frank-weinhold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507806652, "creation_date": 1507537337, "last_edit_date": 1507806652, "question_id": 46641799, "link": "https://stackoverflow.com/questions/46641799/builder-of-type-builder-how-to-translate-that-to-kotlin", "title": "Builder of type Builder? How to translate that to kotlin?", "body": "<p>I am about to port some java code to kotlin. I just found some awkward factory method, which looks pretty straight forward to transform:</p>\n\n<pre><code>import org.apache.logging.log4j.core.Appender;\nimport org.apache.logging.log4j.core.appender.SyslogAppender;\n\npublic class Test {\n\n    public Appender getSyslogAppender(String id, String host, int port, boolean immediateFlush, boolean newLine) {\n        return SyslogAppender.newSyslogAppenderBuilder()\n                .setId(id)\n                .setNewLine(newLine)\n                .withHost(host)\n                .withPort(port)\n                .withImmediateFlush(immediateFlush)\n                .build();\n    }\n}\n</code></pre>\n\n<p>So my first try was:</p>\n\n<pre><code>fun getSyslogAppender(id: String, host: String, port: Int, immediateFlush: Boolean, newLine: Boolean): Appender {\n    return SyslogAppender.newSyslogAppenderBuilder()\n            .setId(id)\n            .setNewLine(newLine)\n            .withHost(host)\n            .withPort(port)\n            .withImmediateFlush(immediateFlush)\n            .build()\n}\n</code></pre>\n\n<p>But the kotlin compiler was not happy. It seemed uncertain what type should be returned:</p>\n\n<pre><code>Type inference failed: Not enough information to infer parameter B in fun &lt;b : syslogappender.builder!&gt; newSyslogAppenderBuilder(): B! Please specify it explicitly.  \n</code></pre>\n\n<p>Ok, lets give it a type:</p>\n\n<pre><code>SyslogAppender.newSyslogAppenderBuilder&lt;SyslogAppender.Builder&gt;()\n</code></pre>\n\n<p>But wait:</p>\n\n<pre><code>One type argument expected for class Builder&lt;b : syslogappender.builder!&gt; : Builder, SocketAppender.AbstractBuilder defined in org.apache.logging.log4j.core.appender.SyslogAppender \n</code></pre>\n\n<p>Lets look at the definition: </p>\n\n<pre><code>public class SyslogAppender extends SocketAppender {\n    public static class Builder&lt;B extends Builder&lt;B&gt;&gt; extends AbstractBuilder&lt;B&gt;\n        implements org.apache.logging.log4j.core.util.Builder&lt;SocketAppender&gt; \n</code></pre>\n\n<p>What??? A Builder of type B. Where B has the super type Builder of B? ... Some ours of thinking and experimenting later ... I don't get it. </p>\n\n<p>Does anybody know how to solve that? I am sure its something totally simple.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "onclicklistener"], "comments": [{"owner": {"reputation": 6980, "user_id": 5647037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aJ0h1.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/5647037/vucko"}, "edited": false, "score": 0, "creation_date": 1507534251, "post_id": 46640897, "comment_id": 80231150, "body": "What do you see in your log? Since you have all these nice log statements."}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 6980, "user_id": 5647037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aJ0h1.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/5647037/vucko"}, "edited": false, "score": 0, "creation_date": 1507534765, "post_id": 46640897, "comment_id": 80231425, "body": "@Vucko i posted an edit containing my log messages."}, {"owner": {"reputation": 6980, "user_id": 5647037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aJ0h1.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/5647037/vucko"}, "edited": false, "score": 0, "creation_date": 1507534894, "post_id": 46640897, "comment_id": 80231487, "body": "Is your item view clickable? Check the xml. This all seems legit."}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 6980, "user_id": 5647037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aJ0h1.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/5647037/vucko"}, "edited": false, "score": 0, "creation_date": 1507535035, "post_id": 46640897, "comment_id": 80231548, "body": "@Vucko what should my xml contain to make my itemview clickable? I just have a linearlayout containing two textviews."}, {"owner": {"reputation": 6980, "user_id": 5647037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aJ0h1.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/5647037/vucko"}, "edited": false, "score": 0, "creation_date": 1507552264, "post_id": 46640897, "comment_id": 80241984, "body": "Not sure, maybe something else is consuming the click event. Try setting <code>clickable=&quot;true&quot;</code> on the layout or something."}], "answers": [{"tags": [], "owner": {"reputation": 3824, "user_id": 6602675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fba4065805a535f33e4062872831559?s=128&d=identicon&r=PG&f=1", "display_name": "Sharath kumar", "link": "https://stackoverflow.com/users/6602675/sharath-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1507537355, "creation_date": 1507537355, "answer_id": 46641806, "question_id": 46640897, "link": "https://stackoverflow.com/questions/46640897/how-to-implement-onclicklistener-for-custom-viewholder-in-my-recycler-view/46641806#46641806", "title": "how to implement OnClickListener for custom ViewHolder in my recycler view?", "body": "<p>According to your code you are implementing the clicklistner but haven't added any register to click listener.add the clickListener for <code>nameView</code> and <code>AddrView</code>.</p>\n\n<pre><code>nameView.setOnClickListener(this);\naddrView.setOnClickListener(this);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "is_accepted": false, "score": 1, "last_activity_date": 1507537522, "creation_date": 1507537522, "answer_id": 46641850, "question_id": 46640897, "link": "https://stackoverflow.com/questions/46640897/how-to-implement-onclicklistener-for-custom-viewholder-in-my-recycler-view/46641850#46641850", "title": "how to implement OnClickListener for custom ViewHolder in my recycler view?", "body": "<p>This works:</p>\n\n<p>1 set your own click listener to the adapter, and keep a reference to it:</p>\n\n<pre><code>private OnItemClickListener onItemClickListener;\n// ...\npublic interface OnItemClickListener {\n    // note: here you would need some params, for instance the view\n    void onItemClick(View v);\n}\n\npublic void setOnItemClickListener(OnItemClickListener l) {\n    this.onItemClickListener = l;\n}\n</code></pre>\n\n<p>2 when each viewholder is created, set a listener to it, and once called back, pass the callback to the listener set in 1:</p>\n\n<pre><code>@Override\npublic ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    ViewHolder vh = getViewHolder( /*...*/ );\n    vh.setOnItemClickListener(new OnItemClickListener() {                \n        if (onItemClickListener != null) {\n            // each view holder calls the one listener set to the Adapter\n            onItemClickListener.onItemClick(v);\n        }\n    }\n}\n</code></pre>\n\n<p>3 make your viewholder to listen to the (holded) view onClick, and let it forward the call:</p>\n\n<pre><code>public static class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n// each view holder has a listener set to it   \nprivate OnItemClickListener mListener;\n\npublic ViewHolder(View v) {        \n    super(v);\n    // ...\n    // set the viewholder as a listener to the view's clicks\n    v.setOnClickListener(this);\n}\n\n@Override\npublic void onClick(View v) {\n    // when view is clicked, simply forward the call\n    if (mListener != null) {\n        mListener.onItemClick(v);\n    }\n}\n\npublic void setOnItemClickListener(OnItemClickListener listener) {\n    mListener = listener;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>4 at this point, the adapter user will have:</p>\n\n<pre><code>mAdapter = new MyAdapter(ctx);\nmAdapter.setOnItemClickListener(new MyAdapter.OnItemClickListener() {\n    @Override\n    public void onItemClick(View v) {\n        // the given view was clicked, do something with it\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "is_accepted": true, "score": 2, "last_activity_date": 1507597994, "creation_date": 1507597994, "answer_id": 46657226, "question_id": 46640897, "link": "https://stackoverflow.com/questions/46640897/how-to-implement-onclicklistener-for-custom-viewholder-in-my-recycler-view/46657226#46657226", "title": "how to implement OnClickListener for custom ViewHolder in my recycler view?", "body": "<p>i managed to get this fixed by eliminating the implementation of OnClickListener and just using this statement instead <code>itemView.setOnClickListener { /* lamda here */ }</code>. i don't believe this exact syntax is available in java but in kotlin in works. here is my revised code : </p>\n\n<pre><code>inner class DeviceHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    val nameView = itemView.findViewById(R.id.nameView) as TextView\n    val addrView = itemView.findViewById(R.id.addressView) as TextView\n\n    fun bindItems(btDevice: BluetoothDevice) {\n        Log.d(TAG, \"holder created!\")\n        nameView.text = btDevice.name\n        addrView.text = btDevice.address\n        itemView.setOnClickListener { Toast.makeText(it.context, \"testing\", Toast.LENGTH_SHORT).show() }\n    }\n\n}\n</code></pre>\n\n<p>by using the <code>it</code> keyword inside of the lambda i accessed the context of the itemView object, instead of using my original mContext described above. i am still unsure of exactly why my old approach did not work, but this did so that works for me.</p>\n"}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1881, "favorite_count": 2, "accepted_answer_id": 46657226, "answer_count": 3, "score": -2, "last_activity_date": 1507597994, "creation_date": 1507534131, "last_edit_date": 1507534736, "question_id": 46640897, "link": "https://stackoverflow.com/questions/46640897/how-to-implement-onclicklistener-for-custom-viewholder-in-my-recycler-view", "title": "how to implement OnClickListener for custom ViewHolder in my recycler view?", "body": "<p>i am creating an app that is supposed to display bluetooth devices in a recyclerview and i want a user to be able to click the items to perform an action. for now i am just attempting to make a toast appear on click but later i would like to possibly display a dialog giving choices to pair, etc. however i am apperently missing something in my usage of onclicklistener. i am attempting to have my ViewHolder class: <em>DeviceHolder</em> implement <code>View.OnClickListener</code> and placing the call to <code>Toast.makeText()</code> inside of my onClick override. however, nothing is happening. i am sure i am just missing something minor and would appreciate help finding the problem. also i am doing this in kotlin which i am new to and if there is possibly a more efficient, kotlin type of way to do this that would also be of help. i am posting my code below. thanks in advance.</p>\n\n<pre><code>class DeviceAdapter(val mContext : Context) : RecyclerView.Adapter&lt;DeviceAdapter.DeviceHolder&gt;(){\n\nval mDevices = ArrayList&lt;BluetoothDevice&gt;()\n\ninterface OnClickListener{\n    fun onClick(v: View)\n}\n\nfun updateItems(list: ArrayList&lt;BluetoothDevice&gt;){\n    mDevices.clear()\n    mDevices.addAll(list)\n    Log.d(TAG, \"updating items : $mDevices\")\n    notifyDataSetChanged()\n}\n\nfun ViewGroup.inflate(@LayoutRes res: Int, attachToRoot: Boolean = false): View{\n    return LayoutInflater.from(mContext).inflate(res, this, attachToRoot)\n}\n\noverride fun onBindViewHolder(holder: DeviceHolder, position: Int) {\n    Log.d(TAG, \"onBindViewHolder called!\")\n    holder.bindItems(mDevices.get(position))\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): DeviceAdapter.DeviceHolder{\n    Log.d(TAG, \"onCreateViewHolder called!\")\n    val v = parent!!.inflate(R.layout.device_item, false)\n    return DeviceHolder(v)\n}\n\noverride fun getItemCount(): Int {\n    return mDevices.size\n}\n\ninner class DeviceHolder(itemView: View) : RecyclerView.ViewHolder(itemView), View.OnClickListener {\n\n    override fun onClick(v: View?) {\n        Toast.makeText(mContext, \"test\", Toast.LENGTH_LONG).show()\n    }\n\n    val nameView = itemView.findViewById(R.id.nameView) as TextView\n    val addrView = itemView.findViewById(R.id.addressView) as TextView\n\n    fun bindItems(btDevice: BluetoothDevice) {\n        Log.d(TAG, \"holder created!\")\n        nameView.text = btDevice.name\n        addrView.text = btDevice.address\n        itemView.setOnClickListener { this }\n    }\n\n}\n\ncompanion object {\n    val TAG = \"Device Adapter\"\n}\n}\n</code></pre>\n\n<p>here are the log messages:</p>\n\n<pre><code>10-09 00:35:50.233 7581-7581/com.example.zemcd.toofxchange D/DiscoveryTask: device found!\n10-09 00:35:51.795 7581-7581/com.example.zemcd.toofxchange D/DiscoveryTask: device found!\n10-09 00:35:56.752 7581-7581/com.example.zemcd.toofxchange D/DiscoveryTask: device list : [**:B8:9A:39:1D:**, **:DF:BF:2A:F3:**]\n10-09 00:35:56.752 7581-7581/com.example.zemcd.toofxchange D/Device\u00a0Adapter: updating items : [**:B8:9A:39:1D:**, **:DF:BF:2A:F3:**]\n10-09 00:35:56.752 7581-7581/com.example.zemcd.toofxchange D/DiscoveryTask: discovery finished\n10-09 00:35:56.762 7581-7581/com.example.zemcd.toofxchange D/Device\u00a0Adapter: onCreateViewHolder called!\n10-09 00:35:56.774 7581-7581/com.example.zemcd.toofxchange D/Device\u00a0Adapter: onBindViewHolder called!\n10-09 00:35:56.774 7581-7581/com.example.zemcd.toofxchange D/Device\u00a0Adapter: holder created!\n10-09 00:35:56.783 7581-7581/com.example.zemcd.toofxchange D/Device\u00a0Adapter: onCreateViewHolder called!\n10-09 00:35:56.786 7581-7581/com.example.zemcd.toofxchange D/Device\u00a0Adapter: onBindViewHolder called!\n10-09 00:35:56.786 7581-7581/com.example.zemcd.toofxchange D/Device\u00a0Adapter: holder created!\n</code></pre>\n"}, {"tags": ["android", "image", "kotlin"], "comments": [{"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1507525245, "post_id": 46639046, "comment_id": 80227312, "body": "Kindly Provide Error Log here"}, {"owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1507525573, "post_id": 46639046, "comment_id": 80227394, "body": "I think here is problem you passing a in Int variable which is wrong <code>listOfFoods.add(Food(&quot;Coffee&quot;,&quot;   Coffee preparation is&quot;, a))</code>"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1507534433, "post_id": 46639046, "comment_id": 80231254, "body": "You should state at least, what you actually want to do. The <code>also</code> doesn&#39;t have any effect here. The problem you face is, that <code>ImageView</code> is not a <code>Boolean</code>. So you have to compare things somehow; but it&#39;s not clear what to at the moment. What is <code>a</code> or <code>b</code>?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1507537184, "post_id": 46639046, "comment_id": 80232682, "body": "Ohh, and have a look at <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">Data Classes</a>."}, {"owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "reply_to_user": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "edited": false, "score": 0, "creation_date": 1507587705, "post_id": 46639046, "comment_id": 80260732, "body": "@Rajesh Dalsaniya, yes i pass in Int variable because i have images to represent inside my Food class but i can&#39;t Access to the specific image like image <code>a</code> or <code>b</code> by using if statement"}, {"owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1507589004, "post_id": 46639046, "comment_id": 80261172, "body": "@tynn doesn&#39;t matter to use <code>also</code> i gonna remove it to appear more clear and update my question without using also, Actually my first image named <code>a</code> inside my Drawable and the second image named <code>b</code> and i want to convert from first activity to 2nd activity when click on image (a) to be converted to the 2nd activity with <code>ADAPTER_TYPE_1</code> and image (b) converted to the 2nd activity with <code>ADAPTER_TYPE_2</code> because my  2nd activity has 2 adapter inside it"}, {"owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1507590654, "post_id": 46639046, "comment_id": 80261642, "body": "@tynn Note: my first activity is <code>MainActivity.kt</code> the main issue of that i can&#39;t access to image <code>a</code> or <code>b</code> by using if statement because it&#39;s show me error, and i will be appreciated if  you add your answer"}, {"owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1507763065, "post_id": 46639046, "comment_id": 80345254, "body": "Actually i wanna click on specific image like image <code>a</code> or <code>b</code> to be converted to the  specific part  of second activity like <code>ADAPTER_TYPE_1</code> or <code>ADAPTER_TYPE_2</code> because i&#39;m using 2 adapters, and my question been updated for <code>Food class</code> and <code>MainActivity</code> without using <code>java-style</code> and <code>nullable</code> types and i add a picture to show you error line, please any help @tynn"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "edited": false, "score": 0, "creation_date": 1507692215, "post_id": 46640004, "comment_id": 80306594, "body": "thank you @ Alexandr Tolstikov, Actually i did but it&#39;s still show me error and my question been updated for <code>Food class</code> and <code>MainActivity</code> without  using java-style and <code>nullable</code> types and i add a picture to show you error line, please can you help me"}], "tags": [], "owner": {"reputation": 68, "user_id": 8022768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894470770840835/picture?type=large", "display_name": "Alexandr  Tolstikov", "link": "https://stackoverflow.com/users/8022768/alexandr-tolstikov"}, "is_accepted": false, "score": 2, "last_activity_date": 1507530365, "creation_date": 1507530365, "answer_id": 46640004, "question_id": 46639046, "link": "https://stackoverflow.com/questions/46639046/expected-type-mismatch-with-if-expression-in-kotlin/46640004#46640004", "title": "Expected type mismatch with if expression in Kotlin", "body": "<p>Try to think in kotlin-way, i.e. try to not use nullable types. Also your class Food written in java-style but it can be written in more simple style:\n<code>class Food(val name: String, val des: String, val image: Int)</code></p>\n\n<p>When you override java methods often you can remove '?' from parameter type in order to throw away '!!' in future moments when requires not-null type.\nvar class property is not desirable because it gives state that you need to watch that nothing happens in runtime.</p>\n\n<p>Probably tips above will resolve your issues.\nIf no, can you give more information about this error?(e.g. line number of error)</p>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1507791761, "creation_date": 1507791761, "answer_id": 46703376, "question_id": 46639046, "link": "https://stackoverflow.com/questions/46639046/expected-type-mismatch-with-if-expression-in-kotlin/46703376#46703376", "title": "Expected type mismatch with if expression in Kotlin", "body": "<p>You cannot get the resource id of the drawable you added to the image view. For specifying this you can use the <em>id</em> or even better the <em>tag</em>. In you case you even have this information with your <em>food</em> entity and should use it here.</p>\n\n<pre><code>class FoodAdapter(\n    val context: Context,\n    val listOfFood: ArrayList&lt;Food&gt;\n): BaseAdapter {\n\n    override fun getView(p0: Int, foodView: View?, p2: ViewGroup?): View? {\n        val food = this.listOfFood[p0]\n        val inflator = context?.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n\n        return inflator.inflate(layout.food_ticket, null).also {\n            it.ivFoodImage.imageResource = food.image\n            it.ivFoodImage.setOnClickListener { view -&gt;\n\n                context.startActivity(Intent(context, Main2Activity::class.java)\n                    .putExtra(\"name\", food.name)\n                    .putExtra(\"des\", food.des)\n                    .putExtra(\"image\", food.image)\n                    .also {\n                        when (food.image) {\n                            a -&gt; it.putExtra(Main2Activity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_1.ordinal)\n                            b -&gt; it.putExtra(Main2Activity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_2.ordinal)\n                            else -&gt; it\n                        }\n                    })\n            }\n        }\n    }\n\n    override fun getItem(p0: Int) = listOfFood[p0]\n\n    override fun getItemId(p0: Int) = p0.toLong()\n\n    override fun getCount() = listOfFood.size\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1819, "favorite_count": 0, "accepted_answer_id": 46703376, "answer_count": 2, "score": 1, "last_activity_date": 1507791761, "creation_date": 1507524731, "last_edit_date": 1507691480, "question_id": 46639046, "link": "https://stackoverflow.com/questions/46639046/expected-type-mismatch-with-if-expression-in-kotlin", "title": "Expected type mismatch with if expression in Kotlin", "body": "<p>I wonder if somebody can help me to fix this issue with mismatched types inside the  if expression by using Kotlin?</p>\n\n<p>I have 2 activities to connect between the:\nThe first activity is <code>MainActivity.kt</code> and the second activity is <code>Main2Activity.kt</code>, inside first activity <code>MainActivity class</code> i got a problem for <code>mismatched types</code>, because i'm using if statement to choose <code>specific image</code> to be convert to the <code>specific adapter</code> in the second activity like when click on image (<code>a</code>) to be converted to the 2nd activity with <code>ADAPTER_TYPE_1</code> and image (<code>b</code>) converted to the 2nd activity with <code>ADAPTER_TYPE_2</code></p>\n\n<p>Note: image type is <code>Int</code>, my first image named <code>a</code> inside my <code>Drawable</code> and the second image named <code>b</code>  </p>\n\n<p><strong>Here is a MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nvar adapter:FoodAdapter?=null\nvar listOfFoods =ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(layout.activity_main)\n\n\n    // load foods\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", a))\n    listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", b))\n\n\n    adapter= FoodAdapter(this,listOfFoods)\n\n    gvListFood.adapter =adapter\n\n}\n\n\nclass  FoodAdapter: BaseAdapter {\n    var listOfFood= ArrayList&lt;Food&gt;()\n    var context: Context?=null\n    constructor(context:Context,listOfFood:ArrayList&lt;Food&gt;):super(){\n        this.context=context\n        this.listOfFood=listOfFood\n    }\n    override fun getView(p0: Int, foodView: View?, p2: ViewGroup?): View? {\n        val food = this.listOfFood[p0]\n        var inflator = context?.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var foodView= inflator.inflate(layout.food_ticket, null)\n        foodView.ivFoodImage.setImageResource(food.image)\n        foodView.ivFoodImage.setOnClickListener {\n\n            val intent = Intent(context, Main2Activity::class.java)\n\n\n            if (foodView.ivFoodImage == a){\n                intent.putExtra(Main2Activity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_1.ordinal)\n                intent.putExtra(\"name\", food.name)\n                intent.putExtra(\"des\", food.des)\n                intent.putExtra(\"image\", food.image)\n\n                context!!.startActivity(intent)\n\n            }\n            if (foodView.ivFoodImage == b) {\n                intent.putExtra(Main2Activity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_2.ordinal)\n                intent.putExtra(\"name\", food.name)\n                intent.putExtra(\"des\", food.des)\n                intent.putExtra(\"image\", food.image)\n\n                context!!.startActivity(intent)\n\n            }\n\n\n\n\n\n        }\n        return foodView\n    }\n\n    override fun getItem(p0: Int): Any {\n        return listOfFood[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n\n        return listOfFood.size\n    }\n\n}\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Eazhx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Eazhx.png\" alt=\"error image\"></a></p>\n\n<p><strong>Here is Food class</strong></p>\n\n<pre><code> class Food(val name: String, val des: String, val image: Int)\n</code></pre>\n"}, {"tags": ["android", "server", "kotlin", "httprequest"], "comments": [{"owner": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "edited": false, "score": 0, "creation_date": 1507524848, "post_id": 46638996, "comment_id": 80227161, "body": "try name in single quotes.      val request = Request.Builder().url(&quot;<a href=\"https://api.thingspeak.com/update?api_key=YGEQQIJV5NAKLURL&amp;field1=&#39;SAJAN\" rel=\"nofollow noreferrer\">api.thingspeak.com/&hellip;</a>&#39; &quot;).build() httpclient.newCall(request).execute()"}, {"owner": {"reputation": 83, "user_id": 8319097, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ef01c5c1e1ecd18940f9168502fd636?s=128&d=identicon&r=PG&f=1", "display_name": "Sajan Josan", "link": "https://stackoverflow.com/users/8319097/sajan-josan"}, "reply_to_user": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "edited": false, "score": 0, "creation_date": 1507525335, "post_id": 46638996, "comment_id": 80227338, "body": "It is not working."}, {"owner": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "edited": false, "score": 0, "creation_date": 1507525850, "post_id": 46638996, "comment_id": 80227476, "body": "Show your Log for int value and string."}, {"owner": {"reputation": 83, "user_id": 8319097, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ef01c5c1e1ecd18940f9168502fd636?s=128&d=identicon&r=PG&f=1", "display_name": "Sajan Josan", "link": "https://stackoverflow.com/users/8319097/sajan-josan"}, "reply_to_user": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "edited": false, "score": 0, "creation_date": 1507526635, "post_id": 46638996, "comment_id": 80227690, "body": "do you know where can i see request text in thinkspeak channel"}, {"owner": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "edited": false, "score": 0, "creation_date": 1507527201, "post_id": 46638996, "comment_id": 80227852, "body": "While i&#39;m trying your link with single quotes, i returned a count 29, when i refresh it incremented to 30. Checked in browser. If it is your private key, please remove it from question."}, {"owner": {"reputation": 439, "user_id": 4549478, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh3.googleusercontent.com/-4Hu6p-clYU4/AAAAAAAAAAI/AAAAAAAAAHo/JxzHlBX7MPE/photo.jpg?sz=128", "display_name": "SARATH V", "link": "https://stackoverflow.com/users/4549478/sarath-v"}, "edited": false, "score": 0, "creation_date": 1507527315, "post_id": 46638996, "comment_id": 80227902, "body": "Looks like api storing the content and returning id or count something like that."}], "answers": [{"tags": [], "owner": {"reputation": 150, "user_id": 1034951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e164e22a0b069f4807cac094df28aa?s=128&d=identicon&r=PG", "display_name": "iohans", "link": "https://stackoverflow.com/users/1034951/iohans"}, "is_accepted": false, "score": 0, "last_activity_date": 1520950250, "creation_date": 1520950250, "answer_id": 49258395, "question_id": 46638996, "link": "https://stackoverflow.com/questions/46638996/how-to-send-text-data-to-thinkspeak-channel-from-android-app/49258395#49258395", "title": "How to send text data to Thinkspeak channel from Android app?", "body": "<p>I would try using the \"&amp;field1=SAJAN\" parameter on the URL.</p>\n\n<pre><code>val httpclient = OkHttpClient() // create an HTTP client             \nval request = Request.Builder().url(\"https://api.thingspeak.com/update?api_key=YGEQ_MYKEY&amp;field1=SAJAN\").build()\nhttpclient.newCall(request).execute()\n</code></pre>\n\n<p>To see that this string has been sent, you will have to read the string back using the ThingSpeak API. The charts will only display numeric values.</p>\n"}], "owner": {"reputation": 83, "user_id": 8319097, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ef01c5c1e1ecd18940f9168502fd636?s=128&d=identicon&r=PG&f=1", "display_name": "Sajan Josan", "link": "https://stackoverflow.com/users/8319097/sajan-josan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1049, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1521458114, "creation_date": 1507524340, "last_edit_date": 1507579986, "question_id": 46638996, "link": "https://stackoverflow.com/questions/46638996/how-to-send-text-data-to-thinkspeak-channel-from-android-app", "title": "How to send text data to Thinkspeak channel from Android app?", "body": "<p>I am able to send integer value (1234) to thinkspeak channel field1 with below code:</p>\n\n<pre><code>val httpclient = OkHttpClient() // create an HTTP client                 \nval request = Request.Builder().url(\"https://api.thingspeak.com/update?api_key=YGEQ_MYKEY=1234\").build()\nhttpclient.newCall(request).execute()\n</code></pre>\n\n<p>But I am not able to send text value (SAJAN). How can I send text value to thinkspeak? I have tried below code but it's not working.</p>\n\n<pre><code>val httpclient = OkHttpClient() // create an HTTP client             \nval request = Request.Builder().url(\"https://api.thingspeak.com/update?api_key=YGEQ_MYKEY=SAJAN\").build()\nhttpclient.newCall(request).execute()\n</code></pre>\n"}, {"tags": ["spring", "spring-mvc", "spring-boot", "spring-security", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 8494058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MXDo1DgJ68Y/AAAAAAAAAAI/AAAAAAAAABU/kD-UrwZcZB4/photo.jpg?sz=128", "display_name": "pszkv", "link": "https://stackoverflow.com/users/8494058/pszkv"}, "edited": false, "score": 0, "creation_date": 1507606378, "post_id": 46641756, "comment_id": 80265180, "body": "Thank you Hicham but as I understand, your answer relates to where to redirect user after successful authentication. I need to do it in opposite way: to what login page send user to do their authentication."}], "tags": [], "owner": {"reputation": 296, "user_id": 2466666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0xyEE.jpg?s=128&g=1", "display_name": "hicham abdedaime", "link": "https://stackoverflow.com/users/2466666/hicham-abdedaime"}, "is_accepted": false, "score": 0, "last_activity_date": 1507537194, "creation_date": 1507537194, "answer_id": 46641756, "question_id": 46638396, "link": "https://stackoverflow.com/questions/46638396/multilanguage-login-page-based-on-url/46641756#46641756", "title": "Multilanguage login page based on url", "body": "<p>in spiring security you can use this </p>\n\n<pre><code>import java.io.IOException;\nimport java.util.Set;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\nimport org.springframework.stereotype.Component;\n\n    @Component\n    public class Securityhandler implements AuthenticationSuccessHandler {\n\n    public void onAuthenticationSuccess(HttpServletRequest request,   HttpServletResponse response, Authentication authentication) throws IOException  {\n    Local local= LocaleContextHolder.getLocale();\n    if(local.equals(\"yourcodeLang\"){\n       response.sendRedirect(\"/yourUrl\");\n    }\n    else // your logic\n    }\n    }\n</code></pre>\n\n<p>and update  your config like this : </p>\n\n<pre><code>   @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n              .anyRequest().authenticated()\n              ....\n              .successHandler(yourSuccessHandlerBean) // autowired or defined \n              ...\n      }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 469, "user_id": 8494058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MXDo1DgJ68Y/AAAAAAAAAAI/AAAAAAAAABU/kD-UrwZcZB4/photo.jpg?sz=128", "display_name": "pszkv", "link": "https://stackoverflow.com/users/8494058/pszkv"}, "is_accepted": false, "score": 0, "last_activity_date": 1507606492, "creation_date": 1507606492, "answer_id": 46658222, "question_id": 46638396, "link": "https://stackoverflow.com/questions/46638396/multilanguage-login-page-based-on-url/46658222#46658222", "title": "Multilanguage login page based on url", "body": "<p>Meanwhile I found this solution. Maybe is not perfect but it works.</p>\n\n<pre><code>@EnableWebSecurity\n@Order(1)\nclass SecurityConfigTH : WebSecurityConfigurerAdapter() {\n\n    private val localePattern: Pattern = Pattern.compile(\"^/en(\\$|/)\")\n\n    @Throws(Exception::class)\n    override fun configure(http: HttpSecurity) {\n        http\n                .authorizeRequests()\n                    .anyRequest().authenticated()\n                    .and()\n                .requestMatcher { !localePattern.matcher(it.requestURI.toString()).find() }\n                .formLogin()\n                    .loginPage(\"/login\")\n                    .permitAll()\n    }\n}\n\n@EnableWebSecurity\n@Order(2)\nclass SecurityConfigEN : WebSecurityConfigurerAdapter() {\n\n    private val localePattern: Pattern = Pattern.compile(\"^/en(\\$|/)\")\n\n    @Throws(Exception::class)\n    override fun configure(http: HttpSecurity) {\n        http\n                .authorizeRequests()\n                    .anyRequest().authenticated()\n                    .and()\n                .requestMatcher { localePattern.matcher(it.requestURI.toString()).find() }\n                    .formLogin()\n                    .loginPage(\"/en/login\")\n                    .permitAll()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 469, "user_id": 8494058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MXDo1DgJ68Y/AAAAAAAAAAI/AAAAAAAAABU/kD-UrwZcZB4/photo.jpg?sz=128", "display_name": "pszkv", "link": "https://stackoverflow.com/users/8494058/pszkv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 874, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1571298335, "creation_date": 1507519512, "last_edit_date": 1571298335, "question_id": 46638396, "link": "https://stackoverflow.com/questions/46638396/multilanguage-login-page-based-on-url", "title": "Multilanguage login page based on url", "body": "<p>I have locales as a part of url in my Spring Boot application:</p>\n\n<pre><code>/site - default locale\n\n/en/site - English locale\n</code></pre>\n\n<p>I use custom interceptor for this:</p>\n\n<pre><code>    import org.springframework.beans.propertyeditors.LocaleEditor\n    import org.springframework.util.Assert\n    import org.springframework.web.servlet.handler.HandlerInterceptorAdapter\n    import org.springframework.web.servlet.support.RequestContextUtils\n\n    import javax.servlet.ServletException\n    import javax.servlet.http.HttpServletRequest\n    import javax.servlet.http.HttpServletResponse\n    import java.util.Locale\n    import java.util.regex.Pattern\n\n    class CustomLocaleChangeInterceptor : HandlerInterceptorAdapter() {\n\n    private var localePattern: Pattern? = null\n\n    private fun setLocalePattern(localePattern: String) {\n        Assert.isTrue(localePattern.matches(\".*\\\\(.*\\\\).*\".toRegex()), \"Your pattern needs to define a match group\")\n        this.localePattern = Pattern.compile(localePattern)\n    }\n\n    @Throws(ServletException::class)\n    override fun preHandle(request: HttpServletRequest?, response: HttpServletResponse?, handler: Any?): Boolean {\n\n        this.setLocalePattern(\"(en)\")\n\n        val pathTranslated = request!!.requestURI.substring(request.contextPath.length)\n\n        if (pathTranslated.isNotEmpty()) {\n            val matcher = localePattern!!.matcher(pathTranslated)\n            if (matcher.find()) {\n                resolver(request, response, matcher.group(1))\n            } else {\n                resolver(request, response, \"th\")\n            }\n        }\n        // Proceed in any case.\n        return true\n\n    }\n\n    private fun resolver(request: HttpServletRequest, response: HttpServletResponse?, locale: String) {\n        val localeResolver = RequestContextUtils.getLocaleResolver(request) ?: throw IllegalStateException(\"No LocaleResolver found: not in a DispatcherServlet request?\")\n        val localeEditor = LocaleEditor()\n        localeEditor.asText = locale\n        localeResolver.setLocale(request, response, localeEditor.value as Locale)\n    }\n}\n</code></pre>\n\n<p>The question is what is the best way to handle two custom login pages in Spring? When restricted url contains /en user should be redirected to /en/login page (with English language) otherwise if page has default locale it should be redirect to /login url (with default language)</p>\n"}, {"tags": ["caching", "spring-boot", "logging", "kotlin"], "comments": [{"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 1, "creation_date": 1507530017, "post_id": 46636978, "comment_id": 80229014, "body": "It is correctly initialized. A proxy has all fields not initialized, the actual object will have the fields initialized (at least in regular Java not sure if that would change with Kotlin in the mix). When having <code>final</code> methods (the default I believe in kotlin) this is problematic as final methods aren&#39;t proxied (the same applies to other non <code>public</code> methods)."}, {"owner": {"reputation": 4336, "user_id": 819651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b3b2801b397b45b57b784c83b6274e22?s=128&d=identicon&r=PG", "display_name": "Lu&#237;s Soares", "link": "https://stackoverflow.com/users/819651/lu%c3%ads-soares"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1507540438, "post_id": 46636978, "comment_id": 80234641, "body": "thanks for the explanation. is there any workaround?"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 1, "creation_date": 1507541201, "post_id": 46636978, "comment_id": 80235172, "body": "Why would there be a workaround? It is the expected behavior..."}, {"owner": {"reputation": 4336, "user_id": 819651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b3b2801b397b45b57b784c83b6274e22?s=128&d=identicon&r=PG", "display_name": "Lu&#237;s Soares", "link": "https://stackoverflow.com/users/819651/lu%c3%ads-soares"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1507541816, "post_id": 46636978, "comment_id": 80235589, "body": "How can I do logging in a proxied class then?"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 1, "creation_date": 1507541888, "post_id": 46636978, "comment_id": 80235633, "body": "The proxy is only for applying the advices, the logging should still work. If it doesn&#39;t it means you have <code>final</code> methods (which is basically a no-go with class based proxies). Either use interface based proxies or remove the <code>final</code> keyword (ie. <code>open fun</code> in Kotlin)."}], "owner": {"reputation": 4336, "user_id": 819651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b3b2801b397b45b57b784c83b6274e22?s=128&d=identicon&r=PG", "display_name": "Lu&#237;s Soares", "link": "https://stackoverflow.com/users/819651/lu%c3%ads-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507540463, "creation_date": 1507504479, "last_edit_date": 1507540463, "question_id": 46636978, "link": "https://stackoverflow.com/questions/46636978/spring-boot-does-not-auto-init-logger-when-using-cacheable", "title": "Spring Boot does not auto init logger when using @Cacheable", "body": "<p>I'm seeing a weird behaviour. Whenever I annotate a method with:</p>\n\n<pre><code>@Cacheable(\"contacts\")\n</code></pre>\n\n<p>(Main class is annotated with <code>@EnableCaching</code>)\nI get this <code>logger</code> variable as <code>null</code> within any method:</p>\n\n<pre><code>private val logger = LoggerFactory.getLogger(ProductCriteria::class.java)\n</code></pre>\n\n<p>If I take it out, it's not <code>null</code> anymore.\nFrom my debugging, it seems that cglib is creating some class proxy to be able to offer caching. However, this proxy is not correctly initialized as it seems.</p>\n\n<p>Is it by design, a limitation or am I missing something?</p>\n"}, {"tags": ["enums", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4435, "user_id": 812598, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6c769fb4cb6525f4ea6c6e7bf8983a?s=128&d=identicon&r=PG", "display_name": "GoRoS", "link": "https://stackoverflow.com/users/812598/goros"}, "is_accepted": true, "score": 1, "last_activity_date": 1507495404, "creation_date": 1507495404, "answer_id": 46635868, "question_id": 46635209, "link": "https://stackoverflow.com/questions/46635209/how-to-convert-to-notnull-by-using-enum-in-kotlin/46635868#46635868", "title": "how to convert to NotNull by using enum in Kotlin", "body": "<p>Since you cannot restrict the <code>ordinal: Int</code> parameter as you've define it, you have two choices if you receive an ordinal which is not part of the enum, or is out of bounds:</p>\n\n<ul>\n<li>Return a default value</li>\n<li>Throw an exception</li>\n</ul>\n\n<p>IMHO both cases are plausible if you document properly the method.</p>\n\n<p>Here's a case where you return just a default value if you ask for an ordinal that does not exist:</p>\n\n<pre><code>class KotlinEnumTest {\n  enum class Adapterx {\n    ADAPTER_1,\n    ADAPTER_2;\n\n    companion object {\n      val defaultValue = ADAPTER_1\n      fun fromOrdinal(ordinal: Int): Adapterx =\n          Adapterx.values().getOrElse(ordinal, { _ -&gt; defaultValue })\n    }\n  }\n\n  @Test fun testEnumOrdinals() {\n    val resultAdapter1 = Adapterx.fromOrdinal(0)\n    Assert.assertEquals(Adapterx.ADAPTER_1, resultAdapter1)\n\n    val resultAdapter2 = Adapterx.fromOrdinal(1)\n    Assert.assertEquals(Adapterx.ADAPTER_2, resultAdapter2)\n\n    // The following returns the default value ADAPTER_1\n    val resultOrdinalIndexOutOfBounds = Adapterx.fromOrdinal(2)\n    Assert.assertEquals(Adapterx.ADAPTER_1, resultOrdinalIndexOutOfBounds)\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 46635868, "answer_count": 1, "score": 2, "last_activity_date": 1507495404, "creation_date": 1507490907, "question_id": 46635209, "link": "https://stackoverflow.com/questions/46635209/how-to-convert-to-notnull-by-using-enum-in-kotlin", "title": "how to convert to NotNull by using enum in Kotlin", "body": "<p>How can I convert the following code to accepted <code>NotNull</code> inside <code>enum</code> class by using <code>Kotlin</code>?</p>\n\n<p>Note: i'm using this enum between two activity and one activity has 2 adapters.</p>\n\n<p><strong>Here is enum class</strong></p>\n\n<pre><code>enum class Adapterx {\nADAPTER_1,\nADAPTER_2;\n\n\n    companion object {\n        fun fromOrdinal(ordinal: Int): Adapterx? {\n            return Adapterx.values().firstOrNull { it.ordinal == ordinal }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "eclipse", "maven", "kotlin"], "comments": [{"owner": {"reputation": 2335, "user_id": 518491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/anHUr.png?s=128&g=1", "display_name": "Andi", "link": "https://stackoverflow.com/users/518491/andi"}, "edited": false, "score": 0, "creation_date": 1512601892, "post_id": 46635063, "comment_id": 82329673, "body": "I&#39;m using IntelliJ and Gradle, not Eclipse and Maven, so I can not tell you what&#39;s the problem here. But I can confirm that your Kotlin code is perfectly valid. It seems to be a problem with the project setup, since the browser package can not be imported."}], "answers": [{"tags": [], "owner": {"reputation": 869, "user_id": 4691862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a42a6348b1aed7ddc446a37cc8a015?s=128&d=identicon&r=PG", "display_name": "flogy", "link": "https://stackoverflow.com/users/4691862/flogy"}, "is_accepted": false, "score": 0, "last_activity_date": 1510242205, "creation_date": 1510242205, "answer_id": 47205982, "question_id": 46635063, "link": "https://stackoverflow.com/questions/46635063/dom-manipulation-with-kotlin-javascript-in-eclipse-maven-project/47205982#47205982", "title": "DOM manipulation with Kotlin Javascript in Eclipse Maven project", "body": "<p>I think this is because the reference returned by <code>getElementById</code> might be <code>null</code>. As Kotlin tries to avoid the danger of null references, you have to explicitly handle this situation yourself. You can read more about this and about your options in the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Kotlin Reference</a>.</p>\n\n<p>The \"Java way\" here would be</p>\n\n<pre><code>document.getElementById(listName)!!.innerHTML = \"Test\"\n</code></pre>\n\n<p>as this throws a <code>NullPointerException</code> if the returned reference is <code>null</code> or set the <code>innerHTML</code> otherwise.</p>\n"}], "owner": {"reputation": 499, "user_id": 552224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9kX8I.jpg?s=128&g=1", "display_name": "Marco Vasapollo", "link": "https://stackoverflow.com/users/552224/marco-vasapollo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510242205, "creation_date": 1507490047, "question_id": 46635063, "link": "https://stackoverflow.com/questions/46635063/dom-manipulation-with-kotlin-javascript-in-eclipse-maven-project", "title": "DOM manipulation with Kotlin Javascript in Eclipse Maven project", "body": "<p>I have a Kotlin Javascript Maven project in Eclipse with the following pom.xml:</p>\n\n<pre><code>&lt;project&gt;\n    ...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n            &lt;version&gt;1.1.51&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-js&lt;/artifactId&gt;\n            &lt;version&gt;1.1.51&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                ...\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;unpack&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;unpack&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        ...\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>It works if I do a normal <code>println(\"Hello World!\")</code> message.\nBut I'm not able to run the following code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UzcsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UzcsB.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I am doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "moshi"], "comments": [{"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1507511488, "post_id": 46634793, "comment_id": 80224339, "body": "If you&#39;re using ProGuard, are you configuring it as recommended in the <a href=\"https://github.com/square/moshi/blob/master/README.md\" rel=\"nofollow noreferrer\">README</a>?"}, {"owner": {"reputation": 542, "user_id": 1242454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b1767333d9e844b7be26d2953b4b5bb?s=128&d=identicon&r=PG", "display_name": "king_below_my_lord", "link": "https://stackoverflow.com/users/1242454/king-below-my-lord"}, "reply_to_user": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1507565591, "post_id": 46634793, "comment_id": 80250566, "body": "Yes it&#39;s not a proguard issue though, because I&#39;m facing this in a debug build"}, {"owner": {"reputation": 542, "user_id": 1242454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b1767333d9e844b7be26d2953b4b5bb?s=128&d=identicon&r=PG", "display_name": "king_below_my_lord", "link": "https://stackoverflow.com/users/1242454/king-below-my-lord"}, "reply_to_user": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1507627311, "post_id": 46634793, "comment_id": 80274387, "body": "I am updating my example, the Data object is actually a RealmList object"}, {"owner": {"reputation": 1903, "user_id": 417006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4981cdace7bd78353de53b964c60c296?s=128&d=identicon&r=PG", "display_name": "St&#233;phane P&#233;chard", "link": "https://stackoverflow.com/users/417006/st%c3%a9phane-p%c3%a9chard"}, "edited": false, "score": 0, "creation_date": 1524650992, "post_id": 46634793, "comment_id": 87055015, "body": "Moshi documentation advices to add <code>KotlinJsonAdapterFactory</code> as the last factory into the builder. Maybe something to try."}], "owner": {"reputation": 542, "user_id": 1242454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6b1767333d9e844b7be26d2953b4b5bb?s=128&d=identicon&r=PG", "display_name": "king_below_my_lord", "link": "https://stackoverflow.com/users/1242454/king-below-my-lord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 909, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507627636, "creation_date": 1507488361, "last_edit_date": 1507627636, "question_id": 46634793, "link": "https://stackoverflow.com/questions/46634793/getting-class-not-found-exception-when-using-kotlinjsonadapterfactory-in-moshi", "title": "Getting Class Not Found Exception when using KotlinJsonAdapterFactory() in Moshi 1.5 with Kotlin", "body": "<p>The problem I'm facing is a little strange because when I have a normal model class which I use as a responsebody model for retrofit 2 I get some unexpected error, suppose </p>\n\n<pre><code>open class Example : RealmObject(){\n    @Json(name = \"token\")\n    var token: String? = null\n    @Json(name = \"data\")\n    var data: RealmList&lt;Data&gt;? = null\n}\n</code></pre>\n\n<p>and Data class is</p>\n\n<pre><code>open class Data : RealmObject(){\n    @Json(name = \"info\")\n    var info: String? = null\n}\n</code></pre>\n\n<p>My code crashes showing a ClassNotFoundException (I'm running in debug mode), and if remove KotlinJsonAdapterFactory() the crash doesn't happen, but data value becomes absent, ie in debug mode it appear's as if it doesn't exist, ie an object of Example will show only token value, data doesn't exist not even as null, but I need the KotlinJsonAdapterFactory() because I use annonations so the above was just an experiment. </p>\n\n<p>The only solution I found is convert both classes to data classes and it works perfectly(ofcourse I've to remove the RealmObject extension and make RealmList a normal list), but I need to extend RealmObject() class and data classes cannot be open which is needed by Realm db for the model.</p>\n\n<p>So I reverted back to 1.4 removed the KotlinJsonAdapterFactory(), and everything works, even after proguard it seems, so what should I do to upgrade to Moshi 1.5.</p>\n\n<p>Also I have updated something in my example code the data object is a RealmList and probably why it was ignored/not there when the response came was possibly because my RealmListAdapter for Moshi was ignored???</p>\n\n<p>I'll attach snippets of my moshi and retrofit instances</p>\n\n<p>Moshi`instance</p>\n\n<pre><code>Moshi.Builder()\n.add(KotlinJsonAdapterFactory())\n.add(RealmListAdapter.FACTORY)\n.build()\n</code></pre>\n\n<p>Retrofit instance</p>\n\n<pre><code>Retrofit.Builder()\n.baseUrl(BASE_URL)\n.addConverterFactory(MoshiConverterFactory.create(moshi))\n.addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n.client(okHttpClient)\n.build()\n</code></pre>\n"}, {"tags": ["java", "android", "menu", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 7659141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb83226f58f6e8a1b8a3da7c96e29b90?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Fischer", "link": "https://stackoverflow.com/users/7659141/daniel-fischer"}, "edited": false, "score": 0, "creation_date": 1507488794, "post_id": 46634747, "comment_id": 80218936, "body": "visible does not exists"}, {"owner": {"reputation": 397, "user_id": 1059580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5b186fdaff36b8e584275070be64de?s=128&d=identicon&r=PG", "display_name": "tapchicoma", "link": "https://stackoverflow.com/users/1059580/tapchicoma"}, "reply_to_user": {"reputation": 19, "user_id": 7659141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb83226f58f6e8a1b8a3da7c96e29b90?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Fischer", "link": "https://stackoverflow.com/users/7659141/daniel-fischer"}, "edited": false, "score": 0, "creation_date": 1507490061, "post_id": 46634747, "comment_id": 80219366, "body": "My bad, your variant in question should work. It will call setVisbile(boolean) method.  You can always check java representation of your code by going to Tools -&gt; Kotlin -&gt; Show Kotlin Bytecode  and press &quot;Decompile&quot; button"}, {"owner": {"reputation": 19, "user_id": 7659141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb83226f58f6e8a1b8a3da7c96e29b90?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Fischer", "link": "https://stackoverflow.com/users/7659141/daniel-fischer"}, "edited": false, "score": 0, "creation_date": 1507491128, "post_id": 46634747, "comment_id": 80219675, "body": "it should but it doesnt. Its strange maybe a bug?"}], "tags": [], "owner": {"reputation": 397, "user_id": 1059580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5b186fdaff36b8e584275070be64de?s=128&d=identicon&r=PG", "display_name": "tapchicoma", "link": "https://stackoverflow.com/users/1059580/tapchicoma"}, "is_accepted": false, "score": 0, "last_activity_date": 1507495193, "last_edit_date": 1507495193, "creation_date": 1507488127, "answer_id": 46634747, "question_id": 46634473, "link": "https://stackoverflow.com/questions/46634473/kotlin-toolbar-menu-icon-issue/46634747#46634747", "title": "Kotlin Toolbar Menu Icon issue", "body": "<p>Change this:</p>\n\n<pre><code>settings.isVisible = true\nsingOut.isVisible = false\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>settings.visible = true\nsignOut.visible = true\n</code></pre>\n\n<p>Check this doc for explanation: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#getters-and-setters\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html#getters-and-setters</a></p>\n\n<p><strong>Update</strong>: actual code in question is right - <code>settings.isVisible</code> should work.</p>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 3738208, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001110901553/picture?type=large", "display_name": "user3738208", "link": "https://stackoverflow.com/users/3738208/user3738208"}, "is_accepted": false, "score": 0, "last_activity_date": 1550889327, "creation_date": 1550889327, "answer_id": 54837673, "question_id": 46634473, "link": "https://stackoverflow.com/questions/46634473/kotlin-toolbar-menu-icon-issue/54837673#54837673", "title": "Kotlin Toolbar Menu Icon issue", "body": "<p>Have you tried with this? </p>\n\n<pre><code>settings.setShowAsAction(MenuItem.SHOW_AS_ACTION_IF_ROOM);\nsignout.setShowAsAction(MenuItem.SHOW_AS_ACTION_IF_ROOM);\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7659141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb83226f58f6e8a1b8a3da7c96e29b90?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Fischer", "link": "https://stackoverflow.com/users/7659141/daniel-fischer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1174, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1550889327, "creation_date": 1507486615, "question_id": 46634473, "link": "https://stackoverflow.com/questions/46634473/kotlin-toolbar-menu-icon-issue", "title": "Kotlin Toolbar Menu Icon issue", "body": "<p>I converted the following Java Code to Kotlin Code. Android Studio does not show any error message.<br>\nBut the result is different. I added two pictures of the emulator result.<br>\nAs you can see the Java one works fine and shows the 3-dot menu icon in the toolbar. But the Kotlin code does not work.<br>\nDo someone know what the mistake is? Hope for some help. Thanks.</p>\n\n<p><strong>Java:</strong></p>\n\n<pre><code>        @Override\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, \n        Bundle savedInstanceState) {\n                View view = inflater.inflate(R.layout.fragment_home, container, false);\n\n                //...\n                setHasOptionsMenu(true);\n\n                return view;\n            }\n\n\n\n        @Override\n        public void onCreateOptionsMenu(Menu menu, MenuInflater menuInflater) {\n                menuInflater.inflate(R.menu.menu_main, menu);\n        }\n\n        @Override\n        public void onPrepareOptionsMenu(Menu menu) {\n                MenuItem settings = menu.findItem(R.id.settings);\n                MenuItem singOut = menu.findItem(R.id.sign_out);\n                settings.setVisible(true);\n                singOut.setVisible(false);\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1pJq1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1pJq1.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Kotlin:</strong></p>\n\n<pre><code> override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater!!.inflate(R.layout.fragment_home, container, false)\n\n        //...\n        setHasOptionsMenu(true)\n\n        return view\n    }\n\n\n\n      override fun onCreateOptionsMenu(menu: Menu?, menuInflater: MenuInflater?) {\n            menuInflater!!.inflate(R.menu.menu_main, menu)\n        }\n\n        override fun onPrepareOptionsMenu(menu: Menu?) {\n            val settings = menu!!.findItem(R.id.settings)\n            val singOut = menu.findItem(R.id.sign_out)\n            settings.isVisible = true\n            singOut.isVisible = false\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1I6fw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1I6fw.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["intellij-idea", "gradle", "kotlin", "gradle-kotlin-dsl", "build.gradle.kts"], "comments": [{"owner": {"reputation": 2886, "user_id": 2960034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2155e960e7c2119d24d00cffcfa03368?s=128&d=identicon&r=PG&f=1", "display_name": "y.bedrov", "link": "https://stackoverflow.com/users/2960034/y-bedrov"}, "edited": false, "score": 1, "creation_date": 1507540868, "post_id": 46634311, "comment_id": 80234934, "body": "There is related request on YouTrack: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-177325\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-177325</a>"}], "answers": [{"tags": [], "owner": {"reputation": 566, "user_id": 3458074, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/01732e26320fde8276f1d79899915a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Pavan P", "link": "https://stackoverflow.com/users/3458074/pavan-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1507583041, "creation_date": 1507583041, "answer_id": 46654947, "question_id": 46634311, "link": "https://stackoverflow.com/questions/46634311/how-do-you-change-the-default-gradle-wrapper-and-build-file-in-intellij/46654947#46654947", "title": "How do you change the default Gradle wrapper and build file in IntelliJ?", "body": "<p>So this is actually a requested feature (thanks to @y.bedrov for the info), but I've found a temporary workaround...</p>\n\n<p>Instead of using the Gradle project creation wizard, you can import a custom buildscript via <em>Import Project</em>. This actually supports Kotlin DSL! However for that, you'll have to add a wrapper task in the buildscript and set the <code>distributionUrl</code> to one of the releases <a href=\"https://github.com/gradle/kotlin-dsl/releases\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PfAkB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PfAkB.png\" alt=\"\"></a></p>\n"}], "owner": {"reputation": 566, "user_id": 3458074, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/01732e26320fde8276f1d79899915a8c?s=128&d=identicon&r=PG&f=1", "display_name": "Pavan P", "link": "https://stackoverflow.com/users/3458074/pavan-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1761, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1507583041, "creation_date": 1507485706, "last_edit_date": 1507581907, "question_id": 46634311, "link": "https://stackoverflow.com/questions/46634311/how-do-you-change-the-default-gradle-wrapper-and-build-file-in-intellij", "title": "How do you change the default Gradle wrapper and build file in IntelliJ?", "body": "<p>I'm trying to switch over to <a href=\"https://github.com/gradle/kotlin-dsl\" rel=\"nofollow noreferrer\">Gradle Kotlin DSL</a> from vanilla Gradle for all my IntelliJ/Kotlin projects. This requires me to specify the <code>distributionUrl</code> property in a Gradle wrapper task of the build file. However whenever I create a Gradle project and choose the \"default Gradle wrapper\" option, IntelliJ automatically generates a vanilla Gradle version 4.0 (atleast as of right now) wrapper and builds the project using it. Not only does this install an unused Gradle distro on my machine and makes me manually have to recreate the build file and wrapper, but also Gradle 4.0 isn't compatible Java 9.</p>\n\n<p>Is there any way to change what default Gradle wrapper/build file is generated by IntelliJ as I see no wrapper configuration options in the settings tab of the Gradle plugin? </p>\n"}, {"tags": ["kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 22513, "user_id": 324977, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1ea440b30b1a2555983ba2a632012b3b?s=128&d=identicon&r=PG", "display_name": "Sam Stern", "link": "https://stackoverflow.com/users/324977/sam-stern"}, "edited": false, "score": 1, "creation_date": 1507662208, "post_id": 46636358, "comment_id": 80296659, "body": "Using a data class is likely the best option since it creates publicly named getters/setters for each field.  The Firestore data mapper looks for these (so to instantiate foo it needs a <code>public setFoo()</code>)"}, {"owner": {"reputation": 7544, "user_id": 73046, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pWrkh.jpg?s=128&g=1", "display_name": "James Moore", "link": "https://stackoverflow.com/users/73046/james-moore"}, "edited": false, "score": 4, "creation_date": 1508513904, "post_id": 46636358, "comment_id": 80652505, "body": "And the failure mode for not having a default constructor is almost useless - you&#39;ll get &quot;java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.Object java.lang.reflect.Constructor.newInstance(java.lang.Object[]&zwnj;&#8203;)&#39; on a null object reference."}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 1, "creation_date": 1512143544, "post_id": 46636358, "comment_id": 82151783, "body": "All Kotlin classes generate publicly named getters and setters for each public <code>var</code> field and publicly named getters for each public <code>val</code> field. Not only data classes."}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1512148527, "post_id": 46636358, "comment_id": 82154710, "body": "To avoid the error, just create a data class and call the primary constructor in the empty constructor like <code>constructor() : this(&quot;&quot;, null, 0)</code>"}], "tags": [], "owner": {"reputation": 661, "user_id": 5501064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vNHgb.jpg?s=128&g=1", "display_name": "Guilherme V.", "link": "https://stackoverflow.com/users/5501064/guilherme-v"}, "is_accepted": true, "score": 30, "last_activity_date": 1507499725, "last_edit_date": 1507499725, "creation_date": 1507498954, "answer_id": 46636358, "question_id": 46633412, "link": "https://stackoverflow.com/questions/46633412/firebase-firestore-toobject-with-kotlin/46636358#46636358", "title": "Firebase Firestore toObject() with Kotlin", "body": "<p>You forgot to include the public constructor with arguments, or you can also just use a data class with default values, it should be enough:</p>\n\n<pre><code>data class MyObject(var foo: String = \"\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "is_accepted": false, "score": 8, "last_activity_date": 1518995008, "creation_date": 1518995008, "answer_id": 48857553, "question_id": 46633412, "link": "https://stackoverflow.com/questions/46633412/firebase-firestore-toobject-with-kotlin/48857553#48857553", "title": "Firebase Firestore toObject() with Kotlin", "body": "<p>In my case I was getting a <strong>NullPointerException</strong> because there wasn't a default constructor.\nUsing a data class with default values fixed the error.</p>\n\n<pre><code>data class Message(\n        val messageId : String = \"\",\n        val userId : String = \"\",\n        val userName : String = \"\",\n        val text : String = \"\",\n        val imageUrl : String? = null,\n        val date : String = \"\"\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11430618, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8D0lccfMjc0/AAAAAAAAAAI/AAAAAAAAEvQ/GHlImaPZ1eU/photo.jpg?sz=128", "display_name": "Gomax Lo", "link": "https://stackoverflow.com/users/11430618/gomax-lo"}, "is_accepted": false, "score": 0, "last_activity_date": 1556604436, "last_edit_date": 1556604436, "creation_date": 1556601719, "answer_id": 55914412, "question_id": 46633412, "link": "https://stackoverflow.com/questions/46633412/firebase-firestore-toobject-with-kotlin/55914412#55914412", "title": "Firebase Firestore toObject() with Kotlin", "body": "<pre><code>class MyObject {\n\n    lateinit var foo: String\n\n    constructor(foo:String) {\n        this.foo = foo\n    }\n\n    constructor()\n\n}\n</code></pre>\n"}], "owner": {"reputation": 4191, "user_id": 1146506, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/4W2g9.jpg?s=128&g=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/1146506/valentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9828, "favorite_count": 3, "accepted_answer_id": 46636358, "answer_count": 3, "score": 24, "last_activity_date": 1556604436, "creation_date": 1507480297, "last_edit_date": 1507806739, "question_id": 46633412, "link": "https://stackoverflow.com/questions/46633412/firebase-firestore-toobject-with-kotlin", "title": "Firebase Firestore toObject() with Kotlin", "body": "<p>I try to use Firebase Firestore in a Kotlin project. Everything is going fine except when I want to instantiate an object with DocumentSnapshot.toObject(Class valueType).</p>\n\n<p>Here is the code :</p>\n\n<pre><code>FirebaseFirestore\n    .getInstance()\n    .collection(\"myObjects\")\n    .addSnapshotListener(this,\n    { querySnapshot: QuerySnapshot?, e: FirebaseFirestoreException? -&gt;\n\n        for (document in querySnapshot.documents) {\n\n            val myObject = document.toObject(MyObject::class.java)\n\n            Log.e(TAG,document.data.get(\"foo\")) // Print : \"foo\"\n            Log.e(TAG, myObject.foo) // Print : \"\"\n        }\n    }\n})\n</code></pre>\n\n<p>As you can see, when I use <code>documentChange.document.toObject(MyObject::class.java)</code>, my object is instantiated but the inner fields are not set.\nI know that Firestore needs the model to have an empty constructor. So here is the model :</p>\n\n<pre><code>class MyObject {\n\n    var foo: String = \"\"\n\n    constructor(){}\n\n}\n</code></pre>\n\n<p>Can somebody tell me what I'm doing wrong?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["kotlin", "read-eval-print-loop"], "answers": [{"comments": [{"owner": {"reputation": 11845, "user_id": 1536527, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Sgr8O.png?s=128&g=1", "display_name": "ironsand", "link": "https://stackoverflow.com/users/1536527/ironsand"}, "edited": false, "score": 1, "creation_date": 1507523815, "post_id": 46632859, "comment_id": 80226856, "body": "Your answer make me notice that I was using <code>load:</code> instead of <code>:load</code>. Thanks."}], "tags": [], "owner": {"reputation": 2472, "user_id": 775282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c161c3b25645471c05560402910ef118?s=128&d=identicon&r=PG", "display_name": "fal", "link": "https://stackoverflow.com/users/775282/fal"}, "is_accepted": true, "score": 0, "last_activity_date": 1507476885, "creation_date": 1507476885, "answer_id": 46632859, "question_id": 46632548, "link": "https://stackoverflow.com/questions/46632548/how-to-load-a-file-in-kotlin-repl/46632859#46632859", "title": "How to load a file in Kotlin REPL", "body": "<p>Try without the quotes:</p>\n\n<p><code>&gt;&gt;&gt; :load Rational.kt</code></p>\n"}], "owner": {"reputation": 11845, "user_id": 1536527, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Sgr8O.png?s=128&g=1", "display_name": "ironsand", "link": "https://stackoverflow.com/users/1536527/ironsand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 652, "favorite_count": 0, "accepted_answer_id": 46632859, "answer_count": 1, "score": -2, "last_activity_date": 1507546038, "creation_date": 1507474998, "last_edit_date": 1507546038, "question_id": 46632548, "link": "https://stackoverflow.com/questions/46632548/how-to-load-a-file-in-kotlin-repl", "title": "How to load a file in Kotlin REPL", "body": "<p>According to <code>:help</code> in Kotlin REPL I can load a file by <code>load:</code> command.</p>\n\n<pre><code>&gt;&gt;&gt; :help\nAvailable commands:\n:help                   show this help\n:quit                   exit the interpreter\n:dump bytecode          dump classes to terminal\n:load &lt;file&gt;            load script from specified file\n</code></pre>\n\n<p>But loading the file fails like this.\nThe <code>Rational.kt</code> exists current directory.</p>\n\n<pre><code>&gt;&gt;&gt; load: \"Rational.kt\";\nerror: unexpected tokens (use ';' to separate expressions on the same line)\nload: \"Rational.kt\";\n</code></pre>\n\n<p>Neither <code>load: Rational.kt</code> nor <code>load: \"Rational.kt\"</code> works.\nHow can I load a file in REPL? \nI couldn't find an example for it.</p>\n"}, {"tags": ["kotlin", "extension-methods", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 8, "last_activity_date": 1507474930, "creation_date": 1507474930, "answer_id": 46632536, "question_id": 46631293, "link": "https://stackoverflow.com/questions/46631293/kotlin-extension-method-as-alias-for-long-method-name/46632536#46632536", "title": "Kotlin extension method as alias for long method name?", "body": "<p>Currently <strong>there's no way</strong> to fully achieve what you are trying to do. If you want to keep your default parameters, you have to do (as you said):</p>\n\n<pre><code>fun String.beg(prefix: CharSequence, ignoreCase: Boolean = false) = startsWith(prefix, ignoreCase)\n// Or if you know that ignoreCase will be always false, you can pass the value directly to \"startsWith()\nfun String.beg(prefix: CharSequence) = startsWith(prefix, false)\n</code></pre>\n\n<p>Instead, if you haven't default parameters or you don't care if you have to pass the default value when you will invoke the function, you can use a function reference.</p>\n\n<pre><code>val String.beg: (CharSequence, Boolean) -&gt; Boolean get() = this::startsWith\n// If the parameters can be inferred, you can avoid the type specification.\n// In this case it won't compile because there are several combinations for \"startsWith()\".\nval String.beg get() = this::startsWith\n</code></pre>\n\n<p>In this case, you can't specify the default value of a parameter because <code>beg</code> is a lambda.</p>\n\n<p>Since Kotlin 1.2 (currently in beta), you can avoid to specify <code>this</code> on a function reference. Same examples written above but in Kotlin 1.2:</p>\n\n<pre><code>val String.beg: (CharSequence, Boolean) -&gt; Boolean get() = ::startsWith\n// If the parameters can be inferred, you can avoid the type specification.\n// In this case it won't compile because there are several combinations for \"startsWith()\".\nval String.beg get() = ::startsWith\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 852, "user_id": 13854774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f9566e304de531d0d35d6b68c623d9b?s=128&d=identicon&r=PG&f=1", "display_name": "Deadbeef", "link": "https://stackoverflow.com/users/13854774/deadbeef"}, "is_accepted": false, "score": 0, "last_activity_date": 1604310438, "creation_date": 1604310438, "answer_id": 64643155, "question_id": 46631293, "link": "https://stackoverflow.com/questions/46631293/kotlin-extension-method-as-alias-for-long-method-name/64643155#64643155", "title": "Kotlin extension method as alias for long method name?", "body": "<p>You can also use an import alias, for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import kotlin.text.startsWith as beg\n\nfun main() {\n    &quot;foo&quot;.beg(&quot;fo&quot;)\n    &quot;bar&quot;.beg('B', true)\n}\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2659, "favorite_count": 0, "accepted_answer_id": 46632536, "answer_count": 2, "score": 9, "last_activity_date": 1604310438, "creation_date": 1507467097, "last_edit_date": 1508514860, "question_id": 46631293, "link": "https://stackoverflow.com/questions/46631293/kotlin-extension-method-as-alias-for-long-method-name", "title": "Kotlin extension method as alias for long method name?", "body": "<p>I am working in Kotlin using a Kotlin-native library object containing a method whose <code>.nameIsMuchTooLongAndIsStillNotClear</code>.  In a manner similar to <code>typealias</code>, I want to create an alias to the method, so I can refer to it as something <code>.shortAndClear</code>.  To complicate matters slightly, these functions have several parameters, many of which have defaults that I'd prefer not to pre-process in a wrapper.  After further research, it still seems like an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"noreferrer\">extension function</a> is the way to go.</p>\n\n<p>To use an <em>example function</em> that's easy to test, let's say I want to create an alias-type extension for <code>String.startsWith</code> that is called <code>String.beg</code>.  I can easily get the following solution to work:</p>\n\n<pre><code>inline fun String.beg(prefix: CharSequence, ignoreCase: Boolean = false) = startsWith(prefix, ignoreCase)   // works ok\n</code></pre>\n\n<p>However, this seems to require that I list all argument and their defaults, and do so for every overload.  (The real method signatures in question are considerably longer with many more defaults.)  In the spirit of \"don't repeat yourself\", is there a way I can use a <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"noreferrer\">function reference</a> to <code>String::startsWith</code> so that I don't have to enumerate all arguments? I've tried several forms, but none of them work:</p>\n\n<pre><code>// none of these work:\nfun String.beg = String::startsWith\nfun String.beg = this::startsWith\nval String.beg: (CharSequence, Boolean) -&gt; Boolean = String::startsWith\n</code></pre>\n"}, {"tags": ["spring-boot", "mockito", "kotlin", "project-reactor"], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 6752443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154009305770805/picture?type=large", "display_name": "Kacper Roszczyna", "link": "https://stackoverflow.com/users/6752443/kacper-roszczyna"}, "is_accepted": true, "score": 1, "last_activity_date": 1507563971, "creation_date": 1507563971, "answer_id": 46650329, "question_id": 46630867, "link": "https://stackoverflow.com/questions/46630867/reactor-switchifempty-does-not-behave-as-expected-in-junit-test/46650329#46650329", "title": "Reactor switchifempty does not behave as expected in junit test", "body": "<p>Finally I found out how to make this work.</p>\n\n<p>In order to remedy it:</p>\n\n<pre><code> override fun provide(request: ScrapingRequest): Flux&lt;ScrapedRecipe&gt; =\n        cache.retrieve(request.link)\n                .flatMap { (link, _, recipeHash, error) -&gt;\n                    recipeService.findByHash(recipeHash)\n                            .map { ScrapedRecipe(it, link, error) }\n                            .switchIfEmpty(Mono.just(1)\n                                    .flatMap { cache.remove(request.link) }\n                                    .then(Mono.empty()))\n                }\n                .flux()\n</code></pre>\n\n<p>You can see how using flatMap to execute the asynch work does the job, even if this is not the neatest implementation, it revealed to me quite an interesting mechanism hidden here.</p>\n"}], "owner": {"reputation": 191, "user_id": 6752443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154009305770805/picture?type=large", "display_name": "Kacper Roszczyna", "link": "https://stackoverflow.com/users/6752443/kacper-roszczyna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2684, "favorite_count": 0, "accepted_answer_id": 46650329, "answer_count": 1, "score": 0, "last_activity_date": 1507563971, "creation_date": 1507464005, "question_id": 46630867, "link": "https://stackoverflow.com/questions/46630867/reactor-switchifempty-does-not-behave-as-expected-in-junit-test", "title": "Reactor switchifempty does not behave as expected in junit test", "body": "<p>I am writing tests for the method provide below. \n`</p>\n\n<pre><code>class ScrapedRecipeCache @Autowired constructor(private val cache: RecipeScrapingCacheService,\n                                                private val recipeService: RecipeService) : ScrapedRecipeProvider {\n    override fun provide(request: ScrapingRequest): Flux&lt;ScrapedRecipe&gt; =\n            cache.retrieve(request.link)\n                    .doOnNext { println(it) }\n                    .flatMap { (link, _, recipeHash, error) -&gt;\n                        recipeService.findByHash(recipeHash)\n                                .map { ScrapedRecipe(it, link, error)}\n                                .switchIfEmpty(cache.remove(request.link).then(Mono.empty()))\n                    }\n                    .flux()\n\n\n}\n</code></pre>\n\n<p>`\n    The test looks as follows:</p>\n\n<pre><code>private val recipeFetched = Recipe(\"Tortellini\", RecipeDifficulty.EASY, 15.0)\n\nval cacheContents = RecipeScrapingResource(\"www.google.com\", ScrapingOrigin.JAMIE_OLIVER, recipeFetched.hash,\n                    mutableListOf(\n                            pl.goolash.core.Exception(\"aa\", ErrorType.WARNING, LocalDateTime.MIN)\n                    ))\nval request = ScrapingRequest(\"www.google.com\", ScrapingOrigin.JAMIE_OLIVER, 4)\n\n@BeforeEach\nfun setUp() {\ngiven(cache.retrieve(\"www.google.com\")).willReturn(Mono.just(cacheContents))\ngiven(recipeService.findByHash(recipeFetched.hash)).willReturn(Mono.just(recipeFetched))\n}\n\n@Test\n@DisplayName(\"Then return data fetched from service and don't delete cache\")\n fun test() {\n      cacheFacade.provide(request)\n                            .test()\n                            .expectNext(ScrapedRecipe(recipeFetched, \"www.google.com\", cacheContents.error!!))\n                            .expectComplete()\n                            .verify()\n      BDDMockito.verify(cache, BDDMockito.never()).remove(request.link)\n                }\n</code></pre>\n\n<p>The test fails because cache.remove(request.link) is called. To my understanding (or from what I managed to gather from documentation) switchIfEmpty, should only be fired when recipeService.findByHash returns Mono.empty(). However the debugger shows that it returns mocked value of Mono.just(fetchedRecipe). </p>\n\n<p>The interesting thing is that when I replace </p>\n\n<pre><code>.switchIfEmpty(cache.remove(request.link).then(Mono.empty()))\n</code></pre>\n\n<p>with </p>\n\n<pre><code>.switchIfEmpty(Mono.just(1).doOnNext{println(\"weeee\")}.then(Mono.empty()))\n</code></pre>\n\n<p>Then weee is not printed hence it behaves as expected, that is switchIfEmpty is not fired.</p>\n\n<p>Furthermore the tested issue runs properly in integration test and does not clear the cache.</p>\n\n<p>Reactor version : 3.1.0-RC1\nOther notable details: Spring Boot 2.0.0-M4, Mockito-core:2.10, junit 5, project is written in kotlin</p>\n\n<p>The question is, does anybody see anything wrong with this? Because I have spent two days over and still have no clue why this behaves so bizzarely.</p>\n"}, {"tags": ["intellij-idea", "compiler-errors", "kotlin"], "comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1507556023, "post_id": 46630615, "comment_id": 80244557, "body": "pls post your code as text (+ error message) not as screenshot. other people cannot search for text"}], "answers": [{"tags": [], "owner": {"reputation": 286, "user_id": 6513649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf003438eb6ddaccfda28664114f205b?s=128&d=identicon&r=PG&f=1", "display_name": "Yarick", "link": "https://stackoverflow.com/users/6513649/yarick"}, "is_accepted": false, "score": 1, "last_activity_date": 1507463286, "creation_date": 1507463286, "answer_id": 46630755, "question_id": 46630615, "link": "https://stackoverflow.com/questions/46630615/cant-convert-to-collection-in-kotlin/46630755#46630755", "title": "Can&#39;t convert to collection in kotlin", "body": "<p>Okay, i figured it out, when has return type Any, because else branch return Unit, while other branches Token.  So intellij tries to tell me, that this is type mismatch error</p>\n"}, {"tags": [], "owner": {"reputation": 4319, "user_id": 4874829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cfECAGc8huU/AAAAAAAAAAI/AAAAAAAAAJk/Pebw5H-quLo/photo.jpg?sz=128", "display_name": "Yoav Sternberg", "link": "https://stackoverflow.com/users/4874829/yoav-sternberg"}, "is_accepted": true, "score": 2, "last_activity_date": 1507488547, "creation_date": 1507488547, "answer_id": 46634821, "question_id": 46630615, "link": "https://stackoverflow.com/questions/46630615/cant-convert-to-collection-in-kotlin/46634821#46634821", "title": "Can&#39;t convert to collection in kotlin", "body": "<p>In the <code>else</code> branch, you don't return anything, meaning you return the <code>Unit</code> singleton. \n<code>Unit</code> is not a subtype of <code>Token</code>. Therefore, the Kotlin compiler takes <code>Unit</code> and <code>Token</code> shared parent class: <code>Any</code> (Kotlin's base class, Like <code>Object</code> in Java).</p>\n\n<p>Instead of returning <code>Unit</code>, you should throw Exception on the else branch, to signal the compiler it cannot happen. </p>\n\n<p>However, if you want just to ignore extra characters. you can return null on the else branch, and use<code>mapNotNull</code> to filter:</p>\n\n<p><code>\ntoParse.mapNotNull { ... }.toCollection(LinkedList&lt;Token&gt;())\n</code></p>\n\n<p>Also, you can combine the <code>toCollection</code> and <code>map</code> calls using <code>mapNotNullTo</code>:</p>\n\n<p><code>\ntoParse.mapNotNullTo(LinkedList&lt;Token&gt;()) { ... }\n</code></p>\n"}], "owner": {"reputation": 286, "user_id": 6513649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf003438eb6ddaccfda28664114f205b?s=128&d=identicon&r=PG&f=1", "display_name": "Yarick", "link": "https://stackoverflow.com/users/6513649/yarick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1463, "favorite_count": 0, "accepted_answer_id": 46634821, "answer_count": 2, "score": -1, "last_activity_date": 1507488547, "creation_date": 1507462330, "question_id": 46630615, "link": "https://stackoverflow.com/questions/46630615/cant-convert-to-collection-in-kotlin", "title": "Can&#39;t convert to collection in kotlin", "body": "<p>I'm trying to convert List to LinkedList in kotlin, here is my code with error from intellij</p>\n\n<p><a href=\"https://i.stack.imgur.com/TzUWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TzUWU.png\" alt=\"Intellij saying that this won&#39;t do\"></a></p>\n\n<p>But in Kotlin REPL i can do something like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/ED5Ji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ED5Ji.png\" alt=\"But this is perfectly normal\"></a></p>\n\n<p>What's wrong with my code?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1507461082, "post_id": 46630401, "comment_id": 80210409, "body": "Related: <a href=\"https://stackoverflow.com/questions/35976405/infix-notation-and-with-does-not-work-as-i-expected\" title=\"infix notation and with does not work as i expected\">stackoverflow.com/questions/35976405/&hellip;</a>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1507464408, "post_id": 46630401, "comment_id": 80211236, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35976405/infix-notation-and-with-does-not-work-as-i-expected\">Infix notation and with(...) does not work as I expected</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1507474873, "creation_date": 1507474873, "answer_id": 46632525, "question_id": 46630401, "link": "https://stackoverflow.com/questions/46630401/can-i-apply-infix-function-within-the-own-class-without-this/46632525#46632525", "title": "Can I apply infix function within the own class without `this`?", "body": "<p>It can't be omitted, you always need a left operand when using <code>infix</code> functions, which is <code>this</code> in your case: </p>\n\n<p>\"<code>receiver functionName parameter</code>\"</p>\n\n<p>There's no way around it.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "accepted_answer_id": 46632525, "answer_count": 1, "score": 2, "last_activity_date": 1507474873, "creation_date": 1507460832, "question_id": 46630401, "link": "https://stackoverflow.com/questions/46630401/can-i-apply-infix-function-within-the-own-class-without-this", "title": "Can I apply infix function within the own class without `this`?", "body": "<p>In Kotlin, we have infix</p>\n\n<p>e.g. when we have</p>\n\n<pre><code>fun Int.test(value: Int) {}\n</code></pre>\n\n<p>We can use </p>\n\n<pre><code>1.test(2)\n</code></pre>\n\n<p>And when we put infix</p>\n\n<pre><code>infix fun Int.test(value: Int) {}\n</code></pre>\n\n<p>We can use as</p>\n\n<pre><code>1 test 2\n</code></pre>\n\n<p>For a class, the below is okay</p>\n\n<pre><code>class myclass {\n    fun main() {\n        test(1)\n    }\n    fun test(value: Int) {}\n}\n</code></pre>\n\n<p>But with infix the below is not okay</p>\n\n<pre><code>class myclass {\n    fun main() {\n        test 1\n    }\n    infix fun test(value: Int) {}\n}\n</code></pre>\n\n<p>Apparently, it has to have</p>\n\n<pre><code>class myclass {\n    fun main() {\n        this test 1\n    }\n    infix fun test(value: Int) {}\n}\n</code></pre>\n\n<p>Can I omit <code>this</code>, since <code>test</code> is call within the class itself?</p>\n"}, {"tags": ["java", "spring-boot", "junit", "mockito", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 292, "user_id": 2282093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/31WJk.png?s=128&g=1", "display_name": "Joao Neto", "link": "https://stackoverflow.com/users/2282093/joao-neto"}, "edited": false, "score": 0, "creation_date": 1507621161, "post_id": 46630829, "comment_id": 80270630, "body": "That helped. Thanks!"}], "tags": [], "owner": {"reputation": 2337, "user_id": 3099704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/htnVr.jpg?s=128&g=1", "display_name": "sedooe", "link": "https://stackoverflow.com/users/3099704/sedooe"}, "is_accepted": true, "score": 1, "last_activity_date": 1507463774, "creation_date": 1507463774, "answer_id": 46630829, "question_id": 46630053, "link": "https://stackoverflow.com/questions/46630053/springboot-arrayindexoutofboundsexception-methodparameter-getgenericparametertyp/46630829#46630829", "title": "SpringBoot ArrayIndexOutOfBoundsException MethodParameter.getGenericParameterType", "body": "<p>If you are using Spring Boot 1.4+ (probably you are), you can use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/mock/mockito/MockBean.html\" rel=\"nofollow noreferrer\">MockBean</a> annotation to mock beans easily.</p>\n"}], "owner": {"reputation": 292, "user_id": 2282093, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/31WJk.png?s=128&g=1", "display_name": "Joao Neto", "link": "https://stackoverflow.com/users/2282093/joao-neto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 46630829, "answer_count": 1, "score": 0, "last_activity_date": 1507463774, "creation_date": 1507458455, "question_id": 46630053, "link": "https://stackoverflow.com/questions/46630053/springboot-arrayindexoutofboundsexception-methodparameter-getgenericparametertyp", "title": "SpringBoot ArrayIndexOutOfBoundsException MethodParameter.getGenericParameterType", "body": "<p>I'm using spring boot, and I'm trying to setup a test scenario where I invoke a bean with an invocation to a mocked JPARepository using mockito.</p>\n\n<p>Here is the relevant code:</p>\n\n<p>The Repository</p>\n\n<pre><code>@Repository\ninterface FooRepository : JpaRepository&lt;Foo, String&gt;\n</code></pre>\n\n<p>The Service</p>\n\n<pre><code>@Service\nclass FooService(\n    private val FooRepository: FooRepository\n) {\n\n    @Transactional\n    fun call(input: String) = FooRepository.saveAndFlush(\n        Foo(input)\n    )\n}\n</code></pre>\n\n<p>And the test</p>\n\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner::class)\n@Import(FooServiceTest.MockFooRepositoryConfiguration::class)\nclass FooServiceTest {\n\n    @Autowired\n    private lateinit var fooService: FooService\n\n    @Autowired\n    private lateinit var fooRepository: FooRepository\n\n    @Test\n    fun test1() {\n\n        FooService.call(\"xxx\")\n\n        Mockito.verify(FooRepository, Mockito.times(1)).saveAndFlush(\"xxx\")\n    }\n\n    @Configuration\n    inner class MockFooRepositoryConfiguration {\n        @Bean\n        @Primary\n        fun FooRepository(): FooRepository {\n            return Mockito.mock(FooRepository::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p>I just wish to perform a unit test of the service and ascertain if the repository method was called with the proper arguments. My objective is to replace the fooRepo bean is replaced by the mocked version in the test only.</p>\n\n<p>When running the test, unfortunately, i get an ArrayIndexOutOfBounds:</p>\n\n<pre><code>Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy1.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:108)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:146)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:128)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 0\n    at org.springframework.core.MethodParameter.getGenericParameterType(MethodParameter.java:387)\n    at org.springframework.core.SerializableTypeWrapper$MethodParameterTypeProvider.getType(SerializableTypeWrapper.java:337)\n    at org.springframework.core.SerializableTypeWrapper.forTypeProvider(SerializableTypeWrapper.java:149)\n    at org.springframework.core.ResolvableType.forType(ResolvableType.java:1333)\n    at org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1249)\n    at org.springframework.core.ResolvableType.forMethodParameter(ResolvableType.java:1217)\n    at org.springframework.beans.factory.config.DependencyDescriptor.getResolvableType(DependencyDescriptor.java:246)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    ... 49 more\n</code></pre>\n\n<p>I'm not using Java but Kotlin. Could this be related to the issue? Thanks for your help!</p>\n"}, {"tags": ["maven", "kotlin", "querydsl", "kapt", "annotation-processor"], "answers": [{"comments": [{"owner": {"reputation": 5499, "user_id": 2553215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/okVWo.jpg?s=128&g=1", "display_name": "kuhnroyal", "link": "https://stackoverflow.com/users/2553215/kuhnroyal"}, "edited": false, "score": 0, "creation_date": 1509899700, "post_id": 47047955, "comment_id": 81197845, "body": "Missed the classifier, works without it on Java, saved me, thanks!"}], "tags": [], "owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "is_accepted": true, "score": 2, "last_activity_date": 1509508279, "creation_date": 1509508279, "answer_id": 47047955, "question_id": 46629818, "link": "https://stackoverflow.com/questions/46629818/kotlin-kapt-annotation-processor-not-working-with-maven/47047955#47047955", "title": "Kotlin-Kapt Annotation Processor not working with maven", "body": "<p>The potential problem is that you missed the <code>jpa</code> classifier:</p>\n\n<pre><code>&lt;annotationProcessorPath&gt;\n    &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n    &lt;version&gt;3.6.3&lt;/version&gt;\n    &lt;classifier&gt;jpa&lt;/classifier&gt;\n&lt;/annotationProcessorPath&gt;\n</code></pre>\n\n<p>I added a <a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/maven/kotlin-querydsl\" rel=\"nofollow noreferrer\">Maven/Querydsl example</a> to the <em>kotlin-examples</em> repository. Note that the example has a slightly more complicated pom as it also supports Java/Kotlin combined projects.</p>\n"}], "owner": {"reputation": 693, "user_id": 6401281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f170d7b9ff5b69f66624d2ee10aa2a4?s=128&d=identicon&r=PG&f=1", "display_name": "Funzo", "link": "https://stackoverflow.com/users/6401281/funzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1051, "favorite_count": 0, "accepted_answer_id": 47047955, "answer_count": 1, "score": 2, "last_activity_date": 1509508279, "creation_date": 1507456580, "last_edit_date": 1507524834, "question_id": 46629818, "link": "https://stackoverflow.com/questions/46629818/kotlin-kapt-annotation-processor-not-working-with-maven", "title": "Kotlin-Kapt Annotation Processor not working with maven", "body": "<p>I want to generate jpa querydsl files from kotlin entity classes. </p>\n\n<p>There is a very good examples online of how to generate the dsl files using gradle <a href=\"https://github.com/JetBrains/kotlin-examples/blob/master/gradle/kotlin-querydsl/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin-examples/blob/master/gradle/kotlin-querydsl/build.gradle</a>.</p>\n\n<p>However I have tried to implement this in maven and have had no luck. \nMy current pom is below. Does anybody know what the issue might be?\nThanks in advance. </p>\n\n<pre><code>&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;test&lt;/groupId&gt;\n&lt;artifactId&gt;test-jpa&lt;/artifactId&gt;\n&lt;version&gt;2.7.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;kotlin.version&gt;1.1.50&lt;/kotlin.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;4.3.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;kapt&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;kapt&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;annotationProcessorPath&gt;\n                                &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n                                &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                                &lt;version&gt;3.6.4&lt;/version&gt;\n                            &lt;/annotationProcessorPath&gt;\n                        &lt;/annotationProcessorPaths&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;${project.build.sourceDirectory}&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n\n&lt;/build&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 0, "creation_date": 1507452751, "post_id": 46629169, "comment_id": 80208227, "body": "what is the output of this code is it coming inside the conditional bloack if (!File(_capturedVideoPath).exists()){             throw Exception(&quot;File at $_capturedVideoPath does not exist&quot;)         }"}, {"owner": {"reputation": 99, "user_id": 227185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd6b67882658960270b25139d3edeb2?s=128&d=identicon&r=PG", "display_name": "PhilG", "link": "https://stackoverflow.com/users/227185/philg"}, "reply_to_user": {"reputation": 3964, "user_id": 5188516, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-Rm8h7GXYYB4/AAAAAAAAAAI/AAAAAAAAABw/ZrJ_i_mACi0/photo.jpg?sz=128", "display_name": "Abdul Waheed", "link": "https://stackoverflow.com/users/5188516/abdul-waheed"}, "edited": false, "score": 0, "creation_date": 1507452908, "post_id": 46629169, "comment_id": 80208254, "body": "Logcat might look weird as that&#39;s yet another problem I have, when my apps crash nothing is in Logcat, so I found some code on SO that overrides the <code>DefaultUncaughtExceptionHandler</code>.  @AbdulWaheed it doesn&#39;t throw that exception hence the filepath is good."}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 227185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd6b67882658960270b25139d3edeb2?s=128&d=identicon&r=PG", "display_name": "PhilG", "link": "https://stackoverflow.com/users/227185/philg"}, "is_accepted": false, "score": 0, "last_activity_date": 1507496937, "creation_date": 1507496937, "answer_id": 46636092, "question_id": 46629169, "link": "https://stackoverflow.com/questions/46629169/thumbnailutils-createvideothumbnail-crashing-despite-valid-file-path/46636092#46636092", "title": "ThumbnailUtils.createVideoThumbnail crashing despite valid file path", "body": "<p>For anyone else who gets here, this was permissions on SDK 23. </p>\n\n<p>I had to request <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">read permissions from external storage</a> for this to work. Not impressed with the cryptic error message on such a mature platform!</p>\n"}], "owner": {"reputation": 99, "user_id": 227185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dd6b67882658960270b25139d3edeb2?s=128&d=identicon&r=PG", "display_name": "PhilG", "link": "https://stackoverflow.com/users/227185/philg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 363, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507496937, "creation_date": 1507452356, "question_id": 46629169, "link": "https://stackoverflow.com/questions/46629169/thumbnailutils-createvideothumbnail-crashing-despite-valid-file-path", "title": "ThumbnailUtils.createVideoThumbnail crashing despite valid file path", "body": "<p>Wasted hours on this so far so looking for some help. I've had this code working before so really stumped now. I'm checking that the file exists and it does, yet still no joy. I have </p>\n\n<pre><code> var vidIntent = Intent(MediaStore.ACTION_VIDEO_CAPTURE)\n\n    var g1 = UUID.randomUUID()\n\n    var vidFileName = \"$g1.mp4\"\n    _videoFileList.add(vidFileName)\n\n    var videoFileDir = Environment.getExternalStoragePublicDirectory(android.os.Environment.DIRECTORY_MOVIES)\n\n    var vidFile = File(videoFileDir, vidFileName)\n\n    _capturedVideoPath = vidFile.absolutePath\n\n    vidIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(vidFile))\n    vidIntent.putExtra(MediaStore.EXTRA_DURATION_LIMIT, 10)\n\n\n    startActivityForResult(vidIntent, 0)\n</code></pre>\n\n<p>And then handling the result:</p>\n\n<pre><code>if (!_capturedVideoPath.isBlank()){\n\n        println(\"video captured at $_capturedVideoPath\")\n\n        if (!File(_capturedVideoPath).exists()){\n            throw Exception(\"File at $_capturedVideoPath does not exist\")\n        }\n\n        var thumbBmp : Bitmap = ThumbnailUtils.createVideoThumbnail(_capturedVideoPath, MediaStore.Video.Thumbnails.MINI_KIND)\n</code></pre>\n\n<p>Always results in the following crash (testing on a real device):</p>\n\n<pre><code>E/ExceptionHandler: java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=0, result=-1, data=Intent { dat=file:///storage/emulated/0/Movies/084ea076-995f-4818-9536-4a9184167ccf.mp4 flg=0x1 (has extras) }} to activity {com.reels.videocapture/com.example.live.videocapture.ShootVideoActivity}: java.lang.IllegalStateException: ThumbnailUtils.createVid\u2026deo.Thumbnails.MINI_KIND) must not be null\n                                                                          at android.app.ActivityThread.deliverResults(ActivityThread.java:3730)\n                                                                          at android.app.ActivityThread.handleSendResult(ActivityThread.java:3773)\n                                                                          at android.app.ActivityThread.access$1400(ActivityThread.java:165)\n                                                                          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1418)\n                                                                          at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                          at android.os.Looper.loop(Looper.java:150)\n                                                                          at android.app.ActivityThread.main(ActivityThread.java:5546)\n                                                                          at java.lang.reflect.Method.invoke(Native Method)\n                                                                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:792)\n                                                                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:682)\n                                                                       Caused by: java.lang.IllegalStateException: ThumbnailUtils.createVid\u2026deo.Thumbnails.MINI_KIND) must not be null\n                                                                          at com.example.live.videocapture.ShootVideoActivity.onActivityResult(ShootVideoActivity.kt:97)\n                                                                          at android.app.Activity.dispatchActivityResult(Activity.java:6597)\n                                                                          at android.app.ActivityThread.deliverResults(ActivityThread.java:3726)\n</code></pre>\n"}, {"tags": ["android", "android-activity", "kotlin", "android-adapter"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "edited": false, "score": 0, "creation_date": 1507474753, "post_id": 46629165, "comment_id": 80214242, "body": "thank you so much @tynn for answer, Actually i did but it&#39;s show my this message  <code>incompatable types: Main2Activity.FoodAdapter1?and AdapterType?</code>, and my question is  updated by add image <code>null error</code> can you check it please"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "edited": false, "score": 0, "creation_date": 1507493469, "post_id": 46629165, "comment_id": 80220278, "body": "You have to remove the <code>var ADAPTER_TYPE_x</code> as well."}, {"owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "edited": false, "score": 0, "creation_date": 1507494666, "post_id": 46629165, "comment_id": 80220638, "body": "my question is updated, I did it but it&#39;s still the same, please can you check  my 2nd picture  @tynn"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "edited": false, "score": 0, "creation_date": 1507494885, "post_id": 46629165, "comment_id": 80220715, "body": "Why do you try to match again type? You should use <code>AdapterType.ADAPTER_TYPE_x</code> or statically import these."}, {"owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "edited": false, "score": 0, "creation_date": 1508155866, "post_id": 46629165, "comment_id": 80485248, "body": "do you know how to fix this because i ask this question without get any answer, please can you help @ tynn  <a href=\"https://stackoverflow.com/questions/46762451/issue-with-back-button-on-app-bar-by-using-kotlin\">link</a>"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1507452333, "creation_date": 1507452333, "answer_id": 46629165, "question_id": 46627972, "link": "https://stackoverflow.com/questions/46627972/when-expression-in-kotlin-not-working-as-expected/46629165#46629165", "title": "When expression in kotlin not working as expected", "body": "<p>The implementation is off</p>\n\n<pre><code>var ADAPTER_TYPE_1 = adapter1\nvar ADAPTER_TYPE_2 = adapter2\n\nlvFoods2.adapter = when (lvFoods2.adapter) {\n    ADAPTER_TYPE_1 -&gt; FoodAdapter1(listOfFoods2, this).also { ADAPTER_TYPE_1 = it }\n    ADAPTER_TYPE_2  -&gt; FoodAdapter2(listOfFoods3, this).also { ADAPTER_TYPE_2 = it }\n    else -&gt; lvFoods2.adapter\n}\n</code></pre>\n\n<p>The <code>adapter1</code> variable is null as well as <code>lvFoods2.adapter</code>. From how I understand your code, it should look like:</p>\n\n<pre><code>lvFoods2.adapter = when (type) {\n    ADAPTER_TYPE_1 -&gt; FoodAdapter1(listOfFoods2, this)\n    ADAPTER_TYPE_2  -&gt; FoodAdapter2(listOfFoods3, this)\n    else -&gt; lvFoods2.adapter\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 8739610, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f10b80e3a19108448c6d56207f7a1b1?s=128&d=identicon&r=PG&f=1", "display_name": "andios", "link": "https://stackoverflow.com/users/8739610/andios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1211, "favorite_count": 0, "accepted_answer_id": 46629165, "answer_count": 1, "score": 1, "last_activity_date": 1507495430, "creation_date": 1507442113, "last_edit_date": 1507495430, "question_id": 46627972, "link": "https://stackoverflow.com/questions/46627972/when-expression-in-kotlin-not-working-as-expected", "title": "When expression in kotlin not working as expected", "body": "<p>I wonder if somebody can help me to solve this problem for represent <code>When Expression</code> specific block of code ?</p>\n\n<p>I have 2 activities to connect between the:</p>\n\n<p>The first activity is <code>MainActivity.kt</code> and the second activity is <code>Main2Activity.kt</code>, in the 2nd activity i got problem for Applying When Expression with specific block of code  inside <code>Main2Activity class</code>\nbecause i wanna pass specific  adapter inside <code>Main2Activity class</code> when click on image in the <code>MainActivity class</code> like passing <code>ADAPTER_TYPE_2</code> when click on image <code>b</code> in the first activity class, and the main issue of that it is always  Applying the first block of code  inside <code>Main2Activity class</code></p>\n\n<p>Note :first activity used <code>GridView</code> and 2nd activity used <code>ListView</code> and i have 2 adapters inside <code>Main2Activity.kt</code> and i'm using <code>enum</code> consist of each adapter in the 2nd activity </p>\n\n<p><strong>Here is a MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nvar adapter:FoodAdapter?=null\nvar listOfFoods =ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nsetContentView(layout.activity_main)\n\n\n// load foods\nlistOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", a))\nlistOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", b))\nlistOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", c))\nlistOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\", d))\n\nadapter= FoodAdapter(this,listOfFoods)\n\ngvListFood.adapter =adapter\n\n}\n\n\nclass  FoodAdapter: BaseAdapter {\nvar listOfFood= ArrayList&lt;Food&gt;()\nvar context: Context?=null\nconstructor(context:Context,listOfFood:ArrayList&lt;Food&gt;):super(){\n    this.context=context\n    this.listOfFood=listOfFood\n}\noverride fun getView(p0: Int, p1: View?, p2: ViewGroup?): View? {\n    val food = this.listOfFood[p0]\n    var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n    var foodView= inflator.inflate(layout.food_ticket,null)\n    foodView.ivFoodImage.setImageResource(food.image!!)\n    foodView.ivFoodImage.setOnClickListener {\n\n\n        val intent = Intent(context, Main2Activity::class.java)\n\n        when (foodView) {\n            foodView.ivFoodImage.also { a } -&gt;\n                intent.putExtra(Main2Activity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_1.ordinal) {\n\n                    intent.putExtra(\"name\", food.name!!)\n                    intent.putExtra(\"des\", food.des!!)\n                    intent.putExtra(\"image\", food.image!!)\n                    context!!.startActivity(intent)\n                }\n\n            foodView.ivFoodImage.also { b } -&gt;\n                intent.putExtra(Main2Activity.EXTRA_ADAPTER_MODE, AdapterType.ADAPTER_TYPE_2.ordinal) {\n\n                   intent.putExtra(\"name\", food.name!!)\n                   intent.putExtra(\"des\", food.des!!)\n                   intent.putExtra(\"image\", food.image!!)\n                   context!!.startActivity(intent)\n            }\n        }\n\n    }\n    return foodView\n}\n\noverride fun getItem(p0: Int): Any {\n    return listOfFood[p0]\n}\n\noverride fun getItemId(p0: Int): Long {\n    return p0.toLong()\n}\n\noverride fun getCount(): Int {\n\n    return listOfFood.size\n}\n\n}\n}\n</code></pre>\n\n<p><strong>Here is food_ticket.xml for first activity</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"63pt\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"@color/gray\"\nandroid:orientation=\"vertical\"\nandroid:padding=\"3pt\"&gt;\n\n&lt;LinearLayout\nandroid:gravity=\"center\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@drawable/background\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;ImageView\n    android:id=\"@+id/ivFoodImage\"\n    android:layout_width=\"50pt\"\n    android:layout_height=\"50pt\"\n    app:srcCompat=\"@drawable/c\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/tvName\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:gravity=\"center\"\n    android:text=\"Coffe\"\n    android:textSize=\"20sp\" /&gt;\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>Here is a Main2Activity.kt</strong></p>\n\n<pre><code>class Main2Activity : AppCompatActivity() {\ncompanion object {\n    val EXTRA_ADAPTER_MODE = \"extra_adapter_mode\"\n\n}\n\n    var adapter1: FoodAdapter1?= null\n    var adapter2: FoodAdapter2? = null\n    var listOfFoods2 = ArrayList&lt;Food&gt;()\n    var listOfFoods3 = ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(activity_main2)\n\n\n    val bundle = intent.extras\n    val adapterTypeOrdinal = intent.getIntExtra(EXTRA_ADAPTER_MODE, 0) // 0 is the default value\n    val type = AdapterType.fromOrdinal(ordinal = adapterTypeOrdinal)\n\n\n    val name = bundle.getString(\"name\")\n    val des = bundle.getString(\"des\")\n    val image = bundle.getInt(\"image\")\n\n\n\n    ivFoodImage2?.let {\n        it.setImageResource(image)\n    }\n\n    tvName2?.let {\n        it.text = name\n    }\n\n    tvDes2?.let {\n        it.text = des\n    }\n\n\n    // load foods2\n    listOfFoods2.add(Food(\"Coffee\", \"   Coffee1 preparation is\", R.drawable.a))\n    listOfFoods2.add(Food(\"Coffee\", \"   Coffee2 preparation is\", R.drawable.b))\n\n\n\n    // load foods3\n    listOfFoods3.add(Food(\"Coffee\", \"   Coffee3 preparation is\", R.drawable.c))\n    listOfFoods3.add(Food(\"Coffee\", \"   Coffee4 preparation is\", R.drawable.d))\n\n     //var ADAPTER_TYPE_1 = adapter1\n    //var ADAPTER_TYPE_2 = adapter2\n\n    lvFoods2.adapter = when (type) {\n        AdapterType.ADAPTER_TYPE_1-&gt; FoodAdapter1(listOfFoods2, this)\n        AdapterType.ADAPTER_TYPE_2-&gt; FoodAdapter2(listOfFoods3, this)\n        else -&gt; lvFoods2.adapter\n    }\n}\n\n\n\nclass FoodAdapter1 : BaseAdapter{\n    var context: Context? = null\n    var listOfFoodsLocal2 = ArrayList&lt;Food&gt;()\n\n    constructor(listOfFoods2: ArrayList&lt;Food&gt;, context: Context) : super() {\n        this.listOfFoodsLocal2 = listOfFoods2\n        this.context = context\n    }\n\n    override fun getView(p0: Int, foodView: View?, p2: ViewGroup?): View {\n        val food = this.listOfFoodsLocal2[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val foodView = inflator.inflate(food_ticket2, null)\n\n\n\n        foodView.ivFoodImage2?.let {\n            it.setImageResource(food.image!!)\n                 }\n        foodView.tvName2?.let {\n\n            it.text = food.name!!\n        }\n        foodView.tvDes2?.let {\n            it.text = food.des!!\n        }\n\n        foodView.ivFoodImage2.setOnClickListener {\n\n            //move to next\n            val intent = Intent(context, FoodDetails::class.java)\n            intent.putExtra(\"name\", food.name!!)\n            intent.putExtra(\"des\", food.des!!)\n            intent.putExtra(\"image\", food.image!!)\n\n            context!!.startActivity(intent)\n\n        }\n        return foodView\n\n    }\n\n\n    override fun getItem(p0: Int): Any {\n        return listOfFoodsLocal2[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return listOfFoodsLocal2.size\n    }\n\n}\n\nclass FoodAdapter2 : BaseAdapter {\n    var context: Context? = null\n    var listOfFoodsLocal3 = ArrayList&lt;Food&gt;()\n\n    constructor(listOfFoods3: ArrayList&lt;Food&gt;, context: Context) : super() {\n        this.listOfFoodsLocal3 = listOfFoods3\n        this.context = context\n    }\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val food = this.listOfFoodsLocal3[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        val foodView = inflator.inflate(food_ticket2, null)\n\n\n            foodView.ivFoodImage2?.let {\n                it.setImageResource(food.image!!)\n            }\n            foodView.tvName2?.let {\n                it.text = food.name!!\n            }\n            foodView.tvDes2?.let {\n                it.text = food.des!!\n            }\n\n\n\n\n        foodView.ivFoodImage2.setOnClickListener {\n\n            //move to next\n            val intent = Intent(context, FoodDetails::class.java)\n            intent.putExtra(\"name\", food.name!!)\n            intent.putExtra(\"des\", food.des!!)\n            intent.putExtra(\"image\", food.image!!)\n\n            context!!.startActivity(intent)\n\n        }\n        return foodView\n\n    }\n\n\n    override fun getItem(p0: Int): Any {\n        return listOfFoodsLocal3[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return listOfFoodsLocal3.size\n    }\n\n}\n}\n</code></pre>\n\n<p><strong>activity_main2.xml for 2nd activity</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/gray\"\nandroid:orientation=\"vertical\"\ntools:context=\"com.marzadmz.startup.Main2Activity\"&gt;\n\n&lt;ListView\nandroid:id=\"@+id/lvFoods2\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/gray\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>AdapterType.kt for enum class</strong></p>\n\n<pre><code>enum class AdapterType {\nADAPTER_TYPE_1,\nADAPTER_TYPE_2;\n\n\n\n    companion object {\n        fun fromOrdinal(ordinal: Int): AdapterType? {\n            return AdapterType.values().firstOrNull { it.ordinal == ordinal }\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/h4xJJ.png\" rel=\"nofollow noreferrer\">null error image</a>\n    <a href=\"https://i.stack.imgur.com/TnjcH.png\" rel=\"nofollow noreferrer\">2nd picture</a></p>\n"}, {"tags": ["java", "hibernate", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 3088847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e23cce6562c47cb51216ed14ad4e06?s=128&d=identicon&r=PG&f=1", "display_name": "pokemans", "link": "https://stackoverflow.com/users/3088847/pokemans"}, "edited": false, "score": 0, "creation_date": 1507443654, "post_id": 46628071, "comment_id": 80206294, "body": "I&#39;m not trying to serialize the object yet.  Just fetch it.  I don&#39;t understand why the JpaRepository is even calling toString()?"}, {"owner": {"reputation": 98, "user_id": 3088847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e23cce6562c47cb51216ed14ad4e06?s=128&d=identicon&r=PG&f=1", "display_name": "pokemans", "link": "https://stackoverflow.com/users/3088847/pokemans"}, "edited": false, "score": 0, "creation_date": 1507443913, "post_id": 46628071, "comment_id": 80206329, "body": "This works, i just don&#39;t understand why its doing this."}, {"owner": {"reputation": 2337, "user_id": 3099704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/htnVr.jpg?s=128&g=1", "display_name": "sedooe", "link": "https://stackoverflow.com/users/3099704/sedooe"}, "edited": false, "score": 0, "creation_date": 1507463971, "post_id": 46628071, "comment_id": 80211113, "body": "If you send this object to the view, and use it in javascript, your view engine (thymeleaf?) will serialize the object."}, {"owner": {"reputation": 98, "user_id": 3088847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e23cce6562c47cb51216ed14ad4e06?s=128&d=identicon&r=PG&f=1", "display_name": "pokemans", "link": "https://stackoverflow.com/users/3088847/pokemans"}, "reply_to_user": {"reputation": 2337, "user_id": 3099704, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/htnVr.jpg?s=128&g=1", "display_name": "sedooe", "link": "https://stackoverflow.com/users/3099704/sedooe"}, "edited": false, "score": 0, "creation_date": 1507479120, "post_id": 46628071, "comment_id": 80215670, "body": "@sedooe is it happening eagerly or something?  I&#39;d have it in a breakpoint and just step over to the next line in a service call, and I&#39;d still get the exception.  Before any view logic was being called."}], "tags": [], "owner": {"reputation": 507, "user_id": 4554440, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3PC1MzbHCRY/AAAAAAAAAAI/AAAAAAAAAvY/bnVkQqvfF6I/photo.jpg?sz=128", "display_name": "nkharche", "link": "https://stackoverflow.com/users/4554440/nkharche"}, "is_accepted": true, "score": 1, "last_activity_date": 1507443121, "creation_date": 1507443121, "answer_id": 46628071, "question_id": 46627892, "link": "https://stackoverflow.com/questions/46627892/hibernate-onetomany-join-table-throws-stackoverflowexception/46628071#46628071", "title": "Hibernate @OneToMany join table throws StackOverflowException", "body": "<p>Here problem is not excatly with @OneToMany.</p>\n\n<p>In case of serialization (in this case printing object's string form) the stated code will go in cyclic loop. </p>\n\n<p>In stated code snippet cyclic relationships are as follow:\n1. Assignment has List\n2. Assignement has User\n3. User has List\n4. User has List\n5. AssignmentUser has User\n6. AssignmentUser has Assignment </p>\n\n<p>In hibernate all mappings are by default set to LAZY, hence it will not cause problem bacause we will not load associated object unless needed.</p>\n\n<p>But, in case of serialization it will try to load associated objects, and hence to break this we need to implement the custom serialization. In your case you need to override the toString method of above objects properly i.e. objects should not be loaded unnecessarily. </p>\n"}], "owner": {"reputation": 98, "user_id": 3088847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e23cce6562c47cb51216ed14ad4e06?s=128&d=identicon&r=PG&f=1", "display_name": "pokemans", "link": "https://stackoverflow.com/users/3088847/pokemans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "accepted_answer_id": 46628071, "answer_count": 1, "score": 0, "last_activity_date": 1507443121, "creation_date": 1507441352, "last_edit_date": 1507441972, "question_id": 46627892, "link": "https://stackoverflow.com/questions/46627892/hibernate-onetomany-join-table-throws-stackoverflowexception", "title": "Hibernate @OneToMany join table throws StackOverflowException", "body": "<p>I'm working on a hibernate entity relationship that is set up as follows:</p>\n\n<p>A user can create assignments.  The user can split the assignment with other users, giving them tasks.  My goal is to have a user that is as follows:</p>\n\n<p>{ id: 1, assignments: [{name: 'test'}], partialAssignment: [{task: 'bla'}]}</p>\n\n<p>And assignments like this:\n{id: 1, user: {...}, assignedUsers: [{...}], ...}</p>\n\n<p>Assignment:</p>\n\n<pre><code>    @Entity\n    @Table(name = \"Assignment\")\n    data class Assignment (\n\n      @Id\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\n      @Column(name = \"id\", nullable = false, updatable = false)\n      val id: Long? = null,\n\n      @Column(name = \"name\")\n      val name: String? = null,\n\n      @Column(name = \"dueDate\")\n      @Temporal(TemporalType.TIMESTAMP)\n      val dueDate: Date? = null,\n\n      @ManyToOne\n      @JoinColumn(name = \"userId\")\n      var user: User? = null,\n\n      @OneToMany(mappedBy = \"assignment\")\n      var assignedUsers: List&lt;AssignmentUser&gt; = emptyList()\n    )\n</code></pre>\n\n<p>User</p>\n\n<pre><code>@Entity\n@Table(name = \"Users\")\ndata class User (\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false, updatable = false)\n    @JsonView(UserView.UserSummary::class)\n    val id: Long? = null,\n\n    @Column(name = \"email\", nullable = false)\n    @JsonView(UserView.UserSummary::class)\n    val email: String = \"\",\n\n    @Column(name = \"password\", nullable = false)\n    val password: String = \"\",\n\n    @OneToMany(mappedBy = \"user\")\n    val assignments: List&lt;Assignment&gt; = emptyList(),\n\n    @OneToMany(mappedBy = \"user\")\n    val partialAssignment: List&lt;AssignmentUser&gt; = emptyList()\n)\n</code></pre>\n\n<p>AssignmentUser</p>\n\n<pre><code>@Entity\n@Table(name = \"AssignmentUsers\")\ndata class AssignmentUser(\n    @Column(name = \"task\")\n    val task: String? = null,\n\n    @Id\n    @ManyToOne(cascade = arrayOf(CascadeType.ALL))\n    @JoinColumn(name = \"userId\")\n    var user: User? = null,\n\n    @Id\n    @ManyToOne(cascade = arrayOf(CascadeType.ALL))\n    @JoinColumn(name = \"assignmentId\")\n    var assignment: Assignment? = null\n) : Serializable {\n\n}\n</code></pre>\n\n<p>When I fetch the Assignment class using a JPARepository .findOne(id) call, I get a StackOverflow exception on the Assignment.toString() method.  I don't understand why, as it worked fine until I added the psuedo ManyToMany relationship (assignedUsers).</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "is_accepted": true, "score": 0, "last_activity_date": 1507490910, "creation_date": 1507490910, "answer_id": 46635212, "question_id": 46627613, "link": "https://stackoverflow.com/questions/46627613/android-java-kotlin-recyclerview-items-not-visible/46635212#46635212", "title": "android java/kotlin recyclerview items not visible", "body": "<p>The problem here was the context that i was using. my context was the one returned from <code>getApplicationContext()</code> which was incorrect. now i have changed it to just using <code>this</code>. once making that change it all viewholder items were visible.</p>\n"}, {"tags": [], "owner": {"reputation": 925, "user_id": 3731900, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/100003027163533/picture?type=large", "display_name": "yousef", "link": "https://stackoverflow.com/users/3731900/yousef"}, "is_accepted": false, "score": 1, "last_activity_date": 1594468401, "creation_date": 1594468401, "answer_id": 62848815, "question_id": 46627613, "link": "https://stackoverflow.com/questions/46627613/android-java-kotlin-recyclerview-items-not-visible/62848815#62848815", "title": "android java/kotlin recyclerview items not visible", "body": "<p>you can remove context in contractor adapter and can replace this line using context inside adapter <code> val v = LayoutInflater.from(mContext).inflate(R.layout.device_item, parent, false)</code> into <code> val v = LayoutInflater.from(parent.context).inflate(R.layout.device_item, parent, false)</code> or if you want context inside adapter as argument replace this statement</p>\n<pre><code> mAdapter = new DeviceAdapter(getApplicationContext());\n</code></pre>\n<p>to <code> mAdapter = new DeviceAdapter(this);</code></p>\n"}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 943, "favorite_count": 0, "accepted_answer_id": 46635212, "answer_count": 2, "score": 0, "last_activity_date": 1594468401, "creation_date": 1507438211, "last_edit_date": 1507486346, "question_id": 46627613, "link": "https://stackoverflow.com/questions/46627613/android-java-kotlin-recyclerview-items-not-visible", "title": "android java/kotlin recyclerview items not visible", "body": "<p>i am trying to build an app that scans for bluetooth devices and displays them in a recyclerview. i am writing some of the app using java and some of the app in kotlin. for some reason my recyclerview items aren't visible. somebody please help me to find what mistake that i am making. i am posting the code for my activity and also my recycler view. To clarify my question. The discovery succeeds, devices are found, and all the inherited methods in my adapter seem to be called. I placed log messages in them and I still see nothing in the recyclerview. Why is nothing show up? here is my activity written in java : </p>\n\n<pre><code>public class ToofActivity extends AppCompatActivity implements CompoundButton.OnCheckedChangeListener {\n\nprivate static final String TAG = \"ToofActivity\";\nprivate static final int REQUEST_COARSE_LOCATION = 222;\n\nprivate static BluetoothAdapter btAdapter;\n\nprivate TextView mStatusLabel;\nprivate Switch mStatusSwitch;\nprivate ProgressBar mProgressBar;\nprivate RecyclerView mDeviceRecylcer;\nprivate static ArrayList&lt;BluetoothDevice&gt; mDevices = new ArrayList&lt;&gt;();\nprivate DeviceAdapter mAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_toof);\n\n    checkLocationPermission();\n\n    btAdapter = BluetoothAdapter.getDefaultAdapter();\n\n    mStatusLabel = (TextView) findViewById(R.id.status_view);\n    mStatusLabel.setText(btAdapter.isEnabled() ? \"Active\" : \"Inactive\");\n    mStatusSwitch = (Switch) findViewById(R.id.status_switch);\n    mStatusSwitch.setChecked(btAdapter.isEnabled());\n    mStatusSwitch.setOnCheckedChangeListener(this);\n    mProgressBar = (ProgressBar) findViewById(R.id.search_progress_bar);\n    mDeviceRecylcer = (RecyclerView) findViewById(R.id.device_recycler);\n\n    mDeviceRecylcer.setLayoutManager(new LinearLayoutManager(this));\n    mAdapter = new DeviceAdapter(getApplicationContext());\n    mDeviceRecylcer.setAdapter(mAdapter);\n\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.options_menu, menu);\n    return super.onCreateOptionsMenu(menu);\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.searchOption:\n            DiscoveryTask discovery = new DiscoveryTask(btAdapter, this, mProgressBar);\n            discovery.setOnCompleteListener(new DiscoveryTask.OnCompletedListener() {\n                @Override\n                public void onComplete() {\n                    mAdapter.updateItems(mDevices);\n                }\n            });\n            discovery.execute((Void) null);\n            break;\n    }\n\n    return true;\n}\n\n@Override\npublic void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n    if (isChecked) {\n        btAdapter.enable();\n        mStatusLabel.setText(\"Active\");\n    } else {\n        btAdapter.disable();\n        mStatusLabel.setText(\"Inactive\");\n    }\n}\n\npublic static void setDeviceList(ArrayList&lt;BluetoothDevice&gt; deviceList) {\n    mDevices.clear();\n    mDevices = deviceList;\n}\n\nprotected void checkLocationPermission() {\n    if (this.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED) {\n\n        ActivityCompat.requestPermissions(this,\n                new String[]{Manifest.permission.ACCESS_COARSE_LOCATION},\n                REQUEST_COARSE_LOCATION);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode,\n                                       String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case REQUEST_COARSE_LOCATION: {\n            if (grantResults.length &lt;= 0\n                    || grantResults[0] != PackageManager.PERMISSION_GRANTED) {\n                checkLocationPermission();\n                break;\n            }\n        }\n    }\n}\n}\n</code></pre>\n\n<p>and here is the code for my recyclerview written in kotlin : </p>\n\n<pre><code>class DeviceAdapter(val mContext : Context) : RecyclerView.Adapter&lt;DeviceAdapter.DeviceHolder&gt;(){\n\nval mDevices = ArrayList&lt;BluetoothDevice&gt;()\n\nfun updateItems(list: ArrayList&lt;BluetoothDevice&gt;){\n    mDevices.clear()\n    mDevices.addAll(list)\n    Log.d(TAG, \"updating items : $mDevices\")\n    notifyDataSetChanged()\n}\n\noverride fun onBindViewHolder(holder: DeviceHolder, position: Int) {\n    Log.d(TAG, \"onBindViewHolder called!\")\n    holder.bindItems(mDevices.get(position))\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): DeviceHolder{\n    Log.d(TAG, \"onCreateViewHolder called!\")\n    val v = LayoutInflater.from(mContext).inflate(R.layout.device_item, parent, false)\n    return DeviceHolder(v)\n}\n\noverride fun getItemCount(): Int {\n    return mDevices.size\n}\n\ninner class DeviceHolder(itemView: View) : RecyclerView.ViewHolder(itemView){\n\n        val nameView = itemView.findViewById(R.id.nameView) as TextView\n        val addrView = itemView.findViewById(R.id.addressView) as TextView\n\n    fun bindItems(btDevice: BluetoothDevice){\n        Log.d(TAG, \"holder created!\")\n        nameView.text = btDevice.name\n        addrView.text = btDevice.address\n    }\n}\n\ncompanion object {\n    val TAG = \"DeviceAdapter\"\n}\n\n}\n</code></pre>\n\n<p>thank you for helping me.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 3, "last_activity_date": 1507448696, "creation_date": 1507448696, "answer_id": 46628682, "question_id": 46627421, "link": "https://stackoverflow.com/questions/46627421/whats-the-difference-between-fooclass-java-and-foojavaclass/46628682#46628682", "title": "What&#39;s the difference between Foo::class.java and Foo::javaClass?", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java-class.html\" rel=\"nofollow noreferrer\"><code>Foo::javaClass</code></a> is a reference to a <code>val</code> defined as</p>\n\n<pre><code>inline val &lt;T : Any&gt; T.javaClass: Class&lt;T&gt;\n</code></pre>\n\n<p>So you'd have to call it on an instance of Foo like <code>foo.javaClass</code>.</p>\n\n<p><code>Foo::class</code> gives you the actual <code>KClass</code> of <code>Foo</code> and <code>java</code> is a property of <code>KClass</code> defined as</p>\n\n<pre><code>val &lt;T&gt; KClass&lt;T&gt;.java: Class&lt;T&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 14, "last_activity_date": 1519754869, "last_edit_date": 1519754869, "creation_date": 1507450502, "answer_id": 46628937, "question_id": 46627421, "link": "https://stackoverflow.com/questions/46627421/whats-the-difference-between-fooclass-java-and-foojavaclass/46628937#46628937", "title": "What&#39;s the difference between Foo::class.java and Foo::javaClass?", "body": "<p>The <code>javaClass</code> is an extension property that returns the <em>runtime Java class</em> of an instantiated <strong>object</strong>. In your case, it is being used as a property reference, which will give you a <code>KProperty1&lt;Foo, Class&lt;Foo&gt;&gt;</code> representing the extension function itself:</p>\n\n<pre><code>val T.javaClass: java.lang.Class&lt;T&gt;\n</code></pre>\n\n<p>You could use this in combination with a receiver, e.g. if <code>Foo</code> provided a default constructor you could say:</p>\n\n<pre><code>Foo::javaClass.get(Foo())\n</code></pre>\n\n<p>which may be simplified to: </p>\n\n<pre><code>Foo().javaClass\n</code></pre>\n\n<p>Using <code>::class.java</code> on the other hand, gives you the Java <code>Class&lt;?&gt;</code> as described in <a href=\"https://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"noreferrer\">\"class references\"</a> directly. All three possibilities in a simple example:</p>\n\n<pre><code>val kProperty1: KProperty1&lt;Foo, Class&lt;Foo&gt;&gt; = Foo::javaClass\nkProperty1.get(Foo()) //class de.swirtz.kotlin.misc.Foo\nFoo::class.java //class de.swirtz.kotlin.misc.Foo\nFoo().javaClass //class de.swirtz.kotlin.misc.Foo\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 7, "last_activity_date": 1507454885, "last_edit_date": 1507454885, "creation_date": 1507453143, "answer_id": 46629305, "question_id": 46627421, "link": "https://stackoverflow.com/questions/46627421/whats-the-difference-between-fooclass-java-and-foojavaclass/46629305#46629305", "title": "What&#39;s the difference between Foo::class.java and Foo::javaClass?", "body": "<p><code>javaClass</code> is an extension property which returns the runtime Java class of an object.</p>\n\n<pre><code>/**\n * Returns the runtime Java class of this object.\n */\npublic inline val &lt;T: Any&gt; T.javaClass : Class&lt;T&gt;\n    @Suppress(\"UsePropertyAccessSyntax\")\n    get() = (this as java.lang.Object).getClass() as Class&lt;T&gt;\n</code></pre>\n\n<p>It can be called on an instance of a class, for example:</p>\n\n<pre><code>println(Foo().javaClass)    //class Foo\n</code></pre>\n\n<p>However, <code>Foo::javaClass</code> give you a <a href=\"https://kotlinlang.org/docs/reference/reflection.html#property-references\" rel=\"noreferrer\">property reference</a> of type <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-property/index.html\" rel=\"noreferrer\"><code>KProperty1&lt;Foo, Class&lt;Foo&gt;&gt;</code></a> instead of a Java class instance which can be used to get the class of an instance of <code>Foo</code> through reflection:</p>\n\n<pre><code>val p: KProperty1&lt;Foo, Class&lt;Foo&gt;&gt; = Foo::javaClass\nprintln(p.get(Foo()))    //p.get(Foo()) returns a Java class Foo\n</code></pre>\n\n<p>Therefore, it is wrong to pass a <code>KProperty</code> to <code>LoggerFactory.getLogger()</code> which accepts a Java class.</p>\n"}], "owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6191, "favorite_count": 4, "accepted_answer_id": 46628937, "answer_count": 3, "score": 10, "last_activity_date": 1519754869, "creation_date": 1507435893, "question_id": 46627421, "link": "https://stackoverflow.com/questions/46627421/whats-the-difference-between-fooclass-java-and-foojavaclass", "title": "What&#39;s the difference between Foo::class.java and Foo::javaClass?", "body": "<p>To initialize my logger apparently I need:</p>\n\n<pre><code>val LOGGER : Logger = LoggerFactory.getLogger(Foo::class.java);\n</code></pre>\n\n<p>If I do:</p>\n\n<pre><code>val LOGGER : Logger = LoggerFactory.getLogger(Foo::javaClass);\n</code></pre>\n\n<p>It complains that the parameter type is not compatible with <code>getLogger</code>. However according to the API, both are <code>Class&lt;Foo&gt;</code>.  How are they different?</p>\n"}, {"tags": ["bash", "kotlin", "unzip"], "answers": [{"comments": [{"owner": {"reputation": 714, "user_id": 2315445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a36eb457583a88bae10d96a4c587a654?s=128&d=identicon&r=PG", "display_name": "Minami", "link": "https://stackoverflow.com/users/2315445/minami"}, "edited": false, "score": 1, "creation_date": 1507548209, "post_id": 46644254, "comment_id": 80239441, "body": "maybe use <code>PathMatcher(&quot;glob: $pattern&quot;)</code> for file filter will do better  in emulating what bash does?"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 714, "user_id": 2315445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a36eb457583a88bae10d96a4c587a654?s=128&d=identicon&r=PG", "display_name": "Minami", "link": "https://stackoverflow.com/users/2315445/minami"}, "edited": false, "score": 0, "creation_date": 1507553085, "post_id": 46644254, "comment_id": 80242505, "body": "@Minami Thanks for the idea. The solution with `PathMather&#39; ends up being very verbose, but I&#39;ve added a similar alternative solution using Files.newDirectoryStream"}, {"owner": {"reputation": 61, "user_id": 5344831, "user_type": "registered", "profile_image": "https://graph.facebook.com/503197606/picture?type=large", "display_name": "Mensly", "link": "https://stackoverflow.com/users/5344831/mensly"}, "edited": false, "score": 6, "creation_date": 1549587807, "post_id": 46644254, "comment_id": 95966190, "body": "One slight issue with this is that it doesn&#39;t handle directories within the zip file. I had to add a line like: <code>if (entry.isDirectory) {                 outputFile.mkdirs() }</code>"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 20, "last_activity_date": 1545052762, "last_edit_date": 1545052762, "creation_date": 1507544847, "answer_id": 46644254, "question_id": 46627357, "link": "https://stackoverflow.com/questions/46627357/unzip-a-file-in-kotlin-script-kts/46644254#46644254", "title": "Unzip a file in kotlin script [.kts]", "body": "<p>The easiest way is to just use exec <code>unzip</code> (assuming that the name of your zip file is stored in <code>zipFileName</code> variable):</p>\n\n<pre><code>ProcessBuilder()\n    .command(\"unzip\", zipFileName)\n    .redirectError(ProcessBuilder.Redirect.INHERIT)\n    .redirectOutput(ProcessBuilder.Redirect.INHERIT)\n    .start()\n    .waitFor()\n</code></pre>\n\n<p>The different approach, that is more portable (it will run on any OS and does not require <code>unzip</code> executable to be present), but somewhat less feature-full (it will not restore Unix permissions), is to do unzipping in code:</p>\n\n<pre><code>import java.io.File\nimport java.util.zip.ZipFile\n\nZipFile(zipFileName).use { zip -&gt;\n    zip.entries().asSequence().forEach { entry -&gt;\n        zip.getInputStream(entry).use { input -&gt;\n            File(entry.name).outputStream().use { output -&gt;\n                input.copyTo(output)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If you need to scan all <code>*.zip</code> file, then you can do it like this:</p>\n\n<pre><code>File(\".\").list { _, name -&gt; name.endsWith(\".zip\") }?.forEach { zipFileName -&gt;\n    // any of the above approaches        \n}\n</code></pre>\n\n<p>or like this:</p>\n\n<pre><code>import java.nio.file.*\n\nFiles.newDirectoryStream(Paths.get(\".\"), \"*.zip\").forEach { path -&gt;\n    val zipFileName = path.toString()\n    // any of the above approaches        \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 6252549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jC9yt.jpg?s=128&g=1", "display_name": "android remote control", "link": "https://stackoverflow.com/users/6252549/android-remote-control"}, "is_accepted": false, "score": 1, "last_activity_date": 1563838250, "creation_date": 1563838250, "answer_id": 57154913, "question_id": 46627357, "link": "https://stackoverflow.com/questions/46627357/unzip-a-file-in-kotlin-script-kts/57154913#57154913", "title": "Unzip a file in kotlin script [.kts]", "body": "<p>this code is for unziping from <strong><em>Assets</em></strong>    </p>\n\n<p>1.for unzping first u need <code>InputStream</code><br>\n2.put it in <code>ZipInputStream</code><br>\n3.if directory is not exist u have to make by <code>.mkdirs()</code> </p>\n\n<pre><code>private val BUFFER_SIZE = 8192//2048;\n\nprivate val SDPath = Environment.getExternalStorageDirectory().absolutePath\nprivate val unzipPath = \"$SDPath/temp/zipunzipFile/unzip/\"\nvar count: Int\n    val buffer = ByteArray(BUFFER_SIZE)\n\n\n    val context: Context = this\n    val am = context.getAssets()\n    val stream = context.getAssets().open(\"raw.zip\")\n try {\n ZipInputStream(stream).use { zis -&gt;\n    var ze: ZipEntry\n    while (zis.nextEntry.also { ze = it } != null) {\n        var fileName = ze.name\n        fileName = fileName.substring(fileName.indexOf(\"/\") + 1)\n        val file = File(unzipPath, fileName)\n        val dir = if (ze.isDirectory) file else file.getParentFile()\n\n        if (!dir.isDirectory() &amp;&amp; !dir.mkdirs())\n            throw FileNotFoundException(\"Invalid path: \" + dir.getAbsolutePath())\n        if (ze.isDirectory) continue\n        val fout = FileOutputStream(file)\n        try {\n            while ( zis.read(buffer).also { count = it } != -1)\n                fout.write(buffer, 0, count)\n        } finally {\n\n   val fout : FileOutputStream =openFileOutput(fileName, Context.MODE_PRIVATE)\n\n            fout.close()\n        }\n\n    }\n</code></pre>\n\n<p>for unziping from externalStorage:</p>\n\n<pre><code>private val sourceFile= \"$SDPath/unzipFile/data/\"\n\nZipInputStream zis = null;\n\n    try {\n        zis = new ZipInputStream(new BufferedInputStream(new \n FileInputStream(sourceFile)));\n        ZipEntry ze;\n        int count;\n        byte[] buffer = new byte[BUFFER_SIZE];\n        while ((ze = zis.getNextEntry()) != null) {\n            String fileName = ze.getName();\n            fileName = fileName.substring(fileName.indexOf(\"/\") + 1);\n            File file = new File(destinationFolder, fileName);\n            File dir = ze.isDirectory() ? file : file.getParentFile();\n\n            if (!dir.isDirectory() &amp;&amp; !dir.mkdirs())\n                throw new FileNotFoundException(\"Invalid path: \" + \n  dir.getAbsolutePath());\n            if (ze.isDirectory()) continue;\n            FileOutputStream fout = new FileOutputStream(file);\n            try {\n                while ((count = zis.read(buffer)) != -1)\n                    fout.write(buffer, 0, count);\n            } finally {\n                fout.close();\n            }\n\n        }\n    } catch (IOException ioe) {\n        Log.d(TAG, ioe.getMessage());\n        return false;\n    } finally {\n        if (zis != null)\n            try {\n                zis.close();\n            } catch (IOException e) {\n\n            }\n    }\n    return true;\n</code></pre>\n"}], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7289, "favorite_count": 1, "accepted_answer_id": 46644254, "answer_count": 2, "score": 5, "last_activity_date": 1563838250, "creation_date": 1507434803, "question_id": 46627357, "link": "https://stackoverflow.com/questions/46627357/unzip-a-file-in-kotlin-script-kts", "title": "Unzip a file in kotlin script [.kts]", "body": "<p>I was toying with the idea of rewriting some existing bash scripts in kotlin script.</p>\n\n<p>One of the scripts has a section that unzips all the files in a directory. In bash:</p>\n\n<pre><code>unzip *.zip\n</code></pre>\n\n<p>Is there a nice way to unzip a file(s) in kotlin script?</p>\n"}, {"tags": ["java", "android", "kotlin", "reactive-programming", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 2, "last_activity_date": 1507450677, "creation_date": 1507450677, "answer_id": 46628959, "question_id": 46626612, "link": "https://stackoverflow.com/questions/46626612/chaining-observables-to-avoid-multiple-subscriptions/46628959#46628959", "title": "Chaining Observables to avoid multiple subscriptions", "body": "<p>For continuing after an error, you can use the <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Single.html#onErrorResumeNext-io.reactivex.Single-\" rel=\"nofollow noreferrer\"><code>onErrorResumeNext()</code></a> operator family.<br>\nFor continuing after a success, you can use the <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Single.html#flatMap-io.reactivex.functions.Function-\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> operator family.</p>\n"}], "owner": {"reputation": 365, "user_id": 3900210, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c2ea656f87f465289d7fb2e3abd952f?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/3900210/sagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507450677, "creation_date": 1507424793, "question_id": 46626612, "link": "https://stackoverflow.com/questions/46626612/chaining-observables-to-avoid-multiple-subscriptions", "title": "Chaining Observables to avoid multiple subscriptions", "body": "<p>I have some trouble chaining these observables. I have <code>func1()</code> which throws exception on failure. In the <code>onError</code> I have <code>func2()</code> which does a database fetch and <code>func3()</code> which does a database save by modifying the fetched document. How can I chain this in order to avoid multiple subscriptions?</p>\n\n<pre><code>       Observable.fromCallable { func1() }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .take(1)\n            .subscribe({\n                // update success view\n            }, {\n                Observable.fromCallable { func2() }\n                        .subscribeOn(Schedulers.io())\n                        .take(1)\n                        .subscribe {\n                            Observable.fromCallable { func3() }\n                                    .subscribeOn(Schedulers.io())\n                                    .take(1)\n                                    .subscribe {}\n                        }\n                // update failure view\n            })\n</code></pre>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2935, "user_id": 3808228, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyJ7J.jpg?s=128&g=1", "display_name": "Chisko", "link": "https://stackoverflow.com/users/3808228/chisko"}, "is_accepted": true, "score": 0, "last_activity_date": 1515023922, "creation_date": 1515023922, "answer_id": 48086867, "question_id": 46625235, "link": "https://stackoverflow.com/questions/46625235/how-to-retrieve-data-from-a-firebase-database-and-store-it-in-a-listarrayclass/48086867#48086867", "title": "How to retrieve data from a Firebase database and store it in a ListArray&lt;Class&gt;? - Kotlin", "body": "<p>In case you are still wondering and don't want to use another database, there are two ways I achieve this:</p>\n\n<pre><code>val mapper = object : GenericTypeIndicator&lt;HashMap&lt;String, Match&gt;&gt;() {}\nval list = arrayListOf&lt;Match&gt;()\nval map = snapshot.getValue(mapper)\nmap?.forEach {\n    list.add(it.value)\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>val list = MutableList&lt;Match&gt; = mutableListOf()\nsnapshot.children.mapNotNullTo(list) {\n    it.getValue&lt;Match&gt;(Match::class.java)\n}\n</code></pre>\n\n<p><strong><em>Disclaimer:</em></strong> the <code>Match</code> class might have to be a <code>data class</code></p>\n"}], "owner": {"reputation": 146, "user_id": 6742569, "user_type": "registered", "profile_image": "https://graph.facebook.com/1046258202157949/picture?type=large", "display_name": "giudigior", "link": "https://stackoverflow.com/users/6742569/giudigior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 1, "accepted_answer_id": 48086867, "answer_count": 1, "score": 3, "last_activity_date": 1527948811, "creation_date": 1507411200, "last_edit_date": 1527948811, "question_id": 46625235, "link": "https://stackoverflow.com/questions/46625235/how-to-retrieve-data-from-a-firebase-database-and-store-it-in-a-listarrayclass", "title": "How to retrieve data from a Firebase database and store it in a ListArray&lt;Class&gt;? - Kotlin", "body": "<p>I am facing some problems in retrieving data from my Firebase DB...\nHere is my simple code</p>\n\n<pre><code>class Match (val teamOne: String, val teamTwo: String, val betType: String)\n\n\nprivate var database = FirebaseDatabase.getInstance()\nprivate var myRef = database.getReference()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    myRef.child(\"matches\").addValueEventListener(object : ValueEventListener {\n        override fun onDataChange(snapshot: DataSnapshot?) {\n            val matches = snapshot!!.children\n            matches.forEach(){\n                println(it.value.toString())\n            }\n        }\n        override fun onCancelled(p0: DatabaseError?) {\n        }\n    })\n}\n</code></pre>\n\n<p>This is what I get from the DB:</p>\n\n<p>I/System.out: {bet=GG, team1=Juventus, team2=Real Madrid}</p>\n\n<p>I/System.out: {bet=Over 2.5, team1=Napoli, team2=Roma}</p>\n\n<p>I/System.out: {bet=2, team1=Inter, team2=Milan}</p>\n\n<p>I/System.out: {bet=X, team1=Atalanta, team2=Lazio}</p>\n\n<p>I/System.out: {bet=X, team1=Crotone, team2=Spezia}</p>\n\n<p>My question is: how to create now a <code>ListArray&lt;Match&gt;</code>?</p>\n\n<p>Thanks to everybody!!!</p>\n"}, {"tags": ["node.js", "kotlin", "create-react-app", "npm-start"], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 186650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6a8b77c8c0d1e2457803fe2ebaae120?s=128&d=identicon&r=PG", "display_name": "leonya", "link": "https://stackoverflow.com/users/186650/leonya"}, "is_accepted": false, "score": 0, "last_activity_date": 1509793508, "last_edit_date": 1509793508, "creation_date": 1509726269, "answer_id": 47100308, "question_id": 46624291, "link": "https://stackoverflow.com/questions/46624291/error-when-using-npm-start-with-app-created-by-create-react-kotlin-app/47100308#47100308", "title": "error when using &#39;npm start&#39; with app created by &#39;create-react-kotlin-app&#39;", "body": "<p>Seems that Windows is currently unsupported as there's been several reports of this exact problem. Please watch <a href=\"https://youtrack.jetbrains.com/issue/CRKA-43\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/CRKA-43</a>.</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issues/CRKA\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issues/CRKA</a> is our public issue tracker.</p>\n\n<p>[Updated on 04.11.2017] The issue is now fixed.</p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 5306004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08c313c9a4a4eb00c12023360ab681a?s=128&d=identicon&r=PG&f=1", "display_name": "r33tnup", "link": "https://stackoverflow.com/users/5306004/r33tnup"}, "is_accepted": false, "score": 0, "last_activity_date": 1509748652, "last_edit_date": 1509748652, "creation_date": 1509747335, "answer_id": 47105128, "question_id": 46624291, "link": "https://stackoverflow.com/questions/46624291/error-when-using-npm-start-with-app-created-by-create-react-kotlin-app/47105128#47105128", "title": "error when using &#39;npm start&#39; with app created by &#39;create-react-kotlin-app&#39;", "body": "<p>As leonya pointed out, it's a windows issue.\nFor the time being you can use the <a href=\"https://msdn.microsoft.com/en-us/commandline/wsl/install-win10\" rel=\"nofollow noreferrer\" title=\"Windows Subsystem for Linux\">Windows Subsystem for Linux</a> to compile and run your app with bash, while still using your normal windows for the IDE and everything else.</p>\n\n<p>You can still use windows' cmd and npm to create the project with <code>create-react-kotlin-app my-app</code>, then start bash in the same folder (just type <code>bash</code> in cmd and hit enter) to run <code>npm start</code></p>\n\n<p>If you don't have WSL installed, follow the instructions in the link above to install Ubuntu on WSL. Then install npm and jdk8:</p>\n\n<pre><code>sudo apt-get update\ncurl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash -\nsudo apt-get install -y nodejs\nsudo npm update -g npm\nsudo apt-get install -y default-jdk\n</code></pre>\n\n<p>if you have npm in your windows PATH you may need to add the following alias to bash_aliases in your user's home directory:</p>\n\n<pre><code>alias npm=/usr/bin/npm\n</code></pre>\n\n<p>Otherwise bash may try to use the windows npm which obviously won't work.</p>\n"}], "owner": {"reputation": 31, "user_id": 8738243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/316408214b962818646fac95e991b5ec?s=128&d=identicon&r=PG&f=1", "display_name": "Aidan Heller", "link": "https://stackoverflow.com/users/8738243/aidan-heller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509793508, "creation_date": 1507404723, "question_id": 46624291, "link": "https://stackoverflow.com/questions/46624291/error-when-using-npm-start-with-app-created-by-create-react-kotlin-app", "title": "error when using &#39;npm start&#39; with app created by &#39;create-react-kotlin-app&#39;", "body": "<p>When trying to start up an app that was created by the command line tool \n'create-react-kotlin-app' with 'npm start', I keep getting the following error:</p>\n\n<pre><code>kotlin-js failed. do you have kotlin installed?\n{\n    \"code\":\"ENOENT\",\n    \"errno\":\"ENOENT\",\n    \"syscall\":\"spawn C:\\\\Users\\\\Aidan\\\\Desktop\\\\my-react-\napp\\\\node_modules\\\\kotlin-compiler\\\\bin\\\\kotlinc-js\",\n    \"path\":\"C:\\\\Users\\\\Aidan\\\\Desktop\\\\my-react-app\\\\node_modules\\\\kotlin-\ncompiler\\\\bin\\\\kotlinc-js\",\n    \"spawnargs\":\n    [\n        \"-output\",\n        \"C:\\\\Users\\\\Aidan\\\\Desktop\\\\my-react-\napp\\\\node_modules\\\\.cache\\\\kotlin-webpack\\\\kotlinApp.js\",\n        \"-source-map\",\n        \"-nowarn\",\n        \"-module-kind\",\n        \"commonjs\",\n        \"-libraries\",\n        \"C:\\\\Users\\\\Aidan\\\\Desktop\\\\my-react-\napp\\\\node_modules\\\\@jetbrains\\\\kotlin-\nextensions\\\\build\\\\classes\\\\main\\\\kotlin-extensions.meta.js:C:\\\\Use\nrs\\\\Aidan\\\\Desktop\\\\my-react-app\\\\node_modules\\\\@jetbrains\\\\kotlin-\nreact\\\\build\\\\classes\\\\main\\\\kotlin-\nreact.meta.js:C:\\\\Users\\\\Aidan\\\\Desktop\\\\my-react-\napp\\\\node_modules\\\\@jetbrains\\\\kotlin-react-dom\\\\\nbuild\\\\classes\\\\main\\\\kotlin-react-\ndom.meta.js:C:\\\\Users\\\\Aidan\\\\Desktop\\\\my-react-\napp\\\\node_modules\\\\@hypnosphi\\\\kotlinx-html-js\\\\target\\\\classes\\\\kotlinx-\nhtml-js.meta.js\",\n        \"C:\\\\Users\\\\Aidan\\\\Desktop\\\\my-react-app\\\\src\"\n    ]\n}\n</code></pre>\n\n<p>I have tried installing the Kotlin compiler, npm installing kotlinc-js both globally and locally, and searching the node-modules to see if the files that the system is trying to access are present, and nothing is changing. Any help would be appreciated, and I apologize ahead of time if this is an easily fixed issue.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 99, "user_id": 1617638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lcGVA.jpg?s=128&g=1", "display_name": "allenjom", "link": "https://stackoverflow.com/users/1617638/allenjom"}, "edited": false, "score": 0, "creation_date": 1572887563, "post_id": 46623019, "comment_id": 103692532, "body": "I don&#39;t see a link to the excellent <a href=\"https://stackoverflow.com/questions/35421699/how-to-invoke-external-command-from-within-kotlin-code\">How to invoke external command from within Kotlin code?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 548, "user_id": 2751848, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334006851/picture?type=large", "display_name": "V&#225;clav Hodek", "link": "https://stackoverflow.com/users/2751848/v%c3%a1clav-hodek"}, "is_accepted": false, "score": 10, "last_activity_date": 1507399598, "creation_date": 1507399598, "answer_id": 46623443, "question_id": 46623019, "link": "https://stackoverflow.com/questions/46623019/how-to-execute-bash-command-in-kotlin/46623443#46623443", "title": "How to execute bash command in Kotlin", "body": "<p>You can do that simply with <em>Runtime.getRuntime().exec(\"command line\")</em>. </p>\n\n<p>Since Kotlin is based on Java, you can find documentation in JavaDoc here: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec(java.lang.String)\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html#exec(java.lang.String)</a></p>\n"}, {"comments": [{"owner": {"reputation": 253, "user_id": 4118800, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ed81edac310499c71f66bf13d61887e1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/4118800/michael"}, "edited": false, "score": 0, "creation_date": 1507400203, "post_id": 46623500, "comment_id": 80197637, "body": "Can I still use external libraries like unirest even if it is a kotlin script ?"}, {"owner": {"reputation": 3250, "user_id": 602119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fdvW.png?s=128&g=1", "display_name": "Boris", "link": "https://stackoverflow.com/users/602119/boris"}, "reply_to_user": {"reputation": 253, "user_id": 4118800, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ed81edac310499c71f66bf13d61887e1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/4118800/michael"}, "edited": false, "score": 0, "creation_date": 1507649138, "post_id": 46623500, "comment_id": 80289365, "body": "If you are running the script with kotlinc you can just specify the classpath: <code>kotlinc -script test.kts -classpath library.jar</code>"}], "tags": [], "owner": {"reputation": 3250, "user_id": 602119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fdvW.png?s=128&g=1", "display_name": "Boris", "link": "https://stackoverflow.com/users/602119/boris"}, "is_accepted": false, "score": 9, "last_activity_date": 1507399835, "creation_date": 1507399835, "answer_id": 46623500, "question_id": 46623019, "link": "https://stackoverflow.com/questions/46623019/how-to-execute-bash-command-in-kotlin/46623500#46623500", "title": "How to execute bash command in Kotlin", "body": "<p>As <code>curl</code> is not a bash-specific application, you can just start it like any other process. Assuming you are using kotlin on the JVM:</p>\n\n<pre><code>val process = ProcessBuilder(\"curl\", \"https://example.com\").start()\nprocess.inputStream.reader(Charsets.UTF_8).use {\n  println(it.readText())\n}\nprocess.waitFor(10, TimeUnit.SECONDS)\n</code></pre>\n\n<p>Instead of using curl you might want to look into kotlin or java libraries, depending on your problem it could be easier and even faster than starting the curl process.</p>\n"}], "owner": {"reputation": 253, "user_id": 4118800, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/ed81edac310499c71f66bf13d61887e1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/4118800/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8092, "favorite_count": 2, "answer_count": 2, "score": 8, "last_activity_date": 1606392445, "creation_date": 1507396871, "question_id": 46623019, "link": "https://stackoverflow.com/questions/46623019/how-to-execute-bash-command-in-kotlin", "title": "How to execute bash command in Kotlin", "body": "<p>Sorry but I could not find the answer from googling...what is the syntax for running a bash command in kotlin? I would like to do a curl command. The documentation out there seems very limited or maybe I am bad at googling?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": true, "score": 4, "last_activity_date": 1507396671, "last_edit_date": 1507396671, "creation_date": 1507396117, "answer_id": 46622914, "question_id": 46622791, "link": "https://stackoverflow.com/questions/46622791/is-it-possible-to-destructure-data-class-instance-into-class-properties/46622914#46622914", "title": "Is it possible to destructure data class&#39; instance into class&#39; properties?", "body": "<p>No, destructuring declarations are only allowed for local variables and lambda parameters.</p>\n\n<p>Also, they are only used to <em>create</em> multiple local variables at once. So <code>val (a, b) = mdc</code> is allowed, but\n<code>(a, b) = mdc</code> is invalid syntax, even if <code>a</code> and <code>b</code> are not properties. </p>\n"}], "owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 46622914, "answer_count": 1, "score": 2, "last_activity_date": 1507396671, "creation_date": 1507395280, "question_id": 46622791, "link": "https://stackoverflow.com/questions/46622791/is-it-possible-to-destructure-data-class-instance-into-class-properties", "title": "Is it possible to destructure data class&#39; instance into class&#39; properties?", "body": "<p>I have a data class <code>MyDataClass</code>:</p>\n\n<pre><code>data class MyDataClass(val a: Int, val b: Int)\n</code></pre>\n\n<p>and a class <code>MyClass</code> with two properties. I want to destructure an instance of <code>MyDataClass</code>, so <code>a</code> and <code>b</code> are assigned to <code>MyClass</code> properties, instead of declare new variables:</p>\n\n<pre><code>class MyClass {\n\n  val a: Int\n  val b: Int\n\n  init {\n    val mdc = MyDataClass(1, 4)\n    (a, b) = mdc //error\n  }\n\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "junit", "kotlin"], "comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1516846508, "post_id": 46621264, "comment_id": 83860724, "body": "Did you find a suitable answer?  I am wondering the same..."}], "answers": [{"tags": [], "owner": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "is_accepted": false, "score": 1, "last_activity_date": 1507454024, "creation_date": 1507454024, "answer_id": 46629427, "question_id": 46621264, "link": "https://stackoverflow.com/questions/46621264/intellij-no-tests-found-kotlin/46629427#46629427", "title": "Intellij No Tests Found Kotlin", "body": "<blockquote>\n  <p>I have marked the test directory as such, but when I try to run them as a whole or individually with the triangle arrow in the gutter that Intellij adds to tests I get a \"No tests were found\" error.</p>\n</blockquote>\n\n<p>You have it marked (incorrectly) as a <strong>test resource</strong>, not <strong>test source</strong>. Make sure to open the project by <a href=\"https://www.jetbrains.com/help/idea/gradle.html#gradle_import\" rel=\"nofollow noreferrer\">importing from Gradle</a> then IDE will automatically configure the project structure and set the <a href=\"https://www.jetbrains.com/help/idea/content-root.html#root_types\" rel=\"nofollow noreferrer\">folders categories</a> as needed.</p>\n"}], "owner": {"reputation": 1249, "user_id": 3199109, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/2ea70f0c2a432ffbb9e5875039645b39?s=128&d=identicon&r=PG&f=1", "display_name": "loganhuskins", "link": "https://stackoverflow.com/users/3199109/loganhuskins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1786, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1585912166, "creation_date": 1507386217, "question_id": 46621264, "link": "https://stackoverflow.com/questions/46621264/intellij-no-tests-found-kotlin", "title": "Intellij No Tests Found Kotlin", "body": "<p>I am trying to work through the Kotlin Koans in Intellij Idea Ultimate 2017.2 and I am having issues running the tests. I have marked the test directory as such, but when I try to run them as a whole or individually with the triangle arrow in the gutter that Intellij adds to tests I get a \"No tests were found\" error. </p>\n\n<p>Screenshots are attached.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EzYzA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EzYzA.png\" alt=\"Filepath\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/E77tm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E77tm.png\" alt=\"Gutter\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/qfeSw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qfeSw.png\" alt=\"Error\"></a></p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "edited": false, "score": 0, "creation_date": 1507385513, "post_id": 46621094, "comment_id": 80193103, "body": "Could you please edit my code. I thought I call it by super.onCreate()"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "edited": false, "score": 0, "creation_date": 1507385643, "post_id": 46621094, "comment_id": 80193140, "body": "Use either <code>onCreate(Bundle)</code> or <code>onCreate(Bundle,PersistableBundle)</code>, do not use both. I don&#39;t know what your intended use is so I can&#39;t give you the &#39;correct&#39; answer."}, {"owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1516819028, "post_id": 46621094, "comment_id": 83849439, "body": "This solved a totally unrelated issue I had for using the &quot;wrong&quot; <code>onCreate</code> signature"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 6, "last_activity_date": 1507385254, "creation_date": 1507385254, "answer_id": 46621094, "question_id": 46621063, "link": "https://stackoverflow.com/questions/46621063/kotlin-android-base-method-not-call/46621094#46621094", "title": "Kotlin Android base method not call", "body": "<p>You are not overriding the same <code>onCreate</code> method in those two classes. Looking at the documentation it seems one or the other will be called depending on if <code>persistableMode</code> is set to <code>persistAcrossReboots</code>. This means the code in your <code>Base</code> class probably never gets executed regardless of what you do in the subclass.</p>\n"}], "owner": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 1, "accepted_answer_id": 46621094, "answer_count": 1, "score": 4, "last_activity_date": 1507385254, "creation_date": 1507385024, "question_id": 46621063, "link": "https://stackoverflow.com/questions/46621063/kotlin-android-base-method-not-call", "title": "Kotlin Android base method not call", "body": "<p>I have a base activity like this which has abstract method abc()</p>\n\n<pre><code>abstract class Base: AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n        super.onCreate(savedInstanceState, persistentState)\n        Log.i(\"abc\", \"onCreate base\")\n        abc()\n    }\n\n    abstract fun abc()\n}\n</code></pre>\n\n<p>MainActiviy extends Base</p>\n\n<pre><code>class MainActivity : Base() {\n    override fun abc() {\n        Log.i(\"abc\", \"method called from base\")\n    }\n\n    @Inject\n    lateinit var mainPresenter: MainPresenter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        Log.i(\"abc\", \"onCreate\")\n\n        App.appComponent.plus(MainModule(this)).inject(this)\n\n        button.setOnClickListener {\n            mainPresenter.performToast(editText.text.toString())\n        }\n    }\n\n    fun showToast(string: String) {\n        toast(string)\n    }\n}\n</code></pre>\n\n<p>When I run MainActivity, the log only show \"onCreate\". It means that the onCreate from Base was not called. Can you tell me why the base method is not called?\nIt looks silly but I try and the base was not called\nThe same code works in JAVA</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 1, "creation_date": 1507385748, "post_id": 46620864, "comment_id": 80193170, "body": "Pretty sure this is just the standard logcat output that happens regardless of what you&#39;re trying to do. <code>logcat</code> can filter based on app so you can restrict it to just the output you&#39;re looking for."}], "owner": {"reputation": 469, "user_id": 4676579, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7oChkzTpeBc/AAAAAAAAAAI/AAAAAAAAAMs/nmpr-MbPxiY/photo.jpg?sz=128", "display_name": "Shubhranshu Jain", "link": "https://stackoverflow.com/users/4676579/shubhranshu-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507385568, "creation_date": 1507383753, "last_edit_date": 1507385568, "question_id": 46620864, "link": "https://stackoverflow.com/questions/46620864/android-studio-logcat-keeps-on-running", "title": "Android Studio logcat keeps on running", "body": "<p>Have tried the things like updating Google play servies, Wiping emulator data, using different API level for Emulators...</p>\n\n<p>But keep on getting this error in Logcat:</p>\n\n<blockquote>\n  <p>I/AudioController: internalShutdown<br>\n  I/MicroDetector: Keeping mic open: false<br>\n  I/MicroDetectionWorker: #onError(false)<br>\n  I/DeviceStateChecker: DeviceStateChecker cancelled</p>\n</blockquote>\n\n<p>Using Kotlin with Firebase to write an authentication.</p>\n\n<p>What else can I check?</p>\n"}, {"tags": ["android", "mockito", "kotlin", "android-testing"], "owner": {"reputation": 247, "user_id": 5715054, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b80456bcdd96d43d07bb45660a557401?s=128&d=identicon&r=PG&f=1", "display_name": "Astagron", "link": "https://stackoverflow.com/users/5715054/astagron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 384, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1507382654, "creation_date": 1507382654, "question_id": 46620665, "link": "https://stackoverflow.com/questions/46620665/argumentcaptor-capture-returning-null", "title": "ArgumentCaptor capture returning null", "body": "<p>I have a situation where I need to test one object which is created inside public method and I don't have access to it so I am trying to use <code>ArgumentCaptor</code>. The problem is I'm always getting <code>null</code>. </p>\n\n<p>Here is my code so it would be maybe more visible what I'm doing wrong:</p>\n\n<pre><code>class ActivityStarterClass(val c: Context) {\n\n    public void startActivity() {\n       val intent = createSomeIntent()\n       c.startActivity(intent)\n    }\n}\n\nclass ActivityStarterClassTest() {\n  val c = mock&lt;Context&gt;()\n\n  @Test\n  fun testActivityStart() {\n    val activityStarter = ActivityStarterClass(c)\n    argumentCaptor&lt;Intent&gt;().apply {\n        verify(context).startActivity(capture())\n        System.out.println(\"captured intent: \" + firstValue)\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1533901830, "creation_date": 1533901830, "answer_id": 51785893, "question_id": 46617647, "link": "https://stackoverflow.com/questions/46617647/is-org-jetbrains-ankoanko-commonsanko-version-wrong/51785893#51785893", "title": "Is &quot;org.jetbrains.anko:anko-commons:$anko_version&quot; wrong?", "body": "<p>I can't find any mention of <code>anko-common</code> or <code>anko-commons</code> in the linked article, but I'll still answer.</p>\n\n<p>Code 1 is correct. See the <a href=\"https://github.com/Kotlin/anko/blob/master/README.md#using-anko\" rel=\"nofollow noreferrer\">readme</a> on GitHub:</p>\n\n<pre><code>implementation \"org.jetbrains.anko:anko-commons:$anko_version\"\n</code></pre>\n\n<p><code>anko-common</code> was <a href=\"https://github.com/Kotlin/anko/releases/tag/v0.10\" rel=\"nofollow noreferrer\">renamed in 0.10</a></p>\n\n<blockquote>\n  <p><code>anko-common</code> artifact renamed to <code>anko-commons</code> to reflect the naming changes. <code>anko-common</code> is deprecated;</p>\n</blockquote>\n\n<p><strong>TL;DR:</strong> Use <code>anko-commons</code>, <code>anko-common</code> was renamed and deprecated</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533901830, "creation_date": 1507360046, "question_id": 46617647, "link": "https://stackoverflow.com/questions/46617647/is-org-jetbrains-ankoanko-commonsanko-version-wrong", "title": "Is &quot;org.jetbrains.anko:anko-commons:$anko_version&quot; wrong?", "body": "<p>The following Code 1 is from webpage <a href=\"http://www.tellmehow.co/kotlin-anko-coroutines/\" rel=\"nofollow noreferrer\">http://www.tellmehow.co/kotlin-anko-coroutines/</a></p>\n\n<p><strong>Code 1</strong></p>\n\n<pre><code>dependencies { \n    compile \"org.jetbrains.anko:anko-commons:$anko_version\" \n} \n</code></pre>\n\n<p>It seems that the Code 1 is wrong, it should be Code 2, right?</p>\n\n<p><strong>Code 2</strong></p>\n\n<pre><code>dependencies { \n    compile \"org.jetbrains.anko:anko-common:$anko_version\" \n} \n</code></pre>\n"}, {"tags": ["java", "android", "arraylist", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 109227, "user_id": 641955, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Hg2nO.jpg?s=128&g=1", "display_name": "janos", "link": "https://stackoverflow.com/users/641955/janos"}, "is_accepted": true, "score": 3, "last_activity_date": 1507355330, "creation_date": 1507355330, "answer_id": 46617102, "question_id": 46617031, "link": "https://stackoverflow.com/questions/46617031/duplicate-bluetooth-devices-found-am-i-double-dipping-here-also-able-to-update/46617102#46617102", "title": "duplicate bluetooth devices found. am i double dipping here? also able to update recyclerview", "body": "<p>The problem is that <code>DeviceAdapter.mDevices</code> is the same object as <code>ToofActivity.mDevices</code>. So when you clear it, it becomes empty for both, when you <code>mDevices.addAll(mDevices)</code>, the elements are doubled.</p>\n\n<p>Remove <code>mDevices</code> from the constructor parameters of <code>DeviceAdapter</code>.\nCreate a new <code>ArrayList</code> for it in <code>DeviceAdapter</code>.</p>\n"}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 46617102, "answer_count": 1, "score": 1, "last_activity_date": 1507355330, "creation_date": 1507354614, "question_id": 46617031, "link": "https://stackoverflow.com/questions/46617031/duplicate-bluetooth-devices-found-am-i-double-dipping-here-also-able-to-update", "title": "duplicate bluetooth devices found. am i double dipping here? also able to update recyclerview", "body": "<p>I am attempting to build an android application that scans for bluetooth devices and add them to a recyclerview. when i attempt to clear my arraylist and add new data to it in the adapter i end up with an empty arraylist. and when i dont clear the list i end up with a list that contains every device twice like this: <code>[**:71:9F:B6:59:**, **:71:9F:B6:59:**]</code> in the logcat. also i think that i am doing something wrong here with my notifydatasetchanged call because nothing is show in my recyclerview at all. i'm sure this is something simple that i am missing but i just can't see it. i am posting the code for my main activity and also my recyclerview.adapter in hopes that someone can point out the problem to me. thanks in advance. here is my main activity:</p>\n\n<pre><code>public class ToofActivity extends AppCompatActivity implements CompoundButton.OnCheckedChangeListener {\n\nprivate static final String TAG = \"ToofActivity\";\nprivate static final int REQUEST_COARSE_LOCATION = 222;\n\nprivate static BluetoothAdapter btAdapter;\n\nprivate TextView mStatusLabel;\nprivate Switch mStatusSwitch;\nprivate ProgressBar mProgressBar;\nprivate RecyclerView mDeviceRecylcer;\nprivate static ArrayList&lt;BluetoothDevice&gt; mDevices = new ArrayList&lt;&gt;();\nprivate DeviceAdapter mAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_toof);\n\n    checkLocationPermission();\n\n    btAdapter = BluetoothAdapter.getDefaultAdapter();\n\n    mStatusLabel = (TextView) findViewById(R.id.status_view);\n    mStatusSwitch = (Switch) findViewById(R.id.status_switch);\n    mStatusSwitch.setChecked(btAdapter.isEnabled());\n    mStatusSwitch.setOnCheckedChangeListener(this);\n    mProgressBar = (ProgressBar) findViewById(R.id.search_progress_bar);\n    mDeviceRecylcer = (RecyclerView) findViewById(R.id.device_recycler);\n\n    mDeviceRecylcer.setLayoutManager(new LinearLayoutManager(this));\n    mAdapter = new DeviceAdapter(mDevices, getApplicationContext());\n    mDeviceRecylcer.setAdapter(mAdapter);\n\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.options_menu, menu);\n    return super.onCreateOptionsMenu(menu);\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.searchOption:\n            DiscoveryTask discovery = new DiscoveryTask(btAdapter, this, mDevices, mProgressBar);\n            discovery.setOnCompleteListener(new DiscoveryTask.OnCompletedListener() {\n                @Override\n                public void onComplete() {\n                    Log.d(TAG, \"devices found : \" + mDevices.toString());\n                    mAdapter.updateItems(mDevices);\n                }\n            });\n            discovery.execute((Void) null);\n            break;\n    }\n\n    return true;\n}\n\n@Override\npublic void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n    if (isChecked) {\n        btAdapter.enable();\n        mStatusLabel.setText(\"Active\");\n    } else {\n        btAdapter.disable();\n        mStatusLabel.setText(\"Inactive\");\n    }\n}\n\npublic static void setDeviceList(ArrayList&lt;BluetoothDevice&gt; deviceList) {\n    mDevices = deviceList;\n}\n\nprotected void checkLocationPermission() {\n    if (this.checkSelfPermission(Manifest.permission.ACCESS_COARSE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED) {\n\n        ActivityCompat.requestPermissions(this,\n                new String[]{Manifest.permission.ACCESS_COARSE_LOCATION},\n                REQUEST_COARSE_LOCATION);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode,\n                                       String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case REQUEST_COARSE_LOCATION: {\n            if (grantResults.length &lt;= 0\n                    || grantResults[0] != PackageManager.PERMISSION_GRANTED) {\n                checkLocationPermission();\n                break;\n            }\n        }\n    }\n}\n}\n</code></pre>\n\n<p>and also my adapter class which is written in kotlin instead of java:</p>\n\n<pre><code>class DeviceAdapter(val mDevices: ArrayList&lt;BluetoothDevice&gt;, val mContext : Context) : RecyclerView.Adapter&lt;DeviceAdapter.DeviceHolder&gt;(){\n\nfun updateItems(list: ArrayList&lt;BluetoothDevice&gt;){\n    //mDevices.clear()\n    mDevices.addAll(list)\n    Log.d(TAG, \"updating items : $mDevices\")\n    notifyDataSetChanged()\n}\n\noverride fun onBindViewHolder(holder: DeviceHolder, position: Int) {\n    holder.bindItems(mDevices.get(position))\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): DeviceHolder?{ //return is not to be NULL!\n    val v = LayoutInflater.from(mContext).inflate(R.layout.device_item, parent, false)\n    return DeviceHolder(v)\n}\n\noverride fun getItemCount(): Int {\n    return mDevices.size\n}\n\ninner class DeviceHolder(itemView: View) : RecyclerView.ViewHolder(itemView){\n    val nameView = itemView.findViewById(R.id.nameView) as TextView\n    val addrView = itemView.findViewById(R.id.addressView) as TextView\n\n    fun bindItems(btDevice: BluetoothDevice){\n        nameView.text = btDevice.name\n        addrView.text = btDevice.address\n    }\n}\n\ncompanion object {\n    val TAG = \"DeviceAdapter\"\n}\n\n}\n</code></pre>\n"}, {"tags": ["java", "mysql", "hibernate", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": false, "score": 0, "last_activity_date": 1507326448, "creation_date": 1507326448, "answer_id": 46614373, "question_id": 46613954, "link": "https://stackoverflow.com/questions/46613954/how-can-a-uuid-be-shared-as-a-primary-key-in-two-tables-using-hibernate/46614373#46614373", "title": "How can a UUID be shared as a primary key in two tables using Hibernate?", "body": "<p>The <code>OneToOne</code> annotation is used to associate whole Entities, not single values. You need to tell Hibernate how it should generate your key.</p>\n\n<p>And there are existing SOF-Threads that answered your question.\nFor example this <a href=\"https://stackoverflow.com/questions/5805306/onetoone-between-two-tables-with-shared-primary-key\">Thread</a></p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 8138184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f055aea8a5960874615cd456ea4d2aa?s=128&d=identicon&r=PG&f=1", "display_name": "NSaran", "link": "https://stackoverflow.com/users/8138184/nsaran"}, "is_accepted": false, "score": 0, "last_activity_date": 1507661908, "last_edit_date": 1592644375, "creation_date": 1507661908, "answer_id": 46674038, "question_id": 46613954, "link": "https://stackoverflow.com/questions/46613954/how-can-a-uuid-be-shared-as-a-primary-key-in-two-tables-using-hibernate/46674038#46674038", "title": "How can a UUID be shared as a primary key in two tables using Hibernate?", "body": "<p>I was doing many things wrong here:</p>\n<ul>\n<li><p>Firstly, I was using the mappedBy wrong. The value of mappedBy has to be a field in the class or the name of the class with the name starting in lower case. I was using the name of the column in the actual table.</p>\n</li>\n<li><p>Secondly, I was trying to implement the unidirectional 1-1 relationship (I learned this later) between the two tables. The aim was to share the primary key. That has to be done using the @OneToOne and @PrimaryKeyJoinColumn annotations on the userLogin in UserDetails class.</p>\n</li>\n<li><p>Thirdly, Dexter is right. @OneToOne can be used only on Entities.</p>\n</li>\n<li><p>Fourthly, I hadn't placed a constraint in the table in DB.</p>\n<p>Good news is that the UUID to binary works! Yay!!</p>\n</li>\n</ul>\n"}], "owner": {"reputation": 175, "user_id": 8138184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f055aea8a5960874615cd456ea4d2aa?s=128&d=identicon&r=PG&f=1", "display_name": "NSaran", "link": "https://stackoverflow.com/users/8138184/nsaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 328, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507661908, "creation_date": 1507324162, "question_id": 46613954, "link": "https://stackoverflow.com/questions/46613954/how-can-a-uuid-be-shared-as-a-primary-key-in-two-tables-using-hibernate", "title": "How can a UUID be shared as a primary key in two tables using Hibernate?", "body": "<p>I am using MySql as the database and aim to store the generated UUID in Binary(16) format. In the DB I have two tables:</p>\n\n<ol>\n<li>To store the details of the user.</li>\n<li>To store the password of the user.</li>\n</ol>\n\n<p>I have two entities UserDetails and UserLogin to represent these tables, respectively. They are as follows:</p>\n\n<p><strong>UserDetails class:</strong></p>\n\n<pre><code>package Entities\n\nimport org.hibernate.annotations.GenericGenerator\nimport org.hibernate.annotations.Type\nimport java.io.Serializable\nimport java.util.*\nimport javax.persistence.*\n\n/**\n * class UserDetails\n */\n@Entity\n@Table(name = \"user_details\")\ndata class UserDetails(\n        /**\n         * The first name field for the user details table.\n         */\n        @Column(name = \"first_name\") var firstName: String,\n        /**\n         * The last name field for the user details table.\n         */\n        @Column(name = \"last_name\") var lastName: String,\n        /**\n         * The phone number field for the user details table.\n         */\n        @Column(name = \"phone_number\") var phoneNumber: String,\n        /**\n         * The area code field for the user details table.\n         */\n        @Column(name = \"area_code\") var areaCode: String,\n        /**\n         * The rating field for the user details table.\n         */\n        @Column(name = \"rating\") var rating: Double,\n        /**\n         * The user login information containing the password for the user.\n         */\n        @OneToOne(cascade = arrayOf(CascadeType.ALL), mappedBy = \"user_id\") @PrimaryKeyJoinColumn\n        var userLogin: UserLogin\n): Serializable {\n\n    /**\n     * The UserId field for the user details table.\n     */\n    @Id @Type(type = \"uuid-binary\")\n    @GeneratedValue(generator = \"uuid2\") @GenericGenerator(name = \"uuid2\", strategy = \"uuid2\")\n    @Column(name = \"user_id\") lateinit var userId: UUID\n\n    @Suppress(\"unused\")\n    constructor() : this(\"\", \"\", \"\", \"\", 0.0, UserLogin())\n\n    companion object {\n        @JvmStatic val serialVersionUID: Long = 1L\n    }\n}\n</code></pre>\n\n<p><strong>UserLogin Class:</strong></p>\n\n<pre><code>package Entities\n\nimport java.io.Serializable\nimport java.util.*\nimport javax.persistence.*\n\n/**\n * class UserLogin\n *\n * This table is supposed to be temporary. The frontend has to run on mobile devices which will be using the OTP through\n * SMS to login to the app. Once that is done there is no need for this table and can be safely deleted w/o having to\n * modify a huge user_details table.\n *\n * @author niksinghal\n */\n@Entity\n@Table(name = \"user_login_details\")\ndata class UserLogin(\n        /**\n         * The password field for the login table.\n         * It has to store the encrypted password.\n         */\n        @Column(name = \"password\", nullable = false) var password: String\n): Serializable {\n\n    /**\n     * The user ID field for the login table.\n     * This value is a shared primary key and it is populated by the UserDetails.userId field\n     */\n    @Id @OneToOne lateinit var userId: UUID\n\n    @Suppress(\"unused\")\n    constructor() : this(\"\")\n\n    companion object {\n        @JvmStatic val serialVersionUID: Long = 1L\n    }\n}\n</code></pre>\n\n<p>The aim is to have one password for every user detail row (OneToOne Mapping) and have the same value for the primary keys userId.</p>\n\n<p>I am compiling this and getting - <em>Invocation of init method failed; nested exception is org.hibernate.AnnotationException: @OneToOne or @ManyToOne on Entities.UserLogin.userId references an unknown entity: java.util.UUID</em></p>\n\n<p>I am very new to this and doing all of this strictly to learn Hibernate concepts. That being said, my understanding is that the UserDetails class' userId will be generated by the generator. The @OneToOne &amp; @PrimaryKeyJoinColumn annotations above the UserDetails' UserLogin should push the generated UUID to the UserLogin's userId which is again marked by @OneToOne.</p>\n\n<p>Kindly let me know why I am getting the error? And if I will be able to store the UUID in binary(16) in the DB?</p>\n"}, {"tags": ["java", "json", "kotlin", "klaxon"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1507308974, "post_id": 46610467, "comment_id": 80172907, "body": "I&#39;d recommend going through the <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">language reference pages</a> first. This one tells you what <code>::class</code> means and what <code>.java</code> is."}], "answers": [{"tags": [], "owner": {"reputation": 286, "user_id": 6513649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf003438eb6ddaccfda28664114f205b?s=128&d=identicon&r=PG&f=1", "display_name": "Yarick", "link": "https://stackoverflow.com/users/6513649/yarick"}, "is_accepted": false, "score": 1, "last_activity_date": 1507309464, "creation_date": 1507309464, "answer_id": 46610663, "question_id": 46610467, "link": "https://stackoverflow.com/questions/46610467/kotlin-klaxon-library-for-json/46610663#46610663", "title": "kotlin klaxon library for json", "body": "<p>Okay, i just figured it out, we need ::class.java because getResourceAsStream is java.lang.Class function. And parse is a member function of Parser class.</p>\n"}, {"tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": true, "score": 0, "last_activity_date": 1507317179, "creation_date": 1507317179, "answer_id": 46612466, "question_id": 46610467, "link": "https://stackoverflow.com/questions/46610467/kotlin-klaxon-library-for-json/46612466#46612466", "title": "kotlin klaxon library for json", "body": "<p>Hi Yarick I made easy version of parse function. What I am doing here. I am parsing json api request response as string in function then creating parsing and returning it as JsonObject</p>\n\n<p><strong>Note: Use stringbuilder to create mutable string.</strong></p>\n\n<pre><code>// Json Parsing Object\n        fun parse(name: String): JsonObject {\n            val parser = Parser()\n            val stringBuilder: StringBuilder = StringBuilder(name)\n            val json: JsonObject = parser.parse(stringBuilder) as JsonObject\n            return json\n        }\n</code></pre>\n"}], "owner": {"reputation": 286, "user_id": 6513649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf003438eb6ddaccfda28664114f205b?s=128&d=identicon&r=PG&f=1", "display_name": "Yarick", "link": "https://stackoverflow.com/users/6513649/yarick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1229, "favorite_count": 0, "accepted_answer_id": 46612466, "answer_count": 2, "score": -1, "last_activity_date": 1507317179, "creation_date": 1507308589, "question_id": 46610467, "link": "https://stackoverflow.com/questions/46610467/kotlin-klaxon-library-for-json", "title": "kotlin klaxon library for json", "body": "<p>i'm new to kotlin and decided that best way to learn something is to start using it(So question related more to language than to klaxon library). I'm trying to understand very first snippet from git page of klaxon(<a href=\"https://github.com/cbeust/klaxon\" rel=\"nofollow noreferrer\">https://github.com/cbeust/klaxon</a>).\nHere it is:</p>\n\n<pre><code>fun parse(name: String) : Any? {\n    val cls = Parser::class.java\n    return cls.getResourceAsStream(name)?.let { inputStream -&gt;\n        return Parser().parse(inputStream)\n    }\n}\n</code></pre>\n\n<p>I don't understand why in first case we do </p>\n\n<blockquote>\n  <p>Parser::class.java</p>\n</blockquote>\n\n<p>and then calling getResource...\nBut then just call </p>\n\n<blockquote>\n  <p>Parser().parse</p>\n</blockquote>\n\n<p>in second case. What's the difference and why it's like that</p>\n\n<p>P.S Sorry for bad english=)</p>\n"}, {"tags": ["android", "kotlin", "android-testing", "google-fabric"], "comments": [{"owner": {"reputation": 2084, "user_id": 2207583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa87b2dba609081205b0d231a2bd9f49?s=128&d=identicon&r=PG", "display_name": "Todd Burner", "link": "https://stackoverflow.com/users/2207583/todd-burner"}, "edited": false, "score": 2, "creation_date": 1507304364, "post_id": 46609172, "comment_id": 80170556, "body": "Possible dupe of <a href=\"https://stackoverflow.com/questions/16986753/how-to-disable-crashlytics-while-developing\" title=\"how to disable crashlytics while developing\">stackoverflow.com/questions/16986753/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 384, "user_id": 4643869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fpSks.jpg?s=128&g=1", "display_name": "Thibaut Mottet", "link": "https://stackoverflow.com/users/4643869/thibaut-mottet"}, "is_accepted": true, "score": 2, "last_activity_date": 1507306531, "last_edit_date": 1507306531, "creation_date": 1507305732, "answer_id": 46609723, "question_id": 46609172, "link": "https://stackoverflow.com/questions/46609172/how-to-disable-fabric-when-running-tests/46609723#46609723", "title": "How to disable Fabric when running tests", "body": "<p>I find a better and cleaner way to disable and manage Fabric.</p>\n\n<p>In my application I use <code>slf4j-api</code>, a log API used a lot in web development. With this API you can create appender, so I decided to create a Fabric Appender and use this appender only when the app run.</p>\n\n<h1>How to</h1>\n\n<h2>Install <code>slf4j</code> with <code>Logback</code></h2>\n\n<h3>Set your <code>build.gradle</code></h3>\n\n<pre class=\"lang-gradle prettyprint-override\"><code>dependencies {\n    ...\n    // Log\n    compile 'com.github.tony19:logback-android-core:1.1.1-6'\n    compile 'com.github.tony19:logback-android-classic:1.1.1-6'\n    compile 'org.slf4j:slf4j-api:1.7.21'\n}\n</code></pre>\n\n<h3>Add <code>src/main/assets/logback.xml</code></h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;appender name=\"FABRIC\" class=\"path/to/your/FabricAppender\" /&gt;\n    &lt;appender name=\"LOGCAT\" class=\"ch.qos.logback.classic.android.LogcatAppender\"&gt;\n        &lt;tagEncoder&gt;\n            &lt;pattern&gt;%logger{0}&lt;/pattern&gt;\n        &lt;/tagEncoder&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;[PUP] %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n&lt;root level=\"INFO\"&gt;\n    &lt;appender-ref ref=\"LOGCAT\" /&gt;\n    &lt;appender-ref ref=\"FABRIC\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p></p>\n\n<p>By default <code>Logback</code> has a customize appender working with <code>Logback</code>. You can comment the <code>FABRIC</code> part we will be explain later.</p>\n\n<h3>Add <code>src/androidTest/assets/logback.xml</code></h3>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;appender name=\"LOGCAT\" class=\"ch.qos.logback.classic.android.LogcatAppender\"&gt;\n        &lt;tagEncoder&gt;\n            &lt;pattern&gt;%logger{0}&lt;/pattern&gt;\n        &lt;/tagEncoder&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;[PUP] %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=\"DEBUG\"&gt;\n        &lt;appender-ref ref=\"LOGCAT\" /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>You don't want to have Fabric appender here! because you want your instrumented test running only with <code>Logcat</code></p>\n\n<h3>Use <code>Logback</code></h3>\n\n<p>Now you can easily log using the powerful API of <code>slf4j</code> like below</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n    private val log = LoggerFactory.getLogger(javaClass)!! // Call your logger in each class with this line\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        log.info(\"Activity start\")\n        // ...\n    } }\n</code></pre>\n\n<h2>Set Fabric for <code>Logback</code></h2>\n\n<h3>Create in your project <code>FabricAppender.kt</code></h3>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>package your.package.log\n\nimport android.content.Context\nimport ch.qos.logback.classic.Level\nimport ch.qos.logback.classic.spi.ILoggingEvent\nimport ch.qos.logback.classic.spi.ThrowableProxy\nimport ch.qos.logback.core.UnsynchronizedAppenderBase\nimport com.crashlytics.android.Crashlytics\nimport com.crashlytics.android.answers.Answers\nimport com.crashlytics.android.answers.CustomEvent\nimport io.fabric.sdk.android.Fabric\n\nclass FabricAppender : UnsynchronizedAppenderBase&lt;ILoggingEvent&gt;() {\n    companion object {\n        private var isFabricInit = false\n\n        fun init(context: Context) {\n            Fabric.with(context, Crashlytics(), Answers())\n            isFabricInit = true\n        }\n    }\n\n    override fun append(event: ILoggingEvent) {\n        if (isFabricInit.not()) return\n        when (event.level.levelInt) {\n            Level.ERROR_INT -&gt; {\n                val throwable = (event.throwableProxy as ThrowableProxy).throwable\n                if (throwable != null) {\n                    Crashlytics.logException(throwable)\n                } else {\n                    Crashlytics.log(event.message.replace(\": {}\", \"\"))\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This appender will send exception to <code>Crashlytics</code> every time you call <code>log.error(\"Something wrong happen!!\")</code>. As you can see, you can fully customized the appender.</p>\n\n<h3>Init the appender when application start</h3>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n    private val log = LoggerFactory.getLogger(javaClass)!! // Call your logger in each class with this line\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        FabricAppender.init(this) // Init before the first log\n\n        log.info(\"Activity start\")\n        // ...\n    } }\n</code></pre>\n\n<h1>Finally</h1>\n\n<p>Now your fabric will be totally isolated to your code by using the <code>slf4j</code> API, and will be not use during your instrumented test yataaa!!! You can find other appender on internet (send to ELK, file, etc.)</p>\n"}, {"tags": [], "owner": {"reputation": 550, "user_id": 6523288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec6758d645d1c8869a007f79bfb6d3b?s=128&d=identicon&r=PG", "display_name": "Dragas", "link": "https://stackoverflow.com/users/6523288/dragas"}, "is_accepted": false, "score": 1, "last_activity_date": 1508322842, "creation_date": 1508322842, "answer_id": 46808162, "question_id": 46609172, "link": "https://stackoverflow.com/questions/46609172/how-to-disable-fabric-when-running-tests/46808162#46808162", "title": "How to disable Fabric when running tests", "body": "<p>Use flavors.</p>\n\n<p>By default, you have flavor called <code>main</code>, where you should put all of base your code, assets and manifests, that are used in development, testing and production. You can easily create a new flavor by adding your flavor name under <code>buildTypes { ... }</code> in your module's build.gradle file. This lets you split dependencies and easily remove anything that you do not want or even need in your release builds. You can read more about flavors <a href=\"https://developer.android.com/studio/build/build-variants.html\" rel=\"nofollow noreferrer\">here</a>. This way, you'll be able to separate core code in main flavor and add crashlytics in your release builds only.</p>\n\n<p>For example, in your main flavor:</p>\n\n<pre><code>open class BaseApplication : Application()\n{ \n    fun onCreate()\n    {\n       [common code between flavors]\n    }\n}\n</code></pre>\n\n<p>Then in your release flavor</p>\n\n<pre><code>open class MainApplication : BaseApplication()\n{\n    fun onCreate()\n    {\n      [initialize crashlytics]\n    }\n}\n</code></pre>\n\n<p>And in your other flavors</p>\n\n<pre><code>open class MainApplication : BaseApplication()\n</code></pre>\n\n<p>Note: Use <code>MainApplication</code> instead of <code>BaseApplication</code> in your manifest.</p>\n"}, {"tags": [], "owner": {"reputation": 9191, "user_id": 2191890, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pA1bu.jpg?s=128&g=1", "display_name": "Roc Boronat", "link": "https://stackoverflow.com/users/2191890/roc-boronat"}, "is_accepted": false, "score": 0, "last_activity_date": 1571927358, "last_edit_date": 1571927358, "creation_date": 1571323647, "answer_id": 58435337, "question_id": 46609172, "link": "https://stackoverflow.com/questions/46609172/how-to-disable-fabric-when-running-tests/58435337#58435337", "title": "How to disable Fabric when running tests", "body": "<p>Instead of disabling it on every Espresso test, we avoid enabling it when running the debug build type.</p>\n\n<p>So, in your <code>Application</code> class, build Crashlytics and Answers like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CrashlyticsCore crashlyticsCore = new CrashlyticsCore.Builder()\n    .disabled(BuildConfig.DEBUG)\n    .build();\n\nFabric.with(this,\n    new Crashlytics.Builder().core(crashlyticsCore).build(),\n    new Answers());\n}\n</code></pre>\n"}], "owner": {"reputation": 384, "user_id": 4643869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fpSks.jpg?s=128&g=1", "display_name": "Thibaut Mottet", "link": "https://stackoverflow.com/users/4643869/thibaut-mottet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 46609723, "answer_count": 3, "score": 3, "last_activity_date": 1580316364, "creation_date": 1507303803, "last_edit_date": 1580316364, "question_id": 46609172, "link": "https://stackoverflow.com/questions/46609172/how-to-disable-fabric-when-running-tests", "title": "How to disable Fabric when running tests", "body": "<p>How can I disable Fabric: Crashlytics and Answer when running tests?</p>\n\n<p>Is there any other way to disable Crashlytics during the test instead of putting this code before every test?</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@LargeTest\n@RunWith(AndroidJUnit4::class)\nclass AcceptanceTest {\n    @Before\n    fun setUp() {\n          val crashlyticsKit = Crashlytics.Builder()\n            .core(CrashlyticsCore.Builder().disabled(BuildConfig.DEBUG).build())\n            .build()\n          Fabric.with(InstrumentationRegistry.getContext(), crashlyticsKit)\n    }\n\n}\n</code></pre>\n\n<p>and avoiding to put a global boolean like <code>IS_TEST_MODE</code></p>\n"}, {"tags": ["java", "c", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 310, "user_id": 6811933, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1073602816008139/picture?type=large", "display_name": "Kshitij Kumar", "link": "https://stackoverflow.com/users/6811933/kshitij-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1507356830, "creation_date": 1507356830, "answer_id": 46617250, "question_id": 46608148, "link": "https://stackoverflow.com/questions/46608148/kotlin-native-installation-error-jni-h-file-not-found/46617250#46617250", "title": "Kotlin / Native Installation Error : &#39;jni.h&#39; file not found", "body": "<p>So, I fixed this problem. Do this:</p>\n\n<p>1) Open: </p>\n\n<blockquote>\n  <p>/home/kshitij/kotlin-native-master/Interop/StubGenerator/src/main/kotlin/org/jetbrains/kotlin/native/interop/gen/jvm/StubGenerator.kt</p>\n</blockquote>\n\n<p>2) Go to line 919 and comment: <code>\"-I$javaHome/../include/$it\"</code></p>\n\n<p>3) Now add this, just below the above commented line: </p>\n\n<pre><code>\"-I/usr/lib/jvm/java-9-openjdk-amd64/include/$it\"\n</code></pre>\n\n<ul>\n<li>Please add your java include path here. Don't copy paste exactly as above.</li>\n</ul>\n\n<p>4) Save the file and run again. It should work now.</p>\n"}], "owner": {"reputation": 310, "user_id": 6811933, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1073602816008139/picture?type=large", "display_name": "Kshitij Kumar", "link": "https://stackoverflow.com/users/6811933/kshitij-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1368, "favorite_count": 0, "accepted_answer_id": 46617250, "answer_count": 1, "score": 1, "last_activity_date": 1507356830, "creation_date": 1507300406, "last_edit_date": 1507300958, "question_id": 46608148, "link": "https://stackoverflow.com/questions/46608148/kotlin-native-installation-error-jni-h-file-not-found", "title": "Kotlin / Native Installation Error : &#39;jni.h&#39; file not found", "body": "<p>I have openjdk-9-jdk and jre installed.</p>\n\n<p>I have added folders containing JDK C lib files in Compiler args:</p>\n\n<pre><code>cCompiler.args \"-I/usr/lib/jvm/java-9-openjdk-amd64/include\"\ncCompiler.args \"-I/usr/lib/jvm/java-9-openjdk-amd64/include/linux\"\n</code></pre>\n\n<p>in gradle files:</p>\n\n<pre><code>kotlin-native-master/Interop/Indexer/build.gradle\nand\nkotlin-native-master/Interop/Runtime/build.gradle\n</code></pre>\n\n<p><strong>Full Error that I'm getting:</strong></p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.Error:\n  /tmp/tmp17962303058800124468.c:2:10: fatal error: 'jni.h' file not\n  found</p>\n</blockquote>\n\n<p>Why is it showing this error?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["json", "null", "kotlin", "moshi"], "answers": [{"tags": [], "owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "is_accepted": true, "score": 18, "last_activity_date": 1507318439, "creation_date": 1507318439, "answer_id": 46612778, "question_id": 46607828, "link": "https://stackoverflow.com/questions/46607828/moshi-kotlin-how-to-serialize-null-json-strings-into-empty-strings-instead/46612778#46612778", "title": "Moshi/Kotlin - How to serialize NULL JSON strings into empty strings instead?", "body": "<p>The immediate problem is the missing <code>reader.nextNull()</code> call to consume the null value.</p>\n\n<p>There are a couple other cleanup things you can do here, too.\nWith <code>@FromJson</code>, implementing <code>JsonAdapter</code> is unnecessary.\nAlso, the JsonReader and JsonWriter are not nullable.</p>\n\n<pre><code>object NULL_TO_EMPTY_STRING_ADAPTER {\n  @FromJson fun fromJson(reader: JsonReader): String {\n    if (reader.peek() != JsonReader.Token.NULL) {\n      return reader.nextString()\n    }\n    reader.nextNull&lt;Unit&gt;()\n    return \"\"\n  }\n}\n</code></pre>\n\n<p>and use add the adapter:</p>\n\n<pre><code>val moshi = Moshi.Builder()\n    .add(NULL_TO_EMPTY_STRING_ADAPTER)\n    .add(KotlinJsonAdapterFactory())\n    .build()\n</code></pre>\n"}], "owner": {"reputation": 352, "user_id": 1452741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SGY4S.jpg?s=128&g=1", "display_name": "Mitch Ware", "link": "https://stackoverflow.com/users/1452741/mitch-ware"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5552, "favorite_count": 5, "accepted_answer_id": 46612778, "answer_count": 1, "score": 9, "last_activity_date": 1507368691, "creation_date": 1507299329, "question_id": 46607828, "link": "https://stackoverflow.com/questions/46607828/moshi-kotlin-how-to-serialize-null-json-strings-into-empty-strings-instead", "title": "Moshi/Kotlin - How to serialize NULL JSON strings into empty strings instead?", "body": "<p>I'm trying to write a null-safe String adapter that will serialize this JSON <code>{\"nullString\": null}</code> into this: <code>Model(nullString = \"\")</code> so that any JSON with a 'null' value that I expect to be a String will be replaced with <code>\"\"</code> (assuming there exists a data class like this: <code>data class Model(val nullString: String)</code>)</p>\n\n<p>I wrote a custom adapter to try and handle this:</p>\n\n<pre><code>class NullStringAdapter: JsonAdapter&lt;String&gt;() {\n    @FromJson\n    override fun fromJson(reader: JsonReader?): String {\n        if (reader == null) {\n            return \"\"\n        }\n\n        return if (reader.peek() == NULL) \"\" else reader.nextString()\n    }\n\n    @ToJson\n    override fun toJson(writer: JsonWriter?, value: String?) {\n        writer?.value(value)\n    }\n}\n</code></pre>\n\n<p>...in an attempt to solve this parsing error:</p>\n\n<p><code>com.squareup.moshi.JsonDataException: Expected a name but was NULL at path $.nullString</code></p>\n\n<p>Moshi parsing code:</p>\n\n<pre><code>val json = \"{\\\"nullString\\\": null}\"\n\nval moshi = Moshi.Builder()\n    .add(KotlinJsonAdapterFactory())\n    .add(NullStringAdapter())\n    .build()\n\nval result = moshi.adapter(Model::class.java).fromJson(configStr)\n</code></pre>\n\n<p>What am I missing here? Still new to moshi so any help is appreciated!</p>\n"}, {"tags": ["kotlin", "nullable", "getter", "non-nullable"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1507297915, "post_id": 46606504, "comment_id": 80166466, "body": "Since you know it&#39;s safe, you could technically use <code>.num!!</code>. It&#39;s not great, but it&#39;s still safe in this case."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1507303977, "post_id": 46606504, "comment_id": 80170350, "body": "Your backing property solution is definitely the right one, it&#39;s even the example for backing properties in the documentation <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-properties\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1507479938, "post_id": 46606903, "comment_id": 80215922, "body": "for finding the feature request +1"}], "tags": [], "owner": {"reputation": 90, "user_id": 7447531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/867295740cf67450d8aa821528fc43b3?s=128&d=identicon&r=PG&f=1", "display_name": "TaylorRayHoward", "link": "https://stackoverflow.com/users/7447531/taylorrayhoward"}, "is_accepted": false, "score": 5, "last_activity_date": 1507479840, "last_edit_date": 1507479840, "creation_date": 1507296534, "answer_id": 46606903, "question_id": 46606504, "link": "https://stackoverflow.com/questions/46606504/having-a-getter-return-a-non-nullable-type-even-though-the-backing-field-is-null/46606903#46606903", "title": "Having a getter return a non-nullable type even though the backing field is nullable", "body": "<p>I don't believe this is possible in Kotlin.  You can't override the type of the the property for get/set.  So if your property is an <code>Int?</code> you're going to have to return an <code>Int?</code> and check if it is <code>null</code> when you use it.  </p>\n\n<p>There's technically a <a href=\"https://youtrack.jetbrains.com/issue/KT-4075\" rel=\"nofollow noreferrer\">feature request</a> for what you're looking for, but it's been years since it was made.</p>\n"}, {"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 5, "last_activity_date": 1507303145, "last_edit_date": 1507303145, "creation_date": 1507296981, "answer_id": 46607057, "question_id": 46606504, "link": "https://stackoverflow.com/questions/46606504/having-a-getter-return-a-non-nullable-type-even-though-the-backing-field-is-null/46607057#46607057", "title": "Having a getter return a non-nullable type even though the backing field is nullable", "body": "<p><code>var num: Int? = null</code></p>\n\n<p>This is your property signature. It doesn't matter, if you internally ensure that no <code>null</code> value is returned. The signature says, that the value is nullable.</p>\n\n<p>This implicates:</p>\n\n<ul>\n<li>You are allowed to set <code>null</code> to this field</li>\n<li>All classes using this field, must handle the fact that the property can return <code>null</code></li>\n</ul>\n\n<p>Your Solution with a second property is good. </p>\n\n<p>You of course can replace the property with plain old java bean, but I wouldn't advise that, because than you have to access the prop with <code>getNumb</code> and <code>setNum</code>. </p>\n\n<pre><code>class Test {\n    private var num: Int = 5\n\n    fun setNum(num: Int?) {\n        this.num = num ?: 5\n    }\n\n    fun getNum() = num\n}\n</code></pre>\n"}], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 930, "favorite_count": 0, "accepted_answer_id": 46607057, "answer_count": 2, "score": 4, "last_activity_date": 1507480105, "creation_date": 1507295364, "last_edit_date": 1507480105, "question_id": 46606504, "link": "https://stackoverflow.com/questions/46606504/having-a-getter-return-a-non-nullable-type-even-though-the-backing-field-is-null", "title": "Having a getter return a non-nullable type even though the backing field is nullable", "body": "<p><code>num</code> should be nullable when set, but what it returns should always be non-nullable (have a default value).</p>\n\n<pre><code>class Test {\n    var num: Int? = null\n        get() = field ?: 5 // default value if null\n}\n</code></pre>\n\n<p>The following does not compile even though the returned value is always non-null which makes sense to me, because the type is not inferred but taken from the backing field:</p>\n\n<pre><code>val a: Int = Test().num\n</code></pre>\n\n<blockquote>\n  <p>Type mismatch: inferred type is Int? but Int was expected</p>\n</blockquote>\n\n<p><strong>The question is how can I change the return type of that getter to be non-nullable? If I do so, the compiler says:</strong></p>\n\n<blockquote>\n  <p>Getter return type must be equal to the type of the property, i.e.\n  'Int?'</p>\n</blockquote>\n\n<hr>\n\n<p>I know that I could solve it with another property <code>numNotNullable</code> (without a backing field).</p>\n\n<pre><code>class Test {\n    var num: Int? = null\n        get() = field ?: 5 // default value if null\n\n    val numNotNullable: Int\n        get() = num ?: 5\n}\n\nval c: Int = Test().numNotNullable\n</code></pre>\n\n<p>But this is not what I want. <strong>Is there another way?</strong></p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 1, "last_activity_date": 1507298011, "creation_date": 1507298011, "answer_id": 46607392, "question_id": 46606429, "link": "https://stackoverflow.com/questions/46606429/corda-iou-demo-doesnt-work-on-windows/46607392#46607392", "title": "Corda - IOU demo doesn&#39;t work on Windows", "body": "<p>You can solve this by shortening the path by installing the JDK at the root of the drive (e.g. at c:\\jdk-1.8.0_131), and pointing IntelliJ at that.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8400877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8164d1cdbff97929085e3d5a39c19d0a?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin Thomas", "link": "https://stackoverflow.com/users/8400877/gavin-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1539011328, "creation_date": 1539011328, "answer_id": 52705204, "question_id": 46606429, "link": "https://stackoverflow.com/questions/46606429/corda-iou-demo-doesnt-work-on-windows/52705204#52705204", "title": "Corda - IOU demo doesn&#39;t work on Windows", "body": "<p>If you are using Windows use the subst command to substitute a path to a drive letter, for example:</p>\n\n<p>subst b: \"C:\\Program Files\\Java\\jdk1.8.0_131\\jre\"</p>\n\n<p>Now update your JAVA_HOME environment variable to be:</p>\n\n<p>JAVA_HOME = B:\\</p>\n\n<p>You'll need to restart your terminal window for the new environment variable to take effect.</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 46607392, "answer_count": 2, "score": 1, "last_activity_date": 1539011328, "creation_date": 1507295108, "last_edit_date": 1523020651, "question_id": 46606429, "link": "https://stackoverflow.com/questions/46606429/corda-iou-demo-doesnt-work-on-windows", "title": "Corda - IOU demo doesn&#39;t work on Windows", "body": "<p>I've just cloned a new copy of the <a href=\"https://github.com/corda/cordapp-example\" rel=\"nofollow noreferrer\">Corda V1.0 IOU</a> demo and tried to run it on Windows 10, resulting in this:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.io.IOException: Cannot run program\n  \"C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\bin\\java\" (in directory\n  \"C:\\Repos\\Corda\\CordaDemoApp\\build\\20171006122614\\PartyA\"):\n  CreateProcess error=206, The filename or extension is too long</p>\n</blockquote>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["java", "kotlin", "rx-java", "reactive-programming", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 3900210, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c2ea656f87f465289d7fb2e3abd952f?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/3900210/sagar"}, "edited": false, "score": 0, "creation_date": 1507298897, "post_id": 46606827, "comment_id": 80167123, "body": "ok so I just do this <code>Observable.fromCallable { foo() }           .subscribeOn(Schedulers.io())           .observeOn(AndroidSchedulers.mainThread())           .take(1)           .subscribe ({&#47;&#47; success },{&#47;&#47; fails})</code>"}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": false, "score": 1, "last_activity_date": 1507296356, "creation_date": 1507296356, "answer_id": 46606827, "question_id": 46606226, "link": "https://stackoverflow.com/questions/46606226/observable-fromcallable-implementation-with-exception/46606827#46606827", "title": "Observable.fromCallable() implementation with exception", "body": "<blockquote>\n  <p>I want to do some other operation if it succeeds without any errors</p>\n</blockquote>\n\n<p>All of those operators would be applied to your stream unless an exception has happened, meaning that you do not have to care about <em>\"if it succeeds\"</em> case, you should only take care of <em>\"if it does <strong>not</strong> succeed\"</em> case.</p>\n\n<p>If, for some reason, an error has occurred, only then <code>onErrorReturn()</code> would be applied.</p>\n"}], "owner": {"reputation": 365, "user_id": 3900210, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1c2ea656f87f465289d7fb2e3abd952f?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/3900210/sagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507296395, "creation_date": 1507294431, "last_edit_date": 1507296395, "question_id": 46606226, "link": "https://stackoverflow.com/questions/46606226/observable-fromcallable-implementation-with-exception", "title": "Observable.fromCallable() implementation with exception", "body": "<p>I am trying to do a execute a function which throws exceptions.</p>\n\n<pre><code>Observable.fromCallable { foo() }\n          .subscribeOn(Schedulers.io())\n          .observeOn(AndroidSchedulers.mainThread())\n          .take(1)\n          .onErrorReturn { /* onError operation */ }\n          .subscribe { }\n</code></pre>\n\n<p>and I want to do some other operation if it succeeds without any errors. How can I do that?</p>\n"}, {"tags": ["kotlin", "type-mismatch", "covariant"], "comments": [{"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "edited": false, "score": 0, "creation_date": 1507298198, "post_id": 46606188, "comment_id": 80166663, "body": "<code>fun serialize(aList: List&lt;*&gt;)</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 6, "last_activity_date": 1507303254, "last_edit_date": 1507303254, "creation_date": 1507301864, "answer_id": 46608609, "question_id": 46606188, "link": "https://stackoverflow.com/questions/46606188/kotlin-type-mismatch-listany-and-listcomparablecom-cognitect-transit-symbol/46608609#46608609", "title": "Kotlin type mismatch List&lt;Any&gt; and List&lt;Comparable&lt;{com.cognitect.transit.Symbol &amp; com.cognitect.transit.Keyword}&gt;?&gt;", "body": "<p>You have to make <code>serialize()</code> to accept <code>List&lt;Any?&gt;</code> instead since your <code>Comparable</code> type is nullable.</p>\n\n<pre><code>fun serialize(aList: List&lt;Any?&gt;) {}\n</code></pre>\n\n<p>If you want it to accept <code>List&lt;Comparable&lt;{Symbol &amp; Keyword}&gt;?&gt;</code>, you have to make use of where-clause to provide multiple upper bounds:</p>\n\n<pre><code>fun &lt;T&gt; serialize(aList: List&lt;Comparable&lt;T&gt;?&gt;) where T: Symbol, T: Keyword {}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 758603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd158b4e99e085255af6a9cf0086c861?s=128&d=identicon&r=PG", "display_name": "sonwh98", "link": "https://stackoverflow.com/users/758603/sonwh98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1507303254, "creation_date": 1507294284, "last_edit_date": 1507294586, "question_id": 46606188, "link": "https://stackoverflow.com/questions/46606188/kotlin-type-mismatch-listany-and-listcomparablecom-cognitect-transit-symbol", "title": "Kotlin type mismatch List&lt;Any&gt; and List&lt;Comparable&lt;{com.cognitect.transit.Symbol &amp; com.cognitect.transit.Keyword}&gt;?&gt;", "body": "<pre><code> fun serialize(aList: List&lt;Any&gt;)\n</code></pre>\n\n<p>When I call serialize with a List containing Symbol and Keyword, the compiler complains</p>\n\n<p>type mismatch:</p>\n\n<pre><code>Require List&lt;Any&gt;\nFound: List&lt;Comparable&lt;{Symbol &amp; Keyword}&gt;?&gt;\n</code></pre>\n\n<p>Shouldn't List be covariant? </p>\n\n<p>how can I construct a type signature to match what the compiler expects <code>List&lt;Comparable&lt;{Symbol &amp; Keyword}&gt;?&gt;</code></p>\n\n<p>The compiler expects the type <code>List&lt;Comparable&lt;{Symbol &amp; Keyword}&gt;?&gt;</code> but that is not valid kotlin syntax</p>\n"}, {"tags": ["android", "generics", "kotlin", "kotlin-generics"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1507291024, "post_id": 46604808, "comment_id": 80161951, "body": "Does that last error literally end on &quot;...&quot;?"}, {"owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1507292486, "post_id": 46604808, "comment_id": 80162919, "body": "No, it&#39;s the method&#39;s name onGeoClicked"}], "answers": [{"tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": false, "score": 1, "last_activity_date": 1507320448, "last_edit_date": 1507320448, "creation_date": 1507317933, "answer_id": 46612652, "question_id": 46604808, "link": "https://stackoverflow.com/questions/46604808/kotlin-and-generics-confusion/46612652#46612652", "title": "Kotlin and generics confusion", "body": "<p>The problem here is that you need <code>GEO</code> as a <strong>contravariant</strong> type parameter in <code>BaseGeoDrawer</code> to use <code>onGeoClicked(GEO)</code> but <code>ArrayList&lt;BaseGeoDrawer&lt;Any, Any, Any&gt;&gt;</code> is <strong>invariant</strong> in its type. This means that you can't add anything else than a <code>BaseGeoDrawer&lt;Any, Any, Any&gt;</code>. If you try to use the types of <code>BaseGeoDrawer</code> as <strong>covariant</strong> it will not compile because you need it as <strong>contravariant</strong> when you call <code>onGeoClicked(GEO)</code>.</p>\n\n<p>Considering that until now in Kotlin a type parameter can't be <strong>bivariant</strong>, the only way to do it, is to do an unchecked cast.</p>\n\n<p>In this specific case, you can do:</p>\n\n<pre><code>val teamAreaDrawer = TeamAreaDrawer(this) as BaseGeoDrawer&lt;Any, Any, Any&gt;\nmapController.addGeoDrawer(teamAreaDrawer)\n</code></pre>\n\n<p>If you think about it, in Java, you would have done the same, because you would have had:</p>\n\n<pre><code>List&lt;BaseGeoDrawer&gt; drawers = new ArrayList&lt;&gt;();\n\npublic void example() {\n    TeamAreaDrawer teamAreaDrawer = new TeamAreaDrawer();\n    drawers.add(teamAreaDrawer);\n    // This is an unchecked cast.\n    drawers.get(0).onGeoClicked(\"Example\");\n}\n</code></pre>\n\n<p>I recommend you to read more about variance <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 6990, "user_id": 1354302, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/051a63b8908fe28c0b4c600b0f181abd?s=128&d=identicon&r=PG", "display_name": "David Corsalini", "link": "https://stackoverflow.com/users/1354302/david-corsalini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507320448, "creation_date": 1507289600, "last_edit_date": 1507294481, "question_id": 46604808, "link": "https://stackoverflow.com/questions/46604808/kotlin-and-generics-confusion", "title": "Kotlin and generics confusion", "body": "<p>I have some <code>Drawers</code> with generics:</p>\n\n<pre><code>abstract class BaseGeoDrawer&lt;KEY : Any, GEO : Any, ITEM : Any&gt;\n\nabstract class BasePolygonDrawer&lt;KEY : Any, ITEM : Any&gt;: BaseGeoDrawer&lt;KEY, Polygon, ITEM&gt;\nclass TeamAreaDrawer : BasePolygonDrawer&lt;String, Team&gt;\n\nabstract class BaseMarkerDrawer&lt;KEY : Any, ITEM : Any&gt; : BaseGeoDrawer&lt;KEY, Marker, ITEM&gt;\nclass TeamPositionDrawer : BaseMarkerDrawer&lt;String, Team&gt;\n</code></pre>\n\n<p>Then I have a <code>controller</code> that accept these <code>Drawers</code>, putting them in a <code>ArrayList</code></p>\n\n<pre><code>private val drawers = ArrayList&lt;BaseGeoDrawer&lt;Any, Any, Any&gt;&gt;()\nopen fun addGeoDrawer(drawer: BaseGeoDrawer&lt;Any, Any, Any&gt;) {\n    drawers.add(drawer)\n}\n</code></pre>\n\n<p>And later on calling methods in these <code>Drawers</code></p>\n\n<pre><code>//Method in controller\nprivate fun onMarkerClicked(marker: Marker): Boolean {\n    return drawers.any { it.onGeoClicked(marker) }\n}\n\n//Method in BaseGeoDrawer\nfun onGeoClicked(geo: GEO): Boolean\n</code></pre>\n\n<p>The problem appear on this line</p>\n\n<pre><code>teamAreaDrawer = TeamAreaDrawer(this)\nmapController.addGeoDrawer(teamAreaDrawer)\n</code></pre>\n\n<p>Android Studio will not allow it, telling me</p>\n\n<pre><code>Type mismatch.\nRequired: BaseGeoDrawer&lt;Any, Any, Any&gt;\nFound: TeamAreaDrawer\n</code></pre>\n\n<p>I tried using out for <code>drawers</code></p>\n\n<pre><code>private val drawers = ArrayList&lt;BaseGeoDrawer&lt;out Any, out Any, out Any&gt;&gt;()\n</code></pre>\n\n<p>But then <code>onMarkerClicked</code> will not compile, with the following error</p>\n\n<pre><code>Out-projected type BaseGeoDrawer&lt;out Any, out Any, out Any&gt; prohibits the use of 'public final fun onGeoClicked(geo: GEO) defined in mypackage.BaseGeoDrawer'\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1507292002, "post_id": 46603826, "comment_id": 80162574, "body": "By the way, the check can also be done as <code>fun isNumber(obj: Any) = obj is Number</code>."}], "answers": [{"comments": [{"owner": {"reputation": 548, "user_id": 536484, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NCeJt.jpg?s=128&g=1", "display_name": "Arturo", "link": "https://stackoverflow.com/users/536484/arturo"}, "edited": false, "score": 0, "creation_date": 1507287409, "post_id": 46604139, "comment_id": 80159852, "body": "This is what I thought, the OP syntax is wrong because he is comparing if <code>obj</code> is <code>Long</code> but also if <code>obj</code> is the class type <code>Int</code>, <code>Float</code> or <code>Double</code>. Said this, your solution neither works but it should....."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1507290103, "post_id": 46604139, "comment_id": 80161409, "body": "Just a remark: the <code>Int</code> appearing in <code>is Long, Int</code> is not the type but is the companion object of type <code>Int</code>."}], "tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 5, "last_activity_date": 1507287905, "last_edit_date": 1507287905, "creation_date": 1507287269, "answer_id": 46604139, "question_id": 46603826, "link": "https://stackoverflow.com/questions/46603826/how-to-control-the-flow-of-data-using-when-properly-in-kotlin/46604139#46604139", "title": "how to control the flow of data using when properly in kotlin", "body": "<p>The comma-separated conditions are evaluated with <code>OR</code>, each by their own, so we should turn this around like this: </p>\n\n<pre><code>    when (obj) {\n        is Long, is Int, is Float, is Double -&gt; {\n            println(\"Yes it's a number\")\n        }\n        else -&gt; {\n            println(\"No it's not a number\")\n        }\n    }\n</code></pre>\n\n<p>The reason your construct does not work is, when you're leaving out the <code>is</code> in <code>!is Long, Int, Float, Double -&gt;</code> then we have (simplified): </p>\n\n<pre><code>   when (obj) {\n            Int -&gt; {\n            }\n            else -&gt; {\n            }\n        }\n</code></pre>\n\n<p>which means you check if <code>obj</code> equals the class <code>Int</code>, as opposed to checking if <code>obj</code> is an instance of <code>Int</code>.</p>\n\n<p>Furthermore, even when we add the <code>!is</code> to every number type like: </p>\n\n<pre><code>   when (obj) {\n        !is Long, !is Int, !is Float, !is Double -&gt; {\n            println(\"No it's not a number\")\n        }\n        else -&gt; {\n            println(\"Yes it's a number\")\n        }\n    }\n</code></pre>\n\n<p>it still won't work because, as mentioned, the conditions will be evaluated with <code>OR</code>, so everything will be 'not a number', because everything is either <strong>not</strong> a Long <strong>or</strong> <strong>not</strong> an Int etc. </p>\n"}], "owner": {"reputation": 1979, "user_id": 3914166, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/4jU6D.jpg?s=128&g=1", "display_name": "Bachiri Taoufiq Abderrahman", "link": "https://stackoverflow.com/users/3914166/bachiri-taoufiq-abderrahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 46604139, "answer_count": 1, "score": 1, "last_activity_date": 1507287905, "creation_date": 1507286169, "question_id": 46603826, "link": "https://stackoverflow.com/questions/46603826/how-to-control-the-flow-of-data-using-when-properly-in-kotlin", "title": "how to control the flow of data using when properly in kotlin", "body": "<p>Can someone explain to me why this code blocks print those lines \nusually, we use <strong>when</strong> to control the flow of data using multiple possibilities like <strong>is !is in !in</strong> here is my code :</p>\n\n<pre><code>fun isNumber(obj: Any) {\n\n    when (obj) {\n        !is Long, Int, Float, Double -&gt; {\n            println(\"No it's not a number\")\n        }\n        else -&gt; {\n            println(\"Yes it's a number\")\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n\n    isNumber(19.10)\n    isNumber(19L)\n    isNumber(19)\n    isNumber(19.10F)\n\n}\n</code></pre>\n\n<p>The Result :</p>\n\n<pre><code>No it's not a number\nYes it's a number\nNo it's not a number\nNo it's not a number\n</code></pre>\n"}]