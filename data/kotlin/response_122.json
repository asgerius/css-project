[{"tags": ["android", "gradle", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 2969, "user_id": 1349855, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9147eafa31b0ac8201e5b527a5818f70?s=128&d=identicon&r=PG", "display_name": "wasyl", "link": "https://stackoverflow.com/users/1349855/wasyl"}, "edited": false, "score": 0, "creation_date": 1494450729, "post_id": 43902679, "comment_id": 74839470, "body": "Why do you have <code>classpath &#39;com.android.tools.build:gradle:...&#39;</code> twice with different versions of the plugin?"}, {"owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "reply_to_user": {"reputation": 2969, "user_id": 1349855, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9147eafa31b0ac8201e5b527a5818f70?s=128&d=identicon&r=PG", "display_name": "wasyl", "link": "https://stackoverflow.com/users/1349855/wasyl"}, "edited": false, "score": 0, "creation_date": 1494451437, "post_id": 43902679, "comment_id": 74839814, "body": "just a copy paste error, removed one of them but problems pesists"}], "answers": [{"comments": [{"owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "edited": false, "score": 4, "creation_date": 1501205650, "post_id": 43903447, "comment_id": 77688038, "body": "openjdk-8-jdk-headless is missing it for some reason. installing openjdk-8-jdk (without the -headless) resolves the issue."}, {"owner": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "edited": false, "score": 2, "creation_date": 1517952735, "post_id": 43903447, "comment_id": 84302599, "body": "Switching to non-headless didn&#39;t solve it for me; I had to go Oracle"}, {"owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 0, "creation_date": 1544753158, "post_id": 43903447, "comment_id": 94396932, "body": "how to switch into Oracle?"}, {"owner": {"reputation": 1701, "user_id": 383019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e14fbc488f5a69a4a246f9594d11bd5?s=128&d=identicon&r=PG", "display_name": "Marek Kowalski", "link": "https://stackoverflow.com/users/383019/marek-kowalski"}, "edited": false, "score": 0, "creation_date": 1546974375, "post_id": 43903447, "comment_id": 95029029, "body": "Same issue for me and same fix worked. Switching to Oracle on Ubuntu: <a href=\"https://medium.com/coderscorner/installing-oracle-java-8-in-ubuntu-16-10-845507b13343\" rel=\"nofollow noreferrer\">medium.com/coderscorner/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "is_accepted": true, "score": 19, "last_activity_date": 1494453884, "creation_date": 1494453884, "answer_id": 43903447, "question_id": 43902679, "link": "https://stackoverflow.com/questions/43902679/compilereleasekotlin-fails-with-java-lang-classnotfoundexception-com-sun-tools/43903447#43903447", "title": "compileReleaseKotlin fails with java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context", "body": "<p>OK, problem is with JDK, I was using Open JDK 8 and it was missing tools.jar for some reason, I switched to Oracle JDK and now it works like a charm! </p>\n"}, {"tags": [], "owner": {"reputation": 4426, "user_id": 1153203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/89d4f80278b4aa0f3c134aacc14adb95?s=128&d=identicon&r=PG", "display_name": "Sean Dawson", "link": "https://stackoverflow.com/users/1153203/sean-dawson"}, "is_accepted": false, "score": 1, "last_activity_date": 1499325052, "creation_date": 1499325052, "answer_id": 44942038, "question_id": 43902679, "link": "https://stackoverflow.com/questions/43902679/compilereleasekotlin-fails-with-java-lang-classnotfoundexception-com-sun-tools/44942038#44942038", "title": "compileReleaseKotlin fails with java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context", "body": "<p>I got this exact issue on Windows when the JDK bin directory was not in my PATH.</p>\n\n<p>The process is documented here: <a href=\"http://docs.oracle.com/javase/7/docs/webnotes/install/windows/jdk-installation-windows.html#path\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/webnotes/install/windows/jdk-installation-windows.html#path</a></p>\n"}, {"tags": [], "owner": {"reputation": 319, "user_id": 351036, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cca844157125f8583c2aab649c115392?s=128&d=identicon&r=PG", "display_name": "Arneball", "link": "https://stackoverflow.com/users/351036/arneball"}, "is_accepted": false, "score": 2, "last_activity_date": 1516266475, "creation_date": 1516266475, "answer_id": 48317428, "question_id": 43902679, "link": "https://stackoverflow.com/questions/43902679/compilereleasekotlin-fails-with-java-lang-classnotfoundexception-com-sun-tools/48317428#48317428", "title": "compileReleaseKotlin fails with java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context", "body": "<p>If you have windows, change your PATH so that it includes <code>C:\\Program Files\\Java\\jdk1.8.0_151\\bin</code> instead of <code>C:\\ProgramData\\Oracle\\Java\\javapath</code></p>\n\n<p>Yeah, it might break in an update or whatever, but considering that an update broke my machine... At least you're in control now.</p>\n\n<p>My guess is that <code>C:\\ProgramData\\Oracle\\Java\\javapath</code> points to the non-jdk jre, thus failing to find javac-specific jars.</p>\n"}, {"tags": [], "owner": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "is_accepted": false, "score": 6, "last_activity_date": 1521450752, "creation_date": 1521450752, "answer_id": 49359275, "question_id": 43902679, "link": "https://stackoverflow.com/questions/43902679/compilereleasekotlin-fails-with-java-lang-classnotfoundexception-com-sun-tools/49359275#49359275", "title": "compileReleaseKotlin fails with java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context", "body": "<p>I solved it only by replacing in build.gradle this</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.30\"\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib:1.2.30\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1321, "user_id": 149851, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8677072a8348d97ea058d81d52f45beb?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/149851/anton"}, "is_accepted": false, "score": 1, "last_activity_date": 1526198381, "creation_date": 1526198381, "answer_id": 50314005, "question_id": 43902679, "link": "https://stackoverflow.com/questions/43902679/compilereleasekotlin-fails-with-java-lang-classnotfoundexception-com-sun-tools/50314005#50314005", "title": "compileReleaseKotlin fails with java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context", "body": "<p>I've figured out that on CentOS 7 this error cab be caused by absence of right java package. So, instead of <code>yum install java-1.8.0-openjdk</code> I used <code>yum install java-1.8.0-openjdk-devel</code> and it worked. On Ubuntu there is no <code>devel</code> packege, but I hope this answer helps anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9464991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VEHVy.jpg?s=128&g=1", "display_name": "Raj Kumar", "link": "https://stackoverflow.com/users/9464991/raj-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1535028337, "creation_date": 1535028337, "answer_id": 51986164, "question_id": 43902679, "link": "https://stackoverflow.com/questions/43902679/compilereleasekotlin-fails-with-java-lang-classnotfoundexception-com-sun-tools/51986164#51986164", "title": "compileReleaseKotlin fails with java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context", "body": "<p>The problem is due to C:\\ProgramData\\Oracle\\Java\\javapath which points to the non-jdk jre, thus failing to find javac-specific jars. Please remove it with C:\\Program Files\\Java\\jdk1.8.0_171\\bin (for e.g.)</p>\n"}], "owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11345, "favorite_count": 3, "accepted_answer_id": 43903447, "answer_count": 6, "score": 19, "last_activity_date": 1535028337, "creation_date": 1494450087, "last_edit_date": 1494451151, "question_id": 43902679, "link": "https://stackoverflow.com/questions/43902679/compilereleasekotlin-fails-with-java-lang-classnotfoundexception-com-sun-tools", "title": "compileReleaseKotlin fails with java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context", "body": "<p>I'm trying to build my Android Project (which contains a library module) via terminal using gradlew. From within Android Studio, it compiles and installs successfully but, when I try to run <code>./gradlew assembleDebug</code> I get the following stacktrace:</p>\n\n<pre><code>Using kotlin incremental compilation\ne: java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:264)\n        at org.jetbrains.kotlin.gradle.tasks.JarSearchingUtilKt.findToolsJar(jarSearchingUtil.kt:48)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:21)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:15)\n        at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:131)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment.getToolsJar(GradleCompilerEnvironment.kt)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment.getCompilerClasspath(GradleCompilerEnvironment.kt:24)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.getDaemonConnection(GradleKotlinCompilerRunner.kt:289)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.compileWithDaemon(GradleKotlinCompilerRunner.kt:132)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.compileWithDaemonOrFallback(GradleKotlinCompilerRunner.kt:112)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.compileWithDaemonOrFallback(GradleKotlinCompilerRunner.kt:49)\n        at org.jetbrains.kotlin.compilerRunner.KotlinCompilerRunner.runCompiler(KotlinCompilerRunner.kt:134)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runJvmCompiler(GradleKotlinCompilerRunner.kt:73)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:259)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:160)\n        at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:141)\n        at sun.reflect.GeneratedMethodAccessor530.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:163)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:123)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:95)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:76)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.execute(DefaultTaskGraphExecuter.java:236)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.execute(DefaultTaskGraphExecuter.java:228)\n        at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:61)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:228)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:215)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:77)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:58)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:32)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:113)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n        at org.gradle.initialization.DefaultGradleLauncher$3.execute(DefaultGradleLauncher.java:196)\n        at org.gradle.initialization.DefaultGradleLauncher$3.execute(DefaultGradleLauncher.java:193)\n        at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:56)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:193)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:119)\n        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:102)\n        at org.gradle.launcher.exec.GradleBuildController.run(GradleBuildController.java:71)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:49)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:44)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:29)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:47)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n        at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n\ne: Compiler terminated with internal error\n:render-engine:compileReleaseKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':render-engine:compileReleaseKotlin'.\n&gt; Internal compiler error. See log for more details\n</code></pre>\n\n<p>main build.gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-2'\n    ext.anko_version = '0.9'\n    ext.android_plugin_version = '2.3.1'\n    ext.appcompat = '25.3.1'\n\n    repositories {\n        jcenter()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"com.android.tools.build:gradle:$android_plugin_version\"\n    }\n}\n\nallprojects {\n    /**\n     *  REQUIRED FOR IGNORING JAVADOCS FOR KT FILES\n     */\n    tasks.withType(Javadoc) {\n        excludes = ['**/*.kt']\n        options.addStringOption('Xdoclint:none', '-quiet')\n        options.addStringOption('encoding', 'UTF-8')\n    }\n\n    repositories {\n        maven { url \"https://jitpack.io\" }\n\n        maven {\n            url 'https://oss.sonatype.org/content/repositories/snapshots/'\n        }\n\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>module's build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'maven-publish'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nProperties properties = new Properties()\nproperties.load(project.rootProject.file('local.properties').newDataInputStream())\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.3\"\n\n    defaultConfig {\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName version\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    // TEST\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n\n    // GOOGLE\n    compile 'com.google.code.gson:gson:2.8.0'\n    compile \"com.android.support:appcompat-v7:$appcompat\"\n    compile \"com.android.support:cardview-v7:$appcompat\"\n    compile \"com.android.support:design:$appcompat\"\n\n    // OTHER\n    compile('org.simpleframework:simple-xml:2.7.+') {\n        exclude module: 'stax'\n        exclude module: 'stax-api'\n        exclude module: 'xpp3'\n    }\n    compile 'com.github.PhilJay:MPAndroidChart:v3.0.2'\n    compile 'org.greenrobot:eventbus:3.0.0'\n    compile 'org.apache.commons:commons-io:1.3.2'\n\n    // RX ANDROID\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'io.reactivex.rxjava2:rxjava:2.0.1'\n\n    // KOTLIN\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    // ANKO\n    compile \"org.jetbrains.anko:anko-common:$anko_version\"\n    compile \"org.jetbrains.anko:anko-sdk15:$anko_version\"\n    compile \"org.jetbrains.anko:anko-support-v4:$anko_version\"\n    compile \"org.jetbrains.anko:anko-appcompat-v7:$anko_version\"\n}\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n    }\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p><strong>IMPORTANT: I'm trying that on Elmentary OS (openjdk1.8.0) and the same project can be run on other computer using Ubuntu</strong></p>\n"}, {"tags": ["android", "kotlin", "async-await", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1839, "user_id": 882912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0ee650f3ddaf676349ef9de068ad52?s=128&d=identicon&r=PG", "display_name": "KTCO", "link": "https://stackoverflow.com/users/882912/ktco"}, "edited": false, "score": 0, "creation_date": 1494634121, "post_id": 43898785, "comment_id": 74928653, "body": "You should load the UI first then data second (or sooner in the background): <a href=\"http://stackoverflow.com/a/43151714/882912\">stackoverflow.com/a/43151714/882912</a> Otherwise you freeze up your UI while you load the data. That way you can show a progress bar."}], "answers": [{"comments": [{"owner": {"reputation": 630, "user_id": 3656504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83bb03a9525aa27edb2bea3c9d2b8c64?s=128&d=identicon&r=PG&f=1", "display_name": "xani", "link": "https://stackoverflow.com/users/3656504/xani"}, "edited": false, "score": 1, "creation_date": 1494492966, "post_id": 43909896, "comment_id": 74854851, "body": "Thanks for your answer. On the one hand you are right, it adds nothing to the performance. On the other hand I still don&#39;t understand why my code doesn&#39;t work. Is it <a href=\"https://stackoverflow.com/questions/36115580/async-await-not-waiting?rq=1\">like here in c#</a> because of void which is bad practice?"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 630, "user_id": 3656504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83bb03a9525aa27edb2bea3c9d2b8c64?s=128&d=identicon&r=PG&f=1", "display_name": "xani", "link": "https://stackoverflow.com/users/3656504/xani"}, "edited": false, "score": 0, "creation_date": 1494583246, "post_id": 43909896, "comment_id": 74901844, "body": "That would be a question that authors of Metalab Async/Await Library might be able to answer. If you were using <code>kotlinx.coroutines</code>, then you could write it like that and it would work <a href=\"https://gist.github.com/elizarov/0b3e3386d304478368b3eb0380b6f25a\" rel=\"nofollow noreferrer\">gist.github.com/elizarov/0b3e3386d304478368b3eb0380b6f25a</a>"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 4, "last_activity_date": 1494490236, "creation_date": 1494490236, "answer_id": 43909896, "question_id": 43898785, "link": "https://stackoverflow.com/questions/43898785/async-not-waiting-for-await/43909896#43909896", "title": "Async not waiting for await", "body": "<p>The short answer is that you should not use Kotlin coroutines for that. </p>\n\n<p>The long answer is that your code needs AndroidThreeTen to be initialised <em>before</em> you initialise your UI, so you have to <em>wait</em> for <code>AndroidThreeTen.init</code> to finish before trying to invoke <code>initUI</code> anyway. Because of that inherent need to wait, there is little reason to overcomplicate your code. Coroutines are not magic. They will not make waiting for something that takes a lot of time somehow faster. <code>AndroidThreeTen.init</code> will take the same amount of time with coroutines or without them.</p>\n\n<p>You should just write your code like this:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val application = this\n\n    AndroidThreeTen.init(application)\n    initUI()\n}\n</code></pre>\n"}], "owner": {"reputation": 630, "user_id": 3656504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83bb03a9525aa27edb2bea3c9d2b8c64?s=128&d=identicon&r=PG&f=1", "display_name": "xani", "link": "https://stackoverflow.com/users/3656504/xani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 0, "accepted_answer_id": 43909896, "answer_count": 1, "score": 0, "last_activity_date": 1552981962, "creation_date": 1494436050, "last_edit_date": 1552981962, "question_id": 43898785, "link": "https://stackoverflow.com/questions/43898785/async-not-waiting-for-await", "title": "Async not waiting for await", "body": "<p>I'm new to Kotlin and the coroutines. However I want to use it to initialize the Android ThreeTen backport library which is a long running task. I'm using the Metalab Async/Await Library (<a href=\"https://github.com/metalabdesign/AsyncAwait\" rel=\"nofollow noreferrer\">co.metalab.asyncawait:asyncawait:1.0.0</a>).</p>\n\n<p>This is my code:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val application = this\n\n    async {\n\n        //non-blocking initialize ThreeTen\n        await { AndroidThreeTen.init(application) }\n\n        //initialize UI on UI thread which uses the ThreeTen library\n        initUI()\n\n    }\n}\n</code></pre>\n\n<p>Now I have the problem that the library is not initialized when initializing the UI. From my understanding <code>initUI</code> shouldn't be called before <code>AndroidThreeTen.init</code> is called.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1858, "user_id": 4690711, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-OyIsivw15Ww/AAAAAAAAAAI/AAAAAAAAAWw/wDgQJ3UYMhw/photo.jpg?sz=128", "display_name": "Dave Ford", "link": "https://stackoverflow.com/users/4690711/dave-ford"}, "is_accepted": false, "score": 0, "last_activity_date": 1494550331, "creation_date": 1494550331, "answer_id": 43927716, "question_id": 43898054, "link": "https://stackoverflow.com/questions/43898054/when-do-we-need-the-meta-js-files-in-kotlin/43927716#43927716", "title": "When do we need the *.meta.js files in Kotlin?", "body": "<p>Turns out the docs are wrong. This file is not used for reflection. It is used by the compiler and useful should you need to distribute your kotlin code as a library.</p>\n"}], "owner": {"reputation": 1858, "user_id": 4690711, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-OyIsivw15Ww/AAAAAAAAAAI/AAAAAAAAAWw/wDgQJ3UYMhw/photo.jpg?sz=128", "display_name": "Dave Ford", "link": "https://stackoverflow.com/users/4690711/dave-ford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494550331, "creation_date": 1494433542, "question_id": 43898054, "link": "https://stackoverflow.com/questions/43898054/when-do-we-need-the-meta-js-files-in-kotlin", "title": "When do we need the *.meta.js files in Kotlin?", "body": "<p>It says in the docs: \"In addition, each of these also have a corresponding {file}.meta.js meta file which will be used for reflection and other functionality.\"</p>\n\n<p>Q1: does this mean we only need to include these files if we are using reflection?</p>\n\n<p>Q2: what is the \"other functionality\"?</p>\n"}, {"tags": ["android", "methods", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1494427769, "post_id": 43895716, "comment_id": 74825824, "body": "You&#39;ll have to be a bit more specific about what you&#39;re trying to achieve here."}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1494430716, "post_id": 43895716, "comment_id": 74828087, "body": "call your method countDownTime(1000) in method onResume() or what u mean?"}], "answers": [{"tags": [], "owner": {"reputation": 2969, "user_id": 1349855, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9147eafa31b0ac8201e5b527a5818f70?s=128&d=identicon&r=PG", "display_name": "wasyl", "link": "https://stackoverflow.com/users/1349855/wasyl"}, "is_accepted": false, "score": 2, "last_activity_date": 1494430856, "creation_date": 1494430856, "answer_id": 43897157, "question_id": 43895716, "link": "https://stackoverflow.com/questions/43895716/calling-countdowntimer/43897157#43897157", "title": "Calling countDownTimer", "body": "<p>Seems like you need to extract your <code>CountDownTimer</code> to a field:</p>\n\n<pre><code>class YourClass {\n\n    val timer = object : CountDownTimer(timeOut, 1000) {\n            override fun onTick(millisUntilFinished: Long) {\n                actionWarning.text = \"Please wait: \" + millisUntilFinished / 1000\n            }\n            override fun onFinish() {\n            }\n        }\n\n    private fun countDownTime(timeOut: Long) {\n      timer.start()\n    }\n\n    fun onResume() {\n      timer.whatever()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 6856875, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/34c2329a5e41bcfdf5de9732b7518d47?s=128&d=identicon&r=PG&f=1", "display_name": "Inkognito", "link": "https://stackoverflow.com/users/6856875/inkognito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494430856, "creation_date": 1494427266, "question_id": 43895716, "link": "https://stackoverflow.com/questions/43895716/calling-countdowntimer", "title": "Calling countDownTimer", "body": "<p>How i can call my CountDownTimer in onResume()?</p>\n\n<pre><code>private fun countDownTime(timeOut: Long) {\n    object : CountDownTimer(timeOut, 1000) {\n        override fun onTick(millisUntilFinished: Long) {\n            actionWarning.text = \"Please wait: \" + millisUntilFinished / 1000\n        }\n        override fun onFinish() {\n        }\n    }.start()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "file", "kotlin", "android-assets"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 1, "last_activity_date": 1494423864, "creation_date": 1494423864, "answer_id": 43894296, "question_id": 43894100, "link": "https://stackoverflow.com/questions/43894100/best-practice-for-converting-java-code-used-for-copying-assets-files-to-cache-fo/43894296#43894296", "title": "Best practice for converting java code used for copying assets files to cache folder in Android to Kotlin", "body": "<p>The idiomatic way to rewrite this is to get rid of the <code>while</code> loop entirely and to replace it with the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-input-stream/copy-to.html\" rel=\"nofollow noreferrer\">copyTo standard library function</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "edited": false, "score": 0, "creation_date": 1494431284, "post_id": 43897028, "comment_id": 74828480, "body": "WOW! Thanks, it was wonderful. I really like this new language. Just edited some part of your answer and will confirm as correct answer after peer review."}], "tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": true, "score": 3, "last_activity_date": 1498101091, "last_edit_date": 1498101091, "creation_date": 1494430531, "answer_id": 43897028, "question_id": 43894100, "link": "https://stackoverflow.com/questions/43894100/best-practice-for-converting-java-code-used-for-copying-assets-files-to-cache-fo/43897028#43897028", "title": "Best practice for converting java code used for copying assets files to cache folder in Android to Kotlin", "body": "<p>Actually after a full translate the code should looks like this:</p>\n\n<pre><code>val file = File(\"${cacheDir.path}/$fileName\")\n\nval dir = file.parentFile\ndir.mkdirs()\n\nval inputStream = assets.open(fileName).use { input -&gt;\n    val bufferedOutputStream = file.outputStream().buffered().use { output -&gt;\n        input.copyTo(output, 10240)\n    }\n}\n</code></pre>\n\n<p>This takes advantage of both <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow noreferrer\"><code>Closeable.use</code></a> extension function, <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/output-stream.html\" rel=\"nofollow noreferrer\">some</a> other <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-output-stream/buffered.html\" rel=\"nofollow noreferrer\">handy </a> extension functions and the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-input-stream/copy-to.html\" rel=\"nofollow noreferrer\"><code>copyTo</code></a> function mentioned above by the dev to simplify the code to the maxes.</p>\n\n<p>PS: <code>Closeable.use</code> should be the kotlin counterpart of the Java 7 try-with-resource construct, with far better simplicity.</p>\n"}, {"tags": [], "owner": {"reputation": 1738, "user_id": 5340526, "user_type": "registered", "profile_image": "https://graph.facebook.com/889987371091687/picture?type=large", "display_name": "Nguy\u1ec5n Trung Hi\u1ebfu", "link": "https://stackoverflow.com/users/5340526/nguy%e1%bb%85n-trung-hi%e1%ba%bfu"}, "is_accepted": false, "score": 0, "last_activity_date": 1567752054, "creation_date": 1567752054, "answer_id": 57816937, "question_id": 43894100, "link": "https://stackoverflow.com/questions/43894100/best-practice-for-converting-java-code-used-for-copying-assets-files-to-cache-fo/57816937#57816937", "title": "Best practice for converting java code used for copying assets files to cache folder in Android to Kotlin", "body": "<p>Try this is class in kotlin</p>\n\n<pre><code>/**\n* @fileName: path of file in assets folder\n* For example: getPathFileFromAssets(\"fonts/text4.ttf\") or \n*getPathFileFromAssets(\"text4.ttf\")\n*/\n\n@Throws(IOException::class)\nfun Context.getPathFileFromAssets(fileName: String): String {\n\nvar tmpPath = cacheDir.resolve(fileName)\n\nif (tmpPath.exists()) return tmpPath.absolutePath\n\nif (fileName.contains(\"/\")) {\n    val folder = fileName.split(\"/\")[0]\n    File(cacheDir, folder).also {\n        if (it.exists().not()) {\n            it.mkdirs()\n        }\n    }\n}\ntmpPath = File(cacheDir, fileName).also {\n    it.outputStream()\n        .use { cache -&gt;\n            assets.open(fileName)\n                .use { it.copyTo(cache) }\n        }\n}\nreturn tmpPath.absolutePath\n}\n</code></pre>\n\n<p>use in Activity</p>\n\n<pre><code>try {\n        val pathFile = getPathFileFromAssets(\"fonts/text5.ttf\")\n        val pathFile2 = getPathFileFromAssets(\"text5.ttf\")\n    } catch (e: IOException) {\n\n    }\n</code></pre>\n\n<p><strong>NOTE</strong>: You must include file <strong>text5.ttf</strong> in <strong>assets folder</strong> or <strong>assets/fonts</strong></p>\n"}], "owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 1, "accepted_answer_id": 43897028, "answer_count": 3, "score": 1, "last_activity_date": 1567752054, "creation_date": 1494423366, "last_edit_date": 1494436087, "question_id": 43894100, "link": "https://stackoverflow.com/questions/43894100/best-practice-for-converting-java-code-used-for-copying-assets-files-to-cache-fo", "title": "Best practice for converting java code used for copying assets files to cache folder in Android to Kotlin", "body": "<p>I am using this code for copying Asset files in Android to cache folder, the point is it was a Java code and I convert it to Kotlin but it looks more Java(ish) mostly around while loop:</p>\n\n<pre><code>val file = File(\"${cacheDir.path}/$fileName\")\n\nval dir = file.parentFile\ndir.mkdirs()\n\nval inputStream = assets.open(fileName)\n\nval bufferedOutputStream = BufferedOutputStream(FileOutputStream(file))\n\nval buf = ByteArray(10240)\nvar num = inputStream.read(buf)\n// Java version: while ((num = fi.read(buf)) &gt; 0)\nwhile (num &gt; 0) {\n    bufferedOutputStream.write(buf, 0, num)\n    num = inputStream.read(buf)\n}\n\nbufferedOutputStream.close()\ninputStream.close()\n</code></pre>\n\n<p>any expert who can make it more Kotlin.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1494422278, "post_id": 43893566, "comment_id": 74821396, "body": "What error do you get?"}, {"owner": {"reputation": 653, "user_id": 3594403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1rc95.jpg?s=128&g=1", "display_name": "dpoetzsch", "link": "https://stackoverflow.com/users/3594403/dpoetzsch"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1494422822, "post_id": 43893566, "comment_id": 74821819, "body": "Sorry, forgot that. I updated the question"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1494508573, "post_id": 43893566, "comment_id": 74866184, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/32970923/resolving-accidental-override-errors-in-kotlin\">Resolving Accidental Override errors in Kotlin</a>"}, {"owner": {"reputation": 653, "user_id": 3594403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1rc95.jpg?s=128&g=1", "display_name": "dpoetzsch", "link": "https://stackoverflow.com/users/3594403/dpoetzsch"}, "edited": false, "score": 1, "creation_date": 1494512567, "post_id": 43893566, "comment_id": 74869496, "body": "According to the answer there it is simply impossible without the ugly java workaround. That would suck a bit."}], "answers": [{"comments": [{"owner": {"reputation": 653, "user_id": 3594403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1rc95.jpg?s=128&g=1", "display_name": "dpoetzsch", "link": "https://stackoverflow.com/users/3594403/dpoetzsch"}, "edited": false, "score": 1, "creation_date": 1494425095, "post_id": 43894636, "comment_id": 74823634, "body": "I understand the problem and see your workaround. I have a lot of sub classes of <code>ThirdParty</code> (in my case <code>ParseObject</code>) in java which I&#39;m trying to convert to kotlin now and this is where the problem occurred. Your solution would not only mean to change a lot of code but would also change the external interface (<code>XProperty</code>) of my library."}, {"owner": {"reputation": 448, "user_id": 2792899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKn1r.png?s=128&g=1", "display_name": "Jonas Franz", "link": "https://stackoverflow.com/users/2792899/jonas-franz"}, "reply_to_user": {"reputation": 653, "user_id": 3594403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1rc95.jpg?s=128&g=1", "display_name": "dpoetzsch", "link": "https://stackoverflow.com/users/3594403/dpoetzsch"}, "edited": false, "score": 0, "creation_date": 1494425228, "post_id": 43894636, "comment_id": 74823758, "body": "What is about the second solution?"}, {"owner": {"reputation": 653, "user_id": 3594403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1rc95.jpg?s=128&g=1", "display_name": "dpoetzsch", "link": "https://stackoverflow.com/users/3594403/dpoetzsch"}, "edited": false, "score": 0, "creation_date": 1494425270, "post_id": 43894636, "comment_id": 74823800, "body": "The wrapper approach would mean I&#39;d have to wrap all public methods that I use in my project internally which in my opinion is pretty ugly as well."}], "tags": [], "owner": {"reputation": 448, "user_id": 2792899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKn1r.png?s=128&g=1", "display_name": "Jonas Franz", "link": "https://stackoverflow.com/users/2792899/jonas-franz"}, "is_accepted": false, "score": 2, "last_activity_date": 1494425151, "last_edit_date": 1494425151, "creation_date": 1494424633, "answer_id": 43894636, "question_id": 43893566, "link": "https://stackoverflow.com/questions/43893566/kotlin-interface-a-java-class-accidental-override/43894636#43894636", "title": "Kotlin interface a java class: Accidental override", "body": "<p>You have a naming conflict between the XProvider interface and the ThirdParty (abstract) class. This is caused my the Kotlin compililer which compiles</p>\n\n<pre><code>val x: String?\n</code></pre>\n\n<p>into a valid Java method because Java does not support the inheritance of variables or properties. The valid Java method will have the name \"getX()\". So you have a conflict between the XProvider.getX() and the ThirdParty.getX() method. So the solution might be to rename your property \"x\" in your XProvider class. Or you create a second class that contains an instance of ThridParty and implements XProvider. When val x: String is called you can provide the content by getting it from your ThirdParty instance.</p>\n\n<p>Example:</p>\n\n<pre><code>class ThirdPartyImpl: XProvider {\n    private val thridPartyInstance = ThridParty()\n    override val x: String? = thirdPartyInstance.x\n}\n</code></pre>\n"}], "owner": {"reputation": 653, "user_id": 3594403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1rc95.jpg?s=128&g=1", "display_name": "dpoetzsch", "link": "https://stackoverflow.com/users/3594403/dpoetzsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1721, "favorite_count": 1, "answer_count": 1, "score": 11, "last_activity_date": 1494425388, "creation_date": 1494421998, "last_edit_date": 1494425388, "question_id": 43893566, "link": "https://stackoverflow.com/questions/43893566/kotlin-interface-a-java-class-accidental-override", "title": "Kotlin interface a java class: Accidental override", "body": "<p>I have a third party java library with a class like</p>\n\n<pre><code>public class ThirdParty  {\n    public String getX() {\n        return null;\n    }\n}\n</code></pre>\n\n<p>I also have an interface in kotlin like</p>\n\n<pre><code>interface XProvider {\n    val x: String?\n}\n</code></pre>\n\n<p>Now I want to extend the <code>ThirdParty</code> class and implement the <code>XProvider</code> interface. This has been working fine in my legacy java code:</p>\n\n<pre><code>public class JavaChild extends ThirdParty implements XProvider {}\n</code></pre>\n\n<p>However, I would like to write as much kotlin as possible and am trying to convert my java classes to kotlin. Sadly, the following does not work:</p>\n\n<pre><code>class KotlinChild: ThirdParty(), XProvider\n</code></pre>\n\n<p>Error is</p>\n\n<pre><code>class 'KotlinChild1' must be declared abstract or implement abstract member public abstract val x: String? defined in XProvider\n</code></pre>\n\n<p>However, if I do something like</p>\n\n<pre><code>class KotlinChild1: ThirdParty(), XProvider {\n    override val x: String? = null\n}\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>error: accidental override: The following declarations have the same JVM signature (getX()Ljava/lang/String;)\n    fun &lt;get-x&gt;(): String?\n    fun getX(): String!\n        override val x: String? = null\n</code></pre>\n\n<p>What works is the following ugly work-around:</p>\n\n<pre><code>class KotlinChild: JavaChild()\n</code></pre>\n"}, {"tags": ["kotlin", "coroutine", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "edited": false, "score": 0, "creation_date": 1528494346, "post_id": 43889107, "comment_id": 88544977, "body": "Well, you can tie a channel to a resource with a <code>try</code>/<code>finally</code> as I did <a href=\"https://github.com/Beepiz/BleScanCoroutines/blob/24c8637fcef3ace262eb0b8aae5e64dc04d16dd0/core/src/main/java/com/beepiz/bluetooth/scancoroutines/experimental/BleScanner.kt#L47\" rel=\"nofollow noreferrer\">there for BLE scanning in Android</a>, so in such cases, you should consume the channel or cancel it manually."}, {"owner": {"reputation": 1339, "user_id": 1359988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/00c331889adb81f68b66cd75734459a6?s=128&d=identicon&r=PG", "display_name": "zjuhasz", "link": "https://stackoverflow.com/users/1359988/zjuhasz"}, "edited": false, "score": 1, "creation_date": 1531814840, "post_id": 43889107, "comment_id": 89724005, "body": "Does this also apply to <code>SubscriptionReceiveChannel</code>s of a <code>BroadcastChannel</code> or does the <code>BroadcastChannel</code> hold a reference to each <code>SubscriptionReceiveChannel</code>? Tried looking through the source but it only made me more confused because I saw there was some removal of <code>SubscriptionReceiveChannel</code>s from Arrays going on.  Sorry if the question is redundant but I am just paranoid about memory leaks."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 2, "creation_date": 1531838830, "post_id": 43889107, "comment_id": 89740651, "body": "It is the same. When you close a broadcast channel it broadcasts the corresponding close toke to all its subscribers."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 34, "last_activity_date": 1494410169, "creation_date": 1494410169, "answer_id": 43889107, "question_id": 43889066, "link": "https://stackoverflow.com/questions/43889066/what-closing-a-kotlinx-coroutines-channel-does/43889107#43889107", "title": "What closing a kotlinx.coroutines channel does", "body": "<p>Closing a channel conceptually works by sending a special \"close token\" over this channel. You close a channel when you have a finite sequence of elements to be processed by consumers and you must signal to the consumers that this sequence is over. You don't have to close a channel otherwise.</p>\n\n<p>Channels are not tied to any native resource and they don't have to be closed to release their memory. Simply dropping all the references to a channel is fine. GC will come to do clean it up.</p>\n"}], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3366, "favorite_count": 3, "answer_count": 1, "score": 30, "last_activity_date": 1552981733, "creation_date": 1494410066, "last_edit_date": 1552981733, "question_id": 43889066, "link": "https://stackoverflow.com/questions/43889066/what-closing-a-kotlinx-coroutines-channel-does", "title": "What closing a kotlinx.coroutines channel does", "body": "<p>What closing a kotlinx.coroutines channel using channel.close() does and what the negative effect of not manually closing channels would be? If I don't manually close a channel will there be some unnecessary processing? Will there be a reference to the channel somewhere that prevents it from being GCd? Or does the close function just exist as a way of informing potential users of the channel that it can no longer be used.</p>\n\n<p>(Question reposted from Kotlin forum <a href=\"https://discuss.kotlinlang.org/t/closing-coroutine-channels/2549\" rel=\"noreferrer\">https://discuss.kotlinlang.org/t/closing-coroutine-channels/2549</a>)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3645, "user_id": 1428743, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bb49917e6f20a72aece3e1918c4710fb?s=128&d=identicon&r=PG", "display_name": "PseudoPsyche", "link": "https://stackoverflow.com/users/1428743/pseudopsyche"}, "edited": false, "score": 0, "creation_date": 1494353539, "post_id": 43876910, "comment_id": 74788842, "body": "What do you mean by &quot;try to cast directly to Int&quot;? I don&#39;t see the code for that here. Are you simply trying to do: <code>value.toInt()</code>? Or are you attempting an explicit cast: <code>(Integer)value</code>?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1494353721, "post_id": 43876910, "comment_id": 74788945, "body": "From the example, it seems like that the <code>var</code> called <code>value</code> sometimes contains a String which happens contain an Int. If this is the case, you have to first cast it to String, and then parse it, for example, with the <code>toInt</code> method, as you already did."}, {"owner": {"reputation": 1171, "user_id": 1050407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G820Y.jpg?s=128&g=1", "display_name": "pablobu", "link": "https://stackoverflow.com/users/1050407/pablobu"}, "reply_to_user": {"reputation": 3645, "user_id": 1428743, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bb49917e6f20a72aece3e1918c4710fb?s=128&d=identicon&r=PG", "display_name": "PseudoPsyche", "link": "https://stackoverflow.com/users/1428743/pseudopsyche"}, "edited": false, "score": 0, "creation_date": 1494355392, "post_id": 43876910, "comment_id": 74789977, "body": "@PseudoPsyche I was attempting do value as Int"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1494427614, "post_id": 43876910, "comment_id": 74825673, "body": "If you do <code>value as? Int</code>, then the result will be safe cast to <code>Int?</code> (if value is <code>Int</code> the result will be the value, otherwise it will be <code>null</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1171, "user_id": 1050407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G820Y.jpg?s=128&g=1", "display_name": "pablobu", "link": "https://stackoverflow.com/users/1050407/pablobu"}, "edited": false, "score": 0, "creation_date": 1494355710, "post_id": 43877447, "comment_id": 74790184, "body": "Thanks for the explanation. value can be a String, an Int or some other data type. That part of my model needs a revision for sure."}, {"owner": {"reputation": 3645, "user_id": 1428743, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bb49917e6f20a72aece3e1918c4710fb?s=128&d=identicon&r=PG", "display_name": "PseudoPsyche", "link": "https://stackoverflow.com/users/1428743/pseudopsyche"}, "reply_to_user": {"reputation": 1171, "user_id": 1050407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G820Y.jpg?s=128&g=1", "display_name": "pablobu", "link": "https://stackoverflow.com/users/1050407/pablobu"}, "edited": false, "score": 1, "creation_date": 1494356002, "post_id": 43877447, "comment_id": 74790355, "body": "@pablobu I updated the answer slightly to reflect what you were doing and to suggest smart casts. If you will be handling multiple data types, smart casts for each accepted type would be the best way to avoid getting into an unexpected state."}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1531490811, "post_id": 43877447, "comment_id": 89629163, "body": "@PseudoPsyche In the same lines, how to convert Any to LinkedTreeMap in Kotlin?"}], "tags": [], "owner": {"reputation": 3645, "user_id": 1428743, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bb49917e6f20a72aece3e1918c4710fb?s=128&d=identicon&r=PG", "display_name": "PseudoPsyche", "link": "https://stackoverflow.com/users/1428743/pseudopsyche"}, "is_accepted": true, "score": 21, "last_activity_date": 1494355802, "last_edit_date": 1494355802, "creation_date": 1494354873, "answer_id": 43877447, "question_id": 43876910, "link": "https://stackoverflow.com/questions/43876910/how-to-convert-any-to-int-in-kotlin/43877447#43877447", "title": "How to convert Any to Int in Kotlin", "body": "<p>The problem is that you were attempting to <em>cast</em> directly from a String to an Int with <code>value as Int</code>.</p>\n\n<p>This isn't working because, as the exception is telling you, <code>value</code> contains a String, and a String cannot be coerced into an Int. The fact that this String represents an integer doesn't matter, as it would need to be parsed into an Int. That precisely is what the <code>toInt()</code> method does.</p>\n\n<p>The reason you must cast to a String first is because <code>toInt()</code> is an extension method on String, and <code>value</code> is of type <code>Any?</code>. This means that you can't call <code>toInt()</code> directly on <code>value</code> because it doesn't know that it contains a String at compile time, even though it does at runtime. If you wanted to skip this step, you could also use smart casts by checking the type first:</p>\n\n<pre><code>if (value is String) {\n    value.toInt()\n}\n</code></pre>\n\n<p>You can find a bit more info on smart casts and other Kotlin type casting here: <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/typecasts.html#smart-casts</a></p>\n\n<p>This also may be pointing to an underlying design problem. You expect that this will <em>sometimes</em> contain an Int, but as we can see here whatever is setting this value in your model is setting it to a String containing that number. Do you expect this value to truly be able to contain many different types, or are you only expect Int and String? If the latter, then it would possibly be a better design decision to make this a String rather than an <code>Any?</code>. That would prevent unexpected/unhandled types from being provided, and make the model less ambiguous to anyone looking at or using it.</p>\n"}, {"comments": [{"owner": {"reputation": 1171, "user_id": 1050407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G820Y.jpg?s=128&g=1", "display_name": "pablobu", "link": "https://stackoverflow.com/users/1050407/pablobu"}, "edited": false, "score": 1, "creation_date": 1556151342, "post_id": 54551560, "comment_id": 98343770, "body": "Correct, but in the case of the question the variable type is Any not String, that&#39;s why we need to check if it is a string first as in @PseudoPsyche answer."}], "tags": [], "owner": {"reputation": 1727, "user_id": 3336639, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Yv3Tg.jpg?s=128&g=1", "display_name": "Jai Prak", "link": "https://stackoverflow.com/users/3336639/jai-prak"}, "is_accepted": false, "score": 0, "last_activity_date": 1549627718, "last_edit_date": 1549627718, "creation_date": 1549449438, "answer_id": 54551560, "question_id": 43876910, "link": "https://stackoverflow.com/questions/43876910/how-to-convert-any-to-int-in-kotlin/54551560#54551560", "title": "How to convert Any to Int in Kotlin", "body": "<p>We can use Kotlin's <code>toInt()</code> or <code>toIntOrNull()</code> method to convert from <strong>String</strong> to <strong>Int</strong> type. For example:</p>\n\n<pre><code>fun giveString(): String {\n    return \"12\"\n}\n\nfun giveInt(): Int {\n    return giveString().toInt()  // here we are casting return type to Int\n}\n</code></pre>\n\n<p>Below we are casting return tye to <code>Int</code> if the string is not convertible, will return <code>null</code></p>\n\n<pre><code>fun giveNullableInt(): Int? {\n    return giveString().toIntOrNull()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 2895920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99c2cf8a1af9d33988a8636c6b3f8801?s=128&d=identicon&r=PG&f=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/2895920/mick"}, "is_accepted": false, "score": 6, "last_activity_date": 1556141041, "creation_date": 1556141041, "answer_id": 55838767, "question_id": 43876910, "link": "https://stackoverflow.com/questions/43876910/how-to-convert-any-to-int-in-kotlin/55838767#55838767", "title": "How to convert Any to Int in Kotlin", "body": "<p>This is the way I do it:</p>\n\n<p><code>val myInt = value as? Int ?: defaultValue</code></p>\n\n<p>This will try to convert value to an int, but if it fails, will use <code>defaultValue</code> instead.</p>\n"}], "owner": {"reputation": 1171, "user_id": 1050407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G820Y.jpg?s=128&g=1", "display_name": "pablobu", "link": "https://stackoverflow.com/users/1050407/pablobu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23290, "favorite_count": 3, "accepted_answer_id": 43877447, "answer_count": 3, "score": 23, "last_activity_date": 1556141041, "creation_date": 1494353044, "last_edit_date": 1520628025, "question_id": 43876910, "link": "https://stackoverflow.com/questions/43876910/how-to-convert-any-to-int-in-kotlin", "title": "How to convert Any to Int in Kotlin", "body": "<p>I have an attribute in my model defined as above that in some cases contain an Int.</p>\n\n<pre><code>var value: Any?\n</code></pre>\n\n<p>I know that I can do it if I cast first to String and then to Int</p>\n\n<pre><code>value.toString().toInt() // works\n</code></pre>\n\n<p>Is there a way of doing it by skipping casting into a String before?\nWhen I try to cast directly to into an Int I get this error</p>\n\n<pre><code>FATAL EXCEPTION: main\njava.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\n</code></pre>\n"}, {"tags": ["android", "rx-java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 749, "user_id": 3483620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be40e928e42b57af7b73ae0fcc758886?s=128&d=identicon&r=PG", "display_name": "TrevJonez", "link": "https://stackoverflow.com/users/3483620/trevjonez"}, "is_accepted": true, "score": 8, "last_activity_date": 1494349095, "creation_date": 1494349095, "answer_id": 43875755, "question_id": 43875168, "link": "https://stackoverflow.com/questions/43875168/any-difference-between-subject-asobservable-and-the-subject-itself-subject/43875755#43875755", "title": "Any difference between &quot;Subject.asObservable()&quot; and the subject itself &quot;Subject&quot;?", "body": "<p>if you look at the implementation of <code>.asObservable</code> you will see it lifts the observable with an operator that does nothing. This effectively just wraps your subject in an observable which makes it impossible for the consuming code to cast it back to a subject.</p>\n\n<p><code>asObservable</code> is a defense mechanism to hide implementation details and not much else.</p>\n"}], "owner": {"reputation": 12683, "user_id": 273119, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6b7f0d7d95b3a1f9547274129582b434?s=128&d=identicon&r=PG", "display_name": "Daniel Gomez Rico", "link": "https://stackoverflow.com/users/273119/daniel-gomez-rico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 0, "accepted_answer_id": 43875755, "answer_count": 1, "score": 4, "last_activity_date": 1494349095, "creation_date": 1494347093, "question_id": 43875168, "link": "https://stackoverflow.com/questions/43875168/any-difference-between-subject-asobservable-and-the-subject-itself-subject", "title": "Any difference between &quot;Subject.asObservable()&quot; and the subject itself &quot;Subject&quot;?", "body": "<p>If a <code>Subject</code> inherit from <code>Observable</code>, whats the difference the next options based on any <code>Subject</code> like:</p>\n\n<pre><code>private val locationSubject: ReplaySubject&lt;Location&gt; = ReplaySubject.create&lt;Location&gt;()\n</code></pre>\n\n<p><strong>1.</strong> Returning a <code>subject</code> itself as <code>Observable</code></p>\n\n<pre><code>fun getLocations(): Observable&lt;Location&gt; = locationSubject\n</code></pre>\n\n<p><strong>2.</strong> Returning <code>subject.asObservable()</code>.</p>\n\n<pre><code>fun getLocations(): Observable&lt;Location&gt; = locationSubject.asObservable()\n</code></pre>\n"}, {"tags": ["java", "android", "orm", "android-sqlite", "kotlin"], "comments": [{"owner": {"reputation": 9311, "user_id": 214525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7684a686e233476c6713ced10a9cef41?s=128&d=identicon&r=PG", "display_name": "f1sh", "link": "https://stackoverflow.com/users/214525/f1sh"}, "edited": false, "score": 0, "creation_date": 1494342816, "post_id": 43873606, "comment_id": 74782323, "body": "Have your tried that?"}, {"owner": {"reputation": 111, "user_id": 6350515, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A82F7ueUUc4/AAAAAAAAAAI/AAAAAAAAAsE/TIPgbHJb-ag/photo.jpg?sz=128", "display_name": "Aran Moncusi Ramirez", "link": "https://stackoverflow.com/users/6350515/aran-moncusi-ramirez"}, "reply_to_user": {"reputation": 9311, "user_id": 214525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7684a686e233476c6713ced10a9cef41?s=128&d=identicon&r=PG", "display_name": "f1sh", "link": "https://stackoverflow.com/users/214525/f1sh"}, "edited": false, "score": 0, "creation_date": 1494342880, "post_id": 43873606, "comment_id": 74782373, "body": "Yes, with GreenDAO and DBFlow, but I can&#39;t use for save objects"}, {"owner": {"reputation": 399, "user_id": 1040716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da2aba397a3958d7ecb6330ac700072?s=128&d=identicon&r=PG", "display_name": "Damodar Periwal", "link": "https://stackoverflow.com/users/1040716/damodar-periwal"}, "edited": false, "score": 1, "creation_date": 1494348433, "post_id": 43873606, "comment_id": 74786025, "body": "You may try JDXA ORM for Android. It does not require annotations or inheritance from a base class for model classes."}], "owner": {"reputation": 111, "user_id": 6350515, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A82F7ueUUc4/AAAAAAAAAAI/AAAAAAAAAsE/TIPgbHJb-ag/photo.jpg?sz=128", "display_name": "Aran Moncusi Ramirez", "link": "https://stackoverflow.com/users/6350515/aran-moncusi-ramirez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1494342754, "creation_date": 1494342754, "question_id": 43873606, "link": "https://stackoverflow.com/questions/43873606/save-third-party-object-in-orm", "title": "Save third-party object in ORM", "body": "<p>I'm taking objects from REST api and work with this objects using a third-party library (contains the object data and methods for work with these). I needed save objects using an ORM (many objects to manage), but can't add annotations for use in any ORM. Can extends object, but I can't use a other class with same fields.</p>\n\n<p>How do persist objects in sqlite without annotation in android? I'ts possible extends object and override fields for add annotations?</p>\n\n<p>I'm develop with kotlin and java in same project.</p>\n"}, {"tags": ["javascript", "java", "web-scraping", "kotlin", "htmlunit"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7986316, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NHlxwNybJ-A/AAAAAAAAAAI/AAAAAAAAH2w/0J5-a7ZHgz0/photo.jpg?sz=128", "display_name": "Ilya", "link": "https://stackoverflow.com/users/7986316/ilya"}, "edited": false, "score": 0, "creation_date": 1509532144, "post_id": 47026658, "comment_id": 81052370, "body": "Thank you, I know that it is SPA. But HtmlUnit can handle JS requests and it actually works on some SPAs. Looks like I&#39;ve used waiting for JS execution in wrong way"}], "tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": false, "score": 0, "last_activity_date": 1509413712, "creation_date": 1509413712, "answer_id": 47026658, "question_id": 43871224, "link": "https://stackoverflow.com/questions/43871224/what-stops-htmlunit-from-loading-psn-store-page/47026658#47026658", "title": "What stops HtmlUnit from loading PSN store page?", "body": "<p>This is called an SPA - <a href=\"https://en.wikipedia.org/wiki/Single-page_application\" rel=\"nofollow noreferrer\">Single Page Application</a>. Generally, SPAs have only basic markup, a container and the whole UI is rendered dynamically with frameworks like <a href=\"https://reactjs.org/\" rel=\"nofollow noreferrer\">React</a> or <a href=\"https://angular.io/\" rel=\"nofollow noreferrer\">Angular</a>.</p>\n\n<p>After stripping scripts and styles from the <a href=\"https://store.playstation.com\" rel=\"nofollow noreferrer\">https://store.playstation.com</a> what is left is:</p>\n\n<pre><code>&lt;div id=\"waitAppLoading\"&gt;\n  &lt;div class=\"waitHorizon\"&gt;\n    &lt;div class=\"centerBox\"&gt;\n      &lt;div class=\"logoCtnr\"&gt;&lt;/div&gt;\n      &lt;div class=\"textBox\"&gt;&lt;div class=\"spinCtnr\"&gt;&lt;/div&gt;&lt;div id=\"appLoadingMsg\"&gt;&lt;/div&gt;&lt;/div&gt;\n      &lt;div class=\"startupErr\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"appRoot\" class=\"hidden\"&gt;&lt;/div&gt;\n&lt;div id=\"lockdownScreen\"&gt;&lt;/div&gt;\n&lt;div id=\"global-wait\"&gt;\n  &lt;div class=\"waitHorizon\"&gt;\n    &lt;div class=\"waitContainer\"&gt;\n      &lt;div class=\"sq1\"&gt;&lt;/div&gt;\n      &lt;div class=\"sq2\"&gt;&lt;/div&gt;\n      &lt;div class=\"sq3\"&gt;&lt;/div&gt;\n      &lt;div class=\"sq4\"&gt;&lt;/div&gt;\n      &lt;div class=\"sq5\"&gt;&lt;/div&gt;\n      &lt;div class=\"sq6\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div id=\"global-ps-loader\"&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"notifierCtnr\" class=\"mainCol\"&gt;&lt;div id=\"notifier-box\"&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;div id=\"storeNotAvail\"&gt;&lt;/div&gt;\n&lt;div class=\"dimToolEl dimToolElProdTitle\"&gt;&lt;/div&gt;\n&lt;div class=\"dimToolEl dimToolElProdSubTitle\"&gt;&lt;/div&gt;\n&lt;div id=\"transact-iframe-container\"&gt;\n  &lt;iframe id=\"transact-iframe\"&gt;&lt;/iframe&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>As you see, there is no content here, only wireframe for the app. The web client does not fully simulates browser, and does not execute that scripts. That's why you see an empty page.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 7986316, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NHlxwNybJ-A/AAAAAAAAAAI/AAAAAAAAH2w/0J5-a7ZHgz0/photo.jpg?sz=128", "display_name": "Ilya", "link": "https://stackoverflow.com/users/7986316/ilya"}, "edited": false, "score": 0, "creation_date": 1509531980, "post_id": 47033868, "comment_id": 81052275, "body": "Oh! So those methods should be called instead Thread.sleep(). Then, may be it will help to get over &quot;Loading&quot; screen. Will try that, thanks"}], "tags": [], "owner": {"reputation": 1911, "user_id": 4804091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd133399db10461619cf7895f7876ab?s=128&d=identicon&r=PG", "display_name": "RBRi", "link": "https://stackoverflow.com/users/4804091/rbri"}, "is_accepted": false, "score": 0, "last_activity_date": 1509448343, "last_edit_date": 1509448343, "creation_date": 1509447948, "answer_id": 47033868, "question_id": 43871224, "link": "https://stackoverflow.com/questions/43871224/what-stops-htmlunit-from-loading-psn-store-page/47033868#47033868", "title": "What stops HtmlUnit from loading PSN store page?", "body": "<p>At least this java code works here. I got the language selection dialog like in real FF.\nI'm using the latest HtmlUnit code. This is in general a good idea.</p>\n\n<pre><code>    String url = \"https://store.playstation.com/\";\n\n    try (final WebClient webClient = new WebClient(BrowserVersion.FIREFOX_52)) {\n        final HtmlPage page = webClient.getPage(url);\n        webClient.waitForBackgroundJavaScript(1000 * 10);\n\n        System.out.println(\"----------------\");\n        System.out.println(page.asText());\n        System.out.println(\"----------------\");\n\n        HtmlElement btn = page.querySelector(\".btn\");\n        System.out.println(btn.asXml());\n        System.out.println(\"----------------\");\n    }\n</code></pre>\n\n<p>And please remove the calls</p>\n\n<pre><code>    waitForBackgroundJavaScript(10000)\n    waitForBackgroundJavaScriptStartingBefore(10000)\n</code></pre>\n\n<p>from your setup code. These methods are NOT setting any options; they are doing the wait at execution time. </p>\n"}], "owner": {"reputation": 21, "user_id": 7986316, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NHlxwNybJ-A/AAAAAAAAAAI/AAAAAAAAH2w/0J5-a7ZHgz0/photo.jpg?sz=128", "display_name": "Ilya", "link": "https://stackoverflow.com/users/7986316/ilya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1509448343, "creation_date": 1494336511, "question_id": 43871224, "link": "https://stackoverflow.com/questions/43871224/what-stops-htmlunit-from-loading-psn-store-page", "title": "What stops HtmlUnit from loading PSN store page?", "body": "<p>I'm trying to load Playstation Store page with HtmlUnit, but looks like everything that it loads is blank page with \"Loading...\" text (and a bit of javascript).\nI used following configuration to make HtmlUnit work, but hopelessly (its kotlin):</p>\n\n<pre><code>@Test\n@Throws(Exception::class)\nfun homePage() {\n    val webClient = WebClient(BrowserVersion.INTERNET_EXPLORER).apply {\n        ajaxController = NicelyResynchronizingAjaxController()\n        options.isUseInsecureSSL = true\n        options.isThrowExceptionOnScriptError = false\n        options.isJavaScriptEnabled = true\n        options.isCssEnabled = true\n        options.isRedirectEnabled = true\n        options.isThrowExceptionOnFailingStatusCode = false\n        options.isUseInsecureSSL = true\n        options.isDownloadImages = true\n        cookieManager.isCookiesEnabled = true\n        waitForBackgroundJavaScript(10000)\n        waitForBackgroundJavaScriptStartingBefore(10000)\n    }\n\n    val page = webClient.getPage&lt;HtmlPage&gt;(\"https://store.playstation.com/\")\n    Thread.sleep(10000)\n    assertFalse(page.asXml().contains(\"Loading\"))\n}\n</code></pre>\n\n<p>I don't see any specific errors during loading the page:</p>\n\n<pre><code>\u043c\u0430\u044f 09, 2017 4:08:22 PM com.gargoylesoftware.htmlunit.html.HtmlScript isExecutionNeeded\nWARNING: Script is not JavaScript (type: application/json, language: ). Skipping execution.\n\u043c\u0430\u044f 09, 2017 4:08:22 PM com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController processSynchron\nINFO: Re-synchronized call to https://sonynetworkentertainment.112.2o7.net/b/ss/snestorewebloadglobal/1/chidv1/s75296982536092?AQB=1&amp;ndh=1&amp;t=9%2F5%2F2017%2016%3A8%3A22%202%20-180&amp;ts=1494335302&amp;vid=c61f4752-adfd-84d1-728c-187350f9aa37&amp;pageName=web%3Aloading_start&amp;v1=D%3DpageName&amp;g=https%3A%2F%2Fstore.playstation.com%2F&amp;r=&amp;v2=xx-xx&amp;ch=web%3Aloading_start&amp;c68=D%3Dg&amp;c72=web&amp;v72=web&amp;cc=USD&amp;ce=UTF-8&amp;server=web&amp;events=event1&amp;AQE=1\n\u043c\u0430\u044f 09, 2017 4:08:22 PM com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController processSynchron\nINFO: Re-synchronized call to https://store.playstation.com/kamaji/api/chihiro/00_09_000/geo\n</code></pre>\n\n<p>The question is: what stops HtmlUnit from loading the page? I tried to figure it myself, but the only idea I came is that it could be some kind of defense against headless browsers or very heavy JS that HtmlUnit doesn't support. But for example </p>\n\n<blockquote>\n  <p><a href=\"https://account.sonyentertainmentnetwork.com\" rel=\"nofollow noreferrer\">https://account.sonyentertainmentnetwork.com</a></p>\n</blockquote>\n\n<p>can be opened without any trouble.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 7, "creation_date": 1494280501, "post_id": 43857824, "comment_id": 74751479, "body": "<a href=\"https://kotlinlang.org/docs/reference/classes.html#companion-objects\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html#companion-objects</a>&zwnj;&#8203;. But that looks awful to me. Why do you want to use a mutable static field (bad practice already), and modify it each time you construct an instance of Foo? What are you trying to achieve?"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 3, "creation_date": 1494337024, "post_id": 43857824, "comment_id": 74777897, "body": "If you want to create a singleton, check out <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>."}], "answers": [{"comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 12, "creation_date": 1508299073, "post_id": 43857895, "comment_id": 80551842, "body": "The use of <code>companion object</code> to declare an <code>instance</code> field is a boilerplate that is taken care by the Kotlin compiler automatically if you simply declare <code>Foo</code> as an <code>object Foo { ... }</code>"}], "tags": [], "owner": {"reputation": 6154, "user_id": 1392623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55zGA.jpg?s=128&g=1", "display_name": "Eduard B.", "link": "https://stackoverflow.com/users/1392623/eduard-b"}, "is_accepted": true, "score": 133, "last_activity_date": 1494312878, "last_edit_date": 1494312878, "creation_date": 1494280717, "answer_id": 43857895, "question_id": 43857824, "link": "https://stackoverflow.com/questions/43857824/kotlin-static-methods-and-variables/43857895#43857895", "title": "Kotlin static methods and variables", "body": "<p>The closest thing to Java's static fields is a companion object. You can find the documentation reference for them here: <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects</a></p>\n\n<p>Your code in Kotlin would look something like this:</p>\n\n<pre><code>class Foo {\n\n    companion object {\n        lateinit var instance: Foo\n    }\n\n    init {\n        instance = this\n    }\n\n}\n</code></pre>\n\n<p>If you want your fields/methods to be exposed as static to Java callers, you can apply the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-static/\" rel=\"noreferrer\"><code>@JvmStatic</code></a> annotation:</p>\n\n<pre><code>class Foo {\n\n    companion object {\n        @JvmStatic lateinit var instance: Foo\n    }\n\n    init {\n        instance = this\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 498, "user_id": 6164819, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NJ0M1AzemT8/AAAAAAAAAAI/AAAAAAAAABc/URQP5QUxzjg/photo.jpg?sz=128", "display_name": "rakesh rajput", "link": "https://stackoverflow.com/users/6164819/rakesh-rajput"}, "is_accepted": false, "score": 8, "last_activity_date": 1502993215, "last_edit_date": 1502993215, "creation_date": 1498735696, "answer_id": 44823868, "question_id": 43857824, "link": "https://stackoverflow.com/questions/43857824/kotlin-static-methods-and-variables/44823868#44823868", "title": "Kotlin static methods and variables", "body": "<p>first you create a simple class then after create a block followed by companion object keyword</p>\n\n<p>for example: </p>\n\n<pre><code>class Test{\n\n    companion object{\n\n        fun  getValue(): String{\n\n           return \"Test String\"\n\n        }\n    }\n}\n</code></pre>\n\n<p>you can call this class function using class name dot function name </p>\n\n<p>for example:</p>\n\n<pre><code>// here you will get the function value\nTest.getValue() \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 496, "user_id": 1102761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTyHf.jpg?s=128&g=1", "display_name": "jtonic", "link": "https://stackoverflow.com/users/1102761/jtonic"}, "is_accepted": false, "score": 2, "last_activity_date": 1598962936, "last_edit_date": 1598962936, "creation_date": 1508268340, "answer_id": 46797741, "question_id": 43857824, "link": "https://stackoverflow.com/questions/43857824/kotlin-static-methods-and-variables/46797741#46797741", "title": "Kotlin static methods and variables", "body": "<p>You can create a companion object for the class, and if you want the field to be <code>static</code> you can use the annotation @JvmStatic. Companion object have access to private members of the class it is companion for.</p>\n<p>See below an example:</p>\n<pre><code>class User {\n    private lateinit var name: String\n\n    override fun toString() = name\n\n    companion object {\n        @JvmStatic\n        val instance by lazy {\n            User().apply { name = &quot;jtonic&quot; }\n        }\n    }\n}\n\nclass CompanionTest {\n\n    @Test\n    fun `test companion object`() {\n        User.instance.toString() shouldBe &quot;jtonic&quot;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "edited": false, "score": 0, "creation_date": 1579999613, "post_id": 46802549, "comment_id": 105954240, "body": "This is the much better solution, however, for my use case I needed a class because it needed to be able to be created by a Java class loader."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 49, "last_activity_date": 1508298950, "creation_date": 1508298950, "answer_id": 46802549, "question_id": 43857824, "link": "https://stackoverflow.com/questions/43857824/kotlin-static-methods-and-variables/46802549#46802549", "title": "Kotlin static methods and variables", "body": "<p>It looks that you want to define a singleton object. It is supported in Kotlin as a first-class concept:</p>\n\n<pre><code>object Foo {\n  ... \n}\n</code></pre>\n\n<p>All the boilerplate code with static field and constructor is taken care by the Kotlin automatically. You don't have to write any of that. </p>\n\n<p>From the Kotlin code you can refer to the instance of this object simply as <code>Foo</code>. From the Java code you can referer to the instance of this object as <code>Foo.INSTANCE</code>, because the Kotlin compiler automatically creates the corresponding static field named <code>INSTANCE</code>.</p>\n"}], "owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91034, "favorite_count": 8, "accepted_answer_id": 43857895, "answer_count": 4, "score": 90, "last_activity_date": 1598962936, "creation_date": 1494280337, "question_id": 43857824, "link": "https://stackoverflow.com/questions/43857824/kotlin-static-methods-and-variables", "title": "Kotlin static methods and variables", "body": "<p>I want to be able to save a class instance to a public static variable but I can't figure out how to do this in Kotlin.</p>\n\n<pre><code>class Foo {\n\n    public static Foo instance;\n    public Foo() {\n        instance = this;\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "edited": false, "score": 0, "creation_date": 1494272716, "post_id": 43856012, "comment_id": 74747832, "body": "Could you post the stack trace"}, {"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "reply_to_user": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "edited": false, "score": 0, "creation_date": 1494272865, "post_id": 43856012, "comment_id": 74747914, "body": "sure can @Graham"}, {"owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "edited": false, "score": 0, "creation_date": 1494273102, "post_id": 43856012, "comment_id": 74748033, "body": "What is the name of your class? Or possibly post it if it isn&#39;t too long."}, {"owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "edited": false, "score": 0, "creation_date": 1494273305, "post_id": 43856012, "comment_id": 74748143, "body": "If the class is called UHC please post that, and post the Game class as well."}, {"owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "edited": false, "score": 0, "creation_date": 1494273676, "post_id": 43856012, "comment_id": 74748321, "body": "Also the GamesSettingManager please"}, {"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "reply_to_user": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "edited": false, "score": 0, "creation_date": 1494274193, "post_id": 43856012, "comment_id": 74748635, "body": "@Graham There you go"}], "answers": [{"comments": [{"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "edited": false, "score": 0, "creation_date": 1494274711, "post_id": 43856550, "comment_id": 74748897, "body": "<code>Core.instance</code> is not null and everything being passed into the add game is in the <code>init</code> of <code>GameSettingsManager</code> so I don&#39;t think any of those are null either. Originally I was registering the Listener of the game settings on the <code>init</code> of them but that also threw a <code>NullPointer</code>"}, {"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "edited": false, "score": 0, "creation_date": 1494274848, "post_id": 43856550, "comment_id": 74748973, "body": "Also all of this code worked before when I was just using Java."}], "tags": [], "owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "is_accepted": true, "score": 1, "last_activity_date": 1494276217, "last_edit_date": 1494276217, "creation_date": 1494274420, "answer_id": 43856550, "question_id": 43856012, "link": "https://stackoverflow.com/questions/43856012/kotlin-cant-use-this-on-init/43856550#43856550", "title": "Kotlin can&#39;t use &#39;this&#39; on init", "body": "<p>On line 43 of the <code>GameSettingsManager</code>:</p>\n\n<pre><code>fun addGameSettings(vararg gameSettings: GameSetting) {\n    this.gameSettings.addAll(Arrays.asList(*gameSettings))\n    for(setting in gameSettings) //line 43 is the one below this\n      Bukkit.getPluginManager().registerEvents(setting as Listener, Core.instance)\n}\n</code></pre>\n\n<p>One of your <code>setting</code> objects that is being passed into <code>Bukkit.getPluginManager()</code> is <code>null</code>.</p>\n\n<p>Or <code>Core.Instance</code> is <code>null</code>.</p>\n\n<p>One other possibility is that the object being returned by <code>getPluginManager()</code> has an unitialized variable inside it that is being referenced in the <code>registerEvents()</code> function.</p>\n\n<p>But the most likely case is that one of your <code>setting</code> objects is null or <code>Core.Instance</code> is null.</p>\n\n<p><strong>Edit</strong></p>\n\n<p><a href=\"https://github.com/Bukkit/Bukkit/blob/master/src/main/java/org/bukkit/plugin/SimplePluginManager.java\" rel=\"nofollow noreferrer\">https://github.com/Bukkit/Bukkit/blob/master/src/main/java/org/bukkit/plugin/SimplePluginManager.java</a></p>\n\n<p>Here is the <code>registerEvents()</code> function from the <code>SimplePluginManager</code> in the bukkit library that gets run:</p>\n\n<pre><code>public void registerEvents(Listener listener, Plugin plugin) {\n  if (!plugin.isEnabled()) {\n    //the next line is 523\n    throw new IllegalPluginAccessException(\"Plugin attempted to register \" + listener + \" while not enabled\");\n  }\n\n  for (Map.Entry&lt;Class&lt;? extends Event&gt;, Set&lt;RegisteredListener&gt;&gt; entry : plugin.getPluginLoader().createRegisteredListeners(listener, plugin).entrySet()) {\n    getEventListeners(getRegistrationClass(entry.getKey())).registerAll(entry.getValue());\n  }\n\n}\n</code></pre>\n\n<p>According to your stack trace line 523 is the one throwing the <code>null</code> pointer exception. So something there is <code>null</code>. The listener variable is coming from your gameSettings array though.</p>\n\n<p>Looking at your code there really shouldn't be a <code>null</code> in that gameSettings <code>varargs</code> array. But the function that throws the error is saying otherwise. It would be a good idea to debug to that location or do a <code>println</code> as your looping through the gameSettings array to verify that none of it is null.</p>\n"}], "owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 43856550, "answer_count": 1, "score": 2, "last_activity_date": 1494276217, "creation_date": 1494272332, "last_edit_date": 1494273862, "question_id": 43856012, "link": "https://stackoverflow.com/questions/43856012/kotlin-cant-use-this-on-init", "title": "Kotlin can&#39;t use &#39;this&#39; on init", "body": "<p>I want <code>game</code> to be set to a new instance of <code>Game</code> and I want to pass <code>this</code> into game. SO this is what I have.</p>\n\n<pre><code>var game: Game\n\ninit {\n    game = Game(this)\n}\n</code></pre>\n\n<p>I have also tried</p>\n\n<pre><code>var game: Game = Game(this)\n</code></pre>\n\n<p>both threw a <code>NullPointer</code> at run time but it seems fine in Intellij and has no problem compiling. What am I doing wrong?</p>\n\n<p><em>Stack Trace</em></p>\n\n<pre><code>org.bukkit.plugin.InvalidPluginException: java.lang.NullPointerException\nat org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:135) ~[server.jar:git-Spigot-21fe707-e1ebe52]\nat org.bukkit.plugin.SimplePluginManager.loadPlugin(SimplePluginManager.java:329) ~[server.jar:git-Spigot-21fe707-e1ebe52]\nat org.bukkit.plugin.SimplePluginManager.loadPlugins(SimplePluginManager.java:251) [server.jar:git-Spigot-21fe707-e1ebe52]\nat org.bukkit.craftbukkit.v1_8_R3.CraftServer.loadPlugins(CraftServer.java:292) [server.jar:git-Spigot-21fe707-e1ebe52]\nat net.minecraft.server.v1_8_R3.DedicatedServer.init(DedicatedServer.java:198) [server.jar:git-Spigot-21fe707-e1ebe52]\nat net.minecraft.server.v1_8_R3.MinecraftServer.run(MinecraftServer.java:525) [server.jar:git-Spigot-21fe707-e1ebe52]\nat java.lang.Thread.run(Thread.java:745) [?:1.8.0_121]\nCaused by: java.lang.NullPointerException\nat org.bukkit.plugin.SimplePluginManager.registerEvents(SimplePluginManager.java:523) ~[server.jar:git-Spigot-21fe707-e1ebe52]\nat me.darkpaladin.uhc.game.gameSettings.GameSettingsManager.addGameSettings(GameSettingsManager.kt:43) ~[?:?]\nat me.darkpaladin.uhc.game.gameSettings.GameSettingsManager.&lt;init&gt;(GameSettingsManager.kt:20) ~[?:?]\nat me.darkpaladin.uhc.game.Game.&lt;init&gt;(Game.kt:49) ~[?:?]\nat me.darkpaladin.uhc.UHC.&lt;init&gt;(UHC.kt:20) ~[?:?]\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_121]\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_121]\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_121]\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_121]\nat java.lang.Class.newInstance(Class.java:442) ~[?:1.8.0_121]\nat org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:76) ~[server.jar:git-Spigot-21fe707-e1ebe52]\nat org.bukkit.plugin.java.JavaPluginLoader.loadPlugin(JavaPluginLoader.java:131) ~[server.jar:git-Spigot-21fe707-e1ebe52]\n... 6 more\n</code></pre>\n\n<p><em>UHC Class</em></p>\n\n<pre><code>var game: Game\n\ninit {\n    game = Game(this)\n}\n\noverride fun onReady() {\n    //        new Lobby(Bukkit.getWorld(\"world\"), this, false);\n    TeamManager()\n    registerCommands()\n}\n\nfun registerCommands() {\n    val c = commandHandler\n    c.addCommand(\n            TeamCommand(),\n            SetGameTypeCommand(game),\n            ClaimHostCommand(game),\n            StartGameCommand(game),\n            ScenarioManagerCommand(game),\n            KillTopCommand(game),\n            ConfigCommand(game),\n            ScatterCommand(game)\n    )\n}\n\nfun registerListeners() {\n    val p = Bukkit.getPluginManager()\n    p.registerEvents(GamePlayerListener(game), this)\n}\n</code></pre>\n\n<p><em>Game Class</em></p>\n\n<pre><code>package me.darkpaladin.uhc.game\n\nimport me.darkpaladin.core.Core\nimport me.darkpaladin.core.utils.CoreUtils\nimport me.darkpaladin.core.utils.PacketUtils\nimport me.darkpaladin.uhc.UHC\nimport me.darkpaladin.uhc.events.GameStartEvent\nimport me.darkpaladin.uhc.events.GameStopEvent\nimport me.darkpaladin.uhc.game.gameEvents.GameEvent\nimport me.darkpaladin.uhc.game.gameEvents.GameEventRunnable\nimport me.darkpaladin.uhc.game.gamePlayers.GamePlayer\nimport me.darkpaladin.uhc.game.gamePlayers.GamePlayerManager\nimport me.darkpaladin.uhc.game.gameSettings.GameSettingsManager\nimport me.darkpaladin.uhc.scenarios.ScenarioManager\nimport org.apache.commons.lang.WordUtils\nimport org.bukkit.*\nimport org.bukkit.entity.Item\nimport org.bukkit.entity.Monster\nimport org.bukkit.entity.Player\nimport org.bukkit.scheduler.BukkitRunnable\n\nimport java.util.*\n\n/**\n * Created by Caleb on 4/28/2017.\n */\nclass Game(private val plugin: UHC) {\n\n    var gameType = GameType.NORMAL\n    var gameState = GameState.SETTING_UP\n    var gameStartTicks = (CoreUtils.ticksPerSecond * 10).toLong()\n    var finalHealTime = (CoreUtils.ticksPerSecond * 15).toLong()\n    var pvpTicks = (CoreUtils.ticksPerSecond * 20).toLong()\n    var meetupTicks = (CoreUtils.ticksPerSecond * 25).toLong()\n    var isBorderShrink = true\n    var episodeLength = (CoreUtils.ticksPerMinute * 20).toLong()\n    private var episode = 1\n\n    private val worlds = ArrayList&lt;World&gt;()\n\n    private val gameEvents = ArrayList&lt;GameEvent&gt;()\n\n    var gameTicks: Long = 0L\n\n    var hostUuid: UUID? = null\n\n    val scenarioManager: ScenarioManager = ScenarioManager(this)\n    val gamePlayerManager: GamePlayerManager = GamePlayerManager()\n    val gameSettingsManager: GameSettingsManager = GameSettingsManager(this)\n\n    private val instance: Game\n\n    init {\n        worlds.add(Bukkit.getWorld(\"world\")) //TODO: remove\n        instance = this\n    }\n\n    val overworld: World?\n        get() = getWorldWithEnvironment(World.Environment.NORMAL)\n\n    val nether: World?\n        get() = getWorldWithEnvironment(World.Environment.NETHER)\n\n    val end: World?\n        get() = getWorldWithEnvironment(World.Environment.THE_END)\n\n    fun getWorldWithEnvironment(environment: World.Environment): World? {\n        return worlds.firstOrNull { it.environment == environment }\n    }\n\n    fun addGameEvent(vararg events: GameEvent) {\n        gameEvents.addAll(Arrays.asList(*events))\n    }\n\n    val host: Player\n        get() = Bukkit.getPlayer(hostUuid)\n\n    fun start() {\n        gameState = GameState.STARTING\n\n        val finalHeal = GameEvent(\"Final Heal\", finalHealTime, object : GameEventRunnable(this) {\n            override fun run() {\n                Bukkit.getOnlinePlayers().forEach { player -&gt; player.health = player.maxHealth }\n                CoreUtils.broadcast(Core.PREFIX + \"Final Heal has been given. This is the FINAL heal. Do not ask for more.\")\n            }\n        })\n\n        val pvp = GameEvent(\"PvP\", pvpTicks, object : GameEventRunnable(this) {\n            override fun run() {\n                for (world in worlds) {\n                    world.pvp = true\n                    world.setGameRuleValue(\"doMobSpawning\", \"true\")\n                }\n            }\n        })\n\n        val starting = GameEvent(\"Starting in\", gameStartTicks, object : GameEventRunnable(this) {\n            override fun run() {\n                gameTicks = 0L\n                addGameEvent(finalHeal, pvp)\n                if (isBorderShrink)\n                    addGameEvent(BorderShrinkGameEvent(meetupTicks, instance))\n\n                for (player in Bukkit.getOnlinePlayers()) {\n                    player.health = player.maxHealth\n                    player.foodLevel = 20\n                    player.saturation = 20f\n                    player.level = 0\n                    player.exp = 0f\n                    player.totalExperience = 0\n                    player.closeInventory()\n                    player.inventory.clear()\n                    player.inventory.armorContents = null\n                    player.gameMode = GameMode.SURVIVAL\n                    player.activePotionEffects.forEach { potionEffect -&gt; player.removePotionEffect(potionEffect.type) }\n                }\n\n                for (world in worlds) {\n                    for (entity in world.entities) {\n                        if (entity is Item || entity is Monster) {\n                            entity.remove()\n                        }\n                    }\n                    world.pvp = false\n                    world.difficulty = Difficulty.HARD\n                    world.time = 20\n                    world.setSpawnFlags(false, false)\n                }\n\n                Bukkit.getOnlinePlayers().forEach { player -&gt; gamePlayerManager.addGamePlayers(GamePlayer(player.uniqueId)) }\n\n                val players = ArrayList&lt;Player&gt;()\n                gamePlayerManager.aliveGamePlayers\n                        .filter { gamePlayer -&gt; gamePlayer.player != null }\n                        .forEach { gamePlayer -&gt; players.add(gamePlayer.player) }\n\n                scenarioManager.giveStartingItems(players)\n\n                gameState = GameState.RUNNING\n                Bukkit.getPluginManager().callEvent(GameStartEvent(instance))\n\n            }\n        })\n\n        addGameEvent(starting)\n\n        GameTimer().runTaskTimer(plugin, 0, 1)\n        if (gameType === GameType.RECORDED)\n            EpisodeTimerTask()\n    }\n\n    val nextEvent: GameEvent?\n        get() {\n            val events = gameEvents\n\n            val times = HashMap&lt;GameEvent, Long&gt;()\n\n            events.forEach { gameEvent -&gt; times.put(gameEvent, gameEvent.time) }\n\n            var nextEvent: GameEvent? = null\n            var nextEventTime: Long = 999999999999999999L\n            for (event in times.keys) {\n                if (event.time &lt; nextEventTime) {\n                    nextEvent = event\n                    nextEventTime = event.time\n                }\n            }\n            return nextEvent\n        }\n\n    fun getNextBorderRadius(world: World): Int {\n        return Math.round(world.worldBorder.size / 2 * .75).toInt()\n    }\n\n    private inner class GameTimer : BukkitRunnable() {\n        override fun run() {\n\n            val nextEvent = nextEvent\n\n            if (nextEvent != null) {\n                if (gameTicks!! % 20 == 0L) {\n                    PacketUtils.sendAction(Core.HIGHLIGHTED_COLOR.toString() + ChatColor.BOLD.toString() + WordUtils.capitalizeFully(nextEvent.name) + Core.EXTRA_COLOR + \" \u00bb \" + Core.HIGHLIGHTED_COLOR + CoreUtils.formatTicks(nextEvent.time - gameTicks!!))\n                }\n\n                if (gameTicks &gt;= nextEvent.time) {\n                    nextEvent.runnable!!.run()\n                    gameEvents.remove(nextEvent)\n                }\n            }\n\n            gameTicks++\n\n        }\n    }\n\n    private inner class BorderShrinkGameEvent(time: Long, game: Game) : GameEvent(\"Border Shrink\", time, object : GameEventRunnable(game) {\n        override fun run() {\n            for (world in worlds) {\n                val wb = world.worldBorder\n\n                val radius = Math.round(wb.size / 2).toInt()\n                val newRadius = Math.round(wb.size / 2 * .75).toInt()\n\n                if (newRadius &lt; 50)\n                    wb.size = 100.0\n                else\n                    wb.size = (newRadius * 2).toDouble()\n\n                CoreUtils.broadcast(Core.PREFIX + \"The border has shrunk from \" + radius + \" to \" + Math.round(wb.size / 2).toInt() + \"!\")\n\n                if (wb.size &gt; 100) {\n                    game.addGameEvent(BorderShrinkGameEvent(CoreUtils.ticksPerSecond * 5 + game.gameTicks!!, game))\n                }\n\n            }\n        }\n    })\n\n    private inner class EpisodeTimerTask : BukkitRunnable() {\n\n        private var ticks: Long = 0\n\n        init {\n            ticks = episodeLength\n        }\n\n        override fun run() {\n\n            if (ticks &lt;= 0) {\n                cancel()\n\n                CoreUtils.broadcast(Core.PREFIX + \"End of episode \" + episode + \". Start episode \" + episode + 1)\n                episode++\n                return\n            }\n\n            ticks--\n        }\n    }\n\n    fun stop() {\n        scenarioManager.disableAll()\n        Bukkit.getPluginManager().callEvent(GameStopEvent(this))\n\n        plugin.game = Game(plugin)\n    }\n\n}\n</code></pre>\n\n<p><em>Game Setting Manager</em></p>\n\n<pre><code>package me.darkpaladin.uhc.game.gameSettings\n\nimport me.darkpaladin.core.Core\nimport me.darkpaladin.uhc.game.Game\nimport org.bukkit.Bukkit\nimport org.bukkit.event.Listener\n\nimport java.util.ArrayList\nimport java.util.Arrays\nimport java.util.stream.Collectors\n\n/**\n * Created by caleb on 5/6/17.\n */\nclass GameSettingsManager(game: Game) {\n\n    private val gameSettings = ArrayList&lt;GameSetting&gt;()\n\n    init {\n        addGameSettings(\n                FriendlyFireGameSetting(game),\n                NotchApplesGameSetting(),\n                DoubleArrowsGameSetting()\n        )\n    }\n\n    fun getGameSettings(): List&lt;GameSetting&gt; {\n        return gameSettings\n    }\n\n    val toggleableGameSettings: List&lt;ToggleableGameSetting&gt;\n        get() {\n            val settings = ArrayList&lt;ToggleableGameSetting&gt;()\n            for (setting in getGameSettings())\n                if (setting is ToggleableGameSetting)\n                    settings.add(setting)\n            return settings\n        }\n\n    fun addGameSettings(vararg gameSettings: GameSetting) {\n        this.gameSettings.addAll(Arrays.asList(*gameSettings))\n        for(setting in gameSettings)\n            Bukkit.getPluginManager().registerEvents(setting as Listener, Core.instance)\n    }\n\n    fun getGameSetting(name: String): GameSetting {\n        return gameSettings.stream()\n                .filter { gameSetting -&gt; gameSetting.name.equals(name, ignoreCase = true) }\n                .collect(Collectors.toList&lt;GameSetting&gt;())[0]\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kdoc"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 13, "last_activity_date": 1494310750, "creation_date": 1494310750, "answer_id": 43862449, "question_id": 43855908, "link": "https://stackoverflow.com/questions/43855908/can-i-reference-a-specific-function-overload/43862449#43862449", "title": "Can I reference a specific function overload?", "body": "<p>At this time you can't. Dokka generates all overloads of a function on a single page, and the link points to that page, so you can simply specify the overload you need as text: \"the one-argument overload of [example]\".</p>\n\n<p>There is an <a href=\"https://youtrack.jetbrains.com/issue/KT-15984\" rel=\"noreferrer\">open issue</a> for adding the possibility to link to a specific overload, but we aren't too happy with the proposed syntax, so we don't have a definite plan to support this.</p>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 0, "accepted_answer_id": 43862449, "answer_count": 1, "score": 15, "last_activity_date": 1494310750, "creation_date": 1494271970, "question_id": 43855908, "link": "https://stackoverflow.com/questions/43855908/can-i-reference-a-specific-function-overload", "title": "Can I reference a specific function overload?", "body": "<p>Given the following code</p>\n\n<pre><code>fun example() {}\n\nfun example(name: String) {}\n</code></pre>\n\n<p>How can I reference a specific function? I.e. <code>example()</code> or <code>example(String)</code>?</p>\n\n<p>Using <code>[example]</code> I can't specify which exactly function I want.</p>\n"}, {"tags": ["kotlin", "kdoc", "kotlin-dokka"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 3887321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0092be8e7a926ead4c4a818ea622858?s=128&d=identicon&r=PG", "display_name": "asvid", "link": "https://stackoverflow.com/users/3887321/asvid"}, "is_accepted": false, "score": 2, "last_activity_date": 1541967391, "creation_date": 1541967391, "answer_id": 53252817, "question_id": 43855167, "link": "https://stackoverflow.com/questions/43855167/dokka-uses-fully-qualified-class-names/53252817#53252817", "title": "Dokka uses fully qualified class names", "body": "<p>For linking to 3rd party libraries you should use <code>externalDocumentationLink</code> pointing to Oracle Java documentation:</p>\n\n<pre><code>dokka{    \n    externalDocumentationLink {\n        url = new URL(\"https://docs.oracle.com/javase/8/docs/api/\")\n    }\n</code></pre>\n\n<p>If you use Kotlin and Java in the same project fully qualified names for Java classes may be necessary</p>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1541967391, "creation_date": 1494269409, "last_edit_date": 1494676434, "question_id": 43855167, "link": "https://stackoverflow.com/questions/43855167/dokka-uses-fully-qualified-class-names", "title": "Dokka uses fully qualified class names", "body": "<p>I'm using dokka to auto generate javadoc for me. Though when it encounters any class not from my project it uses fully qualified names. </p>\n\n<p>Is it possible to use only class names and make dokka provide a link for it? For example:</p>\n\n<pre><code>java.lang.String getName()\n</code></pre>\n\n<p>I'd want instead of <code>java.lang.String</code> to have <code>String</code> with link to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">Java doc</a></p>\n\n<p>My gradle config:</p>\n\n<pre><code>ext.simpleName = project.name.substring(project.name.indexOf('-') + 1, project.name.size())\n\ndokka {\n    outputFormat = 'javadoc'\n    outputDirectory = \"${rootProject.buildDir}/javadoc/$project.ext.simpleName\"\n    linkMapping {\n        dir = 'src/main/java'\n        url = \"https://github.com/mibac138/ArgParser/blob/master/$project.ext.simpleName/src/main/java\"\n    }\n    linkMapping {\n        dir = 'src/main/kotlin'\n        url = \"https://github.com/mibac138/ArgParser/blob/master/$project.ext.simpleName/src/main/kotlin\"\n    }\n}\n</code></pre>\n\n<p>Also, what exactly is <code>linkMapping</code>? I'm not sure what it does.</p>\n"}, {"tags": ["android", "kotlin", "gradle", "build", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1494249874, "post_id": 43848845, "comment_id": 74733666, "body": "Can you also post whatever is in the log?"}, {"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1494249947, "post_id": 43848845, "comment_id": 74733728, "body": "hey, sorry. Actually I don&#39;t know where I should look for log. Can you help me that also @zsmb13"}, {"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1494250056, "post_id": 43848845, "comment_id": 74733807, "body": "@zsmb13 I have look up in under message section but there is no log available"}, {"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1494250777, "post_id": 43848845, "comment_id": 74734324, "body": "@zsmb13 I have added the log"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1494255511, "post_id": 43848845, "comment_id": 74737610, "body": "You should probably <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">file an issue</a> in the Kotlin bugtracker."}, {"owner": {"reputation": 1200, "user_id": 3702595, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/VIHEp.png?s=128&g=1", "display_name": "Sattar Hummatli", "link": "https://stackoverflow.com/users/3702595/sattar-hummatli"}, "edited": false, "score": 0, "creation_date": 1499075216, "post_id": 43848845, "comment_id": 76743022, "body": "@Ankur_009, I have same issue. Did you find solution?"}, {"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "reply_to_user": {"reputation": 1200, "user_id": 3702595, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/VIHEp.png?s=128&g=1", "display_name": "Sattar Hummatli", "link": "https://stackoverflow.com/users/3702595/sattar-hummatli"}, "edited": false, "score": 0, "creation_date": 1499075959, "post_id": 43848845, "comment_id": 76743537, "body": "did you tried the option that I have mentioned in the question? @SattarHummatli"}, {"owner": {"reputation": 1200, "user_id": 3702595, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/VIHEp.png?s=128&g=1", "display_name": "Sattar Hummatli", "link": "https://stackoverflow.com/users/3702595/sattar-hummatli"}, "edited": false, "score": 0, "creation_date": 1499082621, "post_id": 43848845, "comment_id": 76747661, "body": "Yes, i&#39;ve tried. The same result. @Ankur_009"}, {"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "reply_to_user": {"reputation": 1200, "user_id": 3702595, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/VIHEp.png?s=128&g=1", "display_name": "Sattar Hummatli", "link": "https://stackoverflow.com/users/3702595/sattar-hummatli"}, "edited": false, "score": 0, "creation_date": 1499082809, "post_id": 43848845, "comment_id": 76747791, "body": "I don&#39;t know specifically what was the reason but I had created the new project.  But I think it occurs when copy another project activity class to the new project. Try to restart the system (lame answer. as I don&#39;t know the exact solution)   @SattarHummatli"}, {"owner": {"reputation": 1200, "user_id": 3702595, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/VIHEp.png?s=128&g=1", "display_name": "Sattar Hummatli", "link": "https://stackoverflow.com/users/3702595/sattar-hummatli"}, "edited": false, "score": 0, "creation_date": 1499091977, "post_id": 43848845, "comment_id": 76754194, "body": "Ok, Thanks.I&#39;ll try. @Ankur_009"}, {"owner": {"reputation": 980, "user_id": 1560086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d04d4560e3f7c9ee5cc4dbef7e115fb0?s=128&d=identicon&r=PG", "display_name": "Dillon Ryan Redding", "link": "https://stackoverflow.com/users/1560086/dillon-ryan-redding"}, "edited": false, "score": 0, "creation_date": 1499174125, "post_id": 43848845, "comment_id": 76790941, "body": "I ran into this problem today. Doing a Gradle clean then restarting Android Studio seemed to resolve the issue."}, {"owner": {"reputation": 5780, "user_id": 1245166, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MTfiX.jpg?s=128&g=1", "display_name": "Volodymyr", "link": "https://stackoverflow.com/users/1245166/volodymyr"}, "edited": false, "score": 0, "creation_date": 1543075530, "post_id": 43848845, "comment_id": 93791510, "body": "Sometimes may help to update gradle version in <code>gradle-wrapper.properties</code> file"}, {"owner": {"reputation": 4363, "user_id": 897007, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3db84802a7ea6df4e925635d6c3df00c?s=128&d=identicon&r=PG", "display_name": "Dale", "link": "https://stackoverflow.com/users/897007/dale"}, "edited": false, "score": 0, "creation_date": 1559946468, "post_id": 43848845, "comment_id": 99592717, "body": "When I ran the build again, it worked, per this question: <a href=\"https://stackoverflow.com/q/47292341/897007\">stackoverflow.com/q/47292341/897007</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "edited": false, "score": 0, "creation_date": 1499702219, "post_id": 45011412, "comment_id": 77007056, "body": "In my opinion it&#39;s better to use kotlin extensions instead of butterknife. But nevertheless thanks for sharing your experience. It can be helpfull for many people."}, {"owner": {"reputation": 6250, "user_id": 1206052, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/adf110000c6f30eb3b777886d10c65cc?s=128&d=identicon&r=PG", "display_name": "DeltaCap019", "link": "https://stackoverflow.com/users/1206052/deltacap019"}, "reply_to_user": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "edited": false, "score": 0, "creation_date": 1499753919, "post_id": 45011412, "comment_id": 77027476, "body": "@Yazon2006 <b>kotlin</b> supports many of the android frameworks now thats why I gave it a try look at <a href=\"https://kotlinlang.org/docs/tutorials/android-frameworks.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-frameworks.html</a>"}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "edited": false, "score": 1, "creation_date": 1499780607, "post_id": 45011412, "comment_id": 77046489, "body": "You are right! But if we talking exactly about view initialization by @BindView in butterknife I discovered that kotlin extensions provide much more easy way to get views instances in code. Just take a look, you&#39;ll love it) <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-plugin.html</a>"}, {"owner": {"reputation": 6250, "user_id": 1206052, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/adf110000c6f30eb3b777886d10c65cc?s=128&d=identicon&r=PG", "display_name": "DeltaCap019", "link": "https://stackoverflow.com/users/1206052/deltacap019"}, "reply_to_user": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "edited": false, "score": 1, "creation_date": 1499780990, "post_id": 45011412, "comment_id": 77046806, "body": "@Yazon2006 Thanks for the link it&#39;s a lot easier than <code>butterknife</code>."}], "tags": [], "owner": {"reputation": 6250, "user_id": 1206052, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/adf110000c6f30eb3b777886d10c65cc?s=128&d=identicon&r=PG", "display_name": "DeltaCap019", "link": "https://stackoverflow.com/users/1206052/deltacap019"}, "is_accepted": false, "score": 14, "last_activity_date": 1500616587, "last_edit_date": 1500616587, "creation_date": 1499687879, "answer_id": 45011412, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/45011412#45011412", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>In such case look at <code>gradle console</code> it will show the issue in detail with exact location which led to this compilation error.</p>\n\n<p>In my case I was using <code>Butterknife</code> in one of my class and I had <code>auto-converted</code> that class to <code>kotlin</code> using android studio's utility</p>\n\n<p><code>Log in Gradle Console</code></p>\n\n<pre><code>Executing tasks: [:app:assembleDebug]\n\nConfiguration on demand is an incubating feature.\nConfiguration 'compile' in project ':app' is deprecated. Use 'implementation' instead.\nregisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\n:app:buildInfoDebugLoader\n:app:preBuild UP-TO-DATE\n:app:preDebugBuild UP-TO-DATE\n:app:compileDebugAidl UP-TO-DATE\n:app:compileDebugRenderscript UP-TO-DATE\n:app:checkDebugManifest UP-TO-DATE\n:app:generateDebugBuildConfig UP-TO-DATE\n:app:generateDebugResValues UP-TO-DATE\n:app:generateDebugResources UP-TO-DATE\n:app:processDebugGoogleServices\nParsing json file: /Users/Downloads/myproject/app/google-services.json\n:app:mergeDebugResources UP-TO-DATE\n:app:createDebugCompatibleScreenManifests UP-TO-DATE\n:app:processDebugManifest\n:app:splitsDiscoveryTaskDebug UP-TO-DATE\n:app:processDebugResources\n:app:kaptGenerateStubsDebugKotlin\nUsing kotlin incremental compilation\n:app:kaptDebugKotlin\ne: /Users/Downloads/myproject/app/build/tmp/kapt3/stubs/debug/com/myproject/util/ConfirmationDialog.java:10: error: @BindView fields must not be private or static. (com.myproject.util.ConfirmationDialog.imgConfirmationLogo)\ne: \n\ne:     private android.widget.ImageView imgConfirmationLogo;\ne:                                      ^\ne: /Users/Downloads/myproject/app/build/tmp/kapt3/stubs/debug/com/myproject/util/ConfirmationDialog.java:13: error: @BindView fields must not be private or static. (com.myproject.util.ConfirmationDialog.txtConfirmationDialogTitle)\ne: \n\ne:     private android.widget.TextView txtConfirmationDialogTitle;\ne:                                     ^\ne: /Users/Downloads/myproject/app/build/tmp/kapt3/stubs/debug/com/myproject/util/ConfirmationDialog.java:16: error: @BindView fields must not be private or static. (com.myproject.util.ConfirmationDialog.txtConfirmationDialogMessage)\ne: \n\ne:     private android.widget.TextView txtConfirmationDialogMessage;\ne:                                     ^\ne: /Users/Downloads/myproject/app/build/tmp/kapt3/stubs/debug/com/myproject/util/ConfirmationDialog.java:19: error: @BindView fields must not be private or static. (com.myproject.util.ConfirmationDialog.txtViewPositive)\ne: \n\ne:     private android.widget.TextView txtViewPositive;\ne:                                     ^\ne: /Users/Downloads/myproject/app/build/tmp/kapt3/stubs/debug/com/myproject/util/ConfirmationDialog.java:22: error: @BindView fields must not be private or static. (com.pokkt.myproject.ConfirmationDialog.txtViewNegative)\ne: \n\ne:     private android.widget.TextView txtViewNegative;\ne:                                     ^\ne: /Users/Downloads/myproject/app/build/tmp/kapt3/stubs/debug/com/myproject/util/ExitDialog.java:10: error: @BindView fields must not be private or static. (com.myproject.util.ExitDialog.txtViewPositive)\ne: \n\ne:     private android.widget.TextView txtViewPositive;\ne:                                     ^\ne: /Users/Downloads/myproject/app/build/tmp/kapt3/stubs/debug/com/myproject/util/ExitDialog.java:13: error: @BindView fields must not be private or static. (com.myproject.util.ExitDialog.txtViewNegative)\ne: \n\ne:     private android.widget.TextView txtViewNegative;\ne:                                     ^\ne: java.lang.IllegalStateException: failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:144)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:167)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:55)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:182)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.execCompiler(CompileServiceImpl.kt:397)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execCompiler(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:365)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:798)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:825)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$checkedCompile(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:797)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:791)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$doCompile(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:364)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:336)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:90)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\n    at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:89)\n    at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:99)\n    at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:76)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.analyze(KotlinToJVMBytecodeCompiler.kt:365)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:105)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:354)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:139)\n    ... 40 more\n\n\n FAILED\n:app:buildInfoGeneratorDebug\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDebugKotlin'.\n&gt; Internal compiler error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED in 32s\n\n16 actionable tasks: 7 executed, 9 up-to-date\n</code></pre>\n\n<p>As in my log it clearly shows issues are with declaration of variables with butterknife. So I looked into this issue and was able to solve it.</p>\n"}, {"comments": [{"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "reply_to_user": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 2, "creation_date": 1506611383, "post_id": 45016580, "comment_id": 79900105, "body": "@newbie I hope one day we will get updates with fixes for such issues."}, {"owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 0, "creation_date": 1506648696, "post_id": 45016580, "comment_id": 79915891, "body": "I have try moving to backward, I back  to use <code>apply plugin: &#39;kotlin-kapt&#39;</code>, and my android studio back get error. but I try debug with terminal like this <code>.&#47;gradlew build</code> I have no error, and compile is successful. hmmm it&#39;s very weird."}, {"owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 0, "creation_date": 1506649116, "post_id": 45016580, "comment_id": 79915985, "body": "I mean why <code>android studio</code> and <code>terminal</code> making different of result? and what code <code>android studio</code> to compile gradle?"}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "reply_to_user": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 0, "creation_date": 1506933868, "post_id": 45016580, "comment_id": 79998364, "body": "@newbie it&#39;s difficult to find out why this happens. I have an explanation for all cases: android always contain a piece of magic =)"}, {"owner": {"reputation": 650, "user_id": 5703820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GHwWG.jpg?s=128&g=1", "display_name": "Infinite Loops", "link": "https://stackoverflow.com/users/5703820/infinite-loops"}, "edited": false, "score": 1, "creation_date": 1510030735, "post_id": 45016580, "comment_id": 81250188, "body": "Well this solution in last Update somewhat works for me. remove the kotlin-kapt and add in kapt{generetaStubs = true}"}, {"owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 3, "creation_date": 1510548122, "post_id": 45016580, "comment_id": 81465198, "body": "The original (old) kapt is deprecated and will be removed completely soon after Kotlin 1.2. If you experience any problems with <code>apply plugin: &#39;kotlin-kapt&#39;</code>, please file an issue to <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>."}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "reply_to_user": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1510657045, "post_id": 45016580, "comment_id": 81517843, "body": "@yanex After the original kapt will be removed we will see how the new one will work. Maybe problem will gone at all with this update."}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "reply_to_user": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1515585062, "post_id": 45016580, "comment_id": 83353150, "body": "@yanex It looks like truth. With kotlin v1.2+ and new kapt I have not faced such issue for a long time."}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1527108172, "post_id": 45016580, "comment_id": 88007104, "body": "Tried Solution 1. Nothing came in log and still issue persists."}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1527592342, "post_id": 45016580, "comment_id": 88174872, "body": "@MalwinderSingh Check the updated answer. AS 3.1 can be the reason why you do not see log details."}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 4, "creation_date": 1535667139, "post_id": 45016580, "comment_id": 91163089, "body": "@IgorGanapolsky In android studio try Analyze -&gt; Inspect Code -&gt; Whole project. Wait until inspection is over and then correct errors in &quot;General&quot; section."}, {"owner": {"reputation": 535, "user_id": 7540530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab63cf68ee8e435d82b88f287bf44f9d?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/7540530/kevin"}, "edited": false, "score": 1, "creation_date": 1549848568, "post_id": 45016580, "comment_id": 96038303, "body": "I am using Android studio 3.3 and kotlin version 1.3.20 Solution 3 helped me.   Thanks so much."}, {"owner": {"reputation": 550, "user_id": 2293497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IZKAp.jpg?s=128&g=1", "display_name": "Harisewak", "link": "https://stackoverflow.com/users/2293497/harisewak"}, "edited": false, "score": 0, "creation_date": 1560269306, "post_id": 45016580, "comment_id": 99677352, "body": "Solution no. 2 helped me out! Thanks :P"}, {"owner": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1575657481, "post_id": 45016580, "comment_id": 104652789, "body": "\u064a\u0633\u0637\u0627 \u0627\u0646\u062a \u0639\u0638\u064a\u064a\u0645 \u0641\u0634\u0634\u0634\u062e \u2764\u2764"}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "reply_to_user": {"reputation": 417, "user_id": 8490394, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-qI0I_4I7dfA/AAAAAAAAAAI/AAAAAAAAABE/JVtDvcx-vX8/photo.jpg?sz=128", "display_name": "Nour Medhat", "link": "https://stackoverflow.com/users/8490394/nour-medhat"}, "edited": false, "score": 0, "creation_date": 1576480636, "post_id": 45016580, "comment_id": 104899320, "body": "@NourMedhat \u0634\u0643\u0631\u0627 \u0644\u0643"}, {"owner": {"reputation": 6305, "user_id": 1555990, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a743aed2f5b809958ebb17d4d952b7b2?s=128&d=identicon&r=PG", "display_name": "That1Guy", "link": "https://stackoverflow.com/users/1555990/that1guy"}, "edited": false, "score": 0, "creation_date": 1581534175, "post_id": 45016580, "comment_id": 106470578, "body": "Weird...simply adding the compiler flags &quot;fixed&quot; the problem for me..."}], "tags": [], "owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "is_accepted": false, "score": 218, "last_activity_date": 1546504729, "last_edit_date": 1546504729, "creation_date": 1499702040, "answer_id": 45016580, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/45016580#45016580", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I got such error after a simple try of code refactoring. It has happened nor after some library was connected neither any changes in gradle. It looked like something in my code was wrong but the compiler could not found the issue. That's why I double checked all changes that I did and found that <em>I had changed somehow method signature in the interface but had not changed it in class that implements it</em>.\nI got this error twice during one day and decided to share my experience. I hope that it is a temporary compiler bug.</p>\n\n<p><strong>Solution 1</strong> Possible solution is to go to File -> Settings -> Compiler -> and add \"--stacktrace --debug\" to Command-line Options. Read log and try to found the answer of what went wrong.</p>\n\n<p>In new Android Studio 3.1.+, you can enable/disable console log details by pressing \"Toggle View\" on \"Build\" tab. There you can find the details. <em>Pay attention</em> that both modes can be useful for investigation of the problem's reason. See: <a href=\"https://stackoverflow.com/a/49717363/\">https://stackoverflow.com/a/49717363/</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/PVEMB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PVEMB.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Solution 2</strong> Click on <code>Gradle</code> (on the right side bar) then under <code>:app</code> choose <code>assembleDebug</code> (or <code>assembleYourFlavor</code> if you use flavors). Error will show up in <strong>Run</strong> tab. See: <a href=\"https://stackoverflow.com/a/51022296\">https://stackoverflow.com/a/51022296</a></p>\n\n<p><strong>Solution 3</strong> As a last resort. In the android studio, try Analyze -> Inspect Code -> Whole project. Wait until the inspection is over and then correct errors in \"General\" section and possible ones in other sections.</p>\n\n<p><strong>Note</strong> The kapt3 can be a source of such bugs. I removed <code>apply plugin: 'kotlin-kapt'</code> and added <code>kapt { generateStubs = true }</code> into <code>android {}</code> section of build.gradle. It seems that the previous version of the kapt generator is bugs free. <em>(<strong>Update.</strong> It looks like a bug with kapt is gone on kotlin version 1.2.+)</em></p>\n"}, {"tags": [], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "is_accepted": false, "score": 2, "last_activity_date": 1501264534, "creation_date": 1501264534, "answer_id": 45379647, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/45379647#45379647", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>in my case I accidentally changed  <code>version=\"1.0\"</code> to <code>xml version=\"1.0\"</code> in my XML file.</p>\n\n<p>I only had to change it back.</p>\n\n<p>if you have the same problem and the solutions above didn't work for you.\nopen <code>Gradle Console</code> and scroll to <code>Run with --debug option</code> click it and it will show you more useful info about your error.</p>\n\n<p>some notes:</p>\n\n<p>this error doesn't appear directly after I make the change in XML it appear only after I change some java code. I think it has something to do with the instant run and build cash.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 841277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OlZ7a.jpg?s=128&g=1", "display_name": "Vaha", "link": "https://stackoverflow.com/users/841277/vaha"}, "is_accepted": false, "score": 7, "last_activity_date": 1502216704, "creation_date": 1502216704, "answer_id": 45575506, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/45575506#45575506", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I had a similar problem.\nThe problem was that I incorrectly wrote the properties of the model in the attributes of the view:</p>\n\n<pre><code>&lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"@{ferm.coin.value}\"/&gt; \n</code></pre>\n\n<p>This part was wrong:</p>\n\n<pre><code>@{ferm.coin.value}\n</code></pre>\n\n<p>When I wrote the correct property, the error was resolved.</p>\n"}, {"tags": [], "owner": {"reputation": 753, "user_id": 4156595, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_ziE9CvQ2KM/AAAAAAAAAAI/AAAAAAAAA2c/pRcS8G_qg2M/photo.jpg?sz=128", "display_name": "anoopbryan2", "link": "https://stackoverflow.com/users/4156595/anoopbryan2"}, "is_accepted": false, "score": 1, "last_activity_date": 1507209679, "creation_date": 1507209679, "answer_id": 46586715, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/46586715#46586715", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I had a same problem. To solve this problem just open your all files(recent working files) in Which you made the changes and check did you forget to delete some which should be deleted. </p>\n\n<p><strong>In my case the problem was with the Unreferenced code which I was using in one of my file and that code is present in that file which should not be present in that file because I was using an interface which I have deleted from my project but I forget to deleted from one of my file).</strong></p>\n"}, {"tags": [], "owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "is_accepted": false, "score": 0, "last_activity_date": 1508594619, "creation_date": 1508594619, "answer_id": 46864063, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/46864063#46864063", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>Another possible recent solution is changing gradle version to:</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.0.0-rc2'\n</code></pre>\n\n<p>and updating build tool</p>\n"}, {"tags": [], "owner": {"reputation": 4834, "user_id": 3275253, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/jSMeb.jpg?s=128&g=1", "display_name": "voghDev", "link": "https://stackoverflow.com/users/3275253/voghdev"}, "is_accepted": false, "score": 2, "last_activity_date": 1546512159, "last_edit_date": 1546512159, "creation_date": 1510814075, "answer_id": 47323115, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/47323115#47323115", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I Had the same issue and finally discovered the reason. In my case it was a badly written Java method:</p>\n\n<pre><code>@FormUrlEncoded\n@POST(\"register-user/\")\nCall&lt;RegisterUserApiResponse&gt; registerUser(\n        @Field(\"email\") String email,\n        @Field(\"password\") String password,            \n        @Field(\"date\") String birthDate,\n);\n</code></pre>\n\n<p>Note the illegal comma after the \"date\" field. For some reason the compiler could not reveal this exact error, and came with the <code>':app:compileDebugKotlin'. &gt; Compilation error</code> thing.</p>\n"}, {"tags": [], "owner": {"reputation": 753, "user_id": 4156595, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_ziE9CvQ2KM/AAAAAAAAAAI/AAAAAAAAA2c/pRcS8G_qg2M/photo.jpg?sz=128", "display_name": "anoopbryan2", "link": "https://stackoverflow.com/users/4156595/anoopbryan2"}, "is_accepted": false, "score": 0, "last_activity_date": 1515389934, "creation_date": 1515389934, "answer_id": 48144751, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/48144751#48144751", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I Had the same problem and finally reached to the solution.</p>\n\n<p>add \"<strong>--stacktrace --debug</strong>\" to your command-line options(File -> Settings -> Compiler) then run it. This will show the problem(unwanted code) in your code.</p>\n"}, {"tags": [], "owner": {"reputation": 3316, "user_id": 730600, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/23de8cd0af6121a80f78aff880d25629?s=128&d=identicon&r=PG", "display_name": "sandy", "link": "https://stackoverflow.com/users/730600/sandy"}, "is_accepted": false, "score": 0, "last_activity_date": 1519123001, "creation_date": 1519123001, "answer_id": 48883253, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/48883253#48883253", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>In my case error was caused by this line</p>\n\n<blockquote>\n  <p>@BindColor(R.color.colorAccent)\n    var mColor: Int? = 0</p>\n</blockquote>\n\n<p>Solved By </p>\n\n<blockquote>\n  <p>@JvmField\n      @BindColor(android.R.color.white)\n      @ColorInt\n      internal var mColor: Int = 0</p>\n</blockquote>\n\n<p>Error in GradleConsole</p>\n\n<p>:app:kaptDebugKotlin\ne: \\app\\build\\tmp\\kapt3\\stubs\\debug\\MainFragment.java:23: error: @BindColor field type must be 'int' or 'ColorStateList'. (com.sample.MainFragment.mColor)\ne: </p>\n\n<p>e:     private java.lang.Integer mColor;</p>\n"}, {"tags": [], "owner": {"reputation": 636, "user_id": 7555345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tXzmi.jpg?s=128&g=1", "display_name": "Mohamed Saber", "link": "https://stackoverflow.com/users/7555345/mohamed-saber"}, "is_accepted": false, "score": 4, "last_activity_date": 1520111156, "creation_date": 1520111156, "answer_id": 49089215, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/49089215#49089215", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I was suffering the same problem I solved it by checking build tab and switch to <strong>text mode</strong>. Check the console it will show the problems \nmine was removing a drawable without deleting the usage and deleting a class without deleting the usage also\n<a href=\"https://i.stack.imgur.com/ECaWl.png\" rel=\"nofollow noreferrer\">Text mode button</a></p>\n"}, {"tags": [], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "is_accepted": false, "score": 0, "last_activity_date": 1522513980, "creation_date": 1522513980, "answer_id": 49590026, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/49590026#49590026", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>i was surprised to find that when i had a class that was closed it produced this vague error. changing it to a open class resolved the issue.</p>\n\n<pre><code>before:\n\n class DefaultSubscriber&lt;T&gt; : Observer&lt;T&gt; {//...\n}\n\nafter:\n\nopen class DefaultSubscriber&lt;T&gt; : Observer&lt;T&gt; {//...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 5964892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jpYH7.jpg?s=128&g=1", "display_name": "Ivan Esparza", "link": "https://stackoverflow.com/users/5964892/ivan-esparza"}, "edited": false, "score": 4, "creation_date": 1523259659, "post_id": 49717363, "comment_id": 86469306, "body": "Thanks!! I had to do this after a couple of hours of debugging.. one thing I want to add to your answer is that the error might be some lines above the one that contains the &quot;Compilation error. See log for more details&quot; message."}, {"owner": {"reputation": 178, "user_id": 4965763, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SZVZqf5eIVU/AAAAAAAAAAI/AAAAAAAAAQ8/u8iXVwjRmFo/photo.jpg?sz=128", "display_name": "Badr Yousfi", "link": "https://stackoverflow.com/users/4965763/badr-yousfi"}, "edited": false, "score": 0, "creation_date": 1523283256, "post_id": 49717363, "comment_id": 86483973, "body": "thanks! it&#39;s more explicit to see the text errors. after hours of debugging, I found the right error. For me it was because of the @inject of the viewModel, I forgot to put the annotation on the viewModel constructor also"}, {"owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "edited": false, "score": 0, "creation_date": 1524127763, "post_id": 49717363, "comment_id": 86848646, "body": "Funny enough, this is the only way to catch Dagger-related error. Ridiculous!"}, {"owner": {"reputation": 1257, "user_id": 7454155, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1998741250353293/picture?type=large", "display_name": "Raj Suvariya", "link": "https://stackoverflow.com/users/7454155/raj-suvariya"}, "edited": false, "score": 0, "creation_date": 1524150657, "post_id": 49717363, "comment_id": 86864818, "body": "Thank you so much for this answer. I found that I forgot to import Log inside LoggingInterceptor."}, {"owner": {"reputation": 16555, "user_id": 507339, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e9c336f4d771de0d1fe8c83db58dac19?s=128&d=identicon&r=PG", "display_name": "Nilzor", "link": "https://stackoverflow.com/users/507339/nilzor"}, "edited": false, "score": 4, "creation_date": 1526836988, "post_id": 49717363, "comment_id": 87888948, "body": "An IDE as failed as an IDE if it&#39;s unable to convey compilation errors to the developer. Seriously Google: Work weekends until this is fixed."}, {"owner": {"reputation": 430, "user_id": 2808066, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/a3ekY.jpg?s=128&g=1", "display_name": "Manuela", "link": "https://stackoverflow.com/users/2808066/manuela"}, "edited": false, "score": 0, "creation_date": 1527865678, "post_id": 49717363, "comment_id": 88303228, "body": "thank you! thank you! thank you! @humazed this led me to the right path :)"}, {"owner": {"reputation": 719, "user_id": 2812818, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/22268e400d674650d72826aa9835bf70?s=128&d=identicon&r=PG", "display_name": "Droid Teahouse", "link": "https://stackoverflow.com/users/2812818/droid-teahouse"}, "reply_to_user": {"reputation": 16555, "user_id": 507339, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e9c336f4d771de0d1fe8c83db58dac19?s=128&d=identicon&r=PG", "display_name": "Nilzor", "link": "https://stackoverflow.com/users/507339/nilzor"}, "edited": false, "score": 0, "creation_date": 1532134990, "post_id": 49717363, "comment_id": 89874019, "body": "@Nilzor I second that, and please change the tool windows back to the bottom. It is really annoying to have to do a treasure hunt for logcat."}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "reply_to_user": {"reputation": 16555, "user_id": 507339, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e9c336f4d771de0d1fe8c83db58dac19?s=128&d=identicon&r=PG", "display_name": "Nilzor", "link": "https://stackoverflow.com/users/507339/nilzor"}, "edited": false, "score": 0, "creation_date": 1535667845, "post_id": 49717363, "comment_id": 91163250, "body": "@Nilzor It&#39;s not Google responsibility area. It&#39;s Jetbrains bug."}, {"owner": {"reputation": 6084, "user_id": 1307690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a4bd3d33ff40895fa9416afdaf89ae5a?s=128&d=identicon&r=PG", "display_name": "Roman Nazarevych", "link": "https://stackoverflow.com/users/1307690/roman-nazarevych"}, "edited": false, "score": 0, "creation_date": 1553595984, "post_id": 49717363, "comment_id": 97433380, "body": "Thank you! Console view helped me, in graphical view I had 2 warnings, whether in console view I have 2 warning + 1 error, which was what I was looking for."}], "tags": [], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "is_accepted": false, "score": 103, "last_activity_date": 1523187079, "creation_date": 1523187079, "answer_id": 49717363, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/49717363#49717363", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>If you are using AS 3.1 the new build graphical console isn't very helpful for finding out the source of the problem.</p>\n\n<p>you need to click on toggle view and see the logs in text format to see the error and if needed to <code>Run with --stacktrace</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/b9Q8r.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b9Q8r.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1994, "user_id": 2763238, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1Tc6b.jpg?s=128&g=1", "display_name": "jacoballenwood", "link": "https://stackoverflow.com/users/2763238/jacoballenwood"}, "is_accepted": false, "score": 1, "last_activity_date": 1525102777, "creation_date": 1525102777, "answer_id": 50103822, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/50103822#50103822", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>In my case, I attempted to upgrade <code>play_services</code>and <code>firebase</code> versions to <code>15.0</code>. Going back to <code>11.4.2</code> fixed my issue...</p>\n"}, {"comments": [{"owner": {"reputation": 2452, "user_id": 1540698, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IqlCK.jpg?s=128&g=1", "display_name": "Matthew Cawley", "link": "https://stackoverflow.com/users/1540698/matthew-cawley"}, "edited": false, "score": 5, "creation_date": 1537317640, "post_id": 51022296, "comment_id": 91737524, "body": "Thank you. Found the issue using this. One thing to note, is that the original gradle error that doesn&#39;t help much shows up first when scrolling back through the logs, keep scrolling back and you will find the original error. Easily identifiable by the blue link to the source file causing the issue."}, {"owner": {"reputation": 422, "user_id": 7856586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5950cd48cb4f1ad031aa1bb968b30e?s=128&d=identicon&r=PG&f=1", "display_name": "user7856586", "link": "https://stackoverflow.com/users/7856586/user7856586"}, "edited": false, "score": 4, "creation_date": 1555057758, "post_id": 51022296, "comment_id": 97984050, "body": "I don&#39;t see &quot;assembleDebug&quot; if list"}, {"owner": {"reputation": 131, "user_id": 1491491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef557b2fab919ae37def8e3e46cd4b91?s=128&d=identicon&r=PG", "display_name": "Intel", "link": "https://stackoverflow.com/users/1491491/intel"}, "edited": false, "score": 1, "creation_date": 1558937183, "post_id": 51022296, "comment_id": 99249276, "body": "&quot;./gradlew assembleDebug&quot; at the project root will do the job"}, {"owner": {"reputation": 651, "user_id": 4075178, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d8b82a00ee0563cbb139427df4f2a3d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Pandey", "link": "https://stackoverflow.com/users/4075178/vikas-pandey"}, "reply_to_user": {"reputation": 422, "user_id": 7856586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5950cd48cb4f1ad031aa1bb968b30e?s=128&d=identicon&r=PG&f=1", "display_name": "user7856586", "link": "https://stackoverflow.com/users/7856586/user7856586"}, "edited": false, "score": 0, "creation_date": 1559641392, "post_id": 51022296, "comment_id": 99476022, "body": "@user7856586 me too, did&#39;t find assembleDebug"}, {"owner": {"reputation": 422, "user_id": 7856586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5950cd48cb4f1ad031aa1bb968b30e?s=128&d=identicon&r=PG&f=1", "display_name": "user7856586", "link": "https://stackoverflow.com/users/7856586/user7856586"}, "reply_to_user": {"reputation": 651, "user_id": 4075178, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d8b82a00ee0563cbb139427df4f2a3d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Pandey", "link": "https://stackoverflow.com/users/4075178/vikas-pandey"}, "edited": false, "score": 0, "creation_date": 1559742410, "post_id": 51022296, "comment_id": 99515164, "body": "@VikasPandey I forgot how I solve this problem. Maybe it&#39;s depends on AS version"}, {"owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "edited": false, "score": 3, "creation_date": 1560772295, "post_id": 51022296, "comment_id": 99833254, "body": "&quot;:app/Tasks/other/assembleDebug&quot; is the current path"}, {"owner": {"reputation": 2702, "user_id": 7254873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jfQVFidpSlo/AAAAAAAAAAI/AAAAAAAAAFM/DBb8C8t0w64/photo.jpg?sz=128", "display_name": "Sumit Shukla", "link": "https://stackoverflow.com/users/7254873/sumit-shukla"}, "edited": false, "score": 0, "creation_date": 1579797346, "post_id": 51022296, "comment_id": 105895363, "body": "Perfect solution!"}], "tags": [], "owner": {"reputation": 14950, "user_id": 2296787, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1opw3.jpg?s=128&g=1", "display_name": "MBH", "link": "https://stackoverflow.com/users/2296787/mbh"}, "is_accepted": false, "score": 105, "last_activity_date": 1564774689, "last_edit_date": 1564774689, "creation_date": 1529925707, "answer_id": 51022296, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/51022296#51022296", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I had misleading error messages similar to the ones posted in the question:</p>\n\n<blockquote>\n  <p>Compilation error. See log for more details</p>\n</blockquote>\n\n<p>And:</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.GradleException: Compilation error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:16)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.processCompilerExitCode(Tasks.kt:429)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:390)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:274)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:233)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:46)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:121)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    ... 32 more\n</code></pre>\n\n<h1>Solution:</h1>\n\n<p>I solved it by </p>\n\n<ol>\n<li>Clicking on <code>Gradle</code> (on the right side bar) -> </li>\n<li>Then under <code>:app</code> </li>\n<li>Then choose <code>assembleDebug</code> (or <code>assembleYourFlavor</code> if you use flavors)</li>\n</ol>\n\n<p>In Picture:</p>\n\n<p>1 &amp; 2:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PhZaK.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PhZaK.jpg\" alt=\"s1\"></a></p>\n\n<p>3:</p>\n\n<p><a href=\"https://i.stack.imgur.com/n6R15.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/n6R15.jpg\" alt=\"s2\"></a></p>\n\n<p>Error will show up in <strong>Run:</strong> tab.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4611173, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cijsXq9l7Ro/AAAAAAAAAAI/AAAAAAAAAl4/8LLZV1tEjmk/photo.jpg?sz=128", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4611173/sunil-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1533312178, "last_edit_date": 1533312178, "creation_date": 1533310582, "answer_id": 51675983, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/51675983#51675983", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>My scenario:</p>\n\n<p>old Kotlin dataclass:</p>\n\n<pre><code>data class AddHotelParams(val destination: Place?, val checkInDate: LocalDate,\n                      val checkOutDate: LocalDate?): JsonObject\n</code></pre>\n\n<p>new Kotlin dataclass:</p>\n\n<pre><code>data class AddHotelParams(val destination: Place?, val checkInDate: LocalDate,\n                      val checkOutDate: LocalDate?, val roundTrip: Boolean): JsonObject\n</code></pre>\n\n<p>The problem was that I forgot to change the object initialization in some parts of the code. I got a generic \"compileInternalDebugKotlin\" error instead of being told where I needed to change the initialization.</p>\n\n<p>changing initialization to all parts of the code resolved the error.</p>\n"}, {"tags": [], "owner": {"reputation": 1975, "user_id": 9494420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s5DYU.jpg?s=128&g=1", "display_name": "Abhishek Luthra", "link": "https://stackoverflow.com/users/9494420/abhishek-luthra"}, "is_accepted": false, "score": 11, "last_activity_date": 1536491224, "creation_date": 1536491224, "answer_id": 52243867, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/52243867#52243867", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>On Mac :</p>\n\n<blockquote>\n  <p>go to Android Studio > Preferences > Build, Execution, Deployment > Compiler</p>\n</blockquote>\n\n<p>On Windows :</p>\n\n<blockquote>\n  <p>go to File > Settings > > Build, Execution, Deployment > Compiler</p>\n</blockquote>\n\n<p>Now, in the Command-line Options field , add following three flags :</p>\n\n<pre><code>--stacktrace --info --scan\n</code></pre>\n\n<p>like shown below</p>\n\n<p><a href=\"https://i.stack.imgur.com/v7IKt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/v7IKt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now , open the Build window from the bottom of Android studio\n<a href=\"https://i.stack.imgur.com/snNHu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/snNHu.png\" alt=\"enter image description here\"></a> </p>\n\n<p>Then, there is a button on the left side of the Build window:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mOlGT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mOlGT.png\" alt=\"enter image description here\"></a></p>\n\n<p>press this button , you will see detailed logs with exact code that is preventing the project from compiling</p>\n"}, {"tags": [], "owner": {"reputation": 1704, "user_id": 3797630, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/zmier.jpg?s=128&g=1", "display_name": "Hitesh Dhamshaniya", "link": "https://stackoverflow.com/users/3797630/hitesh-dhamshaniya"}, "is_accepted": false, "score": 0, "last_activity_date": 1553814861, "last_edit_date": 1553814861, "creation_date": 1540365115, "answer_id": 52962931, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/52962931#52962931", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>Below changes worked for me</p>\n\n<p>I change distribution URL, located in gradle-wrapper.properties</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.9-all.zip\n</code></pre>\n\n<p>And</p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:3.2.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n  }\n</code></pre>\n\n<p>kotlin version 1.2.71</p>\n"}, {"tags": [], "owner": {"reputation": 2697, "user_id": 4650581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hmKpWSd9B4U/AAAAAAAAAAI/AAAAAAAAAK4/xL06IHBoIyo/photo.jpg?sz=128", "display_name": "Misagh", "link": "https://stackoverflow.com/users/4650581/misagh"}, "is_accepted": false, "score": 0, "last_activity_date": 1540569632, "last_edit_date": 1540569632, "creation_date": 1540567464, "answer_id": 53011867, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/53011867#53011867", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>In my case, updating <code>com.android.tools.build:gradle</code> to last version and rebuild the project in online mode of Gradle was solved the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 2904, "user_id": 1597841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/pVMAv.jpg?s=128&g=1", "display_name": "nAkhmedov", "link": "https://stackoverflow.com/users/1597841/nakhmedov"}, "is_accepted": false, "score": 3, "last_activity_date": 1545398244, "creation_date": 1545398244, "answer_id": 53885462, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/53885462#53885462", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I want to add my solution to above, maybe it helps someone. When i create a <code>field</code> on a model via <code>Room</code> and do not generate <code>getter/setter</code> for the <code>field</code>. As a result project is not compiling and no clear errors.</p>\n"}, {"comments": [{"owner": {"reputation": 964, "user_id": 8551764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eY20e.jpg?s=128&g=1", "display_name": "Mostafa Arian Nejad", "link": "https://stackoverflow.com/users/8551764/mostafa-arian-nejad"}, "edited": false, "score": 2, "creation_date": 1547971127, "post_id": 54088464, "comment_id": 95371474, "body": "I think you meant <code>.&#47;gradlew clean assembleDebug</code>."}], "tags": [], "owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "is_accepted": false, "score": 2, "last_activity_date": 1548046486, "last_edit_date": 1548046486, "creation_date": 1546938530, "answer_id": 54088464, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/54088464#54088464", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>This line work for me on mac or Linux.</p>\n\n<pre><code>./gradlew clean assembleDebug\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 266, "user_id": 2488616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0xGz.jpg?s=128&g=1", "display_name": "Kuanysh Raimbekov", "link": "https://stackoverflow.com/users/2488616/kuanysh-raimbekov"}, "is_accepted": false, "score": 2, "last_activity_date": 1548068892, "creation_date": 1548068892, "answer_id": 54288666, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/54288666#54288666", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>upgraded Android Studio from 3.2.1 to 3.3 and the problem disappeared</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 8602053, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JPXGLsQr8-A/AAAAAAAAAAI/AAAAAAAAADk/b8--w1ZVq_U/photo.jpg?sz=128", "display_name": "Dhaval Sanghani", "link": "https://stackoverflow.com/users/8602053/dhaval-sanghani"}, "is_accepted": false, "score": 5, "last_activity_date": 1552121339, "creation_date": 1552121339, "answer_id": 55075573, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/55075573#55075573", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I have found one solution to this problem. </p>\n\n<p>Please follow below these steps:</p>\n\n<ol>\n<li>Go to File->Settings->Compiler->add To --stacktrace --debug in Command-line-Options box and then apply &amp; ok.</li>\n<li>Rebuild a project. </li>\n<li>Run a project. </li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 473, "user_id": 3701911, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/075f1.jpg?s=128&g=1", "display_name": "Jaspal", "link": "https://stackoverflow.com/users/3701911/jaspal"}, "edited": false, "score": 0, "creation_date": 1613656466, "post_id": 55587383, "comment_id": 117146568, "body": "only this solution saved my life. thanks."}], "tags": [], "owner": {"reputation": 171, "user_id": 8286518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VCB6n.jpg?s=128&g=1", "display_name": "J.su", "link": "https://stackoverflow.com/users/8286518/j-su"}, "is_accepted": false, "score": 3, "last_activity_date": 1554795288, "creation_date": 1554795288, "answer_id": 55587383, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/55587383#55587383", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I faced the similar problem in no reason, i think it was caused by IDE(android studio). I have tried all of above solutions but not worked. Finally, in my own situation, i solved this problem by the following actions:\n- Close the current project and remove it from the list of projects in android studio ,and reopen it by <code>Open an existing Android Studio project</code>, then it may be worked. I hope that my experience will be useful for you.</p>\n"}, {"tags": [], "owner": {"reputation": 953, "user_id": 6117611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvwSk.png?s=128&g=1", "display_name": "Manzur Alahi", "link": "https://stackoverflow.com/users/6117611/manzur-alahi"}, "is_accepted": false, "score": 2, "last_activity_date": 1560699216, "creation_date": 1560699216, "answer_id": 56620276, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/56620276#56620276", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>in my case:: I was using <code>kotlin extensions</code> to access and bind my views, I had recently moved a <code>view</code> to another screen and forgot to remove its reference from the previous fragment that caused this error. </p>\n\n<p><code>kotlin synthetic extensions</code> are not compile time safe. I really loved this but apparently in big projects, if this happens again I'm surely going to get a heart attack.</p>\n"}, {"tags": [], "owner": {"reputation": 357, "user_id": 5662835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jdifh.jpg?s=128&g=1", "display_name": "miPlodder", "link": "https://stackoverflow.com/users/5662835/miplodder"}, "is_accepted": false, "score": 8, "last_activity_date": 1562404805, "creation_date": 1562404805, "answer_id": 56912751, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/56912751#56912751", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>This error shows up when there is Kotlin Compilation Error.</p>\n\n<p>Run the below command to find where there is Kotlin Compilation Error,</p>\n\n<pre><code>gradlew clean assembleDebug (for Windows)\n./gradlew clean assembleDebug (for Linux and Mac)\n</code></pre>\n\n<p>It will show you the exact location on which line there is Kotlin Compilation Error.</p>\n"}, {"tags": [], "owner": {"reputation": 239, "user_id": 9122628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vV5jX.png?s=128&g=1", "display_name": "Rafael Rocha", "link": "https://stackoverflow.com/users/9122628/rafael-rocha"}, "is_accepted": false, "score": 9, "last_activity_date": 1566439121, "creation_date": 1566439121, "answer_id": 57601128, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/57601128#57601128", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>I changed my project to use Androidx, so I used the migration tool but some files(many files), didn't change automatically. I opened each file (activities, enums, fragments) and I found so many errors. I corrected them but the compile still show me incomprehensible errors. After looking for a solution I found this answer that someone said:</p>\n\n<p>go to Analyze >> Inspect code </p>\n\n<p><a href=\"https://i.stack.imgur.com/KEY3m.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KEY3m.png\" alt=\"enter image description here\"></a></p>\n\n<p>Whole Project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qAmww.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qAmww.png\" alt=\"enter image description here\"></a></p>\n\n<p>It took some time and then showed me the result below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/veh0n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/veh0n.png\" alt=\"enter image description here\"></a></p>\n\n<p>As I corrected the errors I thought were important, I was running the build until the remaining errors were no longer affecting the build.</p>\n\n<p>My Android Studio details</p>\n\n<p><a href=\"https://i.stack.imgur.com/56aGo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/56aGo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 856, "user_id": 2500126, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yLVx5.jpg?s=128&g=1", "display_name": "Death Programmer", "link": "https://stackoverflow.com/users/2500126/death-programmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1584385451, "creation_date": 1584385451, "answer_id": 60711833, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/60711833#60711833", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>in my case it was unused parameter in room persistence function in DAO class</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10030415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee84a3d3b8657634f2d7c00e54a9b5c9?s=128&d=identicon&r=PG", "display_name": "adrian-mezei", "link": "https://stackoverflow.com/users/10030415/adrian-mezei"}, "is_accepted": false, "score": 2, "last_activity_date": 1588282857, "creation_date": 1588282857, "answer_id": 61533225, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/61533225#61533225", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>In my case I forgot to add the return type to a function in my inherited class from RoomDatabase:</p>\n\n<pre><code>abstract class LocalDb : RoomDatabase() {\n    abstract fun progressDao(): ProgressDao\n}\n</code></pre>\n\n<p>The <strong>ProgressDao</strong> return type was missing.</p>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 1212331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a490e8119b35a0a99b2902465714db7?s=128&d=identicon&r=PG", "display_name": "caitcoo0odes", "link": "https://stackoverflow.com/users/1212331/caitcoo0odes"}, "edited": false, "score": 1, "creation_date": 1611014671, "post_id": 62771623, "comment_id": 116309713, "body": "since I don&#39;t have gradle on my path in windows, I was able to use the gradle wrapper instead: gradlew assembleDebug --scan. This helped me see the error output that wasn&#39;t showing in my build log. Took about 5 minutes to run"}], "tags": [], "owner": {"reputation": 111, "user_id": 4316042, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D2p9g6_reIw/AAAAAAAAAAI/AAAAAAAAAJY/8KxKpGVdT8w/photo.jpg?sz=128", "display_name": "Amir Ardalan", "link": "https://stackoverflow.com/users/4316042/amir-ardalan"}, "is_accepted": false, "score": 1, "last_activity_date": 1594112480, "creation_date": 1594112480, "answer_id": 62771623, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/62771623#62771623", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>run <code>gradle assembleDebug --scan</code> in Android studio Terminal, in my case I removed an element in XML and forgotten to remove it from code, but the compiler couldn't compile and show <code>Error:Execution failed for task ':app:compileDebugKotlin'. &gt; Compilation error. See log for more details</code> to me.</p>\n<p><a href=\"https://i.stack.imgur.com/7C6xd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7C6xd.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": [], "owner": {"reputation": 9356, "user_id": 3792198, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lLz4m.jpg?s=128&g=1", "display_name": "Thiago", "link": "https://stackoverflow.com/users/3792198/thiago"}, "is_accepted": false, "score": 0, "last_activity_date": 1614523636, "creation_date": 1614523636, "answer_id": 66410274, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error/66410274#66410274", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<p>If you have Hilt in your app. Make sure you have <strong>annotated</strong> your module class with</p>\n<pre><code>@Module\n@InstallIn(SingletonComponent::class)\nclass AppModule\n</code></pre>\n"}], "owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167121, "favorite_count": 44, "protected_date": 1564417511, "answer_count": 30, "score": 175, "last_activity_date": 1614523636, "creation_date": 1494249717, "last_edit_date": 1603694835, "question_id": 43848845, "link": "https://stackoverflow.com/questions/43848845/errorexecution-failed-for-task-appcompiledebugkotlin-compilation-error", "title": "Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;. &gt; Compilation error. See log for more details", "body": "<pre><code>Error:Execution failed for task ':app:compileDebugKotlin'. &gt; Compilation error. See log for more details\n</code></pre>\n<p>build:gradle(Module:app)</p>\n<pre><code>buildscript {\n    repositories {\n        maven {\n            url 'https://jitpack.io'\n            url 'https://maven.fabric.io/public'\n        }\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n}\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'io.fabric'\napply plugin: 'kotlin-android-extensions'\n\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n    mavenCentral()\n}\n\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion &quot;25.0.2&quot;\n    useLibrary 'org.apache.http.legacy'\n\n   \n\n    lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n\n    defaultConfig {\n        applicationId &quot;uxx.xx.xxe&quot;\n        minSdkVersion 18\n        targetSdkVersion 25\n        versionCode 17\n        versionName &quot;0.1.14&quot;\n\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            debuggable false\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            ext.enableCrashlytics = false\n            debuggable true\n            minifyEnabled true\n            shrinkResources true\n            \n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    sourceSets {\n        main {\n            jniLibs.srcDirs = ['libs']\n            assets.srcDirs = ['src/main/assets', 'src/main/assets/']\n            res.srcDirs = ['src/main/res', 'src/main/assets/fonts']\n        }\n    }\n\n    dexOptions {\n        jumboMode true\n        javaMaxHeapSize &quot;4g&quot;\n\n    }\n\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/ECLIPSE_.SF'\n        exclude 'META-INF/ECLIPSE_.RSA'\n    }\n}\n\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n\n    compile &quot;com.android.support:cardview-v7:${rootProject.supportLibraryVersion}&quot;\n       compile &quot;com.google.android.gms:play-services-ads:${rootProject.googlePlayServicesVersion}&quot;\n    compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\n    compile 'org.igniterealtime.smack:smack-android-extensions:4.1.9'\n    compile 'org.igniterealtime.smack:smack-tcp:4.1.9'\n    compile 'org.igniterealtime.smack:smack-experimental:4.1.9'\n    testCompile 'junit:junit:4.12'\n}\n\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.getkeepsafe.dexcount'\n</code></pre>\n<p>build:gradle(Project)</p>\n<p>// Top-level build file where you can add configuration options common to all sub-projects/modules.</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-2'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.1'\n        classpath 'com.google.gms:google-services:3.0.0'\n        //visualize the method count\n        classpath 'com.getkeepsafe.dexcount:dexcount-gradle-plugin:0.6.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n\next.googlePlayServicesVersion = '10.2.0'\next.supportLibraryVersion = '25.3.1'\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Solution Tried:</strong></p>\n<ol>\n<li>Invalidate Caches/Restart</li>\n<li>Build -&gt; Clean Project</li>\n<li>Update kotlin plugin, used lastest version of kotlin, google APIs.</li>\n</ol>\n<p><strong>EDIT</strong></p>\n<pre><code>./gradlew build --stacktrace &gt; logs.txt 2&gt;logErrors.txt\n</code></pre>\n<p>logErrors.txt</p>\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:84)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.execute(DefaultTaskGraphExecuter.java:236)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.execute(DefaultTaskGraphExecuter.java:228)\n    at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:61)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:228)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:215)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:77)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:58)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:32)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:113)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$3.execute(DefaultGradleLauncher.java:196)\n    at org.gradle.initialization.DefaultGradleLauncher$3.execute(DefaultGradleLauncher.java:193)\n    at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:56)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:193)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:119)\n    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:102)\n    at org.gradle.launcher.exec.GradleBuildController.run(GradleBuildController.java:71)\n    at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:49)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:29)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:47)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n    at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\nCaused by: org.gradle.api.GradleException: Compilation error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:8)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.processCompilerExitCode(Tasks.kt:286)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:260)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:160)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:141)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:163)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:123)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:95)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:76)\n    ... 70 more\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1494245881, "post_id": 43847427, "comment_id": 74730683, "body": "The compiler should never throw such an exception to your face. So it&#39;s a bug in the compiler, and you should report it to Kotlin (if it doesn&#39;t exist yet)."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 4, "creation_date": 1494246342, "post_id": 43847427, "comment_id": 74731011, "body": "I&#39;ve reported the issue <a href=\"https://youtrack.jetbrains.com/issue/KT-17779\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-17779</a>"}], "answers": [{"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 1, "last_activity_date": 1494489983, "creation_date": 1494489983, "answer_id": 43909798, "question_id": 43847427, "link": "https://stackoverflow.com/questions/43847427/increments-cause-build-failure/43909798#43909798", "title": "Increments cause build failure", "body": "<p>You've encountered a bug in the compiler. I've reported the issue in <a href=\"https://youtrack.jetbrains.com/issue/KT-17779\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-17779</a>.</p>\n\n<p>You can rewrite your code as</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    Foo.x++\n}\n</code></pre>\n\n<p>as a workaround.</p>\n"}], "owner": {"reputation": 2158, "user_id": 7190191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80c97da8e6a0d7784317a81a3e8539ca?s=128&d=identicon&r=PG&f=1", "display_name": "grepcake", "link": "https://stackoverflow.com/users/7190191/grepcake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 43909798, "answer_count": 1, "score": 0, "last_activity_date": 1524947726, "creation_date": 1494245647, "last_edit_date": 1524947726, "question_id": 43847427, "link": "https://stackoverflow.com/questions/43847427/increments-cause-build-failure", "title": "Increments cause build failure", "body": "<pre><code>import Foo.x\n\nobject Foo {\n    var x = 5\n}\n\nfun main(args: Array&lt;String&gt;) {\n    ++x // or x += 1\n}\n</code></pre>\n\n<p>When I try to compile it I get <a href=\"https://pastebin.com/5xk8NHLg\" rel=\"nofollow noreferrer\">this error</a>.</p>\n\n<p>However when I replace <code>++x</code> with <code>x = x + 1</code> everything compiles just fine.</p>\n\n<p>I'm quite new to the language and can't understand what's the problem. Is it an expected behavior or there is a need for a bug report?</p>\n\n<p>Edit: <a href=\"https://youtrack.jetbrains.com/issue/KT-17779\" rel=\"nofollow noreferrer\">the bug is fixed</a></p>\n"}, {"tags": ["java", "android", "kotlin", "classnotfoundexception", "classnotfound"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1494243294, "post_id": 43846596, "comment_id": 74728839, "body": "How and where is <code>ContactListActivity</code> class declared?"}, {"owner": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1494243364, "post_id": 43846596, "comment_id": 74728887, "body": "It declared in the Manifest. @miensol"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1494243514, "post_id": 43846596, "comment_id": 74729010, "body": "Could you show us the source code where you have <code>class  ContactListActivity</code>?"}, {"owner": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1494243655, "post_id": 43846596, "comment_id": 74729114, "body": "@miensol I have added the ContactListActivity class under edit section in question."}], "answers": [{"comments": [{"owner": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "reply_to_user": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494244209, "post_id": 43846797, "comment_id": 74729484, "body": "@AnkurKhandelwal what did you try? You need to be more specific."}, {"owner": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "reply_to_user": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494244302, "post_id": 43846797, "comment_id": 74729544, "body": "Also, was the app compiling other Kotlin code before you added this Activity? Perhaps you haven&#39;t configured Kotlin correctly in your project yet?"}, {"owner": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494244330, "post_id": 43846797, "comment_id": 74729558, "body": "I have tried your answer. i.e. replace the manifest class name android:name=&quot;Chat_Activity$Connections$ContactListActivity&quot; to android:name=&quot;.ContactListActivity&quot;"}, {"owner": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "reply_to_user": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494244358, "post_id": 43846797, "comment_id": 74729578, "body": "Did you try the &#39;fully qualified name&#39; as well?"}, {"owner": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494244386, "post_id": 43846797, "comment_id": 74729592, "body": "I have configured the kotlin in the same way as I have configured it in the other project"}, {"owner": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494244441, "post_id": 43846797, "comment_id": 74729622, "body": "yes. Chat_Activity$Connections is the fully qualified name. right?"}, {"owner": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "reply_to_user": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494244607, "post_id": 43846797, "comment_id": 74729740, "body": "I don&#39;t know, you haven&#39;t provided your package structure. It shouldn&#39;t have a &#39;$&#39; in it, and I&#39;m surprised to see an underscore as well."}, {"owner": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494246268, "post_id": 43846797, "comment_id": 74730958, "body": "Ok. This time I have removed the capital starting char and make it small in the package name. But got error <code>Error:Execution failed for task &#39;:app:compileDebugKotlin&#39;</code>. To remove this, I have tried the &quot;Invalidate caches/Restart and clean options&quot;"}, {"owner": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494247226, "post_id": 43846797, "comment_id": 74731697, "body": "I have given the package name with starting the capital letters and given the _ in between the package name/folder."}, {"owner": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "reply_to_user": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "edited": false, "score": 0, "creation_date": 1494286326, "post_id": 43846797, "comment_id": 74753180, "body": "Ok, sounds like you&#39;ve solved your initial problem and now you have a new one. You should consider asking a new question and provide the relevant details."}], "tags": [], "owner": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "is_accepted": false, "score": 0, "last_activity_date": 1494243833, "creation_date": 1494243833, "answer_id": 43846797, "question_id": 43846596, "link": "https://stackoverflow.com/questions/43846596/class-not-found-in-kotlin/43846797#43846797", "title": "Class not found in kotlin?", "body": "<p>Your manifest <code>name</code> entry looks suspect.</p>\n\n<p><code>android:name=\"Chat_Activity$Connections$ContactListActivity\"</code></p>\n\n<p>I'm not sure what the fully qualified path name is, but try:</p>\n\n<p><code>android:name=\".ContactListActivity\"</code></p>\n\n<p>or</p>\n\n<p><code>android:name=\"&lt;qualified.path.to&gt;.ContactListActivity\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "is_accepted": false, "score": 0, "last_activity_date": 1496315257, "creation_date": 1496315257, "answer_id": 44305877, "question_id": 43846596, "link": "https://stackoverflow.com/questions/43846596/class-not-found-in-kotlin/44305877#44305877", "title": "Class not found in kotlin?", "body": "<p>I had similar problem, Try to rename Your activity add 1 symbol for ex: and inside your manifest\nwrite </p>\n\n<pre><code>android:name=\".ContactListActivity1\"\n</code></pre>\n\n<p>after that you can rename again and set it old name</p>\n"}], "owner": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3080, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1496315257, "creation_date": 1494243221, "last_edit_date": 1494243622, "question_id": 43846596, "link": "https://stackoverflow.com/questions/43846596/class-not-found-in-kotlin", "title": "Class not found in kotlin?", "body": "<pre><code> Intent intent=new Intent(MainActivity.this, ContactListActivity.class);\n                        startActivity(intent);\n</code></pre>\n\n<p>MainActivity.this is written in java and ContactListActivity is written in kotlin. I am trying to call the ContactListActivty but end up getting the error</p>\n\n<pre><code> have you declared this activity in your AndroidManifest.xml?\n</code></pre>\n\n<p>I have also added the activity in the manifest file.</p>\n\n<pre><code> &lt;activity android:name=\"Chat_Activity$Connections$ContactListActivity\"\n            android:parentActivityName=\".MainActivity\"&gt;\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".MainActivity\"/&gt;\n        &lt;/activity&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>ContactListActivity.kt</p>\n\n<pre><code>class ContactListActivity : AppCompatActivity() {\n\n    private var mBroadcastReceiver: BroadcastReceiver? = null\n    private val TAG:String=\"ContactListActivity\"\n\n    //static variable\n    object Obz{\n        @JvmStatic val GetContactListFromServer:String=\"Contact List\"\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(layout.activity_contact_list)\n\n\n        title = \"Contact list\"\n\n        contact_list.hasFixedSize()\n        contact_list.layoutManager= LinearLayoutManager(this)\n\n        getContactListAndNextActivity()\n    }\n\n    fun getContactListAndNextActivity(){\n\n        contact_list.adapter= ContactListAdaptor(applicationContext, dbHelper(applicationContext).getContactList())\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["maven", "kotlin"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1494177284, "post_id": 43834360, "comment_id": 74705405, "body": "Could you please provide some more context and the code that files to compile? Perhaps even provide a minimal failing example?"}, {"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1494178701, "post_id": 43834360, "comment_id": 74705881, "body": "@ChristianBr&#252;ggemann Does that help or do you need more?"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1494179181, "post_id": 43834360, "comment_id": 74706053, "body": "Did you configure the Kotlin Maven plugin in your <code>pom.xml</code> as <a href=\"https://kotlinlang.org/docs/reference/using-maven.html\" rel=\"nofollow noreferrer\">described here</a>? If yes, what does your <code>pom.xml</code> look like?  By the way, code formatting on StackOverflow is done using 4 space indentation."}, {"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1494179680, "post_id": 43834360, "comment_id": 74706236, "body": "@ChristianBr&#252;ggemann I have and <a href=\"https://hastebin.com/wesapavovo.xml\" rel=\"nofollow noreferrer\">here</a> is my pom.xml"}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1494185243, "post_id": 43834360, "comment_id": 74708083, "body": "Your pom is missing the <code>sourceDirs</code> declarations shown in the link @ChristianBr&#252;ggemann told you about... here again: <a href=\"https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "reply_to_user": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1494187355, "post_id": 43834360, "comment_id": 74708776, "body": "@Renato Okay I tried to add that but it still dosen&#39;t work <a href=\"https://hastebin.com/enulabexur.xml\" rel=\"nofollow noreferrer\">here</a> is my pom now"}], "answers": [{"tags": [], "owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "is_accepted": false, "score": 2, "last_activity_date": 1494201635, "creation_date": 1494201635, "answer_id": 43837980, "question_id": 43834360, "link": "https://stackoverflow.com/questions/43834360/error-trying-to-instantiate-a-kotlin-class-from-java/43837980#43837980", "title": "Error trying to instantiate a Kotlin class from Java", "body": "<p>After going trough <a href=\"https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"nofollow noreferrer\">this</a> page multiple times and realizing that I had done nothing wrong I started to just mess around with my pom and eventually got it working by changing the phase of the Kotlin compile to <code>process-sources</code></p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 542882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/609138dd205f282111a280d5320400e4?s=128&d=identicon&r=PG", "display_name": "michaelrice", "link": "https://stackoverflow.com/users/542882/michaelrice"}, "is_accepted": true, "score": 0, "last_activity_date": 1494224097, "creation_date": 1494224097, "answer_id": 43840925, "question_id": 43834360, "link": "https://stackoverflow.com/questions/43834360/error-trying-to-instantiate-a-kotlin-class-from-java/43840925#43840925", "title": "Error trying to instantiate a Kotlin class from Java", "body": "<p>I'm still figuring out Kotlin, but I tried to work through a few permutations based on your example. I was easily able to create your problem based on your Hastebin pom.</p>\n\n<p>You were right that changing the <code>&lt;phase&gt;</code> to <code>process-sources</code> got my test code to compile in Maven, but I (honestly) can't always remember all the Maven phases off the top of my head so I wouldn't personally be comfortable with changing to process-sources without more research -- especially since the IntelliJ tooling relies on the <code>compile</code> phase.</p>\n\n<p>After playing around with my own interop examples, it seems like the critical (and missing from the tooling defaults) piece is the <code>&lt;sourceDirectory&gt;</code> element as a top-level child of <code>&lt;build&gt;</code> as in:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n</code></pre>\n\n<p>Adding the <code>&lt;sourceDirectory&gt;</code> as a top-level element under <code>&lt;build&gt;</code> made my Java to Kotlin interop code compile when I ran the <code>mvn compile</code> terminal command. That was true when I mixed the source files in the \"java\" directory to contain both Java and Kotlin files.</p>\n\n<p>As a side note (and I don't I understand why as I write this), when I added \"Kotlin\" as part of my class name to my Kotlin source I didn't need to add the <code>&lt;sourceDirectory&gt;</code> element...</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1494265328, "creation_date": 1494265328, "answer_id": 43854020, "question_id": 43834360, "link": "https://stackoverflow.com/questions/43834360/error-trying-to-instantiate-a-kotlin-class-from-java/43854020#43854020", "title": "Error trying to instantiate a Kotlin class from Java", "body": "<p>The <code>maven-compiler-plugin</code> adds default executions <code>default-compile</code> and <code>default-testCompile</code> that run first in the corresponding phases.</p>\n\n<p>In order to use Kotlin classes in Java code, you need to run Kotlin compiler before Java compiler runs. One way to do it is to schedule its execution to <code>process-sources</code> phase. Another approach is to \"unschedule\" default executions of Java plugin and schedule new executions instead after the execution of Kotlin plugin. </p>\n\n<p>The default executions of Java plugin are turned off with this section of pom.xml:</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n            &lt;execution&gt;\n                &lt;id&gt;default-compile&lt;/id&gt;\n                &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n            &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n            &lt;execution&gt;\n                &lt;id&gt;default-testCompile&lt;/id&gt;\n                &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n\n            ...\n\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>And then new executions are added:</p>\n\n<pre><code>            &lt;execution&gt;\n                &lt;id&gt;java-compile&lt;/id&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;java-test-compile&lt;/id&gt;\n                &lt;phase&gt;test-compile&lt;/phase&gt;\n                &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n            &lt;/execution&gt;\n</code></pre>\n\n<p>The full example is shown here: <a href=\"https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources</a></p>\n"}, {"tags": [], "owner": {"reputation": 930, "user_id": 941711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cb0b0d6d2ff91978bd04f247c3dbaf0?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/941711/dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1548224557, "creation_date": 1548224557, "answer_id": 54321123, "question_id": 43834360, "link": "https://stackoverflow.com/questions/43834360/error-trying-to-instantiate-a-kotlin-class-from-java/54321123#54321123", "title": "Error trying to instantiate a Kotlin class from Java", "body": "<p>i met similar problem , and i tried to fix it like this:</p>\n\n<p>the reason is that the java compiler runs before kotlin compiler , and the java class can't find the kotlin class when compiling.</p>\n\n<p>so specify the kotlin compiler plugin in your pom.xml(root pom.xml)</p>\n\n<pre><code>    &lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-antrun.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.taobao.pandora&lt;/groupId&gt;\n                &lt;artifactId&gt;pandora-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${pandora-boot-maven-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.alibaba.citrus.tool&lt;/groupId&gt;\n                &lt;artifactId&gt;autoconfig-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${autoconfig-maven-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;compile&lt;/id&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;compile&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;test-compile&lt;/id&gt;\n                &lt;phase&gt;test-compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;test-compile&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n\n\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;default-compile&lt;/id&gt;\n                &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;default-testCompile&lt;/id&gt;\n                &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;compile&lt;/id&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;compile&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;testCompile&lt;/id&gt;\n                &lt;phase&gt;test-compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;testCompile&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n            &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n            &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;attatch-sources&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;jar&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>it works for me.</p>\n"}], "owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 1, "accepted_answer_id": 43840925, "answer_count": 4, "score": 0, "last_activity_date": 1548224557, "creation_date": 1494177108, "last_edit_date": 1494184880, "question_id": 43834360, "link": "https://stackoverflow.com/questions/43834360/error-trying-to-instantiate-a-kotlin-class-from-java", "title": "Error trying to instantiate a Kotlin class from Java", "body": "<p>I am trying to instantiate a Kotlin class from Java but every time I try to compile with Maven I get the error <code>cannot find symbol</code>:</p>\n\n<pre><code>class ConfigCommand(private val game: Game) : Command(\"config\", \"\") {\n\n  init {\n    addAliases(\"cfg\")\n  }\n\n  override fun getRequiredRank(): Rank? {\n    return null\n  }\n\n  override fun getDescription(): String {\n    return \"Shows the config for the game\"\n  }\n\n  @Throws(CommandException::class)\n  override fun execute(sender: CommandSender, args: Array&lt;String&gt;): Boolean {\n\n    if (args.isEmpty()) {\n        if (sender !is Player)\n            throw NoConsoleAccessException()\n        sender.openInventory(ConfigGUI(game).build())\n        return true\n    }\n\n    return false\n  }\n}\n</code></pre>\n\n<p>Not sure why that didn't format correctly but anyway before I converted it to a Kotlin class it worked but I need to register this command in my main class which is a Java class. When I try to instantiate a Kotlin class from a Java class there are no errors in the IDE but when I go to compile it maven screams</p>\n\n<pre><code>cannot find symbol\n[ERROR] symbol:   class ConfigCommand\n</code></pre>\n"}, {"tags": ["functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 1, "creation_date": 1494168362, "post_id": 43832696, "comment_id": 74702399, "body": "Are you sure with <code>while (i != id[i]) i = id[i]</code>? That looks awkward, considering the id array is just <code>0..N-1</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": false, "score": 4, "last_activity_date": 1494271412, "last_edit_date": 1494271412, "creation_date": 1494168721, "answer_id": 43832923, "question_id": 43832696, "link": "https://stackoverflow.com/questions/43832696/converting-the-imperative-root-function-to-functional-style-in-kotlin/43832923#43832923", "title": "Converting the imperative root function to functional style in kotlin", "body": "<p>To answer your question, here's how you can rewrite <code>root</code> to be functional:</p>\n\n<pre><code>tailrec fun root(i: Int): Int = if (i == id[i]) i else root(id[i])\n</code></pre>\n\n<p>The <code>tailrec</code> keyword lets the compiler know that it should compile this to a loop, which avoids allocations on the stack due to recursion.</p>\n\n<p>However, I agree with <a href=\"https://stackoverflow.com/questions/43832696/converting-the-imperative-root-function-to-functional-style-in-kotlin#comment74702399_43832696\">glee8e</a>: There may be better ways to express this.</p>\n\n<p>You can also avoid the <code>init</code> block and just pass a lambda to <code>IntArray</code> to initialize each element:</p>\n\n<pre><code>private val id: IntArray = IntArray(N) { it }\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 2841537, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/73e030db6d9ed4c10919be06fc668bea?s=128&d=identicon&r=PG&f=1", "display_name": "Hakucha", "link": "https://stackoverflow.com/users/2841537/hakucha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1494271412, "creation_date": 1494167447, "question_id": 43832696, "link": "https://stackoverflow.com/questions/43832696/converting-the-imperative-root-function-to-functional-style-in-kotlin", "title": "Converting the imperative root function to functional style in kotlin", "body": "<p>The root function checks and traverse until it get the root element in the tree.</p>\n\n<pre><code>class NodeRoot(N: Int){\n    private val id: IntArray = IntArray(N)\n    init {\n        (0..N-1).forEach{ id[it] = it }\n    }\n\n    fun root(i: Int): Int {\n        var i = i\n        while (i != id[i]) i = id[i]\n        return i\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1561, "user_id": 1772342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pvNgt.jpg?s=128&g=1", "display_name": "breandan", "link": "https://stackoverflow.com/users/1772342/breandan"}, "edited": false, "score": 0, "creation_date": 1494162525, "post_id": 43831650, "comment_id": 74700583, "body": "Thanks! The empty loop is just by example, ie. I could just as easily sleep. For example: <code>while (System.currentTimeMillis() - timer &lt;= 2000) {Thread.sleep(Math.abs(2000 - (System.currentTimeMillis() - timer)))}</code>. Also     <code>private var future: ScheduledFuture&lt;Void&gt;? = null;</code> is a pattern I would rather avoid."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 1, "last_activity_date": 1494161775, "last_edit_date": 1494161775, "creation_date": 1494161274, "answer_id": 43831650, "question_id": 43831401, "link": "https://stackoverflow.com/questions/43831401/dead-mans-switch-in-kotlin/43831650#43831650", "title": "Dead man&#39;s switch in Kotlin", "body": "<p>If I understand correctly, your code consists in looping doing nothing until the time interval has elapsed. This is a bad idea, since it consumes a whole lot of CPU doing nothing, instead of just waiting.</p>\n\n<p>I would use a ScheduledExecutr to schedule the firing of the notification. And I would cancel the returned future when an event comes in before the notification is fired:</p>\n\n<pre><code>import java.time.Instant.now\nimport java.util.concurrent.Executors\nimport java.util.concurrent.ScheduledFuture\nimport java.util.concurrent.TimeUnit\n\nclass StopWatch {\n    private var future: ScheduledFuture&lt;Void&gt;? = null;\n    private val executor = Executors.newSingleThreadScheduledExecutor()\n\n    fun onSomeEvent() {\n        synchronized(this) {\n            future.let {\n                future?.cancel(false)\n                future = null\n            }\n\n            val command = {\n                synchronized(this@StopWatch) {\n                    future = null\n                }\n                fireNotification()\n                null\n            }\n            future = executor.schedule(command, 2, TimeUnit.SECONDS)\n        }\n        println(\"${now()} - event\")\n    }\n\n    private fun fireNotification() {\n        println(\"${now()} - notification\")\n    }\n\n    fun shutdown() {\n        executor.shutdown()\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val stopWatch = StopWatch()\n    stopWatch.onSomeEvent()\n    Thread.sleep(1000)\n    stopWatch.onSomeEvent()\n    Thread.sleep(1000)\n    stopWatch.onSomeEvent()\n    Thread.sleep(1000)\n    stopWatch.onSomeEvent()\n    Thread.sleep(3000)\n    stopWatch.onSomeEvent()\n    stopWatch.shutdown()\n}\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>2017-05-07T12:45:55.647Z - event\n2017-05-07T12:45:56.741Z - event\n2017-05-07T12:45:57.743Z - event\n2017-05-07T12:45:58.745Z - event\n2017-05-07T12:46:00.747Z - notification\n2017-05-07T12:46:01.750Z - event\n2017-05-07T12:46:03.753Z - notification\n</code></pre>\n"}], "owner": {"reputation": 1561, "user_id": 1772342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pvNgt.jpg?s=128&g=1", "display_name": "breandan", "link": "https://stackoverflow.com/users/1772342/breandan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494161775, "creation_date": 1494159665, "last_edit_date": 1494159980, "question_id": 43831401, "link": "https://stackoverflow.com/questions/43831401/dead-mans-switch-in-kotlin", "title": "Dead man&#39;s switch in Kotlin", "body": "<p>I want to implement a <a href=\"https://en.wikipedia.org/wiki/Dead_man%27s_switch\" rel=\"nofollow noreferrer\">Dead man's switch</a> in Kotlin. What this does is fire a notification <code>TIME_INTERVAL</code> seconds after the last <code>MyEvent</code> was received. When a new <code>MyEvent</code> is received, it restarts the timer.</p>\n\n<pre><code>private val stopWatch = object : () -&gt; Unit {\n  var timer = System.currentTimeMillis()\n  var isRunning = false\n\n  override fun invoke() {\n    timer = System.currentTimeMillis()\n    if (isRunning) return\n    synchronized(this) {\n      isRunning = true\n\n      while (System.currentTimeMillis() - timer &lt;= TIME_INTERVAL) {}\n\n      fireNotification()\n      isRunning = false\n    }\n  }\n}\n\noverride fun onSomeEvent(e: MyEvent?) {\n  runAsync(stopWatch)\n}\n</code></pre>\n\n<p>Is there a simpler or easier way to get this functionality by using either the <code>kotlin.concurrent</code> or Java standard libraries?</p>\n"}, {"tags": ["kotlin", "nullable"], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 3, "last_activity_date": 1494145707, "creation_date": 1494145707, "answer_id": 43829399, "question_id": 43827706, "link": "https://stackoverflow.com/questions/43827706/calling-java-code-that-doesnt-accept-null-from-kotlin/43829399#43829399", "title": "Calling java code that doesn&#39;t accept null from kotlin", "body": "<p>External annotations are <a href=\"https://discuss.kotlinlang.org/t/how-to-use-kotlin-jdk-annotations/1384/2?u=cbruegg\" rel=\"nofollow noreferrer\">no longer supported</a>. You'll either have to fork libgdx and annotate the methods there or live with this issue, unfortunately.</p>\n"}, {"tags": [], "owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "is_accepted": false, "score": 1, "last_activity_date": 1494269707, "creation_date": 1494269707, "answer_id": 43855240, "question_id": 43827706, "link": "https://stackoverflow.com/questions/43827706/calling-java-code-that-doesnt-accept-null-from-kotlin/43855240#43855240", "title": "Calling java code that doesn&#39;t accept null from kotlin", "body": "<p>You could wrap it in an extension function and then only use that for rendering: </p>\n\n<pre><code>fun RenderClass.renderSafe(renderProvider: RenderableProvider) = \n    this.render(renderProvider)\n</code></pre>\n\n<p>Now you can't pass <code>null</code>.</p>\n"}], "owner": {"reputation": 33, "user_id": 3775442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5406d9beeb12bf69e5f4f0ada5bdf6a2?s=128&d=identicon&r=PG&f=1", "display_name": "user3775442", "link": "https://stackoverflow.com/users/3775442/user3775442"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 43829399, "answer_count": 2, "score": 3, "last_activity_date": 1494269707, "creation_date": 1494130005, "question_id": 43827706, "link": "https://stackoverflow.com/questions/43827706/calling-java-code-that-doesnt-accept-null-from-kotlin", "title": "Calling java code that doesn&#39;t accept null from kotlin", "body": "<p>IDEA Community 2017.1.2, JRE 1.8, Kotlin 1.1.2-2</p>\n\n<p>I have Java methods, located in libGdx that don't have any annotations regarding their nullability, e.g.:</p>\n\n<pre><code>public void render (final RenderableProvider renderableProvider) {\n  renderableProvider.getRenderables(renderables, renderablesPool);\n</code></pre>\n\n<p>as we can see, argument can't be null. However, since nothing tells that it's not-null argument, Kotlin will happily pass null in <code>RenderableProvider?</code>. How do I tell Kotlin to check during compile-time that I should be passing <code>RenderableProvider</code> and not <code>RenderableProvider?</code>?</p>\n\n<p>I've read about <a href=\"https://blog.jetbrains.com/kotlin/using-external-annotations/\" rel=\"nofollow noreferrer\">external annotations</a>, however there is no \"Specify Custom Kotlin Signature\" and if I annotate <code>renderableProvider</code> as <code>@NotNull</code> nothing changes - kotlin still allows  null.</p>\n\n<p>I even tried to replace <code>org.jetbrains.annotations.NotNull</code> with <code>javax.annotation.Nonnull</code> in XML manually, but it makes no difference - code compiles and crashes with NPE.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 176, "last_activity_date": 1550344471, "last_edit_date": 1592644375, "creation_date": 1494117387, "answer_id": 43826700, "question_id": 43826699, "link": "https://stackoverflow.com/questions/43826699/single-exclamation-mark-in-kotlin/43826700#43826700", "title": "Single exclamation mark in Kotlin", "body": "<p>They're called <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#notation-for-platform-types\" rel=\"noreferrer\">platform types</a> and they mean that Kotlin doesn't know whether that value can or cannot be <code>null</code> and it's up to you to decide if it's nullable or not.</p>\n<blockquote>\n<p>In a nutshell, the problem is that any reference coming from Java may be null, and Kotlin, being null-safe by design, forced the user to null-check every Java value, or use safe calls (<code>?.</code>) or not-null assertions (<code>!!</code>). Those being very handy features in the pure Kotlin world, tend to turn into a disaster when you have to use them too often in the Kotlin/Java setting.</p>\n<p>This is why we took a radical approach and made Kotlin\u2019s type system more relaxed when it comes to Java interop: now references coming from Java have specially marked types -- <a href=\"https://blog.jetbrains.com/kotlin/2014/10/m9-is-here/\" rel=\"noreferrer\">Kotlin Blog</a></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2384, "user_id": 452486, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/a8k4V.jpg?s=128&g=1", "display_name": "Arst", "link": "https://stackoverflow.com/users/452486/arst"}, "edited": false, "score": 1, "creation_date": 1573730761, "post_id": 43827873, "comment_id": 103983058, "body": "Why not <code>T</code> means &quot;<code>T!</code> or <code>T?</code>&quot;"}, {"owner": {"reputation": 2384, "user_id": 452486, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/a8k4V.jpg?s=128&g=1", "display_name": "Arst", "link": "https://stackoverflow.com/users/452486/arst"}, "edited": false, "score": 0, "creation_date": 1573731191, "post_id": 43827873, "comment_id": 103983281, "body": "T! means non-nullable, T? means nullable. Why Kotlin does not do that..."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 2384, "user_id": 452486, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/a8k4V.jpg?s=128&g=1", "display_name": "Arst", "link": "https://stackoverflow.com/users/452486/arst"}, "edited": false, "score": 4, "creation_date": 1573819147, "post_id": 43827873, "comment_id": 104020602, "body": "Because the best default is &quot;non-nullable&quot; for obvious reasons, and it is a good design for the default to be the shortest type signature. Thus <code>T</code> was made &quot;non-nullable&quot;, and the rest was more or less arbitrary"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 69, "last_activity_date": 1494131916, "creation_date": 1494131916, "answer_id": 43827873, "question_id": 43826699, "link": "https://stackoverflow.com/questions/43826699/single-exclamation-mark-in-kotlin/43827873#43827873", "title": "Single exclamation mark in Kotlin", "body": "<p>It's the notation for <a href=\"http://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"noreferrer\">platform types</a>:</p>\n\n<p><code>T!</code> means \"<code>T</code> or <code>T?</code>\"</p>\n"}, {"comments": [{"owner": {"reputation": 401, "user_id": 278934, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/4c0ceb3f51013b5621d38f7d3cee8606?s=128&d=identicon&r=PG", "display_name": "Ewan", "link": "https://stackoverflow.com/users/278934/ewan"}, "edited": false, "score": 0, "creation_date": 1589876918, "post_id": 48713582, "comment_id": 109459462, "body": "Phrases like &#39;most probably&#39; don&#39;t help"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 14, "last_activity_date": 1524805809, "last_edit_date": 1592644375, "creation_date": 1518207915, "answer_id": 48713582, "question_id": 43826699, "link": "https://stackoverflow.com/questions/43826699/single-exclamation-mark-in-kotlin/48713582#48713582", "title": "Single exclamation mark in Kotlin", "body": "<p>A Type notated with <code>!</code> is called <strong>platform type</strong>, which is a type <em>coming from Java</em> and thus can most probably be <code>null</code>. It\u2019s what the Kotlin compiler infers by default when calling Java (for the most basic cases, Java methods can be <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#nullability-annotations\" rel=\"noreferrer\">annotated</a> to get around this). You should handle platform types as <em>nullable</em> types, unless you certainly know that the particular API will never return <code>null</code>. The compiler allows platform types to be assigned to variables of both nullable and non-null types.</p>\n<blockquote>\n<p><strong><a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"noreferrer\">Notation for Platform Types</a></strong></p>\n<p>[...]</p>\n<p><code>T!</code> means &quot;<code>T or T?</code>&quot; [...]</p>\n</blockquote>\n<p>You could refer to platform types as &quot;types of <strong>unknown nullability</strong>&quot;. Also important to know is that you cannot use the exclamation-marked type for your own types, <em>it's not part of the Kotlin syntax, it's only a notation</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 29117, "user_id": 1587329, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/UWmiP.png?s=128&g=1", "display_name": "serv-inc", "link": "https://stackoverflow.com/users/1587329/serv-inc"}, "is_accepted": false, "score": 3, "last_activity_date": 1530709765, "creation_date": 1530709765, "answer_id": 51174520, "question_id": 43826699, "link": "https://stackoverflow.com/questions/43826699/single-exclamation-mark-in-kotlin/51174520#51174520", "title": "Single exclamation mark in Kotlin", "body": "<blockquote>\n  <p>I've seen it a few times especially when using Java APIs</p>\n</blockquote>\n\n<p>As mentioned by s1m0nw1, <code>T!</code> means <code>T or T?</code>. The next question is: what is <code>T?</code>? This is nicely documented at <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html</a>. Kotlin does not allow certain elements to be <code>null</code>, e.g. <code>String</code>, unlike Java</p>\n\n<blockquote>\n  <p>To allow nulls, we can declare a variable as nullable string, written\n  String?:</p>\n\n<pre><code>var b: String? = \"abc\"\nb = null // ok\n</code></pre>\n  \n  <p>[...]</p>\n\n<pre><code>b?.length \n</code></pre>\n  \n  <p>This returns b.length if b is not null, and null otherwise. The type of this expression is <code>Int?</code>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1547509606, "creation_date": 1547509606, "answer_id": 54190849, "question_id": 43826699, "link": "https://stackoverflow.com/questions/43826699/single-exclamation-mark-in-kotlin/54190849#54190849", "title": "Single exclamation mark in Kotlin", "body": "<p>Excerpt from <a href=\"https://medium.com/@preslavrachev/platform-types-in-kotlin-5caceeb556ad\" rel=\"nofollow noreferrer\">Platform Types in Kotlin</a> :</p>\n\n<blockquote>\n  <p>Besides explicitly specifying a type as optional (e.g. <strong><code>Person?</code></strong>), Kotlin presents us with another beast, called <code>Platform Type</code>, specified by putting a single exclamation mark instead (e.g. <strong><code>Person!</code></strong>). This concept has been created for compatibility reasons, when accessing code from null-unsafe platforms like Java. It is often the case that when using a Java library, many methods return <code>SomeType!</code>, since the Kotlin compiler cannot infer if the result is nullable or not.</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>(Mutable)Collection&lt;T&gt;! \n</code></pre>\n\n<p>Just means the following: \"<strong><em>Java collection of T may be mutable or not, may be nullable or not</em></strong>\".</p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 27, "last_activity_date": 1597237078, "last_edit_date": 1597237078, "creation_date": 1550775346, "answer_id": 54814294, "question_id": 43826699, "link": "https://stackoverflow.com/questions/43826699/single-exclamation-mark-in-kotlin/54814294#54814294", "title": "Single exclamation mark in Kotlin", "body": "<h2>Platform Types</h2>\n<p>The type names or class names ending with single exclamation mark <code>!</code> are called <em>platform types</em> in Kotlin. You find them when you are working  in Kotlin with old Java code that doesn't contain nullability information.</p>\n<p>Examples:</p>\n<p><strong>Nullable Information: Nullable Type</strong></p>\n<p><code>@Nullable String</code> in Java is considered as <code>String?</code> by Kotlin.</p>\n<p><strong>Non-null Information: Non-null Type</strong></p>\n<p><code>@NotNull String</code> in Java is considered as <code>String</code> by Kotlin.</p>\n<p><strong>No Information: Platform Type</strong></p>\n<p><code>String</code> without annotations in Java is considered as <code>String!</code> by Kotlin.</p>\n<hr />\n<h2>How to deal with Platform Types?</h2>\n<p>You can work with a platform type either as a nullable or a non-null. The compiler will allow you to call all methods on this type. It\u2019s your responsibility how to use them. If you know that the value can be null, you should compare it with null before you call methods on it. If you know it\u2019s not null, you can use it directly but as in Java, you\u2019ll get exception if your assumption about the nullability is wrong.</p>\n<p>Note that you can't declare platform types in Kotlin code, they come only from Java code.</p>\n<hr />\n<h2>Inheritance and Platform Types</h2>\n<p>While overriding Java methods in Kotlin code, you have the option to declare parameters and return types as nullable or non-null. You need to choose this wisely, because if you decide to make the parameters non-null, the Kotlin compiler generates non-null assertions for these non-null parameters. And when next time you access this Kotlin code back from Java and you pass a null value, you'll get exception.</p>\n<p>Hope that helps clearing all your doubts about Platform Types.</p>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36701, "favorite_count": 18, "accepted_answer_id": 43826700, "answer_count": 6, "score": 166, "last_activity_date": 1597237078, "creation_date": 1494117387, "last_edit_date": 1494117605, "question_id": 43826699, "link": "https://stackoverflow.com/questions/43826699/single-exclamation-mark-in-kotlin", "title": "Single exclamation mark in Kotlin", "body": "<p>What does a single exclamation mark mean in Kotlin? I've seen it a few times especially when using Java APIs. But I couldn't find it in the documentation nor on StackOverflow.</p>\n"}, {"tags": ["generics", "kotlin", "nullable"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1494116000, "post_id": 43826465, "comment_id": 74690984, "body": "Despite the fact that the block passed to let is only execute if the value is not null, <code>it</code> is still of type T inside the block. So you can assign is to a variable of type Any?, but not to a variable of type Any."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1494116076, "post_id": 43826465, "comment_id": 74691000, "body": "@JBNizet so can I be sure that it&#39;s not null and just cast it?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1494116317, "post_id": 43826465, "comment_id": 74691044, "body": "Yes, you can do that. But I don&#39;t really understand why your method is generic."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 4, "creation_date": 1494235710, "post_id": 43826465, "comment_id": 74724058, "body": "You could define your class like this instead: <code>class A&lt;T : Any&gt;(private var value: T?)</code>"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1494248793, "post_id": 43826465, "comment_id": 74732796, "body": "@marstran didn&#39;t think of that. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "is_accepted": true, "score": 1, "last_activity_date": 1494269945, "creation_date": 1494269945, "answer_id": 43855312, "question_id": 43826465, "link": "https://stackoverflow.com/questions/43826465/kotlin-type-mismatch-with-generics/43855312#43855312", "title": "Kotlin type mismatch with generics", "body": "<p>I think you've left a few things out of your example to get that error. So I'm going to guess and what you are really are trying to achieve and please forgive me if I have misinterpreted your intent.</p>\n\n<pre><code>class A&lt;T : Any&gt;(private val value: T?) { // T? instead of T to allow null value\n  fun function() {\n    value?.let {\n      // *it* is already a non-null because you did a ?.let on a T? type\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1105, "favorite_count": 0, "accepted_answer_id": 43855312, "answer_count": 1, "score": 2, "last_activity_date": 1494269945, "creation_date": 1494114484, "question_id": 43826465, "link": "https://stackoverflow.com/questions/43826465/kotlin-type-mismatch-with-generics", "title": "Kotlin type mismatch with generics", "body": "<p>I recently experienced an issue regarding safe navigation operator (<code>?.</code>) and generics. </p>\n\n<pre><code>class A&lt;T : Any?&gt;(private var value: T) {\n    fun function() {\n        value?.let { \n            val notNull: Any = it\n            //                 ^^\n            // Type mismatch: \n            // Required: Any\n            // Found:    T\n        }\n    }\n}\n</code></pre>\n\n<p>I believe the above code should have no problems running but it produces the error shown above. Am I missing something?</p>\n"}, {"tags": ["generics", "extension-methods", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1494114477, "post_id": 43826438, "comment_id": 74690728, "body": "What&#39;s the point? Why not use <code>?:</code> directly? It&#39;s both standard and more concise."}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1494114581, "post_id": 43826438, "comment_id": 74690751, "body": ".... I&#39;ve got no real reason I guess lol. It was just a personal preference route I started going down."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1494132167, "post_id": 43826438, "comment_id": 74693291, "body": "Please note that <code>?.</code> in the <code>if</code> is excess"}, {"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 0, "creation_date": 1494251791, "post_id": 43826438, "comment_id": 74735058, "body": "Good catch, voddan. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "edited": false, "score": 1, "creation_date": 1494119223, "post_id": 43826483, "comment_id": 74691478, "body": "Thanks! I agree, probably wasn&#39;t the right route to go, but thanks for answering the question. I really was lost on creating a generic extension method, but this helped for that, so I&#39;m leaving the question up. Someone may have a more useful need in the future haha"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 11, "last_activity_date": 1494114716, "creation_date": 1494114716, "answer_id": 43826483, "question_id": 43826438, "link": "https://stackoverflow.com/questions/43826438/how-to-write-a-generic-extension-method-in-kotlin/43826483#43826483", "title": "How to write a generic extension method in Kotlin?", "body": "<p>I would not do that, and use the standard <code>?:</code> operator that every Kotlin developer should know, and that is more concise.</p>\n\n<p>But to answer your question:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val k1: Long? = null\n    val k2: Long? = 4L\n\n    println(k1.default(0L)) // prints 0\n    println(k2.default(0L)) // prints 4\n}\n\n\nfun &lt;T&gt; T?.default(default: T): T {\n    return this ?: default\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 2, "last_activity_date": 1494114746, "creation_date": 1494114746, "answer_id": 43826487, "question_id": 43826438, "link": "https://stackoverflow.com/questions/43826438/how-to-write-a-generic-extension-method-in-kotlin/43826487#43826487", "title": "How to write a generic extension method in Kotlin?", "body": "<p>You can create a method to do this and it's below though I don't get why would you want a method for that? You can basically just use <code>?:</code> directly. It's both more readable and compact.</p>\n\n<p>Extension function:</p>\n\n<pre><code>fun &lt;T&gt; T?.default(default: T): T {\n    return this ?: default\n}\n</code></pre>\n"}], "owner": {"reputation": 15222, "user_id": 3131147, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HOOno.jpg?s=128&g=1", "display_name": "AdamMc331", "link": "https://stackoverflow.com/users/3131147/adammc331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2218, "favorite_count": 0, "accepted_answer_id": 43826483, "answer_count": 2, "score": 4, "last_activity_date": 1494114746, "creation_date": 1494114238, "question_id": 43826438, "link": "https://stackoverflow.com/questions/43826438/how-to-write-a-generic-extension-method-in-kotlin", "title": "How to write a generic extension method in Kotlin?", "body": "<p>In a project I'm working on, I've found myself writing a few extension methods for some types to return a default value if an optional is null.</p>\n\n<p>For example, I may have a <code>Boolean?</code> object, and I want to use it in a conditional expression defaulted to false, so I would write:</p>\n\n<pre><code>if (myOptional?.default(false)) { .. }\n</code></pre>\n\n<p>I've written this for a few types:</p>\n\n<pre><code>fun Boolean?.default(default: Boolean): Boolean {\n    return this ?: default\n}\n\nfun Long?.default(default: Long): Long {\n    return this ?: default\n}\n\nfun Int?.default(default: Int): Int {\n    return this ?: default\n}\n</code></pre>\n\n<p>I'm wondering if there's a way to do this generically, so I can write one extension method that I can use for all types?</p>\n"}, {"tags": ["reflection", "kotlin", "kotlin-reflect"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 1, "creation_date": 1494120204, "post_id": 43826049, "comment_id": 74691601, "body": "I don&#39;t know for sure but i think it&#39;s the only way. Kotlin reflection library is awkward in many aspects. e.g. You have to test whether the type represented by a KClass has a constructor or not to know whether this is an interface or a class. It lacks some extension properties to make it easy to learn and use."}], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 0, "last_activity_date": 1494337842, "creation_date": 1494337842, "answer_id": 43871710, "question_id": 43826049, "link": "https://stackoverflow.com/questions/43826049/check-if-function-is-extension/43871710#43871710", "title": "Check if function is extension", "body": "<p>Currently, the only way to check this is to use:\n<code>function.extensionReceiverParameter</code>. </p>\n\n<p>If it returns <code>null</code> it's not an extension function. If it returns a non-null value that function is a extension function</p>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 43871710, "answer_count": 1, "score": 1, "last_activity_date": 1494337842, "creation_date": 1494110614, "question_id": 43826049, "link": "https://stackoverflow.com/questions/43826049/check-if-function-is-extension", "title": "Check if function is extension", "body": "<p>Given a <code>KFunction</code> how can I check if it's a extension function? </p>\n\n<p>The only way I know is to check if <code>function.extensionReceiverParameter</code> returns <code>null</code>. Is there any other or a recommended way?</p>\n"}, {"tags": ["reflection", "kotlin", "kotlin-reflect"], "answers": [{"comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1494109352, "post_id": 43825823, "comment_id": 74689822, "body": "So when <code>instanceParameter</code> returns null it means that I don&#39;t need to pass the callable owner, right?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1494109805, "post_id": 43825823, "comment_id": 74689910, "body": "Almost. There are also extension functions: <code>fun Any.foo() = 1</code>: it will have <code>instanceParameter == null</code>, so you probably want to check <code>extensionReceiverParameter</code> as well."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1494110027, "last_edit_date": 1494110027, "creation_date": 1494108387, "answer_id": 43825823, "question_id": 43822920, "link": "https://stackoverflow.com/questions/43822920/kotlin-check-if-function-requires-instance-parameter/43825823#43825823", "title": "Kotlin check if function requires instance parameter", "body": "<p>An improvement of the method you suggested is to check the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/instance-parameter.html\" rel=\"nofollow noreferrer\"><code>instanceParameter</code></a> property: if it is not null, then the callable expects an instance:</p>\n\n<pre><code>val isInstanceCallable = callable.instanceParameter != null\n</code></pre>\n\n<p>Also, extension functions like <code>fun Any.foo() = ...</code> will have null in the <code>instanceParameter</code>, and you likely want to check the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/extension-receiver-parameter.html\" rel=\"nofollow noreferrer\"><code>extensionReceiverParameter</code></a> as well.</p>\n\n<hr>\n\n<p>Also, if you only need to work with callable references, you can check whether they have a bound receiver (i.e. the instance that it is bound to). Use the <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/runtime.jvm/src/kotlin/jvm/internal/CallableReference.java#L72\" rel=\"nofollow noreferrer\"><code>boundReceiver</code></a> property:</p>\n\n<pre><code>val instance = (callable as CallableReference).boundReceiver\n</code></pre>\n\n<p>When a callable reference is unbound, it will return a special value <code>CallableReference.NO_RECEIVER</code>, therefore you just need to compare the returned value with it:</p>\n\n<pre><code>val bound = (callable as CallableReference).boundReceiver != CallableReference.NO_RECEIVER\n</code></pre>\n\n<p><a href=\"https://try.kotlinlang.org/#/UserProjects/ej4v0lsv15ejct4d8akvpe5ubt/jnak5d672nk15ii8rldtdtt50t\" rel=\"nofollow noreferrer\"><sup>(runnable example)</sup></a></p>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 43825823, "answer_count": 1, "score": 1, "last_activity_date": 1494110027, "creation_date": 1494088829, "last_edit_date": 1494089572, "question_id": 43822920, "link": "https://stackoverflow.com/questions/43822920/kotlin-check-if-function-requires-instance-parameter", "title": "Kotlin check if function requires instance parameter", "body": "<p>If a <code>KCallable</code> is created using <code>Any()::toString</code> then when it's later referenced you don't need to pass that <code>Any</code> instance (when using <code>call</code>). </p>\n\n<p>Though if it's created using <code>Any::toString</code> (not an instance of <code>Any</code>) it's required to pass an <code>Any</code> instance. </p>\n\n<p>So my question is how can I easily find out whether I need to pass that instance parameter and is this parameter mandatory? </p>\n\n<p>I found a way to do this: </p>\n\n<p><code>callable.parameters[0].kind == KParameter.Kind.INSTANCE</code> </p>\n\n<p>but it isn't quite nice and I wonder if there's an easier or recommended way to solve this. Thanks!</p>\n"}, {"tags": ["gradle", "groovy", "kotlin"], "comments": [{"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1494090799, "post_id": 43822187, "comment_id": 74684742, "body": "I&#39;m not skilful enough in kotlin but maybe this example will help you somehow: <a href=\"https://github.com/gradle/gradle-script-kotlin/blob/master/samples/extra-properties/build.gradle.kts\" rel=\"nofollow noreferrer\">github.com/gradle/gradle-script-kotlin/blob/master/samples/&hellip;</a>"}, {"owner": {"reputation": 224, "user_id": 2699852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2834467304ed0631d59fdd81b96438bc?s=128&d=identicon&r=PG", "display_name": "gumyns", "link": "https://stackoverflow.com/users/2699852/gumyns"}, "reply_to_user": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1494091694, "post_id": 43822187, "comment_id": 74685017, "body": "@Opal Unfortunatelly no, the closest one I found is <a href=\"https://github.com/gradle/gradle-script-kotlin/tree/master/samples/groovy-interop\" rel=\"nofollow noreferrer\">github.com/gradle/gradle-script-kotlin/tree/master/samples/&hellip;</a> , but I&#39;d like to do exactly opposite . This one sets extras on Groovy side, while reading it on Kotlin side. I&#39;m trying to set on Kotlin side, and read on Groovy side."}, {"owner": {"reputation": 224, "user_id": 2699852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2834467304ed0631d59fdd81b96438bc?s=128&d=identicon&r=PG", "display_name": "gumyns", "link": "https://stackoverflow.com/users/2699852/gumyns"}, "reply_to_user": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1494104156, "post_id": 43822187, "comment_id": 74688629, "body": "Ok, looks like setting values is done like this:      <code>var gitHash: String by extra</code>     <code>gitHash = &quot;works&quot;</code>  Question is still, how to deal with closures..."}, {"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1494104256, "post_id": 43822187, "comment_id": 74688653, "body": "Yes, that&#39;s right, however how to set the values that is a reference to a function?"}, {"owner": {"reputation": 224, "user_id": 2699852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2834467304ed0631d59fdd81b96438bc?s=128&d=identicon&r=PG", "display_name": "gumyns", "link": "https://stackoverflow.com/users/2699852/gumyns"}, "reply_to_user": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 2, "creation_date": 1494107261, "post_id": 43822187, "comment_id": 74689381, "body": "I see there are few helpers <a href=\"https://github.com/gradle/gradle-script-kotlin/blob/master/src/main/kotlin/org/gradle/script/lang/kotlin/GroovyInteroperability.kt\" rel=\"nofollow noreferrer\">github.com/gradle/gradle-script-kotlin/blob/master/src/main/&zwnj;&#8203;&hellip;</a> but, right now <code>var gitHash: Closure&lt;Any?&gt; by extra; gitHash = closureOf&lt;Any&gt;({ gitHash() });</code> should do the job according to this. However it doesn&#39;t, but <code>var gitHash: Closure&lt;Any?&gt; by extra; gitHash = closureOf&lt;String&gt; { }; gitHash.delegate = { gitHash() };</code> and in groovy <code>println gitHash.invoke()</code> works like a charm. Better than nothing, but i can&#39;t believe that it&#39;s best way to do so :)"}, {"owner": {"reputation": 224, "user_id": 2699852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2834467304ed0631d59fdd81b96438bc?s=128&d=identicon&r=PG", "display_name": "gumyns", "link": "https://stackoverflow.com/users/2699852/gumyns"}, "reply_to_user": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 1, "creation_date": 1494107338, "post_id": 43822187, "comment_id": 74689395, "body": "First one throws such error... Parameter specified as non-null is null: method org.gradle.script.lang.kotlin.KotlinClosure.doCall, parameter it"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 5374740, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/m1W1Q.jpg?s=128&g=1", "display_name": "Lex Luthor", "link": "https://stackoverflow.com/users/5374740/lex-luthor"}, "edited": false, "score": 0, "creation_date": 1526714598, "post_id": 50406777, "comment_id": 87860442, "body": "Maybe you should consider using the <a href=\"https://github.com/n0mer/gradle-git-properties\" rel=\"nofollow noreferrer\">gradle-git-properties</a> plugin instead. It contains all of the functionality you highlighted and it allows you to configure the results as <b>ext</b> properties or as an output file that can be rendered using the spring actuator <i>info</i> endpoint."}, {"owner": {"reputation": 224, "user_id": 2699852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2834467304ed0631d59fdd81b96438bc?s=128&d=identicon&r=PG", "display_name": "gumyns", "link": "https://stackoverflow.com/users/2699852/gumyns"}, "edited": false, "score": 0, "creation_date": 1526987460, "post_id": 50406777, "comment_id": 87945511, "body": "I&#39;ve already found a nasty solution with buildSrc feature without a need to deal with kotlin gradle plugin problems. <a href=\"https://gist.github.com/gumyns/e9f0fc0004122af33a4ca758b0b51bf3\" rel=\"nofollow noreferrer\">gist.github.com/gumyns/e9f0fc0004122af33a4ca758b0b51bf3</a>"}], "tags": [], "owner": {"reputation": 321, "user_id": 5374740, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/m1W1Q.jpg?s=128&g=1", "display_name": "Lex Luthor", "link": "https://stackoverflow.com/users/5374740/lex-luthor"}, "is_accepted": false, "score": 0, "last_activity_date": 1526712838, "last_edit_date": 1526712838, "creation_date": 1526631353, "answer_id": 50406777, "question_id": 43822187, "link": "https://stackoverflow.com/questions/43822187/migrating-groovy-gradle-to-kotlin-gradle-ext-missing-or-closure-conversion-no/50406777#50406777", "title": "Migrating Groovy gradle to Kotlin gradle (ext missing, or closure conversion, not sure)", "body": "<p>In case you're still looking for a solution, here's what I'd suggest:</p>\n\n<pre><code>import java.io.ByteArrayOutputStream\n\ninline\nfun String.runCommand(workingDir: File): String {\n    val command = this\n    val stdout = ByteArrayOutputStream()\n    project.exec {\n        this.workingDir = workingDir\n        this.commandLine = command.split(\" \")\n        this.standardOutput = stdout\n    }\n    return String(stdout.toByteArray()).trim()\n}\n\ntask(\"gitHash\") {\n    var res = \"git rev-parse --short HEAD\".runCommand(project.rootDir)\n    val diff = \"git diff\".runCommand(project.rootDir)\n    if (!diff.isNullOrBlank()) { res += \"-dirty\" }\n    println(res)\n}\n</code></pre>\n\n<p>I've tested it with <a href=\"https://docs.gradle.org/current/userguide/userguide.html\" rel=\"nofollow noreferrer\">Gradle</a> <a href=\"https://docs.gradle.org/4.6/release-notes.html\" rel=\"nofollow noreferrer\">4.6+</a></p>\n\n<p>.. or perhaps the more idiomatic:</p>\n\n<pre><code>inline\nfun String.runCommand(workingDir: File): String {\n    val stdout = ByteArrayOutputStream()\n    project.exec {\n        this.workingDir = workingDir\n        this.commandLine = this@runCommand.split(\" \")\n        this.standardOutput = stdout\n    }\n    return String(stdout.toByteArray()).trim()\n}\n\nval commitHash by lazy { \"git rev-parse --short HEAD\".runCommand(project.rootDir) }\nval workingCopyDiff by lazy { \"git diff\".runCommand(project.rootDir) }\n\nval gitHash by tasks.creating {\n    println(commitHash + if (workingCopyDiff.isBlank()) \"\" else \"-dirty\")\n}\n</code></pre>\n"}], "owner": {"reputation": 224, "user_id": 2699852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2834467304ed0631d59fdd81b96438bc?s=128&d=identicon&r=PG", "display_name": "gumyns", "link": "https://stackoverflow.com/users/2699852/gumyns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1087, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1526712838, "creation_date": 1494084516, "last_edit_date": 1494196010, "question_id": 43822187, "link": "https://stackoverflow.com/questions/43822187/migrating-groovy-gradle-to-kotlin-gradle-ext-missing-or-closure-conversion-no", "title": "Migrating Groovy gradle to Kotlin gradle (ext missing, or closure conversion, not sure)", "body": "<p>I have some Git helper written in groovy:</p>\n\n<p>git.gradle:</p>\n\n<pre><code>def gitHash() {\n    def res = 'git rev-parse --short HEAD'.execute([], project.rootDir).text.trim()\n\n    def diff = 'git diff'.execute([], project.rootDir).text.trim()\n    if (diff != null &amp;&amp; diff.length() &gt; 0) {\n        res += \"-dirty\"\n    }\n\n    return res\n}\n\n// method needs to be converted to closure, in order to be visible outside of script\next.gitHash =  { return gitHash();}\n</code></pre>\n\n<p>Now I converted whole stuff to Kotlin, looks like this now:</p>\n\n<p>git.gradle.kts:</p>\n\n<pre><code>import java.io.IOException\nimport java.util.concurrent.TimeUnit\n\nfun gitHash() : String {\n    var res = \"git rev-parse --short HEAD\".runCommand(project.rootDir)?.trim()\n\n    val diff = \"git diff\".runCommand(project.rootDir)?.trim()\n    if (diff != null &amp;&amp; diff.isNotEmpty()) {\n        res += \"-dirty\"\n    }\n    return res!!\n}\n\nfun String.runCommand(workingDir: File): String? {\n    ...\n}\n\n// method needs to be converted to closure, in order to be visible outside of script\n//ext.gitHash =  { return gitHash();} // &lt;-- HERE'S THE PROBLEM\n\ntask(\"gitTask\") { // &lt;-- calling ./gradlew gitTask works\n    println(gitHash())\n}\n</code></pre>\n\n<p>Main script includes these like this:</p>\n\n<pre><code>//apply from: 'git.gradle'\napply from: 'git.gradle.kts'\n\nprintln gitHash() // works with Groovy, doesn't with Kotlin\n</code></pre>\n\n<p>Now, problem is, that main script can't recognize gitHash() method, most likely because I can't expose it via ext closure. Same as in Groovy script, this method seems to be private (or local) in that file.</p>\n\n<p>As far I understand, ext closure is shorthand of 'project.extra' which I was trying to integrate. Also, it seems that typical Groovy closure have no equivalent in Kotlin. I stuck here, without any idea what else could I try. Any ideas welcome.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>With:</p>\n\n<pre><code>var gitHash: Closure&lt;Any?&gt; by extra\ngitHash = closureOf&lt;String&gt; { }\ngitHash.delegate = { gitHash() }\n</code></pre>\n\n<p>I'm able to work with it in Groovy like:</p>\n\n<pre><code>println gitHash.invoke()\n</code></pre>\n\n<p>But it doesn't work with Kotlin script... because invoke() points to call() (<a href=\"https://github.com/gradle/gradle-script-kotlin/blob/master/src/main/kotlin/org/gradle/script/lang/kotlin/GroovyInteroperability.kt\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle-script-kotlin/blob/master/src/main/kotlin/org/gradle/script/lang/kotlin/GroovyInteroperability.kt</a> extension methods here). And while I'm trying to use it as closure <code>gitHash()</code> it leads to such error:</p>\n\n<pre><code>Parameter specified as non-null is null: method org.gradle.script.lang.kotlin.KotlinClosure.doCall, parameter it \n</code></pre>\n\n<p>It looks like I'm missing something...</p>\n"}, {"tags": ["java", "kotlin", "reactive-programming", "rx-java2", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 4, "last_activity_date": 1494087181, "creation_date": 1494087181, "answer_id": 43822648, "question_id": 43821571, "link": "https://stackoverflow.com/questions/43821571/get-n-last-objects-emitted-by-observable-in-rxjava2/43822648#43822648", "title": "Get N last objects emitted by observable in RxJava2", "body": "<p>In RxJava, many operators have the name that matches the common language expression of the same operation: take + last N -> <code>takeLast(int n)</code>:</p>\n\n<pre><code>Observable.range(1, 10)\n   .takeLast(3)\n   .toList() // &lt;--  in case you want it as a list\n   .subscribe(System.out::println);\n</code></pre>\n"}], "owner": {"reputation": 2191, "user_id": 2794332, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5ea3c23bb50f4cdb54a2008d3e990a0d?s=128&d=identicon&r=PG&f=1", "display_name": "pezetem", "link": "https://stackoverflow.com/users/2794332/pezetem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 1, "accepted_answer_id": 43822648, "answer_count": 1, "score": 3, "last_activity_date": 1494087181, "creation_date": 1494080567, "last_edit_date": 1494080881, "question_id": 43821571, "link": "https://stackoverflow.com/questions/43821571/get-n-last-objects-emitted-by-observable-in-rxjava2", "title": "Get N last objects emitted by observable in RxJava2", "body": "<p>I have a Observables which emits some numbers and I simply want to take last N elements. </p>\n\n<p>I have following code (I'm using RxKotlin which is simply a wrapper on RxJava):</p>\n\n<pre><code>val list = listOf(1,2,3,4,5,6,7,8,9,10)\nObservable.fromIterable(list)\n          .buffer(3, 1)\n          .lastOrError()\n          .subscribe{value -&gt; println(value)}\n</code></pre>\n\n<p>Unfortunately the result is <code>[10]</code>, as I looked closer what the buffer operator returns, I saw this:</p>\n\n<pre><code>[1, 2, 3]\n[2, 3, 4]\n[3, 4, 5]\n[4, 5, 6]\n[5, 6, 7]\n[6, 7, 8]\n[7, 8, 9]\n[8, 9, 10]\n[9, 10]\n[10] \n</code></pre>\n\n<p>is there a way to get last \"full\" buffer -> <code>[8, 9, 10]</code> ?</p>\n"}, {"tags": ["object", "kotlin", "companion-object"], "comments": [{"owner": {"reputation": 1430, "user_id": 5212904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGdDF.jpg?s=128&g=1", "display_name": "ArtiomLK", "link": "https://stackoverflow.com/users/5212904/artiomlk"}, "edited": false, "score": 4, "creation_date": 1519236186, "post_id": 43814616, "comment_id": 84831505, "body": "<code>object</code> for Singletons and <code>companion object</code> for static methods. <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">Kotlin -  Object declarations</a> provides a good usage explanation."}], "answers": [{"tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": false, "score": 3, "last_activity_date": 1494040782, "creation_date": 1494040782, "answer_id": 43816372, "question_id": 43814616, "link": "https://stackoverflow.com/questions/43814616/kotlin-difference-between-object-and-companion-object-in-a-class/43816372#43816372", "title": "Kotlin: Difference between object and companion object in a class", "body": "<p>Companion object exists because you can call companion objects' functions/properties like it is a java static method/field. And for why your <code>Holder</code> is allowed, well, there is no reason that declaring a nested object is illegal. It may comes in handy sometimes.</p>\n"}, {"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1494067154, "post_id": 43817845, "comment_id": 74677347, "body": "AFAIK there is some difference in the initialization order"}, {"owner": {"reputation": 1232, "user_id": 5446845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b76d68d066d4f3cf0dd711287606242?s=128&d=identicon&r=PG&f=1", "display_name": "Poweranimal", "link": "https://stackoverflow.com/users/5446845/poweranimal"}, "edited": false, "score": 0, "creation_date": 1494069076, "post_id": 43817845, "comment_id": 74677897, "body": "What is difference? I would guess companion is initialized first, because it&#39;s tied to its class and afterwards the object is called?"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 36, "creation_date": 1494076045, "post_id": 43817845, "comment_id": 74679942, "body": "Companion object is initialized from the static constructor of the containing class and plain object is initialized lazily on the first access to that object."}, {"owner": {"reputation": 1113, "user_id": 8888461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ33s.jpg?s=128&g=1", "display_name": "Segun Wahaab", "link": "https://stackoverflow.com/users/8888461/segun-wahaab"}, "edited": false, "score": 0, "creation_date": 1602587594, "post_id": 43817845, "comment_id": 113761933, "body": "This answer shouldn&#39;t be the right answer. Accepting this answer is simply misleading. The last sentence of this answer is clearly false. <b>In terms of lifecycle, there is absolutely a difference between a companion object and a named object declared in a class as pointed out by @llya above.</b>"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 50, "last_activity_date": 1494055250, "creation_date": 1494055250, "answer_id": 43817845, "question_id": 43814616, "link": "https://stackoverflow.com/questions/43814616/kotlin-difference-between-object-and-companion-object-in-a-class/43817845#43817845", "title": "Kotlin: Difference between object and companion object in a class", "body": "<p>Objects can implement interfaces. Inside a class, defining a simple object that doesn't implement any interfaces has no benefit in most cases. However, defining multiple objects that implement various interfaces (e.g. <code>Comparator</code>) can be very useful.</p>\n\n<p>In terms of lifecycle, there is no difference between a companion object and a named object declared in a class.</p>\n"}, {"comments": [{"owner": {"reputation": 826, "user_id": 1154508, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/672b573976092f95312e372cc9a20ebd?s=128&d=identicon&r=PG", "display_name": "Rici", "link": "https://stackoverflow.com/users/1154508/rici"}, "edited": false, "score": 2, "creation_date": 1509126180, "post_id": 46156988, "comment_id": 80908841, "body": "Thanks Mike! This should be the answer."}, {"owner": {"reputation": 1577, "user_id": 4233180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXCjt68DFoA/AAAAAAAAAAI/AAAAAAAAACs/hqpMFb_4--c/photo.jpg?sz=128", "display_name": "Supriya", "link": "https://stackoverflow.com/users/4233180/supriya"}, "edited": false, "score": 2, "creation_date": 1511172600, "post_id": 46156988, "comment_id": 81731835, "body": "I had to use the method inside companion object as <code>MyClass.MyCompanionObject.actsAsStatic()</code> or <code>MyClass.Companion.actsAsStatic()</code> if the companion object didn&#39;t have a name. Is that a new change, or did I do something wrong? Thanks."}], "tags": [], "owner": {"reputation": 5742, "user_id": 1467321, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a97d67d08221ce54272481f69c000a6a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/1467321/mike"}, "is_accepted": false, "score": 67, "last_activity_date": 1521492290, "last_edit_date": 1521492290, "creation_date": 1505136758, "answer_id": 46156988, "question_id": 43814616, "link": "https://stackoverflow.com/questions/43814616/kotlin-difference-between-object-and-companion-object-in-a-class/46156988#46156988", "title": "Kotlin: Difference between object and companion object in a class", "body": "<p>There are two different types of <code>object</code> uses, <strong>expression</strong> and <strong>declaration</strong>.</p>\n\n<p><strong>Object Expression</strong></p>\n\n<p>An object expression can be used when a class needs slight modification, but it's not necessary to create an entirely new subclass for it.  Anonymous inner classes are a good example of this.</p>\n\n<pre><code>    button.setOnClickListener(object: View.OnClickListener() {\n        override fun onClick(view: View) {\n            // click event\n        }\n    })\n</code></pre>\n\n<p>One thing to watch out for is that anonymous inner classes can access variables from the enclosing scope, and these variables do not have to be <code>final</code>.  This means that a variable used inside an anonymous inner class that is not considered <code>final</code> can change value unexpectedly before it is accessed.</p>\n\n<p><strong>Object Declaration</strong></p>\n\n<p>An object declaration is similar to a variable declaration and therefore cannot be used on the right side of an assignment statement.  Object declarations are very useful for implementing the Singleton pattern. </p>\n\n<pre><code>    object MySingletonObject {\n        fun getInstance(): MySingletonObject {\n            // return single instance of object\n        }\n    }\n</code></pre>\n\n<p>And the <code>getInstance</code> method can then be invoked like this.  </p>\n\n<pre><code>    MySingletonObject.getInstance()\n</code></pre>\n\n<p><strong>Companion Object</strong>  </p>\n\n<p>A companion object is a specific type of object declaration that allows an object to act similar to static objects in other languages (such as Java).  Adding <code>companion</code> to the object declaration allows for adding the \"static\" functionality to an object even though the actual static concept does not exist in Kotlin.  Here's an example of a class with instance methods and companion methods.  </p>\n\n<pre><code> class MyClass {\n        companion object MyCompanionObject {\n            fun actsAsStatic() {\n                // do stuff\n            }\n        }\n\n       fun instanceMethod() {\n            // do stuff\n        }\n    }\n</code></pre>\n\n<p>Invoking the instance method would look like this.</p>\n\n<pre><code>    var myClass = MyClass()\n    myClass.instanceMethod()\n</code></pre>\n\n<p>Invoking the companion object method would look like this.</p>\n\n<pre><code>    MyClass.actsAsStatic()\n</code></pre>\n\n<p>See the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"noreferrer\">Kotlin docs</a> for more info.</p>\n"}, {"tags": [], "owner": {"reputation": 1577, "user_id": 4233180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXCjt68DFoA/AAAAAAAAAAI/AAAAAAAAACs/hqpMFb_4--c/photo.jpg?sz=128", "display_name": "Supriya", "link": "https://stackoverflow.com/users/4233180/supriya"}, "is_accepted": false, "score": 8, "last_activity_date": 1511172364, "creation_date": 1511172364, "answer_id": 47389431, "question_id": 43814616, "link": "https://stackoverflow.com/questions/43814616/kotlin-difference-between-object-and-companion-object-in-a-class/47389431#47389431", "title": "Kotlin: Difference between object and companion object in a class", "body": "<p>An object, or an object declaration, is initialized lazily, when accessed for the first time.</p>\n\n<p>A companion object is initialized when the corresponding class is loaded. It brings about the 'static' essence, although Kotlin does not inherently support static members.</p>\n"}, {"tags": [], "owner": {"reputation": 200, "user_id": 3129312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QEidB.jpg?s=128&g=1", "display_name": "Swati Singh", "link": "https://stackoverflow.com/users/3129312/swati-singh"}, "is_accepted": false, "score": 3, "last_activity_date": 1562738583, "creation_date": 1562738583, "answer_id": 56964235, "question_id": 43814616, "link": "https://stackoverflow.com/questions/43814616/kotlin-difference-between-object-and-companion-object-in-a-class/56964235#56964235", "title": "Kotlin: Difference between object and companion object in a class", "body": "<p>A <strong>Companion object</strong> is initialized when the class is loaded (typically the first time it's referenced by other code that is being executed) whereas <strong>Object</strong> declarations are initialized lazily, when accessed for the first time.</p>\n\n<p>Please refer <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html</a> bottom section clearly defines the difference between these two.</p>\n"}, {"tags": [], "owner": {"reputation": 2952, "user_id": 4413098, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a944fcc2691378e0c49b5c564bd55d2?s=128&d=identicon&r=PG&f=1", "display_name": "mightyWOZ", "link": "https://stackoverflow.com/users/4413098/mightywoz"}, "is_accepted": false, "score": 9, "last_activity_date": 1606165972, "last_edit_date": 1606165972, "creation_date": 1576261784, "answer_id": 59328028, "question_id": 43814616, "link": "https://stackoverflow.com/questions/43814616/kotlin-difference-between-object-and-companion-object-in-a-class/59328028#59328028", "title": "Kotlin: Difference between object and companion object in a class", "body": "<p>As <em><strong>Kotlin in Action</strong></em> states</p>\n<blockquote>\n<p>The object keyword comes up in Kotlin in a number of cases, but they\nall share the same core idea: the keyword defines a class and creates\nan instance (in other words, an object) of that class at the same\ntime.</p>\n</blockquote>\n<p>when it comes to a plain object and a companion object, the only significant difference is that properties and functions of a companion object can be accessed directly by using the name of the containing class which makes it seem like java static member access.</p>\n<p>for example if you have following class</p>\n<pre><code>class Temp{\n    object Holder{\n        fun foo() = 1\n    }\n\n    companion object{\n        fun foo() = &quot;Hello World&quot;\n    }\n}\n</code></pre>\n<p>then you can access both of these objects as following\nFrom containing class</p>\n<pre><code>foo()   // call to companion object function\nHolder.foo() // call to plain object function\n</code></pre>\n<p>and from outside the class</p>\n<pre><code>Temp.foo() // call to companion object function\nTemp.Holder.foo() // call to plain object function\n</code></pre>\n<p>Under the hood every object declaration creates a singleton.\nin case of companion object the singleton object is created in the static initializer of the containing class.\nbut in case of plain objects singleton instance is created lazily when the object class is accessed for the first time.</p>\n<p><em>You can see it for yourself by compiling the kotlin class and then decompiling the generated class files using some java decompiler.</em></p>\n<p>As to why there is also a possibility of declaring a normal object in the class, consider the following class where a member object is very useful.</p>\n<pre><code>data class Employee(val name: String) {\n    object NameComparator : Comparator&lt;Employee&gt; {\n         override fun compare(p1: Employee, p2: Employee): Int =\n             p1.name.compareTo(p2.name)\n    }\n}\n</code></pre>\n<p>now we can sort a list of employees as</p>\n<pre><code>list.sortedWith(Employee.NameComparator))\n</code></pre>\n"}], "owner": {"reputation": 1232, "user_id": 5446845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b76d68d066d4f3cf0dd711287606242?s=128&d=identicon&r=PG&f=1", "display_name": "Poweranimal", "link": "https://stackoverflow.com/users/5446845/poweranimal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22659, "favorite_count": 10, "accepted_answer_id": 43817845, "answer_count": 6, "score": 82, "last_activity_date": 1610432765, "creation_date": 1494023368, "question_id": 43814616, "link": "https://stackoverflow.com/questions/43814616/kotlin-difference-between-object-and-companion-object-in-a-class", "title": "Kotlin: Difference between object and companion object in a class", "body": "<p>What is the difference between an object and a companion object in a class in kotlin?</p>\n\n<p>Example:</p>\n\n<pre><code>class MyClass {\n\n    object Holder {\n        //something\n    }\n\n    companion object {\n        //something\n    }\n}\n</code></pre>\n\n<p>I already read that companion object shall be used, if the containing parameters/methods are closely related to its class.</p>\n\n<p>But why is there also the possibility of declaring a normal object in the class? Because it behaves exactly like the companion, but it must have a name.</p>\n\n<p>Is there maybe a difference in its \"static\" (I'm from the java side) lifecycle? </p>\n"}, {"tags": ["android", "lambda", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1494010263, "post_id": 43811864, "comment_id": 74663156, "body": "&quot;Getter visibility must be the same as property visibility&quot; (i.e. you cannot have <code>public set</code> with <code>private get</code>). I suggest <code>var listener: () -&gt; Unit = {}</code>."}], "tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": false, "score": 20, "last_activity_date": 1494066833, "last_edit_date": 1494066833, "creation_date": 1494009883, "answer_id": 43811864, "question_id": 43811599, "link": "https://stackoverflow.com/questions/43811599/store-lambda-in-a-variable-in-kotlin/43811864#43811864", "title": "Store lambda in a variable in kotlin", "body": "<p>Here's how you can do it:</p>\n\n<pre><code>class Foo {\n    private var listener: () -&gt; Unit = {}\n    fun setListener(listener: () -&gt; Unit) {\n        this.listener = listener\n    }\n}\n</code></pre>\n\n<p>However, manually writing setters is discouraged in Kotlin. Instead, you can just make your property public:</p>\n\n<pre><code>class Foo {\n    var listener: () -&gt; Unit = {}\n}\n</code></pre>\n\n<p>For reference, here are the <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"noreferrer\">docs about properties</a> with lots of examples.</p>\n"}, {"comments": [{"owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1494012184, "post_id": 43812103, "comment_id": 74664095, "body": "With this code I get an error also when trying to use _listener inside my class"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "reply_to_user": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "edited": false, "score": 0, "creation_date": 1494074187, "post_id": 43812103, "comment_id": 74679374, "body": "@aloj I&#39;ve augumented &amp; clarified my answer. If you&#39;re still getting error, post error message."}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1494083298, "post_id": 43812103, "comment_id": 74682244, "body": "You could just make the getter private with <code>private get() = ...</code>. Then you don&#39;t even need the <code>_listener</code> property."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "reply_to_user": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1494095086, "post_id": 43812103, "comment_id": 74686039, "body": "@diesieben07 you can&#39;t set setter vilibility lower than getter visibility."}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 12, "last_activity_date": 1494074115, "last_edit_date": 1494074115, "creation_date": 1494010925, "answer_id": 43812103, "question_id": 43811599, "link": "https://stackoverflow.com/questions/43811599/store-lambda-in-a-variable-in-kotlin/43812103#43812103", "title": "Store lambda in a variable in kotlin", "body": "<p>You can store a function in a property easily. The simplest way:</p>\n\n<pre><code>var listener: (() -&gt; Unit)? = null\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>foo.listener = { println(\"called\") }\n</code></pre>\n\n<p>If you want your property to be set-only, you can create one public property with unusable getter and one private property for internal use. Full example:</p>\n\n<pre><code>class Example {\n\n    // for internal use\n    private var _listener: (() -&gt; Unit)? = null\n\n    // public set-only\n    var listener: (() -&gt; Unit)?\n        @Deprecated(message = \"set-only\", level = DeprecationLevel.ERROR)\n        get() = throw AssertionError() // unusable getter\n        set(value) { _listener = value } // write-through setter\n\n    fun somethingHappend() {\n        _listener?.invoke()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 14630265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6eOe.png?s=128&g=1", "display_name": "Anwar Zahid", "link": "https://stackoverflow.com/users/14630265/anwar-zahid"}, "is_accepted": false, "score": 0, "last_activity_date": 1616689325, "creation_date": 1616689325, "answer_id": 66803645, "question_id": 43811599, "link": "https://stackoverflow.com/questions/43811599/store-lambda-in-a-variable-in-kotlin/66803645#66803645", "title": "Store lambda in a variable in kotlin", "body": "<p>Here is a simple example.</p>\n<pre><code>fun main(){\n    val result=::sum //function assign to variable (first method)\n    val result1: (first: Int, second: Int) -&gt; Int=::sum //function assign to variable (second method)\n    print(result(5,6))\n\n}\nfun  sum(first:Int,second:Int):Int{\n    return first+second;\n}\n</code></pre>\n"}], "owner": {"reputation": 2916, "user_id": 1365554, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/2cfb0dd57221f409fbf50f93b17eee6c?s=128&d=identicon&r=PG", "display_name": "aloj", "link": "https://stackoverflow.com/users/1365554/aloj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9374, "favorite_count": 2, "answer_count": 3, "score": 18, "last_activity_date": 1616689325, "creation_date": 1494008856, "last_edit_date": 1494010369, "question_id": 43811599, "link": "https://stackoverflow.com/questions/43811599/store-lambda-in-a-variable-in-kotlin", "title": "Store lambda in a variable in kotlin", "body": "<p>I'm starting developing in Android with kotlin and I have a problem with lambdas. I have a function to set a listener in my view, this looks like this:</p>\n\n<pre><code>fun setListener(listener: () -&gt; Unit) {\n}\n</code></pre>\n\n<p>The problem is that the code passed as lambda won't be executed in setListener function, it will be executed in another part of my code (specifically when an item of a spinner is selected) so I have to \"save\" or \"store\" this lambda into a variable/property so that I'm able to execute it when needed. Any idea about how to do it?</p>\n\n<p>Edit: I've achieved it by doing:</p>\n\n<pre><code>private var listener: (() -&gt; Unit)? = null\n\nfun setListener(listener: () -&gt; Unit) {\n    this.listener = listener\n}\n</code></pre>\n\n<p>Is there a better way to do it? Thanks</p>\n"}, {"tags": ["android", "file", "kotlin", "smack"], "answers": [{"tags": [], "owner": {"reputation": 1150, "user_id": 1198334, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WumfC.jpg?s=128&g=1", "display_name": "Kenan Begi\u0107", "link": "https://stackoverflow.com/users/1198334/kenan-begi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1525944963, "last_edit_date": 1525944963, "creation_date": 1518730909, "answer_id": 48816774, "question_id": 43805211, "link": "https://stackoverflow.com/questions/43805211/exception-while-sending-file-using-smack-android/48816774#48816774", "title": "Exception while sending file using smack Android", "body": "<p>I had same problem then I investigated the stanza and solved it this way.</p>\n\n<p>Many people use <strong>\"/Smack</strong>\" or <strong>\"/Resource\"</strong> as resource part in jid, but that can be done another way.</p>\n\n<p>Resource path is changing with every presence changed of user. Lets say we want to send image to this user:\n<strong>\"user1@mydomain\"</strong></p>\n\n<p>You must add \"/Resource\" or \"/Smack\" part to this jid and it become this:\n<strong>user1@mydomain/Resource</strong></p>\n\n<p>But resource path is changing with presence so you must follow every presence change to update resource path.\nBest way is to get user presence is in roster listener and in presencheChanged() method you get last user resource part like this:</p>\n\n<pre><code>Roster roster=getRoster();\nroster.addRosterListener(new RosterListener() {\n                @Override\n                public void entriesAdded(Collection&lt;Jid&gt; addresses) {\n                    Log.d(\"entriesAdded\", \"ug\");\n                    context.sendBroadcast(new Intent(\"ENTRIES_ADDED\"));\n                }\n\n                @Override\n                public void entriesUpdated(Collection&lt;Jid&gt; addresses) {\n                    Log.d(\"entriesUpdated\", \"ug\");\n                }\n\n                @Override\n                public void entriesDeleted(Collection&lt;Jid&gt; addresses) {\n                    Log.d(\"entriesDeleted\", \"ug\");\n                }\n\n                @Override\n                public void presenceChanged(Presence presence) {\n                    Log.d(\"presenceChanged\", \"ug\");\n                    //Resource from presence\n                    String resource = presence.getFrom().getResourceOrEmpty().toString();\n                    //Update resource part for user in DB or preferences\n                    //...\n                }\n            });\n}\n</code></pre>\n\n<p>Resource string will be some generated string like <strong>\"6u1613j3kv</strong>\" and jid will become:\n<strong>user1@mydomain/6u1613j3kv</strong></p>\n\n<p>That means that you must create your outgoing transfer like this:</p>\n\n<pre><code>EntityFullJid jid = JidCreate.entityFullFrom(\"user1@mydomain/6u1613j3kv\"); \nOutgoingFileTransfer transfer = manager.createOutgoingFileTransfer(jid)\n</code></pre>\n\n<p>In your case you are using <strong>/Smack</strong> which is incorrect. Use resource part from presence.</p>\n\n<p>And that is how i have solved my problem with file transfer on smack and Openfire.</p>\n\n<p>Also to mention you must add following properties in your Openfire server:</p>\n\n<pre><code>xmpp.proxy.enabled - true\nxmpp.proxy.externalip - MY_IP_ADDRESS\nxmpp.proxy.port -7777\n</code></pre>\n\n<p>Just to mention, I am using Openfire 4.0.2 and Smack 4.2.2.</p>\n\n<p>Also this can be configured the easy way, just set the resource on </p>\n\n<blockquote>\n  <p>XMPPTCPConnectionConfiguration.Builder .</p>\n</blockquote>\n\n<p>like</p>\n\n<pre><code>XMPPTCPConnectionConfiguration.Builder configurationBuilder = \nXMPPTCPConnectionConfiguration.builder(); \n\nconfigurationBuilder.setResource(\"yourResourceName\");\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 7220319, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-68nKgfYqfiE/AAAAAAAAAAI/AAAAAAAAAAk/MQI3o5AfhQs/photo.jpg?sz=128", "display_name": "Ankur Khandelwal", "link": "https://stackoverflow.com/users/7220319/ankur-khandelwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525944963, "creation_date": 1493987938, "last_edit_date": 1494592407, "question_id": 43805211, "link": "https://stackoverflow.com/questions/43805211/exception-while-sending-file-using-smack-android", "title": "Exception while sending file using smack Android", "body": "<pre><code>    file_upload.setOnClickListener {\n                // Create the file transfer manager\n                var fileTransferInstance:FileTransferManager=FileTransferManager.getInstanceFor(connection)\n                Log.i(\"id is \",contactPersonJId)\n                // Create the outgoing file transfer\n                fileTransderReceiver=fileTransferInstance.createOutgoingFileTransfer(contactPersonJId+\"/Smack\")\n\n                //location of the file\n                locateFile()\n\n            }\n\n    fun locateFile(){\n            var intent:Intent= Intent(applicationContext,LocateImage::class.java )\n           startActivityForResult(intent,IMAGE_REQUEST)\n        }\n\n\n     override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n            super.onActivityResult(requestCode, resultCode, data)\n\n            when(requestCode){\n\n                IMAGE_REQUEST -&gt; {\n\n                    when(resultCode){\n\n                        Activity.RESULT_OK -&gt; {\n\n                            val selectedImagePath=data?.getSerializableExtra(LocateImage.Obj.MEDIA_DATA) as? String\n                            Log.v(\"file path is \",selectedImagePath)\n\n                            if(!selectedImagePath.isNullOrEmpty()){\n\n                                fileTransderReceiver?.sendFile(File(selectedImagePath),\"First file\")\n\n                                                      GetFileResponse().execute(fileTransderReceiver)     \n\n\n                        }\n                    }\n                }\n            }\n\n        }\n\n private inner class GetFileResponse : AsyncTask&lt;OutgoingFileTransfer?, String,fileTransfer&gt;() {\n\n\n        var progressDialog: ProgressDialog? = null\n\n        override fun onPreExecute() {\n            progressDialog = ProgressDialog.show(this@chatActivity,\n                    null, \"Sending File...\");\n        }\n\n\n        override fun doInBackground(vararg params: OutgoingFileTransfer?): fileTransfer {\n\n            while (!params[0]?.isDone!!){\n\n                if (params[0]?.status!!.equals(FileTransfer.Status.error)){\n                    println(\"ERROR!!! \" + params[0]?.error);\n                }else{\n                    println(params[0]?.status);\n                    println(params[0]?.progress);\n                }\n            }\n\n            var fileTransferState=fileTransfer(\"abc\")\n            fileTransferState.status=params[0]?.status\n            fileTransferState.exception=params[0]?.exception\n            fileTransferState.error=params[0]?.error\n\n            return fileTransferState\n\n        }\n\n        override fun onPostExecute(result: fileTransfer?) {\n            if(progressDialog!!.isShowing)\n                progressDialog!!.dismiss()\n\n            Log.v(\"Status is \",result?.status.toString())\n            Log.v(\"Exception is \",result?.exception.toString())\n            Log.v(\"Error is \",result?.error.toString())\n        }\n\n    }\n</code></pre>\n\n<p>Logcat:</p>\n\n<pre><code>05-05 18:03:34.593 30459-30459/com.example.itstym.chat_3 V/Status\u00a0is: Error\n05-05 18:03:34.593 30459-30459/com.example.itstym.chat_3 V/Exception\u00a0is: org.jivesoftware.smack.XMPPException$XMPPErrorException: XMPPError: service-unavailable - cancel\n05-05 18:03:34.593 30459-30459/com.example.itstym.chat_3 V/Error\u00a0is: null\n</code></pre>\n\n<p>I have also check on the ejabberd server that file sending/receiving service is available. Even the progress is not also not updating from 0 but the status is changed from initial to negotiating transfer. </p>\n\n<p>Update:</p>\n\n<p>Sent XML</p>\n\n<p>http://jabber.org/protocol/si' id='jsi_8960344439394443510' mime-type='image/jpeg' profile='<a href=\"http://jabber.org/protocol/si/profile/file-transfer\" rel=\"nofollow noreferrer\">http://jabber.org/protocol/si/profile/file-transfer</a>'>First file<a href=\"http://jabber.org/protocol/bytestreams\" rel=\"nofollow noreferrer\">http://jabber.org/protocol/bytestreams</a><a href=\"http://jabber.org/protocol/ibb\" rel=\"nofollow noreferrer\">http://jabber.org/protocol/ibb</a></p>\n\n<p>Receive XML</p>\n\n<pre><code> &lt;iq xml:lang='en' to='user1@replica3377.cloudapp.net/Android' from='user2@replica3377.cloudapp.net/Smack' type='error' id='0GfHL-35'&gt;&lt;si xmlns='http://jabber.org/protocol/si' id='jsi_8960344439394443510' mime-type='image/jpeg' profile='http://jabber.org/protocol/si/profile/file-transfer'&gt;&lt;file xmlns='http://jabber.org/protocol/si/profile/file-transfer' name='attachment.jpg'&gt;&lt;desc&gt;First file&lt;/desc&gt;&lt;/file&gt;&lt;feature xmlns='http://jabber.org/protocol/feature-neg'&gt;&lt;x xmlns='jabber:x:data' type='form'&gt;&lt;field var='stream-method' type='list-single'&gt;&lt;option&gt;&lt;value&gt;http://jabber.org/protocol/bytestreams&lt;/value&gt;&lt;/option&gt;&lt;option&gt;&lt;value&gt;http://jabber.org/protocol/ibb&lt;/value&gt;&lt;/option&gt;&lt;/field&gt;&lt;/x&gt;&lt;/feature&gt;&lt;/si&gt;&lt;error code='503' type='cancel'&gt;&lt;service-unavailable xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/&gt;&lt;text xml:lang='en' xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'&gt;User session not found&lt;/text&gt;&lt;/error&gt;&lt;/iq&gt;, \n</code></pre>\n\n<p>It says error code 503 service unavailable. </p>\n\n<p>[this link][1] say 503 error means you are not providing the full JId. </p>\n\n<p>To get the full jId:</p>\n\n<pre><code>roster.getPresence(entry.user).from\n</code></pre>\n\n<p>it is also returning Jid in the form of user2@replica3377.cloudapp.net</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p>using following code I checked weather file transfer service is availabe or not</p>\n\n<p>var serviceDiscoveryManager:ServiceDiscoveryManager= ServiceDiscoveryManager.getInstanceFor(connection)\n            serviceDiscoveryManager.addFeature(\"<a href=\"http://jabber.org/protocol/disco#info\" rel=\"nofollow noreferrer\">http://jabber.org/protocol/disco#info</a>\")\n            serviceDiscoveryManager.addFeature(\"jabber:iq:privacy\")</p>\n\n<pre><code>        Log.i(\"Service enable \",FileTransferNegotiator.isServiceEnabled(connection).toString())\n</code></pre>\n\n<p>But it is returning false that means file transfer service is unavailable.</p>\n\n<p><strong>How to enable file transfer service?</strong> FileTransferNegotiator. setServiceEnabled() function is not available.</p>\n"}, {"tags": ["types", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 579, "user_id": 3301979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60bd29b0c3b3df081319675eb1d4b295?s=128&d=identicon&r=PG", "display_name": "erokhins", "link": "https://stackoverflow.com/users/3301979/erokhins"}, "is_accepted": true, "score": 16, "last_activity_date": 1493994278, "creation_date": 1493994278, "answer_id": 43807444, "question_id": 43790137, "link": "https://stackoverflow.com/questions/43790137/why-cant-type-parameter-in-kotlin-have-any-other-bounds-if-its-bounded-by-anot/43807444#43807444", "title": "Why can&#39;t type parameter in Kotlin have any other bounds if it&#39;s bounded by another type parameter?", "body": "<p>This restrictions was made because java(language) has it:</p>\n\n<pre><code>  interface A {}\n  // Error:(7, 26) java: a type variable may not be followed by other bounds\n  &lt;T1, T2 extends T1 &amp; A&gt; void test() {} \n</code></pre>\n\n<p>And we suppose that this forbidden also in bytecode level.\nI dig into it and seems like it is allowed, and scalac generate the following signature:</p>\n\n<pre><code>  // access flags 0x1\n  // signature &lt;T1:Ljava/lang/Object;T2:TT1;:LA;&gt;()V\n  // declaration: void test&lt;T1, T2T1 extends A&gt;()\n  public test()V\n</code></pre>\n\n<p>So, we probably can support such cases it in the future versions of kotlin.</p>\n\n<p>P.S. As far as I know Kotlin has decidable subtyping, and decidability isn't affected by this.</p>\n"}], "owner": {"reputation": 313, "user_id": 7964561, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/chn9f.jpg?s=128&g=1", "display_name": "uchuhimo", "link": "https://stackoverflow.com/users/7964561/uchuhimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1802, "favorite_count": 7, "accepted_answer_id": 43807444, "answer_count": 1, "score": 31, "last_activity_date": 1494021328, "creation_date": 1493921971, "last_edit_date": 1592644375, "question_id": 43790137, "link": "https://stackoverflow.com/questions/43790137/why-cant-type-parameter-in-kotlin-have-any-other-bounds-if-its-bounded-by-anot", "title": "Why can&#39;t type parameter in Kotlin have any other bounds if it&#39;s bounded by another type parameter?", "body": "<p>Here is the minimal demo code that shows this problem:</p>\n<pre><code>interface A\n\nfun &lt;T1, T2&gt; test() where T2 : T1, T2 : A {}\n</code></pre>\n<p>When I try to compile it, compiler will complain:</p>\n<blockquote>\n<p>Error:(81, 25) Kotlin: Type parameter cannot have any other bounds if it's bounded by another type parameter</p>\n</blockquote>\n<p>I read <a href=\"http://jetbrains.github.io/kotlin-spec/#_bounds\" rel=\"noreferrer\">Kotlin Language Specification</a>, but only find the following bound restriction:</p>\n<blockquote>\n<p>A type-parameter cannot specify itself as its own bound, and several type-parameters cannot specify each other as a bound in a cyclic manner.</p>\n</blockquote>\n<p>It doesn't explain the restriction I meet.</p>\n<p>I explore Kotlin's issue tracker, and I find an issue about this restriction: <a href=\"https://youtrack.jetbrains.com/issue/KT-13768\" rel=\"noreferrer\">Allow to inherit a type parameter from another type parameter and a class : KT-13768</a>. However, this issue has been rejected by the following reason (update on May 6th, 2017: this issue has been reopened by Stanislav Erokhin):</p>\n<blockquote>\n<p>I don't think we can compile the code correctly to JVM if we remove this restriction.</p>\n<p>By Andrey Breslav</p>\n</blockquote>\n<p>So the question is: why can't we compile the code correctly to JVM if we remove this restriction?</p>\n<p>The same demo works in Scala:</p>\n<pre><code>trait A\n\ndef test[T1, T2 &lt;: T1 with A](): Unit = {}\n</code></pre>\n<p>It indicates that Scala can compile the code correctly to JVM. Why can't Kotlin? Is it a restriction to guarantee a decidable subtyping in Kotlin (I guess. Subtyping is undecidable for Scala (Scala has a Turing-complete type system). Kotlin may want decidable subtyping like C#.)?</p>\n<p>Update after answered by @erokhins (<a href=\"https://stackoverflow.com/a/43807444/7964561\">https://stackoverflow.com/a/43807444/7964561</a>):</p>\n<p>There are some subtle issues when supporting something forbidden by Java but allowed by JVM, especially in Java interoperability. I find an interesting issue when digging into bytecode generated by scalac. I modify Scala code in demo as follow:</p>\n<pre><code>trait A\n\ntrait B\n\ndef test[T1 &lt;: B, T2 &lt;: T1 with A](t1: T1, t2: T2): Unit = {}\n\nclass AB extends A with B\n</code></pre>\n<p>Scalac will generate the following signature:</p>\n<pre><code>// signature &lt;T1::LB;T2:TT1;:LA;&gt;(TT1;TT2;)V\n// descriptor: (LB;LB;)V\npublic &lt;T1 extends B, T2 extends T1 &amp; A&gt; void test(T1, T2);\n</code></pre>\n<p>Invoke <code>test</code> with <code>test(new AB, new AB)</code> in Scala will succeed, since Scalas invoke signature <code>(LB;LB;)V</code>; but invoke with <code>test(new AB(), new AB());</code> in Java will fail, since Java invokes signature <code>(LB;Ljava/lang/Object;)V</code>, causing <code>java.lang.NoSuchMethodError</code> in runtime. It means scalac generates something cannot be invoked in Java after relaxing this restriction. Kotlin may meet the same issue after relaxing it.</p>\n"}, {"tags": ["mockito", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1493917680, "post_id": 43788402, "comment_id": 74618403, "body": "Did you try to use <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">the spread operator</a> with <code>anyVararg</code>: <code>*anyVararg()</code>?"}, {"owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "edited": false, "score": 1, "creation_date": 1493967455, "post_id": 43788402, "comment_id": 74636872, "body": "Have a look at <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">github.com/nhaarman/mockito-kotlin</a> for some ideas"}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1494055625, "post_id": 43788402, "comment_id": 74674425, "body": "Put up a small edit to my answer. Please let me know if you find something helpful there."}], "answers": [{"tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 2, "last_activity_date": 1494055609, "last_edit_date": 1494055609, "creation_date": 1493973279, "answer_id": 43800205, "question_id": 43788402, "link": "https://stackoverflow.com/questions/43788402/how-to-verify-kotlin-varargs-function-using-mockito/43800205#43800205", "title": "How to verify kotlin varargs function using mockito", "body": "<p>A non-answer to give some inspiration: </p>\n\n<p>Keep in mind that Mockito doesn't know or care what you are writing in some Kotlin source code file. </p>\n\n<p>Mockito only deals with the <strong>compiled</strong> byte code. In other words: Mockito looks into the final classfile; created by the kotlin compiler.</p>\n\n<p>Thus: your first stop should be <code>javap</code> to disassemble the class file that contains that method definition. You check the signature of the method <strong>there</strong>; and that should tell you how to specify correct argument matchers to Mockito.</p>\n\n<p>And just another idea: java varargs translate arrays. So \"no\" args means: an empty array. So you probably want to match specifically on something like <code>empty array of Pairs</code>.</p>\n"}], "owner": {"reputation": 6150, "user_id": 297331, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0a9b8c1333a7ad0dddf85bf84e6622c3?s=128&d=identicon&r=PG", "display_name": "Niel de Wet", "link": "https://stackoverflow.com/users/297331/niel-de-wet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494100088, "creation_date": 1493915648, "last_edit_date": 1494100088, "question_id": 43788402, "link": "https://stackoverflow.com/questions/43788402/how-to-verify-kotlin-varargs-function-using-mockito", "title": "How to verify kotlin varargs function using mockito", "body": "<p>I have a kotlin function of this form in an interface:</p>\n\n<pre><code>fun foo(bar: String, vararg baz: Pair&lt;String, ByteArray&gt;):Boolean\n</code></pre>\n\n<p><strong>Using Mockito to mock this interface, how do I verify that this function was called with no Pairs?</strong></p>\n\n<p>It doesn't work leaving the second matcher off, because then Mockito complains that it needs two matchers. </p>\n\n<p>Using any <code>any*()</code> matcher, including <code>anyVararg()</code>, fails because of typing.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 11, "last_activity_date": 1493981161, "last_edit_date": 1493981161, "creation_date": 1493909479, "answer_id": 43786246, "question_id": 43786012, "link": "https://stackoverflow.com/questions/43786012/cross-references-in-type-parameters/43786246#43786246", "title": "Cross references in type parameters", "body": "<p>Kotlin doesn't have raw types, you cannot just drop the type parameters.</p>\n\n<p>One option similar to raw types is to use <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"noreferrer\">star projections</a>:</p>\n\n<pre><code>abstract class Element&lt;S : Snapshot&lt;*&gt;&gt; { /* ... */ }\nabstract class Snapshot&lt;E : Element&lt;*&gt;&gt; { /* ... */ }\n</code></pre>\n\n<p>But you won't be able to normally work with the type parameters generic members.</p>\n\n<hr> \n\n<p>Another option is to introduce mutual constraints like this:</p>\n\n<pre><code>abstract class Element&lt;E : Element&lt;E, S&gt;, S : Snapshot&lt;S, E&gt;&gt;() { /* ... */ }\nabstract class Snapshot&lt;S : Snapshot&lt;S, E&gt;, E : Element&lt;E, S&gt;&gt;() { /* ... */ }\n</code></pre>\n\n<p>With this definition, you can be sure that if you define <code>SomeSnapshot: Snapshot&lt;SomeSnapshot, SomeElement&gt;</code>, the type <code>SomeElement</code> <em>is aware of</em> <code>SomeSnapshot</code>, because it is constrained to be derived from <code>Element&lt;SomeElement, SomeSnapshot&gt;</code>.</p>\n\n<p>Then the implementation would be:</p>\n\n<pre><code>class SomeElement : Element&lt;SomeElement, SomeSnapshot&gt;() { /* ... */ }\nclass SomeSnapshot : Snapshot&lt;SomeSnapshot, SomeElement&gt;() { /* ... */ }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 5043494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hC8Ja.jpg?s=128&g=1", "display_name": "Yurii", "link": "https://stackoverflow.com/users/5043494/yurii"}, "is_accepted": false, "score": 2, "last_activity_date": 1540562921, "creation_date": 1540562921, "answer_id": 53010571, "question_id": 43786012, "link": "https://stackoverflow.com/questions/43786012/cross-references-in-type-parameters/53010571#53010571", "title": "Cross references in type parameters", "body": "<p>I recently came across this issue when designing one of the abstract layers of my app. \nFirst of the options in <a href=\"https://stackoverflow.com/a/43786246/5043494\">hotkey's answer</a> fails to compile with \"This type parameter violates the Finite Bound Restriction\" (at least with newer Kotlin 1.2.71). The second one works, but can be optimized a bit. Even thought it is still bloated it makes a difference, especially when you have more type parameters. Here is the code:</p>\n\n<pre><code>abstract class Element&lt;S : Snapshot&lt;*, *&gt;&gt; { /* ... */ }\nabstract class Snapshot&lt;E : Element&lt;S&gt;, S : Snapshot&lt;E, S&gt;&gt; { /* ... */ }\n</code></pre>\n"}], "owner": {"reputation": 3052, "user_id": 944099, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/jWDi8.jpg?s=128&g=1", "display_name": "Ivan Babanin", "link": "https://stackoverflow.com/users/944099/ivan-babanin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1353, "favorite_count": 1, "accepted_answer_id": 43786246, "answer_count": 2, "score": 7, "last_activity_date": 1540562921, "creation_date": 1493908943, "question_id": 43786012, "link": "https://stackoverflow.com/questions/43786012/cross-references-in-type-parameters", "title": "Cross references in type parameters", "body": "<p>For example in Java I could write:</p>\n\n<pre><code>public abstract class Element&lt;S extends Snapshot&gt; { ... }\npublic abstract class Snapshot&lt;E extends Element&gt; { ... }\n</code></pre>\n\n<p>And then, somewhere, extend this classes:</p>\n\n<pre><code>public class SnapshotImpl extends Snapshot&lt;ElementImpl&gt; { ... }\npublic class ElementImpl extends Element&lt;SnapshotImpl&gt; { ... }\n</code></pre>\n\n<p>But when I tried to implement same class hierarchy in Kotlin:</p>\n\n<pre><code>abstract class Element&lt;S : Snapshot&gt; \nabstract class Snapshot&lt;E : Element&gt;\n</code></pre>\n\n<p>I got following compilation errors:</p>\n\n<p><code>Error:(6, 28) Kotlin: One type argument expected for class Snapshot&lt;E&gt; defined in model\n Error:(6, 25) Kotlin: One type argument expected for class Element&lt;S&gt; defined in model</code></p>\n\n<p>Is there any way to reproduce same type parameter restrictions in Kotlin?</p>\n"}, {"tags": ["java", "kotlin", "finalize"], "comments": [{"owner": {"reputation": 8458, "user_id": 786388, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/69de0a32836e6068a2f0baba75627b00?s=128&d=identicon&r=PG", "display_name": "ean5533", "link": "https://stackoverflow.com/users/786388/ean5533"}, "edited": false, "score": 1, "creation_date": 1493904417, "post_id": 43784161, "comment_id": 74608755, "body": "<a href=\"https://kotlinlang.org/docs/reference/java-interop.html#finalize\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html#finalize</a>"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 8458, "user_id": 786388, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/69de0a32836e6068a2f0baba75627b00?s=128&d=identicon&r=PG", "display_name": "ean5533", "link": "https://stackoverflow.com/users/786388/ean5533"}, "edited": false, "score": 0, "creation_date": 1493904509, "post_id": 43784161, "comment_id": 74608849, "body": "@ean5533 Uh I didn&#39;t read that long interop doc completely, and now is my punishment. Thank you anyway."}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1493905181, "post_id": 43784161, "comment_id": 74609377, "body": "Have you read \u201c<a href=\"https://stackoverflow.com/q/26642153/2711488\">finalize() called on strongly reachable object in Java 8</a>\u201d? The bottom line is, you should better not do that at all. Unless your code involves <code>native</code> code dealing with a system resource directly, your class will be a wrapper around another object actually representing the resource and letting the reachability of the wrapper determine the life time of the actual resource (which might still be reachable and in use), means asking for serious problems\u2026"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1493906296, "post_id": 43784161, "comment_id": 74610336, "body": "@Holger Thank you for pointing that out. But my problem is that only part of the resource is consumed by one handler, and the rest of them will be stored in a pool until other handler, or even the failing handler, pulled again. Thus occasionally failing once is not a concern in my software. However, I don&#39;t want to risk losing any of them, or there will be an army of 300 ramming my front door.   BTW, on my machine the <code>FinalizeThis::finalize</code> in the example in your link is <i>never called even once</i> on my machine."}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1493906770, "post_id": 43784161, "comment_id": 74610712, "body": "It\u2019s all JVM specific. Beside the danger of being called too early, there is a huge probability of being never executed at all, at least, not within the critical time frame. Garbage collection is meant to manage memory and as long as there\u2019s enough memory or the garbage collector is happy with reclaiming the storage of objects not needing finalization, it might not run or just ignore the object with finalizers. And there\u2019s the multi-threading issue\u2026"}], "answers": [{"comments": [{"owner": {"reputation": 8458, "user_id": 786388, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/69de0a32836e6068a2f0baba75627b00?s=128&d=identicon&r=PG", "display_name": "ean5533", "link": "https://stackoverflow.com/users/786388/ean5533"}, "edited": false, "score": 1, "creation_date": 1493904463, "post_id": 43784223, "comment_id": 74608811, "body": "Beat me to it by seconds :)"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1493904606, "post_id": 43784223, "comment_id": 74608938, "body": "Thank you! That&#39;s all I need! But why stackoverflow prohibit selecting the anwser before 12 minutes have pasted..."}, {"owner": {"reputation": 367, "user_id": 3556590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89a5857f470b90eb7e5c7892e412cb04?s=128&d=identicon&r=PG&f=1", "display_name": "don11995", "link": "https://stackoverflow.com/users/3556590/don11995"}, "edited": false, "score": 1, "creation_date": 1525943437, "post_id": 43784223, "comment_id": 87556097, "body": "Ok, it works, but how to call <code>super.finilize()</code> in it? I decompiled generated java code and there is no super call there."}, {"owner": {"reputation": 161, "user_id": 1025193, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be7b0dc139d661e4d1cd4108bbceff90?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/1025193/boris"}, "reply_to_user": {"reputation": 367, "user_id": 3556590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89a5857f470b90eb7e5c7892e412cb04?s=128&d=identicon&r=PG&f=1", "display_name": "don11995", "link": "https://stackoverflow.com/users/3556590/don11995"}, "edited": false, "score": 0, "creation_date": 1528284217, "post_id": 43784223, "comment_id": 88446707, "body": "@don11995 Would that actually be an issue, as Object.finalize doesn&#39;t do anything?"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 161, "user_id": 1025193, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be7b0dc139d661e4d1cd4108bbceff90?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/1025193/boris"}, "edited": false, "score": 1, "creation_date": 1531917075, "post_id": 43784223, "comment_id": 89774880, "body": "@Boris Yes, in the case that you extend a class that has code for it. But, there is no need for it when none of the class you extend from have it overridden. But if the class you extend from allows it, you should be able to call <code>super.finalize</code> and all works fine anyway."}, {"owner": {"reputation": 1598, "user_id": 718559, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fadb73527699b4d00949126acf83ec38?s=128&d=identicon&r=PG", "display_name": "Aaron Lee", "link": "https://stackoverflow.com/users/718559/aaron-lee"}, "edited": false, "score": 1, "creation_date": 1564123717, "post_id": 43784223, "comment_id": 100934110, "body": "But does it work?  Will this function run when the object is prepared to be freed?"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 47, "last_activity_date": 1493904440, "creation_date": 1493904440, "answer_id": 43784223, "question_id": 43784161, "link": "https://stackoverflow.com/questions/43784161/how-to-implement-finalize-in-kotlin/43784223#43784223", "title": "How to implement finalize() in kotlin?", "body": "<p>The <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#finalize\" rel=\"noreferrer\">official documentation</a> covers this.</p>\n\n<blockquote>\n  <p>To override finalize(), all you need to do is simply declare it, without using the override keyword:</p>\n</blockquote>\n\n<pre><code>class C {\n    protected fun finalize() {\n        // finalization logic\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11619, "favorite_count": 3, "accepted_answer_id": 43784223, "answer_count": 1, "score": 29, "last_activity_date": 1493947105, "creation_date": 1493904279, "last_edit_date": 1493947105, "question_id": 43784161, "link": "https://stackoverflow.com/questions/43784161/how-to-implement-finalize-in-kotlin", "title": "How to implement finalize() in kotlin?", "body": "<p>Today I'm implementing a <code>Closeable</code> in kotlin, and as I have done in java in the past, I want to implement a <code>finalize()</code> as a last resort fallback in case the client code forgets to close it, rendering critical resource un-reclaimed. I consider this resource critical enough to add this fallback, despite the unreliability of this fallback. However, <code>kotlin.Any</code> does not declare a <code>finalize</code> method, which means I can't simplydo this:</p>\n\n<pre><code>class Resource: Closeable {\n    fun close() {}\n    override fun finalize() { close()}\n}\n</code></pre>\n\n<p>This isn't good, at least not as good as it should be. Now I revert to plain Java as a workaround. Does anyone knows how to do this in pure Kotlin?</p>\n\n<p>PS: My current workaround:</p>\n\n<p>FinalizedCloseable.java:</p>\n\n<pre><code>public abstract class FinalizedCloseable implement Closeable {\n    @Override protected void finalize() { close(); }\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>class Resource: FinalizedCloseable(), Closeable {\n    fun close() {}\n    override fun finalize() { close()}\n}\n</code></pre>\n\n<p>But this workaround requires a superclass. If next time my other <code>Resource</code> already got a superclass, this workaround won't work without a lot of boilerplate.</p>\n\n<hr>\n\n<p>EDIT: Now I know how to implement finalize(), but IDEA kotlin plugin isn't smart enough to know that this is a finalizer and thus mark it with some warning. After struggling for a while I found how to suppress these warnings, and I want to share it:</p>\n\n<pre><code>class C {\n    @Suppress(\"ProtectedInFinal\", \"Unused\") protected fun finalize() {}\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4813855"}, "edited": false, "score": 1, "creation_date": 1493882567, "post_id": 43776252, "comment_id": 74593568, "body": "@ Abhishek Aryan .Thanks a lot."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1493905549, "post_id": 43776252, "comment_id": 74609707, "body": "Just a heads up: <code>1.1.2-3</code> is now up in the repo."}, {"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 1, "creation_date": 1493909167, "post_id": 43776252, "comment_id": 74612566, "body": "@JoJoRoid <code>kotlin_version 1.1.2-3</code> now deployed, you can use now."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4813855"}, "edited": false, "score": 1, "creation_date": 1494007981, "post_id": 43776252, "comment_id": 74662003, "body": "@Abhishek Aryan. Thanks a lot."}, {"owner": {"reputation": 650, "user_id": 5703820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GHwWG.jpg?s=128&g=1", "display_name": "Infinite Loops", "link": "https://stackoverflow.com/users/5703820/infinite-loops"}, "edited": false, "score": 0, "creation_date": 1499021045, "post_id": 43776252, "comment_id": 76726473, "body": "ICYMI, ver 1.1.2-3 is no longer supported and will give erros. Use this, as now it&#39;s 1.1.3."}], "tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 3, "last_activity_date": 1493882096, "creation_date": 1493882096, "answer_id": 43776252, "question_id": 43775942, "link": "https://stackoverflow.com/questions/43775942/kotlin-in-android-studio/43776252#43776252", "title": "Kotlin in android studio", "body": "<pre><code>ext.kotlin_version = '1.1.2-3'\n</code></pre>\n\n<p><code>'1.1.2-3'</code> version is not available in jcenter repo neither it is available in your file system. </p>\n\n<p>As I check the latest version <code>1.1.2-2</code> is available in jcenter that is last update on Apr 28, 2017 so use <code>1.1.2-2</code> version instead of <code>1.1.2-3</code>.</p>\n\n<pre><code>ext.kotlin_version = '1.1.2-2'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4311, "user_id": 1904141, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/hDwdK.png?s=128&g=1", "display_name": "Akshay Chordiya", "link": "https://stackoverflow.com/users/1904141/akshay-chordiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1493882480, "creation_date": 1493882480, "answer_id": 43776397, "question_id": 43775942, "link": "https://stackoverflow.com/questions/43775942/kotlin-in-android-studio/43776397#43776397", "title": "Kotlin in android studio", "body": "<p>The Kotlin Gradle plugin version which you set is not still available on repository. \nTry setting to any other version like:</p>\n\n<pre><code>ext.kotlin_version = '1.1.1'\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4813855"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 1, "accepted_answer_id": 43776252, "answer_count": 2, "score": 3, "last_activity_date": 1493882480, "creation_date": 1493881069, "question_id": 43775942, "link": "https://stackoverflow.com/questions/43775942/kotlin-in-android-studio", "title": "Kotlin in android studio", "body": "<p>I am using from <code>kotlin</code> but when I sync it in my project get me bellow error : </p>\n\n<pre><code>Error:Could not find org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.2-3.\nSearched in the following locations:\n    file:/D:/android-studio/gradle/m2repository/org/jetbrains/kotlin/kotlin-gradle-plugin/1.1.2-3/kotlin-gradle-plugin-1.1.2-3.pom\n    file:/D:/android-studio/gradle/m2repository/org/jetbrains/kotlin/kotlin-gradle-plugin/1.1.2-3/kotlin-gradle-plugin-1.1.2-3.jar\n    https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-gradle-plugin/1.1.2-3/kotlin-gradle-plugin-1.1.2-3.pom\n    https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-gradle-plugin/1.1.2-3/kotlin-gradle-plugin-1.1.2-3.jar\nRequired by:\n    project :\n</code></pre>\n\n<p>Here is my <code>build.gradle(Module)</code> :</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.3\"\n    defaultConfig {\n        applicationId \"ir.baslam.kotlinme\"\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    testCompile 'junit:junit:4.12'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>And here is my <code>build.gradle(project)</code> :</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-3'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "testing", "kotlin", "rx-java2", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 402, "user_id": 2461717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWIA4.jpg?s=128&g=1", "display_name": "sschmitz", "link": "https://stackoverflow.com/users/2461717/sschmitz"}, "edited": false, "score": 0, "creation_date": 1493897430, "post_id": 43774178, "comment_id": 74603468, "body": "I know I shouldn&#39;t be emitting inside of the subject like that, I was just trying to write an odd test. Thank you so much!"}], "tags": [], "owner": {"reputation": 9429, "user_id": 3903847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SH280.png?s=128&g=1", "display_name": "yosriz", "link": "https://stackoverflow.com/users/3903847/yosriz"}, "is_accepted": true, "score": 5, "last_activity_date": 1493873816, "creation_date": 1493873816, "answer_id": 43774178, "question_id": 43771854, "link": "https://stackoverflow.com/questions/43771854/rx-kotlin-awaitterminalevent-never-getting-oncomplete/43774178#43774178", "title": "Rx-Kotlin awaitTerminalEvent never getting onComplete", "body": "<p>You're using the wrong tool in the wrong way...  </p>\n\n<ul>\n<li><code>TestSubscriber</code> is for testing <code>Flowable</code>, you should use here <code>TestObserver</code>.</li>\n<li>you should subscribe with the <code>TestObserver</code> (or <code>TestSubscriber</code> in <code>Flowable</code>), in order for it to monitor emissions and be able to wait for terminal event and assert values. In your code the <code>TestSubscriber</code> is not attached to any stream, so it will never get any event.  </li>\n</ul>\n\n<p>trying to mimic your code, it could be something like this:</p>\n\n<pre><code> @Test\nfun testObservable() {\n    val subject = BehaviorSubject.create&lt;Int&gt;()\n    subject.onNext(0)\n\n    TestObserver&lt;Int&gt;().apply {\n        subject.doOnNext {\n            System.out.println(it)\n            subject.onNext(1)\n            subject.onComplete()\n        }\n                .subscribe(this)\n\n        this.awaitTerminalEvent(5, TimeUnit.SECONDS)\n        this.assertComplete()\n        this.assertValue(1)\n    }\n}  \n</code></pre>\n\n<p>as you can see, I'm using <code>TestObserver</code> the subscribe is done with the <code>TestObserver</code> object, and the subject <code>onNext()</code>, <code>onComplete()</code> moved to the <code>doOnNext()</code>. the test will fail as you have two emitted values, while the test assert only for single '1' value.  </p>\n\n<p>Generally speaking, it's kind of wrong, that you using subject to emit again in the <code>onNext()</code> and then call <code>onComplete()</code>, you can subscribe before and then emit outside. something like this:</p>\n\n<pre><code>TestObserver&lt;Int&gt;().apply {\n        subject.subscribe(this)\n        subject.onNext(1)\n        subject.onComplete()\n        ....\n}\n</code></pre>\n"}], "owner": {"reputation": 402, "user_id": 2461717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wWIA4.jpg?s=128&g=1", "display_name": "sschmitz", "link": "https://stackoverflow.com/users/2461717/sschmitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 828, "favorite_count": 0, "accepted_answer_id": 43774178, "answer_count": 1, "score": 3, "last_activity_date": 1493873845, "creation_date": 1493856000, "last_edit_date": 1493873845, "question_id": 43771854, "link": "https://stackoverflow.com/questions/43771854/rx-kotlin-awaitterminalevent-never-getting-oncomplete", "title": "Rx-Kotlin awaitTerminalEvent never getting onComplete", "body": "<p>I am trying to get a better understanding of how to do unit tests with Rx-Kotlin, but I have not been able to successfully set the subject to \"completed\". As a result, I am always waiting for the timeout of 5 seconds (the onComplete should be immediate) and then fail on assertComplete.</p>\n\n<p>My understanding of <a href=\"http://reactivex.io/RxJava/javadoc/rx/observers/TestSubscriber.html#awaitTerminalEvent()\" rel=\"nofollow noreferrer\">awaitTerminalEvent</a> is that it should only block until the onComplete is called. I have also looked into <a href=\"http://reactivex.io/RxJava/javadoc/rx/schedulers/TestScheduler.html\" rel=\"nofollow noreferrer\">TestScheduler,</a> but I do not believe that it should be required here. </p>\n\n<p>Any help or documentation that can lead me in the right direction would be much appreciated.</p>\n\n<pre><code>@Test\nfun testObservable() {\n    val subject = BehaviorSubject.create&lt;Int&gt;()\n    subject.onNext(0)\n\n    TestSubscriber&lt;Int&gt;().apply {\n        subject.subscribe({\n            System.out.println(it)\n            subject.onNext(1)\n            subject.onComplete()\n        })\n\n        this.awaitTerminalEvent(5, TimeUnit.SECONDS)\n        this.assertComplete()\n        this.assertValue(1)\n    }\n}\n</code></pre>\n"}]