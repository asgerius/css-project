[{"tags": ["java", "android", "android-studio", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1525904191, "post_id": 50262808, "comment_id": 87543719, "body": "Do you have warning lines too with something broken for ProGuard? (maybe a dependency which should not be obfuscated)"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "reply_to_user": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1525904491, "post_id": 50262808, "comment_id": 87543810, "body": "@MatPag I have posted the dependencies."}, {"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 1, "creation_date": 1525907069, "post_id": 50262808, "comment_id": 87544520, "body": "I&#39;ve created a project with all your dependencies and what I&#39;m getting are a lot of error caused by bad a proguard configuration, but none of them with your exception. Try to launch: <code>.&#47;gradlew build --stacktrace</code> from the AS terminal and see if something interesting appears in the console with some suggestions to follow"}, {"owner": {"reputation": 189, "user_id": 5913289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c5a75310d0978c044a988aa424a2365?s=128&d=identicon&r=PG&f=1", "display_name": "H. Ekici", "link": "https://stackoverflow.com/users/5913289/h-ekici"}, "edited": false, "score": 0, "creation_date": 1525939809, "post_id": 50262808, "comment_id": 87554355, "body": "In messages pane, It might be saying X class or function cannot be found or something like that, can you post them too."}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1675, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1541671257, "creation_date": 1525904033, "last_edit_date": 1525906292, "question_id": 50262808, "link": "https://stackoverflow.com/questions/50262808/proguard-error-proguardtransform-transform-while-generating-signed-apk", "title": "Proguard error: ProGuardTransform.transform while generating Signed APK", "body": "<p>Gradle:</p>\n\n<pre><code>    buildscript {\n    ext.kotlinVersion = '1.2.10'\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n    }\n    configurations.all {\n        resolutionStrategy {\n            force 'net.sf.proguard:proguard-gradle:5.3.3'\n        }\n    }\n    dependencies {\n        //noinspection GradleDynamicVersion\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'io.fabric'\n//For green dao\napply plugin: 'org.greenrobot.greendao'\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n    maven { url \"https://jitpack.io\" }\n    jcenter()\n    google()\n}\n\nandroid {\n    configurations.all {\n        resolutionStrategy.force 'com.google.code.findbugs:jsr305:3.0.0'\n    }\n    aaptOptions.cruncherEnabled = false\n    aaptOptions.useNewCruncher = false\n\n    compileSdkVersion 27\n    buildToolsVersion '27.0.3'\n\n    defaultConfig {\n        applicationId \"com.emerson.oversight\"\n        minSdkVersion 16\n        targetSdkVersion 27\n\n        versionCode 10\n        versionName \"1.6.3\"\n        multiDexEnabled true\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    dataBinding {\n        enabled = true\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n        disable 'MissingTranslation'\n    }\n\n    buildTypes {\n        release {\n            lintOptions {\n                disable 'MissingTranslation'\n            }\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nkapt { generateStubs = true }\n\ndependencies {\n    implementation 'com.android.support.constraint:constraint-layout:1.1.0'\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile('com.crashlytics.sdk.android:crashlytics:2.9.1@aar') {\n        transitive = true;\n    }\n    //AppCompat v7 support library\n    //noinspection GradleCompatible\n    compile 'com.android.support:appcompat-v7:27.1.1'\n    //AppCompat v4 support library\n    compile 'com.android.support:support-v4:27.1.1'\n    //Support design\n    compile 'com.android.support:design:27.1.1'\n    //Google Maps\n    compile 'com.google.android.gms:play-services-maps:15.0.1'\n    //Retrofit - for making REST API calls\n    compile 'com.squareup.retrofit2:converter-gson:2.1.0'\n    //For Runtime permissions\n    compile 'com.karumi:dexter:4.2.0'\n    //To set custom fonts\n    compile 'uk.co.chrisjenx:calligraphy:2.2.0'\n    //Attaches bullets to viewpager\n    compile 'com.robohorse.pagerbullet:pagerbullet:1.0.8'\n    //Expandable recycler view\n    compile 'com.bignerdranch.android:expandablerecyclerview:3.0.0-RC1'\n    //For Graph\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.0.3'\n    //Date time\n    compile 'com.wdullaer:materialdatetimepicker:3.2.1'\n    compile 'com.android.support:recyclerview-v7:27.1.1'\n    testCompile 'junit:junit:4.12'\n    androidTestCompile 'com.android.support:support-annotations:27.1.1'\n    androidTestCompile 'com.android.support.test:runner:1.0.2'\n    androidTestCompile 'com.android.support.test.espresso:espresso-core:3.0.2'\n    compile 'com.android.support:gridlayout-v7:27.1.1'\n    compile 'com.android.support:cardview-v7:27.1.1'\n    compile 'jp.wasabeef:recyclerview-animators:2.2.6'\n//  compile 'com.ncornette.cache:okcache-control:1.1.1'\n    compile 'org.greenrobot:greendao:3.2.2'\n    compile 'net.danlew:android.joda:2.9.9'\n    compile 'com.github.barteksc:android-pdf-viewer:3.0.0-beta.3'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'org.jetbrains.anko:anko-common:0.8.3'\n    compile 'me.dm7.barcodescanner:zbar:1.9.8'\n    compile \"io.reactivex.rxjava2:rxjava:2.1.12\"\n    compile 'io.reactivex:rxjava:1.2.0'\n    configurations.all {\n        exclude group: 'com.android.support', module: 'support-v13'\n    }\n    compile 'com.squareup.retrofit2:converter-scalars:2.1.0'\n\n    compile 'com.squareup:android-times-square:1.6.5@aar'\n    implementation 'io.reactivex.rxjava2:rxandroid:2.0.2'\n    // notice that the compiler version must be the same than our gradle version\n    kapt 'com.android.databinding:compiler:3.2.0-alpha10'\n    configurations.all {\n        exclude group: 'com.android.support', module: 'support-v13'\n    }\n\n    compile \"com.daimajia.swipelayout:library:1.2.0@aar\"\n    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    }\n    implementation 'com.elyeproj.libraries:loaderviewlibrary:1.4.1'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n}\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>    java.lang.RuntimeException: Job failed, see logs for details\n    at com.android.build.gradle.internal.transforms.ProGuardTransform.transform(ProGuardTransform.java:196)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:221)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:217)\n    at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n    at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:212)\n    at sun.reflect.GeneratedMethodAccessor340.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:256)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:249)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:238)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:663)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:597)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.io.IOException: Please correct the above warnings first.\n    at proguard.Initializer.execute(Initializer.java:485)\n    at proguard.ProGuard.initialize(ProGuard.java:271)\n    at proguard.ProGuard.execute(ProGuard.java:113)\n    at com.android.build.gradle.internal.transforms.BaseProguardAction.runProguard(BaseProguardAction.java:64)\n    at com.android.build.gradle.internal.transforms.ProGuardTransform.doMinification(ProGuardTransform.java:252)\n    at com.android.build.gradle.internal.transforms.ProGuardTransform.access$000(ProGuardTransform.java:63)\n    at com.android.build.gradle.internal.transforms.ProGuardTransform$1.run(ProGuardTransform.java:173)\n    at com.android.builder.tasks.Job.runTask(Job.java:47)\n    at com.android.build.gradle.tasks.SimpleWorkQueue$EmptyThreadContext.runTask(SimpleWorkQueue.java:41)\n    at com.android.builder.tasks.WorkQueue.run(WorkQueue.java:282)\n    ... 1 more\n</code></pre>\n\n<p>Another error:</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesAndResourcesWithProguardForRelease'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:256)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:249)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:238)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:663)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:597)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:59)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:130)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:210)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:140)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:115)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:49)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:32)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.RuntimeException: Job failed, see logs for details\n    at com.android.build.gradle.internal.transforms.ProGuardTransform.transform(ProGuardTransform.java:196)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:221)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:217)\n    at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n    at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:212)\n    at sun.reflect.GeneratedMethodAccessor340.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\n    ... 108 more\nCaused by: java.io.IOException: Please correct the above warnings first.\n    at proguard.Initializer.execute(Initializer.java:485)\n    at proguard.ProGuard.initialize(ProGuard.java:271)\n    at proguard.ProGuard.execute(ProGuard.java:113)\n    at com.android.build.gradle.internal.transforms.BaseProguardAction.runProguard(BaseProguardAction.java:64)\n    at com.android.build.gradle.internal.transforms.ProGuardTransform.doMinification(ProGuardTransform.java:252)\n    at com.android.build.gradle.internal.transforms.ProGuardTransform.access$000(ProGuardTransform.java:63)\n    at com.android.build.gradle.internal.transforms.ProGuardTransform$1.run(ProGuardTransform.java:173)\n    at com.android.builder.tasks.Job.runTask(Job.java:47)\n    at com.android.build.gradle.tasks.SimpleWorkQueue$EmptyThreadContext.runTask(SimpleWorkQueue.java:41)\n    at com.android.builder.tasks.WorkQueue.run(WorkQueue.java:282)\n    ... 1 more\n</code></pre>\n\n<p>Tried <a href=\"https://stackoverflow.com/a/43219081/2021812\">this</a> but problem could not be solved.</p>\n"}, {"tags": ["kotlin", "gson", "retrofit2"], "comments": [{"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1525937761, "post_id": 50262694, "comment_id": 87553400, "body": "I&#39;am pretty sure it should work: <code>GsonBuilder().registerTypeAdapter(TypeToken&lt;List&lt;String&gt;&gt;() {}.type, yourDeserializer())</code>. (if it works give me info, so I will try describe why :D )"}, {"owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "reply_to_user": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1526005063, "post_id": 50262694, "comment_id": 87584404, "body": "@Cililing the deserializer is not called at all if I use this method, although it does compile."}], "owner": {"reputation": 3342, "user_id": 4380236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QTHoX.jpg?s=128&g=1", "display_name": "urgentx", "link": "https://stackoverflow.com/users/4380236/urgentx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525903433, "creation_date": 1525903433, "question_id": 50262694, "link": "https://stackoverflow.com/questions/50262694/how-can-i-deserialize-retrofit-response-with-gson-to-different-list-types", "title": "How can I deserialize Retrofit response with Gson to different List types?", "body": "<p>I register a TypeAdapter when I build my Retrofit instance, which delegates all API calls expecting a List response:</p>\n\n<pre><code>val retrofit = Retrofit.Builder()\n                .client(client)\n                .baseUrl(\"$baseURL/\")\n                .addConverterFactory(\n                        GsonConverterFactory.create(\n                                GsonBuilder().registerTypeAdapter(List::class.java, MatchesDeserializer()) //Delegates all calls expecting return of type List.\n                                        .registerTypeAdapter(Array&lt;String&gt;::class.java, PhotoDeserializer()) //This works, because it's a different type.\n                                        .registerTypeAdapter(Triple::class.java, ChatMessagesDeserializer())\n                                        .create()))\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.createAsync())\n                .build()\n</code></pre>\n\n<p>Right now, the only calls I make expect a List of the same type (User, which requires the custom Deserializer), but I want to be able to make calls returning Lists of different types (say Item, which is automatically deserialized). The problem is that I can't specify which List type the MatchesDeserializer should be used for, as a class literal can't include type information. We <em>can</em> specify type for an Array response without issues.</p>\n\n<pre><code>GsonBuilder().registerTypeAdapter(List&lt;String&gt;::class.java, MatchesDeserializer()) //This doesn't compile.\n</code></pre>\n\n<p>I could change all calls expecting List to return JsonObject, and parse it with my deserializer manually, or implement a TypeAdapterFactory to manually deserialize only User types. </p>\n\n<p>Is there a more elegant way to do this?</p>\n"}, {"tags": ["enums", "kotlin", "switch-statement", "getter"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525904867, "post_id": 50262660, "comment_id": 87543917, "body": "Can you confirm the versions of Kotlin/Gradle/JVM you are using, I tested your code and it worked"}, {"owner": {"reputation": 685, "user_id": 2057301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a1da100132372ea239dff273378f23?s=128&d=identicon&r=PG", "display_name": "Filippo Vigani", "link": "https://stackoverflow.com/users/2057301/filippo-vigani"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525905358, "post_id": 50262660, "comment_id": 87544083, "body": "@jrtapsell kotlin_version = &#39;1.2.41&#39;, gradle_version = &#39;3.1.2&#39;. Not sure if it matters but I&#39;m developing with android databinding library."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525906187, "post_id": 50262660, "comment_id": 87544323, "body": "I tried with 1.2.41, I still cannot reproduce the error"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525906239, "post_id": 50262660, "comment_id": 87544332, "body": "Tested on TIO <a href=\"https://tio.run/##VVCxbsJADN3vK6yoQyKVZA8FKUPUqV0C3Q11kxN3zunOEBDKt6ch0AJv8/Oz37N3rRjNw0C8t7A1GAKU/O1azQJnBSPKr/JzVb3Ce/FRVnM1cQc0sMFAa29gAVEj4kKeZV3XpXRE6wyl29Zm6HR0H3AoTQ6VeM31RF5Qk8TJuKNriGNpdEjO/727O8yWEL3cHDM6EEuInnRTumdZjZYeVL3qlfrZM1jUHKOvQw6F93h6u0ZaJreD3VhJ/PeF9JogvaRPVD8Mvw\" title=\"Kotlin \u2013 Try It Online\" rel=\"nofollow noreferrer\">Try it online!</a>"}, {"owner": {"reputation": 685, "user_id": 2057301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a1da100132372ea239dff273378f23?s=128&d=identicon&r=PG", "display_name": "Filippo Vigani", "link": "https://stackoverflow.com/users/2057301/filippo-vigani"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525906401, "post_id": 50262660, "comment_id": 87544372, "body": "This is interesting. I&#39;ve added the full exception log, maybe it can help to pinpoint what the issue is."}], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 2057301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a1da100132372ea239dff273378f23?s=128&d=identicon&r=PG", "display_name": "Filippo Vigani", "link": "https://stackoverflow.com/users/2057301/filippo-vigani"}, "edited": false, "score": 1, "creation_date": 1525905652, "post_id": 50262976, "comment_id": 87544173, "body": "You are right, my solution is a lot more convoluted compared to yours. Thank you."}, {"owner": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "edited": false, "score": 0, "creation_date": 1525921721, "post_id": 50262976, "comment_id": 87547753, "body": "This is the correct way to accomplish what you&#39;re looking for. The values of an enum class are instances of the class and can therefore be initialized by a constructor and even implement their own anonymous classes. You can read more about enums in Kotlin here: <a href=\"https://kotlinlang.org/docs/reference/enum-classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/enum-classes.html</a>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1525905114, "creation_date": 1525905114, "answer_id": 50262976, "question_id": 50262660, "link": "https://stackoverflow.com/questions/50262660/using-a-when-clause-in-an-enum-class-getter-in-kotlin/50262976#50262976", "title": "Using a when clause in an enum class getter in Kotlin", "body": "<p>I can't reproduce your error, the code works fine. Nevertheless, I think the solution is a bit too complex, why don't you use a constructor argument to provide the constant-specific value:</p>\n\n<pre><code>enum class Endpoint(service: String) {\n    EVENTS(\"/events\"), GAMES(\"/games\");\n\n    private val baseUrl = \"https://www.example.com/api\"\n    val path: String = baseUrl + service\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 685, "user_id": 2057301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a1da100132372ea239dff273378f23?s=128&d=identicon&r=PG", "display_name": "Filippo Vigani", "link": "https://stackoverflow.com/users/2057301/filippo-vigani"}, "edited": false, "score": 0, "creation_date": 1525907429, "post_id": 50263213, "comment_id": 87544600, "body": "I&#39;m really having a hard time wrapping my head around it. The way I&#39;m calling <code>Endpoint.EVENTS.path</code> is with <code>print(Endpoint.EVENTS.path)</code> (the log is somewhat different, but for test purposes I just did the print call) in the <code>onCreate</code> method of an activity. However as others have stated, the code works fine for them. Not sure what I&#39;m missing."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1525906874, "creation_date": 1525906874, "answer_id": 50263213, "question_id": 50262660, "link": "https://stackoverflow.com/questions/50262660/using-a-when-clause-in-an-enum-class-getter-in-kotlin/50263213#50263213", "title": "Using a when clause in an enum class getter in Kotlin", "body": "<p>The exception indicates you're trying to access <code>path</code> within the constructor of the enum. This causes a problem because the enum is not yet ready for use during construction.</p>\n\n<p>This means the following chain of calls results in failure:</p>\n\n<ol>\n<li>Init <code>Endpoint</code></li>\n<li>Init <code>Endpoint.EVENTS</code></li>\n<li>Call to <code>Endpoint.getPath()</code> (This does not show in your code)</li>\n<li>Uses <code>Endpoint$WhenMapping</code>, begin init of that class.</li>\n<li><code>Endpoint$WhenMapping</code> uses <code>EndPoint.values()</code>, but since we're still initializing the instances of the enum, the values array cannot be provided, returning <code>null</code>.</li>\n<li>To ensure it is not modified, <code>WhenMapping</code> clones and caches the array, but since the array is null when it never should be outside of initialization this causes the NPE.</li>\n</ol>\n\n<p>Simply put your code somehow relies on a class that requires itself to be fully initialized to use. Since your code does not display how you're calling <code>Endpoint.EVENTS.path</code> this is all that can be said about it.</p>\n"}], "owner": {"reputation": 685, "user_id": 2057301, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a1da100132372ea239dff273378f23?s=128&d=identicon&r=PG", "display_name": "Filippo Vigani", "link": "https://stackoverflow.com/users/2057301/filippo-vigani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1358, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525906874, "creation_date": 1525903280, "last_edit_date": 1525906355, "question_id": 50262660, "link": "https://stackoverflow.com/questions/50262660/using-a-when-clause-in-an-enum-class-getter-in-kotlin", "title": "Using a when clause in an enum class getter in Kotlin", "body": "<p>I'm trying to get a specific getter of a property in kotlin to be based on the value of the enum it is called from. This is what I got so far:</p>\n\n<pre><code>enum class Endpoint {\n    EVENTS, GAMES;\n\n    val baseUrl = \"https://www.example.com/api\"\n\n    val path: String\n        get() = when(this){\n            EVENTS -&gt; \"$baseUrl/events\"\n            GAMES -&gt; \"$baseUrl/games\"\n        }\n}\n</code></pre>\n\n<p>Called like this:</p>\n\n<pre><code>print(Endpoint.EVENTS.path)\n</code></pre>\n\n<p>While this compiles without any problem, as soon as I run it I get a <code>NullPointerException</code> with the error <code>Attempt to invoke virtual method 'java.lang.Object [...].Endpoint[].clone()' on a null object reference</code></p>\n\n<p>I'm not sure what I'm doing wrong or what the proper way to accomplish what is stated above is.</p>\n\n<p>EDIT: Full log of the exception:</p>\n\n<pre><code>05-09 22:51:33.793 15673-15673/com.filippovigani.eventvods E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.filippovigani.eventvods, PID: 15673\njava.lang.ExceptionInInitializerError\n    at com.filippovigani.eventvods.networking.Endpoint.getPath(Endpoint.kt:21)\n    at com.filippovigani.eventvods.networking.Endpoint.&lt;init&gt;(Endpoint.kt:25)\n    at com.filippovigani.eventvods.networking.Endpoint.&lt;clinit&gt;(Endpoint.kt)\n    at com.filippovigani.eventvods.networking.EventvodsApi$Companion.getEvents(EventvodsApi.kt:8)\n    at com.filippovigani.eventvods.MainActivity.onCreate(MainActivity.kt:19)\n    at android.app.Activity.performCreate(Activity.java:5990)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\n    at android.app.ActivityThread.access$800(ActivityThread.java:151)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5254)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object com.filippovigani.eventvods.networking.Endpoint[].clone()' on a null object reference\n    at com.filippovigani.eventvods.networking.Endpoint.values(Endpoint.kt)\n    at com.filippovigani.eventvods.networking.Endpoint$WhenMappings.&lt;clinit&gt;(Unknown Source)\n    at com.filippovigani.eventvods.networking.Endpoint.getPath(Endpoint.kt:21)\u00a0\n    at com.filippovigani.eventvods.networking.Endpoint.&lt;init&gt;(Endpoint.kt:25)\u00a0\n    at com.filippovigani.eventvods.networking.Endpoint.&lt;clinit&gt;(Endpoint.kt)\u00a0\n    at com.filippovigani.eventvods.networking.EventvodsApi$Companion.getEvents(EventvodsApi.kt:8)\u00a0\n    at com.filippovigani.eventvods.MainActivity.onCreate(MainActivity.kt:19)\u00a0\n    at android.app.Activity.performCreate(Activity.java:5990)\u00a0\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\u00a0\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\u00a0\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\u00a0\n    at android.app.ActivityThread.access$800(ActivityThread.java:151)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n    at android.os.Looper.loop(Looper.java:135)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:5254)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at java.lang.reflect.Method.invoke(Method.java:372)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\u00a0\n</code></pre>\n"}, {"tags": ["java", "jdbc", "kotlin", "spring-jdbc", "jdbctemplate"], "comments": [{"owner": {"reputation": 1680, "user_id": 194932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c93bba200ad6c7c64e8ec07b44e254ac?s=128&d=identicon&r=PG", "display_name": "Raphael", "link": "https://stackoverflow.com/users/194932/raphael"}, "edited": false, "score": 0, "creation_date": 1525897923, "post_id": 50261515, "comment_id": 87541214, "body": "post the code you did try."}, {"owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "reply_to_user": {"reputation": 1680, "user_id": 194932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c93bba200ad6c7c64e8ec07b44e254ac?s=128&d=identicon&r=PG", "display_name": "Raphael", "link": "https://stackoverflow.com/users/194932/raphael"}, "edited": false, "score": 0, "creation_date": 1525898105, "post_id": 50261515, "comment_id": 87541299, "body": "I&#39;ve added the code I&#39;ve tried."}, {"owner": {"reputation": 48511, "user_id": 5558072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GFXl3bQPSrM/AAAAAAAAAAI/AAAAAAAAARY/Fvg3zPWA3x0/photo.jpg?sz=128", "display_name": "YCF_L", "link": "https://stackoverflow.com/users/5558072/ycf-l"}, "edited": false, "score": 1, "creation_date": 1525899896, "post_id": 50261515, "comment_id": 87542172, "body": "which RDBMS you are using?"}, {"owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "edited": false, "score": 0, "creation_date": 1525975024, "post_id": 50261515, "comment_id": 87574244, "body": "DB2 LUW. The query itself works just fine in it."}], "answers": [{"comments": [{"owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "edited": false, "score": 0, "creation_date": 1525975326, "post_id": 50275798, "comment_id": 87574391, "body": "That did it. Thanks. Looks like a list of lists doesn&#39;t work, but a list of arrays does. I used arrays of strings and they worked just fine."}], "tags": [], "owner": {"reputation": 784, "user_id": 3415090, "user_type": "registered", "profile_image": "https://graph.facebook.com/284000213/picture?type=large", "display_name": "mohammedkhan", "link": "https://stackoverflow.com/users/3415090/mohammedkhan"}, "is_accepted": true, "score": 3, "last_activity_date": 1525964068, "creation_date": 1525964068, "answer_id": 50275798, "question_id": 50261515, "link": "https://stackoverflow.com/questions/50261515/namedjdbctemplate-parameters-is-list-of-lists/50275798#50275798", "title": "NamedJDBCTemplate Parameters is list of lists", "body": "<p>You can pass your values in as a collection of object arrays:</p>\n\n<pre><code>namedJdbcTemplate.queryForList(query, ImmutableMap.of(Lists.newArrayList(new Object[] {1,2}, new Object[]{3,4})));\n</code></pre>\n\n<p>We use Google Guava to instantiate collections hence why I've used <code>ImmutableMap</code> and <code>Lists</code>, but obviously you can go about creating them how you wish.</p>\n"}], "owner": {"reputation": 20934, "user_id": 1261825, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/44eaaa3783922a617281e96bfe3f5343?s=128&d=identicon&r=PG", "display_name": "samanime", "link": "https://stackoverflow.com/users/1261825/samanime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 1, "accepted_answer_id": 50275798, "answer_count": 1, "score": 1, "last_activity_date": 1525964068, "creation_date": 1525897688, "last_edit_date": 1525899190, "question_id": 50261515, "link": "https://stackoverflow.com/questions/50261515/namedjdbctemplate-parameters-is-list-of-lists", "title": "NamedJDBCTemplate Parameters is list of lists", "body": "<p>I have a query which looks something like this:</p>\n\n<pre><code>SELECT * FROM someTable t WHERE (t.a, t.b) IN (VALUES (1, 2), (3, 4))\n</code></pre>\n\n<p>And it would select any records where <code>t.a == 1 AND t.b == 2</code>  or <code>t.a == 3 AND t.b == 4</code>.</p>\n\n<p>This seems to work just fine.</p>\n\n<p>However, I can't figure out a clean way to specify the parameter to <code>NamedJDBCTemplate</code>. I tried giving it a list of lists (i.e., <code>List&lt;List&lt;int&gt;&gt;</code>), but it seems to blow up doing that.</p>\n\n<pre><code>val query = \"SELECT * FROM someTable t WHERE (t.a, t.b) IN (VALUES :values)\"\n\nnamedJdbcTemplate.queryForList(query, mapOf(\"values\" to listOf(listOf(1, 2), listOf(3, 4))))\n</code></pre>\n\n<p>I also tried manually converting the value to a string, but that doesn't make it happy either.</p>\n\n<pre><code>namedJdbcTemplate.queryForList(query, mapOf(\"values\" to \"(1, 2), (3, 4)\"))\n</code></pre>\n\n<p>(I'm actually working in Kotlin, but that shouldn't have an effect on this question)</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "tags", "nfc"], "comments": [{"owner": {"reputation": 408, "user_id": 4924492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c790a43da2dd9267203a19ea126ce6a6?s=128&d=identicon&r=PG&f=1", "display_name": "AIK", "link": "https://stackoverflow.com/users/4924492/aik"}, "edited": false, "score": 0, "creation_date": 1525926180, "post_id": 50260298, "comment_id": 87548832, "body": "what is applicationContext?"}, {"owner": {"reputation": 177, "user_id": 6042392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03f50177e0078524775d0f8128778850?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Jackson", "link": "https://stackoverflow.com/users/6042392/tommy-jackson"}, "reply_to_user": {"reputation": 408, "user_id": 4924492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c790a43da2dd9267203a19ea126ce6a6?s=128&d=identicon&r=PG&f=1", "display_name": "AIK", "link": "https://stackoverflow.com/users/4924492/aik"}, "edited": false, "score": 0, "creation_date": 1525926459, "post_id": 50260298, "comment_id": 87548915, "body": "@AIK its the context of the app. You need to pass it in maketext"}, {"owner": {"reputation": 408, "user_id": 4924492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c790a43da2dd9267203a19ea126ce6a6?s=128&d=identicon&r=PG&f=1", "display_name": "AIK", "link": "https://stackoverflow.com/users/4924492/aik"}, "edited": false, "score": 0, "creation_date": 1525926659, "post_id": 50260298, "comment_id": 87548956, "body": "Did you try a breakpoint to know whether the code is coming inside onNewIntent method?"}, {"owner": {"reputation": 177, "user_id": 6042392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03f50177e0078524775d0f8128778850?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Jackson", "link": "https://stackoverflow.com/users/6042392/tommy-jackson"}, "reply_to_user": {"reputation": 408, "user_id": 4924492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c790a43da2dd9267203a19ea126ce6a6?s=128&d=identicon&r=PG&f=1", "display_name": "AIK", "link": "https://stackoverflow.com/users/4924492/aik"}, "edited": false, "score": 0, "creation_date": 1525928822, "post_id": 50260298, "comment_id": 87549564, "body": "its not, thats what the toast message is there to test @AIK"}, {"owner": {"reputation": 408, "user_id": 4924492, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c790a43da2dd9267203a19ea126ce6a6?s=128&d=identicon&r=PG&f=1", "display_name": "AIK", "link": "https://stackoverflow.com/users/4924492/aik"}, "edited": false, "score": 0, "creation_date": 1525928928, "post_id": 50260298, "comment_id": 87549589, "body": "can you post your manifest file? Also check this post <a href=\"https://code.tutsplus.com/tutorials/reading-nfc-tags-with-android--mobile-17278\" rel=\"nofollow noreferrer\">code.tutsplus.com/tutorials/&hellip;</a>"}, {"owner": {"reputation": 36212, "user_id": 2425802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RKefk.png?s=128&g=1", "display_name": "Michael Roland", "link": "https://stackoverflow.com/users/2425802/michael-roland"}, "edited": false, "score": 1, "creation_date": 1525937397, "post_id": 50260298, "comment_id": 87553226, "body": "What you want is <code>NfcAdapter.enableForegroundDispatch</code> or <code>NfcAdapter.enableReaderMode</code> (depending on what devices you want to support)."}, {"owner": {"reputation": 177, "user_id": 6042392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03f50177e0078524775d0f8128778850?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Jackson", "link": "https://stackoverflow.com/users/6042392/tommy-jackson"}, "reply_to_user": {"reputation": 36212, "user_id": 2425802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RKefk.png?s=128&g=1", "display_name": "Michael Roland", "link": "https://stackoverflow.com/users/2425802/michael-roland"}, "edited": false, "score": 1, "creation_date": 1525977409, "post_id": 50260298, "comment_id": 87575423, "body": "@MichaelRoland this helped me get it working. I needed to create a <code>PendingIntent</code> and then call <code>enableForegroundDispatch</code>. If you post an answer I would gladly accept it. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 36212, "user_id": 2425802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RKefk.png?s=128&g=1", "display_name": "Michael Roland", "link": "https://stackoverflow.com/users/2425802/michael-roland"}, "is_accepted": true, "score": 2, "last_activity_date": 1526632939, "last_edit_date": 1526632939, "creation_date": 1526631897, "answer_id": 50406921, "question_id": 50260298, "link": "https://stackoverflow.com/questions/50260298/display-toast-message-when-nfc-tag-is-detected/50406921#50406921", "title": "Display toast message when NFC tag is detected", "body": "<p>The intent filters that you registered in your app manifest do not make much sense.</p>\n\n<ul>\n<li><code>android.nfc.action.TAG_DISCOVERED</code> (when used in the manifest) is only a fall-back mechanism to catch any NFC tags that are not handled by other apps.</li>\n<li><code>android.nfc.action.NDEF_DISCOVERED</code> also needs a data type specification to actually catch NFC tags that contain <em>specific</em> NDEF records. It won't match any tags without one.</li>\n<li><code>android.nfc.action.TECH_DISCOVERED</code> also needs a tech to catch specific tag technologies. It won't match any tags without one.</li>\n</ul>\n\n<p>Moreover, you would probably want to put each intent action in a separate <code>&lt;intent-filter&gt;</code> to have better control over categories, data types, etc.</p>\n\n<p>However, since you are only interested in receiving NFC discovery events while your activity is in the foreground, you have better and (somewhat) more reliable options to detect tags: the foreground dispatch system and the reader mode API.</p>\n\n<p>You would want to choose between one of them:</p>\n\n<ul>\n<li>If you are on Android 4.4+ and if you are only interested in detecting other tags (and <em>no</em> peer-to-peer mode devices). I would strongly suggest that you use the reader mode API since it gives you much better control over what tags you want to detect and how these tags should be processed. Also, if you want to be able to detect and speak to a HCE application on another Android device, your only option is the reader mode API.</li>\n<li>If you also want to support devices before Android 4.4 or if you also want to receive data from peer-to-peer devices (e.g. over Android Beam), you will need to stick to the foreground dispatch system.</li>\n</ul>\n\n<h3>Foreground Dispatch System</h3>\n\n<p>You can register your activity to receive NFC intents during <code>onResume()</code>:</p>\n\n<pre><code>@Override\npublic void onResume() {\n    super.onResume();\n\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);\n    NfcAdapter nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n    nfcAdapter.enableForegroundDispatch(this, pendingIntent, null, null);\n}\n</code></pre>\n\n<p>That's probably something like this in Kotlin (though not tested):</p>\n\n<pre><code>fun onResume() {\n    super.onResume()\n    val pendingIntent = PendingIntent.getActivity(this, 0, Intent(this, javaClass).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0)\n    val nfcAdapter = NfcAdapter.getDefaultAdapter(this)\n    nfcAdapter.enableForegroundDispatch(this, pendingIntent, null, null)\n}\n</code></pre>\n\n<p>Make sure to unregister this again during <code>onPause()</code>:</p>\n\n<pre><code>@Override\npublic void onPause() {\n    super.onPause();\n    NfcAdapter nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n    nfcAdapter.disableForegroundDispatch(this);\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>fun onPause() {\n    super.onPause()\n    val nfcAdapter = NfcAdapter.getDefaultAdapter(this)\n    nfcAdapter.disableForegroundDispatch(this)\n}\n</code></pre>\n\n<p>You will then receive NFC events as TAG_DISCOVERED intents through <code>onNewIntent()</code>:</p>\n\n<pre><code>@Override\npublic void onNewIntent(Intent intent) {\n    if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction())) {\n        // TODO: process intent\n    }\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>fun onNewIntent(intent: Intent) {\n    if (NfcAdapter.ACTION_TAG_DISCOVERED.equals(intent.getAction())) {\n        // TODO: process intent\n    }\n}\n</code></pre>\n\n<h3>Reader Mode API</h3>\n\n<p>With the reader mode API, you register your activity for receiving NFC callbacks (no intents are used here!) during <code>onStart()</code>:</p>\n\n<pre><code>@Override\npublic void onStart() {\n    super.onStart();\n\n    NfcAdapter nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n    nfcAdapter.enableReaderMode(this, new NfcAdapter.ReaderCallback() {\n        @Override\n        public void onTagDiscovered(Tag tag) {\n            // TODO: use NFC tag\n        }\n    }, NfcAdapter.FLAG_READER_NFC_A | NfcAdapter.FLAG_READER_NFC_B | NfcAdapter.FLAG_READER_NFC_F | NfcAdapter.FLAG_READER_NFC_V | NfcAdapter.FLAG_READER_NFC_BARCODE, null);\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>fun onStart() {\n    super.onStart()\n    val nfcAdapter = NfcAdapter.getDefaultAdapter(this)\n    nfcAdapter.enableReaderMode(this, object : NfcAdapter.ReaderCallback() {\n        fun onTagDiscovered(tag: Tag) {\n            // TODO: use NFC tag\n        }\n    }, NfcAdapter.FLAG_READER_NFC_A or NfcAdapter.FLAG_READER_NFC_B or NfcAdapter.FLAG_READER_NFC_F or NfcAdapter.FLAG_READER_NFC_V or NfcAdapter.FLAG_READER_NFC_BARCODE, null)\n}\n</code></pre>\n\n<p>You also should make sure to unregister during <code>onStop()</code>:</p>\n\n<pre><code>@Override\npublic void onStop() {\n    super.onStop();\n    NfcAdapter nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n    nfcAdapter.disableReaderMode(this);\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>fun onStop() {\n    super.onStop()\n    val nfcAdapter = NfcAdapter.getDefaultAdapter(this)\n    nfcAdapter.disableReaderMode(this)\n}\n</code></pre>\n\n<p>You receive discovered tag handles through the <code>onTagDiscovered(Tag tag)</code> callback method above. Instead, you could, of course, also implement the <code>NfcAdapter.ReaderCallback</code> interface on your activity class and pass <code>this</code> instead of an anonymous class to the <code>enableReaderMode</code> method.</p>\n"}], "owner": {"reputation": 177, "user_id": 6042392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03f50177e0078524775d0f8128778850?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Jackson", "link": "https://stackoverflow.com/users/6042392/tommy-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 930, "favorite_count": 0, "accepted_answer_id": 50406921, "answer_count": 1, "score": 2, "last_activity_date": 1526633143, "creation_date": 1525892199, "last_edit_date": 1526633143, "question_id": 50260298, "link": "https://stackoverflow.com/questions/50260298/display-toast-message-when-nfc-tag-is-detected", "title": "Display toast message when NFC tag is detected", "body": "<p>I'm not at all familiar with NFC tag detection and I'm trying to set up a listener for any NFC tag detected in an activity. I want to just display a toast message when the activity detects an NFC tag but I'm having trouble doing so.</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity)\n\n    val nfcAdapter = NfcAdapter.getDefaultAdapter(this)\n\n}\n\noverride fun onNewIntent(intent: Intent) {\n    super.onNewIntent(intent)\n\n    Toast.makeText(applicationContext, \"NFC Tag Detected\", Toast.LENGTH_LONG).show()\n\n}\n</code></pre>\n\n<p>And in my manifest I have this:</p>\n\n<pre><code>&lt;intent-filter&gt;\n    &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n    &lt;action android:name=\"android.nfc.action.NDEF_DISCOVERED\" /&gt;\n    &lt;action android:name=\"android.nfc.action.TECH_DISCOVERED\" /&gt;\n    &lt;action android:name=\"android.nfc.action.TAG_DISCOVERED\" /&gt;\n    &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n\n<p>I'm testing this using a Samsung Galaxy S6 and S7. When I put them together while the activity is running on one of them, I want to be able to see a toast message but so far nothing is showing up. I don't need to read the tag, I don't care what type of tag it is, I only need to know that there was a tag detected.</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 1382, "user_id": 1638059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/nvIOV.png?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1638059/sebastian"}, "edited": false, "score": 0, "creation_date": 1525952065, "post_id": 50271412, "comment_id": 87560925, "body": "Perfect. I didn&#180;t realize that the listview function parameter takes a listProperty. So I tried to assign to items."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 3, "last_activity_date": 1525950111, "creation_date": 1525950111, "answer_id": 50271412, "question_id": 50260206, "link": "https://stackoverflow.com/questions/50260206/bind-listview-to-listproperty/50271412#50271412", "title": "Bind ListView to ListProperty", "body": "<p>Define your binding as a ListProperty and pass the listProperty to the listview builder:</p>\n\n<p><code>val listProperty = bind(Item::myList) as ListProperty&lt;YourType&gt;</code></p>\n\n<p>..</p>\n\n<p><code>listview(myVm.listProperty)</code></p>\n"}], "owner": {"reputation": 1382, "user_id": 1638059, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/nvIOV.png?s=128&g=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1638059/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 50271412, "answer_count": 1, "score": 2, "last_activity_date": 1578256330, "creation_date": 1525891791, "last_edit_date": 1578256330, "question_id": 50260206, "link": "https://stackoverflow.com/questions/50260206/bind-listview-to-listproperty", "title": "Bind ListView to ListProperty", "body": "<p>Is it possible in tornadoFX to bind a ListView to a ListProperty?</p>\n\n<p>I have a ViewModel like follows:</p>\n\n<pre><code>class MyVm: ItemViewModel&lt;Item&gt;() {\n    val stringProperty = bind { item?.myString?.toProperty() }\n}\n\nclass MyView: View() {\n    ...\n    init {\n        with (root) {\n            label(myVm.stringProperty)\n        }\n    }\n}\n</code></pre>\n\n<p>if the item changes with <code>vm.item = Item(...)</code>  the stringProperty will be updated accordingly, which will update all bound labels etc...</p>\n\n<p>Now I want to do the same with a ListView:</p>\n\n<pre><code>class MyVm: ItemViewModel&lt;Item&gt;() {\n    val listProperty = bind { item?.myList?.toProperty() }\n}\n\nclass MyView: View() {\n    ...\n    init {\n        with (root) {\n            listview {\n                items = myVm.listProperty\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>But in this case the compiler complains that listview.items expects an <code>ObservableList</code> instead of a <code>ListProperty</code> </p>\n"}, {"tags": ["gradle", "webpack", "kotlin", "single-page-application"], "answers": [{"tags": [], "owner": {"reputation": 3854, "user_id": 391635, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/c8de97a3dca54af046de82b95041a3d5?s=128&d=identicon&r=PG", "display_name": "mystdeim", "link": "https://stackoverflow.com/users/391635/mystdeim"}, "is_accepted": false, "score": 1, "last_activity_date": 1528802496, "creation_date": 1528802496, "answer_id": 50815926, "question_id": 50260174, "link": "https://stackoverflow.com/questions/50260174/how-to-organize-frontend-and-backend-for-kotlin-spa-with-webpack/50815926#50815926", "title": "How to organize frontend and backend for Kotlin SPA with Webpack", "body": "<p>Look at this project: <a href=\"https://github.com/yole/kxhtml-isomorphic\" rel=\"nofollow noreferrer\">https://github.com/yole/kxhtml-isomorphic</a>\nand read <a href=\"http://kotlinlang.org/docs/reference/multiplatform.html#multiplatform-projects\" rel=\"nofollow noreferrer\">http://kotlinlang.org/docs/reference/multiplatform.html#multiplatform-projects</a></p>\n"}, {"tags": [], "owner": {"reputation": 460, "user_id": 2331319, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/0Wwzg.jpg?s=128&g=1", "display_name": "Lamberto Basti", "link": "https://stackoverflow.com/users/2331319/lamberto-basti"}, "is_accepted": true, "score": 1, "last_activity_date": 1542882807, "last_edit_date": 1542882807, "creation_date": 1542882167, "answer_id": 53428761, "question_id": 50260174, "link": "https://stackoverflow.com/questions/50260174/how-to-organize-frontend-and-backend-for-kotlin-spa-with-webpack/53428761#53428761", "title": "How to organize frontend and backend for Kotlin SPA with Webpack", "body": "<p>If you need to run some <code>npm</code> commands you can either install Node on the machine you are working on, declare an <code>Exec</code> task and make the <code>build</code> task depend on it. </p>\n\n<pre><code>val npmBuilder by tasks.creating(Exec::class){\n    // some stuff\n}\n\ntasks.getByName(\"build\").dependsOn(npmBuilder)\n</code></pre>\n\n<p>Have a look at the documention of the <code>Exec</code> task <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.Exec.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Otherwise you could apply <a href=\"https://github.com/srs/gradle-node-plugin\" rel=\"nofollow noreferrer\">this Node plugin for Gradle</a> allowing you not to depend from the machine setup.</p>\n\n<p>Furthermore I'd recommend to handle the routes of your SPA not by hand but using <a href=\"https://github.com/lamba92/ktor-spa\" rel=\"nofollow noreferrer\">this Ktor Feature</a></p>\n"}], "owner": {"reputation": 403, "user_id": 377457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c71bcd489037c95ada4ec02bf766ef4?s=128&d=identicon&r=PG", "display_name": "G. Kashtanov", "link": "https://stackoverflow.com/users/377457/g-kashtanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 1, "accepted_answer_id": 53428761, "answer_count": 2, "score": 1, "last_activity_date": 1542882807, "creation_date": 1525891640, "question_id": 50260174, "link": "https://stackoverflow.com/questions/50260174/how-to-organize-frontend-and-backend-for-kotlin-spa-with-webpack", "title": "How to organize frontend and backend for Kotlin SPA with Webpack", "body": "<p>I am developing an SPA with Kotlin (Ktor) on the backend. The project structure now is:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 frontend/                &lt;-- SPA frontend source project\n\u2502   \u251c\u2500\u2500 dist/                &lt;-- current webpack dist\n\u2502   \u251c\u2500\u2500 node_modules/        &lt;-- not to be included in the jar\n\u2502   \u251c\u2500\u2500 src/                 &lt;-- to be bundled by webpack\n\u2502   \u2502   \u2514\u2500\u2500 index.js\n\u2502   \u251c\u2500\u2500 index.html           &lt;-- to be served as static by backend\n\u2502   \u251c\u2500\u2500 package.json         &lt;-- not to be included in the jar\n\u2502   \u2514\u2500\u2500 webpack.config.json  &lt;-- not to be included in the jar\n\u2502\n\u251c\u2500\u2500 src/                     &lt;-- SPA backend source\n|   \u2514\u2500\u2500 main/\n|       \u251c\u2500\u2500 kotlin/\n|       |   \u2514\u2500\u2500 Main.kt      &lt;-- backend entry point\n|       \u2514\u2500\u2500 resources/       &lt;-- framework-specific configuration\n\u2502\n\u251c\u2500\u2500 build.gradle\n\u2514\u2500\u2500 settings.gradle\n</code></pre>\n\n<p>The frontend successfully compiles with <code>cd frontend &amp;&amp; npm run build</code>, storing the resulting bundle into the <code>frontend/dist</code>.</p>\n\n<p>Ktor routing setup:</p>\n\n<pre><code>fun Application.main() {\n    install(DefaultHeaders)\n    install(CallLogging)\n\n    routing {\n        static(\"/\") {\n            default(\"frontend/index.html\") // to be replaced with index file\n                                           // from packaged frontend\n        }\n        // ... other dynamic routes for REST\n    }\n}\n</code></pre>\n\n<p>build.gradle is pretty standard:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\n    ext.ktor_version = '0.9.2'\n    ext.koin_ktor_version = '0.9.2'\n    ext.ktor_gson_version = '0.9.2'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\ngroup 'org.root_talis'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'java'\napply plugin: 'kotlin'\napply plugin: 'application'\n\nmainClassName = 'MainKt'\n\nkotlin { experimental { coroutines \"enable\" } }\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven { url \"https://dl.bintray.com/kotlin/ktor\" }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compile \"io.ktor:ktor-server-netty:$ktor_version\"\n    compile \"io.ktor:ktor-gson:$ktor_gson_version\"\n    compile \"ch.qos.logback:logback-classic:1.2.1\"\n    compile \"org.koin:koin-ktor:$koin_ktor_version\"\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>How do I make Gradle compile the frontend project through <code>npm run build</code> and package the <code>dist</code> into the resulting JAR for it to be served by the backend?</p>\n\n<p>Are there any recommendations on organizing such projects?</p>\n"}, {"tags": ["sorting", "kotlin"], "comments": [{"owner": {"reputation": 5734, "user_id": 1000011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/acdae0c496ecd259af4d8a673bd22325?s=128&d=identicon&r=PG", "display_name": "opticyclic", "link": "https://stackoverflow.com/users/1000011/opticyclic"}, "reply_to_user": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "edited": false, "score": 0, "creation_date": 1525889846, "post_id": 50259099, "comment_id": 87537316, "body": "Convert the first comment to an answer so I can accept"}], "answers": [{"tags": [], "owner": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "is_accepted": false, "score": 0, "last_activity_date": 1525899960, "creation_date": 1525899960, "answer_id": 50262043, "question_id": 50259099, "link": "https://stackoverflow.com/questions/50259099/how-do-i-sort-a-list-of-objects-based-on-highest-grouping/50262043#50262043", "title": "How Do I Sort A List Of Objects Based On Highest Grouping?", "body": "<p>After grouping, the first name has become a key for the importance of that name in the sorted list.  </p>\n\n<pre><code>people.sortedByDescending { group[it.firstName] }\n</code></pre>\n\n<p>You could also sort the list of people by the frequency of first name occurrence, though the operation will be heavier as counting is performed on each item rather than all at once via your grouping. </p>\n\n<pre><code>people.sortedByDescending { person -&gt; people.count { it.firstName == person.firstName } }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1525906014, "creation_date": 1525906014, "answer_id": 50263102, "question_id": 50259099, "link": "https://stackoverflow.com/questions/50259099/how-do-i-sort-a-list-of-objects-based-on-highest-grouping/50263102#50263102", "title": "How Do I Sort A List Of Objects Based On Highest Grouping?", "body": "<p>Create your <code>eachCount</code> Map which contains each name with related number of occurences. Then sort the original array by the previously determined counts:</p>\n\n<pre><code>val sorted = ps.groupingBy { it.fn }.eachCount().let { counts -&gt;\n    ps.sortedByDescending { counts[it.fn] }\n}\n</code></pre>\n"}], "owner": {"reputation": 5734, "user_id": 1000011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/acdae0c496ecd259af4d8a673bd22325?s=128&d=identicon&r=PG", "display_name": "opticyclic", "link": "https://stackoverflow.com/users/1000011/opticyclic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525906014, "creation_date": 1525887325, "question_id": 50259099, "link": "https://stackoverflow.com/questions/50259099/how-do-i-sort-a-list-of-objects-based-on-highest-grouping", "title": "How Do I Sort A List Of Objects Based On Highest Grouping?", "body": "<p>If I have a list of objects, how do I sort them based on the largest group?</p>\n\n<p>e.g.  I read this csv to a list of objects</p>\n\n<pre><code>FirstName, LastName, Age\nMichael, Moore, 64\nJohn, Doe, 22\nJohn, Brown, 44\nPeter, Piper, 46\nJohn, Johnson, 14\nPeter, Rabbit, 5\n</code></pre>\n\n<p>If I group by FirstName I get</p>\n\n<pre><code>FirstName, Count\nMichael, 1\nJohn, 3\nPeter, 2\n</code></pre>\n\n<p>If I sort descending by the count I get</p>\n\n<pre><code>FirstName, Count\nJohn, 3\nPeter, 2\nMichael, 1\n</code></pre>\n\n<p>How do I now sort the first list by the order of this sorted group?</p>\n\n<pre><code>FirstName, LastName, Age\nJohn, Doe, 22\nJohn, Brown, 44\nJohn, Johnson, 14\nPeter, Piper, 46\nPeter, Rabbit, 5\nMichael, Moore, 64\n</code></pre>\n\n<p>So far I have:</p>\n\n<pre><code>val people: List&lt;Person&gt; = readNames(csv)\nval group = positions.groupingBy { it.firstName }.eachCount()\nval sorted = group.toList().sortedByDescending { (key, value) -&gt; value }\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "lambda", "kotlin", "mockito"], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 5555438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/923c7e0d581444a2dcd9e782827e1c7c?s=128&d=identicon&r=PG&f=1", "display_name": "KraffMann", "link": "https://stackoverflow.com/users/5555438/kraffmann"}, "edited": false, "score": 0, "creation_date": 1593934135, "post_id": 50286761, "comment_id": 110945485, "body": "To handle the situation with the classes to be open in order to be able to test them you could use the Kotlin allopen plugin. Check it out here <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/compiler-plugins.html</a> ."}, {"owner": {"reputation": 11742, "user_id": 5730321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/6yX7D.jpg?s=128&g=1", "display_name": "Leo Droidcoder", "link": "https://stackoverflow.com/users/5730321/leo-droidcoder"}, "edited": false, "score": 0, "creation_date": 1614076545, "post_id": 50286761, "comment_id": 117268018, "body": "Instead of the ugly  `when` you can use <code>whenever()</code> extension from the same library."}], "tags": [], "owner": {"reputation": 425, "user_id": 1312353, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/de52acd22dab1c76041b169ae53c1261?s=128&d=identicon&r=PG", "display_name": "kioli", "link": "https://stackoverflow.com/users/1312353/kioli"}, "is_accepted": true, "score": 6, "last_activity_date": 1526028868, "last_edit_date": 1526028868, "creation_date": 1526022059, "answer_id": 50286761, "question_id": 50256747, "link": "https://stackoverflow.com/questions/50256747/test-lambda-functions-in-android-with-kotlin/50286761#50286761", "title": "Test lambda functions in Android with Kotlin", "body": "<p>After days of trying out things and reading about it, I finally found a solution that works and I'll share it here for whomever find themselves in the same pickle</p>\n\n<pre><code>@Test\nfun doClassActionTest() {\n    val mockStore = mock(MyStore::class.java)\n    val mockObject = mock(MyObject::class.java)\n    val myClass = MyClass(mockStore, mockObject)\n    val input = 42\n    val resultCallback = \"test result\"\n\n    `when`(mockStore.doStoreAction(any(), any())).then { invocation -&gt;\n        (invocation.arguments[1] as (String) -&gt; Unit).invoke(resultCallback)\n    }\n\n    myClass.doClassAction(input)\n\n    verify(mockObject, only()).doObjectAction(resultCallback)\n}\n</code></pre>\n\n<p>The caveat here is to remember to put the classes that you are mocking AND the methods called by those classes as <code>open</code> in Kotlin otherwise there could be <strong>false positives</strong></p>\n\n<p>P.s. I also used few inline functions extracted from the <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"noreferrer\">mockito-kotlin</a> library such as:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; any() = Mockito.any(T::class.java) ?: createInstance&lt;T&gt;()\n\ninline fun &lt;reified T : Any&gt; createInstance(): T = createInstance(T::class)\n\nfun &lt;T : Any&gt; createInstance(kClass: KClass&lt;T&gt;): T = castNull()\n\n@Suppress(\"UNCHECKED_CAST\")\nprivate fun &lt;T&gt; castNull(): T = null as T\n</code></pre>\n"}], "owner": {"reputation": 425, "user_id": 1312353, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/de52acd22dab1c76041b169ae53c1261?s=128&d=identicon&r=PG", "display_name": "kioli", "link": "https://stackoverflow.com/users/1312353/kioli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2899, "favorite_count": 3, "accepted_answer_id": 50286761, "answer_count": 1, "score": 5, "last_activity_date": 1526028886, "creation_date": 1525878880, "last_edit_date": 1526028886, "question_id": 50256747, "link": "https://stackoverflow.com/questions/50256747/test-lambda-functions-in-android-with-kotlin", "title": "Test lambda functions in Android with Kotlin", "body": "<p>I need to Unit-Test a function <code>doClassAction</code> and inside it calls the function <code>doStoreAction</code> on the object <code>store</code>.\nThis <code>doStoreAction</code> accepts two parameters, one integer and one function, like in the example below</p>\n\n<pre><code>class MyStore() {\n\n    fun doStoreAction(num: Int, callback: (text: String) -&gt; Unit) {\n        // It does something \n        // ...\n        // and when it's done it calls the callback\n\n        return callback(\"some text\")\n    }\n}\n\nclass MyClass(private val store: MyStore,\n              private val objectX: MyObject) {\n\n    fun doClassAction(num: Int) {\n        store.doStoreAction(num) { callbackResult -&gt;\n            // Action (potentially asynchronous)\n            // that will happen after obtaining the value via the callback\n\n            objectX.doObjectAction(callbackResult)\n        }\n    }\n}\n</code></pre>\n\n<p>I am using <code>Mockito</code> and so far my test has the following lines</p>\n\n<pre><code>@Test\nfun doClassActionTest() {\n    val mockStore = mock(MyStore::class.java)\n    val mockObject = mock(MyObject::class.java)\n    val class = MyClass(mockStore, mockObject)\n    class.doClassAction(42)\n}\n</code></pre>\n\n<p>But it doesn't compile because the call to the method does not specify the callback... I don't want to overwrite it since I want the test to use the original one and verify that the things inside are called properly, like:</p>\n\n<pre><code>when(objectX.doObjectAction(anyString())).doNothing()\nverify(objectX, times(1)).doObjectAction(callbackResult)\n</code></pre>\n\n<p>Is there a way to call the method and also mock the callback response to a value I set in the tests but still have it go through the original code flow?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 206, "user_id": 1382250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc96a92b0b62434d2e7945d96985b1e?s=128&d=identicon&r=PG", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/1382250/eduardo"}, "edited": false, "score": 0, "creation_date": 1561449688, "post_id": 50254937, "comment_id": 100056707, "body": "Nice solution, but what if I need a <code>data class</code>? Is there another way around this or just making the <code>@Embedded</code> attribute not a constructor parameter should sufied? I also updated to androidX since I read that there was a known bug in Room fixed on a new version released for androidX only"}, {"owner": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "edited": false, "score": 0, "creation_date": 1577376114, "post_id": 50254937, "comment_id": 105155713, "body": "Well, <a href=\"https://developer.android.com/training/data-storage/room/relationships#one-to-many\" rel=\"nofollow noreferrer\">the example in docs</a> is a data class with <code>@Relation</code> parameter, see <code>UserWithPlaylists</code>. Is it a mistake?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "edited": false, "score": 0, "creation_date": 1577380383, "post_id": 50254937, "comment_id": 105157082, "body": "@VadimKotov no, it&#39;s just that I wrote this answer in 2018.05.09, while the constructor arguments of data classes are supported since Room 2.1.0 which was release in 2019.06.13 (more than 1 year later), see <a href=\"https://developer.android.com/jetpack/androidx/releases/room#2.1.0\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/room#2.1.0</a> -- thanks for pointing it out though, apparently now you <i>can</i> use data classes like that."}, {"owner": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "edited": false, "score": 1, "creation_date": 1577433595, "post_id": 50254937, "comment_id": 105168491, "body": "@EpicPandaForce I got the same error now while using POJO data class with Room 2.2.3. What can be wrong?"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 8, "last_activity_date": 1529493361, "last_edit_date": 1529493361, "creation_date": 1525873431, "answer_id": 50254937, "question_id": 50254837, "link": "https://stackoverflow.com/questions/50254837/room-kotlin-entities-and-pojos-must-have-a-usable-public-constructor-stuck-on/50254937#50254937", "title": "Room kotlin: Entities and Pojos must have a usable public constructor. Stuck on this error", "body": "<p>Well it says they shouldn't be constructor parameters, so try making them not constructor parameters.</p>\n\n<pre><code>class TaskModel() {\n    @Embedded\n    lateinit var taskTable: TaskTable\n\n    @Relation(parentColumn = \"id\",\n              entityColumn = \"taskId\")\n    lateinit var subTaskTable: List&lt;SubTaskTable&gt;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1220, "user_id": 5935559, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/aGsWk.jpg?s=128&g=1", "display_name": "Shudipto Trafder", "link": "https://stackoverflow.com/users/5935559/shudipto-trafder"}, "edited": false, "score": 0, "creation_date": 1590080791, "post_id": 61924626, "comment_id": 109551663, "body": "Thank you. I asked this question, maybe 2 years ago. And I also left android"}], "tags": [], "owner": {"reputation": 1140, "user_id": 1462969, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/7c51b13948940020245f7e8ef7c8c642?s=128&d=identicon&r=PG", "display_name": "Waran-", "link": "https://stackoverflow.com/users/1462969/waran"}, "is_accepted": false, "score": 0, "last_activity_date": 1590017213, "creation_date": 1590017213, "answer_id": 61924626, "question_id": 50254837, "link": "https://stackoverflow.com/questions/50254837/room-kotlin-entities-and-pojos-must-have-a-usable-public-constructor-stuck-on/61924626#61924626", "title": "Room kotlin: Entities and Pojos must have a usable public constructor. Stuck on this error", "body": "<p>In my case, I used annotationProcesso instead of kapt and there were old version of room, please check the last version of room </p>\n\n<p>kapt \"androidx.room:room-compiler:2.2.5\"</p>\n"}], "owner": {"reputation": 1220, "user_id": 5935559, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/aGsWk.jpg?s=128&g=1", "display_name": "Shudipto Trafder", "link": "https://stackoverflow.com/users/5935559/shudipto-trafder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1580, "favorite_count": 0, "accepted_answer_id": 50254937, "answer_count": 2, "score": 6, "last_activity_date": 1590017213, "creation_date": 1525873148, "question_id": 50254837, "link": "https://stackoverflow.com/questions/50254837/room-kotlin-entities-and-pojos-must-have-a-usable-public-constructor-stuck-on", "title": "Room kotlin: Entities and Pojos must have a usable public constructor. Stuck on this error", "body": "<p>I am getting two error</p>\n\n<ul>\n<li><p>error: Fields annotated with @Relation cannot be constructor parameters. These values are fetched after the object is constructed.</p></li>\n<li><p>error: Fields annotated with @Relation cannot be constructor parameters. These values are fetched after the object is constructed.</p></li>\n</ul>\n\n<p>I have two table. One is <strong>task table</strong> and other is <strong>sub-task table</strong>. For every entity of task table, there are some entities of subtask table.</p>\n\n<p>So I am trying to get all the task and the list of subtask fro individual task</p>\n\n<p>Dao:</p>\n\n<pre><code>@Query(\"Select * from TaskTable\")\nfun getTasks():List&lt;TaskModel&gt;\n</code></pre>\n\n<p>TaskModel:</p>\n\n<pre><code>class TaskModel(\n        @Embedded\n        var taskTable: TaskTable,\n\n        @Relation(parentColumn = \"id\",\n                entityColumn = \"taskId\")\n        var subTaskTable: List&lt;SubTaskTable&gt;\n)\n</code></pre>\n\n<p>TaskTable:</p>\n\n<pre><code>@Entity\ndata class TaskTable(\n    @PrimaryKey(autoGenerate = true)\n    var id:Int = 0,\n    var taskListId:Int = 0,\n    var title: String,\n    var details:String?\n)\n</code></pre>\n\n<p>SubTaskTable:</p>\n\n<pre><code>@Entity\ndata class SubTaskTable (\n    @PrimaryKey(autoGenerate = true) var id: Int = 0,\n    var taskId: Int = 0,\n\n    var title: String,\n    var details: String?)\n</code></pre>\n\n<p>build.gradle</p>\n\n<pre><code>//room\ndef room_version = \"1.1.0\"\nimplementation \"android.arch.persistence.room:runtime:$room_version\"\nkapt \"android.arch.persistence.room:compiler:$room_version\"\n// Test helpers\ntestImplementation \"android.arch.persistence.room:testing:$room_version\"\n</code></pre>\n\n<p>And I apply <strong>kotlin-kapt</strong> plugin</p>\n\n<p>Help me to fix this problem. I search on stack overflow and implement some answer but this not fixed.</p>\n"}, {"tags": ["android", "kotlin", "branch.io"], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 3705730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df6fa8f81279dca5a6715b10ef7678c?s=128&d=identicon&r=PG&f=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/3705730/aaron"}, "edited": false, "score": 0, "creation_date": 1525886623, "post_id": 50254412, "comment_id": 87535699, "body": "Aaron from Branch here. @Siraj, can you give this a try? If this works to handle this case, we can surely update the documentation to ensure it works for Kotlin."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 291, "user_id": 3705730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df6fa8f81279dca5a6715b10ef7678c?s=128&d=identicon&r=PG&f=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/3705730/aaron"}, "edited": false, "score": 0, "creation_date": 1525937330, "post_id": 50254412, "comment_id": 87553194, "body": "If you don&#39;t mind, you should also remove the <code>new</code> keyword from Kotlin samples. It doesn&#39;t exist in Kotlin."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1525871887, "creation_date": 1525871887, "answer_id": 50254412, "question_id": 50254147, "link": "https://stackoverflow.com/questions/50254147/branch-io-random-app-crash-kotlin/50254412#50254412", "title": "Branch IO random App crash - Kotlin", "body": "<p>To avoid the crash, use this signature:</p>\n\n<pre><code>override fun onLinkShareResponse(\n    sharedLink: String?, \n    sharedChannel: String?, \n    error: BranchError?)\n</code></pre>\n\n<p>Then you can inspect what's null instead of getting a low-level exception.</p>\n\n<p>I saw the code on Branch's website, the Kotlin samples look broken. I don't think it makes sense that <code>error</code> is always non-null, even when there's no error. <code>sharedChannel</code> might be null in the case of an error.</p>\n"}], "owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525871887, "creation_date": 1525871099, "question_id": 50254147, "link": "https://stackoverflow.com/questions/50254147/branch-io-random-app-crash-kotlin", "title": "Branch IO random App crash - Kotlin", "body": "<p>I am integrating Branch IO for App sharing in my application. I have implemented Share URL functionality with help of Branch with below code:</p>\n\n<pre><code>fun ShareApp(){\n    val appShare = BranchUniversalObject()\n            .setCanonicalIdentifier(\"app-share\")\n            .setTitle(resources.getString(R.string.app_name))\n            .setContentImageUrl(AppConstants.AppIconURL)\n            .setContentIndexingMode(BranchUniversalObject.CONTENT_INDEX_MODE.PUBLIC)\n\n    val lp = LinkProperties()\n            .setChannel(\"facebook\")\n            .setFeature(\"sharing\")\n\n    val ss = ShareSheetStyle(this, appName, Message)\n            .setAsFullWidthStyle(true)\n            .setSharingTitle(\"Share With\")\n\n    appShare.showShareSheet(this, lp, ss, object : Branch.BranchLinkShareListener {\n        override fun onShareLinkDialogLaunched() {}\n        override fun onShareLinkDialogDismissed() {}\n        override fun onLinkShareResponse(sharedLink: String, sharedChannel: String, error: BranchError) {}\n        override fun onChannelSelected(channelName: String) {}\n    })\n}\n</code></pre>\n\n<p>Whenever I click on any channel say Whatsapp, sometimes it work and take me to whatsapp. But many times The channel is not getting selected and it gives me the below crash:</p>\n\n<pre><code>FATAL EXCEPTION: main\n                                                              Process: com.eonian.reelo, PID: 10038\n                                                              java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter error\n                                                                  at com.eonian.reelo.ui.profile.profileSettings.ProfileSettingsActivity$ShareApp$1.onLinkShareResponse(ProfileSettingsActivity.kt:0)\n                                                                  at io.branch.indexing.BranchUniversalObject$LinkShareListenerWrapper.onLinkShareResponse(BranchUniversalObject.java:980)\n                                                                  at io.branch.referral.ShareLinkManager.shareWithClient(ShareLinkManager.java:309)\n                                                                  at io.branch.referral.ShareLinkManager.access$700(ShareLinkManager.java:32)\n                                                                  at io.branch.referral.ShareLinkManager$3.onLinkCreate(ShareLinkManager.java:282)\n                                                                  at io.branch.referral.ServerRequestCreateUrl.onUrlAvailable(ServerRequestCreateUrl.java:142)\n                                                                  at io.branch.referral.Branch.generateShortLinkInternal(Branch.java:2052)\n                                                                  at io.branch.referral.BranchUrlBuilder.generateUrlInternal(BranchUrlBuilder.java:140)\n                                                                  at io.branch.referral.BranchShortLinkBuilder.generateShortUrlInternal(BranchShortLinkBuilder.java:144)\n                                                                  at io.branch.referral.ShareLinkManager.invokeSharingClient(ShareLinkManager.java:278)\n                                                                  at io.branch.referral.ShareLinkManager.access$500(ShareLinkManager.java:32)\n                                                                  at io.branch.referral.ShareLinkManager$1.onItemClick(ShareLinkManager.java:233)\n                                                                  at android.widget.AdapterView.performItemClick(AdapterView.java:310)\n                                                                  at android.widget.AbsListView.performItemClick(AbsListView.java:1155)\n                                                                  at android.widget.AbsListView$PerformClick.run(AbsListView.java:3152)\n                                                                  at android.widget.AbsListView.onTouchUp(AbsListView.java:4079)\n                                                                  at android.widget.AbsListView.onTouchEvent(AbsListView.java:3838)\n                                                                  at android.view.View.dispatchTouchEvent(View.java:9942)\n                                                                  at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2666)\n                                                                  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2344)\n                                                                  at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2672)\n                                                                  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n                                                                  at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2672)\n                                                                  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n                                                                  at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:2672)\n                                                                  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2358)\n                                                                  at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:411)\n                                                                  at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1810)\n                                                                  at android.app.Dialog.dispatchTouchEvent(Dialog.java:793)\n                                                                  at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:373)\n                                                                  at android.view.View.dispatchPointerEvent(View.java:10162)\n                                                                  at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:4446)\n                                                                  at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4314)\n                                                                  at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3861)\n                                                                  at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3914)\n                                                                  at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3880)\n                                                                  at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4007)\n                                                                  at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3888)\n                                                                  at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4064)\n                                                                  at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3861)\n                                                                  at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3914)\n                                                                  at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3880)\n                                                                  at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3888)\n                                                                  at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3861)\n                                                                  at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:6257)\n                                                                  at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:6196)\n                                                                  at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:6157)\n                                                                  at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:6360)\n</code></pre>\n\n<p>Mostly it end up getting crashed with channel name not getting selected. Is there any issue in Implementation? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "synthetic"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1525869559, "post_id": 50253648, "comment_id": 87524440, "body": "Why there is two time <code>onCreateView(0</code> in your fragmnet"}, {"owner": {"reputation": 1, "user_id": 3681302, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000246096547/picture?type=large", "display_name": "user3681302", "link": "https://stackoverflow.com/users/3681302/user3681302"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1525869772, "post_id": 50253648, "comment_id": 87524617, "body": "Oh sorry this seems to be my mistake when sending the post. I&#39;ll edit the post thanks"}, {"owner": {"reputation": 1, "user_id": 3681302, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000246096547/picture?type=large", "display_name": "user3681302", "link": "https://stackoverflow.com/users/3681302/user3681302"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1525870391, "post_id": 50253648, "comment_id": 87525094, "body": "I&#39;m using this fragment inside FragmentStatePagerAdapter. The onSignedIn() method is working as expected on the first time call. It also still appear after move to previous 3 fragments(viewpager). But after Activity onDestroy, this problem occurs. I have never found this issue when using Java. Is this the Kotlin issue?"}], "owner": {"reputation": 1, "user_id": 3681302, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000246096547/picture?type=large", "display_name": "user3681302", "link": "https://stackoverflow.com/users/3681302/user3681302"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525869792, "creation_date": 1525869511, "last_edit_date": 1525869792, "question_id": 50253648, "link": "https://stackoverflow.com/questions/50253648/set-view-property-settext-setonclicklistener-on-fragments-onviewcreated-not", "title": "Set view property (setText &amp; setOnClickListener) on Fragment&#39;s onViewCreated not working when using kotlin synthetic", "body": "<p>The TextView wont display the text while the value is existed. This operation is called within onViewCreated inside fragment. In the same case, the OnClickListener is also not working.\nI have searched for the similar issue but have not found the exact same case. Did I miss something? Thank you for any help.</p>\n\n<pre><code>import kotlinx.android.synthetic.main.fragment_login.*\n---\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                      savedInstanceState: Bundle?): View? {\nreturn inflater.inflate(R.layout.fragment_login, container, false)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    val isLogin = activity?.let { PrefHelper.getBoolean(it, PrefHelper.IS_LOGIN, false) }\n    if (isLogin != null &amp;&amp; isLogin) {\n        onSignedIn()\n    } else {\n        onSignedOut()\n    }\n}\n\nprivate fun onSignedIn() {\n    form_login.visibility = View.GONE\n    user_profile.visibility = View.VISIBLE\n\n    var sEmail = \"\"\n    var sFullName = \"\"\n    var sPhone = \"\"\n    if (activity != null) {\n        PrefHelper.putBoolean(activity!!, PrefHelper.IS_LOGIN, true)\n        sEmail = PrefHelper.getString(activity!!, PrefHelper.USER_EMAIL, \"\")\n        sFullName = PrefHelper.getString(activity!!, PrefHelper.USER_FULL_NAME, \"\")\n        val sPhonePrefix = PrefHelper.getString(activity!!, PrefHelper.USER_PHONE_PREFIX, \"\")\n        val sPhoneSuffix = PrefHelper.getString(activity!!, PrefHelper.USER_PHONE_SUFFIX, \"\")\n        sPhone = \"$sPhonePrefix $sPhoneSuffix\"\n    }\n\n    user_email.text = sEmail\n    user_full_name.text = sFullName\n    user_phone.text = sPhone\n\n    logout.setOnClickListener { onSignedOut() }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0pxkM.jpg\" rel=\"nofollow noreferrer\">the UI</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CqeqT.png\" rel=\"nofollow noreferrer\">breakpoint</a></p>\n"}, {"tags": ["arrays", "kotlin"], "comments": [{"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 1, "creation_date": 1525870541, "post_id": 50251297, "comment_id": 87525204, "body": "Using Array&lt;Int&gt; involves autoboxing. For performance you should use IntArray. But I know this is a simple example."}, {"owner": {"reputation": 1885, "user_id": 6499555, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2DwKM.jpg?s=128&g=1", "display_name": "Sachin Varma", "link": "https://stackoverflow.com/users/6499555/sachin-varma"}, "reply_to_user": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1525870652, "post_id": 50251297, "comment_id": 87525282, "body": "I was just started studying Kotlin, thanks for the suggestion."}], "answers": [{"comments": [{"owner": {"reputation": 1885, "user_id": 6499555, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2DwKM.jpg?s=128&g=1", "display_name": "Sachin Varma", "link": "https://stackoverflow.com/users/6499555/sachin-varma"}, "edited": false, "score": 1, "creation_date": 1525862894, "post_id": 50251345, "comment_id": 87520102, "body": "Thanks for the answer."}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 3, "last_activity_date": 1525862604, "last_edit_date": 1525862604, "creation_date": 1525862276, "answer_id": 50251345, "question_id": 50251297, "link": "https://stackoverflow.com/questions/50251297/array-declaration-in-kotlin/50251345#50251345", "title": "Array declaration in Kotlin", "body": "<p>Arrays in Kotlin are represented by the Array class, that has get and set functions (that turn into [] by operator overloading conventions), and size property, along with a few other useful member functions:</p>\n\n<pre><code>class Array&lt;T&gt; private constructor() {\n    val size: Int\n    operator fun get(index: Int): T\n    operator fun set(index: Int, value: T): Unit\n\n    operator fun iterator(): Iterator&lt;T&gt;\n    // ...\n}\n</code></pre>\n\n<p>You can write</p>\n\n<pre><code>var a = Array(2){0}\n</code></pre>\n\n<blockquote>\n  <p>Creates a new array with the specified [size], where each element is calculated by calling the specified\n       * [init] function. The [init] function returns an array element given its index.</p>\n</blockquote>\n\n<pre><code> public inline constructor(size: Int, init: (Int) -&gt; T)\n</code></pre>\n\n<p>Read <a href=\"http://kotlinlang.org/docs/reference/basic-types.html#arrays\" rel=\"nofollow noreferrer\"><strong><code>Arrays in Kotlin</code></strong></a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1885, "user_id": 6499555, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2DwKM.jpg?s=128&g=1", "display_name": "Sachin Varma", "link": "https://stackoverflow.com/users/6499555/sachin-varma"}, "edited": false, "score": 0, "creation_date": 1525862619, "post_id": 50251349, "comment_id": 87519935, "body": "got answer as [Ljava.lang.Integer;@28a418fc while printing a."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1885, "user_id": 6499555, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2DwKM.jpg?s=128&g=1", "display_name": "Sachin Varma", "link": "https://stackoverflow.com/users/6499555/sachin-varma"}, "edited": false, "score": 1, "creation_date": 1525862663, "post_id": 50251349, "comment_id": 87519956, "body": "sorry, review my edit please: <code>println(a.contentToString())</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1525882998, "last_edit_date": 1525882998, "creation_date": 1525862287, "answer_id": 50251349, "question_id": 50251297, "link": "https://stackoverflow.com/questions/50251297/array-declaration-in-kotlin/50251349#50251349", "title": "Array declaration in Kotlin", "body": "<p>The <code>0</code> is what you initialize each element of your array (2 in your case) with, using the following constructor:</p>\n\n<pre><code>public inline constructor(size: Int, init: (Int) -&gt; T)\n</code></pre>\n\n<p>You can make this visible by printing the array directly after its initialization:</p>\n\n<pre><code>var a = Array&lt;Int&gt;(2){0}\nprintln(a.contentToString())\n</code></pre>\n\n<p>Please consider the use of <code>arrayOf(0,0)</code> for such a simple use case, which is more idiomatic.</p>\n"}], "owner": {"reputation": 1885, "user_id": 6499555, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/2DwKM.jpg?s=128&g=1", "display_name": "Sachin Varma", "link": "https://stackoverflow.com/users/6499555/sachin-varma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2016, "favorite_count": 1, "accepted_answer_id": 50251349, "answer_count": 2, "score": 2, "last_activity_date": 1525946179, "creation_date": 1525862137, "last_edit_date": 1525862972, "question_id": 50251297, "link": "https://stackoverflow.com/questions/50251297/array-declaration-in-kotlin", "title": "Array declaration in Kotlin", "body": "<p>The code below is an example for Array declaration in Kotlin,</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    var a = Array&lt;Int&gt;(2){0}\n    a[0] = 100\n    a[1] = 200\n    print(a[1])\n\n}\n</code></pre>\n\n<p>Here variable <strong>a</strong> is an array of size 2 and having values 100 and 200 and it is printing the value of <strong>a[1]</strong> as <strong>200</strong>.</p>\n\n<p>My question is -> <strong>What is the role of \"0\" in  var a = Array(2){0}</strong>?</p>\n\n<p>I changed the value of <strong>\"0\"</strong> to some other integer value, still it is working fine, but i was not able to find the use case of it. Can anyone explain it?</p>\n\n<p>Any help will be appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["spring-boot", "gradle", "java-8", "kotlin"], "comments": [{"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1525859909, "post_id": 50250405, "comment_id": 87518197, "body": "Why wont you just create a spring boot project in intellij with gradle as a build tool? or something similar in eclipse"}], "answers": [{"tags": [], "owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "is_accepted": false, "score": 0, "last_activity_date": 1526111757, "creation_date": 1526111757, "answer_id": 50304069, "question_id": 50250405, "link": "https://stackoverflow.com/questions/50250405/spring-boot-gradle-kotlin-build/50304069#50304069", "title": "Spring boot gradle kotlin build", "body": "<p>You can use the following configuration:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    val kotlinVersion = \"1.2.41\"\n    id(\"org.springframework.boot\") version \"2.0.2.RELEASE\"\n    id(\"org.jetbrains.kotlin.jvm\") version kotlinVersion\n    id(\"org.jetbrains.kotlin.plugin.spring\") version kotlinVersion\n    id(\"io.spring.dependency-management\") version \"1.0.4.RELEASE\"\n}\n\nval coreServiceVersion = \"3.0.0\"\n\nversion = \"1.0.0-SNAPSHOT\"\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n        freeCompilerArgs = listOf(\"-Xjsr305=strict\")\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-web\")\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    compile(\"org.jetbrains.kotlin:kotlin-reflect\")\n    compile(\"com.fasterxml.jackson.module:jackson-module-kotlin\")\n    testCompile(\"org.springframework.boot:spring-boot-starter-test\")\n}\n</code></pre>\n\n<p>See <a href=\"https://github.com/sdeleuze/spring-boot-kotlin-demo/\" rel=\"nofollow noreferrer\">https://github.com/sdeleuze/spring-boot-kotlin-demo/</a> for a complete project.</p>\n"}], "owner": {"reputation": 182, "user_id": 5097561, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/10203335634030691/picture?type=large", "display_name": "Rakshith R Pai", "link": "https://stackoverflow.com/users/5097561/rakshith-r-pai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1032, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526111757, "creation_date": 1525859555, "question_id": 50250405, "link": "https://stackoverflow.com/questions/50250405/spring-boot-gradle-kotlin-build", "title": "Spring boot gradle kotlin build", "body": "<p>I am trying to create JAVA springboot project with gradle build.I wanted to try out new kotlin support for springboot. Wondering how i can add bootrun task inside build.gradle.kts file.</p>\n\n<pre><code>plugins {\n\n}\n\nval coreServiceVersion = \"3.0.0\"\n\ndependencies {\n\n}\n</code></pre>\n\n<p>That's the over all structure of build.gradle.kts</p>\n"}, {"tags": ["kotlin", "reduce", "higher-order-functions"], "comments": [{"owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 0, "creation_date": 1525858036, "post_id": 50249855, "comment_id": 87517028, "body": "you just need to <code>filter</code> out &quot;n/a&quot; values and then use <code>map</code>, what&#39;s the problem?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525858085, "post_id": 50249855, "comment_id": 87517052, "body": "Are you trying to keep the bad dates as nulls, or remove them?"}, {"owner": {"reputation": 13301, "user_id": 7158449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aRIBH.png?s=128&g=1", "display_name": "Eugene Brusov", "link": "https://stackoverflow.com/users/7158449/eugene-brusov"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525858457, "post_id": 50249855, "comment_id": 87517283, "body": "@jrtapsell I&#39;m trying to remove bad dates. Considering given example initial string array of 3 elements should be converted into date array of 2 elements. &quot;n/a&quot; should be ignored and I&#39;m interested in using Kotlin Higher-Order Functions to accomplish that task."}, {"owner": {"reputation": 13301, "user_id": 7158449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aRIBH.png?s=128&g=1", "display_name": "Eugene Brusov", "link": "https://stackoverflow.com/users/7158449/eugene-brusov"}, "reply_to_user": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 0, "creation_date": 1525858542, "post_id": 50249855, "comment_id": 87517340, "body": "@pwolaq Thanks, that&#39;s the option."}], "answers": [{"comments": [{"owner": {"reputation": 13301, "user_id": 7158449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aRIBH.png?s=128&g=1", "display_name": "Eugene Brusov", "link": "https://stackoverflow.com/users/7158449/eugene-brusov"}, "edited": false, "score": 0, "creation_date": 1525858703, "post_id": 50250080, "comment_id": 87517442, "body": "Cool, that&#39;s something I was looking for!"}, {"owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 4, "creation_date": 1525859367, "post_id": 50250080, "comment_id": 87517858, "body": "<code>mapNotNull</code> would be a better option"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 0, "creation_date": 1525859440, "post_id": 50250080, "comment_id": 87517895, "body": "@pwolaq I used that <a href=\"https://stackoverflow.com/a/50250327/8041461\">here</a>, but for small lists the overhead of the temporary lists shouldn&#39;t be too bad, although it should be avoided if possible"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1525859515, "post_id": 50250080, "comment_id": 87517930, "body": "I agree it&#39;s better, and it&#39;s better to extract the <code>SimpleDateFormat</code> instance. It would be better still if there was <code>tryOrNull</code> in the standard library."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1525945176, "last_edit_date": 1525945176, "creation_date": 1525858610, "answer_id": 50250080, "question_id": 50249855, "link": "https://stackoverflow.com/questions/50249855/transform-a-list-filtering-out-the-items-that-cause-an-exception/50250080#50250080", "title": "Transform a list, filtering out the items that cause an exception", "body": "<p>You're looking for a transformation that can output zero or one element per input element. This is <code>flatMap</code>. The result of a flatmapping function must be an <code>Iterable</code>, so:</p>\n\n<pre><code>val dateArray = stringArray.flatMap {\n    try {\n        listOf(SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\", Locale.US).parse(it))\n    } catch (e: ParseException) {\n        emptyList&lt;Date&gt;()\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><sup>Adding the following based on <code>@pwolaq</code>'s input:</sup></p>\n\n<p>It's highly recommended to extract the <code>SimpleDateFormat</code> instance because it has heavyweight initialization. Further, a solution with <code>mapNotNull</code> is cleaner than <code>flatMap</code>, I wasn't aware of it. This becomes especially convenient if you add a function that I feel is missing from the Kotlin standard library:</p>\n\n<pre><code>inline fun &lt;T&gt; runOrNull(block: () -&gt; T) = try {\n    block()\n} catch (t: Throwable) {\n    null\n}\n</code></pre>\n\n<p>With this in your toolbox you can say:</p>\n\n<pre><code>val formatter = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\", Locale.US)\nval dateArray: List&lt;Date&gt; = stringArray.mapNotNull { \n    runOrNull { formatter.parse(it) } \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1525938877, "post_id": 50250327, "comment_id": 87553951, "body": "<code>tryOrRemove</code> is not a good name because it doesn&#39;t indicate it&#39;s transforming all the items, not just removing those that fail a try-catch test."}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 3, "last_activity_date": 1525860207, "last_edit_date": 1525860207, "creation_date": 1525859342, "answer_id": 50250327, "question_id": 50249855, "link": "https://stackoverflow.com/questions/50249855/transform-a-list-filtering-out-the-items-that-cause-an-exception/50250327#50250327", "title": "Transform a list, filtering out the items that cause an exception", "body": "<h1>Using mapNotNull</h1>\n\n<pre><code>val format = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\", Locale.US)\nval dates = listOf(\"2018-05-08T23:22:49Z\", \"n/a\", \"2018-05-07T16:37:00Z\")\n    .mapNotNull {\n        try {\n            format.parse(it)\n        } catch (e: ParseException) {\n            null\n        }\n    }\nprintln(dates)\n</code></pre>\n\n<p>This avoids creating a list for each item in the list, it maps the bad dates to null, and mapNotNull removes the nulls from the list.</p>\n\n<h1>Using an extension function</h1>\n\n<p>You could also extract the tryOrRemove to an extension function, making the code look like this:</p>\n\n<pre><code>val format = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\", Locale.US)\n\nfun &lt;T, U: Any&gt; Iterable&lt;T&gt;.tryOrRemove(block:(T)-&gt;U): List&lt;U&gt; {\n    return mapNotNull {\n        try {\n            block(it)\n        } catch (ex: Throwable) {\n            null\n        }\n    }\n}\n\nval dates = listOf(\"2018-05-08T23:22:49Z\", \"n/a\", \"2018-05-07T16:37:00Z\")\n    .tryOrRemove(format::parse)\n\nprintln(dates)\n</code></pre>\n\n<h1>Using filter</h1>\n\n<p>I have written it based on the only bad dates being n/a, which simplifies it.</p>\n\n<pre><code>val format = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\", Locale.US)\n\nval dates = listOf(\"2018-05-08T23:22:49Z\", \"n/a\", \"2018-05-07T16:37:00Z\")\n    .filter { it != \"n/a\" }\n    .map(format::parse)\n\nprintln(dates)\n</code></pre>\n"}], "owner": {"reputation": 13301, "user_id": 7158449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aRIBH.png?s=128&g=1", "display_name": "Eugene Brusov", "link": "https://stackoverflow.com/users/7158449/eugene-brusov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 886, "favorite_count": 0, "accepted_answer_id": 50250080, "answer_count": 2, "score": 2, "last_activity_date": 1525945332, "creation_date": 1525857885, "last_edit_date": 1525945332, "question_id": 50249855, "link": "https://stackoverflow.com/questions/50249855/transform-a-list-filtering-out-the-items-that-cause-an-exception", "title": "Transform a list, filtering out the items that cause an exception", "body": "<p>How to convert this array of String:</p>\n\n<p><code>\"2018-05-08T23:22:49Z\"</code>\n<code>\"n/a\"</code>\n<code>\"2018-05-07T16:37:00Z\"</code></p>\n\n<p>to an array of Date using Higher-Order Functions such as <code>map</code>, <code>flatMap</code> or <code>reduce</code>?</p>\n\n<p>I do know that it's possible to do that using <code>forEach</code>, but I'm interested to involve Kotlin Higher-Order Functions:</p>\n\n<pre><code>val stringArray\n        = mutableListOf(\"2018-05-08T23:22:49Z\", \"n/a\", \"2018-05-07T16:37:00Z\")\n\nval dateArray = mutableListOf&lt;Date&gt;()\n\nstringArray.forEach {\n    try {\n        val date = SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\", Locale.US)\n                .parse(it)\n        dateArray.add(date)\n    } catch (e: ParseException) {\n        //* Just prevents app from crash */\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 3, "last_activity_date": 1525857737, "creation_date": 1525857737, "answer_id": 50249805, "question_id": 50249702, "link": "https://stackoverflow.com/questions/50249702/overriding-abstract-property-of-superclass-results-in-type-error/50249805#50249805", "title": "Overriding abstract property of superclass results in type error", "body": "<p>As opposed to a <code>val</code>, which is covariant, a <code>var</code> type is invariant. Think about the following case:</p>\n\n<pre><code>abstract class Base {\n    abstract var x: Any\n}\n\nclass Derived : Base {\n    override var x: String\n}\n\nfun main() {\n    val base: Base = Derived()\n    base.x = 1\n}\n</code></pre>\n\n<p><code>Base.x</code> is <code>Any</code>, so why wouldn't you assign it an <code>Int</code> value of <code>1</code>? Yet clearly this is wrong because you're doing it to an instance of <code>Derived</code>.</p>\n"}], "owner": {"reputation": 118, "user_id": 9327013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408f550d7788969a93dce264ce8a1b6b?s=128&d=identicon&r=PG&f=1", "display_name": "&#193;bel &#201;nekes", "link": "https://stackoverflow.com/users/9327013/%c3%81bel-%c3%89nekes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1525861999, "creation_date": 1525857414, "last_edit_date": 1525861999, "question_id": 50249702, "link": "https://stackoverflow.com/questions/50249702/overriding-abstract-property-of-superclass-results-in-type-error", "title": "Overriding abstract property of superclass results in type error", "body": "<p>I've been struggling with this issue for a couple hours and fond no solution.\nI'am building an android application using MVP pattern and DataBinding, and I wanted to reduce the boilerplate code of creating fragments with a specific binding, using a specific Presenter.</p>\n\n<p>Therefore I declared the following abstract class:</p>\n\n<pre><code>abstract class AbstractBoundFragment : Fragment(), Screen {\n\n    protected abstract var presenter: Presenter&lt;Screen&gt;\n    protected abstract var binding: ViewDataBinding\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        binding = getBinding(inflater, container)\n        return binding.root\n    }\n\n    override fun onAttach(context: Context) {\n        super.onAttach(context)\n        presenter.attachScreen(this)\n    }\n\n    override fun onDetach() {\n        presenter.detachScreen()\n        super.onDetach()\n    }\n\n    protected abstract fun getBinding(inflater: LayoutInflater, container: ViewGroup?): ViewDataBinding\n}\n</code></pre>\n\n<p>When I'm extending this class in a concrete fragment, I get the following type <strong>error</strong>: </p>\n\n<pre><code>\"Var-property type is 'FragmentArtistListBinding', which is not a type of overridden protected abstract var binding: ViewDataBinding defined in xy.z.ui.utils.AbstractBoundFragment.\"\n</code></pre>\n\n<p><code>FragmentArtistListBinding</code> is the class generated by android data binding, and it clearly extends <code>ViewDataBinding</code>.\nI get the same error for the overridden presenter. <code>ArtistsPresenter extends</code> the <code>abstract Presenter&lt;Screen&gt;</code> class correctly.</p>\n\n<pre><code>class ArtistListFragment : AbstractBoundFragment(),\n    ArtistListScreen {\n\n    @Inject\n    override lateinit var presenter: ArtistsPresenter // type error here\n    override lateinit var binding: FragmentArtistListBinding // and type error here\n\n    override fun getBinding(inflater: LayoutInflater, container: ViewGroup?): FragmentArtistListBinding {\n        return FragmentArtistListBinding.inflate(inflater, container, false)\n    }\n\n    override fun showArtist(artistName: String) {\n        // do stuff\n    }\n\n}\n</code></pre>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "coding-style"], "answers": [{"tags": [], "owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "is_accepted": true, "score": 3, "last_activity_date": 1525855199, "last_edit_date": 1525855199, "creation_date": 1525854356, "answer_id": 50248750, "question_id": 50248704, "link": "https://stackoverflow.com/questions/50248704/select-code-to-be-ignored-by-auto-indent-in-android-studio/50248750#50248750", "title": "Select code to be ignored by auto indent in Android Studio", "body": "<p>You can use following:</p>\n\n<pre><code> // @formatter:off\n...\n...\n&lt;Code for which you want to turn off formatting&gt;\n...\n...\n// @formatter:on\n</code></pre>\n\n<p>refer to <a href=\"https://www.jetbrains.com/help/idea/settings-code-style.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/settings-code-style.html</a> section \"Formatter Control\" for more information.</p>\n"}], "owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 50248750, "answer_count": 1, "score": 1, "last_activity_date": 1525855199, "creation_date": 1525854178, "question_id": 50248704, "link": "https://stackoverflow.com/questions/50248704/select-code-to-be-ignored-by-auto-indent-in-android-studio", "title": "Select code to be ignored by auto indent in Android Studio", "body": "<p>Can i format code and tell Android Studio not to  reformat it when i run auto indent file?</p>\n\n<p>For example, i might want to structure my code like this:</p>\n\n<pre><code>returnFragment = when (questionKind) {\n\n            QuestionKind.TEXT.int        -&gt; GenericTextFragment.newInstance(question, pagerDelegate)  //TEXT = 0\n\n            QuestionKind.FREE_TEXT.int   -&gt; GenericTextFragment.newInstance(question, pagerDelegate)  //TEXTAREA = 1\n\n            QuestionKind.CHECKBOX.int    -&gt; SelectFragment.newInstance(question, pagerDelegate)       //CHECKBOX = 2\n\n            QuestionKind.RADIO.int       -&gt; SelectFragment.newInstance(question, pagerDelegate)       //RADIO = 3\n\n            QuestionKind.IMAGE.int       -&gt; ImagePickerFragment.newInstance(question, pagerDelegate)  //FILE = 4\n\n            QuestionKind.NUMERICAL.int   -&gt; GenericTextFragment.newInstance(question, pagerDelegate)  //NUMERICAL = 5\n\n            QuestionKind.MULTISELECT.int -&gt; SelectFragment.newInstance(question, pagerDelegate)       //MULTISELECT = 6\n\n            QuestionKind.SELECT.int      -&gt; SelectFragment.newInstance(question, pagerDelegate)       //SELECT = 7\n\n            else                         -&gt; GenericFragment.newInstance(question, pagerDelegate)      // CUSTOM\n}   \n</code></pre>\n\n<p>But as soon as I run auto indent (which will be run by lint pre build) the code reverts back to</p>\n\n<pre><code>returnFragment = when (questionKind) {\n\n            QuestionKind.TEXT.int -&gt; GenericTextFragment.newInstance(question, pagerDelegate) //TEXT = 0\n\n            QuestionKind.FREE_TEXT.int -&gt; GenericTextFragment.newInstance(question, pagerDelegate) //TEXTAREA = 1\n\n            QuestionKind.CHECKBOX.int -&gt; SelectFragment.newInstance(question, pagerDelegate) //CHECKBOX = 2\n\n            QuestionKind.RADIO.int -&gt; SelectFragment.newInstance(question, pagerDelegate) //RADIO = 3\n\n            QuestionKind.IMAGE.int -&gt; ImagePickerFragment.newInstance(question, pagerDelegate) //FILE = 4\n\n            QuestionKind.NUMERICAL.int -&gt; GenericTextFragment.newInstance(question, pagerDelegate) //NUMERICAL = 5\n\n            QuestionKind.MULTISELECT.int -&gt; SelectFragment.newInstance(question, pagerDelegate) //MULTISELECT = 6\n\n            QuestionKind.SELECT.int -&gt; SelectFragment.newInstance(question, pagerDelegate) //SELECT = 7\n\n            else -&gt; GenericFragment.newInstance(question, pagerDelegate) // CUSTOM\n}\n</code></pre>\n\n<p>Whether it's cleaner or not is irrelevant. \nIs there a way to tell the IDE to ignore pre-indented code and only format the rest? </p>\n"}, {"tags": ["android", "generics", "types", "kotlin", "type-inference"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 6, "last_activity_date": 1525854166, "creation_date": 1525854166, "answer_id": 50248700, "question_id": 50248546, "link": "https://stackoverflow.com/questions/50248546/kotlin-upper-bound-what-difference-does-any-make-to-kotlins-generic-type-in/50248700#50248700", "title": "Kotlin Upper Bound: What difference does `:Any` make to Kotlin&#39;s generic type inference?", "body": "<blockquote>\n  <p>Now, as far as I'm concerned, <code>T</code> should imply <code>T:Any</code></p>\n</blockquote>\n\n<p><code>T</code> implies <code>T:Any?</code>, where <code>Any?</code> is the closest equivalent to Java's <code>Object</code>. With <code>T:Any</code> you specified a non-nullable type.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1525854803, "creation_date": 1525854803, "answer_id": 50248862, "question_id": 50248546, "link": "https://stackoverflow.com/questions/50248546/kotlin-upper-bound-what-difference-does-any-make-to-kotlins-generic-type-in/50248862#50248862", "title": "Kotlin Upper Bound: What difference does `:Any` make to Kotlin&#39;s generic type inference?", "body": "<p>The <code>:Any</code> defines an <strong>upper bound</strong> for your generic type argument. As you can read in the <a href=\"https://kotlinlang.org/docs/reference/generics.html#upper-bounds\" rel=\"nofollow noreferrer\">Generics: Upper Bounds</a> chapter of the Kotlin documentation, the default upper bound is <code>Any?</code>:</p>\n\n<blockquote>\n  <p>The default upper bound (if none specified) is <code>Any?</code></p>\n</blockquote>\n\n<p>Thus, <code>&lt;T&gt;</code> is equivalent to <code>&lt;T: Any?&gt;</code></p>\n"}], "owner": {"reputation": 6181, "user_id": 3322533, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cbbd1b40887d19bc0c8fdd5ef42a05ed?s=128&d=identicon&r=PG", "display_name": "User1291", "link": "https://stackoverflow.com/users/3322533/user1291"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 50248700, "answer_count": 2, "score": 3, "last_activity_date": 1525854950, "creation_date": 1525853624, "last_edit_date": 1525854950, "question_id": 50248546, "link": "https://stackoverflow.com/questions/50248546/kotlin-upper-bound-what-difference-does-any-make-to-kotlins-generic-type-in", "title": "Kotlin Upper Bound: What difference does `:Any` make to Kotlin&#39;s generic type inference?", "body": "<p>Following the <code>Kotlin for Android Developers</code> book, we come across extension function</p>\n\n<pre><code>fun &lt;T:Any&gt; SelectQueryBuilder.parseList(parser: (Map&lt;String,Any?&gt;) -&gt; T):List&lt;T&gt; = parseList(object:MapRowParser&lt;T&gt;{\n    override fun parseRow(columns: Map&lt;String, Any?&gt;): T = parser(columns)\n})\n</code></pre>\n\n<p>And I'm not sure why the <code>:Any</code> is necessary.</p>\n\n<p>If I write it as <code>fun &lt;T&gt; SelectQueryBuilder.parseList(...)</code>, Android Studio complains that</p>\n\n<p><a href=\"https://i.stack.imgur.com/5w7uy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5w7uy.png\" alt=\"error message\"></a></p>\n\n<p>whereas that error goes away when you add the <code>:Any</code> back.</p>\n\n<p>Now, as far as I'm concerned, <code>T</code> should imply <code>T:Any</code>, though that is clearly not the case. Why is that? And what difference does it make?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525854196, "post_id": 50248541, "comment_id": 87514671, "body": "Thanks! I set 5s only in order to test, could you tell me if my code is correct?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525854289, "post_id": 50248541, "comment_id": 87514730, "body": "I compared it with my production code, looks pretty much the same. I couldn&#39;t find anything to point my finger at."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525854351, "post_id": 50248541, "comment_id": 87514757, "body": "Thanks! Do I need to start service before invoking mJobScheduler.schedule(jobInfo) ? and more , will the system keep to invoke Log.e(&quot;cw&quot;,&quot;OK&quot;) even if I finish the APP?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525854435, "post_id": 50248541, "comment_id": 87514802, "body": "I have found some sample code to do <code>val startServiceIntent = Intent(this, ScheduledJobService::class.java) startService(startServiceIntent)</code> before <code>mJobScheduler.schedule(jobInfo)</code>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525854435, "post_id": 50248541, "comment_id": 87514804, "body": "I never heard of the concept of &quot;starting a system service&quot;. Yes, the system will keep invoking your job in the background, it&#39;s the main point of the job scheduler service."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525854602, "post_id": 50248541, "comment_id": 87514914, "body": "&quot;Starting a background service&quot; is a separate (older) feature from letting the job scheduler run your jobs."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525858167, "post_id": 50248541, "comment_id": 87517113, "body": "I hardly to test JobScheduler because the system  run the periodically  task about every15 min even if I  setPeriodic(60*1000) , it&#39;s a long time for test.  is there a good way to do it?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525858317, "post_id": 50248541, "comment_id": 87517206, "body": "I&#39;m struggling with that, too. In my experience, while the phone is connected to a usb debugging session, you actually get a run each minute. But that was with a Lollipop phone, it may well be different with later versions."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525858715, "post_id": 50248541, "comment_id": 87517448, "body": "I test my code in API 23, <code>Log.e(&quot;cw&quot;,&quot;OK&quot;)</code> can be invoked quickly per 5s;   But in API 26, <code>Log.e(&quot;cw&quot;,&quot;OK&quot;)</code> can be invoked about per 15min, why?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525858843, "post_id": 50248541, "comment_id": 87517525, "body": "Google keeps tightening the loop of battery usage by apps. In some version they also had a bug of some kind that caused excessive wakeups and battery drain. Newest Androids refuse to wake up your phone when it&#39;s sitting idle and not charging, except in quite sparse &quot;maintenance windows&quot;."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525858849, "post_id": 50248541, "comment_id": 87517533, "body": "I test it on Android Studio Emulator both API 26 and API 23"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 3, "last_activity_date": 1525853592, "creation_date": 1525853592, "answer_id": 50248541, "question_id": 50248433, "link": "https://stackoverflow.com/questions/50248433/why-doesnt-jobscheduler-work-in-kotlin/50248541#50248541", "title": "Why doesn&#39;t JobScheduler work in Kotlin?", "body": "<p>As the Javadoc explains,</p>\n\n<blockquote>\n  <p>Specify that this job should recur with the provided interval, not more than once per period. You have no control over when within this interval this job will be executed, only the guarantee that it will be executed at most once within this interval.</p>\n</blockquote>\n\n<p>There's no way Android is going to run your job every five seconds; in fact, the Developer Console will accuse your application of \"Bad behavior due to excessive wakeups\" for anything above 10 wakeups per hour.</p>\n\n<p>Clearly, this behavior has nothing to do with Kotlin.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2275, "favorite_count": 0, "accepted_answer_id": 50248541, "answer_count": 1, "score": 2, "last_activity_date": 1525853792, "creation_date": 1525853158, "last_edit_date": 1525853792, "question_id": 50248433, "link": "https://stackoverflow.com/questions/50248433/why-doesnt-jobscheduler-work-in-kotlin", "title": "Why doesn&#39;t JobScheduler work in Kotlin?", "body": "<p>At present, I test JobScheduler , I invoke startServer() from a activity, I think that the system can invoke <code>Log.e(\"cw\",\"OK\")</code> every 5s, but I failed, what wrong with my code ?</p>\n\n<p>1: The following code are converted from Java automatically in Android Studio 3.0, I think it's not good Kotlin code, could you fix it?</p>\n\n<p>2: Do I need to start service before invoking  <code>mJobScheduler.schedule(jobInfo)</code> ?</p>\n\n<pre><code>val startServiceIntent = Intent(this, ScheduledJobService::class.java)\nstartService(startServiceIntent)\n</code></pre>\n\n<p>3: Will the system keep to invoke <code>Log.e(\"cw\",\"OK\")</code> every 5s even if I finish the APP?</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code> private fun startServer(){\n        Log.e(\"cw\",\"Start Server\")\n\n        val mJobScheduler = getSystemService(Context.JOB_SCHEDULER_SERVICE) as JobScheduler\n\n        val jobInfo = JobInfo.Builder(123, ComponentName(packageName, ScheduledJobService::class.java!!.getName()))\n                .setPeriodic(5000)\n                .build()\n\n        mJobScheduler.schedule(jobInfo)\n\n}\n\nprivate fun CancelServer(){\n\n        Log.e(\"cw\",\"Stop Server\")\n\n        val mJobScheduler = getSystemService(Context.JOB_SCHEDULER_SERVICE) as JobScheduler\n        mJobScheduler.cancelAll()\n\n}\n\n\n\nclass ScheduledJobService : JobService() {\n\n    override fun onStartJob(params: JobParameters): Boolean {\n        Log.e(\"cw\",\"Start\")\n        Thread(Runnable { completeJob(params) }).start()\n        return true\n    }\n\n    override fun onStopJob(params: JobParameters): Boolean {\n        Log.e(\"cw\",\"Stop\")\n        return false\n    }\n\n    fun completeJob(parameters: JobParameters) {\n       Log.e(\"cw\",\"OK\")\n       jobFinished(parameters, false)\n    }\n}\n</code></pre>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;service\n  android:name=\"bll.ScheduledJobService\"\n  android:permission=\"android.permission.BIND_JOB_SERVICE\"&gt;\n&lt;/service&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-volley", "connectexception", "ehostunreach"], "comments": [{"owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1525847156, "post_id": 50246726, "comment_id": 87510954, "body": "Have you checked this <a href=\"https://stackoverflow.com/questions/49786287/android-error-while-try-connect-to-local-serverxampp/49786809#49786809\">SO</a>"}, {"owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "reply_to_user": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1525847664, "post_id": 50246726, "comment_id": 87511172, "body": "@Sagar yes I&#39;ve mentioned that in my question too"}], "answers": [{"comments": [{"owner": {"reputation": 3791, "user_id": 9547658, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jonas", "link": "https://stackoverflow.com/users/9547658/jonas"}, "edited": false, "score": 0, "creation_date": 1530731245, "post_id": 50268176, "comment_id": 89341808, "body": "I have the same problem but with OkHttp and I cannot figure out what the problem is. You said you dialed the windows firewall? Im wondering what the difference is when you running it on the phone? I have a Mac and I tired to turn my firewall off but that didn&#39;t work"}, {"owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "reply_to_user": {"reputation": 3791, "user_id": 9547658, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jonas", "link": "https://stackoverflow.com/users/9547658/jonas"}, "edited": false, "score": 0, "creation_date": 1530945747, "post_id": 50268176, "comment_id": 89422038, "body": "@Jonas because the host was local on my laptop and somehow windows firewall was blocking the data transfer between phone and laptop"}], "tags": [], "owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "is_accepted": true, "score": 1, "last_activity_date": 1525938919, "creation_date": 1525938919, "answer_id": 50268176, "question_id": 50246726, "link": "https://stackoverflow.com/questions/50246726/java-net-connectexception-failed-to-connect-to-192-168-1-107-port-80-after-1/50268176#50268176", "title": "java.net.ConnectException: failed to connect to /192.168.1.107 (port 80) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)", "body": "<p>I found the solution.\nI disabled the Windows Defender Firewall ( In just private section where my network was active)</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9766410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6188c46848d88a939504cff0c0712a4c?s=128&d=identicon&r=PG&f=1", "display_name": "christian joel", "link": "https://stackoverflow.com/users/9766410/christian-joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1532433081, "creation_date": 1532433081, "answer_id": 51497864, "question_id": 50246726, "link": "https://stackoverflow.com/questions/50246726/java-net-connectexception-failed-to-connect-to-192-168-1-107-port-80-after-1/51497864#51497864", "title": "java.net.ConnectException: failed to connect to /192.168.1.107 (port 80) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)", "body": "<p>set ip address by checking command prompt(ipconfig) to your .class, Httppost url=(\"<a href=\"http://192.168.0.116/something.php\" rel=\"nofollow noreferrer\">http://192.168.0.116/something.php</a>\") and connect your mobile with same wifi address like your system ip address and just restart your mobile it surely works.</p>\n"}], "owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6932, "favorite_count": 1, "accepted_answer_id": 50268176, "answer_count": 2, "score": 1, "last_activity_date": 1532433081, "creation_date": 1525846912, "last_edit_date": 1525938956, "question_id": 50246726, "link": "https://stackoverflow.com/questions/50246726/java-net-connectexception-failed-to-connect-to-192-168-1-107-port-80-after-1", "title": "java.net.ConnectException: failed to connect to /192.168.1.107 (port 80) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)", "body": "<p>I'm trying to connect my REST API from localhost with android application.\nI'm using xampp as my apache serever on my Windows. The rest api works correctly when I'm trying to get from my computer using this link via Postman:</p>\n\n<pre><code>http://127.0.0.1/RightBoard/Web/right-board/public/api/login\n</code></pre>\n\n<p>On android device I'm trying to fetch response with Volley. and this is my code:</p>\n\n<pre><code>fun post(url: String, params: MutableMap&lt;String, String&gt;, listener: ResponseListener, token: String = \"\") {\n    val request = object : StringRequest(\n            Request.Method.POST,\n            url,\n            Response.Listener&lt;String&gt; {\n                listener.onResponseReceived(JSONObject(it))\n            },\n            Response.ErrorListener {\n                it.printStackTrace()\n                if (it.networkResponse?.data != null) {\n                    val json = JSONObject(it.networkResponse.data.toString(Charsets.UTF_8))\n                    Log.e(Keys.TAG, json.toString())\n                }\n            }\n    ) {\n        override fun getParams(): MutableMap&lt;String, String&gt; {\n            return params\n        }\n\n        override fun getHeaders(): MutableMap&lt;String, String&gt; {\n            val headers = HashMap&lt;String, String&gt;()\n            headers[\"Authorization\"] = \"Bearer $token\"\n            return headers\n        }\n    }\n    request.retryPolicy = DefaultRetryPolicy(\n            10000,\n            DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n            DefaultRetryPolicy.DEFAULT_BACKOFF_MULT\n    )\n    VolleySingleton.instance?.addToRequestQueue(request)\n}\n</code></pre>\n\n<p>url is <code>http://192.168.1.107/RightBoard/Web/right-board/public/api/login</code> and I get the <code>IP=\"192.168.1.107\"</code> from <code>ipconfig</code>. but now I'm getting this error:</p>\n\n<pre><code>java.net.ConnectException: failed to connect to /192.168.1.107 (port 80) after 10000ms: isConnected failed: EHOSTUNREACH (No route to host)\n</code></pre>\n\n<p>I've checked that both phone and computer are in the same wifi. I run the app in another phone. I even tried restarting computer and xampp... but same error every time.\nI've also used the permission in my app : </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mocking", "powermockito"], "answers": [{"tags": [], "owner": {"reputation": 414, "user_id": 4223225, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000128574128/picture?type=large", "display_name": "Alexandr Zhurkov", "link": "https://stackoverflow.com/users/4223225/alexandr-zhurkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1525924974, "creation_date": 1525924974, "answer_id": 50265281, "question_id": 50244955, "link": "https://stackoverflow.com/questions/50244955/powermockito-spy-calling-real-method-results-with-cannotstubvoidmethodwithretur/50265281#50265281", "title": "PowerMockito Spy: Calling real method results with CannotStubVoidMethodWithReturnValue", "body": "<p>Answering my own question - I incorrectly user PowerMockito's .when() method. Here's the code that works:</p>\n\n<pre><code>@RunWith(PowerMockRunner::class)\n@PrepareForTest(MyClass::class, DeviceObject::class)\nclass DeviceRepositoryImplTest{\n\n    private val testedRepo = PowerMockito.spy(MyClass())\n    private val deviceObject = PowerMockito.mock(DeviceObject())\n\n    @Test\n    fun persistDeviceData_ok(){\n        // Mocking private method\n        PowerMockito.`when`&lt;ParseObject&gt;(testedRepo,\n            PowerMockito.method(\n                        MyClass::class.java,\n                            \"getDeviceObject\")).withNoArguments().thenReturn(deviceObject)\n\n        // Creating callback for tested method\n        val callback = SaveCallback {\n            ...\n        }\n\n        ...\n\n        testedRepo.persistDeviceData(DeviceInfo(), callback)\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 4223225, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000128574128/picture?type=large", "display_name": "Alexandr Zhurkov", "link": "https://stackoverflow.com/users/4223225/alexandr-zhurkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3102, "favorite_count": 0, "accepted_answer_id": 50265281, "answer_count": 1, "score": 1, "last_activity_date": 1525924974, "creation_date": 1525835342, "question_id": 50244955, "link": "https://stackoverflow.com/questions/50244955/powermockito-spy-calling-real-method-results-with-cannotstubvoidmethodwithretur", "title": "PowerMockito Spy: Calling real method results with CannotStubVoidMethodWithReturnValue", "body": "<p>I'm starting to bang my head against the wall, but I completely don't understand how to call real method on spied class.</p>\n\n<p>Long story short, I'm spying on my tested class to stub one private method. Then I want to call real void method of tested class but it says that </p>\n\n<blockquote>\n  <p>'testedMethod' is a <em>void method</em> and it <em>cannot</em> be stubbed with a <em>return value</em>!</p>\n</blockquote>\n\n<p>The problem is that I don't need it to be stubbed. I have tried doCallRealMethod() as well, no use.</p>\n\n<p>I'm using Kotlin and Android Studio to run some unit tests for my Android project. I have following class that I want to test:</p>\n\n<pre><code>class MyClass {\n   fun persistDeviceData(deviceInfo: DeviceInfo, saveCallback: SaveCallback) {\n       val deviceObject = getDeviceObject()\n          // some setters from deviceInfo here\n       deviceObject.saveInBackground(callback)\n   }\n\n   // This method is created for unit testing purposes\n   private fun getDeviceObject(): MyDeviceObject{\n       return MyDeviceObject(\"someStringArgument\")\n   }\n}\n</code></pre>\n\n<p>And here is testing class</p>\n\n<pre><code>import io.kotlintest.KTestJUnitRunner\nimport io.kotlintest.specs.BehaviorSpec\nimport junit.framework.Assert\nimport org.junit.runner.RunWith\nimport org.mockito.Mockito\n\nimport org.powermock.api.mockito.PowerMockito\nimport org.powermock.core.classloader.annotations.PrepareForTest\nimport org.powermock.modules.junit4.PowerMockRunner\nimport org.powermock.modules.junit4.PowerMockRunnerDelegate\n\n@RunWith(PowerMockRunner::class)\n@PowerMockRunnerDelegate(KTestJUnitRunner::class)\n@PrepareForTest(MyClass::class)\nclass MyClassTest: BehaviorSpec(){\n\n    init {\n\n        val deviceObject = PowerMockito.mock(MyDeviceObject::class.java)\n        val myClassTest = PowerMockito.spy(MyClass())\n        // Mocking private method call\n        PowerMockito.doReturn(deviceObject).`when`(testedRepo,\n                PowerMockito.method(\n                        MyClass::class.java,\n                        \"getDeviceObject\"))\n        val a = SaveCallback { // Callback handling here }\n        // Calling REAL method of spy class. Here it fails\n        myClassTest.persistDeviceData(DeviceInfo(), a)\n        Assert.assertTrue(true)\n    }\n\n}\n</code></pre>\n\n<p>Test fails when calling real method on following line</p>\n\n<blockquote>\n  <p>myClassTest.persistDeviceData(DeviceInfo(), a)</p>\n</blockquote>\n\n<p>Here's the error stack trace</p>\n\n<blockquote>\n  <p>org.mockito.exceptions.misusing.CannotStubVoidMethodWithReturnValue: \n  'persistDeviceData' is a <em>void method</em> and it <em>cannot</em> be stubbed with a <em>return value</em>!\n  Voids are usually stubbed with Throwables:\n      doThrow(exception).when(mock).someVoidMethod();\n  If you need to set the void method to do nothing you can use:\n      doNothing().when(mock).someVoidMethod();\n  For more information, check out the javadocs for Mockito.doNothing().</p>\n  \n  <hr>\n  \n  <p>If you're unsure why you're getting above error read on.\n  Due to the nature of the syntax above problem might occur because:\n  1. The method you are trying to stub is <em>overloaded</em>. Make sure you are calling the right overloaded version.\n  2. Somewhere in your test you are stubbing <em>final methods</em>. Sorry, Mockito does not verify/stub final methods.\n  3. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n     - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n  4. Mocking methods declared on non-public parent classes is not supported.</p>\n</blockquote>\n\n<pre><code>at MyClassTest.&lt;init&gt;(MyClass.kt:46)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat java.lang.Class.newInstance(Class.java:442)\nat io.kotlintest.KTestJUnitRunner.&lt;init&gt;(KTestJUnitRunner.kt:9)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.powermock.reflect.internal.WhiteboxImpl.createInstance(WhiteboxImpl.java:1414)\nat org.powermock.reflect.internal.WhiteboxImpl.invokeConstructor(WhiteboxImpl.java:1262)\nat org.powermock.reflect.Whitebox.invokeConstructor(Whitebox.java:497)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$1.call(DelegatingPowerMockRunner.java:101)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner$1.call(DelegatingPowerMockRunner.java:97)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.withContextClassLoader(DelegatingPowerMockRunner.java:132)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.createDelegate(DelegatingPowerMockRunner.java:96)\nat org.powermock.modules.junit4.internal.impl.DelegatingPowerMockRunner.&lt;init&gt;(DelegatingPowerMockRunner.java:64)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:165)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:47)\nat org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.createTestDelegators(AbstractTestSuiteChunkerImpl.java:107)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.&lt;init&gt;(JUnit4TestSuiteChunkerImpl.java:69)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.&lt;init&gt;(AbstractCommonPowerMockRunner.java:36)\nat org.powermock.modules.junit4.PowerMockRunner.&lt;init&gt;(PowerMockRunner.java:34)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\nat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:49)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin", "gradle-plugin"], "answers": [{"tags": [], "owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "is_accepted": false, "score": 0, "last_activity_date": 1525921343, "creation_date": 1525921343, "answer_id": 50264837, "question_id": 50244489, "link": "https://stackoverflow.com/questions/50244489/convert-my-kotlin-maven-publishing-code-to-a-java-gradle-plugin/50264837#50264837", "title": "Convert my Kotlin Maven publishing code to a Java Gradle Plugin", "body": "<p>although it seems sort of obvious in hindsight, here's the code that does the same thing.</p>\n\n<pre><code>@Override\npublic void apply( Project project ) {\n    if ( System.getenv( \"JRS_S3_URI\" ) != null ) {\n        log.info( \"publishing to: {}\", System.getenv( \"JRS_S3_URI\" ) );\n        project.getPluginManager().apply( MavenPublishPlugin.class );\n        TaskContainer tasks = project.getTasks();\n        project.getExtensions().configure( PublishingExtension.class, ext -&gt; {\n            ext.repositories( repos -&gt; {\n                repos.maven( repo -&gt; {\n                    repo.setUrl( URI.create( System.getenv( \"JRS_S3_URI\" ) ) );\n                    repo.credentials( AwsCredentials.class, creds -&gt; {\n                        creds.setAccessKey( System.getenv( \"JRS_ACCESSKEYID\" ) );\n                        creds.setSecretKey( System.getenv( \"JRS_SECRETACCESSKEY\" ) );\n                    } );\n                } );\n            } );\n            ext.publications( pubs -&gt; {\n                Jar sourceJar = tasks.create( \"sources\", Jar.class, task -&gt; {\n                    task.setClassifier( task.getName() );\n                    getSourceSets().stream()\n                            .map( SourceSet::getAllSource )\n                            .forEach( task::from );\n                } );\n\n                pubs.create( \"mavenJava\", MavenPublication.class, pub -&gt; {\n                    pub.from( project.getComponents().getAt( \"java\" ) );\n                    pub.artifact( sourceJar );\n                } );\n            } );\n        } );\n    }\n    else {\n        log.info( \"no repository to publish to defined\" );\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 333, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525921343, "creation_date": 1525831280, "last_edit_date": 1525906446, "question_id": 50244489, "link": "https://stackoverflow.com/questions/50244489/convert-my-kotlin-maven-publishing-code-to-a-java-gradle-plugin", "title": "Convert my Kotlin Maven publishing code to a Java Gradle Plugin", "body": "<p>this is my kotlin code that I've been copy-pasta-ing to every <code>gradle.build.kts</code></p>\n\n<pre><code>System.getenv(\"JRS_S3_URI\")?.let {\n    val sourcesJar by tasks.creating(Jar::class) {\n        classifier = \"sources\"\n        from(java.sourceSets[\"main\"].allSource)\n    }\n\n    publishing {\n        repositories {\n            maven {\n                url = uri(it)\n                credentials(AwsCredentials::class.java) {\n                    accessKey = System.getenv(\"JRS_ACCESSKEYID\")\n                    secretKey = System.getenv(\"JRS_SECRETACCESSKEY\")\n                }\n            }\n        }\n        (publications) {\n            \"mavenJava\"(MavenPublication::class) {\n                from(components[\"java\"])\n                artifact(sourcesJar)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>this is what I've come up with so far plugin wise</p>\n\n<pre><code>public class Maven extends SourceSetConfiguredPlugin {\n\n    public Maven( XenoExtension extension ) {\n        super( extension );\n    }\n\n\n    @Override\n    public void apply( Project project ) {\n        if ( System.getenv( \"JRS_S3_URI\" ) != null ) {\n            project.getPluginManager().apply( MavenPublishPlugin.class );\n            TaskContainer tasks = project.getTasks();\n            Jar sourceSet = tasks.create( \"sources\", Jar.class, task -&gt; {\n                getSourceSets().stream()\n                        .map( SourceSet::getAllSource )\n                        .map( sds -&gt; project.copySpec().from( sds ) )\n                        .forEach( copySpec -&gt; task.include( copySpec.getIncludes() ) );\n            } );\n\n            tasks.withType( PublishToMavenRepository.class, task -&gt; {\n                task.getRepository().setUrl( URI.create( System.getenv( \"JRS_S3_URI\" ) ) );\n                task.getRepository().credentials( AwsCredentials.class, creds -&gt; {\n                    creds.setAccessKey( System.getenv( \"JRS_ACCESSKEYID\" ) );\n                    creds.setSecretKey( System.getenv( \"JRS_SECRETACCESSKEY\" ) );\n                } );\n                MavenPublication publication = task.getPublication();\n                publication.artifact( project.getComponents() );\n                publication.artifact( sourceSet );\n            } );\n\n        }\n    }\n}\n</code></pre>\n\n<p>it compiles, but obviously isn't pushing a source and binary jar to my repository on run. How can I correct my plugin such that it does the same thing as my Kotlin code?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1525828276, "post_id": 50243587, "comment_id": 87505981, "body": "Could you show your build.gradle files, at least their <code>buildscript</code>, <code>repositories</code> and <code>dependencies</code> blocks?"}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1525874330, "creation_date": 1525874330, "answer_id": 50255287, "question_id": 50243587, "link": "https://stackoverflow.com/questions/50243587/building-old-android-project-in-android-studio-getting-kotlin-errors/50255287#50255287", "title": "Building old android project in Android Studio, getting kotlin errors", "body": "<p>You need to add <code>jcenter()</code> to the list of Gradle repos. The Kotlin dependencies aren't present in the Google maven repo.</p>\n\n<p>There should be an <code>allprojects</code> block in the root <code>build.gradle</code> file where you add the repository:</p>\n\n<pre><code>allprojects {\n    repositories {\n        //Other repos...\n        jcenter()\n        //Other repos...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2654943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7aeb388b320bed1c3ca83c1fc4530?s=128&d=identicon&r=PG", "display_name": "SpaceOdyssey2001", "link": "https://stackoverflow.com/users/2654943/spaceodyssey2001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1525874330, "creation_date": 1525822645, "last_edit_date": 1525828080, "question_id": 50243587, "link": "https://stackoverflow.com/questions/50243587/building-old-android-project-in-android-studio-getting-kotlin-errors", "title": "Building old android project in Android Studio, getting kotlin errors", "body": "<p>It's been a while since I built my android application. (new hard drive now, fresh install of the latest android studio)</p>\n\n<p>When I build, I get Kotlin related errors.  I am not using Kotlin. Any ideas?\nHelp much appreciated!\ncheers,</p>\n\n<pre><code>Could not find org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0.\nSearched in the following locations:\n    https://dl.google.com/dl/android/maven2/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.pom\n    https://dl.google.com/dl/android/maven2/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.jar\nRequired by:\n    project :BaseGameUtils &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0\n    project :BaseGameUtils &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:builder:3.1.0\n    project :BaseGameUtils &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.lint:lint-gradle-api:26.1.0\n    project :BaseGameUtils &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:gradle-api:3.1.0\n    project :BaseGameUtils &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.databinding:compilerCommon:3.1.0\n    project :BaseGameUtils &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:builder:3.1.0 &gt; com.android.tools:sdk-common:26.1.0\n    project :BaseGameUtils &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:builder:3.1.0 &gt; com.android.tools.build:manifest-merger:26.1.0\n    project :BaseGameUtils &gt; com.android.tools.build:gradle:3.1.0 &gt; com.android.tools.build:gradle-core:3.1.0 &gt; com.android.tools.build:builder:3.1.0 &gt; com.android.tools:sdklib:26.1.0 &gt; com.android.tools:repository:26.1.0\n</code></pre>\n"}, {"tags": ["android", "git", "android-studio", "kotlin", "bitbucket"], "comments": [{"owner": {"reputation": 2798, "user_id": 5054717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/852e9b7acb207733b51ddd93523a8fef?s=128&d=identicon&r=PG", "display_name": "Jim Redmond", "link": "https://stackoverflow.com/users/5054717/jim-redmond"}, "edited": false, "score": 0, "creation_date": 1525823189, "post_id": 50243310, "comment_id": 87504964, "body": "Are you trying to clone over HTTPS or SSH?"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "reply_to_user": {"reputation": 2798, "user_id": 5054717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/852e9b7acb207733b51ddd93523a8fef?s=128&d=identicon&r=PG", "display_name": "Jim Redmond", "link": "https://stackoverflow.com/users/5054717/jim-redmond"}, "edited": false, "score": 0, "creation_date": 1525871019, "post_id": 50243310, "comment_id": 87525575, "body": "@JimRedmond HTTPS"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525820195, "creation_date": 1525820195, "question_id": 50243310, "link": "https://stackoverflow.com/questions/50243310/repository-test-failed-while-cloning-bitbucket", "title": "Repository test failed while cloning - Bitbucket", "body": "<p>I am trying to clone a repository hosted in Bitbucket using Android Studio. However, Android Studio did not asked me for entering user credentials (My Username and Password).\nSecondly, when I clicked \"Test\" to test the link with the repository, it is showing me \"Authentication failed error\" which means that the test was failed.</p>\n\n<p>How can I resolve this?\nGit is installed on my system and recognised by Android Studio.</p>\n"}, {"tags": ["android", "kotlin", "android-edittext"], "comments": [{"owner": {"reputation": 338, "user_id": 6534583, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Cj8X8.jpg?s=128&g=1", "display_name": "blackJack", "link": "https://stackoverflow.com/users/6534583/blackjack"}, "edited": false, "score": 0, "creation_date": 1525810678, "post_id": 50241617, "comment_id": 87500894, "body": "Not sure how much Kotlin differs from Java, but sometimes, when the view is already &quot;laid&quot;, you need to call view.invalidate() to update the view (or view.requestLayout())."}, {"owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "reply_to_user": {"reputation": 338, "user_id": 6534583, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Cj8X8.jpg?s=128&g=1", "display_name": "blackJack", "link": "https://stackoverflow.com/users/6534583/blackjack"}, "edited": false, "score": 0, "creation_date": 1525810962, "post_id": 50241617, "comment_id": 87501033, "body": "Thank you : I had tried <code>generator_editor_field_other_piece_global_constraint.postInv&zwnj;&#8203;alidate()</code>in order to refresh the edittext, but without any effect. Maybe are you talking of the whole fragment view ? If so, what is the most efficient way to get reference to the layout view inside <code>loadScriptMatchingSpinnerSelectionOrDisableAndClearField()</code> the method where I need to update the editText ? Maybe I&#39;ll have to store a reference to my layout view in the class."}, {"owner": {"reputation": 338, "user_id": 6534583, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Cj8X8.jpg?s=128&g=1", "display_name": "blackJack", "link": "https://stackoverflow.com/users/6534583/blackjack"}, "edited": false, "score": 0, "creation_date": 1525811246, "post_id": 50241617, "comment_id": 87501162, "body": "No, I think invalidating the desired view should be enough. Is it possible to call <code>invalidate()</code> on the view instead of <code>postInvalidate()</code> ?"}, {"owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "reply_to_user": {"reputation": 338, "user_id": 6534583, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Cj8X8.jpg?s=128&g=1", "display_name": "blackJack", "link": "https://stackoverflow.com/users/6534583/blackjack"}, "edited": false, "score": 0, "creation_date": 1525813135, "post_id": 50241617, "comment_id": 87501921, "body": "invalidate() does not work either : when rotating emulator, it happens sometimes that the editText is not updated with the value I set with <code>editText.setText(newContent)</code>"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1525851057, "post_id": 50241617, "comment_id": 87512908, "body": "You do not need to call <code>invalidate()</code>, edittext handles that on <code>setText</code> method. @loloof64 could you do one thing: Just comment out all code and just put a line for text set and check if it is still happening."}, {"owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1525890709, "post_id": 50241617, "comment_id": 87537756, "body": "Yes, @chandil03, I can confirm that just setting a simple text in the fragment code makes the textView displaying content without problem. So the problem I am facing should have to be a matter of organisation."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1525892028, "post_id": 50241617, "comment_id": 87538459, "body": "@loloof64 yes, break the code in meaning full way. I can&#39;t read the code you have posted. Its not well structured and indented also."}], "owner": {"reputation": 4580, "user_id": 662618, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/485a36e2fb0e89238446e0789d7094a9?s=128&d=identicon&r=PG", "display_name": "loloof64", "link": "https://stackoverflow.com/users/662618/loloof64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525810692, "creation_date": 1525810498, "last_edit_date": 1525810692, "question_id": 50241617, "link": "https://stackoverflow.com/questions/50241617/calling-settext-on-edittext-not-always-change-content", "title": "Calling setText on EditText not always change content", "body": "<p>I am trying to change the value of an editText inside a fragment by calling the <code>setText</code> method on the input. But it does not always work :</p>\n\n<ul>\n<li>sometimes when I change from spinner value the good text is associated to the edittext, but other times it does not change its value</li>\n<li>sometimes on device rotation the text is well updated, other times not\nBut in all cases, when logging the new text content into the Logcat, it is the expected string (the new content).</li>\n</ul>\n\n<p>Here the fragment defintion (using kotlinX extention for reffering to widgets)</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.AdapterView\nimport android.widget.ArrayAdapter\nimport android.widget.Spinner\nimport com.loloof64.android.basicchessendgamestrainer.PositionGeneratorValuesHolder\nimport com.loloof64.android.basicchessendgamestrainer.R\nimport kotlinx.android.synthetic.main.fragment_editing_other_pieces_global_constraint.*\nimport java.lang.ref.WeakReference\nimport java.util.logging.Logger\n\nclass OtherPiecesGlobalConstraintEditorFragment : Fragment() {\n\n    private var spinnerPiecesKindValues = listOf&lt;PieceKind&gt;()\n    private var lastSpinnerSelectedItem : PieceKind? = null\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_editing_other_pieces_global_constraint, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n\n\n\n generator_editor_spinner_other_piece_global_constraint.\n onItemSelectedListener =\n\nOtherPiecesGlobalConstraintEditorSpinnerSelectionListener(this)\n\n\n\n\n\n generator_editor_field_other_piece_global_constraint.\n onFocusChangeListener =\n\n    OtherPiecesGlobalConstraintEditorScriptFieldFocusListener(this)\n\n        updatePieceKindsSpinnerAndLoadFirstScriptIfAny()\n    }\n\n    override fun onResume() {\n        super.onResume()\n        updatePieceKindsSpinnerAndLoadFirstScriptIfAny()\n    }\n\n    private fun updatePieceKindsSpinnerAndLoadFirstScriptIfAny() {\n        loadSpinnerTitles()\n        loadScriptMatchingSpinnerSelectionOrDisableAndClearField()\n        if (scriptsByPieceKind.isNotEmpty()) {\n\ngenerator_editor_spinner_other_piece_global_constraint.setSelection(0)\n        }\n    }\n\n    companion object {\n        fun newInstance(): OtherPiecesGlobalConstraintEditorFragment {\n            return OtherPiecesGlobalConstraintEditorFragment()\n        }\n\n        fun deleteScriptAssociatedWithPieceKind(kind: PieceKind){\n            scriptsByPieceKind.remove(kind)\n        }\n\n        val scriptsByPieceKind = mutableMapOf&lt;PieceKind, String&gt;()\n    }\n\n    private fun loadSpinnerTitles() {\n        val pieceTypesStrings = resources.getStringArray(R.array.piece_type_spinner)\n        val sideStrings = resources.getStringArray(R.array.player_computer_spinner)\n        spinnerPiecesKindValues = \nPositionGeneratorValuesHolder.otherPiecesCount.map { it.pieceKind }\n        val otherPiecesKinds = spinnerPiecesKindValues.map {\n            \"${pieceTypesStrings[it.pieceType.ordinal]} \n${sideStrings[it.side.ordinal]}\"\n        }.toTypedArray()\n\n         val spinnerAdapter = ArrayAdapter&lt;String&gt;(activity, android.R.layout.simple_spinner_item, otherPiecesKinds)\n\n\n          spinnerAdapter.\n          setDropDownViewResource(\n          android.R.layout.simple_spinner_dropdown_item)\n\n        generator_editor_spinner_other_piece_global_constraint.adapter = spinnerAdapter\n\n        setEmptyScriptsWheneverScriptMissingForASpinnerKey()\n    }\n\n    private fun setEmptyScriptsWheneverScriptMissingForASpinnerKey(){\n        for (currentSpinnerKey in spinnerPiecesKindValues){\n            if ( ! scriptsByPieceKind.containsKey(currentSpinnerKey) ) \n            {\n                scriptsByPieceKind[currentSpinnerKey] = \"\"\n            }\n        }\n    }\n\n    fun loadScriptMatchingSpinnerSelectionOrDisableAndClearField(){\n        if (spinnerPiecesKindValues.isEmpty()){\n\n          generator_editor_field_other_piece_global_constraint.\n          text.clear()\n\n         generator_editor_field_other_piece_global_constraint.\n         isEnabled = false\n        }\n        else {\n            val selectedItemPosition = \n            generator_editor_spinner_other_piece_global_constraint.\n                selectedItemPosition\n            val selectedPieceKind = \n            spinnerPiecesKindValues[selectedItemPosition]\n            val associatedScript = \n            scriptsByPieceKind[selectedPieceKind]\n\n             generator_editor_field_other_piece_global_constraint.\n             isEnabled = true\n\n              //----------------------------------------//\n             // Here is the strange editText behaviour //\n             //----------------------------------------//\n             generator_editor_field_other_piece_global_constraint.\n             setText(associatedScript)\n\ngenerator_editor_field_other_piece_global_constraint.postInvalidate()\n\n            /////////////////////////////////////////////////\n            Logger.getLogger(\"loloof64\").info(\"selected piece kind : $selectedPieceKind\")\n            Logger.getLogger(\"loloof64\").info(\"associated script : $associatedScript\")\n            Logger.getLogger(\"loloof64\").info(\"current script field value : ${generator_editor_field_other_piece_global_constraint.text}\")\n            /////////////////////////////////////////////////\n        }\n    }\n\n    fun retainCurrentScript() {\n        if (lastSpinnerSelectedItem != null){\n            scriptsByPieceKind[lastSpinnerSelectedItem!!] = \n            generator_editor_field_other_piece_global_constraint.\n            text.toString()\n        }\n    }\n\n    fun removeScriptFieldFocus() {\n\ngenerator_editor_field_other_piece_global_constraint.clearFocus()\n    }\n\n    fun updateLastSelectedItem() {\n        val spinnerSelectedItemPosition = \n        generator_editor_spinner_other_piece_global_constraint.\n        selectedItemPosition\n        lastSpinnerSelectedItem =\n                if (spinnerSelectedItemPosition == Spinner.INVALID_POSITION) null\n                else spinnerPiecesKindValues[spinnerSelectedItemPosition]\n    }\n\n }\n\nclass OtherPiecesGlobalConstraintEditorSpinnerSelectionListener(parent: \nOtherPiecesGlobalConstraintEditorFragment):\n        AdapterView.OnItemSelectedListener {\n    override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n        saveLastScriptAndSetToCurrent()\n    }\n\n    override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n        saveLastScriptAndSetToCurrent()\n    }\n\n    private fun saveLastScriptAndSetToCurrent(){\n        parentRef.get()?.removeScriptFieldFocus()\n        parentRef.get()?.updateLastSelectedItem()\n\n\n        parentRef.get()?.\n        loadScriptMatchingSpinnerSelectionOrDisableAndClearField()\n    }\n\n    private val parentRef = WeakReference(parent)\n}\n\nclass OtherPiecesGlobalConstraintEditorScriptFieldFocusListener(parent: \nOtherPiecesGlobalConstraintEditorFragment):\n    View.OnFocusChangeListener\n{\n    override fun onFocusChange(v: View?, hasFocus: Boolean) {\n        if (!hasFocus){\n            parentRef.get()?.retainCurrentScript()\n        }\n    }\n\n    private val parentRef = WeakReference(parent)\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "widget", "translate"], "comments": [{"owner": {"reputation": 16025, "user_id": 1506071, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cd92da54c16b286fde875ec67e171dce?s=128&d=identicon&r=PG&f=1", "display_name": "Pradeep Simha", "link": "https://stackoverflow.com/users/1506071/pradeep-simha"}, "edited": false, "score": 1, "creation_date": 1525808838, "post_id": 50241140, "comment_id": 87499986, "body": "You have misunderstood how Stackoverflow works, we are not code conversion service. Kindly spend sometime in Help Center and read few questions here to know how to ask good question. You need to make an attempt and ask specific question."}, {"owner": {"reputation": 11, "user_id": 8616317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a74LuOKLb0g/AAAAAAAAAAI/AAAAAAAAAXg/AZElI1p58-0/photo.jpg?sz=128", "display_name": "Jakub Krn&#225;\u010d", "link": "https://stackoverflow.com/users/8616317/jakub-krn%c3%a1%c4%8d"}, "reply_to_user": {"reputation": 16025, "user_id": 1506071, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/cd92da54c16b286fde875ec67e171dce?s=128&d=identicon&r=PG&f=1", "display_name": "Pradeep Simha", "link": "https://stackoverflow.com/users/1506071/pradeep-simha"}, "edited": false, "score": 0, "creation_date": 1525809066, "post_id": 50241140, "comment_id": 87500110, "body": "Yes. I understand. I know how stack works but I was doing research about this for like a week now and i couldn\u2019t find anything in kotlin. So I asked if anybody can help me or send me some links. I am sorry."}, {"owner": {"reputation": 2311, "user_id": 7915814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab67865e8fe3cfa2ff788cc5e5909de?s=128&d=identicon&r=PG&f=1", "display_name": "Suleyman", "link": "https://stackoverflow.com/users/7915814/suleyman"}, "edited": false, "score": 1, "creation_date": 1525809720, "post_id": 50241140, "comment_id": 87500438, "body": "I actually just translated your code to kotlin, I don&#39;t know how you didn&#39;t find it, check <a href=\"https://www.jetbrains.com/help/idea/converting-a-java-file-to-kotlin-file.html\" rel=\"nofollow noreferrer\">this</a> page"}], "answers": [{"tags": [], "owner": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "is_accepted": true, "score": 1, "last_activity_date": 1525816856, "creation_date": 1525816856, "answer_id": 50242858, "question_id": 50241140, "link": "https://stackoverflow.com/questions/50241140/translate-java-widget-to-kotlin/50242858#50242858", "title": "Translate java widget to kotlin", "body": "<p>Android Studio can actually convert Java to Kotlin for you. Press Code > Convert Java File to Kotlin File.</p>\n"}], "owner": {"reputation": 11, "user_id": 8616317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a74LuOKLb0g/AAAAAAAAAAI/AAAAAAAAAXg/AZElI1p58-0/photo.jpg?sz=128", "display_name": "Jakub Krn&#225;\u010d", "link": "https://stackoverflow.com/users/8616317/jakub-krn%c3%a1%c4%8d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "closed_date": 1525876394, "accepted_answer_id": 50242858, "answer_count": 1, "score": -6, "last_activity_date": 1525816856, "creation_date": 1525808331, "question_id": 50241140, "link": "https://stackoverflow.com/questions/50241140/translate-java-widget-to-kotlin", "closed_reason": "Duplicate", "title": "Translate java widget to kotlin", "body": "<p>Can anybody help me with translating from java to kotlin?\nI'm trying to make android widget that basically updates itself when the button is pushed.</p>\n\n<pre><code>public class NewAppWidget extends AppWidgetProvider {\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n\n        for (int appWidgetId : appWidgetIds) {\n\n            Intent intent1 = new Intent(context, NewAppWidget.class);\n            intent1.setAction(AppWidgetManager.ACTION_APPWIDGET_UPDATE);\n            intent1.putExtra(AppWidgetManager.EXTRA_APPWIDGET_IDS, appWidgetIds);\n            PendingIntent pendingIntent1 = PendingIntent.getBroadcast(context,0, intent1, 0);\n\n            RemoteViews remoteViews = new RemoteViews(context.getPackageName(),R.layout.new_app_widget);\n            remoteViews.setOnClickPendingIntent(R.id.buttonId, pendingIntent1);\n\n            //there will come my action\n\n            appWidgetManager.updateAppWidget(appWidgetId, remoteViews);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Can anybody translate this for me?</p>\n"}, {"tags": ["android", "kotlin", "android-volley", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 616, "user_id": 7953744, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j-lmeMcanjg/AAAAAAAAAAI/AAAAAAAAEaQ/R5q_kjvlccQ/photo.jpg?sz=128", "display_name": "honeyspoon", "link": "https://stackoverflow.com/users/7953744/honeyspoon"}, "edited": false, "score": 0, "creation_date": 1573500797, "post_id": 50241732, "comment_id": 103894604, "body": "Had the same issue.   Was able to fix it by creating the params map as a separate variable and using it inside <code>getParams</code>. Why is the kotlin compiler so bad?"}, {"owner": {"reputation": 837, "user_id": 5784051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/smjWQ.jpg?s=128&g=1", "display_name": "Xwtek", "link": "https://stackoverflow.com/users/5784051/xwtek"}, "edited": false, "score": 0, "creation_date": 1576211132, "post_id": 50241732, "comment_id": 104833420, "body": "Thanks. It would be better if this answer has a reference to the bug ticket."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 7, "last_activity_date": 1525849872, "last_edit_date": 1525849872, "creation_date": 1525810948, "answer_id": 50241732, "question_id": 50239684, "link": "https://stackoverflow.com/questions/50239684/volley-kotlin-coroutine-throws-compilationexception/50241732#50241732", "title": "Volley Kotlin Coroutine throws CompilationException", "body": "<p>Push out the definition of <code>object: JsonObjectRequest</code> to a named class that takes the continuation as a constructor parameter. This way you'll make the code inside <code>suspendCancellableCoroutine</code> simpler and avoid this compiler bug.</p>\n\n<pre><code>suspend fun readData(url: String): JSONObject = suspendCancellableCoroutine { continuation -&gt;\n    RequestWithHeaders(url, continuation).also {\n        it.setShouldCache(false)\n        queue.add(it)\n    }\n}\n\nclass RequestWithHeaders(\n        url: String,\n        continuation: Continuation&lt;JSONObject&gt;\n) : JsonObjectRequest(Request.Method.POST, url, null, Response.Listener {\n    continuation.resume(it)\n}, Response.ErrorListener {\n    continuation.resumeWithException(Exception(it.cause))\n}) {\n    override fun getHeaders(): Map&lt;String, String&gt; = mapOf(\n            \"Content-Type\" to \"application/json; charset=utf-8\",\n            \"Authorization\" to \"Basic\")\n}\n</code></pre>\n"}], "owner": {"reputation": 942, "user_id": 1925581, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/73af6c88577c9aabd5c70da889b72909?s=128&d=identicon&r=PG", "display_name": "Joscplan", "link": "https://stackoverflow.com/users/1925581/joscplan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 1, "accepted_answer_id": 50241732, "answer_count": 1, "score": 4, "last_activity_date": 1552981120, "creation_date": 1525802462, "last_edit_date": 1552981120, "question_id": 50239684, "link": "https://stackoverflow.com/questions/50239684/volley-kotlin-coroutine-throws-compilationexception", "title": "Volley Kotlin Coroutine throws CompilationException", "body": "<p>I need to retreive various JSONObjects from an API using Volley. The API requires header authentication using Basic. It works if I don't add the headers but when I do I keep getting a <code>org.jetbrains.kotlin.codegen.CompilationException</code>. Here are the functions I wrote:</p>\n\n<pre><code>private suspend fun readData(url: String): JSONObject = suspendCancellableCoroutine { continuation -&gt;\n    val request: JsonObjectRequest = object: JsonObjectRequest(Request.Method.POST, url, null, Response.Listener&lt;JSONObject&gt; {\n        continuation.resume(it)\n    }, Response.ErrorListener {\n        continuation.resumeWithException(Exception(it.cause))\n    }) {\n        override fun getHeaders(): Map&lt;String, String&gt; = mapOf(\"Content-Type\" to \"application/json\", \"charset\" to \"utf-8\", \"Authorization\" to \"Basic \".plus(android.util.Base64.encode(String.format(\"%s:%s\", getString(R.string.api_login_username), getString(R.string.api_login_password)).toByteArray(), android.util.Base64.DEFAULT)))\n    }\n    request.setShouldCache(false)\n    this.queue?.add(request)\n}\n\n\nfun data(url: String) = async(CommonPool) { readData(url) }\n</code></pre>\n\n<p>And them implement them like so:</p>\n\n<pre><code>val brands = data(getString(R.string.api_url).plus(\"/api/brand\"))\nval models = data(getString(R.string.api_url).plus(\"/api/model\"))\n\nlaunch(UI) {\n    val brandsJsonArray = brands.await().getJSONArray(\"recordset\")\n    val modelsJsonArray = models.await().getJSONArray(\"recordset\")\n}\n</code></pre>\n\n<p>But this is the exception I keep getting once I try to compile the project:</p>\n\n<pre><code>org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'suspendCoroutine' into\n    public final suspend fun readData(queue: com.android.volley.RequestQueue?, url: kotlin.String, continuation: kotlin.coroutines.experimental.Continuation&lt;org.json.JSONObject&gt;): kotlin.Any? defined in com.universales.inspeccion.activities.InspectionCreateActivity\n    suspend fun readData(url: String): JSONObject = suspendCancellableCoroutine { continuation -&gt;\n            val request = object : JsonObjectRequest(Request.Method.GET, url, JSONObject(), Response.Listener {\n                continuation.resume(it)\n            }, Response.ErrorListener {\n                continuation.resumeWithException(Exception(it.cause))\n            }) {\n                override fun getHeaders(): Map&lt;String, String&gt; = mapOf(\"Content-Type\" to \"application/json\", \"charset\" to \"utf-8\", \"Authorization\" to \"Basic \".plus(android.util.Base64.encode(String.format(\"%s:%s\", getString(R.string.api_login_username), getString(R.string.api_login_password)).toByteArray(), android.util.Base64.DEFAULT)))\n            }\n            queue?.add(request)\n            continuation.invokeOnCompletion {\n                request.cancel()\n            }\n        }\n    Cause: suspendCancellableCoroutine$default (ZLkotlin/jvm/functions/Function1;Lkotlin/coroutines/experimental/Continuation;ILjava/lang/Object;)Ljava/lang/Object;:\n       L0\n       L1\n        LINENUMBER 167 L1\n        ICONST_0\n        ISTORE 0\n       L2\n        LINENUMBER 297 L2\n        ICONST_0\n        INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V\n        ALOAD 2\n        INVOKESTATIC kotlin/coroutines/experimental/jvm/internal/CoroutineIntrinsics.normalizeContinuation (Lkotlin/coroutines/experimental/Continuation;)Lkotlin/coroutines/experimental/Continuation;\n        ASTORE 4\n       L3\n        LINENUMBER 298 L3\n        NEW kotlinx/coroutines/experimental/CancellableContinuationImpl\n        DUP\n        ALOAD 4\n        ICONST_1\n        INVOKESPECIAL kotlinx/coroutines/experimental/CancellableContinuationImpl.&lt;init&gt; (Lkotlin/coroutines/experimental/Continuation;I)V\n        ASTORE 5\n       L4\n        LINENUMBER 299 L4\n        ILOAD 0\n        IFNE L5\n        ALOAD 5\n        INVOKEVIRTUAL kotlinx/coroutines/experimental/CancellableContinuationImpl.initCancellability ()V\n       L5\n        LINENUMBER 300 L5\n        ALOAD 1\n        ALOAD 5\n        INVOKEINTERFACE kotlin/jvm/functions/Function1.invoke (Ljava/lang/Object;)Ljava/lang/Object;\n        POP\n       L6\n        LINENUMBER 301 L6\n        ALOAD 5\n        INVOKEVIRTUAL kotlinx/coroutines/experimental/CancellableContinuationImpl.getResult ()Ljava/lang/Object;\n       L7\n        NOP\n       L8\n        LINENUMBER 297 L8\n        ICONST_1\n        INVOKESTATIC kotlin/jvm/internal/InlineMarker.mark (I)V\n       L9\n        LINENUMBER 302 L9\n        ARETURN\n       L10\n        LOCALVARIABLE cancellable Lkotlinx/coroutines/experimental/CancellableContinuationImpl; L4 L7 5\n        LOCALVARIABLE cont Lkotlin/coroutines/experimental/Continuation; L3 L8 4\n        LOCALVARIABLE $i$a$2$suspendCoroutineOrReturn I L3 L8 6\n        LOCALVARIABLE holdCancellability Z L2 L10 0\n        LOCALVARIABLE block Lkotlin/jvm/functions/Function1; L0 L10 1\n        LOCALVARIABLE $i$f$suspendCancellableCoroutine I L2 L10 3\n        MAXSTACK = 4\n        MAXLOCALS = 7\n\n    Cause: kotlin.KotlinNullPointerException\n    File being compiled at position: (124,75) in C:/Users/jcardama/Projects/android/inspeccion/app/src/main/java/com/universales/inspeccion/activities/InspectionCreateActivity.kt\n    The root cause was thrown at: MethodInliner.kt:280\n        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.kt:124)\n        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:167)\n        at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(InlineCodegen.kt:661)\n        at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:95)\n        at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(InlineCodegen.kt:642)\n        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2398)\n        at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2347)\n        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)\n        at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)\n        at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)\n        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)\n        at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:98)\n        at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:349)\n        at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:334)\n        at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1621)\n        at org.jetbrains.kotlin.codegen.coroutines.SuspendFunctionGenerationStrategy.doGenerateBody(SuspendFunctionGenerationStrategy.kt:88)\n        at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:80)\n        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:620)\n        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:391)\n        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:244)\n        at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:168)\n        at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:139)\n        at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:199)\n        at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:161)\n        at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:75)\n        at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:131)\n        at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:305)\n        at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:289)\n        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassOrObject(PackageCodegenImpl.java:161)\n        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:86)\n        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:119)\n        at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:66)\n        at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:97)\n        at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:68)\n        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)\n        at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:454)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:150)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:96)\n        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:463)\n        at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:98)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:228)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:38)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:90)\n        at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:102)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.execIncrementalCompiler(CompileServiceImpl.kt:538)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execIncrementalCompiler(CompileServiceImpl.kt:98)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:418)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:920)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\n        at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:950)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:919)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:417)\n        at sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n        at sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n    Caused by: kotlin.KotlinNullPointerException\n        at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:280)\n        at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)\n        at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)\n        at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)\n        at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:351)\n        at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:93)\n        at org.jetbrains.kotlin.codegen.inline.MethodInliner.access$doInline(MethodInliner.kt:39)\n        at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:259)\n        at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)\n        at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)\n        at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)\n        at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:351)\n        at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:93)\n        at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:66)\n        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:278)\n        at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:158)\n        ... 73 more \n</code></pre>\n"}, {"tags": ["object", "kotlin", "duplicates", "copy"], "comments": [{"owner": {"reputation": 2672, "user_id": 509551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c3042d65995e4bc9072101251471afa?s=128&d=identicon&r=PG", "display_name": "Uberto", "link": "https://stackoverflow.com/users/509551/uberto"}, "edited": false, "score": 0, "creation_date": 1525807911, "post_id": 50237384, "comment_id": 87499506, "body": "the correct answer is using copy() but I suggest you not to use var at all and instead use val with the correct constructor for header. If you need to create 2 objects almost identical apart one field or two, just create a function  fun buildHeader(name: String): Record {...}  val header1 = buildHeader(&quot;name1&quot;) val header2 = buildHeader(&quot;name2&quot;)"}], "answers": [{"comments": [{"owner": {"reputation": 867, "user_id": 1313638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6db9b847037333d0a85d2ada6b5b6e8?s=128&d=identicon&r=PG", "display_name": "Anna T", "link": "https://stackoverflow.com/users/1313638/anna-t"}, "edited": false, "score": 0, "creation_date": 1619078894, "post_id": 50237494, "comment_id": 118797310, "body": "Question is about Kotlin specifically, not Java."}], "tags": [], "owner": {"reputation": 1379, "user_id": 7436540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHYZ6.png?s=128&g=1", "display_name": "Lucas De Morais Cabrales", "link": "https://stackoverflow.com/users/7436540/lucas-de-morais-cabrales"}, "is_accepted": false, "score": 0, "last_activity_date": 1525794064, "creation_date": 1525794064, "answer_id": 50237494, "question_id": 50237384, "link": "https://stackoverflow.com/questions/50237384/how-can-i-duplicate-an-object-to-another-object-without-changing-the-base-objec/50237494#50237494", "title": "How can I duplicate an object to another object, without changing the base object in Kotlin?", "body": "<p>You have to create a new instance of the variable and initialize every field. If you just do <code>header2 = header1</code> you are also passing the reference of <code>header1</code> to <code>header2</code>.</p>\n\n<p>Example (Java):</p>\n\n<pre><code>public Record(Record record) {\n    this.name = record.name;\n}\n</code></pre>\n\n<p>Then call it as: <code>header2 = new Record(header1);</code></p>\n\n<p>See: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></p>\n"}, {"comments": [{"owner": {"reputation": 470, "user_id": 2806800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pbjAi.png?s=128&g=1", "display_name": "Ruslan Berozov", "link": "https://stackoverflow.com/users/2806800/ruslan-berozov"}, "edited": false, "score": 0, "creation_date": 1557586675, "post_id": 50237602, "comment_id": 98819259, "body": "But how can I do it again? How can I copy all params from one object to another immutable object if it is already instantiated?"}, {"owner": {"reputation": 4863, "user_id": 135837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecdd006a77e35d21c83c4503dae1339?s=128&d=identicon&r=PG", "display_name": "Josef Adamcik", "link": "https://stackoverflow.com/users/135837/josef-adamcik"}, "reply_to_user": {"reputation": 470, "user_id": 2806800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pbjAi.png?s=128&g=1", "display_name": "Ruslan Berozov", "link": "https://stackoverflow.com/users/2806800/ruslan-berozov"}, "edited": false, "score": 0, "creation_date": 1557600816, "post_id": 50237602, "comment_id": 98822737, "body": "@RuslanBerozov you cannot, immutable means you cannot change the instance. Therefore you cannot copy values to the already instantiated object in such case. But it&#39;s most likely you don&#39;t need to."}, {"owner": {"reputation": 470, "user_id": 2806800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pbjAi.png?s=128&g=1", "display_name": "Ruslan Berozov", "link": "https://stackoverflow.com/users/2806800/ruslan-berozov"}, "edited": false, "score": 0, "creation_date": 1557618832, "post_id": 50237602, "comment_id": 98826248, "body": "@jocef-adamcik there are some situations when I need to do that. For example - I need to update item in &quot;currentList&quot; in PagedListAdapter. I did it with custom function in data class of item."}, {"owner": {"reputation": 4863, "user_id": 135837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecdd006a77e35d21c83c4503dae1339?s=128&d=identicon&r=PG", "display_name": "Josef Adamcik", "link": "https://stackoverflow.com/users/135837/josef-adamcik"}, "reply_to_user": {"reputation": 470, "user_id": 2806800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pbjAi.png?s=128&g=1", "display_name": "Ruslan Berozov", "link": "https://stackoverflow.com/users/2806800/ruslan-berozov"}, "edited": false, "score": 0, "creation_date": 1557738953, "post_id": 50237602, "comment_id": 98851998, "body": "@RuslanBerozov If you really need to, you have to use mutable objects. Usually, I would aim to use immutable objects and replace the instance in the list.  But I have no experience with PageListAdapter in particular and I am not sure what are all the limitations there. Also, your situation would be most likely even more specific. I don&#39;t think it is possible and/or makes sense to try to figure it out here in comments. Consider making a SO question for your situation."}], "tags": [], "owner": {"reputation": 4863, "user_id": 135837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecdd006a77e35d21c83c4503dae1339?s=128&d=identicon&r=PG", "display_name": "Josef Adamcik", "link": "https://stackoverflow.com/users/135837/josef-adamcik"}, "is_accepted": true, "score": 38, "last_activity_date": 1594875637, "last_edit_date": 1594875637, "creation_date": 1525794440, "answer_id": 50237602, "question_id": 50237384, "link": "https://stackoverflow.com/questions/50237384/how-can-i-duplicate-an-object-to-another-object-without-changing-the-base-objec/50237602#50237602", "title": "How can I duplicate an object to another object, without changing the base object in Kotlin?", "body": "<p>You are just assigning the same object (same chunk of memory) to another variable. You need to somehow create a new instance and set all fields.</p>\n<pre><code>header2 = Record()\nheader2.name = header1.name\n</code></pre>\n<p>However in Kotlin, if the Record class was <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"noreferrer\">Data class</a>, Kotlin would create a copy method for you.</p>\n<pre><code>data class Record(val name: String, ...)\n...\nheader2 = header1.copy()\n</code></pre>\n<p>And copy method allows you to override the fields you need to override.</p>\n<pre><code>header2 = header1.copy(name = &quot;new_name&quot;)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 4789134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AD3nW.jpg?s=128&g=1", "display_name": "Dawid Kubicki", "link": "https://stackoverflow.com/users/4789134/dawid-kubicki"}, "is_accepted": false, "score": 1, "last_activity_date": 1594905575, "last_edit_date": 1594905575, "creation_date": 1525850029, "answer_id": 50247524, "question_id": 50237384, "link": "https://stackoverflow.com/questions/50237384/how-can-i-duplicate-an-object-to-another-object-without-changing-the-base-objec/50247524#50247524", "title": "How can I duplicate an object to another object, without changing the base object in Kotlin?", "body": "<p>You got 2 options use the copy method if the second object needs to be exactly the same or some of a fields needs to be changed.</p>\n<pre><code>val alex = User(name = &quot;Alex&quot;, age = 1)\nval olderAlex = alex.copy(age = 2)\n</code></pre>\n<p>or Kotlin got the great syntax of constructing object I mean, e.g.</p>\n<pre><code>createSomeObject(obj = ObjInput(name = objName,\n                    password = UUID.randomUUID().toString()\n                    type = listOf(TYPE)))\n</code></pre>\n<p>In fact, It seems to be easier in your case use first one but good to know about the second way to resolve this task.</p>\n"}, {"comments": [{"owner": {"reputation": 881, "user_id": 5526322, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-U3x-dmLrzEc/AAAAAAAAAAI/AAAAAAAAAF4/k3qwuNMq9F4/photo.jpg?sz=128", "display_name": "Alan Nelson", "link": "https://stackoverflow.com/users/5526322/alan-nelson"}, "edited": false, "score": 0, "creation_date": 1608672983, "post_id": 62936316, "comment_id": 115653295, "body": "This seems very hacky to me. Are there any downsides to using this?"}, {"owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "reply_to_user": {"reputation": 881, "user_id": 5526322, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-U3x-dmLrzEc/AAAAAAAAAAI/AAAAAAAAAF4/k3qwuNMq9F4/photo.jpg?sz=128", "display_name": "Alan Nelson", "link": "https://stackoverflow.com/users/5526322/alan-nelson"}, "edited": false, "score": 1, "creation_date": 1608790827, "post_id": 62936316, "comment_id": 115685739, "body": "Its more like Gson was made to copy and retrieve classes, so you make use of that feature."}, {"owner": {"reputation": 542, "user_id": 20033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35eec3953955a1fd519677feb0fdc4cb?s=128&d=identicon&r=PG", "display_name": "Rafael Chaves", "link": "https://stackoverflow.com/users/20033/rafael-chaves"}, "reply_to_user": {"reputation": 881, "user_id": 5526322, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-U3x-dmLrzEc/AAAAAAAAAAI/AAAAAAAAAF4/k3qwuNMq9F4/photo.jpg?sz=128", "display_name": "Alan Nelson", "link": "https://stackoverflow.com/users/5526322/alan-nelson"}, "edited": false, "score": 1, "creation_date": 1613651361, "post_id": 62936316, "comment_id": 117144225, "body": "@AlanNelson This would only work in cases where the object in question can be serialized and deserialized using Gson. That breaks down with <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Collections-Limitations\" rel=\"nofollow noreferrer\">collections</a>, for instance. Also, Gson would not know when to stop, so it would perform a deep clone, and it would clone even state that you wanted to be shared between the source and copy objects."}], "tags": [], "owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "is_accepted": false, "score": 3, "last_activity_date": 1594907572, "creation_date": 1594907572, "answer_id": 62936316, "question_id": 50237384, "link": "https://stackoverflow.com/questions/50237384/how-can-i-duplicate-an-object-to-another-object-without-changing-the-base-objec/62936316#62936316", "title": "How can I duplicate an object to another object, without changing the base object in Kotlin?", "body": "<p>If your Class is not a <code>Data Class</code> and your project has <code>Gson</code> and you want to copy the whole object ( probably edit after getting it ), Then if all those conditions are true then this is a solution. This is also a DeepCopy. ( For a data Class you can use the function <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#copying\" rel=\"nofollow noreferrer\"><code>copy()</code></a>).</p>\n<p>Then if you are using <code>Gson</code> in your project. Add the function <code>copy()</code>:</p>\n<pre><code>class YourClass () {\n\n// Your class other stuffs here\n\n  fun copy(): YourClass { //Get another instance of YourClass with the values like this!\n      val json = Gson().toJson(this)\n      return Gson().fromJson(json, YourClass::class.java)\n  }\n}\n</code></pre>\n<p>If you want to install Gson then get the <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">latest version here</a>.</p>\n"}], "owner": {"reputation": 1010, "user_id": 5336567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCTLx.jpg?s=128&g=1", "display_name": "SadeQ digitALLife", "link": "https://stackoverflow.com/users/5336567/sadeq-digitallife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15543, "favorite_count": 0, "accepted_answer_id": 50237602, "answer_count": 4, "score": 21, "last_activity_date": 1594908009, "creation_date": 1525793664, "last_edit_date": 1580720056, "question_id": 50237384, "link": "https://stackoverflow.com/questions/50237384/how-can-i-duplicate-an-object-to-another-object-without-changing-the-base-objec", "title": "How can I duplicate an object to another object, without changing the base object in Kotlin?", "body": "<p>this is my code:</p>\n\n<pre><code>var header1: Record? = null\nvar header2: Record? = null\n\nheader2 = header1\nheader2.name = \"new_name\"\n</code></pre>\n\n<p>but <code>header1.name</code> changes too!</p>\n"}, {"tags": ["java", "gradle", "junit", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1525793856, "post_id": 50236900, "comment_id": 87492153, "body": "I think it should rather be <code>configurations.testRuntimeClasspath</code> than <code>test.getTestClassesDir()</code> \u2013 the former includes all the classes that should be present on the classpath when the tests are run, while the latter only points Gradle to the directory where it should locate classes containing tests to run."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1525795792, "post_id": 50236900, "comment_id": 87493237, "body": "No, that causes all sorts of weird errors like this (because it adds all modules in classpath to my module): <code>Module mymodule contains package org.eclipse.jetty.http.pathmap, module jetty.http exports package org.eclipse.jetty.http.pathmap to mymodule</code>"}], "owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525792330, "creation_date": 1525792330, "question_id": 50236900, "link": "https://stackoverflow.com/questions/50236900/how-to-get-gradle-to-run-kotlin-tests-under-java-10", "title": "How to get Gradle to run Kotlin tests under Java 10?", "body": "<p>Gradle says it supports Java 10 now, but it seems that's only if you don't have tests to run.</p>\n\n<p>Even Java tests <a href=\"https://github.com/zyxist/chainsaw/issues/36\" rel=\"nofollow noreferrer\">may have trouble running</a>, but there <a href=\"https://stackoverflow.com/questions/49285412/what-is-the-right-way-to-expose-a-private-java9-modules-package-to-junit\">are workarounds</a>.</p>\n\n<p>However, I have been really struggling trying to run Kotlin tests in a Java-only (as in, only Java code runs in production, but only Kotlin tests) project.</p>\n\n<p>I was using the <code>chainsaw</code> plugin but it's full of bugs and <a href=\"https://github.com/zyxist/chainsaw/issues/35\" rel=\"nofollow noreferrer\">doesn't do things correctly</a>, so I am trying with just the normal <code>java</code> and Kotlin plugins.</p>\n\n<p>I followed the <a href=\"https://guides.gradle.org/building-java-9-modules/\" rel=\"nofollow noreferrer\">Gradle guide</a> to build Java 9/10 modules and noticed that,as the Chainsaw plugin, they incorrectly advise to use this code to \"patch\" the Java module:</p>\n\n<pre><code>'--patch-module', \"$moduleName=\" + files(sourceSets.test.java.srcDirs).asPath\n</code></pre>\n\n<p>This will only include Java classes, so it doesn't work for Groovy or Kotlin or any other JVM language.</p>\n\n<p>I fixed it by using this instead:</p>\n\n<pre><code>'--patch-module', \"$moduleName=\" + test.getTestClassesDirs().asFileTree.asPath\n</code></pre>\n\n<p>Now, every class file is listed in <code>patch-module</code> but my tests still won't run.</p>\n\n<p>Does anyone know what I may be missing in order to get the tests running again (they worked fine with Java 8)?</p>\n"}, {"tags": ["kotlin", "moshi"], "comments": [{"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1525802931, "post_id": 50235691, "comment_id": 87496867, "body": "Cache your Moshi instance and your User JsonAdapter for reuse. Adapters are meant to be non-trivial to create and fast to reuse."}, {"owner": {"reputation": 1389, "user_id": 135484, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ff11a7645980887fe1409cd37cb8be9c?s=128&d=identicon&r=PG", "display_name": "Martin Westin", "link": "https://stackoverflow.com/users/135484/martin-westin"}, "reply_to_user": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1525852340, "post_id": 50235691, "comment_id": 87513635, "body": "Sure. This was just a quick and dirty nonsense example class. But thanks for clarifying that is it not good practice."}], "answers": [{"comments": [{"owner": {"reputation": 1389, "user_id": 135484, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ff11a7645980887fe1409cd37cb8be9c?s=128&d=identicon&r=PG", "display_name": "Martin Westin", "link": "https://stackoverflow.com/users/135484/martin-westin"}, "edited": false, "score": 0, "creation_date": 1525852199, "post_id": 50236353, "comment_id": 87513574, "body": "Thanks for the example. That satisfies my curiosity... even thought I will probably take your advice and not generate excessive instances."}], "tags": [], "owner": {"reputation": 923, "user_id": 940731, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/333c4a17da8def9add5bab106e43779e?s=128&d=identicon&r=PG", "display_name": "Gustav Karlsson", "link": "https://stackoverflow.com/users/940731/gustav-karlsson"}, "is_accepted": true, "score": 2, "last_activity_date": 1525790630, "creation_date": 1525790630, "answer_id": 50236353, "question_id": 50235691, "link": "https://stackoverflow.com/questions/50235691/how-can-my-kotlin-api-classes-be-constructed-from-json-using-moshi/50236353#50236353", "title": "How can my Kotlin API classes be constructed from json? (using Moshi)", "body": "<p>You can't really do that in any performant way. Any constructor invocation will instantiate a new object, but since Moshi handles object creation internally, you'll have two instances...</p>\n\n<p>If you really REALLY want it though, you can try something like:</p>\n\n<pre><code>class User {\n    val email: String\n    val other_property: String\n\n    constructor(email: String, other_property: String) {\n        this.email = email\n        this.other_property = other_property\n    }\n\n    constructor(json: String) {\n        val delegate = Moshi.Builder().build().adapter(User::class.java).fromJson(json)\n        this.email = delegate.email\n        this.other_property = delegate.other_property\n    }\n\n    fun toJson(): String {\n        return Moshi.Builder()\n                .add(KotlinJsonAdapterFactory())\n                .build()\n                .adapter(User::class.java)\n                .toJson(this)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1389, "user_id": 135484, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ff11a7645980887fe1409cd37cb8be9c?s=128&d=identicon&r=PG", "display_name": "Martin Westin", "link": "https://stackoverflow.com/users/135484/martin-westin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 50236353, "answer_count": 1, "score": 1, "last_activity_date": 1525790630, "creation_date": 1525788589, "question_id": 50235691, "link": "https://stackoverflow.com/questions/50235691/how-can-my-kotlin-api-classes-be-constructed-from-json-using-moshi", "title": "How can my Kotlin API classes be constructed from json? (using Moshi)", "body": "<p>I am refactoring and adding to the API communication of an app. I'd like to get to this usage for my \"json data objects\". Instantiate with either the properties directly or from a json string.</p>\n\n<pre><code>userFromParams = User(\"user@example.com\", \"otherproperty\")\nuserFromString = User.fromJson(someJsonString)!!\n// userIWantFromString = User(someJsonString)\n</code></pre>\n\n<p>Getting userFromParams to serialize to JSON was not a problem. Just adding a toJson() function takes care of that.</p>\n\n<pre><code>data class User(email: String, other_property: String) {\n    fun toJson(): String {\n        return Moshi.Builder().build()\n                .adapter(User::class.java)\n                .toJson(this)\n    }\n\n    companion object {\n        fun fromJson(json: String): User? {\n            val moshi = Moshi.Builder().add(KotlinJsonAdapterFactory()).build()\n            return moshi.adapter(User::class.java).fromJson(json)\n        }\n    }\n}\n</code></pre>\n\n<p>It is \"fromJson\" that I would like to get rid of ...because... I want to and I can't figure out how. The above class works (give or take wether to allow an optional object to be returned or not and so on) but it just bugs me that I get stuck trying to get to this nice clean overloaded initialization. </p>\n\n<p>It does not strictly have to be a data class either, but it does seem appropriate here.</p>\n"}, {"tags": ["java", "android", "kotlin", "static-methods"], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 8127475, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Rsmsv.jpg?s=128&g=1", "display_name": "Keval Shukla", "link": "https://stackoverflow.com/users/8127475/keval-shukla"}, "edited": false, "score": 0, "creation_date": 1525784089, "post_id": 50234060, "comment_id": 87485594, "body": "Actually i already developed this whole process in java with different classes. But i couldn&#39;t able to implement this in kotlin. No worries i&#39;ll go with the inner class concept this time. Thanks btw @Mykhailo Yuzheka"}, {"owner": {"reputation": 652, "user_id": 3280437, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iMe5X.gif?s=128&g=1", "display_name": "Mykhailo Yuzheka", "link": "https://stackoverflow.com/users/3280437/mykhailo-yuzheka"}, "edited": false, "score": 0, "creation_date": 1525784100, "post_id": 50234060, "comment_id": 87485604, "body": "There will be no leak if you unregister it when activity is destroyed"}, {"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1525784230, "post_id": 50234060, "comment_id": 87485693, "body": "It will since an inner class, if not static (which is the case if you want to be able to access your instance), keeps a reference to its &quot;parent&quot;. Since this &quot;parent&quot; keeps a reference to a <code>Context</code>... You&#39;re gonna have a bad time"}], "tags": [], "owner": {"reputation": 652, "user_id": 3280437, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iMe5X.gif?s=128&g=1", "display_name": "Mykhailo Yuzheka", "link": "https://stackoverflow.com/users/3280437/mykhailo-yuzheka"}, "is_accepted": false, "score": 1, "last_activity_date": 1525783888, "last_edit_date": 1525783888, "creation_date": 1525783747, "answer_id": 50234060, "question_id": 50233863, "link": "https://stackoverflow.com/questions/50233863/how-do-i-use-non-static-method-in-kotlin/50234060#50234060", "title": "How do i use non static method in kotlin?", "body": "<p>You can create inner class in <code>VerifyOTPActivity</code> and extend it with <code>BroadcastReceiver</code>. Than inside your <code>onReceive()</code> you will have access to your <code>VerifyOTPActivity</code> instance and will be able to call <code>findViewById()</code> to get your <code>TextView</code> instance to write your text there. \nOf course you should call <code>registerReceiver()</code> inside <code>onCreate()</code> of your <code>VerifyOTPActivity</code> and <code>unregisterReceiver()</code> inside <code>onDestroy()</code></p>\n\n<p>In other words just make your <code>SMS</code> braodcast receiver inner to <code>VerifyOTPActivity</code> and bind its registration to the activity lifecycle</p>\n"}, {"tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": false, "score": 1, "last_activity_date": 1525784159, "creation_date": 1525784159, "answer_id": 50234187, "question_id": 50233863, "link": "https://stackoverflow.com/questions/50233863/how-do-i-use-non-static-method-in-kotlin/50234187#50234187", "title": "How do i use non static method in kotlin?", "body": "<p>You can setup an event bus that is a singleton. That way from your <code>BroadcastReceiver</code> you can send events to the bus and from your <code>Activity</code>/<code>Fragment</code>/<code>Whatever</code> you can subscribe to those events and react accordingly</p>\n\n<p>You can check some libraries like <a href=\"https://github.com/greenrobot/EventBus\" rel=\"nofollow noreferrer\">EventBus</a> or <a href=\"http://square.github.io/otto/\" rel=\"nofollow noreferrer\">Otto</a> although I strongly recommend <a href=\"http://reactivex.io/\" rel=\"nofollow noreferrer\">RxJava</a>. It's a bit more complicated but way more powerful</p>\n"}], "owner": {"reputation": 395, "user_id": 8127475, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Rsmsv.jpg?s=128&g=1", "display_name": "Keval Shukla", "link": "https://stackoverflow.com/users/8127475/keval-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1525787994, "creation_date": 1525783165, "last_edit_date": 1525787994, "question_id": 50233863, "link": "https://stackoverflow.com/questions/50233863/how-do-i-use-non-static-method-in-kotlin", "title": "How do i use non static method in kotlin?", "body": "<p>I have one class that extends <code>BroadcastReceiver</code>. So when a message arrives that method is called. Now in that method I am calling another class's method to set the text in an <code>EditText</code>. But since I am using kotlin I need to use a static method in a companion object. So how do I call <code>setText</code> for my <code>EditText</code> in that method or somewhere else? </p>\n\n<p>My <code>BroadcastReceiver</code> Class : </p>\n\n<pre><code>class SMS : BroadcastReceiver() {\n\n    val OTP_REGEX = \"[0-9]{1,6}\"\n\n    override fun onReceive(context: Context, intent: Intent) {\n        Log.e(\"onReceive\", \"==-&gt;$intent\")\n\n        val bundle = intent.extras\n        try {\n            if (bundle != null) {\n                Log.e(\"onReceive\", \"==-&gt;$bundle\")\n                val pdusObj = bundle.get(\"pdus\") as Array&lt;Any&gt;\n                for (i in pdusObj.indices) {\n                    val currentMessage = SmsMessage.createFromPdu(pdusObj[i] as ByteArray)\n                    val phoneNumber = currentMessage.displayOriginatingAddress\n                    val senderNum = phoneNumber\n                    val message = currentMessage.displayMessageBody\n\n                    Log.e(\"getMessage\", \"===-&gt;$message\")\n\n                    try {\n                        VerifyOTPActivity.ReceievdMsg(message);\n                    } catch (e: Exception) {\n                        e.printStackTrace()\n                    }\n                }\n            }\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n    }\n\n} \n</code></pre>\n\n<p>The class where I need to set that message in edit text.</p>\n\n<pre><code>class VerifyOTPActivity : AppCompatActivity()  {\n\n    companion object {\n\n        @JvmStatic\n        fun ReceievdMsg(message: String) {\n            var otp = \"\"\n            val OTP_NUMBERS = \"[0-9]{1,6}\"\n            val pattern = Pattern.compile(OTP_NUMBERS)\n            val matcher = pattern.matcher(message)\n\n            while (matcher.find()) {\n                otp = matcher.group()\n            }\n\n            try {\n               // edt.setText(otp) // Edit text\n            } catch (e: Exception) {\n\n            }\n        }\n\n    }\n\n    var mobileNo: String = \"\"\n\n    var preference: AppPreference? = null\n    lateinit var adminAPI: AdminAPI\n    lateinit var customDialog: CustomDialog\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_verify_otp)\n\n        preference = Utils.getAppPreference(applicationContext)\n        adminAPI = ServiceGenerator.getAPIClass()\n        customDialog = CustomDialog(this)\n        customDialog.setCancelable(false)\n\n        val intent: Intent = intent\n\n        mobileNo = intent.getStringExtra(\"mobileNo\")\n\n        workonIds()\n        setupToolBar()\n    }\n\n    private fun setupToolBar() {\n        txt_toolbar_title.gravity = Gravity.CENTER\n    }\n\n    private fun workonIds() {\n        txt_mobile_no.setText(mobileNo)\n\n        txt_mobile_no.setOnClickListener{\n            onBackPressed()\n        }\n\n        layout_next.setOnClickListener {\n            val getOTP = edt_otp.text.toString().trim()\n            val getMobileNo = txt_mobile_no.text.toString().trim()\n\n            if (getOTP.isEmpty()) {\n                C.showToast(applicationContext, resources.getString(R.string.emptyotp))\n            } else if (getOTP.length &lt; 6) {\n                C.showToast(applicationContext, resources.getString(R.string.validotp))\n            } else {\n                verifyOTP(getMobileNo , getOTP)\n            }\n        }\n    }\n\n    private fun verifyOTP(mobileNo: String, otp: String) {\n        customDialog.show()\n        val sendOTP : Call&lt;AppModel&gt; = adminAPI.VerifyOTP(mobileNo , otp)\n        sendOTP.enqueue(object : Callback&lt;AppModel&gt; {\n            override fun onFailure(call: Call&lt;AppModel&gt;?, t: Throwable?) {\n                customDialog.dismiss()\n                C.errorToast(applicationContext , t)\n            }\n\n            override fun onResponse(call: Call&lt;AppModel&gt;?, response: Response&lt;AppModel&gt;?) {\n                customDialog.dismiss()\n                val appModel : AppModel = response!!.body()!!\n                if (appModel != null) {\n                    if (appModel.isStatus) {\n                        val intent = Intent(applicationContext, UserRegistrationActivity::class.java)\n                        intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP\n                        preference!!.verify = true\n                        preference!!.mobileNumber = mobileNo\n                        intent.putExtra(\"mobileNo\", mobileNo)\n                        startActivity(intent)\n                    } else {\n                        C.showToast(applicationContext , appModel.message)\n                    }\n                } else {\n                    C.defaultError(applicationContext)\n                }\n            }\n        })\n    }\n\n}\n</code></pre>\n\n<p>How do I set that message in my <code>EditText</code>?</p>\n"}, {"tags": ["spring-boot", "jpa", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1529501855, "creation_date": 1529501855, "answer_id": 50949612, "question_id": 50233048, "link": "https://stackoverflow.com/questions/50233048/inherit-parent-properties-from-a-base-class-with-jpa-annotations-in-kotlin/50949612#50949612", "title": "Inherit parent properties from a Base class with Jpa annotations in Kotlin", "body": "<p>You need to annotate <code>JpaEntity</code> with either <code>@Entity @Inheritance(strategy = ...)</code> or <code>@MappedSuperclass</code>. The second seems to be more reasonable for your case, but see <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/bnbqn.html\" rel=\"nofollow noreferrer\">documentation</a> (or <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Inheritance\" rel=\"nofollow noreferrer\">https://en.wikibooks.org/wiki/Java_Persistence/Inheritance</a>).</p>\n\n<p>Neither Kotlin (except maybe needing to specify annotation targets like <code>get:</code>) nor use of Spring Boot should make any difference here.</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 3225602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qBKvU.jpg?s=128&g=1", "display_name": "catcher", "link": "https://stackoverflow.com/users/3225602/catcher"}, "edited": false, "score": 0, "creation_date": 1580335741, "post_id": 50951513, "comment_id": 106068373, "body": "<code>data class</code> on <code>Model</code> is not a good approach because underneath Kotlin will override <code>BaseEntity</code> <code>equals</code> and <code>hashCode</code> methods. Instead of <code>data class Model</code> you should use only the <code>class Model</code>."}], "tags": [], "owner": {"reputation": 20034, "user_id": 5380322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-6cs1r0Ov08I/AAAAAAAAAAI/AAAAAAAACBI/rQyZyFwtZmE/photo.jpg?sz=128", "display_name": "Cepr0", "link": "https://stackoverflow.com/users/5380322/cepr0"}, "is_accepted": true, "score": 12, "last_activity_date": 1537094143, "last_edit_date": 1537094143, "creation_date": 1529507380, "answer_id": 50951513, "question_id": 50233048, "link": "https://stackoverflow.com/questions/50233048/inherit-parent-properties-from-a-base-class-with-jpa-annotations-in-kotlin/50951513#50951513", "title": "Inherit parent properties from a Base class with Jpa annotations in Kotlin", "body": "<p>You can create the base class for other entities in the same way as we are doing this in Java (with <code>@MappedSuperclass</code> for example):</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@MappedSuperclass\nabstract class BaseEntity&lt;T&gt;(\n        @Id private val id: T\n) : Persistable&lt;T&gt; {\n\n    @Version\n    private val version: Long? = null\n\n    @field:CreationTimestamp\n    val createdAt: Instant? = null\n\n    @field:UpdateTimestamp\n    val updatedAt: Instant? = null\n\n    override fun getId(): T {\n        return id\n    }\n\n    override fun isNew(): Boolean {\n        return version == null\n    }\n\n    override fun toString(): String {\n        return \"BaseEntity(id=$id, version=$version, createdAt=$createdAt, updatedAt=$updatedAt, isNew=$isNew)\"\n    }\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n        other as BaseEntity&lt;*&gt;\n        if (id != other.id) return false\n        return true\n    }\n\n    override fun hashCode(): Int {\n        return id?.hashCode() ?: 0\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\ndata class Model(\n        val value: String\n) : BaseEntity&lt;UUID&gt;(UUID.randomUUID()) { \n\n    override fun toString(): String {\n        return \"Model(value=$value, ${super.toString()})\"\n    }\n}\n</code></pre>\n\n<p>See my working <a href=\"https://github.com/Cepr0/sb-kotlin-batch-insert-demo\" rel=\"noreferrer\">example</a>.</p>\n\n<p>Note for <code>@field</code> annotation - without it the <code>CreationTimestamp</code>/<code>UpdateTimestamp</code> <a href=\"https://stackoverflow.com/a/47621831/5380322\">don't work</a>.</p>\n"}], "owner": {"reputation": 1395, "user_id": 387496, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/2872214f18c7e252c7cf11ad88dd5459?s=128&d=identicon&r=PG", "display_name": "Stijn Vanpoucke", "link": "https://stackoverflow.com/users/387496/stijn-vanpoucke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2917, "favorite_count": 2, "accepted_answer_id": 50951513, "answer_count": 2, "score": 3, "last_activity_date": 1537094143, "creation_date": 1525780670, "question_id": 50233048, "link": "https://stackoverflow.com/questions/50233048/inherit-parent-properties-from-a-base-class-with-jpa-annotations-in-kotlin", "title": "Inherit parent properties from a Base class with Jpa annotations in Kotlin", "body": "<p>All our JPA Entities have an @Id, @UpdateTimestamp, Optimistic Locking etc... My idea is to create some kind of Base class witch contains everything that every JPA Entity needs to have which can be inherited by all of them.</p>\n\n<pre><code>open class JpaEntity (\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   var id : Long? = null,\n\n   @UpdateTimestamp\n   var lastUpdate : LocalDateTime? = null\n\n   ...\n)\n</code></pre>\n\n<p>I trying to find how I can use this class (or any other solutions) so that the devs in our team don't need to redo the same typing over and over.</p>\n\n<p>So far my implementation doesn't have an \"Identifier\" according to JPA</p>\n\n<pre><code>@Entity\nclass Car (\n\n    @get:NotEmpty\n    @Column(unique = true)\n    val name : String\n\n) : JpaEntity()\n</code></pre>\n\n<p>Does anyone has an elegant solution for this?</p>\n"}, {"tags": ["firebase", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "edited": false, "score": 1, "creation_date": 1525773830, "post_id": 50230648, "comment_id": 87479150, "body": "Ah, I see, I had to implement all of its functions (even though I don&#39;t use all of them?). The red underline disappeared. Thank you so much for taking the time helping me out! :)"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "reply_to_user": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "edited": false, "score": 1, "creation_date": 1525774562, "post_id": 50230648, "comment_id": 87479594, "body": "That&#39;s right. See <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/IandI/abstract.html</a>"}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 3, "last_activity_date": 1525772770, "creation_date": 1525772770, "answer_id": 50230648, "question_id": 50230609, "link": "https://stackoverflow.com/questions/50230609/why-is-object-underlined-in-red-in-my-firebase-code/50230648#50230648", "title": "Why is &quot;object&quot; underlined in red in my Firebase code?", "body": "<p><a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/ChildEventListener\" rel=\"nofollow noreferrer\">ChildEventListener</a> is an abstract class so you should implement its abstract members:</p>\n\n<blockquote>\n  <p>object is not abstract and does not implement abstract member</p>\n</blockquote>\n\n<pre><code>db!!.child(\"cookies\").addChildEventListener(object: ChildEventListener {\n\n          override fun onCancelled(error: DatabaseError) { }\n          //etc\n     }\n })\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 9529441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab68d471914bdf9de8ff12ca4ceeeba7?s=128&d=identicon&r=PG&f=1", "display_name": "johanjohansson", "link": "https://stackoverflow.com/users/9529441/johanjohansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "accepted_answer_id": 50230648, "answer_count": 1, "score": 1, "last_activity_date": 1525856911, "creation_date": 1525772635, "last_edit_date": 1525856911, "question_id": 50230609, "link": "https://stackoverflow.com/questions/50230609/why-is-object-underlined-in-red-in-my-firebase-code", "title": "Why is &quot;object&quot; underlined in red in my Firebase code?", "body": "<p>I am trying to get into Kotlin using Firebase. The examples I have viewed want me to add the following code: <code>object: ChildEventListener</code>. In <code>Java</code> this was <code>new ChildEventListener</code>. But the <code>object</code> part is marked red with the message: <code>object is not abstract and does not implement abstract member</code>. Not sure what it means or how to solve it. Here's the </p>\n\n<pre><code>db = FirebaseDatabase.getInstance().reference\n\ndb!!.child(\"cookies\").addChildEventListener(object: ChildEventListener {\n\n          //CODE HERE TO GET DATA\n         }\n     })\n</code></pre>\n\n<p>I had a similar problem when creating a <code>Button</code> which I solved by completely removing the argument list (the parenthesis and its content) but it doesn't work here. This is obviously a simple problem with a simple solution, but I'm just starting out and feel a bit confused by the syntax. Any help with this would be much appreciated :)</p>\n"}, {"tags": ["firebase", "kotlin", "nosql", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 3537, "user_id": 3351176, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA23-LfKdPCcJrUwtE08IQl-6Mkeu8Vxcu5PheuMAE=k-s128", "display_name": "Jason Berryman", "link": "https://stackoverflow.com/users/3351176/jason-berryman"}, "edited": false, "score": 0, "creation_date": 1525784143, "post_id": 50230562, "comment_id": 87485640, "body": "Is there a field that you can add to these documents which would allow you to run a query?  This would be the fastest method.  In the node.js SDK there is a .getAll method.  I&#39;m struggling to find anything like this for Android in the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FirebaseFirestore\" rel=\"nofollow noreferrer\">reference documentation</a>"}, {"owner": {"reputation": 29, "user_id": 5555111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d3bd5e0cf0279c582e18e5adcf701be?s=128&d=identicon&r=PG&f=1", "display_name": "Falcon", "link": "https://stackoverflow.com/users/5555111/falcon"}, "reply_to_user": {"reputation": 3537, "user_id": 3351176, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA23-LfKdPCcJrUwtE08IQl-6Mkeu8Vxcu5PheuMAE=k-s128", "display_name": "Jason Berryman", "link": "https://stackoverflow.com/users/3351176/jason-berryman"}, "edited": false, "score": 0, "creation_date": 1525952947, "post_id": 50230562, "comment_id": 87561415, "body": "I am using the admin API, as it is a ktor backend server, I don&#39;t see there anything like that."}, {"owner": {"reputation": 3537, "user_id": 3351176, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA23-LfKdPCcJrUwtE08IQl-6Mkeu8Vxcu5PheuMAE=k-s128", "display_name": "Jason Berryman", "link": "https://stackoverflow.com/users/3351176/jason-berryman"}, "edited": false, "score": 0, "creation_date": 1525953261, "post_id": 50230562, "comment_id": 87561573, "body": "In that case, I can post an answer for you in a few minutes. I&#39;m not sure how well it will work with 500 documents. You may be better using pagination, in your app and get smaller blocks, each time."}, {"owner": {"reputation": 29, "user_id": 5555111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d3bd5e0cf0279c582e18e5adcf701be?s=128&d=identicon&r=PG&f=1", "display_name": "Falcon", "link": "https://stackoverflow.com/users/5555111/falcon"}, "reply_to_user": {"reputation": 3537, "user_id": 3351176, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA23-LfKdPCcJrUwtE08IQl-6Mkeu8Vxcu5PheuMAE=k-s128", "display_name": "Jason Berryman", "link": "https://stackoverflow.com/users/3351176/jason-berryman"}, "edited": false, "score": 0, "creation_date": 1526045226, "post_id": 50230562, "comment_id": 87603089, "body": "Pagination is not possible in my special case."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5555111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d3bd5e0cf0279c582e18e5adcf701be?s=128&d=identicon&r=PG&f=1", "display_name": "Falcon", "link": "https://stackoverflow.com/users/5555111/falcon"}, "edited": false, "score": 0, "creation_date": 1526027555, "post_id": 50276148, "comment_id": 87592466, "body": "Okay, now I see, that there is a getAll method, which would maybe help me. I will test and benchmark it soon.  However, I am still using kotlin ktor backend, with java admin sdk, so the link is not correct.  I found the get all method, I can call it like this: val db = FirestoreClient.getFirestore() db.getall(....){...}"}, {"owner": {"reputation": 3537, "user_id": 3351176, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA23-LfKdPCcJrUwtE08IQl-6Mkeu8Vxcu5PheuMAE=k-s128", "display_name": "Jason Berryman", "link": "https://stackoverflow.com/users/3351176/jason-berryman"}, "reply_to_user": {"reputation": 29, "user_id": 5555111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d3bd5e0cf0279c582e18e5adcf701be?s=128&d=identicon&r=PG&f=1", "display_name": "Falcon", "link": "https://stackoverflow.com/users/5555111/falcon"}, "edited": false, "score": 0, "creation_date": 1526028330, "post_id": 50276148, "comment_id": 87592866, "body": "I must admit that I wasn&#39;t aware of a Java Admin SDK. I assumed that the Admin SDK only supports Node. I&#39;ll take a look through the Java SDK and update my answer"}, {"owner": {"reputation": 29, "user_id": 5555111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d3bd5e0cf0279c582e18e5adcf701be?s=128&d=identicon&r=PG&f=1", "display_name": "Falcon", "link": "https://stackoverflow.com/users/5555111/falcon"}, "edited": false, "score": 0, "creation_date": 1526045004, "post_id": 50276148, "comment_id": 87602950, "body": "Please update it, and then I can accept it as a good answer.  My API is now abut 2 times as fast as it was:  Normal coorutine based multiple parallel requests: ~2500 microsec  Using get all method: <b>~1400 microsec</b>  This is excellent for my usage."}, {"owner": {"reputation": 3537, "user_id": 3351176, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA23-LfKdPCcJrUwtE08IQl-6Mkeu8Vxcu5PheuMAE=k-s128", "display_name": "Jason Berryman", "link": "https://stackoverflow.com/users/3351176/jason-berryman"}, "reply_to_user": {"reputation": 29, "user_id": 5555111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d3bd5e0cf0279c582e18e5adcf701be?s=128&d=identicon&r=PG&f=1", "display_name": "Falcon", "link": "https://stackoverflow.com/users/5555111/falcon"}, "edited": false, "score": 0, "creation_date": 1526051239, "post_id": 50276148, "comment_id": 87607099, "body": "It took a fair bit of searching, but I found the reference and I&#39;ve updated the answer.  I&#39;m glad to hear that it resolved your issue."}], "tags": [], "owner": {"reputation": 3537, "user_id": 3351176, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA23-LfKdPCcJrUwtE08IQl-6Mkeu8Vxcu5PheuMAE=k-s128", "display_name": "Jason Berryman", "link": "https://stackoverflow.com/users/3351176/jason-berryman"}, "is_accepted": true, "score": 1, "last_activity_date": 1526051212, "last_edit_date": 1526051212, "creation_date": 1525965126, "answer_id": 50276148, "question_id": 50230562, "link": "https://stackoverflow.com/questions/50230562/firestore-query-a-lot-of-documents/50276148#50276148", "title": "Firestore query a lot of documents", "body": "<p>Using the Admin SDK, you can easily retrieve multiple documents at the same time, using <a href=\"https://googlecloudplatform.github.io/google-cloud-java/latest/apidocs/com/google/cloud/firestore/Firestore.html\" rel=\"nofollow noreferrer\">getAll</a> (linked to the documentation).  Simply call <code>firestore.getAll</code> and pass a list of document references.</p>\n"}], "owner": {"reputation": 29, "user_id": 5555111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d3bd5e0cf0279c582e18e5adcf701be?s=128&d=identicon&r=PG&f=1", "display_name": "Falcon", "link": "https://stackoverflow.com/users/5555111/falcon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 50276148, "answer_count": 1, "score": 0, "last_activity_date": 1526051212, "creation_date": 1525772471, "question_id": 50230562, "link": "https://stackoverflow.com/questions/50230562/firestore-query-a-lot-of-documents", "title": "Firestore query a lot of documents", "body": "<p>I have a firestore database with a lot of data in it.</p>\n\n<p>In my application I have to get a lot of documents from it at once.\nI know the exact keys of them. It is maximum 500-600 documents at a time, and an average of 300 of them, with only 3 fields in each.\nIs the best way to get them one-by-one in a new thread and request for each? This needs a lot of parallel connections..</p>\n\n<p>This is what I do now, but it is a bit slow (several secs), I am looking for a better solution now. I have no opportunity to merge these into bigger documents, as I may need very different set of them...</p>\n\n<p>I am running these on a ktor backend server.</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "edited": false, "score": 0, "creation_date": 1566289453, "post_id": 50230466, "comment_id": 101599589, "body": "I think when you use <code>withContext</code>, a new coroutine is always created regardless. This is what I can see from the source code."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "reply_to_user": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "edited": false, "score": 0, "creation_date": 1581701261, "post_id": 50230466, "comment_id": 106537137, "body": "@stdout Doesn&#39;t <code>async&#47;await</code> also create a new coroutine, according to OP?"}], "answers": [{"tags": [], "owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "is_accepted": false, "score": 28, "last_activity_date": 1531473556, "last_edit_date": 1592644375, "creation_date": 1525773222, "answer_id": 50230794, "question_id": 50230466, "link": "https://stackoverflow.com/questions/50230466/kotlin-withcontext-vs-async-await/50230794#50230794", "title": "Kotlin: withContext() vs Async-await", "body": "<blockquote>\n<p>Isn't it always better to use withContext rather than asynch-await as it is funcationally similar, but doesn't create another coroutine. Large numebrs coroutines, though lightweight could still be a problem in demanding applications</p>\n<p>Is there a case asynch-await is more preferable to withContext</p>\n</blockquote>\n<p>You should use async/await when you want to execute multiple tasks concurrently, for example:</p>\n<pre><code>runBlocking {\n    val deferredResults = arrayListOf&lt;Deferred&lt;String&gt;&gt;()\n\n    deferredResults += async {\n        delay(1, TimeUnit.SECONDS)\n        &quot;1&quot;\n    }\n\n    deferredResults += async {\n        delay(1, TimeUnit.SECONDS)\n        &quot;2&quot;\n    }\n\n    deferredResults += async {\n        delay(1, TimeUnit.SECONDS)\n        &quot;3&quot;\n    }\n\n    //wait for all results (at this point tasks are running)\n    val results = deferredResults.map { it.await() }\n    println(results)\n}\n</code></pre>\n<p>If you don't need to run multiple tasks concurrently you can use withContext.</p>\n"}, {"comments": [{"owner": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "edited": false, "score": 0, "creation_date": 1571656279, "post_id": 50231191, "comment_id": 103300983, "body": "Regarding the extra memory cost of <code>async-await</code>: When we use <code>withContext</code>, a new coroutine is also created (as far as I can see from the source code) so do you think the difference might be coming from somewhere else?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 1853, "user_id": 1388943, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/26584dd4a526d6f441abef793bfb0dcc?s=128&d=identicon&r=PG", "display_name": "stdout", "link": "https://stackoverflow.com/users/1388943/stdout"}, "edited": false, "score": 1, "creation_date": 1571656471, "post_id": 50231191, "comment_id": 103301077, "body": "@stdout The library has been evolving since I ran these tests. The code in the answer is supposed to be fully self-contained, try running it again to validate. <code>async</code> creates a <code>Deferred</code> object, that may also explain some of the difference."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1581701466, "post_id": 50231191, "comment_id": 106537211, "body": "~&quot;<b>To retain the continuation</b>&quot;.  When do we need to retain this?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 2, "creation_date": 1581704639, "post_id": 50231191, "comment_id": 106538456, "body": "@IgorGanapolsky It is always retained but usually not in a way visible to the user. Losing the continuation is equivalent to <code>Thread.destroy()</code> -- execution vanishing into thin air."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 132, "last_activity_date": 1572424070, "last_edit_date": 1572424070, "creation_date": 1525774471, "answer_id": 50231191, "question_id": 50230466, "link": "https://stackoverflow.com/questions/50230466/kotlin-withcontext-vs-async-await/50231191#50231191", "title": "Kotlin: withContext() vs Async-await", "body": "<blockquote>\n  <p>Large number of coroutines, though lightweight, could still be a problem in demanding applications</p>\n</blockquote>\n\n<p>I'd like to dispel this myth of \"too many coroutines\" being a problem by quantifying their actual cost.</p>\n\n<p>First, we should disentangle the <em>coroutine</em> itself from the <em>coroutine context</em> to which it is attached. This is how you create just a coroutine with minimum overhead:</p>\n\n<pre><code>GlobalScope.launch(Dispatchers.Unconfined) {\n    suspendCoroutine&lt;Unit&gt; {\n        continuations.add(it)\n    }\n}\n</code></pre>\n\n<p>The value of this expression is a <code>Job</code> holding a suspended coroutine. To retain the continuation, we added it to a list in the wider scope.</p>\n\n<p>I benchmarked this code and concluded that it allocates <strong>140 bytes</strong> and takes <strong>100 nanoseconds</strong> to complete. So that's how lightweight a coroutine is. </p>\n\n<p>For reproducibility, this is the code I used:</p>\n\n<pre><code>fun measureMemoryOfLaunch() {\n    val continuations = ContinuationList()\n    val jobs = (1..10_000).mapTo(JobList()) {\n        GlobalScope.launch(Dispatchers.Unconfined) {\n            suspendCoroutine&lt;Unit&gt; {\n                continuations.add(it)\n            }\n        }\n    }\n    (1..500).forEach {\n        Thread.sleep(1000)\n        println(it)\n    }\n    println(jobs.onEach { it.cancel() }.filter { it.isActive})\n}\n\nclass JobList : ArrayList&lt;Job&gt;()\n\nclass ContinuationList : ArrayList&lt;Continuation&lt;Unit&gt;&gt;()\n</code></pre>\n\n<p>This code starts a bunch of coroutines and then sleeps so you have time to analyze the heap with a monitoring tool like VisualVM. I created the specialized classes <code>JobList</code> and <code>ContinuationList</code> because this makes it easier to analyze the heap dump.</p>\n\n<hr>\n\n<p>To get a more complete story, I used the code below to also measure the cost of <code>withContext()</code> and <code>async-await</code>:</p>\n\n<pre><code>import kotlinx.coroutines.*\nimport java.util.concurrent.Executors\nimport kotlin.coroutines.suspendCoroutine\nimport kotlin.system.measureTimeMillis\n\nconst val JOBS_PER_BATCH = 100_000\n\nvar blackHoleCount = 0\nval threadPool = Executors.newSingleThreadExecutor()!!\nval ThreadPool = threadPool.asCoroutineDispatcher()\n\nfun main(args: Array&lt;String&gt;) {\n    try {\n        measure(\"just launch\", justLaunch)\n        measure(\"launch and withContext\", launchAndWithContext)\n        measure(\"launch and async\", launchAndAsync)\n        println(\"Black hole value: $blackHoleCount\")\n    } finally {\n        threadPool.shutdown()\n    }\n}\n\nfun measure(name: String, block: (Int) -&gt; Job) {\n    print(\"Measuring $name, warmup \")\n    (1..1_000_000).forEach { block(it).cancel() }\n    println(\"done.\")\n    System.gc()\n    System.gc()\n    val tookOnAverage = (1..20).map { _ -&gt;\n        System.gc()\n        System.gc()\n        var jobs: List&lt;Job&gt; = emptyList()\n        measureTimeMillis {\n            jobs = (1..JOBS_PER_BATCH).map(block)\n        }.also { _ -&gt;\n            blackHoleCount += jobs.onEach { it.cancel() }.count()\n        }\n    }.average()\n    println(\"$name took ${tookOnAverage * 1_000_000 / JOBS_PER_BATCH} nanoseconds\")\n}\n\nfun measureMemory(name:String, block: (Int) -&gt; Job) {\n    println(name)\n    val jobs = (1..JOBS_PER_BATCH).map(block)\n    (1..500).forEach {\n        Thread.sleep(1000)\n        println(it)\n    }\n    println(jobs.onEach { it.cancel() }.filter { it.isActive})\n}\n\nval justLaunch: (i: Int) -&gt; Job = {\n    GlobalScope.launch(Dispatchers.Unconfined) {\n        suspendCoroutine&lt;Unit&gt; {}\n    }\n}\n\nval launchAndWithContext: (i: Int) -&gt; Job = {\n    GlobalScope.launch(Dispatchers.Unconfined) {\n        withContext(ThreadPool) {\n            suspendCoroutine&lt;Unit&gt; {}\n        }\n    }\n}\n\nval launchAndAsync: (i: Int) -&gt; Job = {\n    GlobalScope.launch(Dispatchers.Unconfined) {\n        async(ThreadPool) {\n            suspendCoroutine&lt;Unit&gt; {}\n        }.await()\n    }\n}\n</code></pre>\n\n<p>This is the typical output I get from the above code:</p>\n\n<pre><code>Just launch: 140 nanoseconds\nlaunch and withContext : 520 nanoseconds\nlaunch and async-await: 1100 nanoseconds\n</code></pre>\n\n<p>Yes, <code>async-await</code> takes about twice as long as <code>withContext</code>, but it's still just a microsecond. You'd have to launch them in a tight loop, doing almost nothing besides, for that to become \"a problem\" in your app.</p>\n\n<p>Using <code>measureMemory()</code> I found the following memory cost per call:</p>\n\n<pre><code>Just launch: 88 bytes\nwithContext(): 512 bytes\nasync-await: 652 bytes\n</code></pre>\n\n<p>The cost of <code>async-await</code> is exactly 140 bytes higher than <code>withContext</code>, the number we got as the memory weight of one coroutine. This is just a fraction of the complete cost of setting up the <code>CommonPool</code> context.</p>\n\n<p>If performance/memory impact was the only criterion to decide between <code>withContext</code> and <code>async-await</code>, the conclusion would have to be that there's no relevant difference between them in 99% of real use cases.</p>\n\n<p>The real reason is that <code>withContext()</code> a simpler and more direct API, especially in terms of exception handling: </p>\n\n<ul>\n<li>An exception that isn't handled within <code>async { ... }</code> causes its parent job to get cancelled. This happens regardless of how you handle exceptions from the matching <code>await()</code>. If you haven't prepared a <code>coroutineScope</code> for it, it may bring down your entire application.</li>\n<li>An exception not handled within <code>withContext { ... }</code> simply gets thrown by the <code>withContext</code> call, you handle it just like any other.</li>\n</ul>\n\n<p><code>withContext</code> also happens to be optimized, leveraging the fact that you're suspending the parent coroutine and awaiting on the child, but that's just an added bonus.</p>\n\n<p><code>async-await</code> should be reserved for those cases where you actually want concurrency, so that you launch several coroutines in the background and only then await on them. In short:</p>\n\n<ul>\n<li><code>async-await-async-await</code> &mdash; don't do that, use <code>withContext-withContext</code></li>\n<li><code>async-async-await-await</code> &mdash; that's the way to use it.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1581703055, "post_id": 58167626, "comment_id": 106537849, "body": "Are both <code>async</code> and <code>withContext</code> blocking in a suspend scope?"}, {"owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 3, "creation_date": 1582013007, "post_id": 58167626, "comment_id": 106619549, "body": "@IgorGanapolsky If you are talking about blocking of main thread, <code>async</code> and <code>withContext</code> won&#39;t block the main thread, they will only suspend the body of the coroutine while some long running task is running and waiting for a result. For more info and example see this article on Medium: <a href=\"https://proandroiddev.com/async-operations-with-kotlin-coroutines-part-1-c51cc581ad33\" rel=\"nofollow noreferrer\">Async Operations with Kotlin Coroutines</a>."}], "tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 16, "last_activity_date": 1569845290, "creation_date": 1569845290, "answer_id": 58167626, "question_id": 50230466, "link": "https://stackoverflow.com/questions/50230466/kotlin-withcontext-vs-async-await/58167626#58167626", "title": "Kotlin: withContext() vs Async-await", "body": "<p>When in doubt, remember this like a rule of thumb:</p>\n\n<ol>\n<li><p>If multiple tasks have to happen in parallel and final result depends on completion of all of them, then use <code>async</code>.</p></li>\n<li><p>For returning the result of a single task, use <code>withContext</code>.</p></li>\n</ol>\n"}], "owner": {"reputation": 4609, "user_id": 1699956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oBr6e.jpg?s=128&g=1", "display_name": "Mangat Rai Modi", "link": "https://stackoverflow.com/users/1699956/mangat-rai-modi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25828, "favorite_count": 38, "accepted_answer_id": 50231191, "answer_count": 3, "score": 98, "last_activity_date": 1597863713, "creation_date": 1525772156, "last_edit_date": 1597863713, "question_id": 50230466, "link": "https://stackoverflow.com/questions/50230466/kotlin-withcontext-vs-async-await", "title": "Kotlin: withContext() vs Async-await", "body": "<p>I have been reading <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"noreferrer\">kotlin docs</a>, and if I understood correctly the two Kotlin functions work as follows :</p>\n<ol>\n<li><code>withContext(context)</code>: switches the context of the current coroutine, when the given block executes, the coroutine switches back to previous context.</li>\n<li><code>async(context)</code>: Starts a new coroutine in the given context and if we call <code>.await()</code> on the returned <code>Deferred</code> task, it will suspends the calling coroutine and resume when the block executing inside the spawned coroutine returns.</li>\n</ol>\n<p>Now for the following two versions of <code>code</code> :</p>\n<p><strong>Version1:</strong></p>\n<pre><code>  launch(){\n    block1()\n    val returned = async(context){\n      block2()\n    }.await()\n    block3()\n  }\n</code></pre>\n<p><strong>Version2:</strong></p>\n<pre><code>  launch(){\n    block1()\n     val returned = withContext(context){\n      block2()\n    }\n    block3()\n  }\n</code></pre>\n<ol>\n<li>In both versions block1(), block3() execute in default context(commonpool?) where as block2() executes in the given context.</li>\n<li>The overall execution is synchronous with block1() -&gt; block2() -&gt; block3() order.</li>\n<li>Only difference I see is that version1 creates another coroutine, where as version2 executes only one coroutine while switching context.</li>\n</ol>\n<p>My questions are :</p>\n<ol>\n<li><p>Isn't it always better to use <code>withContext</code> rather than <code>async-await</code> as it is functionally similar, but doesn't create another coroutine. Large numbers of coroutines, although lightweight, could still be a problem in demanding applications.</p>\n</li>\n<li><p>Is there a case <code>async-await</code> is more preferable to <code>withContext</code>?</p>\n</li>\n</ol>\n<p><strong>Update:</strong>\n<a href=\"https://blog.jetbrains.com/kotlin/2018/06/kotlin-1-2-50-is-out/\" rel=\"noreferrer\">Kotlin 1.2.50</a> now has a code inspection where it can convert <code>async(ctx) { }.await() to withContext(ctx) { }</code>.</p>\n"}, {"tags": ["android", "null", "kotlin", "non-nullable"], "comments": [{"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1525769449, "post_id": 50229542, "comment_id": 87476325, "body": "it is working or not."}, {"owner": {"reputation": 268, "user_id": 9543418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3yLG.jpg?s=128&g=1", "display_name": "Muhammed Haris", "link": "https://stackoverflow.com/users/9543418/muhammed-haris"}, "edited": false, "score": 0, "creation_date": 1525769571, "post_id": 50229542, "comment_id": 87476411, "body": "working,,,, but i need to know why android studio required to add non null even safety is added."}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1525770275, "post_id": 50229542, "comment_id": 87476888, "body": "@MuhammedHaris Safe approach."}, {"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 1, "creation_date": 1525770364, "post_id": 50229542, "comment_id": 87476948, "body": "&quot;if&quot; only takes true or false, so your expression inside if statement can be null but it should be strictly true or false hence the assertion"}], "answers": [{"comments": [{"owner": {"reputation": 268, "user_id": 9543418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3yLG.jpg?s=128&g=1", "display_name": "Muhammed Haris", "link": "https://stackoverflow.com/users/9543418/muhammed-haris"}, "edited": false, "score": 0, "creation_date": 1525770044, "post_id": 50229732, "comment_id": 87476734, "body": "ok,,,but in my question (it?.isNotEmpty()!!).here added both ? and !!,,why android studio required to add both ."}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "reply_to_user": {"reputation": 268, "user_id": 9543418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3yLG.jpg?s=128&g=1", "display_name": "Muhammed Haris", "link": "https://stackoverflow.com/users/9543418/muhammed-haris"}, "edited": false, "score": 0, "creation_date": 1525770091, "post_id": 50229732, "comment_id": 87476771, "body": "Because the first part, it?.isNotEmpty(), produces Boolean or null (Boolean?). To make it Boolean, you add !!."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 268, "user_id": 9543418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3yLG.jpg?s=128&g=1", "display_name": "Muhammed Haris", "link": "https://stackoverflow.com/users/9543418/muhammed-haris"}, "edited": false, "score": 0, "creation_date": 1525770620, "post_id": 50229732, "comment_id": 87477095, "body": "@MuhammedHaris the <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html\" rel=\"nofollow noreferrer\">style guide</a> suggests using <code>if(it?.isNotEmpty() == true)</code>"}], "tags": [], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "is_accepted": true, "score": 3, "last_activity_date": 1525769769, "creation_date": 1525769769, "answer_id": 50229732, "question_id": 50229542, "link": "https://stackoverflow.com/questions/50229542/why-android-studio-required-to-add-non-null-asserted-call-even-after-safety/50229732#50229732", "title": "why android studio required to Add non null Asserted(!!) call even after safety is added in Kotlin", "body": "<p>Your <code>it</code> is nullable (hence the <code>?</code> after it). So the statement becomes, in plain English, \"if <code>it</code> is not null, is it not empty?\", which is a Boolean. However, what if <code>it</code> is null?</p>\n\n<p>Your evaluation of <code>it?.isNotEmpty()</code> produces a <code>Boolean?</code>, which is not accepted in an if.</p>\n\n<p>So one possible solution is to say \"I know it won't be null at that time\" and so replace with <code>it!!.isNotEmpty()</code>.</p>\n\n<p>Another option is to break down your if statement furthermore, like such :</p>\n\n<pre><code>if (it != null &amp;&amp; it.isNotEmpty())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 652, "user_id": 3280437, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iMe5X.gif?s=128&g=1", "display_name": "Mykhailo Yuzheka", "link": "https://stackoverflow.com/users/3280437/mykhailo-yuzheka"}, "is_accepted": false, "score": 1, "last_activity_date": 1525782646, "creation_date": 1525782646, "answer_id": 50233704, "question_id": 50229542, "link": "https://stackoverflow.com/questions/50229542/why-android-studio-required-to-add-non-null-asserted-call-even-after-safety/50233704#50233704", "title": "why android studio required to Add non null Asserted(!!) call even after safety is added in Kotlin", "body": "<p>You can check it like this</p>\n\n<pre><code>if (it?.isNotEmpty()==true) {\n    //do your work here\n}\n</code></pre>\n"}], "owner": {"reputation": 268, "user_id": 9543418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3yLG.jpg?s=128&g=1", "display_name": "Muhammed Haris", "link": "https://stackoverflow.com/users/9543418/muhammed-haris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 50229732, "answer_count": 2, "score": -1, "last_activity_date": 1525783613, "creation_date": 1525769237, "last_edit_date": 1525770669, "question_id": 50229542, "link": "https://stackoverflow.com/questions/50229542/why-android-studio-required-to-add-non-null-asserted-call-even-after-safety", "title": "why android studio required to Add non null Asserted(!!) call even after safety is added in Kotlin", "body": "<p><a href=\"https://i.stack.imgur.com/3iSwU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3iSwU.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>it</code> denote List of Object in the Image.\nhere checking list is not empty. but showing an error to add (<code>?</code>) safety .\nbut again show an error to add non null Asserted(<code>!!</code>) even add safety.<br>\nerror can fix only after add this.</p>\n\n<pre><code> if (it?.isNotEmpty()!!) {\n    //do your work here\n }\n</code></pre>\n\n<p>why android studio required to Add non null Asserted (<code>!!</code>) call .</p>\n"}, {"tags": ["java", "android", "kotlin", "telephonymanager", "android-8.1-oreo"], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1525910751, "creation_date": 1525768874, "last_edit_date": 1525856504, "question_id": 50229428, "link": "https://stackoverflow.com/questions/50229428/broadcastreceiver-for-monitoring-phone-call-state-does-not-work-properly-for-and", "title": "BroadcastReceiver for monitoring phone call state does not work properly for Android O API 27", "body": "<p>I have a broadcast receiver class which identifies phone call states, (outgoing, incoming, <code>CALL_STATE_OFFHOOK</code>, <code>CALL_STATE_IDLE</code> ) it works fine for android N and for lower versions, but for Android O, receiver can't identify if call has been end, there is no <code>CALL_STATE_IDLE</code> state, but identifies outgoing, incoming and <code>CALL_STATE_OFFHOOK</code> states correctly</p>\n\n<pre><code>private fun startListening(context: Context) {\n    val telManager = context.getSystemService(Context.TELEPHONY_SERVICE) as? TelephonyManager\n    telManager?.listen(phoneListener, PhoneStateListener.LISTEN_CALL_STATE)\n}\n\n\n    private val phoneListener = object : PhoneStateListener() {\n    override fun onCallStateChanged(state: Int, incomingNumber: String) {\n        Log.e(\"CALL_STATE\", \"calling number $incomingNumber\")\n        try {\n            when (state) {\n                TelephonyManager.CALL_STATE_RINGING -&gt; {\n                    Log.e(\"CALL_STATE\", \"CALL_STATE_RINGING\")\n                }\n                TelephonyManager.CALL_STATE_OFFHOOK -&gt; {\n                    Log.e(\"CALL_STATE\", \"CALL_STATE_OFFHOOK\")\n                }\n\n                TelephonyManager.CALL_STATE_IDLE -&gt; {\n                    Log.e(\"CALL_STATE\", \"CALL_STATE_IDLE\")\n                }\n                else -&gt; {\n                    Log.e(\"CALL_STATE\", \"CALL_STATE_IDLE\")\n                }\n            }\n        } catch (ex: Exception) {\n            ex.printStackTrace()\n        }\n\n    }\n}\n</code></pre>\n\n<p>Manifest.xml</p>\n\n<pre><code>    &lt;receiver android:name=\".MyPhoneCallStateReceiver\"&gt;\n        &lt;intent-filter android:priority=\"989999\"&gt;\n            &lt;action android:name=\"android.intent.action.PHONE_STATE\" /&gt;\n            &lt;action android:name=\"android.intent.action.NEW_OUTGOING_CALL\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n\n<p>Also what I have found is that, if call is incoming, it correctly identifies when <code>CALL_STATE_IDLE</code>  state fires</p>\n\n<p>What I'm missing?</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1525778002, "post_id": 50228649, "comment_id": 87481660, "body": "I&#39;m struggling, I keep getting <code>Calls to static methods in Java interfaces are prohibited in JVM target 1.6. Recompile with &#39;-jvm-target 1.8&#39; </code> on <code>.range()</code>.."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1525782363, "post_id": 50228649, "comment_id": 87484547, "body": "You must set up your build environment. Currently you are set up to target Java 6."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 1, "last_activity_date": 1525787533, "last_edit_date": 1525787533, "creation_date": 1525766062, "answer_id": 50228649, "question_id": 50228299, "link": "https://stackoverflow.com/questions/50228299/how-can-i-implement-coroutines-for-a-parallel-task/50228649#50228649", "title": "How can I implement coroutines for a parallel task", "body": "<p>Instead of coroutines you should consider the parallel computation engine built into the JDK: <code>java.util.stream</code>. What you have here is an embarrassingly parallelizable task, a perfect use case for it.</p>\n\n<p>I'd use something along these lines:</p>\n\n<pre><code>IntStream.range(0, extent.x)\n        .boxed()\n        .parallel()\n        .flatMap { x -&gt;\n            IntStream.range(0, extent.y).boxed().flatMap { y -&gt;\n                IntStream.range(0, extent.z).mapToObj { z -&gt;\n                    Vec(x, y, z)\n                }\n            }\n        }\n        .forEach { vec -&gt;\n            data[vecToArrayIndex(vec)] = computeValue(vec)\n        }\n</code></pre>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 50228649, "answer_count": 1, "score": 0, "last_activity_date": 1552981128, "creation_date": 1525764915, "last_edit_date": 1552981128, "question_id": 50228299, "link": "https://stackoverflow.com/questions/50228299/how-can-i-implement-coroutines-for-a-parallel-task", "title": "How can I implement coroutines for a parallel task", "body": "<p>So, I have <a href=\"https://github.com/java-opengl-labs/Vulkan/blob/master/src/main/kotlin/vulkan/basics/10%20Texture%203d.kt#L280-L294\" rel=\"nofollow noreferrer\">this piece of code</a>:</p>\n\n<pre><code>for (z in 0 until texture.extent.z) {\n    println(z)\n    for (y in 0 until texture.extent.y)\n        for (x in 0 until texture.extent.x) {\n\n            val v = Vec3(x, y, z) / texture.extent\n            var n = when {\n                FRACTAL -&gt; FractalNoise().noise(v * noiseScale)\n                else -&gt; 20f * glm.perlin(v)\n            }\n            n -= glm.floor(n)\n\n            data[x + y * texture.extent.x + z * texture.extent.x * texture.extent.y] = glm.floor(n * 255).b\n        }\n}\n</code></pre>\n\n<p>That takes over 4m on the jvm. The <a href=\"https://github.com/SaschaWillems/Vulkan/blob/master/examples/texture3d/texture3d.cpp#L331-L352\" rel=\"nofollow noreferrer\">original sample</a> in cpp uses OpenMp to accelerate the calculation. \nI've heard about coroutines and I hope I could take advantage of them in this case.</p>\n\n<p>I tried first to wrap the whole <code>for</code>s into a <code>runBlocking</code> because I do want that all the coroutines have finished before I move on.</p>\n\n<pre><code>runBlocking {\n\n    for (z in 0 until texture.extent.z) {\n        println(z)\n        for (y in 0 until texture.extent.y)\n            for (x in 0 until texture.extent.x) {\n                launch {\n                    val v = Vec3(x, y, z) / texture.extent\n                    var n = when {\n                        FRACTAL -&gt; FractalNoise().noise(v * noiseScale)\n                        else -&gt; 20f * glm.perlin(v)\n                    }\n                    n -= glm.floor(n)\n\n                    data[x + y * texture.extent.x + z * texture.extent.x * texture.extent.y] = glm.floor(n * 255).b\n                }\n            }\n    }\n}\n</code></pre>\n\n<p>But this is throwing different thread errors plus a final jvm crash</p>\n\n<pre><code>[thread 27624 also had an error][thread 23784 also had an error]# A fatal error has been detected by the Java Runtime Environment:\n\n\n#\n[thread 27624 also had an error][thread 23784 also had an error]# A fatal error has been detected by the Java Runtime Environment:\n\n\n#\n#  [thread 14004 also had an error]EXCEPTION_ACCESS_VIOLATION\n[thread 32652 also had an error] (0xc0000005)[thread 32616 also had an error]\n at pc=0x0000000002d2fd50\n, pid=23452[thread 21264 also had an error], tid=0x0000000000007b68\n\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_144-b01) (build 1.8.0_144-b01)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.144-b01 mixed mode windows-amd64 compressed oops)\n# Problematic frame:\n# J 1431 C2 java.util.concurrent.ForkJoinPool$WorkQueue.runTask(Ljava/util/concurrent/ForkJoinTask;)V (86 bytes) @ 0x0000000002d2fd50 [0x0000000002d2f100+0xc50]\n#\n# Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# C:\\Users\\gBarbieri\\IdeaProjects\\Vulkan\\hs_err_pid23452.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n#\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I tried also to collect all the <code>job</code>s into an arrayList and <code>join()</code> them at the end, but without success..</p>\n\n<p>May coroutine be used for a parallel task like this one?\nIf yes, what am I doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "illegalstateexception", "fragmenttransaction", "onsaveinstancestate"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 9257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee99aa5cde2a03188687f6a1976b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "user9257465", "link": "https://stackoverflow.com/users/9257465/user9257465"}, "edited": false, "score": 0, "creation_date": 1525765908, "post_id": 50228333, "comment_id": 87474288, "body": "Yes I&#39;m storing the activity state and the fragment instance to be restored in <code>onRestoreInstanceState()</code>. I need to do that so I don&#39;t want to use <code>commitAllowingStateLoss()</code>. Simply I want to keep my code as it is and as you can see above in my question, but I want to know if there&#39;s the possibility I explained above."}, {"owner": {"reputation": 348, "user_id": 8017588, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p4o3j3WV-2M/AAAAAAAAAAI/AAAAAAAAs4Q/n2nP80Z3Ldw/photo.jpg?sz=128", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/8017588/ganesh"}, "reply_to_user": {"reputation": 61, "user_id": 9257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee99aa5cde2a03188687f6a1976b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "user9257465", "link": "https://stackoverflow.com/users/9257465/user9257465"}, "edited": false, "score": 0, "creation_date": 1525766467, "post_id": 50228333, "comment_id": 87474579, "body": "I found <code>executePendingTransactions();</code> for FragmentManager, But not sure how to implement it, You can read about it &amp; see if it&#39;s relevent. Otherwise as @npace said, Use  a reactive Pattern, which I ended up using <code>commitAllowingStateLoss()</code>"}, {"owner": {"reputation": 61, "user_id": 9257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee99aa5cde2a03188687f6a1976b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "user9257465", "link": "https://stackoverflow.com/users/9257465/user9257465"}, "edited": false, "score": 0, "creation_date": 1525768152, "post_id": 50228333, "comment_id": 87475541, "body": "I read your answer and I look for more details about <code>executePendingTransactions()</code>. I also found this answer [<a href=\"https://stackoverflow.com/questions/22910536/is-executependingtransactions-always-necessary]\" title=\"is executependingtransactions always necessary%5d\">stackoverflow.com/questions/22910536/&hellip;</a> and I&#39;m not understanding if using <code>executePendingTransactions()</code> instead of <code>commit()</code> will solve my problem, because when the answer says &quot;all callbacks and other related behavior will be done from within this call&quot;, I don&#39;t understand if there&#39;s still the possibility that <code>onSaveInstanceState()</code> could happen before the pending transaction is being committed. Do you know more?"}, {"owner": {"reputation": 348, "user_id": 8017588, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p4o3j3WV-2M/AAAAAAAAAAI/AAAAAAAAs4Q/n2nP80Z3Ldw/photo.jpg?sz=128", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/8017588/ganesh"}, "reply_to_user": {"reputation": 61, "user_id": 9257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee99aa5cde2a03188687f6a1976b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "user9257465", "link": "https://stackoverflow.com/users/9257465/user9257465"}, "edited": false, "score": 0, "creation_date": 1525768442, "post_id": 50228333, "comment_id": 87475706, "body": "Nope, I guess I&#39;ve to look into that, but as I said, I didn&#39;t find a solution &amp; I was already using MVVM, I didn&#39;t store any state, So, I ended up using commitAllowingStateLoss(). Sorry, but that&#39;s above my current knowledge."}], "tags": [], "owner": {"reputation": 348, "user_id": 8017588, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p4o3j3WV-2M/AAAAAAAAAAI/AAAAAAAAs4Q/n2nP80Z3Ldw/photo.jpg?sz=128", "display_name": "Ganesh", "link": "https://stackoverflow.com/users/8017588/ganesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1525765014, "creation_date": 1525765014, "answer_id": 50228333, "question_id": 50228131, "link": "https://stackoverflow.com/questions/50228131/commit-fragment-transaction-after-activity-onsaveinstancestate-has-been-call/50228333#50228333", "title": "commit() fragment transaction after activity.onSaveInstanceState() has been called", "body": "<p>Are you storing anything when you're changing states?\nIf not, then you can try <code>commitAllowingStateLoss()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 9257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee99aa5cde2a03188687f6a1976b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "user9257465", "link": "https://stackoverflow.com/users/9257465/user9257465"}, "edited": false, "score": 0, "creation_date": 1525767056, "post_id": 50228636, "comment_id": 87474924, "body": "To be clear, my method is declared inside the parent <code>activity</code> and is called when a <code>coroutine Job</code> (started by clicking a button inside fragment 1) ends and returns to the UI thread. So if <code>onSaveInstanceState()</code> would not be able to interrupt my method I do keep my code as it is. But I&#39;ll also take a look to the MVVM pattern you&#39;ve suggested. Thank you."}], "tags": [], "owner": {"reputation": 4010, "user_id": 1958659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/70540a61e67f7f3042c6930bd9074b1b?s=128&d=identicon&r=PG", "display_name": "npace", "link": "https://stackoverflow.com/users/1958659/npace"}, "is_accepted": false, "score": 0, "last_activity_date": 1525766033, "creation_date": 1525766033, "answer_id": 50228636, "question_id": 50228131, "link": "https://stackoverflow.com/questions/50228131/commit-fragment-transaction-after-activity-onsaveinstancestate-has-been-call/50228636#50228636", "title": "commit() fragment transaction after activity.onSaveInstanceState() has been called", "body": "<p><code>onSaveInstanceState()</code> would not be able to interrupt your method if your method is being called on the main (UI) thread.</p>\n\n<p>Another approach that tends to make your life easier is to not use callbacks, but rather adopt a reactive pattern like MVVM. In that pattern, your <code>Activity</code> or <code>Fragment</code> subscribe to an observable when they are interested in e.g. network responses and unsubscribe typically in the <code>onStop</code> or <code>onPause</code> lifecycle callbacks so that your methods never get called after <code>onSaveInstanceState</code>. For a good starting place, <a href=\"https://developer.android.com/topic/libraries/architecture/livedata\" rel=\"nofollow noreferrer\">check the official LiveData overview</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 469, "user_id": 4032259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3540caabccbddee929967438493c9614?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/4032259/max"}, "is_accepted": false, "score": 1, "last_activity_date": 1564404687, "creation_date": 1564404687, "answer_id": 57254264, "question_id": 50228131, "link": "https://stackoverflow.com/questions/50228131/commit-fragment-transaction-after-activity-onsaveinstancestate-has-been-call/57254264#57254264", "title": "commit() fragment transaction after activity.onSaveInstanceState() has been called", "body": "<p>Its a bit late but as of API 26+ we can use following to check if we need to do a normal commit or commitAllowingStateLoss().</p>\n\n<pre><code>getSupportFragmentManager().isStateSaved();\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fee99aa5cde2a03188687f6a1976b0dc?s=128&d=identicon&r=PG&f=1", "display_name": "user9257465", "link": "https://stackoverflow.com/users/9257465/user9257465"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1564404687, "creation_date": 1525764372, "question_id": 50228131, "link": "https://stackoverflow.com/questions/50228131/commit-fragment-transaction-after-activity-onsaveinstancestate-has-been-call", "title": "commit() fragment transaction after activity.onSaveInstanceState() has been called", "body": "<p>In my application I have an <code>Activity</code> that holds 3 <code>Fragments</code>. The very first time the <code>Activity</code> is created, <code>Fragment 1</code> is displayed. Next, all fragment transactions will be executed after a network operation. For example: <code>Fragment 1</code> has a <code>button</code> to make a request to the server and when the result is ready, <code>Fragment 1</code> uses a <code>listener</code> to call a method defined inside the parent <code>activity</code>, to replace <code>fragment 1</code> with <code>fragment 2</code>.\nThis works fine, except when the parent <code>activity</code> receives the <code>callback</code> after its state has been saved by <code>onSaveInstanceState()</code>. An <code>IllegalStateException</code> is thrown.</p>\n\n<p>I've read some answers about this problem, for example <a href=\"https://stackoverflow.com/questions/42688194/commitallowingstateloss-and-commit-fragment\">this post</a> and I understood why this exception happens thanks to <a href=\"http://www.androiddesignpatterns.com/2013/08/fragment-transaction-commit-state-loss.html\" rel=\"nofollow noreferrer\">this blog</a>.</p>\n\n<p>I also take an example that I found <a href=\"https://medium.com/@bendaniel10/a-possible-way-to-safely-perform-fragment-transactions-after-activity-onsaveinstancestate-651d4bcb410b\" rel=\"nofollow noreferrer\">here</a> to try to solve the problem. This post suggests to always check if the <code>activity</code> is running before call <code>commit()</code>. So I declared a <code>Boolean</code> variable in the parent <code>activity</code> and I put its value to <code>false</code> in <code>onPause()</code> and to <code>true</code> in <code>onResume()</code>.</p>\n\n<p>The parent activity callback called after network operations has been completed is something like this piece of <code>Kotlin</code> code, where <code>next</code> is the number of the replacing <code>fragment</code>:</p>\n\n<pre><code>private fun changeFragment(next:Int){\n // get the instance of the next fragment\n  val currentFragment = createFragment(next)\n // do other stuff here\n\n if(isRunning){\n   // prepare a replace fragment transaction and then commit\n\n   ft.commit()\n\n }else{\n\n   // store this transaction to be executed when the activity state become running\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This code is working fine and now I'm not getting the <code>Exception</code> anymore, but my question is: it's possible that <code>onSaveInstanceState()</code> is called after I check <code>if(isRunning)</code> and before I call <code>ft.commit()</code>, so that the commit() happens after the activity state has been saved causing <code>IllegalStateException</code> again?</p>\n\n<p>I'm not sure if <code>onSaveInstanceState()</code> could interrupt my <code>changeFragment()</code> method at any point in time. Is it possible?</p>\n\n<p>If the possibility exists and my code may be interrupted between <code>if(isRunning)</code> and <code>ft.commit()</code>, what I can do?\nIt could be solved adding a <code>try{}catch(){}</code> block like this?:</p>\n\n<pre><code>if(isRunning){\n  try{\n    ft.commit()\n  }catch(ie:IllegalStateException){\n    // store the transaction and execute it when the activity become running\n  }\n}else{\n // store the transaction and execute it when the activity become running\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "microservices", "simulator", "netflix-eureka"], "answers": [{"comments": [{"owner": {"reputation": 1505, "user_id": 4138572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ReX3s.jpg?s=128&g=1", "display_name": "Vivek Gupta", "link": "https://stackoverflow.com/users/4138572/vivek-gupta"}, "edited": false, "score": 0, "creation_date": 1525763145, "post_id": 50227690, "comment_id": 87472727, "body": "Thanks for the reply Cilap, I understand this could be done by storing response and serving them when required, but my preference would be if there is any library or application built specially for this purpose already?"}, {"owner": {"reputation": 1753, "user_id": 3880225, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/y1TtW.jpg?s=128&g=1", "display_name": "cilap", "link": "https://stackoverflow.com/users/3880225/cilap"}, "reply_to_user": {"reputation": 1505, "user_id": 4138572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ReX3s.jpg?s=128&g=1", "display_name": "Vivek Gupta", "link": "https://stackoverflow.com/users/4138572/vivek-gupta"}, "edited": false, "score": 0, "creation_date": 1526034491, "post_id": 50227690, "comment_id": 87596565, "body": "@VivekGupta I cannot assume there is a lib for such thing. Because the lib would be so generic that you can integrate any service type  and any data type. What you can use is a restassured or similar for implementing a REST api test. But this is a test approach and not a mocking approach. Anyway I am curious if anyone knows such a lib, learning every day..."}], "tags": [], "owner": {"reputation": 1753, "user_id": 3880225, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/y1TtW.jpg?s=128&g=1", "display_name": "cilap", "link": "https://stackoverflow.com/users/3880225/cilap"}, "is_accepted": false, "score": 0, "last_activity_date": 1525762760, "creation_date": 1525762760, "answer_id": 50227690, "question_id": 50227462, "link": "https://stackoverflow.com/questions/50227462/self-updating-simulator-for-a-web-service-suite/50227690#50227690", "title": "Self Updating Simulator for a Web-service Suite", "body": "<p>you should check mockito or any other mock framework\njust record and serialize the result e.g. with xstream and respond with the deserialized xstream result and modify it slightly by your needs.</p>\n\n<p>This is the quickest solution for mocking remote services.</p>\n"}], "owner": {"reputation": 1505, "user_id": 4138572, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ReX3s.jpg?s=128&g=1", "display_name": "Vivek Gupta", "link": "https://stackoverflow.com/users/4138572/vivek-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541267517, "creation_date": 1525761947, "last_edit_date": 1541267517, "question_id": 50227462, "link": "https://stackoverflow.com/questions/50227462/self-updating-simulator-for-a-web-service-suite", "title": "Self Updating Simulator for a Web-service Suite", "body": "<p>I am presently working on an application which has an external dependency on micro-services, there are around 25 microservices, which are administrated via a eureka instance, every microservice has around 3-4 controllers.</p>\n\n<p>This is an external dependency for me and blocks my work if it goes down, also I am unaware of the code ad logics for these microservices. </p>\n\n<p>Currently, I am looking for a solution which can act as a simulator for these services in there absence, some application which can intercept and log, all the request and response to/from the external services, and in absence of these services it can match the last response to a requests from log and provide that response. </p>\n"}, {"tags": ["android", "kotlin", "android-transitions", "shared-element-transition"], "answers": [{"tags": [], "owner": {"reputation": 652, "user_id": 3280437, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/iMe5X.gif?s=128&g=1", "display_name": "Mykhailo Yuzheka", "link": "https://stackoverflow.com/users/3280437/mykhailo-yuzheka"}, "is_accepted": false, "score": 0, "last_activity_date": 1525783217, "creation_date": 1525783217, "answer_id": 50233887, "question_id": 50227162, "link": "https://stackoverflow.com/questions/50227162/asynclayoutinflater-with-sharedelementtransition/50233887#50233887", "title": "AsyncLayoutInflater with SharedElementTransition", "body": "<p>Why are you using AsyncLayoutInflater?</p>\n\n<p>If there is need in it then I think the best way is to make view with element that will be animated by transition and container where your layout will be inflated asynchronously (if async is needed) and inflate it synchronously. After that start async inflation of the rest of the view</p>\n"}], "owner": {"reputation": 2795, "user_id": 6128708, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/11f72cab3fd196b09c66334c8f552089?s=128&d=identicon&r=PG&f=1", "display_name": "Ruslan Leshchenko", "link": "https://stackoverflow.com/users/6128708/ruslan-leshchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525783217, "creation_date": 1525760594, "last_edit_date": 1525771762, "question_id": 50227162, "link": "https://stackoverflow.com/questions/50227162/asynclayoutinflater-with-sharedelementtransition", "title": "AsyncLayoutInflater with SharedElementTransition", "body": "<p>I want to implement AsyncLayoutInflater alongside SharedElementTransition in fragments. Made it like below:</p>\n\n<pre><code> asyncLayoutInflater.inflate(R.layout.fragment, view as ViewGroup, { inflatedView, _, _ -&gt;\n        val binding = FragmentBinding.bind(inflatedView)\n        binding.viewModel = viewModel\n        view.addView(binding.root)\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            binding.myImageView.transitionName = entity.name\n        }\n        startPostponedEnterTransition()\n        displayInfo()\n    })\n</code></pre>\n\n<p>But it doesn't work. Does someone know how I can implement it? Is it even possible?\nThanks.</p>\n"}, {"tags": ["java", "android", "kotlin", "popupwindow"], "comments": [{"owner": {"reputation": 1356, "user_id": 6016830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LZpUJ.jpg?s=128&g=1", "display_name": "buzzingsilently", "link": "https://stackoverflow.com/users/6016830/buzzingsilently"}, "edited": false, "score": 0, "creation_date": 1525759887, "post_id": 50226903, "comment_id": 87471160, "body": "Is this property can help <code>android:windowSoftInputMode=&quot;adjustPan|adjustResize&quot;</code>?"}, {"owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "reply_to_user": {"reputation": 1356, "user_id": 6016830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LZpUJ.jpg?s=128&g=1", "display_name": "buzzingsilently", "link": "https://stackoverflow.com/users/6016830/buzzingsilently"}, "edited": false, "score": 0, "creation_date": 1525759950, "post_id": 50226903, "comment_id": 87471184, "body": "@ buzzingsilently: where I can set?"}, {"owner": {"reputation": 1356, "user_id": 6016830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LZpUJ.jpg?s=128&g=1", "display_name": "buzzingsilently", "link": "https://stackoverflow.com/users/6016830/buzzingsilently"}, "edited": false, "score": 0, "creation_date": 1525759988, "post_id": 50226903, "comment_id": 87471198, "body": "Activity property of AndroidManifest..."}, {"owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "reply_to_user": {"reputation": 1356, "user_id": 6016830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/LZpUJ.jpg?s=128&g=1", "display_name": "buzzingsilently", "link": "https://stackoverflow.com/users/6016830/buzzingsilently"}, "edited": false, "score": 0, "creation_date": 1525760545, "post_id": 50226903, "comment_id": 87471461, "body": "No, the popup still overlap"}], "answers": [{"comments": [{"owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 0, "creation_date": 1525764545, "post_id": 50227939, "comment_id": 87473540, "body": "I think is very weird if a user typing then the keyboard is hidden, it just suggests so that user not typing so much, just click the suggest, but if a user still want to type, it&#39;s Okay"}, {"owner": {"reputation": 1577, "user_id": 4233180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXCjt68DFoA/AAAAAAAAAAI/AAAAAAAAACs/hqpMFb_4--c/photo.jpg?sz=128", "display_name": "Supriya", "link": "https://stackoverflow.com/users/4233180/supriya"}, "reply_to_user": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 0, "creation_date": 1525782197, "post_id": 50227939, "comment_id": 87484443, "body": "The keyboard would not be hidden when the user is typing per se, but once the user has finished typing. That way, just as the user is finished typing, the keyboard will be hidden and the popup can be shown.  You could also add a delay for the keyboard to be hidden, if you like."}], "tags": [], "owner": {"reputation": 1577, "user_id": 4233180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXCjt68DFoA/AAAAAAAAAAI/AAAAAAAAACs/hqpMFb_4--c/photo.jpg?sz=128", "display_name": "Supriya", "link": "https://stackoverflow.com/users/4233180/supriya"}, "is_accepted": false, "score": 0, "last_activity_date": 1525763646, "creation_date": 1525763646, "answer_id": 50227939, "question_id": 50226903, "link": "https://stackoverflow.com/questions/50226903/popupwindow-overlap-with-virtual-keyboard/50227939#50227939", "title": "PopupWindow Overlap With Virtual Keyboard", "body": "<p>You can hide the soft keyboard in the <code>afterTextChanged</code> method, so that the keyboard is always hidden when your popup appears.</p>\n\n<p>Within the <code>afterTextChanged</code> method, add the following to hide the keyboard: </p>\n\n<pre><code>val imm = getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\nimm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0) //Hide soft keyboard.\n</code></pre>\n"}], "owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525769778, "creation_date": 1525759513, "last_edit_date": 1525769778, "question_id": 50226903, "link": "https://stackoverflow.com/questions/50226903/popupwindow-overlap-with-virtual-keyboard", "title": "PopupWindow Overlap With Virtual Keyboard", "body": "<p>I have some problem with showing <code>PopupWindow</code> which is the popup overlaps with the keyboard. here my result</p>\n\n<p><a href=\"https://i.stack.imgur.com/O8xaQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O8xaQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here my popup code:</p>\n\n<pre><code>class NoteHintList(val view: View, val listener: MenuDetailFragment.OnItemListClickListener?){\n    var noteHintList: List&lt;String&gt; = ArrayList&lt;String&gt;()\n    val popupWindow = PopupWindow(view.context)\n\n    fun setNoteList(noteHint: List&lt;String&gt;){\n        this.noteHintList = noteHint\n    }\n\n    // ============ TODO: Pop up note hint ================================================================\n    fun popupWindow(): PopupWindow {\n        val popUpContents = arrayOfNulls&lt;String&gt;(noteHintList.size)\n        ArrayList(noteHintList).toArray(popUpContents)\n\n        val listView = ListView(view.context)\n        listView.adapter = noteHintAdapter(popUpContents)\n\n        // set the item click listener\n        listView.setOnItemClickListener { parent, view, position, id -&gt;\n            listener!!.onItemListClickListener(listView.getItemAtPosition(position).toString())\n        }\n\n//        val params: LinearLayout.LayoutParams = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n//        params.setMargins(16,0,16,0)\n\n\n        popupWindow.setFocusable(false)\n        popupWindow.contentView = view\n//        popupWindow.setWidth(WindowManager.LayoutParams.MATCH_PARENT - 32)\n//        popupWindow.setHeight(WindowManager.LayoutParams.WRAP_CONTENT)\n        popupWindow.setContentView(listView)\n\n        return popupWindow\n    }\n\n    // ============ TODO: Popup list adapter for pop up ===================================================\n    private fun noteHintAdapter(array: Array&lt;String?&gt;): ArrayAdapter&lt;Any&gt; {\n\n        return object : ArrayAdapter&lt;Any&gt;(view.context, android.R.layout.simple_list_item_1, array) {\n\n            override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n\n                // setting the ID and text for every items in the list\n\n                val text = getItem(position)!!.toString()\n                // visual settings for the list item\n                val listItem = TextView(context)\n                listItem.setText(text)\n                listItem.tag = position\n                listItem.textSize = 22f\n                listItem.setPadding(10, 10, 10, 10)\n                listItem.setTextColor(Color.WHITE)\n                return listItem\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The popup will show when text changed. here my code</p>\n\n<pre><code>txtHint.addTextChangedListener(object : TextWatcher {\n     override fun afterTextChanged(s: Editable?) {\n         val text = txtHint.text.toString()\n         if (Pattern.compile(\"^\\\\s+$\").matcher(text).find() || text == \"\") {\n             popupNoteHintList!!.setNoteList(noteHintAllList)\n         } else if (text.split(\",\").size &gt; 0) {\n              val textSplit = text.split(\",\")\n              val myData = noteHintAllList.filter { s -&gt;\n                   s.toLowerCase().contains(textSplit[textSplit.size - 1].toLowerCase().replace(Regex(\"^ | \\$\"), \"\")) &amp;&amp;\n                   s.toLowerCase() != textSplit[textSplit.size - 1].toLowerCase().replace(Regex(\"(^ +)|( +$)\"), \"\")\n              }\n         popupNoteHintList!!.setNoteList(myData)\n         if (myData.size &gt; 0) {\n             popupNoteHintList!!.popupWindow().showAsDropDown(txtHint, 0, 0)\n         }\n     }\n }\n\n override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\n     popupNoteHintList!!.popupWindow().dismiss()\n }\n\n override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n      popupNoteHintList!!.popupWindow().dismiss()\n }\n</code></pre>\n\n<p>})</p>\n\n<p>How to make the popup not overlap with keyboard, maybe move to above <code>EditText</code> if overlap, but still under <code>EditText</code> if not overlap</p>\n\n<p>So result seem like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yDf3P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yDf3P.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "jupyter-notebook"], "answers": [{"comments": [{"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "edited": false, "score": 0, "creation_date": 1525757096, "post_id": 50226313, "comment_id": 87470002, "body": "Hi, thanks, your answer made things clear. I would definitely try the <code>kotlinc</code>."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "edited": false, "score": 0, "creation_date": 1525757165, "post_id": 50226313, "comment_id": 87470038, "body": "You can install it via a tool called <code>sdk</code> provided by sdkman.io, or download a zip containing <code>kotlinc</code> on the Kotlin GitHub release"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 10, "last_activity_date": 1525757308, "last_edit_date": 1525757308, "creation_date": 1525756761, "answer_id": 50226313, "question_id": 50226106, "link": "https://stackoverflow.com/questions/50226106/how-would-a-kotlin-notebook-work-when-kotlin-is-a-compiled-language/50226313#50226313", "title": "How would a Kotlin notebook work when kotlin is a compiled language?", "body": "<p>Kotlin has a special scripting mode (apart from the ordinary compiled mode), we often name a Kotlin script with the suffix <code>.kts</code>.</p>\n\n<p>You can try this with a command line Kotlin compiler:</p>\n\n<ul>\n<li>Write <code>println(\"hello world\")</code> in <code>a.kts</code></li>\n<li>Run <code>kotlinc -script a.kts</code></li>\n</ul>\n\n<p>And you'll see <code>hello world</code> printed on screen.</p>\n\n<p>If you have IntelliJ IDEA, try right-clicking on a <code>.kts</code> file and select <code>Run</code> option. You'll see command line output.</p>\n\n<blockquote>\n  <p>How do compiled programming languages work in the interactive jupyter notebook environment?</p>\n</blockquote>\n\n<p>There's nothing to do with \"compiled\" here. This is a special function of Kotlin compiler (running kotlin codes as script).<br>\nNot all languages have such feature. This isn't general-purpose.</p>\n"}, {"tags": [], "owner": {"reputation": 6292, "user_id": 1483676, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/h2IgH.jpg?s=128&g=1", "display_name": "cubuspl42", "link": "https://stackoverflow.com/users/1483676/cubuspl42"}, "is_accepted": false, "score": 0, "last_activity_date": 1597059674, "creation_date": 1597059674, "answer_id": 63339472, "question_id": 50226106, "link": "https://stackoverflow.com/questions/50226106/how-would-a-kotlin-notebook-work-when-kotlin-is-a-compiled-language/63339472#63339472", "title": "How would a Kotlin notebook work when kotlin is a compiled language?", "body": "<p>One could argue that there's no such thing as an interpreted language, but I won't go that far.</p>\n<p>Interpretation is a technique for implementing a programming language. Many languages have multiple implementations and quite often these implementations use different techniques. For example, Java has a <a href=\"https://en.wikipedia.org/wiki/List_of_Java_virtual_machines\" rel=\"nofollow noreferrer\">ton of implementations</a> and techniques used by them vary from ahead-of-time compilation + bytecode interpretation, ahead-of-time compilation + JIT bytecode-to-machinecode compilation, ahead-of-time source-to-machinecode compilation and pure interpretation. Some implementation use hybrid techiques.</p>\n<p>Python also has <a href=\"https://wiki.python.org/moin/PythonImplementations\" rel=\"nofollow noreferrer\">multiple implementations</a>. They are mostly based on bytecode interpretation and bytecode-to-machine-code JIT compilation. As far as I know, there's no ahead-of-time to-machine-code compiler (it's not impossible to create such, but probably not really beneficent for Python). Python, by default, compiles the source code to bytecode in memory on first run and dumps the bytecode to <code>*.pyc</code> files. On second run, it loads the bytecode from disk. Then it interprets the bytecode in memory. So Python also, typically, has a compilation phase, it's just not as visible.</p>\n<p>So, what do people mean when they say &quot;interpreted language&quot;? Typically, it means that some language has either one implementation, or one <em>leading</em> implementation which is much more popular then the others (like CPython) and that leading implementation offers an interpreter. It doesn't mean that there are no ahead-of-time compilers for such language, or that it's conceptually impossible to create such. It also doesn't mean that other languages which are typically implemented with ahead-of-time compilers cannot be interpreted.</p>\n<p>Given any programming language and an implementation in form of an ahead-of-time compiler, you can create a simple &quot;interpreted&quot; implementation by wrapping a compiler invocation and program execution (either direct or through an interpreter) in a single shell script or a simple helper program. You can save the binary/artifact in <code>/tmp</code>, for instance. If you have access to the compiler in form of a library (as opposed to the CLI program), and the compiler exposes an appropriate interface, you can skip the disk I/O step and write the compiler output to memory. It may be a bit faster and a bit less problematic, but conceptually the difference isn't big.</p>\n<p>Kotlin Jupyter kernel is implemented that way. It uses a not-yet-stable, but documented solution sometimes called <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/scripting-support.md\" rel=\"nofollow noreferrer\">&quot;KotlinScript&quot;</a>. I haven't read the appropriate source code (feel free to do so), but as you already know, the only thing it has to do is to transform (compile) the code and then execute it (exactly like in case of Python). How does KotlinScript achieve this goal (whether it invokes the compiler through a subprocess or using a Java library, whether it writes the output to disk...) is an implementation detail.</p>\n"}], "owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 0, "accepted_answer_id": 50226313, "answer_count": 2, "score": 5, "last_activity_date": 1597059674, "creation_date": 1525755464, "question_id": 50226106, "link": "https://stackoverflow.com/questions/50226106/how-would-a-kotlin-notebook-work-when-kotlin-is-a-compiled-language", "title": "How would a Kotlin notebook work when kotlin is a compiled language?", "body": "<p>I tried <a href=\"https://github.com/ligee/kotlin-jupyter\" rel=\"noreferrer\">the Kotlin notebook extension</a> and I wonder what is going under the hood.<br>\nI have used notebooks with python and because python is an interpreted language it seems natural that it works in the notebook. </p>\n\n<p><a href=\"https://i.stack.imgur.com/m2p6B.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/m2p6B.png\" alt=\"Kotlin notebook\"></a></p>\n\n<p>My understanding is that after writing the Kotlin code I need to compile it (No?) before I execute it. But in notebook, if I create a class in one cell, I am able to instantiate an object in the next cell and I can't figure out how is this working.</p>\n\n<p>EDIT:\nIt appears there are <a href=\"https://github.com/jupyter/jupyter/wiki/Jupyter-kernels\" rel=\"noreferrer\">IPYTHON kernels</a> for many of the compiled languages. However the question remains \"How do compiled programming languages work in the interactive jupyter notebook environment\"?</p>\n"}, {"tags": ["android", "binding", "kotlin"], "comments": [{"owner": {"reputation": 1020, "user_id": 9845929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pva40.png?s=128&g=1", "display_name": "SebastienRieu", "link": "https://stackoverflow.com/users/9845929/sebastienrieu"}, "edited": false, "score": 0, "creation_date": 1580828698, "post_id": 50226081, "comment_id": 106221578, "body": "Really good article about that: <a href=\"https://medium.com/google-developer-experts/exploring-view-binding-on-android-44e57ba11635\" rel=\"nofollow noreferrer\">medium.com/google-developer-experts/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1450, "user_id": 7784230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5248e600744cd2c04080634b1bc9a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Kaushik", "link": "https://stackoverflow.com/users/7784230/hemant-kaushik"}, "edited": false, "score": 5, "creation_date": 1527751820, "post_id": 50227528, "comment_id": 88247525, "body": "Which one you prefer in case of generated code or build time?"}, {"owner": {"reputation": 710, "user_id": 997147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kPcsr.jpg?s=128&g=1", "display_name": "Saifur Rahman Mohsin", "link": "https://stackoverflow.com/users/997147/saifur-rahman-mohsin"}, "edited": false, "score": 0, "creation_date": 1567855127, "post_id": 50227528, "comment_id": 102095289, "body": "Also, I just realized and like to add that KTX doesn&#39;t seem to provide concrete layout binding classes that can be used in code. It provides references only to the IDs specified within layout classes as field variables that can be used in code but not the entire layout itself."}], "tags": [], "owner": {"reputation": 1577, "user_id": 4233180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FXCjt68DFoA/AAAAAAAAAAI/AAAAAAAAACs/hqpMFb_4--c/photo.jpg?sz=128", "display_name": "Supriya", "link": "https://stackoverflow.com/users/4233180/supriya"}, "is_accepted": true, "score": 30, "last_activity_date": 1525762225, "creation_date": 1525762225, "answer_id": 50227528, "question_id": 50226081, "link": "https://stackoverflow.com/questions/50226081/android-data-binding-library-vs-kotlin-android-extensions/50227528#50227528", "title": "Android Data Binding Library vs Kotlin Android Extensions", "body": "<p>Both, Kotlin Android Extensions and Android Data Binding Library help to eliminate the use of <code>findViewById</code>.</p>\n\n<p>But there are also more things that these do, that can complement one another. \nTo elaborate, with the Android Data Binding library, you can 'set' models in your xml files, which can then directly be leveraged to set values for the views in the layout. <a href=\"https://developer.android.com/topic/libraries/data-binding/expressions\" rel=\"noreferrer\">See</a> how a <code>&lt;data&gt;</code> tag can be used with the data binding library. </p>\n\n<p>Kotlin android extensions does not provide for this. \nAt the same time, Kotlin android extensions provides for some amazing features like <code>@parcelize</code> annotation to make classes parcelable with almost no boilerplate code, etc.</p>\n\n<p>To conclude, while they both eliminate the use of <code>findViewById</code>, they have their own features too which can complement one another well.</p>\n"}, {"tags": [], "owner": {"reputation": 1141, "user_id": 9758208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Et4ua.jpg?s=128&g=1", "display_name": "Oya Canli", "link": "https://stackoverflow.com/users/9758208/oya-canli"}, "is_accepted": false, "score": 29, "last_activity_date": 1575234145, "last_edit_date": 1575234145, "creation_date": 1547420631, "answer_id": 54174041, "question_id": 50226081, "link": "https://stackoverflow.com/questions/50226081/android-data-binding-library-vs-kotlin-android-extensions/54174041#54174041", "title": "Android Data Binding Library vs Kotlin Android Extensions", "body": "<p>Kotlin Android Extensions does not stand for only view binding. It contains other features as well. But I guess you\u2019re talking about the view binding/caching features of Kotlin Android Extensions and wonder whether we still need data binding, since we already got rid of the findViewById calls with the synthetic properties of Kotlin. That was the question I asked to myself and my conclusion is, <strong>yes, data binding is still worth using.</strong></p>\n\n<p>From <a href=\"https://developer.android.com/topic/libraries/data-binding/generated-binding\" rel=\"noreferrer\">official documentation</a>: </p>\n\n<blockquote>\n  <p>The Data Binding Library creates an immutable field in the binding\n  class for each view that has an ID in the layout\u2026 The library extracts\n  the views including the IDs from the view hierarchy in a single pass.\n  This mechanism can be faster than calling the findViewById() method\n  for every view in the layout.</p>\n</blockquote>\n\n<p>So data binding doesn\u2019t call findViewById on views one by one. Kotlin\u2019s synthetic classes, on the other hand, still calls findViewById on the views under the hood, but it calls it only once for each view and caches the view reference for next calls. (Here is an <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"noreferrer\">article</a> about it)</p>\n\n<p>Besides, data binding has more to offer than only view caching. You can use data tags for passing data to the binding implementation and declare them in your xml, instead of setting them programmatically. This way you can get rid of the boilerplate code that you use for populating data, like those \"setText\"s, \"setImageResource\"s etc. You can set event listeners from xml using data binding. You can also come up with your own attributes using custom binding adapters.  When used to its whole power, it can significantly reduce your Java/Kotlin code.</p>\n\n<p><strong>Edit:</strong> It seems that Google Android team recommends <em>against</em> use of kotlin synthetic properties. <a href=\"https://proandroiddev.com/the-argument-over-kotlin-synthetics-735305dd4ed0\" rel=\"noreferrer\">This article</a> summarizes the discussion around this issue. And you can see in the new <a href=\"https://www.udacity.com/course/developing-android-apps-with-kotlin--ud9012\" rel=\"noreferrer\">Udacity course</a> prepared by Google that they use data binding as recommended practice. </p>\n\n<p><strong>Edit2:</strong> If you don't like the idea of \"putting business logic in your xml\", if you are not interested in setting or getting data from xml, if you simply want to avoid use of findViewByIds in a safe and efficient manner, than you can go with <strong>ViewDataBinding</strong> library instead. It is a simplified version of data binding library. It doesn't let you set data from your xml but it binds your views in a safe and efficient manner.</p>\n"}, {"comments": [{"owner": {"reputation": 1141, "user_id": 9758208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Et4ua.jpg?s=128&g=1", "display_name": "Oya Canli", "link": "https://stackoverflow.com/users/9758208/oya-canli"}, "edited": false, "score": 4, "creation_date": 1554155652, "post_id": 55342631, "comment_id": 97640283, "body": "You don&#39;t have to do it like that with databinding. In fact, you shouldn&#39;t do it like that. Use of complicated ternary operators in xml is not recommended, both for readibility, as you mentioned, and also because xml codes are not testable. So what you can do with databinding, is to use a helper method which will accept a person as argument and will return the text you need."}, {"owner": {"reputation": 953, "user_id": 6117611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvwSk.png?s=128&g=1", "display_name": "Manzur Alahi", "link": "https://stackoverflow.com/users/6117611/manzur-alahi"}, "reply_to_user": {"reputation": 1141, "user_id": 9758208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Et4ua.jpg?s=128&g=1", "display_name": "Oya Canli", "link": "https://stackoverflow.com/users/9758208/oya-canli"}, "edited": false, "score": 0, "creation_date": 1558729636, "post_id": 55342631, "comment_id": 99210588, "body": "since I can do this so easily with ktx and kotlin why bother using data binding + helper class!?"}, {"owner": {"reputation": 1141, "user_id": 9758208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Et4ua.jpg?s=128&g=1", "display_name": "Oya Canli", "link": "https://stackoverflow.com/users/9758208/oya-canli"}, "edited": false, "score": 2, "creation_date": 1560366737, "post_id": 55342631, "comment_id": 99716946, "body": "I just wanted to clarify that you don&#39;t have to use  &quot;ugly&quot; or unreadable ternary operators in data binding. You don&#39;t have to bother, of course, if it feels like &quot;bothering&quot;. I guess it is about what someone is used to. For me, data binding means significantly less code in my activities and fragments."}, {"owner": {"reputation": 1141, "user_id": 9758208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Et4ua.jpg?s=128&g=1", "display_name": "Oya Canli", "link": "https://stackoverflow.com/users/9758208/oya-canli"}, "edited": false, "score": 1, "creation_date": 1560366999, "post_id": 55342631, "comment_id": 99717070, "body": "There are some arguments against Kotlin&#39;s synthetic properties though. Google team recommends data binding instead. This article summarizes the discussion about the issue: <a href=\"https://proandroiddev.com/the-argument-over-kotlin-synthetics-735305dd4ed0\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a> But still, you don&#39;t have an obligation to follow Google&#39;s recommendations. It&#39;s up to you in the end."}, {"owner": {"reputation": 701, "user_id": 8762338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/548c2e3840fd2adb0673c716bf892c1b?s=128&d=identicon&r=PG&f=1", "display_name": "Astha Garg", "link": "https://stackoverflow.com/users/8762338/astha-garg"}, "edited": false, "score": 0, "creation_date": 1601890995, "post_id": 55342631, "comment_id": 113536380, "body": "I read an article and found that kotlin android extension is not recommended in RecyclerView onBindView as calls findViewById under the hood."}, {"owner": {"reputation": 953, "user_id": 6117611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvwSk.png?s=128&g=1", "display_name": "Manzur Alahi", "link": "https://stackoverflow.com/users/6117611/manzur-alahi"}, "edited": false, "score": 0, "creation_date": 1601923407, "post_id": 55342631, "comment_id": 113551417, "body": "most of the things android offers are not really required unless you are building a really really complex app. Just use whatever suits you and try to not over complicate things."}], "tags": [], "owner": {"reputation": 953, "user_id": 6117611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvwSk.png?s=128&g=1", "display_name": "Manzur Alahi", "link": "https://stackoverflow.com/users/6117611/manzur-alahi"}, "is_accepted": false, "score": 1, "last_activity_date": 1553532175, "creation_date": 1553532175, "answer_id": 55342631, "question_id": 50226081, "link": "https://stackoverflow.com/questions/50226081/android-data-binding-library-vs-kotlin-android-extensions/55342631#55342631", "title": "Android Data Binding Library vs Kotlin Android Extensions", "body": "<p>I strongly disagree with the points mentioned above. maybe because I hate writing logic in XML. so both comments mention the use of <code>&lt;data&gt;</code> tags not found in Kotlin Android Extensions (KTX). with kotlin and KTX you can do better than data tag.</p>\n\n<p>let's say we have</p>\n\n<pre><code>data class Person(val name:String, \n                   val phone:String,\n                   val isMale:Boolean,\n                   val isMarried:Boolean)\n</code></pre>\n\n<p>in the activity or fragment, we can do </p>\n\n<pre><code>fun updateView(data:Person){\n    with(data){\n\n     nameTextField.text = if(isMale){\n                            \"Mr. $name\" \n                          } else {\n                             if(isMarried){\n                              \"Mrs. $name\"\n                             }else{\n                              \"Miss $name\"\n                             }\n                          }\n     phoneTextField.text = phone\n    }\n }\n</code></pre>\n\n<p>in data-binding, you have to do</p>\n\n<p><code>android:text='@{person.isMale ? \"Mr.\"+user.name: ((user.isMarried ? \"Mrs. \" : \n                 \"Miss. \") + user.name)}'</code></p>\n\n<p>KTX code is way cleaner than what you have to do with data binding to achieve the same result. when you need conditions to set values to view data binding gets ugly.\nso for me, Kotlin Android Extensions work better. I like my code clean. you can still use both the decision is yours to make.</p>\n"}], "owner": {"reputation": 633, "user_id": 2325614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kZrgk.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/2325614/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7898, "favorite_count": 10, "accepted_answer_id": 50227528, "answer_count": 3, "score": 49, "last_activity_date": 1575234145, "creation_date": 1525755358, "last_edit_date": 1525806033, "question_id": 50226081, "link": "https://stackoverflow.com/questions/50226081/android-data-binding-library-vs-kotlin-android-extensions", "title": "Android Data Binding Library vs Kotlin Android Extensions", "body": "<p>I'm reading about how the MVVM architecture works and how to use Android Data Binding Library help.</p>\n\n<p>In a very general way I understand that Android Data Binding creates a link between UI layer and the underlying data model that holds the information to display.</p>\n\n<p>Kotlin Android Extensions are another Kotlin plugin that will allow you to recover views from Activities, Fragments and Views. The plugin will generate some extra code that will allow you to access views in the XML layout, just as if they were properties with the name of the id you used in the layout definition.</p>\n\n<p>What is the difference between using Android Data Binding Library and Kotlin Android Extensions? Are they for different purposes? Do they complement each other, in what way?</p>\n\n<p>Thank you for your answers.</p>\n"}, {"tags": ["ftp", "kotlin"], "comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 2, "creation_date": 1526138049, "post_id": 50224728, "comment_id": 87631324, "body": "FTP is an old, unsafe and inperformant protocol, especially because it opens a new port for every file transfer. Consider using alternatives like SFTP (not to be confused with FTPS)"}, {"owner": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "reply_to_user": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "edited": false, "score": 0, "creation_date": 1526221010, "post_id": 50224728, "comment_id": 87649850, "body": "thanks for the suggestion but my server only supports FTP (its kind of a headache )and I want to use it so I am kinda stuck with FTP"}], "answers": [{"comments": [{"owner": {"reputation": 6355, "user_id": 3755692, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F7x32.png?s=128&g=1", "display_name": "msrd0", "link": "https://stackoverflow.com/users/3755692/msrd0"}, "reply_to_user": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "edited": false, "score": 2, "creation_date": 1526138163, "post_id": 50303911, "comment_id": 87631361, "body": "@ZararYounis That code should not produce any syntax errors, did you add the library to your gradle dependencies?"}, {"owner": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "edited": false, "score": 0, "creation_date": 1526220786, "post_id": 50303911, "comment_id": 87649791, "body": "yeah I corrected it and its working now thanks but I ended up using apache commons net I will upload the code soon"}, {"owner": {"reputation": 963, "user_id": 2394854, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qAH4k.png?s=128&g=1", "display_name": "Datadimension", "link": "https://stackoverflow.com/users/2394854/datadimension"}, "edited": false, "score": 0, "creation_date": 1559849021, "post_id": 50303911, "comment_id": 99557986, "body": "there is this tho, but the app just closes ? <a href=\"https://stackoverflow.com/questions/47424402/how-bypass-networkonmainthreadexception-on-kotlin\" title=\"how bypass networkonmainthreadexception on kotlin\">stackoverflow.com/questions/47424402/&hellip;</a>"}], "tags": [], "owner": {"reputation": 35146, "user_id": 624069, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b8cee93fc5bf70182b40c6c83b11dd43?s=128&d=identicon&r=PG", "display_name": "Niranj Patel", "link": "https://stackoverflow.com/users/624069/niranj-patel"}, "is_accepted": true, "score": 3, "last_activity_date": 1526138127, "last_edit_date": 1526138127, "creation_date": 1526110334, "answer_id": 50303911, "question_id": 50224728, "link": "https://stackoverflow.com/questions/50224728/how-to-use-the-ftp-to-upload-a-small-file-or-an-image-in-android-studio-using-ko/50303911#50303911", "title": "How to use the FTP to upload a small file or an image in android studio using Kotlin", "body": "<p>You can use <strong>ftp4j</strong> library by download <a href=\"http://www.sauronsoftware.it/projects/ftp4j/download.php\" rel=\"nofollow noreferrer\">ftp4j-1.7.2.jar</a>.</p>\n\n<p>Here is sample code in kotlin.</p>\n\n<pre><code>try {\n    val mFtpClient = FTPClient()\n    mFtpClient.connect(\"hots\", PORT)\n    mFtpClient.login(\"user\", \"password\")\n    mFtpClient.type = FTPClient.TYPE_BINARY\n    mFtpClient.changeDirectory(\"/directory_path/\")\n\n    mFtpClient.upload(File(\"file_path\"))\n    mFtpClient.disconnect(true)\n\n} catch (e: Exception) {\n    e.printStackTrace()\n}\n</code></pre>\n"}], "owner": {"reputation": 336, "user_id": 6250449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565ada241c45a90ba84c2fea0f0d87e3?s=128&d=identicon&r=PG&f=1", "display_name": "BigZee", "link": "https://stackoverflow.com/users/6250449/bigzee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3711, "favorite_count": 0, "accepted_answer_id": 50303911, "answer_count": 1, "score": 2, "last_activity_date": 1526161129, "creation_date": 1525744961, "last_edit_date": 1526161129, "question_id": 50224728, "link": "https://stackoverflow.com/questions/50224728/how-to-use-the-ftp-to-upload-a-small-file-or-an-image-in-android-studio-using-ko", "title": "How to use the FTP to upload a small file or an image in android studio using Kotlin", "body": "<p>I am trying to create an app that needs to upload some images and text files to my server which supports FTP. I am from a python background and have used FTP a lot in the past but I am pretty confused while using it in Kotlin any help will be appreciated.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-edittext"], "comments": [{"owner": {"reputation": 11, "user_id": 7244967, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oJwucIb7u1s/AAAAAAAAAAI/AAAAAAAAAWs/OIbae64mCiY/photo.jpg?sz=128", "display_name": "al satof", "link": "https://stackoverflow.com/users/7244967/al-satof"}, "reply_to_user": {"reputation": 1379, "user_id": 7436540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHYZ6.png?s=128&g=1", "display_name": "Lucas De Morais Cabrales", "link": "https://stackoverflow.com/users/7436540/lucas-de-morais-cabrales"}, "edited": false, "score": 0, "creation_date": 1525727853, "post_id": 50222272, "comment_id": 87462617, "body": "i am sorry i edit the question and add my code"}], "answers": [{"tags": [], "owner": {"reputation": 1379, "user_id": 7436540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHYZ6.png?s=128&g=1", "display_name": "Lucas De Morais Cabrales", "link": "https://stackoverflow.com/users/7436540/lucas-de-morais-cabrales"}, "is_accepted": false, "score": 1, "last_activity_date": 1525728212, "creation_date": 1525728212, "answer_id": 50222635, "question_id": 50222272, "link": "https://stackoverflow.com/questions/50222272/how-i-can-hide-a-button-based-on-a-edittexts-text/50222635#50222635", "title": "How I can hide a button based on a EditText&#39;s text", "body": "<p>Use a <code>TextWatcher</code> to detect when the <code>EditText</code>'s content has been changed and perform your desired action. </p>\n\n<p>Example (Java):</p>\n\n<pre><code>editText.addTextChangedListener(new TextWatcher() {\n    @Override\n    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n    }\n\n    @Override\n    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n    }\n\n    @Override\n    public void afterTextChanged(Editable editable) {\n        //called after the EditText's text is changed\n        button.visibility = editable.length() &gt; 0 ? View.VISIBLE : View.GONE;\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7244967, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oJwucIb7u1s/AAAAAAAAAAI/AAAAAAAAAWs/OIbae64mCiY/photo.jpg?sz=128", "display_name": "al satof", "link": "https://stackoverflow.com/users/7244967/al-satof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1525729367, "creation_date": 1525726321, "last_edit_date": 1525729367, "question_id": 50222272, "link": "https://stackoverflow.com/questions/50222272/how-i-can-hide-a-button-based-on-a-edittexts-text", "title": "How I can hide a button based on a EditText&#39;s text", "body": "<p>I want the button to be visible if the <code>EditText</code> has text, and invisible otherwise.</p>\n\n<p>How can I accomplish this?</p>\n\n<p>My code:</p>\n\n<pre><code>class ChargeScreen : AppCompatActivity() {\n\n   override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.cslayout)\n\n        if(editText!==null){\n            button.visibility=View.INVISIBLE\n        } else {\n            button.visibility = View.VISIBLE\n        }\n        button.setOnClickListener({\n                editText.setText(\"\")\n                editText.setHint(\"Type Your Number Of Card\")\n                button.visibility = GONE\n                val inputManager: InputMethodManager = getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n        inputManager.hideSoftInputFromWindow(currentFocus.windowToken, InputMethodManager.SHOW_FORCED)\n        })\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "oop", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1525731953, "post_id": 50222139, "comment_id": 87464080, "body": "I&#39;ve reopened the question since it asks about Kotlin, not Java. While Kotlin and Java are similar in this aspect, Kotlin instance construction is not equivalent to that in Java (at least it is expressed in different constructs)."}, {"owner": {"reputation": 7902, "user_id": 4322363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9447e9906e54173c7ccf70fc6450d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "rosghub", "link": "https://stackoverflow.com/users/4322363/rosghub"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1525732525, "post_id": 50222139, "comment_id": 87464256, "body": "@hotkey ok, I think the accepted answer explains it pretty well. My question may have been more related to java anyway. It was the warning in kotlin that sparked the question though."}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1525735261, "post_id": 50222139, "comment_id": 87464949, "body": "@hotkey &quot;<i>So is this poor practice in java/kotlin</i>&quot; - Seems like they&#39;re asking for either. Their confusion comes from the Java code working (the &quot;bug&quot; not appearing), which works because the it doesn&#39;t actually replicate what the Kotlin code is doing. The answer in the marked duplicate definitely explains the warnings &amp; results he&#39;s obtaining."}], "answers": [{"tags": [], "owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "is_accepted": false, "score": 6, "last_activity_date": 1525726446, "creation_date": 1525726446, "answer_id": 50222292, "question_id": 50222139, "link": "https://stackoverflow.com/questions/50222139/kotlin-calling-non-final-function-in-constructor-works/50222292#50222292", "title": "Kotlin calling non final function in constructor works", "body": "<p>It is definitely poor practice because you are invoking <code>calculate()</code> on a <strong>partially constructed object</strong>. This suggests that your class has multiple phases of initialization.</p>\n\n<p>If the result of <code>calculation()</code> is used to initialize a member, or perform layout or something, you might consider using <em>lazy initialization</em>. This will defer the calculation of the result until the result is really needed.</p>\n"}, {"comments": [{"owner": {"reputation": 7902, "user_id": 4322363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9447e9906e54173c7ccf70fc6450d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "rosghub", "link": "https://stackoverflow.com/users/4322363/rosghub"}, "edited": false, "score": 0, "creation_date": 1525732035, "post_id": 50222496, "comment_id": 87464108, "body": "I see. I realized it was poor practice once I understood the lint warning. Thank you for that explanation"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 65, "last_activity_date": 1568286171, "last_edit_date": 1568286171, "creation_date": 1525727535, "answer_id": 50222496, "question_id": 50222139, "link": "https://stackoverflow.com/questions/50222139/kotlin-calling-non-final-function-in-constructor-works/50222496#50222496", "title": "Kotlin calling non final function in constructor works", "body": "<p>The initialization order of a derived class is described in the language reference: <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"noreferrer\">Derived class initialization order</a>, and the section also explains why it is a bad (and potentially dangerous) practice to use an open member in initialization logic of your class.</p>\n\n<p>Basically, at the point when a super class constructor (including its property initializers and the <code>init</code> blocks) is executed, the derived class constructor has not yet run. But the overridden members retain their logic even when called from the super class constructor. This may lead to an overridden member that relies on some state, that is specific to the derived class, being called from the super constructor, which can lead to a bug or a runtime failure. This is also one of the cases when you can get a <code>NullPointerException</code> in Kotlin.</p>\n\n<p>Consider this code sample:</p>\n\n<pre><code>open class Base {\n    open val size: Int = 0\n    init { println(\"size = $size\") }\n}\n\nclass Derived : Base() {\n    val items = mutableListOf(1, 2, 3)\n    override val size: Int get() = items.size\n}\n</code></pre>\n\n<p><a href=\"https://try.kotlinlang.org/#/UserProjects/58rej96fbnglrqsqss2krrd2rn/llkj4n2ave68msaivplra2asrp\" rel=\"noreferrer\"><sup>(runnable sample)</sup></a></p>\n\n<p>Here, the overridden <code>size</code> relies on <code>items</code> being properly initialized, but at the point when <code>size</code> is used in the super constructor, the backing field of <code>items</code> still holds null. Constructing an instance of <code>Derived</code> therefore throws an NPE.</p>\n\n<p>Using the practice in question safely requires considerable effort even when you don't share the code with anyone else, and when you do, other programmers will usually expect open members to be safe to override involving the state of the derived class. </p>\n\n<hr>\n\n<p>As <a href=\"https://stackoverflow.com/users/1241193/bob-dalgleish\">@Bob Dagleish</a> correctly noted, you can use <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"noreferrer\">lazy initialization</a> for the <code>code</code> property:</p>\n\n<pre><code>val code by lazy { calculate() }\n</code></pre>\n\n<p>But then you need to be careful and not use <code>code</code> anywhere else in the base class construction logic.</p>\n\n<p>Another option is to require <code>code</code> to be passed to the base class constructor:</p>\n\n<pre><code>abstract class Base(var code: Int) {\n    abstract fun calculate(): Int\n}\n\nclass Derived(private val x: Int) : Base(calculateFromX(x)) {\n    override fun calculate(): Int = \n        calculateFromX(x)\n\n    companion object {\n        fun calculateFromX(x: Int) = x\n    }\n}\n</code></pre>\n\n<p>This, however, complicates the code of the derived classes in cases when the same logic is used both in overridden members and for calculating the values passed to the super constructor.</p>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 0, "last_activity_date": 1608751259, "creation_date": 1608751259, "answer_id": 65429814, "question_id": 50222139, "link": "https://stackoverflow.com/questions/50222139/kotlin-calling-non-final-function-in-constructor-works/65429814#65429814", "title": "Kotlin calling non final function in constructor works", "body": "<p>To invoke the functions of the concrete classes in the abstract class use <code>by lazy</code> which allows calling non-final functions.</p>\n<p>From: <code>area = extractArea(room);</code></p>\n<p>To: <code>area by lazy { extractArea(room) }</code></p>\n<p>GL</p>\n"}], "owner": {"reputation": 7902, "user_id": 4322363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9447e9906e54173c7ccf70fc6450d3eb?s=128&d=identicon&r=PG&f=1", "display_name": "rosghub", "link": "https://stackoverflow.com/users/4322363/rosghub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15253, "favorite_count": 6, "accepted_answer_id": 50222496, "answer_count": 3, "score": 47, "last_activity_date": 1608751259, "creation_date": 1525725775, "question_id": 50222139, "link": "https://stackoverflow.com/questions/50222139/kotlin-calling-non-final-function-in-constructor-works", "title": "Kotlin calling non final function in constructor works", "body": "<p>In Kotlin, it warns you when calling an abstract function in a constructor, citing the following problematic code:</p>\n\n<pre><code>abstract class Base {\n    var code = calculate()\n    abstract fun calculate(): Int\n}\n\nclass Derived(private val x: Int) : Base() {\n    override fun calculate(): Int = x\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val i = Derived(42).code // Expected: 42, actual: 0\n    println(i)\n}\n</code></pre>\n\n<p>And the output makes sense because when <code>calculate</code> is called, <code>x</code> hasn't been initialized yet.</p>\n\n<p>This is something I had never considered when writing java, as I have used this pattern without any issues:</p>\n\n<pre><code>class Base {\n\n    private int area;\n\n    Base(Room room) {\n        area = extractArea(room);\n    }\n\n    abstract int extractArea(Room room);\n}\n\nclass Derived_A extends Base {\n\n    Derived_A(Room room) {\n        super(room);\n    }\n\n    @Override\n    public int extractArea(Room room) {\n        // Extract area A from room\n    }\n}\n\nclass Derived_B extends Base {\n\n    Derived_B(Room room) {\n        super(room);\n    }\n\n    @Override\n    public int extractArea(Room room) {\n        // Extract area B from room\n    }\n}\n</code></pre>\n\n<p>And this has worked fine because the overriden <code>extractArea</code> functions don't rely on any uninitialized data, but they are unique to each respective derived <code>class</code> (hence the need to be abstract). This also works in kotlin, but it still gives the warning.</p>\n\n<p>So is this poor practice in java/kotlin? If so, how can I improve it? And is it possible to implement in kotlin without being warned about using non-final functions in constructors?</p>\n\n<p>A potential solution is to move the line <code>area = extractArea()</code> to each derived constructor, but this doesn't seem ideal since it's just repeated code that should be part of the super class.</p>\n"}, {"tags": ["types", "kotlin", "language-design", "unsigned-integer"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1525723095, "post_id": 50221534, "comment_id": 87460467, "body": "<a href=\"https://stackoverflow.com/questions/430346/why-doesnt-java-support-unsigned-ints?rq=1\" title=\"why doesnt java support unsigned ints\">stackoverflow.com/questions/430346/&hellip;</a>"}, {"owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1525723160, "post_id": 50221534, "comment_id": 87460496, "body": "@nhaarman How is a Java answer related to a Kotlin question?"}, {"owner": {"reputation": 2041, "user_id": 7316365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/84de9f27708456d85bf1078aa51155b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vivick", "link": "https://stackoverflow.com/users/7316365/vivick"}, "edited": false, "score": 2, "creation_date": 1525724748, "post_id": 50221534, "comment_id": 87461239, "body": "@starbeamrainbowlabs did you just say what I think you did say?"}, {"owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "reply_to_user": {"reputation": 2041, "user_id": 7316365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/84de9f27708456d85bf1078aa51155b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vivick", "link": "https://stackoverflow.com/users/7316365/vivick"}, "edited": false, "score": 1, "creation_date": 1525724817, "post_id": 50221534, "comment_id": 87461272, "body": "@Vivick If you&#39;re referring to the fact that I don&#39;t fully understand how Java and Kotlin are related, then yes."}, {"owner": {"reputation": 2041, "user_id": 7316365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/84de9f27708456d85bf1078aa51155b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vivick", "link": "https://stackoverflow.com/users/7316365/vivick"}, "edited": false, "score": 1, "creation_date": 1525724993, "post_id": 50221534, "comment_id": 87461341, "body": "Kotlin is transpiled down to Java, which is why there&#39;s no &quot;real&quot; support for unsigned integers. You can still hack your way with an <code>Unsigned</code> class but you&#39;d encounter several issues."}, {"owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "reply_to_user": {"reputation": 2041, "user_id": 7316365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/84de9f27708456d85bf1078aa51155b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vivick", "link": "https://stackoverflow.com/users/7316365/vivick"}, "edited": false, "score": 0, "creation_date": 1525725278, "post_id": 50221534, "comment_id": 87461475, "body": "@Vivick Ah, I see. It all makes sense now! Both why that answer is relevant and why the build system for Kotlin is needlessly complicated......"}, {"owner": {"reputation": 197, "user_id": 6152931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e82bdba0e0a25318a9c1e75640e9156?s=128&d=identicon&r=PG&f=1", "display_name": "Serid", "link": "https://stackoverflow.com/users/6152931/serid"}, "reply_to_user": {"reputation": 2041, "user_id": 7316365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/84de9f27708456d85bf1078aa51155b2?s=128&d=identicon&r=PG&f=1", "display_name": "Vivick", "link": "https://stackoverflow.com/users/7316365/vivick"}, "edited": false, "score": 6, "creation_date": 1548971103, "post_id": 50221534, "comment_id": 95747233, "body": "@Vivick, Kotlin is NOT converted to Java source code. It&#39;s translated to JVM (Java Virtual Machine) bytecode. Don&#39;t disinformate people."}], "answers": [{"comments": [{"owner": {"reputation": 1651, "user_id": 329999, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/b68480958b1c12b1d11da649adcaaf64?s=128&d=identicon&r=PG", "display_name": "Mitch", "link": "https://stackoverflow.com/users/329999/mitch"}, "edited": false, "score": 1, "creation_date": 1548755167, "post_id": 50223428, "comment_id": 95645820, "body": "I don&#39;t understand why the JVM dictates the functionality. If you can write the code to imitate an unsigned, then the byte code could do the same. Are you saying the code would be inefficient so the designers just didn&#39;t feel it was worth supporting it? It doesn&#39;t follow it can&#39;t be done. It might follow that it&#39;s not worth it."}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 6, "last_activity_date": 1525732754, "creation_date": 1525732754, "answer_id": 50223428, "question_id": 50221534, "link": "https://stackoverflow.com/questions/50221534/why-doesnt-kotlin-support-unsigned-integers/50223428#50223428", "title": "Why doesn&#39;t Kotlin support unsigned integers?", "body": "<h1>Why does Kotlin not have native unsigned types</h1>\n\n<p>This is because as <a href=\"https://stackoverflow.com/questions/430346/why-doesnt-java-support-unsigned-ints?rq=1\">this</a> question shows, Java does not have built-in unsigned types.</p>\n\n<p>When used on the JVM Kotlin compiles to Java Bytecode, so this limitation on Java also applies to Kotlin.</p>\n\n<h1>Workarounds</h1>\n\n<p>You can use the utility methods of Integer and Long to operate on values as unsigned <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Integer.html#parseUnsignedInt-java.lang.String-\" rel=\"noreferrer\">link</a>, but this still stores the values as signed internally.</p>\n\n<p>You could also write a utility class that holds a value and acts like an unsigned int type, but this may be slower than using the method above.</p>\n"}, {"tags": [], "owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "is_accepted": false, "score": 5, "last_activity_date": 1536213354, "creation_date": 1536213354, "answer_id": 52197361, "question_id": 50221534, "link": "https://stackoverflow.com/questions/50221534/why-doesnt-kotlin-support-unsigned-integers/52197361#52197361", "title": "Why doesn&#39;t Kotlin support unsigned integers?", "body": "<p>Starting from Kotlin 1.3 unsigned types are available and based on inline classes feature. </p>\n\n<p>See \"Unsigned integer types\" section of 1.3-M1 release: <a href=\"https://blog.jetbrains.com/kotlin/2018/07/see-whats-coming-in-kotlin-1-3-m1/\" rel=\"noreferrer\">https://blog.jetbrains.com/kotlin/2018/07/see-whats-coming-in-kotlin-1-3-m1/</a></p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 15, "last_activity_date": 1544185169, "creation_date": 1544185169, "answer_id": 53669429, "question_id": 50221534, "link": "https://stackoverflow.com/questions/50221534/why-doesnt-kotlin-support-unsigned-integers/53669429#53669429", "title": "Why doesn&#39;t Kotlin support unsigned integers?", "body": "<p>As <a href=\"https://stackoverflow.com/users/420412/gildor\">glidor</a> correctly mentioned, unsigned counterparts of <code>Byte</code>, <code>Short</code>, <code>Int</code> and <code>Long</code> do exist since Kotlin 1.3 <strong>but beware since they are still</strong> <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#experimental-status-of-unsigned-integers\" rel=\"noreferrer\"><strong>experimental</strong></a>:</p>\n\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/whatsnew13.html#unsigned-integers\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><code>kotlin.UByte</code>: an unsigned 8-bit integer, ranges from 0 to 255<br>\n  <code>kotlin.UShort</code>: an unsigned 16-bit integer, ranges from 0 to 65535<br>\n  <code>kotlin.UInt</code>: an unsigned 32-bit integer, ranges from 0 to 2^32 - 1<br>\n  <code>kotlin.ULong</code>: an unsigned 64-bit integer, ranges from 0 to 2^64 - 1</p>\n</blockquote>\n\n<p>Usage</p>\n\n<pre><code>// You can define unsigned types using literal suffixes\nval uint = 42u \n\n// You can convert signed types to unsigned and vice versa via stdlib extensions:\nval int = uint.toInt()\nval uint = int.toUInt()\n</code></pre>\n"}], "owner": {"reputation": 4813, "user_id": 1460422, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/67635ef640883a35ed09ad2cda385b77?s=128&d=identicon&r=PG", "display_name": "starbeamrainbowlabs", "link": "https://stackoverflow.com/users/1460422/starbeamrainbowlabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8630, "favorite_count": 0, "accepted_answer_id": 50223428, "answer_count": 3, "score": 15, "last_activity_date": 1544185169, "creation_date": 1525723016, "question_id": 50221534, "link": "https://stackoverflow.com/questions/50221534/why-doesnt-kotlin-support-unsigned-integers", "title": "Why doesn&#39;t Kotlin support unsigned integers?", "body": "<p>I came across a situation just recently in which an unsigned integer would have been really useful (e.g. any negative value would not make sense etc.). Surprisingly, I discovered that Kotlin does not support unsigned integers - and there doesn't appear to be anything else out there about why (even though I've looked).</p>\n\n<p>Am I missing something?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1525752950, "creation_date": 1525752950, "answer_id": 50225752, "question_id": 50221202, "link": "https://stackoverflow.com/questions/50221202/code-converted-from-java-to-kotlin-not-working/50225752#50225752", "title": "Code converted from Java to Kotlin - not working", "body": "<p>Use this code</p>\n\n<pre><code> holder.mCardView.setOnClickListener {\n     val intent = Intent(this, DetailActivity::class.java)              \n     intent.putExtra(\"Title\", mPersonList[holder.adapterPosition].personName)\n     intent.putExtra(\"Description\", mPersonList[holder.adapterPosition].personDescription)\n     intent.putExtra(\"Image\", mPersonList[holder.adapterPosition].personImage)\n     mContext?.startActivity(intent)\n        }    \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9754594, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Or8ng3Cru5h", "link": "https://stackoverflow.com/users/9754594/or8ng3cru5h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1525752950, "creation_date": 1525721472, "last_edit_date": 1525722899, "question_id": 50221202, "link": "https://stackoverflow.com/questions/50221202/code-converted-from-java-to-kotlin-not-working", "title": "Code converted from Java to Kotlin - not working", "body": "<p>The code below was converted from Java and some of it did not convert over. I'm trying to get this all converted to Kotlin. </p>\n\n<pre><code>    override fun onBindViewHolder(holder: PersonViewHolder, position: Int) {\n        holder.mImage.setImageResource(mPersonList[position].personImage)\n        holder.mTitle.text = mPersonList[position].personName\n        holder.mCardView.setOnClickListener {\n\n//Unresolved reference:Java\n            val intent = intent(this, DetailActivity::class.java)\n//Only safe (?.) or non-null asserted(!!.) calls are allowed on a nullable receiver of type intent?               \nintent.putExtra(\"Title\", mPersonList[holder.adapterPosition].personName)\n                intent.putExtra(\"Description\", mPersonList[holder.adapterPosition].personDescription)\n                intent.putExtra(\"Image\", mPersonList[holder.adapterPosition].personImage)\n                mContext.startActivity(intent)\n            }\n        }\n</code></pre>\n"}, {"tags": ["java", "android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525753961, "post_id": 50220818, "comment_id": 87469012, "body": "Why do you want to do that?"}, {"owner": {"reputation": 13, "user_id": 9754595, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android-er", "link": "https://stackoverflow.com/users/9754595/android-er"}, "reply_to_user": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525756172, "post_id": 50220818, "comment_id": 87469635, "body": "I just want to understand why this doesn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9754595, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android-er", "link": "https://stackoverflow.com/users/9754595/android-er"}, "edited": false, "score": 0, "creation_date": 1525878674, "post_id": 50233908, "comment_id": 87531138, "body": "Ah! Okay, variables passed to lambdas are effectively final. Thanks"}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 1, "last_activity_date": 1525783689, "last_edit_date": 1525783689, "creation_date": 1525783281, "answer_id": 50233908, "question_id": 50220818, "link": "https://stackoverflow.com/questions/50220818/android-click-listener-behaviour/50233908#50233908", "title": "Android Click Listener Behaviour", "body": "<p>Because keyword \"it\" and all others variables in lambdas are final. </p>\n\n<pre><code>textView1.setOnClickListener {\n    Toast.makeText(applicationContext, it.hashCode().toString(), Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n\n<p>So, your code <code>it.hashCode()</code> refers to specific function of immutable object in your memory.\nEven if you swap t1 with t2 you will call proper object and even proper listener, but <code>it</code> still refers to old object.</p>\n\n<p>After swapping those views you should fix your listeners (for example by creating new ones). </p>\n"}], "owner": {"reputation": 13, "user_id": 9754595, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android-er", "link": "https://stackoverflow.com/users/9754595/android-er"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 50233908, "answer_count": 1, "score": 1, "last_activity_date": 1525783689, "creation_date": 1525719729, "last_edit_date": 1525771722, "question_id": 50220818, "link": "https://stackoverflow.com/questions/50220818/android-click-listener-behaviour", "title": "Android Click Listener Behaviour", "body": "<p><a href=\"https://i.stack.imgur.com/EKiqa.png\" rel=\"nofollow noreferrer\">Screen Grab Android</a></p>\n\n<p>This might be a stupid question.</p>\n\n<p>In Android, when I swap two TextViews why don't their onClickListeners get swapped too (in working)?</p>\n\n<p>The object hash codes are swapped though and so is the mListenerInfo object. (Part of View Class)</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    var textView1 = TextView(this)\n    var textView2 = TextView(this)\n\n    textView1.text = \"T1\"\n    textView2.text = \"T2\"\n\n    //linear is a LinearLayout via kotlinx access\n\n    linear.addView(textView1)\n    linear.addView(textView2)\n\n    textView1.setOnClickListener({\n        Toast.makeText(applicationContext, it.hashCode().toString(), Toast.LENGTH_SHORT).show()\n    })\n\n    textView2.setOnClickListener({\n        Toast.makeText(applicationContext, it.hashCode().toString(), Toast.LENGTH_SHORT).show()\n    })\n\n    val x = textView1\n    textView1 = textView2\n    textView2 = x\n\n    Toast.makeText(applicationContext, textView1.hashCode().toString() +\"\\n\" + textView1.text, Toast.LENGTH_SHORT)\n        .show()\n\n    Toast.makeText(applicationContext, textView2.hashCode().toString() +\"\\n\" + textView2.text, Toast\n        .LENGTH_SHORT).show()\n\n  }\n}\n</code></pre>\n\n<p>The textViews and their corresponding properties get swapped, so textView1.text returns \"T2\", but on clicking T1 on screen we still get the old hashcode.</p>\n\n<p>Am I doing something wrong here?</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "is_accepted": true, "score": 0, "last_activity_date": 1525719718, "creation_date": 1525719718, "answer_id": 50220814, "question_id": 50220642, "link": "https://stackoverflow.com/questions/50220642/testing-suspend-corotuine/50220814#50220814", "title": "Testing suspend corotuine", "body": "<p>Of course, I figured this out right after posting. If interested, here is what I did in the test:</p>\n\n<pre><code>describe(\"when login\") {\n\n    val successCaptor: ArgumentCaptor&lt;() -&gt; Unit&gt; = TestHelpers.argumentCaptorForClass()\n    val failureCaptor: ArgumentCaptor&lt;() -&gt; Unit&gt; = TestHelpers.argumentCaptorForClass()\n\n    var result: Outcome? = null\n\n    describe(\"and the login succeeds\") {\n\n        beforeEachTest {\n            whenever(mockLoginService?.login(capture(successCaptor), capture(failureCaptor))).thenAnswer {\n                successCaptor.value.invoke()\n            }\n            result = uut?.execute()\n        }\n\n        it(\"logs in with the login service\") {\n            verify(mockLoginService)?.login(any(), any())\n        }\n\n        it(\"returns an outcome of SUCCESS\") {\n            expect(result).to.equal(Outcome.SUCCESS)\n        }\n    }\n\n    describe(\"and the login fails\") {\n        beforeEachTest {\n            whenever(mockLoginService?.login(capture(successCaptor), capture(failureCaptor))).thenAnswer {\n                failureCaptor.value.invoke()\n            }\n            result = uut?.execute()\n        }\n\n        it(\"logs in with the login service\") {\n            verify(mockLoginService)?.login(any(), any())\n        }\n\n        // other tests\n\n        it(\"returns an outcome of FAILURE\") {\n            expect(result).to.equal(Outcome.FAILURE)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 50220814, "answer_count": 1, "score": -1, "last_activity_date": 1525719718, "creation_date": 1525718942, "question_id": 50220642, "link": "https://stackoverflow.com/questions/50220642/testing-suspend-corotuine", "title": "Testing suspend corotuine", "body": "<p>I am trying to use coroutines to handle asynchronous code for my login service. Unfortunately, the implementation of the login service must accept callbacks when it completes. I do not want this <code>login()</code> function to complete until one of these callbacks occurs.</p>\n\n<p>Here is what I have:</p>\n\n<pre><code>fun login(): Outcome = runBlocking {\n    suspendCoroutine&lt;Outcome&gt; { continuation -&gt;\n        loginService.login(\n                onLoginSuccess = {\n                    // do some stuff\n                    continuation.resume(Outcome.SUCCESS)\n                },\n                onLoginFailure = {\n                    // handle failure case\n                    continuation.resume(Outcome.FAILURE)\n                }\n        )\n    }\n}\n</code></pre>\n\n<p>My issue is my tests never complete. I think what is happening is that the continuation block itself isn't running. I tried wrapping the call to <code>uut.login()</code> in a runBlocking as well, but it didn't help. Here is my test code (using Spek):</p>\n\n<pre><code>describe(\"when login\") {\n\n    val successCaptor: ArgumentCaptor&lt;() -&gt; Unit&gt; = TestHelpers.argumentCaptorForClass()\n    val failureCaptor: ArgumentCaptor&lt;() -&gt; Unit&gt; = TestHelpers.argumentCaptorForClass()\n\n    var result: Outcome? = null\n\n    beforeEachTest {\n        doNothing().whenever(mockLoginService)?.login(capture(successCaptor), capture(failureCaptor))\n        result = uut?.execute()\n    }\n\n    it(\"logs in with the login service\") {\n        verify(mockLoginService)?.login(any(), any())\n    }\n\n    describe(\"and the login succeeds\") {\n\n        beforeEachTest {\n            successCaptor.value.invoke()\n        }\n\n        // other tests...\n\n        it(\"returns an outcome of SUCCESS\") {\n            expect(result).to.equal(Outcome.SUCCESS)\n        }\n    }\n\n    describe(\"and the login fails\") {\n        beforeEachTest {\n            failureCaptor.value.invoke()\n        }\n\n        // other tests...\n\n        it(\"returns an outcome of FAILURE\") {\n            expect(result).to.equal(Outcome.FAILURE)\n        }\n    }\n}\n</code></pre>\n\n<p>Basically, I'd like to assert that the <code>login()</code> method returned either a SUCCESS or FAILURE outcome based on what occurred.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["android", "json", "kotlin", "picasso"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1525714661, "post_id": 50219570, "comment_id": 87456260, "body": "<code>holder.view.movie_poster</code> instead. The notation you&#39;re using is for static (companion) objects, whereas you&#39;re looking for the member <code>movie_poster</code> inside the <code>holder</code> object"}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1525714822, "post_id": 50219570, "comment_id": 87456338, "body": "@Simon Pardon me but what exactly are you referring to?"}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1525714925, "post_id": 50219570, "comment_id": 87456391, "body": "<code>moviePoster</code> and <code>movie_poster</code> are different.  <code>moviePoster</code> is an attribute from my data class."}], "answers": [{"comments": [{"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1525715550, "post_id": 50219779, "comment_id": 87456723, "body": "<code>BASE_URL</code> is declared in my MainActivity.kt"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "reply_to_user": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1525715619, "post_id": 50219779, "comment_id": 87456763, "body": "Then just pass it to adapter . Do not use only <code>R.string.base_URL</code>."}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1525717014, "post_id": 50219779, "comment_id": 87457436, "body": "I have more Kotlin questions.  Would you be fine with chatting further?  I&#39;m having issues with parsing my JSON data."}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "reply_to_user": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1525717320, "post_id": 50219779, "comment_id": 87457602, "body": "I am also a beginner in <code>kotlin</code>. I found <a href=\"https://kotlinlang.org/docs/tutorials/koans.html\" rel=\"nofollow noreferrer\">Kotlin Koans</a> very helpful . Other than that  if you stuck somewhere you are always welcome to ask here . You can tag the user in comments to get there attention (i do not know if it works)."}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1525717369, "post_id": 50219779, "comment_id": 87457630, "body": "Yea but this site is quite unwelcoming of beginners.  I already got a downvote for asking a legitimate question."}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "reply_to_user": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1525717633, "post_id": 50219779, "comment_id": 87457765, "body": "Thats not completely true . We encourage people to first do some research on the problem, make some effort for there own good . I can not say anything about Down voting. Mostly offT-opic question receives downvotes."}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1525719288, "post_id": 50219779, "comment_id": 87458575, "body": "I&#39;ve been researching this topic for 3 days, mate.  I&#39;ve had this experience with stackoverflow before."}], "tags": [], "owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "is_accepted": true, "score": 3, "last_activity_date": 1525715590, "last_edit_date": 1525715590, "creation_date": 1525715132, "answer_id": 50219779, "question_id": 50219570, "link": "https://stackoverflow.com/questions/50219570/picasso-throws-unresolved-reference-for-my-imageview-but-it-has-been-declared/50219779#50219779", "title": "Picasso throws &quot;unresolved reference&quot; for my imageView but it has been declared in the ViewHolder", "body": "<p>There is two problem in your code. First problem is you are passing a resource id in url as <code>R.string.base_URL</code> .  You should read the resource and pass the value of it not id .\nDeclare Base url as global.</p>\n\n<pre><code>private var BASE_URL: String?=null\n</code></pre>\n\n<p>Get the context in Adapter .</p>\n\n<pre><code>BASE_URL=context.resources.getString(R.string.base_URL)\n</code></pre>\n\n<p>Or you can pass <code>BASE_URL</code> itself in constructor .</p>\n\n<p>Second problem is you should use <code>holder.imageView</code> instead of <code>PosterHolder.imageView</code></p>\n\n<pre><code>Picasso\n            .get()\n            .load(BASE_URL + movieData.moviePoster)\n            .into(holder.imageView)\n</code></pre>\n"}], "owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 0, "accepted_answer_id": 50219779, "answer_count": 1, "score": 0, "last_activity_date": 1525715590, "creation_date": 1525714218, "last_edit_date": 1525715236, "question_id": 50219570, "link": "https://stackoverflow.com/questions/50219570/picasso-throws-unresolved-reference-for-my-imageview-but-it-has-been-declared", "title": "Picasso throws &quot;unresolved reference&quot; for my imageView but it has been declared in the ViewHolder", "body": "<p>I'm trying to use Picasso to load my RecyclerView with JSON images but the issue is that Picasso does not recognize my <code>imageView</code>, despite the fact that it was declared in the ViewHolder.</p>\n\n<pre><code>import android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.ImageView\nimport com.squareup.picasso.Picasso\nimport kotlinx.android.synthetic.main.list_item.view.*\n\nclass PosterAdapter(val movieData: Movies) : RecyclerView.Adapter&lt;PosterHolder&gt;(){\n    val movieList = mutableListOf&lt;Movies&gt;()\n\n    override fun getItemCount(): Int { return movieList.size }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PosterHolder{\n\n        val layoutInflater = LayoutInflater.from(parent?.context)\n        val listItem = layoutInflater.inflate(R.layout.list_item, parent, false)\n        return PosterHolder(listItem)\n    }\n\n    override fun onBindViewHolder(holder: PosterHolder, position: Int) {\n        Picasso\n                .get()\n                .load(\"\" + R.string.base_URL + \"\" + movieData.moviePoster)\n                .into(PosterHolder.imageView)//identifier imageView is red\n\n        holder.view.movie_poster?.scaleType = ImageView.ScaleType.FIT_CENTER\n    }\n}\n\nclass PosterHolder(val view: View) : RecyclerView.ViewHolder(view), View.OnClickListener {\n    var imageView: ImageView? = null\n\n    fun PosterHolder(view: View){ this.imageView = view.findViewById&lt;View&gt;(R.id.movie_poster) as ImageView }\n\n    override fun onClick(p0: View?) {}\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "edited": false, "score": 0, "creation_date": 1525715386, "post_id": 50218640, "comment_id": 87456640, "body": "Thanks for the helpful response. you said : &quot;that you can also write <code>MyClass.Factory.create()</code>&quot;.. In that case, can there be more companion objects like <code>Factory2</code>, <code>Factory3</code> .. and so on?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "edited": false, "score": 0, "creation_date": 1525716790, "post_id": 50218640, "comment_id": 87457314, "body": "No, only one companion is allowed."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1525710390, "creation_date": 1525710390, "answer_id": 50218640, "question_id": 50218561, "link": "https://stackoverflow.com/questions/50218561/instantiating-an-object-within-the-object-declaration-in-kotlin/50218640#50218640", "title": "Instantiating an object within the object declaration in kotlin", "body": "<p>The invocation <code>val instance = MyClass.create()</code> is independent of <em>an instance</em> of <code>MyClass</code>, you simply use the type as a qualifier for the method (it's like <code>static</code> methods in Java). Note that you can also write <code>MyClass.Factory.create()</code>, the companion's name is redundant when calling it from Kotlin though.</p>\n"}, {"comments": [{"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "edited": false, "score": 0, "creation_date": 1525715459, "post_id": 50218656, "comment_id": 87456676, "body": "Thank you for answering, it is helpful."}, {"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "edited": false, "score": 0, "creation_date": 1525750538, "post_id": 50218656, "comment_id": 87468152, "body": "I read your answer many times and I am not able to get following: &quot;The companion object is an instance of a separate class (it is not MyClass) and is initialized before the class is first used&quot; What is the separate class here. Can you please elaborate on the order of instantiation? I&#39;m new to Kotlin."}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1525754059, "post_id": 50218656, "comment_id": 87469037, "body": "It&#39;s very similar to calling a static method in Java."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1525710431, "creation_date": 1525710431, "answer_id": 50218656, "question_id": 50218561, "link": "https://stackoverflow.com/questions/50218561/instantiating-an-object-within-the-object-declaration-in-kotlin/50218656#50218656", "title": "Instantiating an object within the object declaration in kotlin", "body": "<blockquote>\n  <p>In last line however, to call the create we already need MyClass object (don't we?).</p>\n</blockquote>\n\n<p>No, the last line calls <code>.create()</code> on the <em>companion object</em> of <code>MyClass</code>. The companion object is an instance of a separate class (it is not <code>MyClass</code>) and is initialized before the class is first used, so you don't need an instance of <code>MyClass</code> to call <code>.create()</code>.</p>\n\n<p>Note that, syntactically, <code>.create()</code> is called on the <code>MyClass</code> class name, not on an ordinary exppression like <code>MyClass()</code> constructor call or a <code>myClass</code> variable.</p>\n"}], "owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 50218640, "answer_count": 2, "score": 1, "last_activity_date": 1525710431, "creation_date": 1525710082, "question_id": 50218561, "link": "https://stackoverflow.com/questions/50218561/instantiating-an-object-within-the-object-declaration-in-kotlin", "title": "Instantiating an object within the object declaration in kotlin", "body": "<p>While browsing through kotlin documentation at <a href=\"http://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">object expressions and declarations</a> I came across this snippet</p>\n\n<pre><code>class MyClass {\n    companion object Factory {\n        fun create(): MyClass = MyClass()\n    }\n}\n\nval instance = MyClass.create()\n</code></pre>\n\n<p>In line 3, the <code>create</code> function instantiates an object <code>MyClass()</code> </p>\n\n<p>In last line however, to call the <code>create</code> we already need MyClass object (don't we?). </p>\n\n<p>My question is: At what point does the MyClass comes into existence?</p>\n"}, {"tags": ["json", "kotlin", "klaxon"], "comments": [{"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1525729117, "post_id": 50218511, "comment_id": 87463194, "body": "Not enough information, please provide the source code and error."}], "answers": [{"tags": [], "owner": {"reputation": 632, "user_id": 1499171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mARXO.jpg?s=128&g=1", "display_name": "jivimberg", "link": "https://stackoverflow.com/users/1499171/jivimberg"}, "is_accepted": true, "score": 4, "last_activity_date": 1525877504, "last_edit_date": 1525877504, "creation_date": 1525845782, "answer_id": 50246483, "question_id": 50218511, "link": "https://stackoverflow.com/questions/50218511/how-to-parse-just-part-of-json-with-klaxon/50246483#50246483", "title": "How to parse just part of JSON with Klaxon?", "body": "<p>Here's one way you can achieve this</p>\n\n<pre><code>import com.beust.klaxon.Klaxon\nimport java.io.StringReader\n\nval json = \"\"\"\n    {\n        \"data\": [\n            { \"name\": \"aaa\", \"age\": 11 },\n            { \"name\": \"bbb\", \"age\": 22 },\n        ],\n        \"otherdata\" : \"not needed\"\n    }\n\"\"\".trimIndent()\n\ndata class User(val name: String, val age: Int)\n\nfun main(args: Array&lt;String&gt;) {\n    val klaxon = Klaxon()\n    val parsed = klaxon.parseJsonObject(StringReader(json))\n    val dataArray = parsed.array&lt;Any&gt;(\"data\")\n    val users = dataArray?.let { klaxon.parseFromJsonArray&lt;User&gt;(it) }\n    println(users)\n}\n</code></pre>\n\n<p>This will work as long as you can fit the whole json string in memory. Otherwise you may want to look into the streaming API: <a href=\"https://github.com/cbeust/klaxon#streaming-api\" rel=\"nofollow noreferrer\">https://github.com/cbeust/klaxon#streaming-api</a></p>\n"}], "owner": {"reputation": 176396, "user_id": 342235, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/88e5a9eb011a73ab970ddc8cfb05ff85?s=128&d=identicon&r=PG", "display_name": "Freewind", "link": "https://stackoverflow.com/users/342235/freewind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4626, "favorite_count": 1, "accepted_answer_id": 50246483, "answer_count": 1, "score": 0, "last_activity_date": 1525877504, "creation_date": 1525709878, "question_id": 50218511, "link": "https://stackoverflow.com/questions/50218511/how-to-parse-just-part-of-json-with-klaxon", "title": "How to parse just part of JSON with Klaxon?", "body": "<p>I'm trying to parse some JSON to kotlin objects. The JSON looks like:</p>\n\n<pre><code>{\n    data: [\n        { \"name\": \"aaa\", \"age\": 11 },\n        { \"name\": \"bbb\", \"age\": 22 },\n    ],\n    otherdata : \"don't need\"\n}\n</code></pre>\n\n<p>I just need to <code>data</code> part of the entire JSON, and parse each item to a <code>User</code> object:</p>\n\n<pre><code>data class User(name:String, age:Int)\n</code></pre>\n\n<p>But I can't find an easy way to do it.</p>\n"}, {"tags": ["android", "google-maps", "kotlin", "markerclusterer"], "comments": [{"owner": {"reputation": 1, "user_id": 9753681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "SirVX123", "link": "https://stackoverflow.com/users/9753681/sirvx123"}, "edited": false, "score": 0, "creation_date": 1526283622, "post_id": 50217806, "comment_id": 87666109, "body": "No one can help me with this problem ? :("}, {"owner": {"reputation": 336, "user_id": 3106273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVQ3p.jpg?s=128&g=1", "display_name": "madroid", "link": "https://stackoverflow.com/users/3106273/madroid"}, "edited": false, "score": 0, "creation_date": 1530012789, "post_id": 50217806, "comment_id": 89074698, "body": "You are not alone my friend. i&#39;m also facing the same issue :("}], "owner": {"reputation": 1, "user_id": 9753681, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "SirVX123", "link": "https://stackoverflow.com/users/9753681/sirvx123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 469, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1525707308, "creation_date": 1525707308, "question_id": 50217806, "link": "https://stackoverflow.com/questions/50217806/google-maps-could-not-allocate-dup-blob-fd", "title": "Google maps Could not allocate dup blob fd", "body": "<p>After a lot of attempts to solve this bug,i truly out of ideas what to do,i am understand from what it come from,the cache out of memory.\nSo after reading some solution here the best one that really improve the performance and provide the app to survive more than 20 seconds was this one:</p>\n\n<p><a href=\"https://stackoverflow.com/a/36903036/9753681\">https://stackoverflow.com/a/36903036/9753681</a></p>\n\n<p>I have more than 30k clusters in the map with icon text that every cluster is a a view.\nSo what id i inherited <code>IconGenerator</code> and create my own cache with <code>LruCache</code>,\nand by the bounds of the camera i am delete the cluster itself from the <code>ClusterManger</code> and the bitmap itself from the cache and save the model itelf of the cluster only in another cache for providing if the camera move and cluster not in the cache of the bitmaps it will be provided by the remove model cache.\nIn addition just when the camera stop to move i am drawing the cluster.\nBut still it doesnt work,and it still get the same error :</p>\n\n<pre><code>Could not allocate dup blob fd\n</code></pre>\n\n<p>Hers is my code:</p>\n\n<p><strong>CustomClusterMarker:</strong></p>\n\n<pre><code>    class CustomClusterMarker(private var context: Context,\n                          private var map: GoogleMap,\n                          private var clusterManager: ClusterManager&lt;ClusterMarkerBase&gt;,\n                          clusters: List&lt;ClusterMarkerBase&gt;) :\n        DefaultClusterRenderer&lt;ClusterMarkerBase&gt;(context, map, clusterManager) {\n\n\n\n    private val TAG: String = CustomClusterMarker::class.simpleName.toString()\n\n    private var mIconGenerator: CachedIconGenerator\n    private var mClusterIconGenerator: CachedIconGenerator\n    private var bounds: LatLngBounds? = null\n    private var isNotMove = true\n\n\n    init {\n        mDimension = context.resources.getDimension(R.dimen.custom_profile_image).toInt()\n        mIconGenerator = CachedIconGenerator(context)\n        mClusterIconGenerator = CachedIconGenerator(context)\n        mIconGenerator.setBackground(ColorDrawable(Color.TRANSPARENT))\n        mClusterIconGenerator.setBackground(ColorDrawable(Color.TRANSPARENT))\n\n    }\n\n\n    override fun onBeforeClusterItemRendered(item: ClusterMarkerBase?, markerOptions: MarkerOptions?) {\n        //For single item\n\n        if (item == null &amp;&amp; markerOptions == null)\n            return\n\n//        // Prepare View\n        val itemCluster = LayoutInflater.from(context).inflate(R.layout.view_marker, null)\n        val imgItem = itemCluster.findViewById&lt;ImageView&gt;(R.id.image)\n        val imgStatus = itemCluster.findViewById&lt;ImageView&gt;(R.id.status_icon)\n        val tvCount = itemCluster.findViewById&lt;TextView&gt;(R.id.txt_counter)\n        val txtDescription = itemCluster.findViewById&lt;TextView&gt;(R.id.description_marker)\n        imgItem.setImageResource(item!!.mIcon)\n        txtDescription.text = item.title\n\n        if (tvCount.visibility == View.VISIBLE)\n            tvCount.visibility = View.GONE\n\n        if (imgStatus.visibility == View.GONE)\n            imgStatus.visibility = View.VISIBLE\n\n        if (item.isTech) {\n            imgStatus.setImageResource(getIconOnCall(item.onCall, imgStatus))\n        } else {\n            imgStatus.setImageResource(getIconOpenCall(item.onCall, imgStatus))\n        }\n\n\n  //Start cleaning cache before set the icon\n\n        if (bounds != null) {\n            if (!bounds!!.contains(item.position)) {\n                Completable.fromAction({\n                    mIconGenerator.removeIcon(item.mId)\n                    mIconGenerator.saveBeforeRemoveCluster(item)\n                    clusterManager.removeItem(item)\n                }).doOnError {\n                    Log.e(TAG, \"Show error single remove: \" + it.toString())\n                }\n            }\n        }\n\n\n        if (bounds != null) {\n            //Adding the cluster that were delete depends by the bounds\n            mIconGenerator.getRemovesClusters(bounds!!)\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe({\n                        clusterManager.addItems(it)\n                    }) {\n                        Log.e(TAG, \"Show add single error: \" + it.toString())\n                    }\n        }\n\n        if (isNotMove) {\n            //Convert view to Bitmap and set it on the map with the marker option\n            try {\n                mIconGenerator.setContentView(itemCluster)\n                val descriptorFactory = BitmapDescriptorFactory\n                        .fromBitmap(mIconGenerator.makeIcon(item.mId))\n                markerOptions!!.icon(descriptorFactory)\n            } catch (e: Exception) {\n                Log.e(TAG, \"Show single exeption: \" + e.toString())\n            }\n        }\n    }\n\n\n    override fun onBeforeClusterRendered(cluster: Cluster&lt;ClusterMarkerBase&gt;?, markerOptions: MarkerOptions?) {\n\n        //Check for cluster and mark option is Null\n        //For group only!!!!\n        if (cluster == null || markerOptions == null)\n            return\n\n//        // Inflate View\n        val itemCluster = LayoutInflater.from(context).inflate(R.layout.view_marker, null)\n        val tvCount = itemCluster.findViewById&lt;TextView&gt;(R.id.txt_counter)\n        val imgItem = itemCluster.findViewById&lt;ImageView&gt;(R.id.image)\n        val imgStatus = itemCluster.findViewById&lt;ImageView&gt;(R.id.status_icon)\n\n        if (imgStatus.visibility == View.VISIBLE)\n            imgStatus.visibility = View.GONE\n\n        if (tvCount.visibility == View.GONE)\n            tvCount.visibility = View.VISIBLE\n\n        if (cluster.items.isNotEmpty())\n            imgItem.setImageResource(cluster.items.first().mIcon)\n\n        tvCount.text = (cluster.size - 1).toString()\n\n        //Convert view to Bitmap and set it on the map with the marker option\n\n        //Start cleaning cache before set the icon\n\n        if (bounds != null) {\n            if (!bounds!!.contains(cluster.position)) {\n                Completable.fromAction({\n                    mClusterIconGenerator.removeIcon(cluster.toString())\n                    mClusterIconGenerator.saveBeforeRemoveCluster(cluster.items)\n                    for (item in cluster.items) {\n                        clusterManager.removeItem(item)\n                    }\n                }).doOnError {\n                    Log.e(TAG, \"Show group error remove: \" + it.toString())\n                }\n            }\n        }\n        //Adding all clusters that were delete depends by the bounds\n        if (bounds != null) {\n            mClusterIconGenerator.getRemovesClusters(bounds!!)\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe({\n                        clusterManager.addItems(it)\n                    }) {\n                        Log.e(TAG, \"Show group error add: \" + it.toString())\n                    }\n        }\n\n        if (isNotMove) {\n            try {\n                mClusterIconGenerator.setContentView(itemCluster)\n                val descriptorFactory = BitmapDescriptorFactory\n                        .fromBitmap(mClusterIconGenerator.makeIcon(cluster.toString()))\n                markerOptions.icon(descriptorFactory)\n            } catch (e: Exception) {\n                Log.e(TAG,\"Show gourp exeption: \"+e.toString())\n            }\n        }\n    }\n\n    fun setBounds(bounds: LatLngBounds) {\n        this.bounds = bounds\n    }\n\n    fun setOnCameraState(isNotMove: Boolean) {\n        this.isNotMove = isNotMove\n    }\n\n    override fun shouldRenderAsCluster(cluster: Cluster&lt;ClusterMarkerBase&gt;?): Boolean {\n        return super.shouldRenderAsCluster(cluster)\n    }\n\n    private fun getIconOnCall(isOnCall: Boolean, image: ImageView): Int {\n        return if (isOnCall) {\n            image.visibility = View.GONE\n            0\n        } else {\n            image.visibility = View.VISIBLE\n            R.drawable.free\n        }\n    }\n\n    private fun getIconOpenCall(onCall: Boolean, image: ImageView): Int {\n        return if (onCall) {\n            image.visibility = View.VISIBLE\n            R.drawable.open_call\n        } else {\n            image.visibility = View.GONE\n            0\n        }\n    }\n</code></pre>\n\n<p>My own custom cache:</p>\n\n<p><strong>CachedIconGenerator:</strong></p>\n\n<pre><code>    class CachedIconGenerator(context: Context) : IconGenerator(context) {\n\n    private val mBitmapsCache: LruCache&lt;String, Bitmap&gt;\n    private val mModelClusterCache: LruCache&lt;String, ClusterMarkerBase&gt;\n    private var bounds: LatLngBounds? = null\n\n    private val TAG = CachedIconGenerator::class.simpleName\n\n    init {\n\n        val maxMemory = (Runtime.getRuntime().maxMemory() / 1024).toInt()\n\n        // Use 1/8th of the available memory for this memory cache.\n        val cacheSize = maxMemory / 8\n        mBitmapsCache = object : LruCache&lt;String, Bitmap&gt;(cacheSize) {\n            override fun sizeOf(key: String, bitmap: Bitmap): Int {\n                // The cache size will be measured in kilobytes rather than\n                // number of items.\n                return bitmap.byteCount / 1024\n            }\n        }\n//        val sizeModel = maxMemory\n        mModelClusterCache = LruCache(cacheSize)\n\n    }\n\n    fun saveBeforeRemoveCluster(cluster: ClusterMarkerBase) {\n        mModelClusterCache.put(cluster.mId, cluster)\n    }\n\n    fun saveBeforeRemoveCluster(clusters: Collection&lt;ClusterMarkerBase&gt;) {\n        for (item in clusters) {\n            mModelClusterCache.put(item.mId, item)\n        }\n    }\n\n    fun setBounds(bounds: LatLngBounds) {\n        this.bounds = bounds\n    }\n\n    fun removeIcon(id: String) {\n        if (mBitmapsCache[id] != null)\n            mBitmapsCache.remove(id)\n    }\n\n    fun isIconExsit(id: String): Boolean {\n        return mBitmapsCache[id] != null\n    }\n\n    fun makeIcon(id: String): Bitmap? {\n        return if (mBitmapsCache[id] == null) {\n            val bitmap = super.makeIcon()\n            mBitmapsCache.put(id, bitmap)\n            bitmap\n        } else\n            mBitmapsCache[id]\n\n    }\n\n    fun getRemovesClusters(bounds: LatLngBounds): Observable&lt;ArrayList&lt;ClusterMarkerBase&gt;&gt; {\n        val list = ArrayList&lt;ClusterMarkerBase&gt;()\n        for (item in mModelClusterCache.snapshot().values) {\n            if (bounds.contains(item.position))\n                list.add(item)\n        }\n        return Observable.just(list)\n\n    }\n\n    fun isCacheEmtpty(): Boolean {\n        return mBitmapsCache.size() == 0\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-custom-view"], "comments": [{"owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 0, "creation_date": 1525707270, "post_id": 50216805, "comment_id": 87452492, "body": "Show your activity code. Does this view lay out properly?"}, {"owner": {"reputation": 88, "user_id": 5518744, "user_type": "registered", "profile_image": "https://graph.facebook.com/945996745473065/picture?type=large", "display_name": "Kashif K.", "link": "https://stackoverflow.com/users/5518744/kashif-k"}, "reply_to_user": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 0, "creation_date": 1525715470, "post_id": 50216805, "comment_id": 87456679, "body": "yes the layout is laid out properly, i had updated the snippet, could you check that please"}, {"owner": {"reputation": 88, "user_id": 5518744, "user_type": "registered", "profile_image": "https://graph.facebook.com/945996745473065/picture?type=large", "display_name": "Kashif K.", "link": "https://stackoverflow.com/users/5518744/kashif-k"}, "reply_to_user": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 0, "creation_date": 1525856517, "post_id": 50216805, "comment_id": 87516050, "body": "@Pavlus could you help me here buddy"}], "answers": [{"comments": [{"owner": {"reputation": 2098, "user_id": 2404262, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-Li4e_GZNDKE/AAAAAAAAAAI/AAAAAAAABok/LR8hp-TaTgQ/photo.jpg?sz=128", "display_name": "Anshul Tyagi", "link": "https://stackoverflow.com/users/2404262/anshul-tyagi"}, "edited": false, "score": 0, "creation_date": 1555044584, "post_id": 50639656, "comment_id": 97978855, "body": "Are you able to make its custom adapter and customize its child view ?"}], "tags": [], "owner": {"reputation": 88, "user_id": 5518744, "user_type": "registered", "profile_image": "https://graph.facebook.com/945996745473065/picture?type=large", "display_name": "Kashif K.", "link": "https://stackoverflow.com/users/5518744/kashif-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1527843421, "creation_date": 1527843421, "answer_id": 50639656, "question_id": 50216805, "link": "https://stackoverflow.com/questions/50216805/wheelview-luke-deighton/50639656#50639656", "title": "WheelView-Luke Deighton", "body": "<p>Apparently, the only bit of code missing was an xml attribute namely <strong>wheelItemCount</strong>, adding that the wheelview items got rendered.</p>\n"}], "owner": {"reputation": 88, "user_id": 5518744, "user_type": "registered", "profile_image": "https://graph.facebook.com/945996745473065/picture?type=large", "display_name": "Kashif K.", "link": "https://stackoverflow.com/users/5518744/kashif-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1527843421, "creation_date": 1525703903, "last_edit_date": 1525757784, "question_id": 50216805, "link": "https://stackoverflow.com/questions/50216805/wheelview-luke-deighton", "title": "WheelView-Luke Deighton", "body": "<p>This is my first time ever on stack, as most of the problem's answers are already available, but this <code>WheelView</code> by Luke Deighton, I couldn't find much about it on the web, so here it is</p>\n\n<p>What I am trying to do is set a list of hours from 1 to 12 to a <code>WheelView</code></p>\n\n<p>This is one of my fragments</p>\n\n<pre><code>class SetTimeFragment : android.app.Fragment(), TimePresenter.TimePresenterCallback, WheelView.OnWheelItemSelectListener {\n\nprivate var hours: List&lt;String&gt;? = null\nprivate var days: List&lt;String&gt;? = null\nprivate var minutes: List&lt;String&gt;? = null\nprivate var type: List&lt;String&gt;? = null\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    var view: View =inflater.inflate(R.layout.fragment_add_time, container, false)\n    TimePresenter(this).setDataForTimeAndDays()\n    return view\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    setDayslist(days)\n    setHour(hours)\n    setMinute(minutes)\n    setTimeType(type)\n}\n\noverride fun onDaysOfWeekSuccess(hours: List&lt;String&gt;?, minutes: List&lt;String&gt;?, type: List&lt;String&gt;?, days: List&lt;String&gt;?) {\n    this.days =days\n    this.hours =hours\n    this.minutes =minutes\n    this.type =type\n}\n\nfun setDayslist(days: List&lt;String&gt;?){\n    rvDays.layoutManager = LinearLayoutManager(activity, LinearLayoutManager.HORIZONTAL, false)\n    rvDays.adapter = DaysInWeekAdapter(days)\n}\n\nfun setHour(hours: List&lt;String&gt;?){\n// the adapter which I am trying to set\n    hourWheel.adapter = HoursInDayAdapter(hours)\n    hourWheel.setSelectionColor(R.color.white)\n}\n\nfun setMinute(minutes: List&lt;String&gt;?){\n    minuteWheel.adapter = MinutesInHourAdapter(minutes)\n    hourWheel.setSelectionColor(R.color.white)\n}\n\nfun setTimeType(type: List&lt;String&gt;?){\n    typeWheel.adapter = TimeTypeInDayAdapter(type)\n    hourWheel.setSelectionColor(R.color.white)\n}\n\noverride fun onWheelItemSelected(parent: WheelView?, itemDrawable: Drawable?, pos: Int) {\n    }\n}\n\n\n// the adapter set above but in a different class\npublic class HoursInDayAdapter extends WheelArrayAdapter {\nList&lt;String&gt; hours;\n\npublic HoursInDayAdapter(List&lt;String&gt; hours) {\n    super(hours);\n    this.hours = hours;\n}\n\n@Override\npublic Drawable getDrawable(int position) {\n    Drawable[] drawable = new Drawable[] {\n            createOvalDrawable(),\n            new TextDrawable(hours.get(position))\n    };\n    return new LayerDrawable(drawable);\n}\n\nprivate Drawable createOvalDrawable() {\n    ShapeDrawable shapeDrawable = new ShapeDrawable(new OvalShape());\n    shapeDrawable.getPaint().setColor(Color.BLUE);\n    return shapeDrawable;\n}\n\n@Override\npublic int getCount() {\n    return hours.size();\n}\n\n}\n\n// the list which I am passing\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n</code></pre>\n\n<p>The <code>WheelView</code> is not showing anything, no error nothing, the <code>WheelView</code> comes up but has nothing on its wheel, I have tried using a simple <code>WheelAdapter</code> as well, this code is mostly copy-pasted from the <code>MainActivity</code>code of <code>WheelView</code> only</p>\n\n<p><a href=\"https://github.com/LukeDeighton/WheelView/blob/master/WheelViewSample/src/main/java/com/lukedeighton/wheelsample/MainActivity.java\" rel=\"nofollow noreferrer\">https://github.com/LukeDeighton/WheelView/blob/master/WheelViewSample/src/main/java/com/lukedeighton/wheelsample/MainActivity.java</a></p>\n\n<p>But no luck, could you guys help me with this</p>\n"}, {"tags": ["spring-mvc", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "edited": false, "score": 0, "creation_date": 1525703485, "post_id": 50216632, "comment_id": 87450110, "body": "I guess you&#39;re right, but nevertheless our clients use these formats (probably they use some broken frameworks/libraries). If possible I would like to accept all formats to give our clients the best possible API experience even if they use broken libraries."}, {"owner": {"reputation": 3025, "user_id": 2557818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ae8bb86c9f66051637cb52d5de9826f7?s=128&d=identicon&r=PG", "display_name": "Raja Anbazhagan", "link": "https://stackoverflow.com/users/2557818/raja-anbazhagan"}, "reply_to_user": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "edited": false, "score": 0, "creation_date": 1525704403, "post_id": 50216632, "comment_id": 87450725, "body": "You may try searching for <code>@InitBinder</code>. This way you can supply your own converter mechanism. May be this post might help. <a href=\"https://stackoverflow.com/questions/5211323/what-is-the-purpose-of-init-binder-in-spring-mvc?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"what is the purpose of init binder in spring mvc\">stackoverflow.com/questions/5211323/&hellip;</a>"}, {"owner": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "edited": false, "score": 1, "creation_date": 1525704425, "post_id": 50216632, "comment_id": 87450744, "body": "According to wikipedia, format 6 should be covered by iso8601"}, {"owner": {"reputation": 3025, "user_id": 2557818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ae8bb86c9f66051637cb52d5de9826f7?s=128&d=identicon&r=PG", "display_name": "Raja Anbazhagan", "link": "https://stackoverflow.com/users/2557818/raja-anbazhagan"}, "reply_to_user": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "edited": false, "score": 0, "creation_date": 1525705741, "post_id": 50216632, "comment_id": 87451525, "body": "I wouldn&#39;t trust a wikipedia page over a <code>w3.org</code> published document."}, {"owner": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "edited": false, "score": 0, "creation_date": 1525705892, "post_id": 50216632, "comment_id": 87451614, "body": "Me neither, but also W3C is not ISO. The real ISO standard document is not available for free :("}], "tags": [], "owner": {"reputation": 3025, "user_id": 2557818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ae8bb86c9f66051637cb52d5de9826f7?s=128&d=identicon&r=PG", "display_name": "Raja Anbazhagan", "link": "https://stackoverflow.com/users/2557818/raja-anbazhagan"}, "is_accepted": false, "score": 1, "last_activity_date": 1525706352, "last_edit_date": 1525706352, "creation_date": 1525703353, "answer_id": 50216632, "question_id": 50216335, "link": "https://stackoverflow.com/questions/50216335/how-to-parse-different-iso-date-time-formats-with-spring-mvc-requestparam/50216632#50216632", "title": "How to parse different ISO date/time formats with Spring MVC @RequestParam", "body": "<p>You get <code>400-Bad Request</code> because format 5 and 6 are not part of the <code>ISO</code> specifications.</p>\n\n<p>If you look at the Time Zone Designator, it can be one of <code>Z</code> or <code>+hh:mm</code> or <code>-hh:mm</code>.</p>\n\n<p>The official list of  <code>ISO-8601</code> formats can be found <strong><a href=\"https://www.w3.org/TR/NOTE-datetime\" rel=\"nofollow noreferrer\">here</a></strong>. </p>\n\n<pre><code>   Year:\n      YYYY (eg 1997)\n   Year and month:\n      YYYY-MM (eg 1997-07)\n   Complete date:\n      YYYY-MM-DD (eg 1997-07-16)\n   Complete date plus hours and minutes:\n      YYYY-MM-DDThh:mmTZD (eg 1997-07-16T19:20+01:00)\n   Complete date plus hours, minutes and seconds:\n      YYYY-MM-DDThh:mm:ssTZD (eg 1997-07-16T19:20:30+01:00)\n   Complete date plus hours, minutes, seconds and a decimal fraction of a second\n      YYYY-MM-DDThh:mm:ss.sTZD (eg 1997-07-16T19:20:30.45+01:00)\n</code></pre>\n\n<p>where:</p>\n\n<pre><code>     YYYY = four-digit year\n     MM   = two-digit month (01=January, etc.)\n     DD   = two-digit day of month (01 through 31)\n     hh   = two digits of hour (00 through 23) (am/pm NOT allowed)\n     mm   = two digits of minute (00 through 59)\n     ss   = two digits of second (00 through 59)\n     s    = one or more digits representing a decimal fraction of a second\n     TZD  = time zone designator (Z or +hh:mm or -hh:mm)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "is_accepted": true, "score": 1, "last_activity_date": 1525705855, "creation_date": 1525705855, "answer_id": 50217363, "question_id": 50216335, "link": "https://stackoverflow.com/questions/50216335/how-to-parse-different-iso-date-time-formats-with-spring-mvc-requestparam/50217363#50217363", "title": "How to parse different ISO date/time formats with Spring MVC @RequestParam", "body": "<p>I solved it by adding a custom formatter annotation:</p>\n\n<pre><code>@Target(AnnotationTarget.VALUE_PARAMETER)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class IsoDateTime\n</code></pre>\n\n<p>Plus a FormatterFactory:</p>\n\n<pre><code>class DefensiveDateTimeFormatterFactory : \nEmbeddedValueResolutionSupport(), AnnotationFormatterFactory&lt;IsoDateTime&gt; \n{\n  override fun getParser(annotation: IsoDateTime?, fieldType: Class&lt;*&gt;?): Parser&lt;*&gt; {\n    return Parser&lt;OffsetDateTime&gt; { text, _ -&gt; OffsetDateTime.parse(text, JacksonConfig.defensiveFormatter) }\n  }\n\n  override fun getPrinter(annotation: IsoDateTime, fieldType: Class&lt;*&gt;): Printer&lt;*&gt; {\n    return Printer&lt;OffsetDateTime&gt; { obj, _ -&gt; obj.format(DateTimeFormatter.ISO_DATE_TIME) }\n  }\n\n  override fun getFieldTypes(): MutableSet&lt;Class&lt;*&gt;&gt; {\n    return mutableSetOf(OffsetDateTime::class.java)\n  }\n}\n</code></pre>\n\n<p>The actual DateTimeFormat class comes from my other question, <a href=\"https://stackoverflow.com/questions/49390734/how-to-parse-different-iso-date-time-formats-with-jackson-and-java-time/49391489?noredirect=1#comment85808586_49391489\">How to parse different ISO date/time formats with Jackson and java.time?</a></p>\n\n<p>And added it to Spring using WebMvcConfigurer:</p>\n\n<pre><code>@Configuration\nopen class WebMvcConfiguration : WebMvcConfigurer {\n  override fun addFormatters(registry: FormatterRegistry) {\n    registry.addFormatterForFieldAnnotation(DefensiveDateTimeFormatterFactory())\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1318, "favorite_count": 1, "accepted_answer_id": 50217363, "answer_count": 2, "score": 1, "last_activity_date": 1525706352, "creation_date": 1525702361, "last_edit_date": 1525706112, "question_id": 50216335, "link": "https://stackoverflow.com/questions/50216335/how-to-parse-different-iso-date-time-formats-with-spring-mvc-requestparam", "title": "How to parse different ISO date/time formats with Spring MVC @RequestParam", "body": "<p>Our Rest API is used by several external parties. They all use \"ISO-ish\" formats, but the formatting of the time zone offset is slightly different. These are some of the most common formats we see:</p>\n\n<ol>\n<li><code>2018-01-01T15:56:31.410Z</code></li>\n<li><code>2018-01-01T15:56:31.41Z</code></li>\n<li><code>2018-01-01T15:56:31Z</code></li>\n<li><code>2018-01-01T15:56:31+00:00</code></li>\n<li><code>2018-01-01T15:56:31+0000</code></li>\n<li><code>2018-01-01T15:56:31+00</code></li>\n</ol>\n\n<p>In my controller I use the following annotations:</p>\n\n<pre><code>@RequestMapping(value = [\"/some/api/call\"], method = [GET])\nfun someApiCall(\n  @RequestParam(\"from\") \n  @DateTimeFormat(iso = ISO.DATE_TIME) \n  from: OffsetDateTime\n) {\n  ...\n}\n</code></pre>\n\n<p>It parses variant 1-4 just fine but produces a 400 Bad Request error for variants 5 and 6 with the following exception:</p>\n\n<pre><code>Caused by: java.time.format.DateTimeParseException: Text '2018-01-01T13:37:00.001+00' could not be parsed, unparsed text found at index 23\n  at java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1952)\n  at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n</code></pre>\n\n<p>How can I make it accept all the above ISO formatting variants (even if they are not 100% compliant to the ISO standard)?</p>\n"}, {"tags": ["android", "kotlin", "broadcastreceiver", "android-pendingintent"], "comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 1, "creation_date": 1525701397, "post_id": 50215984, "comment_id": 87448676, "body": "most <b>manifest registered receivers dont work in oreo</b> ..try registering programaticaly"}, {"owner": {"reputation": 1438, "user_id": 7857932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZSRpb.jpg?s=128&g=1", "display_name": "Ghulam Moinul Quadir", "link": "https://stackoverflow.com/users/7857932/ghulam-moinul-quadir"}, "edited": false, "score": 0, "creation_date": 1525702050, "post_id": 50215984, "comment_id": 87449114, "body": "For what functionality are you trying to make receiver?"}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525707302, "post_id": 50215984, "comment_id": 87452517, "body": "What is <code>futureInMillis</code>? What type is the variable <code>Notification</code>?"}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "reply_to_user": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1525707548, "post_id": 50215984, "comment_id": 87452679, "body": "@SantanuSur User is using <code>AlarmManager</code> to send the broadcast, not a manifest registered receiver."}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525759947, "post_id": 50215984, "comment_id": 87471183, "body": "@DavidWasser <code>futureInMillis</code> - time to fire alarm in future. <code>Notification</code> is type for variable <code>notification</code>."}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525761518, "post_id": 50215984, "comment_id": 87471900, "body": "How do you calculate futureInMillis?"}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525770088, "post_id": 50215984, "comment_id": 87476767, "body": "@DavidWasser <code>System.currentTimeMillis() + 60000L;</code>"}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525770658, "post_id": 50215984, "comment_id": 87477114, "body": "That&#39;s your problem! If you calculate the trigger time that way you need to use RTC_WAKEUP instead of ELAPSED_REALTIME_WAKEUP!"}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525770701, "post_id": 50215984, "comment_id": 87477146, "body": "I will post an answer later when I am back in my office"}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525771057, "post_id": 50215984, "comment_id": 87477376, "body": "@DavidWasser Unfort, it does not work. I updated original code with specific code I&#39;ve now. Still not working."}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525773526, "post_id": 50215984, "comment_id": 87478918, "body": "Please try one more thing: remove the notification object from the Intent and see if the alarm triggers. I am travelling now so I cannot do any proper research."}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525773876, "post_id": 50215984, "comment_id": 87479183, "body": "@DavidWasser Thanks for help btw! I did try that and I get same result. This is confusing."}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 1, "creation_date": 1525774362, "post_id": 50215984, "comment_id": 87479475, "body": "Remove &#39;exported=&quot;false&quot;&#39; from the &lt;receiver&gt; tag. I jusy noticed that!"}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525777775, "post_id": 50215984, "comment_id": 87481515, "body": "@DavidWasser Looks like that was the reason. Do you know why?"}, {"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525779765, "post_id": 50215984, "comment_id": 87482814, "body": "When you mark the receiver as &quot;not exported&quot; that means it is private and cannot be triggered from another application. Therefore Alarmmanager cannot trigger the receiver. You must."}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1525779806, "post_id": 50215984, "comment_id": 87482831, "body": "@DavidWasser Thanks for information. Feel free to repost it as &quot;answer&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "is_accepted": true, "score": 1, "last_activity_date": 1525789313, "creation_date": 1525789313, "answer_id": 50235931, "question_id": 50215984, "link": "https://stackoverflow.com/questions/50215984/broadcast-onreceive-method-does-not-get-called/50235931#50235931", "title": "Broadcast onReceive method does not get called", "body": "<p>Remove</p>\n\n<pre><code>android:exported=\"false\"\n</code></pre>\n\n<p>from the <code>&lt;receiver&gt;</code> declaration in the manifest.</p>\n\n<p>If you don't \"export\" your receiver, the <code>AlarmManager</code> cannot trigger it. When you mark a component in the manifest as \"not exported\", this means that it is \"private\" and other applications (including system applications like <code>AlarmManager</code>) cannot launch or trigger the component.</p>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 50235931, "answer_count": 1, "score": -2, "last_activity_date": 1525789313, "creation_date": 1525701216, "last_edit_date": 1525771026, "question_id": 50215984, "link": "https://stackoverflow.com/questions/50215984/broadcast-onreceive-method-does-not-get-called", "title": "Broadcast onReceive method does not get called", "body": "<p>DUE TO COMMENTS, CODE IS UPDATED WITH MORE SPECIFIC INFORMATION.</p>\n\n<p><strong>Manifest.xml</strong></p>\n\n<pre><code>&lt;receiver\n        android:name=\"com.x.x.x.MyReceiver\"\n        android:enabled=\"true\"\n        android:exported=\"false\"&gt;\n\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.x.x.x.NOTIFICATION_INTENT_ACTION.TEST\" /&gt;\n        &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p><strong>MyReceiver.java</strong></p>\n\n<pre><code>internal class MyReceiver: BroadcastReceiver() {\n\n    companion object {\n        const val NOT_ID = \"..\"\n        const val NOT = \"..\"\n        const val NOTIFICATION_INTENT_ACTION = \"com.x.x.x.NOTIFICATION_INTENT_ACTION.TEST\"\n\n    }\n\n    override fun onReceive(context: Context, intent: Intent) {\n        // does not get called\n    }\n}\n</code></pre>\n\n<p><strong>CreatingIntent.java</strong></p>\n\n<pre><code>    Intent intent = new Intent(this, MyReceiver.class);\n    mPendingIntent = PendingIntent.getBroadcast(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    mAlarmManager = (AlarmManager)getSystemService(Context.ALARM_SERVICE);\n    if (mAlarmManager != null) {\n        mAlarmManager.set(AlarmManager.RTC_WAKEUP, System.currentTimeMillis() + 60000L, mPendingIntent);\n    }\n</code></pre>\n\n<p>Problem: onReceive method inside of <code>NotRec</code> class does not get called. I tried to change Manifest to <code>&lt;receiver android:name=\"FULL_PATH.receiver.NotRec\" /&gt;</code> but it didn't change anything. Any ideas?</p>\n"}, {"tags": ["java", "android", "xml", "kotlin", "android-manifest"], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 0, "last_activity_date": 1525701939, "creation_date": 1525701939, "answer_id": 50216221, "question_id": 50215929, "link": "https://stackoverflow.com/questions/50215929/call-my-camera-application-from-anotherex-messenger/50216221#50216221", "title": "Call my Camera- application from another(ex. messenger)", "body": "<p>Have an <code>&lt;intent-filter&gt;</code> on your camera activity like:</p>\n\n<pre><code>        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.media.action.IMAGE_CAPTURE\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n        &lt;/intent-filter&gt;\n</code></pre>\n\n<p>and follow the rest of <a href=\"https://developer.android.com/reference/android/provider/MediaStore.html#action_image_capture\" rel=\"nofollow noreferrer\">the documented rules for the <code>ACTION_IMAGE_CAPTURE</code> protocol</a> (e.g., <code>EXTRA_OUTPUT</code>).</p>\n"}], "owner": {"reputation": 15, "user_id": 9736457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LAQvY.jpg?s=128&g=1", "display_name": "mrneumann888", "link": "https://stackoverflow.com/users/9736457/mrneumann888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 50216221, "answer_count": 1, "score": -1, "last_activity_date": 1525701939, "creation_date": 1525701094, "question_id": 50215929, "link": "https://stackoverflow.com/questions/50215929/call-my-camera-application-from-anotherex-messenger", "title": "Call my Camera- application from another(ex. messenger)", "body": "<p>I'd like to see my camera application in selection box, when I try to open camera from another application (for example messenger).\nHow can I catch the camera intent?</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1525699652, "post_id": 50215237, "comment_id": 87447458, "body": "Indeed, switching to immutable <code>List</code>s has an added benefit: it means that one can now treat <code>listOf(Monkey(&quot;Kong&quot;), Monkey(&quot;Cheetah&quot;))</code> as a <code>List&lt;Monkey&gt;</code> rather than <code>List&lt;Animal&gt;</code>."}, {"owner": {"reputation": 5208, "user_id": 228689, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6900ef902cd770996681ed6724ae0275?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/228689/guillaume"}, "edited": false, "score": 1, "creation_date": 1525703649, "post_id": 50215237, "comment_id": 87450221, "body": "this solution works well with the MutableList interface too, wich is convenient if I need a function that retrieve a list in order to modify it."}, {"owner": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "edited": false, "score": 1, "creation_date": 1525922943, "post_id": 50215237, "comment_id": 87548001, "body": "It is more common to see the <code>in</code>/<code>out</code> generic keywords in class signatures to define whether the class &quot;consumes&quot; or &quot;produces&quot; that type. You can read about these keywords here: <a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1525699708, "last_edit_date": 1525699708, "creation_date": 1525699155, "answer_id": 50215237, "question_id": 50214978, "link": "https://stackoverflow.com/questions/50214978/kotlin-generics-cannot-infer-type-parameter/50215237#50215237", "title": "kotlin generics: Cannot infer type parameter", "body": "<p>I suppose you don't need the <code>in</code> keyword in the type of <code>data</code>.</p>\n\n<p>Using <code>in</code> here means that you want the type arguments of those <code>ArrayList</code>s to be <em>at least as general</em> as <code>Animal</code>, meaning that an <code>ArrayList&lt;in Animal&gt;</code> may actually be parameterized with a supertype of <code>Animal</code> as well: you could even put an <code>ArrayList&lt;Any&gt;</code> into the map, which makes it clear that it's not type-safe to expect the lists to hold only <code>Animal</code>s.</p>\n\n<p>Consider removing the <code>in</code> keyword and leaving just <code>ArrayList&lt;Animal&gt;</code> (or even <code>List&lt;Animal&gt;</code>, which is the interface for a read-only list):</p>\n\n<pre><code>private val data = HashMap&lt;String, List&lt;Animal&gt;&gt;()\n\ninit {\n    data.put(\"Monkeys\", listOf(Monkey(\"Kong\"), Monkey(\"Cheetah\")))\n    data.put(\"Snakes\", listOf(Snake(\"Monthy\"), Snake(\"Kaa\")))\n}\n\nfun printAll() {\n    data.forEach { collectionName: String, animals: List&lt;Animal&gt; -&gt;\n        println(collectionName)\n        animals.forEach { animal: Animal -&gt;\n            println(\"\\t$animal\")\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5208, "user_id": 228689, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/6900ef902cd770996681ed6724ae0275?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/228689/guillaume"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5601, "favorite_count": 0, "accepted_answer_id": 50215237, "answer_count": 1, "score": 5, "last_activity_date": 1525699708, "creation_date": 1525698362, "question_id": 50214978, "link": "https://stackoverflow.com/questions/50214978/kotlin-generics-cannot-infer-type-parameter", "title": "kotlin generics: Cannot infer type parameter", "body": "<p>I need a Collection in Kotlin to contain only elements implementing a given interface. </p>\n\n<p>For example: a Map containing Collection of Animals:</p>\n\n<pre><code>interface Animal { val name: String }\ndata class Monkey(override val name: String): Animal\ndata class Snake(override val name: String): Animal\n</code></pre>\n\n<p>From reading the documentation and blogs and SO questions, I wrote this code that uses the Generics <strong>in</strong> keyword:</p>\n\n<pre><code>class Test {\n    private val data = HashMap&lt;String, ArrayList&lt;in Animal&gt;&gt;()        \n    init {\n        data.put(\"Monkeys\", arrayListOf(Monkey(\"Kong\"), Monkey(\"Cheetah\")))\n        data.put(\"Snakes\", arrayListOf(Snake(\"Monthy\"), Snake(\"Kaa\")))\n    }        \n}\n</code></pre>\n\n<p>Now I want to add a method in the Test class that reads the content of 'data', for example to print it to the console:</p>\n\n<pre><code>fun printAll() {\n   data.forEach { collectionName: String, animals: ArrayList&lt;in Animal&gt; -&gt; \n       println(collectionName)\n       animals.forEach { animal: Animal -&gt;\n           println(\"\\t$animal\")\n       }\n    }\n}\n</code></pre>\n\n<p>If I do that, I have a compilation error:</p>\n\n<pre><code>Error:(27, 21) Kotlin: Type inference failed: Cannot infer type parameter T in inline fun &lt;T&gt; Iterable&lt;T&gt;.forEach(action: (T) -&gt; Unit): Unit\nNone of the following substitutions\nreceiver: Iterable&lt;Any?&gt;  arguments: ((Any?) -&gt; Unit)\nreceiver: Iterable&lt;Animal&gt;  arguments: ((Animal) -&gt; Unit)\ncan be applied to\nreceiver: kotlin.collections.ArrayList&lt;in Animal&gt; /* = java.util.ArrayList&lt;in Animal&gt; */  arguments: ((Animal) -&gt; Unit)\n</code></pre>\n\n<p>My solution is to force my animal to a an ArrayList&lt;<strong>out</strong> Animal>:</p>\n\n<pre><code>...\n(animals as ArrayList&lt;out Animal&gt;).forEach { animal: Animal -&gt;\n    println(\"\\t$animal\")\n}\n...\n</code></pre>\n\n<p>But I'm not sure that this is the best way to write this kind of code.\nIs there a better way to tell Kotlin that I want to use sub types in generics for both producers and consumers ?</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-webflux"], "answers": [{"tags": [], "owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "is_accepted": false, "score": 1, "last_activity_date": 1525697058, "creation_date": 1525697058, "answer_id": 50214556, "question_id": 50214464, "link": "https://stackoverflow.com/questions/50214464/spring-boot-2-0-webclient-handle-404-before-continuing/50214556#50214556", "title": "Spring Boot 2.0 WebClient Handle 404 before continuing", "body": "<p>Ahha moment after battling for hours:</p>\n\n<pre><code> @PostMapping(path = [\"/customers/{customerId}/place\"])\n    fun create(@PathVariable customerId: String): Mono&lt;ResponseEntity&lt;OrderPlacedResponse&gt;&gt; {\n        return webClient\n                .get()\n                .uri(\"/$customerId/cart\", customerId)\n                .exchange()\n                .flatMap { response -&gt;\n                    response.bodyToMono(Cart::class.java)\n                }\n                .map { it.items.map { OrderItem(it.productId, it.quantity, it.price) } }\n                .map { items -&gt; Order(customerId, items, UUID.randomUUID().toString()) }\n                .flatMap { orderRepository.save(it) }\n                .map {\n                    ResponseEntity.ok(OrderPlacedResponse(\"Order Placed\", it))\n                }\n                .switchIfEmpty(\n                        ResponseEntity\n                                .status(HttpStatus.NOT_FOUND)\n                                .build&lt;OrderPlacedResponse&gt;().toMono()\n                )\n                .doOnError {\n                    ResponseEntity\n                            .status(HttpStatus.INTERNAL_SERVER_ERROR)\n                            .build&lt;OrderPlacedResponse&gt;().toMono()\n                }\n    }\n</code></pre>\n"}], "owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1787, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525697058, "creation_date": 1525696749, "question_id": 50214464, "link": "https://stackoverflow.com/questions/50214464/spring-boot-2-0-webclient-handle-404-before-continuing", "title": "Spring Boot 2.0 WebClient Handle 404 before continuing", "body": "<p>I want to handle 404 from an API call before continuing the pipeline. If the customerId passed in doesn't bring a record back, I would like to throw a 404, I have tried checking for stauscode inside first flatmap but map underneath expects a Mono so that doesn't compile.</p>\n\n<pre><code>   @PostMapping(path = [\"/customers/{customerId}/place\"])\n    fun create(@PathVariable customerId: String): Mono&lt;ResponseEntity&lt;OrderPlacedResponse&gt;&gt; {\n        return webClient\n                .get()\n                .uri(\"/$customerId/cart\", customerId)\n                .exchange()\n                .flatMap { response -&gt;\n                    response.bodyToMono(Cart::class.java)\n                }\n                .map { it.items.map { OrderItem(it.productId, it.quantity, it.price) } }\n                .map { items -&gt; Order(customerId, items, UUID.randomUUID().toString()) }\n                .flatMap { orderRepository.save(it) }\n                .map {\n                    ResponseEntity.ok(OrderPlacedResponse(\"Order Placed\", it))\n                }\n                .doOnError {\n                    ResponseEntity\n                            .status(HttpStatus.INTERNAL_SERVER_ERROR)\n                            .build&lt;OrderPlacedResponse&gt;().toMono()\n                }\n    }\n</code></pre>\n"}, {"tags": ["android", "arrays", "list", "opengl-es", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1525695181, "post_id": 50213876, "comment_id": 87444642, "body": "Note that <code>toFloatArray</code> also has to allocate a new array, so it&#39;s not necessarily a fair comparison."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1525696751, "post_id": 50213876, "comment_id": 87445576, "body": "You&#39;ve not specifying the initial size of <code>arraylist</code>. Use <code>arraylist   = ArrayList&lt;Float&gt;(10000)</code>."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1525697003, "post_id": 50213876, "comment_id": 87445750, "body": "The standard function is  <code>Collection.toFloatArray</code>, but you&#39;re using indexed iteration to transfer the data from the list to the array. Indexed iteration is not available to the stdlib fun."}, {"owner": {"reputation": 67, "user_id": 3550160, "user_type": "registered", "profile_image": "https://graph.facebook.com/1208123886/picture?type=large", "display_name": "Jelle", "link": "https://stackoverflow.com/users/3550160/jelle"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1525697366, "post_id": 50213876, "comment_id": 87445981, "body": "@OliverCharlesworth That is a far point, however that would cost 60 msec for 10000 floats still making toFloatArray way slower than looping over the List?"}, {"owner": {"reputation": 67, "user_id": 3550160, "user_type": "registered", "profile_image": "https://graph.facebook.com/1208123886/picture?type=large", "display_name": "Jelle", "link": "https://stackoverflow.com/users/3550160/jelle"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1525697433, "post_id": 50213876, "comment_id": 87446020, "body": "@miensol, I rerun it with the allocation upfront, it does not change the results (alos to my surprice)"}, {"owner": {"reputation": 67, "user_id": 3550160, "user_type": "registered", "profile_image": "https://graph.facebook.com/1208123886/picture?type=large", "display_name": "Jelle", "link": "https://stackoverflow.com/users/3550160/jelle"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1525697585, "post_id": 50213876, "comment_id": 87446098, "body": "@MarkoTopolnik Thats exactly the point, I would normally not use the indexed iteration but this is faster than the Collection.toFlaotArray which seems very odd."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 3550160, "user_type": "registered", "profile_image": "https://graph.facebook.com/1208123886/picture?type=large", "display_name": "Jelle", "link": "https://stackoverflow.com/users/3550160/jelle"}, "edited": false, "score": 0, "creation_date": 1525698669, "post_id": 50214710, "comment_id": 87446781, "body": "Excellent piece of code, (I still need to learn Kotlin I think :-). Also in your case the indexed approach is 1.5 times faster. If Collection.toFloatArray is this slow, I have to redesign my application, avoiding Lists and work with bare floatarrays only."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 67, "user_id": 3550160, "user_type": "registered", "profile_image": "https://graph.facebook.com/1208123886/picture?type=large", "display_name": "Jelle", "link": "https://stackoverflow.com/users/3550160/jelle"}, "edited": false, "score": 0, "creation_date": 1525699802, "post_id": 50214710, "comment_id": 87447558, "body": "I&#39;d recommend that in any case, memory overhead of list is very large."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 1, "last_activity_date": 1525697503, "creation_date": 1525697503, "answer_id": 50214710, "question_id": 50213876, "link": "https://stackoverflow.com/questions/50213876/why-is-listfloat-tofloatarray-so-slow-compared-to-filling-a-floatarray-bug/50214710#50214710", "title": "Why is List&lt;Float&gt;.toFloatArray so slow compared to filling a FloatArray? (bug?)", "body": "<p>Here's my code, it tries to put the two ways of conversion on a more equal footing than your tests:</p>\n\n<pre><code>import kotlin.system.measureTimeMillis\n\nconst val PROBLEM_SIZE = 1_000_000\n\nfun main(args: Array&lt;String&gt;) {\n    val array = FloatArray(PROBLEM_SIZE, { it * 1f })\n    val list: List&lt;Float&gt; = array.map { it }\n\n    println(\"warmup\")\n    (1..20).forEach {\n            list.myToFloatArray()\n            list.toFloatArray()\n    }\n\n    println(\"list.toFloatArray \" + (1..10).map {\n        gc()\n        measureTimeMillis {\n            list.myToFloatArray()\n        }\n    }.average())\n\n    println(\"collection.toFloatArray \" + (1..10).map {\n        gc()\n        measureTimeMillis {\n            list.toFloatArray()\n        }\n    }.average())\n}\n\nfun List&lt;Float&gt;.myToFloatArray(): FloatArray {\n    val result = FloatArray(size)\n    for (index in 0 until size)\n        result[index] = this[index]\n    return result\n}\n\nfun gc() {\n    System.gc()\n    System.gc()\n}\n</code></pre>\n\n<p>This is a typical result</p>\n\n<pre><code>list.toFloatArray 3.4\ncollection.toFloatArray 5.2\n</code></pre>\n\n<p>First, the difference is less pronounced than in your tests, and second,  the standard function is <code>Collection.toFloatArray</code> and cannot use indexed iteration.</p>\n"}], "owner": {"reputation": 67, "user_id": 3550160, "user_type": "registered", "profile_image": "https://graph.facebook.com/1208123886/picture?type=large", "display_name": "Jelle", "link": "https://stackoverflow.com/users/3550160/jelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 50214710, "answer_count": 1, "score": 1, "last_activity_date": 1525698880, "creation_date": 1525694900, "last_edit_date": 1525698880, "question_id": 50213876, "link": "https://stackoverflow.com/questions/50213876/why-is-listfloat-tofloatarray-so-slow-compared-to-filling-a-floatarray-bug", "title": "Why is List&lt;Float&gt;.toFloatArray so slow compared to filling a FloatArray? (bug?)", "body": "<p>In my Android phone application there are many large Lists of Floats (100000+). In order to use them with OpenGl, the Lists are converted to FloatArrays and then to bytebuffers. I ran into performance problems and after many hours, it seems that the Kotlin .toFloatArray() function is very slow.</p>\n\n<p>Some test results on my Samsung Galaxy Phone:</p>\n\n<pre><code>                        elapsed time(msec)  time/float(microsec)        \n                            max min  avg \nfillFloatArray               70  39  59,7      6.0\nfillFloatList               472 357 444,1     44.4\nconvertListToArrayLooping   165 101 155,2     15.5\nconvertWithToFloatArray     388 318 367,3     36.7\n\nNumber of floats    10000               \nruns                   10\n(the average time / float is the same for a list of 100000 floats)\n</code></pre>\n\n<p>Filling a floatarray with values is fast and filling a List with floats is 7.4 times slower.</p>\n\n<p>However converting the List to a floatarray by the <strong>standard function List.toFoatArray()</strong> is 6.1 times slower than simply filling the array, it is also <strong>2.4 times slower</strong> than looping over the List. It is almost as slow as filling an empty List with Floats! </p>\n\n<p>I expected a conversion time closer to the time of simply filling the array?</p>\n\n<p>Does the performance of .toFloatArray() make sense? And what is the fastest or at least a faster way to convert a List to a Bytebuffer?</p>\n\n<p>Below the small test program, for reference.</p>\n\n<pre><code>class PlayGround {\nprivate val stopwatch = Timing()\n\nprivate val arraylist: MutableList&lt;Float&gt; = arrayListOf()\nprivate val fillFloatArray = Results()\nprivate val fillFloatList = Results()\nprivate val convertListToArrayLooping = Results()\nprivate val convertWithToFloatArray = Results()\n\nfun checkSpeed () {\n    for (i in 0 until 10) {     // do the timing ten times to get an average\n        // filling a floatarray with 10000 floats\n        stopwatch.start()\n        var array = FloatArray(10000, { it * 1f })\n        fillFloatArray.add(stopwatch.stop())\n\n        // filling a list with 10000 floats\n        stopwatch.start()\n        for (i in 0 until 10000) {\n            arraylist.add(i * 1f)\n        }\n        fillFloatList.add(stopwatch.stop())\n\n        // converting the fulllist to a floatarray by looping\n        stopwatch.start()\n        for (i in 0 until arraylist.size) {\n            array[i] = arraylist[i]\n        }\n        convertListToArrayLooping.add(stopwatch.stop())\n\n        // converting the fullist to a floatarray with toFloatArray\n        stopwatch.start()\n        array = arraylist.toFloatArray()\n        convertWithToFloatArray.add(stopwatch.stop())\n        arraylist.clear()\n    }\n}\n\nprivate class Results {\n    private var max = Long.MIN_VALUE\n    private var min = Long.MAX_VALUE\n    private var sum = 0L\n    private var avg = 0L\n    var measurePoints: MutableList&lt;Long&gt; = arrayListOf()\n\n    fun add (msrp: Long) {\n        measurePoints.add(msrp)\n        if (msrp &gt; max) max = msrp\n        if (msrp &lt; min) min = msrp\n        sum += msrp\n        avg = sum / measurePoints.size\n    }\n\n    fun clear() {\n        measurePoints.clear()\n        max = Long.MIN_VALUE\n        min = Long.MAX_VALUE\n        sum = 0L\n        avg = 0L\n    }\n\n    fun max(): Long { return max}\n    fun min(): Long { return min}\n    fun sum(): Long { return sum}\n    fun avg(): Long { return avg}\n\n}\n}\n</code></pre>\n"}, {"tags": ["java", "android", "bluetooth", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 4863533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-7_hJ5tCSS88/AAAAAAAAAAI/AAAAAAAAAHA/LaHiYjpgvmY/photo.jpg?sz=128", "display_name": "Liam", "link": "https://stackoverflow.com/users/4863533/liam"}, "is_accepted": true, "score": 2, "last_activity_date": 1526546358, "creation_date": 1526546358, "answer_id": 50386959, "question_id": 50213681, "link": "https://stackoverflow.com/questions/50213681/android-bluetooth-ioexception-read-failed-socket-might-closed-or-timeout-read/50386959#50386959", "title": "Android bluetooth IOException: read failed, socket might closed or timeout, read ret: -1", "body": "<p>Finally, the root cause was because the socket's inputStream couldn't be read. That's because there was no open socket <strong>with the same UUID</strong> on the server side.</p>\n\n<p>See <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-8.0.0_r30/core/java/android/bluetooth/BluetoothSocket.java\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/android-8.0.0_r30/core/java/android/bluetooth/BluetoothSocket.java</a></p>\n\n<p>So to fix the problem we need a listening socket with the same UUID on the other side, for me it was a raspberry in python:</p>\n\n<pre><code>from bluetooth import *\n\nserver_sock=BluetoothSocket( RFCOMM )\nserver_sock.bind((\"\",PORT_ANY))\nserver_sock.listen(1)\n\nport = server_sock.getsockname()[1]\n\nuuid = \"YOUR UUID\"\n\nadvertise_service( server_sock, \"SampleServer\", service_id = uuid, service_classes = [ uuid, SERIAL_PORT_CLASS ], profiles = [ SERIAL_PORT_PROFILE ])\n\nprint(\"Waiting for connection on RFCOMM channel %d\" % port)\n\nclient_sock, client_info = server_sock.accept()\nprint(\"Accepted connection from \", client_info)\n\ntry:\n    while True:\n        data = client_sock.recv(1024)\n        if len(data) == 0: break\n        print(\"received [%s]\" % data)\nexcept IOError:\n    pass\n\nprint(\"disconnected\")\n\nclient_sock.close()\nserver_sock.close()\nprint(\"all done\")\n</code></pre>\n\n<p>from <a href=\"https://github.com/karulis/pybluez/blob/master/examples/simple/rfcomm-server.py\" rel=\"nofollow noreferrer\">https://github.com/karulis/pybluez/blob/master/examples/simple/rfcomm-server.py</a></p>\n"}], "owner": {"reputation": 85, "user_id": 4863533, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-7_hJ5tCSS88/AAAAAAAAAAI/AAAAAAAAAHA/LaHiYjpgvmY/photo.jpg?sz=128", "display_name": "Liam", "link": "https://stackoverflow.com/users/4863533/liam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1640, "favorite_count": 0, "accepted_answer_id": 50386959, "answer_count": 1, "score": 1, "last_activity_date": 1560787076, "creation_date": 1525694205, "last_edit_date": 1560787076, "question_id": 50213681, "link": "https://stackoverflow.com/questions/50213681/android-bluetooth-ioexception-read-failed-socket-might-closed-or-timeout-read", "title": "Android bluetooth IOException: read failed, socket might closed or timeout, read ret: -1", "body": "<p>I have a problem with connecting my client socket in the Android bluetooth API.\nI already read these posts: <a href=\"https://stackoverflow.com/questions/18657427/ioexception-read-failed-socket-might-closed-bluetooth-on-android-4-3?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">this one</a>, <a href=\"https://stackoverflow.com/questions/32357306/getting-java-io-ioexception-read-failed-socket-might-closed-or-timeout-read-r\">this one</a>, <a href=\"https://stackoverflow.com/questions/21776712/android-connect-bluetooth-device-automatically-after-pairing-programmatically\">this one</a> and <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth\" rel=\"nofollow noreferrer\">this one</a>\nAccording to these posts I made my code like the following but it still not work:</p>\n\n<pre><code>class MainActivity : AppCompatActivity()\n{\n    private val bluetoothAdapter = BluetoothAdapter.getDefaultAdapter()\n    private var connectThread: ConnectThread? = null\n\n    override fun onCreate(savedInstanceState: Bundle?)\n    {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        if (bluetoothAdapter != null)\n        {\n            if (!bluetoothAdapter.isEnabled)\n                bluetoothAdapter.enable()\n\n            val devices = bluetoothAdapter.bondedDevices.toTypedArray()\n\n\n            if (devices.isNotEmpty())\n            {\n                connectThread = ConnectThread(devices[0])\n                connectThread!!.run()\n            }\n        }\n        else\n            Log.i(\"BluetoothTest\", \"No bluetooth supported\")\n    }\n\n    override fun onDestroy()\n    {\n        super.onDestroy()\n\n        connectThread!!.cancel()\n    }\n\n    private inner class ConnectThread(device: BluetoothDevice) : Thread()\n    {\n        //private val socket = device.createRfcommSocketToServiceRecord(UUID.fromString (\"00001101-0000-1000-8000-00805F9B34FB\"))\n        private val socket = device.javaClass.getMethod(\"createRfcommSocket\", (Int::class\n            .javaPrimitiveType)).invoke(device, 2) as BluetoothSocket\n\n        override fun run()\n        {\n            bluetoothAdapter.cancelDiscovery()\n            socket.connect()\n        }\n\n        fun cancel()\n        {\n            socket.close()\n        }\n\n    }\n}\n</code></pre>\n\n<p>Here is the logs with the returned error that comes on socket.connect():</p>\n\n<pre><code>--------- beginning of crash\n05-15 15:59:19.553 24176-24176/com.bluetoothtest E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.bluetoothtest, PID: 24176\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.bluetoothtest/com.bluetoothtest.MainActivity}: java.io.IOException: read failed, socket might closed or timeout, read ret: -1\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n Caused by: java.io.IOException: read failed, socket might closed or timeout, read ret: -1\n    at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:685)\n    at android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:697)\n    at android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:374)\n    at com.bluetoothtest.MainActivity.onCreate(MainActivity.kt:36)\n    at android.app.Activity.performCreate(Activity.java:6999)\n    at android.app.Activity.performCreate(Activity.java:6990)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\n</code></pre>\n\n<p>It seems that the problem appeared after Android 4.3 because of the port value of the socket\nI am on Android 7.1 and 8.1\nDoes someone knows how to make bluetooth work on Android ?</p>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin", "spring-data"], "comments": [{"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 1, "creation_date": 1525691273, "post_id": 50212457, "comment_id": 87442334, "body": "I see little difference except for your whitespace semi-colon choices."}, {"owner": {"reputation": 15566, "user_id": 876497, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2713233cc2e49a4db53ff08d6c114255?s=128&d=identicon&r=PG", "display_name": "DejanLekic", "link": "https://stackoverflow.com/users/876497/dejanlekic"}, "edited": false, "score": 0, "creation_date": 1525691367, "post_id": 50212457, "comment_id": 87442376, "body": "Both are unreadable but that is a topic for another discussion (annotations in general make code unreadable, and that is the obvious, unfortunate fact)."}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 2, "creation_date": 1525719169, "post_id": 50212457, "comment_id": 87458517, "body": "Why do you consider it unreadable? You can just add more spaces between variables. It will be very similar to your Java code"}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 2, "creation_date": 1525729442, "post_id": 50212457, "comment_id": 87463317, "body": "You don&#39;t have to convert the Model classes to Kotlin if you don&#39;t like the look of it. Kotlin can just pick up .java classes."}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "reply_to_user": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 1, "creation_date": 1525730350, "post_id": 50212457, "comment_id": 87463602, "body": "As @ChirdeepTomar mentioned, Kotlin supports interoperability with Java. Unless you are required to rewrite this, save yourself the resources by simply using the class as is - don&#39;t waste valuable time which could be spent in other areas."}], "answers": [{"comments": [{"owner": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "edited": false, "score": 0, "creation_date": 1526243353, "post_id": 50222914, "comment_id": 87656467, "body": "This automatic conversion didn&#39;t do an incredible job. There&#39;s a lot of unneeded verbosity. Look at my answer; it&#39;s a human-written Kotlin Spring-Data entity data class, and I&#39;d say it looks pretty clean. Would you agree?"}], "tags": [], "owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "is_accepted": false, "score": 1, "last_activity_date": 1525729648, "creation_date": 1525729648, "answer_id": 50222914, "question_id": 50212457, "link": "https://stackoverflow.com/questions/50212457/java-kotlin-data-classes-conversion-pattern/50222914#50222914", "title": "Java -&gt; Kotlin. Data classes conversion pattern", "body": "<p>You don't have to convert the Model classes to Kotlin if you don't like the look of it. Kotlin can just pick up .java classes. Otherwise you can do something like, btw this is just an automatic conversion in intelliJ.</p>\n\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(exclude = { \"creator\", \"content\" })\nclass Document {\n\n    @Id\n    @GeneratedValue(generator = \"uuid2\")\n    @GenericGenerator(name = \"uuid2\", strategy = \"uuid2\")\n    var id: String? = null\n        set(id) {\n            field = this.id\n        }\n\n    @Size(min = 4, max = 100)\n    var name: String? = null\n        set(name) {\n            field = this.name\n        }\n\n    @ManyToOne\n    @Column(updatable = false)\n    var creator: User? = null\n        set(creator) {\n            field = this.creator\n        }\n\n    @OneToOne(cascade = CascadeType.ALL)\n    var content: Content? = null\n        set(content) {\n            field = this.content\n        }\n\n    @ManyToOne\n    var project: Project? = null\n        set(project) {\n            field = this.project\n        }\n\n    @NotNull\n    @Column(updatable = false)\n    @JsonFormat(pattern = \"yyyy/MM/dd hh:mm:ss\")\n    var creationDate: LocalDateTime? = null\n        set(creationDate) {\n            field = this.creationDate\n        }\n\n    @NotNull\n    @LastModifiedDate\n    @JsonFormat(pattern = \"yyyy/MM/dd hh:mm:ss\")\n    var lastModified: LocalDateTime? = null\n        set(lastModified) {\n            field = this.lastModified\n        }\n\n    @ManyToOne\n    @LastModifiedBy\n    var modificator: User? = null\n        set(modificator) {\n            field = this.modificator\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "is_accepted": false, "score": 2, "last_activity_date": 1526243245, "creation_date": 1526243245, "answer_id": 50320357, "question_id": 50212457, "link": "https://stackoverflow.com/questions/50212457/java-kotlin-data-classes-conversion-pattern/50320357#50320357", "title": "Java -&gt; Kotlin. Data classes conversion pattern", "body": "<p>Kotlin data classes allow for a level of concision and efficiency that you can't get with POJOs. I use this pattern that you're looking for <em>extensively</em> in my projects at work.</p>\n\n<p>And, yes, they look similar to that. However, there are some inefficiencies in your code that can be easily bypassed. For example, there isn't any point in nullability annotations when the language has it built-in.</p>\n\n<p>Here's one of my project classes, as an example of real-world use:</p>\n\n<pre><code>@Entity\n@Table(name = \"Acks\")\ndata class AckEntity(\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n        val id: Int = 0,\n\n        @Enumerated(EnumType.STRING)\n        val ackType: AckType,\n\n        @OneToOne(cascade = [CascadeType.ALL], fetch = FetchType.EAGER)\n        @JoinColumn(name = \"alert\")\n        val alert: AlertEntity,\n\n        @ManyToOne(fetch = FetchType.EAGER)\n        @JoinColumn\n        val session: SessionEntity? = null,\n\n        @Embedded\n        val sale: SaleEntity?,\n\n        val version: Int,\n        val timestamp: Date?) : DataEntity\n</code></pre>\n\n<p>Compared to how these classes used to look in Java, I'd say that this is far-and-away a cleaner approach.</p>\n\n<p>However, it might just take some time to get used to how Kotlin does things. Once you learn how to speed-read the language though, I think you'll see your efficiency increase quite a bit. I know I did.</p>\n"}], "owner": {"reputation": 153, "user_id": 5457837, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28243dbf2d6651c4840616770e85b32c?s=128&d=identicon&r=PG&f=1", "display_name": "Unlucky", "link": "https://stackoverflow.com/users/5457837/unlucky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1526243245, "creation_date": 1525690222, "question_id": 50212457, "link": "https://stackoverflow.com/questions/50212457/java-kotlin-data-classes-conversion-pattern", "title": "Java -&gt; Kotlin. Data classes conversion pattern", "body": "<p>I am writing a Spring Boot application with maven. But recently I upgraded JDK to 10, and Lombok stable stopped working with it. I decided that it will be a great excuse to start using Kotlin. But I am not happy with the look of data classes of Kotlin with spring boot application. </p>\n\n<p>example Java:</p>\n\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(exclude = {\"creator\", \"content\"})\npublic class Document {\n\n    @Id\n    @GeneratedValue(generator = \"uuid2\")\n    @GenericGenerator(name = \"uuid2\", strategy = \"uuid2\")\n    private String id ;\n\n    @Size(min = 4, max = 100)\n    private String name;\n\n    @ManyToOne\n    @Column(updatable = false)\n    private User creator;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private Content content;\n\n    @ManyToOne\n    private Project project;\n\n    @NotNull\n    @Column(updatable = false)\n    @JsonFormat(pattern = \"yyyy/MM/dd hh:mm:ss\")\n    private LocalDateTime creationDate;\n\n    @NotNull\n    @LastModifiedDate\n    @JsonFormat(pattern = \"yyyy/MM/dd hh:mm:ss\")\n    private LocalDateTime lastModified;\n\n    @ManyToOne\n    @LastModifiedBy\n    private User modificator;\n}\n</code></pre>\n\n<p>example Kotlin:</p>\n\n<pre><code>@Entity\ndata class Document(@Id\n                @GeneratedValue(generator = \"uuid2\")\n                @GenericGenerator(name = \"uuid2\", strategy = \"uuid2\")\n                val id: String,\n                @Size(min = 4, max = 100)\n                val name: String,\n                @ManyToOne\n                @JoinColumn(updatable = false)\n                private val creator: User,\n                @OneToOne(cascade = arrayOf(CascadeType.ALL))\n                private val content: Content,\n                @ManyToOne\n                @JoinColumn(updatable = false)\n                val project: Project,\n                @NotNull\n                @Column(updatable = false)\n                @JsonFormat(pattern = \"yyyy/MM/dd hh:mm:ss\")\n                val creationDate: LocalDateTime,\n                @NotNull\n                @LastModifiedDate\n                @JsonFormat(pattern = \"yyyy/MM/dd hh:mm:ss\")\n                private val lastModified: LocalDateTime,\n                @ManyToOne\n                @LastModifiedBy\n                private val modificator: User\n)\n</code></pre>\n\n<p>which makes my code really unreadable. Do you have any template how spring boot data classes should be written? Or how to convert existing Java classes to Kotlin using all of Kotlin benefits? </p>\n\n<p>I am using IntelliJ Idea Community edition 2018.1. Or maybe you have a better idea to persist Lombock like model classes?</p>\n"}, {"tags": ["android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "is_accepted": false, "score": 0, "last_activity_date": 1525754447, "creation_date": 1525754447, "answer_id": 50225941, "question_id": 50211117, "link": "https://stackoverflow.com/questions/50211117/change-color-on-fragment-canvas-when-clicked-from-activity/50225941#50225941", "title": "Change color on fragment canvas when clicked from Activity", "body": "<p>I figured this out by referencing the activity's buttons from the fragment.</p>\n\n<pre><code>    var btn_black = (getActivity()).findViewById(R.id.crayon_black) as ImageView\n    var btn_blue = (getActivity()).findViewById(R.id.crayon_blue) as ImageView\n    var btn_green = (getActivity()).findViewById(R.id.crayon_green) as ImageView\n</code></pre>\n\n<p>And then setting the onclick listeners in the fragment</p>\n\n<pre><code>btn_black.setOnClickListener(View.OnClickListener {\n            changeColor(drawingView, Color.BLACK)\n        })\nbtn_blue.setOnClickListener(View.OnClickListener {\n            changeColor(drawingView, Color.BLUE)\n        })\nbtn_green.setOnClickListener(View.OnClickListener {\n            changeColor(drawingView, Color.GREEN)\n        })\n</code></pre>\n\n<p>And then re-setting the onclicklisteners on the activity on backpressed. I also had a <code>booleanTag</code> to indicate if the fragment is up or not.</p>\n\n<pre><code> override fun onBackPressed() {\n        setColorOnClickListeners()\n        booleanTag = \"false\"\n        crayon_black.setTag(booleanTag)\n        if (mCurlView!!.getIsUp()) {\n            slideDown(reading_toolbar!!)\n            mCurlView!!.setIsUp(!isUp)\n        }\n\n        super.onBackPressed()\n    }\n</code></pre>\n\n<p>The setcolorOnClicklistener() is as follows:</p>\n\n<pre><code>fun setColorOnClickListeners() {\n        crayon_black.setOnClickListener(View.OnClickListener {\n            buttonClicked(crayon_black)\n        })\n        crayon_blue.setOnClickListener(View.OnClickListener {\n            buttonClicked(crayon_blue)\n        })\n// etc...\n}\n</code></pre>\n\n<p>buttonClicked:</p>\n\n<pre><code>fun buttonClicked(view: View) {\n\n        booleanTag = crayon_black.tag as String\n\n        if (booleanTag == \"false\") {\n\n            if (view.id == R.id.crayon_black) {\n                drawColor = Color.BLACK\n            } else if (view.id == R.id.crayon_blue) {\n                drawColor = Color.BLUE\n            } else if (view.id == R.id.crayon_green) {\n                drawColor = Color.GREEN\n            } else if (view.id == R.id.crayon_orange) {\n                drawColor = Color.parseColor(\"#FFA500\")\n            } else if (view.id == R.id.crayon_pink) {\n                drawColor = Color.parseColor(\"#ec5db8\")\n            } else if (view.id == R.id.crayon_red) {\n                drawColor = Color.RED\n            } else if (view.id == R.id.crayon_violet) {\n                drawColor = Color.parseColor(\"#8862ba\")\n            } else if (view.id == R.id.crayon_white) {\n                drawColor = Color.WHITE\n            } else if (view.id == R.id.crayon_yellow) {\n                drawColor = Color.YELLOW\n            }\n\n\n            callDrawFragment(drawColor!!)\n            booleanTag = \"true\"\n            crayon_black.setTag(booleanTag)\n        }\n\n    }\n</code></pre>\n\n<p>Still need to handle some things on the DrawingView for the color change but this solved most of my problems.</p>\n"}], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 340, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525754447, "creation_date": 1525685879, "question_id": 50211117, "link": "https://stackoverflow.com/questions/50211117/change-color-on-fragment-canvas-when-clicked-from-activity", "title": "Change color on fragment canvas when clicked from Activity", "body": "<p>I am making a children's app where the child can fingerpaint on a book spread as seen below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6yy7h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6yy7h.png\" alt=\"Sample Image\"></a></p>\n\n<p>The main view is not an ImageView. Rather, it is a custom view extending from GLSurfaceView to allow a pagecurl animation when flipping pages. In order to make a canvas, when a crayon is clicked, my code launches a fragment with a transparent layout to enable drawing on top of the custom view. </p>\n\n<p>It works for each separate color. But when a new color is clicked, the old lines are removed (because a new fragment is launched) and I can draw again using the new color.</p>\n\n<p>However, the ideal behavior is that the old drawing is retained (using the previous color), and the user should be able to keep on drawing with the new color without the fragment being re-launched.</p>\n\n<p>As a test, I've only used the first 3 colors for now.</p>\n\n<p>In the DrawingFragment, I've actually been able to change the color programmatically from the fragment (to CYAN) by calling the method <code>changeColor</code>. However, I still need to get the click event from the Activity that corresponds to each color.</p>\n\n<p><em>Main Problems:</em></p>\n\n<ul>\n<li>App should launch the fragment only once on the first instance any\ncrayon is clicked.</li>\n<li>App should identify if the fragment is already created, and if so, pass the button click event from Activity to Fragment each time a crayon is clicked.</li>\n</ul>\n\n<p>I have a vague idea that maybe I should use an interface but I've yet to fully understand what this does. I'm pretty new to kotlin and android and any help or suggestion will be greatly appreciated.</p>\n\n<p><strong>Main Activity</strong></p>\n\n<pre><code>class ReadBooksActivity : Activity() {\n\n    var mCurlView: CurlView? = null\n    var reading_toolbar : View? = null\n    var isUp = false\n    var drawColor : Int? = null\n    var isDrawing = false\n\n\n    public override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.readbooks_layout)\n\n        // Start Page Curl for each page\n\n        mCurlView = findViewById(R.id.curl)\n        mCurlView!!.setSizeChangedObserver(SizeChangedObserver())\n        mCurlView!!.setCurrentIndex(index)\n\n        var bookId = intent.getIntExtra(\"ID\", 0)\n\n        Thread(Runnable {\n            fetchbookpages()\n            mCurlView!!.setBitmapProvider(BitmapProvider(mBitmaps))\n        }).start()\n\n\n        mCurlView!!.setEnableTouchPressure(true)\n        mCurlView!!.set2PagesLandscape(true)\n        mCurlView!!.setAllowLastPageCurl(true)\n\n\n        // Toggle Reading Toolbar\n\n        reading_toolbar = findViewById(R.id.readingtoolbar) as View\n\n\n        // Enable drawing on View\n\n\n        tabtools.setOnClickListener(View.OnClickListener {\n            showToolbar()\n        })\n\n        tabexit2.setOnClickListener(View.OnClickListener {\n            hideToolbar()\n        })\n\n        tabexit.setOnClickListener(View.OnClickListener {\n            onSlideViewButtonClick(reading_toolbar!!)\n        })\n\n    }\n\n    fun buttonClicked(view: View) {\n\n        //if (!isDrawing) {\n\n            if (view.id == R.id.crayon_black) {\n                drawColor = Color.BLACK\n            } else if (view.id == R.id.crayon_blue) {\n                drawColor = Color.BLUE\n            } else if (view.id == R.id.crayon_green) {\n                drawColor = Color.GREEN\n            }\n\n            callDrawFragment(drawColor!!)\n       // }\n\n       // isDrawing = true\n    }\n\n    fun callDrawFragment(drawColor : Int) {\n\n        val mFragment = DrawingFragment.newInstance(drawColor)\n\n        fragmentManager!!\n                .beginTransaction()\n                .replace(R.id.mainreadinglayout, mFragment)\n                .addToBackStack(null)\n                .commit()\n    }\n    }\n</code></pre>\n\n<p><strong>DrawingFragment</strong></p>\n\n<pre><code>class DrawingFragment: Fragment() {\n\n    var drawColor : Int? = null\n    var drawingView : DrawingView? = null\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n      val view = inflater.inflate(R.layout.drawing_layout, container, false)\n\n        val relativeLayout = view.findViewById(R.id.draw_layout) as RelativeLayout\n\n        drawColor = arguments.getInt(\"color\")\n        var drawingView = DrawingView(activity, drawColor!!)\n        relativeLayout.addView(drawingView)\n        changeColor(drawingView)\n\n        return view\n    }\n\n    fun changeColor(view: DrawingView) {\n        var currentPaint = Paint()\n        currentPaint.setColor(Color.CYAN)\n        currentPaint.isAntiAlias = true\n        currentPaint.isDither = true\n        currentPaint.style = Paint.Style.STROKE\n        currentPaint.strokeJoin = Paint.Join.ROUND\n        currentPaint.strokeCap = Paint.Cap.ROUND\n        currentPaint.strokeWidth = 10f\n        view.setPaint(currentPaint)\n    }\n\n    companion object {\n\n        fun newInstance(color: Int): DrawingFragment {\n\n            val args = Bundle()\n            args.putInt(\"color\", color)\n            val fragment = DrawingFragment()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p><strong>DrawingView</strong></p>\n\n<pre><code>class DrawingView(context: Context, color : Int) : View(context) {\n\n    var mPaint: Paint? = null\n    val mPath: Path\n\n    init {\n        mPaint = Paint()\n        mPaint!!.isAntiAlias = true\n        mPaint!!.isDither = true\n        mPaint!!.color = color\n        mPaint!!.style = Paint.Style.STROKE\n        mPaint!!.strokeJoin = Paint.Join.ROUND\n        mPaint!!.strokeCap = Paint.Cap.ROUND\n        mPaint!!.strokeWidth = 10f\n        mPath = Path()\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        canvas.drawPath(mPath, mPaint)\n        super.onDraw(canvas)\n        canvas.drawColor(Color.TRANSPARENT)\n\n    }\n\n    fun setPaint(mPaint: Paint) {\n        this.mPaint = mPaint\n        return\n    }\n\n    override fun onTouchEvent(event: MotionEvent): Boolean {\n\n        when (event.action) {\n\n            MotionEvent.ACTION_DOWN -&gt; mPath.moveTo(event.x, event.y)\n\n            MotionEvent.ACTION_MOVE -&gt; {\n                mPath.lineTo(event.x, event.y)\n                invalidate()\n            }\n            MotionEvent.ACTION_UP -&gt; {\n            }\n        }\n\n        return true\n    }\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "spring-boot", "junit", "kotlin", "spring-restcontroller"], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "is_accepted": false, "score": 1, "last_activity_date": 1525767721, "creation_date": 1525767721, "answer_id": 50229119, "question_id": 50210971, "link": "https://stackoverflow.com/questions/50210971/rest-controller-unit-testing-with-spring-boot-kotlin-and-junit/50229119#50229119", "title": "Rest controller unit testing with spring boot, kotlin and junit", "body": "<p>You've made it quite hard to Unit Test your controller as it has a depenedency on an External URL to retreive the details of the news feeds.</p>\n\n<p>I would extract the interaction with the External URL to a separate service and then AutoWire this service into your controller.  This would allow yopu to use a Mock implementation of this service in the Unit Tests for your controller and you could then inject known feed items and ensure that the responses from your controller are correct.</p>\n"}, {"comments": [{"owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "edited": false, "score": 0, "creation_date": 1525937664, "post_id": 50249023, "comment_id": 87553352, "body": "That looks like a reasonable approach to take as it gives you a consistent &amp; repeatable test case."}], "tags": [], "owner": {"reputation": 513, "user_id": 9663278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZfFKB.png?s=128&g=1", "display_name": "Ennar.ch", "link": "https://stackoverflow.com/users/9663278/ennar-ch"}, "is_accepted": true, "score": 0, "last_activity_date": 1525855364, "creation_date": 1525855364, "answer_id": 50249023, "question_id": 50210971, "link": "https://stackoverflow.com/questions/50210971/rest-controller-unit-testing-with-spring-boot-kotlin-and-junit/50249023#50249023", "title": "Rest controller unit testing with spring boot, kotlin and junit", "body": "<p>I splited The controller from the service:</p>\n\n<p>RestController:</p>\n\n<pre><code>@RestController\n@RequestMapping(value=\"/rss\")\n\nclass RssRestService {\n    @Autowired\n    lateinit var rssService: RssService\n\n\n    @GetMapping(value = \"/list/item\")\n    @CrossOrigin(\"http://localhost:3000\")\n\n    fun rss(): List&lt;Rss&gt;? {\n\n        val url = \"https://trends.google.fr/trends/hottrends/atom/feed?pn=p1\"\n        return  rssService.getListRss(url)\n\n    }\n</code></pre>\n\n<p>My Service </p>\n\n<pre><code>@Component\nclass RssService{\n\n    fun getListRss(url: String): List&lt;Rss&gt; {\n        val reader = XmlReader(URL(url))\n        val feed: SyndFeed = SyndFeedInput().build(reader)\n        return feed.entries.subList(1,6)\n                .map { entry -&gt; Rss(\n                        title = entry.title,\n                        image = entry.foreignMarkup[1].content[0].value,\n                        source = entry.foreignMarkup[2].content[0].value,\n                        description = entry.foreignMarkup[3].content[1].value.toString(),\n                        url = entry.foreignMarkup[3].content[5].value\n                ) }\n    }\n</code></pre>\n\n<p>And then for testing I created a file with static rss feeds and I passed it's path as a url </p>\n\n<pre><code>@Test\n    fun listItemTest() {\n        val result = rssService.getListRss(\"file:///Home/iroolApp/src/test/kotlin/com/iroolapp/demo/feeds\")\n        Assert.assertEquals(\"Iran Nuclear Deal\", result[0].title)\n        Assert.assertEquals(\"//t0.gstatic.com/images?q=tbn:ANd9GcTbU16JklJB3H_Ib3dUeu03_4HQPABuE8EthZQRUEG6JMFyDHYytTn-9wexe3E2yYOKO1K9c0Fl\", result[0].image)\n        Assert.assertEquals(\"New York Times\", result[0].source)\n        Assert.assertEquals(\"Trump Withdraws US From &amp;#39;One-Sided&amp;#39; &lt;b&gt;Iran Nuclear Deal&lt;/b&gt;\", result[0].description)\n        Assert.assertEquals(\"https://www.nytimes.com/2018/05/08/world/middleeast/trump-iran-nuclear-deal.html\", result[0].url)\n\n    }\n</code></pre>\n\n<p>So Is it correct to pass a file with a local path containing the feeds? </p>\n"}], "owner": {"reputation": 513, "user_id": 9663278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZfFKB.png?s=128&g=1", "display_name": "Ennar.ch", "link": "https://stackoverflow.com/users/9663278/ennar-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1358, "favorite_count": 0, "accepted_answer_id": 50249023, "answer_count": 2, "score": 1, "last_activity_date": 1525855364, "creation_date": 1525685366, "last_edit_date": 1525685599, "question_id": 50210971, "link": "https://stackoverflow.com/questions/50210971/rest-controller-unit-testing-with-spring-boot-kotlin-and-junit", "title": "Rest controller unit testing with spring boot, kotlin and junit", "body": "<p>I am currently developping a website with spring boot, kotlin where I am trynig to read Google Trends Rss feeds in xml format and parse them to Json.\nI want to add unit tests to test my controller but I do not know what to test exactly.</p>\n\n<p>This is my data class: </p>\n\n<pre><code>data class Rss (\n\n    val title: String,\n    val source: String,\n    val image: String,\n    val description: String,\n    val url: String\n)\n</code></pre>\n\n<p>This is my rest Controller </p>\n\n<pre><code>@RestController\n@RequestMapping(value=\"/rss\")\nclass RssRestService {\n\n   @GetMapping(value = \"/list/item\")\n   @CrossOrigin(\"http://localhost:3000\")\n   fun rss(): List&lt;Rss&gt;? {\n\n         val url = \"https://trends.google.fr/trends/hottrends/atom/feed?pn=p1\"\n         val reader = XmlReader(URL(url))\n         val feed: SyndFeed = SyndFeedInput().build(reader)\n         return feed.entries.subList(1,6)\n                 .map { entry -&gt; Rss(\n                 title = entry.title,\n                 image = entry.foreignMarkup[1].content[0].value.substring(2),\n                 source = entry.foreignMarkup[2].content[0].value,\n                 description = entry.foreignMarkup[3].content[1].value.toString(),\n                 url = entry.foreignMarkup[3].content[1].value\n    ) }\n\n}\n</code></pre>\n\n<p>And what I did so far for testing is </p>\n\n<pre><code>@RunWith(SpringRunner::class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass DemoApplicationTests {\n\n\n    @Autowired\n    lateinit var testRestTemplate: TestRestTemplate\n\n    @Test\n    fun contextLoads() {\n\n    }\n\n    @Test\n    fun rssTest() {\n        val result = testRestTemplate.getForEntity(\"/rss/list/item\", String::class.java)\n        Assert.assertNotNull(result)\n        Assert.assertEquals(HttpStatus.OK, result.statusCode)\n\n}\n</code></pre>\n\n<p>My question is: what should I test? and how to test if the output is write or not? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5072, "user_id": 3558145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvUM3.png?s=128&g=1", "display_name": "Shaishav", "link": "https://stackoverflow.com/users/3558145/shaishav"}, "edited": false, "score": 0, "creation_date": 1525683945, "post_id": 50210539, "comment_id": 87438072, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8782250/popupwindow-badtokenexception-unable-to-add-window-token-null-is-not-valid\">PopupWindow $BadTokenException: Unable to add window -- token null is not valid</a>"}, {"owner": {"reputation": 591, "user_id": 1118865, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/83fd317db8ad9b12eefe8db3d23ef72f?s=128&d=identicon&r=PG", "display_name": "steevoo", "link": "https://stackoverflow.com/users/1118865/steevoo"}, "edited": false, "score": 1, "creation_date": 1525683996, "post_id": 50210539, "comment_id": 87438105, "body": "replace mContent with mActivity in AlertDialog.Builder(mContent)"}, {"owner": {"reputation": 1585, "user_id": 3702021, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1673bafe8b7a003e126bc5b8b2b460b9?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/3702021/kasim-rangwala"}, "edited": false, "score": 0, "creation_date": 1525690458, "post_id": 50210539, "comment_id": 87441875, "body": "check for <code>if (!isFinishing &amp;&amp; !isDestroyed)</code> for your <code>activity</code> inside your <code>promptBuyWhenExpired()</code>."}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1525693315, "post_id": 50210539, "comment_id": 87443534, "body": "In Utility: <code>val builder = AlertDialog.Builder(mContent)</code> here you are using application context not activity context."}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525685126, "post_id": 50210611, "comment_id": 87438737, "body": "Thanks! but I still the same error when I use Utility.promptBuyWhenExpired(this@UIMain)"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525685172, "post_id": 50210611, "comment_id": 87438763, "body": "Are there some problem with the function public fun promptBuyWhenExpired(mActivity: Activity) {...} in Code B ?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525685214, "post_id": 50210611, "comment_id": 87438791, "body": "Is <code>var mContent= mActivity.applicationContext</code> right in my Code B?"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525685247, "post_id": 50210611, "comment_id": 87438808, "body": "@HelloCW comment <code>var mContent= mActivity.applicationContext</code>"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525685400, "post_id": 50210611, "comment_id": 87438896, "body": "@HelloCW  use <code>val builder = AlertDialog.Builder(this@UIMain)</code>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 1, "creation_date": 1525686066, "post_id": 50210611, "comment_id": 87439295, "body": "Thanks!   &#39;mActivity.finish()&#39; will cause error by your code because <code>public fun promptBuyWhenExpired(mActivity: Context) {...}</code> in Code B"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525686297, "post_id": 50210611, "comment_id": 87439414, "body": "@HelloCW add <code>dialog.dismiss()</code> before <code>mActivity.finish()</code>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525686358, "post_id": 50210611, "comment_id": 87439446, "body": "I hope to close UImain instead of dialog"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525686490, "post_id": 50210611, "comment_id": 87439511, "body": "and more ,you can&#39;t invoke <code>mActivity.finish()</code> because mActivity is Context by your code <code>public fun promptBuyWhenExpired(mActivity: Context)...</code>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525686559, "post_id": 50210611, "comment_id": 87439546, "body": "A Context havn&#39;t finish() function"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525686790, "post_id": 50210611, "comment_id": 87439694, "body": "@HelloCW good. For test case comment <code>mActivity.finish()</code> and let me inform"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525692246, "post_id": 50210611, "comment_id": 87442899, "body": "Thanks! but I need to invoke finish() to close UIMain"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525693185, "post_id": 50210611, "comment_id": 87443451, "body": "@HelloCW  Add 300 ms delay time to avoid exception"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525738509, "post_id": 50210611, "comment_id": 87465691, "body": "Thanks! Would you please see my modified question? My modified code can work,   but I don&#39;t know if the code can work well in all mobile phone."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525739089, "post_id": 50210611, "comment_id": 87465806, "body": "In modified code, I can pass parameter either <code>this</code> or <code>this@UIMain</code>, why? Thanks!"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525756395, "post_id": 50210611, "comment_id": 87469713, "body": "@HelloCW Have a look here <a href=\"https://stackoverflow.com/questions/7933206/android-unable-to-add-window-token-null-is-not-for-an-application-exception\" title=\"android unable to add window token null is not for an application exception\">stackoverflow.com/questions/7933206/&hellip;</a>"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": true, "score": 2, "last_activity_date": 1525695571, "last_edit_date": 1525695571, "creation_date": 1525684064, "answer_id": 50210611, "question_id": 50210539, "link": "https://stackoverflow.com/questions/50210539/why-do-i-get-token-null-is-not-valid-error-in-android/50210611#50210611", "title": "Why do I get token null is not valid error in Android?", "body": "<blockquote>\n  <p>Caused by: android.view.WindowManager$BadTokenException: Unable to\n  add window -- token null is not valid; is your activity running?</p>\n</blockquote>\n\n<p>Read <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html\" rel=\"nofollow noreferrer\"><strong><code>This Expression</code></strong></a> .  </p>\n\n<p><strong>DO</strong> </p>\n\n<p>This Step for <strong>Code B</strong></p>\n\n<pre><code> Utility.promptBuyWhenExpired(this@UIMain)\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>public fun promptBuyWhenExpired(mActivity: Activity) {\n       if (IsExpired(mActivity) ) {\n</code></pre>\n\n<p>You should pass <strong><code>this@CurrentActivityName</code></strong> instead of <strong><code>this</code></strong>.</p>\n\n<p><strong>NOTE</strong></p>\n\n<pre><code>builder.setPositiveButton(mContent.getString(R.string.BtnYes)) { dialog, which -&gt;\n\n            val handler = Handler()\n            handler.postDelayed({  mActivity.finish() }, 300)\n        }\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "accepted_answer_id": 50210611, "answer_count": 1, "score": 2, "last_activity_date": 1525738983, "creation_date": 1525683809, "last_edit_date": 1525738983, "question_id": 50210539, "link": "https://stackoverflow.com/questions/50210539/why-do-i-get-token-null-is-not-valid-error-in-android", "title": "Why do I get token null is not valid error in Android?", "body": "<p>I hope to open a dialog box, the Code A works well.  In order to make the code universally, I place the function promptBuyWhenExpired into Utility.kt, then I invoke the function in onCreate() just like Code B, but I get the following error information, what wrong do I make ? </p>\n\n<p><strong>Error Information</strong></p>\n\n<pre><code>   java.lang.RuntimeException: Unable to start activity ComponentInfo{info.dodata.mirror/ui.UIMain}: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not valid; is your activity running?\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not valid; is your activity running?\n        at android.view.ViewRootImpl.setView(ViewRootImpl.java:765)\n        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:356)\n        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:92)\n        at android.app.Dialog.show(Dialog.java:330)\n        at utility.UtilityKt.promptBuyWhenExpired(Utility.kt:106)\n        at ui.UIMain.onCreate(UIMain.kt:70)\n        at android.app.Activity.performCreate(Activity.java:6975)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n</code></pre>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>class UIMain : AppCompatActivity() { \n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_main)\n\n        promptBuyWhenExpired()\n\n    }\n\n    private fun promptBuyWhenExpired() {\n        if (IsExpired(applicationContext) ) {\n            val builder = AlertDialog.Builder(this)\n            builder.setMessage(getString(R.string.ExpiredTitle))\n            builder.setTitle(getString(R.string.ExpiredWarning))\n            builder.setCancelable(false)\n            builder.setPositiveButton(getString(R.string.BtnYes)) { dialog, which -&gt;\n                finish()\n            }\n            builder.create().show()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>class UIMain : AppCompatActivity() { \n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_main)\n\n        Utility.promptBuyWhenExpired(this)\n    }\n\n}\n\n\n\n\nUtility.kt\npublic fun promptBuyWhenExpired(mActivity: Activity) {\n    var mContent= mActivity.applicationContext\n    if (IsExpired(mContent) ) {\n        val builder = AlertDialog.Builder(mContent)\n        builder.setMessage(mContent.getString(R.string.ExpiredTitle))\n        builder.setTitle(mContent.getString(R.string.ExpiredWarning))\n        builder.setCancelable(false)\n        builder.setPositiveButton(mContent.getString(R.string.BtnYes)) { dialog, which -&gt;\n            mActivity.finish()\n        }\n        builder.create().show()\n    }\n}\n</code></pre>\n\n<p><strong>Modified in Code B</strong></p>\n\n<p>The following code can work, but I don't know if the code can work well in all mobile phone.</p>\n\n<pre><code>//promptBuyWhenExpired(this@UImain) is Ok\n//promptBuyWhenExpired(this) is Ok too.\npublic fun promptBuyWhenExpired(mActivity: Activity) {\n    var mContent= mActivity.applicationContext\n    if (IsExpired(mContent) ) {\n        val builder = AlertDialog.Builder(mActivity)  //The paramter is mActivity\n        builder.setMessage(mContent.getString(R.string.ExpiredTitle))\n        builder.setTitle(mContent.getString(R.string.ExpiredWarning))\n        builder.setCancelable(false)\n        builder.setPositiveButton(mContent.getString(R.string.BtnYes)) { dialog, which -&gt;\n            mActivity.finish()\n        }\n        builder.create().show()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 3, "creation_date": 1525682880, "post_id": 50210260, "comment_id": 87437454, "body": "Why don&#39;t you give them a common type (e.g. interface) and extend this one instead?"}, {"owner": {"reputation": 8452, "user_id": 621427, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0eFAm.png?s=128&g=1", "display_name": "robkuz", "link": "https://stackoverflow.com/users/621427/robkuz"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1525683373, "post_id": 50210260, "comment_id": 87437747, "body": "doesn&#39;t work on sealed classes"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1525683682, "post_id": 50210260, "comment_id": 87437930, "body": "You can make it work with sealed, see my answer"}, {"owner": {"reputation": 8452, "user_id": 621427, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0eFAm.png?s=128&g=1", "display_name": "robkuz", "link": "https://stackoverflow.com/users/621427/robkuz"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1525684034, "post_id": 50210260, "comment_id": 87438139, "body": "I have updated my uestion slightly as my initial example seemed to indicate a common function impl. which it does not have"}], "answers": [{"comments": [{"owner": {"reputation": 8452, "user_id": 621427, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0eFAm.png?s=128&g=1", "display_name": "robkuz", "link": "https://stackoverflow.com/users/621427/robkuz"}, "edited": false, "score": 0, "creation_date": 1525684196, "post_id": 50210434, "comment_id": 87438235, "body": "I am rather looking to express &quot;any type that has a (different) <code>run</code> function&quot; instead of limiting it"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 8452, "user_id": 621427, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0eFAm.png?s=128&g=1", "display_name": "robkuz", "link": "https://stackoverflow.com/users/621427/robkuz"}, "edited": false, "score": 0, "creation_date": 1525688275, "post_id": 50210434, "comment_id": 87440614, "body": "This is impossible, except you&#39;re glad to use reflection."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1525683400, "creation_date": 1525683400, "answer_id": 50210434, "question_id": 50210260, "link": "https://stackoverflow.com/questions/50210260/how-to-call-extension-functions-from-generic-code/50210434#50210434", "title": "How to call extension functions from generic code", "body": "<p>You can do this.</p>\n\n<pre><code>fun &lt;T&gt; T.run() = \"run\"\n</code></pre>\n\n<p>This <code>run</code> definition should make the rest of your code compile.</p>\n\n<p>If you want to limit the callees of <code>run</code>, you should create a common <code>sealed class</code> like this.</p>\n\n<pre><code>class Foo : Bla()\nclass Bar : Bla()\nsealed class Bla\n\nfun &lt;T : Bla&gt;.run() = \"run\"\n\n// this works, too\n// fun Bla.run() = \"run\"\n</code></pre>\n\n<p>In this way, only instances of <code>Foo</code> and <code>Bar</code> can use <code>run</code>.</p>\n\n<p>But if I were you, I'd make <code>run</code> a member function of <code>Bla</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1525685216, "last_edit_date": 1525685216, "creation_date": 1525683570, "answer_id": 50210476, "question_id": 50210260, "link": "https://stackoverflow.com/questions/50210260/how-to-call-extension-functions-from-generic-code/50210476#50210476", "title": "How to call extension functions from generic code", "body": "<p>You simply need a common type and extend this one instead. A simple marker <strong>interface</strong> will help here:</p>\n\n<pre><code>interface Common\nclass Foo: Common\nclass Bar: Common\n\nfun Common.run() = \"run\"\n\nfun main(args: Array&lt;String&gt;) {\n    val x = listOf(Foo(), Bar())\n    val y = x.map {a -&gt; a.run() }\n}\n</code></pre>\n\n<p>Or with <strong><code>sealed</code> classes</strong> (as you suggested in the OP):</p>\n\n<pre><code>sealed class Common {\n    class Foo: Common()\n    class Bar: Common()\n}\n\nfun &lt;T: Common&gt; T.run() = \"run\"\n\nfun main(args: Array&lt;String&gt;) {\n    val x = listOf(Common.Foo(), Common.Bar())\n    val y = x.map {a -&gt; a.run() }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "is_accepted": false, "score": 1, "last_activity_date": 1525708042, "last_edit_date": 1525708042, "creation_date": 1525705345, "answer_id": 50217217, "question_id": 50210260, "link": "https://stackoverflow.com/questions/50210260/how-to-call-extension-functions-from-generic-code/50217217#50217217", "title": "How to call extension functions from generic code", "body": "<p>Your list has the lowest common type for <code>Foo</code> and <code>Bar</code> -- <code>Any</code>, you are ought to check for type in your lambda before calling <code>run</code> method:</p>\n\n<pre><code>class Foo\nclass Bar\n\nfun Foo.run() = \"Foo.run\"\nfun Bar.run() = \"Bar.run\"\n\nfun main(args: Array&lt;String&gt;) {\n    val x = listOf(Foo(), Bar())\n    val y = x.map({ a -&gt;\n        when (a) {\n            is Foo -&gt; a.run()\n            is Bar -&gt; a.run()\n            else -&gt; {\n                /* ignore */\n            }\n        }\n    })\n    println(\"Hello, world!\")\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>class Foo\nclass Bar\n\nfun Foo.run() = \"Foo.run\"\nfun Bar.run() = \"Bar.run\"\n\nfun main(args: Array&lt;String&gt;) {\n    val x = listOf(Foo(), Bar())\n    val y = x.map({ a -&gt;(a as? Foo)?.run() ?: (a as? Bar)?.run() })\n    println(\"Hello, world!\")\n}\n</code></pre>\n\n<p>Since the inferred type of elements in <code>x</code> is <code>Any</code>, it can contain elements other than <code>Foo</code> and <code>Bar</code>, so your code won't find the method for such element and this is checked at compile time.</p>\n\n<p>And even if you add extension function with reified type check, it will be converted to lowest common parent: </p>\n\n<pre><code>class Foo\nclass Bar\n\nfun Foo.run() = \"Foo.run\"\nfun Bar.run() = \"Bar.run\"\nfun Any.run() = \"Any.run\" // this is type erasured version of 'inline fun &lt;reified T&gt; T.run() = T::class.simpleName+\".run\"'\n\nfun main(args: Array&lt;String&gt;) {\n    val x = listOf(Foo(), Bar())\n    val y = x.map(Any::run)\n    println(y)\n}\n</code></pre>\n\n<p>will print <code>[Any.run, Any.run]</code></p>\n\n<p>But using the reference to <code>this</code> you can provide data to your function like: </p>\n\n<pre><code>class Foo \nclass Bar \n\ninline fun Any.run() = this::class.simpleName + \".run\"\n\nfun main(args: Array&lt;String&gt;) {\n    val x = listOf(Foo(), Bar())\n    val y = x.map(Any::run)\n    println(y)\n}\n</code></pre>\n\n<p>will print <code>[Foo.run, Bar.run]</code></p>\n\n<p>You can also move code dispatching child class type to an extension function like this: </p>\n\n<pre><code>class Foo\nclass Bar\n\nfun Foo.run() = \"Foo!!!.run\"\nfun Bar.run() = \"Bar!!!.run\"\nfun Any.run() = when(this){\n    is Foo -&gt; run()\n    is Bar -&gt; run()\n    else -&gt; { \"Unknown.run\" }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val x = listOf(Foo(), Bar(), Any())\n    val y = x.map({ a -&gt; a.run()\n    })\n    println(y)\n}\n</code></pre>\n\n<p>will print <code>[Foo!!!.run, Bar!!!.run, Unknown.run]</code></p>\n"}], "owner": {"reputation": 8452, "user_id": 621427, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0eFAm.png?s=128&g=1", "display_name": "robkuz", "link": "https://stackoverflow.com/users/621427/robkuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1525708042, "creation_date": 1525682701, "last_edit_date": 1525684504, "question_id": 50210260, "link": "https://stackoverflow.com/questions/50210260/how-to-call-extension-functions-from-generic-code", "title": "How to call extension functions from generic code", "body": "<p>Given the following classes and extension functions</p>\n\n<pre><code>class Foo \nclass Bar\n\nfun Foo.run() = \"Foo.run\"\nfun Bar.run() = \"Bar.run\"\n\nfun main(args: Array&lt;String&gt;) {\n    val x = listOf(Foo(), Bar())\n    val y = x.map({a -&gt; a.run()}) //compiler error\n    println(\"Hello, world!\")\n}\n</code></pre>\n\n<p>is it possible to call <code>run</code> in a generic way?</p>\n\n<p>Somehow this is an attempt to emulate Swift's <code>protocol</code>s and <code>extension</code>s when extending a class via an interface or is either not <strong>possible or undesireable</strong>.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "edited": false, "score": 0, "creation_date": 1525679279, "post_id": 50209374, "comment_id": 87435577, "body": "Kotlin version?"}, {"owner": {"reputation": 1881, "user_id": 923390, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/xUxZ7.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/923390/johannes"}, "reply_to_user": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "edited": false, "score": 0, "creation_date": 1525679463, "post_id": 50209374, "comment_id": 87435670, "body": "It&#39;s version 1.2.41"}, {"owner": {"reputation": 1585, "user_id": 3702021, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1673bafe8b7a003e126bc5b8b2b460b9?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/3702021/kasim-rangwala"}, "edited": false, "score": 0, "creation_date": 1525693503, "post_id": 50209374, "comment_id": 87443658, "body": "Android Studio (D8 DEX compiler) doesn&#39;t support <code>Java 9</code> compilation at the moment. You&#39;re not able to use <code>JAR</code> which targets <code>Java 9</code> or <code>Java 10</code>. for more info. visit <a href=\"https://developer.android.com/studio/releases/\" rel=\"nofollow noreferrer\">developer.android.com/studio/releases</a>, and <a href=\"https://android-developers.googleblog.com/2017/04/java-8-language-features-support-update.html\" rel=\"nofollow noreferrer\">android-developers.googleblog.com/2017/04/&hellip;</a>"}, {"owner": {"reputation": 1881, "user_id": 923390, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/xUxZ7.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/923390/johannes"}, "edited": false, "score": 0, "creation_date": 1525693638, "post_id": 50209374, "comment_id": 87443731, "body": "Hi Kasim, I&#39;m using IntelliJ 2017.2.5"}], "answers": [{"comments": [{"owner": {"reputation": 1881, "user_id": 923390, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/xUxZ7.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/923390/johannes"}, "edited": false, "score": 0, "creation_date": 1525692414, "post_id": 50211956, "comment_id": 87442987, "body": "When I&#39;m at home I can commit/push my stuff to github and then link it. Or maybe my pom.xml is sufficient. That said I&#39;m not sure what IntelliJ does, because I just recently switched to IntelliJ along with using Kotlin and Vert.x. So, a lot of new stuff ;-)"}, {"owner": {"reputation": 1881, "user_id": 923390, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/xUxZ7.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/923390/johannes"}, "edited": false, "score": 0, "creation_date": 1525692661, "post_id": 50211956, "comment_id": 87443132, "body": "But isn&#39;t the problem in the other direction? That Kotlin compiles to 1.8 but in the end I have to use JDK 9 because of the dependency?"}, {"owner": {"reputation": 1881, "user_id": 923390, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/xUxZ7.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/923390/johannes"}, "edited": false, "score": 0, "creation_date": 1525693438, "post_id": 50211956, "comment_id": 87443623, "body": "I suspect it&#39;s just a configuration issue of mine, because I have to admit I really hate build-tools and all that stuff."}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 1881, "user_id": 923390, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/xUxZ7.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/923390/johannes"}, "edited": false, "score": 0, "creation_date": 1525696718, "post_id": 50211956, "comment_id": 87445556, "body": "Sorry, I&#39;ve only answered the first part of your question, about <code>Unknown JVM target version: 1.9</code> (before the edit)."}, {"owner": {"reputation": 1881, "user_id": 923390, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/xUxZ7.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/923390/johannes"}, "edited": false, "score": 0, "creation_date": 1525697932, "post_id": 50211956, "comment_id": 87446314, "body": "Oh, sorry yes. But at least that&#39;s working now, thanks :-)"}, {"owner": {"reputation": 6882, "user_id": 2886891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yaE6t.png?s=128&g=1", "display_name": "Honza Zidek", "link": "https://stackoverflow.com/users/2886891/honza-zidek"}, "reply_to_user": {"reputation": 1881, "user_id": 923390, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/xUxZ7.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/923390/johannes"}, "edited": false, "score": 0, "creation_date": 1537363172, "post_id": 50211956, "comment_id": 91757344, "body": "@Johannes, if the solution works for you, mark it as accepted please. If not and you have your own solution, answer yourself in another answer and mark your answser as accepted - <a href=\"https://stackoverflow.com/help/self-answer\">stackoverflow.com/help/self-answer</a>."}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 6, "last_activity_date": 1525688532, "creation_date": 1525688532, "answer_id": 50211956, "question_id": 50209374, "link": "https://stackoverflow.com/questions/50209374/include-maven-dependencies-built-with-java9-or-java10-in-a-kotlin-project/50211956#50211956", "title": "Include maven dependencies built with Java9 or Java10 in a Kotlin project", "body": "<p>I suspect that the problem is in the Kotlin Maven plugin, which infers the <code>-jvm-target</code> argument value directly from <code>maven.compiler.source</code>/<code>maven.compiler.target</code> properties, not taking into account the fact that the Kotlin compiler only supports versions 1.6 and 1.8. The workaround would be to specify the JVM bytecode target version explicitly to 1.8, for example (note that 1.8-targeted bytecode will run on Java 9 just fine):</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    ...\n    &lt;configuration&gt;\n        &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>That said, I couldn't reproduce your issue on a small sample project, so if you have a minute, I'd very much appreciate if you reported an issue at <a href=\"https://kotl.in/issue\" rel=\"noreferrer\">https://kotl.in/issue</a></p>\n"}], "owner": {"reputation": 1881, "user_id": 923390, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/xUxZ7.jpg?s=128&g=1", "display_name": "Johannes", "link": "https://stackoverflow.com/users/923390/johannes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1766, "favorite_count": 2, "accepted_answer_id": 50211956, "answer_count": 1, "score": 3, "last_activity_date": 1525695009, "creation_date": 1525679193, "last_edit_date": 1525695009, "question_id": 50209374, "link": "https://stackoverflow.com/questions/50209374/include-maven-dependencies-built-with-java9-or-java10-in-a-kotlin-project", "title": "Include maven dependencies built with Java9 or Java10 in a Kotlin project", "body": "<p>Is it possible to include Java9 (or 10) dependencies? As Kotlin is only able to compile to Java 8 so far. I'm getting an <code>java.lang.UnsupportedClassVersionError</code> error obviously stating that a class in the JAR/dependency I'm including has been compiled by a more recent version of the Java Runtime. However am I not able to specify a newer JDK, which is able to run classes compiled with older versions (the Kotlin stuff?).</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.7.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;release&gt;9&lt;/release&gt;\n    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n  &lt;/configuration&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n      &lt;artifactId&gt;asm&lt;/artifactId&gt;\n      &lt;version&gt;6.1&lt;/version&gt; &lt;!-- Use newer version of ASM --&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>With the properties</p>\n\n<pre><code>&lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\n</code></pre>\n\n<p>But now I'm getting the error:\n<code>\"Error:Kotlin: Unknown JVM target version: 1.9\nSupported versions: 1.6, 1.8\"</code></p>\n\n<p>Kotlin version is <code>1.2.41</code>, so far I can always switch to the newest version until it's released...</p>\n\n<p>It's okay with the following XML fragment. However the problem with <code>java.lang.UnsupportedClassVersionError</code> remains.</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;9&lt;/source&gt;\n                &lt;target&gt;9&lt;/target&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-testCompile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>I'm trying to build a Kotlin module/maven bundle for a (currently) Java9 project of mine.</p>\n\n<p>The Maven-Kotlin Plugin configuration is:</p>\n\n<pre><code>      &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;source&gt;src/main/java&lt;/source&gt;\n                            &lt;source&gt;src/main/kotlin&lt;/source&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;source&gt;src/test/java&lt;/source&gt;\n                            &lt;source&gt;src/test/kotlin&lt;/source&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>My whole pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;restful-web&lt;/groupId&gt;\n    &lt;artifactId&gt;restful-web&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;kotlin.version&gt;1.2.41&lt;/kotlin.version&gt;\n        &lt;kotlin.compiler.jvmTarget&gt;1.8&lt;/kotlin.compiler.jvmTarget&gt;\n        &lt;sirix.version&gt;0.8.9-SNAPSHOT&lt;/sirix.version&gt;\n        &lt;main.verticle&gt;org.sirix.rest.SirixVerticle&lt;/main.verticle&gt;\n        &lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n            &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n            &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n            &lt;artifactId&gt;vertx-lang-kotlin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.sirixdb.sirix&lt;/groupId&gt;\n            &lt;artifactId&gt;sirix-core&lt;/artifactId&gt;\n            &lt;version&gt;${sirix.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.sirixdb.sirix&lt;/groupId&gt;\n            &lt;artifactId&gt;sirix-xquery&lt;/artifactId&gt;\n            &lt;version&gt;${sirix.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\n                        &lt;phase&gt;none&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java-compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;java-test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                                    &lt;manifestEntries&gt;\n                                        &lt;Main-Class&gt;io.vertx.core.Launcher&lt;/Main-Class&gt;\n                                        &lt;Main-Verticle&gt;${main.verticle}&lt;/Main-Verticle&gt;\n                                    &lt;/manifestEntries&gt;\n                                &lt;/transformer&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                                    &lt;resource&gt;META-INF/services/io.vertx.core.spi.VerticleFactory&lt;/resource&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;artifactSet&gt;\n                            &lt;/artifactSet&gt;\n                            &lt;outputFile&gt;${project.build.directory}/${project.artifactId}-${project.version}-fat.jar&lt;/outputFile&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;source&gt;src/main/java&lt;/source&gt;\n                                &lt;source&gt;src/main/kotlin&lt;/source&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;source&gt;src/test/java&lt;/source&gt;\n                                &lt;source&gt;src/test/kotlin&lt;/source&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;kotlin-bintray&lt;/id&gt;\n            &lt;name&gt;Kotlin Bintray&lt;/name&gt;\n            &lt;url&gt;http://dl.bintray.com/kotlin/kotlin-dev&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype-nexus-snapshots&lt;/id&gt;\n            &lt;name&gt;Sonatype Nexus Snapshots&lt;/name&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>The error message / relevant part of the stacktrace is:</p>\n\n<p><code>java.lang.UnsupportedClassVersionError: org/sirix/access/conf/DatabaseConfiguration has been compiled by a more recent version of the Java Runtime (class file version 53.0), this version of the Java Runtime only recognizes class file versions up to 52.0</code></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1525679379, "post_id": 50209358, "comment_id": 87435633, "body": "What&#39;s your question?"}, {"owner": {"reputation": 43, "user_id": 6408016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NYWVk.png?s=128&g=1", "display_name": "Ujjval", "link": "https://stackoverflow.com/users/6408016/ujjval"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1525679470, "post_id": 50209358, "comment_id": 87435673, "body": "i want to change btn text when value is 5"}, {"owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "edited": false, "score": 0, "creation_date": 1525679653, "post_id": 50209358, "comment_id": 87435775, "body": "Welcome to StackOverflow! It&#39;s not clear from your question what&#39;s your problem. Please edit your post to make it clearer, and not just use comments."}, {"owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "edited": false, "score": 0, "creation_date": 1525679685, "post_id": 50209358, "comment_id": 87435792, "body": "<code>i in 1 until 5</code> means &quot;i in [1, 5), 5 is excluded&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1525680090, "post_id": 50209506, "comment_id": 87435989, "body": "Alternatively, use <code>1 until 6</code> if you like it more"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1525679675, "creation_date": 1525679675, "answer_id": 50209506, "question_id": 50209358, "link": "https://stackoverflow.com/questions/50209358/check-if-condition-in-for-loop-in-kotlin/50209506#50209506", "title": "Check If Condition in for loop in kotlin", "body": "<p>The loop will never reach <code>5</code> because <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/until.html\" rel=\"nofollow noreferrer\"><code>until</code></a> excludes the upper value, i.e. it creates an interval that's open on the right, which in this case is <code>[1,5)</code>.</p>\n\n<p>If you use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/range-to.html\" rel=\"nofollow noreferrer\"><code>rangeTo</code></a> (or in its operator form, <code>..</code>), you'll get a range that includes the upper value as well:</p>\n\n<pre><code>fun loopFunction() {\n    for (i in 1..5 step 2) {\n        if (i == 5) {\n            btn.text = \"Timer End\" //btn is Button\n        }\n        println(i)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6408016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NYWVk.png?s=128&g=1", "display_name": "Ujjval", "link": "https://stackoverflow.com/users/6408016/ujjval"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1525679749, "creation_date": 1525679138, "last_edit_date": 1525679749, "question_id": 50209358, "link": "https://stackoverflow.com/questions/50209358/check-if-condition-in-for-loop-in-kotlin", "title": "Check If Condition in for loop in kotlin", "body": "<p>I want to change the <code>btn.text</code> when value is 5, but it's not working. Here's my code:</p>\n\n<pre><code>fun loopFunction(){\n    for (i in 1 until 5 step 2) {\n\n        if (i == 5){\n           btn.text = \"Timer End\" //btn is Button\n        }\n\n        println(i)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "generics", "kotlin", "constructor-reference"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1525680515, "creation_date": 1525680515, "answer_id": 50209695, "question_id": 50208550, "link": "https://stackoverflow.com/questions/50208550/how-to-create-object-of-generic-type-in-a-class/50209695#50209695", "title": "How to create object of generic type in a class", "body": "<p>You cannot do this. You'd have to provide a factory method for it.</p>\n\n<p>Either have it with an abstract function within the class</p>\n\n<pre><code>abstract fun createViewHolder(): TViewHolder\n</code></pre>\n\n<p>or provide it as a parameter to the constructor</p>\n\n<pre><code>abstract class NexusAdapter&lt;TData: NexusIdProvider, TViewHolder: NexusViewHolder&lt;TData&gt;&gt;(\n        protected val ctx: Context,\n        private val _layoutId: Int,\n        protected val items: List&lt;TData&gt;,\n        private val createViewHolder: () -&gt; TViewHolder\n) : BaseAdapter()\n</code></pre>\n"}], "owner": {"reputation": 3615, "user_id": 1366415, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/18hVz.gif?s=128&g=1", "display_name": "Simple Fellow", "link": "https://stackoverflow.com/users/1366415/simple-fellow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1525680515, "creation_date": 1525675913, "last_edit_date": 1525676544, "question_id": 50208550, "link": "https://stackoverflow.com/questions/50208550/how-to-create-object-of-generic-type-in-a-class", "title": "How to create object of generic type in a class", "body": "<p>I have the following class </p>\n\n<pre><code>open abstract class NexusAdapter&lt;TData: NexusIdProvider, TViewHolder: NexusViewHolder&lt;TData&gt;&gt;\n                (protected val ctx: Context, private val _layoutId: Int, protected val items: List&lt;TData&gt;):\n                BaseAdapter() {\n\n    override fun getView(position: Int, view: View?, parent: ViewGroup?): View {\n        val itemView = if (view == null)\n            LayoutInflater.from(ctx).inflate(_layoutId, parent, false)\n                else view!!\n\n        // How do I create the object of type TViewHolder at runtime????\n        var viewHolder: TViewHolder = TViewHolder::class.java.newInstance()\n\n        viewHolder.bind(itemView , getItem(position))\n        return itemView\n    }\n\n    //...\n}\n</code></pre>\n\n<p>How do I create the object of type <code>TViewHolder</code> in my class.</p>\n"}, {"tags": ["android", "bitmap", "kotlin", "drawable", "robolectric"], "answers": [{"tags": [], "owner": {"reputation": 678, "user_id": 4987313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dd0072b1d06efa1430a20a7422cc46c?s=128&d=identicon&r=PG&f=1", "display_name": "Caitlin", "link": "https://stackoverflow.com/users/4987313/caitlin"}, "is_accepted": false, "score": 3, "last_activity_date": 1533063015, "creation_date": 1533063015, "answer_id": 51620179, "question_id": 50208357, "link": "https://stackoverflow.com/questions/50208357/android-robolectric-unit-test-load-bitmap-from-drawable/51620179#51620179", "title": "Android robolectric unit test load bitmap from drawable", "body": "<p>From what I can tell this is caused by the <a href=\"https://github.com/robolectric/robolectric/blob/master/shadows/framework/src/main/java/org/robolectric/shadows/ShadowBitmapFactory.java#L55\" rel=\"nofollow noreferrer\">Robolectric Shadow implementation of BitmapFactory</a> which doesn't actually open a resource, but just sets that the Bitmap was \"created\" by that resource. It is a stub implementation that doesn't actually do any work. </p>\n\n<p>When Robolectric sees an object that has a Robolectric Shadow implementation, it uses the Shadow implementation instead of the real object. For more detailed information on how shadows work see the <a href=\"http://robolectric.org/extending/\" rel=\"nofollow noreferrer\">Robolectric Shadows documentation</a>. </p>\n"}], "owner": {"reputation": 63, "user_id": 5102619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44056797bd393782d9905d3042a3081a?s=128&d=identicon&r=PG&f=1", "display_name": "Baptiste Amato", "link": "https://stackoverflow.com/users/5102619/baptiste-amato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 982, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1533063015, "creation_date": 1525675079, "last_edit_date": 1525677015, "question_id": 50208357, "link": "https://stackoverflow.com/questions/50208357/android-robolectric-unit-test-load-bitmap-from-drawable", "title": "Android robolectric unit test load bitmap from drawable", "body": "<p>I am trying to load a bitmap from a drawable in my resources, but it appears to be empty when the following code is run in unit tests, but not empty when run from a normal activity:</p>\n\n<pre><code>val bitmapImage = BitmapFactory.decodeResource(context!!.resources, R.drawable.my_image)\nval bos = ByteArrayOutputStream()\nval quality = 10\nbitmapImage.compress(Bitmap.CompressFormat.JPEG, quality, bos)\nval pixels = bos.toByteArray()\n</code></pre>\n\n<p>I really don't understand what's happening, as the same code produces different results whether I run it in the app or in a test...</p>\n\n<p>EDIT</p>\n\n<p>When running this in instrumented tests, everything works well. I would still like to understand why drawables are not obtained in unit test though.</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-studio-3.0", "android-databinding"], "comments": [{"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1525678655, "post_id": 50208356, "comment_id": 87435292, "body": "@tynn : I am not sure what context you want. Anything specific? That&#39;s the only error I get."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1525679841, "post_id": 50208356, "comment_id": 87435863, "body": "Usually there&#39;s more information to it. Maybe well hidden in some logs. Also it might be interesting, which compiler has this error."}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1525680346, "post_id": 50208356, "comment_id": 87436114, "body": "@tynn : pasting my build.gradle files in the edit"}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1525685709, "post_id": 50208356, "comment_id": 87439097, "body": "@tynn : Was pasting the gradle files helpful?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1525686163, "post_id": 50208356, "comment_id": 87439352, "body": "It&#39;s still missing where you want to access <code>ActivitySuggestionsBinding</code>. But you&#39;re app&#39;s gradle file is missing the kapt reference to the databinding compiler."}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1525687354, "post_id": 50208356, "comment_id": 87440070, "body": "@tynn : I will add the code where I am accessing ActivitySuggestionsBinding. Regarding the kapt reference, I don&#39;t think I got you? what do you mean by kapt reference?"}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1525687647, "post_id": 50208356, "comment_id": 87440235, "body": "@tynn : Added the code where ActivitySuggestionsBinding is being accessed"}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1525688202, "post_id": 50208356, "comment_id": 87440569, "body": "@tynn : Understood. I added the kapt reference in app&#39;s build.gradle. Still the same error."}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1525751417, "post_id": 50208356, "comment_id": 87468372, "body": "@tynn : Have the edits been helpful now?"}, {"owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1525919245, "post_id": 50208356, "comment_id": 87547191, "body": "Most of the time  just clean and rebuild does the trick. Have you tried it? If so update this information in your question so that someone else doesn&#39;t recommend it"}, {"owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1525919603, "post_id": 50208356, "comment_id": 87547282, "body": "Also update your question with activity_suggestions.xml"}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1525924793, "post_id": 50208356, "comment_id": 87548515, "body": "@Sagar done. Added activity_suggestions.xml"}, {"owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1525924915, "post_id": 50208356, "comment_id": 87548549, "body": "@Ashwin rebuild didn&#39;t work?"}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1525929834, "post_id": 50208356, "comment_id": 87549898, "body": "@Sagar : Nope. tried rebuildm clean, invalidate cache"}, {"owner": {"reputation": 359, "user_id": 9194489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49276866069cf6135a18ed8e7a1287a7?s=128&d=identicon&r=PG&f=1", "display_name": "Mateo", "link": "https://stackoverflow.com/users/9194489/mateo"}, "edited": false, "score": 0, "creation_date": 1525964221, "post_id": 50208356, "comment_id": 87568260, "body": "I&#39;ve never used data binding in a multi-module project, might have something to do with this? <a href=\"https://stackoverflow.com/questions/41765114/databinding-not-working-in-module\" title=\"databinding not working in module\">stackoverflow.com/questions/41765114/&hellip;</a>"}, {"owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1526002025, "post_id": 50208356, "comment_id": 87583735, "body": "@Ashwin Are you using ViewModel component in your binding?"}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1526015855, "post_id": 50208356, "comment_id": 87586701, "body": "@Sagar : I am not using ViewModel that is provided by android. I am using a simple class for view model - SuggestionActivityViewModel"}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "edited": false, "score": 0, "creation_date": 1526349207, "post_id": 50208356, "comment_id": 87698623, "body": "@SirCodesalot : Edited the question. I was just trying to obfuscate  thedomain name. Request you to please delete your comment"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1526421424, "post_id": 50208356, "comment_id": 87736070, "body": "Did you apply the android plugins in your <i>build.gradle</i>?"}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1526437460, "post_id": 50208356, "comment_id": 87739645, "body": "@tynn : Yes, I have. You can see the build.gradle files that I have pasted in the question. Both app and module apply the plugin kotlin-kapt"}, {"owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "edited": false, "score": 0, "creation_date": 1526468625, "post_id": 50208356, "comment_id": 87754274, "body": "@Ashwin Try adding following to your module build.gradle  <code>android {     &#47;&#47;&#47; Existing Code     kapt {         generateStubs = true     } }</code>  I have also posted an answer for it."}], "answers": [{"comments": [{"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1526455080, "post_id": 50364512, "comment_id": 87745339, "body": "@Ashwin i add my code it is working to me. i hope it&#39;s help full to you. i add more extra some dependency in app level gradle file you can remove it."}, {"owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "edited": false, "score": 0, "creation_date": 1526465760, "post_id": 50364512, "comment_id": 87752382, "body": "android.databinding.enableV2=true gives errors in other modules. These other modules I don&#39;t have access to codebase"}], "tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1526454786, "creation_date": 1526454786, "answer_id": 50364512, "question_id": 50208356, "link": "https://stackoverflow.com/questions/50208356/cannot-access-activity-binding-android/50364512#50364512", "title": "Cannot access activity binding android", "body": "<p>In this demo it is work and try this way..\nadd only databinding enable code into app level gradle file like below code..</p>\n\n<pre><code>dataBinding {\n    enabled = true\n}\n</code></pre>\n\n<p>below code is my app level gradle file ..</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\ncompileSdkVersion 27\ndefaultConfig {\n    applicationId \"com.example.adruser.rafdemo\"\n    minSdkVersion 23\n    targetSdkVersion 27\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\ndataBinding {\n    enabled = true\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:27.1.1'\nimplementation 'com.android.support.constraint:constraint-layout:1.1.0'\nimplementation 'com.android.support:support-v4:27.1.1'\nimplementation 'com.android.support:design:27.1.1'\ntestImplementation 'junit:junit:4.12'\nimplementation 'com.android.support:cardview-v7:27.1.1'\nimplementation 'com.google.android.gms:play-services-maps:11.6.0'\nimplementation 'com.google.android.gms:play-services-location:11.6.0'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'com.squareup.okhttp3:logging-interceptor:3.4.1'\nimplementation 'com.squareup.retrofit2:retrofit:2.3.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0'\nimplementation 'com.intuit.sdp:sdp-android:1.0.4'\nimplementation 'com.github.bumptech.glide:glide:4.7.1'\n\n\n}\nrepositories {\nmavenCentral()\n}\n</code></pre>\n\n<p>then after in project level gradle.properties file add below line..</p>\n\n<pre><code>android.databinding.enableV2=true\n</code></pre>\n\n<p>make user_layout.xml file like below code..</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n&lt;data&gt;\n    &lt;variable\n        name=\"user\"\n        type=\"com.example.adruser.rafdemo.model.User\"/&gt;\n&lt;/data&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_margin=\"10dp\"&gt;\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text='@{user.name}'/&gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/ulTvName\"\n        android:text=\"@{user.dob}\"/&gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/ulTvAge\"\n        android:text=\"@{Integer.toString(user.age)}\"\n        app:layout_constraintTop_toBottomOf=\"@+id/ulTvName\"\n        /&gt;\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"20dp\"\n        android:id=\"@+id/ulTvDob\"\n        android:text=\"@{user.dob ?? user.expDob}\"\n        app:layout_constraintTop_toBottomOf=\"@+id/ulTvAge\"\n        /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>then after make User.java pojo class like below code.. you can make .kt class pojo also</p>\n\n<pre><code>public class User {\npublic String name,dob,expDob;\npublic int age;\npublic User(){}\npublic User(String name, String dob,String expDob, int age) {\n    this.name = name;\n    this.dob = dob;\n    this.age = age;\n    this.expDob=expDob;\n}\npublic static String display(){\n    return \"rajesh\";\n}\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getDob() {\n    return dob;\n}\n\npublic void setDob(String dob) {\n    this.dob = dob;\n}\n\npublic int getAge() {\n    return age;\n}\n\npublic void setAge(int age) {\n    this.age = age;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>then finnaly make DatabindingActivity.kt class for binding ..</p>\n\n<pre><code>class DatabindingActivity :AppCompatActivity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    var binding:UserLayoutBinding=DataBindingUtil.setContentView(this,R.layout.user_layout)\n    val user = User(\"karan\", null, \"25/06/1994\", 24)\n    binding.user=user\n}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 786, "user_id": 3524134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evKy6.jpg?s=128&g=1", "display_name": "rks", "link": "https://stackoverflow.com/users/3524134/rks"}, "is_accepted": false, "score": 0, "last_activity_date": 1526468516, "last_edit_date": 1526468516, "creation_date": 1526462514, "answer_id": 50366948, "question_id": 50208356, "link": "https://stackoverflow.com/questions/50208356/cannot-access-activity-binding-android/50366948#50366948", "title": "Cannot access activity binding android", "body": "<p>Add following in you <code>app build.gradle</code></p>\n\n<pre><code>kapt \"com.android.databinding:compiler:$android_plugin_version\"\napply plugin: 'kotlin-kapt' // This one at top where plugin belong to\n</code></pre>\n\n<p>This will do the trick.</p>\n\n<p><code>$android_plugin_version</code> is version of <code>com.android.tools.build:gradle</code> in <code>application build.gradle</code></p>\n\n<p>Also, add this to your module <code>build.gradle</code></p>\n\n<p><code>android {\n    /// Existing Code\n    kapt {\n        generateStubs = true\n    }\n}</code></p>\n"}, {"tags": [], "owner": {"reputation": 283, "user_id": 2106298, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e818cc2bef5d28426a7136d65aca8b98?s=128&d=identicon&r=PG", "display_name": "b1n0m", "link": "https://stackoverflow.com/users/2106298/b1n0m"}, "is_accepted": false, "score": 0, "last_activity_date": 1531596779, "creation_date": 1531596779, "answer_id": 51342740, "question_id": 50208356, "link": "https://stackoverflow.com/questions/50208356/cannot-access-activity-binding-android/51342740#51342740", "title": "Cannot access activity binding android", "body": "<p>I had similar issue.\nI was getting error</p>\n\n<pre><code>error: cannot access RepeatPaymentFragmentBinding\nclass file for RepeatPaymentFragmentBinding not found\nConsult the following stack trace for details.\ncom.sun.tools.javac.code.Symbol$CompletionFailure: class file for my.package.databinding.RepeatPaymentFragmentBinding not found\n</code></pre>\n\n<p>Spent a couple of days to figure out that the problem is not with GDB but with Dagger2. It turned out, Dagger doesn't support using generated classes in code it generates.</p>\n\n<p>So, I had such class in my <code>:library</code> module:</p>\n\n<pre><code>class RepeatPaymentFragment: BaseFragment&lt;RepeatPaymentFragmentBinding&gt;() {\n...\n}\n</code></pre>\n\n<p>And the dagger component for it were located in <code>:app</code> module. So the two annotation processors interfere each other.</p>\n\n<p>After I removed generic from my fragments it compiles fine.</p>\n\n<p>So if you have such error, try to look if you try to inject into (or provide) class which is generated by another annotation proccessor, or inherits from such class, or have generic with such class.</p>\n"}], "owner": {"reputation": 10256, "user_id": 1139023, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/7e720df07b8a3ef623cf6a7587f21ab8?s=128&d=identicon&r=PG", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/1139023/ashwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3138, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1531596779, "creation_date": 1525675076, "last_edit_date": 1526452959, "question_id": 50208356, "link": "https://stackoverflow.com/questions/50208356/cannot-access-activity-binding-android", "title": "Cannot access activity binding android", "body": "<p>I have a layout file called <code>activity_suggestions</code>. I am using databinding in it. Hence the file <code>ActivitySuggestionsBinding</code> got generated. The project compiles successfully. But when I try to run the project, I get this error </p>\n\n<pre><code>e: error: cannot access ActivitySuggestionsBinding\n</code></pre>\n\n<p>I am using android studio <code>3.1.2</code> with kotlin version <code>1.4.1</code>. Any help will be appreciated</p>\n\n<p><strong>Edit</strong><br>\nPasting my module level build.gradle and app level build.gradle</p>\n\n<p><strong>Module Build.gradle</strong></p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n\n    dataBinding {\n        enabled = true\n    }\n..\n}\n\ndependencies{\n..\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    implementation \"com.google.dagger:dagger:$rootProject.daggerVersion\"\n    implementation \"com.google.dagger:dagger-android:$rootProject.daggerVersion\"\n    implementation \"com.google.dagger:dagger-android-support:$rootProject.daggerVersion\"\n    kapt \"com.google.dagger:dagger-android-processor:$rootProject.daggerVersion\"\n    kapt \"com.google.dagger:dagger-compiler:$rootProject.daggerVersion\"\n    provided 'javax.annotation:jsr250-api:1.0'\n    implementation \"android.arch.lifecycle:runtime:$rootProject.archVersion\"\n    implementation \"android.arch.lifecycle:extensions:$rootProject.archVersion\"\n    annotationProcessor \"android.arch.lifecycle:compiler:$rootProject.archVersion\"\n    kapt \"com.android.databinding:compiler:3.1.2\"\n..\n}\n</code></pre>\n\n<p><strong>App build.gradle</strong></p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid{\n\n    dataBinding{\n        enabled = true\n    }\n..\n}\n\ndependencies{\n    compile project(':module')\n    kapt \"com.google.dagger:dagger-android-processor:$rootProject.daggerVersion\"\n    kapt \"com.google.dagger:dagger-compiler:$rootProject.daggerVersion\"\n    kapt \"com.android.databinding:compiler:3.1.2\"\n..\n}\n</code></pre>\n\n<p>This is the activity where I am accessing <code>ActivitySuggestionsBinding</code>. This compiles without any error.</p>\n\n<pre><code>class SuggestionsActivityScreen : BaseActivity() {\n\n    var binding : ActivitySuggestionsBinding? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n        binding = DataBindingUtil.setContentView(this,R.layout.activity_suggestions)\n        binding?.model = SuggestionActivityViewModel()\n\n    }\n}\n</code></pre>\n\n<p>On compiling the base module (app), this is the error I get</p>\n\n<pre><code> error: cannot access ActivitySuggestionsBinding\n  class file for com.dom.comp.databinding.ActivitySuggestionsBinding not found\n  Consult the following stack trace for details.\n  com.sun.tools.javac.code.Symbol$CompletionFailure: class file for com.dom.comp.databinding.ActivitySuggestionsBinding not found\n</code></pre>\n\n<p>This is my activity_suggestions.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;data&gt;\n        &lt;variable\n            name=\"model\"\n            type=\"com.dom.domp.SuggestionActivityViewModel\"/&gt;\n    &lt;/data&gt;\n\n&lt;RelativeLayout \n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:focusableInTouchMode=\"true\"\n    android:padding=\"@dimen/step1\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerInParent=\"true\"\n        android:text=\"@{model.namedString}\"/&gt;\n&lt;/RelativeLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>And I have tried clean, invalidate cache. These don't solve the problem.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "is_accepted": false, "score": 4, "last_activity_date": 1525661727, "creation_date": 1525661727, "answer_id": 50206496, "question_id": 50206419, "link": "https://stackoverflow.com/questions/50206419/override-fun-onrequestpermissionsresult-on-other-class/50206496#50206496", "title": "override fun onRequestPermissionsResult on other class", "body": "<p><code>onRequestPermissionsResult</code> is a method from <code>FragmentActivity</code>. Since your <code>Permission</code> doesn't extend <code>FragmentActivity</code>, you cannot override <code>onRequestPermissionsResult</code> directly in the <code>Permission</code>.</p>\n\n<p>You can delegate permission results to <code>Permission</code>.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var permission: Permission\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        permission = Permission()\n        permission.askMicrophonePermission(this@MainActivity)\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        permission.handlePermissionsResult(resquestCode, permissions, grantResults)\n    }\n}\n</code></pre>\n\n<p>Permission:</p>\n\n<pre><code>class Permission{\n    private val tag = \"Permission message\"\n    private val userMicrophonePermissionAgreeCode = 1\n\n    fun askMicrophonePermission(context: Context){\n\n        val currentMicrophonePermission = ActivityCompat.checkSelfPermission(context,android.Manifest.permission.RECORD_AUDIO)\n\n\n        if(currentMicrophonePermission != PackageManager.PERMISSION_GRANTED)\n            ActivityCompat.requestPermissions(context as Activity, arrayOf(android.Manifest.permission.RECORD_AUDIO), userMicrophonePermissionAgreeCode)\n    }\n\n    fun handlePermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        when(requestCode){\n            userMicrophonePermissionAgreeCode -&gt; {\n                if( grantResults[0] == PackageManager.PERMISSION_GRANTED )\n                    Log.i(tag,\"Agree microphone permission\")\n                else\n                    Log.i(tag,\"Not agree microphone permission\")\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 441, "user_id": 10182932, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GEtkWrXsNWo/AAAAAAAAAAI/AAAAAAAAABA/4DUafuH5Njc/photo.jpg?sz=128", "display_name": "Shivam Tripathi", "link": "https://stackoverflow.com/users/10182932/shivam-tripathi"}, "is_accepted": false, "score": 0, "last_activity_date": 1582709631, "creation_date": 1582709631, "answer_id": 60410705, "question_id": 50206419, "link": "https://stackoverflow.com/questions/50206419/override-fun-onrequestpermissionsresult-on-other-class/60410705#60410705", "title": "override fun onRequestPermissionsResult on other class", "body": "<p><strong>Just Extend Fragment Activity on Permission Class</strong></p>\n\n<pre><code>class Permission() : FragmentActivity()\n</code></pre>\n\n<p><strong>How I have done in my project</strong></p>\n\n<pre><code>class AskPermission(val activity:Activity): FragmentActivity() {\n\nprivate val code: Int =0\n\nfun ask(context: Context, permission: String) {\n    if (ContextCompat.checkSelfPermission(\n            context,\n            permission\n        ) == PackageManager.PERMISSION_GRANTED\n    ) {\n        Toast.makeText(context, \"Already Granted\", Toast.LENGTH_LONG)\n            .show()\n    } else {\n        requestStoragePermission(context)\n    }\n}\n\nprivate fun requestStoragePermission(context: Context) {\n    if (ActivityCompat.shouldShowRequestPermissionRationale(\n            activity,\n            Manifest.permission.WRITE_EXTERNAL_STORAGE\n        )\n    ) {\n        ActivityCompat.requestPermissions(context as Activity, arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE),code)\n    }\n    else\n    {\n        ActivityCompat.requestPermissions(context as Activity, arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE),code)\n    }\n}\n\noverride fun onRequestPermissionsResult(\n    requestCode: Int,\n    permissions: Array&lt;out String&gt;,\n    grantResults: IntArray\n) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    if(grantResults[0]==PackageManager.PERMISSION_GRANTED)\n    {\n\n    }\n    else\n    {\n\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 9639905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99a70c5a8095389e63d9d058e3821d28?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/9639905/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3944, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1582709631, "creation_date": 1525660988, "question_id": 50206419, "link": "https://stackoverflow.com/questions/50206419/override-fun-onrequestpermissionsresult-on-other-class", "title": "override fun onRequestPermissionsResult on other class", "body": "<p>I write the <strong>Permission</strong> class, here have the <strong>askMicrophonePermission</strong>\nmethod.</p>\n\n<p>In <strong>askMicrophonePermission</strong>, I use <strong>ActivityCompat.requestPermissions</strong>\nfunction.</p>\n\n<p>But I can't <em>override</em> <strong>onRequestPermissionsResult</strong> in <strong>Permission</strong>\nclass.</p>\n\n<p>If I want <em>override</em> <strong>onRequestPermissionsResult</strong> in <strong>Permission</strong>, not\nin <strong>MainActivity</strong>.</p>\n\n<p>How to write?? Here is my code.</p>\n\n<p>MainActivity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        Permission().askMicrophonePermission(this@MainActivity)\n    }\n}\n</code></pre>\n\n<p>Permission:</p>\n\n<pre><code>class Permission{\n    private val tag = \"Permission message\"\n    private val userMicrophonePermissionAgreeCode = 1\n\n    fun askMicrophonePermission(context: Context){\n\n        val currentMicrophonePermission = ActivityCompat.checkSelfPermission(context,android.Manifest.permission.RECORD_AUDIO)\n\n\n        if(currentMicrophonePermission != PackageManager.PERMISSION_GRANTED)\n            ActivityCompat.requestPermissions(context as Activity, arrayOf(android.Manifest.permission.RECORD_AUDIO), userMicrophonePermissionAgreeCode)\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        when(requestCode){\n            userMicrophonePermissionAgreeCode -&gt; {\n                if( grantResults[0] == PackageManager.PERMISSION_GRANTED )\n                    Log.i(tag,\"Agree microphone permission\")\n                else\n                    Log.i(tag,\"Not agree microphone permission\")\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525675279, "post_id": 50206417, "comment_id": 87433605, "body": "Thanks! but your code don&#39;t work, there is no isCancelable property"}, {"owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 1, "creation_date": 1525690635, "post_id": 50206417, "comment_id": 87441967, "body": "@HelloCW I use anko common library and the property is found at <a href=\"https://github.com/Kotlin/anko/blob/master/anko/library/static/commons/src/dialogs/AlertBuilder.kt#L61\" rel=\"nofollow noreferrer\">github.com/Kotlin/anko/blob/master/anko/library/static/commo&zwnj;&#8203;ns/&hellip;</a>     Are you using the latest version?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 1, "creation_date": 1525743580, "post_id": 50206417, "comment_id": 87466699, "body": "Thanks! I get it, it should be .show().setCancelable(false)"}, {"owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1525748068, "post_id": 50206417, "comment_id": 87467581, "body": "@HelloCW That&#39;s good. But my code works. No error in my IDE. The latest version of anko is 0.10.5. I think you may need to update anko version to use isCancelable property."}], "tags": [], "owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "is_accepted": false, "score": 1, "last_activity_date": 1525690573, "last_edit_date": 1525690573, "creation_date": 1525660983, "answer_id": 50206417, "question_id": 50205963, "link": "https://stackoverflow.com/questions/50205963/how-can-i-set-setcancelablefalse-for-anko-dialog-in-kotlin/50206417#50206417", "title": "How can I set setCancelable(false) for anko dialog in Kotlin?", "body": "<pre><code>alert(\"message\", \"title\") {\n    yesButton {\n        //...\n    }\n    isCancelable = false\n}.show()\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526168608, "creation_date": 1525655846, "last_edit_date": 1526168608, "question_id": 50205963, "link": "https://stackoverflow.com/questions/50205963/how-can-i-set-setcancelablefalse-for-anko-dialog-in-kotlin", "title": "How can I set setCancelable(false) for anko dialog in Kotlin?", "body": "<p>I can set setCancelable(false) for a dialog in Code B, now I hope to set the same property for an Anko dialog in Code A.</p>\n\n<p>How can I do ? Thanks!</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>private fun deleteBackup(){\n    alert(getString(R.string.DialogDeleteContent), getString(R.string.DialogDeleteTitle)) {\n        yesButton {    \n            //...             \n        }\n    }.show()\n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>private fun promptBuyWhenExpired() {\n    if (IsExpired(applicationContext) ) {\n        val builder = AlertDialog.Builder(this)\n        builder.setMessage(getString(R.string.ExpiredTitle))\n        builder.setTitle(getString(R.string.ExpiredWarning))\n        builder.setCancelable(false)\n        builder.setPositiveButton(getString(R.string.BtnYes)) { dialog, which -&gt;\n            finish()\n        }\n        builder.create().show()\n    }\n}\n</code></pre>\n\n<p><strong>Answer:</strong></p>\n\n<p>I get it, it should be .show().setCancelable(false)</p>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 730, "user_id": 7649582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cQ8M7.jpg?s=128&g=1", "display_name": "Dhanshri", "link": "https://stackoverflow.com/users/7649582/dhanshri"}, "edited": false, "score": 0, "creation_date": 1525670974, "post_id": 50205470, "comment_id": 87432032, "body": "Try this one- <a href=\"https://stackoverflow.com/questions/1819142/how-should-i-validate-an-e-mail-address\" title=\"how should i validate an e mail address\">stackoverflow.com/questions/1819142/&hellip;</a> @hatimboubakri"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 7468626, "user_type": "registered", "profile_image": "https://graph.facebook.com/1241567989232781/picture?type=large", "display_name": "Alifyz Pires", "link": "https://stackoverflow.com/users/7468626/alifyz-pires"}, "is_accepted": false, "score": 2, "last_activity_date": 1525651857, "creation_date": 1525651857, "answer_id": 50205625, "question_id": 50205470, "link": "https://stackoverflow.com/questions/50205470/validate-email-address-before-going-to-second-activity/50205625#50205625", "title": "Validate Email Address Before Going To Second Activity", "body": "<p>There is an interesting Java Library that you can use to test if an E-mail is valid or not. </p>\n\n<p>Here is the Gradle dependency: </p>\n\n<pre><code>implementation group: 'commons-validator', name: 'commons-validator', version: '1.6'\n</code></pre>\n\n<p>Here is how you would validate an e-mail string: </p>\n\n<p>First, capture the value of the editText into a String object. \nThen you can use the following pattern to capture a Boolean value that tells if the user has entered a Valid E-mail address. </p>\n\n<pre><code>String email = \"user@domain.com\";\n</code></pre>\n\n<p>Now, you can use the E-mail Validator:</p>\n\n<pre><code> boolean isValid = EmailValidator.getInstance().isValid(email);\n</code></pre>\n\n<p>This is the easiest way I found. \nI hope that helps! </p>\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 9651315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-adTUQEOIzT4/AAAAAAAAAAI/AAAAAAAAAnE/G7Uap07yTzc/photo.jpg?sz=128", "display_name": "Prudhvi Bsecure", "link": "https://stackoverflow.com/users/9651315/prudhvi-bsecure"}, "is_accepted": false, "score": 1, "last_activity_date": 1525657350, "creation_date": 1525657350, "answer_id": 50206090, "question_id": 50205470, "link": "https://stackoverflow.com/questions/50205470/validate-email-address-before-going-to-second-activity/50206090#50206090", "title": "Validate Email Address Before Going To Second Activity", "body": "<pre><code>fun isEmailValid(email: String): Boolean {\n       return Pattern.compile(\n    \"^(([\\\\w-]+\\\\.)+[\\\\w-]+|([a-zA-Z]|[\\\\w-]{2,}))@\"\n + \"((([0-1]?[0-9]{1,2}|25[0-5]|2[0-4][0-9])\\\\.([0-1]?\"\n + \"[0-9]{1,2}|25[0-5]|2[0-4][0-9])\\\\.\"\n + \"([0-1]?[0-9]{1,2}|25[0-5]|2[0-4][0-9])\\\\.([0-1]?\"\n + \"[0-9]{1,2}|25[0-5]|2[0-4][0-9]))|\"\n + \"([a-zA-Z]+[\\\\w-]+\\\\.)+[a-zA-Z]{2,4})$\"\n ).matcher(email).matches()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 12836977, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IWTRYVm4V88/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcY62_qwqwvCs3AYQf8O7WuqD6CMg/photo.jpg?sz=128", "display_name": "Greeshma Borad", "link": "https://stackoverflow.com/users/12836977/greeshma-borad"}, "is_accepted": false, "score": 0, "last_activity_date": 1580796646, "creation_date": 1580796646, "answer_id": 60051537, "question_id": 50205470, "link": "https://stackoverflow.com/questions/50205470/validate-email-address-before-going-to-second-activity/60051537#60051537", "title": "Validate Email Address Before Going To Second Activity", "body": "<p>We have simple Email pattern matcher now</p>\n\n<pre><code>private static boolean isValidEmail(String email) {\n        return !TextUtils.isEmpty(email) &amp;&amp; android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches();\n    }\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8521713, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_CxUFuTQLWo/AAAAAAAAAAI/AAAAAAAAALo/6TE20hqNHxY/photo.jpg?sz=128", "display_name": "hatimboubakri", "link": "https://stackoverflow.com/users/8521713/hatimboubakri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1580796646, "creation_date": 1525649851, "question_id": 50205470, "link": "https://stackoverflow.com/questions/50205470/validate-email-address-before-going-to-second-activity", "title": "Validate Email Address Before Going To Second Activity", "body": "<p>I have an activity with text edits one for name, email and password and a button that take the user to next activity.</p>\n\n<p>The problem is that even if the user entered a invalid email address he still can go to second activity, I want the email address to be checked than if he entered a valid email address he can go to second activity, if not a toast message appears says INVALID EMAIL ADDRESS.</p>\n\n<p>I am working with KOTLIN but I can work also with java.</p>\n\n<p>Please can anyone guide me on how I can do it ?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-data-rest"], "answers": [{"tags": [], "owner": {"reputation": 6320, "user_id": 1005102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/25e54051cb89e46c0af7495dc0b87a9a?s=128&d=identicon&r=PG", "display_name": "Utku &#214;zdemir", "link": "https://stackoverflow.com/users/1005102/utku-%c3%96zdemir"}, "is_accepted": true, "score": 3, "last_activity_date": 1525650151, "creation_date": 1525650151, "answer_id": 50205494, "question_id": 50205092, "link": "https://stackoverflow.com/questions/50205092/kotlin-data-class-no-string-argument-constructor-with-spring-data-rest/50205494#50205494", "title": "Kotlin data class No String-argument constructor with spring data rest", "body": "<p>I did some investigation, and turns out Spring Data Rest uses a custom Jackson module to deserialize JSON into JPA entities: it uses <code>PersistentEntityJackson2Module</code> class and using the inner class <code>UriStringDeserializer</code> to resolve the concrete entities from entity URI references, <code>http://localhost:8080/post/33</code> in your example.</p>\n\n<p>Problem is, this custom deserialization only kicks in when the \"standard deserialization\" of Jackson is triggered: The one that uses empty constructor, then using setters to resolve &amp; set the fields. At that moment, <code>UriStringDeserializer</code> converts the string into the concrete entity - <code>Post</code> instance of your example.</p>\n\n<p>When you use a data class, the class neither has an empty constructor nor setters, therefore in <code>BeanDeserializer#deserializeFromObject</code> method of Jackson, it branches into <code>if (_nonStandardCreation)</code> being true, from there the call goes into <code>BeanDeserializerBase#deserializeFromObjectUsingNonDefault</code> , but not handed over to <code>PersistentEntityJackson2Module</code> anymore, and directly failing due to type mismatch between the constructor argument and the json value.</p>\n\n<p>It seems you need to create a feature request for it to be implemented. If you decide to implement yourself, providing a <code>_delegateDeserializer</code> to the BeanDeserializer might be a start (not sure).</p>\n\n<p>However, I don't know how JPA itself plays with data classes in the first place - after all it tracks the entity state changes, but a data class cannot have state changes. So, it might not be possible to use data classes after all - better to keep in mind.</p>\n\n<p><strong>Note:</strong> You probably cannot simply extend/override <code>PersistentEntityJackson2Module</code> because it is registered to multiple beans in <code>RepositoryRestMvcConfiguration</code></p>\n"}], "owner": {"reputation": 87, "user_id": 2941191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dd749ffe497b68f29b1cbe5ed3273b8?s=128&d=identicon&r=PG", "display_name": "jpedro", "link": "https://stackoverflow.com/users/2941191/jpedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "accepted_answer_id": 50205494, "answer_count": 1, "score": 1, "last_activity_date": 1525667238, "creation_date": 1525645682, "question_id": 50205092, "link": "https://stackoverflow.com/questions/50205092/kotlin-data-class-no-string-argument-constructor-with-spring-data-rest", "title": "Kotlin data class No String-argument constructor with spring data rest", "body": "<p>I'm using Spring data rest with Kotlin and if I use data classes the associations via uri stops working with the error <code>no String-argument constructor/factory method to deserialize from String value</code></p>\n\n<p><strong>Data class</strong></p>\n\n<pre><code>@Entity\ndata class Comment(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)     \n    var id: Long = 0,\n    var author: String? = null,\n    var content: String? = null,\n\n    @ManyToOne\n    var post: Post? = null) {\n}\n</code></pre>\n\n<p>If I use a simple class instead the association works fine.</p>\n\n<pre><code>@Entity\nclass Comment {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)     var id: Long = 0\n    var author: String? = null\n    var content: String? = null\n\n    @ManyToOne\n    var post: Post? = null\n}\n</code></pre>\n\n<p>The association is done via a POST request <code>{\"author\":\"John Doe\",\"content\":\"Dummy Content\", \"post\":\"http://localhost:8080/post/33\"}</code> </p>\n\n<p>Any ideia why I have this error when I use a data class and what can I do to use the association creation via uri and keep using data classes?</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9749995, "user_type": "registered", "profile_image": "https://graph.facebook.com/569407396772300/picture?type=large", "display_name": "Nacer Tahraoui", "link": "https://stackoverflow.com/users/9749995/nacer-tahraoui"}, "edited": false, "score": 0, "creation_date": 1525694014, "post_id": 50205123, "comment_id": 87444003, "body": "Its work but after that i have error in other fuction"}, {"owner": {"reputation": 13, "user_id": 9749995, "user_type": "registered", "profile_image": "https://graph.facebook.com/569407396772300/picture?type=large", "display_name": "Nacer Tahraoui", "link": "https://stackoverflow.com/users/9749995/nacer-tahraoui"}, "edited": false, "score": 0, "creation_date": 1525791304, "post_id": 50205123, "comment_id": 87490434, "body": "can u give me ur email account please i need you ^_^ #jspcal"}], "tags": [], "owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "is_accepted": false, "score": 2, "last_activity_date": 1525646010, "creation_date": 1525646010, "answer_id": 50205123, "question_id": 50205065, "link": "https://stackoverflow.com/questions/50205065/null-cannot-be-cast-to-non-null-type-java-util-hashmap-in-my-application/50205123#50205123", "title": "null cannot be cast to non-null type java.util.HashMap in my application", "body": "<p>This error occurs when attempting to cast <code>null</code> to a <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#nullable-types-and-non-null-types\" rel=\"nofollow noreferrer\">non-null type</a>. This is a runtime error in Kotlin. In the line below, <code>value</code> is <code>null</code>, however the specified type isn't nullable.</p>\n\n<pre><code>val td = dataSnapshot!!.value as HashMap&lt;String,Any&gt;\n</code></pre>\n\n<p>If the intention is for the variable to be nullable, you can use <code>as?</code> (with a question mark) the <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#safe-nullable-cast-operator\" rel=\"nofollow noreferrer\">\"safe\" (nullable) cast operator</a> instead. In case of failure, the result will be <code>null</code> rather than an exception.</p>\n\n<pre><code>val td = dataSnapshot!!.value as? HashMap&lt;String,Any&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9749995, "user_type": "registered", "profile_image": "https://graph.facebook.com/569407396772300/picture?type=large", "display_name": "Nacer Tahraoui", "link": "https://stackoverflow.com/users/9749995/nacer-tahraoui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525694938, "creation_date": 1525645375, "question_id": 50205065, "link": "https://stackoverflow.com/questions/50205065/null-cannot-be-cast-to-non-null-type-java-util-hashmap-in-my-application", "title": "null cannot be cast to non-null type java.util.HashMap in my application", "body": "<pre><code> fun refreshUsers() {\n    val userData = UserData(this)\n   databaseRef!!.child(\"User\").child(userData.loadPhoneNumber()).child(\"Finders\")\n            .addValueEventListener(object :\n            ValueEventListener {\n\n        override fun onDataChange(dataSnapshot: DataSnapshot?) {\n\n            val td = dataSnapshot!!.value as HashMap&lt;String,Any&gt;\n\n           listOfContact.clear()\n            if (td==null){\n                listOfContact.add(UserContact(\"NO_USERS\",\"nothing\"))\n                adapter!!.notifyDataSetChanged()\n                return\n            }\n            for (key in td.keys){\n                val name = listOfContacts[key]\n                listOfContact.add(UserContact(name.toString(),key))\n            }\n            adapter!!.notifyDataSetChanged()\n        }\n</code></pre>\n\n<p>i have a problem in hashmap and that's the error:</p>\n\n<p>kotlin.TypeCastException: null cannot be cast to non-null type java.util.HashMap\n                      at com.example.userandro.phonetracker.MainActivity$refreshUsers$1.onDataChange(MainActivity.kt:87)</p>\n\n<p>i need help please</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "real-time-updates"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1525635509, "post_id": 50203664, "comment_id": 87424492, "body": "Please edit your question to be very specific about the value of <code>lastUpdateTime</code> at the time you pass it in.  FYI, the <code>@ServerTimestamp</code> annotation is not going to help you at all with values passed to queries."}, {"owner": {"reputation": 1, "user_id": 9747842, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4o6h80516vc/AAAAAAAAAAI/AAAAAAAAAFQ/9ofnT7Rw1C4/photo.jpg?sz=128", "display_name": "Burgseiten Apps", "link": "https://stackoverflow.com/users/9747842/burgseiten-apps"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1525636336, "post_id": 50203664, "comment_id": 87424749, "body": "@DougStevenson Ok, I tried to make I clearer. Thanks for the info."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1525636583, "post_id": 50203664, "comment_id": 87424837, "body": "And if you log that date just before the query, it contains exactly the date you&#39;d like to query against?  Are you certain that the <code>timestamp</code> field in your documents is really a timestamp data type (and not something else, like a number)?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1525636667, "post_id": 50203664, "comment_id": 87424855, "body": "Also it&#39;s worth noting that, without seeing all the data in the data set you&#39;re querying, there&#39;s no way to know for sure if you&#39;re actually getting the right set of documents."}, {"owner": {"reputation": 1, "user_id": 9747842, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4o6h80516vc/AAAAAAAAAAI/AAAAAAAAAFQ/9ofnT7Rw1C4/photo.jpg?sz=128", "display_name": "Burgseiten Apps", "link": "https://stackoverflow.com/users/9747842/burgseiten-apps"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1525636868, "post_id": 50203664, "comment_id": 87424915, "body": "yes if I log the timestamp inside the listener, the latest date will be assigned to lastUpdateTime. Yes timestamp in firestore is a timestamp data type."}], "owner": {"reputation": 1, "user_id": 9747842, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4o6h80516vc/AAAAAAAAAAI/AAAAAAAAAFQ/9ofnT7Rw1C4/photo.jpg?sz=128", "display_name": "Burgseiten Apps", "link": "https://stackoverflow.com/users/9747842/burgseiten-apps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1058, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1525639383, "creation_date": 1525634575, "last_edit_date": 1525639383, "question_id": 50203664, "link": "https://stackoverflow.com/questions/50203664/get-all-firestore-documents-after-specific-date", "title": "Get all Firestore documents after specific date", "body": "<p>What I try to accomplish is the following: I have a collection where documents get added with a timestamp in them. I then want to listen to that collection via snapshotlistener, but just for new documents. So I update my timestamp to the newest document-timestamp received, and try to query only the documents newer than my timestamp. In onCreate I assign <code>lastUpdateTime</code> a date in the past, so that I get the first document added.</p>\n\n<pre><code>val sdf = SimpleDateFormat(\"dd/MM/yyyy\", Locale.US)\n    try {\n        lastUpdateTime = sdf.parse(\"01/01/2000\")\n\n    } catch (e: ParseException) {\n       //\n    }\n</code></pre>\n\n<p>then I add the <code>snapshotlistener</code> and try to update <code>lastUpdateTime</code> in order to just look for documents newer than thist Date/Time</p>\n\n<pre><code>val path = //...path to my collection\nprivate var lastUpdateTime = Any() //my up-to-date timestamp. I first assign it some date in the past, to make sure it gets the first document added.\n// some code\n\ntalksListener = path.whereGreaterThan(\"timestamp\", lastUpdateTime)\n                .addSnapshotListener(EventListener&lt;QuerySnapshot&gt; { snapshot, e -&gt;\n\n                    if (snapshot != null &amp;&amp; !snapshot.isEmpty &amp;&amp; !snapshot.metadata.hasPendingWrites()) {                            \n\n                        for (dSnapshot in snapshot) {\n                            val thisTimestamp = dSnapshot.get(\"timestamp\")    \n\n                            if (thisTimestamp != null) {\n                                lastUpdateTime = thisTimestamp\n                            }  \n                        }\n                    }\n                })\n</code></pre>\n\n<p>But every time I add an document, I get the whole collection again.\nI also tried all combinations with <code>orderBy</code> and <code>startAt/endAt/startBefore/EndBefore</code> but the result is the same. Either I get nothing, or the whole collection every time a new document is added.\nfor example:</p>\n\n<pre><code>talksListener = path.orderBy(\"timestamp\").startAfter(lastUpdateTime)\n</code></pre>\n\n<p>Where is the problem here?\nAlso, on a different note, is there a possibility to include <code>!snapshot.metadata.hasPendingWrites()</code> into the query in Kotlin. The <a href=\"https://firebase.google.com/docs/firestore/query-data/listen\" rel=\"nofollow noreferrer\">documentation</a> says to use <code>MetadataChanges.INCLUDE</code> but I do not get how to implement it in Kotlin. Every Hint is much appreciated.</p>\n\n<p><strong>edit 1:</strong>\nMy firestore DB is structured like this:</p>\n\n<pre><code>users/{user}/messages/{message} -&gt; here is the timestamp located\n</code></pre>\n\n<p>and my path leads to <code>./messages</code></p>\n\n<p><strong>edit 2:</strong> \nthe solution is to detach and reattach the listener after the new lastUpdateTime is assigned. That does not sound good to me, so if anyone has a better solution, I am happy to hear it. For the time being I will stick to it though.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525622208, "post_id": 50201676, "comment_id": 87419929, "body": "Can you add the usage code?"}], "answers": [{"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 1, "last_activity_date": 1525623732, "creation_date": 1525623732, "answer_id": 50201929, "question_id": 50201676, "link": "https://stackoverflow.com/questions/50201676/kotlin-generic-type-inference-failed/50201929#50201929", "title": "Kotlin generic type inference failed", "body": "<p>The <code>S</code> type parameter given to the <code>unit</code> function is not necessarily the same as the <code>S</code> type in <code>State</code>. You therefore need to specify it explicitly when you call the <code>unit</code> function. Like this:</p>\n\n<pre><code>fun &lt;B&gt; map(f: (A) -&gt; B): State&lt;S, B&gt; =\n        flatMap { a -&gt; unit&lt;S, B&gt;(f(a)) }\n</code></pre>\n\n<p>Edit:\nActually, the type could be known from the return type of <code>map</code>, but it seems like the type inference in Kotlin isn't strong enough to figure it out by itself.</p>\n"}], "owner": {"reputation": 196, "user_id": 9749048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWDus.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/9749048/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1732, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525623732, "creation_date": 1525622144, "question_id": 50201676, "link": "https://stackoverflow.com/questions/50201676/kotlin-generic-type-inference-failed", "title": "Kotlin generic type inference failed", "body": "<p>I am translating some Scala code into Kotlin. This is based on code in the book <em>Functional Programming in Scala</em>. Here is a direct translation of the code into Kotlin:</p>\n\n<pre><code>data class State&lt;S, out A&gt;(val run: (S) -&gt; Pair&lt;A, S&gt;) {\n    fun &lt;B&gt; flatMap(f: (A) -&gt; State&lt;S, B&gt;): State&lt;S, B&gt; = State { s -&gt;\n        val (a, s1) = run(s)\n        f(a).run(s1)\n    }\n\n    fun &lt;B&gt; map(f: (A) -&gt; B): State&lt;S, B&gt; =\n            flatMap { a -&gt; unit(f(a)) }\n\n    companion object {\n        fun &lt;S, A&gt; unit(a: A): State&lt;S, A&gt; =\n                State { s -&gt; a to s }\n    }\n}\n</code></pre>\n\n<p>The call to unit(f(a)) in map is causing the following error:</p>\n\n<pre><code>Error:(8, 28) Kotlin: Type inference failed: Not enough information to infer parameter S in \n    fun &lt;S, A&gt; unit(a: A): State&lt;S, A&gt;\nPlease specify it explicitly.\n</code></pre>\n\n<p>Since the types are all generic, and it knows that it is the generic type S, I have no clue what type to specify. What is wrong with this code?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["android", "android-studio", "intellij-idea", "kotlin", "picasso"], "comments": [{"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1525629183, "post_id": 50201476, "comment_id": 87422332, "body": "did you manage to find out a solution for this?"}, {"owner": {"reputation": 161, "user_id": 5309236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gxaCSKE0ZtI/AAAAAAAAAAI/AAAAAAAAGXk/Hla8MsIKvG8/photo.jpg?sz=128", "display_name": "Jemsheer K D", "link": "https://stackoverflow.com/users/5309236/jemsheer-k-d"}, "edited": false, "score": 0, "creation_date": 1529065707, "post_id": 50201476, "comment_id": 88752705, "body": "Similar Thing is happening with lot of other libraries as well. Seems entirely random to me. Currently im not able to get Google Play services. This started with the integration of kotlin in our projects"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 10045533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c91ce5750376f2a4c4d30c2309f32ea6?s=128&d=identicon&r=PG&f=1", "display_name": "Raymondo Ramone", "link": "https://stackoverflow.com/users/10045533/raymondo-ramone"}, "is_accepted": false, "score": 5, "last_activity_date": 1531149336, "last_edit_date": 1531149336, "creation_date": 1531148378, "answer_id": 51248548, "question_id": 50201476, "link": "https://stackoverflow.com/questions/50201476/kotlin-unresolved-reference-with/51248548#51248548", "title": "Kotlin Unresolved Reference: with", "body": "<p>I had the same problem tonight, After looking at the Picasso site I noticed that .with is not used anymore. .get() works fine. Try something like this.</p>\n\n<pre><code>Picasso.get()\n    .load(url)\n    .placeholder(R.drawable.user_placeholder)\n    .error(R.drawable.user_placeholder_error)\n    .into(imageView);\n</code></pre>\n\n<p>My code looked like this</p>\n\n<pre><code>val thumbnailImage = holder.view.imageView_Video_Thumbnail\nPicasso.get().load(movieTitle.imageUrl).into(thumbnailImage)\n</code></pre>\n\n<p>Hope that helps someone.</p>\n"}], "owner": {"reputation": 33, "user_id": 4358608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c40c8474fbb1f4bc7c7dc271da13b3d?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Schertwegger", "link": "https://stackoverflow.com/users/4358608/andrew-schertwegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3858, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1531149336, "creation_date": 1525620915, "question_id": 50201476, "link": "https://stackoverflow.com/questions/50201476/kotlin-unresolved-reference-with", "title": "Kotlin Unresolved Reference: with", "body": "<p>I have already tried invalidating caches. Clean build and rebuild project also done.\nBut I still keep getting unresolved reference: with\nI'm using the Picasso library and my other activities are working fine. Picasso library has been implemented in the gradle.\nThe language version is 1.2 Android Studio</p>\n\n<p>Code:</p>\n\n<pre><code>import android.app.Activity\nimport android.content.Intent\nimport android.graphics.Bitmap\nimport android.net.Uri\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.widget.Toast\nimport chatonapp.project.com.chatonapp.R\nimport com.google.android.gms.tasks.Task\nimport com.google.firebase.auth.FirebaseAuth\nimport com.google.firebase.auth.FirebaseUser\nimport com.google.firebase.database.*\nimport com.google.firebase.storage.FirebaseStorage\nimport com.google.firebase.storage.StorageReference\nimport com.google.firebase.storage.UploadTask\nimport com.squareup.picasso.Picasso\nimport com.theartofdev.edmodo.cropper.CropImage\nimport id.zelory.compressor.Compressor\nimport kotlinx.android.synthetic.main.activity_settings.*\n\nimport java.io.ByteArrayOutputStream\nimport java.io.File\n\nclass SettingsActivity : AppCompatActivity() {\n    var mDatabase: DatabaseReference? = null\n    var mCurrentUser: FirebaseUser? = null\n    var mStorageRef: StorageReference? = null\n    var GALLERY_ID: Int = 1\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_settings)\n\n\n        mCurrentUser = FirebaseAuth.getInstance().currentUser\n        mStorageRef = FirebaseStorage.getInstance().reference\n\n\n        var userId = mCurrentUser!!.uid\n\n        mDatabase = FirebaseDatabase.getInstance().reference\n                .child(\"Users\")\n                .child(userId)\n\n        mDatabase!!.addValueEventListener(object : ValueEventListener{\n\n            override fun onDataChange(dataSnapshot: DataSnapshot?) {\n                var displayName = dataSnapshot!!.child(\"display_name\").value\n                var image = dataSnapshot!!.child(\"image\").value.toString()\n                var userStatus = dataSnapshot!!.child(\"status\").value\n                var thumbnail = dataSnapshot!!.child(\"thumb_image\").value\n\n                settinsDisplayName.text = displayName.toString()\n                settingsStatusText.text = userStatus.toString()\n\n                if (!image!!.equals(\"default\")) {\n                    Picasso.with(applicationContext)\n                            .load(image)\n                            .placeholder(R.drawable.profile_img)\n                            .into(settingsProfileID)\n                }\n            }\n\n            override fun onCancelled(databaseErrorSnapshot: DatabaseError?) {\n\n            }\n\n        })\n\n\n        settingsChangeStatus.setOnClickListener {\n            var intent = Intent(this, StatusActivity::class.java)\n            intent.putExtra(\"status\", settingsStatusText.text.toString().trim())\n            startActivity(intent)\n\n        }\n\n        settingsChangeImgBtn.setOnClickListener {\n            var galleryIntent = Intent()\n            galleryIntent.type = \"image/*\"\n            galleryIntent.action = Intent.ACTION_GET_CONTENT\n            startActivityForResult(Intent.createChooser(galleryIntent, \"SELECT_IMAGE\"), GALLERY_ID)\n        }\n\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        if (requestCode == GALLERY_ID\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\n\n            var image: Uri = data!!.data\n\n            CropImage.activity(image)\n                    .setAspectRatio(1, 1)\n                    .start(this)\n\n        }\n\n        if (requestCode === CropImage.CROP_IMAGE_ACTIVITY_REQUEST_CODE) {\n            val result = CropImage.getActivityResult(data)\n\n            if (resultCode === Activity.RESULT_OK) {\n\n                val resultUri = result.uri\n\n                var userId = mCurrentUser!!.uid\n                var thumbFile = File(resultUri.path)\n\n                var thumbBitmap = Compressor(this)\n                        .setMaxWidth(200)\n                        .setMaxHeight(200)\n                        .setQuality(65)\n                        .compressToBitmap(thumbFile)\n\n\n\n                var byteArray = ByteArrayOutputStream()\n                thumbBitmap.compress(Bitmap.CompressFormat.JPEG,  100,\n                        byteArray)\n                var thumbByteArray: ByteArray\n                thumbByteArray = byteArray.toByteArray()\n\n                var filePath = mStorageRef!!.child(\"chat_profile_images\")\n                        .child(userId + \".jpg\")\n\n                //Create another directory for thumbimages ( smaller, compressed images)\n                var thumbFilePath = mStorageRef!!.child(\"chat_profile_images\")\n                        .child(\"thumbs\")\n                        .child(userId + \".jpg\")\n\n\n                filePath.putFile(resultUri)\n                        .addOnCompleteListener{\n                            task: Task&lt;UploadTask.TaskSnapshot&gt; -&gt;\n                            if (task.isSuccessful) {\n\n\n                                var donwloadUrl = task.result.downloadUrl.toString()\n\n\n                                var uploadTask: UploadTask = thumbFilePath\n                                        .putBytes(thumbByteArray)\n\n                                uploadTask.addOnCompleteListener{\n                                    task: Task&lt;UploadTask.TaskSnapshot&gt; -&gt;\n                                    var thumbUrl = task.result.downloadUrl.toString()\n\n                                    if (task.isSuccessful) {\n\n\n                                        var updateObj = HashMap&lt;String, Any&gt;()\n                                        updateObj.put(\"image\", donwloadUrl)\n                                        updateObj.put(\"thumb_image\", thumbUrl)\n\n\n                                        mDatabase!!.updateChildren(updateObj)\n                                                .addOnCompleteListener {\n                                                    task: Task&lt;Void&gt; -&gt;\n                                                    if (task.isSuccessful) {\n                                                        Toast.makeText(this, \"Profile Image Saved!\",\n                                                                Toast.LENGTH_LONG)\n                                                                .show()\n\n                                                    }else {\n\n                                                    }\n                                                }\n\n                                    }else {\n\n                                    }\n                                }\n\n                            }\n                        }\n            }else if (resultCode === CropImage.CROP_IMAGE_ACTIVITY_RESULT_ERROR_CODE) {\n                val error = result.error\n                Log.d(\"Error\", error.toString())\n            }\n        }\n\n    }\n\n\n}\n</code></pre>\n\n<p>The problem happens here: Picasso.with</p>\n\n<pre><code> if (!image!!.equals(\"default\")) {\n                    Picasso.with(applicationContext)\n                            .load(image)\n                            .placeholder(R.drawable.profile_img)\n                            .into(settingsProfileID)\n                }\n</code></pre>\n\n<p>How can I resolve this?</p>\n"}, {"tags": ["arraylist", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 16, "last_activity_date": 1525617567, "creation_date": 1525617567, "answer_id": 50200901, "question_id": 50200839, "link": "https://stackoverflow.com/questions/50200839/copy-one-arraylist-to-another-arraylist-in-kotlin/50200901#50200901", "title": "copy one arraylist to another arraylist in kotlin", "body": "<p>This isn't safe to do, because your first list can only contain objects of type <code>Lead</code>, while your second one has <code>Lead?</code> as its type parameter, meaning that it might contain <code>null</code> values. You can't add those to the first list.</p>\n\n<p>The solution for this problem will depend on your context, but you can either let the first list contain nullable elements too:</p>\n\n<pre><code>private var leadList1: ArrayList&lt;Lead?&gt; = ArrayList()\n</code></pre>\n\n<p>Or you can add only the non-null elements of the second list to the first one:</p>\n\n<pre><code>leadList1.addAll(leadList2.filterNotNull())\n</code></pre>\n\n<p>And in either case, you'll have to perform a null check on <code>leadList2</code>, because the entire list itself is marked as potentially null as well, signified by the last <code>?</code> of the type <code>ArrayList&lt;Lead?&gt;?</code>.</p>\n\n<pre><code>if (leadList2 != null) {\n    leadList1.addAll(leadList2.filterNotNull())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 482, "user_id": 2064906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f973ed22deafd48758a53e838ea68539?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/2064906/sharad"}, "is_accepted": false, "score": 1, "last_activity_date": 1559530533, "last_edit_date": 1559530533, "creation_date": 1559528994, "answer_id": 56420505, "question_id": 50200839, "link": "https://stackoverflow.com/questions/50200839/copy-one-arraylist-to-another-arraylist-in-kotlin/56420505#56420505", "title": "copy one arraylist to another arraylist in kotlin", "body": "<p>Do this:\nleadList1.addAll(leadList2.orEmpty().filterNotNull())</p>\n\n<p>And to filter by property you can do like this:</p>\n\n<p>leadList1.addAll(leadList2.orEmpty().filter { item -> item?.type == YourTypeString })</p>\n"}, {"tags": [], "owner": {"reputation": 443, "user_id": 6776492, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/67f6fd03cffb25183c64b13dae39d7f1?s=128&d=identicon&r=PG&f=1", "display_name": "trOnk12", "link": "https://stackoverflow.com/users/6776492/tronk12"}, "is_accepted": false, "score": 1, "last_activity_date": 1603883745, "creation_date": 1603883745, "answer_id": 64571699, "question_id": 50200839, "link": "https://stackoverflow.com/questions/50200839/copy-one-arraylist-to-another-arraylist-in-kotlin/64571699#64571699", "title": "copy one arraylist to another arraylist in kotlin", "body": "<p>You can simply pass another List instance into the constructor of your new List</p>\n<pre><code>val originalList = arrayListOf(1,2,3,4,5)\n\nval orginalListCopy = ArrayList(originalList)\n</code></pre>\n"}], "owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8395, "favorite_count": 0, "accepted_answer_id": 50200901, "answer_count": 3, "score": 3, "last_activity_date": 1603883745, "creation_date": 1525617270, "question_id": 50200839, "link": "https://stackoverflow.com/questions/50200839/copy-one-arraylist-to-another-arraylist-in-kotlin", "title": "copy one arraylist to another arraylist in kotlin", "body": "<p>I am trying to copy one <code>ArrayList</code> to another <code>ArrayList</code> in Kotlin</p>\n\n<p>1st <code>ArrayList</code>:</p>\n\n<pre><code>private var leadList1: ArrayList&lt;Lead&gt; = ArrayList()\n</code></pre>\n\n<p>2nd <code>ArrayList</code>:</p>\n\n<pre><code>val leadList2: ArrayList&lt;Lead?&gt;?\n</code></pre>\n\n<p>I tried to use <code>addAll()</code>. <code>leadList1.addAll(leadList2)</code></p>\n\n<p>But its not working.</p>\n\n<p>Error showing:</p>\n\n<pre><code>Required: Collection&lt;Lead&gt;\nFound: kotlin.collections.ArrayList&lt;Lead?&gt;?\n</code></pre>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 542, "user_id": 709338, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4eff96df0c7579dd1f23dc0b53130889?s=128&d=identicon&r=PG", "display_name": "jitain sharma", "link": "https://stackoverflow.com/users/709338/jitain-sharma"}, "edited": false, "score": 0, "creation_date": 1526727062, "post_id": 50200896, "comment_id": 87863772, "body": "settlement object just has user auth id in it."}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 2, "last_activity_date": 1525617551, "creation_date": 1525617551, "answer_id": 50200896, "question_id": 50200727, "link": "https://stackoverflow.com/questions/50200727/firestore-kotlin-android-colleaction-add-exception/50200896#50200896", "title": "Firestore Kotlin Android Colleaction.add() exception", "body": "<p>It seems that your <code>settlement</code> object contains a Firebase user object, which can't be serialized to JSON by the Firestore client. </p>\n\n<p>The Firebase SDKs can only handle serialization/deserialization of simple JSON objects, so you'll have to handle the user class in your own code.</p>\n"}, {"comments": [{"owner": {"reputation": 449, "user_id": 986328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c166d9114eda0067e2908014f03a10?s=128&d=identicon&r=PG", "display_name": "Spoetnic", "link": "https://stackoverflow.com/users/986328/spoetnic"}, "edited": false, "score": 0, "creation_date": 1525965177, "post_id": 50250625, "comment_id": 87568863, "body": "Similar to widemos, I got this after upgrading to Firebase-Firestore 16.0.0. Downgrading back to 15.0.0 cleared this error"}, {"owner": {"reputation": 449, "user_id": 986328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c166d9114eda0067e2908014f03a10?s=128&d=identicon&r=PG", "display_name": "Spoetnic", "link": "https://stackoverflow.com/users/986328/spoetnic"}, "edited": false, "score": 0, "creation_date": 1525965697, "post_id": 50250625, "comment_id": 87569178, "body": "Funny thing though, It only crashed in Release builds, where debuggable was set to false."}], "tags": [], "owner": {"reputation": 306, "user_id": 5136913, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UMK-t7X7XAE/AAAAAAAAAAI/AAAAAAAAYwM/6vdsb8eN4qU/photo.jpg?sz=128", "display_name": "widemos", "link": "https://stackoverflow.com/users/5136913/widemos"}, "is_accepted": false, "score": 0, "last_activity_date": 1525860202, "creation_date": 1525860202, "answer_id": 50250625, "question_id": 50200727, "link": "https://stackoverflow.com/questions/50200727/firestore-kotlin-android-colleaction-add-exception/50250625#50250625", "title": "Firestore Kotlin Android Colleaction.add() exception", "body": "<p>I think the problem it's not in your code. I've been getting the same error after upgrading Firebase to 15.0.2.</p>\n\n<p>Downgraded to 15.0.0 and it's working again.</p>\n"}], "owner": {"reputation": 542, "user_id": 709338, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4eff96df0c7579dd1f23dc0b53130889?s=128&d=identicon&r=PG", "display_name": "jitain sharma", "link": "https://stackoverflow.com/users/709338/jitain-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 50200896, "answer_count": 2, "score": -1, "last_activity_date": 1525860202, "creation_date": 1525616514, "last_edit_date": 1525617438, "question_id": 50200727, "link": "https://stackoverflow.com/questions/50200727/firestore-kotlin-android-colleaction-add-exception", "title": "Firestore Kotlin Android Colleaction.add() exception", "body": "<p>I am using Kotlin for programming. When I add document using the </p>\n\n<pre><code>collectionRef\n                .add(settlement) // Adds Auto-ID\n                .addOnSuccessListener({ documentReference -&gt;\n                    Log.d(\"Add Doc\", \"DocumentSnapshot written with ID: \" + documentReference.id)\n                })\n                .addOnFailureListener({ e -&gt;\n                    Log.w(\"Add Doc Failed\", \"Error adding document\", e)\n                })\n                .addOnCompleteListener({ task -&gt;\n                    if (task.getException() != null) {\n                        Log.w(\"Add Doc Failed\", \"Error adding document\", task.getException())\n                    }\n                    if (task.isComplete()) { //try task.isSuccessful() if this is what you are looking for\n                        Log.w(\"Add Doc Failed\", \"Error adding document\")\n                    }\n                })\n</code></pre>\n\n<p>It always throws the exception, which addOnFailureListener not catch at all:</p>\n\n<pre><code>05-06 14:14:18.091 28113-28126/com.plabs.settle E/StorageHelpers: Failed to turn object into JSON\n    java.lang.NullPointerException: Attempt to invoke virtual method 'org.json.JSONObject com.google.firebase.auth.internal.zzm.zzbf()' on a null object reference\n        at com.google.firebase.auth.internal.zzz.zzi(Unknown Source:116)\n        at com.google.firebase.auth.internal.zzz.zzg(Unknown Source:3)\n        at com.google.firebase.auth.FirebaseAuth.zza(Unknown Source:92)\n        at com.google.firebase.auth.zzm.zza(Unknown Source:3)\n        at com.google.firebase.auth.api.internal.zzaw.zzaa(Unknown Source:27)\n        at com.google.firebase.auth.api.internal.zzcy.zzal(Unknown Source:0)\n        at com.google.firebase.auth.api.internal.zzcy.zza(Unknown Source:0)\n        at com.google.firebase.auth.api.internal.zzdb.zzb(Unknown Source:41)\n        at com.google.firebase.auth.api.internal.zzci.dispatchTransaction(Unknown Source:139)\n        at com.google.android.gms.internal.firebase_auth.zzb.onTransact(Unknown Source:22)\n        at android.os.Binder.execTransact(Binder.java:726)\n05-06 14:14:18.101 28113-28126/com.plabs.settle W/Binder: Caught a RuntimeException from the binder stub implementation.\n    com.google.android.gms.internal.firebase_auth.zzv: java.lang.NullPointerException: Attempt to invoke virtual method 'org.json.JSONObject com.google.firebase.auth.internal.zzm.zzbf()' on a null object reference\n        at com.google.firebase.auth.internal.zzz.zzi(Unknown Source:140)\n        at com.google.firebase.auth.internal.zzz.zzg(Unknown Source:3)\n        at com.google.firebase.auth.FirebaseAuth.zza(Unknown Source:92)\n        at com.google.firebase.auth.zzm.zza(Unknown Source:3)\n        at com.google.firebase.auth.api.internal.zzaw.zzaa(Unknown Source:27)\n        at com.google.firebase.auth.api.internal.zzcy.zzal(Unknown Source:0)\n        at com.google.firebase.auth.api.internal.zzcy.zza(Unknown Source:0)\n        at com.google.firebase.auth.api.internal.zzdb.zzb(Unknown Source:41)\n        at com.google.firebase.auth.api.internal.zzci.dispatchTransaction(Unknown Source:139)\n        at com.google.android.gms.internal.firebase_auth.zzb.onTransact(Unknown Source:22)\n        at android.os.Binder.execTransact(Binder.java:726)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'org.json.JSONObject com.google.firebase.auth.internal.zzm.zzbf()' on a null object reference\n        at com.google.firebase.auth.internal.zzz.zzi(Unknown Source:116)\n        at com.google.firebase.auth.internal.zzz.zzg(Unknown Source:3)\u00a0\n        at com.google.firebase.auth.FirebaseAuth.zza(Unknown Source:92)\u00a0\n        at com.google.firebase.auth.zzm.zza(Unknown Source:3)\u00a0\n        at com.google.firebase.auth.api.internal.zzaw.zzaa(Unknown Source:27)\u00a0\n        at com.google.firebase.auth.api.internal.zzcy.zzal(Unknown Source:0)\u00a0\n        at com.google.firebase.auth.api.internal.zzcy.zza(Unknown Source:0)\u00a0\n        at com.google.firebase.auth.api.internal.zzdb.zzb(Unknown Source:41)\u00a0\n        at com.google.firebase.auth.api.internal.zzci.dispatchTransaction(Unknown Source:139)\u00a0\n        at com.google.android.gms.internal.firebase_auth.zzb.onTransact(Unknown Source:22)\u00a0\n        at android.os.Binder.execTransact(Binder.java:726)\n</code></pre>\n\n<p>\u00a0\nWhat I am doing wrong, where if i call collectionRef.get() i got all the records added so far, but none shown over the Firestore console.</p>\n\n<p>Help me to solve this.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2759, "user_id": 4593315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTfes.jpg?s=128&g=1", "display_name": "Tirth Patel", "link": "https://stackoverflow.com/users/4593315/tirth-patel"}, "edited": false, "score": 3, "creation_date": 1525598025, "post_id": 50198067, "comment_id": 87412931, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/equals.html#parameters\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 162, "last_activity_date": 1525598020, "creation_date": 1525598020, "answer_id": 50198091, "question_id": 50198067, "link": "https://stackoverflow.com/questions/50198067/kotlin-equivalent-of-javas-equalsignorecase/50198091#50198091", "title": "Kotlin equivalent of Java&#39;s equalsIgnoreCase", "body": "<p>You can use <code>equals</code> but specify <code>ignoreCase</code> parameter:</p>\n\n<pre><code>\"example\".equals(\"EXAMPLE\", ignoreCase = true)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 649, "user_id": 8706989, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EIsReTq9cyg/AAAAAAAAAAI/AAAAAAAAArg/lfh6UNgckpQ/photo.jpg?sz=128", "display_name": "Abdur Rahman", "link": "https://stackoverflow.com/users/8706989/abdur-rahman"}, "edited": false, "score": 0, "creation_date": 1549099188, "post_id": 50202754, "comment_id": 95789080, "body": "Kotlin has equalIgnoreCase function implemented, but with a little change with its own way i.e. &quot;str1&quot;.equal(&quot;Str1&quot;, true) for ignore case and &quot;str1&quot;.equal(&quot;Str1&quot;, false) for match case. Second argument is optional you can skip it. By default it is false and apply on match case"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1525629945, "last_edit_date": 1525629945, "creation_date": 1525628658, "answer_id": 50202754, "question_id": 50198067, "link": "https://stackoverflow.com/questions/50198067/kotlin-equivalent-of-javas-equalsignorecase/50202754#50202754", "title": "Kotlin equivalent of Java&#39;s equalsIgnoreCase", "body": "<p>Normally, you don't need to find alternatives since Kotlin reuses existing Java types like <code>String</code>. Actually, these types are mapped to Kotlin internal types. In the case of <code>String</code> it looks like this:</p>\n\n<p><code>java.lang.String</code> ->   <code>kotlin.String</code></p>\n\n<p>Therefore, the desired method <code>equalsIgnoreCase</code> would only be available if it was also provided in <code>kotlin.String</code>, which isn\u2019t. The Kotlin designers decided to provide a more generic <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/equals.html#parameters\" rel=\"nofollow noreferrer\"><code>equals</code></a> function that let's you specify the case insensitivity with a boolean parameter.</p>\n\n<p>You can use the Java <code>String</code> class at any time if that's really necessary (it's not recommended, IntelliJ will complain about this):</p>\n\n<pre><code>(\"hello\" as java.lang.String).equalsIgnoreCase(\"Hello\")\n</code></pre>\n\n<p>With the help of an extension function, we could even add the functionality to the <code>kotlin.String</code> class:</p>\n\n<pre><code>fun String.equalsIgnoreCase(other: String) = \n    (this as java.lang.String).equalsIgnoreCase(other)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8352, "user_id": 1979347, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b842d236540c2d2d8d2134eb3dcfa71?s=128&d=identicon&r=PG", "display_name": "Rohan Kandwal", "link": "https://stackoverflow.com/users/1979347/rohan-kandwal"}, "is_accepted": false, "score": 1, "last_activity_date": 1574009185, "last_edit_date": 1574009185, "creation_date": 1545585676, "answer_id": 53905640, "question_id": 50198067, "link": "https://stackoverflow.com/questions/50198067/kotlin-equivalent-of-javas-equalsignorecase/53905640#53905640", "title": "Kotlin equivalent of Java&#39;s equalsIgnoreCase", "body": "<p>@hluhovskyi's answer is correct, however to use it on <code>EditText</code> or <code>TextView</code>, use following -</p>\n\n<pre><code>etPassword.text.toString().equals(etConfirmPassword.text.toString(), ignoreCase = true)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1704, "user_id": 3797630, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/zmier.jpg?s=128&g=1", "display_name": "Hitesh Dhamshaniya", "link": "https://stackoverflow.com/users/3797630/hitesh-dhamshaniya"}, "is_accepted": false, "score": 1, "last_activity_date": 1554115492, "creation_date": 1554115492, "answer_id": 55453268, "question_id": 50198067, "link": "https://stackoverflow.com/questions/50198067/kotlin-equivalent-of-javas-equalsignorecase/55453268#55453268", "title": "Kotlin equivalent of Java&#39;s equalsIgnoreCase", "body": "<p>As per the Kotlin Documentation :</p>\n\n<pre><code>fun String?.equals(\n    other: String?, \n    ignoreCase: Boolean = false\n): Boolean\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/equals.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/equals.html</a></p>\n</blockquote>\n\n<p>For Example:</p>\n\n<blockquote>\n<pre><code>val name: String = \"Hitesh\"\nwhen{\nname.equals(\"HITESH\", true) -&gt; {\n                                // DO SOMETHING\n    }\n}\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 5725819, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9wI16vFRp9M/AAAAAAAAAAI/AAAAAAAAAKI/V219napJk-o/photo.jpg?sz=128", "display_name": "Ranajit Sawant", "link": "https://stackoverflow.com/users/5725819/ranajit-sawant"}, "is_accepted": false, "score": 0, "last_activity_date": 1601554112, "creation_date": 1601554112, "answer_id": 64155087, "question_id": 50198067, "link": "https://stackoverflow.com/questions/50198067/kotlin-equivalent-of-javas-equalsignorecase/64155087#64155087", "title": "Kotlin equivalent of Java&#39;s equalsIgnoreCase", "body": "<p>You can use equals but specify ignoreCase parameter :</p>\n<pre><code>&quot;your string&quot;.equals(&quot;YOUR STRING&quot;, ignoreCase = true)\n</code></pre>\n"}], "owner": {"reputation": 3228, "user_id": 8700937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002557288121/picture?type=large", "display_name": "Farwa", "link": "https://stackoverflow.com/users/8700937/farwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23574, "favorite_count": 5, "accepted_answer_id": 50198091, "answer_count": 5, "score": 89, "last_activity_date": 1601554112, "creation_date": 1525597871, "question_id": 50198067, "link": "https://stackoverflow.com/questions/50198067/kotlin-equivalent-of-javas-equalsignorecase", "title": "Kotlin equivalent of Java&#39;s equalsIgnoreCase", "body": "<p>What is the equivalent of Java <code>equalsIgnoreCase</code> in Kotlin to compare <code>String</code> values?</p>\n\n<p>I have used <code>equals</code> but it's not case insensitive. </p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-mvp", "android-mvvm"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6250541"}, "edited": false, "score": 0, "creation_date": 1525599682, "post_id": 50198104, "comment_id": 87413295, "body": "so in MVP the presenter update the view while in MVVM the view is responsible for updating the view by fetching data from view-model. Am i correct?"}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 1, "creation_date": 1525622754, "post_id": 50198104, "comment_id": 87420113, "body": "Well, in both scenarios, the view (Activity, Fragment etc) is responsible for updating the views (setText for example). However, the difference resides in the communication between View and Presenter/ViewModel. Presenter holds a reference to the View, and tells it to update. ViewModel exposes data (so does <i>not</i> references the view), and the View decides what to do with the observed data when it changes"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6250541"}, "edited": false, "score": 0, "creation_date": 1525625228, "post_id": 50198104, "comment_id": 87421011, "body": "Yeah got it. Any simple example on  mvp and mvvm.Like simple person details on both mvvm and mvp pattern"}], "tags": [], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "is_accepted": false, "score": 7, "last_activity_date": 1525598124, "creation_date": 1525598124, "answer_id": 50198104, "question_id": 50197852, "link": "https://stackoverflow.com/questions/50197852/what-is-the-difference-between-presenter-in-mvp-and-view-model-in-mvvm/50198104#50198104", "title": "what is the difference between presenter in mvp and view-model in mvvm", "body": "<p>In MVP, the Presenter holds a reference to a View, usually via interfaces.\nWhen the Presenter computes new data, it is him who is responsible to call the right method on the View/Interface to update the UI.</p>\n\n<p>In MVVM, the ViewModel \"simply exposes\" data (usually via LiveData or Rx) so it can be <em>observed</em>. It is not responsible for who is observing the data, and what is done with it. The view then observes that said data in the ViewModel, and updates its UI when the data changes.</p>\n\n<p>To have a complete understanding of the differences between MVC, MVP and MVVM, I'd suggest to look at\n<a href=\"https://www.youtube.com/watch?v=QrbhPcbZv0I\" rel=\"noreferrer\">https://www.youtube.com/watch?v=QrbhPcbZv0I</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6250541"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2447, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1525598124, "creation_date": 1525596226, "question_id": 50197852, "link": "https://stackoverflow.com/questions/50197852/what-is-the-difference-between-presenter-in-mvp-and-view-model-in-mvvm", "title": "what is the difference between presenter in mvp and view-model in mvvm", "body": "<p>I need to clear some of my doubts regarding mvp and mvvm design pattern</p>\n\n<p>1) In mvp and mvvm who updates the view .The presenter/view-model set the \n  data to be displayed in the view or the view retrieve the data from \n  presenter/view-model and  display it</p>\n\n<p>2) How both presenter and view-model differ from each other.\n   \"<strong>The MVVM uses databinding to update the view whereas the presenter uses \n    traditional methods to update the view</strong>\". Is it?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1525594744, "post_id": 50196357, "comment_id": 87412089, "body": "You are not supposed to use the File class for an uri obtained by ACTION_GET_CONTENT. Nor are you supposed to deduce a file path from that uri to use the File class on it. Instead you should directly open an inputstream for the obtained uri if you want to read it contents."}, {"owner": {"reputation": 43, "user_id": 9747469, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xRexqxN8EfI/AAAAAAAAAAI/AAAAAAAABVc/PRKJiEAfELA/photo.jpg?sz=128", "display_name": "0ptl", "link": "https://stackoverflow.com/users/9747469/0ptl"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1525598831, "post_id": 50196357, "comment_id": 87413097, "body": "Thank you @greenapps. I changed to reflect this and it&#39;s working well. getContentResolver().openInputStream() seems to accept the android.Uri"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 9747469, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xRexqxN8EfI/AAAAAAAAAAI/AAAAAAAABVc/PRKJiEAfELA/photo.jpg?sz=128", "display_name": "0ptl", "link": "https://stackoverflow.com/users/9747469/0ptl"}, "edited": false, "score": 0, "creation_date": 1525596946, "post_id": 50196709, "comment_id": 87412652, "body": "Thank you, especially for note [1]. I didn&#39;t realise there was this distinction in the URIs"}], "tags": [], "owner": {"reputation": 863, "user_id": 5849285, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UwK2I.jpg?s=128&g=1", "display_name": "Charles Shiller", "link": "https://stackoverflow.com/users/5849285/charles-shiller"}, "is_accepted": true, "score": 3, "last_activity_date": 1525586565, "creation_date": 1525586565, "answer_id": 50196709, "question_id": 50196357, "link": "https://stackoverflow.com/questions/50196357/android-kotlin-beginner-using-file-with-uri-returned-from-action-get-conte/50196709#50196709", "title": "Android Kotlin (beginner) - using File() with Uri returned from ACTION_GET_CONTENT", "body": "<p>While I can't comment on the rest of your code, <code>data!!.data</code> <a href=\"https://developer.android.com/reference/android/content/Intent.html#getData()\" rel=\"nofollow noreferrer\">returns</a> a <code>android.Uri</code> and <code>File</code> takes a <a href=\"https://developer.android.com/reference/java/io/File.html#File(java.lang.String)\" rel=\"nofollow noreferrer\">String</a>[1].</p>\n\n<p>You have to convert your Uri to a filename: something like <code>File(data!!data.getPath());</code> [2]</p>\n\n<p>[1]. It also takes a URI, but that's a Java.net.URI, rather  than an Android.Uri.</p>\n\n<p>[2]. You should still make sure that you're getting a Uri which points to a path on the filesystem. You may also have to do something like <a href=\"https://www.dev2qa.com/how-to-get-real-file-path-from-android-uri/\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 9747469, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xRexqxN8EfI/AAAAAAAAAAI/AAAAAAAABVc/PRKJiEAfELA/photo.jpg?sz=128", "display_name": "0ptl", "link": "https://stackoverflow.com/users/9747469/0ptl"}, "edited": false, "score": 0, "creation_date": 1525600577, "post_id": 50198325, "comment_id": 87413516, "body": "I want to be able to accept both answers because this is a very helpful improvement"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "reply_to_user": {"reputation": 43, "user_id": 9747469, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xRexqxN8EfI/AAAAAAAAAAI/AAAAAAAABVc/PRKJiEAfELA/photo.jpg?sz=128", "display_name": "0ptl", "link": "https://stackoverflow.com/users/9747469/0ptl"}, "edited": false, "score": 0, "creation_date": 1525600977, "post_id": 50198325, "comment_id": 87413620, "body": "Its no inprovement. In fact its the only answer/solution to your problem."}], "tags": [], "owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "is_accepted": false, "score": 1, "last_activity_date": 1525599923, "creation_date": 1525599923, "answer_id": 50198325, "question_id": 50196357, "link": "https://stackoverflow.com/questions/50196357/android-kotlin-beginner-using-file-with-uri-returned-from-action-get-conte/50198325#50198325", "title": "Android Kotlin (beginner) - using File() with Uri returned from ACTION_GET_CONTENT", "body": "<p>You are not supposed to use the File class for an uri obtained by <code>ACTION_GET_CONTENT</code>. </p>\n\n<p>Nor are you supposed to deduce a file path from that uri to use the File class on it. </p>\n\n<p>Instead you should directly open an inputstream for the obtained uri if you want to read it contents.</p>\n"}], "owner": {"reputation": 43, "user_id": 9747469, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xRexqxN8EfI/AAAAAAAAAAI/AAAAAAAABVc/PRKJiEAfELA/photo.jpg?sz=128", "display_name": "0ptl", "link": "https://stackoverflow.com/users/9747469/0ptl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3978, "favorite_count": 1, "accepted_answer_id": 50196709, "answer_count": 2, "score": 3, "last_activity_date": 1525602111, "creation_date": 1525582457, "last_edit_date": 1525602111, "question_id": 50196357, "link": "https://stackoverflow.com/questions/50196357/android-kotlin-beginner-using-file-with-uri-returned-from-action-get-conte", "title": "Android Kotlin (beginner) - using File() with Uri returned from ACTION_GET_CONTENT", "body": "<p>I'm very new to both Android and Kotlin/Java. I don't understand why my <code>File()</code> method gets the error:</p>\n\n<blockquote>\n  <p>none of the following functions can be called with the arguments supplied.  </p>\n</blockquote>\n\n<p>I thought that what I have put should return the Uri obtained from the <code>ACTION_GET_CONTENT</code> and that this should be enough to construct the File object. I'm trying to make an app that will load a txt file and display it. I'm hoping it's a really simple mistake somewhere:</p>\n\n<pre><code>fun showFileDialog() {\n    val fileintent = Intent(Intent.ACTION_GET_CONTENT)\n    fileintent.setType(\"text/plain\")\n    fileintent.addCategory(Intent.CATEGORY_OPENABLE)\n    startActivityForResult(fileintent, FILE_SELECT_CODE)\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) { \n    super.onActivityResult(requestCode, resultCode, data)\n    if(requestCode == FILE_SELECT_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\n        val selectedfile = File(data!!.data)\n        val readData = FileInputStream(selectedfile).bufferedReader().use { it.readText\n            textView.text = readData\n        }\n    }\n}\n</code></pre>\n\n<p>I don't know if the rest of the posted code works either, but this error will not let me build it to test it. TIA for any help/pointers</p>\n\n<p>RESOLVED:</p>\n\n<p>The first answer explained why I was getting the error (hence, answering my question)</p>\n\n<p>After getting help from second answer and comment below, (and more searching on SO; see links below) I changed my last 3 lines of code to:</p>\n\n<pre><code>val input: InputStream = getContentResolver().openInputStream(data!!.data)\nval inputAsString = input.bufferedReader().use { it.readText() }\ntextView.setText(inputAsString)\n</code></pre>\n\n<p>and this is working well. Thank you!</p>\n\n<p>LINKS:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5657411/android-getting-a-file-uri-from-a-content-uri\">Android: Getting a file URI from a content URI?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/39500045/in-kotlin-how-do-i-read-the-entire-contents-of-an-inputstream-into-a-string\">In Kotlin, how do I read the entire contents of an InputStream into a String?</a></p>\n"}, {"tags": ["android", "database", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 1631, "user_id": 9130109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QgXr.jpg?s=128&g=1", "display_name": "EL TEGANI MOHAMED HAMAD GABIR", "link": "https://stackoverflow.com/users/9130109/el-tegani-mohamed-hamad-gabir"}, "edited": false, "score": 0, "creation_date": 1525579545, "post_id": 50195651, "comment_id": 87409258, "body": "try to paste the java code into AS it automatically convert it to kotlin"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9747214, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WHjDILsPsM0/AAAAAAAAAAI/AAAAAAAAABU/BPYYe2wGkgQ/photo.jpg?sz=128", "display_name": "marcoooo", "link": "https://stackoverflow.com/users/9747214/marcoooo"}, "edited": false, "score": 0, "creation_date": 1525620141, "post_id": 50200749, "comment_id": 87419196, "body": "i have multiple database files. Is it better to  merge the two? I use the first database as a lookup to the other database that has 4 tables."}, {"owner": {"reputation": 1, "user_id": 9747214, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WHjDILsPsM0/AAAAAAAAAAI/AAAAAAAAABU/BPYYe2wGkgQ/photo.jpg?sz=128", "display_name": "marcoooo", "link": "https://stackoverflow.com/users/9747214/marcoooo"}, "edited": false, "score": 0, "creation_date": 1525620322, "post_id": 50200749, "comment_id": 87419255, "body": "the problem is,  I am a complete noob at Android and I basically don&#39;t know what to do when kotlin and java is mixed up."}, {"owner": {"reputation": 1024, "user_id": 2802266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abcf746ec0b2e42456acf63be92bff01?s=128&d=identicon&r=PG&f=1", "display_name": "JoaoLopesF", "link": "https://stackoverflow.com/users/2802266/joaolopesf"}, "reply_to_user": {"reputation": 1, "user_id": 9747214, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WHjDILsPsM0/AAAAAAAAAAI/AAAAAAAAABU/BPYYe2wGkgQ/photo.jpg?sz=128", "display_name": "marcoooo", "link": "https://stackoverflow.com/users/9747214/marcoooo"}, "edited": false, "score": 0, "creation_date": 1525693821, "post_id": 50200749, "comment_id": 87443871, "body": "Another approach to sqlite in kotlin : <a href=\"https://antonioleiva.com/databases-anko-kotlin/\" rel=\"nofollow noreferrer\">antonioleiva.com/databases-anko-kotlin</a>"}], "tags": [], "owner": {"reputation": 1024, "user_id": 2802266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abcf746ec0b2e42456acf63be92bff01?s=128&d=identicon&r=PG&f=1", "display_name": "JoaoLopesF", "link": "https://stackoverflow.com/users/2802266/joaolopesf"}, "is_accepted": false, "score": 0, "last_activity_date": 1525616640, "creation_date": 1525616640, "answer_id": 50200749, "question_id": 50195651, "link": "https://stackoverflow.com/questions/50195651/how-to-insert-a-sqlite-database-file-to-android-and-read-it-using-kotlin/50200749#50200749", "title": "How to insert a Sqlite database file to Android and read it using Kotlin?", "body": "<p>I use Android's <a href=\"https://developer.android.com/topic/libraries/architecture/room\" rel=\"nofollow noreferrer\">ROOM</a> to access SQLite database</p>\n\n<p>You can 100% kotlin code using <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">KAPT</a>, or give it in Java and not need KAPT, works ok in kotlin code calling the DAO objects in Java.</p>\n\n<p>You say multiple databases ? Please explain that.\nIs multiple tables in database instead ?</p>\n"}], "owner": {"reputation": 1, "user_id": 9747214, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WHjDILsPsM0/AAAAAAAAAAI/AAAAAAAAABU/BPYYe2wGkgQ/photo.jpg?sz=128", "display_name": "marcoooo", "link": "https://stackoverflow.com/users/9747214/marcoooo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1029, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1533664678, "creation_date": 1525572404, "question_id": 50195651, "link": "https://stackoverflow.com/questions/50195651/how-to-insert-a-sqlite-database-file-to-android-and-read-it-using-kotlin", "title": "How to insert a Sqlite database file to Android and read it using Kotlin?", "body": "<p>I am creating an Android app that reads data from multiple databases and the app must work offline. I saw lots of tutorials but they are in Java and I don't know how to use them in Kotlin since the app I am creating is currently in Kotlin. Can anyone help me to either create on in Kotlin or guide me to use the methods used in Java for my Kotlin app.</p>\n"}, {"tags": ["java", "android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1525743820, "post_id": 50195049, "comment_id": 87466735, "body": "please post your complete <code>build.gradle</code> code"}, {"owner": {"reputation": 942, "user_id": 740972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca5ee412afff03fc2f3e36409928e2c8?s=128&d=identicon&r=PG", "display_name": "Paragon", "link": "https://stackoverflow.com/users/740972/paragon"}, "reply_to_user": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1525744022, "post_id": 50195049, "comment_id": 87466786, "body": "@hakim added, let me know if thats enough"}, {"owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1525744155, "post_id": 50195049, "comment_id": 87466827, "body": "do you obfuscate the source code of your app when build apk for your device?"}, {"owner": {"reputation": 942, "user_id": 740972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca5ee412afff03fc2f3e36409928e2c8?s=128&d=identicon&r=PG", "display_name": "Paragon", "link": "https://stackoverflow.com/users/740972/paragon"}, "reply_to_user": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1525745143, "post_id": 50195049, "comment_id": 87467029, "body": "not sure what do you mean by that?"}, {"owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1525745404, "post_id": 50195049, "comment_id": 87467085, "body": "please post all build.gradle source code not just the dependencies part, there should be other configuration. I want to check if there is misconfiguration (ie. your forgot to update your proguard configuration)"}, {"owner": {"reputation": 942, "user_id": 740972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca5ee412afff03fc2f3e36409928e2c8?s=128&d=identicon&r=PG", "display_name": "Paragon", "link": "https://stackoverflow.com/users/740972/paragon"}, "reply_to_user": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1525745724, "post_id": 50195049, "comment_id": 87467142, "body": "done - wasn&#39;t sure if that was needed"}, {"owner": {"reputation": 2602, "user_id": 4574463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e46be6a24078ed549c1445b7c34039?s=128&d=identicon&r=PG&f=1", "display_name": "santosh kumar", "link": "https://stackoverflow.com/users/4574463/santosh-kumar"}, "edited": false, "score": 0, "creation_date": 1526051133, "post_id": 50195049, "comment_id": 87607024, "body": "Just to understand you are getting data initially but after 30 mins when you come back to screen again data goes off.. is it the problem here ?/"}, {"owner": {"reputation": 942, "user_id": 740972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca5ee412afff03fc2f3e36409928e2c8?s=128&d=identicon&r=PG", "display_name": "Paragon", "link": "https://stackoverflow.com/users/740972/paragon"}, "reply_to_user": {"reputation": 2602, "user_id": 4574463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e46be6a24078ed549c1445b7c34039?s=128&d=identicon&r=PG&f=1", "display_name": "santosh kumar", "link": "https://stackoverflow.com/users/4574463/santosh-kumar"}, "edited": false, "score": 0, "creation_date": 1526063995, "post_id": 50195049, "comment_id": 87613587, "body": "@santoshkumar no I don&#39;t get the data initially. I got the data after ~30 minutes. I tried couple of times today again but wasn&#39;t able to get the data at all. It worked well on the emulator"}, {"owner": {"reputation": 1, "user_id": 8079092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a70f9f49d22cbd2e838dd50c8dcbe1?s=128&d=identicon&r=PG&f=1", "display_name": "NewWorldTom", "link": "https://stackoverflow.com/users/8079092/newworldtom"}, "edited": false, "score": 1, "creation_date": 1548383182, "post_id": 50195049, "comment_id": 95531862, "body": "I was having a similar issue that resolved itself by going off wifi. Really not sure why or whats up there."}, {"owner": {"reputation": 1802, "user_id": 369150, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ad5984075ae5918c2c9e3fda42b33628?s=128&d=identicon&r=PG", "display_name": "Simon Schubert", "link": "https://stackoverflow.com/users/369150/simon-schubert"}, "edited": false, "score": 0, "creation_date": 1566905324, "post_id": 50195049, "comment_id": 101794326, "body": "Does your real device have a sim card inserted? I noticed that it&#39;s not working on my device without sim card but on my other device with sim card its working fine. Also on the emulator its working fine."}], "answers": [{"comments": [{"owner": {"reputation": 942, "user_id": 740972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca5ee412afff03fc2f3e36409928e2c8?s=128&d=identicon&r=PG", "display_name": "Paragon", "link": "https://stackoverflow.com/users/740972/paragon"}, "edited": false, "score": 0, "creation_date": 1525574523, "post_id": 50195106, "comment_id": 87408603, "body": "Thanks for the answer but i do have those permissions added."}, {"owner": {"reputation": 486, "user_id": 7702557, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1CvmzaRcsJA/AAAAAAAAAAI/AAAAAAAAAuM/adI9FGhMf5w/photo.jpg?sz=128", "display_name": "Kwright02", "link": "https://stackoverflow.com/users/7702557/kwright02"}, "reply_to_user": {"reputation": 942, "user_id": 740972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca5ee412afff03fc2f3e36409928e2c8?s=128&d=identicon&r=PG", "display_name": "Paragon", "link": "https://stackoverflow.com/users/740972/paragon"}, "edited": false, "score": 0, "creation_date": 1525576126, "post_id": 50195106, "comment_id": 87408829, "body": "Does your device actually have internet conection?"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1525808770, "post_id": 50195106, "comment_id": 87499952, "body": "@Kwright02, if this might be the case, then how is it working for emulator?"}], "tags": [], "owner": {"reputation": 486, "user_id": 7702557, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1CvmzaRcsJA/AAAAAAAAAAI/AAAAAAAAAuM/adI9FGhMf5w/photo.jpg?sz=128", "display_name": "Kwright02", "link": "https://stackoverflow.com/users/7702557/kwright02"}, "is_accepted": false, "score": 4, "last_activity_date": 1525565080, "creation_date": 1525565080, "answer_id": 50195106, "question_id": 50195049, "link": "https://stackoverflow.com/questions/50195049/firebase-android-works-on-the-emulator-but-not-on-the-device/50195106#50195106", "title": "Firebase android works on the emulator but not on the device", "body": "<p>Make sure in your Manifest file for the app (the Main manifest file) that you have:</p>\n\n<p><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;</code></p>\n"}, {"comments": [{"owner": {"reputation": 942, "user_id": 740972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca5ee412afff03fc2f3e36409928e2c8?s=128&d=identicon&r=PG", "display_name": "Paragon", "link": "https://stackoverflow.com/users/740972/paragon"}, "edited": false, "score": 0, "creation_date": 1525814132, "post_id": 50226983, "comment_id": 87502317, "body": "thanks for the answer but looks like it already has the SHA1, not sure if thats release or debug one. It doesn&#39;t say in Firebase"}, {"owner": {"reputation": 942, "user_id": 740972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca5ee412afff03fc2f3e36409928e2c8?s=128&d=identicon&r=PG", "display_name": "Paragon", "link": "https://stackoverflow.com/users/740972/paragon"}, "edited": false, "score": 0, "creation_date": 1525814419, "post_id": 50226983, "comment_id": 87502435, "body": "I also was running the app in the debug mode"}], "tags": [], "owner": {"reputation": 1321, "user_id": 2245377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/416c49bb574d977bfa55a0427d54fd7e?s=128&d=identicon&r=PG", "display_name": "Rizwan", "link": "https://stackoverflow.com/users/2245377/rizwan"}, "is_accepted": false, "score": 2, "last_activity_date": 1525759925, "creation_date": 1525759925, "answer_id": 50226983, "question_id": 50195049, "link": "https://stackoverflow.com/questions/50195049/firebase-android-works-on-the-emulator-but-not-on-the-device/50226983#50226983", "title": "Firebase android works on the emulator but not on the device", "body": "<p>It may happen if you are using release build on the device. Make sure you have added your release sha1 in your firebase app console.</p>\n\n<p><a href=\"https://i.stack.imgur.com/OmNwk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmNwk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Click on Add Fingerprint to enter your release sha1.</p>\n\n<p>In your emulator maybe it is working because you have added your debug sha1 and package name in your firebase app key.</p>\n\n<p><a href=\"http://android-er.blogspot.in/2015/09/generate-sha1-fingerprint-of-release.html\" rel=\"nofollow noreferrer\">Check this for generating sha1 for release build</a> </p>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 7256738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115228217e446b08a6a315e67646262d?s=128&d=identicon&r=PG&f=1", "display_name": "kavita", "link": "https://stackoverflow.com/users/7256738/kavita"}, "is_accepted": false, "score": 0, "last_activity_date": 1525861582, "creation_date": 1525861582, "answer_id": 50251105, "question_id": 50195049, "link": "https://stackoverflow.com/questions/50195049/firebase-android-works-on-the-emulator-but-not-on-the-device/50251105#50251105", "title": "Firebase android works on the emulator but not on the device", "body": "<p>You app might not compatible with that device. Check your supported min version and settings to make your app compatible with this device too.</p>\n\n<p>(or)</p>\n\n<p><strong>Check Callback:</strong></p>\n\n<p>Callbacks are removed by calling the removeEventListener() method on your Firebase database reference. </p>\n\n<p>\"If a listener has been added multiple times to a data location, it is called multiple times for each event, and you must detach it the same number of times to remove it completely.\nCalling removeEventListener() on a parent listener does not automatically remove listeners registered on its child nodes; removeEventListener() must also be called on any child listeners to remove the callback.\"</p>\n\n<p>(or)</p>\n\n<p>If you have some special characters in class name or some file name, please rename it because some devices greys out invalid characters.</p>\n"}, {"tags": [], "owner": {"reputation": 926, "user_id": 6387012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcc61748735d21c90782ce7c3aabd810?s=128&d=identicon&r=PG&f=1", "display_name": "TOvidiu", "link": "https://stackoverflow.com/users/6387012/tovidiu"}, "is_accepted": false, "score": 0, "last_activity_date": 1526302425, "creation_date": 1526302425, "answer_id": 50330857, "question_id": 50195049, "link": "https://stackoverflow.com/questions/50195049/firebase-android-works-on-the-emulator-but-not-on-the-device/50330857#50330857", "title": "Firebase android works on the emulator but not on the device", "body": "<p><a href=\"https://stackoverflow.com/a/42315250/6387012\">From here</a></p>\n\n<blockquote>\n  <p>Try calling, FirebaseDatabase.getInstance().setPersistenceEnabled(true); inside your Application class's \"onCreate\" method.</p>\n</blockquote>\n\n<p>I think your problem might be the connection. Enabling the persistence listeners callbacks will continue to fire for local updates </p>\n\n<p>You can read more about it <a href=\"https://firebase.google.com/docs/database/android/offline-capabilities\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 7872110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o85Iu.jpg?s=128&g=1", "display_name": "Islam Assem", "link": "https://stackoverflow.com/users/7872110/islam-assem"}, "is_accepted": false, "score": 0, "last_activity_date": 1584655632, "creation_date": 1584655632, "answer_id": 60765750, "question_id": 50195049, "link": "https://stackoverflow.com/questions/50195049/firebase-android-works-on-the-emulator-but-not-on-the-device/60765750#60765750", "title": "Firebase android works on the emulator but not on the device", "body": "<p>I had similar problem it got me crazy.\nThe app was working well and suddenly i stopped getting data from firestore but when i added network state permission it worked</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n</code></pre>\n\n<p>don't know the reason but this permission saved me.</p>\n"}, {"tags": [], "owner": {"reputation": 1061, "user_id": 4820507, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10206544579595606/picture?type=large", "display_name": "Adam Zarn", "link": "https://stackoverflow.com/users/4820507/adam-zarn"}, "is_accepted": false, "score": 0, "last_activity_date": 1596952253, "creation_date": 1596952253, "answer_id": 63322943, "question_id": 50195049, "link": "https://stackoverflow.com/questions/50195049/firebase-android-works-on-the-emulator-but-not-on-the-device/63322943#63322943", "title": "Firebase android works on the emulator but not on the device", "body": "<p>In my case, I just had to reset my WiFi router. I don't understand why but it worked, this answer is what helped me: <a href=\"https://stackoverflow.com/questions/48340327/firebase-database-listeners-dont-work-on-android-with-wifi\">Firebase database listeners don&#39;t work on android with wifi</a></p>\n"}], "owner": {"reputation": 942, "user_id": 740972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca5ee412afff03fc2f3e36409928e2c8?s=128&d=identicon&r=PG", "display_name": "Paragon", "link": "https://stackoverflow.com/users/740972/paragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3302, "favorite_count": 0, "answer_count": 6, "score": 4, "last_activity_date": 1596952253, "creation_date": 1525564436, "last_edit_date": 1525914572, "question_id": 50195049, "link": "https://stackoverflow.com/questions/50195049/firebase-android-works-on-the-emulator-but-not-on-the-device", "title": "Firebase android works on the emulator but not on the device", "body": "<p>I am new to android and I was able to setup the firebase for my app in kotlin. If i run the app in the <strong>Nexus 5X API 27</strong> emulator I am able to get the database but when i run the app in the actual device <strong>SAMSUNG S5</strong> (Google play Services V 12.5.29, android V 5.0) i don't get the <strong><em>addValueEventListener</em></strong> call back.</p>\n\n<pre><code>ref = FirebaseDatabase.getInstance().reference\n    ref!!.addValueEventListener(object : ValueEventListener {\n        override fun onCancelled(p0: DatabaseError?) {\n            Log.d(\"firebase\", \"cancelled\")\n\n        }\n\n        override fun onDataChange(p0: DataSnapshot?) {\n\n            if (p0!!.exists()){\n                Log.d(\"firebase\", \"date = $p0\")\n            } else {\n                Log.d(\"firebase\", \"no data\")\n            }\n\n        }\n\n    })\n</code></pre>\n\n<p>Gradle file: </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.example.wonder\"\n        minSdkVersion 21\n        targetSdkVersion 21\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n        testInstrumentationRunner \n        \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), \n    'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.android.support:support-v4:26.1.0'\nimplementation 'com.android.support:design:26.1.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\nimplementation 'com.google.firebase:firebase-messaging:11.2.2'\nimplementation 'com.google.firebase:firebase-database:11.2.2'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation 'com.android.support.test.espresso:espresso- \ncore:3.0.1'\n\n//implementation 'com.google.android.gms:play-services-maps:11.2.2'\nimplementation 'com.android.support:recyclerview-v7:26.1.0'\n\nimplementation 'com.google.firebase:firebase-core:11.2.2'\n//    implementation 'com.google.android.gms:play-services-ads:12.0.0'\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>I know its not database rule issue because they are set to public.</p>\n\n<p>If you have any suggestions please let me know.</p>\n\n<p>Thanks</p>\n\n<p>EDIT: I do have permissions added in the manifest file</p>\n\n<p><strong>Update: Looks like its working for the device, I just have to wait for 30 minutes. I left the device and came back after a while and the data was there. Could it be threading issue? I am not doing any threading, thought Firebase handles it by itself.</strong> </p>\n"}, {"tags": ["android", "kotlin", "android-viewpager", "anko"], "comments": [{"owner": {"reputation": 1007, "user_id": 4768929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1bf5292150f33000a6308c80f8a6aa5?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Abidi", "link": "https://stackoverflow.com/users/4768929/ahmed-abidi"}, "edited": false, "score": 0, "creation_date": 1525554865, "post_id": 50193974, "comment_id": 87405319, "body": "did you add the findviewbyid on the buttons ?"}, {"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "reply_to_user": {"reputation": 1007, "user_id": 4768929, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1bf5292150f33000a6308c80f8a6aa5?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed Abidi", "link": "https://stackoverflow.com/users/4768929/ahmed-abidi"}, "edited": false, "score": 0, "creation_date": 1525555434, "post_id": 50193974, "comment_id": 87405410, "body": "I don&#39;t need to. I use <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Kotlin Anko</a>."}, {"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "edited": false, "score": 0, "creation_date": 1525560320, "post_id": 50193974, "comment_id": 87406390, "body": "What&#39;s the code for initialize the fname?"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525562634, "post_id": 50194829, "comment_id": 87406800, "body": "I give my <code>EditText</code>s ids and initialized in the <code>onViewCreated</code>. Still getting the same error. Would you show me how to create a callback?"}, {"owner": {"reputation": 1165, "user_id": 4145397, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/NP13i.jpg?s=128&g=1", "display_name": "92AlanC", "link": "https://stackoverflow.com/users/4145397/92alanc"}, "reply_to_user": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525563931, "post_id": 50194829, "comment_id": 87407036, "body": "I&#39;ll edit the answer and then you accept it if it solves your problem"}, {"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "edited": false, "score": 0, "creation_date": 1525569423, "post_id": 50194829, "comment_id": 87407807, "body": "Thanks for your answer. I&#39;d like to call my <code>canDo()</code> method when a button click on the <code>MyActivity</code>. I tried to call <code>myFragment.setOnFragmentInflatedListener(this)</code> when button clicks but it&#39;s not triggering the interface. It doesn&#39;t make sense to me. It already rendered. Why would it throw an UninitializedPropertyAccessException?"}], "tags": [], "owner": {"reputation": 1165, "user_id": 4145397, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/NP13i.jpg?s=128&g=1", "display_name": "92AlanC", "link": "https://stackoverflow.com/users/4145397/92alanc"}, "is_accepted": false, "score": 0, "last_activity_date": 1525564417, "last_edit_date": 1525564417, "creation_date": 1525561924, "answer_id": 50194829, "question_id": 50193974, "link": "https://stackoverflow.com/questions/50193974/cant-access-fragments-method-from-activity-uninitializedpropertyaccessexcept/50194829#50194829", "title": "Can&#39;t access fragment&#39;s method from activity - UninitializedPropertyAccessException", "body": "<p>These properties need to be initialised in the <code>onViewCreated</code> method, not <code>onCreateView</code>.</p>\n\n<p><code>onCreateView</code> is only responsible for creating the view as the name suggests, while <code>onViewCreated</code> is responsible for handling events after your fragment is properly created.</p>\n\n<p>And if you need, you can create a callback that will be triggered when your fragment view is created, then you implement that callback in the activity, so that you will only access that <code>canGo</code> method after the fragment is created. Again, only if you really need to.</p>\n\n<pre><code>interface OnFragmentInflatedListener {\n    fun onFragmentInflated(fragment: Fragment)\n}\n\n// Fragment\nprivate var onFragmentInflatedListener: OnFragmentInflatedListener? = null\n\nfun setOnFragmentInflatedListener(onFragmentInflatedListener: OnFragmentInflatedListener?) {\n    this.onFragmentInflatedListener = onFragmentInflatedListener\n}\n\n// Fragment's onViewCreated\n// initialise your properties here\nonFragmentInflatedListener?.onFragmentInflated(this)\n\n// Activity\nclass MyActivity : AppCompatActivity(), OnFragmentInflatedListener {\n\n    @Override\n    fun onCreate(savedInstanceState: Bundle) {\n        // do your stuff\n        myFragment.setOnFragmentInflatedListener(this)\n    }\n\n    @Override\n    fun onFragmentInflated(fragment: Fragment) {\n        // do what you wanted to do\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "is_accepted": false, "score": 0, "last_activity_date": 1525570923, "creation_date": 1525570923, "answer_id": 50195542, "question_id": 50193974, "link": "https://stackoverflow.com/questions/50193974/cant-access-fragments-method-from-activity-uninitializedpropertyaccessexcept/50195542#50195542", "title": "Can&#39;t access fragment&#39;s method from activity - UninitializedPropertyAccessException", "body": "<p>I found the answer on <a href=\"https://learnpainless.com/android/how-to-get-fragment-from-viewpager-android\" rel=\"nofollow noreferrer\">this</a> article. First I edited my <code>Adapter</code>:</p>\n\n<pre><code>private class Adapter(fm: FragmentManager, private val fragments: ArrayList&lt;Fragment&gt;) : FragmentStatePagerAdapter(fm) {\n   private val instantiatedFragments = SparseArray&lt;WeakReference&lt;Fragment&gt;&gt;()\n\n   override fun getItem(position: Int): Fragment = fragments[position]\n\n   override fun getCount() = fragments.size\n\n   override fun instantiateItem(container: ViewGroup, position: Int): Any  {\n     val fragment = super.instantiateItem(container, position) as Fragment\n     instantiatedFragments.put(position, WeakReference(fragment))\n     return fragment\n   }\n\n   @Nullable\n   fun getFragment(position: Int) = instantiatedFragments.get(position)?.get()\n}\n</code></pre>\n\n<p>And also my <code>onClick</code> method</p>\n\n<pre><code>when (currentPage) {\n  0 -&gt; {\n     if ((mAdapter.getFragment(currentPage) as NameFragment).canGo()) {\n        mViewPager.setCurrentItem(currentPage + 1, true)\n     }\n  }\n  1 -&gt; ...\n}\n</code></pre>\n\n<p>I changed <code>getItem(currentPage)</code> to <code>getFragment(currentPage)</code>.</p>\n"}], "owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 479, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525570923, "creation_date": 1525553823, "last_edit_date": 1525561482, "question_id": 50193974, "link": "https://stackoverflow.com/questions/50193974/cant-access-fragments-method-from-activity-uninitializedpropertyaccessexcept", "title": "Can&#39;t access fragment&#39;s method from activity - UninitializedPropertyAccessException", "body": "<p>I have a <code>ViewPager</code>. I want to change page when fragment allow it to do.</p>\n\n<p>This is the <code>onClick</code> when I want to check.</p>\n\n<pre><code>when (currentPage) {\n   0 -&gt; {\n      if ((mAdapter.getItem(currentPage) as NameFragment).canGo()) {\n         mViewPager.setCurrentItem(currentPage + 1, true)\n      }\n   }\n   1 -&gt; ...\n}\n</code></pre>\n\n<p>My Fragment:</p>\n\n<pre><code>private lateinit var fName: EditText\nprivate lateinit var lName: EditText\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View = UI {\n    verticalLayout {\n       fName = editText {\n          hint = \"FIRST NAME\"\n          textSize = 20f\n       }\n       lName = editText {\n          hint = \"LAST NAME\"\n          textSize = 20f\n       }\n    }\n}    \n\nfun canGo(): Boolean {\n   val firstName = fName.text.toString()\n   val lastName = lName.text.toString()\n\n   if (firstName.isEmpty() || firstName.isBlank() || lastName.isBlank() || lastName.isEmpty()) {\n       toast(\"First name or Last name cannot be empty\")\n       return false\n   }\n   return true\n}\n</code></pre>\n\n<p>I initialize <code>fName</code> and <code>lName</code> on <code>onCreateView</code> method and this is the error I get. Full exception is <a href=\"https://gist.github.com/morhpt/ad7502640d03812514dc663b3279ab63\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property fName has not been initialized\n</code></pre>\n"}, {"tags": ["io", "kotlin", "okhttp", "android-file"], "answers": [{"comments": [{"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1525574064, "post_id": 50193436, "comment_id": 87408521, "body": "This works thank you.  I gave the answer credit to @zsmb13 because his answer was like a tutorial."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 3, "last_activity_date": 1525549892, "last_edit_date": 1525549892, "creation_date": 1525549586, "answer_id": 50193436, "question_id": 50192740, "link": "https://stackoverflow.com/questions/50192740/difficulty-writing-downloaded-pdf-file-to-android-device/50193436#50193436", "title": "Difficulty writing downloaded pdf file to android device", "body": "<p>Maybe there's a simpler way (also less efficient, but don't worry about small files, it's already very fast):</p>\n\n<pre><code>File(filesDir, \"Test.pdf\").writeBytes(URL(\"your url\").readBytes())\n</code></pre>\n\n<p><code>writeBytes</code> and <code>readBytes</code> are Kotlin stdlib extension functions.</p>\n"}, {"comments": [{"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1525574179, "post_id": 50193723, "comment_id": 87408541, "body": "Thank you for this very comprehensive answer.  For whatever reason I was treating file.outputStream() like it was a singleton...rookie mistake."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1525551905, "creation_date": 1525551905, "answer_id": 50193723, "question_id": 50192740, "link": "https://stackoverflow.com/questions/50192740/difficulty-writing-downloaded-pdf-file-to-android-device/50193723#50193723", "title": "Difficulty writing downloaded pdf file to android device", "body": "<p>You're opening a new <code>OutputStream</code> with every new call of the <code>outputStream</code> function. Instead, you can use just one:</p>\n\n<pre><code>val os = file.outputStream()\nos.write(response.body()!!.bytes())\nos.flush()\nos.close()\n</code></pre>\n\n<p>And you might wanna wrap it in a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow noreferrer\"><code>use</code></a> block instead of closing it yourself (and <a href=\"https://stackoverflow.com/questions/31456660/fileoutputstream-does-the-close-method-calls-also-flush\">flushing it isn't necessary</a>):</p>\n\n<pre><code>file.outputStream().use { os -&gt;\n    os.write(response.body()!!.bytes())\n}\n</code></pre>\n\n<p>And if you only need to write a single <code>ByteArray</code>, the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/write-bytes.html\" rel=\"nofollow noreferrer\"><code>writeBytes</code></a> method that was already suggested by @ice1000 does the above with even less code:</p>\n\n<pre><code>file.writeBytes(response.body()!!.bytes())\n</code></pre>\n\n<hr>\n\n<p>And while here, I'd perform a <code>null</code> check on the response body just to be safe:</p>\n\n<pre><code>val responseBytes = response.body()?.bytes()\nif (responseBytes != null) {\n    file.writeBytes(responseBytes)\n} else {\n    // Handle error somehow\n}\n</code></pre>\n"}], "owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 1, "accepted_answer_id": 50193723, "answer_count": 2, "score": 0, "last_activity_date": 1525551905, "creation_date": 1525544828, "question_id": 50192740, "link": "https://stackoverflow.com/questions/50192740/difficulty-writing-downloaded-pdf-file-to-android-device", "title": "Difficulty writing downloaded pdf file to android device", "body": "<p>I am downloading a pdf file from a web server using okhttp.  The file appears to download correctly, and the file \"Test.pdf\" is created.  The file size is listed as 0 however in the Device File Explorer in Android Studio.</p>\n\n<p>Here is my callback code:</p>\n\n<pre><code>client.newCall(request).enqueue(object : Callback {\n\n    override fun onFailure(call: Call, e: IOException) {\n                    println(\"Failed\")\n                }\n\n    override fun onResponse(call: Call, response: Response) {\n\n                    println(\"Success!\")\n\n                    val file = File(filesDir, \"Test.pdf\")\n                    println(response.body()!!.bytes().size)\n\n                    file.outputStream().write(response.body()!!.bytes())\n                    file.outputStream().flush()\n                    file.outputStream().close()\n                }\n            })\n</code></pre>\n\n<p>The println statement shows the correct file size of 6MB.  I am really unsure why the file is not writing to the device.</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 1, "creation_date": 1540816806, "post_id": 50191606, "comment_id": 92990784, "body": "I think runBlocking will not handle CoroutineExceptionHandler"}], "answers": [{"tags": [], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1543820109, "last_edit_date": 1543820109, "creation_date": 1543710833, "answer_id": 53576309, "question_id": 50191606, "link": "https://stackoverflow.com/questions/50191606/why-coroutineexceptionhandler-didnt-catch-handle-my-exception/53576309#53576309", "title": "Why CoroutineExceptionHandler didn&#39;t catch/handle my exception?", "body": "<p>I can't tell you why <code>CoroutineExceptionHandler</code> didn't catch the exception thrown in <code>launch</code>.  But I can tell you 2 things - </p>\n\n<ol>\n<li>I verified the behavior you found - you are correct, the exception isn't caught.</li>\n<li>By experimenting, I learned how to catch the exception in <code>CoroutineExceptionHandler</code>.</li>\n</ol>\n\n<p>Here's the code that shows how to catch it:</p>\n\n<pre><code>fun f() = runBlocking {\n    val eh = CoroutineExceptionHandler { _, e -&gt; trace(\"exception handler: $e\") }\n    val cs1 = CoroutineScope(Dispatchers.Default)\n    val j1 = cs1.launch(eh + CoroutineName(\"first\"))  {\n        trace(\"launched\")\n        delay(1000)\n        throw RuntimeException(\"error!\")\n    }\n    trace(\"joining j1\")\n    j1.join()\n    val cs2 = CoroutineScope(Dispatchers.Default + eh)\n    val j2 = cs2.launch(CoroutineName(\"second\"))  {\n        trace(\"launched\")\n        delay(1000)\n        throw RuntimeException(\"error!\")\n    }\n    trace(\"joining j2\")\n    j2.join()\n    trace(\"after join\")\n}\nf()\n</code></pre>\n\n<p>Console output:</p>\n\n<pre><code>[main @coroutine#1]: joining j1\n[DefaultDispatcher-worker-1 @first#2]: launched\n[DefaultDispatcher-worker-1 @first#2]: exception handler: java.lang.RuntimeException: error!\n[main @coroutine#1]: joining j2\n[DefaultDispatcher-worker-1 @second#3]: launched\n[DefaultDispatcher-worker-3 @second#3]: exception handler: java.lang.RuntimeException: error!\n[main @coroutine#1]: after join\n</code></pre>\n\n<p>The key takeaway is that if you call <code>launch</code> on a custom <code>CoroutineScope</code>, any <code>CoroutineExceptionHandler</code> provided directly to the <code>CoroutineScope</code> constructor or to <code>launch</code> will be executed when an exception is thrown within the <code>launch</code>ed coroutine.</p>\n\n<p>Hope that helps!!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I found out why the exception isn't caught.  See my answer <a href=\"https://stackoverflow.com/a/53588660/369722\">here</a>.</p>\n"}], "owner": {"reputation": 1237, "user_id": 3998718, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/61af86922698a8cd422f77ae2343d2a5?s=128&d=identicon&r=PG&f=1", "display_name": "kptlronyttcna", "link": "https://stackoverflow.com/users/3998718/kptlronyttcna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1273, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1543820109, "creation_date": 1525537491, "question_id": 50191606, "link": "https://stackoverflow.com/questions/50191606/why-coroutineexceptionhandler-didnt-catch-handle-my-exception", "title": "Why CoroutineExceptionHandler didn&#39;t catch/handle my exception?", "body": "<p>In this code why <code>handler</code> only prints the stack-trace for <code>JobCancellationException</code> and not <code>SocketException</code>? The <code>foo</code> function inside <code>launch</code> definitely throws <code>SocketException</code>, so what happens to it?</p>\n\n<pre><code>suspend fun foo() {\n  val job = coroutineContext[Job]!!\n  val socket = Socket()\n\n  job.invokeOnCompletion(onCancelling = true) {\n    if (!socket.isClosed) {\n      socket.close()\n    }\n  }\n\n  // non-routable address -&gt; timeout\n  // will throw SocketException after socket.close() is called above\n  socket.connect(InetSocketAddress(\"10.0.0.0\", 1234), 2000)\n}\n\nfun test() = runBlocking {\n  val handler = CoroutineExceptionHandler { _, throwable -&gt;\n    throwable.printStackTrace()\n  }\n\n  val job = launch(DefaultDispatcher + handler) {\n    foo()\n  }\n\n  delay(100)\n  job.cancelAndJoin()\n  delay(100)\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "sign", "elliptic-curve"], "answers": [{"comments": [{"owner": {"reputation": 6282, "user_id": 685806, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ZKxUb.jpg?s=128&g=1", "display_name": "Pino", "link": "https://stackoverflow.com/users/685806/pino"}, "edited": false, "score": 2, "creation_date": 1543418778, "post_id": 53522512, "comment_id": 93914350, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/21540714\">From Review</a>"}, {"owner": {"reputation": 527, "user_id": 1836392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b2ba3ba2b287e57d74eb27a084ad1a7?s=128&d=identicon&r=PG", "display_name": "westrada", "link": "https://stackoverflow.com/users/1836392/westrada"}, "reply_to_user": {"reputation": 6282, "user_id": 685806, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ZKxUb.jpg?s=128&g=1", "display_name": "Pino", "link": "https://stackoverflow.com/users/685806/pino"}, "edited": false, "score": 0, "creation_date": 1543873675, "post_id": 53522512, "comment_id": 94067238, "body": "Hi @Pino, thanks for your feedback. I&#39;ve already added some examples of the question. I hope it can help"}, {"owner": {"reputation": 231, "user_id": 6396162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/gqDWj.jpg?s=128&g=1", "display_name": "Priyanka", "link": "https://stackoverflow.com/users/6396162/priyanka"}, "edited": false, "score": 0, "creation_date": 1565273476, "post_id": 53522512, "comment_id": 101309252, "body": "here result is coming : android.security.keystore.AndroidKeyStoreECPublicKey@f90e9bc&zwnj;&#8203;76,how to get encoded by Hexcode"}, {"owner": {"reputation": 231, "user_id": 6396162, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/gqDWj.jpg?s=128&g=1", "display_name": "Priyanka", "link": "https://stackoverflow.com/users/6396162/priyanka"}, "edited": false, "score": 0, "creation_date": 1565679455, "post_id": 53522512, "comment_id": 101417415, "body": "what about the private key in the string ?"}], "tags": [], "owner": {"reputation": 527, "user_id": 1836392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b2ba3ba2b287e57d74eb27a084ad1a7?s=128&d=identicon&r=PG", "display_name": "westrada", "link": "https://stackoverflow.com/users/1836392/westrada"}, "is_accepted": true, "score": 0, "last_activity_date": 1543420233, "last_edit_date": 1543420233, "creation_date": 1543417755, "answer_id": 53522512, "question_id": 50191059, "link": "https://stackoverflow.com/questions/50191059/using-elliptic-curve-key-pair-on-android/53522512#53522512", "title": "Using Elliptic Curve Key Pair on Android", "body": "<p>You can find good documentation from the Android developer website: <a href=\"https://developer.android.com/training/articles/keystore#kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/keystore#kotlin</a>\nThere are examples of how to generate, store in the Keystore, Sign and verify data.</p>\n\n<p><strong>EDITED</strong></p>\n\n<p>For example, to create a KeyPair</p>\n\n<pre><code>val kpg: KeyPairGenerator = KeyPairGenerator.getInstance(KeyProperties.KEY_ALGORITHM_EC,\n    \"AndroidKeyStore\")\nval parameterSpec: KeyGenParameterSpec = KeyGenParameterSpec.Builder(\"alias\",\n    KeyProperties.PURPOSE_SIGN).run {\n    setDigests(KeyProperties.DIGEST_SHA256)\n    build()\n    }\nkpg.initialize(parameterSpec)\nval keyPair = kpg.generateKeyPair()\n</code></pre>\n\n<p>If you want to share your public key to a server </p>\n\n<pre><code>val pubKey = keyPair.public\nval pubKeyString = String(Base64.encode(pubKey.encoded, 0))\n</code></pre>\n\n<p>Sign Data</p>\n\n<pre><code>val signature: ByteArray = Signature.getInstance(\"SHA256withECDSA\").run {\n    initSign(privKey)\n    update(data)\n    sign()\n    }\n</code></pre>\n\n<p>Verify Data</p>\n\n<pre><code>val valid: Boolean = Signature.getInstance(\"SHA256withECDSA\").run {\n    initVerify(pubKey)\n    update(data)\n    verify(signature)\n    }\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9745870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d57fd71c425b83c014f2046bbc99ae0?s=128&d=identicon&r=PG&f=1", "display_name": "Jabbi", "link": "https://stackoverflow.com/users/9745870/jabbi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1002, "favorite_count": 0, "accepted_answer_id": 53522512, "answer_count": 1, "score": 2, "last_activity_date": 1543420233, "creation_date": 1525533865, "last_edit_date": 1525534189, "question_id": 50191059, "link": "https://stackoverflow.com/questions/50191059/using-elliptic-curve-key-pair-on-android", "title": "Using Elliptic Curve Key Pair on Android", "body": "<p>I need to use an Elliptic Curve Key pair on Android to sign and verify Strings. I use following code to generate the Key Pair</p>\n\n<pre><code>val parameterSpec = ECNamedCurveTable.getParameterSpec(\"secp160r1\")\n\nfun genKeyPair(): KeyPair{\n    val keyPairGenerator = KeyPairGenerator.getInstance(\n            \"EC\", \"SC\")\n    keyPairGenerator.initialize(parameterSpec, SecureRandom())\n    val keyPair: KeyPair = keyPairGenerator.genKeyPair()\n    return keyPair\n}\n</code></pre>\n\n<p>The App is written in Kotlin but I am happy about any Java-related answer too.\nDoes somebody know where I can find good resources or code examples?</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5894962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KGnvC.png?s=128&g=1", "display_name": "Yusuf G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/5894962/yusuf-g%c3%bcnd%c3%bcz"}, "edited": false, "score": 0, "creation_date": 1525535997, "post_id": 50191217, "comment_id": 87399575, "body": "Thanks for referance. In the referance &quot;long getTotalTimeInForeground ()&quot; is solved my problem."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9025311"}, "reply_to_user": {"reputation": 49, "user_id": 5894962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KGnvC.png?s=128&g=1", "display_name": "Yusuf G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/5894962/yusuf-g%c3%bcnd%c3%bcz"}, "edited": false, "score": 0, "creation_date": 1525536019, "post_id": 50191217, "comment_id": 87399583, "body": "did it help?I cant see anywhere the screen time,that you want but where do you see this in your mobile?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9025311"}, "is_accepted": true, "score": 1, "last_activity_date": 1525534977, "creation_date": 1525534977, "answer_id": 50191217, "question_id": 50190912, "link": "https://stackoverflow.com/questions/50190912/how-do-i-get-screen-time-of-other-applications-in-android/50191217#50191217", "title": "How do i get screen time of other applications in android?", "body": "<pre><code>android.app.usage\n</code></pre>\n\n<p><strong>UsageStats</strong></p>\n\n<pre><code>public final class UsageStats \nextends Object implements Parcelable\n\njava.lang.Object\n   \u21b3    android.app.usage.UsageStats\n</code></pre>\n\n<p>What you need I think is </p>\n\n<pre><code>getFirstTimeStamp\n</code></pre>\n\n<p>Get the beginning of the time range this <a href=\"https://developer.android.com/reference/android/app/usage/UsageStats#getFirstTimeStamp()\" rel=\"nofollow noreferrer\">UsageStats</a> represents, measured in milliseconds since the epoch.\nand <code>getLastTimeStamp</code></p>\n\n<p>Get the end of the time range this <code>UsageStats</code> represents, measured in milliseconds since the epoch.</p>\n\n<p><a href=\"https://developer.android.com/reference/android/app/usage/UsageStats\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}], "owner": {"reputation": 49, "user_id": 5894962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KGnvC.png?s=128&g=1", "display_name": "Yusuf G&#252;nd&#252;z", "link": "https://stackoverflow.com/users/5894962/yusuf-g%c3%bcnd%c3%bcz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 50191217, "answer_count": 1, "score": 2, "last_activity_date": 1525545301, "creation_date": 1525533017, "last_edit_date": 1525545301, "question_id": 50190912, "link": "https://stackoverflow.com/questions/50190912/how-do-i-get-screen-time-of-other-applications-in-android", "title": "How do i get screen time of other applications in android?", "body": "<p>I want to reach screen time of every application that's working on android system. For example, there are 3 hours of facebook working time but 1.2 hours of screen time. How can i get it? </p>\n"}, {"tags": ["java", "android", "gradle", "build", "kotlin"], "comments": [{"owner": {"reputation": 1374, "user_id": 8560567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CP5qA.png?s=128&g=1", "display_name": "Xcoder", "link": "https://stackoverflow.com/users/8560567/xcoder"}, "edited": false, "score": 0, "creation_date": 1525533099, "post_id": 50190890, "comment_id": 87398590, "body": "Please don&#39;t just post the whole error message. At least format it correctly, and tell us what you have tried. See <a href=\"https://stackoverflow.com/help/mcve\">How To Ask</a>."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8242306, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UPXXgTWimWE/AAAAAAAAAAI/AAAAAAAAAF0/qzYd36p6moY/photo.jpg?sz=128", "display_name": "Reza taheri", "link": "https://stackoverflow.com/users/8242306/reza-taheri"}, "edited": false, "score": 0, "creation_date": 1526538788, "post_id": 50194464, "comment_id": 87785193, "body": "it&#39;s the first one ; org.jetbrains.kotlin:kotlin-stdlib-jre8 is not specified in dependencies"}], "tags": [], "owner": {"reputation": 11, "user_id": 3655220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0136b52861f9aeb7336842bb5f8fe3b5?s=128&d=identicon&r=PG&f=1", "display_name": "ashish gupta", "link": "https://stackoverflow.com/users/3655220/ashish-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1526614233, "last_edit_date": 1526614233, "creation_date": 1525558450, "answer_id": 50194464, "question_id": 50190890, "link": "https://stackoverflow.com/questions/50190890/have-issue-when-syncing-project-with-gradle-file/50194464#50194464", "title": "have issue when syncing project with gradle file", "body": "<p>Can you show your build.gradle dependencies section? Gradle is not able to the find Kotlin package to download. One of the two could be the reason-</p>\n\n<ul>\n<li>org.jetbrains.kotlin:kotlin-stdlib-jre8 is not specified in\ndependencies</li>\n<li>the repository to download Kotlin is not specified</li>\n</ul>\n\n<p>Check if these two are in place.</p>\n"}], "owner": {"reputation": 9, "user_id": 8242306, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UPXXgTWimWE/AAAAAAAAAAI/AAAAAAAAAF0/qzYd36p6moY/photo.jpg?sz=128", "display_name": "Reza taheri", "link": "https://stackoverflow.com/users/8242306/reza-taheri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1526614233, "creation_date": 1525532916, "last_edit_date": 1525552353, "question_id": 50190890, "link": "https://stackoverflow.com/questions/50190890/have-issue-when-syncing-project-with-gradle-file", "title": "have issue when syncing project with gradle file", "body": "<p>i get this errors sometimes for kotlin plugin and sometimes it says it's a java compiler error.</p>\n\n<pre><code>org.gradle.initialization.ReportedException: org.gradle.internal.exceptions.LocationAwareException: A problem occurred configuring project ':app'.\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:139)\n    at org.gradle.initialization.DefaultGradleLauncher.getConfiguredBuild(DefaultGradleLauncher.java:104)\n    at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:87)\n    at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:84)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:84)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:64)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:69)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:30)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.internal.exceptions.LocationAwareException: A problem occurred configuring project ':app'.\n    at org.gradle.initialization.DefaultExceptionAnalyser.transform(DefaultExceptionAnalyser.java:74)\n    at org.gradle.initialization.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:47)\n    at org.gradle.initialization.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:137)\n    at org.gradle.initialization.DefaultGradleLauncher.getConfiguredBuild(DefaultGradleLauncher.java:104)\n    at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:87)\n    at org.gradle.internal.invocation.GradleBuildController$2.call(GradleBuildController.java:84)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:84)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:64)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:47)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:57)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:69)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:30)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':app'.\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:94)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:66)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.access$100(LifecycleProjectEvaluator.java:34)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$ConfigureProject.run(LifecycleProjectEvaluator.java:110)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:50)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:666)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:135)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\n    at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:38)\n    at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:249)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:167)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:126)\n    ... 62 more\nCaused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:classpath'.\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.rethrowFailure(DefaultConfiguration.java:918)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1600(DefaultConfiguration.java:116)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:892)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.getFiles(DefaultConfiguration.java:404)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getFiles(Unknown Source)\n    at org.gradle.api.internal.file.AbstractFileCollection.iterator(AbstractFileCollection.java:68)\n    at org.gradle.internal.classpath.DefaultClassPath.&lt;init&gt;(DefaultClassPath.java:48)\n    at org.gradle.api.internal.initialization.DefaultScriptClassPathResolver.resolveClassPath(DefaultScriptClassPathResolver.java:39)\n    at org.gradle.api.internal.initialization.DefaultScriptHandler.getScriptClassPath(DefaultScriptHandler.java:72)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.defineScriptHandlerClassScope(DefaultPluginRequestApplicator.java:204)\n    at org.gradle.plugin.use.internal.DefaultPluginRequestApplicator.applyPlugins(DefaultPluginRequestApplicator.java:82)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:179)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:61)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:58)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:41)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:34)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.doConfigure(LifecycleProjectEvaluator.java:64)\n    ... 81 more\nCaused by: org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not find org.jetbrains.kotlin:kotlin-stdlib-jre8:1.2.0.\nSearched in the following locations:\n    https://dl.google.com/dl/android/maven2/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.pom\n    https://dl.google.com/dl/android/maven2/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.jar\n    https://maven.google.com/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.pom\n    https://maven.google.com/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.2.0/kotlin-stdlib-jre8-1.2.0.jar\nRequired by:\n    project :app &gt; com.android.tools.build:gradle:3.1.1 &gt; com.android.tools.build:gradle-core:3.1.1\n    project :app &gt; com.android.tools.build:gradle:3.1.1 &gt; com.android.tools.build:gradle-core:3.1.1 &gt; com.android.tools.build:builder:3.1.1\n    project :app &gt; com.android.tools.build:gradle:3.1.1 &gt; com.android.tools.build:gradle-core:3.1.1 &gt; com.android.tools.lint:lint-gradle-api:26.1.1\n    project :app &gt; com.android.tools.build:gradle:3.1.1 &gt; com.android.tools.build:gradle-core:3.1.1 &gt; com.android.tools.build:gradle-api:3.1.1\n    project :app &gt; com.android.tools.build:gradle:3.1.1 &gt; com.android.tools.build:gradle-core:3.1.1 &gt; com.android.databinding:compilerCommon:3.1.1\n    project :app &gt; com.android.tools.build:gradle:3.1.1 &gt; com.android.tools.build:gradle-core:3.1.1 &gt; com.android.tools.build:builder:3.1.1 &gt; com.android.tools:sdk-common:26.1.1\n    project :app &gt; com.android.tools.build:gradle:3.1.1 &gt; com.android.tools.build:gradle-core:3.1.1 &gt; com.android.tools.build:builder:3.1.1 &gt; com.android.tools.build:manifest-merger:26.1.1\n    project :app &gt; com.android.tools.build:gradle:3.1.1 &gt; com.android.tools.build:gradle-core:3.1.1 &gt; com.android.tools.build:builder:3.1.1 &gt; com.android.tools:sdklib:26.1.1 &gt; com.android.tools:repository:26.1.1\n    at org.gradle.internal.resolve.result.DefaultBuildableComponentResolveResult.notFound(DefaultBuildableComponentResolveResult.java:38)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolveModule(RepositoryChainComponentMetaDataResolver.java:108)\n    at org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver.resolve(RepositoryChainComponentMetaDataResolver.java:63)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.ComponentResolversChain$ComponentMetaDataResolverChain.resolve(ComponentResolversChain.java:93)\n    at org.gradle.api.internal.artifacts.ivyservice.clientmodule.ClientModuleResolver.resolve(ClientModuleResolver.java:48)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.builder.ComponentState.resolve(ComponentState.java:157)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.builder.ComponentState.getMetaData(ComponentState.java:168)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.builder.EdgeState.calculateTargetConfigurations(EdgeState.java:134)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.builder.EdgeState.attachToTargetConfigurations(EdgeState.java:105)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.builder.DependencyGraphBuilder.attachToTargetRevisionsSerially(DependencyGraphBuilder.java:239)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.builder.DependencyGraphBuilder.resolveEdges(DependencyGraphBuilder.java:229)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.builder.DependencyGraphBuilder.traverseGraph(DependencyGraphBuilder.java:143)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.graph.builder.DependencyGraphBuilder.resolve(DependencyGraphBuilder.java:109)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.DefaultArtifactDependencyResolver.resolve(DefaultArtifactDependencyResolver.java:90)\n    at org.gradle.api.internal.artifacts.ivyservice.DefaultConfigurationResolver.resolveGraph(DefaultConfigurationResolver.java:146)\n    at org.gradle.api.internal.artifacts.ivyservice.ShortCircuitEmptyConfigurationResolver.resolveGraph(ShortCircuitEmptyConfigurationResolver.java:73)\n    at org.gradle.api.internal.artifacts.ivyservice.ErrorHandlingConfigurationResolver.resolveGraph(ErrorHandlingConfigurationResolver.java:66)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$4.run(DefaultConfiguration.java:483)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.resolveGraphIfRequired(DefaultConfiguration.java:474)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.resolveToStateOrLater(DefaultConfiguration.java:459)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1700(DefaultConfiguration.java:116)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getSelectedArtifacts(DefaultConfiguration.java:901)\n    at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:889)\n    ... 100 more\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 2679, "user_id": 4465354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peiDQ.png?s=128&g=1", "display_name": "qwwdfsad", "link": "https://stackoverflow.com/users/4465354/qwwdfsad"}, "is_accepted": true, "score": 1, "last_activity_date": 1525688680, "creation_date": 1525688680, "answer_id": 50212002, "question_id": 50190644, "link": "https://stackoverflow.com/questions/50190644/do-all-suspend-functions-have-a-job/50212002#50212002", "title": "Do all suspend functions have a Job?", "body": "<p>No, not all suspend functions have a job.</p>\n\n<p><code>coroutineContext</code> is general Kotlin mechanism to pass coroutines-related objects through <code>suspend</code> call-chain transparently and <code>Job</code> is <code>kotlinx.coroutines</code> specific abstraction.</p>\n\n<p>If you've launched a coroutine via any <code>kotlinx.coroutines</code> builder which supports <code>Job</code> (e.g. using <code>async</code>, <code>launch</code> or <code>produce</code>. You can check specific builder documentation to check whether it supports <code>Job</code>), then you have <code>Job</code> in your <code>coroutineContext</code>.</p>\n\n<p>But if you launched coroutine in another way, e.g. using stdlib <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines.experimental/-sequence-builder/index.html\" rel=\"nofollow noreferrer\"><code>buildSequence</code></a>, then coroutine context will not contain job.</p>\n"}], "owner": {"reputation": 1237, "user_id": 3998718, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/61af86922698a8cd422f77ae2343d2a5?s=128&d=identicon&r=PG&f=1", "display_name": "kptlronyttcna", "link": "https://stackoverflow.com/users/3998718/kptlronyttcna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 50212002, "answer_count": 1, "score": 3, "last_activity_date": 1525688680, "creation_date": 1525531325, "last_edit_date": 1525536666, "question_id": 50190644, "link": "https://stackoverflow.com/questions/50190644/do-all-suspend-functions-have-a-job", "title": "Do all suspend functions have a Job?", "body": "<p>Is <code>coroutineContext[Job]!!</code> safe to use inside a <code>suspend</code> function? Do all suspend functions have a Job?</p>\n"}, {"tags": ["kotlin", "jsoup"], "comments": [{"owner": {"reputation": 5029, "user_id": 3426328, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b306774adff9e7ab90e862a28053a8a0?s=128&d=identicon&r=PG&f=1", "display_name": "TDG", "link": "https://stackoverflow.com/users/3426328/tdg"}, "edited": false, "score": 2, "creation_date": 1525525096, "post_id": 50189638, "comment_id": 87396193, "body": "The site can be accessed only from Singapore so I cannot test it myself. Try the following - 1. block JS on your browser and reload it. If you cannot see the value you need - it is JS, so try to use PhantomJS or Selenium. 2. If you do see the value try to send the <code>userAgent</code> string of your browser with the <code>get</code> request. 3. Open the developer tools and check which HTML files are downloaded to your browser - maybe you are looking at the wrong place."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525540840, "post_id": 50189638, "comment_id": 87401121, "body": "User agent filtering is very common (especially for something that is so inefficient)"}, {"owner": {"reputation": 3838, "user_id": 4931657, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d1e440a833641ec34231e7a7f9e6ab9e?s=128&d=identicon&r=PG&f=1", "display_name": "jake wong", "link": "https://stackoverflow.com/users/4931657/jake-wong"}, "reply_to_user": {"reputation": 5029, "user_id": 3426328, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b306774adff9e7ab90e862a28053a8a0?s=128&d=identicon&r=PG&f=1", "display_name": "TDG", "link": "https://stackoverflow.com/users/3426328/tdg"}, "edited": false, "score": 0, "creation_date": 1525584630, "post_id": 50189638, "comment_id": 87410013, "body": "@TDG Thanks for this, I tried your method to disable JS content, and indeed the values do not show.. So in that case I&#39;ll need to use PhantomJS or Selenium headless browsing to obtain the values right?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1525599890, "post_id": 50189638, "comment_id": 87413336, "body": "@jakewong Yeah, unless you can either parse the JS easily, or connect directly to where the data is being fetched from"}], "owner": {"reputation": 3838, "user_id": 4931657, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d1e440a833641ec34231e7a7f9e6ab9e?s=128&d=identicon&r=PG&f=1", "display_name": "jake wong", "link": "https://stackoverflow.com/users/4931657/jake-wong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1810, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1613232453, "creation_date": 1525524549, "last_edit_date": 1613232453, "question_id": 50189638, "link": "https://stackoverflow.com/questions/50189638/web-scraping-with-jsoup-in-kotlin", "title": "Web scraping with Jsoup in Kotlin", "body": "<p>I am trying to scrape this <a href=\"https://online.singaporepools.com/lottery/en/home\" rel=\"nofollow noreferrer\">website</a> as part of my lesson to learn about kotlin and web scraping (using <code>jsoup</code>).</p>\n<p>What I am trying to scrape is to scrape is the <code>Jackpot $1,000,000 est.</code> values.</p>\n<p>The below code was something that I wrote after searching and checking out a couple of tutorials online, but it won't even give me <code>$1,000,000</code> (which was what this code was trying to scrape)</p>\n<pre><code>Jsoup.connect(&quot;https://online.singaporepools.com/lottery/en/home&quot;).get().run {\n    select(&quot;div.slab__text slab__text--highlight&quot;).forEachIndexed { index, element -&gt;\n        val titleAnchor = element.select(&quot;div&quot;)\n        val title = titleAnchor.text()\n        println(&quot;$index. $title&quot;)\n    }\n</code></pre>\n<p>My first thought is that maybe this website is using javascript that's why it was not successful.</p>\n<p>How should I be going about scraping it?</p>\n"}, {"tags": ["kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1525529066, "post_id": 50190154, "comment_id": 87397375, "body": "It works as I expected. Thank you for the operator list page, too."}], "tags": [], "owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "is_accepted": true, "score": 0, "last_activity_date": 1525528468, "last_edit_date": 1525528468, "creation_date": 1525527981, "answer_id": 50190154, "question_id": 50189144, "link": "https://stackoverflow.com/questions/50189144/do-when-any-of-n-events-happens-but-using-the-last-result-of-all-other-events/50190154#50190154", "title": "Do when any of N events happens, but using the last result of all other events", "body": "<p>The problem with your solution is that <code>zip</code> (<a href=\"http://reactivex.io/documentation/operators/zip.html\" rel=\"nofollow noreferrer\">docs</a>) only uses elements once. If you merge streams [A1] and [B1,B2,B3] it will only produce [(A1,B2)] and then wait for the next A, even though the next B's are already available.</p>\n\n<p>However, the operator <code>combineLatest</code> (<a href=\"http://reactivex.io/documentation/operators/combinelatest.html\" rel=\"nofollow noreferrer\">docs</a>) can achieve the desired behavior:</p>\n\n<pre><code>Observable.combineLatest(o1, o2, o3, Function3&lt;String, String, String, String&gt; {\n    t1, t2, t3 -&gt; arrayOf(t1, t2, t3).joinToString(\" \")\n}).subscribe {\n    println(it)\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>bart loves doughnut\nmarge loves doughnut\nmarge hates doughnut\nmarge hates pie\nmarge hates cake\nmarge sees cake\nDone\n</code></pre>\n\n<p>As a general recommendation: check out <em>all</em> the <a href=\"http://reactivex.io/documentation/operators.html\" rel=\"nofollow noreferrer\">available operators</a> in ReactiveX. The graphical documentation is very intuitive. In the end, these are the basic building blocks you want to <em>fully</em> understand to realize more complex behavior.</p>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 50190154, "answer_count": 1, "score": 0, "last_activity_date": 1525528468, "creation_date": 1525521302, "last_edit_date": 1525527368, "question_id": 50189144, "link": "https://stackoverflow.com/questions/50189144/do-when-any-of-n-events-happens-but-using-the-last-result-of-all-other-events", "title": "Do when any of N events happens, but using the last result of all other events", "body": "<p>Let's say that there are N events. Can I do something when an event E happens, where E is an event in the N events, but only after each of the events has happened at least once, and use the last result for each event?</p>\n\n<p>I have tried the code below, expecting the result would be like that in the comments</p>\n\n<pre><code>val o1 = PublishSubject.create&lt;String&gt;();\nval o2 = PublishSubject.create&lt;String&gt;();\nval o3 = PublishSubject.create&lt;String&gt;();\n\nObservable.zip(o1,o2,o3,\n        Function3&lt;String, String, String, Array&lt;String&gt;&gt; { t1, t2, t3 -&gt; arrayOf(t1,t2,t3); })\n        .observeOn(Schedulers.computation())\n        .subscribe { t1 -&gt;\n            Log.d(\"so\", \"Result = \" + t1.joinToString(\" \"));\n        }\n\no1?.onNext(\"homer\"); //o2 and o3 have not been ready.\nThread.sleep(1000);\no1?.onNext(\"bart\");  //o2 and o3 have not been ready.\nThread.sleep(1000);\no3?.onNext(\"doughnut\"); //o2 has not been ready.\nThread.sleep(1000);\no2?.onNext(\"loves\"); //at this point, print \"Result = bart loves doughnut\". \n                     //The last value of o1 is \"bart\",\n                     //and the last value of o3 is \"doughnut\"\nThread.sleep(1000);\no1?.onNext(\"marge\"); //marge loves doughnut\nThread.sleep(1000);\no2?.onNext(\"hates\"); //marge hates doughnut\nThread.sleep(1000);\no3?.onNext(\"pie\");   //marge hates pie\nThread.sleep(1000);\no3?.onNext(\"cake\");  //marge hates cake\nThread.sleep(1000);\no2?.onNext(\"sees\");  //marge sees cake\nThread.sleep(1000);\n\nLog.d(\"so\", \"Done\");\n</code></pre>\n\n<p>But the actual result was</p>\n\n<pre><code>Result = homer loves doughnut\nResult = bart hates pie\nResult = marge sees cake\nDone\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1525518985, "post_id": 50188723, "comment_id": 87394376, "body": "It works. Also, thank you for the PublishSubject tip."}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 0, "last_activity_date": 1525518392, "creation_date": 1525518392, "answer_id": 50188723, "question_id": 50188665, "link": "https://stackoverflow.com/questions/50188665/how-to-zips1-o1-where-s1-happens-only-once-and-o1-happens-multiple-times/50188723#50188723", "title": "How to Zip(s1, o1) where s1 happens only once and o1 happens multiple times?", "body": "<p>Use <code>flatMap</code>:</p>\n\n<pre><code>s1.flatMapObservable({ t1 -&gt; o2.map({ t2 -&gt; arrayOf(t1, t2) }) })\n</code></pre>\n\n<p>Also use <code>PublishSubject</code> instead of sneaking out the emitter:</p>\n\n<pre><code>val o2 = PublishSubject.create();\n\ns1.flatMapObservable({ t1 -&gt; o2.map({ t2 -&gt; arrayOf(t1, t2) }) })\n.subscribe { t1 -&gt;\n    Log.d(\"so\", \"Result = \" + t1.joinToString(\",\"));\n}\n\no2.onNext(\"homer\");\no2.onNext(\"marge\");\no2.onNext(\"bart\");\n\nLog.d(\"so\", \"Done\");\n</code></pre>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 50188723, "answer_count": 1, "score": 0, "last_activity_date": 1525527340, "creation_date": 1525517786, "last_edit_date": 1525527340, "question_id": 50188665, "link": "https://stackoverflow.com/questions/50188665/how-to-zips1-o1-where-s1-happens-only-once-and-o1-happens-multiple-times", "title": "How to Zip(s1, o1) where s1 happens only once and o1 happens multiple times?", "body": "<p>Let's say that I need to do when s1 and o1 have completed, but s1 happens only once and o1 happens multiple times, and I need to do something each time o1 happens. How can I do that?</p>\n\n<p>I have tried the following code,</p>\n\n<pre><code>val s1 = Single.fromCallable {\n    Log.d(\"so\",\"executing s1\");\n    \"hello\";\n}.cache();\n\nvar emitter:ObservableEmitter&lt;String&gt;? = null;\nval o1 = Observable.create&lt;String&gt; {\n    emitter = it;\n}\n\nObservable.zip(s1.toObservable(),o1,\n        BiFunction&lt;String, String, Array&lt;String&gt;&gt;() { t1, t2 -&gt; arrayOf(t1,t2); })\n        .subscribe { t1 -&gt;\n            Log.d(\"so\", \"Result = \" + t1.joinToString(\",\"));\n        }\n\nemitter?.onNext(\"homer\");\nemitter?.onNext(\"marge\");\nemitter?.onNext(\"bart\");\nLog.d(\"so\", \"Done\");\n</code></pre>\n\n<p>But the result was</p>\n\n<pre><code>executing s1,\nResult = hello,homer\nDone\n</code></pre>\n\n<p>When the result I expected was</p>\n\n<pre><code>executing s1,\nResult = hello,homer\nResult = hello,marge\nResult = hello,bart\nDone\n</code></pre>\n"}, {"tags": ["kotlin", "flyway", "kotlin-exposed"], "answers": [{"comments": [{"owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "edited": false, "score": 0, "creation_date": 1525508634, "post_id": 50187218, "comment_id": 87391226, "body": "Thanks for answer In my database, Flyway create a table <b>flyway_schema_history</b>.  but   Flyway doesn&#39;t create SQL file  in my  project"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "reply_to_user": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "edited": false, "score": 0, "creation_date": 1525508793, "post_id": 50187218, "comment_id": 87391269, "body": "<i>You</i> create SQL files. Flyway just runs them, on your behalf, in the order determined by the prescribed version-number file-naming convention. I suggest studying the documentation to understand the purpose and operation of Flyway."}], "tags": [], "owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "is_accepted": true, "score": 3, "last_activity_date": 1525627796, "last_edit_date": 1525627796, "creation_date": 1525507774, "answer_id": 50187218, "question_id": 50187155, "link": "https://stackoverflow.com/questions/50187155/flywaydb-error-in-kotlin/50187218#50187218", "title": "Flywaydb error in kotlin", "body": "<blockquote>\n  <p>Found non-empty schema(s) \"public\" without schema history table! Use <code>baseline()</code> or set <code>baselineOnMigrate</code> to true to initialize the schema history table.  </p>\n</blockquote>\n\n<p>That error message pretty much says it all. You seem to be running Flyway on a database already populated with tables. </p>\n\n<p>By default, Flyway expects to be run on a brand-new database, in a <a href=\"https://en.wikipedia.org/wiki/Greenfield_project\" rel=\"nofollow noreferrer\">greenfield project</a>. Flyway installs its own table first, for its internal tracking. This is the \u201cschema history table\u201d mentioned in your error message. After installing its own table, Flyway runs your SQL scripts creating further tables. </p>\n\n<p>If adding Flyway to an existing database, choose either solution:</p>\n\n<ul>\n<li>Recreate your database from scratch, starting with an empty database, running Flyway first, then writing and executing SQL scripts to recreate all the elements of your old database, and finally importing existing data.</li>\n<li>Read about Flyway <em>baseline</em> feature, just as the error message suggested.</li>\n</ul>\n"}], "owner": {"reputation": 1079, "user_id": 2585074, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/uHHKt.png?s=128&g=1", "display_name": "Mohammad Daliri", "link": "https://stackoverflow.com/users/2585074/mohammad-daliri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 0, "accepted_answer_id": 50187218, "answer_count": 1, "score": 0, "last_activity_date": 1525627796, "creation_date": 1525507358, "question_id": 50187155, "link": "https://stackoverflow.com/questions/50187155/flywaydb-error-in-kotlin", "title": "Flywaydb error in kotlin", "body": "<p>I want to use <a href=\"https://flywaydb.org/\" rel=\"nofollow noreferrer\">flywaydb</a> in Kotlin but I have an error in use <br>\nMy database is PostgreSQL and my ORM is <a href=\"https://github.com/JetBrains/Exposed\" rel=\"nofollow noreferrer\">Kotlin Exposed</a></p>\n\n<p>Code:</p>\n\n<pre><code>val url = \"jdbc:postgresql://127.0.0.1/test1\"\n    Database.connect(url, driver = \"org.postgresql.Driver\", user = \"postgres\", password = \"123\")\n\n    var flyway =  Flyway()\n    flyway.setDataSource(url, \"postgres\", \"123\")\n    flyway.migrate()      \n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" org.flywaydb.core.api.FlywayException:\n  Found non-empty schema(s) \"public\" without schema history table! Use\n  baseline() or set baselineOnMigrate to true to initialize the schema\n  history table.    at\n  org.flywaydb.core.Flyway$1.execute(Flyway.java:1197)  at\n  org.flywaydb.core.Flyway$1.execute(Flyway.java:1168)  at\n  org.flywaydb.core.Flyway.execute(Flyway.java:1655)    at\n  org.flywaydb.core.Flyway.migrate(Flyway.java:1168)</p>\n</blockquote>\n\n<p>How can I solve it? Where is my code wrong?</p>\n"}, {"tags": ["types", "kotlin", "mismatch"], "comments": [{"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1525515865, "post_id": 50186066, "comment_id": 87393437, "body": "Can you show where you specify <code>peerConnection</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "is_accepted": true, "score": 2, "last_activity_date": 1525515921, "creation_date": 1525515921, "answer_id": 50188396, "question_id": 50186066, "link": "https://stackoverflow.com/questions/50186066/kotlin-type-mismatch-and/50188396#50188396", "title": "Kotlin type mismatch !! and?", "body": "<p>Most probably because earlier you have declare the variable as not nullable:</p>\n\n<pre><code>var peerConnection: PeerConnection\n</code></pre>\n\n<p>And that means you cannot assign a <code>@Nullable</code>value to that variable.\nChange that to:</p>\n\n<pre><code>var peerConnection: PeerConnection?\n</code></pre>\n\n<p>Or you can force the value being returned to be non-null, (which I do not recommend) in which case:</p>\n\n<pre><code>peerConnection = peerConnectionFactory.createPeerConnection(rtcConfig, getPeerConnectionMediaConstraints(), videoPeerConnectionListener)!!\n</code></pre>\n\n<p>Notice the <code>!!</code> at the end.</p>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 2, "last_activity_date": 1525517895, "creation_date": 1525517895, "answer_id": 50188678, "question_id": 50186066, "link": "https://stackoverflow.com/questions/50186066/kotlin-type-mismatch-and/50188678#50188678", "title": "Kotlin type mismatch !! and?", "body": "<p>Since the method is nullable, this means it has a chance of returning null. This means you cannot declare it as a non-null <code>PeerConnection</code>. You have three choices here:</p>\n\n<ol>\n<li>Declare the var as <code>PeerConnection?</code> - this means you accept nullable values</li>\n<li>Use non-null assertion with <code>!!</code>. At the end of the call to <code>createPeerConnection</code>, add <code>!!</code>. This throws an exception if it's null.</li>\n<li>Use the Elvis operator - add <code>?: [something to do here if it returns null without brackets]</code> after the call to <code>createPeerConnection</code>.</li>\n</ol>\n\n<p>If you need PeerConnection to be non-null, I recommend you pick the last option. It's also a recommended option if you're checking for null, as:</p>\n\n<pre><code>var someNullableVar = getPossibleNull()\nif(someNullableVar == null) someNullableVar = whatever();\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>var nonNullVar = getPossibleNull() ?: whatever()\n</code></pre>\n\n<p>You can also return and stop continued execution, but if you want to throw an exception, use <code>!!</code> instead of the Elvis operator. </p>\n\n<p>If you pick option #1 though, note that this means you'll have to do null checks on calls later.</p>\n"}], "owner": {"reputation": 23, "user_id": 9664651, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Yan Rad", "link": "https://stackoverflow.com/users/9664651/yan-rad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6290, "favorite_count": 0, "accepted_answer_id": 50188396, "answer_count": 2, "score": 2, "last_activity_date": 1525517895, "creation_date": 1525498272, "last_edit_date": 1525514077, "question_id": 50186066, "link": "https://stackoverflow.com/questions/50186066/kotlin-type-mismatch-and", "title": "Kotlin type mismatch !! and?", "body": "<p>I just recently started studying kotlin and when I changed  Webrtc release  to a newer one(1.0.22920) encountered  following problem:</p>\n\n<pre><code> Type mismatch: inferred type is PeerConnection? but PeerConnection was expected\n</code></pre>\n\n<p>Here is the part of code where the error occurs:</p>\n\n<pre><code>val rtcConfig = PeerConnection.RTCConfiguration(iceServers)\npeerConnection = peerConnectionFactory.createPeerConnection(rtcConfig, getPeerConnectionMediaConstraints(), videoPeerConnectionListener)\n</code></pre>\n\n<p>Most likely this is due to the fact that in the Webrtc library createPeerConnection became @Nullable:</p>\n\n<pre><code>@Nullable\n      public PeerConnection createPeerConnection(RTCConfiguration rtcConfig, MediaConstraints constraints, Observer observer) {\n        long nativeObserver = PeerConnection.createNativePeerConnectionObserver(observer);\n        if (nativeObserver == 0L) {\n            return null;\n        } else {\n            long nativePeerConnection = nativeCreatePeerConnection(this.nativeFactory, rtcConfig, constraints, nativeObserver);\n            return nativePeerConnection == 0L ? null : new PeerConnection(nativePeerConnection);\n        }\n    }\n</code></pre>\n\n<p>Attempt to put ? and !! in different places did not work.</p>\n\n<p>I think that only my poor knowledge of kotlin separates me from solving the problem, can you help me?</p>\n"}]