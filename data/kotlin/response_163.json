[{"tags": ["javascript", "android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 51182, "user_id": 1468366, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2e313135581cf6ceaad355580af931f8?s=128&d=identicon&r=PG", "display_name": "MvG", "link": "https://stackoverflow.com/users/1468366/mvg"}, "edited": false, "score": 0, "creation_date": 1519259147, "post_id": 48917150, "comment_id": 84841889, "body": "Just found <a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/multiplatform.html</a> which appears to be the key to my question. Still need to try this out before I write it up as an answer of my own."}], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 9590596, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anton Bannykh", "link": "https://stackoverflow.com/users/9590596/anton-bannykh"}, "is_accepted": false, "score": 1, "last_activity_date": 1522759834, "creation_date": 1522759834, "answer_id": 49630554, "question_id": 48917150, "link": "https://stackoverflow.com/questions/48917150/android-and-web-app-sharing-kotlin-code/49630554#49630554", "title": "Android and Web App sharing Kotlin code", "body": "<p>I would recommend using <a href=\"https://blog.jetbrains.com/idea/2017/12/intellij-idea-2017-3-support-for-kotlin-multi-platform-projects/\" rel=\"nofollow noreferrer\">IDEA wizard</a> to create a simple multiplatfrom project for you (File -> New -> Project -> Kotlin -> Kotlin (Multiplatform - experimental) ). Community edition should suffice.</p>\n\n<p>Answering your questions:</p>\n\n<ol>\n<li><p>You don't mix plugins. You create a separate module for your common code and use <code>'kotlin-platform-common'</code> plugin for it.</p></li>\n<li><p>Three modules, special plugin 'kotlin-platform-common'</p></li>\n<li><p>Use common sense for source splitting. Put whatever you want/able to reuse in the common code. Put platform-specific code in platform modules.</p></li>\n<li><p>No package restrictions. You can put everything in the same package if you so desire =)</p></li>\n<li><p>Pretty sure it should just work. If not, try re-importing.</p></li>\n</ol>\n"}], "owner": {"reputation": 51182, "user_id": 1468366, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2e313135581cf6ceaad355580af931f8?s=128&d=identicon&r=PG", "display_name": "MvG", "link": "https://stackoverflow.com/users/1468366/mvg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522759834, "creation_date": 1519255116, "last_edit_date": 1519255841, "question_id": 48917150, "link": "https://stackoverflow.com/questions/48917150/android-and-web-app-sharing-kotlin-code", "title": "Android and Web App sharing Kotlin code", "body": "<p>One of the major \u201cselling\u201d points of Kotlin appears to be its ability to compile both to JVM or Android and to JavaScript for the web. To make use of this, it should be possible to have a code base where some files are shared between an Android App and a browser Web App.</p>\n\n<p>However, so far I found little details on <em>how</em> such a thing would be set up, in particularly when working with Android Studio and its underlying Gradle setup, starting from a a run of the Android Studio New Project Wizard. I don't mind if I can only build the Web App on the command line, but I'd like to maintain the Android debugging hookups that Android Studio provides. So far I know very little about Gradle and typical idioms for its use.</p>\n\n<p>I'm sure that I'm not the first person to have this idea, so I'd like to know some best practices on how to set this up. Questions that come to my mind include the following:</p>\n\n<ul>\n<li>Do I mix the <code>kotlin2js</code> and the <code>kotlin-android</code> plugin in a single build file, or do I need to have multiple build files (perhaps I should say \u201cmodules\u201d or \u201cprojects\u201d except I don't know which)?</li>\n<li>If I have multiple build files, should that be two (one Android one Web) or three (one more for shared things)?\n\n<ul>\n<li>If it is two build files, how do I reference the shared sources?</li>\n<li>If it is three build files, which plugin(s) do I use for the shared one?</li>\n</ul></li>\n<li>Do I need to split my sources over three different source trees? Are there any conventions how these should be called?</li>\n<li>Do I need to split my classes into three groups of packages, or can code for different targets coexist in the same package?</li>\n<li>What configuration settings do I need to tweak to make the IDE aware of the layout of my project?</li>\n</ul>\n\n<p>I've read the following relevant documentation, among other:</p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html</a></li>\n<li><a href=\"https://docs.gradle.org/current/userguide/intro_multi_project_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/intro_multi_project_builds.html</a></li>\n<li><a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/composite_builds.html</a></li>\n<li><a href=\"https://kotlinlang.org/docs/tutorials/kotlin-android.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/kotlin-android.html</a></li>\n</ul>\n"}, {"tags": ["android", "kotlin", "android-volley", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519312743, "post_id": 48916892, "comment_id": 84868595, "body": "If it doesn&#39;t even reach <code>Log.d(&quot;findNaturalLocations&quot;, &quot;Response: &quot; + response)</code>, then it&#39;s not about coroutines at all, because it would reach that line with or without the coroutine being correctly resumed. Your callback simply fails to execute for other reasons."}, {"owner": {"reputation": 241, "user_id": 3510308, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001028262083/picture?type=large", "display_name": "ArdentZeal", "link": "https://stackoverflow.com/users/3510308/ardentzeal"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519393628, "post_id": 48916892, "comment_id": 84904736, "body": "Thansk for trying to be helpful, but that is not it. I tested it without and it works, see my original post. My assumption is that the networkrequest is done on a background thread and the result should be delivered to the thread which started the request and probably the coroutine is running on. this thread is still blocked by the waiting coroutine and never gets the result because of that, basically getting a deadlock."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519394145, "post_id": 48916892, "comment_id": 84905083, "body": "You didn&#39;t show the callback-based code that works. The coroutine isn&#39;t running on any thread after it&#39;s suspended (that&#39;s their reason of existence). If execution reached the <code>AFTERAFTER</code> statement, this is where the <code>testNaturalLocations</code> call ended with a <code>COROUTINE_SUSPENDED</code> return value. If it doesn&#39;t reach the log statement within the callback, that means the callback hasn&#39;t run. Maybe your wider code is doing something wrong and blocking the UI thread, but that&#39;s impossible to tell given the code you&#39;ve shown here."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519394751, "post_id": 48916892, "comment_id": 84905520, "body": "Ah I see, you refer to the second block as the &quot;simple callback&quot;, but that&#39;s just a trivial code without volley. It doesn&#39;t demonstrate anything relevant because you never even suspend the coroutine --- when you call <code>resume</code> from within <code>suspendCoroutine</code> block, it just returns the result right away, no suspension involved. The fact that you pass a lambda to <code>test</code> is beside the point, it&#39;s the same as if it were inlined. To demonstrate anything at all relevant you&#39;d have to involve another thread that executes your callback and resumes the continuation."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519402374, "post_id": 48916892, "comment_id": 84910591, "body": "Wait.. did you perhaps use <code>runBlocking</code> in your GUI code as well, and not just the simple example? Because that would immediately explain it."}, {"owner": {"reputation": 241, "user_id": 3510308, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001028262083/picture?type=large", "display_name": "ArdentZeal", "link": "https://stackoverflow.com/users/3510308/ardentzeal"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519410927, "post_id": 48916892, "comment_id": 84915049, "body": "<code>val query = async(CommonPool) {              this@CLTaskList.testNaturalLocations(tags[0], CLGlobal.getInstance().mLastKnownLocation!!)         }          runBlocking&lt;Unit&gt; {             query.await()         }</code> Yes I did, see above"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519411288, "post_id": 48916892, "comment_id": 84915215, "body": "This is the key information for your question, you should put it in the question."}], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 1, "last_activity_date": 1519411943, "last_edit_date": 1519411943, "creation_date": 1519411636, "answer_id": 48954385, "question_id": 48916892, "link": "https://stackoverflow.com/questions/48916892/suspending-a-kotlin-coroutine-does-not-work-with-volley/48954385#48954385", "title": "suspending a kotlin Coroutine does not work with volley", "body": "<p>As you reveal in your comment, this is how you run the query:</p>\n\n<pre><code>val query = async(CommonPool) { \n    this@CLTaskList.testNaturalLocations(tags[0], \n         CLGlobal.getInstance().mLastKnownLocation!!) \n} \nrunBlocking&lt;Unit&gt; { query.await() }\n</code></pre>\n\n<p>You are close to getting it right, but this piece of code is all backwards:</p>\n\n<ol>\n<li>You let the suspendable function run in a thread pool, relieving some worker thread of the duty to block until you get your answer (it wouldn't care if it's blocked);</li>\n<li>You block your GUI thread with <code>runBlocking</code>.</li>\n</ol>\n\n<p>In the correct solution you need none of <code>async</code>, <code>CommonPool</code> or <code>runBlocking</code>, all you need is this:</p>\n\n<pre><code>launch(UI) {\n    val result = testNaturalLocations(tags[0], \n       CLGlobal.getInstance().mLastKnownLocation!!)\n    // deal with the result right here\n}\n</code></pre>\n\n<p>Since <code>testNaturalLocations</code> is a suspendable function, it's not blocking your UI thread, and when the callback you wrote resumes it, your code simply goes on to the next line, with <code>result</code> assigned.</p>\n"}], "owner": {"reputation": 241, "user_id": 3510308, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001028262083/picture?type=large", "display_name": "ArdentZeal", "link": "https://stackoverflow.com/users/3510308/ardentzeal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "accepted_answer_id": 48954385, "answer_count": 1, "score": 0, "last_activity_date": 1552981269, "creation_date": 1519253577, "last_edit_date": 1552981269, "question_id": 48916892, "link": "https://stackoverflow.com/questions/48916892/suspending-a-kotlin-coroutine-does-not-work-with-volley", "title": "suspending a kotlin Coroutine does not work with volley", "body": "<p>I wrote following (test) function to talk to the google maps api via volley and with coroutines. Sadly it never finishes when calling it with the suspendCoroutine. If I use the same function, drop the coroutine stuff and implement a \"normal\" callback, everything works fine. I am kind of at a loss whats the problem here. Is anybody able to help?</p>\n\n<p>Code executes until Log.d(LOGTAG, \"AFTERAFTER\"), but never reaches Log.d(\"findNaturalLocations\", \"Response: \" + response)</p>\n\n\n\n<pre><code>suspend fun testNaturalLocations(tag: Tag, lastKnownUserLocation: \nLocation): ArrayList&lt;CLDistanceRequest&gt; = suspendCoroutine { \ncontinuation -&gt;\n\n    Log.d(\"findNaturalLocations\", \"getDistanceAndTimeBetweenLocations\")\n\n    var distanceRequests = ArrayList&lt;CLDistanceRequest&gt;()\n\n    val mapsBaseUrl = \"https://maps.googleapis.com/maps/api/place/nearbysearch/\"\n    val mapsOutputFormat = \"json\"\n\n    val location = \"location=\" + lastKnownUserLocation.latitude.toString() + \",\" + lastKnownUserLocation.longitude.toString()\n    val radius = \"radius=5000\"\n    val keyword = \"keyword=Supermarket\"\n    val name = \"name=Supermarket\"\n    val sensor = \"sensor=true\"\n    val apiKey = \"key=API_KEY\"\n\n    val finishedUrl = mapsBaseUrl + mapsOutputFormat + \"?\" + location + \"&amp;\" + radius + \"&amp;\" + keyword + \"&amp;\" + name + \"&amp;\" + sensor + \"&amp;\" + apiKey\n\n    Log.d(LOGTAG, finishedUrl)\n\n    val jsObjectRequest = JsonObjectRequest(Request.Method.GET, finishedUrl, null,\n            Response.Listener&lt;JSONObject&gt; { response -&gt;\n                Log.d(\"findNaturalLocations\", \"Response: \" + response)\n\n                var results = response.getJSONArray(\"results\")\n\n                // parse distanceRequests, ommitted for brevity\n\n                continuation.resume(distanceRequests)\n            },\n            Response.ErrorListener { error -&gt;\n                Log.e(\"Error\", error.localizedMessage, error)\n\n                continuation.resumeWithException(error)\n            }\n    )\n\n    Log.d(LOGTAG, \"AFTER\");\n\n    jsObjectRequest.setShouldCache(false)\n    CLGlobal.getRequestQueue().add(jsObjectRequest)\n\n    Log.d(LOGTAG, \"AFTERAFTER\");\n}\n</code></pre>\n\n<p>Doing the same with a simple callback works flawlessly.</p>\n\n<pre><code>var i = 0;\n    runBlocking {\n        val query = async(CommonPool) {\n            i = this@CLTaskList.test2()\n        }\n\n        query.await()\n    }\n\nsuspend fun test2():Int = suspendCoroutine&lt;Int&gt; { continuation -&gt;\n    Log.d(\"TESTTEST\", \"TEST2 CALLED\")\n    test {\n        Log.d(\"TESTTEST\", \"CONTINUATION\")\n        continuation.resume(it)\n    }\n}\n\nfun test(completionHandler: (Int) -&gt; Unit) {\n    Log.d(\"TESTTEST\", \"TEST CALLED\")\n    completionHandler(1)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 294, "user_id": 5112812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b66c1bafeabe5d49923c568e63e0d3?s=128&d=identicon&r=PG&f=1", "display_name": "engmms", "link": "https://stackoverflow.com/users/5112812/engmms"}, "edited": false, "score": 0, "creation_date": 1519326372, "post_id": 48924852, "comment_id": 84877290, "body": "I need to display image..from R.drawable.mypic...as example..                 val imageView = itemView.findViewById(R.id.image_item) as ImageView        imageView.setImageResource(pic: id )...your code not refer to any image"}, {"owner": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "reply_to_user": {"reputation": 294, "user_id": 5112812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b66c1bafeabe5d49923c568e63e0d3?s=128&d=identicon&r=PG&f=1", "display_name": "engmms", "link": "https://stackoverflow.com/users/5112812/engmms"}, "edited": false, "score": 0, "creation_date": 1519364760, "post_id": 48924852, "comment_id": 84890497, "body": "you have only one image? or more than one..? If you have more than one image, then you need to save it into data class first as an integer."}, {"owner": {"reputation": 294, "user_id": 5112812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b66c1bafeabe5d49923c568e63e0d3?s=128&d=identicon&r=PG&f=1", "display_name": "engmms", "link": "https://stackoverflow.com/users/5112812/engmms"}, "edited": false, "score": 0, "creation_date": 1519845785, "post_id": 48924852, "comment_id": 85079107, "body": "thanks..@Saritha G...your replay help me to solve the problem"}], "tags": [], "owner": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "is_accepted": true, "score": 0, "last_activity_date": 1519364820, "last_edit_date": 1519364820, "creation_date": 1519294673, "answer_id": 48924852, "question_id": 48915350, "link": "https://stackoverflow.com/questions/48915350/data-class-in-kotlin/48924852#48924852", "title": "Data Class in Kotlin", "body": "<p>Data Class should have generic type data, but in your code you are trying to save ImageView.\nBelow is the sample data class:</p>\n\n<pre><code> data class User(val name: String, val pic: Int)\n</code></pre>\n\n<p>And also adding adapter code below:</p>\n\n<pre><code>class HelpAdapter : RecyclerView.Adapter&lt;HelpAdapter.ViewHolder&gt;() {\n\noverride fun getItemCount() = 10\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n\nval view =LayoutInflater.from(parent.context).inflate(R.layout.row_navigation_menu,parent,false)\n    return ViewHolder(view)\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    //here add data to the views\n    //If your have list of user data, then you can each user like \n    val user = usersData[position]\n    holder.nameTV.text = user.name\n    holder.imageView.setImageResource(user.pic)\n}\n\n inner class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    val nameTV = view.tv_name\n    val imageView = view.iv_pic\n }\n}\n</code></pre>\n"}], "owner": {"reputation": 294, "user_id": 5112812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48b66c1bafeabe5d49923c568e63e0d3?s=128&d=identicon&r=PG&f=1", "display_name": "engmms", "link": "https://stackoverflow.com/users/5112812/engmms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "accepted_answer_id": 48924852, "answer_count": 1, "score": -3, "last_activity_date": 1519364820, "creation_date": 1519246741, "last_edit_date": 1519250634, "question_id": 48915350, "link": "https://stackoverflow.com/questions/48915350/data-class-in-kotlin", "title": "Data Class in Kotlin", "body": "<p>I need to display image by use Data class </p>\n\n<p>I confused in data class I deal with image as image or Int\ndata class User(val pic : Image)</p>\n\n<p>or\ndata class User(val pic : Int)</p>\n\n<p>and display it throw CustomAdapter</p>\n\n<pre><code>  class CustomAdapter(val userList: ArrayList&lt;User&gt;) :      RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {   \n  class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n override fun onCreateViewHolder(parent: ViewGroup, viewType: Int):    CustomAdapter.ViewHolder {\n    val v =  LayoutInflater.from(parent.context).inflate(R.layout.list_layout, parent, false)\n    return ViewHolder(v)\n\n     fun bindItems(user: User) {\n\n  val imageView = itemView.findViewById(R.id.image_item) as ImageView\n\n        imageView.setImageResource(pic: )\n\n\n    }\n\n}\n</code></pre>\n\n<p>I know my code not complete\nso I need just example to demonstrate images in Data Class</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mockito", "android-architecture-components"], "comments": [{"owner": {"reputation": 924, "user_id": 2545800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ec80904ce1ba59655dd73f781ab4e6?s=128&d=identicon&r=PG", "display_name": "Shamm", "link": "https://stackoverflow.com/users/2545800/shamm"}, "edited": false, "score": 0, "creation_date": 1519729760, "post_id": 48914977, "comment_id": 85018888, "body": "First of all - you don&#39;t need this casting  &quot;any(Resource::class.java) as Resource&lt;Member&gt;&quot;"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "reply_to_user": {"reputation": 924, "user_id": 2545800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ec80904ce1ba59655dd73f781ab4e6?s=128&d=identicon&r=PG", "display_name": "Shamm", "link": "https://stackoverflow.com/users/2545800/shamm"}, "edited": false, "score": 0, "creation_date": 1519759006, "post_id": 48914977, "comment_id": 85037512, "body": "Without the cast there&#39;s compilation error: <code>Type inference failed. Expected type mismatch: inferred type is Resource&lt;*&gt; but Resource&lt;Member&gt;? was expected</code>"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "reply_to_user": {"reputation": 924, "user_id": 2545800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ec80904ce1ba59655dd73f781ab4e6?s=128&d=identicon&r=PG", "display_name": "Shamm", "link": "https://stackoverflow.com/users/2545800/shamm"}, "edited": false, "score": 0, "creation_date": 1519761710, "post_id": 48914977, "comment_id": 85038990, "body": "Maybe I&#39;m misunderstanding the purpose of <code>any(Class&lt;T&gt;)</code> here. Is <code>fun &lt;T&gt; any(): T = Mockito.any&lt;T&gt;()</code> actually the kotlin-safe equivalent? I assumed it was not because the java code calls <code>Mockito.any&lt;T&gt;(Class&lt;T&gt;)</code>"}, {"owner": {"reputation": 924, "user_id": 2545800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ec80904ce1ba59655dd73f781ab4e6?s=128&d=identicon&r=PG", "display_name": "Shamm", "link": "https://stackoverflow.com/users/2545800/shamm"}, "edited": false, "score": 0, "creation_date": 1519772820, "post_id": 48914977, "comment_id": 85044010, "body": "Got it. The thing is that you are using generic as a type. So you can ommit the type paramiter and use just any() from your <code>MockitoKotlinHelpers.kt</code> then you lose the type check which I beleive is not that critical. Or you can wrap generic in non-generic class."}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "reply_to_user": {"reputation": 924, "user_id": 2545800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ec80904ce1ba59655dd73f781ab4e6?s=128&d=identicon&r=PG", "display_name": "Shamm", "link": "https://stackoverflow.com/users/2545800/shamm"}, "edited": false, "score": 0, "creation_date": 1519919078, "post_id": 48914977, "comment_id": 85111384, "body": "Thanks Shamm I think nhaarman&#39;s mockito-kotlin lib is the safest way to go here because of the other tailored functions it includes. There was much confusion over that vs Mockito vs the MockitoKotlinHelpers file and I suspect unit testing in Kotlin will all change soon anyway! Thanks again I will add an edit + understanding"}], "answers": [{"comments": [{"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1519684129, "post_id": 48992369, "comment_id": 85001732, "body": "Thanks Shamm, so I do actually have the <code>MockitoKotlinHelpers.kt</code> in place, and had attempted my own <code>any()</code> that looked very similar to yours: <code>inline fun &lt;reified T: Any&gt; any(type: Class&lt;T&gt;): T = Mockito.any&lt;T&gt;(T::class.java)</code> but have had no luck with either. I must be doing something else wrong, I&#39;ll add my current test to see if you spot anything"}], "tags": [], "owner": {"reputation": 924, "user_id": 2545800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ec80904ce1ba59655dd73f781ab4e6?s=128&d=identicon&r=PG", "display_name": "Shamm", "link": "https://stackoverflow.com/users/2545800/shamm"}, "is_accepted": true, "score": 1, "last_activity_date": 1519660873, "creation_date": 1519660873, "answer_id": 48992369, "question_id": 48914977, "link": "https://stackoverflow.com/questions/48914977/android-architecture-components-githubbrowsersample-unit-test-understanding/48992369#48992369", "title": "Android Architecture Components GithubBrowserSample unit test understanding", "body": "<p>You understood the test correctly. If you show your code it would be more clear to everybody to help you.</p>\n\n<p>But let me guess: you are trying to convert the java code into kotlin code. At some point you probably have Mockito.any() in the code to mock the behaviour or inside verify expression.\nIt is not possible just to use any() with kotlin. There is a thread about  how to solve this issue:\n<a href=\"https://stackoverflow.com/questions/30305217/is-it-possible-to-use-mockito-in-kotlin/48805160#48805160\">Is it possible to use Mockito in Kotlin?</a></p>\n"}, {"comments": [{"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1519760214, "post_id": 49005756, "comment_id": 85038165, "body": "Thanks Rob I tried nhaarman&#39;s lib but there seems to be no <code>any(Class&lt;T&gt;)</code> variant which is what this function requires, just an the null safe <code>any()</code>, which seems to be the same as the one in the MockitoKotlinHelpers.kt file"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1519762967, "post_id": 49005756, "comment_id": 85039627, "body": "Ah sorry I get it now it goes nhaarman&#39;s <code>any()</code> implementation tries <code>Mockito.any(T::class.java)</code> and if that&#39;s null it creates a safe non null reference..."}, {"owner": {"reputation": 4056, "user_id": 635075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KsEUG.jpg?s=128&g=1", "display_name": "Rob Pridham", "link": "https://stackoverflow.com/users/635075/rob-pridham"}, "reply_to_user": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1519766501, "post_id": 49005756, "comment_id": 85041399, "body": "For a little clarity, <code>any()</code> matches any non-null value. There&#39;s also <code>anyOrNull()</code> that obviously matches null as well. Matchers are slightly counter-intuitive and when you get into it, you will probably find that <code>any&lt;YourClass&gt;() </code>actually matches things that are not YourClass. For type matching you want <code>isA&lt;YourClass&gt;()</code>. Fun eh!"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1519912904, "post_id": 49005756, "comment_id": 85107066, "body": "Thanks Rob that&#39;s very informative. To add confusion or clarity I <i>think</i> the class variant of <code>any</code> might be safe now since Mockito 2, but I could be wrong: <a href=\"https://stackoverflow.com/questions/30890011/whats-the-difference-between-mockito-matchers-isa-any-eq-and-same/30898813\" title=\"whats the difference between mockito matchers isa any eq and same\">stackoverflow.com/questions/30890011/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4056, "user_id": 635075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KsEUG.jpg?s=128&g=1", "display_name": "Rob Pridham", "link": "https://stackoverflow.com/users/635075/rob-pridham"}, "is_accepted": false, "score": 1, "last_activity_date": 1519725201, "creation_date": 1519725201, "answer_id": 49005756, "question_id": 48914977, "link": "https://stackoverflow.com/questions/48914977/android-architecture-components-githubbrowsersample-unit-test-understanding/49005756#49005756", "title": "Android Architecture Components GithubBrowserSample unit test understanding", "body": "<p>Your assessment of the test's operation is broadly correct, except that it doesn't necessarily mean that <code>onChanged</code> is being called with null.</p>\n\n<p>To detail my experience, there is a set of extensions for Mockito in Kotlin that provide better compatibility with the Kotlin language, as well as improving test syntax.</p>\n\n<p><a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">https://github.com/nhaarman/mockito-kotlin</a></p>\n\n<p>We use these and I recommend them. However we have found that if we aren't careful with imports, and we import:</p>\n\n<p><code>import org.mockito.ArgumentMatchers.any</code></p>\n\n<p>instead of:</p>\n\n<p><code>import com.nhaarman.mockito_kotlin.any</code></p>\n\n<p>thus using a mixed set of Java classes &amp; Kotlin extensions, then we see the <code>ArgumentMatchers.any(T::class.java) must not be null</code> error that you've noted.</p>\n\n<p>Given that you are using <code>MockitoKotlinHelpers</code>, your case may very well be similar.</p>\n"}], "owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "accepted_answer_id": 48992369, "answer_count": 2, "score": 4, "last_activity_date": 1519920043, "creation_date": 1519245244, "last_edit_date": 1519920043, "question_id": 48914977, "link": "https://stackoverflow.com/questions/48914977/android-architecture-components-githubbrowsersample-unit-test-understanding", "title": "Android Architecture Components GithubBrowserSample unit test understanding", "body": "<p>Hi folks I'm trying to learn unit tests with Kotlin using <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/test/java/com/android/example/github/ui/user/UserViewModelTest.java\" rel=\"nofollow noreferrer\">Google's github browser sample as a base</a>. My code is very similar indeed but I can't get one of their more basic tests to work (and I don't really understand it).</p>\n\n<p>My main question is what preciesly is the <code>sendResultToUI()</code> test doing,</p>\n\n<pre><code>@Test\npublic void sendResultToUI() {\n    MutableLiveData&lt;Resource&lt;User&gt;&gt; foo = new MutableLiveData&lt;&gt;();\n    when(userRepository.loadUser(\"foo\")).thenReturn(foo);\n    Observer&lt;Resource&lt;User&gt;&gt; observer = mock(Observer.class);\n    userViewModel.getUser().observeForever(observer);\n    userViewModel.setLogin(\"foo\");\n    verify(observer, never()).onChanged(any(Resource.class));\n    User fooUser = TestUtil.createUser(\"foo\");\n    Resource&lt;User&gt; fooValue = Resource.success(fooUser);\n\n    foo.setValue(fooValue);\n    verify(observer).onChanged(fooValue);\n    reset(observer);\n}\n</code></pre>\n\n<p>from what I can tell, it says:</p>\n\n<ul>\n<li>a) When <code>loadUser(\"foo\")</code> is called, instead of executing the function\njust return a new live data guy called foo. </li>\n<li>b) Observe the <code>userViewModel.getUser()</code> live data  </li>\n<li>c) Call <code>setLogin(\"foo\")</code>, which triggers the live data and calls <code>loadUser(\"foo\")</code> </li>\n<li><strong>d) Verify the observer to <code>getUser()</code> we created earlier has never been fired by any instance of a Resource</strong> </li>\n<li>e) Create a successful foo user, verify that setting it's value triggers the <code>getUser()</code> observer</li>\n</ul>\n\n<p>So if all of that is roughly correct, my question is on step d). My code is throwing an exception:</p>\n\n<pre><code>java.lang.IllegalStateException: ArgumentMatchers.any(T::class.java) must not be null\n</code></pre>\n\n<p>So I guess <code>onChanged</code> is called with a null value. I really don't get what the hell is going on here - calling <code>setLogin()</code> in step c) triggers the user switchMap live data which in turn calls <code>userRepositiory.loadUser()</code>, so that <em>should</em> call the observer to <code>getUser()</code> yet we ask to verify the opposite (that it's never called). After all calling loadUser() returns foo which we specified in a). Maybe if someone can at least explain the test to me I might make sense of my own code!</p>\n\n<p><strong>Edit:</strong> Here is my own current unit test, the classes and models have changed but as far as I can tell the actual code is identical (I'm aware this can probably be more succinct, will worry about that later!)</p>\n\n<pre><code>    @Test\nfun `send result to UI`(){\n    val foo = MutableLiveData&lt;Resource&lt;Member&gt;&gt;()\n    `when`(interactor.callServerLoginRepo(email, password)).thenReturn(foo)\n    val observer: Observer&lt;Resource&lt;Member&gt;&gt; = mock()\n    loginViewModel.member.observeForever(observer)\n    loginViewModel.setLoginCredentials(email, password)\n    verify&lt;Observer&lt;Resource&lt;Member&gt;&gt;&gt;(observer, never()).onChanged(any(Resource::class.java) as Resource&lt;Member&gt;)\n    val fooUser = TestUtil.createMember(email)\n    val fooValue = Resource.success(fooUser)\n\n    foo.setValue(fooValue)\n    verify&lt;Observer&lt;Resource&lt;Member&gt;&gt;&gt;(observer).onChanged(fooValue)\n    reset&lt;Observer&lt;Resource&lt;Member&gt;&gt;&gt;(observer)\n}\n</code></pre>\n\n<p>MockitoHelpers.kt</p>\n\n<pre><code>fun &lt;T&gt; any(type: Class&lt;T&gt;): T = Mockito.any&lt;T&gt;(type)\n</code></pre>\n\n<p>The error is also subtly different:</p>\n\n<pre><code>kotlin.TypeCastException: null cannot be cast to non-null type app.core.sdk.data.remote.response.Resource&lt;app.core.sdk.data.model.db.Member&gt;\n\nat app.core.sdk.ui.login.LoginViewModelTest.send result to UI(LoginViewModelTest.kt:114)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)\n</code></pre>\n\n<p><strong>Edit 2, final code:</strong>\nSo it looks like my main issue here was the confusion over the different <code>any()</code> functions, basically I need a null safe call to <code>any()</code>, ideally one that can specify the matching class. The <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">Mockito-Kotlin</a> library looks like the safest route to go for the moment, because I need an <code>any</code> function which will be fallback to the class I specify and I think his version does so:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; any() = Mockito.any(T::class.java) ?: createInstance&lt;T&gt;()\n</code></pre>\n\n<p>I am assuming the reason the observer is fired with a null value is just something the <code>Mockito.any()</code> function does, and that's where Kotlin throws the exception.</p>\n\n<pre><code>    val foo = MutableLiveData&lt;Resource&lt;Member&gt;&gt;()\n    //When callServerLoginRepo() is called, return foo live data\n    `when`(interactor.callServerLoginRepo(email, password)).thenReturn(foo)\n    //Observe member live data\n    val observer: Observer&lt;Resource&lt;Member&gt;&gt; = mock()\n    loginViewModel.member.observeForever(observer)\n    //Fire setLoginCredentials, and make sure it didn't touch our observed 'member' live data\n    loginViewModel.setLoginCredentials(email, password)\n    verify(observer, never()).onChanged(any())\n    //Create a successful foo user, and set it's value\n    val fooUser = TestUtil.createMember(email)\n    val fooValue = Resource.success(fooUser)\n\n    foo.value = fooValue\n    //Ensure setting this did indeed trigger our live data\n    verify(observer).onChanged(fooValue)\n    reset(observer)\n</code></pre>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1519246234, "post_id": 48914809, "comment_id": 84836840, "body": "An alternative would be to define a keybinding for &quot;Add new Kotlin file/class&quot; directly, and skip the Alt+Ins part."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1522090359, "post_id": 48914809, "comment_id": 86001180, "body": "Did you find help?"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1519246510, "last_edit_date": 1519246510, "creation_date": 1519245961, "answer_id": 48915134, "question_id": 48914809, "link": "https://stackoverflow.com/questions/48914809/customize-order-of-add-new-elements-alt-ins/48915134#48915134", "title": "Customize order of &quot;Add new&quot; elements (ALT + Ins)", "body": "<p>It works as in <a href=\"https://www.jetbrains.com/help/idea/configuring-menus-and-toolbars.html\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a>:</p>\n\n<ol>\n<li>Right-click the main toolbar (that's where you can find Run/Debug buttons etc)</li>\n<li>Choose \"Customize Menus and Toolbars\"</li>\n<li>Go into \"Navigation Bar\" -> \"New\" (Other views might be desired, such as Projects)</li>\n<li>Change ordering as you prefer</li>\n<li>Restart might be needed</li>\n</ol>\n"}], "owner": {"reputation": 3050, "user_id": 1709752, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/LDxAu.jpg?s=128&g=1", "display_name": "Manza", "link": "https://stackoverflow.com/users/1709752/manza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519246510, "creation_date": 1519244561, "question_id": 48914809, "link": "https://stackoverflow.com/questions/48914809/customize-order-of-add-new-elements-alt-ins", "title": "Customize order of &quot;Add new&quot; elements (ALT + Ins)", "body": "<p>Clicking <code>ALT + Ins</code> shows a window where we can select what we want to add.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BMMwG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BMMwG.png\" alt=\"\"></a></p>\n\n<p>I was wondering, is there a way to <strong>change the order</strong> of these elements?</p>\n\n<p>In particular, since almost all new classes are in Kotlin, I'd like to have Kotlin as first option, so I won't have to click the down arrow to select it.</p>\n"}, {"tags": ["rest", "kotlin", "retrofit"], "answers": [{"tags": [], "owner": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1519298163, "creation_date": 1519298163, "answer_id": 48926072, "question_id": 48914516, "link": "https://stackoverflow.com/questions/48914516/kotlin-retrofit-simple-post-without-response/48926072#48926072", "title": "Kotlin &amp; Retrofit: Simple POST without Response", "body": "<p>Inside any function you have to call like:</p>\n\n<pre><code> fun resetPassword(email:String) {\n\n    val clientService = ClientService.create(APIConstants\n            .BASE_URL_WORKSPACE)\n    addSubscription(apiService.login(APIConstants.API_ACTION_LOGIN, userName, password,\n            deviceid), object : APICallback&lt;UserLoginResponse&gt;() {\n        override fun onSuccess(model: UserLoginResponse) {\n            if (TextUtils.isEmpty(model.errorMessage)) {\n                mvpView.getDataSuccess(model, apiRequestCode)\n            } else {\n                mvpView.getDataFail(model.errorMessage, apiRequestCode)\n            }\n        }\n\n        override fun onFailure(msg: String?) {\n            LogUtil.e(\"Login Failure()- \" + msg!!)\n        }\n\n        override fun onFinish() {}\n    })\n }\n</code></pre>\n\n<p>You will get the success response/result in onSuccess() method.</p>\n"}, {"comments": [{"owner": {"reputation": 826, "user_id": 3064995, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0afb21a71087a7a4b0d8ee4291e8023e?s=128&d=identicon&r=PG", "display_name": "KostasC", "link": "https://stackoverflow.com/users/3064995/kostasc"}, "edited": false, "score": 0, "creation_date": 1543136498, "post_id": 48948536, "comment_id": 93802784, "body": "What do you mean with the &quot;after on create&quot; comment in the MainActivity ? Do you mean in &quot;onResume&quot; function or at the end of &quot;OnCreate&quot; or something else ? And also which of the libraries you must import for the &quot;Callback&lt;Registration&gt;&quot; there are plenty of libraries that is suggested from the Android Studio ."}], "tags": [], "owner": {"reputation": 164, "user_id": 2638129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76edeca976419271795ad3550e64fbfe?s=128&d=identicon&r=PG&f=1", "display_name": "Arun", "link": "https://stackoverflow.com/users/2638129/arun"}, "is_accepted": true, "score": 12, "last_activity_date": 1538463646, "last_edit_date": 1538463646, "creation_date": 1519390924, "answer_id": 48948536, "question_id": 48914516, "link": "https://stackoverflow.com/questions/48914516/kotlin-retrofit-simple-post-without-response/48948536#48948536", "title": "Kotlin &amp; Retrofit: Simple POST without Response", "body": "<p>Try this example</p>\n\n<p>Under build.gradle:</p>\n\n<pre><code>   // retrofit\n\n    compile \"com.squareup.retrofit2:retrofit:2.3.0\"\n\n    compile \"com.squareup.retrofit2:adapter-rxjava2:2.3.0\"\n    compile \"com.squareup.retrofit2:converter-gson:2.3.0\"\n\n    // rxandroid\n\n    compile \"io.reactivex.rxjava2:rxandroid:2.0.1\"\n    compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'\n    compile 'com.squareup.okhttp3:okhttp:3.4.1'\n</code></pre>\n\n<p>Interface:</p>\n\n<pre><code>interface APIService {\n\n    @POST(\"register\")\n    @FormUrlEncoded\n    fun registrationPost(@Field(\"email\") email: String,\n                         @Field(\"password\") password: String): Call&lt;Registration&gt;}\n\n\n//**App Utils**\n\nobject ApiUtils {\n\n    val BASE_URL = \"your_url\"\n\n    val apiService: APIService\n        get() = RetrofitClient.getClient(BASE_URL)!!.create(APIService::class.java)\n\n}\n</code></pre>\n\n<p>Retrofit Client:</p>\n\n<pre><code>object RetrofitClient {\n\n    var retrofit: Retrofit? = null\n\n    fun getClient(baseUrl: String): Retrofit? {\n        if (retrofit == null) {\n            //TODO While release in Google Play Change the Level to NONE\n            val interceptor = HttpLoggingInterceptor()\n            interceptor.level = HttpLoggingInterceptor.Level.BODY\n            val client = OkHttpClient.Builder()\n                    .addInterceptor(interceptor)\n                    .connectTimeout(100, TimeUnit.SECONDS)\n                    .readTimeout(100, TimeUnit.SECONDS)\n                    .build()\n\n            retrofit = Retrofit.Builder()\n                    .client(client)\n                    .baseUrl(baseUrl)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n        }\n\n        return retrofit\n\n    }\n}\n</code></pre>\n\n<p>MainActivity</p>\n\n<pre><code>  //Variable declaration\n  var mAPIService: APIService? = null\n\n  //After oncreate\n\n   mAPIService = ApiUtils.apiService\n\n  //Some Button click\n\n       mAPIService!!.registrationPost(\"SampleTest2@gamil.com\", \"123456\").enqueue(object : Callback&lt;Registration&gt; {\n\n                override fun onResponse(call: Call&lt;Registration&gt;, response: Response&lt;Registration&gt;) {\n\n                    Log.i(\"\", \"post submitted to API.\" + response.body()!!)\n\n                    if (response.isSuccessful()) {\n\n                        Log.i(\"\", \"post registration to API\" + response.body()!!.toString())\n                        Log.i(\"\", \"post status to API\" + response.body()!!.status)\n                        Log.i(\"\", \"post msg to API\" + response.body()!!.messages)\n\n                    }\n                }\n\n                override fun onFailure(call: Call&lt;Registration&gt;, t: Throwable) {\n\n                }\n            })\n</code></pre>\n"}], "owner": {"reputation": 6553, "user_id": 997652, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0d9a921cf39951fe04c31ad1c7e30a29?s=128&d=identicon&r=PG", "display_name": "netshark1000", "link": "https://stackoverflow.com/users/997652/netshark1000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18471, "favorite_count": 0, "accepted_answer_id": 48948536, "answer_count": 2, "score": 6, "last_activity_date": 1538463646, "creation_date": 1519243478, "question_id": 48914516, "link": "https://stackoverflow.com/questions/48914516/kotlin-retrofit-simple-post-without-response", "title": "Kotlin &amp; Retrofit: Simple POST without Response", "body": "<p>I'm trying to do a POST Request with Kotlin and Retrofit where I'm only interested in the statuscode of the request. Tutorials I have seen solve it all a bit different and most of the time they do not compile any more or are very complicated.</p>\n\n<p>Can someone help improving this code:?</p>\n\n<pre><code>interface ClientService {\n\n        @POST(\"user/password-reset\")\n        fun passwortReset(@Query(\"email\") email: String): Observable&lt;Result&gt;\n\n        companion object {\n            fun create(): ClientService {\n\n                val retrofit = Retrofit.Builder()\n                        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                        .addConverterFactory(GsonConverterFactory.create())\n                        .baseUrl(\"https://test-backend.myurl.com/api/\")\n                        .build()\n\n                return retrofit.create(ClientService::class.java)\n            }\n        } \n    }\n</code></pre>\n\n<p>I'm not sure how to call it and how to get the statuscode.</p>\n"}, {"tags": ["android", "kotlin", "arrow-kt"], "answers": [{"comments": [{"owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "edited": false, "score": 0, "creation_date": 1548360667, "post_id": 54332394, "comment_id": 95524278, "body": "Ok, this was an initial test for the tag [arrow-kt] that I created. However, a link to a glossary is not that much of an answer. As they say: Show me the code ;)"}], "tags": [], "owner": {"reputation": 1893, "user_id": 571787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff564544d0c3b13a07bcaced0a9ec8d?s=128&d=identicon&r=PG", "display_name": "BobG", "link": "https://stackoverflow.com/users/571787/bobg"}, "is_accepted": false, "score": 0, "last_activity_date": 1548263639, "creation_date": 1548263639, "answer_id": 54332394, "question_id": 48914167, "link": "https://stackoverflow.com/questions/48914167/how-do-i-create-my-own-data-type-with-arrow/54332394#54332394", "title": "How do I create my own data type with Arrow", "body": "<p>If I'm understanding your question correctly:</p>\n\n<p><a href=\"https://arrow-kt.io/docs/patterns/glossary/\" rel=\"nofollow noreferrer\">https://arrow-kt.io/docs/patterns/glossary/</a></p>\n\n<p>Note that the annotation processors should be able to generate the typeclass instances for you.  But fundamentally you just need to decide which typeclasses your datatype will support and provide implementations for those typeclasses.  (Note that the typeclasses form an inheritance hierarchy so (e.g.) if you implement Monad you (may) need to implement Functor.)</p>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 2138809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad2476bf0540dfaa0fc30cb62c8e07da?s=128&d=identicon&r=PG", "display_name": "Ra&#250;l Raja Mart&#237;nez", "link": "https://stackoverflow.com/users/2138809/ra%c3%bal-raja-mart%c3%adnez"}, "is_accepted": true, "score": 2, "last_activity_date": 1560759430, "creation_date": 1560759430, "answer_id": 56627344, "question_id": 48914167, "link": "https://stackoverflow.com/questions/48914167/how-do-i-create-my-own-data-type-with-arrow/56627344#56627344", "title": "How do I create my own data type with Arrow", "body": "<p>The steps to create data types in Arrow that conform to Type classes like <code>Functor</code> and therefore provide methods like <code>map</code> is outlined here:</p>\n\n<ol>\n<li><p>Enable higher kinded type emulation. <a href=\"https://arrow-kt.io/docs/patterns/glossary/#higher-kinds\" rel=\"nofollow noreferrer\">https://arrow-kt.io/docs/patterns/glossary/#higher-kinds</a></p></li>\n<li><p>Implement the type class instance\n<a href=\"https://arrow-kt.io/docs/patterns/glossary/#using-higher-kinds-with-typeclasses\" rel=\"nofollow noreferrer\">https://arrow-kt.io/docs/patterns/glossary/#using-higher-kinds-with-typeclasses</a></p></li>\n</ol>\n\n<p>In the two links above there is an example that uses <code>ListK</code> wrapping the std lib <code>List</code>. What the documentation example does not mention is that in order to expand the extensions which Functor would add over ListK including <code>map</code>, <code>lift</code>, etc as defined in the <code>Functor</code> interface it requires kapt and arrow meta.</p>\n\n<pre><code>kapt    \"io.arrow-kt:arrow-meta:$arrow_version\"\n</code></pre>\n\n<p>Arrow meta is in charge of expanding Higher Kinds and Extensions for type class instances. One limitation in the current expansion is that if you plan to use both <code>@higherkind</code> and <code>@extension</code> in the same module it won't work due to the order in which kapt processes. For that you would need to have data types in one module and extensions in a different one. This is actually good practice and what we follow in Arrow because it allows user to import data types a la carte when they don't want the extensions.</p>\n"}], "owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 56627344, "answer_count": 2, "score": 8, "last_activity_date": 1560759430, "creation_date": 1519242132, "question_id": 48914167, "link": "https://stackoverflow.com/questions/48914167/how-do-i-create-my-own-data-type-with-arrow", "title": "How do I create my own data type with Arrow", "body": "<p>What are the steps to create my own data type when using arrow.</p>\n\n<p>It's simple to use something like <code>Option</code> with the provided extension constructors like <code>Some(data)</code> or <code>None</code>. However, how can I create my own data type that has functional operators like <code>map()</code> or <code>flatMap()</code>?</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1519242614, "post_id": 48914056, "comment_id": 84834852, "body": "Use <code>scheduler</code> as the 3rd parameter to <code>timeout()</code>."}, {"owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519243108, "post_id": 48914056, "comment_id": 84835117, "body": "Sweet! That works. But what if the timeout operator is outside of the test code? How would I pass the scheduler in that case?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1519246286, "post_id": 48914056, "comment_id": 84836863, "body": "Search SO for TestScheduler <code>@Rule</code> definitions for example."}], "owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 804, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1519241632, "creation_date": 1519241632, "question_id": 48914056, "link": "https://stackoverflow.com/questions/48914056/unit-testing-timeout-operator-constantly-returns-timeoutexception", "title": "Unit testing .timeout() operator constantly returns TimeoutException", "body": "<p>Spend a few hours trying to figure out why my unit test keeps returning a TimeoutException on an Rx chain that has a timeout operator. Without any luck, I dumbed down my chain to just the timeout operator, and it still fails.</p>\n\n<pre><code>    @Test\n    @DisplayName(\"Custom timeout\")\n    fun customTimeout() {\n        val observer: TestObserver&lt;Boolean&gt; = TestObserver()\n        val scheduler = TestScheduler()\n        val subject: PublishSubject&lt;Boolean&gt; = PublishSubject.create()\n\n        subject.subscribeOn(scheduler)\n                .timeout(30, TimeUnit.SECONDS)\n                .subscribe(observer)\n\n        scheduler.advanceTimeBy(5, TimeUnit.SECONDS)\n        subject.onNext(true)\n        scheduler.advanceTimeBy(5, TimeUnit.SECONDS)\n        subject.onNext(false)\n        scheduler.advanceTimeBy(5, TimeUnit.SECONDS)\n\n        observer.await().assertValueCount(2)\n    }\n</code></pre>\n\n<p>Can someone please tell me why the values are not coming through?</p>\n"}, {"tags": ["android", "annotations", "android-gradle-plugin", "kotlin", "build.gradle"], "comments": [{"owner": {"reputation": 1, "user_id": 7159442, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pAqdgs_bNsY/AAAAAAAAAAI/AAAAAAAACKA/_QmeIvjFh1k/photo.jpg?sz=128", "display_name": "jdeus762", "link": "https://stackoverflow.com/users/7159442/jdeus762"}, "edited": false, "score": 0, "creation_date": 1519242048, "post_id": 48913868, "comment_id": 84834540, "body": "It&#39;s show many error like this:  Error:(49, 32) error: cannot find symbol class LoginActivity_"}, {"owner": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "edited": false, "score": 0, "creation_date": 1519298493, "post_id": 48913868, "comment_id": 84858345, "body": "Is there any compile time error in PaymentMenuActivity class? Please clear the things if you find any, then import the class."}, {"owner": {"reputation": 1, "user_id": 7159442, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pAqdgs_bNsY/AAAAAAAAAAI/AAAAAAAACKA/_QmeIvjFh1k/photo.jpg?sz=128", "display_name": "jdeus762", "link": "https://stackoverflow.com/users/7159442/jdeus762"}, "reply_to_user": {"reputation": 2357, "user_id": 4787944, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-SyK9P2bYgDE/AAAAAAAAAAI/AAAAAAAAAP0/5GbyzS97oDk/photo.jpg?sz=128", "display_name": "Saritha G", "link": "https://stackoverflow.com/users/4787944/saritha-g"}, "edited": false, "score": 0, "creation_date": 1519312460, "post_id": 48913868, "comment_id": 84868380, "body": "I think that i found the error. The project was misconfigured. Initially had a package name but later there was change. I hit this and the apk build succeeded. Thanks!"}], "owner": {"reputation": 1, "user_id": 7159442, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pAqdgs_bNsY/AAAAAAAAAAI/AAAAAAAACKA/_QmeIvjFh1k/photo.jpg?sz=128", "display_name": "jdeus762", "link": "https://stackoverflow.com/users/7159442/jdeus762"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519243146, "creation_date": 1519240974, "last_edit_date": 1519243146, "question_id": 48913868, "link": "https://stackoverflow.com/questions/48913868/gradle-build-does-not-resolve-activities", "title": "Gradle Build does not resolve activities", "body": "<p>i have a problem in gradle assembly.\nI using gradle plugin v3.0.1 + Android Studio v3.0.1 + JRE v1.8.0_152.</p>\n\n<p>It's not working with annotationProcessor.</p>\n\n<p>Result after run command <code>gradlew assembleDebug --stacktrace</code>:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n* What went wrong:\n\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n</code></pre>\n\n<p>My top-level build.gradle:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.2.21'\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\"\n        classpath 'com.google.gms:google-services:3.2.0'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>My App <code>build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\n\ndef AAVersion = '4.4.0'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"br.com.corporate.app\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.0.2'\n    implementation 'com.android.support:support-v4:27.0.2'\n    implementation 'com.android.support:cardview-v7:27.0.2'\n    implementation 'com.android.support:design:27.0.2'\n    implementation 'com.google.code.gson:gson:2.8.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    implementation('com.mikepenz:materialdrawer:3.0.8@aar') {\n        transitive = true\n    }\n\n    annotationProcessor \"org.androidannotations:androidannotations:$AAVersion\"\n    implementation \"org.androidannotations:androidannotations-api:$AAVersion\"\n    implementation 'com.google.firebase:firebase-messaging:11.8.0'\n\n    implementation 'com.squareup.retrofit2:retrofit:2.3.0'\n    implementation 'com.squareup.retrofit2:converter-scalars:2.3.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n    implementation 'com.weiwangcn.betterspinner:library-material:1.1.0'\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>don't resolve my activities (annotated) :</p>\n\n<p><img src=\"https://i.stack.imgur.com/Agecr.png\" alt=\"enter image description here\"></p>\n\n<p>Am i missing something?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "moshi"], "comments": [{"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 1, "creation_date": 1519240611, "post_id": 48913616, "comment_id": 84833774, "body": "Can you please post the errors you get?"}, {"owner": {"reputation": 317, "user_id": 1867916, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/48b2713b5ae2b7660aea2ecca9503e61?s=128&d=identicon&r=PG", "display_name": "jordond", "link": "https://stackoverflow.com/users/1867916/jordond"}, "reply_to_user": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1519243344, "post_id": 48913616, "comment_id": 84835255, "body": "I have added the code I&#39;m using, and the error."}, {"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1519411921, "post_id": 48913616, "comment_id": 84915514, "body": "You might be able to adapter something from <a href=\"https://github.com/square/moshi/pull/264/files\" rel=\"nofollow noreferrer\">github.com/square/moshi/pull/264/files</a>"}, {"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1519411936, "post_id": 48913616, "comment_id": 84915522, "body": "We&#39;ll get better documentation on this use case in the future."}], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 1867916, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/48b2713b5ae2b7660aea2ecca9503e61?s=128&d=identicon&r=PG", "display_name": "jordond", "link": "https://stackoverflow.com/users/1867916/jordond"}, "is_accepted": true, "score": 4, "last_activity_date": 1521230694, "creation_date": 1521230694, "answer_id": 49328715, "question_id": 48913616, "link": "https://stackoverflow.com/questions/48913616/android-and-moshi-adapter-with-generic-type/49328715#49328715", "title": "Android and Moshi Adapter with generic type", "body": "<p>I figured this out awhile ago, but I guess I can post what I did in case it will help anyone in the future.</p>\n\n<p>First I created a temporary intermediatry class, to hold the data before the generic data was made.</p>\n\n<pre><code>data class ScheduleItem&lt;T&gt;(\n    val date: Date,\n    val type: String,\n    var scheduleGroups: List&lt;ScheduleGroup&gt; = listOf(),\n    var item: T\n) {\n    data class ScheduleItemJson(\n        val date: Date,\n        val type: String,\n        val schedule_item_groups: List&lt;ScheduleGroup&gt;? = listOf(),\n        val item: Any\n    )\n}\n</code></pre>\n\n<p>Then in the adapter</p>\n\n<pre><code>@FromJson fun fromJson(item: ScheduleItem.ScheduleItemJson): ScheduleItem&lt;Any&gt; {\n    val moshi: Moshi = Moshi.Builder().build()\n    val json = moshi.adapter(Map::class.java).toJson(item.item as Map&lt;*, *&gt;)\n\n    return ScheduleItem(\n        item.date,\n        item.type,\n        item.schedule_item_groups ?: listOf(),\n        when (item.type) {\n            ItemType.GAME -&gt; moshi.adapter(GameItem::class.java).fromJson(json)\n            ItemType.EVENT -&gt; moshi.adapter(EventItem::class.java).fromJson(json)\n            ItemType.CHECK_IN, ItemType.CHECK_OUT -&gt;\n                moshi.adapter(ReservationItem::class.java)\n                     .fromJson(json).apply { this!!.type = item.type }\n            else -&gt; ScheduleItem.NullItem()\n        }!!\n    )\n}\n</code></pre>\n\n<p>The <code>when</code> statement is what creates the <code>&lt;T : Item&gt;</code> and passes it to the <code>ScheduleItem</code> constructor.</p>\n"}, {"tags": [], "owner": {"reputation": 833, "user_id": 5584709, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4rwC.jpg?s=128&g=1", "display_name": "Jegan Babu", "link": "https://stackoverflow.com/users/5584709/jegan-babu"}, "is_accepted": false, "score": 0, "last_activity_date": 1562307940, "creation_date": 1562307940, "answer_id": 56897579, "question_id": 48913616, "link": "https://stackoverflow.com/questions/48913616/android-and-moshi-adapter-with-generic-type/56897579#56897579", "title": "Android and Moshi Adapter with generic type", "body": "<p>Recently I went through similar problem, I made use of sealed class and JsonAdapter to build models dynamically. \nI posted my answer in another post, see <a href=\"https://stackoverflow.com/a/56897476/5584709\">https://stackoverflow.com/a/56897476/5584709</a></p>\n"}], "owner": {"reputation": 317, "user_id": 1867916, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/48b2713b5ae2b7660aea2ecca9503e61?s=128&d=identicon&r=PG", "display_name": "jordond", "link": "https://stackoverflow.com/users/1867916/jordond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4883, "favorite_count": 1, "accepted_answer_id": 49328715, "answer_count": 2, "score": 1, "last_activity_date": 1562307940, "creation_date": 1519240081, "last_edit_date": 1519243325, "question_id": 48913616, "link": "https://stackoverflow.com/questions/48913616/android-and-moshi-adapter-with-generic-type", "title": "Android and Moshi Adapter with generic type", "body": "<p>I'm trying to use moshi with my Android project, but I am running into some problems.</p>\n\n<p>Here is a stripped down sample JSON</p>\n\n<pre><code>{\n  \"data\": [\n    {\n      \"label\": \"May\",\n      \"schedule_items\": [\n        {\n          \"type\": \"event\",\n          \"item\": {\n            \"foo\": \"bar\",\n            \"some_prop\": 1\n          },\n          \"schedule_item_groups\": [\n            {\n              \"label\": \"Friday May 4th\",\n              \"schedule_items\": [\n                {\n                  \"type\": \"check_in\",\n                  \"item\": {\n                    \"a_different_prop\": 15\n                  },\n                  \"schedule_item_groups\": null\n                },\n                {\n                  \"type\": \"game\",\n                  \"item\": {\n                    \"yet_another_different_prop\": 3598\n                  },\n                  \"schedule_item_groups\": null\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n\n<p>As you can see, it is a list of <code>ScheduleGroups</code>, and within that object you have a label and <code>schedule_items</code>.  Which is an array of <code>ScheduleItem</code> with <em>3</em> fields:</p>\n\n<ul>\n<li><code>type</code>: String label to identify which type of Item this is</li>\n<li><code>item</code>: Can be of class <code>Event</code>, <code>Game</code>, and <code>CheckIn</code></li>\n<li><code>schedule_item_groups</code>: A <code>ScheduleGroup</code> which is a list of more -\n<code>ScheduleItems</code></li>\n</ul>\n\n<p>So the first problem is a <code>ScheduleGroup</code> has a list of <code>ScheduleItems</code> and each item can have it's own list of <code>ScheduleGroup</code> containing more items.</p>\n\n<p>The second problem is the <code>item</code> field, it needs to be instantiated as one of three classes: <code>Event</code>, <code>Game</code>, <code>CheckIn</code>.</p>\n\n<p>I've been working at it for awhile, and so far I can only get one working at a time, but not both.</p>\n\n<p>Here are the data classes (I have only included one of the <code>Item</code> classes):</p>\n\n<pre><code>data class ScheduleGroup(\n    val label: String,\n    val schedule_items: List&lt;ScheduleItem&lt;Any&gt;&gt;\n)\ndata class ScheduleItem&lt;out T&gt;(\n    val type: String,\n    val schedule_item_groups: List&lt;ScheduleGroup&gt;\n    val item: T\n) {\n    abstract class Item\n}\ndata class Event(\n    val some_prop: Int,\n    val foo: String\n) : ScheduleItem.Item()\n</code></pre>\n\n<p>This is how I got the dynamic Generic class <code>Item</code> to work:</p>\n\n<pre><code>@FromJson\nfun fromJson(map: Map&lt;*, *&gt;): ScheduleItem&lt;Any&gt; {\n    val moshi: Moshi = Moshi.Builder().build()\n    val type: String = map[\"type\"] as String\n    val itemJson = moshi.adapter(Map::class.java).toJson(map[\"item\"] as Map&lt;*, *&gt;)\n\n    val item = when (type) {\n        EventType.EVENT -&gt; moshi.adapter(Event::class.java).fromJson(itemJson)\n        EventType.GAME -&gt; moshi.adapter(Game::class.java).fromJson(itemJson)\n        EventType.CHECK_IN, EventType.CHECK_OUT -&gt;\n            moshi.adapter(CheckIn::class.java).fromJson(itemJson)\n        else -&gt; throw Error(\"Unknown type was found $type\")\n    }\n\nval scheduleGroupType = Types.newParameterizedType(List::class.java, ScheduleGroup::class.java)\n    @Suppress(\"UNCHECKED_CAST\")\n    val scheduleGroupJson = moshi.adapter&lt;List&lt;ScheduleGroup&gt;&gt;(scheduleGroupType)\n        .toJson(map[\"schedule_item_groups\"] as List&lt;ScheduleGroup&gt;?)\n\n    val list: List&lt;ScheduleGroup&gt;? = moshi\n        .adapter&lt;List&lt;ScheduleGroup&gt;&gt;(scheduleGroupType).fromJson(scheduleGroupJson)\n\n    return ScheduleItem(type, list ?: listOf(), item)\n}\n</code></pre>\n\n<p>It will correctly create the right <code>Item</code> class, but when I try to add the <code>List&lt;ScheduleGroup&gt;</code> I get errors, and no matter what I do I cannot seem to get both to work.</p>\n\n<p>Edit:</p>\n\n<p>I Have updated the code to show what I'm using to try and deserialize the <code>schedule_item_groups</code> which is a <code>List&lt;ScheduleGroup&gt;</code>.</p>\n\n<p>I get an error: (This is a different error than I got before...)</p>\n\n<blockquote>\n  <p>com.squareup.moshi.JsonDataException: java.lang.IllegalArgumentException: Can not set final java.lang.String field com.roomroster.mobile_android.data.api.schedule.models.ScheduleGroup.label to com.squareup.moshi.LinkedHashTreeMap at $.data[0].schedule_items[1]</p>\n</blockquote>\n"}, {"tags": ["java", "android", "user-interface", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1519240436, "post_id": 48913419, "comment_id": 84833679, "body": "You need to keep track of the current fragment and override onBackPressed. Then you will add some logic in onBackPressed on the activity to determine what to do based on which fragment you are on."}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "reply_to_user": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1519242471, "post_id": 48913419, "comment_id": 84834768, "body": "Do you have any example? I just don&#39;t understand how to do it with fragments (Heard only about activities), so... Hope you can help..."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "edited": false, "score": 0, "creation_date": 1519242334, "post_id": 48913599, "comment_id": 84834686, "body": "I&#39;ll try it later, thanks. But, sorry, I&#39;m not so smart in this. How to solve that problem, when I need to switch fragment to another fragment (for ex. from fr3 to fr1 and nowhere else)? And if you know how to solve first problem - my pleasure to you. Anyway, I&#39;ll keep in mind"}, {"owner": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "reply_to_user": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "edited": false, "score": 0, "creation_date": 1519243505, "post_id": 48913599, "comment_id": 84835355, "body": "Don&#39;t worry, first of all..  1. You want a status bar? (i don&#39;t know if u want but u can delete it) 2. &quot; I want to limit transaction to some fragments. For example: if I click back in third fragment, I&#39;ll get back to first. And if I click back in first one, it&#39;ll back to MainActivity.&quot;  If you want to skipe the &quot;search activity&quot; and go directy to main you need to use the function &quot;onBackPressed&quot; and specify that &quot;when u press back button of u mobile&quot; you will clear the fragments and start the main activity.  I understood that this is what you want.  For more questions reply :)"}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "edited": false, "score": 1, "creation_date": 1519306409, "post_id": 48913599, "comment_id": 84863785, "body": "thank you very much for such an informative answer. It helped me. I didn&#39;t even thought if it&#39;s so easy to solve."}], "tags": [], "owner": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "is_accepted": true, "score": 1, "last_activity_date": 1519239991, "creation_date": 1519239991, "answer_id": 48913599, "question_id": 48913419, "link": "https://stackoverflow.com/questions/48913419/how-to-set-limit-to-back-action-in-fragment/48913599#48913599", "title": "How to set limit to back action in fragment", "body": "<p><strong>I have a possible solution:</strong></p>\n\n<p>You should need to implement </p>\n\n<pre><code>onBackPressed() \n</code></pre>\n\n<p><em>(is supported Since: API Level 5)</em></p>\n\n<p>And code something like this:</p>\n\n<pre><code>  Intent i=new Intent(this, MainActivity.class);\n  i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n  startActivity(i);\n</code></pre>\n\n<p>This will clear all activities data and go back to the main.\nHope it can help you.</p>\n"}], "owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 48913599, "answer_count": 1, "score": 2, "last_activity_date": 1519239991, "creation_date": 1519239311, "question_id": 48913419, "link": "https://stackoverflow.com/questions/48913419/how-to-set-limit-to-back-action-in-fragment", "title": "How to set limit to back action in fragment", "body": "<p>I have 3 different fragments. It's strange question, but I want to limit transaction to some fragments. For example: if I click back in third fragment, I'll get back to first. And if I click back in first one, it'll back to MainActivity. But all three fragments are shows from another Activity, which called SearchActivity. There is 2 problems getting from this way.\nFirst: My status bar looks a little bit... Just watch on it:\n<a href=\"https://i.stack.imgur.com/br9xW.png\" rel=\"nofollow noreferrer\">look at this status bar</a></p>\n\n<p>My second problem: When I'm going back in fragment (From MainActivity starting SearchActivity with Bottom Navigation Bar with currentItem(0), then I'm pressing back button and, I think it's going to SearchActivity, but I need to go back into MainActivity. Well, to get back into MainActivity, I need to press back twice, because on the first press it's going to SearchActivity) this happens:\n<a href=\"https://i.imgur.com/LU6pnpE.gifv\" rel=\"nofollow noreferrer\">imgur gif</a></p>\n\n<p>My activity:</p>\n\n<pre><code>lateinit var toolbar: ActionBar\n\nprivate fun openFragment(fragment: Fragment) {\n    val transaction = supportFragmentManager.beginTransaction()\n    transaction.replace(R.id.container, fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n}\n\nprivate val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {\n        R.id.navigation_1 -&gt; {\n            toolbar.title = resources.getString(R.string.title_1)\n            val firstFragment = FirstView.newInstance()\n            openFragment(firstFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_2-&gt; {\n            toolbar.title = resources.getString(R.string.title_2)\n            val secFragment = SecView.newInstance()\n            openFragment(secFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_3 -&gt; {\n            toolbar.title = resources.getString(R.string.title_3)\n            val thirdFragment = ThirdView.newInstance()\n            openFragment(thirdFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n    }\n    false\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_search)\n\n    toolbar = supportActionBar!!\n\n    val bottomNavigation: BottomNavigationView = findViewById(R.id.navigation)\n    bottomNavigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n    bottomNavigation.selectedItemId = R.id.navigation_1\n}\n</code></pre>\n\n<p>And there is activity xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/container\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"s.com.s.SearchActivity\"&gt;\n\n&lt;!--&lt;FrameLayout--&gt;\n    &lt;!--android:layout_width=\"wrap_content\"--&gt;\n    &lt;!--android:layout_height=\"wrap_content\"/&gt;--&gt;\n\n&lt;android.support.design.widget.BottomNavigationView\n    android:id=\"@+id/navigation\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"0dp\"\n    android:layout_marginStart=\"0dp\"\n    android:background=\"@android:color/white\"\n    app:itemBackground=\"@android:color/white\"\n    app:itemIconTint=\"@drawable/tab_state\"\n    app:itemTextColor=\"@drawable/tab_state\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:menu=\"@menu/navigation\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>Fragment Example:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater.inflate(R.layout.fragment_first, container, false)\n\n    val rv = view.findViewById&lt;RecyclerView&gt;(R.id.firstView)\n    rv.layoutManager = LinearLayoutManager(context, LinearLayout.VERTICAL, false)\n    val firsts = ArrayList&lt;Hotel&gt;()\n    firsts.add(Hotel(\"Paul\", \"Mr\", R.drawable.abc_list_longpressed_holo))\n    firsts.add(Hotel(\"Jane\", \"Miss\", R.drawable.abc_ratingbar_material))\n    firsts.add(Hotel(\"John\", \"Dr\", R.drawable.abc_btn_check_to_on_mtrl_000))\n    firsts.add(Hotel(\"Amy\", \"Mrs\", R.drawable.abc_ic_menu_paste_mtrl_am_alpha))\n\n    var adapter = CustomAdapter(firsts)\n    rv.adapter = adapter\n\n    return view\n}\n\ncompanion object {\n    fun newInstance(): FirstView = FirstView()\n}\n</code></pre>\n\n<p>And xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/colorAccent\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"?attr/actionBarSize\"\n    android:id=\"@+id/firstView\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>Glad for help, I can't solve it for a week. I hope that I have explained everything well, because I do not even know how to explain it.</p>\n"}, {"tags": ["java", "android", "kotlin", "augmented-reality", "arcore"], "comments": [{"owner": {"reputation": 83, "user_id": 4031613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26911ce3707b6a82d1bcfe6c47ea1b83?s=128&d=identicon&r=PG&f=1", "display_name": "deeppandya", "link": "https://stackoverflow.com/users/4031613/deeppandya"}, "edited": false, "score": 0, "creation_date": 1519335139, "post_id": 48913197, "comment_id": 84882012, "body": "i need to use camera autofocus with arcore camera. but arcore camera doesn&#39;t provide anything for focus. so i thought we can use the hardware camera to set the autofocus. so to get the camera instance we need to use Camera.open() or CameraManager.Open() depending on the api version. if i open the connection with camera using camera1 or camera 2 api, ARCore loses the context. and to set focus the preview has to be in foreground so does anyone know an alternative to get an instance of the camera lens ?"}, {"owner": {"reputation": 1422, "user_id": 8373129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa80a46b614235fc4df519ca1d0b973?s=128&d=identicon&r=PG&f=1", "display_name": "ACVM", "link": "https://stackoverflow.com/users/8373129/acvm"}, "edited": false, "score": 1, "creation_date": 1519755790, "post_id": 48913197, "comment_id": 85035746, "body": "Like the initial releases of ARKit, ARCore doesn&#39;t seem to support autofocus just yet: <a href=\"https://github.com/google-ar/arcore-unity-sdk/issues/49\" rel=\"nofollow noreferrer\">github.com/google-ar/arcore-unity-sdk/issues/49</a>. However, ARKit 1.5 coming out this spring does support it, so ARCore should eventually add support."}], "answers": [{"comments": [{"owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1533732814, "post_id": 51716576, "comment_id": 90454195, "body": "Tried it, doesn&#39;t work.. Can you post a video link showcasing the functionality?"}, {"owner": {"reputation": 500, "user_id": 3624834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wO6Qj.jpg?s=128&g=1", "display_name": "MrAlbean", "link": "https://stackoverflow.com/users/3624834/mralbean"}, "reply_to_user": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1533747942, "post_id": 51716576, "comment_id": 90463981, "body": "This code is roughly the same as the example ARCore applications provided by google. Have you tried building and running the sample applications? <a href=\"https://github.com/google-ar/arcore-android-sdk/blob/a87eded256510dff6067283e522c368a3c2694ad/samples/computervision_java/app/src/main/java/com/google/ar/core/examples/java/computervision/ComputerVisionActivity.java#L379\" rel=\"nofollow noreferrer\">github.com/google-ar/arcore-android-sdk/blob/&hellip;</a>"}, {"owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1533791488, "post_id": 51716576, "comment_id": 90477614, "body": "All examples save for <code>ComputerVision</code>. This piece of code apparently, is only in this example. I&#39;ll try it."}], "tags": [], "owner": {"reputation": 500, "user_id": 3624834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wO6Qj.jpg?s=128&g=1", "display_name": "MrAlbean", "link": "https://stackoverflow.com/users/3624834/mralbean"}, "is_accepted": false, "score": 11, "last_activity_date": 1533668673, "last_edit_date": 1533668673, "creation_date": 1533595440, "answer_id": 51716576, "question_id": 48913197, "link": "https://stackoverflow.com/questions/48913197/is-there-any-way-to-set-auto-focus-with-arcore-camera/51716576#51716576", "title": "Is there any way to set auto focus with ARCore camera?", "body": "<p>As of ARCore 1.4, you can enable or disable autofocus through your ARCore Session's Config:</p>\n\n<pre><code>Session session = new Session(context);\nConfig config = new Config(session);\nif (enableAutoFocus) {\n  config.setFocusMode(Config.FocusMode.AUTO);\n} else {\n  config.setFocusMode(Config.FocusMode.FIXED);\n}\nsession.configure(config);\n</code></pre>\n\n<p><a href=\"https://developers.google.com/ar/reference/java/com/google/ar/core/Config.html#setFocusMode(com.google.ar.core.Config.FocusMode)\" rel=\"noreferrer\">https://developers.google.com/ar/reference/java/com/google/ar/core/Config.html#setFocusMode(com.google.ar.core.Config.FocusMode)</a></p>\n"}, {"tags": [], "owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "is_accepted": false, "score": 2, "last_activity_date": 1535460305, "creation_date": 1535460305, "answer_id": 52058270, "question_id": 48913197, "link": "https://stackoverflow.com/questions/48913197/is-there-any-way-to-set-auto-focus-with-arcore-camera/52058270#52058270", "title": "Is there any way to set auto focus with ARCore camera?", "body": "<p>Old question, but I thought I'd update the answer with implementation in <code>Sceneform</code>. Sceneform SDK 1.4 added the ability to setup autofocus. I use an extension function to enable it.</p>\n\n<p>Declare the relevant fields globally.</p>\n\n<pre><code>//The AR Core session\nprivate var arSession: Session? = null\nprivate var arConfig: Config? = null\n</code></pre>\n\n<p>and the extension function definition :</p>\n\n<pre><code>private fun Session.setupAutofocus() {\n\n        //Create the config\n        arConfig = Config(this)\n\n        //Check if the configuration is set to fixed\n        if (arConfig?.focusMode == Config.FocusMode.FIXED)\n            arConfig?.focusMode = Config.FocusMode.AUTO\n\n        //Sceneform requires that the ARCore session is configured to the UpdateMode LATEST_CAMERA_IMAGE. \n        //This is probably not required for just auto focus. I was updating the camera configuration as well\n        arConfig?.updateMode = Config.UpdateMode.LATEST_CAMERA_IMAGE\n\n        //Reconfigure the session\n        configure(arConfig)\n\n        //Setup the session with ARSceneView\n        fragment.arSceneView.setupSession(this)\n\n        //log out if the camera is in auto focus mode\n        ARApplication.log(\"The camera is current in focus mode : ${config.focusMode.name}\")\n}\n</code></pre>\n\n<p>and a good place to call this is your activity's <code>onResume</code></p>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n\n    //Check if ARSession is null. If it is, instantiate it\n    if(arSession == null) {\n        arSession = Session(this@EdgeActivity)\n        arSession?.setupAutofocus()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 3, "last_activity_date": 1554698603, "last_edit_date": 1554698603, "creation_date": 1554698297, "answer_id": 55566346, "question_id": 48913197, "link": "https://stackoverflow.com/questions/48913197/is-there-any-way-to-set-auto-focus-with-arcore-camera/55566346#55566346", "title": "Is there any way to set auto focus with ARCore camera?", "body": "<p>Here's what Google ARCore engineers say about <code>Config.FocusMode</code>:   </p>\n\n<pre><code>public static final enum Config.FocusMode\n</code></pre>\n\n<blockquote>\n  <p><code>Config.FocusMode</code> enum selects the desired behaviour of the camera focus subsystem. Currently, the default focus mode is <code>FIXED</code>, but this default might change in the future. Note, on devices where ARCore does not support Auto Focus due to the use of a fixed focus camera, setting <code>AUTO</code> will be ignored. See the ARCore Supported Devices page for a list of affected devices.</p>\n  \n  <p>For optimal AR tracking performance, use the focus mode provided by the default session config. While capturing pictures or video, use <code>AUTO</code>. For optimal AR tracking, revert to the default focus mode once auto focus behavior is no longer needed. If your app requires fixed focus camera, call <code>setFocusMode(Config.FocusMode)(FIXED)</code> before enabling the AR session. This will ensure that your app always uses fixed focus, even if the default camera config focus mode changes in a future release.</p>\n</blockquote>\n\n<p>There are two values:</p>\n\n<pre><code>public static final Config.FocusMode AUTO\npublic static final Config.FocusMode FIXED\n</code></pre>\n\n<p>So, in Java code:</p>\n\n<pre><code>Config ar_session_config = session.getConfig();\nar_session_config.setFocusMode(Config.FocusMode.AUTO);\nsession.configure(ar_session_config);\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 7963807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aLt9X.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/7963807/nick"}, "edited": false, "score": 0, "creation_date": 1564588232, "post_id": 56540497, "comment_id": 101083559, "body": "How did you get this option?  What version of Unity are you using?"}, {"owner": {"reputation": 111, "user_id": 5858147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e24df425d52097ba78944dcbd2dd250?s=128&d=identicon&r=PG&f=1", "display_name": "GuruJeya", "link": "https://stackoverflow.com/users/5858147/gurujeya"}, "reply_to_user": {"reputation": 125, "user_id": 7963807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aLt9X.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/7963807/nick"}, "edited": false, "score": 0, "creation_date": 1565087697, "post_id": 56540497, "comment_id": 101232818, "body": "Unity version: 2018.3 For ARCore unity package, refer <a href=\"https://github.com/google-ar/arcore-unity-sdk/releases\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 111, "user_id": 5858147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e24df425d52097ba78944dcbd2dd250?s=128&d=identicon&r=PG&f=1", "display_name": "GuruJeya", "link": "https://stackoverflow.com/users/5858147/gurujeya"}, "is_accepted": false, "score": 1, "last_activity_date": 1560245079, "creation_date": 1560245079, "answer_id": 56540497, "question_id": 48913197, "link": "https://stackoverflow.com/questions/48913197/is-there-any-way-to-set-auto-focus-with-arcore-camera/56540497#56540497", "title": "Is there any way to set auto focus with ARCore camera?", "body": "<p>If the problem is in a Unity project, then change the <strong>CameraFocusMode</strong> parameter to <strong>Auto</strong> instead of <strong>Fixed</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MjBx5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MjBx5.png\" alt=\"Unity ARCoreConfig file settings\"></a></p>\n"}], "owner": {"reputation": 83, "user_id": 4031613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26911ce3707b6a82d1bcfe6c47ea1b83?s=128&d=identicon&r=PG&f=1", "display_name": "deeppandya", "link": "https://stackoverflow.com/users/4031613/deeppandya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5574, "favorite_count": 1, "answer_count": 4, "score": 8, "last_activity_date": 1595563205, "creation_date": 1519238389, "last_edit_date": 1593786007, "question_id": 48913197, "link": "https://stackoverflow.com/questions/48913197/is-there-any-way-to-set-auto-focus-with-arcore-camera", "title": "Is there any way to set auto focus with ARCore camera?", "body": "<p>I am working on an application where I need to put object using ARCore. And then I need to save the frames as an image. </p>\n\n<p>So is there any way to set auto focus for ARCore camera?</p>\n"}, {"tags": ["opencv", "cmake", "kotlin", "opencv3.0"], "comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1519241744, "post_id": 48912741, "comment_id": 84834359, "body": "Not an expert in kotlin, but the <a href=\"https://github.com/JetBrains/kotlinconf-spinner/blob/master/kotlin-native/samples/fullstack/KotlinCMakeModule/CMakeKotlinInformation.cmake#L162\" rel=\"nofollow noreferrer\">first definition</a> of function <code>konanc_executable</code> I have found, uses <code>${KONANC_NAME}.kexe</code> as the target name of the &quot;actual&quot; executable. In you case the target name would be <code>HelloWorld.kexe</code>. Not sure whether you may link the executable with a &quot;native&quot; library, but you may try."}, {"owner": {"reputation": 1, "user_id": 8596737, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLexNLfd8R4/AAAAAAAAAAI/AAAAAAAAACI/7BCybFTdAvU/photo.jpg?sz=128", "display_name": "Andrea Zichittella", "link": "https://stackoverflow.com/users/8596737/andrea-zichittella"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1519245692, "post_id": 48912741, "comment_id": 84836542, "body": "No more errors but I&#39;m not quite sure it&#39;s ok because it gives me: WARNING: Target &quot;HelloWorld.kexe&quot; requests linking to directory &quot;/usr/local/Cellar/opencv/3.4.0_1/lib&quot;.  Targets may link only to libraries.  CMake is dropping the item."}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 1, "creation_date": 1519247854, "post_id": 48912741, "comment_id": 84837643, "body": "Yes, the warning is correct: you need to link (<code>link_libraries</code>) with <b>libraries</b> (<code>.a</code>, <code>.so</code> or other files), not with <i>directories</i>."}], "owner": {"reputation": 1, "user_id": 8596737, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WLexNLfd8R4/AAAAAAAAAAI/AAAAAAAAACI/7BCybFTdAvU/photo.jpg?sz=128", "display_name": "Andrea Zichittella", "link": "https://stackoverflow.com/users/8596737/andrea-zichittella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 687, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519241007, "creation_date": 1519236665, "last_edit_date": 1519241007, "question_id": 48912741, "link": "https://stackoverflow.com/questions/48912741/cmake-error-target-is-not-built-by-this-project-clion-kotlin", "title": "CMake error: &#39;target is not built by this project&#39; Clion Kotlin", "body": "<p>I'm trying to load OpenCV Libraries in <code>CMakeFile.txt</code> but it always ends with this error:</p>\n\n<pre><code>CMake Error at CMakeLists.txt:21 (target_link_libraries):\n  Cannot specify link libraries for target \"HelloWorld\" which is not built by\n  this project.\n</code></pre>\n\n<p>I've searched on the Internet but have got no solution.</p>\n\n<pre><code>   cmake_minimum_required(VERSION 3.8)\n\n   set(CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR}/KotlinCMakeModule)\n\n   project(untitled1 Kotlin)\n\n   find_package(OpenCV REQUIRED)\n\n\n   IF (OpenCV_FOUND)\n      include_directories(/usr/local/Cellar/opencv/3.4.0_1/include)\n      link_libraries(/usr/local/Cellar/opencv/3.4.0_1/lib)\n   ENDIF(OpenCV_FOUND)\n\n\n  konanc_executable(\n        NAME HelloWorld\n       SOURCES hello.kt\n  )\n\n  target_link_libraries(HelloWorld\n         /usr/local/Cellar/opencv/3.4.0_1/lib\n         )\n</code></pre>\n\n<p>Someone can help me? I think it's not working because on the use of <code>konanc_executable</code> instead of <code>add_executable</code> but I need to use Kotlin so I cannot use the <code>add_executable</code> command.</p>\n"}, {"tags": ["java", "android", "if-statement", "android-edittext", "kotlin"], "comments": [{"owner": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 2, "creation_date": 1519234022, "post_id": 48911947, "comment_id": 84830278, "body": "please put logcat,,"}, {"owner": {"reputation": 601, "user_id": 8150130, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1629543837056783/picture?type=large", "display_name": "Treyten Carey", "link": "https://stackoverflow.com/users/8150130/treyten-carey"}, "edited": false, "score": 2, "creation_date": 1519234188, "post_id": 48911947, "comment_id": 84830376, "body": "I don&#39;t see isEmpty() being used in your code?"}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "reply_to_user": {"reputation": 601, "user_id": 8150130, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1629543837056783/picture?type=large", "display_name": "Treyten Carey", "link": "https://stackoverflow.com/users/8150130/treyten-carey"}, "edited": false, "score": 0, "creation_date": 1519234550, "post_id": 48911947, "comment_id": 84830566, "body": "@TreytenCarey sorry, I&#39;ve changed it (How I said, I tried to solve it in many ways). Now it looks so: input_price_from.getText().toString().matches(&quot;&quot;.toRegex())"}, {"owner": {"reputation": 601, "user_id": 8150130, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1629543837056783/picture?type=large", "display_name": "Treyten Carey", "link": "https://stackoverflow.com/users/8150130/treyten-carey"}, "reply_to_user": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1519234721, "post_id": 48911947, "comment_id": 84830660, "body": "Like @ABK said, update your question to include the logcat."}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "reply_to_user": {"reputation": 601, "user_id": 8150130, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1629543837056783/picture?type=large", "display_name": "Treyten Carey", "link": "https://stackoverflow.com/users/8150130/treyten-carey"}, "edited": false, "score": 0, "creation_date": 1519234803, "post_id": 48911947, "comment_id": 84830712, "body": "@TreytenCarey I did it right now, sorry. Check it out."}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "reply_to_user": {"reputation": 1916, "user_id": 7783718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a43d3514a1097af1e17c0cb9b0bbfd8?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Koradiya", "link": "https://stackoverflow.com/users/7783718/abhay-koradiya"}, "edited": false, "score": 0, "creation_date": 1519234823, "post_id": 48911947, "comment_id": 84830721, "body": "@ABK done. Check it out."}, {"owner": {"reputation": 601, "user_id": 8150130, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1629543837056783/picture?type=large", "display_name": "Treyten Carey", "link": "https://stackoverflow.com/users/8150130/treyten-carey"}, "edited": false, "score": 0, "creation_date": 1519236465, "post_id": 48911947, "comment_id": 84831658, "body": "Great, the problem was very clear after adding your log :)"}, {"owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "reply_to_user": {"reputation": 601, "user_id": 8150130, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1629543837056783/picture?type=large", "display_name": "Treyten Carey", "link": "https://stackoverflow.com/users/8150130/treyten-carey"}, "edited": false, "score": 0, "creation_date": 1519237670, "post_id": 48911947, "comment_id": 84832256, "body": "@TreytenCarey is something wrong?"}, {"owner": {"reputation": 601, "user_id": 8150130, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1629543837056783/picture?type=large", "display_name": "Treyten Carey", "link": "https://stackoverflow.com/users/8150130/treyten-carey"}, "edited": false, "score": 0, "creation_date": 1519237753, "post_id": 48911947, "comment_id": 84832304, "body": "Yes, view the answers you were given on this post."}, {"owner": {"reputation": 601, "user_id": 8150130, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1629543837056783/picture?type=large", "display_name": "Treyten Carey", "link": "https://stackoverflow.com/users/8150130/treyten-carey"}, "edited": false, "score": 0, "creation_date": 1519238675, "post_id": 48911947, "comment_id": 84832802, "body": "-1. The comments are used to ask for more information, I.E your logcat. Don&#39;t ask if something is wrong after you have several answers on your post, then I won&#39;t need to reassure you to look at them."}], "answers": [{"tags": [], "owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1519235596, "creation_date": 1519235596, "answer_id": 48912442, "question_id": 48911947, "link": "https://stackoverflow.com/questions/48911947/app-is-crashing-after-looking-for-edittext-isempty/48912442#48912442", "title": "App is crashing after looking for EditText.isEmpty()", "body": "<p>I guess the exception is pretty clear</p>\n\n<pre><code>java.lang.NumberFormatException: For input string: \"\"\n</code></pre>\n\n<p>change here and check the text is not empty and is of greater length</p>\n\n<p>check if the text is not empty </p>\n\n<pre><code>try{\n    if(input_price_from.text.toString().length()&gt;0){\n       //code goes here\n     }\n   }catch(e:NumberFormatException){\n     e.printStackTrace()\n   }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "is_accepted": false, "score": 0, "last_activity_date": 1519235927, "last_edit_date": 1519235927, "creation_date": 1519235600, "answer_id": 48912443, "question_id": 48911947, "link": "https://stackoverflow.com/questions/48911947/app-is-crashing-after-looking-for-edittext-isempty/48912443#48912443", "title": "App is crashing after looking for EditText.isEmpty()", "body": "<p>The problem is that you are passing an empty string to <code>Integer.parseInt(input_price_from.text.toString())</code>.</p>\n\n<p>You should first check if the string is not empty and is an integer before calling <code>Integer.parseInt(input_price_from.text.toString())</code>.</p>\n\n<p>You can perform the check for emptyness and the number being an integer by writing some code along these lines:</p>\n\n<pre><code>String n = input_price_from.text.toString();\nif(n != null) {\n    String trimmed = n.trim();\n    if(!trimmed.isEmpty() &amp;&amp; trimmed.matches(\"\\\\d+\")) {\n        int num = Integer.parseInt(n.trim());\n        System.out.println(num);\n        // ... whatever code\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 420, "user_id": 8505083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/540a2c4dafabf6b12b06898d05197393?s=128&d=identicon&r=PG&f=1", "display_name": "niketshah09", "link": "https://stackoverflow.com/users/8505083/niketshah09"}, "is_accepted": false, "score": 0, "last_activity_date": 1519236867, "last_edit_date": 1519236867, "creation_date": 1519235905, "answer_id": 48912525, "question_id": 48911947, "link": "https://stackoverflow.com/questions/48911947/app-is-crashing-after-looking-for-edittext-isempty/48912525#48912525", "title": "App is crashing after looking for EditText.isEmpty()", "body": "<p>Here I found it!</p>\n\n<p>the same thing goes for <code>priceFrom</code> as well as <code>priceTo</code></p>\n\n<pre><code>priceFrom = Integer.parseInt(input_price_from.text.toString())\n</code></pre>\n\n<p>if there is no text then parseInt will try to parse an empty string which throws Runtime Exception.</p>\n\n<p>you can do something like this</p>\n\n<pre><code>val text = input_price_from.text.toString.trim()\nif (text.isNotEmpty() &amp;&amp; text.matches(\"\\\\d+\")) {\n        try {\n            priceFrom = text.toInt()\n        } catch (e: Exception) {\n            priceFrom = 0 //default value if the text includes anything \n            //except for the number.\n        }\n    }\n</code></pre>\n\n<p>Plus you can make your <code>EditText</code> with <code>inputType = number</code> to enforce used to enter only numbers</p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "is_accepted": true, "score": 0, "last_activity_date": 1519236222, "creation_date": 1519236222, "answer_id": 48912612, "question_id": 48911947, "link": "https://stackoverflow.com/questions/48911947/app-is-crashing-after-looking-for-edittext-isempty/48912612#48912612", "title": "App is crashing after looking for EditText.isEmpty()", "body": "<p>Gosh, it's terrible to understand, but I fixed it just by using this condition:</p>\n\n<pre><code>if (priceFrom &gt; priceTo)\n</code></pre>\n\n<p>And, I think no: price_from isn't too important, because price_to is checking out by the same way.</p>\n\n<p>Anyway, thanks to all for help</p>\n"}], "owner": {"reputation": 133, "user_id": 9392250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ff1a00c45b4c0603b58ed7d40aed2aae?s=128&d=identicon&r=PG&f=1", "display_name": "Arsen Saruhanyan", "link": "https://stackoverflow.com/users/9392250/arsen-saruhanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 48912612, "answer_count": 4, "score": -2, "last_activity_date": 1519236867, "creation_date": 1519233883, "last_edit_date": 1519235689, "question_id": 48911947, "link": "https://stackoverflow.com/questions/48911947/app-is-crashing-after-looking-for-edittext-isempty", "title": "App is crashing after looking for EditText.isEmpty()", "body": "<p>I don't even understand what's is this and why it doesn't work ok. I have button, which starts new activity. But before it, I check some values, and after clicking on the button - it's crashing .-. I don't know what to do, it doesn't work properly anyway. I'm writing on \nCode:</p>\n\n<pre><code>lateinit var string: String\nvar day: Int = 0\nvar month: Int = 0\nvar yearProp: Int = 0\nvar dayEnd: Int = 0\nvar monthEnd: Int = 0\nvar yearEndProp: Int = 0\nvar priceFrom: Int = 0\nvar priceTo: Int = 0\ncompanion object {\n    lateinit var props: Properties\n}\n\noverride fun onDateSet(view: DatePickerDialog?, year: Int, monthOfYear: Int, dayOfMonth: Int, yearEnd: Int, monthOfYearEnd: Int, dayOfMonthEnd: Int) {\n    day = dayOfMonth\n    month = monthOfYear\n    yearProp = year\n    dayEnd = dayOfMonthEnd\n    monthEnd = monthOfYearEnd\n    yearEndProp = yearEnd\n    button_whats_date.text = getString(R.string.title_from) + \": \" + day + \"/\" + month + \"/\" + yearProp + \" | \" + getString(R.string.title_to) + \": \" + dayEnd + \"/\" + monthEnd + \"/\" + yearEndProp\n}    \n\nparam_done.setOnClickListener {\n        if (input_price_from.getText().toString().matches(\"\".toRegex()) || input_price_to.getText().toString().matches(\"\".toRegex())) {\n            priceFrom = 0; priceTo = 999999999\n            Log.i(\"VALUES\", \"\" + priceTo)\n            if (Integer.parseInt(input_price_from.text.toString()) &gt; Integer.parseInt(input_price_to.text.toString())) {\n                Toast.makeText(this@MainActivity, getString(R.string.error_change_price), LENGTH_SHORT).show()\n            } else {\n                try {\n                    props = Properties(string, int, int, int, int, int, int, priceFrom, priceTo)\n                    val intent = Intent(this@MainActivity, SearchActivity::class.java)\n                    startActivity(intent)\n                } catch (e: Throwable) {\n                    Toast.makeText(this@MainActivity, getString(R.string.props_error), LENGTH_SHORT).show()\n                    Log.i(\"Hereissometex\", \"User cannot follow to next activity\")\n                }\n            }\n        }\n    }\n\n\n&lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginTop=\"12dp\"\n            android:layout_marginHorizontal=\"8dp\"\n            android:orientation=\"horizontal\"&gt;\n            &lt;EditText\n                android:id=\"@+id/input_price_from\"\n                android:inputType=\"number\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"60dp\"\n                android:layout_weight=\"2\"\n                android:textColor=\"#FFF\"\n                android:hint=\"@string/title_from\"/&gt;\n            &lt;EditText\n                android:id=\"@+id/input_price_to\"\n                android:inputType=\"number\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"60dp\"\n                android:layout_weight=\"2\"\n                android:textColor=\"#FFF\"\n                android:hint=\"@string/title_to\"/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n    &lt;Button\n        android:id=\"@+id/param_done\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_horizontal|bottom\"\n        android:layout_marginBottom=\"10dp\"\n        android:background=\"@android:color/transparent\"\n        android:text=\"@string/done\"\n        android:textColor=\"@color/colorPrimary\"/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>And it's just crashing down. If you need something else - just give me a sign. There is how I do check input values:</p>\n\n<pre><code>input_price_from.addTextChangedListener(object : TextWatcher {\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {}\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\n        override fun afterTextChanged(s: Editable) {\n            priceFrom = Integer.parseInt(input_price_from.text.toString())\n        }\n    })\n    input_price_to.addTextChangedListener(object : TextWatcher {\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {}\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\n        override fun afterTextChanged(s: Editable) {\n            priceTo = Integer.parseInt(input_price_to.text.toString())\n            Log.i(\"[TravelMet::INFO]\", \"InputPrice value changed and parced\")\n        }\n    })   \n\n**EDIT**: Added log.\n\n\n    E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: s.com.s, PID: 1979\n                  java.lang.NumberFormatException: For input string: \"\"\n                      at java.lang.Integer.parseInt(Integer.java:533)\n                      at java.lang.Integer.parseInt(Integer.java:556)\n                      at arsensaruhanyan.com.travelmet.MainActivity$onCreate$5.onClick(MainActivity.kt:110)\n                      at android.view.View.performClick(View.java:6261)\n                      at android.widget.TextView.performClick(TextView.java:11185)\n                      at android.view.View$PerformClick.run(View.java:23752)\n                      at android.os.Handler.handleCallback(Handler.java:751)\n                      at android.os.Handler.dispatchMessage(Handler.java:95)\n                      at android.os.Looper.loop(Looper.java:154)\n                      at android.app.ActivityThread.main(ActivityThread.java:6776)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1518)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\n\n101:\n                    Toast.makeText(this@MainActivity, getString(R.string.error_change_price), LENGTH_SHORT).show()\n</code></pre>\n"}, {"tags": ["android", "sql", "kotlin", "rx-java", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 4612, "user_id": 3185707, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5171a2a49a7754b7fd017ebebb5f5c6e?s=128&d=identicon&r=PG", "display_name": "dzikovskyy", "link": "https://stackoverflow.com/users/3185707/dzikovskyy"}, "reply_to_user": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1519254312, "post_id": 48916429, "comment_id": 84840457, "body": "I&#39;m not sure about the List, but on the official Room tutorial they use varargs, so that should work. <a href=\"https://developer.android.com/training/data-storage/room/index.html\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/room/index.html</a>"}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "edited": false, "score": 0, "creation_date": 1519260525, "post_id": 48916429, "comment_id": 84842247, "body": "Room accept an Array of objects not a list for @Insert, Spread Operator worked well for me."}, {"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1519284333, "post_id": 48916429, "comment_id": 84849789, "body": "Diddnt seem to work. The strange thing is room doesn&#39;t spit out any insert error so it&#39;s hard to debug"}, {"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1519301501, "post_id": 48916429, "comment_id": 84860284, "body": "Ok it does actually insert the data but i get another issue. That is, the LiveData doesnt seem to get updated and emit the query from the database.i will update my question"}], "tags": [], "owner": {"reputation": 4612, "user_id": 3185707, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5171a2a49a7754b7fd017ebebb5f5c6e?s=128&d=identicon&r=PG", "display_name": "dzikovskyy", "link": "https://stackoverflow.com/users/3185707/dzikovskyy"}, "is_accepted": false, "score": 0, "last_activity_date": 1519251336, "creation_date": 1519251336, "answer_id": 48916429, "question_id": 48911893, "link": "https://stackoverflow.com/questions/48911893/android-room-livedata-not-emitting-the-results/48916429#48916429", "title": "Android ROOM LIVEDATA not emitting the results", "body": "<p>Try to use <code>vararg</code> instead of <code>List</code> when saving collection of data.</p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.IGNORE)\nfun saveAllItems(vararg itemList: Item)\n</code></pre>\n\n<p>And then you can call this method using <code>*</code> (also known as <code>Spread Operator</code>) on your list like this</p>\n\n<pre><code>saveAllItems(*responseItems.toTypedArray())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1519488253, "post_id": 48931060, "comment_id": 84935405, "body": "Yes this was the issue. I had to first grab the live data itself from the sql room query and pass it along my delegator back to the view model"}, {"owner": {"reputation": 212, "user_id": 6225877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a8627fc24bf3926e37abc444e4cccb7?s=128&d=identicon&r=PG&f=1", "display_name": "P. Habzansky", "link": "https://stackoverflow.com/users/6225877/p-habzansky"}, "reply_to_user": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1519506389, "post_id": 48931060, "comment_id": 84940823, "body": "That&#39;s exactly the case, usually you should select LiveData from Room, pass it to ViewModel and subscribe to it in your Activity/Fragment or wherever you need \ud83d\ude0a"}], "tags": [], "owner": {"reputation": 212, "user_id": 6225877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a8627fc24bf3926e37abc444e4cccb7?s=128&d=identicon&r=PG&f=1", "display_name": "P. Habzansky", "link": "https://stackoverflow.com/users/6225877/p-habzansky"}, "is_accepted": true, "score": 2, "last_activity_date": 1519313015, "creation_date": 1519313015, "answer_id": 48931060, "question_id": 48911893, "link": "https://stackoverflow.com/questions/48911893/android-room-livedata-not-emitting-the-results/48931060#48931060", "title": "Android ROOM LIVEDATA not emitting the results", "body": "<p>Does your function <code>getUnloadedOffers()</code> return empty mutableList? I'm not sure if passing <code>items</code> to <code>itemsLiveData</code> is going to work, since observing LiveData is running on bg thread (if I'm not mistaken)</p>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1774, "favorite_count": 0, "accepted_answer_id": 48931060, "answer_count": 2, "score": 0, "last_activity_date": 1519313015, "creation_date": 1519233692, "last_edit_date": 1519301941, "question_id": 48911893, "link": "https://stackoverflow.com/questions/48911893/android-room-livedata-not-emitting-the-results", "title": "Android ROOM LIVEDATA not emitting the results", "body": "<p>Hi i have a list of items that i retrieve from a data source and then i apply a map on the observable to store the data into ROOM. </p>\n\n<p>It manages to add it to the table but when i try to retrieve a LiveData of it, It doesnt seem to notify my observer of the results.</p>\n\n<p>There is definetly data in the table and my query works as i changed the return time from LiveData to simple a List and that worked perfectly fine</p>\n\n<p>Here is my data class</p>\n\n<pre><code>@Entity\ndata class Item(\n        @PrimaryKey\n        val id:String,\n        val title: String,\n        val description: String,\n        val imgUrl: String,\n        val  usageRules : List&lt;String&gt;,\n\n)\n</code></pre>\n\n<p>Here is my DAO that exposes a func that add all the list of Items</p>\n\n<pre><code>@Dao\ninterface MyDao {\n\n@Insert(onConflict = OnConflictStrategy.IGNORE)\n    fun saveAllItems(itemList: MutableList&lt;Item&gt;)\n\n       @Query(\"SELECT * FROM items\")\n    fun getAllItems(): LiveData&lt;MutableList&lt;Item&gt;&gt;\n\n}\n</code></pre>\n\n<p>My DB class</p>\n\n<pre><code>@Database(entities = arrayOf(Item::class), version = 1, exportSchema = false)\n@TypeConverters(UsageRulesTypeConverter::class)\nabstract class MyDatabase : RoomDatabase() {\n    abstract fun getProductDao(): MyDao\n}\n</code></pre>\n\n<p>Below is how i insert data into the database:</p>\n\n<pre><code>@Inject\nlateInt val database : MyDatabase\n\n   override fun getAllItems(): Single&lt;LiveData&lt;MutableList&lt;Item&gt;&gt;&gt; {\n     //retrieve new data using rertrofit\n        networkController.getItems().map { responseItems -&gt;\n            saveAllItems(responseItems )\n            getItems()\n}\n\n@Transaction\n fun saveAllItems(allItems: ItemsDataSource) {\n    database.getProductDao().saveAllItems(allItems.loadedItems)\n    database.getProductDao().saveAllItems(allItems.savedItems)\n    database.getProductDao().saveAllItems(allItems.expiredItems)\n    database.getProductDao().saveAllItems(allItems.unloadedItems)\n}\n\nfun getItems() : LiveData&lt;MutableList&lt;Item&gt;&gt;{\n\n    return database.getProductDao().getAllItems()\n}\n</code></pre>\n\n<p>My data source retrieved 4 lists of Items that i then save all of them in one entity/table but LiveData doesnt notify my UI about it?</p>\n\n<p>ViewModel:</p>\n\n<pre><code>override fun getUnloadedOffers(): LiveData&lt;MutableList&lt;ProductOffer&gt;&gt; {\n        if (!this::itemsLiveData.isInitialized) {\n            itemsLiveData= MutableLiveData()\n//get data from network or database\n            itemDelegator.getItems()\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe({ items-&gt;\n                        itemsLiveData= items\n\n                    })\n        }\n\n        return itemsLiveData\n    }\n</code></pre>\n\n<p>UI</p>\n\n<pre><code>viewModel = ViewModelProviders.of(this, viewModelFactory).get(MyViewModel::class.java)\n\n     viewModel.getItems().observe(this, Observer {\n                items-&gt;\n                items?.let {\n                    adapter = SomeAdapter(items)\n                    itemsRecyclerView.adapter = adapter\n                    adapter.notifyDataSetChanged()\n                }\n\n            })\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "is_accepted": true, "score": 0, "last_activity_date": 1519237164, "creation_date": 1519237164, "answer_id": 48912879, "question_id": 48911506, "link": "https://stackoverflow.com/questions/48911506/android-kotlin-firebase-database-databaseexception-no-properties-to-serialize-f/48912879#48912879", "title": "Android Kotlin firebase.database.DatabaseException: No properties to serialize found on class", "body": "<p>Solved, even in Kotlin it seems the variables had to be explicitly Public.</p>\n\n<pre><code>import java.io.Serializable\n\n/**\n * Created by fyi2 on 2/21/18.\n */\nclass User :Serializable {\n    public var displayName:String=\"\"\n    public var email:String=\"\"\n    public  var photoUrl:String=\"\"\n    public var userId:String=\"\"\n\n    constructor() {}\n\n    constructor(displayName: String, email: String, photoUrl: String, userId: String) {\n        this.displayName = displayName\n        this.email = email\n        this.photoUrl = photoUrl\n        this.userId = userId\n    }\n\n}\n</code></pre>\n\n<p>Once that was modified, the rest worked as is.</p>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 9832121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8SC2y.jpg?s=128&g=1", "display_name": "Hardik raiyani", "link": "https://stackoverflow.com/users/9832121/hardik-raiyani"}, "is_accepted": false, "score": 0, "last_activity_date": 1589266816, "creation_date": 1589266816, "answer_id": 61745668, "question_id": 48911506, "link": "https://stackoverflow.com/questions/48911506/android-kotlin-firebase-database-databaseexception-no-properties-to-serialize-f/61745668#61745668", "title": "Android Kotlin firebase.database.DatabaseException: No properties to serialize found on class", "body": "<p>If you got the issue on release apk then\nDo like this in your proguard file</p>\n\n<pre><code>    -keepattributes Signature\n</code></pre>\n\n<pre><code>    -keepclassmembers class com.yourcompany.models.** {\n      *;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 704, "user_id": 7451779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9312bc877dd61d3a3b15e25eea522b3a?s=128&d=identicon&r=PG&f=1", "display_name": "Haider Malik", "link": "https://stackoverflow.com/users/7451779/haider-malik"}, "is_accepted": false, "score": 0, "last_activity_date": 1598142597, "creation_date": 1598142597, "answer_id": 63542342, "question_id": 48911506, "link": "https://stackoverflow.com/questions/48911506/android-kotlin-firebase-database-databaseexception-no-properties-to-serialize-f/63542342#63542342", "title": "Android Kotlin firebase.database.DatabaseException: No properties to serialize found on class", "body": "<p>you can easily use a data class, it already comes with an empty constructor ect.</p>\n<pre><code>@IgnoreExtraProperties\ndata class User(\n    var displayName: String? = null,\n    var email: String? = null,\n    var photoUrl : String? = null,\n    var userId: String? = null\n)\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1112, "favorite_count": 0, "accepted_answer_id": 48912879, "answer_count": 3, "score": -2, "last_activity_date": 1598142597, "creation_date": 1519232498, "last_edit_date": 1519236775, "question_id": 48911506, "link": "https://stackoverflow.com/questions/48911506/android-kotlin-firebase-database-databaseexception-no-properties-to-serialize-f", "title": "Android Kotlin firebase.database.DatabaseException: No properties to serialize found on class", "body": "<p>I have followed the advice of other SO solution:\n1. Make my class Serializeable\n2. Have a default constructor for Firebase\n3. Update my proguard rules (Not sure about this one)</p>\n\n<p>And still I get the above error, any ideas?</p>\n\n<pre><code>package org.sherman.android.stub_firebase.Models\n\nimport java.io.Serializable\n\n/**\n * Created by fyi2 on 2/21/18.\n */\nclass User(displayName:String, email:String, photoUrl:String, userId:String) : Serializable {\n    constructor(): this(\"\",\"\",\"\",\"\")\n\n\n\n}\n</code></pre>\n\n<p>New Class Definition:</p>\n\n<pre><code>class User :Serializable {\n    private var displayName:String=\"\"\n    private var email:String=\"\"\n    private  var photoUrl:String=\"\"\n    private var userId:String=\"\"\n\n    constructor() {}\n\n    constructor(displayName: String, email: String, photoUrl: String, userId: String) {\n        this.displayName = displayName\n        this.email = email\n        this.photoUrl = photoUrl\n        this.userId = userId\n    }\n\n}\n</code></pre>\n\n<p>Proguard Rule:</p>\n\n<pre><code>-keepclassmembers class org.sherman.android.stub_firebase.Models.** { *; }\n</code></pre>\n\n<p>Code where it is called:</p>\n\n<pre><code>fun registerUserToFirebase(email:String, password:String){\n    mAuth?.createUserWithEmailAndPassword(email, password)?.addOnCompleteListener(this){ task -&gt;\n        if (task.isSuccessful){\n            mProgressDialog?.dismiss()\n            var currentUserFB = task.getResult().user as FirebaseUser\n            var user = User(\"Bobby\", currentUserFB!!.email!!, \"\", currentUserFB!!.uid)\n            mUsersDB!!.child(currentUserFB.uid).setValue(user)\n            val intent = Intent(this, MainActivity::class.java)\n            startActivity(intent)\n            finish()\n        } else {\n            Helper.showAlertDialog(\"Error!\",task.exception?.message!!,this)\n\n        }\n    }\n}\n</code></pre>\n\n<p>ERROR Log snippet:</p>\n\n<pre><code>com.google.firebase.database.DatabaseException: No properties to serialize found on class org.sherman.android.stub_firebase.Models.User\n                                                                                       at com.google.android.gms.internal.zzelx.&lt;init&gt;(Unknown Source:799)\n                                                                                       at com.google.android.gms.internal.zzelw.zzf(Unknown Source:12)\n                                                                                       at com.google.android.gms.internal.zzelw.zzbx(Unknown Source:259)\n                                                                                       at com.google.android.gms.internal.zzelw.zzbw(Unknown Source:0)\n                                                                                       at com.google.firebase.database.DatabaseReference.zza(Unknown Source:10)\n                                                                                       at com.google.firebase.database.DatabaseReference.setValue(Unknown Source:7)\n                                                                                       at org.sherman.android.stub_firebase.Activities.RegisterActivity$registerUserToFirebase$1.onComplete(RegisterActivity.kt:59)\n</code></pre>\n"}, {"tags": ["arrays", "list", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1519233153, "creation_date": 1519233153, "answer_id": 48911736, "question_id": 48911222, "link": "https://stackoverflow.com/questions/48911222/how-to-duplicate-array-within-same-array-x-times/48911736#48911736", "title": "How to duplicate array within same array x times?", "body": "<p>Here's a short and simple solution:</p>\n\n<pre><code>inline fun &lt;T&gt; Iterable&lt;T&gt;.times(count: Int) = (1..count).flatMap { this }\n</code></pre>\n\n<p>Can be used like this:</p>\n\n<pre><code>val numbers = listOf(1, 2, 3)\nval result = numbers.times(5)\nprintln(result)                 // [1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3]\n</code></pre>\n\n<hr>\n\n<p>Perhaps the naming could use some work, <code>times</code> could also be assumed to have the effect of multiplying each element by a given number, <code>repeat</code> could be a better alternative. Also, you might wanna define it on <code>Array&lt;T&gt;</code> and the primitive array types (<code>IntArray</code>, etc) as well.</p>\n"}], "owner": {"reputation": 188, "user_id": 6146332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/978824495566902/picture?type=large", "display_name": "M\u0101rti\u0146\u0161 Ciekurs", "link": "https://stackoverflow.com/users/6146332/m%c4%81rti%c5%86%c5%a1-ciekurs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 48911736, "answer_count": 1, "score": 1, "last_activity_date": 1519233153, "creation_date": 1519231665, "last_edit_date": 1519232478, "question_id": 48911222, "link": "https://stackoverflow.com/questions/48911222/how-to-duplicate-array-within-same-array-x-times", "title": "How to duplicate array within same array x times?", "body": "<p>So, I have made function that return publicKey and I need to duplicate it <code>x</code> times for later use. \nFor example: <code>publicKey: [76, 152, 93, 102, 145, 181]</code> and I need to duplicate it <code>3</code> times, so the end result should be <code>[76, 152, 93, 102, 145, 181, 76, 152, 93, 102, 145, 181, 76, 152, 93, 102, 145, 181]</code>.\nI have tried using var list3 = publicKey*x, but as you can imagine, it didn't work..</p>\n\n<pre><code>fun getPublicKey(privateKey: ArrayList&lt;BigInteger&gt;, \n                 birthDay: BigInteger, \n                 primNumb: BigInteger): ArrayList&lt;BigInteger&gt; {\n    val inversMod = birthDay.modInverse(primNumb)\n    //println(inversMod)\n    val publicKey: ArrayList&lt;BigInteger&gt; = ArrayList()\n    for (keyValue in privateKey){\n        val pagaiduValue = (keyValue * inversMod).mod(primNumb)\n        //println(\"($keyValue * $inversMod) mod $primNumb = $pagaiduValue\")\n        publicKey.add(pagaiduValue)\n    }\n    return publicKey \n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "event-bus"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519231513, "post_id": 48910960, "comment_id": 84828580, "body": "The potential issue, apart from using an event bus, could be that you are calling <code>send</code>, aka <code>onNext</code>, from multiple threads which is not allowed. See if <code>bus = PublishSubject.create&lt;KeyValue&gt;().toSerialized()</code> solves this problem or not."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519231697, "post_id": 48910960, "comment_id": 84828707, "body": "So if event bus can&#39;t be used across multiple threads, and http requests must run in a background thread in order to be async, then does that mean that event buses are not able to be used from an http request? That&#39;s kind of useless....Also, the serialized idea doesn&#39;t break it, but I still get the same error."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519232789, "post_id": 48910960, "comment_id": 84829480, "body": "How do you observe the event bus? Maybe your <code>onPause</code> disposes the <code>Observer</code> but doesn&#39;t subscribe a fresh one in <code>onResume</code>."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519233989, "post_id": 48910960, "comment_id": 84830253, "body": "My <code>mainActivity</code> page is shown above - everything that I do to make an observer is in there. I could try remaking it <code>onResume</code>, but then why does my <code>testEvent</code> fire? I don&#39;t think that&#39;s the solution."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519234764, "post_id": 48910960, "comment_id": 84830682, "body": "Put a <code>println</code> into <code>onStop</code> and see if it appears before events stop. Also use <code>println(bus.hasObservers())</code> in send to see if there is actually an observer for the bus or not."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519235060, "post_id": 48910960, "comment_id": 84830860, "body": "So <code>println(bus.hasObservers())</code> prints <code>true</code>.    <code>public override fun onStop() {         println(&quot;THIS IS THE ONSTOP METHOD&quot;)         mainMessage?.dispose()         super.onStop()     }</code> never prints the <code>println</code> - probably because my <code>mainActivity</code> never stops (it&#39;s a simple 3 tab tablayout)."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519235090, "post_id": 48910960, "comment_id": 84830880, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/165587/discussion-between-peter-weyand-and-akarnokd\">continue this discussion in chat</a>."}], "owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519230854, "creation_date": 1519230854, "question_id": 48910960, "link": "https://stackoverflow.com/questions/48910960/cant-trigger-eventbus-from-inside-http-request-rxjava-kotlin-android", "title": "Can&#39;t Trigger EventBus from Inside Http Request (RxJava, Kotlin, Android)", "body": "<p>I have an eventbus that's \"working\" within an <code>onResume</code> function in my <code>mainActivity</code>. I can push events through my EventBus, but <strong>only</strong> when those events don't come from inside an http request. Of course, my use case is to get the results of an http request, push them to an event bus, and have that event bus send the result to a fragment. So this is an issue.</p>\n\n<p>Here is my <code>mainActivity</code> so far: </p>\n\n<pre><code>class MainActivity: AppCompatActivity(){\n\n    var mainMessage: Disposable?=null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n        getSupportActionBar()?.hide();\n\n        view_pager.adapter = TabsAdapter(supportFragmentManager)\n        tab_layout.setupWithViewPager(view_pager)\n    }\n\n    public override fun onStart() {\n        super.onStart()\n        mainMessage = MainEventBus.INSTANCE.toObserverable().subscribe({\n            println(\"MESSAGE SENT FROM MAINACTIVITY\")\n            println(it)\n        })\n    }\n\n    public override fun onStop() {\n        mainMessage?.dispose()\n        super.onStop()\n    }\n\n    override fun onResume() {\n        super.onResume()\n        val testEvent = MainEventBus.Companion.KeyValue(key = \"testkey\", value = \"keyvalue\")\n        MainEventBus.INSTANCE.send(testEvent)\n        weatherRequests()\n    }\n\n    private fun weatherRequests(){\n        \"http://api.openweathermap.org/data/2.5/weather?q=Austin,us&amp;appid=abd532567a4d169ee04f6597584ba084\".httpGet().responseJson { _, _, result -&gt;\n            //do something with response\n            result.fold(success = { json -&gt;\n                println(\"success from json request to weatherAPI\")\n                val weatherArray = result.get().obj().getJSONArray(\"weather\").get(0) as JSONObject\n                println(\"value of main in weatherArray:\" + weatherArray[\"main\"])\n                println(\"value of description in weatherArray:\" + weatherArray[\"description\"])\n                println(\"value of icon in weatherArray: \" + weatherArray[\"icon\"])\n                val mainWeatherEvent = MainEventBus.Companion.KeyValue(key=\"mainWeather\", value = weatherArray[\"main\"].toString())\n                val descriptionWeatherEvent = MainEventBus.Companion.KeyValue(key=\"descriptionWeather\", value = weatherArray[\"description\"].toString())\n                val weatherurl = \"http://openweathermap.org/img/w/\"+weatherArray[\"icon\"].toString()+\".png\"\n                val iconWeatherEvent = MainEventBus.Companion.KeyValue(key=\"iconWeather\", value = weatherurl)\n\n                println(\"BEFORE SENDING EVENTBUS ITEMS\")\n                MainEventBus.INSTANCE.send(mainWeatherEvent)\n                MainEventBus.INSTANCE.send(descriptionWeatherEvent)\n                MainEventBus.INSTANCE.send(iconWeatherEvent)\n                println(\"AFTER SENDING EVENTBUS ITEMS\")\n\n            }, failure = { error -&gt;\n                Log.e(\"qdp error\", error.toString())\n            })\n        }\n\n        Log.d(\"aftertag\",\"after fuel Request\")\n    }\n\n}\n</code></pre>\n\n<p>So my output sees this: </p>\n\n<pre><code>I/System.out: INSIDE EVENTBUS\nI/System.out: VALUE OF KEYVALUE\nI/System.out: KeyValue(key=testkey, value=keyvalue)\nI/System.out: MESSAGE SENT FROM MAINACTIVITY\nI/System.out: KeyValue(key=testkey, value=keyvalue)\n</code></pre>\n\n<p>Which is the test event that is fired directly from my <code>onResume</code> function. But I get no trigger notifications from the http request event bus calls from within my <code>weatherRequests</code> function. Why aren't these firing?</p>\n\n<p>My event bus is very simple, and I don't think it's the problem. (I think there's an issue with my lifecycle somehow in <code>mainActivity</code>). But I'll include it just for completeness:</p>\n\n<pre><code>enum class MainEventBus {\n\n    INSTANCE;\n\n    companion object {\n        data class KeyValue(var key: String, var value: String)\n    }\n\n    private val bus = PublishSubject.create&lt;KeyValue&gt;() // the actual publisher handling all of the events\n\n    fun send(keyValue: KeyValue) {\n        println(\"INSIDE EVENTBUS\")\n        println(\"VALUE OF KEYVALUE\")\n        println(keyValue)\n        bus.onNext(keyValue)\n//        bus.onNext({key, message}) // the message being sent to all subscribers\n    }\n\n    fun toObserverable(): Observable&lt;KeyValue&gt; {\n        return bus // return the publisher itself as an observable to subscribe to\n    }\n\n}\n</code></pre>\n"}, {"tags": ["enums", "kotlin", "circular-reference"], "answers": [{"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1605716118, "post_id": 48909719, "comment_id": 114737893, "body": "Hmm, it&#39;s more readable because you use a property with a backing field, which will take up a small amount of memory. I could do that too and have implicit <code>: Hand()</code> ^^ Other than that these two cases compile down to virtually the same bytecode."}], "tags": [], "owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "is_accepted": true, "score": 12, "last_activity_date": 1519381491, "last_edit_date": 1519381491, "creation_date": 1519227206, "answer_id": 48909719, "question_id": 48909718, "link": "https://stackoverflow.com/questions/48909718/circular-reference-in-kotlin-enum/48909719#48909719", "title": "Circular reference in Kotlin Enum", "body": "<p>As reassignment is forbidden for <code>val</code> properties, this problem is generally hard to solve and often indicates problems in your data model. For a discussion in broader context refer to <a href=\"https://stackoverflow.com/questions/35439421/circular-references-with-vals-in-kotlin\">this question/answer(s)</a>.</p>\n\n<p>However, this simple example can be solved using a <code>val</code> <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"noreferrer\">property</a> with custom getter (thus without a backing field). Using <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"noreferrer\"><code>when</code></a>, the getter can be defined in a very readable way:</p>\n\n<pre><code>enum class Hand {\n    ROCK,\n    PAPER,\n    SCISSORS;\n\n    val beats: Hand\n        get() = when (this) {\n            ROCK -&gt; SCISSORS\n            PAPER -&gt; ROCK\n            SCISSORS -&gt; PAPER\n        }\n}\n</code></pre>\n\n<p>An alternative solution (analogue to the <a href=\"https://stackoverflow.com/a/48909881/6525140\">answer by Eugen Pechanec</a>) is to use <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"noreferrer\">sealed classes</a>. Due to their less constrained concept, the implementation is<sup>1</sup> slightly simpler and more readable compared to an <code>enum</code> with overridden properties.</p>\n\n<pre><code>sealed class Hand {\n    abstract val beats: Hand\n\n    object ROCK: Hand() {\n        override val beats = SCISSORS\n    }\n\n    object PAPER: Hand() {\n        override val beats = ROCK\n    }\n\n    object SCISSORS: Hand() {\n        override val beats = PAPER\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><sup>1</sup>personal opinion</p>\n\n<p>Disclaimer: I have no information on how these solutions work in conjunction with classic Java.</p>\n"}, {"comments": [{"owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1519227956, "post_id": 48909881, "comment_id": 84825932, "body": "Nice solution! I wonder if there is a (significant) difference in performance between the two solutions."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "edited": false, "score": 0, "creation_date": 1519228697, "post_id": 48909881, "comment_id": 84826552, "body": "I can say that this will definitely take up more space in memory and on disk. It generates a singleton class (extends Hand) for each of ROCK, PAPER, and SCISSORS. On the other hand this should perform faster - you don&#39;t do the switch."}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": false, "score": 6, "last_activity_date": 1519227698, "creation_date": 1519227698, "answer_id": 48909881, "question_id": 48909718, "link": "https://stackoverflow.com/questions/48909718/circular-reference-in-kotlin-enum/48909881#48909881", "title": "Circular reference in Kotlin Enum", "body": "<p>An alternative to mhoff's answer without flow control statements:</p>\n\n<pre><code>enum class Hand {\n    ROCK {\n        override val beats: Hand\n            get() = SCISSORS\n    },\n    PAPER {\n        override val beats: Hand\n            get() = ROCK\n    },\n    SCISSORS {\n        override val beats: Hand\n            get() = PAPER\n    };\n\n    abstract val beats: Hand\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3702, "user_id": 1059969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JKhUL.jpg?s=128&g=1", "display_name": "Agent_L", "link": "https://stackoverflow.com/users/1059969/agent-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1605714581, "creation_date": 1605714581, "answer_id": 64896528, "question_id": 48909718, "link": "https://stackoverflow.com/questions/48909718/circular-reference-in-kotlin-enum/64896528#64896528", "title": "Circular reference in Kotlin Enum", "body": "<p>In current Kotlin, you can use <code>val</code>s with sealed class in the same way you wanted with <code>enum</code>:</p>\n<pre><code>sealed class Hand(val beats: Hand) {\n    object ROCK : Hand(SCISSORS)\n    object PAPER : Hand(ROCK)\n    object SCISSORS : Hand(PAPER)\n}\n</code></pre>\n<p>The circular reference is still present, but causes no problems here.</p>\n<p>Which is weird, because it's pretty much same thing as <code>enum</code> minus the automatic serialization.</p>\n"}], "owner": {"reputation": 5199, "user_id": 6525140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3dd379a546135c1fa2691178312b7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hoff", "link": "https://stackoverflow.com/users/6525140/michael-hoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 894, "favorite_count": 0, "accepted_answer_id": 48909719, "answer_count": 3, "score": 9, "last_activity_date": 1605714581, "creation_date": 1519227206, "question_id": 48909718, "link": "https://stackoverflow.com/questions/48909718/circular-reference-in-kotlin-enum", "title": "Circular reference in Kotlin Enum", "body": "<p>How can I create an enum class with circular references?</p>\n\n<p>Simple example (taken from <a href=\"https://stackoverflow.com/questions/41242471/java-enums-logical-circular-reference\">this Java question</a>):</p>\n\n<pre><code>enum class Hand(val beats: Hand) {\n    ROCK(SCISSORS), // Enum entry 'SCISSORS' is uninitialized here\n    PAPER(ROCK),\n    SCISSORS(PAPER);\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin", "scale"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1519227840, "post_id": 48909654, "comment_id": 84825859, "body": "don&#39;t link to code hosted externally. Instead, create a MVCE for us"}], "answers": [{"comments": [{"owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "edited": false, "score": 0, "creation_date": 1519244668, "post_id": 48913959, "comment_id": 84836012, "body": "I think I did <a href=\"https://github.com/kidwon24/ScalableRecyclerViewItem/tree/master/app/src/main/res/layout\" rel=\"nofollow noreferrer\">look here</a>. Thank you for the links but I am looking to scale an item not to expand"}], "tags": [], "owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "is_accepted": false, "score": 0, "last_activity_date": 1519241266, "creation_date": 1519241266, "answer_id": 48913959, "question_id": 48909654, "link": "https://stackoverflow.com/questions/48909654/recyclerview-doesnt-scale-with-its-item/48913959#48913959", "title": "RecyclerView doesn&#39;t scale with its item", "body": "<p>You have not shared the layouts of your <code>RecyclerView</code> and the list items. You called for an alternative if possible. Hence I suggest you might take a look at expandable <code>RecyclerView</code> where each item will expand on clicking on them. </p>\n\n<p>Here's a <a href=\"https://github.com/thoughtbot/expandable-recycler-view\" rel=\"nofollow noreferrer\">nice library</a> for creating the expandable <code>RecyclerView</code> that you want. </p>\n\n<p>You might consider looking into <a href=\"https://github.com/hendraanggrian/recyclerview-expandable\" rel=\"nofollow noreferrer\">this one</a> as well. The implementations are simple. </p>\n"}], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519244988, "creation_date": 1519227019, "last_edit_date": 1519244988, "question_id": 48909654, "link": "https://stackoverflow.com/questions/48909654/recyclerview-doesnt-scale-with-its-item", "title": "RecyclerView doesn&#39;t scale with its item", "body": "<p>Here's <a href=\"https://github.com/kidwon24/ScalableRecyclerViewItem\" rel=\"nofollow noreferrer\">github rep</a> example of the issue and the <code>RecyclerView</code> <a href=\"https://github.com/kidwon24/ScalableRecyclerViewItem/blob/master/app/src/main/java/mom/example/itemlist/adapters/ItemListRecycleViewAdapter.kt\" rel=\"nofollow noreferrer\">adapter</a> for your convenience.</p>\n\n<p>I am scaling <code>RecyclerView</code> item on click</p>\n\n<pre><code>imageView.setOnClickListener {\n    val pivotType = Animation.RELATIVE_TO_SELF\n    val scaleAnime = ScaleAnimation(1f,2f,1f,2f,\n            pivotType, 0.5f, pivotType, 0.5f )\n\n    scaleAnime.duration = 400\n    scaleAnime.fillAfter = true\n    ViewCompat.setElevation(it,1f)\n    it.startAnimation(scaleAnime)\n}\n</code></pre>\n\n<p>However, I'm struggling with the following issues:</p>\n\n<ul>\n<li><p>The RecyclerView itself doesn't react to the clicked item new size although it's height is <code>android:layout_height=\"wrap_content\"</code>. </p>\n\n<p>I might use </p>\n\n<pre><code>android:clipChildren=\"false\"\nandroid:clipToPadding=\"false\"\n</code></pre>\n\n<p>and avoid the cutting of the view but that would reveal the overflow items which isn't desired option as well so I'm struggling to find a way for the <code>RecyclerView</code> to grow with the scale, too.</p></li>\n<li><p>The scaled item overlaps over it's neighbor items instead of pushing them away</p></li>\n</ul>\n\n<p>I have tried changing the height of the RV but it grows downward only compare to scale effect which grows top and bottom.</p>\n\n<p>Anybody who has idea how to resolve these issues please share or even suggest an alternative.</p>\n"}, {"tags": ["android", "types", "kotlin", "observable", "event-bus"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519224811, "post_id": 48908870, "comment_id": 84823749, "body": "<code>Observable</code> is from RxJava, isn&#39;t it? Add that dependency."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519224983, "post_id": 48908870, "comment_id": 84823857, "body": "Yeah, thanks. The docs for that site are bad."}, {"owner": {"reputation": 4293, "user_id": 4069913, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/100007329305829/picture?type=large", "display_name": "Orest Savchak", "link": "https://stackoverflow.com/users/4069913/orest-savchak"}, "edited": false, "score": 0, "creation_date": 1519326474, "post_id": 48908870, "comment_id": 84877345, "body": "FYI, you can achieve singleton pattern in kotlin with <code>object</code> keyword, no need to have enum with single instance."}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 0, "creation_date": 1519389748, "post_id": 48908870, "comment_id": 84902547, "body": "post your code directly and not an image of it"}], "answers": [{"tags": [], "owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "is_accepted": false, "score": 0, "last_activity_date": 1519260813, "creation_date": 1519260813, "answer_id": 48917939, "question_id": 48908870, "link": "https://stackoverflow.com/questions/48908870/observablestring-not-valid-return-type-in-kotlin/48917939#48917939", "title": "Observable&lt;String&gt; Not Valid Return Type in Kotlin", "body": "<p>Add this dependencies to your app/build.gradle:</p>\n\n<pre><code>// RxJava\nimplementation 'io.reactivex.rxjava2:rxandroid:2.0.1'\nimplementation 'io.reactivex.rxjava2:rxjava:2.1.7'    \nimplementation 'io.reactivex.rxjava2:rxkotlin:2.2.0'\n</code></pre>\n"}], "owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 726, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519260813, "creation_date": 1519224607, "question_id": 48908870, "link": "https://stackoverflow.com/questions/48908870/observablestring-not-valid-return-type-in-kotlin", "title": "Observable&lt;String&gt; Not Valid Return Type in Kotlin", "body": "<p>I'm trying to learn Kotlin in Android. What I'm finding out very quickly is that I am having trouble passing variables around from <code>Activity-&gt;TabsAdapter-&gt;Fragments</code> and back again. One of the things that would really help would be a <em>simple</em> event bus, but I've found that I can't get those to work. The problem is that one of the common return types <code>Observable&lt;String&gt;</code> that is continually referred to in all the docs I've seen is not recognized by Kotlin. </p>\n\n<p>Take this example (from this site: <a href=\"https://josiassena.com/eventbus-with-rxjava2-using-kotlin/\" rel=\"nofollow noreferrer\">https://josiassena.com/eventbus-with-rxjava2-using-kotlin/</a>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/VLTSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VLTSF.png\" alt=\"enter image description here\"></a></p>\n\n<p>The site says that the example should work with Kotlin, but this does not. (Many sites seem to have similar, I'm just using this as an example, not to pick on them in particular). </p>\n\n<p>I've seen other event bus systems using things like dagger 2, but this doesn't help me at all because I need <em>simple</em> so that I can see how one library is working at a time without misunderstanding what library is doing what. Does someone have a simple event bus in Kotlin that will actually work?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-lifecycle"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 1, "creation_date": 1519219428, "post_id": 48906983, "comment_id": 84819770, "body": "Please post relevant code within the question itself."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1519227979, "post_id": 48906983, "comment_id": 84825956, "body": "You don&#39;t need to do any of this because support Fragment already implements LifecycleOwner since support library 27.1.0. Before that you&#39;d implement LifecycleRegistryOwner (not LifecycleOwner) and provide a LifecycleRegistry."}], "answers": [{"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1519227970, "post_id": 48908651, "comment_id": 84825946, "body": "You don&#39;t need to do any of this because support Fragment already implements LifecycleOwner since support library 27.1.0. LifecycleOwner requires you to implement <code>getLifecycle</code> method. But you didn&#39;t do it. That means that it&#39;s already done. The <code>lifecycleRegistry</code> is not used."}], "tags": [], "owner": {"reputation": 927, "user_id": 5732539, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/6RUuh.jpg?s=128&g=1", "display_name": "Gre\u015fanu Emanuel - Vasile", "link": "https://stackoverflow.com/users/5732539/gre%c5%9fanu-emanuel-vasile"}, "is_accepted": false, "score": -1, "last_activity_date": 1519224039, "creation_date": 1519224039, "answer_id": 48908651, "question_id": 48906983, "link": "https://stackoverflow.com/questions/48906983/lifecycleowner-getlifecycle-called-multiple-times/48908651#48908651", "title": "LifecycleOwner.getLifecycle called multiple times", "body": "<p>Solved the problem of LifecycleOwner.getLifecycle() being called multiple times. All I did was to comment the overriding of the method in my base class:</p>\n\n<pre><code>abstract class BaseFragment: dagger.android.support.DaggerFragment(), LifecycleOwner {\n\nvar lifeCycleRegistry: LifecycleRegistry\n\n    init {\n        AppLogger.d(\"BaseFragment.init\")\n        this.lifeCycleRegistry = LifecycleRegistry(this@BaseFragment)\n    }\n\n    /*override fun getLifecycle(): Lifecycle {\n            AppLogger.d(\"BaseFragment.getLifecycle and count: ${this.lifeCycleRegistry.observerCount}, ${this.lifeCycleRegistry.currentState}\")\n            return this.lifeCycleRegistry\n        }*/\n}\n</code></pre>\n\n<p>And now it works like a charm</p>\n"}], "owner": {"reputation": 927, "user_id": 5732539, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/6RUuh.jpg?s=128&g=1", "display_name": "Gre\u015fanu Emanuel - Vasile", "link": "https://stackoverflow.com/users/5732539/gre%c5%9fanu-emanuel-vasile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 491, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1519224039, "creation_date": 1519219047, "last_edit_date": 1519220070, "question_id": 48906983, "link": "https://stackoverflow.com/questions/48906983/lifecycleowner-getlifecycle-called-multiple-times", "title": "LifecycleOwner.getLifecycle called multiple times", "body": "<p>for some reason I can't understand why the method \"getLifecycle()\" from my class project.vasile.emanuel.gresanu.cemdmobilediagnosis2.ui.base.BaseFragment is being called multiple times when I put the app in the background. More exactly, run the code as it is ( I had made this special case for you to be tested ) and put the app in the background. From here the logcat is being filed with the message that \"getLifecycle()\" is being called to infinite. The link to the app: <a href=\"https://drive.google.com/file/d/1xZ8unSEwgkumPRUj2BpwsL9hKk1XJLrU/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1xZ8unSEwgkumPRUj2BpwsL9hKk1XJLrU/view?usp=sharing</a> </p>\n\n<p>Please help</p>\n\n<p>The relevant class is project.vasile.emanuel.gresanu.cemdmobilediagnosis2.ui.base.BaseFragment because I am implementing LifecycleOwner, and overriding the method getLifecycle().</p>\n\n<p>Code:</p>\n\n<pre><code>abstract class BaseFragment: dagger.android.support.DaggerFragment(), LifecycleOwner {\n    var lifeCycleRegistry: LifecycleRegistry\n\n    init {\n        AppLogger.d(\"BaseFragment.init\")\n        this.lifeCycleRegistry = LifecycleRegistry(this@BaseFragment)\n    }\n    //....\n    override fun getLifecycle(): Lifecycle {\n        AppLogger.d(\"BaseFragment.getLifecycle and count: ${this.lifeCycleRegistry.observerCount}, ${this.lifeCycleRegistry.currentState}\")\n        return this.lifeCycleRegistry\n    }\n}\n</code></pre>\n\n<p>When I put the app in the background, the method \"getLifecycle()\" is being called to infinite.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519225565, "post_id": 48908677, "comment_id": 84824283, "body": "&quot;it will block the thread&quot; is a bit unfortunate phrasing, since the point of the exercise was not to block the thread :)"}], "tags": [], "owner": {"reputation": 100, "user_id": 1508553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aea1eb7a92d073089b0cb8ace2898c6?s=128&d=identicon&r=PG", "display_name": "wise.potato", "link": "https://stackoverflow.com/users/1508553/wise-potato"}, "is_accepted": false, "score": 0, "last_activity_date": 1519224108, "creation_date": 1519224108, "answer_id": 48908677, "question_id": 48906611, "link": "https://stackoverflow.com/questions/48906611/queue-multiple-async-calls-with-callbacks/48908677#48908677", "title": "Queue multiple async calls with callbacks", "body": "<p>I was able to solve the issue using <code>suspendCoroutine</code> as suggested in Marko's <a href=\"https://stackoverflow.com/questions/48906611/queue-multiple-async-calls-with-callbacks#comment84819161_48906611\">comment</a>, here is my code:</p>\n\n<pre><code>private fun processImages(sourceImagePaths: List&lt;String&gt;) {\n    async(UI) {\n        sourceImagePaths.forEach { path -&gt;\n            processNextImage(path)?.let {\n                processedImagePaths.add(it)\n            }\n        }\n\n        if (processedImagePaths.isEmpty()) finishWithFailure() else finishWithSuccess()\n    }\n}\n\nprivate suspend fun processNextImage(sourceImagePath: String): String? = suspendCoroutine { cont -&gt;\n    val destination = FileUtilities.generateImagePath()\n    processImage(this, sourceImagePath, destination, 90, 1000, 1000, false) { success -&gt;\n        if (success)\n            cont.resume(destination)\n        else\n            cont.resume(null)\n\n    }\n}\n</code></pre>\n\n<p>The method <code>processImages</code> iterates over the list of paths, and calls <code>processNextImage</code> for each path. Since <code>processNextImage</code> contains a <code>suspendCoroutine</code>, it will block the thread until <code>cont.resume</code> is called, which guarantees that the next image will not be processed before the current one is done.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 1, "last_activity_date": 1519224142, "creation_date": 1519224142, "answer_id": 48908686, "question_id": 48906611, "link": "https://stackoverflow.com/questions/48906611/queue-multiple-async-calls-with-callbacks/48908686#48908686", "title": "Queue multiple async calls with callbacks", "body": "<p>As described in <a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#wrapping-callbacks\" rel=\"nofollow noreferrer\">the official documentation</a>, there is a simple pattern to follow if you want to turn a callback-based API into one based on suspendable functions. I'll paraphrase that description here.</p>\n\n<p>Your key tool is the function from the standard library called <code>suspendCoroutine()</code>. Assume that you have <code>someLongComputation</code> function with a callback that receives a <code>Result</code> object:</p>\n\n<pre><code>fun someLongComputation(params: Params, callback: (Result) -&gt; Unit)\n</code></pre>\n\n<p>You can convert it into a suspending function with the following straightforward code:</p>\n\n<pre><code>suspend fun someLongComputation(params: Params): Result = \n    suspendCoroutine { cont -&gt;\n        someLongComputation(params) { cont.resume(it) }\n} \n</code></pre>\n\n<p>Note how the type of the object passed to the original callback became simply the return value of the suspendable function.</p>\n\n<p>With this you can see the magic of coroutines happen right in front of you: even though it looks exactly like a blocking call, it isn't. The coroutine will get suspended behind the scenes and resume when the return value is ready &mdash; and how it will resume is totally under your control.</p>\n"}], "owner": {"reputation": 100, "user_id": 1508553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aea1eb7a92d073089b0cb8ace2898c6?s=128&d=identicon&r=PG", "display_name": "wise.potato", "link": "https://stackoverflow.com/users/1508553/wise-potato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1345, "favorite_count": 1, "accepted_answer_id": 48908686, "answer_count": 2, "score": 3, "last_activity_date": 1519224142, "creation_date": 1519218090, "last_edit_date": 1519218208, "question_id": 48906611, "link": "https://stackoverflow.com/questions/48906611/queue-multiple-async-calls-with-callbacks", "title": "Queue multiple async calls with callbacks", "body": "<p>I need to fetch some images from the gallery, process them (resize, compress...) and save them to a certain path. However, i need to queue the calls because older devices won't be able to process multiple images at the same time.</p>\n\n<p>I am using Glide, this is the code used for processing one image:</p>\n\n<pre><code>fun processImage(context: Context, sourcePath: String, destinationPath: String, quality: Int, width: Int, height: Int, deleteOriginal: Boolean, callback: ((success: Boolean) -&gt; Unit)) {\n    val sourceFile = File(sourcePath)\n    val destinationFile = File(destinationPath)\n\n    GlideApp.with(context)\n            .asBitmap()\n            .load(sourceFile)\n            .into(object : SimpleTarget&lt;Bitmap&gt;(width, height) {\n                override fun onResourceReady(resource: Bitmap, transition: Transition&lt;in Bitmap&gt;?) {\n                    try {\n                        destinationFile.writeBytes(ImageUtilities.imageToByteArray(resource, quality, Bitmap.CompressFormat.JPEG, false))\n                        if (deleteOriginal) {\n                            val originalFile = File(sourcePath)\n                            originalFile.delete()\n                        }\n                        callback.invoke(true)\n                    } catch (ex: Exception) {\n                        callback.invoke(false)\n                    }\n                }\n            })\n}\n</code></pre>\n\n<p>Now i am queuing the calls manually by calling <code>processNextImage</code> which calls itself recursively until all the images are processed:</p>\n\n<pre><code>private fun processImages(sourceImagePaths: List&lt;String&gt;) {\n        processNextImage(sourceImagePaths, 0)\n}\n\nprivate fun processNextImage(sourceImagePaths: List&lt;String&gt;, index: Int) {\n    val imagePath = sourceImagePaths[index]\n    val destination = FileUtilities.generateImagePath()\n    processImage(this, imagePath, destination, 90, 1000, 1000, false) {\n        processedImagePaths.add(destination)\n        if (index + 1 &lt; sourceImagePaths.count())\n            processImage(sourceImagePaths, index + 1)\n        else\n            success()\n    }\n}\n</code></pre>\n\n<p>However I don't think this is the best way to do it and I tried to look into Kotlin coroutines but all I found were examples when the queued code is already blocking, which doesn't fit my case because Glide already handles the resizing asynchronously and returns the result in a callback <code>onResourceReady</code></p>\n\n<p>Any ideas for a clean way to do this?</p>\n"}, {"tags": ["java", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "edited": false, "score": 1, "creation_date": 1519218242, "post_id": 48906312, "comment_id": 84818950, "body": "what does the log say?"}, {"owner": {"reputation": 5552, "user_id": 20444, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/46d69f41ea8fd84eae4f5df6e9b9bd29?s=128&d=identicon&r=PG", "display_name": "activout.se", "link": "https://stackoverflow.com/users/20444/activout-se"}, "edited": false, "score": 0, "creation_date": 1520282294, "post_id": 48906312, "comment_id": 85243522, "body": "kaptKotlin(Debug) will generate DaggerCustomComponent, so you must find out why that task fails"}], "owner": {"reputation": 660, "user_id": 4277741, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/cd39e9bdeb67864600c18088e0fc2db2?s=128&d=identicon&r=PG&f=1", "display_name": "Matvey Rybakov", "link": "https://stackoverflow.com/users/4277741/matvey-rybakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519217817, "creation_date": 1519217157, "last_edit_date": 1519217817, "question_id": 48906312, "link": "https://stackoverflow.com/questions/48906312/access-daggercomponent-defined-in-java-from-kotlin", "title": "Access DaggerComponent defined in java from kotlin", "body": "<p>I need to use existing dagger component from my new kotlin class. The problem is that when I compile, the component that I use in kotlin class is not generated, so I receive an error:</p>\n\n<p><code>Unresolved reference: DaggerCustomComponent</code></p>\n\n<p>I'm pretty sure it's caused by kotlin, because as soon as I remove or comment all the usages of the DaggerCustomComponent in that kotlin class, it all magically starts to work.</p>\n\n<p>I tried to fix that by adding this to my module's gradle file</p>\n\n<p><code>apply plugin: 'kotlin-kapt'\nkapt \"com.google.dagger:dagger-compiler:$rootProject.ext.daggerVersion\"\nkapt \"com.google.dagger:dagger-android-processor:$rootProject.ext.daggerVersion\"</code></p>\n\n<p>then I did a clean build and now it doesn't compile at all:</p>\n\n<p><code>Error:Execution failed for task ':app:kaptDebugKotlin'. &gt; Internal compiler error. See log for more</code></p>\n\n<p>I've seen lots of tutorials but none of them mentioned that their components were defined in java code, I guess that might be a problem too</p>\n"}, {"tags": ["java", "android", "android-intent", "kotlin", "voice-recognition"], "answers": [{"tags": [], "owner": {"reputation": 577, "user_id": 8331312, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/AgCbb.jpg?s=128&g=1", "display_name": "0x45", "link": "https://stackoverflow.com/users/8331312/0x45"}, "is_accepted": false, "score": 0, "last_activity_date": 1519220102, "creation_date": 1519220102, "answer_id": 48907322, "question_id": 48904664, "link": "https://stackoverflow.com/questions/48904664/android-perform-an-action-with-voice-command/48907322#48907322", "title": "Android - Perform an action with voice command", "body": "<p>Basically what you have to do is</p>\n\n<ul>\n<li>build a framework/module to handle Speech Input (<a href=\"https://www.google.de/search?client=firefox-b-ab&amp;dcr=0&amp;ei=LnWNWqqRGIzWkwW7wLyQDg&amp;q=android%20speech%20to%20text%20tutorial&amp;oq=android%20speech%20to%20text%20&amp;gs_l=psy-ab.1.1.0i203k1j0l2j0i203k1l7.7196.7196.0.10719.1.1.0.0.0.0.94.94.1.1.0....0...1c.1.64.psy-ab..0.1.94....0.WbtHYps9NMk\" rel=\"nofollow noreferrer\">speech-2-text</a>)\n\n<ul>\n<li>Depending on Input by user, perform an action</li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 219, "user_id": 3646802, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/xZUGi.png?s=128&g=1", "display_name": "slenderm4n", "link": "https://stackoverflow.com/users/3646802/slenderm4n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1519220102, "creation_date": 1519212288, "question_id": 48904664, "link": "https://stackoverflow.com/questions/48904664/android-perform-an-action-with-voice-command", "title": "Android - Perform an action with voice command", "body": "<p>Searched through the internet and couldn't find a god example of achieving the following. There is a Launcher activity. User will be navigated to the launcher activity first and inside that activity , when the user says a certain word like \"Start\" or something like that the app should navigate the user to another activity. I've gone through a set of tutorials , and I've seen some similar questions at SO but none of them make sense to me. What will be the best approach to achieve this ? </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1519233238, "post_id": 48904346, "comment_id": 84829766, "body": "What&#39;s the innermost datastructure? Is it a Pair&lt;Integer,Integer&gt;?"}], "answers": [{"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1519211956, "post_id": 48904496, "comment_id": 84814621, "body": "he wants to sort a list of lists, not the contents of a single list"}, {"owner": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "edited": false, "score": 0, "creation_date": 1519211982, "post_id": 48904496, "comment_id": 84814636, "body": "I want to sort list of list which element has more y = 0 will be on the top"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "edited": false, "score": 0, "creation_date": 1519212149, "post_id": 48904496, "comment_id": 84814748, "body": "@coinhndp okay understood, like this then"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519220869, "post_id": 48904496, "comment_id": 84820853, "body": "It will sum all the <code>y</code>s and not count zero-valued <code>y</code>.s"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519228968, "post_id": 48904496, "comment_id": 84826749, "body": "@MarkoTopolnik Yeah and it works since he specified y is only 0 or 1"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519229050, "post_id": 48904496, "comment_id": 84826813, "body": "Yes, missed that. Still, it&#39;s not very intuitive or general."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1519287141, "last_edit_date": 1519287141, "creation_date": 1519211814, "answer_id": 48904496, "question_id": 48904346, "link": "https://stackoverflow.com/questions/48904346/sort-list-of-list-kotlin/48904496#48904496", "title": "Sort list of list Kotlin", "body": "<p>Simply use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-by.html\" rel=\"nofollow noreferrer\"><code>sortedBy</code></a> which sorts in ascending order (i.e. 0 before 1 etc.) in combination with <code>sumBy</code>, summing the values of y in the sublists:</p>\n\n<pre><code>list.sortedBy { it.sumBy { it.y } }\n</code></pre>\n\n<p>KDoc: </p>\n\n<blockquote>\n  <p>Returns a list of all elements sorted according to natural sort order of the value returned by specified selector function.</p>\n</blockquote>\n\n<p>You'll get a list, in which the sublists are ordered in ascending order regarding their number of elements with <code>y = 0</code>.</p>\n\n<p><strong>Note</strong> that summing up all <code>y</code> values as in <code>sumBy</code> only works since 0 and 1 are the only possible values in the given scenario.</p>\n"}, {"tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": false, "score": 3, "last_activity_date": 1519226904, "last_edit_date": 1519226904, "creation_date": 1519226574, "answer_id": 48909503, "question_id": 48904346, "link": "https://stackoverflow.com/questions/48904346/sort-list-of-list-kotlin/48909503#48909503", "title": "Sort list of list Kotlin", "body": "<p>Asuming coordinates representation below:</p>\n\n<pre><code>class Point(val x: Int, val y: Int)\n</code></pre>\n\n<p>You can simply use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/sorted-by-descending.html\" rel=\"nofollow noreferrer\">sortedByDescending</a> on your list of lists and as a sorting condition <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/count.html\" rel=\"nofollow noreferrer\">count</a> occurences of <code>y = 0</code> in sublists. With descending order the sublist with most <code>y = 0</code> will be the first.</p>\n\n<pre><code>val sorted = input.sortedByDescending { it.count { it.y == 0 } }\n</code></pre>\n"}], "owner": {"reputation": 1368, "user_id": 8737224, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dffa197111e024e6d5f8898e9c5ed612?s=128&d=identicon&r=PG&f=1", "display_name": " coinhndp", "link": "https://stackoverflow.com/users/8737224/coinhndp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3082, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1519287141, "creation_date": 1519211293, "last_edit_date": 1519216161, "question_id": 48904346, "link": "https://stackoverflow.com/questions/48904346/sort-list-of-list-kotlin", "title": "Sort list of list Kotlin", "body": "<p>I have a list of <code>(x, y)</code> in which <code>y</code> can only be 0 or 1 like this </p>\n\n<p><strong>For example :</strong></p>\n\n<pre><code>[(3, 0), (3, 1), (5, 1)]\n[(5, 0), (3, 1), (5, 1)]\n[(1, 1), (3, 1), (5, 1)]\n[(3, 0), (4, 0), (5, 1)]\n[(5, 0), (4, 0), (5, 1)]\n[(1, 1), (4, 0), (5, 1)]\n[(3, 0), (3, 1), (5, 1)]\n[(5, 0), (3, 1), (5, 1)]\n[(1, 1), (3, 1), (5, 1)]\n</code></pre>\n\n<p>How can I sort the list so that the sublist with the most <code>y = 0</code> will be on the top?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 2596, "user_id": 7409774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDIOj.png?s=128&g=1", "display_name": "Milind Mevada", "link": "https://stackoverflow.com/users/7409774/milind-mevada"}, "edited": false, "score": 0, "creation_date": 1519205696, "post_id": 48902388, "comment_id": 84810015, "body": "I had exact same issue. and Solution was in build.gradle  Can you show your app level build.gradle file?"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 2, "creation_date": 1519205824, "post_id": 48902388, "comment_id": 84810101, "body": "are you using <code>AndroidSupportInjection</code> for the fragment ?"}, {"owner": {"reputation": 22313, "user_id": 1739882, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Li4nC.jpg?s=128&g=1", "display_name": "Chintan Soni", "link": "https://stackoverflow.com/users/1739882/chintan-soni"}, "reply_to_user": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1519209331, "post_id": 48902388, "comment_id": 84812769, "body": "Yes @Blackbelt  I am using AndroidSupportInjection."}, {"owner": {"reputation": 14536, "user_id": 2463035, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wWsJR.jpg?s=128&g=1", "display_name": "Vasiliy", "link": "https://stackoverflow.com/users/2463035/vasiliy"}, "edited": false, "score": 0, "creation_date": 1519216866, "post_id": 48902388, "comment_id": 84818003, "body": "Regardless of the fact that you resolved this specific issue, why would you use AndroidInjection at all? The code becomes much more complicated, and all these corner cases... Is there an advantage?"}], "answers": [{"comments": [{"owner": {"reputation": 22313, "user_id": 1739882, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Li4nC.jpg?s=128&g=1", "display_name": "Chintan Soni", "link": "https://stackoverflow.com/users/1739882/chintan-soni"}, "edited": false, "score": 0, "creation_date": 1519209394, "post_id": 48902934, "comment_id": 84812817, "body": "I already have them in my build.gradle. I think this is trivial and first step towards kotlin + Dagger"}, {"owner": {"reputation": 22313, "user_id": 1739882, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Li4nC.jpg?s=128&g=1", "display_name": "Chintan Soni", "link": "https://stackoverflow.com/users/1739882/chintan-soni"}, "edited": false, "score": 0, "creation_date": 1519213407, "post_id": 48902934, "comment_id": 84815603, "body": "Though it worked, I wonder why!! I already have it implemented <code>HasSupportFragmentInjector</code> in my Activity. Give me a min. I ma sharing my activity code."}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "reply_to_user": {"reputation": 22313, "user_id": 1739882, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Li4nC.jpg?s=128&g=1", "display_name": "Chintan Soni", "link": "https://stackoverflow.com/users/1739882/chintan-soni"}, "edited": false, "score": 0, "creation_date": 1519213979, "post_id": 48902934, "comment_id": 84816010, "body": "@ChintanSoni because you do not have the right module installed anywhere and Dagger can not find an appropriate <code>@Provides</code> method for the support fragment: you either have to install it in your <code>ApplicationComponent</code> or in your <code>SplashActivityModule </code>."}, {"owner": {"reputation": 22313, "user_id": 1739882, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Li4nC.jpg?s=128&g=1", "display_name": "Chintan Soni", "link": "https://stackoverflow.com/users/1739882/chintan-soni"}, "edited": false, "score": 0, "creation_date": 1519214537, "post_id": 48902934, "comment_id": 84816383, "body": "Thank you for your Answer. What you did with Application class wasn&#39;t necessary as my activity is already implementing <code>HasSupportFragmentInjector</code> interface. Last point of including Module of <code>AndroidSupportInjectionModule</code> instead of <code>AndroidInjectionModule </code> was the main catch. Anyways. Thank you so much."}], "tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": true, "score": 1, "last_activity_date": 1519210118, "last_edit_date": 1519210118, "creation_date": 1519207114, "answer_id": 48902934, "question_id": 48902388, "link": "https://stackoverflow.com/questions/48902388/kotlin-dagger-2-execution-failed-for-task-appkaptdebugkotlin/48902934#48902934", "title": "kotlin + dagger 2 : Execution failed for task &#39;:app:kaptDebugKotlin&#39;", "body": "<p>If you're using <code>Fragment</code> from the support library, you've to use the <code>HasSupportFragmentInjector</code> in your <code>KotlinApplication</code>:</p>\n\n<pre><code>class KotlinApplication : Application(), HasActivityInjector, HasSupportFragmentInjector {\n\n    @Inject\n    lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    @Inject\n    lateinit var dispatchingFragmentInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n        initializeLogger()\n        initializeAppInjector()\n    }\n\n    private fun initializeAppInjector() {\n        AppInjector.init(this)\n    }\n\n    private fun initializeLogger() {\n        if (BuildConfig.DEBUG) {\n            Timber.plant(Timber.DebugTree())\n        }\n    }\n\n    override fun activityInjector(): DispatchingAndroidInjector&lt;Activity&gt;? {\n        return dispatchingAndroidInjector\n    }\n\n    override fun supportFragmentInjector(): AndroidInjector&lt;Fragment&gt;? {\n        return dispatchingFragmentInjector\n    }\n}\n</code></pre>\n\n<p>also you've to install <code>AndroidSupportInjectionModule</code> instead of <code>AndroidInjectionModule</code> in your <code>ApplicationComponent</code>:</p>\n\n<pre><code>@Singleton\n@Component(modules = [(AndroidSupportInjectionModule::class), (AppModule::class), (SplashActivityModule::class)])\ninterface ApplicationComponent {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(application: Application): Builder\n\n        fun build(): ApplicationComponent\n    }\n\n    fun inject(kotlinApplication: KotlinApplication)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22313, "user_id": 1739882, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Li4nC.jpg?s=128&g=1", "display_name": "Chintan Soni", "link": "https://stackoverflow.com/users/1739882/chintan-soni"}, "is_accepted": false, "score": 0, "last_activity_date": 1519216258, "creation_date": 1519216258, "answer_id": 48906012, "question_id": 48902388, "link": "https://stackoverflow.com/questions/48902388/kotlin-dagger-2-execution-failed-for-task-appkaptdebugkotlin/48906012#48906012", "title": "kotlin + dagger 2 : Execution failed for task &#39;:app:kaptDebugKotlin&#39;", "body": "<p>Everything was wired correctly. What I was doing wrong, </p>\n\n<p>In <code>ApplicationComponent</code> I included <code>AndroidInjectionModule</code> which will only work to Inject Fragment from Android Framework.</p>\n\n<p>Looking at the source of <strong>AndroidInjectionModule</strong>:</p>\n\n<pre><code>package dagger.android;\n\nimport android.app.Activity;\nimport android.app.Fragment;\nimport android.app.Service;\nimport android.content.BroadcastReceiver;\nimport android.content.ContentProvider;\nimport dagger.Module;\nimport dagger.internal.Beta;\nimport dagger.multibindings.Multibinds;\nimport java.util.Map;\n\n/**\n * Contains bindings to ensure the usability of {@code dagger.android} framework classes. This\n * module should be installed in the component that is used to inject the {@link\n * android.app.Application} class.\n */\n@Beta\n@Module\npublic abstract class AndroidInjectionModule {\n  @Multibinds\n  abstract Map&lt;Class&lt;? extends Activity&gt;, AndroidInjector.Factory&lt;? extends Activity&gt;&gt;\n      activityInjectorFactories();\n\n  @Multibinds\n  abstract Map&lt;Class&lt;? extends Fragment&gt;, AndroidInjector.Factory&lt;? extends Fragment&gt;&gt;\n      fragmentInjectorFactories();\n\n  @Multibinds\n  abstract Map&lt;Class&lt;? extends Service&gt;, AndroidInjector.Factory&lt;? extends Service&gt;&gt;\n      serviceInjectorFactories();\n\n  @Multibinds\n  abstract Map&lt;\n          Class&lt;? extends BroadcastReceiver&gt;, AndroidInjector.Factory&lt;? extends BroadcastReceiver&gt;&gt;\n      broadcastReceiverInjectorFactories();\n\n  @Multibinds\n  abstract Map&lt;\n          Class&lt;? extends ContentProvider&gt;, AndroidInjector.Factory&lt;? extends ContentProvider&gt;&gt;\n      contentProviderInjectorFactories();\n\n  private AndroidInjectionModule() {}\n}\n</code></pre>\n\n<p>No mentions about Fragment from Support Library.</p>\n\n<p>Now, if we look at the source of <strong>AndroidSupportInjectionModule</strong>:</p>\n\n<pre><code>package dagger.android.support;\n\nimport android.support.v4.app.Fragment;\nimport dagger.Module;\nimport dagger.android.AndroidInjectionModule;\nimport dagger.android.AndroidInjector;\nimport dagger.internal.Beta;\nimport dagger.multibindings.Multibinds;\nimport java.util.Map;\n\n/**\n * Configures bindings to ensure the usability of {@code dagger.android} and {@code\n * dagger.android.support} framework classes. This module should be installed in the root-most\n * component which will use these types.\n */\n@Beta\n@Module(includes = AndroidInjectionModule.class)\npublic abstract class AndroidSupportInjectionModule {\n  @Multibinds\n  abstract Map&lt;Class&lt;? extends Fragment&gt;, AndroidInjector.Factory&lt;? extends Fragment&gt;&gt;\n      supportFragmentInjectorFactories();\n\n  private AndroidSupportInjectionModule() {}\n}\n</code></pre>\n\n<p>It includes support for injecting <code>Fragment</code> from Support Library. </p>\n\n<p>If you notice, <code>AndroidSupportInjectionModule</code> also includes <code>AndroidInjectionModule</code>. Hence, just including <code>AndroidSupportInjectionModule</code> will work perfectly.</p>\n\n<p>My BaseActivity was implementing <code>HasSupportFragmentInjector</code> which only works with Support Fragment. There was no Module included into ApplicationComponent that can provide <code>Fragment</code> dependency from Support Library, which was the main issue.</p>\n"}], "owner": {"reputation": 22313, "user_id": 1739882, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Li4nC.jpg?s=128&g=1", "display_name": "Chintan Soni", "link": "https://stackoverflow.com/users/1739882/chintan-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "accepted_answer_id": 48902934, "answer_count": 2, "score": 0, "last_activity_date": 1519216258, "creation_date": 1519205547, "last_edit_date": 1519213608, "question_id": 48902388, "link": "https://stackoverflow.com/questions/48902388/kotlin-dagger-2-execution-failed-for-task-appkaptdebugkotlin", "title": "kotlin + dagger 2 : Execution failed for task &#39;:app:kaptDebugKotlin&#39;", "body": "<p>So, I am trying to create an example, inspiring from <a href=\"https://github.com/googlesamples/android-architecture-components/tree/master/GithubBrowserSample\" rel=\"nofollow noreferrer\">GithubBrowserSample</a> with Kotlin. I have successfully migrated to kotlin code but I getting error with my <code>ApplicationComponent.kt</code>. </p>\n\n<pre><code>Error:(12, 2) error: [dagger.android.AndroidInjector.inject(T)] java.util.Map&lt;java.lang.Class&lt;? extends android.support.v4.app.Fragment&gt;,javax.inject.Provider&lt;dagger.android.AndroidInjector.Factory&lt;? extends android.support.v4.app.Fragment&gt;&gt;&gt; cannot be provided without an @Provides-annotated method.\npublic abstract interface ApplicationComponent {\n                ^\n      java.util.Map&lt;java.lang.Class&lt;? extends android.support.v4.app.Fragment&gt;,javax.inject.Provider&lt;dagger.android.AndroidInjector.Factory&lt;? extends android.support.v4.app.Fragment&gt;&gt;&gt; is injected at\n          dagger.android.DispatchingAndroidInjector.&lt;init&gt;(injectorFactories)\n      dagger.android.DispatchingAndroidInjector&lt;android.support.v4.app.Fragment&gt; is injected at\n          com.chintansoni.android.architecturecomponentsblueprint.base.BaseActivity.dispatchingAndroidInjector\n      com.chintansoni.android.architecturecomponentsblueprint.view.activity.SplashActivity is injected at\n          dagger.android.AndroidInjector.inject(arg0)\n</code></pre>\n\n<p>I can see that issue is surfaced from AndroidInjectionModule from <code>import dagger.android.AndroidInjectionModule</code></p>\n\n<p>Let me share my code snippets.</p>\n\n<p><strong>KotlinApplication.kt</strong></p>\n\n<pre><code>class KotlinApplication : Application(), HasActivityInjector {\n\n    @Inject\n    lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n        initializeLogger()\n        initializeAppInjector()\n    }\n\n    private fun initializeAppInjector() {\n        AppInjector.init(this)\n    }\n\n    private fun initializeLogger() {\n        if (BuildConfig.DEBUG) {\n            Timber.plant(Timber.DebugTree())\n        }\n    }\n\n    override fun activityInjector(): DispatchingAndroidInjector&lt;Activity&gt;? {\n        return dispatchingAndroidInjector\n    }\n}\n</code></pre>\n\n<p><strong>AppInjector.kt</strong></p>\n\n<pre><code>object AppInjector {\n    fun init(kotlinApplication: KotlinApplication) {\n        DaggerApplicationComponent.builder()\n                .application(kotlinApplication)\n                .build()\n                .inject(kotlinApplication)\n\n        kotlinApplication.registerActivityLifecycleCallbacks(object : Application.ActivityLifecycleCallbacks {\n\n            override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) {\n                handleActivity(activity)\n            }\n\n            override fun onActivityStarted(activity: Activity) {\n\n            }\n\n            override fun onActivityResumed(activity: Activity) {\n\n            }\n\n            override fun onActivityPaused(activity: Activity) {\n\n            }\n\n            override fun onActivityStopped(activity: Activity) {\n\n            }\n\n            override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {\n\n            }\n\n            override fun onActivityDestroyed(activity: Activity) {\n\n            }\n        })\n    }\n\n    private fun handleActivity(activity: Activity) {\n        if (activity is HasSupportFragmentInjector) {\n            AndroidInjection.inject(activity)\n        }\n        (activity as? FragmentActivity)?.supportFragmentManager?.registerFragmentLifecycleCallbacks(\n                object : FragmentManager.FragmentLifecycleCallbacks() {\n                    override fun onFragmentCreated(fm: FragmentManager, f: Fragment,\n                                                   savedInstanceState: Bundle) {\n                        if (f is Injectable) {\n                            AndroidSupportInjection.inject(f)\n                        }\n                    }\n                }, true)\n    }\n}\n</code></pre>\n\n<p><strong>ApplicationComponent.kt</strong></p>\n\n<pre><code>@Singleton\n@Component(modules = [(AndroidInjectionModule::class), (AppModule::class), (SplashActivityModule::class)])\ninterface ApplicationComponent {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(application: Application): Builder\n\n        fun build(): ApplicationComponent\n    }\n\n    fun inject(kotlinApplication: KotlinApplication)\n}\n</code></pre>\n\n<p><strong>SplashActivityModule.kt</strong></p>\n\n<pre><code>@Module\nabstract class SplashActivityModule {\n    @ContributesAndroidInjector(modules = [(FragmentBuildersModule::class)])\n    internal abstract fun contributeSplashActivity(): SplashActivity\n}\n</code></pre>\n\n<p><strong>BaseActivity.kt</strong></p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity(), HasSupportFragmentInjector {\n\n    @Inject\n    lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\n    override fun supportFragmentInjector(): DispatchingAndroidInjector&lt;Fragment&gt; {\n        return dispatchingAndroidInjector\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(getLayoutResource())\n    }\n\n    abstract fun getLayoutResource(): Int\n}\n</code></pre>\n\n<p>My <code>SplashActivity</code> extends <code>BaseActivity</code>.</p>\n"}, {"tags": ["android", "kotlin", "wifi", "wifimanager"], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 6679332, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GNZNWjSpUuo/AAAAAAAAAAI/AAAAAAAAIR0/0Sk1tnQQlbY/photo.jpg?sz=128", "display_name": "Asghar Musani", "link": "https://stackoverflow.com/users/6679332/asghar-musani"}, "is_accepted": true, "score": 3, "last_activity_date": 1530796094, "last_edit_date": 1530796094, "creation_date": 1530472886, "answer_id": 51126310, "question_id": 48900479, "link": "https://stackoverflow.com/questions/48900479/need-to-forget-configured-wifi-network-programmatically-in-android-6-0/51126310#51126310", "title": "Need to forget configured Wifi network programmatically in Android 6.0", "body": "<p>First thing is you don't need to use <a href=\"https://developer.android.com/reference/android/net/wifi/WifiManager#saveConfiguration()\" rel=\"nofollow noreferrer\" title=\"saveConfiguration &#40;&#41;\">saveConfiguration()</a>.</p>\n\n<blockquote>\n  <p>This method was deprecated in API level 26.</p>\n  \n  <p>There is no need to call this method - addNetwork(WifiConfiguration), updateNetwork(WifiConfiguration) and removeNetwork(int) already persist the configurations automatically.</p>\n</blockquote>\n\n<p>Secondly, what you're looking for is <a href=\"https://developer.android.com/reference/android/net/wifi/WifiManager#removeNetwork(int)\" rel=\"nofollow noreferrer\">removeNetwork()</a>.</p>\n\n<p>Your code will look like:</p>\n\n<pre><code>val wifiManager = this@SelectWifiSettingsActivity.baseContext!!.getSystemService(android.content.Context.WIFI_SERVICE) as WifiManager\n    val list = wifiManager.configuredNetworks\n    for (i in list) {\n        wifiManager.removeNetwork(i.networkId)\n    }  \n</code></pre>\n\n<p>Being said that... There are some changes in the Android M APIs for WifiManager. </p>\n\n<blockquote>\n  <p>Your apps can now change the state of WifiConfiguration objects only\n  if you created these objects. You are not permitted to modify or\n  delete WifiConfiguration objects created by the user or by other apps.</p>\n</blockquote>\n\n<p>See <a href=\"https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-network\" rel=\"nofollow noreferrer\">Network Changes in Android M</a></p>\n"}], "owner": {"reputation": 432, "user_id": 8559029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFSRz.jpg?s=128&g=1", "display_name": "Kishan sharma", "link": "https://stackoverflow.com/users/8559029/kishan-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2506, "favorite_count": 2, "accepted_answer_id": 51126310, "answer_count": 1, "score": 7, "last_activity_date": 1560145383, "creation_date": 1519198885, "last_edit_date": 1560145383, "question_id": 48900479, "link": "https://stackoverflow.com/questions/48900479/need-to-forget-configured-wifi-network-programmatically-in-android-6-0", "title": "Need to forget configured Wifi network programmatically in Android 6.0", "body": "<p>I have implemented the system to connect to wifi networks from my app programmatically, now I want to forget configured WIFI networks programmatically from the application.</p>\n\n<p>I have implemented this into my application already and its been working fine on the Android 5.0 and lower devices (Less then API 22).</p>\n\n<p>For Android 6.0 and the higher device it is not working (Higher and equal then API 23).</p>\n\n<p>Please refer the following code:</p>\n\n<pre><code>    val wifiManager = this@SelectWifiSettingsActivity.baseContext!!.getSystemService(android.content.Context.WIFI_SERVICE) as WifiManager\n    val list = wifiManager.configuredNetworks\n    for (i in list) {\n        wifiManager.disableNetwork(i.networkId)\n        wifiManager.saveConfiguration()\n    }    \n</code></pre>\n\n<p>I have also referred the following link:\n  <a href=\"https://stackoverflow.com/a/33075445/9360112\">https://stackoverflow.com/a/33075445/9360112</a></p>\n\n<p>As there are some changes in WIFI configurations in Android 6.0.</p>\n\n<p>Please, help me if anyone has solution for this on Android 6.0 onwards. </p>\n"}, {"tags": ["java", "android", "kotlin", "voip"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1519213180, "post_id": 48900302, "comment_id": 84815435, "body": "<i>&quot;even though I have it in my onDestroy&quot;</i> An Activity won&#39;t necessarily be destroyed when you leave your app. For example, pressing the home button or selecting another app from the Recent Apps list will pause/stop your Activity, but not destroy it."}, {"owner": {"reputation": 11, "user_id": 9389543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae69a9b7a097091120385b654ef2d308?s=128&d=identicon&r=PG&f=1", "display_name": "TheOne1992", "link": "https://stackoverflow.com/users/9389543/theone1992"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1519223711, "post_id": 48900302, "comment_id": 84822874, "body": "@Michael thats true, thank you for reminding me of that."}], "owner": {"reputation": 11, "user_id": 9389543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae69a9b7a097091120385b654ef2d308?s=128&d=identicon&r=PG&f=1", "display_name": "TheOne1992", "link": "https://stackoverflow.com/users/9389543/theone1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519198835, "creation_date": 1519198222, "last_edit_date": 1519198835, "question_id": 48900302, "link": "https://stackoverflow.com/questions/48900302/app-making-phone-in-call-state-always", "title": "App making phone in Call state always", "body": "<p>So recently I have been working on an App that lets the user make Video/audio calls, instant text messages, images .. and I discovered by accident that apparently my my app is always keeping the phone in an \"in call\" state even when it's closed. </p>\n\n<p>I noticed this after I tried playing a video message on the app and I got the message \"can't play video while in call\" and then I tried to lower the phone's volume and the default volume shown was the \"in call volume\" instead of \"media volume\", like I said this persisted even after closing the app. </p>\n\n<p>did anyone come across anything like this and why it's happening, and I honestly have no idea how it did happen and all my searches lead to nothing. </p>\n\n<p>I wanted to mention that in my video and audio call I do change the speakers mode, can that be the cause if the activity exits without putting the speakers on back on \"MODE_IN_COMMUNICATION\" even though I have it in my onDestroy ? </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["android", "kotlin", "flutter"], "comments": [{"owner": {"reputation": 1915, "user_id": 2294560, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XBv6m.jpg?s=128&g=1", "display_name": "Imtiyaz Khalani", "link": "https://stackoverflow.com/users/2294560/imtiyaz-khalani"}, "edited": false, "score": 0, "creation_date": 1519193707, "post_id": 48899176, "comment_id": 84803816, "body": "double check on image file, I think something problem with image"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1519193836, "post_id": 48899176, "comment_id": 84803871, "body": "bmp? make it either png or jpg (not sure about webp)"}, {"owner": {"reputation": 1978, "user_id": 8079239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/630167203460c27c1bbaef40358c828f?s=128&d=identicon&r=PG&f=1", "display_name": "grepLines", "link": "https://stackoverflow.com/users/8079239/greplines"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1519194080, "post_id": 48899176, "comment_id": 84803956, "body": "@pskink I use .bmp because it&#39;s asking for bitmap image"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1519194105, "post_id": 48899176, "comment_id": 84803966, "body": "so convert it to <code>.png</code> or <code>.jpg</code> (not sure about <code>.webp</code>)"}, {"owner": {"reputation": 1978, "user_id": 8079239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/630167203460c27c1bbaef40358c828f?s=128&d=identicon&r=PG&f=1", "display_name": "grepLines", "link": "https://stackoverflow.com/users/8079239/greplines"}, "edited": false, "score": 0, "creation_date": 1519194277, "post_id": 48899176, "comment_id": 84804025, "body": "I have tried <code>.png</code> and <code>.jpg</code> but getting the same error"}, {"owner": {"reputation": 956, "user_id": 2735505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G5mOp.jpg?s=128&g=1", "display_name": "Bunny", "link": "https://stackoverflow.com/users/2735505/bunny"}, "edited": false, "score": 0, "creation_date": 1519195391, "post_id": 48899176, "comment_id": 84804479, "body": "what error its showing?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1519244327, "post_id": 48899176, "comment_id": 84835806, "body": "what does <code>context.getAssets().open(&quot;lib&#47;green_circle.png&quot;)</code> return? does it throw <code>IOException</code>?"}, {"owner": {"reputation": 1978, "user_id": 8079239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/630167203460c27c1bbaef40358c828f?s=128&d=identicon&r=PG&f=1", "display_name": "grepLines", "link": "https://stackoverflow.com/users/8079239/greplines"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1519333570, "post_id": 48899176, "comment_id": 84881192, "body": "@pskink sorry I took on another which has higher priority. Anyway, where is the <code>context</code> come from? I have tried this from googling <code>getContext().getAssets().open(&quot;lib&#47;green_circle.png&quot;)</code>, and I got <code>Unresolved reference: getContext()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4606, "user_id": 3758439, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jGzap.jpg?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/3758439/george"}, "is_accepted": false, "score": 0, "last_activity_date": 1546549051, "creation_date": 1546549051, "answer_id": 54029697, "question_id": 48899176, "link": "https://stackoverflow.com/questions/48899176/google-map-android-cannot-set-map-icon-from-bitmapdescriptorfactory-fromasset/54029697#54029697", "title": "google map android - cannot set map icon from BitmapDescriptorFactory.fromAsset", "body": "<p>There seems to be a problem with the way it handles the images. It does accept png, jpg and bmp, as I have tested with all of those, but I also had that same issue with some files of these formats (png and bmp).</p>\n\n<p>What I did was open some of the files on another image editor, overwrite the files, and it worked. Weirdly, the files were normal png icons from Adobe Photoshop, and they didn't work.</p>\n\n<p>If you have any issues or doubts, maybe try debugging with files from other sources, or editing it and saving it again.</p>\n"}, {"tags": [], "owner": {"reputation": 504, "user_id": 4562693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Px3Pb.png?s=128&g=1", "display_name": "rolznz", "link": "https://stackoverflow.com/users/4562693/rolznz"}, "is_accepted": false, "score": 0, "last_activity_date": 1570874150, "creation_date": 1570874150, "answer_id": 58352942, "question_id": 48899176, "link": "https://stackoverflow.com/questions/48899176/google-map-android-cannot-set-map-icon-from-bitmapdescriptorfactory-fromasset/58352942#58352942", "title": "google map android - cannot set map icon from BitmapDescriptorFactory.fromAsset", "body": "<p>I received the same error message for a different reason. My file was fine, but I provided an incorrect path to the file. </p>\n\n<p>Make sure you get the directory and filename correct!</p>\n"}], "owner": {"reputation": 1978, "user_id": 8079239, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/630167203460c27c1bbaef40358c828f?s=128&d=identicon&r=PG&f=1", "display_name": "grepLines", "link": "https://stackoverflow.com/users/8079239/greplines"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 793, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570874150, "creation_date": 1519193323, "last_edit_date": 1519194042, "question_id": 48899176, "link": "https://stackoverflow.com/questions/48899176/google-map-android-cannot-set-map-icon-from-bitmapdescriptorfactory-fromasset", "title": "google map android - cannot set map icon from BitmapDescriptorFactory.fromAsset", "body": "<p>I am trying to use custom marker using marker image that is provided as <code>.bmp</code> file. I am building cross platform application using <code>Flutter</code> and this is the native code for Android. The image is from the assets in pubspec.yaml in flutter project. </p>\n\n<pre><code>  marker = map\n       .addMarker(MarkerOptions()\n       .position(annotation.coordinate)\n       .title(annotation.title)\n       .icon(BitmapDescriptorFactory.fromAsset(\"lib/green_circle.bmp\")))\n</code></pre>\n\n<p>I got this error message for the code above: </p>\n\n<blockquote>\n  <p>com.google.maps.api.android.lib6.common.apiexception.b: Failed to\n  decode image. The provided image must be a Bitmap.</p>\n</blockquote>\n\n<p>I checked the image, and it's bmp\n<a href=\"https://i.stack.imgur.com/5uO0R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5uO0R.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "for-loop", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1519200273, "post_id": 48898102, "comment_id": 84806906, "body": "also see <a href=\"https://stackoverflow.com/questions/46825787/does-kotlin-have-an-enumerate-function-like-python/46826172#46826172\" title=\"does kotlin have an enumerate function like python\">stackoverflow.com/questions/46825787/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 7875939, "user_type": "registered", "profile_image": "https://graph.facebook.com/1939623309603146/picture?type=large", "display_name": "underfilho", "link": "https://stackoverflow.com/users/7875939/underfilho"}, "edited": false, "score": 4, "creation_date": 1542309590, "post_id": 48898123, "comment_id": 93533422, "body": "I think this answers is better because don&#39;t needs to learn something else, just the simple for loop +1"}], "tags": [], "owner": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "is_accepted": false, "score": 124, "last_activity_date": 1519186916, "creation_date": 1519186916, "answer_id": 48898123, "question_id": 48898102, "link": "https://stackoverflow.com/questions/48898102/how-to-get-the-current-index-in-for-each-kotlin/48898123#48898123", "title": "How to get the current index in for each Kotlin", "body": "<p>Use <code>indices</code></p>\n\n<pre><code>for (i in array.indices) {\n    print(array[i])\n}\n</code></pre>\n\n<p>If you want value as well as index Use <code>withIndex()</code></p>\n\n<pre><code>for ((index, value) in array.withIndex()) {\n    println(\"the element at $index is $value\")\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"noreferrer\">Control-flow in kotlin</a></p>\n"}, {"comments": [{"owner": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "edited": false, "score": 3, "creation_date": 1519196225, "post_id": 48898523, "comment_id": 84804876, "body": "Wow i think this one is better... Thanks"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "edited": false, "score": 1, "creation_date": 1519206054, "post_id": 48898523, "comment_id": 84810285, "body": "It works on Arrays and Iterables, what else do you need it to work on?"}, {"owner": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "edited": false, "score": 1, "creation_date": 1519207144, "post_id": 48898523, "comment_id": 84811129, "body": "Sorry confused with primitive java arrays."}, {"owner": {"reputation": 5308, "user_id": 7542765, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FBTZO.jpg?s=128&g=1", "display_name": "Levon Petrosyan", "link": "https://stackoverflow.com/users/7542765/levon-petrosyan"}, "edited": false, "score": 0, "creation_date": 1551312934, "post_id": 48898523, "comment_id": 96599093, "body": "Any way to use  <code>break</code> inside ?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1551333908, "post_id": 48898523, "comment_id": 96604100, "body": "You can&#39;t break from the entire loop, the only similar thing you can do is <code>return@forEachIndexed</code> which will essentially serve as a <code>continue</code> to skip to the next element. If you need to break, you&#39;d have to wrap it in a function, and use <code>return</code> in the loop to return from that enclosing function."}, {"owner": {"reputation": 713, "user_id": 10053046, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-blc7Eiz42RQ/AAAAAAAAAAI/AAAAAAAAABY/YaStNTOu03k/photo.jpg?sz=128", "display_name": "Mihae Kheel", "link": "https://stackoverflow.com/users/10053046/mihae-kheel"}, "reply_to_user": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "edited": false, "score": 0, "creation_date": 1618155928, "post_id": 48898523, "comment_id": 118511133, "body": "Using this will prevent you to work with <code>continue</code> use @Audi answer if you need such function"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 407, "last_activity_date": 1519189575, "creation_date": 1519189575, "answer_id": 48898523, "question_id": 48898102, "link": "https://stackoverflow.com/questions/48898102/how-to-get-the-current-index-in-for-each-kotlin/48898523#48898523", "title": "How to get the current index in for each Kotlin", "body": "<p>In addition to the solutions provided by @Audi, there's also <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each-indexed.html\" rel=\"noreferrer\"><code>forEachIndexed</code></a>:</p>\n\n<pre><code>collection.forEachIndexed { index, element -&gt;\n    // ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1519635615, "post_id": 48899907, "comment_id": 84973923, "body": "also consider using a function reference <code>.forEach(::println)</code>"}, {"owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1519667623, "post_id": 48899907, "comment_id": 84993881, "body": "@KirillRakhman, is using function references preferred style in situations like that? I am new to Kotlin, so I am still figuring this stuff out."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1519679593, "post_id": 48899907, "comment_id": 84999700, "body": "I tend to use function references whenever possible. When you have more than one parameter, you save a bunch of characters compared to using a lambda. But it&#39;s a matter of taste for sure."}], "tags": [], "owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "is_accepted": false, "score": 9, "last_activity_date": 1519635644, "last_edit_date": 1519635644, "creation_date": 1519196539, "answer_id": 48899907, "question_id": 48898102, "link": "https://stackoverflow.com/questions/48898102/how-to-get-the-current-index-in-for-each-kotlin/48899907#48899907", "title": "How to get the current index in for each Kotlin", "body": "<p>It seems that what you are really looking for is <code>filterIndexed</code></p>\n\n<p>For example:</p>\n\n<pre><code>listOf(\"a\", \"b\", \"c\", \"d\")\n    .filterIndexed { index, _ -&gt;  index % 2 != 0 }\n    .forEach { println(it) }\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>b\nd\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 4, "creation_date": 1519679656, "post_id": 48901057, "comment_id": 84999733, "body": "alternatively <code>(0..collection.lastIndex step 2)</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1519201280, "creation_date": 1519201280, "answer_id": 48901057, "question_id": 48898102, "link": "https://stackoverflow.com/questions/48898102/how-to-get-the-current-index-in-for-each-kotlin/48901057#48901057", "title": "How to get the current index in for each Kotlin", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/ranges.html\" rel=\"nofollow noreferrer\">Ranges</a> also lead to readable code in such situations:</p>\n\n<pre><code>(0 until collection.size step 2)\n    .map(collection::get)\n    .forEach(::println)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2545, "user_id": 3230218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qaS1J.png?s=128&g=1", "display_name": "Reinstate Monica", "link": "https://stackoverflow.com/users/3230218/reinstate-monica"}, "edited": false, "score": 6, "creation_date": 1539626667, "post_id": 52820729, "comment_id": 92561772, "body": "While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value."}, {"owner": {"reputation": 1347, "user_id": 10287345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mnU7I.jpg?s=128&g=1", "display_name": "E.Akio", "link": "https://stackoverflow.com/users/10287345/e-akio"}, "edited": false, "score": 0, "creation_date": 1594997948, "post_id": 52820729, "comment_id": 111331812, "body": "How can i put a limit for this loop? Like it goes until half or some numbers before end"}], "tags": [], "owner": {"reputation": 3875, "user_id": 4362167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwYkt.jpg?s=128&g=1", "display_name": "alicanozkara", "link": "https://stackoverflow.com/users/4362167/alicanozkara"}, "is_accepted": false, "score": 27, "last_activity_date": 1539619712, "creation_date": 1539619712, "answer_id": 52820729, "question_id": 48898102, "link": "https://stackoverflow.com/questions/48898102/how-to-get-the-current-index-in-for-each-kotlin/52820729#52820729", "title": "How to get the current index in for each Kotlin", "body": "<p>try this; for loop    </p>\n\n<pre><code>for ((i, item) in arrayList.withIndex()) { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7982, "user_id": 4694013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-NtYnVWhJ_TE/AAAAAAAAAAI/AAAAAAAAABI/ddYXTsg5YCM/photo.jpg?sz=128", "display_name": "Anoop M Maddasseri", "link": "https://stackoverflow.com/users/4694013/anoop-m-maddasseri"}, "is_accepted": false, "score": 20, "last_activity_date": 1594788324, "last_edit_date": 1594788324, "creation_date": 1553249536, "answer_id": 55297324, "question_id": 48898102, "link": "https://stackoverflow.com/questions/48898102/how-to-get-the-current-index-in-for-each-kotlin/55297324#55297324", "title": "How to get the current index in for each Kotlin", "body": "<p>Alternatively, you can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/with-index.html\" rel=\"noreferrer\"><code>withIndex</code></a> library function:</p>\n<pre><code>for ((index, value) in array.withIndex()) {\n    println(&quot;the element at $index is $value&quot;)\n}\n</code></pre>\n<blockquote>\n<p>Control Flow: if, when, for, while:\n<a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/control-flow.html</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 30786, "user_id": 2252113, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/TTazp.png?s=128&g=1", "display_name": "Hitesh Sahu", "link": "https://stackoverflow.com/users/2252113/hitesh-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1596719280, "creation_date": 1596719280, "answer_id": 63284292, "question_id": 48898102, "link": "https://stackoverflow.com/questions/48898102/how-to-get-the-current-index-in-for-each-kotlin/63284292#63284292", "title": "How to get the current index in for each Kotlin", "body": "<h2>Working Example of <code>forEachIndexed</code> in Android</h2>\n<p><strong>Iterate with Index</strong></p>\n<pre><code>itemList.forEachIndexed{index, item -&gt; \nprintln(&quot;index = $index, item = $item &quot;)\n}\n</code></pre>\n<p><strong>Update List using Index</strong></p>\n<pre><code>itemList.forEachIndexed{ index, item -&gt; item.isSelected= position==index}\n</code></pre>\n"}], "owner": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95032, "favorite_count": 24, "accepted_answer_id": 48898523, "answer_count": 7, "score": 196, "last_activity_date": 1596719280, "creation_date": 1519186727, "last_edit_date": 1595587253, "question_id": 48898102, "link": "https://stackoverflow.com/questions/48898102/how-to-get-the-current-index-in-for-each-kotlin", "title": "How to get the current index in for each Kotlin", "body": "<p>How to get the index in a for each loop? I want to print numbers for every second iteration</p>\n<p>For example</p>\n<pre><code>for (value in collection) {\n    if (iteration_no % 2) {\n        //do something\n    }\n}\n</code></pre>\n<p>In java, we have the traditional for loop</p>\n<pre><code>for (int i = 0; i &lt; collection.length; i++)\n</code></pre>\n<p>How to get the <code>i</code>?</p>\n"}, {"tags": ["spring-boot", "junit", "kotlin", "slf4j", "log4j2"], "answers": [{"tags": [], "owner": {"reputation": 1236, "user_id": 747661, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bgEJ3.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/747661/ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1519197444, "last_edit_date": 1519197444, "creation_date": 1519193899, "answer_id": 48899297, "question_id": 48898050, "link": "https://stackoverflow.com/questions/48898050/how-to-mock-log4j2-logger-object-using-slf4j-in-junit/48899297#48899297", "title": "How to mock log4j2 logger object using slf4j in Junit", "body": "<p>I found solution using Appender and ArgumentCaptor...\nSolution below for someone who might be interested...</p>\n\n<pre><code>import org.apache.logging.log4j.Level\nimport org.apache.logging.log4j.LogManager\nimport org.apache.logging.log4j.core.Appender\nimport org.apache.logging.log4j.core.LogEvent\nimport org.apache.logging.log4j.core.Logger\nimport org.junit.After\nimport org.junit.Assert.assertEquals\nimport org.junit.Before\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.mockito.ArgumentCaptor\nimport org.mockito.Captor\nimport org.mockito.InjectMocks\nimport org.mockito.Mock\nimport org.mockito.Mockito.*\nimport org.mockito.runners.MockitoJUnitRunner\nimport java.lang.StringBuilder\n\n@RunWith(MockitoJUnitRunner::class)\nclass ServiceTest {\n\n    @InjectMocks\n    var service: WriterService \n\n    @Mock\n    private val mockAppender: Appender? = null\n\n    @Captor\n    private val captorLoggingEvent: ArgumentCaptor&lt;LogEvent&gt;? = null\n\n    private var logger1: Logger? = null\n    private var logger2: Logger? = null\n\n    @Before\n    fun setup() {\n        `when`(mockAppender!!.name).thenReturn(\"MockAppender\")\n        `when`(mockAppender.isStarted).thenReturn(true)\n        `when`(mockAppender.isStopped).thenReturn(false)\n\n        logger1 = LogManager.getLogger(\"t_logger\") as Logger\n        logger1!!.addAppender(mockAppender)\n        logger1!!.level = Level.INFO\n\n        logger2 = LogManager.getLogger(\"b_logger\") as Logger\n        logger2!!.addAppender(mockAppender)\n        logger2!!.level = Level.INFO\n    }\n\n    @After\n    fun tearDown() {\n        logger1!!.removeAppender(mockAppender!!)\n        logger2!!.removeAppender(mockAppender!!)\n    }\n\n    @Test\n    fun writeLog_shouldWriteTransactionLogWhenLabelIs_T() {\n\n        val payload = hashMapOf(\"Label\" to \"t\")\n\n        service.writeLog(payload)\n\n        verify(mockAppender, times(1))!!.append(captorLoggingEvent!!.capture())\n        assertEquals(captorLoggingEvent.value.level, Level.INFO)\n        assertEquals(captorLoggingEvent.value.loggerName, \"t_logger\")\n        assertEquals(captorLoggingEvent.value.message.formattedMessage, \"{Label=t}\")\n    }\n\n    @Test\n    fun writeLog_shouldWriteBackendLogWhenLabelIs_B() {\n\n        val payload = hashMapOf(\"Label\" to \"b\")\n\n        service.writeLog(payload)\n\n        verify(mockAppender, times(1))!!.append(captorLoggingEvent!!.capture())\n        assertEquals(captorLoggingEvent.value.level, Level.INFO)\n        assertEquals(captorLoggingEvent.value.loggerName, \"b_logger\")\n        assertEquals(captorLoggingEvent.value.message.formattedMessage, \"{Label=b}\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1236, "user_id": 747661, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/bgEJ3.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/747661/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1188, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1519197444, "creation_date": 1519186340, "last_edit_date": 1519190148, "question_id": 48898050, "link": "https://stackoverflow.com/questions/48898050/how-to-mock-log4j2-logger-object-using-slf4j-in-junit", "title": "How to mock log4j2 logger object using slf4j in Junit", "body": "<p>I have below code where I am creating different log4j2 loggers object using slf4j factory and I need to write to specific log file based on input param.</p>\n\n<pre><code>@Service\nclass WriterService {\n\nval logger1: Logger = LoggerFactory.getLogger(\"t_logger\")\nval logger2: Logger = LoggerFactory.getLogger(\"b_logger\")\nval labelKey = \"Label\"\n\nfun writeLog(payload: Map&lt;String, Any&gt;){\n\n    if(payload.containsKey(labelKey)) {\n\n        val label = payload[labelKey].toString().toLowerCase()\n\n        if (label == \"t\") {\n            logger1.info(\"{}\", payload)\n\n        } else if (label == \"b\") {\n            logger2.info(\"{}\", payload)\n        }\n    }\n}\n</code></pre>\n\n<p>I am wondering how can I mock Logger objects using MockitoJUnitRunner so that I can mock which logger object was invoked ?</p>\n"}, {"tags": ["android", "kotlin", "android-tablayout"], "comments": [{"owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "edited": false, "score": 0, "creation_date": 1519184410, "post_id": 48897725, "comment_id": 84801129, "body": "So, you want to change text whenever you change the tabs?"}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "edited": false, "score": 0, "creation_date": 1519184562, "post_id": 48897725, "comment_id": 84801157, "body": "Yes! I&#39;ve got it figured out how to (finally) send data through a newInstance via TabsAdapter. But after I got all that set up I find I can&#39;t even update the value of the textView at all. I have no idea why this should be this hard."}], "answers": [{"comments": [{"owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "edited": false, "score": 0, "creation_date": 1519186817, "post_id": 48898078, "comment_id": 84801671, "body": "I thought you want to update the fragments whenever changed tabs, lol"}], "tags": [], "owner": {"reputation": 10753, "user_id": 3159267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXQnC.jpg?s=128&g=1", "display_name": "rajan.kali", "link": "https://stackoverflow.com/users/3159267/rajan-kali"}, "is_accepted": true, "score": 1, "last_activity_date": 1519186557, "creation_date": 1519186557, "answer_id": 48898078, "question_id": 48897725, "link": "https://stackoverflow.com/questions/48897725/fragment-inside-tabadapter-refuse-to-update-textview/48898078#48898078", "title": "Fragment inside TabAdapter Refuse to Update TextView", "body": "<p>Change your method to return a <code>view</code> instead of inflating it again as</p>\n\n<pre><code>class HomeFragment : Fragment() {\n\n    var weathermainView: TextView?=null\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n\n        val view = inflater!!.inflate(R.layout.fragment_home, container, false)\n\n        val weathermainView = view.findViewById&lt;TextView&gt;(R.id.textweathermain)\n\n\n\n        println(\"***********************************************\")\n        println(\"value of weathermainView in onCreateView BEFORE setting: \" + weathermainView?.text)\n        println(\"***********************************************\")\n        weathermainView.setText(\"YOLO DAWG\")\n        println(\"***********************************************\")\n        println(\"value of weathermainView in onCreateView AFTER setting: \" + weathermainView?.text)\n        println(\"***********************************************\")\n        return view //&lt; --- do this\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 48898078, "answer_count": 1, "score": 0, "last_activity_date": 1519186557, "creation_date": 1519183565, "last_edit_date": 1519184940, "question_id": 48897725, "link": "https://stackoverflow.com/questions/48897725/fragment-inside-tabadapter-refuse-to-update-textview", "title": "Fragment inside TabAdapter Refuse to Update TextView", "body": "<p>I have a super simple <code>Fragment</code> that exists in a <code>TabAdapter</code>. I can't for some reason update one of the <code>textViews</code>. Here is what it looks like. I want to update the <code>textView</code> that says \"hello there home fragment\" (the bigger one).</p>\n\n<p><a href=\"https://i.stack.imgur.com/rtFHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rtFHL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my main activity: </p>\n\n<pre><code>class MainActivity: AppCompatActivity(){\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        setSupportActionBar(toolbar)\n        getSupportActionBar()?.hide();\n\n\n        view_pager.adapter = TabsAdapter(supportFragmentManager)\n\n        tab_layout.setupWithViewPager(view_pager)\n\n    }\n}\n</code></pre>\n\n<p>Here is my TabsAdapter:</p>\n\n<pre><code>class TabsAdapter(manager: FragmentManager) : FragmentPagerAdapter(manager) {\n\n    private val fragmentTitles = arrayOf(\"Home\", \"Music\", \"Map\")\n\n    override fun getItem(position: Int): Fragment {\n        when (position) {\n            0 -&gt;\n                return HomeFragment()\n            1 -&gt;\n                return MusicFragment()\n            2 -&gt;\n                return MapFragment()\n            else -&gt;\n                return HomeFragment()\n        }\n    }\n    // Return the number of views/fragments available.\n    override fun getCount(): Int = 3 // in our case 3 fragments\n    // Return title based on position\n    override fun getPageTitle(position: Int): CharSequence {\n        return fragmentTitles[position]\n    }\n}\n</code></pre>\n\n<p>And here is my HomeFragment():</p>\n\n<pre><code>class HomeFragment : Fragment() {\n\n    var weathermainView: TextView?=null\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n\n        val view = inflater!!.inflate(R.layout.fragment_home, container, false)\n\n        val weathermainView = view.findViewById&lt;TextView&gt;(R.id.textweathermain)\n\n\n\n        println(\"***********************************************\")\n        println(\"value of weathermainView in onCreateView BEFORE setting: \" + weathermainView?.text)\n        println(\"***********************************************\")\n        weathermainView.setText(\"YOLO DAWG\")\n        println(\"***********************************************\")\n        println(\"value of weathermainView in onCreateView AFTER setting: \" + weathermainView?.text)\n        println(\"***********************************************\")\n        return inflater!!.inflate(R.layout.fragment_home, container, false)\n    }\n}\n</code></pre>\n\n<p>So the tabs definitely cycle as they should, but when I boot the emulator, and this is the output:</p>\n\n<pre><code>I/System.out: ***********************************************\nI/System.out: value of weathermainView in onCreateView BEFORE setting: hello there home fragment\nI/System.out: ***********************************************\nI/System.out: ***********************************************\nI/System.out: value of weathermainView in onCreateView AFTER setting: YOLO DAWG\nI/System.out: ***********************************************\n</code></pre>\n\n<p><strong>HOWEVER</strong></p>\n\n<p>The home screen does not change, <em>even though</em> it says that the textView.text value should be different. I have double checked that the textView item is the correct one in my layouts package. I've also tried setting the text in the onViewCreated lifecycle hook, but that doesn't seem to work either.</p>\n\n<p>This really shouldn't be this hard. I've looked for days on stackoverflow and in the docs, and as best I can tell this is the way you are supposed to do it. Any help would be appreciated.</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java2", "reactive-streams"], "answers": [{"tags": [], "owner": {"reputation": 77, "user_id": 7794964, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qasgAe65oIs/AAAAAAAAAAI/AAAAAAAAAZw/Jqz4JAeWb_c/photo.jpg?sz=128", "display_name": "Matt Goodwin", "link": "https://stackoverflow.com/users/7794964/matt-goodwin"}, "is_accepted": false, "score": 0, "last_activity_date": 1519185492, "creation_date": 1519185492, "answer_id": 48897939, "question_id": 48897274, "link": "https://stackoverflow.com/questions/48897274/merge-hot-and-cold-observable-with-buffer/48897939#48897939", "title": "Merge Hot and Cold Observable with buffer", "body": "<p>Here is a solution that has a similar effect to what I am looking for.\nIt stores the live data and then processes it once the service call has finished</p>\n\n<pre><code>@Test\nfun test2() {\n    val randomString = \"abc123\"\n    val realLog = ConcurrentHashMap&lt;String, Boolean&gt;()\n\n    var isLive = false\n\n    val subject = PublishSubject.create&lt;Pair&lt;String, Boolean&gt;&gt;()\n\n    val subscription = subject.hide()\n            .doOnNext {\n                if (isLive) {\n                    realLog[it.first] = it.second\n                } else {\n\n                    realLog[it.first+ randomString] = it.second\n                }\n            }.subscribe()\n\n    subject.onNext(Pair(\"one\", false))\n\n    val coldTest = Observable.just(\"one\",\"two\",\"three\")\n            .map { Pair(it, true) }\n            .doOnSubscribe {\n                subject.onNext(Pair(\"twenty\", false))\n            }\n            .doOnNext{\n                realLog[it.first] = it.second\n            }\n            .doOnComplete {\n                val iterator = realLog.keys.iterator()\n                while(iterator.hasNext()){\n                    val oldKey = iterator.next()\n                    if(oldKey.contains(randomString)){\n                        val newKey = oldKey.removeSuffix(randomString)\n                        realLog[newKey] = realLog[oldKey]!!\n                        realLog.remove(oldKey)\n                    }\n                }\n                isLive = true\n                subject.onNext(Pair(\"Thirty\", false))\n            }\n            .test()\n\n    coldTest.awaitTerminalEvent()\n    coldTest.assertComplete()\n\n    Assert.assertFalse(realLog[\"Thirty\"]!!)\n</code></pre>\n\n<p>It doesn't emit a single stream, i'm still not sure if this is possible.</p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 7987898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1efe3689c4a1ec7a30521f2348023adb?s=128&d=identicon&r=PG&f=1", "display_name": "dancesWithCodes", "link": "https://stackoverflow.com/users/7987898/danceswithcodes"}, "is_accepted": false, "score": 0, "last_activity_date": 1532292983, "last_edit_date": 1532292983, "creation_date": 1532242757, "answer_id": 51462767, "question_id": 48897274, "link": "https://stackoverflow.com/questions/48897274/merge-hot-and-cold-observable-with-buffer/51462767#51462767", "title": "Merge Hot and Cold Observable with buffer", "body": "<p>I am not sure I understand all of your code (new to rx myself). But your use case seems to be identical to one I had.</p>\n\n<p>My use case was this (so you can decide if it is relevant): I used an HTTP request to get the initial state of a data structure. But a web socket stream kept sending updates to that data. If I first initialized the data structure, and then updated it with the stream, updates would have been lost in the short time span in between. So I needed to get the stream first, cache its update data while waiting for the HTTP request to return with the data structure, and then apply the backlog of updates from the stream (in the cache) on the data. And from there move along updating as data from socket comes in.</p>\n\n<p>I don't know Kotlin, so in Java:</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    //This one would correspond to the continuous stream of updates.\n    //It sends Long, one each second\n    Observable&lt;Long&gt; listUpdater = Observable.interval(1, TimeUnit.SECONDS);\n    //Acts as both observable and observer, that replays everything to its own\n    //observers.\n    Subject&lt;Long&gt; replaySubjbect = ReplaySubject.create();\n    //Start getting items from listUpdater immediately\n    listUpdater.subscribe(replaySubjbect);\n    //To show that listUpdater moves along regardless of what you are doing, as would\n    //be the case for example with a websocket.\n    listUpdater.subscribe(i -&gt; System.out.println(\"I am also watching, i=\" + i));\n    //This callable corresponds to whatever returns the initial state of the list,\n    //for example some http request\n    Callable&lt;List&lt;Long&gt;&gt; clbl = () -&gt; Arrays.asList(1L, 2L, 3L, 4L, 5L);\n    //This is where the merging takes place, although we are not using one of the merging\n    //methods, but scanWith. \n    Observable&lt;List&lt;Long&gt;&gt; theStream = replaySubjbect.scanWith(clbl, (List&lt;Long&gt; list, Long l) -&gt; {\n        //This updater adds l to each element of the list\n        System.out.println(\"I am adding \" + l + \" to each element in the list\");\n        return list.stream().mapToLong(k -&gt; k + l).boxed().collect(Collectors.toList());            \n    });\n    //Simulate a response time for the http request, or whatever it is the callable is doing\n    Thread.sleep(3000);\n    //Now we get the stream of lists, updated for each of the update data sent by the\n    //original listUpdater\n    theStream.subscribe(list -&gt; System.out.println(\"theStream sent me this: \" + list));\n    //Just to see how it works, we sleep some more\n    Thread.sleep(5000); \n}\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>I am also watching, i=0\nI am also watching, i=1\nI am also watching, i=2\ntheStream sent me this: [1, 2, 3, 4, 5] &lt;- cahce retrieval starts\nI am adding 0 to each element in the list \ntheStream sent me this: [1, 2, 3, 4, 5] \nI am adding 1 to each element in the list \ntheStream sent me this: [2, 3, 4, 5, 6] \nI am adding 2 to each element in the list \ntheStream sent me this: [4, 5, 6, 7, 8]\nI am also watching, i=3     \nI am adding 3 to each element in the list &lt;- from here on, update list as updates come in\ntheStream sent me this: [7, 8, 9, 10, 11]\nI am also watching, i=4\nI am adding 4 to each element in the list\ntheStream sent me this: [11, 12, 13, 14, 15]\nI am also watching, i=5\nI am adding 5 to each element in the list\ntheStream sent me this: [16, 17, 18, 19, 20]\nI am also watching, i=6\nI am adding 6 to each element in the list\ntheStream sent me this: [22, 23, 24, 25, 26]\nI am also watching, i=7\nI am adding 7 to each element in the list\ntheStream sent me this: [29, 30, 31, 32, 33]\n</code></pre>\n\n<p>scanWith:\n<a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html#scanWith-java.util.concurrent.Callable-io.reactivex.functions.BiFunction-\" rel=\"nofollow noreferrer\">http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html#scanWith-java.util.concurrent.Callable-io.reactivex.functions.BiFunction-</a></p>\n\n<p>You could also use scan (supply initial data directly, instead of with a Callable):\n<a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html#scan-R-io.reactivex.functions.BiFunction-\" rel=\"nofollow noreferrer\">http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html#scan-R-io.reactivex.functions.BiFunction-</a></p>\n"}], "owner": {"reputation": 77, "user_id": 7794964, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qasgAe65oIs/AAAAAAAAAAI/AAAAAAAAAZw/Jqz4JAeWb_c/photo.jpg?sz=128", "display_name": "Matt Goodwin", "link": "https://stackoverflow.com/users/7794964/matt-goodwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 430, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1532292983, "creation_date": 1519180040, "question_id": 48897274, "link": "https://stackoverflow.com/questions/48897274/merge-hot-and-cold-observable-with-buffer", "title": "Merge Hot and Cold Observable with buffer", "body": "<p>I have 2 sources of data.  </p>\n\n<ol>\n<li>A service call which gets the current state of a list of items</li>\n<li>A stream of updates to these items</li>\n</ol>\n\n<p>I am trying to merge them in a way that I don't lose any of the updates while making the service call.</p>\n\n<p>I made a simple test to experiment with that I think shows what I want</p>\n\n<pre><code>private val coldObservable = Observable.just(1, 2, 3, 4, 5)\nprivate val subject = PublishSubject.create&lt;Int&gt;()\nprivate val hotObservable = subject.hide()\n\n@Test\nfun test() {\n    subject.onNext(10)\n\n    val test = Flowable.concat(\n            coldObservable.toFlowable(BackpressureStrategy.BUFFER), hotObservable.toFlowable(BackpressureStrategy.BUFFER)\n    )\n            .doOnSubscribe { subject.onNext(20) }\n            .test()\n\n    test.await(1, TimeUnit.SECONDS)\n    test.assertNotComplete()\n    test.assertNotTerminated()\n    subject.onComplete()\n    test.assertComplete()\n    test.assertValues(1,2,3,4,5)\n}\n</code></pre>\n\n<p>As is, this test passes. But what I really want is </p>\n\n<pre><code>test.assertValues(1,2,3,4,5,10,20)\n</code></pre>\n\n<p>I thought the backpressure would easily let me hold on to the emissions but I guess it doesn't because it's not subscribed to.</p>\n\n<p>Is there no way to merge these 2 sources into a single stream?</p>\n"}, {"tags": ["java", "spring", "spring-mvc", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 7291, "user_id": 5065092, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-ZFrQQ1JOBno/AAAAAAAAAAI/AAAAAAAAAEM/wPeTWiESjWk/photo.jpg?sz=128", "display_name": "Aman Tuladhar", "link": "https://stackoverflow.com/users/5065092/aman-tuladhar"}, "edited": false, "score": 0, "creation_date": 1519170773, "post_id": 48895961, "comment_id": 84797919, "body": "Using Spring Boot 1.5.9.RELEASE"}], "answers": [{"tags": [], "owner": {"reputation": 8712, "user_id": 1468919, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/30a3b57763e52344770ccdc5b6a5c94a?s=128&d=identicon&r=PG", "display_name": "Jaiwo99", "link": "https://stackoverflow.com/users/1468919/jaiwo99"}, "is_accepted": true, "score": 1, "last_activity_date": 1519171394, "creation_date": 1519171394, "answer_id": 48896204, "question_id": 48895961, "link": "https://stackoverflow.com/questions/48895961/pathvariable-filename-results-to-406-not-acceptable/48896204#48896204", "title": "@PathVariable fileName results to 406 Not Acceptable", "body": "<p>This is because of content negotiation, just try to add <code>Content-Type</code> to request header, it should fix this problem, or disable content negotiation. check out this link: <a href=\"https://spring.io/blog/2013/05/11/content-negotiation-using-spring-mvc\" rel=\"nofollow noreferrer\">https://spring.io/blog/2013/05/11/content-negotiation-using-spring-mvc</a></p>\n"}, {"tags": [], "owner": {"reputation": 7291, "user_id": 5065092, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-ZFrQQ1JOBno/AAAAAAAAAAI/AAAAAAAAAEM/wPeTWiESjWk/photo.jpg?sz=128", "display_name": "Aman Tuladhar", "link": "https://stackoverflow.com/users/5065092/aman-tuladhar"}, "is_accepted": false, "score": 0, "last_activity_date": 1519174881, "creation_date": 1519174881, "answer_id": 48896652, "question_id": 48895961, "link": "https://stackoverflow.com/questions/48895961/pathvariable-filename-results-to-406-not-acceptable/48896652#48896652", "title": "@PathVariable fileName results to 406 Not Acceptable", "body": "<p>Answer by <a href=\"https://stackoverflow.com/a/48896204/5065092\">@Jaiwo99</a> gave me hint on what needs to be done. Here's a solutions that I found.</p>\n\n<p>Solution 1: Configure ContentNegotiation</p>\n\n<pre><code>@Bean\npublic WebMvcConfigurerAdapter webMvcConfigurerAdapter() {\n    return new WebMvcConfigurerAdapter() {\n        @Override\n        public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n            configurer\n                .useJaf(false)\n                .defaultContentType(MediaType.APPLICATION_JSON);\n        }\n    };\n}\n</code></pre>\n\n<p>Solution 2: Edit application.yml / application.properties</p>\n\n<pre><code>spring:\n    mvc:\n        media-types:\n            png: application/json\n            jpg: application/json\n            jpeg: application/json\n</code></pre>\n"}], "owner": {"reputation": 7291, "user_id": 5065092, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-ZFrQQ1JOBno/AAAAAAAAAAI/AAAAAAAAAEM/wPeTWiESjWk/photo.jpg?sz=128", "display_name": "Aman Tuladhar", "link": "https://stackoverflow.com/users/5065092/aman-tuladhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 48896204, "answer_count": 2, "score": 1, "last_activity_date": 1519174881, "creation_date": 1519169932, "question_id": 48895961, "link": "https://stackoverflow.com/questions/48895961/pathvariable-filename-results-to-406-not-acceptable", "title": "@PathVariable fileName results to 406 Not Acceptable", "body": "<p>I have a handler method like below that takes <strong><code>fileName</code></strong></p>\n\n<pre><code>@GetMapping(value = [\"/test/{fileName:.+}\"], produces = [(MediaType.APPLICATION_JSON_VALUE)])\nfun getFile(@PathVariable fileName: String): ResponseEntity&lt;Map&lt;String, String&gt;&gt; {\n    return ResponseEntity.ok(hashMapOf(Pair(\"fileName\", fileName)))\n}\n</code></pre>\n\n<p>I am getting some odd behaviour i.e</p>\n\n<ul>\n<li>Calling <code>/test/item-1.exx</code> results to <code>{\"fileName\": \"item-1.exx\"}</code></li>\n<li>Calling <code>/test/item-1.855</code> results to <code>{\"fileName\": \"item-1.855\"}</code></li>\n<li>Calling <code>/test/item-1.pn8</code> results to <code>{\"fileName\": \"item-1.pn8\"}</code></li>\n</ul>\n\n<p>But if I try to to call the method with valid extension I get <strong><code>406 Not Acceptable</code></strong>.</p>\n\n<ul>\n<li>Calling <code>/test/item-1.png</code> results to <strong><code>406 Not Acceptable</code></strong></li>\n<li>Calling <code>/test/item-1.jpg</code> results to <strong><code>406 Not Acceptable</code></strong></li>\n<li>Calling <code>/test/item-1.exe</code> results to <strong><code>406 Not Acceptable</code></strong></li>\n</ul>\n\n<p>I get following exception</p>\n\n<pre><code>org.springframework.web.HttpMediaTypeNotAcceptableException: Could not find acceptable representation\n</code></pre>\n\n<p>How to solve this problem? I want to be able to call the method using valid extension.</p>\n"}, {"tags": ["kotlin", "functional-programming", "arrow-kt"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1519166745, "post_id": 48895103, "comment_id": 84796670, "body": "already read the docs? <a href=\"http://arrow-kt.io/docs/datatypes/option/\" rel=\"nofollow noreferrer\">arrow-kt.io/docs/datatypes/option</a>"}, {"owner": {"reputation": 507123, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 6, "creation_date": 1519167612, "post_id": 48895103, "comment_id": 84796955, "body": "@s1m0nw1 That states &quot;<i>Kotlin tries to solve the problem by getting rid of null values altogether and providing its own special syntax Null-safety machinery based on <code>?</code>.</i>&quot; and &quot;<i>Arrow models the absence of values through the Option datatype similar to how Scala, Haskell and other FP languages handle optional values.</i>&quot; It does not provide any comparison between the two approaches."}], "answers": [{"comments": [{"owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 7, "creation_date": 1561462878, "post_id": 48895668, "comment_id": 100063960, "body": "To the question &quot;why should I use <code>Option</code> instead of nullables&quot; I would expect concrete reasons/advantages, especially given the additional syntax overhead and non-conformity with standard types. However this answer merely states &quot;so you can use Kotlin in a different way&quot;."}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 15, "last_activity_date": 1558562494, "last_edit_date": 1558562494, "creation_date": 1519168010, "answer_id": 48895668, "question_id": 48895103, "link": "https://stackoverflow.com/questions/48895103/why-use-arrows-options-instead-of-kotlin-nullable/48895668#48895668", "title": "Why use Arrow&#39;s Options instead of Kotlin nullable", "body": "<p><strong>Disclaimer</strong>: If you really want to have a detailed talk about why <em>Arrow</em> is useful, then please head over to <a href=\"https://soundcloud.com/user-38099918/arrow-functional-library\" rel=\"noreferrer\">https://soundcloud.com/user-38099918/arrow-functional-library</a> and listen to one of the people who work on it. <em>(5:35min)</em></p>\n\n<p>The people who create and use that library simple want to use Kotlin differently than the people who created it and use <a href=\"http://arrow-kt.io/docs/datatypes/option/\" rel=\"noreferrer\">\"the Option datatype similar to how Scala, Haskell and other FP languages handle optional values\"</a>.</p>\n\n<p>This is just another way of defining return types of values that you do not know the output of.</p>\n\n<p>Let me show you three versions:</p>\n\n<p><strong>nullability in Kotlin</strong></p>\n\n<pre><code>val someString: String? = if (condition) \"String\" else null\n</code></pre>\n\n<p><strong>object with another value</strong></p>\n\n<pre><code>val someString: String = if (condition) \"String\" else \"\"\n</code></pre>\n\n<p><strong>the Arrow version</strong></p>\n\n<pre><code>val someString: Option&lt;String&gt; = if (condition) Some(\"String\") else None\n</code></pre>\n\n<p>A major part of Kotlin logic can be to never use <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">nullable types</a> like <code>String?</code>, but you will need to use it when interopting with Java. When doing that you need to use safe calls like <code>string?.split(\"a\")</code> or the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#the--operator\" rel=\"noreferrer\">not-null assertion</a> <code>string!!.split(\"a\")</code>.</p>\n\n<p>I think it is perfectly valid to use safe calls when using Java libraries, but the <a href=\"https://github.com/arrow-kt\" rel=\"noreferrer\">Arrow guys</a> seem to think different and want to use their logic all the time.</p>\n\n<p>The benefit of using the Arrow logic is <a href=\"https://github.com/arrow-kt/arrow\" rel=\"noreferrer\">\"empowering users to define pure FP apps and libraries built atop higher order abstractions. Use the below list to learn more about \u039brrow's main features\"</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 14346, "user_id": 1251219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/838f87f5c3a511d3f65fad7d80d55596?s=128&d=identicon&r=PG", "display_name": "Fleshgrinder", "link": "https://stackoverflow.com/users/1251219/fleshgrinder"}, "edited": false, "score": 1, "creation_date": 1580041011, "post_id": 56136394, "comment_id": 105960227, "body": "A few nullable extension functions and the rocket status stuff can be reduced to <code>rocketStatus.gravity?.pow(rocketStatus.fuel)?.times(calculat&zwnj;&#8203;eRocketScienceStuff(&zwnj;&#8203;rocketStatus))?.log2&zwnj;&#8203;()?.times(rocketStat&zwnj;&#8203;us.currentSpeed)</code> which in my opinion is much simpler and it ihas zero cost."}, {"owner": {"reputation": 7925, "user_id": 890890, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1b39f1212150baa3fe09fe12d7314d6?s=128&d=identicon&r=PG", "display_name": "fabriciorissetto", "link": "https://stackoverflow.com/users/890890/fabriciorissetto"}, "reply_to_user": {"reputation": 14346, "user_id": 1251219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/838f87f5c3a511d3f65fad7d80d55596?s=128&d=identicon&r=PG", "display_name": "Fleshgrinder", "link": "https://stackoverflow.com/users/1251219/fleshgrinder"}, "edited": false, "score": 2, "creation_date": 1582036516, "post_id": 56136394, "comment_id": 106632764, "body": "@Fleshgrinder it may be personal preference but for me this code is a lot harder to understand and to debug than the imperative version showed in my example. Also if you need to write extension functions (and obviously to mantain it) it has a cost."}, {"owner": {"reputation": 7925, "user_id": 890890, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1b39f1212150baa3fe09fe12d7314d6?s=128&d=identicon&r=PG", "display_name": "fabriciorissetto", "link": "https://stackoverflow.com/users/890890/fabriciorissetto"}, "edited": false, "score": 0, "creation_date": 1582036868, "post_id": 56136394, "comment_id": 106632974, "body": "And that was an isolated example. With monad comprehensions we can do other things, like for example to abstract in the same simple and imparative way asynchronous operations"}], "tags": [], "owner": {"reputation": 7925, "user_id": 890890, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1b39f1212150baa3fe09fe12d7314d6?s=128&d=identicon&r=PG", "display_name": "fabriciorissetto", "link": "https://stackoverflow.com/users/890890/fabriciorissetto"}, "is_accepted": false, "score": 25, "last_activity_date": 1587411538, "last_edit_date": 1587411538, "creation_date": 1557858149, "answer_id": 56136394, "question_id": 48895103, "link": "https://stackoverflow.com/questions/48895103/why-use-arrows-options-instead-of-kotlin-nullable/56136394#56136394", "title": "Why use Arrow&#39;s Options instead of Kotlin nullable", "body": "<p>I have been using <code>Option</code> data type provided by Arrow for over a year and there at the begining we did the exact same question to ourselves. The answer follows.</p>\n\n<h1>Option vs Nullable</h1>\n\n<p>If you compare just the <code>option</code> data type with <code>nullables</code> in Kotlin they are almost even. Same semanthics (there is some value or not), almost same syntax (with Option you use <code>map</code>, with nullables you use <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"noreferrer\">safe call operator</a>). </p>\n\n<p>But when using <code>Options</code> you enable the possibility to take benefits from the arrow ecosystem!</p>\n\n<h1>Arrow ecosystem (functional ecosystem)</h1>\n\n<p>When using <code>Options</code> you are using the <code>Monad Pattern</code>. When using the monad pattern with liberaries like <a href=\"https://github.com/arrow-kt/arrow\" rel=\"noreferrer\">arrow</a>, <a href=\"https://github.com/typelevel/cats\" rel=\"noreferrer\">scala cats</a>, <a href=\"https://github.com/scalaz/scalaz\" rel=\"noreferrer\">scalaz</a>, you can take benefits from several functional concepts. Just 3 examples of benefits (there is a lot more than that):</p>\n\n<h3>1. Access to other Monads</h3>\n\n<p><code>Option</code> is not the only one! For instance, <code>Either</code> is a lot useful to <strong>express</strong> and <strong>avoid to throw</strong> Exceptions. <code>Try</code>, <code>Validated</code> and <code>IO</code> are examples of other common monads that help us to do (in a better way) things we do on typical projects. </p>\n\n<h3>2. Conversion between monads + abstractions</h3>\n\n<p>You can easily convert one monad to another. You have a <code>Try</code> but want to return (and express) an <code>Either</code>? Just convert to it. You have an <code>Either</code> but doesn't care about the error? Just convert to <code>Option</code>.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val foo = Try { 2 / 0 }\nval bar = foo.toEither()\nval baz = bar.toOption()\n</code></pre>\n\n<p>This abstraction also helps you to create functions that doens't care about the container (monad) itself, just about the content. For example, you can create a extension method <code>Sum(anyContainerWithBigDecimalInside, anotherContainerWithBigDecimal)</code> that works with <strong>ANY MONAD</strong> (to be more precise: <em>\"to any instance of applicative\"</em>) this way:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;F&gt; Applicative&lt;F&gt;.sum(vararg kinds: Kind&lt;F, BigDecimal&gt;): Kind&lt;F, BigDecimal&gt; {\n    return kinds.reduce { kindA, kindB -&gt;\n        map(kindA, kindB) { (a, b) -&gt; a.add(b) }\n    }\n}\n</code></pre>\n\n<p>A little complex to understand, but very helpful and easy to use.</p>\n\n<h3>3. Monad comprehensions</h3>\n\n<p>Going from nullables to monads is not just about changing safe call operators to <code>map</code> calls. Take a look at the \"binding\" feature that arrow provides as the implementation of the pattern \"Monad Comprehensions\":</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun calculateRocketBoost(rocketStatus: RocketStatus): Option&lt;Double&gt; {\n    return binding {\n        val (gravity) = rocketStatus.gravity\n        val (currentSpeed) = rocketStatus.currentSpeed\n        val (fuel) = rocketStatus.fuel\n        val (science) = calculateRocketScienceStuff(rocketStatus)\n        val fuelConsumptionRate = Math.pow(gravity, fuel)\n        val universeStuff = Math.log(fuelConsumptionRate * science)\n\n        universeStuff * currentSpeed\n    }\n}\n</code></pre>\n\n<p>All the functions used and also the properties from <code>rocketStatus</code> parameter in the above example are <code>Options</code>. Inside the <code>binding</code> block the <code>flatMap</code> call is abstracted for us. The code is a lot easier to read (and write) and you don't need to check if the values are present, if some of them is not, the computation will stop and the result will be an Option with <code>None</code>! </p>\n\n<p>Now try to imagine this code with null verifications instead. Not just <code>safe call operators</code> but also probably <code>if null then return</code> code paths. A lot harder isn't it?</p>\n\n<p>Also, the above example uses <code>Option</code> but the true power about monad comprehensions as an abastraction is when you use it with monads like <a href=\"https://arrow-kt.io/docs/effects/io/#io\" rel=\"noreferrer\">IO</a> in which you can abstract asynchronous code execution in the exact same \"clean, sequential and imperative\" way as above :O</p>\n\n<h1>Conclusion</h1>\n\n<p>I strongly recommend you to start using monads like <code>Option</code>, <code>Either</code>, etc as soon as you see the concept fits the semanthics you need, even if you are not sure if you will take the other big benefits from the functional ecosystem or if you doesn't know them very well yet. Soon you'll be using it without noticing the learning-curve. That  In my company we use it in almost all Kotlin projects, even in the object-oriented ones (which are the majority).</p>\n"}, {"comments": [{"owner": {"reputation": 14346, "user_id": 1251219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/838f87f5c3a511d3f65fad7d80d55596?s=128&d=identicon&r=PG", "display_name": "Fleshgrinder", "link": "https://stackoverflow.com/users/1251219/fleshgrinder"}, "edited": false, "score": 0, "creation_date": 1580040160, "post_id": 56750436, "comment_id": 105960018, "body": "But you can use <code>Optional&lt;T?&gt;</code> in this case and you have <code>containsKey</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 14346, "user_id": 1251219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/838f87f5c3a511d3f65fad7d80d55596?s=128&d=identicon&r=PG", "display_name": "Fleshgrinder", "link": "https://stackoverflow.com/users/1251219/fleshgrinder"}, "edited": false, "score": 1, "creation_date": 1580063689, "post_id": 56750436, "comment_id": 105966246, "body": "1. Yes, it&#39;s explicitly mentioned in the answer. But then you still need <code>Option</code>, which is what the question is about. 2. Using <code>containsKey</code> is worse in at least two ways: accessing the map twice isn&#39;t free; in a concurrent program the key can be removed by another thread between <code>containsKey</code> and <code>get</code> calls."}, {"owner": {"reputation": 14346, "user_id": 1251219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/838f87f5c3a511d3f65fad7d80d55596?s=128&d=identicon&r=PG", "display_name": "Fleshgrinder", "link": "https://stackoverflow.com/users/1251219/fleshgrinder"}, "edited": false, "score": 0, "creation_date": 1580152620, "post_id": 56750436, "comment_id": 105996578, "body": "I didn&#39;t consider <code>Option</code> and <code>Optional </code> to be the same. Concurrency is a different issue, you have synchronized for that. In any event,  it&#39;s an extremely narrow use case that I&#39;ve only ever encountered in caches."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 14346, "user_id": 1251219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/838f87f5c3a511d3f65fad7d80d55596?s=128&d=identicon&r=PG", "display_name": "Fleshgrinder", "link": "https://stackoverflow.com/users/1251219/fleshgrinder"}, "edited": false, "score": 0, "creation_date": 1580159559, "post_id": 56750436, "comment_id": 105999255, "body": "If you mean the Java <code>Optional</code>, then of course <code>Optional&lt;T?&gt;</code> won&#39;t work; it doesn&#39;t allow nulls."}, {"owner": {"reputation": 14346, "user_id": 1251219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/838f87f5c3a511d3f65fad7d80d55596?s=128&d=identicon&r=PG", "display_name": "Fleshgrinder", "link": "https://stackoverflow.com/users/1251219/fleshgrinder"}, "edited": false, "score": 0, "creation_date": 1580206056, "post_id": 56750436, "comment_id": 106012656, "body": "<code>val value: String? = mapOf&lt;String, Optional&lt;String&gt;&gt;()[&quot;k&quot;]?.orElse(null)</code> goal achieved as we can now distinguish between missing key (get returns null) and a null value (optional is empty). This is how pretty much every cache implementation works that allows null values to be stored."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 4, "last_activity_date": 1561453577, "last_edit_date": 1592644375, "creation_date": 1561453577, "answer_id": 56750436, "question_id": 48895103, "link": "https://stackoverflow.com/questions/48895103/why-use-arrows-options-instead-of-kotlin-nullable/56750436#56750436", "title": "Why use Arrow&#39;s Options instead of Kotlin nullable", "body": "<p>One thing other answers haven't mentioned: you can have <code>Option&lt;Option&lt;SomeType&gt;&gt;</code> where you can't have <code>SomeType??</code>. Or <code>Option&lt;SomeType?&gt;</code>, for that matter. This is quite useful for compositionality. E.g. consider <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/get.html\" rel=\"nofollow noreferrer\">Kotlin's <code>Map.get</code></a>:</p>\n<blockquote>\n<pre><code>abstract operator fun get(key: K): V?\n</code></pre>\n<p>Returns the value corresponding to the given key, or <code>null</code> if such a key is not present in the map.</p>\n</blockquote>\n<p>But what if <code>V</code> is a nullable type? Then when <code>get</code> returns <code>null</code> it can be because the map stored a null value for the given key or because there was no value; you can't tell! If it returned <code>Option&lt;V&gt;</code>, there wouldn't be a problem.</p>\n"}], "owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4803, "favorite_count": 6, "accepted_answer_id": 48895668, "answer_count": 3, "score": 18, "last_activity_date": 1587411538, "creation_date": 1519164765, "last_edit_date": 1539720718, "question_id": 48895103, "link": "https://stackoverflow.com/questions/48895103/why-use-arrows-options-instead-of-kotlin-nullable", "title": "Why use Arrow&#39;s Options instead of Kotlin nullable", "body": "<p>I was having a look at the Arrow library found <a href=\"https://github.com/arrow-kt/arrow\" rel=\"noreferrer\">here</a>. Why would ever want to use an <code>Option</code> type instead of Kotlin's built in nullables?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1519164139, "post_id": 48894935, "comment_id": 84795711, "body": "Normally, you pass variables to the things that need it."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1519165504, "last_edit_date": 1519165504, "creation_date": 1519164354, "answer_id": 48895026, "question_id": 48894935, "link": "https://stackoverflow.com/questions/48894935/accessing-variables-in-kotlin/48895026#48895026", "title": "Accessing variables in Kotlin", "body": "<p>First: Accessing a property of another class isn\u2019t hard as long as it\u2019s visibility allows it. By default, without explicit visibility modifier, it is:</p>\n\n<pre><code>class A{\n    val fpath= ...\n}\n\nclass B(val a: A){\n    fun xy() = print(\u201caccessing property of A: ${a.prop}\u201d)\n}\n</code></pre>\n\n<p>Second: What you should rather do with your example variable <code>fpath</code> is defining it as a top-level element, i.e. directly in a file, which can be accessed from anywhere else by simply importing the element.</p>\n\n<p>For example, you could have a <code>Common.kt</code> file in package <code>com.x</code> with <code>fpath = Paths.get(...)</code> in it. From another file you do <code>import com.x.fpath</code> and use it throughout the file.</p>\n\n<p>Third: You could also define the variable in a <code>companion object</code> of <code>A</code> if it belongs there:</p>\n\n<pre><code>class A {\n    companion object {\n        val fpath = ...\n    }\n}\n\nclass B{\n    fun xy() = print(\u201caccessing property of A: ${A.fpath}\u201d)\n}\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 5362661, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-XkR0dilGr_c/AAAAAAAAAAI/AAAAAAAAAXc/Nr06IlOcpas/photo.jpg?sz=128", "display_name": "Delin Mathew", "link": "https://stackoverflow.com/users/5362661/delin-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1216, "favorite_count": 0, "accepted_answer_id": 48895026, "answer_count": 1, "score": 1, "last_activity_date": 1519165504, "creation_date": 1519163970, "last_edit_date": 1519165339, "question_id": 48894935, "link": "https://stackoverflow.com/questions/48894935/accessing-variables-in-kotlin", "title": "Accessing variables in Kotlin", "body": "<p>How can I declare a variable globally in Kotlin such that a variable declared in Class <code>A</code> can be accessed in Class <code>B</code>?</p>\n\n<pre><code>val fpath: Path = Paths.get(\"\")\n</code></pre>\n\n<p>I want to be able to access the variable <code>fpath</code> throughout the entire program/project. \nP.S. I am new to Kotlin. Any help would be appreciated. </p>\n"}, {"tags": ["rest", "kotlin", "desktop-application", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 7776826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbb19a71d8f59e629d6fa08514f5b14?s=128&d=identicon&r=PG&f=1", "display_name": "davrukin", "link": "https://stackoverflow.com/users/7776826/davrukin"}, "edited": false, "score": 0, "creation_date": 1519174691, "post_id": 48894465, "comment_id": 84798947, "body": "I&#39;ve found it&#39;s also possible to get rid of the &quot;request -&gt;&quot; part and just refer to request by &quot;it&#39;. Also, is there a way to encode the params as a body rather than as a url?"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": false, "score": 2, "last_activity_date": 1519161898, "creation_date": 1519161898, "answer_id": 48894465, "question_id": 48894221, "link": "https://stackoverflow.com/questions/48894221/adding-headers-to-an-http-post-get-request-with-tornadofx/48894465#48894465", "title": "Adding headers to an HTTP POST/GET Request with TornadoFX", "body": "<p>You can alter the request before it is fired by supplying a lambda as the last parameter:</p>\n\n<pre><code>api.post(path, payload) { request -&gt;\n    request.addHeader(\"key\", \"value\")\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7776826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbb19a71d8f59e629d6fa08514f5b14?s=128&d=identicon&r=PG&f=1", "display_name": "davrukin", "link": "https://stackoverflow.com/users/7776826/davrukin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519161898, "creation_date": 1519160867, "question_id": 48894221, "link": "https://stackoverflow.com/questions/48894221/adding-headers-to-an-http-post-get-request-with-tornadofx", "title": "Adding headers to an HTTP POST/GET Request with TornadoFX", "body": "<p>I've been going through <a href=\"https://edvin.gitbooks.io/tornadofx-guide/content/part2/JSON%20and%20REST.html\" rel=\"nofollow noreferrer\">this</a> tutorial on TornadoFX which describes how to add parameters to an HTTP REST request. My API requires additional headers for certain calls. I am unable to find how to send them along, and the only methods I see for headers are regarding returning headers from the response I get back. </p>\n"}, {"tags": ["performance", "loops", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 731, "user_id": 3030737, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/84f06b806a31acf130deb8f5c9e0d679?s=128&d=identicon&r=PG&f=1", "display_name": "Cromon", "link": "https://stackoverflow.com/users/3030737/cromon"}, "is_accepted": false, "score": 0, "last_activity_date": 1519336902, "last_edit_date": 1519336902, "creation_date": 1519161148, "answer_id": 48894288, "question_id": 48894124, "link": "https://stackoverflow.com/questions/48894124/performance-drop-loop-vs-iterator/48894288#48894288", "title": "Performance drop loop vs iterator", "body": "<p>Basically my entire question can be removed. I should have debugged and not only profiled. The problem was the code that populated the lists, and it didnt remove the old values so the lists grew larger and larger and the loop just ran so many more times over time...</p>\n\n<p>In case anyone was wondering how I fixed my problem with the allocations I essentially created two collections, one is containing the uniforms and one is mapping them to textures. And then I can iterate over the uniforms and then get the respective texture. So no pointless Iterator objects are created but I am also not having any duplicates :)</p>\n"}], "owner": {"reputation": 731, "user_id": 3030737, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/84f06b806a31acf130deb8f5c9e0d679?s=128&d=identicon&r=PG&f=1", "display_name": "Cromon", "link": "https://stackoverflow.com/users/3030737/cromon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519336902, "creation_date": 1519160367, "last_edit_date": 1519160941, "question_id": 48894124, "link": "https://stackoverflow.com/questions/48894124/performance-drop-loop-vs-iterator", "title": "Performance drop loop vs iterator", "body": "<p>I am using kotlin in combination with lwjgl. So far I had the following code that ran several thousand times per second:</p>\n\n<pre><code>// val textureMap = HashMap&lt;Int, Texture&gt;()\nfun bind() {\n    var index = 0\n    for(entry in textureMap) {\n        glActiveTexture(GL_TEXTURE0 + index)\n        entry.value.bind()\n        program.setInt(entry.key, index)\n        ++index\n    }\n}\n</code></pre>\n\n<p>So while this was running absolutely fast and consumed virtually 0 of my frame time as expected I had to replace it because it created an <code>Iterator</code> in every call, eventually leading to tens of thousands of those objects eventually getting garbage collected and halting my program for a few milliseconds which is of course not usable in my application.</p>\n\n<p>So I went ahead and changed it to the following code:</p>\n\n<pre><code>// textures = ArrayList&lt;Texture&gt;()\n// indices = ArrayList&lt;Int&gt;()\nfun bind() {\n    var index = 0\n    while(index &lt; textures.size) {\n        val uniform = indices[index]\n        val texture = textures[index]\n        glActiveTexture(GL_TEXTURE0 + index)\n        texture.bind()\n        program.setInt(uniform, index)\n        ++index\n    }\n}\n</code></pre>\n\n<p>Now for some reason I am noticing a massive drop in performance, namely the function now uses several seconds per frame. Using <code>jvisualvm</code> I was able to determine that all that time is spent in <code>glActiveTexture</code> in the native part as well as the native function in <code>program.setInt(...)</code>. I am absolutely stumped why this is the case, especially after comparing the byte code of the two.</p>\n\n<p>This is the decompiled class file for the first (fast) version:</p>\n\n<pre><code>public final void bind()\n{\n  int index = 0;\n  Map localMap = (Map)this.textureMap;\n  for (Map.Entry entry : localMap.entrySet())\n  {\n    GL13.glActiveTexture(33984 + index);\n    ((Texture)entry.getValue()).bind(); Program \n      tmp66_63 = this.program;\n    if (tmp66_63 == null) {\n      Intrinsics.throwUninitializedPropertyAccessException(\"program\");\n    }\n    tmp66_63.setInt(((Number)entry.getKey()).intValue(), index);\n    index++;\n  }\n}\n</code></pre>\n\n<p>And that is the byte code of the slow version:</p>\n\n<pre><code>public final void bind()\n{\n  int index = 0;\n  while (index &lt; this.textures.size())\n  {\n    Integer uniform = (Integer)this.indices.get(index);\n    Texture texture = (Texture)this.textures.get(index);\n    GL13.glActiveTexture(33984 + index);\n    texture.bind(); Program \n      tmp52_49 = this.program;\n    if (tmp52_49 == null) {\n      Intrinsics.throwUninitializedPropertyAccessException(\"program\");\n    }\n    Integer tmp62_61 = uniform;Intrinsics.checkExpressionValueIsNotNull(tmp62_61, \"uniform\");tmp52_49.setInt(tmp62_61.intValue(), index);\n    index++;\n  }\n}\n</code></pre>\n\n<p>I am extremely confused what is going on here. In both versions the call to <code>glActiveTexture</code> is <code>GL_TEXTURE0 + &lt;an int value&gt;</code>, yet one takes so much more time thatn the other. </p>\n\n<p>Does anyone have an idea what I am missing here?</p>\n"}, {"tags": ["mysql", "hibernate", "jpa", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 669, "user_id": 5594670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U9fcQ.jpg?s=128&g=1", "display_name": "Javvano", "link": "https://stackoverflow.com/users/5594670/javvano"}, "edited": false, "score": 0, "creation_date": 1519192345, "post_id": 48893987, "comment_id": 84803305, "body": "what is data type of each id column in mysql? is it  autoincrement ?"}, {"owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "reply_to_user": {"reputation": 669, "user_id": 5594670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U9fcQ.jpg?s=128&g=1", "display_name": "Javvano", "link": "https://stackoverflow.com/users/5594670/javvano"}, "edited": false, "score": 0, "creation_date": 1519196814, "post_id": 48893987, "comment_id": 84805159, "body": "It&#39;s Identity. It&#39;s supposed to auto-increment itself. At keast I think."}, {"owner": {"reputation": 669, "user_id": 5594670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U9fcQ.jpg?s=128&g=1", "display_name": "Javvano", "link": "https://stackoverflow.com/users/5594670/javvano"}, "edited": false, "score": 0, "creation_date": 1519197505, "post_id": 48893987, "comment_id": 84805485, "body": "Identity ? can you show your DDL?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8558216"}, "edited": false, "score": 0, "creation_date": 1519201196, "post_id": 48893987, "comment_id": 84807408, "body": "User didnt let the JPA provider create the table, so it is not autoincrement?"}, {"owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "edited": false, "score": 0, "creation_date": 1519204176, "post_id": 48893987, "comment_id": 84809032, "body": "Added details about DDL at the end of the question."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "edited": false, "score": 0, "creation_date": 1519218582, "post_id": 48902207, "comment_id": 84819183, "body": "Wow, I&#39;m so dumb!"}, {"owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "edited": false, "score": 0, "creation_date": 1519220341, "post_id": 48902207, "comment_id": 84820498, "body": "Actually for what I was doing I didn&#39;t even need a relationship!"}], "tags": [], "owner": {"reputation": 1600, "user_id": 2866298, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/pERCQ.jpg?s=128&g=1", "display_name": "osama yaccoub", "link": "https://stackoverflow.com/users/2866298/osama-yaccoub"}, "is_accepted": true, "score": 3, "last_activity_date": 1519205063, "creation_date": 1519205063, "answer_id": 48902207, "question_id": 48893987, "link": "https://stackoverflow.com/questions/48893987/hibernate-field-id-doesnt-have-a-default-value/48902207#48902207", "title": "Hibernate: Field &#39;id&#39; doesn&#39;t have a default value", "body": "<p>You can't mix join table with entity</p>\n\n<p>You defined <code>BookedCar</code> as an entity ... do you really need this or you just need a join table to do the many to many join between customer and car ... if you need more columns to be put in the booked car (not the mandatory ID, I mean a column that holds some business) then ok make it an entity, otherwise just make it a join column</p>\n\n<p>If you decided to make it an entity, then you will need one to many relation from each of customer and car to booked_car, and a many to one from booked_car to each of them .... instead of this ManyToMany relation that you are using in car and customer</p>\n"}], "owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2912, "favorite_count": 0, "accepted_answer_id": 48902207, "answer_count": 1, "score": 0, "last_activity_date": 1519205063, "creation_date": 1519159805, "last_edit_date": 1519204077, "question_id": 48893987, "link": "https://stackoverflow.com/questions/48893987/hibernate-field-id-doesnt-have-a-default-value", "title": "Hibernate: Field &#39;id&#39; doesn&#39;t have a default value", "body": "<p>I have a web app which has a database that has a \n    <code>Customer</code> entity and a <code>Car</code> entity.\nI have a <code>ManyToMany</code> relationship between <code>Car</code> and <code>Customer</code> (or at least I intent to) and It's in my <code>BookedCar</code> class.</p>\n\n<h3><code>BookedCar</code>:</h3>\n\n<pre><code>@Entity\n@Table(name = \"booked_cars\")\ndata class BookedCar(@Column(name = \"car_id\") var carId: Int = 0,\n            @Column(name = \"customer_id\") var customerId: Int = 0,\n            @Column var startDate: Date = Date(),\n            @Column var endDate: Date = Date()) {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Int = 0\n}\n</code></pre>\n\n<h2><code>Car</code>:</h2>\n\n<pre><code>@Entity\n@Table(name = \"cars\")\ndata class Car(@Column var name: String = \"\",\n           @Column var price: Int = 0,\n           @Column(length = 1000) var imgURL: String = \"\") {\n\n    fun getPriceForPeriodPerDay(days: Int) = when (days) {\n        in 0..3 -&gt; this.price\n        in 3..8 -&gt; this.price - 7\n        in 8..15 -&gt; this.price - 15\n        in 15..Int.MAX_VALUE -&gt; this.price - 20\n        else -&gt; this.price\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Int = 0\n\n    @ManyToMany(cascade = [CascadeType.ALL])\n    @JoinTable(name = \"booked_cars\",\n        joinColumns = [(JoinColumn(name = \"car_id\", referencedColumnName = \"id\"))],\n        inverseJoinColumns = [JoinColumn(name = \"customer_id\", referencedColumnName = \"id\")])\n    lateinit var customers: Set&lt;Customer&gt;\n}\n</code></pre>\n\n<h3><code>Customer</code>:</h3>\n\n<pre><code>@Entity\n@Table(name = \"customers\")\ndata class Customer(@Column var phoneNumber: String = \"\",\n                @Column var name: String = \"\") {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Int = 0\n\n    @ManyToMany(mappedBy = \"customers\")\n    lateinit var bookedCars: Set&lt;Car&gt;\n}\n</code></pre>\n\n<h3>Problem:</h3>\n\n<p>In one of my <strong>Controllers</strong> I have a function with some mapping and code:</p>\n\n<pre><code>...\nval customer = this.customerRepository.findOneByPhoneNumber(phoneNumber)\n            ?: Customer(phoneNumber, \"\")\nval car = this.carRepository.findOne(id)\nval bookedCar = BookedCar(car.id,customer.id, startDate, endDate)\nthis.requestedCarRepository.saveAndFlush(bookedCar)\n...\n</code></pre>\n\n<p>The problem comes exactly on <em>this line</em></p>\n\n<pre><code>this.requestedCarRepository.saveAndFlush(bookedCar)\n</code></pre>\n\n<p>and the <em>error</em> is </p>\n\n<pre><code>java.sql.SQLException: Field 'id' doesn't have a default value\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:965) ~[mysql-connector-java-5.1.45.jar:5.1.45]\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973) ~[mysql-connector-java-5.1.45.jar:5.1.45]\n...\nat com.rentautosofia.rentacar.controller.FrontCarController.orderProcess(FrontCarController.kt:113) ~[classes/:na]\n...\n</code></pre>\n\n<p>I don't think I wrote the <code>JoinColumn</code>s properly. Overall any help would be highly appreciated. </p>\n\n<h2>Note:</h2>\n\n<p>I tried recreateing the databases.</p>\n\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/rentacar?...&amp;createDatabaseIfNotExist=true\n</code></pre>\n\n<h2>Edit 1:</h2>\n\n<p>Jpa DDL auto-increment:</p>\n\n<pre><code># Hibernate ddl auto (create, create-drop, update): with \"update\" the database\n# schema will be automatically updated accordingly to java entities found in\n# the project\n# Using \"create\" will delete and recreate the tables every time the project is started\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 1, "creation_date": 1519159728, "post_id": 48892551, "comment_id": 84793645, "body": "check out this blog post <a href=\"https://mag.n26.com/reducing-viewmodel-provision-boilerplate-in-googles-githubbrowsersample-549818ee72f0\" rel=\"nofollow noreferrer\">mag.n26.com/&hellip;</a>"}, {"owner": {"reputation": 1151, "user_id": 783570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b568186883af726f2d8b52f92f177092?s=128&d=identicon&r=PG", "display_name": "ben", "link": "https://stackoverflow.com/users/783570/ben"}, "reply_to_user": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 1, "creation_date": 1519160364, "post_id": 48892551, "comment_id": 84793986, "body": "Wish I found this days ago, this is awesome! Thank you!"}, {"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 0, "creation_date": 1519241190, "post_id": 48892551, "comment_id": 84834071, "body": "I added an answer so you can mark the question as answered."}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 5606148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBTSp.jpg?s=128&g=1", "display_name": "Andrew Hossam", "link": "https://stackoverflow.com/users/5606148/andrew-hossam"}, "edited": false, "score": 0, "creation_date": 1551997635, "post_id": 48913928, "comment_id": 96857213, "body": "But this way all the fragments will have the same context as they have extend the same fragment, and the values in the viewmodel will be live forever. Is this right?, I have this problem how to avoid this."}, {"owner": {"reputation": 273, "user_id": 4557511, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EC4UK.jpg?s=128&g=1", "display_name": "PSK", "link": "https://stackoverflow.com/users/4557511/psk"}, "edited": false, "score": 0, "creation_date": 1571700941, "post_id": 48913928, "comment_id": 103320437, "body": "Looks good, but the injected ViewModels are not the same instance after orientation changes, because they are generated every time :("}], "tags": [], "owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "is_accepted": true, "score": 5, "last_activity_date": 1519241164, "creation_date": 1519241164, "answer_id": 48913928, "question_id": 48892551, "link": "https://stackoverflow.com/questions/48892551/viewmodelproviders-get-in-base-class/48913928#48913928", "title": "ViewModelProviders.get(...) in base class", "body": "<p>If you have a <code>BaseFragment</code> defined like this:</p>\n\n<pre><code>public class BaseFragment&lt;T extends ViewModel&gt; extends Fragment {\n\n    @Inject\n    protected T viewModel;\n\n}\n</code></pre>\n\n<p>You can use the <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/androidTest/java/com/android/example/github/util/ViewModelUtil.java\" rel=\"noreferrer\">ViewModelUtils</a> class from the Architecture Components's Github browser sample to create <code>ViewModel</code> factories.</p>\n\n<pre><code>/**\n * Creates a one off view model factory for the given view model instance.\n */\npublic class ViewModelUtil {\n    private ViewModelUtil() {}\n    public static &lt;T extends ViewModel&gt; ViewModelProvider.Factory createFor(T model) {\n        return new ViewModelProvider.Factory() {\n            @Override\n            public &lt;T extends ViewModel&gt; T create(Class&lt;T&gt; modelClass) {\n                if (modelClass.isAssignableFrom(model.getClass())) {\n                    return (T) model;\n                }\n                throw new IllegalArgumentException(\"unexpected model class \" + modelClass);\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>In the <code>onActivityCreated</code> method of the <code>BaseFragment</code> you can add</p>\n\n<pre><code>    @Override\n    public void onActivityCreated(@Nullable final Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n        ViewModelProvider.Factory viewModelFactory = ViewModelUtil.createFor(viewModel);\n        ViewModelProviders.of(this, viewModelFactory).get(viewModel.getClass());\n    }\n</code></pre>\n\n<p>The code for this technique is from <a href=\"https://mag.n26.com/reducing-viewmodel-provision-boilerplate-in-googles-githubbrowsersample-549818ee72f0\" rel=\"noreferrer\">this blog post</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9755178, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/ef9cd0ba7bd277038402da896a1c63cd?s=128&d=identicon&r=PG", "display_name": "kev.26", "link": "https://stackoverflow.com/users/9755178/kev-26"}, "is_accepted": false, "score": 0, "last_activity_date": 1525727859, "creation_date": 1525727859, "answer_id": 50222565, "question_id": 48892551, "link": "https://stackoverflow.com/questions/48892551/viewmodelproviders-get-in-base-class/50222565#50222565", "title": "ViewModelProviders.get(...) in base class", "body": "<p>I had the same issue but fix it with a bit of Reflection; I really don't like to use Reflection on Android, but didn't have other option.</p>\n\n<pre><code>private void initViewModel() {\n    final Type[] types = ((ParameterizedType) this.getClass().getGenericSuperclass()).getActualTypeArguments();\n    mViewModel = ViewModelProviders.of(this).get((Class&lt;M&gt;) types[0]);\n}\n</code></pre>\n\n<p>Hope this is useful to someone. </p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 10297749, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-A31EIKU9tI0/AAAAAAAAAAI/AAAAAAAAAA8/4gjpO21ZJ0s/photo.jpg?sz=128", "display_name": "\u738b\u5927\u5927", "link": "https://stackoverflow.com/users/10297749/%e7%8e%8b%e5%a4%a7%e5%a4%a7"}, "is_accepted": false, "score": 7, "last_activity_date": 1535676430, "creation_date": 1535676430, "answer_id": 52107111, "question_id": 48892551, "link": "https://stackoverflow.com/questions/48892551/viewmodelproviders-get-in-base-class/52107111#52107111", "title": "ViewModelProviders.get(...) in base class", "body": "<pre><code>val viewModel: T by lazy {\n    ViewModelProviders.of(this).get(getTClass())\n}\n\n//\u83b7\u53d6\u6cdb\u578bT\u7684\u5b9e\u9645\u7c7b\u578b\nprivate fun getTClass(): Class&lt;T&gt; {\n    return (javaClass.genericSuperclass as ParameterizedType).actualTypeArguments[0] as Class&lt;T&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 1151, "user_id": 783570, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b568186883af726f2d8b52f92f177092?s=128&d=identicon&r=PG", "display_name": "ben", "link": "https://stackoverflow.com/users/783570/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5992, "favorite_count": 2, "accepted_answer_id": 48913928, "answer_count": 3, "score": 11, "last_activity_date": 1535676430, "creation_date": 1519153788, "question_id": 48892551, "link": "https://stackoverflow.com/questions/48892551/viewmodelproviders-get-in-base-class", "title": "ViewModelProviders.get(...) in base class", "body": "<p>I'm trying to cut some of Dagger's boilerplate by moving some of my ViewModel instantiation in an abstract base class but can't find quite a good way to do this. My intent is to instantiate all my ViewModels from my base fragment for them to be ready to consume by all child fragments without having them do their own instantiation. My issue lies in retrieving the ViewModel using a generic (VM)- specifically here: <code>.get(viewModel::class.java)</code> . I also attempted <code>.get(VM::class.java)</code> that is not permitted </p>\n\n<p><strong>BaseFragment</strong></p>\n\n<pre><code>abstract class BaseFragment&lt;VM : ViewModel&gt; : Fragment() {\n\n    @Inject lateinit var viewModelFactory: ViewModelProvider.Factory\n    lateinit var viewModel : VM\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        viewModel = ViewModelProviders.of(this, viewModelFactory).get(viewModel::class.java)\n    }\n}\n</code></pre>\n\n<p><strong>ViewModelProviders.get(...) method signature</strong></p>\n\n<pre><code>public &lt;T extends ViewModel&gt; T get(@NonNull Class&lt;T&gt; modelClass)\n</code></pre>\n\n<p>Is this even possible?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 1, "creation_date": 1519154676, "post_id": 48892391, "comment_id": 84791026, "body": "What do you have as input? <code>List&lt;Thing&gt;</code>? Please add the desired signature of method."}], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 1, "last_activity_date": 1519158545, "creation_date": 1519158545, "answer_id": 48893691, "question_id": 48892391, "link": "https://stackoverflow.com/questions/48892391/creating-a-map-of-attribute-to-object-in-kotlin/48893691#48893691", "title": "Creating a map of attribute to object in Kotlin", "body": "<p>Given a list of <code>Thing</code>:</p>\n\n<pre><code>val elements = listOf(\n    Thing(\"First\", listOf(\"A\", \"B\")),\n    Thing(\"Second\", listOf(\"A\", \"B\")),\n    Thing(\"Third\", listOf(\"A\"))\n)\n</code></pre>\n\n<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow noreferrer\"><code>groupBy</code></a>:</p>\n\n<pre><code>fun List&lt;Thing&gt;.groupByAttributeAtIndex(attributeIndex: Int): Map&lt;String?, List&lt;Thing&gt;&gt; {\n  return groupBy { it.attributes.getOrNull(attributeIndex) }\n}\n</code></pre>\n\n<p>To group by attribute at index e.g. <code>val grouped = elements.groupByAttributeAtIndex(1)</code> would result in following <code>Map</code>:</p>\n\n<pre><code>{\n    B=[Thing(name=First, attributes=[A, B]), Thing(name=Second, attributes=[A, B])], \n    null=[Thing(name=Third, attributes=[A])]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 930, "user_id": 943531, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4fb3ea82142a7906f7242e6d142ec908?s=128&d=identicon&r=PG", "display_name": "thetwan", "link": "https://stackoverflow.com/users/943531/thetwan"}, "edited": false, "score": 0, "creation_date": 1520967125, "post_id": 48893808, "comment_id": 85531021, "body": "Thank you. Granted both solutions proposed look to work, this looks the cleanest.  Appreciate the assist!"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1519159911, "last_edit_date": 1519159911, "creation_date": 1519159016, "answer_id": 48893808, "question_id": 48892391, "link": "https://stackoverflow.com/questions/48892391/creating-a-map-of-attribute-to-object-in-kotlin/48893808#48893808", "title": "Creating a map of attribute to object in Kotlin", "body": "<p>You can collect all available attributes and then use <code>associate</code> to create <code>Pair</code>s of the single attributes and the <code>Thing</code>s that have the corresponding attribute. It will result in a map as specified.</p>\n\n<pre><code>val things = listOf(\n    Thing(\"first\", listOf(\"a1\", \"a3\")),\n    Thing(\"second\", listOf(\"a2\", \"a3\", \"a4\"))\n)\nval result = things\n    .flatMap { it.attributes }\n    .associate { att -&gt;\n        att to things.filter { it.attributes.contains(att) }\n    }\n</code></pre>\n\n<p>The Result will look as follows:</p>\n\n<pre><code>a1=[Thing(name=first, attributes=[a1, a3])], \na3=[Thing(name=first, attributes=[a1, a3]), Thing(name=second, attributes=[a2, a3, a4])], \na2=[Thing(name=second, attributes=[a2, a3, a4])], \na4=[Thing(name=second, attributes=[a2, a3, a4])]\n</code></pre>\n"}], "owner": {"reputation": 930, "user_id": 943531, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4fb3ea82142a7906f7242e6d142ec908?s=128&d=identicon&r=PG", "display_name": "thetwan", "link": "https://stackoverflow.com/users/943531/thetwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 0, "accepted_answer_id": 48893808, "answer_count": 2, "score": 1, "last_activity_date": 1519159911, "creation_date": 1519153109, "last_edit_date": 1519156624, "question_id": 48892391, "link": "https://stackoverflow.com/questions/48892391/creating-a-map-of-attribute-to-object-in-kotlin", "title": "Creating a map of attribute to object in Kotlin", "body": "<p>Consider the following:</p>\n\n<pre><code>data class Thing(val name: String, val attributes: List&lt;String&gt;)\n</code></pre>\n\n<p>Given a <code>List&lt;Thing&gt;</code> I'd like to create a map of attribute <code>String</code> to <code>List&lt;Thing&gt;</code>. Broadly, things would be grouped by their respective attribute.</p>\n\n<p>First thing that comes to mind is <code>flatMap</code> with a combination of <code>associateBy</code>, but how they might fit together isn't exactly clear.</p>\n\n<p>Any help is greatly appreciated</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin", "race-condition"], "comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 1, "creation_date": 1519152251, "post_id": 48892046, "comment_id": 84789823, "body": "write the bundle related codes in <code>onActivityCreated</code> or <code>onViewCreated</code> you may not get the error.. update if it works.."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1519152871, "post_id": 48892046, "comment_id": 84790151, "body": "Hmmm....Not sure that I know how. I try and pass arguments from activity like this: ` homeFrag.arguments.putString(someweatherstring)<code>. In </code>onViewCreated` I have <code>val weatherurl = arguments.getString(&quot;weatherurl&quot;)</code> but this gives the error <code>java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.os.Bundle.getString(java.lang.String)&#39; on a null object reference</code>. What is <code>arguments</code> supposed to be the modifier of in the fragment?"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1519152994, "post_id": 48892046, "comment_id": 84790225, "body": "first you need to get the arguments like <code>getArguments()</code>"}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1519153113, "post_id": 48892046, "comment_id": 84790281, "body": "Remember, this is in Kotlin, so get/setArguments() is now arguments. It has a slightly different syntax."}, {"owner": {"reputation": 3208, "user_id": 449007, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54a73ed602ae807913554ea6816d01c5?s=128&d=identicon&r=PG", "display_name": "yozhik", "link": "https://stackoverflow.com/users/449007/yozhik"}, "edited": false, "score": 0, "creation_date": 1524655954, "post_id": 48892046, "comment_id": 87058087, "body": "I have the similar issue. Have you solved your? Can you please share what was wrong?"}], "answers": [{"comments": [{"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519153246, "post_id": 48892347, "comment_id": 84790346, "body": "This is a very good point. I&#39;ve posted my TabsAdapter. Perhaps I should write a function in there to grab the Fragment class somehow....Not sure though. I have to admit I&#39;m a little bit lost, I haven&#39;t seen many SO posts that go into this much depth on how to handle Fragments in a TabAdapter."}, {"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519153495, "post_id": 48892347, "comment_id": 84790459, "body": "@Peter Weyand - like my edited answer says: instead of HomeFragment() you use HomeFragment.instance(args) I must admit though that this is plain old Java, not sure how to say it in Kotlin. But I&#39;ll try to find out and be back"}, {"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519153740, "post_id": 48892347, "comment_id": 84790564, "body": "@Peter Weyand - found something on Stack Overflow, I hope it&#39;s useful"}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519155473, "post_id": 48892347, "comment_id": 84791411, "body": "I appreciate the insight. Still having trouble - the issue I have now is an async one. So if I call <code>TabsAdapter.newInstanceHome(&quot;weatherurl&quot;,  &quot;http:&#47;&#47;openweathermap.org&#47;img&#47;w&#47;&quot;+weatherArray[&quot;icon&quot;]+&quot;.pn&zwnj;&#8203;g&quot;)</code> from within my rest call, and in <code>onCreateView</code> I have <code>val bdl: Bundle = arguments</code> arguments will be null and throw an error. Why?  Because <code>onCreateView</code> fires before the rest call finishes. I can do other lifecycle methods within the Fragments, but then I&#39;m just hoping that the Fragment satisfies the race condition."}, {"owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519155817, "post_id": 48892347, "comment_id": 84791597, "body": "@Peter Weyand - wouldn&#39;t it be better to show old data or &quot;loading...&quot; while doing the refresh and, as soon as you have new data, publish them? Your TabsAdapter could have a method refresh(position: Int, args:  Bundle). Then either HomeFragment is on display and you can simply call getWeather() or it isn&#39;t and then next time it should be shown you use args with the instance() method"}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519156811, "post_id": 48892347, "comment_id": 84792124, "body": "I agree that that would be better, but I don&#39;t think that I&#39;m there yet. This is what I&#39;m stuck on, following the link you edited at the bottom of your post. <a href=\"https://gist.github.com/patientplatypus/99209a72f80607cd0c6ab672c7ac3a55\" rel=\"nofollow noreferrer\">gist.github.com/patientplatypus/&hellip;</a>. Essentially, I don&#39;t have a lifecycle method for when a fragment is shown in a tab viewer and so I can&#39;t successfully push data to the fragment."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "edited": false, "score": 0, "creation_date": 1519156877, "post_id": 48892347, "comment_id": 84792162, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/165515/discussion-between-peter-weyand-and-0x0nosugar\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 11569, "user_id": 5015207, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3GiGl.jpg?s=128&g=1", "display_name": "B&#246; macht Blau", "link": "https://stackoverflow.com/users/5015207/b%c3%b6-macht-blau"}, "is_accepted": false, "score": 1, "last_activity_date": 1519153332, "last_edit_date": 1519153332, "creation_date": 1519152926, "answer_id": 48892347, "question_id": 48892046, "link": "https://stackoverflow.com/questions/48892046/sending-data-from-activity-to-fragment-using-arguments-kotlin-android/48892347#48892347", "title": "Sending Data from Activity to Fragment Using Arguments (Kotlin/Android)", "body": "<p>The following line in your code gives you a new instance of HomeFragment:</p>\n\n<pre><code>val homeFrag = HomeFragment()\n</code></pre>\n\n<p>This instance is not attached to the <code>Activity</code> so there's no need to execute  <code>onCreateView()</code> . Because of this, the <code>TextView</code>s are all <code>null</code>.</p>\n\n<p>You want to display the new data in the <code>Fragment</code> which is already attached to the <code>TabLayout</code>. So you need to keep a handle to it in some variable - let's call it  <em>homeFragment</em> - and write</p>\n\n<pre><code>homeFragment.getWeather(args);\n</code></pre>\n\n<p>Looking at your <code>TabsAdapter</code> implementation, I think it's also a good idea to pass <em>args</em> to the Adapter so the Adapter in turn can pass the data to the <code>HomeFragment</code> for the next time it is to be displayed. To achieve this, <code>HomeFragment</code> needs a static <code>instance()</code> method which will take a Bundle parameter and return a <code>HomeFragment</code> instance. Then you can use this method instead of the Constructor.</p>\n\n<p>This <a href=\"https://stackoverflow.com/questions/47104345/kotlin-idiomatic-way-to-create-a-fragment-newinstance-pattern\">post</a> shows how to do it in Kotlin.</p>\n"}], "owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3963, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1519153332, "creation_date": 1519151660, "last_edit_date": 1519153055, "question_id": 48892046, "link": "https://stackoverflow.com/questions/48892046/sending-data-from-activity-to-fragment-using-arguments-kotlin-android", "title": "Sending Data from Activity to Fragment Using Arguments (Kotlin/Android)", "body": "<p>I am trying to send data from an Activity to it's child fragment. I have one activity that first loads all the fragments like this: </p>\n\n<pre><code>    view_pager.adapter = TabsAdapter(supportFragmentManager)\n    tab_layout.setupWithViewPager(view_pager)\n</code></pre>\n\n<p><code>TabsAdapter</code> here is just an if condition for a tab carousel that supports swiping and clicking tab headers to change tabs.</p>\n\n<p>After I load the tabs I call a Fuel http request to get weather data from <a href=\"https://openweathermap.org\" rel=\"nofollow noreferrer\">https://openweathermap.org</a>, a very simple API. I successfully retrieve my local weather and can log the output to the console. Where I am stuck is sending the data to the Fragment.</p>\n\n<p>There are a lot of stackoverflow answers to this question. My issue is that I need to do two things:</p>\n\n<p>1) send the data to the fragment, preferably using an argument as this looks simplest \nand</p>\n\n<p>2) setting some textViews in my fragment to be the value of the weather (display \"It's sunny!\")</p>\n\n<p>Here is how I am attempting to solve the problem so far:</p>\n\n<p>In my activity, after the data comes back from the http request, I put the data in a bundle and send the bundle to a method inside my fragment class:</p>\n\n<pre><code> println(\"success from json request to weatherAPI\")\n val weatherArray = result.get().obj().getJSONArray(\"weather\").get(0) as JSONObject\n println(\"value of main in weatherArray:\" + weatherArray[\"main\"])\n println(\"value of description in weatherArray:\" + weatherArray[\"description\"])\n println(\"value of icon in weatherArray: \" + weatherArray[\"icon\"])\n\n val args = Bundle()\n args.putString(\"weatherurl\",  \"http://openweathermap.org/img/w/\"+weatherArray[\"icon\"]+\".png\")\n args.putString(\"weatherdescription\", weatherArray[\"description\"].toString())\n args.putString(\"weathermain\", weatherArray[\"main\"].toString())\n\n val homeFrag = HomeFragment()\n homeFrag.getWeather(args)\n</code></pre>\n\n<p>Here is the fragment I am working with. So in <code>onCreateView</code> I set the <code>weathermainView</code> and <code>weatherdescriptionView</code> to items that I have in the layout for the fragment. I have to do this in <code>onCreateView</code> because this is the only place where <code>view</code> is available. I have these as public variables because I need them accessible in my <code>getWeather</code> function. </p>\n\n<p>My <code>getWeather</code> function tries to take the bundle arguments and set them equal to the textViews, <strong>however</strong> no matter what I do <code>weathermainView</code> and <code>weatherdescriptionView</code> text values are null, and they do not show in my page in the emulator. I had originally thought that I was experiencing a race condition between creating the tab and getting the data in the activity, so I put in a timeout. However, this does not solve the problem either.</p>\n\n<p>Here is the fragment code: </p>\n\n<pre><code>class HomeFragment : Fragment() {\n     var weathermainView: TextView?=null\n     var weatherdescriptionView:  TextView?=null\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n        val view = inflater!!.inflate(R.layout.fragment_home, container, false)\n\n        weathermainView = view.findViewById&lt;TextView&gt;(R.id.textWeatherMain)\n        weatherdescriptionView = view.findViewById&lt;TextView&gt;(R.id.textWeatherDescription)\n        println(\"!!!after setting weathermainView in onCreateView!!!\")\n        println(\"value of weathermainView \" + weathermainView?.text.toString())\n\n        return inflater!!.inflate(R.layout.fragment_home, container, false)\n    }\n\n    fun getWeather(args: Bundle){\n        val weatherMain = args.getString(\"weathermain\")\n        val weatherDescription = args.getString(\"weatherdescription\")\n        val timer = Timer()\n        timer.schedule(timerTask {\n            println(\"value of weathermainView BEFORE SETTING\" + weathermainView?.text.toString())\n            println(\"value of weatherdescriptionView BEFORE SETTING\" + weatherdescriptionView?.text.toString())\n            weathermainView?.text =  args.getString(\"weathermain\")\n            weatherdescriptionView?.text = args.getString(\"weatherdescription\")\n            println(\"value of weathermainView \" + weathermainView?.text.toString())\n            println(\"value of weatherdescriptionView \" + weatherdescriptionView?.text.toString())\n        }, 10000)\n\n        println(\"Value of weatherMain: \" + weatherMain)\n        println(\"Value of weatherDescription: \" + weatherDescription)\n\n    }\n}\n</code></pre>\n\n<p>Here is the command line output I'm seeing:</p>\n\n<pre><code>I/System.out: !!!after setting weathermainView in onCreateView!!!\nI/System.out: value of weathermainView hello there home fragment\nI/OpenGLRenderer: Initialized EGL, version 1.4\nD/OpenGLRenderer: Swap behavior 1\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nD/OpenGLRenderer: Swap behavior 0\nD/EGL_emulation: eglCreateContext: 0x9ab28d60: maj 3 min 0 rcv 3\nD/EGL_emulation: eglMakeCurrent: 0x9ab28d60: ver 3 0 (tinfo 0x99bf5790)\nE/eglCodecCommon: glUtilsParamSize: unknow param 0x00008cdf\nE/eglCodecCommon: glUtilsParamSize: unknow param 0x00008cdf\nE/eglCodecCommon: glUtilsParamSize: unknow param 0x00008824\nE/eglCodecCommon: glUtilsParamSize: unknow param 0x00008824\nD/EGL_emulation: eglMakeCurrent: 0x9ab28d60: ver 3 0 (tinfo 0x99bf5790)\nI/System.out: success from json request to weatherAPI\nI/System.out: value of main in weatherArray:Rain\nI/System.out: value of description in weatherArray:light rain\nI/System.out: value of icon in weatherArray: 10d\nI/System.out: Value of weatherMain: Rain\nI/System.out: Value of weatherDescription: light rain\nI/System.out: value of weathermainView BEFORE SETTING: null\nI/System.out: value of weatherdescriptionView BEFORE SETTING: null\nI/System.out: value of weathermainView null\nI/System.out: value of weatherdescriptionView null\n</code></pre>\n\n<p>Note: <code>!!!after setting weathermainView in onCreateView!!!</code> is the first output, so the tabs must be instantiated before the response comes back from the http request and the <code>getWeather</code> call is made. <strong>And</strong> both setting the weather variables in the activity and <code>onCreateView</code> of fragment works. <strong>But</strong></p>\n\n<pre><code>I/System.out: value of weathermainView BEFORE SETTING: null\nI/System.out: value of weatherdescriptionView BEFORE SETTING: null\nI/System.out: value of weathermainView null\nI/System.out: value of weatherdescriptionView null\n</code></pre>\n\n<p><strong>So why are these null?</strong></p>\n\n<p>There's no race condition, I can set in <code>onCreatView</code> successfully. I even put in a timeout. I'm very confused, any hints would help.</p>\n\n<p>EDIT: </p>\n\n<p>Here is my TabsAdapter: </p>\n\n<pre><code>class TabsAdapter(manager: FragmentManager) : FragmentPagerAdapter(manager) {\n    // Title for tabs\n    private val fragmentTitles = arrayOf(\"Home\", \"Music\", \"Map\")\n    // Return the Fragment associated with a specified position.\n    override fun getItem(position: Int): Fragment {\n        return when (position) {\n            0 -&gt; HomeFragment()\n            1 -&gt; MusicFragment()\n            2 -&gt; MapFragment()\n            else -&gt; HomeFragment()\n        }\n    }\n    // Return the number of views/fragments available.\n    override fun getCount(): Int = 3 // in our case 3 fragments\n    // Return title based on position\n    override fun getPageTitle(position: Int): CharSequence {\n        return fragmentTitles[position]\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 3990, "user_id": 108350, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/d3c9a4e663c77df1fe4888da3ba85bcc?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/108350/will"}, "edited": false, "score": 0, "creation_date": 1521619106, "post_id": 48888989, "comment_id": 85803006, "body": "Not just Kotlin.  I&#39;ve had that with Java too.  People seem to think we  just use one version at a time .... Potentially valuable tools like &quot;profiles&quot; (Netbeans) get glossed over or reinvented by new tools. Can <code>configurations</code> help with your specific situation.?"}, {"owner": {"reputation": 29, "user_id": 13019972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iAgxt.jpg?s=128&g=1", "display_name": "Mehmet Agah Balbay", "link": "https://stackoverflow.com/users/13019972/mehmet-agah-balbay"}, "edited": false, "score": 0, "creation_date": 1584978205, "post_id": 48888989, "comment_id": 107601014, "body": "You can look question this answer Referance: <a href=\"https://stackoverflow.com/questions/26422860/android-studio-library-error-package-does-not-exist/60816713#60816713\" title=\"android studio library error package does not exist\">stackoverflow.com/questions/26422860/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 768217, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4d727b253d7f9683aa478fcf0c88ea0e?s=128&d=identicon&r=PG", "display_name": "TimCO", "link": "https://stackoverflow.com/users/768217/timco"}, "edited": false, "score": 0, "creation_date": 1519190008, "post_id": 48890533, "comment_id": 84802516, "body": "thanks for the answer.  I put my mac to sleep, came back 5 hours later and no errors. Didn&#39;t have to kill any java processes, but next time problem happens I&#39;ll try that!"}, {"owner": {"reputation": 134, "user_id": 768217, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4d727b253d7f9683aa478fcf0c88ea0e?s=128&d=identicon&r=PG", "display_name": "TimCO", "link": "https://stackoverflow.com/users/768217/timco"}, "edited": false, "score": 0, "creation_date": 1519256199, "post_id": 48890533, "comment_id": 84841085, "body": "killing the processes worked! If you can edit your answer to remove &quot;killall&quot; and instead just kill KotlinCompileDaemon and GradleDaemon I&#39;ll accept your answer. I just don&#39;t want people killing java processes that they depend on."}, {"owner": {"reputation": 93, "user_id": 8204575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd10fd92b015a153d3858e3113c2e7d?s=128&d=identicon&r=PG&f=1", "display_name": "fibheap", "link": "https://stackoverflow.com/users/8204575/fibheap"}, "reply_to_user": {"reputation": 134, "user_id": 768217, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4d727b253d7f9683aa478fcf0c88ea0e?s=128&d=identicon&r=PG", "display_name": "TimCO", "link": "https://stackoverflow.com/users/768217/timco"}, "edited": false, "score": 0, "creation_date": 1519376620, "post_id": 48890533, "comment_id": 84895277, "body": "I am glad it worked! Thanks for the update, I have edited the answer"}, {"owner": {"reputation": 1570, "user_id": 409117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SQqyS.jpg?s=128&g=1", "display_name": "gladed", "link": "https://stackoverflow.com/users/409117/gladed"}, "edited": false, "score": 0, "creation_date": 1525123186, "post_id": 48890533, "comment_id": 87234048, "body": "Consider <code>.&#47;gradlew --stop</code>"}], "tags": [], "owner": {"reputation": 93, "user_id": 8204575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd10fd92b015a153d3858e3113c2e7d?s=128&d=identicon&r=PG&f=1", "display_name": "fibheap", "link": "https://stackoverflow.com/users/8204575/fibheap"}, "is_accepted": true, "score": 4, "last_activity_date": 1519386794, "last_edit_date": 1519386794, "creation_date": 1519146250, "answer_id": 48890533, "question_id": 48888989, "link": "https://stackoverflow.com/questions/48888989/android-kotlin-build-error-kotlin-home-does-not-exist-or-is-not-a-directory/48890533#48890533", "title": "Android + Kotlin build error: Kotlin home does not exist or is not a directory", "body": "<p>There are two things you can try:</p>\n\n<ol>\n<li><p>Clean your Android studio cache and restart.</p></li>\n<li><p>Kill <strong>KotlinCompileDaemon</strong> and <strong>GradleDaemon</strong> processes and restart gradle:</p>\n\n<pre><code>kill KotlinCompileDaemon\nkill GradleDaemon\n./gradlew clean assemble\n</code></pre></li>\n</ol>\n\n<p>I hope this helps if not feel free to post a comment :)</p>\n"}], "owner": {"reputation": 134, "user_id": 768217, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4d727b253d7f9683aa478fcf0c88ea0e?s=128&d=identicon&r=PG", "display_name": "TimCO", "link": "https://stackoverflow.com/users/768217/timco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1386, "favorite_count": 1, "accepted_answer_id": 48890533, "answer_count": 1, "score": 1, "last_activity_date": 1563248836, "creation_date": 1519141379, "last_edit_date": 1519255946, "question_id": 48888989, "link": "https://stackoverflow.com/questions/48888989/android-kotlin-build-error-kotlin-home-does-not-exist-or-is-not-a-directory", "title": "Android + Kotlin build error: Kotlin home does not exist or is not a directory", "body": "<p>Sometimes I get this error when trying to compile my Android app:<br>\ne: Kotlin home does not exist or is not a directory:<br>\nFAILURE: Build failed with an exception.  </p>\n\n<p>Happens at command line (./gradlew clean build) and in Android Studio 3.0.1.  I have done File -> Invalidate Caches / Restart, that does not fix it.</p>\n\n<p>All my Kotlin src is under src/main/java since the majority of the code is still java. </p>\n\n<p>interesting versions / plugins /dependencies:</p>\n\n<pre><code>ext.kotlinVersion = '1.2.21'\nclasspath 'com.android.tools.build:gradle:3.0.1'\nclasspath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\ncompileSdkVersion 26\nbuildToolsVersion \"26.0.3\"\ntargetSdkVersion 26\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlinVersion\"\n</code></pre>\n\n<p><strong>UPDATE</strong><br>\nFound cause of problem. I have multiple Android apps, on different versions of Kotlin. If I build one app, then open another app and try to build it -- kaboom! KotlinCompileDaemon and GradleDaemon processes are specific to just one Kotlin version.  The solution is to kill those processes for KotlinCompileDaemon and GradleDaemon.  You could use \"killall java\" as mentioned below, but that kills all of your java processes, which you may not want. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519138616, "post_id": 48887959, "comment_id": 84781068, "body": "Some asides: you are using a broken double-checking lazy init idiom, replace with <code>by lazy { ... }</code>. Also no need for the word <code>constructor</code> there, it&#39;s assumed"}], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519139216, "post_id": 48888137, "comment_id": 84781504, "body": "How will this work, then? <code>val input = ctx.assets.open(&quot;databases&#47;dex.db&quot;)</code> Apparently it&#39;s called from somewhere, later on."}], "tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": false, "score": 1, "last_activity_date": 1519138871, "creation_date": 1519138871, "answer_id": 48888137, "question_id": 48887959, "link": "https://stackoverflow.com/questions/48887959/do-not-place-android-context-classes-in-static-fields/48888137#48888137", "title": "Do not place Android context classes in static fields", "body": "<p>Keeping the <code>Context</code> inside a <code>static</code> variable prevent the garbage collector to free the memory afterwards and will lead to a memory leak. You should pass a <code>Context</code> to your constructor and initialize everything inside it and should not have to retain it inside a variable.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 2, "last_activity_date": 1519138902, "creation_date": 1519138902, "answer_id": 48888142, "question_id": 48887959, "link": "https://stackoverflow.com/questions/48887959/do-not-place-android-context-classes-in-static-fields/48888142#48888142", "title": "Do not place Android context classes in static fields", "body": "<p>By using a <code>companion object</code>, whose lifetime equals the lifetime of the loaded <code>Database</code> class, you have created a lifecycle mismatch between the <code>Context</code> you capture in the database instance and the database instance itself.</p>\n\n<p>When your application is put to background and restored, or if you just rotate the device, the context (typically the <code>Activity</code> instance) will be destroyed without destroying the whole application, so the database instance will survive with a disposed context. This will reliably lead to application failure.</p>\n\n<p>Although you <em>could</em> be careful to use an <code>Application</code> context instead, which would most probably match the lifecycle, the general practice of retaining the context instance is ill-advised, hence the warning.</p>\n\n<p>Instead put the database instance as a property of your main activity class, or, alternatively, commit to using a dependency injection framework that will deal with this as a separate concern.</p>\n\n<p>As an aside, your current code uses a broken variant of the double-checking lazy initialization idiom. If you need lazy initialization, in Kotlin you should always leave this to the <code>by lazy</code> property delegate instead of rolling your own.</p>\n"}], "owner": {"reputation": 195, "user_id": 4671053, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/8ccda64628e742a41c7bcf36fee1c0bb?s=128&d=identicon&r=PG&f=1", "display_name": "allnex", "link": "https://stackoverflow.com/users/4671053/allnex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2739, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1519138902, "creation_date": 1519138213, "question_id": 48887959, "link": "https://stackoverflow.com/questions/48887959/do-not-place-android-context-classes-in-static-fields", "title": "Do not place Android context classes in static fields", "body": "<p>I need to access to the context of an application, but doing it this way it says \"Do not place Android context classes in static fields\" on the third line. Tried to remove the <code>private val</code> but without it I can't access to the context on the copyDatabase function.</p>\n\n<p>I need the context to copy a database in the assets folder to the data folder of the application.</p>\n\n<pre><code>class Database constructor(private val ctx: Context) : ManagedSQLiteOpenHelper(ctx, \"dex.db\", null, 1) {\n    companion object {\n        private var instance: Database? = null\n\n        @Synchronized\n        fun getInstance(ctx: Context): Database {\n            if (instance == null) {\n                instance = Database(ctx.applicationContext)\n            }\n            return instance!!\n        }\n    }    \n\n    private fun copyDatabase() {\n        val input = ctx.assets.open(\"databases/dex.db\")\n        FileOutputStream(ctx.getDatabasePath(\"dex.db\").path).use { out -&gt;\n            input.copyTo(out)\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "is_accepted": false, "score": 2, "last_activity_date": 1519139724, "creation_date": 1519139724, "answer_id": 48888418, "question_id": 48887169, "link": "https://stackoverflow.com/questions/48887169/how-to-parcel-class-object-that-contains-hash-map-kotlin/48888418#48888418", "title": "How to parcel class object that contains hash map? Kotlin", "body": "<p>Your code is actually just fine. It's just that the TODO doesn't work in this case. Replace the TODO's with actual code and it should work.</p>\n\n<p>For example:</p>\n\n<pre><code>constructor(parcel: Parcel) : this(\n            parcel.readString(),\n            hashMapOf&lt;String, Any&gt;()) {\n</code></pre>\n"}], "owner": {"reputation": 511, "user_id": 9358946, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/719b9692b4d9cd4a76d3a56465b3b9e3?s=128&d=identicon&r=PG&f=1", "display_name": "KevinVuD", "link": "https://stackoverflow.com/users/9358946/kevinvud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519140417, "creation_date": 1519135796, "last_edit_date": 1519140417, "question_id": 48887169, "link": "https://stackoverflow.com/questions/48887169/how-to-parcel-class-object-that-contains-hash-map-kotlin", "title": "How to parcel class object that contains hash map? Kotlin", "body": "<p>I'm trying to pass a custom array list from one activity to another using  <code>intent.putParcelableArrayListExtra</code>.</p>\n\n<p>So I implemented <code>Parcelable</code> in my class object:</p>\n\n<pre><code>class AudioModel(audioTitle:String,map:HashMap&lt;String, Any&gt;):Parcelable{\n\n    var title:String=\"\"\n    var artistName:String=\"\"\n    var urlLink:String=\"\"\n\n    init{\n        title=audioTitle\n        urlLink=map[\"url\"].toString()\n        artistName=map[\"artist\"].toString()\n    }\n}\n</code></pre>\n\n<p>and after adding parcelable implementation, I have:</p>\n\n<pre><code>class AudioModel(audioTitle: String, map: HashMap&lt;String, Any&gt;) : Parcelable {\n\n    var title: String = \"\"\n    var artistName: String = \"\"\n    var urlLink: String = \"\"\n\n    constructor(parcel: Parcel) : this(\n            TODO(\"audioTitle\"),\n            TODO(\"map\")) {\n        title = parcel.readString()\n        artistName = parcel.readString()\n        urlLink = parcel.readString()\n    }\n\n    init {\n        title = audioTitle\n        urlLink = map[\"url\"].toString()\n        artistName = map[\"artist\"].toString()\n    }\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeString(title)\n        parcel.writeString(artistName)\n        parcel.writeString(urlLink)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;AudioModel&gt; {\n        override fun createFromParcel(parcel: Parcel): AudioModel {\n            return AudioModel(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;AudioModel?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n\n}\n</code></pre>\n\n<p>My problem is that I'm getting warning at constructor with </p>\n\n<blockquote>\n  <p>unreachable code message</p>\n</blockquote>\n\n<p>and because of that I can't pass my data using  <code>intent.putParcelableArrayListExtra</code>. Does anyone know how to fix this?</p>\n"}, {"tags": ["android", "kotlin", "realm", "realm-mobile-platform"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1519137248, "post_id": 48886931, "comment_id": 84780063, "body": "You&#39;re getting the exception in <code>submitData</code>. This is <code>updateCurrentUser</code>"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 8118431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hLIdCBuGS_g/AAAAAAAAAAI/AAAAAAAAABQ/YBk-m8zAU6c/photo.jpg?sz=128", "display_name": "L. \u6587\u9877", "link": "https://stackoverflow.com/users/8118431/l-%e6%96%87%e9%a1%b7"}, "is_accepted": false, "score": 7, "last_activity_date": 1525752625, "creation_date": 1525752625, "answer_id": 50225712, "question_id": 48886931, "link": "https://stackoverflow.com/questions/48886931/cannot-modify-managed-objects-outside-of-a-write-transaction-realm-android/50225712#50225712", "title": "Cannot modify managed objects outside of a write transaction ( Realm + Android )", "body": "<p>Object queried by realm can't be modified, simple way to solve this problem is to new a object, copy realm object fields to this new one. If you want to persist\uff0ccall insertOrUpdate method to save it in realm.</p>\n"}], "owner": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5935, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1535620192, "creation_date": 1519134965, "question_id": 48886931, "link": "https://stackoverflow.com/questions/48886931/cannot-modify-managed-objects-outside-of-a-write-transaction-realm-android", "title": "Cannot modify managed objects outside of a write transaction ( Realm + Android )", "body": "<p>I have implement the following method to update <code>UserProfile</code> from realm db.</p>\n\n<pre><code>override fun updateCurrentUser(userProfile: UserProfile, successAction: () -&gt; Unit) {\n        val realm = Realm.getDefaultInstance()\n        realm.executeTransactionAsync(\n                object : Realm.Transaction {\n                    override fun execute(realm: Realm) {\n\n                        val user = realm.where(UserProfile::class.java).equalTo(\"userName\", userProfile.userName).findFirst()\n                        user?.firstName = userProfile.firstName\n                        user?.lastName = userProfile.lastName\n                        user?.gender = userProfile.gender\n                        user?.height = userProfile.height\n                        user?.weight = userProfile.weight\n                        user?.dob = userProfile.dob\n                        user?.firstTimeSetupDone = true\n\n                    }\n                },\n                object : Realm.Transaction.OnSuccess {\n                    override fun onSuccess() {\n                        Log.i(TAG, \"Saved User successfully with $userProfile\")\n                        successAction()\n                    }\n\n                },\n                object : Realm.Transaction.OnError {\n                    override fun onError(error: Throwable?) {\n                        Log.e(TAG, \"Error saving user\", error)\n                    }\n                }\n        )\n    }\n</code></pre>\n\n<p>But it throws the following error even though I'm executing it under <code>realm.executeTransactionAsync</code></p>\n\n<pre><code>java.lang.IllegalStateException: Cannot modify managed objects outside of a write transaction.\n                                                                            at io.realm.internal.Table.throwImmutable(Table.java:674)\n                                                                            at io.realm.internal.Table.checkImmutable(Table.java:549)\n                                                                            at io.realm.internal.UncheckedRow.setString(UncheckedRow.java:230)\n                                                                            at io.realm.UserProfileRealmProxy.realmSet$firstName(UserProfileRealmProxy.java:209)\n                                                                            at saukya.wellness.mobile.services.data.domain.UserProfile.setFirstName(UserProfile.kt:27)\n                                                                            at saukya.wellness.mobile.ui.onboarding.OnBoardingPresenter.submitData(OnBoardingPresenter.kt:102)\n                                                                            at saukya.wellness.mobile.ui.onboarding.OnBoardingActivity.submitData(OnBoardingActivity.kt:106)\n                                                                            at saukya.wellness.mobile.ui.onboarding.OnBoardingHealthInfoFragment$setupNextButton$1.onClick(OnBoardingHealthInfoFragment.kt:86)\n                                                                            at android.view.View.performClick(View.java:5646)\n                                                                            at android.view.View$PerformClick.run(View.java:22459)\n                                                                            at android.os.Handler.handleCallback(Handler.java:761)\n                                                                            at android.os.Handler.dispatchMessage(Handler.java:98)\n                                                                            at android.os.Looper.loop(Looper.java:156)\n                                                                            at android.app.ActivityThread.main(ActivityThread.java:6523)\n                                                                            at java.lang.reflect.Method.invoke(Native Method)\n                                                                            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)\n                                                                            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)\n</code></pre>\n"}, {"tags": ["android", "user-interface", "kotlin", "navigation-drawer"], "comments": [{"owner": {"reputation": 4660, "user_id": 4111447, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/81mmi.png?s=128&g=1", "display_name": "Tomer Shemesh", "link": "https://stackoverflow.com/users/4111447/tomer-shemesh"}, "edited": false, "score": 0, "creation_date": 1519133711, "post_id": 48886441, "comment_id": 84777750, "body": "this might be helpful: <a href=\"https://stackoverflow.com/questions/27282295/navigation-drawer-below-actionbar\" title=\"navigation drawer below actionbar\">stackoverflow.com/questions/27282295/&hellip;</a>"}, {"owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "reply_to_user": {"reputation": 4660, "user_id": 4111447, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/81mmi.png?s=128&g=1", "display_name": "Tomer Shemesh", "link": "https://stackoverflow.com/users/4111447/tomer-shemesh"}, "edited": false, "score": 0, "creation_date": 1519134539, "post_id": 48886441, "comment_id": 84778276, "body": "I did try that. But for some reason, it results in <a href=\"https://i.imgur.com/5RIXCDE.png\" rel=\"nofollow noreferrer\">this</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519143340, "post_id": 48888085, "comment_id": 84784332, "body": "There is no <code>android.support.design.widget.NavigationView</code> because Android Studio didn&#39;t generate it for some reason. The <code>&lt;RelativeLayout ...</code> wasn&#39;t there initially - there was <code>&lt;include ...&gt;</code> but I prefer to have all the code in the same place, so I just put the referenced code in the same XML file."}, {"owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519143461, "post_id": 48888085, "comment_id": 84784407, "body": "Oh wait. Just found the <code>&lt;android.support.design.widget.NavigationView ...</code> - it was in <code>activity_main.xml</code>. Gonna try out"}, {"owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519144166, "post_id": 48888085, "comment_id": 84784913, "body": "Tested. It <a href=\"https://i.imgur.com/ibp8Ykh.png\" rel=\"nofollow noreferrer\">ALMOST</a> worked (didn&#39;t apply the transparency yet)."}, {"owner": {"reputation": 316, "user_id": 7338350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUUXw.png?s=128&g=1", "display_name": "Vishu", "link": "https://stackoverflow.com/users/7338350/vishu"}, "reply_to_user": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519289989, "post_id": 48888085, "comment_id": 84852765, "body": "avi - did this work? can you please accept this solution?"}, {"owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "edited": false, "score": 0, "creation_date": 1519576688, "post_id": 48888085, "comment_id": 84956613, "body": "I sadly ended giving up on a navigation drawer, and instead using bottom tabs and as of now I&#39;m working on the code and not on the UI"}], "tags": [], "owner": {"reputation": 316, "user_id": 7338350, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUUXw.png?s=128&g=1", "display_name": "Vishu", "link": "https://stackoverflow.com/users/7338350/vishu"}, "is_accepted": false, "score": 5, "last_activity_date": 1519138653, "creation_date": 1519138653, "answer_id": 48888085, "question_id": 48886441, "link": "https://stackoverflow.com/questions/48886441/android-prevent-navigation-drawer-from-overlaying-title-bar/48888085#48888085", "title": "Android - Prevent navigation drawer from overlaying title bar", "body": "<hr>\n\n<p>Adding to Tomer suggestion, <code>android:layout_marginTop=\"?attr/actionBarSize\"</code> should be applied to <code>android.support.design.widget.NavigationView</code>. I dont see Navigation View in <code>app_bar_main.xml</code>.</p>\n\n<p>Adding this will give you action bar with a opaque overlay. It will look like this\n<a href=\"https://i.stack.imgur.com/96M0r.png\" rel=\"noreferrer\">Image with opaque overlay</a></p>\n\n<p>You can remove opaque overlay by setting <code>scrimColor</code> to transparent of <code>DrawerLayout</code> in your <code>Navigation Drawer Activity</code>. </p>\n\n<p><code>mDrawerLayout = (DrawerLayout) getLayoutInflater().inflate(R.layout.activity_refonte_base, null);\nmDrawerLayout.setScrimColor(ContextCompat.getColor(this,android.R.color.transparent));</code></p>\n\n<p>Now it will look like this.\n<a href=\"https://i.stack.imgur.com/7Zzji.png\" rel=\"noreferrer\">Image with scrim color as transparent</a></p>\n"}], "owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519148914, "creation_date": 1519133403, "last_edit_date": 1519148914, "question_id": 48886441, "link": "https://stackoverflow.com/questions/48886441/android-prevent-navigation-drawer-from-overlaying-title-bar", "title": "Android - Prevent navigation drawer from overlaying title bar", "body": "<p>I recently opened a project in Android Studio and selected a Navigation Drawer Activity. It created the navigation drawer, except that it's being displayed in a way that I don't like - the navigation drawer is displayed on top of the title bar, for example:</p>\n\n<p><img src=\"https://storage.googleapis.com/material-design/publish/material_v_12/assets/0Bzhp5Z4wHba3M2xGT3JZWm01TGs/patterns-navdrawer-behavior-temporary4.png\" alt=\"\"></p>\n\n<p>Instead, I'd like it to  be like:</p>\n\n<p><img src=\"https://i.stack.imgur.com/A0xSl.png\" alt=\"\"></p>\n\n<p>In this \"correct\" example, the title bar - \"Home\" is being displayed, alongside a closing arrow, while the navigation drawer opens.</p>\n\n<p>File sources:</p>\n\n<p><code>app_bar_main.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.avi12.soundcloudinstantdownloader.MainActivity\"\n    android:fitsSystemWindows=\"true\"&gt;\n\n&lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n    &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:background=\"?attr/colorPrimary\"\n        app:popupTheme=\"@style/AppTheme.PopupOverlay\"/&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n&lt;RelativeLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    tools:context=\"com.avi12.soundcloudinstantdownloader.MainActivity\"\n    tools:showIn=\"@layout/app_bar_main\"&gt;\n\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_margin=\"5dp\"\n        android:layout_marginLeft=\"16dp\"\n        android:layout_marginStart=\"16dp\"\n        android:layout_marginTop=\"16dp\"\n        android:text=\"What this app can download:\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView8\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/textView\"\n        android:layout_alignStart=\"@+id/textView\"\n        android:layout_below=\"@+id/textView\"\n        android:layout_marginLeft=\"17dp\"\n        android:layout_marginStart=\"17dp\"\n        android:text=\"Single tracks\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView9\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/textView8\"\n        android:layout_alignStart=\"@+id/textView8\"\n        android:layout_below=\"@+id/textView8\"\n        android:text=\"Playlists, a.k.a albums\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView10\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/textView9\"\n        android:layout_alignStart=\"@+id/textView9\"\n        android:layout_below=\"@+id/textView9\"\n        android:text=\"User likes (though only some, due to SoundCloud limiting their API)\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView11\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/textView\"\n        android:layout_alignStart=\"@+id/textView\"\n        android:layout_below=\"@+id/textView10\"\n        android:layout_marginTop=\"12dp\"\n        android:text=\"Instantly download songs by sharing it from SoundCloud with this app!\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView12\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/textView11\"\n        android:layout_alignStart=\"@+id/textView11\"\n        android:layout_below=\"@+id/textView11\"\n        android:layout_marginTop=\"18dp\"\n        android:text=\"Alternatively, you can search the song, and even paste its URL:\"/&gt;\n\n    &lt;EditText\n        android:id=\"@+id/inputDownload\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/textView12\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignStart=\"@+id/textView12\"\n        android:layout_below=\"@+id/textView12\"\n        android:ems=\"10\"\n        android:hint=\"Search query or URL\"\n        android:inputType=\"textUri\"\n        android:singleLine=\"true\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/error\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_centerVertical=\"true\"\n        /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p><em>EDIT</em></p>\n\n<p>After Tomer Shemesh's suggestion, the <code>&lt;android.support.v7.widget.Toolbar</code> was changed to:</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/toolbar\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:background=\"?attr/colorPrimary\"\n        app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n        android:layout_marginTop=\"?attr/actionBarSize\"/&gt;\n</code></pre>\n\n<p>And then, the result is:</p>\n\n<p><img src=\"https://i.imgur.com/5RIXCDE.png\" alt=\"\"></p>\n\n<p>So there is no solution just yet.</p>\n"}, {"tags": ["firebase", "kotlin", "firebase-authentication", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 7807711, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-dk_1D_O45qc/AAAAAAAAAAI/AAAAAAAALZo/2CGEON3a0uE/photo.jpg?sz=128", "display_name": "Devanshi Sukhija", "link": "https://stackoverflow.com/users/7807711/devanshi-sukhija"}, "edited": false, "score": 0, "creation_date": 1519212080, "post_id": 48890415, "comment_id": 84814704, "body": "yes, I couldn&#39;t figure out how this this is working and where is that object going to be assigned?"}, {"owner": {"reputation": 117, "user_id": 7807711, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-dk_1D_O45qc/AAAAAAAAAAI/AAAAAAAALZo/2CGEON3a0uE/photo.jpg?sz=128", "display_name": "Devanshi Sukhija", "link": "https://stackoverflow.com/users/7807711/devanshi-sukhija"}, "edited": false, "score": 0, "creation_date": 1519212547, "post_id": 48890415, "comment_id": 84815024, "body": "if i want to do some action when the auth state is change how do I do that?"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 0, "last_activity_date": 1519145856, "creation_date": 1519145856, "answer_id": 48890415, "question_id": 48886314, "link": "https://stackoverflow.com/questions/48886314/how-does-onauthstatechange-works-and-its-code-in-kotlin/48890415#48890415", "title": "how does onAuthStateChange() works and it&#39;s code in kotlin?", "body": "<p>You're never assigning a non-null value to your mAuthListener.  This is the only time it's assigned:</p>\n\n<pre><code>private var mAuthListener : FirebaseAuth.AuthStateListener? = null\n</code></pre>\n\n<p>And this is where you pass that null value to become an auth state listener:</p>\n\n<pre><code>override fun onStart() {\n    super.onStart()\n    mAuth?.addAuthStateListener(mAuthListener!!)\n}\n</code></pre>\n\n<p>You also create an auth state listener, but never assign that object anywhere, so it doesn't do anything:</p>\n\n<pre><code>    //[START auth_state_listener]\n    FirebaseAuth.AuthStateListener { firebaseAuth -&gt;\n        val cuser = firebaseAuth.currentUser\n        if(mUser != null) {\n            Log.d(\"WOWOWOWOWO : \", \"you dont girl!\")\n        }\n    }\n</code></pre>\n\n<p>Did you mean to take that AuthStateListener object and assign it to mAuthListener during onCreate()?</p>\n"}], "owner": {"reputation": 117, "user_id": 7807711, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-dk_1D_O45qc/AAAAAAAAAAI/AAAAAAAALZo/2CGEON3a0uE/photo.jpg?sz=128", "display_name": "Devanshi Sukhija", "link": "https://stackoverflow.com/users/7807711/devanshi-sukhija"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 0, "accepted_answer_id": 48890415, "answer_count": 1, "score": 1, "last_activity_date": 1519145872, "creation_date": 1519132980, "last_edit_date": 1519145872, "question_id": 48886314, "link": "https://stackoverflow.com/questions/48886314/how-does-onauthstatechange-works-and-its-code-in-kotlin", "title": "how does onAuthStateChange() works and it&#39;s code in kotlin?", "body": "<p>I am trying to log a message when there is a change in state, but apparently it's not working, I am not sure where I am going wrong.</p>\n\n<p>I want to update the UI when the state is changed to user logged in, but for starters I am only trying to log a message.</p>\n\n<p>I also don't quiet understand the registering it and unregistering it.</p>\n\n<p>This is my login activity's code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    val TAG = \"LoginActivity\"\r\n    //private var mDatabaseReference: DatabaseReference? = null\r\n    //private var mDatabase: FirebaseDatabase? = null\r\n\r\n    // Firebase refferences for Authentication.\r\n    private var mAuth: FirebaseAuth? = null\r\n    private var mUser : FirebaseUser? = null\r\n    private var mDatabase : DatabaseReference? = null\r\n    private var mAuthListener : FirebaseAuth.AuthStateListener? = null\r\n\r\n    //global variables\r\n    private var emailString : String? = null\r\n    private var passwordString : String? = null\r\n\r\n    // ActivityState : ONCREATE.\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_login)\r\n\r\n        // initializing firebase Auth and database Reference.\r\n        mAuth = FirebaseAuth.getInstance()\r\n        mDatabase = FirebaseDatabase.getInstance().reference\r\n        // getting the currently logined user.\r\n        mUser = mAuth?.currentUser\r\n\r\n        //[START auth_state_listener]\r\n        FirebaseAuth.AuthStateListener { firebaseAuth -&gt;\r\n            val cuser = firebaseAuth.currentUser\r\n            if(mUser != null) {\r\n                Log.d(\"WOWOWOWOWO : \", \"you dont girl!\")\r\n            }\r\n        }\r\n\r\n    }\r\n    //ActivityState : ONSTART.\r\n    override fun onStart() {\r\n        super.onStart()\r\n\r\n        mAuth?.addAuthStateListener(mAuthListener!!)\r\n    }\r\n    //ActivityState : ONPAUSE.\r\n    override fun onPause() {\r\n        super.onPause()\r\n\r\n\r\n    }\r\n\r\n    // function for when the login button is clicked.\r\n    // TODO : Login Activity : Function# 1.\r\n     fun loginBtnClicked(view : View) {\r\n\r\n         emailString = loginEmailTxt.text.toString()\r\n         passwordString = loginPasswordtxt.text.toString()\r\n\r\n         if(!emailString.isNullOrEmpty() &amp;&amp; !passwordString.isNullOrEmpty()) {\r\n\r\n             // Checking if the login cridentials are correct. and then changing the Auth State to logged in.\r\n             //TODO : Login Activity : Function# 3.\r\n             mAuth!!.signInWithEmailAndPassword(emailString!!, passwordString!!).addOnCompleteListener(this) { task -&gt;\r\n\r\n                 if(task.isSuccessful) {\r\n\r\n                     // User ID token retrival  TODO: not sure what to do with the token yet.\r\n                     mUser!!.getIdToken(true)\r\n                             .addOnCompleteListener(OnCompleteListener {task: Task&lt;GetTokenResult&gt; -&gt;\r\n                                 if(task.isSuccessful) {\r\n                                    var idToken = task.getResult().token\r\n                                     Log.d(TAG, \"signInWithEmail:success :\" + idToken)\r\n                                 } else {\r\n\r\n                                 }\r\n                             }) \r\n                 } else {\r\n\r\n                     Log.e(TAG, \"signInWithEmail:failure\", task.exception)\r\n                     Toast.makeText(this@LoginActivity, \"Authentication failed. Make sure email and password are correct\",\r\n                             Toast.LENGTH_SHORT).show()\r\n                 }\r\n             } \r\n\r\n         } else {\r\n             Toast.makeText(this, \"Email or Password can not be empty.\", Toast.LENGTH_LONG).show()\r\n         } \r\n    } \r\n\r\n    // TODO : Login Activity : Function#2\r\n     fun getHelpImgClicked(view : View) {\r\n        val builder = AlertDialog.Builder(this)\r\n        val dialogView = layoutInflater.inflate(R.layout.get_help_dialog, null)\r\n        builder.setView(dialogView)\r\n                .setNegativeButton(\"Close\" ){ _, _ -&gt; }.show()\r\n\r\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["android", "google-api", "kotlin", "firebase-authentication", "google-smartlockpasswords"], "comments": [{"owner": {"reputation": 915, "user_id": 5890498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zBjkM_95aik/AAAAAAAAAAI/AAAAAAAAAhY/U0g8IcIHabw/photo.jpg?sz=128", "display_name": "Tom Alabaster", "link": "https://stackoverflow.com/users/5890498/tom-alabaster"}, "edited": false, "score": 0, "creation_date": 1519127509, "post_id": 48884669, "comment_id": 84773788, "body": "What do you mean by Smart Lock? Do you mean e.g. On-body detection, trusted places, trusted voices etc?"}, {"owner": {"reputation": 21, "user_id": 9385456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac82862b81f5ce21976a541e46ec5b38?s=128&d=identicon&r=PG&f=1", "display_name": "JoasBotAuthM144", "link": "https://stackoverflow.com/users/9385456/joasbotauthm144"}, "reply_to_user": {"reputation": 915, "user_id": 5890498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zBjkM_95aik/AAAAAAAAAAI/AAAAAAAAAhY/U0g8IcIHabw/photo.jpg?sz=128", "display_name": "Tom Alabaster", "link": "https://stackoverflow.com/users/5890498/tom-alabaster"}, "edited": false, "score": 0, "creation_date": 1519127651, "post_id": 48884669, "comment_id": 84773886, "body": "Hi. Sorry if I was unclear. I mean this <a href=\"https://developers.google.com/identity/smartlock-passwords/android/\" rel=\"nofollow noreferrer\">developers.google.com/identity/smartlock-passwords/android</a>. The auto-login with a gmail, if the user has smart-lock activated"}, {"owner": {"reputation": 21, "user_id": 9385456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac82862b81f5ce21976a541e46ec5b38?s=128&d=identicon&r=PG&f=1", "display_name": "JoasBotAuthM144", "link": "https://stackoverflow.com/users/9385456/joasbotauthm144"}, "reply_to_user": {"reputation": 915, "user_id": 5890498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zBjkM_95aik/AAAAAAAAAAI/AAAAAAAAAhY/U0g8IcIHabw/photo.jpg?sz=128", "display_name": "Tom Alabaster", "link": "https://stackoverflow.com/users/5890498/tom-alabaster"}, "edited": false, "score": 0, "creation_date": 1519130434, "post_id": 48884669, "comment_id": 84775581, "body": "@TomAlabaster , do you know what it is?"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1519134932, "post_id": 48884669, "comment_id": 84778535, "body": "You might want to take a look at the Firebase Auth UI code here: <a href=\"https://github.com/firebase/FirebaseUI-Android\" rel=\"nofollow noreferrer\">github.com/firebase/FirebaseUI-Android</a>. They have Smart Lock implemented."}, {"owner": {"reputation": 21, "user_id": 9385456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac82862b81f5ce21976a541e46ec5b38?s=128&d=identicon&r=PG&f=1", "display_name": "JoasBotAuthM144", "link": "https://stackoverflow.com/users/9385456/joasbotauthm144"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1519135742, "post_id": 48884669, "comment_id": 84779039, "body": "@creativecreatorormaybenot do you know where on my code I can implement what they provide? Which is this: startActivityForResult(     AuthUI.getInstance()         .createSignInIntentBuilder()         .setIsSmartLockEnabled(false)         .build(),     RC_SIGN_IN);"}], "answers": [{"tags": [], "owner": {"reputation": 3788, "user_id": 2067157, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wZBy6.jpg?s=128&g=1", "display_name": "Allan Veloso", "link": "https://stackoverflow.com/users/2067157/allan-veloso"}, "is_accepted": false, "score": 0, "last_activity_date": 1559186218, "creation_date": 1559186218, "answer_id": 56371178, "question_id": 48884669, "link": "https://stackoverflow.com/questions/48884669/implement-smart-lock-password-on-firebase-login/56371178#56371178", "title": "implement Smart Lock Password on Firebase Login", "body": "<p>In your LoginActivity you can add this: </p>\n\n<pre><code>private val smartLockClient by lazy {\n    Credentials.getClient(this)\n}\n\nprivate val firebaseAuth by lazy {\n    FirebaseAuth.getInstance()\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.login) // put a id \"container\" in the root ViewGroup\n\n    // Run Google Smart Lock\n    smartLock()\n}\n\nprivate fun smartLock() {\n    container.visibility = View.GONE\n\n    val credentialRequest = CredentialRequest.Builder()\n            .setPasswordLoginSupported(true)\n            .setIdTokenRequested(true)\n            .setAccountTypes(IdentityProviders.GOOGLE, IdentityProviders.FACEBOOK)\n            .build()\n    smartLockClient.request(credentialRequest).addOnCompleteListener { task -&gt;\n\n        if (task.isSuccessful) {\n            // See \"Handle successful credential requests\"\n            val credential = task.result?.credential ?: return@addOnCompleteListener\n            when (credential.accountType) {\n                null -&gt; {\n                    firebaseAuth.signInWithEmailAndPassword(credential.id, credential.password\n                            ?: \"\")\n                }\n                IdentityProviders.GOOGLE -&gt; {\n\n                    GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                            .setAccountName(credential.id)\n                            .requestIdToken(getString(R.string.default_web_client_id))\n                            .build()\n                            .let { GoogleSignIn.getClient(this, it) }\n                            .silentSignIn()\n                            .addOnSuccessListener {\n                                val authCredential = GoogleAuthProvider.getCredential(it.idToken, null)\n                                firebaseAuth.signInWithCredential(authCredential)\n                                        .addOnSuccessListener { onSignInSuccess() }\n                                        .addOnFailureListener { onSignInFailure() }\n                            }\n                            .addOnFailureListener { onSignInFailure() }\n                }\n            }\n        }\n    }\n}\n\nprivate onSignInSuccess(){\n    // navigate to your main page or something else\n}\n\nprivate onSignInFailure(){\n    // smart lock fail, so show the user the buttons \"Sign in with Google\", \"Sign in with Email\", \"Sign in With Facebook\", etc.\n    container.visibility = VISIBLE\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9385456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac82862b81f5ce21976a541e46ec5b38?s=128&d=identicon&r=PG&f=1", "display_name": "JoasBotAuthM144", "link": "https://stackoverflow.com/users/9385456/joasbotauthm144"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1059, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1559186218, "creation_date": 1519127383, "last_edit_date": 1523617126, "question_id": 48884669, "link": "https://stackoverflow.com/questions/48884669/implement-smart-lock-password-on-firebase-login", "title": "implement Smart Lock Password on Firebase Login", "body": "<p>I have been trying to implement Smart Locks on my Firebase Login Auth method, but I have to admit for the past two days, the google docs tripped me.</p>\n\n<p>Could anyone give me a help?</p>\n\n<p>This is my Auth login with Google</p>\n\n<pre><code>val gso = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestIdToken(getString(R.string.default_web_client_id))\n            .requestEmail()\n            .build()\n\n    mGoogleApiClient = GoogleApiClient.Builder(this)\n            .enableAutoManage(this, GoogleApiClient.OnConnectionFailedListener { })\n            .addApi(Auth.GOOGLE_SIGN_IN_API, gso)\n            .build()\n\n    loginGoogleBtn.setOnClickListener {\n        val signInIntent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient)\n        window.setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,\n                WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE)\n        startActivityForResult(signInIntent, GOOGLE_SIGN_IN)\n    }\n\n\n}\n\noverride fun onStart() {\n    super.onStart()\n    // Check if user is signed in (non-null) and update UI accordingly.\n    val currentUser = auth.currentUser\n    updateUI(currentUser)\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == GOOGLE_SIGN_IN) {\n        val result = Auth.GoogleSignInApi.getSignInResultFromIntent(data)\n        if (result.isSuccess) {\n            if (result.signInAccount != null) {\n                val account = result.signInAccount!!\n                val credential = GoogleAuthProvider.getCredential(account.idToken, null)\n                firebaseLogin(credential)\n            }\n\n        } else {\n            Log.e(\"Error\", \"Could not signin google\")\n        }\n    } else {\n        mCallbackManager.onActivityResult(requestCode, resultCode, data)\n    }\n}\n</code></pre>\n\n<p>Thank you</p>\n"}, {"tags": ["android", "kotlin", "google-calendar-api"], "answers": [{"tags": [], "owner": {"reputation": 1923, "user_id": 4623782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe169bb11c2e0bc6fbc68389fb3c47c6?s=128&d=identicon&r=PG", "display_name": "Raymond", "link": "https://stackoverflow.com/users/4623782/raymond"}, "is_accepted": true, "score": 4, "last_activity_date": 1519199792, "creation_date": 1519199792, "answer_id": 48900710, "question_id": 48883417, "link": "https://stackoverflow.com/questions/48883417/google-calendar-api-v3-android-get-all-day-events-for-freebusyrequest/48900710#48900710", "title": "Google Calendar API V3 android - Get all day events for freeBusyRequest", "body": "<p>After some searching I noticed that there is actually nothing wrong with the API. It's a setting for a whole day event to be busy of free.</p>\n\n<p>By default this is set to free, which makes it not show as a busy time, which makes sense. This goes unnoticed by a lot of people and they will be \"free\" on that day. <a href=\"https://i.stack.imgur.com/miij8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/miij8.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1923, "user_id": 4623782, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fe169bb11c2e0bc6fbc68389fb3c47c6?s=128&d=identicon&r=PG", "display_name": "Raymond", "link": "https://stackoverflow.com/users/4623782/raymond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 964, "favorite_count": 1, "accepted_answer_id": 48900710, "answer_count": 1, "score": 5, "last_activity_date": 1519199792, "creation_date": 1519123480, "last_edit_date": 1519123667, "question_id": 48883417, "link": "https://stackoverflow.com/questions/48883417/google-calendar-api-v3-android-get-all-day-events-for-freebusyrequest", "title": "Google Calendar API V3 android - Get all day events for freeBusyRequest", "body": "<p>I'm trying to get the Free busy data of other people that are within my Google organization using the google-api-services-calendar:v3 for Android (using Kotlin). I'm getting the times just fine for events with a set duration. But all day events don't show up on the list. Documentation on this is almost nowhere to be found and the stuff that I find on developers.google.com contains code that was deprecated in 2013... </p>\n\n<pre><code>// ...\nval busyTimesList = mutableListOf&lt;AgendaPlotter.TimeSpan&gt;()\n    SessionService.sharedInstance.getGoogleAccount(activity)\n        observeOn(Schedulers.io())\n        .subscribe {\n            mCredential!!.selectedAccount = it.account\n            val request = FreeBusyRequest()\n\n            val durationCal = Calendar.getInstance()\n            durationCal.time = startDay.time\n            Calendars.startOfDay(durationCal)\n            request.timeMin = DateTime(durationCal.time)\n            durationCal.add(Calendar.DATE, 1)\n            request.timeMax = DateTime(durationCal.time)\n\n\n            val requestItems = listOf(FreeBusyRequestItem().setId(\"email@from.colleague\"))\n            request.items = requestItems\n            request.timeZone = TimeZone.getDefault().id\n\n            val busyTimes: FreeBusyResponse\n               try {\n                    val query = mService!!.freebusy().query(request)\n                    // Use partial GET to retrieve only needed fields.\n                    query.fields = \"calendars\"\n                    busyTimes = query.execute()\n                    busyTimes.calendars.forEach {\n                    it.toPair().second.busy.forEach { timeSpan -&gt;\n                        val busyTime = AgendaPlotter.TimeSpan()\n                        busyTime.fromTime.timeInMillis = timeSpan.start.value\n                        busyTime.toTime.timeInMillis = timeSpan.end.value\n                        busyTimesList.add(busyTime)\n                    }\n                 }\n                 emitter.onNext(busyTimesList)\n             } catch (e: IOException) {\n                 e.printStackTrace()\n                 // ...\n             }\n         }\n// ...\n</code></pre>\n\n<p>So my question, how do I also obtain the whole day events?</p>\n"}, {"tags": ["kotlin", "zip", "retrofit2", "rx-java2", "flatmap"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519122056, "post_id": 48882683, "comment_id": 84769874, "body": "I&#39;m no Kotlin programmer, but try <code>object : Function3</code> (etc.) with <code>zip</code>."}, {"owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519122764, "post_id": 48882683, "comment_id": 84770452, "body": "can u provide me a sample code. i try that also but still facing issue"}], "answers": [{"tags": [], "owner": {"reputation": 916, "user_id": 6255743, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c1aa73b90ee20ce1cb24ea3a9d98f661?s=128&d=identicon&r=PG&f=1", "display_name": "Appyx", "link": "https://stackoverflow.com/users/6255743/appyx"}, "is_accepted": false, "score": 0, "last_activity_date": 1519308557, "creation_date": 1519308557, "answer_id": 48929482, "question_id": 48882683, "link": "https://stackoverflow.com/questions/48882683/rxjava-zip-not-working-properly/48929482#48929482", "title": "RxJava Zip not working properly", "body": "<p><code>LiveData</code> cannot be zipped with RxJava.</p>\n\n<p>You need to use this API: <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveDataReactiveStreams.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/arch/lifecycle/LiveDataReactiveStreams.html</a></p>\n\n<p>So convert your LiveData to RxJava  and then zip it.</p>\n"}], "owner": {"reputation": 51, "user_id": 9054548, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1af4f608080b5a319a20e3053635c348?s=128&d=identicon&r=PG&f=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/9054548/rupesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 564, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519308557, "creation_date": 1519121429, "last_edit_date": 1519137175, "question_id": 48882683, "link": "https://stackoverflow.com/questions/48882683/rxjava-zip-not-working-properly", "title": "RxJava Zip not working properly", "body": "<p>I am trying to implement this complex API structure. <a href=\"https://i.stack.imgur.com/ivvgc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ivvgc.png\" alt=\"API Structure\"></a></p>\n\n<p>So I tried to implement it with RxJava2 <code>zip</code> for parallel requests</p>\n\n<pre><code>  private fun getDetails(marketDataQuotes: MarketDataQuotes, instrumentById: InstrumentById, subscribe: Subscribe): Observable&lt;DetailsWatchListModel&gt; {\n    return Observable.zip(\n            getMarketDataQutoes(marketDataQuotes),\n            getInstrumentById(instrumentById),\n            getSubscribeInstrument(subscribe),\n            Function3&lt;MarketDataQuotesResponse, List&lt;InstrumentByIdResponse&gt;, SubscribeResult,DetailsWatchListModel&gt;\n            { marketData, instrumentList, subscribeInstrument -&gt;\n                detailWatchList(marketData, instrumentList, subscribeInstrument)\n            })\n\n}\n</code></pre>\n\n<p>but facing this Issue <a href=\"https://i.stack.imgur.com/DzCFN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DzCFN.png\" alt=\"Error\"></a></p>\n\n<pre><code>private fun getSubscribeInstrument(subscribe: Subscribe): LiveData&lt;SubscribeResult&gt; {\n    val mutableLiveData = MutableLiveData&lt;SubscribeResult&gt;()\n    remoteServices.requestSubscribe(subscribe)\n            .subscribeOn(Schedulers.io())\n            //  .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(object : ErrorCallBack&lt;BaseResponse&lt;SubscribeResult&gt;&gt;() {\n                override fun onSuccess(t: BaseResponse&lt;SubscribeResult&gt;) {\n                    L.d(\"Success of Market data Quotes\")\n                    // mutableLiveData.value = transform(t)\n                }\n\n            })\n    return mutableLiveData\n}\n</code></pre>\n\n<p>And other API calls are like this with single place error handling and base Response Structre</p>\n\n<p>And Service like </p>\n\n<pre><code>@Headers(\"Content-Type: application/json\")\n@POST(\"instruments/subscription\")\nfun requestSubscribe(@Body subscribe: Subscribe): Observable&lt;BaseResponse&lt;SubscribeResult&gt;&gt;\n</code></pre>\n\n<p>Using Kotlin v1.2.21 , retofit 2.3.0 , RxJava2 2.1.5 Please let me know what i am doing wrong.. Tanx in Advance</p>\n"}, {"tags": ["android", "arrays", "string", "kotlin", "android-resources"], "answers": [{"tags": [], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "is_accepted": false, "score": 19, "last_activity_date": 1519120533, "creation_date": 1519120533, "answer_id": 48882359, "question_id": 48882294, "link": "https://stackoverflow.com/questions/48882294/string-array-in-kotlin/48882359#48882359", "title": "String-array in Kotlin", "body": "<p>replace</p>\n\n<pre><code>val appThemeList = arrayOf(res.getStringArray(R.array.themeList))\n</code></pre>\n\n<p>to </p>\n\n<pre><code>val appThemeList = res.getStringArray(R.array.themeList)\n</code></pre>\n\n<p>In other case you got array</p>\n\n<pre><code> val myArray = res.getStringArray(R.array.themeList) //already array\n</code></pre>\n\n<p>And added to another array</p>\n\n<pre><code> arrayOf(myArray) // array of arrays\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35671, "user_id": 1722818, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/sQrwd.jpg?s=128&g=1", "display_name": "duggu", "link": "https://stackoverflow.com/users/1722818/duggu"}, "is_accepted": false, "score": 3, "last_activity_date": 1519121238, "last_edit_date": 1519121238, "creation_date": 1519120928, "answer_id": 48882505, "question_id": 48882294, "link": "https://stackoverflow.com/questions/48882294/string-array-in-kotlin/48882505#48882505", "title": "String-array in Kotlin", "body": "<p>As we know <code>res.getStringArray</code> return <code>arraylist</code> so you do not need to write <code>arrayOf</code> on your code.</p>\n\n<p>Simple way to achieve your goal is:-</p>\n\n<pre><code>val list = res.getStringArray(R.array.list);\n</code></pre>\n\n<p>We can use arrayOf when we have to define our array or we have already arraylist like below :-</p>\n\n<pre><code>val myArray = arrayOf(4, 5, 7, 3);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 9355101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54a61f918735b1e4a1e1c066fac2852?s=128&d=identicon&r=PG&f=1", "display_name": "MSD", "link": "https://stackoverflow.com/users/9355101/msd"}, "is_accepted": false, "score": 1, "last_activity_date": 1519122098, "creation_date": 1519122098, "answer_id": 48882942, "question_id": 48882294, "link": "https://stackoverflow.com/questions/48882294/string-array-in-kotlin/48882942#48882942", "title": "String-array in Kotlin", "body": "<p>Try this,</p>\n\n<pre><code> val Lines = Arrays.asList(resources.getStringArray(R.array.list))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 7795899, "user_type": "registered", "profile_image": "https://graph.facebook.com/1250093088440392/picture?type=large", "display_name": "MSilva", "link": "https://stackoverflow.com/users/7795899/msilva"}, "is_accepted": false, "score": 0, "last_activity_date": 1522477817, "creation_date": 1522477817, "answer_id": 49584943, "question_id": 48882294, "link": "https://stackoverflow.com/questions/48882294/string-array-in-kotlin/49584943#49584943", "title": "String-array in Kotlin", "body": "<p>In kotlin use :</p>\n\n<pre><code>var yourVar = resources.getStringArray(R.array.your_string_array)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 554, "user_id": 8439604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rDlxU.jpg?s=128&g=1", "display_name": "Abdul Mateen", "link": "https://stackoverflow.com/users/8439604/abdul-mateen"}, "is_accepted": false, "score": 0, "last_activity_date": 1575700580, "creation_date": 1575700580, "answer_id": 59223618, "question_id": 48882294, "link": "https://stackoverflow.com/questions/48882294/string-array-in-kotlin/59223618#59223618", "title": "String-array in Kotlin", "body": "<p>In kotlin, also need to use context like below</p>\n\n<pre><code>var arry = context.resources.getStringArray(R.array.your_string_array)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 1384360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614c89ef9171b8b6a2b60397fd72823b?s=128&d=identicon&r=PG", "display_name": "Subhanshuja", "link": "https://stackoverflow.com/users/1384360/subhanshuja"}, "is_accepted": false, "score": 6, "last_activity_date": 1609305971, "last_edit_date": 1609305971, "creation_date": 1577149549, "answer_id": 59462789, "question_id": 48882294, "link": "https://stackoverflow.com/questions/48882294/string-array-in-kotlin/59462789#59462789", "title": "String-array in Kotlin", "body": "<p>In android is depend on <strong>context</strong> when <strong>outside</strong> Activity like this</p>\n<pre><code>val themes = context.resources.getStringArray(R.array.themeList)\n</code></pre>\n<p>or <strong>without context</strong> is direct to resource when <strong>inside</strong> Activity</p>\n<pre><code>val themes = resources.getStringArray(R.array.themeList)\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 3231070, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/054699cf1f5ff7c2b276ac519b72ad1d?s=128&d=identicon&r=PG&f=1", "display_name": "berliozz", "link": "https://stackoverflow.com/users/3231070/berliozz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17829, "favorite_count": 3, "answer_count": 6, "score": 13, "last_activity_date": 1609305971, "creation_date": 1519120351, "question_id": 48882294, "link": "https://stackoverflow.com/questions/48882294/string-array-in-kotlin", "title": "String-array in Kotlin", "body": "<p>Begin new project in Kotlin and missing those.</p>\n\n<p>Try to get string-array recources but can't. </p>\n\n<p>In strings.xml I palced next items.</p>\n\n<pre><code>&lt;string-array name=\"themeList\"&gt;\n    &lt;item&gt;white&lt;/item&gt;\n    &lt;item&gt;sepia&lt;/item&gt;\n    &lt;item&gt;black&lt;/item&gt;\n    &lt;item&gt;pink&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p>In code I try next:</p>\n\n<pre><code>val res: Resources = resources\nval appThemeList = arrayOf(res.getStringArray(R.array.themeList))\n\nfor (value in appThemeList) {\n    Log.i (\"value\", value.toString())\n}\n</code></pre>\n\n<p>But in logCat i see:</p>\n\n<pre><code>I/value: [Ljava.lang.String;@40145f2\n</code></pre>\n\n<p>And I don'r understand, what I do incorrectly. </p>\n"}, {"tags": ["android", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "edited": false, "score": 0, "creation_date": 1519118184, "post_id": 48881357, "comment_id": 84767228, "body": "What you mean by automatically insert text? You mean default text on it?"}, {"owner": {"reputation": 109, "user_id": 8561298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15030ebbf20d82f6a2e9ab96a1caae3f?s=128&d=identicon&r=PG&f=1", "display_name": "North Face", "link": "https://stackoverflow.com/users/8561298/north-face"}, "reply_to_user": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "edited": false, "score": 0, "creation_date": 1519118240, "post_id": 48881357, "comment_id": 84767261, "body": "@willywijaya replaceText(&quot;Hello world!&quot;)"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 8561298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15030ebbf20d82f6a2e9ab96a1caae3f?s=128&d=identicon&r=PG&f=1", "display_name": "North Face", "link": "https://stackoverflow.com/users/8561298/north-face"}, "edited": false, "score": 0, "creation_date": 1519119796, "post_id": 48882014, "comment_id": 84768364, "body": "This is for normal EditText, I use AlertDialog."}, {"owner": {"reputation": 109, "user_id": 8561298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15030ebbf20d82f6a2e9ab96a1caae3f?s=128&d=identicon&r=PG&f=1", "display_name": "North Face", "link": "https://stackoverflow.com/users/8561298/north-face"}, "edited": false, "score": 0, "creation_date": 1519122431, "post_id": 48882014, "comment_id": 84770171, "body": "Yes, but it is created in the code, and the identifier can not be obtained."}], "tags": [], "owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "is_accepted": false, "score": -3, "last_activity_date": 1519119484, "creation_date": 1519119484, "answer_id": 48882014, "question_id": 48881357, "link": "https://stackoverflow.com/questions/48881357/how-do-i-insert-a-value-in-edittextalertdialog-espresso/48882014#48882014", "title": "How do I insert a value in edittext?(AlertDialog, Espresso)", "body": "<p>You can do it with :</p>\n\n<pre><code>editText.setText(\"Hello World\")\n</code></pre>\n\n<p>or If you want to use hint :</p>\n\n<pre><code>editText.setHint(\"Hello World\")\n</code></pre>\n\n<p>you can set it on xml :</p>\n\n<pre><code>android:hint=\"Hello World\"\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 8561298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15030ebbf20d82f6a2e9ab96a1caae3f?s=128&d=identicon&r=PG&f=1", "display_name": "North Face", "link": "https://stackoverflow.com/users/8561298/north-face"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1519278672, "creation_date": 1519117446, "question_id": 48881357, "link": "https://stackoverflow.com/questions/48881357/how-do-i-insert-a-value-in-edittextalertdialog-espresso", "title": "How do I insert a value in edittext?(AlertDialog, Espresso)", "body": "<p>I have such a dialog and a text box, how do I automatically insert text into it?  </p>\n\n<p><a href=\"https://i.stack.imgur.com/83YxH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/83YxH.png\" alt=\"enter image description here\"></a>   </p>\n\n<pre><code>@Test\nfun myTest() {\n...\nonView(allOf(childAtPosition(\n                allOf(withId(android.R.id.custom),\n                        childAtPosition(\n                                withClassName(`is`(\"android.widget.FrameLayout\")),\n                                0)),\n                0),\n                isDisplayed()))\n                .perform(replaceText(\"\u0430\"), closeSoftKeyboard())\n\nprivate fun childAtPosition(\n            parentMatcher: Matcher&lt;View&gt;, position: Int): Matcher&lt;View&gt; {\n\n        return object : TypeSafeMatcher&lt;View&gt;() {\n            override fun describeTo(description: Description) {\n                description.appendText(\"Child at position $position in parent \")\n                parentMatcher.describeTo(description)\n            }\n\n            public override fun matchesSafely(view: View): Boolean {\n                val parent = view.parent\n                return (parent is ViewGroup &amp;&amp; parentMatcher.matches(parent)\n                        &amp;&amp; view == parent.getChildAt(position))\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I do it this way, but it does not always work and falls occur.</p>\n"}, {"tags": ["enums", "kotlin"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 1, "creation_date": 1519117062, "post_id": 48881096, "comment_id": 84766509, "body": "Currently I don&#39;t think it&#39;s possible... <code>name</code> is <code>final</code>, <code>@JvmName</code> cannot save you."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519117183, "post_id": 48881096, "comment_id": 84766587, "body": "Addition: due to the same problem it is also impossible to name an enum constant <code>ordinal</code>."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1519117306, "post_id": 48881096, "comment_id": 84766653, "body": "@Moira keep in mind that you can access static members through class instances!"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1519117384, "post_id": 48881096, "comment_id": 84766693, "body": "Why don&#39;t you adhere to the convention of using uppercase for enum constants?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519117913, "post_id": 48881096, "comment_id": 84767039, "body": "Due to this funny Java rule, given <code>enum X { A, B, C }</code> you can legally say <code>X c = X.A.B.C;</code> :)"}], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 4, "creation_date": 1519122534, "post_id": 48882134, "comment_id": 84770242, "body": "Just a minor remark on the naming conventions: the official style guide accepts upper camel-case enum entry names as well: <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#property-names\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 1, "last_activity_date": 1547395460, "last_edit_date": 1547395460, "creation_date": 1519119842, "answer_id": 48882134, "question_id": 48881096, "link": "https://stackoverflow.com/questions/48881096/is-it-possible-to-name-an-enum-constant-name-in-kotlin/48882134#48882134", "title": "Is it possible to name an enum constant &quot;name&quot; in Kotlin?", "body": "<p>You can't do it. Every enum member has two properties: name (string) and ordinal (int). So, there is conflict with names.</p>\n\n<p>And remember. Even if you could do that you should not. Enums should be UPPERCASE (my mistake, can be also CamelCase, check first comment) and breaking this rule can be very distracting for other developers working with your code.</p>\n\n<p>More information in Kotlin docs:\n<a href=\"https://kotlinlang.org/docs/reference/enum-classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/enum-classes.html</a></p>\n"}], "owner": {"reputation": 51, "user_id": 6282826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de0b0d71dd8095058372e1ef22e9eb7f?s=128&d=identicon&r=PG&f=1", "display_name": "jjjmm", "link": "https://stackoverflow.com/users/6282826/jjjmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3364, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1547395460, "creation_date": 1519116653, "last_edit_date": 1519116775, "question_id": 48881096, "link": "https://stackoverflow.com/questions/48881096/is-it-possible-to-name-an-enum-constant-name-in-kotlin", "title": "Is it possible to name an enum constant &quot;name&quot; in Kotlin?", "body": "<p>Is there any workaround to make it possible to name a Kotlin enum constant <code>name</code>?</p>\n\n<p>This works in Java: </p>\n\n<pre><code>public enum Dummy {\n    name\n}\n</code></pre>\n\n<p>This throws <code>Conflicting declarations: enum entry name, public final val name: String</code> in Kotlin</p>\n\n<pre><code>enum class Dummy {\n    name\n}\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "swiperefreshlayout"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1519118129, "post_id": 48880528, "comment_id": 84767188, "body": "why dont you use <a href=\"https://developer.android.com/topic/libraries/architecture/paging.html\" rel=\"nofollow noreferrer\">paging</a> support library?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1519119124, "post_id": 48880528, "comment_id": 84767942, "body": "are you aware of <a href=\"https://developer.android.com/reference/android/arch/paging/PagedListAdapter.html\" rel=\"nofollow noreferrer\">android.arch.paging.PagedListAdapter</a>?"}, {"owner": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1519119656, "post_id": 48880528, "comment_id": 84768273, "body": "No I am looking on it."}, {"owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "edited": false, "score": 0, "creation_date": 1519592274, "post_id": 48880528, "comment_id": 84961769, "body": "can you post the layout?"}, {"owner": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "reply_to_user": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "edited": false, "score": 0, "creation_date": 1519618879, "post_id": 48880528, "comment_id": 84967863, "body": "@saiedVanguard Added layout"}, {"owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "edited": false, "score": 0, "creation_date": 1519638840, "post_id": 48880528, "comment_id": 84975672, "body": "There&#39;s no scrollview higher up. right?"}, {"owner": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "edited": false, "score": 0, "creation_date": 1519648854, "post_id": 48880528, "comment_id": 84982089, "body": "Yes here my issue is recyclerview is not able not scrolling till to the end,  to do pagination when I did swipe to refresh"}, {"owner": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 0, "creation_date": 1519856988, "post_id": 48880528, "comment_id": 85084707, "body": "Can you please share mode code from this class? You got some complication that are not necessary and makes it hard to understand the whole context :)"}, {"owner": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "reply_to_user": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 0, "creation_date": 1519878832, "post_id": 48880528, "comment_id": 85090416, "body": "@JoaquimLey I added entire class file and layout file."}], "answers": [{"comments": [{"owner": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "edited": false, "score": 0, "creation_date": 1519884931, "post_id": 49043216, "comment_id": 85092204, "body": "Thanks for your answer. It is working. But After When I did pull to refresh using SwipeRefreshLayout the addOnScrollListener is not calling"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "edited": false, "score": 0, "creation_date": 1519907613, "post_id": 49043216, "comment_id": 85103738, "body": "@Naveen You got the solution?"}, {"owner": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "edited": false, "score": 0, "creation_date": 1519907849, "post_id": 49043216, "comment_id": 85103872, "body": "No? Its not issue in Endless scrolling. Issue in SwipeRefreshLayout and after I applied SwipeRefreshLayout Endless scrolling is not working"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "edited": false, "score": 1, "creation_date": 1519908009, "post_id": 49043216, "comment_id": 85103964, "body": "@Naveen Actually, I also stuck at this point, I checked it later after replying you. The same condition is with me."}, {"owner": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "edited": false, "score": 0, "creation_date": 1519921432, "post_id": 49043216, "comment_id": 85112993, "body": "Yes same issue its troubling me?  I don&#39;t know what to do"}], "tags": [], "owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "is_accepted": false, "score": 1, "last_activity_date": 1519882500, "creation_date": 1519882500, "answer_id": 49043216, "question_id": 48880528, "link": "https://stackoverflow.com/questions/48880528/recyclerview-addonscrolledtoend-and-swiperefreshlayout-setonrefreshlistener-is-n/49043216#49043216", "title": "RecyclerView.addOnScrolledToEnd and SwipeRefreshLayout.setOnRefreshListener is not working correct with Kotlin", "body": "<p>This is endless scrolling for Recyclerview and I got it from <a href=\"https://github.com/shandilyaaman/SampleEndlessRecyclerView\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>public abstract class EndlessRecyclerOnScrollListener extends RecyclerView.OnScrollListener {\n/**\n * The total number of items in the dataset after the last load\n */\nprivate int mPreviousTotal = 0;\n/**\n * True if we are still waiting for the last set of data to load.\n */\nprivate boolean mLoading = true;\n\n@Override\npublic void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n    super.onScrolled(recyclerView, dx, dy);\n\n    int visibleItemCount = recyclerView.getChildCount();\n    int totalItemCount = recyclerView.getLayoutManager().getItemCount();\n    int firstVisibleItem = ((LinearLayoutManager) recyclerView.getLayoutManager()).findFirstVisibleItemPosition();\n\n    if (mLoading) {\n        if (totalItemCount &gt; mPreviousTotal) {\n            mLoading = false;\n            mPreviousTotal = totalItemCount;\n        }\n    }\n    int visibleThreshold = 5;\n    if (!mLoading &amp;&amp; (totalItemCount - visibleItemCount)\n            &lt;= (firstVisibleItem + visibleThreshold)) {\n        // End has been reached\n\n        onLoadMore();\n\n        mLoading = true;\n    }\n}\n\npublic abstract void onLoadMore();\n</code></pre>\n\n<p>}</p>\n\n<p>And I'm using it in Kotlin MVP pattern</p>\n\n<pre><code> rcyView_matches.addOnScrollListener(object : EndlessRecyclerOnScrollListener() {\n        override fun onLoadMore() {\n\n            item_progress_bar.setVisibility(View.VISIBLE)\n            offset = offset + 10\n            homeModel.matchesParametre(CommonUtility.getGlobalString(activity as Activity, \"userId\"), \"\" + offset)\n\n        }\n    })\n</code></pre>\n\n<p>And Adapter Insilization, initially I'm inflating empty list and after adding list in override method.</p>\n\n<pre><code> override fun matchesList(list: ArrayList&lt;ProfileSelectedData&gt;) {\n    avlodder.hide()\n    iv_nodata.visibility = View.GONE\n    matcheslist.addAll(list)\n    adapter.notifyDataSetChanged()\n    item_progress_bar.setVisibility(View.GONE)\n}\n</code></pre>\n"}], "owner": {"reputation": 6838, "user_id": 2599596, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/tgSoh.jpg?s=128&g=1", "display_name": "Naveen Kumar M", "link": "https://stackoverflow.com/users/2599596/naveen-kumar-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2879, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1536034770, "creation_date": 1519114515, "last_edit_date": 1536034770, "question_id": 48880528, "link": "https://stackoverflow.com/questions/48880528/recyclerview-addonscrolledtoend-and-swiperefreshlayout-setonrefreshlistener-is-n", "title": "RecyclerView.addOnScrolledToEnd and SwipeRefreshLayout.setOnRefreshListener is not working correct with Kotlin", "body": "<p>I had implemented <code>RecyclerView.addOnScrolledToEnd</code> to get next set of data from server using async task. It is working fine when just used RecyclerView.addOnScrolledToEnd. But here the my problem is once I reached end and I did <code>SwipeRefreshLayout.setOnRefreshListener</code> (here resetting the data to fresh records) the <code>RecyclerView.addOnScrolledToEnd</code> is not calling and pagination is not working in this scenario.</p>\n\n<p><strong>Fragment</strong></p>\n\n<pre><code>    class RecentNewsFragment : Fragment(), LoaderManager.LoaderCallbacks&lt;Cursor&gt;, NewsAdapter.OnNewsCallBack, OnRefreshCallback {\n    private var rlProgressContainer: View? = null\n    private var listContainer: View? = null\n    private var pbViewMore: ProgressBar? = null\n    private var swipeRefreshLayout: SwipeRefreshLayout? = null\n    private var srlNoMessageRefreshLayout: SwipeRefreshLayout? = null\n    private var newsAdapter: NewsAdapter? = null\n    private var pageLimit: Int = 10\n    private var pageOffset: Int = 0\n    private var totalNewsCount: Int = 0\n    private var isAsyncDone: Boolean = false\n\n    private val mRecentNewsBroadCast = object : BroadcastReceiver() {\n        override fun onReceive(context: Context, intent: Intent) {\n            // Get extra data included in the Intent\n            restartLoader()\n\n        }\n    }\n\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        val view = inflater.inflate(R.layout.fragment_recent_news, container, false)\n        initView(view)\n        return view\n    }\n\n    override fun onResume() {\n        super.onResume()\n        if(!Helper.isConnected(context!!)) {\n            Toast.makeText(context!!, context?.getString(R.string.no_connection), Toast.LENGTH_SHORT).show()\n        }\n    }\n\n    private fun initView(view: View) {\n        rlProgressContainer = view.findViewById(R.id.rl_progressContainer)\n        listContainer = view.findViewById(R.id.ll_list_container)\n        pbViewMore = view.findViewById(R.id.pb_view_more)\n        newsAdapter = NewsAdapter(context!!, null, this)\n        val recyclerView = view.findViewById&lt;RecyclerView&gt;(R.id.recycler_view)\n        recyclerView.layoutManager = LinearLayoutManager(context)\n        recyclerView.adapter = newsAdapter\n\n        recyclerView.addItemDecoration(DividerItemDecoration(context!!, DividerItemDecoration.VERTICAL))\n        recyclerView.setHasFixedSize(true)\n        recyclerView.itemAnimator = DefaultItemAnimator()\n\n        pbViewMore!!.visibility = View.GONE\n        srlNoMessageRefreshLayout = view.findViewById(R.id.srl_activities_no_message)\n        srlNoMessageRefreshLayout!!.visibility = View.GONE\n        swipeRefreshLayout = view.findViewById(R.id.swipe_refresh_feeds_page)\n\n        val pullToRefresh = PullToRefresh()\n        swipeRefreshLayout!!.setColorSchemeResources(android.R.color.holo_green_dark, android.R.color.holo_red_dark, android.R.color.holo_orange_dark, android.R.color.holo_purple)\n        swipeRefreshLayout!!.setOnRefreshListener(pullToRefresh)\n\n        srlNoMessageRefreshLayout!!.setColorSchemeResources(android.R.color.holo_green_dark, android.R.color.holo_red_dark, android.R.color.holo_orange_dark, android.R.color.holo_purple)\n        srlNoMessageRefreshLayout!!.setOnRefreshListener(pullToRefresh)\n        listContainer!!.visibility = View.GONE\n        rlProgressContainer!!.visibility = View.VISIBLE\n\n        loaderManager.initLoader(Constants.URL_RECENT_NEWS_LOADER, arguments, this)\n\n        startAsync(pageLimit, pageOffset)\n\n        fun RecyclerView.addOnScrolledToEnd(onScrolledToEnd: () -&gt; Unit){\n\n            this.addOnScrollListener(object: RecyclerView.OnScrollListener(){\n\n                private val visibleThreshold = 5\n\n                private var loading = true\n                private var previousTotal = 0\n\n                override fun onScrollStateChanged(recyclerView: RecyclerView,\n                                                  newState: Int) {\n\n                    with(layoutManager as LinearLayoutManager){\n\n                        val visibleItemCount = childCount\n                        val totalItemCount = itemCount\n                        val firstVisibleItem = findFirstVisibleItemPosition()\n\n                        if (loading &amp;&amp; totalItemCount &gt; previousTotal){\n\n                            loading = false\n                            previousTotal = totalItemCount\n                        }\n\n                        if(!loading &amp;&amp; (totalItemCount - visibleItemCount) &lt;= (firstVisibleItem + visibleThreshold)){\n\n                            onScrolledToEnd()\n                            loading = true\n                        }\n                    }\n                }\n            })\n        }\n\n        recyclerView.addOnScrolledToEnd {\n            //What you want to do once the end is reached\n            pbViewMore!!.visibility = View.VISIBLE\n            startAsync(pageLimit, pageOffset)\n        }\n\n    }\n\n\n    private inner class PullToRefresh : SwipeRefreshLayout.OnRefreshListener {\n        override fun onRefresh() {\n            pbViewMore!!.visibility = View.GONE\n            pageOffset = 0\n            startAsync(pageLimit, pageOffset)\n            srlNoMessageRefreshLayout!!.isRefreshing = false\n            swipeRefreshLayout!!.isRefreshing = false\n        }\n    }\n\n    private fun startAsync(pageLimit: Int, pageOffset: Int) {\n        if(Helper.isConnected(context!!)) {\n            val recentAsync = RecentNewsAsync(context = this, pageLimit = pageLimit, pageOffset = pageOffset)\n            recentAsync.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR)\n        } else {\n            isAsyncDone = true\n        }\n    }\n\n    fun restartLoader() {\n        if(isAdded)\n            loaderManager.restartLoader(Constants.URL_RECENT_NEWS_LOADER, null, this)\n    }\n\n    override fun onCreateLoader(id: Int, args: Bundle?): Loader&lt;Cursor&gt; {\n        return NewsVo.getCursorLoader(context!!, NewsVo.NewsType.RECENT, 0)\n    }\n\n    override fun onLoadFinished(loader: Loader&lt;Cursor&gt;, cursor: Cursor?) {\n        if (loader.id == Constants.URL_RECENT_NEWS_LOADER) {\n            if(isAsyncDone) {\n                listContainer!!.visibility = View.VISIBLE\n                rlProgressContainer!!.visibility = View.GONE\n            }\n            if (cursor != null) {\n                newsAdapter!!.swapCursor(cursor)\n                newsAdapter!!.notifyDataSetChanged()\n                if (isAsyncDone &amp;&amp; cursor.count &gt; 0) {\n                    srlNoMessageRefreshLayout!!.visibility = View.GONE\n                    swipeRefreshLayout!!.visibility = View.VISIBLE\n                } else if(isAsyncDone){\n                    srlNoMessageRefreshLayout!!.visibility = View.VISIBLE\n                    swipeRefreshLayout!!.visibility = View.GONE\n                }\n            }\n        }\n    }\n\n    override fun onLoaderReset(loader: Loader&lt;Cursor&gt;) {\n        newsAdapter!!.swapCursor(null)\n\n    }\n\n\n    private class RecentNewsAsync internal constructor(context: RecentNewsFragment, private val pageLimit: Int, private val pageOffset: Int) : AsyncTask&lt;Void, Void, Response&lt;ArrayList&lt;NewsVo&gt;&gt;&gt;() {\n\n        private val context: WeakReference&lt;RecentNewsFragment&gt; = WeakReference(context)\n\n        override fun doInBackground(vararg p0: Void?): Response&lt;ArrayList&lt;NewsVo&gt;&gt; {\n            var response = Response&lt;ArrayList&lt;NewsVo&gt;&gt;()\n            try {\n                val lphService = LPHServiceFactory.getCALFService(context.get()?.context!!)\n                response = lphService.recentNews(pageLimit, pageOffset)\n            } catch (e: LPHException) {\n                e.printStackTrace()\n                response.setThrowable(e)\n            } catch (e: JSONException) {\n                e.printStackTrace()\n                response.setThrowable(e)\n            } catch (e: IOException) {\n                e.printStackTrace()\n                response.setThrowable(e)\n            }\n\n            return response\n        }\n\n        override fun onPostExecute(response: Response&lt;ArrayList&lt;NewsVo&gt;&gt;) {\n            super.onPostExecute(response)\n            context.get()?.isAsyncDone = true\n            context.get()?.pbViewMore?.visibility = View.GONE\n            if (response.isSuccess()) {\n                context.get()?.totalNewsCount = response.getMetaData() as Int\n                if(context.get() != null)\n                    context.get()!!.pageOffset += response.getResult()?.size!!\n\n                context.get()?.restartLoader()\n            }\n        }\n    }\n\n    override fun onFavoriteClick(newsId: Int, isFavorite: Boolean) {\n        if(Helper.isConnected(context!!)) {\n            val weakReferenceContext = WeakReference(this.context!!)\n            val markFavoriteAsync = Helper.MarkFavoriteAsync(weakReferenceContext, newsId, isFavorite, this, 0)\n            markFavoriteAsync.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR)\n        } else {\n            Helper.showConfirmationAlertTwoButton(context!!, context!!.getString(R.string.internet_warning), object : ConfirmationAlertCallback {\n                override fun onPositiveButtonClick() {\n                    onFavoriteClick(newsId, isFavorite)\n                }\n\n                override fun onNegativeButtonClick() {\n\n                }\n\n                override fun onNeutralButtonClick() {\n\n                }\n            })\n        }\n    }\n\n    override fun setRead(newsId: Int, isRead: Boolean) {\n        if(Helper.isConnected(context!!)) {\n            val weakReferenceContext = WeakReference(context!!)\n            val markReadAsync = Helper.MarkReadAsync(weakReferenceContext, newsId, isRead, this, 0)\n            markReadAsync.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR)\n        } else {\n            Helper.showConfirmationAlertTwoButton(context!!, context!!.getString(R.string.internet_warning), object : ConfirmationAlertCallback {\n                override fun onPositiveButtonClick() {\n                    setRead(newsId, isRead)\n                }\n\n                override fun onNegativeButtonClick() {\n\n                }\n\n                override fun onNeutralButtonClick() {\n\n                }\n            })\n        }\n    }\n\n    override fun onViewClick(newsId: Int) {\n        val newsDetailIntent = Intent(context, NewsDetailActivity::class.java)\n        newsDetailIntent.putExtra(Constants.BUNDLE_NEWS_ID, newsId)\n        startActivityForResult(newsDetailIntent, Constants.REQUEST_CODE_RECENT_NEWS)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        activity!!.registerReceiver(mRecentNewsBroadCast, IntentFilter(Constants.BROADCAST_RECENT_NEWS))\n    }\n\n    override fun onDetach() {\n        super.onDetach()\n        activity!!.unregisterReceiver(mRecentNewsBroadCast)\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == Constants.REQUEST_CODE_RECENT_NEWS &amp;&amp; resultCode == Activity.RESULT_OK) {\n            restartLoader()\n            val intent1 = Intent(Constants.BROADCAST_FAVORITE_NEWS)\n            context!!.sendBroadcast(intent1)\n\n            val intent2 = Intent(Constants.BROADCAST_CATEGORIES)\n            context!!.sendBroadcast(intent2)\n        }\n    }\n\n    override fun onRefresh() {\n        restartLoader()\n        val intent1 = Intent(Constants.BROADCAST_FAVORITE_NEWS)\n        context!!.sendBroadcast(intent1)\n\n        val intent2 = Intent(Constants.BROADCAST_CATEGORIES)\n        context!!.sendBroadcast(intent2)\n    }\n\n    companion object {\n\n        /**\n         * Use this factory method to create a new instance of\n         * this fragment using the provided parameters.\n         *\n         * @return A new instance of fragment RecentNewsFragment.\n         */\n        fun newInstance(): RecentNewsFragment {\n            return RecentNewsFragment()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Layout file:</strong></p>\n\n<pre><code>    &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/ll_list_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;android.support.v4.widget.SwipeRefreshLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            android:id=\"@+id/srl_activities_no_message\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:visibility=\"gone\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"horizontal\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/tv_no_data_found\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_gravity=\"center\"\n                    android:enabled=\"false\"\n                    android:fontFamily=\"sans-serif-light\"\n                    android:gravity=\"center\"\n                    android:text=\"@string/no_data\"\n                    android:textAppearance=\"?android:attr/textAppearanceMedium\"\n                    android:textColor=\"@android:color/black\" /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\n\n        &lt;android.support.v4.widget.SwipeRefreshLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            android:id=\"@+id/swipe_refresh_feeds_page\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:fitsSystemWindows=\"false\"\n            android:visibility=\"visible\"&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"&gt;\n\n                &lt;android.support.v7.widget.RecyclerView\n                    android:id=\"@+id/recycler_view\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\" /&gt;\n\n                &lt;ProgressBar\n                    android:id=\"@+id/pb_view_more\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentBottom=\"true\"\n                    android:layout_centerInParent=\"true\"\n                    android:layout_gravity=\"center_horizontal\"\n                    android:theme=\"@style/ProgressBarTheme\"\n                    android:visibility=\"gone\" /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n\n        &lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/rl_progressContainer\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:visibility=\"gone\"&gt;\n\n        &lt;ProgressBar\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:layout_centerInParent=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:theme=\"@style/ProgressBarTheme\" /&gt;\n    &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "kotlin", "rsa"], "comments": [{"owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "edited": false, "score": 0, "creation_date": 1519129895, "post_id": 48880509, "comment_id": 84775265, "body": "I believe without documentation/specification of the API this will involve a lot of trial and error. It&#39;s essentially impossible to know what is needed and  testing it is not possible for us without access to the actual API."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1519132515, "post_id": 48880509, "comment_id": 84776978, "body": "Not a lot of information here. What&#39;s wrong the key returned by <code>toRsa()</code>?"}, {"owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "edited": false, "score": 0, "creation_date": 1519142604, "post_id": 48880509, "comment_id": 84783849, "body": "When encrypting data with it (some password + session id) the request is not accepted by the server."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1519144793, "post_id": 48880509, "comment_id": 84785316, "body": "What error message do you receive on/from the server? By the way, I assume the modulus in your code is just a placeholder because it&#39;s clearly not a valid RSA modulus."}, {"owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "edited": false, "score": 0, "creation_date": 1519194113, "post_id": 48880509, "comment_id": 84803969, "body": "The server just gives &quot;500&quot;. While trying various conversion methods on the web all I know thic c# is able to convert mod/exp to pem that is alternatively returned by this api: <a href=\"https://gist.github.com/misaxi/4642030\" rel=\"nofollow noreferrer\">gist.github.com/misaxi/4642030</a> And yes - I know the modulus is truncated."}], "owner": {"reputation": 6830, "user_id": 1332872, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/M03y5.jpg?s=128&g=1", "display_name": "ssuukk", "link": "https://stackoverflow.com/users/1332872/ssuukk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 805, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519114429, "creation_date": 1519114429, "question_id": 48880509, "link": "https://stackoverflow.com/questions/48880509/convert-modulus-exponent-to-publickey", "title": "Convert modulus + exponent to PublicKey", "body": "<p>I have to connect to an API that is not-so-well documented and it seems its provider isn't very eager to update it. One of the endpoints is returning modulus/exponent for public key that is used to encrypt session password.</p>\n\n<p>The format is like this:</p>\n\n<pre><code>\"key\" : {\n  \"modulus\" : \"udDX3BH5xUSmc94Q6aUlu2Z0i2Vi1gIGkeFW3B1c\",\n  \"exponent\" : \"AQAB\"\n}\n</code></pre>\n\n<p>My attempt at obtaining PublicKey from it is:</p>\n\n<pre><code>fun toRsa() : PublicKey {\n    val modulusBytes = Base64.decode(modulus, Base64.DEFAULT)\n    val exponentBytes = Base64.decode(exponent, Base64.DEFAULT)\n    val e = BigInteger(1, exponentBytes)\n    val m = BigInteger(1, modulusBytes)\n\n    val spec = RSAPublicKeySpec(m, e)\n    val factory = KeyFactory.getInstance(\"RSA\")\n    return factory.generatePublic(spec)\n}\n</code></pre>\n\n<p>Unfortunately above method doesn't return a key this API expects. Any other idea for decoding this modulus/exponent? Would it be easier to get a PublicKey from BASE64_PEM (as this is alternative to modulus/exponent)?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6602, "user_id": 1314217, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IGIWz.jpg?s=128&g=1", "display_name": "Ilya Tretyakov", "link": "https://stackoverflow.com/users/1314217/ilya-tretyakov"}, "edited": false, "score": 0, "creation_date": 1519115154, "post_id": 48879626, "comment_id": 84765387, "body": "Please, attach the code of BaseActivity"}, {"owner": {"reputation": 343, "user_id": 2110356, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9be44878686bef07edfb5140ceb63d74?s=128&d=identicon&r=PG&f=1", "display_name": "kazuyahiko", "link": "https://stackoverflow.com/users/2110356/kazuyahiko"}, "reply_to_user": {"reputation": 6602, "user_id": 1314217, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IGIWz.jpg?s=128&g=1", "display_name": "Ilya Tretyakov", "link": "https://stackoverflow.com/users/1314217/ilya-tretyakov"}, "edited": false, "score": 0, "creation_date": 1519118088, "post_id": 48879626, "comment_id": 84767153, "body": "hi sorry, i try to edit the code but can&#39;t, so i put in the answer @IlyaTretyakov"}], "answers": [{"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1519118173, "post_id": 48881544, "comment_id": 84767222, "body": "This is not an answer"}, {"owner": {"reputation": 343, "user_id": 2110356, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9be44878686bef07edfb5140ceb63d74?s=128&d=identicon&r=PG&f=1", "display_name": "kazuyahiko", "link": "https://stackoverflow.com/users/2110356/kazuyahiko"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1519118222, "post_id": 48881544, "comment_id": 84767251, "body": "i try to edit in the original question, but i can&#39;t add more code in there, i don&#39;t know why."}], "tags": [], "owner": {"reputation": 343, "user_id": 2110356, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9be44878686bef07edfb5140ceb63d74?s=128&d=identicon&r=PG&f=1", "display_name": "kazuyahiko", "link": "https://stackoverflow.com/users/2110356/kazuyahiko"}, "is_accepted": false, "score": -1, "last_activity_date": 1519118174, "last_edit_date": 1519118174, "creation_date": 1519118062, "answer_id": 48881544, "question_id": 48879626, "link": "https://stackoverflow.com/questions/48879626/lateinit-property-fragmentdispatchingandroidinjector-has-not-been-initialized/48881544#48881544", "title": "lateinit property fragmentDispatchingAndroidInjector has not been initialized", "body": "<pre><code>abstract class BaseActivity : AppCompatActivity(), MVPView, BaseFragment.CallBack {\n\n    private var progressDialog: ProgressDialog? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        performDI()\n    }\n\n    override fun hideProgress() {\n        progressDialog?.let { if (it.isShowing) it.cancel() }\n    }\n\n    override fun showProgress() {\n        hideProgress()\n        progressDialog = CommonUtil.showLoadingDialog(this)\n    }\n\n    private fun performDI() = AndroidInjection.inject(this)\n\n}\n</code></pre>\n\n<p>this is my <code>BaseActivity.ky</code></p>\n"}, {"tags": [], "owner": {"reputation": 347, "user_id": 3629588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a0fc630c2f0e32c600ee95e4bd11bf7?s=128&d=identicon&r=PG&f=1", "display_name": "Mundroid", "link": "https://stackoverflow.com/users/3629588/mundroid"}, "is_accepted": false, "score": 0, "last_activity_date": 1583949254, "creation_date": 1583949254, "answer_id": 60641953, "question_id": 48879626, "link": "https://stackoverflow.com/questions/48879626/lateinit-property-fragmentdispatchingandroidinjector-has-not-been-initialized/60641953#60641953", "title": "lateinit property fragmentDispatchingAndroidInjector has not been initialized", "body": "<p>I had same crash when rotating screen, I was calling  AndroidInjection.inject(this) after super.onCreate(savedInstanceState). </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n       ...\n    }\n</code></pre>\n\n<p>After this no crash. It may help.</p>\n"}], "owner": {"reputation": 343, "user_id": 2110356, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9be44878686bef07edfb5140ceb63d74?s=128&d=identicon&r=PG&f=1", "display_name": "kazuyahiko", "link": "https://stackoverflow.com/users/2110356/kazuyahiko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 789, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1583949254, "creation_date": 1519110545, "last_edit_date": 1519110591, "question_id": 48879626, "link": "https://stackoverflow.com/questions/48879626/lateinit-property-fragmentdispatchingandroidinjector-has-not-been-initialized", "title": "lateinit property fragmentDispatchingAndroidInjector has not been initialized", "body": "<p>when i try to change orientation of the display\nit will show this error \"lateinit property fragmentDispatchingAndroidInjector has not been initialized\"</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : BaseActivity(), HasSupportFragmentInjector {\n\n    @Inject\n    internal lateinit var fragmentDispatchingAndroidInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n    internal lateinit var mainMenuPagerAdapter: MainMenuPagerAdapter\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        mainMenuPagerAdapter = MainMenuPagerAdapter(supportFragmentManager)\n        setUpMainMenuPagerAdapter()\n    }\n\n    override fun onFragmentAttached() {\n    }\n\n    override fun onFragmentDetached(tag: String) {\n    }\n\n    override fun supportFragmentInjector(): AndroidInjector&lt;Fragment&gt;? {\n        return fragmentDispatchingAndroidInjector\n    }\n\n    private fun setUpMainMenuPagerAdapter() {\n        mainMenuPagerAdapter.count = 1\n        mainMenuViewPager.adapter = mainMenuPagerAdapter\n        tabLayout.addTab(tabLayout.newTab().setText(R.string.my_account).setIcon(R.drawable.ic_person_white_24dp))\n        mainMenuViewPager.offscreenPageLimit = tabLayout.tabCount;\n        mainMenuViewPager.addOnPageChangeListener(TabLayout.TabLayoutOnPageChangeListener(tabLayout));\n        tabLayout.addOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {\n            override fun onTabSelected(tab: TabLayout.Tab) {\n                mainMenuViewPager.currentItem = tab.position\n            }\n            override fun onTabUnselected(tab: TabLayout.Tab) {}\n            override fun onTabReselected(tab: TabLayout.Tab) {}\n        })\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding", "android-binding-adapter"], "answers": [{"comments": [{"owner": {"reputation": 244, "user_id": 692101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b888605662d5de8f2873a1bbeda72629?s=128&d=identicon&r=PG", "display_name": "ekouChiq", "link": "https://stackoverflow.com/users/692101/ekouchiq"}, "edited": false, "score": 0, "creation_date": 1522192006, "post_id": 49372780, "comment_id": 86053383, "body": "I have same problem, did you fix it?"}, {"owner": {"reputation": 244, "user_id": 692101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b888605662d5de8f2873a1bbeda72629?s=128&d=identicon&r=PG", "display_name": "ekouChiq", "link": "https://stackoverflow.com/users/692101/ekouchiq"}, "edited": false, "score": 0, "creation_date": 1522192075, "post_id": 49372780, "comment_id": 86053411, "body": "<code>@BindingAdapter(value = {&quot;anchorId&quot;, &quot;isPremiumUser&quot;})     public static void setAnchorId(View view, @NonNull int anchorId, @NonNull boolean isPremiumUser) {....}</code>  This seems to not work for me."}, {"owner": {"reputation": 3490, "user_id": 1847960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qqPq.jpg?s=128&g=1", "display_name": "mlykotom", "link": "https://stackoverflow.com/users/1847960/mlykotom"}, "reply_to_user": {"reputation": 244, "user_id": 692101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b888605662d5de8f2873a1bbeda72629?s=128&d=identicon&r=PG", "display_name": "ekouChiq", "link": "https://stackoverflow.com/users/692101/ekouchiq"}, "edited": false, "score": 0, "creation_date": 1522221923, "post_id": 49372780, "comment_id": 86062480, "body": "You need to describe more, what&#39;s the issue. For example, first issue I think may be problem is, that <code>requireAll=false</code> is missing and you don&#39;t use both properties (but that&#39;s just guess). Show the xml please :)"}, {"owner": {"reputation": 820, "user_id": 401553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06f1d1cc84cdd285c6e54a4867eb3b5?s=128&d=identicon&r=PG", "display_name": "Edi", "link": "https://stackoverflow.com/users/401553/edi"}, "reply_to_user": {"reputation": 244, "user_id": 692101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b888605662d5de8f2873a1bbeda72629?s=128&d=identicon&r=PG", "display_name": "ekouChiq", "link": "https://stackoverflow.com/users/692101/ekouchiq"}, "edited": false, "score": 0, "creation_date": 1550602311, "post_id": 49372780, "comment_id": 96326245, "body": "@ekouChiq You need to use square brackets for arrays in Kotlin. So it&#39;s like this: <code>@BindingAdapter(value = [&quot;anchorId&quot;, &quot;isPremiumUser&quot;]) public static void setAnchorId(View view, @NonNull int anchorId, @NonNull boolean isPremiumUser) {....}</code>  @mlyko You probably need to edit your answer as well."}], "tags": [], "owner": {"reputation": 3490, "user_id": 1847960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qqPq.jpg?s=128&g=1", "display_name": "mlykotom", "link": "https://stackoverflow.com/users/1847960/mlykotom"}, "is_accepted": true, "score": 11, "last_activity_date": 1550672164, "last_edit_date": 1550672164, "creation_date": 1521495589, "answer_id": 49372780, "question_id": 48879591, "link": "https://stackoverflow.com/questions/48879591/databinding-bindingadapter-with-multiple-parameters-not-working/49372780#49372780", "title": "Databinding bindingadapter with multiple parameters not working", "body": "<p>Even though, that compiler says the problem is with <code>app:circleCrop</code>, the actual problem is with the <code>defaultResId</code> and <code>placeholderResId</code>.</p>\n\n<p>When using drawables in xml <code>@{@drawable/default_avatar}</code>, it is always compiled into <code>Drawable</code>.</p>\n\n<p>Therefore your binding adapter has to have signature:</p>\n\n<pre><code>@BindingAdapter(value = [\"url\", \"defaultImage\", \"placeholder\", \"circleCrop\"], requireAll = false)\nfun ImageView.setImageUrl(url: String, default: Drawable? = null, placeholder: Drawable? = null, circleCrop: Boolean = false) {\n  // code\n}\n</code></pre>\n\n<p>You can see the result when you look at the generated code (e.g for layout <code>fragment_something.xml</code> it usually is <code>FragmentSomethingBinding</code>) and there you would see that the drawable resource uses <code>getDrawableFromResource()</code> function.</p>\n"}], "owner": {"reputation": 1897, "user_id": 4059656, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8d37f53592325c2ef32ef0ebf1991d40?s=128&d=identicon&r=PG&f=1", "display_name": "Lemao1981", "link": "https://stackoverflow.com/users/4059656/lemao1981"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5898, "favorite_count": 0, "accepted_answer_id": 49372780, "answer_count": 1, "score": 7, "last_activity_date": 1550672164, "creation_date": 1519110332, "question_id": 48879591, "link": "https://stackoverflow.com/questions/48879591/databinding-bindingadapter-with-multiple-parameters-not-working", "title": "Databinding bindingadapter with multiple parameters not working", "body": "<p>I\u00b4m trying to use databinding for loading an image with Glide, Imageview and Bindingadapter with multiple parameters:</p>\n\n<pre><code>@BindingAdapter(value = [\"url\", \"defaultImage\", \"placeholder\", \"circleCrop\"], requireAll = false)\nfun ImageView.setImageUrl(url: String, defaultResId: Int? = null, placeHolderResId: Int? = null, circleCrop: Boolean = false) {\n    val glideRequest = if (defaultResId != null) GlideApp.with(context).loadOrDefault(url, defaultResId)\n    else GlideApp.with(context).load(url)\n    if (placeHolderResId != null) glideRequest.placeholder(placeHolderResId)\n    if (circleCrop) glideRequest.circleCrop()\n    glideRequest.into(this)\n}\n\n&lt;ImageView\n        android:id=\"@+id/imgProfile\"\n        android:layout_width=\"@dimen/size_avatar_search_result\"\n        android:layout_height=\"0dp\"\n        app:circleCrop=\"@{true}\"\n        app:defaultImage=\"@{@drawable/default_avatar}\"\n        app:layout_constraintDimensionRatio=\"1:1\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:placeholder=\"@{@drawable/default_avatar}\"\n        app:url=\"@{item.profilePhotoUrl}\"\n        tools:src=\"@drawable/default_avatar\" /&gt;\n</code></pre>\n\n<p>The bindingadapter method is a top level function. When compiling I get the databinding-kapt error 'Cannot find the setter for attribute 'app:circleCrop' with parameter type boolean on android.widget.ImageView', as if my bindingadapter is not recognized. \nNot sure what I\u00b4m doing wrong</p>\n"}, {"tags": ["kotlin", "zip", "retrofit", "rx-java", "flatmap"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519112470, "post_id": 48878752, "comment_id": 84764115, "body": "Have you tried applying <code>subscribeOn(Schedulers.io())</code> on each of the <code>remoteServices</code> call in that <code>zip</code>? <code>remoteServices.requestInstrumentById(instrumentById).subscri&zwnj;&#8203;beOn(Schedulers.io()&zwnj;&#8203;)</code> etc."}, {"owner": {"reputation": 63, "user_id": 8911538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc88edb3033246be4cd89c4f856a9b0?s=128&d=identicon&r=PG&f=1", "display_name": "IID", "link": "https://stackoverflow.com/users/8911538/iid"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519114910, "post_id": 48878752, "comment_id": 84765247, "body": "Yes i have try that as well but still facing the issue"}, {"owner": {"reputation": 63, "user_id": 8911538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc88edb3033246be4cd89c4f856a9b0?s=128&d=identicon&r=PG&f=1", "display_name": "IID", "link": "https://stackoverflow.com/users/8911538/iid"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1519715302, "post_id": 48878752, "comment_id": 85010380, "body": "private fun getDetailsInstrumentById(instrumentById: InstrumentById): ObservableSource&lt;List&lt;InstrumentByIdResponse&gt;&gt; {         return remoteServices.requestInstrumentById(instrumentById)                 .map {                     it.result                 }     }"}], "owner": {"reputation": 63, "user_id": 8911538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc88edb3033246be4cd89c4f856a9b0?s=128&d=identicon&r=PG&f=1", "display_name": "IID", "link": "https://stackoverflow.com/users/8911538/iid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 398, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1519114971, "creation_date": 1519106222, "last_edit_date": 1592644375, "question_id": 48878752, "link": "https://stackoverflow.com/questions/48878752/not-able-to-call-multiple-api-parallely-using-retrofit-kotlin-rxjava-and-how-to", "title": "Not able to call Multiple API Parallely using Retrofit kotlin rxjava and how to call flatMap and zip together with Common Place error handling", "body": "<p>What i want to achive is</p>\n<p>Call IndexList API and display the responded list in a spinner -&gt; Click on Spinner item i want to call 3 api in parallel using .zip operator and display in DetailViewModel</p>\n<p>I am using flatmap for calling api in sequence\nIn first flatmap i am calling IndexList api and i am passing IndexList response to call 3 multiple api in parallel using Observable.zip operator but i am not able\nto achive the second part of calling 3 API in parallel and display in view model</p>\n<p>Code Snippet:\nSpinner Click :</p>\n<pre><code>    spinner_index_list?.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n\n            //Performing action onItemSelected and onNothing selected\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, pos: Int, id: Long) {\n                mRecyclerView?.visibility = View.GONE\n\n                //Select item from spinner calling API\n                val symbolDefaultGroup = SymbolForDefaultGroup(indexExchangeSegmentList[pos], parent.getItemAtPosition(pos).toString())\n                grpIndexViewModel.getSearchSymbol(symbolDefaultGroup)?.observe(this@FragmentWatchlist, Observer { instrumentByIdResponse -&gt;\n                    mDataProvider = ExpandableDataProvider(instrumentByIdResponse)\n                    mRecyclerView?.visibility = View.VISIBLE\n                    if (instrumentByIdResponse != null)\n                        initRecyclerView(savedInstanceState)\n                })\n            }\n</code></pre>\n<p>ViewModel :</p>\n<pre><code>    fun getSearchSymbol(symbolForDefaultGroup: SymbolForDefaultGroup): LiveData&lt;List&lt;InstrumentByIdResponse&gt;&gt;? {\n    instrumentByIdResponse = null\n    instrumentByIdResponse = MutableLiveData&lt;List&lt;InstrumentByIdResponse&gt;&gt;()\n    instrumentByIdResponse = groupRepository.getSearchSymbol(symbolForDefaultGroup)\n    L.d(&quot;get symbol for default group method&quot;)\n    return instrumentByIdResponse\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>    override fun getSearchSymbol(symbolForDefaultGroup: SymbolForDefaultGroup): LiveData&lt;List&lt;InstrumentByIdResponse&gt;&gt; {\n    val mutableLiveData = MutableLiveData&lt;List&lt;InstrumentByIdResponse&gt;&gt;()\n    val instrumentsIdList = ArrayList&lt;Instrument&gt;()\n    val marketDataQuotesList = ArrayList&lt;QuotesList&gt;()\n    val subscriptionList = ArrayList&lt;SubscriptionList&gt;()\n\n    val symbolFroDefaultGroup: Observable&lt;BaseResponse&lt;SymbolForDefaultGroupResponse&gt;&gt; = remoteServices.requestSymbolForDefaultGroup(symbolForDefaultGroup)\n    symbolFroDefaultGroup\n            .flatMap { response -&gt;\n                for (i in 0 until response.result!!.instruments.size) {\n                    instrumentsIdList.add(Instrument(EnumConfig.getExchangeSegment(response.result.exchangeSegment)!!.toInt(), response.result.instruments[i].toInt()))\n                    marketDataQuotesList.add(QuotesList(EnumConfig.getExchangeSegment(response.result.exchangeSegment)!!.toInt(), response.result.instruments[i].toInt()))\n                    subscriptionList.add(SubscriptionList(EnumConfig.getExchangeSegment(response.result.exchangeSegment)!!.toInt(), response.result.instruments[i].toInt()))\n                }\n\n                val instrumentByIdResult = InstrumentById(instrumentsIdList)\n                val marketDataQuotes = MarketDataQuotes(&quot;ABC&quot;, &quot;ABC&quot;, marketDataQuotesList, 1111)\n                val subscriptionList = Subscribe(&quot;ABC&quot;, &quot;ABC&quot;, &quot;Mobile&quot;, subscriptionList, 1111)\n\n                return@flatMap getDetails(instrumentByIdResult, marketDataQuotes, subscriptionList)\n\n            }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeWith(object : ErrorCallBack&lt;BaseResponse&lt;List&lt;InstrumentByIdResponse&gt;&gt;&gt;() {\n                override fun onSuccess(t: BaseResponse&lt;List&lt;InstrumentByIdResponse&gt;&gt;) {\n                    L.d(&quot;Success of Search Instrument&quot;)\n                    mutableLiveData.value = transform1(t)\n                }\n            })\n    return mutableLiveData\n}\n\nprivate fun transform1(response: BaseResponse&lt;List&lt;InstrumentByIdResponse&gt;&gt;?): List&lt;InstrumentByIdResponse&gt;? {\n    return response!!.result!!.toList()\n}\n\nfun getDetails(instrumentById: InstrumentById, marketDataQuotes: MarketDataQuotes, subscription: Subscribe): Observable&lt;DetailsModel&gt; {\n\n    return Observable.zip(\n            remoteServices.requestInstrumentById(instrumentById),\n            remoteServices.requestMarketDataQuotes(marketDataQuotes),\n            remoteServices.requestSubscribe(subscription),\n            /*Observable.fromArray(remoteServices.requestInstrumentById(instrumentById)),\n            Observable.fromArray(remoteServices.requestMarketDataQuotes(marketDataQuotes)),\n            Observable.fromArray(remoteServices.requestSubscribe(subscription)),*/\n\n            Function3&lt;List&lt;InstrumentByIdResponse&gt;, MarketDataQuotesResponse, SubscribeResult, DetailsModel&gt;\n            { instrumentByIdResponse, marketDataQuotesResponse, subscribeResponse -&gt;\n                createDetailsModel(instrumentByIdResponse, marketDataQuotesResponse, subscribeResponse)\n            })\n}\n\nprivate fun createDetailsModel(instrumentByIdResponse: List&lt;InstrumentByIdResponse&gt;, marketDataQuotesResponse: MarketDataQuotesResponse, subscribeResult: SubscribeResult): DetailsModel {\n     return DetailsModel(instrumentByIdResponse, marketDataQuotesResponse, subscribeResult)\n}\n\n data class DetailsModel(\n        val instrument: List&lt;InstrumentByIdResponse&gt;,\n        val marketDataQuotes: MarketDataQuotesResponse,\n        val subscribe: SubscribeResult)\n</code></pre>\n<p>RemoteService :</p>\n<pre><code>    fun requestInstrumentById(instrumentById: InstrumentById) = ApiService.requestInstrumentById(instrumentById)\n</code></pre>\n<p>APIService :</p>\n<pre><code>    @Headers(&quot;Content-Type: application/json&quot;)\n@POST(&quot;search/instrumentsbyid&quot;)\nfun requestInstrumentById(@Body instrumentById: InstrumentById): Observable&lt;BaseResponse&lt;List&lt;InstrumentByIdResponse&gt;&gt;&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/a6CWF.png\" rel=\"nofollow noreferrer\">API Structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/KLVcw.png\" rel=\"nofollow noreferrer\">Error that i get on Zip Operator</a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 921, "user_id": 8553954, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b56d43ab9c9d4992c583b61d470142a?s=128&d=identicon&r=PG&f=1", "display_name": "meditat", "link": "https://stackoverflow.com/users/8553954/meditat"}, "edited": false, "score": 0, "creation_date": 1519106052, "post_id": 48878308, "comment_id": 84761345, "body": "But icons do not have text."}, {"owner": {"reputation": 23, "user_id": 9308664, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6e97482c397ce88d00b80ed444289efe?s=128&d=identicon&r=PG&f=1", "display_name": "Sudha Kumari", "link": "https://stackoverflow.com/users/9308664/sudha-kumari"}, "reply_to_user": {"reputation": 921, "user_id": 8553954, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b56d43ab9c9d4992c583b61d470142a?s=128&d=identicon&r=PG&f=1", "display_name": "meditat", "link": "https://stackoverflow.com/users/8553954/meditat"}, "edited": false, "score": 0, "creation_date": 1519106247, "post_id": 48878308, "comment_id": 84761419, "body": "i dont have icon its only text can u please tell me how change text color @meditat"}, {"owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1519114758, "post_id": 48878308, "comment_id": 84765165, "body": "you should check at debug what instance is null, maybe menu doesn&#39;t get initialized and it&#39;s null all the way"}, {"owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "edited": false, "score": 0, "creation_date": 1519117783, "post_id": 48878308, "comment_id": 84766958, "body": "you want to change text color of menu with xml or kotlin?"}, {"owner": {"reputation": 23, "user_id": 9308664, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6e97482c397ce88d00b80ed444289efe?s=128&d=identicon&r=PG&f=1", "display_name": "Sudha Kumari", "link": "https://stackoverflow.com/users/9308664/sudha-kumari"}, "reply_to_user": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "edited": false, "score": 0, "creation_date": 1519120224, "post_id": 48878308, "comment_id": 84768630, "body": "yes yes @willywijaya"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1519135068, "post_id": 48878308, "comment_id": 84778625, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31713628/change-menuitem-text-color-programmatically\">Change MenuItem text color programmatically</a>"}, {"owner": {"reputation": 23, "user_id": 9308664, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6e97482c397ce88d00b80ed444289efe?s=128&d=identicon&r=PG&f=1", "display_name": "Sudha Kumari", "link": "https://stackoverflow.com/users/9308664/sudha-kumari"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1519136318, "post_id": 48878308, "comment_id": 84779440, "body": "@creativecreatorormaybenot i tried this but not able to to achieve problematically based on condition"}], "owner": {"reputation": 23, "user_id": 9308664, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6e97482c397ce88d00b80ed444289efe?s=128&d=identicon&r=PG&f=1", "display_name": "Sudha Kumari", "link": "https://stackoverflow.com/users/9308664/sudha-kumari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 666, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1547468626, "creation_date": 1519103787, "last_edit_date": 1547468626, "question_id": 48878308, "link": "https://stackoverflow.com/questions/48878308/how-to-change-menu-item-text-color-programmatically-in-android", "title": "How to change menu item text color programmatically in Android", "body": "<pre><code>&lt;menu\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;item\n        android:id=\"@+id/action_save\"\n        android:title=\"@string/action_save\"\n        android:icon=\"@drawable/ic_action_save\"\n        android:orderInCategory=\"100\"\n        app:showAsAction=\"always\"\n        app:actionLayout=\"@layout/layout_menu_save\"/&gt;\n&lt;/menu&gt; \n</code></pre>\n\n<p>This is my function code</p>\n\n<pre><code>  fun isAdvanceSearchButtonEnabled(bool: Boolean) {\n\n        menu?.getItem(0)?.setEnabled(bool)\n\n        (menu?.getItem(0) as TextView).setTextColor(Color.parseColor(\"#000000\"))\n\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu?, inflater: MenuInflater?) {\n        inflater?.inflate(R.menu.menu_cs_search_advance, menu)\n        this.menu = menu\n        super.onCreateOptionsMenu(menu, inflater)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem?): Boolean {\n        when (item?.itemId) {\n            R.id.action_advance_search_query -&gt; {\n\n            }\n        }\n        return super.onOptionsItemSelected(item)\n    }\n</code></pre>\n\n<p>I want to change Menu item color on based of condition but I am not able to get I will case menu item as textview or how to change menu item text color I tried as type cast but it show null can not cast as text view please suggest me how I will change menu item text color problematically in Android  </p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1519148292, "creation_date": 1519148292, "answer_id": 48891161, "question_id": 48878213, "link": "https://stackoverflow.com/questions/48878213/idiomatic-way-to-simultanously-transform-map-and-filter-null-results/48891161#48891161", "title": "Idiomatic way to simultanously transform map and filter null results", "body": "<p>You could add utility functions that do this for yourself:</p>\n\n<pre><code>inline fun &lt;K, V, R : Any&gt; Map&lt;K, V&gt;.mapKeysNotNull(transform: (Map.Entry&lt;K, V&gt;) -&gt; R?): Map&lt;R, V&gt; {\n    return mapKeysNotNullTo(LinkedHashMap(), transform)\n}\n\ninline fun &lt;K, V, R : Any&gt; Map&lt;K, V&gt;.mapKeysNotNullTo(destination: MutableMap&lt;R, V&gt;, transform: (Map.Entry&lt;K, V&gt;) -&gt; R?): Map&lt;R, V&gt; {\n    forEach { element -&gt; transform(element)?.let { destination.put(it, element.value) } }\n    return destination\n}\n</code></pre>\n\n<p>This is the long version of this code, to match the style of the standard library collection extension implementations as closely as possible. You could simplify this if you want, like this for example:</p>\n\n<pre><code>inline fun &lt;K, V, R : Any&gt; Map&lt;K, V&gt;.mapKeysNotNull(transform: (Map.Entry&lt;K, V&gt;) -&gt; R?): Map&lt;R, V&gt; {\n    val destination = LinkedHashMap&lt;R, V&gt;()\n    forEach { element -&gt; transform(element)?.let { destination.put(it, element.value) } }\n    return destination\n}\n</code></pre>\n\n<p>Either way, the call you're trying to make would look like this using the above:</p>\n\n<pre><code>table.mapKeysNotNull(f)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3794623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phb4P.png?s=128&g=1", "display_name": "qdbp", "link": "https://stackoverflow.com/users/3794623/qdbp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519148292, "creation_date": 1519103207, "last_edit_date": 1519104033, "question_id": 48878213, "link": "https://stackoverflow.com/questions/48878213/idiomatic-way-to-simultanously-transform-map-and-filter-null-results", "title": "Idiomatic way to simultanously transform map and filter null results", "body": "<p>I'm trying to map over the keys of a <code>table = Map&lt;K, V&gt;</code> with <code>f: (K) -&gt; M?</code> and get a <code>Map&lt;M, V&gt;</code>. However, all of my attemps are a little bit smelly:</p>\n\n<ul>\n<li><p><code>table.mapKeys{ f(it.key) }.filter{it != null} as Map&lt;M, V&gt;</code> seems the most straightforward, but has to be cast from <code>Map&lt;M?, V&gt;</code> to <code>Map&lt;M, V&gt;</code> manually. The unchecked cast sidesteps the null-checking \"ecosystem\", which seems off (and causes the IDE to whine).</p></li>\n<li><p><code>table.filterKeys(f(it) != null).mapKeys(f)</code> is simple, but applies <code>f</code> twice, which feels stupid.</p></li>\n<li><p>I also considered <code>table.mapNotNull { f(it.key)?.let {res -&gt; res to it.value} }.toMap()</code>, but the creation of an intermediate list is highly unappealing.</p></li>\n</ul>\n\n<p>I sense that there should be a straightforward declarative (i.e. no <code>MutableMap</code>) way of achieving this transformation, but I can't find it.</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-android-extensions", "kotlin-interop"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1519104952, "post_id": 48878149, "comment_id": 84760894, "body": "Misbehave how? It&#39;s hard to answer &quot;something doesn&#39;t work&quot;."}, {"owner": {"reputation": 200, "user_id": 5321139, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/906207852781239/picture?type=large", "display_name": "Nikhil Singh", "link": "https://stackoverflow.com/users/5321139/nikhil-singh"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1519105251, "post_id": 48878149, "comment_id": 84761030, "body": "@chris its misbehaving when I try to get value from array but at that time  not getting any index for that array."}], "answers": [{"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1519106063, "creation_date": 1519106063, "answer_id": 48878721, "question_id": 48878149, "link": "https://stackoverflow.com/questions/48878149/for-loop-misbehave-in-kotlin/48878721#48878721", "title": "For loop misbehave in Kotlin", "body": "<p>I have used until inbulid method in kotlin provide that method used in for loop to iterate a array and getting total sum value.</p>\n\n<pre><code> var max_sum = 0\n    var total : Int = 0\n\n    val arr = Array(6) { IntArray(6) }\n    for (arr_i in 0..5) {\n        for (arr_j in 0..5) {\n            arr[arr_i][arr_j] = arr_i*arr_j\n        }\n    }\n\n    if (arr.size &lt;= 3 || arr[0].size &lt;= 3) {\n        print(\"not valid array\")\n        Log.e(\"total sum\",\"not valid array\")\n    } else {\n\n\n        for (row in 1 until arr.size -1 ) {\n            for (col in 1 until arr[0].size-1) {\n\n                total = arr[row][col] +\n                        arr[row - 1][col] +\n                        arr[row - 1][col - 1] +\n                        arr[row + 1][col + 1] +\n                        arr[row + 1][col] +\n                        arr[row + 1][col - 1] +\n                        arr[row + 1][col + 1]\n\n            }\n            max_sum = Math.max(max_sum, total)\n\n        }\n        print(max_sum)\n        Log.e(\"total sum\",\"\"+max_sum)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "is_accepted": false, "score": 0, "last_activity_date": 1519110268, "last_edit_date": 1519110268, "creation_date": 1519108843, "answer_id": 48879311, "question_id": 48878149, "link": "https://stackoverflow.com/questions/48878149/for-loop-misbehave-in-kotlin/48879311#48879311", "title": "For loop misbehave in Kotlin", "body": "<pre><code>for (row in 1..arr.size - 1) {\n    for (col in 1..arr[0].size - 1) {\n\n        total = arr[row][col] +\n                arr[row - 1][col] +\n                arr[row - 1][col - 1] +\n                arr[row + 1][col + 1] +\n                arr[row + 1][col] +\n                arr[row + 1][col - 1] +\n                arr[row + 1][col + 1]\n\n    }\n</code></pre>\n\n<p>Index iterate up to high limit size - 1, \nindex + 1 is beyond</p>\n"}], "owner": {"reputation": 200, "user_id": 5321139, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/906207852781239/picture?type=large", "display_name": "Nikhil Singh", "link": "https://stackoverflow.com/users/5321139/nikhil-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1519110268, "creation_date": 1519102832, "question_id": 48878149, "link": "https://stackoverflow.com/questions/48878149/for-loop-misbehave-in-kotlin", "title": "For loop misbehave in Kotlin", "body": "<p>I am trying to iterate through for loop but when I try to get value from 2D array and add that value then for loop misbehave. Here is the code I am sharing...</p>\n\n<pre><code> var max_sum = 0\n    var total : Int = 0\n\n    val arr = Array(6) { IntArray(6) }\n    for (arr_i in 0..5) {\n        for (arr_j in 0..5) {\n            arr[arr_i][arr_j] = arr_i*arr_j\n        }\n    }\n\n    if (arr.size &lt;= 3 || arr[0].size &lt;= 3) {\n        print(\"not valid array\")\n        Log.e(\"total sum\",\"not valid array\")\n    } else {\n\n\n        for (row in 1..arr.size - 1) {\n            for (col in 1..arr[0].size - 1) {\n\n                total = arr[row][col] +\n                        arr[row - 1][col] +\n                        arr[row - 1][col - 1] +\n                        arr[row + 1][col + 1] +\n                        arr[row + 1][col] +\n                        arr[row + 1][col - 1] +\n                        arr[row + 1][col + 1]\n\n            }\n            max_sum = Math.max(max_sum, total)\n\n        }\n        print(max_sum)\n        Log.e(\"total sum\",\"\"+max_sum)\n    }\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "dex"], "comments": [{"owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "edited": false, "score": 0, "creation_date": 1519098421, "post_id": 48877455, "comment_id": 84759123, "body": "Did you try to uninstall the apk and then recompile it? Using Android Emulator or Device?"}, {"owner": {"reputation": 31, "user_id": 9383667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fa4aee6cdf9b53b9d0d0f4fd2fe3095?s=128&d=identicon&r=PG&f=1", "display_name": "Divine Qoustes", "link": "https://stackoverflow.com/users/9383667/divine-qoustes"}, "reply_to_user": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "edited": false, "score": 0, "creation_date": 1519135848, "post_id": 48877455, "comment_id": 84779123, "body": "I can&#39;t uninstall it because it didn&#39;t install on the first place. And i tried to wipe data on the emulator."}, {"owner": {"reputation": 545, "user_id": 1775228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5bef7009276b9c512507c83e8ed5dc?s=128&d=identicon&r=PG", "display_name": "NixSam", "link": "https://stackoverflow.com/users/1775228/nixsam"}, "edited": false, "score": 1, "creation_date": 1557912120, "post_id": 48877455, "comment_id": 98921317, "body": "Happens to me also. Its working on higher versions, for some reason doesn&#39;t work on 22. Same situation, emulator is new, clean, nothing installed on it."}], "answers": [{"tags": [], "owner": {"reputation": 156, "user_id": 7968334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AnhV4.jpg?s=128&g=1", "display_name": "NataTse", "link": "https://stackoverflow.com/users/7968334/natatse"}, "is_accepted": false, "score": 0, "last_activity_date": 1581063757, "creation_date": 1581063757, "answer_id": 60109568, "question_id": 48877455, "link": "https://stackoverflow.com/questions/48877455/install-failed-dexopt-when-on-lower-version-than-lollipop/60109568#60109568", "title": "INSTALL_FAILED_DEXOPT when on lower version than lollipop", "body": "<p>try to add this to your gradle.properties</p>\n\n<pre><code>android.enableD8=false\nandroid.enableD8.desugaring= false\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9383667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fa4aee6cdf9b53b9d0d0f4fd2fe3095?s=128&d=identicon&r=PG&f=1", "display_name": "Divine Qoustes", "link": "https://stackoverflow.com/users/9383667/divine-qoustes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1581063757, "creation_date": 1519097590, "question_id": 48877455, "link": "https://stackoverflow.com/questions/48877455/install-failed-dexopt-when-on-lower-version-than-lollipop", "title": "INSTALL_FAILED_DEXOPT when on lower version than lollipop", "body": "<p>I always get this error when i try to run my app on lower than lollipop api's. <a href=\"https://i.stack.imgur.com/jYq2Z.png\" rel=\"nofollow noreferrer\">Click here to see error.</a> \n<strong>Run</strong></p>\n\n<pre><code>    pkg: /data/local/tmp/batstate.commutersalertbutton\nFailure [INSTALL_FAILED_DEXOPT]\nError while Installing APK\n</code></pre>\n\n<p><strong>LogCat</strong></p>\n\n<pre><code> 02-19 22:28:13.904 1937-1944/com.google.android.gms E/StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.\n                                                                      java.lang.Throwable: Explicit termination method 'close' not called\n                                                                          at dalvik.system.CloseGuard.open(CloseGuard.java:184)\n                                                                          at dalvik.system.DexFile.&lt;init&gt;(DexFile.java:111)\n                                                                          at dalvik.system.DexFile.loadDex(DexFile.java:149)\n                                                                          at dalvik.system.DexPathList.loadDexFile(DexPathList.java:259)\n                                                                          at dalvik.system.DexPathList.makeDexElements(DexPathList.java:223)\n                                                                          at dalvik.system.DexPathList.&lt;init&gt;(DexPathList.java:106)\n                                                                          at dalvik.system.BaseDexClassLoader.&lt;init&gt;(BaseDexClassLoader.java:46)\n                                                                          at dalvik.system.DexClassLoader.&lt;init&gt;(DexClassLoader.java:57)\n                                                                          at com.google.android.chimera.container.DexOptUtils.optimizeModule(:com.google.android.gms:86)\n                                                                          at bcs.run(:com.google.android.gms:1726)\n                                                                          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n                                                                          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n                                                                          at java.lang.Thread.run(Thread.java:841)\n\n\n02-19 22:31:03.120 1706-1722/com.google.process.gapps E/StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.\n                                                                    java.lang.Throwable: Explicit termination method 'close' not called\n                                                                        at dalvik.system.CloseGuard.open(CloseGuard.java:184)\n                                                                        at com.google.android.gms.org.conscrypt.Platform.closeGuardOpen(:com.google.android.gms:383)\n                                                                        at com.google.android.gms.org.conscrypt.OpenSSLSocketImpl.startHandshake(:com.google.android.gms:297)\n                                                                        at com.google.android.gms.org.conscrypt.PreKitKatPlatformOpenSSLSocketImplAdapter.startHandshake(:com.google.android.gms:318)\n                                                                        at com.google.android.gms.common.net.SSLCertificateSocketFactory.verifyHostname(:com.google.android.gms:217)\n                                                                        at com.google.android.gms.common.net.SSLCertificateSocketFactory.createSocket(:com.google.android.gms:507)\n                                                                        at libcore.net.http.HttpConnection.setupSecureSocket(HttpConnection.java:197)\n                                                                        at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.makeSslConnection(HttpsURLConnectionImpl.java:478)\n                                                                        at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:433)\n                                                                        at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:290)\n                                                                        at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:240)\n                                                                        at libcore.net.http.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:81)\n                                                                        at libcore.net.http.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:197)\n                                                                        at libcore.net.http.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:281)\n                                                                        at com.google.android.gms.http.GoogleHttpClient.a(:com.google.android.gms:943)\n                                                                        at com.google.android.gms.http.GoogleHttpClient.a(:com.google.android.gms:761)\n                                                                        at com.google.android.gms.http.GoogleHttpClient.execute(:com.google.android.gms:669)\n                                                                        at com.google.android.gms.http.GoogleHttpClient.execute(:com.google.android.gms:653)\n                                                                        at cyh.a(:com.google.android.gms:233)\n                                                                        at dmx.a(:com.google.android.gms:263)\n                                                                        at dmx.a(:com.google.android.gms:4235)\n                                                                        at dmw.a(:com.google.android.gms:47)\n                                                                        at dmq.a(:com.google.android.gms:55)\n                                                                        at dmp.a(:com.google.android.gms:113)\n                                                                        at com.google.android.gms.auth.account.be.legacy.AuthCronChimeraService.a(:com.google.android.gms:3054)\n                                                                        at mwx.run(:com.google.android.gms:179)\n02-19 22:31:03.120 1706-1722/com.google.process.gapps E/StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.\n                                                                    java.lang.Throwable: Explicit termination method 'end' not called\n                                                                        at dalvik.system.CloseGuard.open(CloseGuard.java:184)\n                                                                        at java.util.zip.Inflater.&lt;init&gt;(Inflater.java:82)\n                                                                        at java.util.zip.GZIPInputStream.&lt;init&gt;(GZIPInputStream.java:96)\n                                                                        at java.util.zip.GZIPInputStream.&lt;init&gt;(GZIPInputStream.java:81)\n                                                                        at libcore.net.http.HttpEngine.initContentStream(HttpEngine.java:547)\n                                                                        at libcore.net.http.HttpEngine.readResponse(HttpEngine.java:850)\n                                                                        at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:283)\n                                                                        at libcore.net.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:497)\n                                                                        at libcore.net.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:134)\n                                                                        at com.google.android.gms.http.GoogleHttpClient.a(:com.google.android.gms:797)\n                                                                        at com.google.android.gms.http.GoogleHttpClient.a(:com.google.android.gms:762)\n                                                                        at com.google.android.gms.http.GoogleHttpClient.execute(:com.google.android.gms:669)\n                                                                        at com.google.android.gms.http.GoogleHttpClient.execute(:com.google.android.gms:653)\n                                                                        at cyh.a(:com.google.android.gms:233)\n                                                                        at dmx.a(:com.google.android.gms:263)\n                                                                        at dmx.a(:com.google.android.gms:4235)\n                                                                        at dmw.a(:com.google.android.gms:47)\n                                                                        at dmq.a(:com.google.android.gms:55)\n                                                                        at dmp.a(:com.google.android.gms:113)\n                                                                        at com.google.android.gms.auth.account.be.legacy.AuthCronChimeraService.a(:com.google.android.gms:3054)\n                                                                        at mwx.run(:com.google.android.gms:179)\n</code></pre>\n\n<p>and when i tried to run my app again it displays this. <a href=\"https://i.stack.imgur.com/D58zn.png\" rel=\"nofollow noreferrer\">Click here to see error</a>. But when i try to run it on upper lollipop versions there's no problem. I tried cleaning the project.</p>\n"}, {"tags": ["android", "callback", "kotlin", "apollo", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519120283, "post_id": 48877135, "comment_id": 84768668, "body": "You said you call <code>syncEnrollmentProcess</code> only if <code>syncStudentProcess</code> succeeds, but this is not what you wrote. You issue two concurrent operations and then await on both of them. If you need sequential, then don&#39;t use <code>async</code>, instead just call <code>syncStudents()</code> and then call <code>syncEnrollments()</code>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519120360, "post_id": 48877135, "comment_id": 84768720, "body": "Also I think it&#39;s wrong to have <code>onComplete</code> in <code>runSync</code>. Instead <code>runSync</code> should be another suspendable function, to be called from a wider context, and then you sequentially execute the on-complete logic after it."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519120900, "post_id": 48877135, "comment_id": 84769095, "body": "As for exception handling, simply wrap all these suspendable calls in a single try-catch."}], "owner": {"reputation": 953, "user_id": 7074708, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1163cb93f5145045e1a64109699fa9f5?s=128&d=identicon&r=PG&f=1", "display_name": "julioribeiro", "link": "https://stackoverflow.com/users/7074708/julioribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1127, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1519094934, "creation_date": 1519094934, "question_id": 48877135, "link": "https://stackoverflow.com/questions/48877135/kotlin-coroutine-to-escape-callback-hell", "title": "Kotlin Coroutine to escape callback hell", "body": "<p>I'm trying to use Kotlin's coroutines to avoid callback hell, but it doesnt look like I can in this specific situation, I would like some thougths about it.</p>\n\n<p>I have this SyncService class which calls series of different methods to send data to the server like the following:\nSyncService calls Sync Student, which calls Student Repository, which calls DataSource that makes a server request sending the data through Apollo's Graphql Client.\nThe same pattern follows in each of my features:</p>\n\n<blockquote>\n  <p>SyncService -> Sync Feature -> Feature Repository -> DataSource</p>\n</blockquote>\n\n<p>So every one of the method that I call has this signature:</p>\n\n<pre><code>fun save(onSuccess: ()-&gt; Unit, onError:()-&gt;Unit) {\n  //To Stuff here\n}\n</code></pre>\n\n<p>The problem is: \nWhen I sync and successfully save the Student on server, I need to sync his enrollment, and if I successfully save the enrollment, I need to sync another object and so on.\nIt all depends on each other and I need to do it sequentially, that's why I was using callbacks. \nBut as you can imagine, the code result is not very friendly, and me and my team starting searching for alternatives to keep it better. And we ended up with this extension function:</p>\n\n<pre><code>suspend fun &lt;T&gt; ApolloCall&lt;T&gt;.execute() = suspendCoroutine&lt;Response&lt;T&gt;&gt; { cont -&gt;\nenqueue(object: ApolloCall.Callback&lt;T&gt;() {\n    override fun onResponse(response: Response&lt;T&gt;) {\n        cont.resume(response)\n    }\n\n    override fun onFailure(e: ApolloException) {\n        cont.resumeWithException(e)\n    }\n})\n}\n</code></pre>\n\n<p>But the function in DataSource still has a onSuccess() and onError() as callbacks that needs to be passed to whoever call it.</p>\n\n<pre><code> fun saveStudents(\n        students: List&lt;StudentInput&gt;,\n        onSuccess: () -&gt; Unit,\n        onError: (errorMessage: String) -&gt; Unit) {\n\n    runBlocking {\n\n        try {\n            val response = GraphQLClient.apolloInstance\n\n                    .mutate(CreateStudentsMutation\n                            .builder()\n                            .students(students)\n                            .build())\n                    .execute()\n\n            if (!response.hasErrors())\n                onSuccess()\n            else\n                onError(\"Response has errors!\")\n\n        } catch (e: ApolloException) {\n            e.printStackTrace()\n            onError(\"Server error occurred!\")\n        }\n    }\n}\n</code></pre>\n\n<p>The SyncService class code changed to be like:</p>\n\n<pre><code> private fun runSync(onComplete: () -&gt; Unit) = async(CommonPool) {\n\n    val syncStudentProcess = async(coroutineContext, start = CoroutineStart.LAZY) {\n        syncStudents()\n    }\n\n    val syncEnrollmentProcess = async(coroutineContext, start = CoroutineStart.LAZY) {\n        syncEnrollments()\n    }\n\n    syncStudentProcess.await()\n    syncEnrollmentProcess.await()\n\n    onComplete()\n}\n</code></pre>\n\n<p>It does execute it sequentially, but I need a way to stop every other coroutine if any got any errors. Error that might come only from Apollo's \nSo I've been trying a lot to find a way to simplify this code, but didn't get any good result. I don't even know if this chaining of callbacks can be simplify at all. That's why I came here to see some thoughts on it.\n<strong>TLDR:</strong> I want a way to execute all of my functions sequentially, and still be able to stop all coroutines if any got an exception without a lot o chaining callbacks.</p>\n"}, {"tags": ["android", "kotlin", "ontouchlistener"], "answers": [{"comments": [{"owner": {"reputation": 507, "user_id": 4583063, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e8b72129a980fd415881a5dcfe1cd9ba?s=128&d=identicon&r=PG&f=1", "display_name": "Hyun I Kim", "link": "https://stackoverflow.com/users/4583063/hyun-i-kim"}, "edited": false, "score": 0, "creation_date": 1519095745, "post_id": 48876963, "comment_id": 84758468, "body": "It didn&#39;t work. It never gets touch event, not event the very first time"}], "tags": [], "owner": {"reputation": 965, "user_id": 244745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd366d70e95e894b42c0d86a94e08ff8?s=128&d=identicon&r=PG", "display_name": "cwbowron", "link": "https://stackoverflow.com/users/244745/cwbowron"}, "is_accepted": false, "score": 0, "last_activity_date": 1519093402, "creation_date": 1519093402, "answer_id": 48876963, "question_id": 48876625, "link": "https://stackoverflow.com/questions/48876625/kotlin-surfaceview-ontouchlistener/48876963#48876963", "title": "kotlin surfaceview ontouchlistener", "body": "<p>Try making the touch listener always return true. If you ever return false, you stop getting notifications for that whole gesture / touch. </p>\n"}, {"tags": [], "owner": {"reputation": 507, "user_id": 4583063, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e8b72129a980fd415881a5dcfe1cd9ba?s=128&d=identicon&r=PG&f=1", "display_name": "Hyun I Kim", "link": "https://stackoverflow.com/users/4583063/hyun-i-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1519096854, "creation_date": 1519096854, "answer_id": 48877360, "question_id": 48876625, "link": "https://stackoverflow.com/questions/48876625/kotlin-surfaceview-ontouchlistener/48877360#48877360", "title": "kotlin surfaceview ontouchlistener", "body": "<p>Well, it was Android Studio problem..</p>\n\n<p>Touch event works but only the logging didn't work.</p>\n\n<p>I have no idea why but after relaunching the Android Studio, it works.</p>\n"}], "owner": {"reputation": 507, "user_id": 4583063, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e8b72129a980fd415881a5dcfe1cd9ba?s=128&d=identicon&r=PG&f=1", "display_name": "Hyun I Kim", "link": "https://stackoverflow.com/users/4583063/hyun-i-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1504, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1519096854, "creation_date": 1519090187, "last_edit_date": 1519096044, "question_id": 48876625, "link": "https://stackoverflow.com/questions/48876625/kotlin-surfaceview-ontouchlistener", "title": "kotlin surfaceview ontouchlistener", "body": "<p>I am working on android surface view with touch events.</p>\n\n<p>Below is the code I wrote for surface view to handle touch events.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RiaQD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RiaQD.png\" alt=\"Problem screenshot\"></a></p>\n\n<p>As shown in the image, I logged when the listener is called.</p>\n\n<p>Then in when clause I handled ACTION_DOWN and ACTION_MOVE events.</p>\n\n<p>However, when I touch the view, not only the when clause can't catch the event</p>\n\n<p>but OnTouchListener is even not called too.</p>\n\n<p>I also don't understand why <code>true</code>s in when clause are not used.</p>\n\n<p>I wrote those expressions to tell OnTouchListener to return true.</p>\n\n<p>Can anyone help me?</p>\n\n<p>+) I figured out that my surfaceview doens't call <code>onClick()</code> too.</p>\n\n<pre><code>particleSurfaceView.setOnClickListener{ Log.d(\"sv\", \"click\") }\n</code></pre>\n\n<p>never logs</p>\n"}, {"tags": ["android", "json", "parsing", "kotlin", "httprequest"], "answers": [{"comments": [{"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519086793, "post_id": 48876188, "comment_id": 84756395, "body": "Thanks! Man, I wish this answer was more visible than it was."}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 1, "creation_date": 1519134768, "post_id": 48876188, "comment_id": 84778436, "body": "@PeterWeyand Glad I could help you! What do you mean by &quot;more visible&quot;?"}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 5, "last_activity_date": 1519134719, "last_edit_date": 1519134719, "creation_date": 1519086399, "answer_id": 48876188, "question_id": 48876070, "link": "https://stackoverflow.com/questions/48876070/kotlin-android-parsing-json-from-http-request/48876188#48876188", "title": "Kotlin Android, Parsing Json from HTTP request", "body": "<p>Neat, that I know Fuel.</p>\n\n<pre><code>\"http://api.openweathermap.org/data/2.5/weather?q=Austin,us&amp;appid=MYAPIKEYSUPERDUPERSECRET\"\n        .httpGet().responseJSON { _, _, result -&gt;\n    result.get().obj() // here you have your JSON object\n}\n</code></pre>\n\n<p><strong>Note</strong>, that <code>httpGet</code> is just another way of writing <code>Fuel.get()</code>, it is a <code>String</code> extension function and the important part is that I used <code>reponseJSON</code> instead of <code>responseString</code>.\nAlso you will need to use <code>.getString(\"name\")</code> on the object. You can also use something like <code>.getJSONObject</code> or <code>.getJSONArray</code>.</p>\n"}], "owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3370, "favorite_count": 1, "accepted_answer_id": 48876188, "answer_count": 1, "score": 2, "last_activity_date": 1519134719, "creation_date": 1519085497, "last_edit_date": 1519085825, "question_id": 48876070, "link": "https://stackoverflow.com/questions/48876070/kotlin-android-parsing-json-from-http-request", "title": "Kotlin Android, Parsing Json from HTTP request", "body": "<p>I'm trying to parse json from an http request in a Kotlin Android file. I'd really like to avoid having to specifically use GSON to deserialize into a class every time I make an http request if I just want to pull a single element. I come from javascript land where parsing json into object notation comes right out of the box, so this has caused irritation.</p>\n\n<p>Here is what I am working with currently. I'm using Fuel to make the http request and Klaxon to try and parse it. </p>\n\n<pre><code>    Fuel.get(\"http://api.openweathermap.org/data/2.5/weather?q=Austin,us&amp;appid=MYAPIKEYSUPERDUPERSECRET\").responseString { request, response, result -&gt;\n            //do something with response\n            result.fold({ d -&gt;\n                  println(\"value of d\")\n                  println(d)\n                  val parser = Parser()\n                  val stringBuilder = StringBuilder(d)\n                  val json: JsonObject = parser.parse(stringBuilder) as JsonObject\n                  println(\"Weather : ${json.string(\"weather\")}\")\n            }, { err -&gt;\n                //do something with error\n            })\n        }\n</code></pre>\n\n<p>So when I run the above I get the following. </p>\n\n<p>From my <code>println(\"value of d\")</code> I get </p>\n\n<pre><code>{\"coord\":{\"lon\":-97.74,\"lat\":30.27},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04d\"}],\"base\":\"stations\",\"main\":{\"temp\":297.15,\"pressure\":1010,\"humidity\":69,\"temp_min\":296.15,\"temp_max\":298.15},\"visibility\":16093,\"wind\":{\"speed\":5.7,\"deg\":150,\"gust\":11.8},\"clouds\":{\"all\":90},\"dt\":1519082640,\"sys\":{\"type\":1,\"id\":2558,\"message\":0.0053,\"country\":\"US\",\"sunrise\":1519045581,\"sunset\":1519086201},\"id\":4671654,\"name\":\"Austin\",\"cod\":200}\n</code></pre>\n\n<p>The specifics are probably not important, it's just a pull from WeatherApi, but I can see that it works. Also, that it appears to be a string. Importantly if I try and <code>println(d.toString())</code> it recognizes it as a string, and greys out <code>.toString()</code></p>\n\n<p>Now, from the Klaxon parsing I get the following error:</p>\n\n<pre><code>FATAL EXCEPTION: main\n Process: com.example.patientplatypus.androidhoneytabs, PID: 32050\n java.lang.ClassCastException: com.beust.klaxon.JsonArray cannot be cast to java.lang.String\n    at com.beust.klaxon.JsonObject.string(JsonObject.kt:74)\n        at com.example.patientplatypus.androidhoneytabs.MainActivity$onCreate$2.invoke(MainActivity.kt:74)\n        at com.example.patientplatypus.androidhoneytabs.MainActivity$onCreate$2.invoke(MainActivity.kt:39)\n        at com.github.kittinunf.fuel.core.DeserializableKt$response$1.invoke(Deserializable.kt:37)\n        at com.github.kittinunf.fuel.core.DeserializableKt$response$1.invoke(Unknown Source:4)\n        at com.github.kittinunf.fuel.core.DeserializableKt$response$5$1.invoke(Deserializable.kt:62)\n        at com.github.kittinunf.fuel.core.DeserializableKt$response$5$1.invoke(Unknown Source:0)\n        at com.github.kittinunf.fuel.core.Request$callback$1.run(Request.kt:225)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n\n<p>So the error here is telling me that somewhere I am trying to cast a jsonarray object to a string. It can't be from d -> JsonObject. I have seen that if I comment out the line <code>println(\"Weather : ${json.string(\"weather\")}\")</code>, but I'm not sure if that still means that the <code>val json</code> object is still being mishandled (if it assigns and isn't used does the compiler properly evaluate it?).</p>\n\n<p>What's frustrating is that this appears to be proper usage according to the Klaxon documentation. See: <a href=\"https://github.com/cbeust/klaxon\" rel=\"nofollow noreferrer\">https://github.com/cbeust/klaxon</a> and below:</p>\n\n<pre><code>val parser: Parser = Parser()\nval stringBuilder: StringBuilder = StringBuilder(\"{\\\"name\\\":\\\"Cedric Beust\\\", \\\"age\\\":23}\")\nval json: JsonObject = parser.parse(stringBuilder) as JsonObject\nprintln(\"Name : ${json.string(\"name\")}, Age : ${json.int(\"age\")}\")\n</code></pre>\n\n<p>Does anyone have any ideas what is going wrong?</p>\n\n<p>Quick Edit: </p>\n\n<pre><code> result.fold({ d -&gt;\n        println(\"value of d\")\n        println(d)\n        val parser: Parser = Parser()\n        val stringBuilder: StringBuilder = StringBuilder(\"{\\\"name\\\":\\\"Cedric Beust\\\", \\\"age\\\":23}\")\n        val json: JsonObject = parser.parse(stringBuilder) as JsonObject\n        println(\"Name : ${json.string(\"name\")}, Age : ${json.int(\"age\")}\")\n</code></pre>\n\n<p>Does correctly print Cedric's name. So that seems fine. Hmm....</p>\n"}, {"tags": ["arrays", "floating-point", "kotlin", "double", "comparison"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 3, "creation_date": 1519083134, "post_id": 48875655, "comment_id": 84755420, "body": "Here you can report bugs or issue feature requests: <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1519107234, "post_id": 48875655, "comment_id": 84761813, "body": "Well, if you care about precision thing you should consider using BigDecimal and compareTo instead of double."}, {"owner": {"reputation": 1330, "user_id": 3853712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3ori.png?s=128&g=1", "display_name": "Jim Andreas", "link": "https://stackoverflow.com/users/3853712/jim-andreas"}, "edited": false, "score": 0, "creation_date": 1519125652, "post_id": 48875655, "comment_id": 84772599, "body": "See: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/14771328/java-signed-zero-and-boxing\" title=\"java signed zero and boxing\">stackoverflow.com/questions/14771328/&hellip;</a>"}, {"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 0, "creation_date": 1603493977, "post_id": 48875655, "comment_id": 114065179, "body": "How do you override hashCode in this case?  The standard behavior is not inconsistent with the equals contract."}], "owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 628, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1519083014, "creation_date": 1519082557, "last_edit_date": 1519083014, "question_id": 48875655, "link": "https://stackoverflow.com/questions/48875655/unexpected-result-with-kotlin-contentequals-on-doublearray", "title": "Unexpected result with kotlin contentEquals on DoubleArray", "body": "<p>I have a need to compare two DoubleArrays in order to determine if they have the same values in the same order.  To do so I have used the <code>contentEquals</code> extension function, however, it treats <strong>0</strong> and <strong>-0</strong> as two different values (comparing them with <code>==</code> treats them the same).</p>\n\n<p>For example:</p>\n\n<pre><code>val x = doubleArrayOf(1.0,0.0,-0.0)\nval y = doubleArrayOf(1.0,0.0, 0.0)\n\nx[0] == y[0] // true\nx[1] == y[1] // true\nx[2] == y[2] // true\n\nx contentEquals y // false\n</code></pre>\n\n<p>Defining an extension function to do pairwise comparison myself,</p>\n\n<pre><code>infix fun DoubleArray.reallyEqual(other:DoubleArray) = (this.size == other.size) &amp;&amp; this.zip(other).all {it.first == it.second}\n\nx reallyEqual y // true\n</code></pre>\n\n<p>produces the expected result.</p>\n\n<p>I am not sure if this is a bug, or if this is really the intended result, but it is a surprise as the individual equal tests compare true.</p>\n\n<p>Looking at the source code, we can understand why this is this way.  The contentEquals function delegates to <em>java.util.Arrays::equals</em></p>\n\n<blockquote>\n<pre><code>/**\n * Returns `true` if the two specified arrays are *structurally* equal to one another,\n * i.e. contain the same number of the same elements in the same order.\n */\n@SinceKotlin(\"1.1\")\n@kotlin.internal.InlineOnly\npublic inline infix fun DoubleArray.contentEquals(other: DoubleArray): Boolean {\n    return java.util.Arrays.equals(this, other)\n}\n</code></pre>\n</blockquote>\n\n<p>and that method delegates to <code>Double::equals</code> which considers these to be different</p>\n\n<blockquote>\n  <p>Two doubles d1 and d2 are considered equal if:</p>\n\n<pre><code>new Double(d1).equals(new Double(d2)) \n</code></pre>\n  \n  <p>(Unlike the == operator, this method considers NaN equals to itself, and 0.0d unequal to -0.0d.)</p>\n</blockquote>\n\n<p>Is this the intended behavior, or is the behavior that I am expecting the intended?  I am not sure where bugs/feature requests for Kotlin are supposed to be reported, and this may belong there.  If this is the intended behavior, perhaps a second method which delegates to <code>==</code> instead of <code>Double::equals</code> should be included in the standard library.  At very least, a note in the documentation that this method relies on <code>Double::equals</code> instead of <code>==</code> and that the behavior is different.</p>\n\n<p><strong>Disclaimer:</strong> <em>I am aware of the risks with precision when comparing double values with equality.  Eventually, I will try to refactor my code so it doesn't rely on equality, but for now, it works with equality tests.  This isn't a question about how to compare two arrays of doubles in general.</em></p>\n"}, {"tags": ["android", "android-intent", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 9382431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcaCh.jpg?s=128&g=1", "display_name": "tomN", "link": "https://stackoverflow.com/users/9382431/tomn"}, "edited": false, "score": 0, "creation_date": 1519173793, "post_id": 48875315, "comment_id": 84798680, "body": "getting same build error: Error:(91, 10) Unresolved reference:"}, {"owner": {"reputation": 106, "user_id": 9352291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62d002d9e80a6a12907cf1a854ae25?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Libby", "link": "https://stackoverflow.com/users/9352291/joel-libby"}, "reply_to_user": {"reputation": 147, "user_id": 9382431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcaCh.jpg?s=128&g=1", "display_name": "tomN", "link": "https://stackoverflow.com/users/9382431/tomn"}, "edited": false, "score": 0, "creation_date": 1519174042, "post_id": 48875315, "comment_id": 84798761, "body": "I updated the answer to be more clear. In java you need to declare the type of variables and then give it a name. Not like with python where you just declare all variables as val"}], "tags": [], "owner": {"reputation": 106, "user_id": 9352291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62d002d9e80a6a12907cf1a854ae25?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Libby", "link": "https://stackoverflow.com/users/9352291/joel-libby"}, "is_accepted": false, "score": 0, "last_activity_date": 1519173892, "last_edit_date": 1519173892, "creation_date": 1519080358, "answer_id": 48875315, "question_id": 48873594, "link": "https://stackoverflow.com/questions/48873594/unresolved-reference-intent-val-intent-intent/48875315#48875315", "title": "unresolved reference &#39;Intent&#39; : val intent = Intent", "body": "<p>Intent intent = new Intent (mainActivity.this, secondActivity.class);</p>\n\n<p>startActivity(intent);</p>\n"}, {"comments": [{"owner": {"reputation": 147, "user_id": 9382431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcaCh.jpg?s=128&g=1", "display_name": "tomN", "link": "https://stackoverflow.com/users/9382431/tomn"}, "edited": false, "score": 0, "creation_date": 1519174330, "post_id": 48876239, "comment_id": 84798849, "body": "Error:(91, 10) Unresolved reference: Intent, thinking the problem is not with the syntax in the suggested code but maybe with the import statements:"}, {"owner": {"reputation": 193, "user_id": 8690378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pr7YM.jpg?s=128&g=1", "display_name": "SubTain Malik", "link": "https://stackoverflow.com/users/8690378/subtain-malik"}, "reply_to_user": {"reputation": 147, "user_id": 9382431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcaCh.jpg?s=128&g=1", "display_name": "tomN", "link": "https://stackoverflow.com/users/9382431/tomn"}, "edited": false, "score": 0, "creation_date": 1519218490, "post_id": 48876239, "comment_id": 84819122, "body": "if you have activities with proper name you don&#39;t get error with import statements"}, {"owner": {"reputation": 147, "user_id": 9382431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcaCh.jpg?s=128&g=1", "display_name": "tomN", "link": "https://stackoverflow.com/users/9382431/tomn"}, "edited": false, "score": 1, "creation_date": 1519226864, "post_id": 48876239, "comment_id": 84825206, "body": "the error was the word &#39;Intent&#39; in each of the code variations that I tried. It finally went away when I realized that I needed to add an import statement for android.content.intent. thanks for your help!"}], "tags": [], "owner": {"reputation": 193, "user_id": 8690378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pr7YM.jpg?s=128&g=1", "display_name": "SubTain Malik", "link": "https://stackoverflow.com/users/8690378/subtain-malik"}, "is_accepted": false, "score": 1, "last_activity_date": 1519086786, "creation_date": 1519086786, "answer_id": 48876239, "question_id": 48873594, "link": "https://stackoverflow.com/questions/48873594/unresolved-reference-intent-val-intent-intent/48876239#48876239", "title": "unresolved reference &#39;Intent&#39; : val intent = Intent", "body": "<p>Please keep it simple as possible use </p>\n\n<pre><code>val intent = Intent(this,CorrectGuessActivity::class.java)\nstartActivity(intent)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 386, "user_id": 990568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2eb37ddb243d2d4a88b3cde2e5f09935?s=128&d=identicon&r=PG", "display_name": "tthreetorch", "link": "https://stackoverflow.com/users/990568/tthreetorch"}, "edited": false, "score": 0, "creation_date": 1556268360, "post_id": 48948439, "comment_id": 98388072, "body": "Yes, @tomN is correct. importing android.content.Intent will do the job. At least on my end.  Thanks man!"}], "tags": [], "owner": {"reputation": 147, "user_id": 9382431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcaCh.jpg?s=128&g=1", "display_name": "tomN", "link": "https://stackoverflow.com/users/9382431/tomn"}, "is_accepted": true, "score": 9, "last_activity_date": 1519390565, "creation_date": 1519390565, "answer_id": 48948439, "question_id": 48873594, "link": "https://stackoverflow.com/questions/48873594/unresolved-reference-intent-val-intent-intent/48948439#48948439", "title": "unresolved reference &#39;Intent&#39; : val intent = Intent", "body": "<p>The original syntax and suggestions all yielded the same error. The MainActivity needs the following for the Intent to be recognized:\n     import android.content.Intent</p>\n"}], "owner": {"reputation": 147, "user_id": 9382431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcaCh.jpg?s=128&g=1", "display_name": "tomN", "link": "https://stackoverflow.com/users/9382431/tomn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5506, "favorite_count": 0, "accepted_answer_id": 48948439, "answer_count": 3, "score": 4, "last_activity_date": 1519390565, "creation_date": 1519071649, "last_edit_date": 1519079557, "question_id": 48873594, "link": "https://stackoverflow.com/questions/48873594/unresolved-reference-intent-val-intent-intent", "title": "unresolved reference &#39;Intent&#39; : val intent = Intent", "body": "<p>I am sure there is something obvious but have not been able to find a solution to this simple problem. The error is in a main activity attempting to start another activity when a user guesses the correct answer: </p>\n\n<blockquote>\n  <p>Error:(85, 23) Unresolved reference: Intent</p>\n</blockquote>\n\n<p>The code is from the High/Low Android app in the book 'Kotlin Development for Android'. </p>\n\n<pre><code>val intent = Intent(\"com.example.user.highlow2.CorrectGuessActivity\")\nstartActivity(intent)\n</code></pre>\n\n<p>The manifest has the following intent-filter for the called activity:</p>\n\n<pre><code>&lt;intent-filter&gt;\n    &lt;action android:name=\"com.example.user.highlow2.CorrectGuessActivity\"/&gt;\n    &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2644, "user_id": 140707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77852d8f2c20dd48225e1733f1095f1a?s=128&d=identicon&r=PG", "display_name": "Frans", "link": "https://stackoverflow.com/users/140707/frans"}, "is_accepted": false, "score": 0, "last_activity_date": 1546073156, "creation_date": 1546073156, "answer_id": 53968069, "question_id": 48872492, "link": "https://stackoverflow.com/questions/48872492/android-studio-onclick-drop-down-list-not-populating-beginner/53968069#53968069", "title": "Android Studio onClick Drop Down List Not Populating - Beginner", "body": "<p><a href=\"https://developer.android.com/training/basics/firstapp/starting-activity\" rel=\"nofollow noreferrer\">This tutorial?</a></p>\n\n<p>I had the same issue (IntelliJ Ultimate 2018.1). I worked around it by:</p>\n\n<ol>\n<li>switching the activity editor from Design view to Text view, </li>\n<li>putting the cursor at the end of (but still inside) the <code>&lt;Button&gt;</code> tag, </li>\n<li>pressing <kbd>Ctrl</kbd>+<kbd>Space</kbd> to open up the Auto Complete dialog,</li>\n<li>selecting <code>android:onClick</code></li>\n<li>then (inside the double quotes) pressing <kbd>Ctrl</kbd>+<kbd>Space</kbd> again, and choosing (in my case the only option) <code>sendMessage</code></li>\n</ol>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 1727, "user_id": 1370948, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75a6b86a0b7b52795bad74e2f899cbfb?s=128&d=identicon&r=PG", "display_name": "Adrian Elder", "link": "https://stackoverflow.com/users/1370948/adrian-elder"}, "is_accepted": false, "score": 0, "last_activity_date": 1589329574, "creation_date": 1589329574, "answer_id": 61764291, "question_id": 48872492, "link": "https://stackoverflow.com/questions/48872492/android-studio-onclick-drop-down-list-not-populating-beginner/61764291#61764291", "title": "Android Studio onClick Drop Down List Not Populating - Beginner", "body": "<p>After defining the click method like you did, run a <code>gradle build</code> and the opt</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 7899654, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b90a3924b2eaea332655bbd3aa7d414d?s=128&d=identicon&r=PG&f=1", "display_name": "Spatrico", "link": "https://stackoverflow.com/users/7899654/spatrico"}, "is_accepted": false, "score": 0, "last_activity_date": 1608365056, "creation_date": 1608365056, "answer_id": 65367844, "question_id": 48872492, "link": "https://stackoverflow.com/questions/48872492/android-studio-onclick-drop-down-list-not-populating-beginner/65367844#65367844", "title": "Android Studio onClick Drop Down List Not Populating - Beginner", "body": "<p>Are you aware that your code is in Kotlin? What caused the problem for me was that I was using the Kotlin solution when I needed the Java one. Try changing</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    \u00a0 \u00a0 override fun onCreate(savedInstanceState: Bundle?) {\n    \u00a0 \u00a0 \u00a0 \u00a0 super.onCreate(savedInstanceState)\n    \u00a0 \u00a0 \u00a0 \u00a0 setContentView(R.layout.activity_main)\n    \u00a0 \u00a0 }\n    \n    \u00a0 \u00a0 /** Called when the user taps the Send button */\n    \u00a0 \u00a0 fun sendMessage(view: View) {\n    \u00a0 \u00a0 \u00a0 \u00a0 // Do something in response to button\n    \u00a0 \u00a0 }\n    }\n</code></pre>\n<p>to</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\u00a0 \u00a0 @Override\n\u00a0 \u00a0 protected void onCreate(Bundle savedInstanceState) {\n\u00a0 \u00a0 \u00a0 \u00a0 super.onCreate(savedInstanceState);\n\u00a0 \u00a0 \u00a0 \u00a0 setContentView(R.layout.activity_main);\n\u00a0 \u00a0 }\n\n\u00a0 \u00a0 /** Called when the user taps the Send button */\n\u00a0 \u00a0 public void sendMessage(View view) {\n\u00a0 \u00a0 \u00a0 \u00a0 // Do something in response to button\n\u00a0 \u00a0 }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13045107, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjKGmDQLmC6p56CB8J8OT9mdi94GIUH22SLFjwV=k-s128", "display_name": "Adela Cseh", "link": "https://stackoverflow.com/users/13045107/adela-cseh"}, "is_accepted": false, "score": 0, "last_activity_date": 1616075090, "creation_date": 1616075090, "answer_id": 66692372, "question_id": 48872492, "link": "https://stackoverflow.com/questions/48872492/android-studio-onclick-drop-down-list-not-populating-beginner/66692372#66692372", "title": "Android Studio onClick Drop Down List Not Populating - Beginner", "body": "<p>Same tutorial, in my case the problem was that the sendMessage() method was commented out in MainActivity.java</p>\n"}], "owner": {"reputation": 548, "user_id": 4764171, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/267b537f3be05e56eeca986757e8cd84?s=128&d=identicon&r=PG&f=1", "display_name": "hcaelxxam", "link": "https://stackoverflow.com/users/4764171/hcaelxxam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1230, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1616075090, "creation_date": 1519066453, "question_id": 48872492, "link": "https://stackoverflow.com/questions/48872492/android-studio-onclick-drop-down-list-not-populating-beginner", "title": "Android Studio onClick Drop Down List Not Populating - Beginner", "body": "<p>Incredibly basic question.  </p>\n\n<p>I am following the \"hello world\" Android Studio tutorial found <a href=\"https://developer.android.com/training/basics/firstapp/starting-activity.html\" rel=\"nofollow noreferrer\">here</a> and am having very basic issues.</p>\n\n<p>After creating a function in the MainActivity, the function is not found in the onClick drop down inside of Android Studio.  </p>\n\n<p>I have tried setting the function to public, rebuilding the project, synchronizing, and Invalidating Caches/Restarting to no avail.  As a complete beginner to Android Studio I do not know where to look next.</p>\n\n<p>Thanks.</p>\n\n<pre><code>package com.example.hcaelxxam.myfirstapp_v2\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n}\n\nfun sendMessage(view: View) {\n    // Do something in response to button\n}\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eHUCU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eHUCU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3546, "user_id": 3904085, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UavZ7.jpg?s=128&g=1", "display_name": "Eugene H", "link": "https://stackoverflow.com/users/3904085/eugene-h"}, "edited": false, "score": 0, "creation_date": 1519055865, "post_id": 48869349, "comment_id": 84743247, "body": "Can you post your TabLayoutDemoActivity class? And I am assuming the MainActivity class worked fine when you tested the button click?"}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 3546, "user_id": 3904085, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UavZ7.jpg?s=128&g=1", "display_name": "Eugene H", "link": "https://stackoverflow.com/users/3904085/eugene-h"}, "edited": false, "score": 0, "creation_date": 1519056202, "post_id": 48869349, "comment_id": 84743448, "body": "Sure - I posted the class above (same as on the website). The button is a bog standard button, as you can see above and the xml file for the main class has a button object with <code>android:onClick=&quot;tabMe&quot;</code>. I think the issue is definitely somehow in my manifest, TabLayoutDemoActivity, or maybe (?) my gradle files. Something is broken somewhere but main is pretty standard."}, {"owner": {"reputation": 3546, "user_id": 3904085, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UavZ7.jpg?s=128&g=1", "display_name": "Eugene H", "link": "https://stackoverflow.com/users/3904085/eugene-h"}, "edited": false, "score": 0, "creation_date": 1519056603, "post_id": 48869349, "comment_id": 84743687, "body": "Do you have the package above all of the imports?"}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 3546, "user_id": 3904085, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UavZ7.jpg?s=128&g=1", "display_name": "Eugene H", "link": "https://stackoverflow.com/users/3904085/eugene-h"}, "edited": false, "score": 0, "creation_date": 1519057770, "post_id": 48869349, "comment_id": 84744357, "body": "Yeah, that was the problem. But now I&#39;m getting <code>must implement OnFragmentInteractionListener</code> exceptions. I&#39;ll probably just go back to React Native, I can get that to compile at least. Thanks anyway."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1519058270, "post_id": 48869349, "comment_id": 84744645, "body": "This is pretty much a &quot;why isn&#39;t my code working&quot; and almost would require someone loading your entire project to see the problem.  Also the outside link means that a lot of information would not be self-contained here and might vanish some day, lowering the utility of this question for others."}], "owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 527, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519058343, "creation_date": 1519054304, "last_edit_date": 1519058343, "question_id": 48869349, "link": "https://stackoverflow.com/questions/48869349/kotlin-android-cant-find-class-dexpath", "title": "Kotlin Android Can&#39;t Find Class Dexpath", "body": "<p>I'm continuing to try and get a simple tablayout carousel to work with Android Kotlin, and now I'm running into another problem.</p>\n\n<p>If you saw another thread of mine I'm trying to get this tutorial up and running: <a href=\"http://www.techotopia.com/index.php/Kotlin_-_Creating_a_Tabbed_Interface_using_the_TabLayout_Component\" rel=\"nofollow noreferrer\">http://www.techotopia.com/index.php/Kotlin_-_Creating_a_Tabbed_Interface_using_the_TabLayout_Component</a></p>\n\n<p>After fixing the fragment type mismatch (<a href=\"https://stackoverflow.com/questions/48860126/fragment-type-mismatch-in-android-kotlin/48860264?noredirect=1#comment84724192_48860264\">Fragment Type Mismatch in Android Kotlin</a>), I now cannot run the project and I get this error:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.example.patientplatypus.kotlintabstrialagain, PID: 26869\n                  java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.patientplatypus.kotlintabstrialagain/com.example.patientplatypus.kotlintabstrialagain.TabLayoutDemoActivity}: java.lang.ClassNotFoundException: Didn't find class \"com.example.patientplatypus.kotlintabstrialagain.TabLayoutDemoActivity\" on path: DexPathList[[zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/base.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_dependencies_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_0_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_1_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_2_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_3_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_4_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_5_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_6_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_7_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_8_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/lib/x86, /system/lib, /vendor/lib]]\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2718)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n                      at android.app.ActivityThread.-wrap11(Unknown Source:0)\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n                      at android.os.Handler.dispatchMessage(Handler.java:105)\n                      at android.os.Looper.loop(Looper.java:164)\n                      at android.app.ActivityThread.main(ActivityThread.java:6541)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\nE/AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.example.patientplatypus.kotlintabstrialagain.TabLayoutDemoActivity\" on path: DexPathList[[zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/base.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_dependencies_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_0_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_1_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_2_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_3_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_4_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_5_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_6_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_7_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_8_apk.apk\", zip file \"/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.example.patientplatypus.kotlintabstrialagain-GDQWJ8v6l5XBSbfdWfWidA==/lib/x86, /system/lib, /vendor/lib]]\n                      at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\n                      at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n                      at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n                      at android.app.Instrumentation.newActivity(Instrumentation.java:1173)\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2708)\n                        ... 9 more\n</code></pre>\n\n<p>The problem is the following; Android SDK does not recognize my <code>TabLayoutDemoActivity</code> class as being on the dexpath. The tutorial I linked to unfortunately does not have an android manifest file, but here is mine. Note that <code>TabLayoutDemoActivity</code> very much is referenced, and is called as the class to boot on runtime:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.patientplatypus.kotlintabstrialagain\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity\n            android:name=\"TabLayoutDemoActivity\"\n            android:label=\"TabLayoutDemoActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>One of the solutions that I tried doing instead was to make a main activity page that simply linked to the <code>TabLayoutDemoActivity</code> activity through a button click, and put the main activity in the manifest instead. So this would be my very simple main file: </p>\n\n<pre><code>package com.example.patientplatypus.kotlintabstrialagain\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\n\n\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    fun tabMe(view: View){\n        // Create an Intent to start the second activity\n        val tabIntent = Intent(this, TabLayoutDemoActivity::class.java)\n\n        // Start the new activity.\n        startActivity(tabIntent)\n    }\n}\n</code></pre>\n\n<p>Here I get the error that on line <code>val tabIntent = Intent(this, TabLayoutDemoActivity::class.java)</code> the class <code>TabLayoutDemoActivity</code> is an unresolved reference. This very much does not make sense to me, as <code>TabLayoutDemoActivity</code> exists in the same folder and is a class. </p>\n\n<p>I've searched SO and tried the solutions that I found here: <a href=\"https://stackoverflow.com/questions/43435658/didnt-find-class-on-path-dexpathlist/43477214\">Didn&#39;t find class on path: DexPathList?</a>, but none of them seemed to work.</p>\n\n<p>If anyone could let me know where I am going wrong that would be great. As a new user I find it very frustrating that something seemingly so basic presents this much of a hurdle.</p>\n\n<p>Thanks.</p>\n\n<p>EDIT</p>\n\n<p>Here is my <code>TabLayoutDemoActivity</code> class. It is the same as the one that is linked to in the site above (they had a small syntax error at the bottom of the class and that's been fixed, but otherwise it is the same):</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.design.widget.FloatingActionButton\nimport android.support.design.widget.Snackbar\nimport android.support.design.widget.TabLayout\nimport android.support.v7.app.AppCompatActivity\nimport android.view.Menu\nimport android.view.MenuItem\nimport android.view.View\nimport com.example.patientplatypus.kotlintabstrialagain.R\nimport com.example.patientplatypus.kotlintabstrialagain.R.id.*\nimport com.example.patientplatypus.kotlintabstrialagain.TabPagerAdapter\n\nimport kotlinx.android.synthetic.main.activity_tab_layout_demo.*\n\nclass TabLayoutDemoActivity: AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_tab_layout_demo)\n        setSupportActionBar(toolbar)\n\n        fab.setOnClickListener { view -&gt;\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                    .setAction(\"Action\", null).show()\n        }\n        configureTabLayout()\n    }\n\n    private fun configureTabLayout() {\n\n        tab_layout.addTab(tab_layout.newTab().setText(\"Tab 1 Item\"))\n        tab_layout.addTab(tab_layout.newTab().setText(\"Tab 2 Item\"))\n        tab_layout.addTab(tab_layout.newTab().setText(\"Tab 3 Item\"))\n        tab_layout.addTab(tab_layout.newTab().setText(\"Tab 4 Item\"))\n\n        val adapter = TabPagerAdapter(supportFragmentManager,\n                tab_layout.tabCount)\n        pager.adapter = adapter\n\n        pager.addOnPageChangeListener(\n                TabLayout.TabLayoutOnPageChangeListener(tab_layout))\n        tab_layout.addOnTabSelectedListener(object :\n                TabLayout.OnTabSelectedListener {\n            override fun onTabSelected(tab: TabLayout.Tab) {\n                pager.currentItem = tab.position\n            }\n\n            override fun onTabUnselected(tab: TabLayout.Tab) {\n\n            }\n\n            override fun onTabReselected(tab: TabLayout.Tab) {\n\n            }\n\n        })\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1719, "user_id": 5518027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peF6a.jpg?s=128&g=1", "display_name": "Arpan Sarkar", "link": "https://stackoverflow.com/users/5518027/arpan-sarkar"}, "edited": false, "score": 0, "creation_date": 1519052999, "post_id": 48868891, "comment_id": 84741484, "body": "Timber.plant(Timber.DebugTree()) should be called from in Application class onCreate <a href=\"https://github.com/JakeWharton/timber/blob/master/timber-sample/src/main/java/com/example/timber/ExampleApp.java\" rel=\"nofollow noreferrer\">github.com/JakeWharton/timber/blob/master/timber-sample/src/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 182, "user_id": 1434006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/A5BBu.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1434006/t-s"}, "reply_to_user": {"reputation": 1719, "user_id": 5518027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peF6a.jpg?s=128&g=1", "display_name": "Arpan Sarkar", "link": "https://stackoverflow.com/users/5518027/arpan-sarkar"}, "edited": false, "score": 0, "creation_date": 1519053401, "post_id": 48868891, "comment_id": 84741735, "body": "@Arpan&#223;l&#248;&#248;dy&#223;ad&#223;&#248;y, did not know that. Thanks! I will fix it next time."}], "answers": [{"comments": [{"owner": {"reputation": 182, "user_id": 1434006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/A5BBu.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1434006/t-s"}, "edited": false, "score": 0, "creation_date": 1519059739, "post_id": 48869396, "comment_id": 84745449, "body": "Silly me... Thanks a lot! I added an Application class to the project and this solved the &quot;problem&quot;."}], "tags": [], "owner": {"reputation": 406, "user_id": 9325984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b39f239f2004c8493b7407ae68fdfb0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Deych", "link": "https://stackoverflow.com/users/9325984/alexander-deych"}, "is_accepted": true, "score": 2, "last_activity_date": 1519054481, "creation_date": 1519054481, "answer_id": 48869396, "question_id": 48868891, "link": "https://stackoverflow.com/questions/48868891/oncreate-on-new-activity-called-multiple-incremental-times-every-time-startactiv/48869396#48869396", "title": "onCreate on new activity called multiple incremental times every time startActivity is invoked", "body": "<p>When you call <code>Timber#plant</code> it adds new tree to the list. And then on every <code>Timber#d</code> it send message to all trees in that list. So to fix that, you need to call <code>plant</code> just once in your application class</p>\n"}], "owner": {"reputation": 182, "user_id": 1434006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/A5BBu.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1434006/t-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 48869396, "answer_count": 1, "score": 0, "last_activity_date": 1519058362, "creation_date": 1519052660, "last_edit_date": 1519058362, "question_id": 48868891, "link": "https://stackoverflow.com/questions/48868891/oncreate-on-new-activity-called-multiple-incremental-times-every-time-startactiv", "title": "onCreate on new activity called multiple incremental times every time startActivity is invoked", "body": "<p>I am working on an android app developed in kotlin that has two activities. Being that activity 1 is the main activity and when an specific layout is clicked activity 2, which is a dialog activity is started.</p>\n\n<p>The problem I am having is that each time I click the specific layout on activity 1, the onCreate method on activity 2 is invoked (number of times it was invoked before) + 1 times. Meaning that the first time I click the layout are, the onCreate method is called one time. Then I close activity 2 with finish() and if I click the layout area again, the oncreate method of activity 2 is called two times. If I do that again, 3 times, and then 4, 5, etc.</p>\n\n<p>Activity one goes like the below, where I add the onClick listener to layout area:</p>\n\n<pre><code>class ActivityOne : AppCompatActivity(), View.OnClickListener {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_one)\n        Timber.plant(Timber.debugTree())\n        layoutAddNewProject.setOnClickListener(this)\n    }\n\n    override fun onClick(view: View?){\n        Timber.d(\"Click on view ${view.toString()}\")\n        if (view?.id == layoutAddNewProject.id){\n            val intent = Intent(this, ActivityTwo::class.java)\n            startActivity(intent)\n        }\n    }\n}\n</code></pre>\n\n<p>Then activity two goes like the below. Note that it has a button which when clicked closes the activity:</p>\n\n<pre><code>class ActivityTwo : AppCompatActivity(), View.OnClickListener {\n    override fun onCreate(savedInstanceState: Bundle?){\n        super.onCreate(savedInstance)\n        setContentView(R.layout.activity_two)\n        setFinishOnTouchOutside(false)\n        Timber.plant(Timber.DebugTree())\n        Timber.d(\"Starting activity two\")\n        btnCancel.setOnClickListener(this)\n    }\n\n    override fun onClick(view: View?){\n        if (view?.id == btnCancel.id){\n            Timber.d(\"Cancel pressed\")\n            finish()\n        }\n    }\n}\n</code></pre>\n\n<p>The names of the activities, layout, etc are fictitious, but the code is inline with my real code.</p>\n\n<p>So, the way I figure out onCreate on activity two is being called multiple times, is because I see the log message \"Starting activity two\" multiple times.</p>\n\n<p>Note also, that when btnCancel is clicked on activity two, I also get the log message \"Cancel pressed\" multiple times (as many times as the number of times of the onCreate method being invoked).</p>\n\n<p>Your help as always, is much appreciated.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "edited": false, "score": 2, "creation_date": 1519047834, "post_id": 48867537, "comment_id": 84738286, "body": "In terms of behaviour, the end result is the same for both. What kind of differences are you looking for? Performance differences? Bytecode differences?"}, {"owner": {"reputation": 294, "user_id": 4987078, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6atMrGJKga8/AAAAAAAAAAI/AAAAAAAAADY/WshBcns_xe4/photo.jpg?sz=128", "display_name": "Flo We", "link": "https://stackoverflow.com/users/4987078/flo-we"}, "reply_to_user": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "edited": false, "score": 2, "creation_date": 1519048246, "post_id": 48867537, "comment_id": 84738582, "body": "@byxor a general best practice consensus among the community maybe. Possible pitfalls. I know theres a minor difference in the bytecode, the lambda version generates some extra variables i believe."}], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1519048697, "creation_date": 1519048697, "answer_id": 48867796, "question_id": 48867537, "link": "https://stackoverflow.com/questions/48867537/lambda-variable-vs-function-reference/48867796#48867796", "title": "Lambda variable vs function reference", "body": "<p>In both cases this will be compiled for the JVM as a dedicated class that implements the behavior of the object you pass to <code>filter</code>.</p>\n\n<p>You should use nested function declarations if your intent is to call them within the declared scope; if your intent is to get a function object, then use the feature meant specifically for that: the lambda expression.</p>\n"}], "owner": {"reputation": 294, "user_id": 4987078, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6atMrGJKga8/AAAAAAAAAAI/AAAAAAAAADY/WshBcns_xe4/photo.jpg?sz=128", "display_name": "Flo We", "link": "https://stackoverflow.com/users/4987078/flo-we"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "closed_date": 1519058401, "accepted_answer_id": 48867796, "answer_count": 1, "score": 2, "last_activity_date": 1519048697, "creation_date": 1519047726, "question_id": 48867537, "link": "https://stackoverflow.com/questions/48867537/lambda-variable-vs-function-reference", "closed_reason": "Duplicate", "title": "Lambda variable vs function reference", "body": "<p>What is the difference between storing a lambda in a variable and reuse that, vs using a function reference?</p>\n\n<p>for example a simple filter:</p>\n\n<pre><code>val strings = listOf(\"One\", null, \"Three\")\n\nval noNulls: (String?) -&gt; Boolean = { value -&gt; value != null }\nstrings.filter(noNulls)\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>fun noNulls(value: String?): Boolean = value != null\nstrings.filter(::noNulls)\n</code></pre>\n"}, {"tags": ["sqlite", "search", "kotlin", "substring"], "comments": [{"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1519059473, "post_id": 48866553, "comment_id": 84745314, "body": "try escaping the <code>%</code>. so instead of how you have it try <code>&quot;\\%&quot;</code>"}, {"owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "reply_to_user": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1519068915, "post_id": 48866553, "comment_id": 84749832, "body": "@Rafa unfortunately it did not work.. btw. thank U for the answer"}], "owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519044331, "creation_date": 1519044331, "question_id": 48866553, "link": "https://stackoverflow.com/questions/48866553/sqlite-substring-search-query-doesnt-work", "title": "SQLite substring search query doesn&#39;t work", "body": "<p>I am trying to do a substring search.. and I am trying to ignore the upper/lower case.. but it does not work.. the databse returns nothing. \nBut when removing the \"%\" and the last parameter -sort order-  then it works. </p>\n\n<p>the problem is in the else-statement. It does not give any error.</p>\n\n<p>Could you please take a look at my code and see if there is smthg wrong. thank \nyou. </p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>....\n        override fun onQueryTextChange(newText: String?): Boolean {\n            if (newText == null || newText == \"\"){\n                cursor = dbManager.queryData()\n            }\n            else{\n                cursor = dbManager.queryData(null, DbManager.colText + \"=?\", arrayOf(newText+\"%\"), DbManager.colTime + \" COLLATE NOCASE ASC;\")\n            }\n            ctAdapter.swapCursor(cursor)\n            return true\n        }\n    })\n</code></pre>\n\n<p><strong>DbManager.kt</strong></p>\n\n<pre><code>fun queryData(projection:Array&lt;String&gt;? = null, selection:String? = null, selectionArgs:Array&lt;String&gt;? = null,  sortOrder:String? = null):Cursor{\n    val cursor = sqlDB!!.query(dbTable, projection, selection, selectionArgs, null, null, sortOrder)\n    return cursor\n}\n</code></pre>\n"}, {"tags": ["android", "android-intent", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 9358946, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/719b9692b4d9cd4a76d3a56465b3b9e3?s=128&d=identicon&r=PG&f=1", "display_name": "KevinVuD", "link": "https://stackoverflow.com/users/9358946/kevinvud"}, "is_accepted": true, "score": 0, "last_activity_date": 1519058599, "last_edit_date": 1519058599, "creation_date": 1519044101, "answer_id": 48866490, "question_id": 48866323, "link": "https://stackoverflow.com/questions/48866323/how-to-use-same-variable-to-receive-intent-extra-from-2-different-classes/48866490#48866490", "title": "How to use same variable to receive intent extra from 2 different classes?", "body": "<p>I think I find the answer. Please correct me if I'm wrong.</p>\n\n<p>I should use <code>intent.hasExtra()</code> to check if <code>viewHolderA</code> or <code>viewHolderB</code> has value then get the value from whichever <code>viewHolder</code> has value.</p>\n"}, {"tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 3, "last_activity_date": 1519044518, "last_edit_date": 1519044518, "creation_date": 1519044201, "answer_id": 48866511, "question_id": 48866323, "link": "https://stackoverflow.com/questions/48866323/how-to-use-same-variable-to-receive-intent-extra-from-2-different-classes/48866511#48866511", "title": "How to use same variable to receive intent extra from 2 different classes?", "body": "<p>If you didn't set the string extra <code>viewHolderA.ARTIST_NAME</code> as <code>\"\"</code>, then <code>intent.getStringExtra(viewHolderA.ARTIST_NAME)</code> will return <code>null</code> or some meaningful value.</p>\n\n<p>In that case,</p>\n\n<pre><code>var artistName = intent.getStringExtra(viewHolderA.ARTIST_NAME) ?: intent.getStringExtra(viewHolderB.ARTIST_NAME)\n</code></pre>\n\n<p>This is equal to</p>\n\n<pre><code>var artistName: String? = null\nif (intent.getStringExtra(viewHolderA.ARTIST_NAME) == null) {\n    artistName = intent.getStringExtra(viewHolderB.ARTIST_NAME)\n} else {\n    artistName = intent.getStringExtra(viewHolderA.ARTIST_NAME)\n}\n</code></pre>\n\n<p>using the <a href=\"https://en.wikipedia.org/wiki/Elvis_operator\" rel=\"nofollow noreferrer\">Elvis operator</a>.\n<hr/>\nIf we are not sure whether <code>viewHolderA.ARTIST_NAME</code> can be <code>\"\"</code> or not,\nyou can use</p>\n\n<pre><code>var artistName = if (intent.getStringExtra(viewHolderA.ARTIST_NAME).isNullOrEmpty()) {\n    intent.getStringExtra(viewHolderB.ARTIST_NAME)\n} else {\n    intent.getStringExtra(viewHolderA.ARTIST_NAME)\n}\n</code></pre>\n\n<p>because <code>if (condition) A else B</code> in Kotlin is the same as <code>condition ? A : B</code> in Java. (Here, the method <code>isNullOrEmpty()</code> is true when it is either <code>null</code> or <code>\"\"</code>.)</p>\n"}], "owner": {"reputation": 511, "user_id": 9358946, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/719b9692b4d9cd4a76d3a56465b3b9e3?s=128&d=identicon&r=PG&f=1", "display_name": "KevinVuD", "link": "https://stackoverflow.com/users/9358946/kevinvud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 48866490, "answer_count": 2, "score": 1, "last_activity_date": 1519058599, "creation_date": 1519043594, "question_id": 48866323, "link": "https://stackoverflow.com/questions/48866323/how-to-use-same-variable-to-receive-intent-extra-from-2-different-classes", "title": "How to use same variable to receive intent extra from 2 different classes?", "body": "<p>I have a variable in a class which gets intent extra value from viewHolder A like this</p>\n\n<pre><code> var artistName = intent.getStringExtra(viewHolderA.ARTIST_NAME)\n</code></pre>\n\n<p>now let say I have viewHolder B and I want to pass a value to artistName as well</p>\n\n<pre><code> var artistName = intent.getStringExtra(viewHolderB.ARTIST_NAME)\n</code></pre>\n\n<p>is there a way to check if intent.getStringExtra from viewHolderA is empty then getStringExtra from viewholder B?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "android-architecture-components", "android-livedata"], "comments": [{"owner": {"reputation": 29866, "user_id": 930450, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/se3CE.png?s=128&g=1", "display_name": "Ixx", "link": "https://stackoverflow.com/users/930450/ixx"}, "edited": false, "score": 0, "creation_date": 1526044383, "post_id": 48866272, "comment_id": 87602554, "body": "An observable that contains essentially another observable (live data)? Why would you need something like this?"}], "answers": [{"comments": [{"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1519048546, "post_id": 48866671, "comment_id": 84738788, "body": "That did not seem to work and instead says i have a type missmatch error stating how it expects a function&lt;MutableList...&gt;, out(???) but found LiveData&lt;MutableList&gt; which is correct?!?!?!"}], "tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 0, "last_activity_date": 1519044769, "creation_date": 1519044769, "answer_id": 48866671, "question_id": 48866272, "link": "https://stackoverflow.com/questions/48866272/rxjava-return-livedata-list/48866671#48866671", "title": "Rxjava return LiveData list", "body": "<p>Change to:</p>\n\n<pre><code>getAllFavItems().map { offers : ItemsResponse -&gt;\n    storage.saveAllItemsLists(offers)\n    Single.just(storage.getAllFavItems())\n}\n</code></pre>\n\n<p>You have twice <code>{</code> and <code>}</code> inside <code>map</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "is_accepted": false, "score": 1, "last_activity_date": 1519242485, "last_edit_date": 1519242485, "creation_date": 1519242124, "answer_id": 48914164, "question_id": 48866272, "link": "https://stackoverflow.com/questions/48866272/rxjava-return-livedata-list/48914164#48914164", "title": "Rxjava return LiveData list", "body": "<p>If you change your <code>DAO</code> definition to:</p>\n\n<pre><code>@Query(\"SELECT * FROM items WHERE state = 'Fav'\")\nfun getAllFavItems(): Flowable&lt;MutableList&lt;Item&gt;&gt;\n</code></pre>\n\n<p>You can do something like this:</p>\n\n<pre><code>getAllFavItems()\n    .flatMap({\n        if(it.isEmpty()) {\n            getAllFavItems().toFlowable(BackpressureStrategy.XXX)\n                .doOnNext({storage.saveAllItemsLists(it)})\n                .map {/*TODO: convert from ItemsResponse to List&lt;Item&gt;*/}\n        } else {\n            Flowable.just(it)\n        }\n    })\n</code></pre>\n\n<p>The code emits changes to the favorite items. If there are 0 favorite items it will call the <code>getAllFavItems()</code> function and insert the results into db (inserting the results will cause <code>getAllFavitems()</code> to emit again). </p>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1526655237, "creation_date": 1519043421, "last_edit_date": 1526655237, "question_id": 48866272, "link": "https://stackoverflow.com/questions/48866272/rxjava-return-livedata-list", "title": "Rxjava return LiveData list", "body": "<p>Hi i am trying to use rxjava along with a LiveData that gets transformed using Map before i return it. However it saying i need to return something from inside the map.</p>\n\n<p>I tried doing return <code>Single.just(pianoStorage.getAllFavItems())</code> and it complains that you are not allowed to return something?</p>\n\n<pre><code>override fun getFavouriteItems() : Single&lt;LiveData&lt;MutableList&lt;Items&gt;&gt;&gt;{\n        //check if db has offers\n        if (storage.getAllFavItems().value!!.isEmpty()){\n             getAllFavItems().map {\n                 {offers : ItemsResponse -&gt;\n                     storage.saveAllItemsLists(offers)\n                     Single.just(storage.getAllFavItems())\n                 }\n             }.subscribe(\n                     {offers -&gt;\n                         return@subscribe\n                     }\n             )\n        }else{\n            return Single.just(storage.getAllFavItems())\n        }\n    }\n</code></pre>\n\n<p>The code below basically checks my persistent database if i have some items there and if not, fetch  it from the network using retrofit(the getAllFavItems())</p>\n\n<p>This network call gets all the list of items and then what i need to do is first save it to the storage and then get only the favourite items from it afterwords using the below:</p>\n\n<pre><code>@Query(\"SELECT * FROM items WHERE state = 'Fav'\")\n    fun getAllFavItems(): LiveData&lt;MutableList&lt;Item&gt;&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 279, "user_id": 3093310, "user_type": "registered", "profile_image": "https://graph.facebook.com/661514061/picture?type=large", "display_name": "Cowboy Farnz", "link": "https://stackoverflow.com/users/3093310/cowboy-farnz"}, "edited": false, "score": 0, "creation_date": 1519040696, "post_id": 48865409, "comment_id": 84733987, "body": "Change both players view to one which says &quot;The Game is Over&quot; and print the result of the checkWinner(). Have a button to then start the game again."}], "answers": [{"tags": [], "owner": {"reputation": 532, "user_id": 2561335, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004500245565/picture?type=large", "display_name": "Aravindraj", "link": "https://stackoverflow.com/users/2561335/aravindraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1519042285, "creation_date": 1519042285, "answer_id": 48865963, "question_id": 48865409, "link": "https://stackoverflow.com/questions/48865409/how-can-i-stop-the-user-from-play-the-game/48865963#48865963", "title": "How can I stop the user from play the game", "body": "<pre><code>if (Player1.containsAll(listOf(1, 2, 3)) || Player1.containsAll(listOf(4, 5, 6)) || Player1.containsAll(listOf(7, 8, 9)) || Player1.containsAll(listOf(1, 5, 9)) || Player1.containsAll(listOf(3, 5, 7))) {\n        Toast.makeText(this, \"the winner is player 1\", Toast.LENGTH_LONG).show()\n    } else if (Player2.containsAll(listOf(1, 2, 3)) || Player2.containsAll(listOf(4, 5, 6)) || Player2.containsAll(listOf(7, 8, 9)) || Player2.containsAll(listOf(1, 5, 9)) || Player2.containsAll(listOf(3, 5, 7))) {\n        Toast.makeText(this, \"the winner is player 2\", Toast.LENGTH_LONG).show()\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "is_accepted": false, "score": 0, "last_activity_date": 1519097951, "creation_date": 1519097951, "answer_id": 48877500, "question_id": 48865409, "link": "https://stackoverflow.com/questions/48865409/how-can-i-stop-the-user-from-play-the-game/48877500#48877500", "title": "How can I stop the user from play the game", "body": "<p>\"<em>The problem that when one of the player win the game, the other player still can play</em>\". You just need one variable of Boolean. Add var isGameOver on top of your class.</p>\n\n<pre><code>   fun main(args: Array&lt;String&gt;) {\n\n        var isGameOver = false\n\n        fun checkWinner(){\n\n            var winner= -1\n\n        //row 1\n            if(Player1.contains(1) &amp;&amp; Player1.contains(2) &amp;&amp; Player1.contains(3)){\n                 isGameOver = true\n            }\n\n            ..........\n        }\n\n        fun PlayGame(cellID:Int,buChoise:Button){\n            if(!isGameOver){\n                if(activePlayer==1){\n                    buChoise.text=\"X\"\n                    buChoise.setBackgroundResource(R.color.colorPrimaryDark)\n                    Player1.add(cellID)\n                    activePlayer=2\n                }else{\n                    buChoise.text=\"O\"\n                    buChoise.setBackgroundResource(R.color.colorAccent)\n                    Player2.add(cellID)\n                    activePlayer=1\n                }\n                buChoise.isEnabled=false\n                checkWinner()\n            }else{\n            //give replay button\n            }\n        }\n    }\n</code></pre>\n\n<p>Then give condition on your PlayGame function. If isGameOver is true, then both player can't do action again and give them a replay button to repeat the process.</p>\n"}], "owner": {"reputation": 11, "user_id": 7120212, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4679331b77f685b881b9861634c1dcc4?s=128&d=identicon&r=PG&f=1", "display_name": "user7120212", "link": "https://stackoverflow.com/users/7120212/user7120212"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1519097951, "creation_date": 1519040370, "last_edit_date": 1519040691, "question_id": 48865409, "link": "https://stackoverflow.com/questions/48865409/how-can-i-stop-the-user-from-play-the-game", "title": "How can I stop the user from play the game", "body": "<p>I'm trying to do simple game (X AND O) the problem that when one of the player win the game, the other player still can play.. how can I end the game when one of them win it?</p>\n\n<pre><code> fun buClicked(view: View){\n\n\n    var buChoise = view as Button\n\n    var cellID =0\n\n    when (buChoise.id){\n        R.id.b1-&gt; cellID=1\n        R.id.b2-&gt; cellID=2\n        R.id.b3-&gt; cellID=3\n        R.id.b4-&gt; cellID=4\n        R.id.b5-&gt; cellID=5\n        R.id.b6-&gt; cellID=6\n        R.id.b7-&gt; cellID=7\n        R.id.b8-&gt; cellID=8\n        R.id.b9-&gt; cellID=9\n\n    }\n\n    PlayGame(cellID,buChoise)\n\n}\n\nvar Player1=ArrayList&lt;Int&gt;()\nvar Player2=ArrayList&lt;Int&gt;()\nvar activePlayer=1\n\nfun PlayGame(cellID:Int,buChoise:Button){\n\n    if(activePlayer==1){\n\n        buChoise.text=\"X\"\n        buChoise.setBackgroundResource(R.color.colorPrimaryDark)\n        Player1.add(cellID)\n        activePlayer=2\n\n    }else{\n\n        buChoise.text=\"O\"\n        buChoise.setBackgroundResource(R.color.colorAccent)\n        Player2.add(cellID)\n        activePlayer=1\n\n    }\n\n\n    buChoise.isEnabled=false\n    checkWinner()\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>fun checkWinner(){\n\n    var winner= -1\n\n    //row 1\n    if(Player1.contains(1) &amp;&amp; Player1.contains(2) &amp;&amp; Player1.contains(3)){\n\n        Toast.makeText(this,\"the winner is player 1\",Toast.LENGTH_LONG).show()\n\n    }\n    if(Player2.contains(1) &amp;&amp; Player2.contains(2) &amp;&amp; Player2.contains(3)){\n\n        Toast.makeText(this,\"the winner is player 2\",Toast.LENGTH_LONG).show()\n    }\n\n    //row 2\n    if(Player1.contains(4) &amp;&amp; Player1.contains(5) &amp;&amp; Player1.contains(6)){\n\n        Toast.makeText(this,\"the winner is player 1\",Toast.LENGTH_LONG).show()\n    }\n    if(Player2.contains(4) &amp;&amp; Player2.contains(5) &amp;&amp; Player2.contains(6)){\n\n        Toast.makeText(this,\"the winner is player 2\",Toast.LENGTH_LONG).show()\n    }\n    //row 3\n    if(Player1.contains(7) &amp;&amp; Player1.contains(8) &amp;&amp; Player1.contains(9)){\n\n        Toast.makeText(this,\"the winner is player 1\",Toast.LENGTH_LONG).show()\n    }\n    if(Player2.contains(7) &amp;&amp; Player2.contains(8) &amp;&amp; Player2.contains(9)){\n\n        Toast.makeText(this,\"the winner is player 2\",Toast.LENGTH_LONG).show()\n    }\n\n    //col 1\n    if(Player1.contains(1) &amp;&amp; Player1.contains(4) &amp;&amp; Player1.contains(7)){\n\n        Toast.makeText(this,\"the winner is player 1\",Toast.LENGTH_LONG).show()\n    }\n    if(Player2.contains(1) &amp;&amp; Player2.contains(4) &amp;&amp; Player2.contains(7)){\n\n        Toast.makeText(this,\"the winner is player 2\",Toast.LENGTH_LONG).show()\n    }\n\n    //row 2\n    if(Player1.contains(2) &amp;&amp; Player1.contains(5) &amp;&amp; Player1.contains(8)){\n\n        Toast.makeText(this,\"the winner is player 1\",Toast.LENGTH_LONG).show()\n    }\n    if(Player2.contains(2) &amp;&amp; Player2.contains(5) &amp;&amp; Player2.contains(8)){\n\n        Toast.makeText(this,\"the winner is player 2\",Toast.LENGTH_LONG).show()\n    }\n    //col 3\n    if(Player1.contains(3) &amp;&amp; Player1.contains(6) &amp;&amp; Player1.contains(9)){\n\n        Toast.makeText(this,\"the winner is player 1\",Toast.LENGTH_LONG).show()\n\n    }\n    if(Player2.contains(3) &amp;&amp; Player2.contains(6) &amp;&amp; Player2.contains(9)){\n\n        Toast.makeText(this,\"the winner is player 2\",Toast.LENGTH_LONG).show()\n    }\n    } \n</code></pre>\n"}, {"tags": ["apache-spark", "kotlin", "apache-spark-dataset"], "answers": [{"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1519040748, "post_id": 48864536, "comment_id": 84734015, "body": "This is just a <code>set</code> operation not a <code>replace</code> operation. I&#39;d like to use <code>functions.regexp_replace</code> or something similar to perform regex matching."}, {"owner": {"reputation": 36454, "user_id": 5880706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/147556055711bd1fa5a938cef92a22b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Maharjan", "link": "https://stackoverflow.com/users/5880706/ramesh-maharjan"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1519049618, "post_id": 48864536, "comment_id": 84739487, "body": "@AdamArold, i have updated my answer. Your answer below made me understand your requirement. I hope it is fulfilled"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1519051667, "post_id": 48864536, "comment_id": 84740688, "body": "This won&#39;t work because of <code>col(&quot;Orbiting&quot;) === &quot;Sol&quot;</code>. I want to perform a regex filter here, not an equality operator. I checked and <code>Column</code> does not have a <code>match</code> or <code>regexMatch</code> or anything similar."}, {"owner": {"reputation": 36454, "user_id": 5880706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/147556055711bd1fa5a938cef92a22b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Maharjan", "link": "https://stackoverflow.com/users/5880706/ramesh-maharjan"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1519052505, "post_id": 48864536, "comment_id": 84741203, "body": "yes @AdamArold, you are correct. I have removed that part. :)"}], "tags": [], "owner": {"reputation": 36454, "user_id": 5880706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/147556055711bd1fa5a938cef92a22b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Maharjan", "link": "https://stackoverflow.com/users/5880706/ramesh-maharjan"}, "is_accepted": false, "score": 2, "last_activity_date": 1519052421, "last_edit_date": 1519052421, "creation_date": 1519037591, "answer_id": 48864536, "question_id": 48864454, "link": "https://stackoverflow.com/questions/48864454/how-can-i-conditionally-replace-values-in-an-apache-spark-dataset/48864536#48864536", "title": "How can I conditionally replace values in an Apache Spark dataset?", "body": "<p>try </p>\n\n<pre><code>val result = it.withColumn(\"Orbiting\", \n      when(col(\"Name\").startsWith(\"Ve\") &amp;&amp; \n      col(\"Name\").contains(\"nus\"), \n    regexp_replace(col(\"Orbiting\"), \"Sol\", \"Sun\"))\n    .otherwise(col(\"Orbiting\")))\n</code></pre>\n\n<p>and definitely the following one</p>\n\n<pre><code>val result = it.withColumn(\"Orbiting\",\n    when(col(\"Name\") === \"Venus\", \n    regexp_replace(col(\"Orbiting\"), \"Sol\", \"Sun\"))).otherwise(col(\"Orbiting\")))\n</code></pre>\n\n<p>and of course you need the following import </p>\n\n<pre><code>import org.apache.spark.sql.functions._\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 36454, "user_id": 5880706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/147556055711bd1fa5a938cef92a22b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Maharjan", "link": "https://stackoverflow.com/users/5880706/ramesh-maharjan"}, "edited": false, "score": 0, "creation_date": 1519049501, "post_id": 48865949, "comment_id": 84739405, "body": "You don&#39;t need to create temp column and drop it later. see my updated answer above ;)"}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 0, "last_activity_date": 1519042220, "creation_date": 1519042220, "answer_id": 48865949, "question_id": 48864454, "link": "https://stackoverflow.com/questions/48864454/how-can-i-conditionally-replace-values-in-an-apache-spark-dataset/48865949#48865949", "title": "How can I conditionally replace values in an Apache Spark dataset?", "body": "<p>I ended up creating a <code>temp</code> column and using <code>when</code> with that column:</p>\n\n<pre><code>var result = it.withColumn(\n        \"temp\",\n        functions.regexp_replace(col(\"Orbiting\"),\n                \"Sol\",\n                \"Sun\"))\n\nresult = result.withColumn(\"Orbiting\",\n        `when`(col(\"Name\").startsWith(\"Ve\")\n                .and(col(\"Name\").contains(\"nus\")),\n                col(\"temp\")).otherwise(col(\"Orbiting\")))\n\nresult = result.drop(col(\"temp\"))\nresult.show()\n</code></pre>\n\n<p>And the results:</p>\n\n<pre><code>+-------------------+-----+----------------+--------------------+\n|               Name|Order|        Orbiting|           Habitable|\n+-------------------+-----+----------------+--------------------+\n|            Mercury|    1|             Sol|                  No|\n|              Venus|    2|             Sun|                  No|\n|              Earth|    3|             Sol|                 Yes|\n|               Mars|    4|             Sol|Only with terrafo...|\n|            Jupiter|    5|             Sol|                  No|\n|             Saturn|    6|             Sol|                  No|\n|             Uranus|    7|             Sol|                  No|\n|            Neptune|    8|             Sol|                  No|\n|              Pluto|    9|             Sol|                  No|\n|Proxima Centauri b |    1|Proxima Centauri|               Maybe|\n+-------------------+-----+----------------+--------------------+\n</code></pre>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1519058823, "creation_date": 1519037295, "last_edit_date": 1519058823, "question_id": 48864454, "link": "https://stackoverflow.com/questions/48864454/how-can-i-conditionally-replace-values-in-an-apache-spark-dataset", "title": "How can I conditionally replace values in an Apache Spark dataset?", "body": "<p>I have this dataset:</p>\n\n<pre><code>+-------+-----+--------+--------------------+\n|   Name|Order|Orbiting|           Habitable|\n+-------+-----+--------+--------------------+\n|Mercury|    1|     Sol|                  No|\n|  Venus|    2|     Sol|                  No|\n|  Earth|    3|     Sol|                 Yes|\n|   Mars|    4|     Sol|Only with terrafo...|\n|Jupiter|    5|     Sol|                  No|\n| Saturn|    6|     Sol|                  No|\n| Uranus|    7|     Sol|                  No|\n|Neptune|    8|     Sol|                  No|\n|  Pluto|    9|     Sol|                  No|\n+-------+-----+--------+--------------------+\n</code></pre>\n\n<p>What I'd like to achieve is to replace <code>Sol</code> with <code>Sun</code> if the <code>Name</code> contains <code>us</code> and starts with <code>Ve</code>.</p>\n\n<p>I've tried this:</p>\n\n<pre><code>var col = col(\"Name\")\ncol = col.contains(\"us\").and(col.startsWith(\"Ve\"))\n\nval result = dataset.withColumn(\n        \"Orbiting\",\n        functions.regexp_replace(col,\n                \"Sol\",\n                \"Sun\")) \n</code></pre>\n\n<p>But with this I just see the results of the boolean filter:</p>\n\n<pre><code>+-------+-----+--------+--------------------+\n|   Name|Order|Orbiting|           Habitable|\n+-------+-----+--------+--------------------+\n|Mercury|    1|   false|                  No|\n|  Venus|    2|    true|                  No|\n|  Earth|    3|   false|                 Yes|\n|   Mars|    4|   false|Only with terrafo...|\n|Jupiter|    5|   false|                  No|\n| Saturn|    6|   false|                  No|\n| Uranus|    7|   false|                  No|\n|Neptune|    8|   false|                  No|\n|  Pluto|    9|   false|                  No|\n+-------+-----+--------+--------------------+\n</code></pre>\n\n<p>What I'd like to get is this:</p>\n\n<pre><code>+-------+-----+--------+--------------------+\n|   Name|Order|Orbiting|           Habitable|\n+-------+-----+--------+--------------------+\n|Mercury|    1|     Sol|                  No|\n|  Venus|    2|     Sun|                  No|\n|  Earth|    3|     Sol|                 Yes|\n|   Mars|    4|     Sol|Only with terrafo...|\n|Jupiter|    5|     Sol|                  No|\n| Saturn|    6|     Sol|                  No|\n| Uranus|    7|     Sol|                  No|\n|Neptune|    8|     Sol|                  No|\n|  Pluto|    9|     Sol|                  No|\n+-------+-----+--------+--------------------+\n</code></pre>\n\n<p>but only when the value of <code>Orbiting</code> is <code>Sol</code>. So for example if it is <code>Proxima Centauri</code> it should stay like that.</p>\n\n<p>I've also tried this: </p>\n\n<pre><code>var col = col(\"Name\")\ncol = col.contains(\"us\").and(col.startsWith(\"Ve\"))\n\nval result = dataset.withColumn(\n        \"Orbiting\",\n        `when`(col, \"Sun\").otherwise(\"Sol\"))\n</code></pre>\n\n<p>which works when <code>Orbiting</code> only has <code>Sol</code> as a value, but when I have <code>ProximaCentauri</code> it is not working any longer, because I can't filter for it.</p>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1519033379, "post_id": 48862472, "comment_id": 84729551, "body": "The choice for you is, do you want idiomatic Kotlin code that uses the built-in way of dealing with null safety or do you want to stick with more Java friendly code that must resort to optionals to hide the null checks"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 1, "creation_date": 1519047058, "post_id": 48862472, "comment_id": 84737768, "body": "You don&#39;t even have to convert it. The Java line should work as well. It&#39;s compatible with Kotlin syntax."}, {"owner": {"reputation": 19502, "user_id": 117839, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/826b0d5f2ae42a48261b1bfe780596d6?s=128&d=identicon&r=PG", "display_name": "Michael Wiles", "link": "https://stackoverflow.com/users/117839/michael-wiles"}, "edited": false, "score": 1, "creation_date": 1519680134, "post_id": 48862472, "comment_id": 84999982, "body": "Thanks for your inputs... I&#39;ve realised, as you&#39;ve all said, that null safety is built into kotlin so converting java code that uses lots of Optionals would require some massaging to I would say, remove the Optional as one should be using a language as its designed."}], "answers": [{"comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519031354, "post_id": 48862602, "comment_id": 84728282, "body": "I&#39;m not very sure <code>let</code> would work on an <code>Optional</code> (or at least, it would not give the desired effect)."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1519031538, "post_id": 48862602, "comment_id": 84728401, "body": "Given it\u2019s not an optional in Kotlin, I\u2019ll make it clear"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1519680085, "last_edit_date": 1519680085, "creation_date": 1519031252, "answer_id": 48862602, "question_id": 48862472, "link": "https://stackoverflow.com/questions/48862472/migrate-java-option-call-to-kotlin/48862602#48862602", "title": "Migrate Java Option call to kotlin", "body": "<p>It\u2019s rather uncommon to use <code>Optional</code> in Kotlin. If you can make <code>storyDate</code> work as an ordinary unwrapped type, such constructs can often be expressed with a simple <code>let</code> call:</p>\n\n<pre><code>storyDate?.let {\n    article.setPublishDate(it) \n    //probably property access works as well:\n    article.publishDate = it\n}\n</code></pre>\n\n<p>How it works: The safe call <code>?.</code> will invoke <code>let</code> only if <code>storyDate</code> is not <code>null</code>, otherwise the whole expression evaluates to, again, <code>null</code>. When the variable is not <code>null</code>, <code>let</code> is called with a simple lambda where <code>storyDate</code> is accessible by <code>it</code> (or you can rename it to whatever you like).</p>\n\n<p><strong>Side note:</strong></p>\n\n<p>If <code>storyDate</code> really must be <code>Optional</code>, you can still use the depicted construct by unwrapping it like this:</p>\n\n<pre><code>storyDate.orElse(null)?.let {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519034277, "post_id": 48862690, "comment_id": 84730144, "body": "you wrote it as if it was a static method, which obviously it isn&#39;t."}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 4, "last_activity_date": 1519032708, "last_edit_date": 1519032708, "creation_date": 1519031581, "answer_id": 48862690, "question_id": 48862472, "link": "https://stackoverflow.com/questions/48862472/migrate-java-option-call-to-kotlin/48862690#48862690", "title": "Migrate Java Option call to kotlin", "body": "<pre><code>storyDate.ifPresent { Article.setPublishDate(it) }\n</code></pre>\n\n<p>or </p>\n\n<pre><code>storyDate.ifPresent(Article::setPublishDate)\n</code></pre>\n\n<p>will work.</p>\n\n<p>In the first example, <code>it</code> denotes the value in the optional instance, which is the <code>Date</code> in the optional <code>storyDate</code>.</p>\n\n<p>I assumed that <code>Article</code> is a class, which has the <code>setPublishDate(Date)</code> static method, because class names are always capitalized.</p>\n\n<hr/>\n\n<p>But if <code>article</code> is an instance, not a class, and it has non-static method, then the following will work.</p>\n\n<pre><code>// article = Article(/* some Article-typed object */)\nstoryDate.ifPresent { article.setPublishDate(it) }\n</code></pre>\n\n<p><code>it</code> has the same meaning as the above one, i.e., the actual <code>Date</code> value in <code>Optional</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 19502, "user_id": 117839, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/826b0d5f2ae42a48261b1bfe780596d6?s=128&d=identicon&r=PG", "display_name": "Michael Wiles", "link": "https://stackoverflow.com/users/117839/michael-wiles"}, "edited": false, "score": 0, "creation_date": 1519679991, "post_id": 48864051, "comment_id": 84999908, "body": "extension functions are certainly new to me... and a bit foreign for a java dev"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 19502, "user_id": 117839, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/826b0d5f2ae42a48261b1bfe780596d6?s=128&d=identicon&r=PG", "display_name": "Michael Wiles", "link": "https://stackoverflow.com/users/117839/michael-wiles"}, "edited": false, "score": 1, "creation_date": 1519682863, "post_id": 48864051, "comment_id": 85001247, "body": "@MichaelWiles well, new language \u2014 new paradigms\u2026"}], "tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 9, "last_activity_date": 1519035957, "creation_date": 1519035957, "answer_id": 48864051, "question_id": 48862472, "link": "https://stackoverflow.com/questions/48862472/migrate-java-option-call-to-kotlin/48864051#48864051", "title": "Migrate Java Option call to kotlin", "body": "<p>I strongly prefer using extension functions and extension fields, so I've written smth like</p>\n\n<pre><code>val &lt;T&gt; Optional&lt;T&gt;.value: T?\n    get() = orElse(null)\n</code></pre>\n\n<p>And then you can use it anywhere (after import) like</p>\n\n<pre><code>myOptional.value?.let {\n    // handle here\n}\n</code></pre>\n"}], "owner": {"reputation": 19502, "user_id": 117839, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/826b0d5f2ae42a48261b1bfe780596d6?s=128&d=identicon&r=PG", "display_name": "Michael Wiles", "link": "https://stackoverflow.com/users/117839/michael-wiles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1847, "favorite_count": 1, "accepted_answer_id": 48862602, "answer_count": 3, "score": 1, "last_activity_date": 1519680085, "creation_date": 1519030728, "last_edit_date": 1519058966, "question_id": 48862472, "link": "https://stackoverflow.com/questions/48862472/migrate-java-option-call-to-kotlin", "title": "Migrate Java Option call to kotlin", "body": "<p>I'm taking my first steps with kotlin.</p>\n\n<p>I am migrating some my existing java code to kotlin.</p>\n\n<p>I have the folllowing line:</p>\n\n<pre><code>storyDate.ifPresent(article::setPublishDate);\n</code></pre>\n\n<p>Where storyDate is an Optional and article has a method setPublishDate(Date) method.</p>\n\n<p>How would I migrate this line to kotlin?</p>\n\n<p>The auto migrator at <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">https://try.kotlinlang.org</a> is  </p>\n\n<pre><code>storyDate.ifPresent(Consumer&lt;Date&gt;({ article.setPublishDate() }))\n</code></pre>\n\n<p>But this line doesn't compile with the kotlin compiler.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 35671, "user_id": 1722818, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/sQrwd.jpg?s=128&g=1", "display_name": "duggu", "link": "https://stackoverflow.com/users/1722818/duggu"}, "edited": false, "score": 0, "creation_date": 1519030532, "post_id": 48862416, "comment_id": 84727851, "body": "<a href=\"https://medium.com/@kirillsuslov/how-to-save-android-view-state-in-kotlin-9dbe96074d49\" rel=\"nofollow noreferrer\">medium.com/@kirillsuslov/&hellip;</a>"}, {"owner": {"reputation": 35671, "user_id": 1722818, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/sQrwd.jpg?s=128&g=1", "display_name": "duggu", "link": "https://stackoverflow.com/users/1722818/duggu"}, "edited": false, "score": 0, "creation_date": 1519030578, "post_id": 48862416, "comment_id": 84727872, "body": "<a href=\"https://medium.com/@programmerr47/save-state-with-delegates-d3c7d3a6a474\" rel=\"nofollow noreferrer\">medium.com/@programmerr47/&hellip;</a>"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 1, "creation_date": 1519031619, "post_id": 48862416, "comment_id": 84728444, "body": "that is obviously because your function doesn&#39;t implement <code>Serializable</code> interface."}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 1, "creation_date": 1519035550, "post_id": 48862416, "comment_id": 84730929, "body": "@VladMatvienko <a href=\"https://discuss.kotlinlang.org/t/are-closures-serializable/1620/2\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/are-closures-serializable/1620/2</a> - seems that kotlin functions can be serialized"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1519062062, "post_id": 48862416, "comment_id": 84746609, "body": "@VladMatvienko the function is seralizable if the specific implementation of it doesn&#39;t reference something that is NOT serializable.  I give this answer below, but in general you are not correct,"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1519111309, "post_id": 48862416, "comment_id": 84763539, "body": "@JaysonMinard thanks for correcting me :-) Your answer is more than good."}], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 9, "last_activity_date": 1519062165, "last_edit_date": 1519062165, "creation_date": 1519060005, "answer_id": 48870902, "question_id": 48862416, "link": "https://stackoverflow.com/questions/48862416/notserializableexception-when-pass-kotlin-function-in-bundle-on-saving-instance/48870902#48870902", "title": "NotSerializableException when pass kotlin function in bundle on saving instance state", "body": "<p>The problem is this.  You create a lambda and set it as the value of your function <code>lastFragment</code>.  But what is the lambda?  It is a custom class created by the compiler within the <code>MyActivity</code> class. And it is an inner class, therefore it has a pointer to an instance of <code>MyActivity</code> which is not serializable.  Therefore your instance of the function, the lambda class, has a reference to something that breaks it from being serialized.  Look at this:</p>\n\n<pre><code>class MyClass {\n    var foo: (()-&gt;Unit)? = null\n\n    fun makeProblem() {\n        foo = { println(\"hi\") }\n    }\n}\n</code></pre>\n\n<p>This created <code>MyClass$makeProblem$1</code> inner class of <code>MyClass</code> to hold the body of my lambda <code>{ println(\"hi\") }</code> ... and all inner classes have pointers to their containing class, so <code>MyClass$makeProblem$1</code> has a variable of type <code>MyClass</code> that you cannot see but is obviously there because that allows the code in the lambda to access members of the containing class.  Then boom, this breaks serialization.</p>\n\n<p>Libraries that plan to serialize lambdas know about this and special case cutting of this link assuming there is no use of this inner class reference.  Apache Spark does this, by basically using introspection to find a specific hidden field and setting it to null.  I have a Kotlin example of this somewhere, but it is fragile in case the internals ever changed.</p>\n\n<p>You can also declare your lambda outside of any class to avoid it from being an inner class.  Or make sure the containing class is also serializable.  Or wrap it with a static class that is serializable.  One of these might work, or not, depending on what you want to happen when the lambda (and class) is deserialized later.</p>\n\n<p>If you look at the bytecode generated, you can see this lambda is clearly an inner class:</p>\n\n<pre><code>// ================uy/sotest/MyClass.class =================\n// class version 50.0 (50)\n// access flags 0x31\npublic final class uy/sotest/MyClass {\n\n\n  // access flags 0x2\n  // signature Lkotlin/jvm/functions/Function0&lt;Lkotlin/Unit;&gt;;\n  // declaration: kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt;\n  private Lkotlin/jvm/functions/Function0; foo\n  @Lorg/jetbrains/annotations/Nullable;() // invisible\n\n  // access flags 0x11\n  // signature ()Lkotlin/jvm/functions/Function0&lt;Lkotlin/Unit;&gt;;\n  // declaration: kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt; getFoo()\n  public final getFoo()Lkotlin/jvm/functions/Function0;\n  @Lorg/jetbrains/annotations/Nullable;() // invisible\n   ...\n\n  // access flags 0x11\n  // signature (Lkotlin/jvm/functions/Function0&lt;Lkotlin/Unit;&gt;;)V\n  // declaration: void setFoo(kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt;)\n  public final setFoo(Lkotlin/jvm/functions/Function0;)V\n    @Lorg/jetbrains/annotations/Nullable;() // invisible, parameter 0\n   ...\n\n  // access flags 0x11\n  public final makeProblem()V\n   L0\n    LINENUMBER 7 L0\n    ALOAD 0\n    GETSTATIC uy/sotest/MyClass$makeProblem$1.INSTANCE : Luy/sotest/MyClass$makeProblem$1;\n    CHECKCAST kotlin/jvm/functions/Function0\n    PUTFIELD uy/sotest/MyClass.foo : Lkotlin/jvm/functions/Function0;\n   L1\n    LINENUMBER 8 L1\n    RETURN\n   L2\n    LOCALVARIABLE this Luy/sotest/MyClass; L0 L2 0\n    MAXSTACK = 2\n    MAXLOCALS = 1\n\n  // access flags 0x1\n  public &lt;init&gt;()V\n   ...\n\n  @Lkotlin/Metadata;( ... )\n  // access flags 0x18\n  final static INNERCLASS uy/sotest/MyClass$makeProblem$1 null null\n  // compiled from: ShowThing.kt\n}\n\n\n// ================uy/sotest/MyClass$makeProblem$1.class =================\n// class version 50.0 (50)\n// access flags 0x30\n// signature Lkotlin/jvm/internal/Lambda;Lkotlin/jvm/functions/Function0&lt;Lkotlin/Unit;&gt;;\n// declaration: uy/sotest/MyClass$makeProblem$1 extends kotlin.jvm.internal.Lambda implements kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt;\nfinal class uy/sotest/MyClass$makeProblem$1 extends kotlin/jvm/internal/Lambda  implements kotlin/jvm/functions/Function0  {\n\n\n  // access flags 0x1041\n  public synthetic bridge invoke()Ljava/lang/Object;\n    ...\n\n  // access flags 0x11\n  public final invoke()V\n    ...\n\n  // access flags 0x0\n  &lt;init&gt;()V\n    ...\n\n  // access flags 0x19\n  public final static Luy/sotest/MyClass$makeProblem$1; INSTANCE\n\n  // access flags 0x8\n  static &lt;clinit&gt;()V\n    ...\n\n  @Lkotlin/Metadata;( ... )\n  OUTERCLASS uy/sotest/MyClass makeProblem ()V\n  // access flags 0x18\n  final static INNERCLASS uy/sotest/MyClass$makeProblem$1 null null\n     ...\n\n}\n</code></pre>\n"}], "owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2939, "favorite_count": 1, "accepted_answer_id": 48870902, "answer_count": 1, "score": 3, "last_activity_date": 1602081449, "creation_date": 1519030460, "last_edit_date": 1602081449, "question_id": 48862416, "link": "https://stackoverflow.com/questions/48862416/notserializableexception-when-pass-kotlin-function-in-bundle-on-saving-instance", "title": "NotSerializableException when pass kotlin function in bundle on saving instance state", "body": "<p>After I pass kotlin function into <code>Bundle</code> in <code>onSaveInstanceState</code> I got NotSerializableException:</p>\n<pre><code>java.lang.RuntimeException: Parcelable encountered IOException writing serializable object (name = MyActivity$showFragmentA$1)\n   at android.os.Parcel.writeSerializable(Parcel.java:1447)\n   at android.os.Parcel.writeValue(Parcel.java:1395)\n   at android.os.Parcel.writeArrayMapInternal(Parcel.java:665)\n   at android.os.BaseBundle.writeToParcelInner(BaseBundle.java:1330)\n   at android.os.Bundle.writeToParcel(Bundle.java:1079)\n   at android.os.Parcel.writeBundle(Parcel.java:690)\n   at android.app.ActivityManagerProxy.activityStopped(ActivityManagerNative.java:3269)\n   at android.app.ActivityThread$StopInfo.run(ActivityThread.java:3632)\n   at android.os.Handler.handleCallback(Handler.java:815)\n   at android.os.Handler.dispatchMessage(Handler.java:104)\n   at android.os.Looper.loop(Looper.java:207)\n   at android.app.ActivityThread.main(ActivityThread.java:5728)\n   at java.lang.reflect.Method.invoke(Native Method)\n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\nCaused by: java.io.NotSerializableException: MyActivity\n   at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1344)\n   at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1651)\n   at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1497)\n   at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1461)\n   at java.io.ObjectOutputStream.writeFieldValues(ObjectOutputStream.java:959)\n   at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:360)\n   at java.io.ObjectOutputStream.writeHierarchy(ObjectOutputStream.java:1054)\n   at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1384)\n   at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1651)\n   at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1497)\n   at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1461)\n   at android.os.Parcel.writeSerializable(Parcel.java:1442)\n   at android.os.Parcel.writeValue(Parcel.java:1395) \n   at android.os.Parcel.writeArrayMapInternal(Parcel.java:665) \n   at android.os.BaseBundle.writeToParcelInner(BaseBundle.java:1330) \n   at android.os.Bundle.writeToParcel(Bundle.java:1079) \n   at android.os.Parcel.writeBundle(Parcel.java:690) \n   at android.app.ActivityManagerProxy.activityStopped(ActivityManagerNative.java:3269) \n   at android.app.ActivityThread$StopInfo.run(ActivityThread.java:3632) \n   at android.os.Handler.handleCallback(Handler.java:815) \n   at android.os.Handler.dispatchMessage(Handler.java:104) \n   at android.os.Looper.loop(Looper.java:207) \n   at android.app.ActivityThread.main(ActivityThread.java:5728) \n   at java.lang.reflect.Method.invoke(Native Method) \n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:789) \n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:679)\n</code></pre>\n<p>My class:</p>\n<pre><code>class MyActivity : Activity {\n    private var lastFragment: (() -&gt; Fragment)? = null\n\n    override fun onSaveInstanceState(outState: Bundle?) {\n        super.onSaveInstanceState(outState)\n         outState?.putSerializable(&quot;lastFragment&quot;, lastFragment as Serializable)\n    }\n    \n    fun showFragmentA() {\n        lastFragment = { FragmentA() }\n        // show fragment lastFragment()\n    }\n    \n    fun showFragmentB() {\n        ...\n    }\n}\n</code></pre>\n"}, {"tags": ["inheritance", "interface", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 13, "last_activity_date": 1596804600, "last_edit_date": 1596804600, "creation_date": 1519024247, "answer_id": 48861125, "question_id": 48861009, "link": "https://stackoverflow.com/questions/48861009/is-it-possible-to-add-an-interface-to-an-existing-class-in-kotlin/48861125#48861125", "title": "Is it possible to add an interface to an existing class in Kotlin?", "body": "<p>No, unfortunately &quot;extension types&quot; are not supported. There was a discussion about this on the Kotlin forums (<a href=\"https://discuss.kotlinlang.org/t/extension-types-for-kotlin/1390/20\" rel=\"nofollow noreferrer\">here</a>), but there is nothing similar that is already in the language.</p>\n<p>There is a <a href=\"https://github.com/Kotlin/KEEP/pull/87\" rel=\"nofollow noreferrer\">KEEP</a> for this if you would like to vote.</p>\n<p>One possible workaround, although it is not fully equivalent, is to have an interface representing your desired behavior and create an extension method returning an implementation (&quot;delegate&quot;) for every type you want to use:</p>\n<pre><code>fun String.toGenericString() = object : GenericString {\n    private val str = this@toGenericString\n    override val length get() = str.length\n    //...etc\n}\n</code></pre>\n<p>and then use this instead.</p>\n"}], "owner": {"reputation": 99733, "user_id": 165495, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/219001761/picture?type=large", "display_name": "Casebash", "link": "https://stackoverflow.com/users/165495/casebash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3473, "favorite_count": 2, "accepted_answer_id": 48861125, "answer_count": 1, "score": 13, "last_activity_date": 1596804600, "creation_date": 1519023758, "last_edit_date": 1519028072, "question_id": 48861009, "link": "https://stackoverflow.com/questions/48861009/is-it-possible-to-add-an-interface-to-an-existing-class-in-kotlin", "title": "Is it possible to add an interface to an existing class in Kotlin?", "body": "<p>Sometimes it is useful to create an interface that is already implemented by existing third-party code (ie. from a library). For example, we could imagine selecting a subset of the methods of the <code>String</code> class and declaring a <code>GenericString</code>. We might then define other <code>GenericString</code>s that implement these methods, but not other methods of the <code>String</code> class. The only problem would be that the <code>String</code> class doesn't inherit from the <code>GenericString</code> class. Is it possible to add an interface to an existing class in Kotlin or would I have to create a sub-class of <code>String</code> that implements this interface?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": -1, "last_activity_date": 1519020677, "creation_date": 1519020677, "answer_id": 48860403, "question_id": 48860176, "link": "https://stackoverflow.com/questions/48860176/is-there-a-way-to-indicate-a-function-will-only-be-called-by-init/48860403#48860403", "title": "Is there a way to indicate a function will only be called by init?", "body": "<p>There's no separate construct in the language to support this, your properties have to be initialized either inline with their declaration, or inside the initializer blocks.</p>\n\n<p>If you want your initialization to have separated sections, you can:</p>\n\n<ul>\n<li><p>Join your declarations and assignments, if your initializations are simple enough, and organize the properties into groups:</p>\n\n<pre><code>// Strings\nval myString = \"foo\"\n\n// Ints\nval myInt = 256\n</code></pre></li>\n<li><p>Use an initializer  block and just comments for sections:</p>\n\n<pre><code>val myString: String\nval myInt: Int\n\ninit {\n    // Strings\n    myString = \"foo\"\n\n    // Ints\n    myInt = 256\n}\n</code></pre></li>\n<li><p>Use multiple initializer  blocks, <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">these will be executed in order from top to bottom</a>. Having a separate function that sets a <code>val</code> to a value would be problematic because you could possibly call it at a later time again, after initialization. If you use initializer blocks instead, you can be sure that these will only be invoked once.</p>\n\n<pre><code>val myString: String\nval myInt: Int\n\ninit {\n    myString = \"foo\"\n}\n\ninit {\n    myInt = 256\n}\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "is_accepted": false, "score": 6, "last_activity_date": 1519021944, "creation_date": 1519021944, "answer_id": 48860663, "question_id": 48860176, "link": "https://stackoverflow.com/questions/48860176/is-there-a-way-to-indicate-a-function-will-only-be-called-by-init/48860663#48860663", "title": "Is there a way to indicate a function will only be called by init?", "body": "<p>In kotlin you can declare functions in almost any scope. For example, you can declare function inside init block and it will only available within that block:</p>\n\n<pre><code>class Example { \n    val finalValue: String\n\n    init {\n        fun callSomeFunctionThatWillOnlyBeCalledByInit(): String {\n            return \"Something\"\n        }\n\n        finalValue = callSomeFunctionThatWillOnlyBeCalledByInit()\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "edited": false, "score": 0, "creation_date": 1519165056, "post_id": 48892245, "comment_id": 84796070, "body": "I may be wrong but I would imagine that the reason why you want a function might be that you want to use recursive calls. Although your code also works, with a named function you can declare it as <code>tailrec fun</code> an get all the benefits of tail recursive functions."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "edited": false, "score": 0, "creation_date": 1519219063, "post_id": 48892245, "comment_id": 84819516, "body": "@SimY4 no, I was not after recursion. I was just looking for another way. I think, the multiple options where confusing. I reduced it to the lambda one. Thx"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1519218950, "last_edit_date": 1519218950, "creation_date": 1519152467, "answer_id": 48892245, "question_id": 48860176, "link": "https://stackoverflow.com/questions/48860176/is-there-a-way-to-indicate-a-function-will-only-be-called-by-init/48892245#48892245", "title": "Is there a way to indicate a function will only be called by init?", "body": "<p>SimY4's answer works perfectly fine, but there is another way. So, this is an addition.</p>\n\n<p>You don't need to do the initialization in <code>init</code> at all to achieve what you want:</p>\n\n<pre><code>class Example {\n\n    val finalValue: String = {\n        // do something complex \n        \"test\"\n    }()\n}\n</code></pre>\n\n<p>The lambda can only be run once during initialization of the class. There is no way to invoke it afterwards.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1519218950, "creation_date": 1519019232, "last_edit_date": 1519028546, "question_id": 48860176, "link": "https://stackoverflow.com/questions/48860176/is-there-a-way-to-indicate-a-function-will-only-be-called-by-init", "title": "Is there a way to indicate a function will only be called by init?", "body": "<p>I am thinking of initializing some value, instead of complicating in the <code>init</code> function, I refactor into a function e.g. <code>callSomeFunctionThatWillOnlyBeCalledByInit()</code>, and have my <code>finalValue</code> initialize there.</p>\n\n<pre><code>val finalValue: String\n\ninit {\n    callSomeFunctionThatWillOnlyBeCalledByInit()\n}\n\nfun callSomeFunctionThatWillOnlyBeCalledByInit() {\n    finalValue = \"Something\"\n}\n</code></pre>\n\n<p>Clearly it will complaint <code>val cannot be reassigned</code>. I clearly know that the <code>callSomeFunctionThatWillOnlyBeCalledByInit()</code> will only be called in the <code>init</code>. But is there a way for me to let the Compiler know this, so it doesn't complaint?</p>\n\n<p>Note:</p>\n\n<p>I know I can do something as below</p>\n\n<pre><code>val finalValue: String\n\ninit {\n    finalValue = callSomeFunctionThatWillOnlyBeCalledByInit()\n}\n\nfun callSomeFunctionThatWillOnlyBeCalledByInit() : String {\n    return \"Something\"\n}\n</code></pre>\n\n<p>But I just want to explore if there's a way to refactor <code>init</code> better and could place the initialization in some function instead of have to do it in <code>init</code>.</p>\n"}, {"tags": ["android", "android-fragments", "tabs", "kotlin", "type-mismatch"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 2, "creation_date": 1519019447, "post_id": 48860126, "comment_id": 84723575, "body": "Does your <code>Tab4Fragment</code>, etc. extend <code>android.support.v4.app.Fragment</code>?"}, {"owner": {"reputation": 3673, "user_id": 2819510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/8gppK.jpg?s=128&g=1", "display_name": "Eoin", "link": "https://stackoverflow.com/users/2819510/eoin"}, "edited": false, "score": 0, "creation_date": 1519019467, "post_id": 48860126, "comment_id": 84723579, "body": "do your fragments extend <code>android.support.v4.app.Fragment</code> or <code>android.app.Fragment</code>"}, {"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1519019558, "post_id": 48860126, "comment_id": 84723600, "body": "Check import statement in all Tab fragments. It should be &#39;import android.support.v4.app.Fragment&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519020176, "post_id": 48860264, "comment_id": 84723774, "body": "Thanks but now I&#39;m getting <code>Error:(36, 5) &#39;onCreateView&#39; overrides nothing</code> in each of my fragments. Blah."}, {"owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519020514, "post_id": 48860264, "comment_id": 84723861, "body": "This might be because you changed the parent class. Remove any method which is overridden and implement them again. This should solve the problem."}, {"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519020912, "post_id": 48860264, "comment_id": 84723995, "body": "Sorry, I&#39;m not sure I understand. I didn&#39;t change any parent class that I can tell, all I did was change the import declaration to the new <code>android.support.v4.app.Fragment</code> in each of the fragment files. What do you mean by <code>remove any method that is overwritten</code>? I understand it&#39;s an override class, but I don&#39;t know where the function is that its overriding - I don&#39;t think I touched it."}, {"owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1519021543, "post_id": 48860264, "comment_id": 84724192, "body": "when you changed <code>android.app.Fragment</code>  to <code>android.support.v4.app.Fragment</code> , it effectively changed the parent class. Any method that has a <code>@Override</code> annotation over it is an overridden method. So just remove those methods that has <code>@Override</code> above it. Android studio will then show you read swiggly lines in the class. Press alt+enter to generate those methods again. Make sure to back up the code inside the methods."}], "tags": [], "owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "is_accepted": true, "score": 5, "last_activity_date": 1519019884, "creation_date": 1519019884, "answer_id": 48860264, "question_id": 48860126, "link": "https://stackoverflow.com/questions/48860126/fragment-type-mismatch-in-android-kotlin/48860264#48860264", "title": "Fragment Type Mismatch in Android Kotlin", "body": "<p>There are two probable errors in your code</p>\n\n<p>Your fragment extends <code>android.support.v4.app.Fragment</code> and the <code>getItem()</code> method in your adapter returns an <code>android.app.Fragment</code> or vice versa.</p>\n\n<p>In any case, ensure that both your fragment and the adapter methods return the same type preferably <code>android.support.v4.app.Fragment</code> and you're good to go.</p>\n"}, {"comments": [{"owner": {"reputation": 482, "user_id": 2064906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f973ed22deafd48758a53e838ea68539?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/2064906/sharad"}, "edited": false, "score": 0, "creation_date": 1589793797, "post_id": 48860272, "comment_id": 109423970, "body": "Now look for androidx.app.fragment vs android.app.fragment as well. androidx vs android."}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 3, "last_activity_date": 1519019930, "creation_date": 1519019930, "answer_id": 48860272, "question_id": 48860126, "link": "https://stackoverflow.com/questions/48860126/fragment-type-mismatch-in-android-kotlin/48860272#48860272", "title": "Fragment Type Mismatch in Android Kotlin", "body": "<p>You should use</p>\n\n<p><strong><code>import android.support.v4.app.Fragment</code></strong></p>\n\n<p>Instead of </p>\n\n<p><strong><code>import android.app.Fragment</code></strong></p>\n"}], "owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4723, "favorite_count": 0, "accepted_answer_id": 48860264, "answer_count": 2, "score": 2, "last_activity_date": 1519019930, "creation_date": 1519018950, "question_id": 48860126, "link": "https://stackoverflow.com/questions/48860126/fragment-type-mismatch-in-android-kotlin", "title": "Fragment Type Mismatch in Android Kotlin", "body": "<p>I'm going along, step by step to try and create a simple tab layout in Kotlin/Android. I've been pretty frustrated by a lot of the tutorials I've found as they either 1) work but are very over engineered making it difficult to see what's happening or 2) Don't seem to work.</p>\n\n<p>This is one of case 2) that is very close to working, but there is something wrong. I've identified the problem, but I'm not sure how to solve it.</p>\n\n<p><a href=\"http://www.techotopia.com/index.php/Kotlin_-_Creating_a_Tabbed_Interface_using_the_TabLayout_Component\" rel=\"nofollow noreferrer\">http://www.techotopia.com/index.php/Kotlin_-_Creating_a_Tabbed_Interface_using_the_TabLayout_Component</a></p>\n\n<p>I have everything exactly as in the tutorial, and the only error that I am getting is in this part: </p>\n\n<pre><code>package com.ebookfrenzy.tablayoutdemo\n\nimport android.support.v4.app.Fragment\nimport android.support.v4.app.FragmentManager\nimport android.support.v4.app.FragmentPagerAdapter\n\nclass TabPagerAdapter(fm: FragmentManager, private var tabCount: Int) : \n            FragmentPagerAdapter(fm) {\n\n    override fun getItem(position: Int): Fragment? {\n\n        when (position) {\n            0 -&gt; return Tab1Fragment()\n            1 -&gt; return Tab2Fragment()\n            2 -&gt; return Tab3Fragment()\n            3 -&gt; return Tab4Fragment()\n            else -&gt; return null\n        }\n    }\n\n    override fun getCount(): Int {\n        return tabCount\n    }\n}\n</code></pre>\n\n<p>I am getting that <code>Tab1Fragment(), Tab2...</code> all are not of type <code>Fragment</code> which is the return type of <code>fun getItem</code>. This is confusing, as they are classes that are declared like so:</p>\n\n<p><code>class Tab1Fragment : Fragment()</code></p>\n\n<p>That looks like it should be ok to me. </p>\n\n<p>Here's a picture of what I'm seeing in case somebody doesn't believe me.</p>\n\n<p><a href=\"https://imgur.com/a/XvZaP\" rel=\"nofollow noreferrer\">https://imgur.com/a/XvZaP</a></p>\n\n<p>Can someone advise as to what's going on?</p>\n"}, {"tags": ["intellij-idea", "exception-handling", "kotlin"], "comments": [{"owner": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 1, "creation_date": 1519029101, "post_id": 48859912, "comment_id": 84727114, "body": "The code doesn&#39;t look like a Java code. Is it Kotlin? Have you tried <a href=\"https://www.jetbrains.com/help/idea/auto-completing-code.html#smart_completion\" rel=\"nofollow noreferrer\">smart completion</a> action?"}, {"owner": {"reputation": 3, "user_id": 9191820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOrON.png?s=128&g=1", "display_name": "TGS", "link": "https://stackoverflow.com/users/9191820/tgs"}, "reply_to_user": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1519032746, "post_id": 48859912, "comment_id": 84729143, "body": "@Andrey I&#39;m sorry.Yes,it&#39;s Kotlin. But I think that it is the basic function to all language....."}, {"owner": {"reputation": 3, "user_id": 9191820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOrON.png?s=128&g=1", "display_name": "TGS", "link": "https://stackoverflow.com/users/9191820/tgs"}, "reply_to_user": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1519032892, "post_id": 48859912, "comment_id": 84729234, "body": "@Andrey I have tried smart completion action.It just lists many Exceptions(some of them are unnecessary)."}, {"owner": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1519036217, "post_id": 48859912, "comment_id": 84731346, "body": "It smart complete does not work, feel free to file a request at <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a> with the simple complete sample code to reproduce."}, {"owner": {"reputation": 3, "user_id": 9191820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOrON.png?s=128&g=1", "display_name": "TGS", "link": "https://stackoverflow.com/users/9191820/tgs"}, "reply_to_user": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1519132790, "post_id": 48859912, "comment_id": 84777167, "body": "@Andrey Thanks, I will file a request if it&#39;s needed :)"}], "answers": [{"comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1519049275, "post_id": 48867898, "comment_id": 84739264, "body": "You may want to highlight that it does have some information (from java methods or from annotations), but as the information is not complete it does not filter based on it."}, {"owner": {"reputation": 3, "user_id": 9191820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOrON.png?s=128&g=1", "display_name": "TGS", "link": "https://stackoverflow.com/users/9191820/tgs"}, "edited": false, "score": 0, "creation_date": 1519132621, "post_id": 48867898, "comment_id": 84777036, "body": "I have tried <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/index.html\" rel=\"nofollow noreferrer\">Throws Annotation</a>. But,it fails."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 1, "last_activity_date": 1519049095, "creation_date": 1519049095, "answer_id": 48867898, "question_id": 48859912, "link": "https://stackoverflow.com/questions/48859912/idea-autocomplete-proper-exception/48867898#48867898", "title": "IDEA AutoComplete Proper Exception", "body": "<p>Kotlin does not have checked exceptions. Because of that, it has no information about exceptions that <code>AFunction</code> may throw, and does not filter the completion list for exception classes.</p>\n"}], "owner": {"reputation": 3, "user_id": 9191820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOrON.png?s=128&g=1", "display_name": "TGS", "link": "https://stackoverflow.com/users/9191820/tgs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1519049095, "creation_date": 1519017513, "last_edit_date": 1519032944, "question_id": 48859912, "link": "https://stackoverflow.com/questions/48859912/idea-autocomplete-proper-exception", "title": "IDEA AutoComplete Proper Exception", "body": "<p>I have a function(AFunction) which maybe throws XXException.\nI write BFunction like this</p>\n\n<pre><code>try{\n    AFunction()\n}catch(e:){\n    // Some Code\n}\n</code></pre>\n\n<p>When I write <code>e:</code>,how can IDEA complete <code>XXException</code> (the Most Proper Exception).\nI have tried <code>ctrl+space</code> <code>alt+enter</code>,they lists many Exceptions.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin", "final"], "answers": [{"comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1519021439, "post_id": 48858557, "comment_id": 84724166, "body": "Well elaborate."}], "tags": [], "owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "is_accepted": false, "score": 3, "last_activity_date": 1519004646, "creation_date": 1519004646, "answer_id": 48858557, "question_id": 48858459, "link": "https://stackoverflow.com/questions/48858459/kotlin-set-var-val-once-to-make-it-final-is-that-possible/48858557#48858557", "title": "Kotlin, set var/val once to make it final, is that possible", "body": "<p>Reading into the conventions of Kotlin, a late-initialized variable which is final is impossible.</p>\n\n<p>Consider <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\">its use case</a>:</p>\n\n<blockquote>\n  <p>Normally, properties declared as having a non-null type must be initialized in the constructor. However, fairly often this is not convenient. For example, properties can be initialized through dependency injection, or in the setup method of a unit test. In this case, you cannot supply a non-null initializer in the constructor, but you still want to avoid null checks when referencing the property inside the body of a class.</p>\n</blockquote>\n\n<p><code>lateinit var</code> is providing relative sanity when dealing with a variable that may not have yet been initialized, such as the case with injected fields (like Spring and <code>@Autowired</code>).  Then, speaking strictly in the context of dependency injection, if you <em>don't</em> have a way to concretely instantiate the variable at compile time, then you cannot leave it as a final field.</p>\n\n<p>From a Java to Kotlin world, having a late initialized variable come in as final would look as paradoxical as this from Spring:</p>\n\n<pre><code>@Autowired\nprivate final Interface something;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13615, "user_id": 725628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c848c87c01526357853be188d02759d?s=128&d=identicon&r=PG", "display_name": "EmilioPelaez", "link": "https://stackoverflow.com/users/725628/emiliopelaez"}, "is_accepted": false, "score": 1, "last_activity_date": 1519007313, "creation_date": 1519007313, "answer_id": 48858807, "question_id": 48858459, "link": "https://stackoverflow.com/questions/48858459/kotlin-set-var-val-once-to-make-it-final-is-that-possible/48858807#48858807", "title": "Kotlin, set var/val once to make it final, is that possible", "body": "<p>What do you think the behavior should be when you attempt to set it again? Do you expect this to be enforced at compile time? Should it cause a crash at runtime or just do nothing?</p>\n\n<p>If you expect it to happen at compile time, I'm pretty sure it's not possible for a compiler to catch something like that.</p>\n\n<p>If you want some other behavior, you can make it a private variable with a public set method that does whatever you want if it's been already set.</p>\n\n<p>Or you could encapsulate it in an instance of a custom class that does whatever behavior you want.</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 0, "last_activity_date": 1519062809, "creation_date": 1519062809, "answer_id": 48871662, "question_id": 48858459, "link": "https://stackoverflow.com/questions/48858459/kotlin-set-var-val-once-to-make-it-final-is-that-possible/48871662#48871662", "title": "Kotlin, set var/val once to make it final, is that possible", "body": "<p>It is possible you can use You can create a custom delegate for the property that is a combination of the existing <code>notNull</code> delegate and your own idea of <code>set once</code>.  Read more about <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">property delegates</a> for information on how to create a custom one that can do whatever you want, including the use case you want here.  You would then not use <code>lateinit</code> but instead this delegate.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1100, "favorite_count": 1, "answer_count": 3, "score": 5, "last_activity_date": 1519062809, "creation_date": 1519003581, "last_edit_date": 1519007519, "question_id": 48858459, "link": "https://stackoverflow.com/questions/48858459/kotlin-set-var-val-once-to-make-it-final-is-that-possible", "title": "Kotlin, set var/val once to make it final, is that possible", "body": "<p>In Kotlin, we have <code>val</code> that is final and can't be change. e.g.</p>\n\n<pre><code>val something = \"Something\"\n</code></pre>\n\n<p>If a value that is is initialized later, we use <code>lateinit var</code>.</p>\n\n<pre><code>lateinit var something: String\n</code></pre>\n\n<p>But this is <code>var</code> instead of <code>val</code>. I wanted to set something once (not in constructor), and have it as final. How could I achieve this?</p>\n"}, {"tags": ["interface", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1519063486, "post_id": 48857526, "comment_id": 84747285, "body": "This is possible if you just turn it around a bit, I&#39;ve added an answer because the accepted answer does not cover what you can actually do to accomplish the same goal as you are trying to achieve.  Accepting answers too quickly means you might not attract a correct answer later."}], "answers": [{"comments": [{"owner": {"reputation": 3527, "user_id": 1039774, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e98163c769e5dc8243bfef700edded42?s=128&d=identicon&r=PG", "display_name": "Devabc", "link": "https://stackoverflow.com/users/1039774/devabc"}, "edited": false, "score": 0, "creation_date": 1519033114, "post_id": 48861109, "comment_id": 84729373, "body": "You&#39;re right about instance variables in Java interfaces being static. I have just updated my post to reflect this. But abstract classes aren&#39;t an option because the class has to extend another class that cannot be modified. So I guess &quot;enriching&quot; as they call it in Scala, isn&#39;t possible in Java or Kotlin."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 3527, "user_id": 1039774, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e98163c769e5dc8243bfef700edded42?s=128&d=identicon&r=PG", "display_name": "Devabc", "link": "https://stackoverflow.com/users/1039774/devabc"}, "edited": false, "score": 0, "creation_date": 1519033627, "post_id": 48861109, "comment_id": 84729717, "body": "Enriching can&#39;t add instance variables (extending a class isn&#39;t &quot;enriching&quot;)."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1519063450, "post_id": 48861109, "comment_id": 84747261, "body": "@AlexeyRomanov This does not solve the problem and allow the interface to support logic against state that it wants to define.  There is a way to do this in Kotlin."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1519033923, "last_edit_date": 1519033923, "creation_date": 1519024202, "answer_id": 48861109, "question_id": 48857526, "link": "https://stackoverflow.com/questions/48857526/initializing-interface-instance-variables/48861109#48861109", "title": "Initializing interface instance variables", "body": "<p>In Java you actually have a static field, not an instance field (unlike Scala code, which does work as you expect):</p>\n\n<blockquote>\n  <p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html\" rel=\"nofollow noreferrer\">Every field declaration in the body of an interface is implicitly <code>public</code>, <code>static</code>, and <code>final</code>.</a></p>\n</blockquote>\n\n<p>You can achieve the same behavior in Kotlin by putting the field into a companion object.</p>\n\n<p>But what you should actually do is use an <code>abstract class</code> instead of an interface.</p>\n\n<p>Or <a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"nofollow noreferrer\">delegation</a>:</p>\n\n<pre><code>interface Observable {\n    fun register(observer: Observer)\n}\n\nclass ObserverList : Observable {\n    val observers = mutableListOf&lt;Observer&gt;()\n\n    override fun register(observer: Observer) {\n        observers.add(observer)\n    }\n}\n\nclass Impl : Parent(), Observable by ObserverList()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 7, "last_activity_date": 1519063400, "creation_date": 1519063400, "answer_id": 48871810, "question_id": 48857526, "link": "https://stackoverflow.com/questions/48857526/initializing-interface-instance-variables/48871810#48871810", "title": "Initializing interface instance variables", "body": "<p>You can have a placeholder for state in Kotlin interfaces, and let the implementing class provide that state.  So the interface can provide the functionality that works against the expected-to-exist state.  Such as:</p>\n\n<pre><code>class Observer\n\ninterface Observable {\n    val observers: MutableList&lt;Observer&gt; // not present, but expected\n\n    fun register(observer: Observer) {\n        observers.add(observer)\n    }\n}\n\nopen class Parent\n\nclass Impl : Parent(), Observable {\n    override val observers = mutableListOf&lt;Observer&gt;() // used by the interface\n}\n</code></pre>\n\n<p>This is for good reason, there are delicate issues having state coming from more than one item in the class hierarchy and Kotlin is preventing the problems that can arise from such models.</p>\n"}], "owner": {"reputation": 3527, "user_id": 1039774, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e98163c769e5dc8243bfef700edded42?s=128&d=identicon&r=PG", "display_name": "Devabc", "link": "https://stackoverflow.com/users/1039774/devabc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11106, "favorite_count": 1, "accepted_answer_id": 48871810, "answer_count": 2, "score": 4, "last_activity_date": 1519063525, "creation_date": 1518994855, "last_edit_date": 1519063525, "question_id": 48857526, "link": "https://stackoverflow.com/questions/48857526/initializing-interface-instance-variables", "title": "Initializing interface instance variables", "body": "<p>I would like to inject (enrich) behavior and state in a Kotlin class by using an interface. Like <code>class Impl : Observable</code>, where Observable contains state. </p>\n\n<p>In Scala using Traits (does work), looking for a Kotlin solution for this one:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>object Test extends App {\n  val impl = new Impl()\n  val observer = new Observer()\n  impl.register(observer)\n}\n\ntrait Observable {\n  // How to do this in Kotlin?\n  val observers = List()\n\n  def register(observer: Observer) {\n    observers.add(observer)\n  }\n}\nclass Observer\n\nclass Parent\nclass Impl extends Parent with Observable\n</code></pre>\n\n<p>Attempt in Kotlin (not working):</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val impl = Impl()\n    val observer = Observer()\n    impl.register(observer)\n}\n\ninterface Observable {\n    // Error: Kotlin: Property initializers are not allowed in interfaces\n    val observers = mutableListOf&lt;Observer&gt;()\n\n    fun register(observer: Observer) {\n        observers.add(observer)\n    }\n}\nclass Observer\n\nopen class Parent\nclass Impl : Parent(), Observable\n</code></pre>\n\n<p>It results in this error at the interface instance variable line: <code>Kotlin: Property initializers are not allowed in interfaces</code>.\nHow can I initialize instance variables in Kotlin interfaces?\n(Note that in this design, parent classes shouldn't be altered/updated.)</p>\n\n<p><strong>UPDATE: I had an example solution in Java, but that wasn't behaving correctly. \"Instance variables\" in Java interfaces are automatically static. So I have removed that example.</strong></p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 0, "last_activity_date": 1518991880, "creation_date": 1518991880, "answer_id": 48857156, "question_id": 48857086, "link": "https://stackoverflow.com/questions/48857086/invalid-key-when-writing-data-to-firebase-from-android-app-using-kotlin/48857156#48857156", "title": "&quot;Invalid key&quot; when writing data to Firebase from Android App using Kotlin", "body": "<p>The error is likely referring to the contents of your <code>name</code> val.  Check its contents and make sure it doesn't contain any of the prohibited values.</p>\n\n<p>Typically, with database keys, you don't use an arbitrary value that your user may have entered.  Use only values that you've determined to form the schema for the data stored at a location.  So, you'll do better if your map looks like this instead:</p>\n\n<pre><code>myMap.put(\"name\", name)\nmyMap.put(\"email\", email)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "edited": false, "score": 0, "creation_date": 1518994905, "post_id": 48857192, "comment_id": 84718610, "body": "Since you&#39;ve already solved in the other answer, you might want to delete this one."}], "tags": [], "owner": {"reputation": 21, "user_id": 3718236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e401f94b0f0b32009f0ddddbf4ea68?s=128&d=identicon&r=PG&f=1", "display_name": "user3718236", "link": "https://stackoverflow.com/users/3718236/user3718236"}, "is_accepted": false, "score": 0, "last_activity_date": 1518992102, "creation_date": 1518992102, "answer_id": 48857192, "question_id": 48857086, "link": "https://stackoverflow.com/questions/48857086/invalid-key-when-writing-data-to-firebase-from-android-app-using-kotlin/48857192#48857192", "title": "&quot;Invalid key&quot; when writing data to Firebase from Android App using Kotlin", "body": "<p>I found the error was fixed when I did this...</p>\n\n<p>I changed this code....\nsave_bu.setOnClickListener{</p>\n\n<pre><code>        myMap.put(name,email)\n\n        mdatabase.push().setValue(myMap)\n</code></pre>\n\n<p>to this...</p>\n\n<p>save_bu.setOnClickListener{</p>\n\n<pre><code>        myMap.put(\"name\", name)\n        myMap.put(\"email\",email)\n\n        mdatabase.push().setValue(myMap)\n</code></pre>\n\n<p>now my problem is that it isn't saving the data I actually type in those edit text fields.  lol</p>\n"}, {"comments": [{"owner": {"reputation": 9535, "user_id": 5861618, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ug9BL.png?s=128&g=1", "display_name": "Ros&#225;rio Pereira Fernandes", "link": "https://stackoverflow.com/users/5861618/ros%c3%a1rio-pereira-fernandes"}, "edited": false, "score": 0, "creation_date": 1518994978, "post_id": 48857223, "comment_id": 84718631, "body": "Consider <a href=\"https://meta.stackexchange.com/a/5235/364194\">accepting this answer</a> so that others know it has been solved."}], "tags": [], "owner": {"reputation": 21, "user_id": 3718236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e401f94b0f0b32009f0ddddbf4ea68?s=128&d=identicon&r=PG&f=1", "display_name": "user3718236", "link": "https://stackoverflow.com/users/3718236/user3718236"}, "is_accepted": false, "score": 1, "last_activity_date": 1518992305, "creation_date": 1518992305, "answer_id": 48857223, "question_id": 48857086, "link": "https://stackoverflow.com/questions/48857086/invalid-key-when-writing-data-to-firebase-from-android-app-using-kotlin/48857223#48857223", "title": "&quot;Invalid key&quot; when writing data to Firebase from Android App using Kotlin", "body": "<p>solved...</p>\n\n<p>had to move the val into the button listener...</p>\n\n<pre><code>save_bu.setOnClickListener{\n            val name = name_txt.text.toString().trim()\n            val email = email_txt.text.toString().trim()\n            myMap.put(\"name\", name)\n            myMap.put(\"email\",email)\n\n            mdatabase.push().setValue(myMap)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3718236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e401f94b0f0b32009f0ddddbf4ea68?s=128&d=identicon&r=PG&f=1", "display_name": "user3718236", "link": "https://stackoverflow.com/users/3718236/user3718236"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1541, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1519000022, "creation_date": 1518991430, "last_edit_date": 1519000022, "question_id": 48857086, "link": "https://stackoverflow.com/questions/48857086/invalid-key-when-writing-data-to-firebase-from-android-app-using-kotlin", "title": "&quot;Invalid key&quot; when writing data to Firebase from Android App using Kotlin", "body": "<p>I am trying to write data to Firebase from my Android App using this code..\npackage com.example.envir.databasetesting</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport com.google.firebase.database.FirebaseDatabase\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val mdatabase = FirebaseDatabase.getInstance().reference\n        val name = name_txt.text.toString().trim()\n        val email = email_txt.text.toString().trim()\n\n\n        var myMap = hashMapOf&lt;String, String&gt;()\n\n\n        save_bu.setOnClickListener{\n\n            myMap.put(name,email)\n\n            mdatabase.push().setValue(myMap)\n\n\n\n\n        }\n\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>I keep getting this error message:</p>\n\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.example.envir.databasetesting, PID: 28042\n                  com.google.firebase.database.DatabaseException: Invalid key: . Keys must not contain '/', '.', '#', '$', '[', or ']'</p>\n\n<p>Do I need to add a key or somthing?  I thought that it would add a key for me by default?</p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["android", "kotlin", "spannablestring"], "comments": [{"owner": {"reputation": 6424, "user_id": 444761, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/MjkEi.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/444761/mark"}, "edited": false, "score": 0, "creation_date": 1564576780, "post_id": 48856864, "comment_id": 101076309, "body": "Did you find a good solution for this?"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1519046310, "creation_date": 1519046310, "answer_id": 48867110, "question_id": 48856864, "link": "https://stackoverflow.com/questions/48856864/android-kotlin-creating-spannablestring-from-another-spannablestring-loses-spans/48867110#48867110", "title": "Android Kotlin creating SpannableString from another SpannableString loses spans", "body": "<p>If you have a look at <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\" rel=\"nofollow noreferrer\"><code>String.replace</code></a>, you'll find, that the <code>SpannableString</code> you return is actually used as a <code>CharSequence</code> for <code>transform: (MatchResult) -&gt; CharSequence</code>.</p>\n\n<p>Also you're creating the outer <code>SpannableString</code> from a pure <code>String</code> only.</p>\n\n<p>Thus you never had the information available. You could have a look into <code>SpannableStringBuilder</code> and use it with a different approach like using a tokenizer or a custom Markdown span which removes the markup syntax on the fly.</p>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 4980713, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oHABP8UKSNY/AAAAAAAAAAI/AAAAAAAAAXM/sdYVM8Xarx4/photo.jpg?sz=128", "display_name": "Edy Daoud", "link": "https://stackoverflow.com/users/4980713/edy-daoud"}, "is_accepted": false, "score": 0, "last_activity_date": 1542040085, "creation_date": 1542040085, "answer_id": 53266315, "question_id": 48856864, "link": "https://stackoverflow.com/questions/48856864/android-kotlin-creating-spannablestring-from-another-spannablestring-loses-spans/53266315#53266315", "title": "Android Kotlin creating SpannableString from another SpannableString loses spans", "body": "<p>In case anyone is interested this is my answer:</p>\n\n<pre><code>val commentBody = \"Here is text, and *here is italic text*, and maybe *more* italic text\"\nval check = \"(\\\\*[^*])(.*?)([^*]\\\\*)\".toRegex()\nval spannableStringBuilder = SpannableStringBuilder(commentBody.replace(\"*\", \"\"))\ncheck.findAll(commentBody).map { it.value.substring(1, it.value.length - 1) }.forEach { \n    val start = spannableStringBuilder.indexOf(it)\n    val end = start + it.length\n    spannableStringBuilder.setSpan(StyleSpan(Typeface.ITALIC), 0, innerSpan.length, spanFlag)\n}\nreturn spannableStringBuilder\n</code></pre>\n"}], "owner": {"reputation": 1182, "user_id": 1667344, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/072fddfd0f05f50faabcc63f655a6ce1?s=128&d=identicon&r=PG", "display_name": "Josh Beckwith", "link": "https://stackoverflow.com/users/1667344/josh-beckwith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1877, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1542040085, "creation_date": 1518989845, "question_id": 48856864, "link": "https://stackoverflow.com/questions/48856864/android-kotlin-creating-spannablestring-from-another-spannablestring-loses-spans", "title": "Android Kotlin creating SpannableString from another SpannableString loses spans", "body": "<p>I'm working on creating my own MarkdownTextView.</p>\n\n<p>In this particular instance, I'm sifting through a body of text parsing out italic tags example: </p>\n\n<pre><code>Here is text, and *here is italic text*, and maybe *more* italic text\n</code></pre>\n\n<p>I have a <strong>regex function</strong> that does the sifting for me:</p>\n\n<pre><code>(\\*[^*])(.*?)([^*]\\*)\n</code></pre>\n\n<p><strong>Below is the code</strong> that I am using <strong>to replace all of the italic snippets</strong>:</p>\n\n<pre><code>val commentBody = \"Here is text, and *here is italic text*, and maybe *more* italic text\"\nval check = \"(\\*[^*])(.*?)([^*]\\*)\".toRegex()\nval newSpan = SpannableString(commentBody.replace(check, { result -&gt;\n    val innerSpan = SpannableString(result.value.substring(1, result.value.length - 1))\n    innerSpan.setSpan(StyleSpan(Typeface.ITALIC), 0, innerSpan.length, spanFlag)\n    return@replace innerSpan\n}))\n</code></pre>\n\n<p>My regex is working properly, and </p>\n\n<pre><code>Here is text, and *here is italic text*, and maybe *more* italic text\n</code></pre>\n\n<p>is correctly converted to show</p>\n\n<pre><code>Here is text, and here is italic text, and maybe more italic text\n</code></pre>\n\n<p>But nothing is italicized. I debugged this, and it confirms my fear that when setting the italics span inside of that transform, and using that to setup my new spannable string, that I'm losing all of those spans.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["kotlin", "fold"], "answers": [{"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1518986991, "post_id": 48856362, "comment_id": 84716291, "body": "Couldn\u2019t you call fold directly then?"}, {"owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1518987027, "post_id": 48856362, "comment_id": 84716307, "body": "Well, this is close enough. Thanks."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1518987061, "post_id": 48856362, "comment_id": 84716323, "body": "exactly :) But I think this is possible with Arrow (functional lib). I will add another answer anyway."}], "tags": [], "owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "is_accepted": true, "score": 1, "last_activity_date": 1518986467, "creation_date": 1518986467, "answer_id": 48856362, "question_id": 48856248, "link": "https://stackoverflow.com/questions/48856248/kotlin-fold-error-none-of-the-following-functions-can-be-called-with-the-argume/48856362#48856362", "title": "Kotlin fold error &quot;None of the following functions can be called with the arguments supplied&quot;", "body": "<p>Unfortunately, Kotlin does not currently allow abstracting over all number types's operators (I believe that's to be able to use primitive numbers in the JVM runtime).</p>\n\n<p>So the best you can get is something like this:</p>\n\n<pre><code>fun &lt;T&gt; addAll(num: List&lt;T&gt;, zero: T, adder: (T, T) -&gt; T) : T =\n        num.fold(zero, adder)\n\nprintln(addAll(listOf(1,2,3), 0, Int::plus))\nprintln(addAll(listOf(1.0,2.0,3.0), 0.0, Double::plus))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1518986985, "post_id": 48856380, "comment_id": 84716289, "body": "Thank you. I am aware of sum but I am currently attempting to learn how to work with generic functions."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "edited": false, "score": 0, "creation_date": 1518987027, "post_id": 48856380, "comment_id": 84716308, "body": "Ok I see, then it\u2019s not very useful I guess"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1518986947, "last_edit_date": 1518986947, "creation_date": 1518986622, "answer_id": 48856380, "question_id": 48856248, "link": "https://stackoverflow.com/questions/48856248/kotlin-fold-error-none-of-the-following-functions-can-be-called-with-the-argume/48856380#48856380", "title": "Kotlin fold error &quot;None of the following functions can be called with the arguments supplied&quot;", "body": "<p>While you unfortunately can't do it with a single generic functions, you could simply use <code>sum</code> which is defined for many <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/\" rel=\"nofollow noreferrer\"><code>Iterable</code></a> types like <code>Iterable&lt;Int&gt;</code> and also <code>Iterable&lt;Double&gt;</code>:</p>\n\n<pre><code>val doublesSum = listOf(1.0, 2.0).sum()\nval intsSum = listOf(1, 2).sum()\n</code></pre>\n\n<p>This would at least solve the current problem :)</p>\n"}, {"comments": [{"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1518988113, "post_id": 48856534, "comment_id": 84716699, "body": "Notice that this only works for <code>addAll</code> because the monoid for int uses <code>plus</code> as its combining operation... not sure why Arrow does that, given that <code>subtract</code> or <code>multiply</code> would also form monoids if I understand it correctly..."}], "tags": [], "owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "is_accepted": false, "score": 0, "last_activity_date": 1518987799, "creation_date": 1518987799, "answer_id": 48856534, "question_id": 48856248, "link": "https://stackoverflow.com/questions/48856248/kotlin-fold-error-none-of-the-following-functions-can-be-called-with-the-argume/48856534#48856534", "title": "Kotlin fold error &quot;None of the following functions can be called with the arguments supplied&quot;", "body": "<p>Another way to do this is to use functional programming.\nOnly do this if you're familiar with FP and need very very generic solutions.</p>\n\n<p>Here's an example using the <a href=\"http://arrow-kt.io/\" rel=\"nofollow noreferrer\">Arrow</a> library:</p>\n\n<pre><code>import arrow.core.identity\nimport arrow.data.ListKW\nimport arrow.data.foldable\nimport arrow.data.k\nimport arrow.typeclasses.monoid\n\ninline fun &lt;reified T&gt; addAll(num: List&lt;T&gt;): T =\n        ListKW.foldable().foldMap(monoid(), num.k(), ::identity)\n\nfun main(args: Array&lt;String&gt;) {\n    println(addAll(listOf(1, 2, 3)))\n    println(addAll(listOf(1.0, 2.0, 3.0)))\n    println(addAll(listOf(\"one\", \"two\", \"three\")))\n}\n</code></pre>\n"}], "owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5950, "favorite_count": 0, "accepted_answer_id": 48856362, "answer_count": 3, "score": 2, "last_activity_date": 1518987799, "creation_date": 1518985722, "question_id": 48856248, "link": "https://stackoverflow.com/questions/48856248/kotlin-fold-error-none-of-the-following-functions-can-be-called-with-the-argume", "title": "Kotlin fold error &quot;None of the following functions can be called with the arguments supplied&quot;", "body": "<p>I get an error for this fold function;</p>\n\n<pre><code>fun &lt;T&gt; addAll(num: List&lt;T&gt;) : T = num.fold(0, {x,y -&gt; x+y})\n</code></pre>\n\n<p>saying:</p>\n\n<p><strong>None of the following functions can be called with the arguments supplied.</strong></p>\n\n<p>However if I do:</p>\n\n<pre><code> fun addAll(num: List&lt;Int&gt;) : Int = num.fold(0, {x,y -&gt; x+y})\n</code></pre>\n\n<p>It works without problems.\nIs it possible to keep the function generic in order to use it for lists of both integers and doubles?</p>\n"}, {"tags": ["websocket", "kotlin", "okhttp3"], "answers": [{"comments": [{"owner": {"reputation": 1057, "user_id": 3460025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f82b7b0bdcb321515e823c9f00c07a?s=128&d=identicon&r=PG&f=1", "display_name": "amitavk", "link": "https://stackoverflow.com/users/3460025/amitavk"}, "edited": false, "score": 0, "creation_date": 1564225077, "post_id": 48856490, "comment_id": 100965944, "body": "So...it just isn&#39;t possible to even log the requests and responses going through a websocket?"}, {"owner": {"reputation": 250, "user_id": 3015259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ab932dcdffa348d316472b80c0f7f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Rawnald Gregory Erickson", "link": "https://stackoverflow.com/users/3015259/rawnald-gregory-erickson"}, "reply_to_user": {"reputation": 1057, "user_id": 3460025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f82b7b0bdcb321515e823c9f00c07a?s=128&d=identicon&r=PG&f=1", "display_name": "amitavk", "link": "https://stackoverflow.com/users/3460025/amitavk"}, "edited": false, "score": 0, "creation_date": 1564273260, "post_id": 48856490, "comment_id": 100976158, "body": "@amitav13 you always can build a wrapper around your WS instance and log or intercept all requests and responses going through it at the <i>application</i> level (i.e. except internal pings). My question was about intercepting such calls at the <i>network</i> level using existing built-in <code>OkHttp</code> intercepters."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1518987401, "creation_date": 1518987401, "answer_id": 48856490, "question_id": 48856206, "link": "https://stackoverflow.com/questions/48856206/how-to-catch-okhttp3-websocket-network-activity-using-okhttp3-interceptor/48856490#48856490", "title": "How to catch okhttp3 WebSocket network activity using okhttp3.Interceptor?", "body": "<p>WebSocket calls made with OkHttp don't use the interceptor chains that HTTP calls do, therefore you can't monitor them through interceptors.</p>\n\n<p>I've faced this issue before myself, and so I looked at the source code and found the following then:</p>\n\n<ul>\n<li>The regular HTTP calls go through the <a href=\"https://github.com/square/okhttp/blob/master/okhttp/src/main/java/okhttp3/RealCall.java#L183\" rel=\"nofollow noreferrer\"><code>getResponseWithInterceptorChain()</code></a> method in the <code>RealCall</code> class, which quite clearly starts the chained call of interceptors for each request.</li>\n<li>The <code>okhttp3.internal.ws</code> package that includes the implementation of the WebSocket handling contains no code related to interceptors.</li>\n</ul>\n\n<p>And really, interceptors catching WebSocket requests wouldn't really make sense in the first place. The <code>Request</code> that you can obtain in an interceptor represents an HTTP request, which <a href=\"https://stackoverflow.com/a/47085864/4465208\">WebSocket messages are not</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1057, "user_id": 3460025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f82b7b0bdcb321515e823c9f00c07a?s=128&d=identicon&r=PG&f=1", "display_name": "amitavk", "link": "https://stackoverflow.com/users/3460025/amitavk"}, "is_accepted": false, "score": 0, "last_activity_date": 1564373151, "creation_date": 1564373151, "answer_id": 57247083, "question_id": 48856206, "link": "https://stackoverflow.com/questions/48856206/how-to-catch-okhttp3-websocket-network-activity-using-okhttp3-interceptor/57247083#57247083", "title": "How to catch okhttp3 WebSocket network activity using okhttp3.Interceptor?", "body": "<p>It isn't possible at this point, there's a feature request open for OkHttp but it isn't getting much traction: <a href=\"https://github.com/square/okhttp/issues/4192\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/issues/4192</a></p>\n"}], "owner": {"reputation": 250, "user_id": 3015259, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ab932dcdffa348d316472b80c0f7f1c?s=128&d=identicon&r=PG&f=1", "display_name": "Rawnald Gregory Erickson", "link": "https://stackoverflow.com/users/3015259/rawnald-gregory-erickson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1403, "favorite_count": 0, "accepted_answer_id": 48856490, "answer_count": 2, "score": 2, "last_activity_date": 1564373151, "creation_date": 1518985475, "last_edit_date": 1519064637, "question_id": 48856206, "link": "https://stackoverflow.com/questions/48856206/how-to-catch-okhttp3-websocket-network-activity-using-okhttp3-interceptor", "title": "How to catch okhttp3 WebSocket network activity using okhttp3.Interceptor?", "body": "<p>I have an okhttp3 (3.9.1) <code>WebSocket</code> instance and would like to view all it's network requests and responses. I tried to add some <code>okhttp3.Interceptor</code> instances to <code>OkHttpClient</code> instance before creating <code>WebSocket</code> on it but had no luck in viewing network activity. Here's sample code which demonstrates what I've tried to do:</p>\n\n<pre><code>package sample\n\nimport okhttp3.*\nimport java.io.IOException\nimport java.lang.Thread.sleep\n\nfun main(args: Array&lt;String&gt;) {\n    val listener = object : WebSocketListener() {\n        override fun onMessage(webSocket: WebSocket?, text: String?) {\n            println(\"Got server message: $text\")\n        }\n    }\n\n    val dummyInterceptor = Interceptor { chain -&gt;\n        val request = chain.request()\n        val response = chain.proceed(request)\n        println(\"Dummy interceptor fired!\\n\\nRequest: ${request.headers()}\\nResponse: ${response.headers()}\")\n        return@Interceptor response\n    }\n\n    val dummyNetworkInterceptor = Interceptor { chain -&gt;\n        val request = chain.request()\n        val response = chain.proceed(request)\n        println(\"Dummy network interceptor fired!\\n\\nRequest: ${request.headers()}\\nResponse: ${response.headers()}\")\n        return@Interceptor response\n    }\n\n    val okHttpClient = OkHttpClient.Builder()\n            .addInterceptor(dummyInterceptor)\n            .addNetworkInterceptor(dummyNetworkInterceptor)\n            .build()\n\n    val request = Request.Builder().url(\"ws://echo.websocket.org\").build()\n\n    val webSocket = okHttpClient.newWebSocket(request, listener)\n\n    webSocket.send(\"Hello1!\")\n    webSocket.send(\"Hello2!\")\n    webSocket.send(\"Hello3!\")\n\n    sleep(2000) //Just for this sample to ensure all WS requests done\n    println(\"\\n\\n\\tSome network activity\\n\\n\")\n\n    okHttpClient.newCall(Request.Builder().get().url(\"http://echo.websocket.org\").build()).enqueue(object : Callback {\n        override fun onFailure(call: Call?, exc: IOException?) {\n            println(\"OnFailure: ${exc?.message}\")\n        }\n\n        override fun onResponse(call: Call?, response: Response?) {\n            println(\"OnResponse: ${response?.headers()}\")\n        }\n    })\n}\n</code></pre>\n\n<p>I tried to dive into okhttp3 source code and didn't find any reason why any of my interceptors doesn't fire on WS requests but works perfectly for any <code>OkHttpClient</code> request. </p>\n\n<p>Is it a bug in okhttp3 or am I doing something wrong or it's just not possible to monitor WS requests using <code>okhttp3.Interceptor</code>?</p>\n"}, {"tags": ["arrays", "kotlin", "groovy-spread"], "answers": [{"comments": [{"owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "edited": false, "score": 0, "creation_date": 1518983667, "post_id": 48855833, "comment_id": 84715273, "body": "Thanks for the answer. It was tough for me to pick one to mark as the accepted answer. I appreciate your efforts."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1518993154, "last_edit_date": 1518993154, "creation_date": 1518983059, "answer_id": 48855833, "question_id": 48855791, "link": "https://stackoverflow.com/questions/48855791/how-does-one-pass-an-arrayint-to-a-vararg-int-function-using-the-spread-operat/48855833#48855833", "title": "How does one pass an Array&lt;Int&gt; to a vararg Int function using the Spread Operator?", "body": "<p>The problem is that you're using the boxed <code>Integer</code>s when creating an <code>Array&lt;Int&gt;</code>. This does not work well with <code>vararg Int</code>. It works with an <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int-array/-init-.html\" rel=\"nofollow noreferrer\"><code>IntArray</code></a> though:</p>\n\n<pre><code>val numbers: Array&lt;Int&gt; = arrayOf(1, 2, 3)\nprintNumbers(*numbers.toIntArray())\n</code></pre>\n\n<p>Or directly create the array with the correct type:</p>\n\n<pre><code>val numbers = intArrayOf(1, 2, 3)\nprintNumbers(*numbers)\n</code></pre>\n\n<p>Using an <code>IntArray</code>, as opposed to <code>Array&lt;Int&gt;</code>, removes the boxing overhead, which surely is preferable. </p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 14, "last_activity_date": 1518983111, "creation_date": 1518983111, "answer_id": 48855842, "question_id": 48855791, "link": "https://stackoverflow.com/questions/48855791/how-does-one-pass-an-arrayint-to-a-vararg-int-function-using-the-spread-operat/48855842#48855842", "title": "How does one pass an Array&lt;Int&gt; to a vararg Int function using the Spread Operator?", "body": "<p>Basically, <code>Array&lt;Int&gt;</code> is an array of boxed <code>Integer</code> objects under the hood, while <code>IntArray</code> translates to an array of primitive <code>int</code> values (see <a href=\"https://stackoverflow.com/a/45094889/4465208\">this answer</a>).</p>\n\n<p>To pass in an <code>Array&lt;Int&gt;</code> to a vararg function, you can use the <code>toIntArray()</code> function to convert it to an <code>IntArray</code> first:</p>\n\n<pre><code>val numbers: Array&lt;Int&gt; = arrayOf(1, 2, 3)\nprintNumbers(*numbers.toIntArray())\n</code></pre>\n\n<p>Or if you can, create the array as an <code>IntArray</code> to begin with - this way you avoid the allocation of an extra array in the process, as well as the boxing of each individual value:</p>\n\n<pre><code>val numbers: IntArray = intArrayOf(1, 2, 3)\nprintNumbers(*numbers)\n</code></pre>\n"}], "owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1201, "favorite_count": 1, "accepted_answer_id": 48855842, "answer_count": 2, "score": 9, "last_activity_date": 1533354687, "creation_date": 1518982697, "last_edit_date": 1533354687, "question_id": 48855791, "link": "https://stackoverflow.com/questions/48855791/how-does-one-pass-an-arrayint-to-a-vararg-int-function-using-the-spread-operat", "title": "How does one pass an Array&lt;Int&gt; to a vararg Int function using the Spread Operator?", "body": "<p>I have a vararg function that takes multiple <code>Int</code>s. I have an <code>Array&lt;Int&gt;</code> that I'd like to use as input.</p>\n\n<h2>An unsuccessful attempt:</h2>\n\n<p>Here is my attempt to call the function using the <a href=\"https://stackoverflow.com/a/39389045/5601284\">Spread Operator</a>:</p>\n\n<pre><code>fun printNumbers(vararg numbers: Int) {\n    numbers.forEach { it -&gt; println(it) }\n}\n\nval numbers: Array&lt;Int&gt; = arrayOf(1, 2, 3)\nprintNumbers(*numbers)\n</code></pre>\n\n<p>However, I'm getting the following type mismatch error:</p>\n\n<pre><code>error: type mismatch: inferred type is Array&lt;Int&gt; but IntArray was expected\nprintNumbers(*arrayOf&lt;Int&gt;(1, 2, 3))\n              ^\n</code></pre>\n\n<h2>Extra confusion:</h2>\n\n<p>I don't understand why I'm getting this error, especially since I can use the spread operator on an <code>Array&lt;String&gt;</code>. For example...</p>\n\n<pre><code>fun printStrings(vararg strings: String) {\n    strings.forEach { it -&gt; println(it) }\n}\n\nval strings: Array&lt;String&gt; = arrayOf(\"hello\", \"there\", \"stackoverflow\")\nprintStrings(*strings)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>hello\nthere\nstackoverflow\n</code></pre>\n\n<h2>Attempts to correct the error:</h2>\n\n<ul>\n<li><p>I searched online to see if it was possible to convert an <code>Array&lt;Int&gt;</code> to an <code>IntArray</code>, as this might satisfy the compiler. I couldn't see anything except the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-typed-array.html\" rel=\"noreferrer\">opposite conversion</a> (<code>IntArray</code> to <code>Array&lt;Int&gt;</code>)</p></li>\n<li><p>I tried specifying the generic type when calling <code>arrayOf</code>. E.g. <code>arrayOf&lt;Int&gt;(1, 2, 3)</code>. This (for obvious reasons) didn't work.</p></li>\n</ul>\n\n<h2>Notes:</h2>\n\n<ul>\n<li><p>I'm using Kotlin version 1.0.3</p></li>\n<li><p>I think some of my confusion stems from the fact that I don't understand the difference between <code>Array&lt;Int&gt;</code> and <code>IntArray</code> and when to choose one over the other.</p></li>\n</ul>\n\n<hr>\n\n<p>How do I pass an <code>Array&lt;Int&gt;</code> into a vararg function that expects multiple <code>Int</code>s?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "viewmodel"], "comments": [{"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1518980748, "post_id": 48855050, "comment_id": 84714409, "body": "I don&#39;t know that I understand. I thought the point of the <code>viewModel</code> was that I didn&#39;t have to bother with lifecycle hooks because it <i>shouldn&#39;t</i> destroy the data every time the activity dies. Can you show me a very simple example? EDIT: Also, ideally I don&#39;t want to use getIntent() at all - I just want to save it entirely in viewModel."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1518982600, "post_id": 48855050, "comment_id": 84714993, "body": "ViewModels aren&#39;t shared across activities - they&#39;re only for within one Activity."}], "answers": [{"comments": [{"owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1518981805, "post_id": 48855518, "comment_id": 84714747, "body": "I&#39;ve tried this         <code>if(countModel.TOTAL_COUNT == &quot;total_count&quot;) {             countModel.TOTAL_COUNT = intent.getStringExtra(TOTAL_COUNT)         }</code> and all this causes is for it to hang and not rotate properly. Not sure what I&#39;m doing wrong. <a href=\"https://imgur.com/a/GuG9r\" rel=\"nofollow noreferrer\">imgur.com/a/GuG9r</a>"}, {"owner": {"reputation": 8575, "user_id": 680420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Lnhqp.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/680420/jack"}, "reply_to_user": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "edited": false, "score": 0, "creation_date": 1518982321, "post_id": 48855518, "comment_id": 84714904, "body": "Not sure why that would make it hang. I&#39;d debug it and step through the <code>onCreate</code> and see what&#39;s slow."}], "tags": [], "owner": {"reputation": 8575, "user_id": 680420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Lnhqp.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/680420/jack"}, "is_accepted": false, "score": 0, "last_activity_date": 1518980973, "creation_date": 1518980973, "answer_id": 48855518, "question_id": 48855050, "link": "https://stackoverflow.com/questions/48855050/viewmodel-in-kotlin-android/48855518#48855518", "title": "viewModel in Kotlin Android", "body": "<p>An orientation change causes the activity be destroyed then recreated. This means <code>onCreate</code> will be called on every rotate. The same intent that started the activity originally would still be available to it. So <code>intent.getStringExtra(TOTAL_COUNT)</code> would return the original value from the intent that start the activity every time the screen is rotated. <code>ViewModel</code> will retain the data through the rotation though.</p>\n\n<p>Your issue is that your overriding you're ViewModel's<code>TOTAL_COUNT</code> with the original value from the intent every time. What you can do is check that the <code>TOTAL_COUNT</code> value isn't <code>\"total_count\"</code> (meaning its already been set from the intent) before setting it in <code>onCreate</code>.</p>\n"}], "owner": {"reputation": 1569, "user_id": 7268968, "user_type": "registered", "accept_rate": 27, "profile_image": "https://graph.facebook.com/10107185465206940/picture?type=large", "display_name": "Peter Weyand", "link": "https://stackoverflow.com/users/7268968/peter-weyand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1865, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518981341, "creation_date": 1518977821, "last_edit_date": 1518981341, "question_id": 48855050, "link": "https://stackoverflow.com/questions/48855050/viewmodel-in-kotlin-android", "title": "viewModel in Kotlin Android", "body": "<p>I'm trying to understand view models using kotlin for android, and I'm running into some difficulty. I have a very simple dummy app which allows a user to increment a number and then send that number to a second screen. That second screen will then display a random number between 0 and the sent number.</p>\n\n<p>Here is the problem.</p>\n\n<p>I understand how to send the data from the first page to the second using intents, and I know how to make a viewmodel in the second page. However, if I send the intent and then set the viewmodel equal to the set intent, it doesnt function properly. Rotating the screen will cause the intent to be resent and the viewmodel doesnt maintain the state of the data (the number rerandomizes).</p>\n\n<p>Ideally, I'd like to just be able to just update the viewModel class in place of sending the intent, but the instance of the class is created when the second page is created, so that doesn't work.</p>\n\n<p>Any ideas?</p>\n\n<p>Based on the google codelabs \"build my first android app\" tutorial.</p>\n\n<p>Here's my code; first page:</p>\n\n<pre><code>package com.example.patientplatypus.babbysfirstandroidapp\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.util.Log\nimport android.view.View\nimport android.view.Window\nimport android.view.WindowManager\nimport android.widget.Toast\n\nimport kotlinx.android.synthetic.main.activity_main.textView\nimport org.jetbrains.anko.db.PRIMARY_KEY\nimport org.jetbrains.anko.db.UNIQUE\nimport org.jetbrains.anko.db.createTable\nimport android.database.sqlite.SQLiteDatabase\nimport android.support.v4.content.ContextCompat.startActivity\nimport com.example.patientplatypus.babbysfirstandroidapp.R.id.textView\nimport org.jetbrains.anko.db.*\nimport org.jetbrains.anko.indeterminateProgressDialog\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main);\n    }\n\n    fun toastMe(view: View) {\n        val myToast = Toast.makeText(this, \"Hello Toast!\", Toast.LENGTH_SHORT)\n        myToast.show()\n    }\n\n    fun countMe (view: View) {\n        Log.d(\"insideCountMeCheck\", \"hey you are inside count me!\")\n        val countString = textView.text.toString()\n        var count: Int = Integer.parseInt(countString)\n        count++\n        textView.text = count.toString()\n    }\n\n    fun randomMe (view: View) {\n        val randomIntent = Intent(this, SecondActivity::class.java)\n        val countString = textView.text.toString()\n        val count = Integer.parseInt(countString)\n        randomIntent.putExtra(SecondActivity.TOTAL_COUNT, count.toString())\n        startActivity(randomIntent)\n    }\n}\n</code></pre>\n\n<p>Here's my code, second page: </p>\n\n<pre><code>package com.example.patientplatypus.babbysfirstandroidapp\n\nimport android.arch.lifecycle.ViewModel\nimport android.arch.lifecycle.ViewModelProviders\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.view.Window\nimport android.view.WindowManager\nimport android.widget.Toast\nimport java.util.*\nimport kotlinx.android.synthetic.main.activity_second.randomText\n\nclass CountViewModel : ViewModel() {\n     var TOTAL_COUNT = \"total_count\"\n}\n\nclass SecondActivity : AppCompatActivity() {\n\n    lateinit var countModel: CountViewModel\n\n    companion object {\n        const val TOTAL_COUNT = \"total_count\"\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        this.setContentView(R.layout.activity_second)\n        countModel = ViewModelProviders.of(this).get(CountViewModel::class.java)\n        countModel.TOTAL_COUNT = intent.getStringExtra(TOTAL_COUNT)\n        displayForRandomNum(countModel.TOTAL_COUNT);\n        showRandomNumber()\n\n    }\n\n    fun showRandomNumber() {\n        val count = countModel.TOTAL_COUNT.toInt()\n        val random = Random()\n        var randomInt = 0\n        if (count &gt; 0) {\n            randomInt = random.nextInt(count + 1)\n        }\n        Log.d(\"randomFinal\", Integer.toString(randomInt))\n        displayForRandomNum(Integer.toString(randomInt))\n    }\n\n    fun displayForRandomNum(totalCount: String){\n        randomText.text = totalCount\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "regex", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2462, "user_id": 3343783, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/011bea65b35392a6d1649eee9f95b7d9?s=128&d=identicon&r=PG&f=1", "display_name": "Nisba", "link": "https://stackoverflow.com/users/3343783/nisba"}, "edited": false, "score": 1, "creation_date": 1567080803, "post_id": 48853973, "comment_id": 101861968, "body": "what&#39;s wrong with this answer? just that it is not in one line?"}], "tags": [], "owner": {"reputation": 2462, "user_id": 3343783, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/011bea65b35392a6d1649eee9f95b7d9?s=128&d=identicon&r=PG&f=1", "display_name": "Nisba", "link": "https://stackoverflow.com/users/3343783/nisba"}, "is_accepted": false, "score": -1, "last_activity_date": 1518971616, "creation_date": 1518971616, "answer_id": 48853973, "question_id": 48853752, "link": "https://stackoverflow.com/questions/48853752/android-kotlin-regex-to-replace-a-substring-get-the-substring-that-was-replaced/48853973#48853973", "title": "Android Kotlin regex to replace a substring, get the substring that was replaced", "body": "<pre><code>val str = \"Hello, world!\"\nval regex = \"world\".toRegex()\nval matchResult = regex.find(str)\nval match = matchResult?.value.orEmpty()\nval replaced = str.replace(regex,\"universe\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3975, "user_id": 842607, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a69067470e1edd172c448819e85b3055?s=128&d=identicon&r=PG", "display_name": "Jimit Patel", "link": "https://stackoverflow.com/users/842607/jimit-patel"}, "edited": false, "score": 0, "creation_date": 1566805524, "post_id": 48855857, "comment_id": 101757306, "body": "I like your solution. Anyhow it didn&#39;t helped me to use regex <code>(\\d{1,4})(\\d{1,6})?(\\d{1,5})?</code> to replace <code>343434343434343</code> string to <code>3434-343434-34343</code>. Any ideas on it?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 3975, "user_id": 842607, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a69067470e1edd172c448819e85b3055?s=128&d=identicon&r=PG", "display_name": "Jimit Patel", "link": "https://stackoverflow.com/users/842607/jimit-patel"}, "edited": false, "score": 1, "creation_date": 1566805842, "post_id": 48855857, "comment_id": 101757439, "body": "@JimitPatel That is something different. Try <a href=\"https://rextester.com/IOLL50071\" rel=\"nofollow noreferrer\">rextester.com/IOLL50071</a>. I do not know why you match the last two groups optionally, though."}, {"owner": {"reputation": 3975, "user_id": 842607, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a69067470e1edd172c448819e85b3055?s=128&d=identicon&r=PG", "display_name": "Jimit Patel", "link": "https://stackoverflow.com/users/842607/jimit-patel"}, "edited": false, "score": 0, "creation_date": 1566806502, "post_id": 48855857, "comment_id": 101757716, "body": "@WiktorStribi\u017cew cool your solution worked. Just instead of <code>replace</code>, I am using <code>replaceFirst</code> and optional group is because size is variable of the string, it is basically card number"}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 6, "last_activity_date": 1518983199, "creation_date": 1518983199, "answer_id": 48855857, "question_id": 48853752, "link": "https://stackoverflow.com/questions/48853752/android-kotlin-regex-to-replace-a-substring-get-the-substring-that-was-replaced/48855857#48855857", "title": "Android Kotlin regex to replace a substring, get the substring that was replaced", "body": "<p>You may use a callback to <code>String#replace()</code> method and assign a variable inside it:</p>\n\n<pre><code>var needle = \"\"\nval result = \"Hello, world!\".replace(\"world\".toRegex()) { needle = it.value; \"universe\" }\nprintln(\"Replacement result: \" + result)\nprintln(\"Found match: \" + needle)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Replacement result: Hello, universe!\nFound match: world\n</code></pre>\n\n<p>See the <a href=\"http://rextester.com/AOXB19894\" rel=\"noreferrer\">online Kotlin demo</a>.</p>\n\n<p>You may use a <code>MutableList&lt;String&gt;</code> to hold a list of matches and add the matches found to it:</p>\n\n<pre><code>var needle = mutableListOf&lt;String&gt;()\nval result = \"Hello, world! This world is too small.\".replace(\"world\".toRegex()) { needle.add(it.value); \"universe\" }\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Replacement result: Hello, universe! This universe is too small.\nFound match: [world, world]\n</code></pre>\n\n<p>See <a href=\"http://rextester.com/KSP13153\" rel=\"noreferrer\">another Kotlin demo</a>.</p>\n"}], "owner": {"reputation": 1182, "user_id": 1667344, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/072fddfd0f05f50faabcc63f655a6ce1?s=128&d=identicon&r=PG", "display_name": "Josh Beckwith", "link": "https://stackoverflow.com/users/1667344/josh-beckwith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2650, "favorite_count": 0, "accepted_answer_id": 48855857, "answer_count": 2, "score": 2, "last_activity_date": 1518983199, "creation_date": 1518970285, "question_id": 48853752, "link": "https://stackoverflow.com/questions/48853752/android-kotlin-regex-to-replace-a-substring-get-the-substring-that-was-replaced", "title": "Android Kotlin regex to replace a substring, get the substring that was replaced", "body": "<p>If I have a string, say, </p>\n\n<pre><code>\"Hello, world!\" \n</code></pre>\n\n<p>and a regex equation that is</p>\n\n<pre><code>\"world\".toRegex()\n</code></pre>\n\n<p>and I call</p>\n\n<pre><code>\"Hello, world!\".replace(\"world\".toRegex(), \"universe\")\n</code></pre>\n\n<p>I get the resulting string</p>\n\n<pre><code>\"Hello, universe!\"\n</code></pre>\n\n<p>This is all working as expected... but what if I wanted to keep a copy of that string I took out? I want to keep a copy of \"world\" in a variable.</p>\n"}, {"tags": ["kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 733, "user_id": 3940893, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/ErIXW.jpg?s=128&g=1", "display_name": "Himanshu Mori", "link": "https://stackoverflow.com/users/3940893/himanshu-mori"}, "edited": false, "score": 1, "creation_date": 1532599877, "post_id": 48866218, "comment_id": 90040169, "body": "what about this <a href=\"https://stackoverflow.com/questions/45603236/using-gson-in-kotlin-to-parse-json-array\" title=\"using gson in kotlin to parse json array\">stackoverflow.com/questions/45603236/&hellip;</a> ? ?"}], "tags": [], "owner": {"reputation": 532, "user_id": 2561335, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004500245565/picture?type=large", "display_name": "Aravindraj", "link": "https://stackoverflow.com/users/2561335/aravindraj"}, "is_accepted": true, "score": 9, "last_activity_date": 1519065069, "last_edit_date": 1519065069, "creation_date": 1519043220, "answer_id": 48866218, "question_id": 48853750, "link": "https://stackoverflow.com/questions/48853750/kotlin-convert-json-array-to-model-list-using-gson/48866218#48866218", "title": "Kotlin convert json array to model list using GSON", "body": "<p>You need to use a <code>TypeToken</code> to capture the generic type of the array, and you need this to be the type that GSON sees as the target, instead of just <code>GroupModel::class</code> it is really a list of those.  You can create a <code>TypeToken</code> and use it as follows:</p>\n\n<pre><code>Type groupListType = new TypeToken&lt;ArrayList&lt;GroupModel&gt;&gt;() {}.getType();\nvar model = gson.fromJson(inputString, groupListType);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2185, "user_id": 973919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/872fbcf803b76777b0e48dc58957f8ec?s=128&d=identicon&r=PG", "display_name": "xarlymg89", "link": "https://stackoverflow.com/users/973919/xarlymg89"}, "is_accepted": false, "score": 9, "last_activity_date": 1594055465, "last_edit_date": 1594055465, "creation_date": 1540373712, "answer_id": 52965655, "question_id": 48853750, "link": "https://stackoverflow.com/questions/48853750/kotlin-convert-json-array-to-model-list-using-gson/52965655#52965655", "title": "Kotlin convert json array to model list using GSON", "body": "<p>I have found a solution that is actually working on Android with Kotlin for parsing JSON arrays of a given class. The solution of @Aravindraj didn't really work for me.</p>\n<pre><code>val fileData = &quot;your_json_string&quot;\nval gson = GsonBuilder().create()\nval packagesArray = gson.fromJson(fileData , Array&lt;YourClass&gt;::class.java).toList()\n</code></pre>\n<p>So basically, you only need to provide a class (<code>YourClass</code> in the example) and the JSON string. GSON will figure out the rest.</p>\n<p>The Gradle dependency is:</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.8.6'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "is_accepted": false, "score": 16, "last_activity_date": 1546623628, "creation_date": 1546623628, "answer_id": 54043686, "question_id": 48853750, "link": "https://stackoverflow.com/questions/48853750/kotlin-convert-json-array-to-model-list-using-gson/54043686#54043686", "title": "Kotlin convert json array to model list using GSON", "body": "<pre><code>[{\n  \"description\":\"My expense to others\",\n  \"items\":[\"aaa\",\"bbb\"],\n  \"name\":\"My Expense\"\n },\n {\n  \"description\":\"My expense to others\",\"\n  items\":[\"aaa\",\"bbb\"],\n  \"name\":\"My Expense\"\n }]\n</code></pre>\n\n<p><strong>Kotlin Code</strong>  </p>\n\n<pre><code>val gson = GsonBuilder().create()\nval Model= gson.fromJson(body,Array&lt;GroupModel&gt;::class.java).toList()\n</code></pre>\n\n<p><strong>Gradle</strong></p>\n\n<pre><code>implementation 'com.google.code.gson:gson:2.8.5'\n</code></pre>\n"}], "owner": {"reputation": 348, "user_id": 5039047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39f6415670dad4793839c00d114f6810?s=128&d=identicon&r=PG&f=1", "display_name": "Ayyanar", "link": "https://stackoverflow.com/users/5039047/ayyanar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18683, "favorite_count": 3, "accepted_answer_id": 48866218, "answer_count": 3, "score": 16, "last_activity_date": 1594055465, "creation_date": 1518970271, "last_edit_date": 1540381497, "question_id": 48853750, "link": "https://stackoverflow.com/questions/48853750/kotlin-convert-json-array-to-model-list-using-gson", "title": "Kotlin convert json array to model list using GSON", "body": "<p>I am not able to convert a JSON Array into a <code>GroupModel</code> array.  Below is the JSON I used:</p>\n\n<pre><code>[{\n  \"description\":\"My expense to others\",\n  \"items\":[\"aaa\",\"bbb\"],\n  \"name\":\"My Expense\"\n },\n {\n  \"description\":\"My expense to others\",\"\n  items\":[\"aaa\",\"bbb\"],\n  \"name\":\"My Expense\"\n }]\n</code></pre>\n\n<p>and the <code>GroupModel</code> class is:</p>\n\n<pre><code>class GroupModel {\n    var name: String? = null\n    var description: String? = null\n    var items: MutableList&lt;String&gt;? = null\n\n    constructor(name: String, description: String, items: MutableList&lt;String&gt;) {\n        this.name = name\n        this.description = description\n        this.items = items\n    }\n}\n</code></pre>\n\n<p>and trying the following code results in an <code>Exception</code>:</p>\n\n<blockquote>\n  <p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected \n  BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $</p>\n</blockquote>\n\n<p>The code:</p>\n\n<pre><code>var model = gson.fromJson&lt;Array&lt;GroupModel&gt;&gt;(inputString, GroupModel::class.java)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6486, "user_id": 1116230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a894894150db28d6641f0c57e48bac?s=128&d=identicon&r=PG", "display_name": "Nico Haase", "link": "https://stackoverflow.com/users/1116230/nico-haase"}, "edited": false, "score": 0, "creation_date": 1518970559, "post_id": 48853749, "comment_id": 84710959, "body": "Can you share the whole, exact error message?"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1518970582, "creation_date": 1518970582, "answer_id": 48853806, "question_id": 48853749, "link": "https://stackoverflow.com/questions/48853749/accidental-override-kotlin/48853806#48853806", "title": "Accidental override kotlin", "body": "<p>You have to explicitly mark functions with the <code>override</code> keyword to override them (as described in the documentation <a href=\"https://kotlinlang.org/docs/reference/classes.html#overriding-methods\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>class MainActivity : BaseActivity() {\n\n  override fun onCreate(savedInstanceState: Bundle) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n  }\n\n}\n</code></pre>\n\n<p>If you leave out this keyword, the compiler will think that you've accidentally named a function the same as another function in the base class, hence the warning about an \"accidental override\".</p>\n\n<p>You can also drop the <code>protected</code> keyword as this method will already have that visibility from the declaration in the <code>AppCompatActivity</code> base class.</p>\n"}], "owner": {"reputation": 69, "user_id": 9377078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ded74df9a79f5fac033b2186b69fa9?s=128&d=identicon&r=PG&f=1", "display_name": "Hacen Selahy", "link": "https://stackoverflow.com/users/9377078/hacen-selahy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "accepted_answer_id": 48853806, "answer_count": 1, "score": 1, "last_activity_date": 1518970582, "creation_date": 1518970271, "question_id": 48853749, "link": "https://stackoverflow.com/questions/48853749/accidental-override-kotlin", "title": "Accidental override kotlin", "body": "<p>I have this class</p>\n\n<pre><code>open class BaseActivity : AppCompatActivity() {\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_base)\n  }\n}\n</code></pre>\n\n<p>being superclass of this</p>\n\n<pre><code>class MainActivity : BaseActivity() {\n\n  protected fun onCreate(savedInstanceState: Bundle) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n  }\n}\n</code></pre>\n\n<p>and got an error: accidental override the declarations:\nprotected open onCreate() \nprotected final onCreate()</p>\n"}, {"tags": ["javascript", "jvm", "kotlin", "multiplatform"], "comments": [{"owner": {"reputation": 212, "user_id": 6225877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a8627fc24bf3926e37abc444e4cccb7?s=128&d=identicon&r=PG&f=1", "display_name": "P. Habzansky", "link": "https://stackoverflow.com/users/6225877/p-habzansky"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518961763, "post_id": 48852066, "comment_id": 84708086, "body": "@MarkoTopolnik doesn&#39;t work, throws message &quot;Could not find method multiplatform() for arguments [enable] on object of type org.jetbrains.kotlin.gradle.dsl.ExperimentalExtension.&quot;"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518962628, "post_id": 48852066, "comment_id": 84708370, "body": "It was a shot in the dark, anyway, by analogy to enabling experimental coroutines."}, {"owner": {"reputation": 212, "user_id": 6225877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a8627fc24bf3926e37abc444e4cccb7?s=128&d=identicon&r=PG&f=1", "display_name": "P. Habzansky", "link": "https://stackoverflow.com/users/6225877/p-habzansky"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518964852, "post_id": 48852066, "comment_id": 84709107, "body": "@MarkoTopolnik I know, I saw it too, it would probably make the most sense"}], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1519129011, "post_id": 48863363, "comment_id": 84774727, "body": "The IDE should have added it automatically when you create a multiplatform project... perhaps raise an issue at YouTrack?"}, {"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 0, "creation_date": 1541065738, "post_id": 48863363, "comment_id": 93093221, "body": "This helped me, but I also had to change &quot;use project settings&quot; to true. See here: <a href=\"https://stackoverflow.com/questions/48852066/kotlin-multi-platform-feature\" title=\"kotlin multi platform feature\">stackoverflow.com/questions/48852066/&hellip;</a>"}, {"owner": {"reputation": 13065, "user_id": 794365, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c31788075acf2801187ed1c25bd797a2?s=128&d=identicon&r=PG", "display_name": "ademar111190", "link": "https://stackoverflow.com/users/794365/ademar111190"}, "edited": false, "score": 0, "creation_date": 1579020684, "post_id": 48863363, "comment_id": 105625410, "body": "on AS I don&#39;t have this option, I&#39;d add the option by gradle."}], "tags": [], "owner": {"reputation": 212, "user_id": 6225877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a8627fc24bf3926e37abc444e4cccb7?s=128&d=identicon&r=PG&f=1", "display_name": "P. Habzansky", "link": "https://stackoverflow.com/users/6225877/p-habzansky"}, "is_accepted": true, "score": 12, "last_activity_date": 1535463361, "last_edit_date": 1535463361, "creation_date": 1519033712, "answer_id": 48863363, "question_id": 48852066, "link": "https://stackoverflow.com/questions/48852066/kotlin-multi-platform-feature/48863363#48863363", "title": "Kotlin - Multi platform feature", "body": "<p>Finally found an answer. In Intellij in <em>Preferences->Build, Execution, Deployment->Compiler->Kotlin Compiler</em> append to <em>Additional command line parameters:</em> field command <em>-Xmulti-platform</em>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UKhUS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UKhUS.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 212, "user_id": 6225877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a8627fc24bf3926e37abc444e4cccb7?s=128&d=identicon&r=PG&f=1", "display_name": "P. Habzansky", "link": "https://stackoverflow.com/users/6225877/p-habzansky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2247, "favorite_count": 0, "accepted_answer_id": 48863363, "answer_count": 1, "score": 4, "last_activity_date": 1555355073, "creation_date": 1518959536, "question_id": 48852066, "link": "https://stackoverflow.com/questions/48852066/kotlin-multi-platform-feature", "title": "Kotlin - Multi platform feature", "body": "<p>I'm currently playing around with Kotlin multi platform feature and have a minor problem. When I start gradle multi-platform project in Intellij and use keywords 'actual' and 'expect', they are underlined in red and show message \"The feature \"multi platform projects\" is experimental and should be enabled explicitly\"</p>\n\n<p>How can I explicitly enable multi platform feature?\nThanks</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1518953373, "post_id": 48851122, "comment_id": 84705658, "body": "Why don&#39;t you just use <code>&lt; 0</code> or <code>&gt; 0</code>?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1518954862, "post_id": 48851122, "comment_id": 84706063, "body": "@OliverCharlesworth what would <code>null &lt; 0</code> evaluate to?"}, {"owner": {"reputation": 1631, "user_id": 9130109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QgXr.jpg?s=128&g=1", "display_name": "EL TEGANI MOHAMED HAMAD GABIR", "link": "https://stackoverflow.com/users/9130109/el-tegani-mohamed-hamad-gabir"}, "edited": false, "score": 0, "creation_date": 1518954890, "post_id": 48851122, "comment_id": 84706076, "body": "see this <a href=\"https://stackoverflow.com/q/29223898/9130109\">stackoverflow.com/q/29223898/9130109</a>"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518955226, "post_id": 48851122, "comment_id": 84706202, "body": "@MarkoTopolnik - What does the OP <i>want</i> it to evaluate to?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1518955883, "post_id": 48851122, "comment_id": 84706399, "body": "@OliverCharlesworth Don&#39;t know, but I wonder how adding <code>&gt; 0</code> would work semantically with <code>null</code> values, since that&#39;s how I understood your suggestion."}, {"owner": {"reputation": 2475, "user_id": 5151608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh4.googleusercontent.com/-oYW8BasOUmM/AAAAAAAAAAI/AAAAAAAAAM0/iz3B5oRB6Hs/photo.jpg?sz=128", "display_name": "noobEinstien", "link": "https://stackoverflow.com/users/5151608/noobeinstien"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1518956220, "post_id": 48851122, "comment_id": 84706483, "body": "@OliverCharlesworth If it is <code>Int?</code> then there is a possibility of null, so we can&#39;t use <code>&lt; or &gt;</code> directly"}], "answers": [{"comments": [{"owner": {"reputation": 2475, "user_id": 5151608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh4.googleusercontent.com/-oYW8BasOUmM/AAAAAAAAAAI/AAAAAAAAAM0/iz3B5oRB6Hs/photo.jpg?sz=128", "display_name": "noobEinstien", "link": "https://stackoverflow.com/users/5151608/noobeinstien"}, "edited": false, "score": 0, "creation_date": 1518956550, "post_id": 48851420, "comment_id": 84706565, "body": "Thanks for the precious answer. Can you explain elvis operator do, it will help lot of others ."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 2475, "user_id": 5151608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh4.googleusercontent.com/-oYW8BasOUmM/AAAAAAAAAAI/AAAAAAAAAM0/iz3B5oRB6Hs/photo.jpg?sz=128", "display_name": "noobEinstien", "link": "https://stackoverflow.com/users/5151608/noobeinstien"}, "edited": false, "score": 0, "creation_date": 1518956641, "post_id": 48851420, "comment_id": 84706588, "body": "See this one <a href=\"https://stackoverflow.com/a/48254829/8073652\">stackoverflow.com/a/48254829/8073652</a>"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 2, "creation_date": 1518957361, "post_id": 48851420, "comment_id": 84706823, "body": "Though, when checking for empty lists using <code>isNotEmpty</code> is probably easier than comparing to 0"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1518983355, "post_id": 48851420, "comment_id": 84715189, "body": "That&#39;s probably true"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 9, "last_activity_date": 1518987394, "last_edit_date": 1518987394, "creation_date": 1518955317, "answer_id": 48851420, "question_id": 48851122, "link": "https://stackoverflow.com/questions/48851122/how-to-use-less-than-or-greater-than-in-kotlin/48851420#48851420", "title": "How to use less than &lt; or greater &gt; than in kotlin", "body": "<p>It\u2019s not possible to use <code>&gt;</code> on nullable types. If you consider <code>null</code> to map to the size <code>0</code>, i.e. empty size, you can do:</p>\n\n<pre><code>val isAnything = (this.mNewsCategories?.size? ?: 0) &gt; 0\n</code></pre>\n\n<p>While this will fix your problem, you should consider using <code>isNotEmpty</code> instead:</p>\n\n<pre><code>val isAnything = this.mNewsCategories?.isNotEmpty() ?: false\n</code></pre>\n\n<p>The Elvis Operator is explained <a href=\"https://stackoverflow.com/a/48254829/8073652\">here</a>.</p>\n"}], "owner": {"reputation": 2475, "user_id": 5151608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh4.googleusercontent.com/-oYW8BasOUmM/AAAAAAAAAAI/AAAAAAAAAM0/iz3B5oRB6Hs/photo.jpg?sz=128", "display_name": "noobEinstien", "link": "https://stackoverflow.com/users/5151608/noobeinstien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4086, "favorite_count": 1, "closed_date": 1519065632, "accepted_answer_id": 48851420, "answer_count": 1, "score": 5, "last_activity_date": 1601347601, "creation_date": 1518953274, "last_edit_date": 1601347601, "question_id": 48851122, "link": "https://stackoverflow.com/questions/48851122/how-to-use-less-than-or-greater-than-in-kotlin", "closed_reason": "Duplicate", "title": "How to use less than &lt; or greater &gt; than in kotlin", "body": "<p>How to use <strong>less than (&lt;)</strong> or <strong>greater than (>)</strong> operator in kotlin?</p>\n\n<p>I have checked <code>comparedTo(other: Int?)</code> function, but it only returns <code>Int?</code>. </p>\n\n<pre><code>class Adapter{\n     private var mNewsCategories: List&lt;NewsCategory&gt;? = null\n     //......\n     val isAnything=  this.mNewsCategories?.size?.compareTo(0))\n     //......\n }\n</code></pre>\n\n<p>The <code>val isAnything</code> returns another <code>Int?</code>. Actually, I need a <code>Boolean</code> variable.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 6, "last_activity_date": 1518952463, "last_edit_date": 1518952463, "creation_date": 1518951537, "answer_id": 48850886, "question_id": 48850860, "link": "https://stackoverflow.com/questions/48850860/looping-through-kotlin-x-times-but-not-using-the-index/48850886#48850886", "title": "Looping through Kotlin x times, but not using the index", "body": "<p>A <a href=\"https://kotlinlang.org/docs/reference/ranges.html\" rel=\"nofollow noreferrer\">range</a> is iterable.  So to loop exactly <code>x</code> times, something like this would work:</p>\n\n<pre><code>(0 until x).forEach {\n    // ...\n}\n</code></pre>\n\n<p>An even simpler approach is this:</p>\n\n<pre><code>repeat(x) {\n    // ...\n}\n</code></pre>\n\n<p>Note that in both cases, the index is still accessible via the implicit <code>it</code> lambda parameter.</p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "is_accepted": false, "score": -1, "last_activity_date": 1519058796, "last_edit_date": 1519058796, "creation_date": 1519030363, "answer_id": 48862386, "question_id": 48850860, "link": "https://stackoverflow.com/questions/48850860/looping-through-kotlin-x-times-but-not-using-the-index/48862386#48862386", "title": "Looping through Kotlin x times, but not using the index", "body": "<pre><code>repeat(10) { _ -&gt;\n  println(\"Hello, world!\")\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 48850886, "answer_count": 2, "score": 1, "last_activity_date": 1519058796, "creation_date": 1518951358, "question_id": 48850860, "link": "https://stackoverflow.com/questions/48850860/looping-through-kotlin-x-times-but-not-using-the-index", "title": "Looping through Kotlin x times, but not using the index", "body": "<p>I want to loop through x times.</p>\n\n<pre><code>    for (i in 0 until x - 1) {\n        // Do something.\n    }\n</code></pre>\n\n<p>But I don't need to use the <code>i</code>. Is there a way better way to write the for-loop, without need to set the <code>i</code>?</p>\n"}, {"tags": ["android", "kotlin", "android-photoview"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1518945919, "post_id": 48850076, "comment_id": 84703842, "body": "read carefully  <code>android.graphics.Matrix</code> API documentation - there are several <code>map*()</code> methods"}, {"owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1518946098, "post_id": 48850076, "comment_id": 84703877, "body": "@pskink thanks, it could be nice if you also could provide some example code with explanation"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1518946223, "post_id": 48850076, "comment_id": 84703905, "body": "simply use current display matrix: <a href=\"https://github.com/chrisbanes/PhotoView/blob/master/photoview/src/main/java/com/github/chrisbanes/photoview/PhotoView.java#L167\" rel=\"nofollow noreferrer\">getDisplayMatrix()</a> and try to play with <code>Matrix#map*()</code> methods"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1518947460, "post_id": 48850076, "comment_id": 84704173, "body": "for example make a custom <code>PhotoView</code> and override its <code>onDraw</code> method - call <code>super.onDraw</code> and then get current display matrix, call  <code>mapPoints</code> on float array <code>float[] pts = {200, 400}</code> and then call <code>canvas.drawCircle(pts[0], pts[1], 100, paint)</code> and see where circle is drawn"}, {"owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1518968896, "post_id": 48850076, "comment_id": 84710407, "body": "@pskink Thank you for your answer I will experiment in the next few days with it. Yes I got your point."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1518969261, "post_id": 48850076, "comment_id": 84710533, "body": "run <a href=\"https://pastebin.com/U7NHCFJs\" rel=\"nofollow noreferrer\">this</a> sample code, zoom in, scroll a bit and watch two red little dots"}, {"owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1519007696, "post_id": 48850076, "comment_id": 84721039, "body": "@pskink this code doesn&#39;t include scale calculation on current zoom factor. Because the dot should become bigger when we zoom in and smaller when we zoom out. Anyway appreciate your effort to help me out with this problem."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1519011289, "post_id": 48850076, "comment_id": 84721774, "body": "simply replace <code>20</code> with &quot;mapped radius&quot; in <code>canvas.drawCircle(mappedX, mappedY, 20, paint)</code>"}], "owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1519065716, "creation_date": 1518945366, "last_edit_date": 1519065716, "question_id": 48850076, "link": "https://stackoverflow.com/questions/48850076/photoview-calculate-appropriate-coordinates-of-pin-tile-view-depending-of-disp", "title": "PhotoView - calculate appropriate coordinates of pin-tile view depending of displayed matrix", "body": "<p>Let's assume I have some pin view which I want to render on top of <a href=\"https://github.com/chrisbanes/PhotoView\" rel=\"nofollow noreferrer\">PhotoView</a> according current scale and zoom (aka simplified TileView). </p>\n\n<p>PhotoView provide method setOnMatrixChangeListener when we zoom or scroll image it will trigger with displayed matrix parameter which is represented as RectF type.</p>\n\n<p>So my question is how properly calculate positioning and scale of pin view on top of PhotoView depending on current zoom and scroll?</p>\n\n<pre><code>photView.setOnMatrixChangeListener(object: OnMatrixChangedListener {\n   override fun onMatrixChanged(rect: RectF?) {\n    // calculation of new coordinates and scale here\n     ...\n    pinView.x = calculatedCoordinateX;\n    pinView.y = calculatedCoordinateY;\n    pinView.scale = calculatedScale;\n   }\n}) \n</code></pre>\n\n<p>Any material to study how to use such matrix for such calculation, positioning and scale?</p>\n\n<p>Appreciate if anyone can provide sample code how exactly to solve such problem.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1518944243, "post_id": 48849843, "comment_id": 84703494, "body": "use <a href=\"https://developer.android.com/topic/libraries/architecture/paging.html\" rel=\"nofollow noreferrer\">paging</a> support lib"}, {"owner": {"reputation": 473, "user_id": 5188125, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e510e714e25ae61b77279c4b2a20496?s=128&d=identicon&r=PG&f=1", "display_name": "Elias ", "link": "https://stackoverflow.com/users/5188125/elias"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1518956298, "post_id": 48849843, "comment_id": 84706502, "body": "@pskink But I want to separate business logic from view. I&#39;ve read a tutorial about the paging lib but I can&#39;t see how to fully seperate backend from view. Also how could the paging lib work with MVI (uni-directional  dataflow)?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1518956458, "post_id": 48849843, "comment_id": 84706538, "body": "see <code>PagedListAdapter</code> and <code>LivePagedListBuilder</code>"}, {"owner": {"reputation": 257, "user_id": 7648952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c812892634a33eb229c6f12cec4a091?s=128&d=identicon&r=PG&f=1", "display_name": "sbearben", "link": "https://stackoverflow.com/users/7648952/sbearben"}, "edited": false, "score": 0, "creation_date": 1541795648, "post_id": 48849843, "comment_id": 93352775, "body": "@Elias did you ever come up with a good solution for this?"}], "owner": {"reputation": 473, "user_id": 5188125, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e510e714e25ae61b77279c4b2a20496?s=128&d=identicon&r=PG&f=1", "display_name": "Elias ", "link": "https://stackoverflow.com/users/5188125/elias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1391, "favorite_count": 2, "answer_count": 0, "score": 10, "last_activity_date": 1518950500, "creation_date": 1518943208, "last_edit_date": 1518950500, "question_id": 48849843, "link": "https://stackoverflow.com/questions/48849843/android-repository-pattern-and-pagination", "title": "Android: Repository-Pattern and Pagination", "body": "<p>Recently, I've read about how important it is to have a Single-Source-Of-Truth (SSOT) when designing an app\u00b4s back-end (repository, not server-side-back-end). <a href=\"https://developer.android.com/topic/libraries/architecture/guide.html\" rel=\"noreferrer\">https://developer.android.com/topic/libraries/architecture/guide.html</a></p>\n\n<p>By developing a news-feed app (using the awesome <a href=\"https://newsapi.org/\" rel=\"noreferrer\">https://newsapi.org/</a>) I am trying to learn more about app architecture. However, I am unsure of how to implement paging. By the way,.: I am using MVVM for my presentation layer. The View subscribes to the ViewModel\u00b4s LiveData. The ViewModel subscribes to RxJava streams.</p>\n\n<p>I came up with the following approach:</p>\n\n<pre><code>interface NewsFeedRepository {\n        fun getNewsFeed(): Observable&lt;List&lt;Article&gt;&gt;\n        fun refreshFeed(): Completable\n        fun loadMore(): Completable\n}\n</code></pre>\n\n<p>The ViewModel subscribes to the <code>getNewsFeed()</code> Observable which emits data every time the underlying data in the database (SSOT) changes. However, my question is regarding the <code>loadMore()</code> method.\nThis method attempts to load more articles from the API and on success insert them into the local database. This causes <code>getNewsFeed()</code> to emit the new feed data.</p>\n\n<p>My questions:</p>\n\n<p><strong>1.</strong> Should the repository be responsible for syncing API and local database data? Or should the repository use some \"low-level\" API that manages syncing network/local data?</p>\n\n<p><strong>2.</strong> The method <code>loadMore</code> returns a <code>Completable</code> which might seem weird/misleading. Are there better ways to indicate paging in the repository interface?</p>\n\n<p><strong>3.</strong> Paging means storing a current page count and use it when requesting data from the API. Where should the current page count be stored? In the repository? Or in some \"lower-level\" component that is being used by the repository?</p>\n\n<pre><code>interface SearchArticleRepository {\n    fun searchArticles(sources: List&lt;NewsSource&gt;? = null, query: String? = null): Flowable&lt;List&lt;Article&gt;&gt;\n    fun moreArticles(): Completable  \n}\n</code></pre>\n\n<p>This repository is used to search articles. The method <code>moreArticles()</code> attempts to load more articles from the API depending on the last call to <code>searchArticles(...)</code>. For example: The ViewModel calls <code>repo.searchArticles(q = \"bitcoin\")</code>. A call to <code>repo.moreArticles()</code> attempts to load more articles that contain the query string <code>\"bitcoin\"</code> from the API and sync with the local database.</p>\n\n<p>Again my questions:</p>\n\n<p><strong>1.</strong> Is it OK to store information about the last request (<code>searchArticles(request)</code> in the repository? I could also think of passing the request parameters in <code>moreArticles()</code> too, e.g. <code>moreArticles(sources: List&lt;NewsSource&gt;? = null, query: String? = null)</code>. This way the repository doesn't have to store information about the last request.</p>\n\n<p><strong>2.</strong> Again, returning a <code>Completable</code> in <code>moreArticles()</code> might seem weird. Is this OK, or are there better ways?</p>\n"}]