[{"tags": ["android-studio", "kotlin", "kdoc"], "answers": [{"tags": [], "owner": {"reputation": 1702, "user_id": 12867493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9T6C.png?s=128&g=1", "display_name": "Xnero", "link": "https://stackoverflow.com/users/12867493/xnero"}, "is_accepted": true, "score": 2, "last_activity_date": 1541030033, "creation_date": 1541030033, "answer_id": 53093446, "question_id": 53093417, "link": "https://stackoverflow.com/questions/53093417/using-link-with-aliases-in-kdoc/53093446#53093446", "title": "Using @link with aliases in kDoc", "body": "<p><code>@link</code> doesn't exist in kDoc but can easily be replaced by <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html#inline-markup\" rel=\"nofollow noreferrer\">Inline Markup</a>.</p>\n\n<p>from KotlinDoc <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html#linking-to-elements\" rel=\"nofollow noreferrer\">Linking to Elements</a></p>\n\n<blockquote>\n  <p><strong>Inline Markup</strong></p>\n  \n  <p>For inline markup, KDoc uses the regular <a href=\"https://daringfireball.net/projects/markdown/syntax\" rel=\"nofollow noreferrer\">Markdown</a> syntax, extended to\n  support a shorthand syntax for linking to other elements in the code.</p>\n  \n  <p><strong>Linking to Elements</strong></p>\n  \n  <p>To link to another element (class, method, property or parameter),\n  simply put its name in square brackets:</p>\n  \n  <p>Use the method <code>[foo]</code> for this purpose.</p>\n  \n  <p>If you want to specify a custom\n  label for the link, use the Markdown reference-style syntax:</p>\n  \n  <p>Use <code>[this method][foo]</code> for this purpose. You can also use qualified\n  names in the links. Note that, unlike JavaDoc, qualified names always\n  use the dot character to separate the components, even before a method\n  name:</p>\n  \n  <p>Use <code>[kotlin.reflect.KClass.properties]</code> to enumerate the properties of\n  the class. Names in links are resolved using the same rules as if the\n  name was used inside the element being documented. In particular, this\n  means that if you have imported a name into the current file, you\n  don't need to fully qualify it when you use it in a KDoc comment.</p>\n  \n  <p>Note that KDoc does not have any syntax for resolving overloaded\n  members in links. Since the Kotlin documentation generation tool puts\n  the documentation for all overloads of a function on the same page,\n  identifying a specific overloaded function is not required for the\n  link to work.</p>\n</blockquote>\n"}], "owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "accepted_answer_id": 53093446, "answer_count": 1, "score": 1, "last_activity_date": 1541030033, "creation_date": 1541029744, "question_id": 53093417, "link": "https://stackoverflow.com/questions/53093417/using-link-with-aliases-in-kdoc", "title": "Using @link with aliases in kDoc", "body": "<p>In Java documentation I can do the following:</p>\n\n<pre><code>/**\n*  {@link FancyComp mFancy} is a variable that you need\n*/\n</code></pre>\n\n<p>How do I do this in Kotlin doc for the same result of course?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-storage"], "comments": [{"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1541028843, "post_id": 53093301, "comment_id": 93083392, "body": "I have searched on google and stack overflow but didn&#39;t find answer."}], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 1, "creation_date": 1541030717, "post_id": 53093346, "comment_id": 93083799, "body": "I have tried this code but it gets &quot;mounted&quot; even I have removed SdCard."}], "tags": [], "owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "is_accepted": false, "score": 0, "last_activity_date": 1541029050, "creation_date": 1541029050, "answer_id": 53093346, "question_id": 53093301, "link": "https://stackoverflow.com/questions/53093301/how-to-get-sdcard-path-in-android/53093346#53093346", "title": "How to get SdCard path in android?", "body": "<p>For getting path you need to call <code>Environment.getExternalStorageState()</code></p>\n"}, {"comments": [{"owner": {"reputation": 901, "user_id": 2474581, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4jZ67.jpg?s=128&g=1", "display_name": "Jomme", "link": "https://stackoverflow.com/users/2474581/jomme"}, "edited": false, "score": 0, "creation_date": 1583245365, "post_id": 53094028, "comment_id": 107045769, "body": "All above &#39;//return result;&#39; won&#39;t do much.;) You can make it simple by just using return paths.get(0)"}], "tags": [], "owner": {"reputation": 2426, "user_id": 6003394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Nm6mq.png?s=128&g=1", "display_name": "aolphn", "link": "https://stackoverflow.com/users/6003394/aolphn"}, "is_accepted": false, "score": 1, "last_activity_date": 1541035433, "creation_date": 1541035433, "answer_id": 53094028, "question_id": 53093301, "link": "https://stackoverflow.com/questions/53093301/how-to-get-sdcard-path-in-android/53094028#53094028", "title": "How to get SdCard path in android?", "body": "<p>For getting sdcard path,try following code:</p>\n\n<pre><code>public static String getExternalSDCardRootDirectory() {\n\n\n    String cmdMOUNT = \"cat /proc/mounts\";\n    Runtime run = Runtime.getRuntime();\n    List&lt;String&gt; paths = new ArrayList&lt;&gt;();\n    try {\n        Process p = run.exec(cmdMOUNT);\n        BufferedInputStream in = new BufferedInputStream(p.getInputStream());\n        BufferedReader inBr = new BufferedReader(new InputStreamReader(in));\n\n        String lineStr;\n        while ((lineStr = inBr.readLine()) != null) {\n            Log.d(TAG, lineStr);\n            if (lineStr.toLowerCase().contains(\"sdcard\") || lineStr.toLowerCase().contains(\"ext\") ) {\n                String[] strArray = lineStr.split(\" \");\n                if (strArray.length &gt;= 3 &amp;&amp;\n                        (!strArray[1].contains(\"/system\") &amp;&amp; \n                        !strArray[1].contains(\"/data\") &amp;&amp;\n                        !strArray[1].contains(\"/cache\") &amp;&amp;\n                        !strArray[1].contains(\"/persist\") \n                        )) {\n\n                    String result = strArray[1].trim();\n\n                    if((result.contains(\"ext\") || result.contains(\"1\")) &amp;&amp; result.contains(\"storage\")) {\n                        paths.add(result);\n                    }\n                    //return result;\n                }\n            }\n            if (p.waitFor() != 0 &amp;&amp; p.exitValue() == 1) {\n                Log.e(TAG, \"check mount info failed\");\n                return null;\n            }\n        }\n        inBr.close();\n        in.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n\n    if (paths.size() &gt; 0) {\n        return paths.get(0);\n    }\n    else {\n        return null;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 275, "user_id": 8073426, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/viInL.jpg?s=128&g=1", "display_name": "PartTimeNerd", "link": "https://stackoverflow.com/users/8073426/parttimenerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1541036824, "creation_date": 1541036824, "answer_id": 53094164, "question_id": 53093301, "link": "https://stackoverflow.com/questions/53093301/how-to-get-sdcard-path-in-android/53094164#53094164", "title": "How to get SdCard path in android?", "body": "<p>I've found an <a href=\"https://stackoverflow.com/questions/11281010/how-can-i-get-external-sd-card-path-for-android-4-0]\">existing post</a>.</p>\n\n<p>Simply change it to...</p>\n\n<pre><code>public static HashSet&lt;String&gt; getExternalMounts() {\nfinal HashSet&lt;String&gt; out = new HashSet&lt;String&gt;();\nString reg = \"(?i).*vold.*(vfat|ntfs|exfat|fat32|ext3|ext4).*rw.*\";\nString s = \"\";\ntry {\n    final Process process = new ProcessBuilder().command(\"mount\")\n            .redirectErrorStream(true).start();\n    process.waitFor();\n    final InputStream is = process.getInputStream();\n    final byte[] buffer = new byte[1024];\n    while (is.read(buffer) != -1) {\n        s = s + new String(buffer);\n    }\n    is.close();\n} catch (final Exception e) {\n    e.printStackTrace();\n}\n\n// parse output\nfinal String[] lines = s.split(\"\\n\");\nfor (String line : lines) {\n    if (!line.toLowerCase(Locale.US).contains(\"asec\")) {\n        if (line.matches(reg)) {\n            String[] parts = line.split(\" \");\n            for (String part : parts) {\n                if (part.startsWith(\"/\"))\n                    if (!part.toLowerCase(Locale.US).contains(\"vold\"))\n                        out.add(part);\n            }\n        }\n    }\n}\nreturn out;\n}\n</code></pre>\n\n<p>The tested solution on different platforms can be found <a href=\"https://stackoverflow.com/questions/5694933/find-an-external-sd-card-location\">here</a>.</p>\n"}], "owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2516, "favorite_count": 2, "closed_date": 1541096507, "answer_count": 3, "score": 2, "last_activity_date": 1541061775, "creation_date": 1541028726, "last_edit_date": 1541061775, "question_id": 53093301, "link": "https://stackoverflow.com/questions/53093301/how-to-get-sdcard-path-in-android", "closed_reason": "Duplicate", "title": "How to get SdCard path in android?", "body": "<p>I need SdCard path to save files in it. I have tried some codes but these code didn't work on some devices or Android versions. Now I need a code/path that get SdCard path for all device and all Android versions.</p>\n"}, {"tags": ["kotlin", "kotlintest"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5734605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45246cb5ada65ea91e359b7406ff29d5?s=128&d=identicon&r=PG&f=1", "display_name": "aby", "link": "https://stackoverflow.com/users/5734605/aby"}, "edited": false, "score": 0, "creation_date": 1547593220, "post_id": 53110128, "comment_id": 95242824, "body": "Where exactly to create this package - io.kotlintest.provided in root or under src ?"}, {"owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "reply_to_user": {"reputation": 85, "user_id": 5734605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45246cb5ada65ea91e359b7406ff29d5?s=128&d=identicon&r=PG&f=1", "display_name": "aby", "link": "https://stackoverflow.com/users/5734605/aby"}, "edited": false, "score": 0, "creation_date": 1547685305, "post_id": 53110128, "comment_id": 95280768, "body": "src/test is fine yes"}, {"owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "edited": false, "score": 0, "creation_date": 1562241264, "post_id": 53110128, "comment_id": 100321697, "body": "how to inject the datasource into ProjectConfig beforeProject?"}], "tags": [], "owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "is_accepted": true, "score": 0, "last_activity_date": 1541110471, "creation_date": 1541110471, "answer_id": 53110128, "question_id": 53092761, "link": "https://stackoverflow.com/questions/53092761/how-to-use-beforeproject-in-kotlintest/53110128#53110128", "title": "How to use beforeProject in kotlintest?", "body": "<p><code>beforeProject</code> has to run before any tests are discovered, otherwise it's not really before the <em>project</em> but would kind of be \"before any tests have executed\" (The difference might not be important in your use class, but KotlinTest mantains the distinction). </p>\n\n<p>Therefore overriding that method in a listener that's added to a test class doesn't do anything (as you have seen).</p>\n\n<p>So instead you need to add your listener to <code>ProjectConfig</code> which is project wide configuration. You do this by subclassing <code>AbstractProjectConfig</code> and putting it in a special package name, like this:</p>\n\n<p>package io.kotlintest.provided</p>\n\n<pre><code>object ProjectConfig : AbstractProjectConfig() {\n  // add listeners here\n}\n</code></pre>\n\n<p>See full docs here:\n<a href=\"https://github.com/kotlintest/kotlintest/blob/master/doc/reference.md#project-config\" rel=\"nofollow noreferrer\">https://github.com/kotlintest/kotlintest/blob/master/doc/reference.md#project-config</a></p>\n"}], "owner": {"reputation": 7138, "user_id": 692422, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4b93f5d101d4e8b14ca950ed530e0148?s=128&d=identicon&r=PG", "display_name": "alisabzevari", "link": "https://stackoverflow.com/users/692422/alisabzevari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 53110128, "answer_count": 1, "score": 1, "last_activity_date": 1541110471, "creation_date": 1541024514, "question_id": 53092761, "link": "https://stackoverflow.com/questions/53092761/how-to-use-beforeproject-in-kotlintest", "title": "How to use beforeProject in kotlintest?", "body": "<p>I've implemented a <code>TestListener</code> as follows:</p>\n\n<pre><code>object IntegrationTest: TestListener {\n    override fun beforeProject() {\n        println(\"integration tests - beforeProject\")\n    }\n\n    override fun beforeSpec(description: Description, spec: Spec) {\n        println(\"integration tests - beforeSpec\")\n    }\n}\n</code></pre>\n\n<p>And used it in a test:</p>\n\n<pre><code>class SimpleTest: StringSpec() {\n\n    override fun listeners() = listOf(IntegrationTest)\n\n    init {\n        \"it - 1\" {\n            println(\"it - 1\")\n        }\n\n        \"it - 2\" {\n            println(\"it - 2\")\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that <code>integration tests - beforeProject</code> is never printed in the output.</p>\n\n<p>The result is:</p>\n\n<pre><code>integration tests - beforeSpec\nit - 1\nit - 2\n</code></pre>\n\n<p>I tried it in intellij and using gradle CLI. Am I missing something?</p>\n"}, {"tags": ["generics", "kotlin", "operator-overloading"], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 23, "user_id": 7048129, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MZBWsXsqEJM/AAAAAAAAAAI/AAAAAAAAACQ/vQoQG7CPy9s/photo.jpg?sz=128", "display_name": "Ahmed hamuda", "link": "https://stackoverflow.com/users/7048129/ahmed-hamuda"}, "edited": false, "score": 0, "creation_date": 1541141121, "post_id": 53094136, "comment_id": 93122185, "body": "@MrAhmed if it is working fine, please accept answer to signal that fact to others who might read this."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 2, "last_activity_date": 1541036501, "creation_date": 1541036501, "answer_id": 53094136, "question_id": 53092563, "link": "https://stackoverflow.com/questions/53092563/kotlin-generics-and-operator-overloading/53094136#53094136", "title": "kotlin generics and operator overloading", "body": "<p>First you have a syntax error in your declaration of the extension function.  Second, a <code>Number</code> does not automatically define the ability to plus <code>+</code> another number.  So that creates an issue with using <code>Number</code> as the generic base type.  You'll need to, unfortunately, create all permutations that you wish to make valid for all numeric types.</p>\n\n<p>Breaking it down...</p>\n\n\n\n<pre><code>operator &lt;T: Number&gt; fun Int.plus(p:TestGen&lt;T&gt;) = TestGen(this+p.x,p.y)\n</code></pre>\n\n<p>is invalid syntax.  The following is more correct, but still won't compile for the reason of \"no plus method exists on class <code>Number</code>\":</p>\n\n<pre><code>operator fun &lt;T: Number&gt; Int.plus(p:TestGen&lt;T&gt;) = TestGen(this+p.x,p.y)\n</code></pre>\n\n<p>So to fix it you really need instead is to drop the generic parameter for the function and be specific about each type you are supporting:</p>\n\n<pre><code>@JvmName(\"IntPlusTestGenWithInt\")\noperator  fun Int.plus(p:TestGen&lt;Int&gt;) = TestGen(this+p.x,p.y)\n@JvmName(\"IntPlusTestGenWithLong\")\noperator  fun Int.plus(p:TestGen&lt;Long&gt;) = TestGen(this+p.x,p.y)\n@JvmName(\"IntPlusTestGenWithDouble\")\noperator  fun Int.plus(p:TestGen&lt;Double&gt;) = TestGen(this+p.x,p.y)\n@JvmName(\"IntPlusTestGenWithFloat\")\noperator  fun Int.plus(p:TestGen&lt;Float&gt;) = TestGen(this+p.x,p.y)\n// etc\n</code></pre>\n\n<p>The <code>JvmName</code> annotation is required because you are creating extension methods that only differ by a generic parameter, which the JVM erases. So internally the bytecode generated by Kotlin must differentiate each extension method by name, even if you won't see that from the Kotlin code.  </p>\n\n<p>You'll need similar variations of the functions for all types you are adding from and to.  And you should consider what you are doing with parts of the numbers that don't make sense anymore, for example, the decimal part of a <code>Double</code> added to an <code>Int</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 7048129, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MZBWsXsqEJM/AAAAAAAAAAI/AAAAAAAAACQ/vQoQG7CPy9s/photo.jpg?sz=128", "display_name": "Ahmed hamuda", "link": "https://stackoverflow.com/users/7048129/ahmed-hamuda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "accepted_answer_id": 53094136, "answer_count": 1, "score": 2, "last_activity_date": 1541036501, "creation_date": 1541023308, "question_id": 53092563, "link": "https://stackoverflow.com/questions/53092563/kotlin-generics-and-operator-overloading", "title": "kotlin generics and operator overloading", "body": "<p>I want to do some thing like this</p>\n\n<pre><code>data class TestGen&lt;T: Number&gt;(var x : T, var y : T)\n\npublic operator&lt;T:Number&gt; fun Int.plus(p:TestGen&lt;T&gt;) = TestGen(this+p.x,p.y)\n</code></pre>\n\n<p>so how i can do it? or any other idea to do the same thing?\nbecouse i want to do some thing like this</p>\n\n<pre><code>public operator fun Int.plus(p:TestGen&lt;Float&gt;) = TestGen(this+p.x,p.y)\npublic operator fun Int.plus(p:TestGen&lt;Double&gt;) = TestGen(this+p.x,p.y)\n</code></pre>\n"}, {"tags": ["android", "database", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 6416, "user_id": 1678729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/010a66a94e6d6798fc5b98c07337a4ff?s=128&d=identicon&r=PG", "display_name": "Danail Alexiev", "link": "https://stackoverflow.com/users/1678729/danail-alexiev"}, "edited": false, "score": 0, "creation_date": 1541023888, "post_id": 53092420, "comment_id": 93082009, "body": "Have you looked at the actual code that was generated by Room for your DAO?"}, {"owner": {"reputation": 19, "user_id": 5521932, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/2Leem.jpg?s=128&g=1", "display_name": "Danny Damsky", "link": "https://stackoverflow.com/users/5521932/danny-damsky"}, "reply_to_user": {"reputation": 6416, "user_id": 1678729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/010a66a94e6d6798fc5b98c07337a4ff?s=128&d=identicon&r=PG", "display_name": "Danail Alexiev", "link": "https://stackoverflow.com/users/1678729/danail-alexiev"}, "edited": false, "score": 0, "creation_date": 1541024523, "post_id": 53092420, "comment_id": 93082207, "body": "Yes and I haven&#39;t found anything wrong with it. Here&#39;s the query for the insert function: &quot;INSERT OR IGNORE INTO <code>SONGS_PLAYLISTS_LINKS</code>(<code>SONGS_PLAYLISTS_LINK_SONG_ID</code>,<code>SONGS_PLA&zwnj;&#8203;YLISTS_LINK_PLAYLIST&zwnj;&#8203;_ID</code>) VALUES (?,?)&quot;"}, {"owner": {"reputation": 6416, "user_id": 1678729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/010a66a94e6d6798fc5b98c07337a4ff?s=128&d=identicon&r=PG", "display_name": "Danail Alexiev", "link": "https://stackoverflow.com/users/1678729/danail-alexiev"}, "edited": false, "score": 0, "creation_date": 1541057802, "post_id": 53092420, "comment_id": 93089967, "body": "So, if there is an SQL error, it will get ignored. Try using <code>OnConflictStrategy.FAIL</code> and see if the error will get propagated. Also, you can try and debug to see what happens during the execution of this call."}, {"owner": {"reputation": 19, "user_id": 5521932, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/2Leem.jpg?s=128&g=1", "display_name": "Danny Damsky", "link": "https://stackoverflow.com/users/5521932/danny-damsky"}, "reply_to_user": {"reputation": 6416, "user_id": 1678729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/010a66a94e6d6798fc5b98c07337a4ff?s=128&d=identicon&r=PG", "display_name": "Danail Alexiev", "link": "https://stackoverflow.com/users/1678729/danail-alexiev"}, "edited": false, "score": 0, "creation_date": 1541067084, "post_id": 53092420, "comment_id": 93093875, "body": "I tried using FAIL and still nothing. I tried debugging but as I said, the code executes but nothing happens."}], "answers": [{"comments": [{"owner": {"reputation": 6416, "user_id": 1678729, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/010a66a94e6d6798fc5b98c07337a4ff?s=128&d=identicon&r=PG", "display_name": "Danail Alexiev", "link": "https://stackoverflow.com/users/1678729/danail-alexiev"}, "edited": false, "score": 0, "creation_date": 1541412616, "post_id": 53117933, "comment_id": 93194768, "body": "Did you call <code>setTransactionSuccessful()</code> before calling <code>endTransaction()</code>? If you didn&#39;t to it, then your transaction will be rolled back and all changes are going to be reverted. There is convenience method <code>RoomDatabase.runInTransaction(Runnable)</code> that can be used to run something as a transaction. You can check it&#39;s source code to see how to correctly use transactions in Room."}], "tags": [], "owner": {"reputation": 19, "user_id": 5521932, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/2Leem.jpg?s=128&g=1", "display_name": "Danny Damsky", "link": "https://stackoverflow.com/users/5521932/danny-damsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1541158839, "creation_date": 1541158839, "answer_id": 53117933, "question_id": 53092420, "link": "https://stackoverflow.com/questions/53092420/android-room-insert-to-join-table-doesnt-work/53117933#53117933", "title": "Android Room Insert To Join Table Doesn&#39;t Work", "body": "<p>Looks like running db.beginTransaction() and db.endTransaction() before and after the insert statements respectively doesn't work all that well. Removing it fixed it for me.</p>\n"}], "owner": {"reputation": 19, "user_id": 5521932, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/2Leem.jpg?s=128&g=1", "display_name": "Danny Damsky", "link": "https://stackoverflow.com/users/5521932/danny-damsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541158839, "creation_date": 1541022476, "question_id": 53092420, "link": "https://stackoverflow.com/questions/53092420/android-room-insert-to-join-table-doesnt-work", "title": "Android Room Insert To Join Table Doesn&#39;t Work", "body": "<p>I've been looking around and couldn't find any explanation why this was happening.\nI've tried opening my db file in apps like sqliteman and running \"INSERT INTO\" queries myself and it works just fine that way. Yet, whatever Room does doesn't seem to be working, it doesn't crash or anything, it just doesn't insert anything.</p>\n\n<p>So basically I have 2 tables connected in a m-n relation via a join table:</p>\n\n<p>1) Song table</p>\n\n<pre><code>@Entity(tableName = RoomDbConstants.TABLE_NAME_SONGS,\n    foreignKeys = [ForeignKey(entity = Album::class,\n            parentColumns = [RoomDbConstants.COLUMN_ALBUM_ARTIST_NAME, RoomDbConstants.COLUMN_ALBUM_NAME],\n            childColumns = [RoomDbConstants.COLUMN_SONG_ARTIST_NAME, RoomDbConstants.COLUMN_SONG_ALBUM_NAME],\n            onDelete = ForeignKey.CASCADE),\n        ForeignKey(entity = Genre::class,\n                parentColumns = [RoomDbConstants.COLUMN_GENRE_NAME],\n                childColumns = [RoomDbConstants.COLUMN_SONG_GENRE_NAME],\n                onDelete = ForeignKey.CASCADE)])\ndata class Song(\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_ID)\n    val id: Long?,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_DATA)\n    val songData: String,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_NAME)\n    val name: String,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_ALBUM_NAME)\n    val albumName: String,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_ARTIST_NAME)\n    val artistName: String,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_GENRE_NAME)\n    val genreName: String,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_TRACK_NUMBER)\n    val trackNumber: Int = RoomDbConstants.TRACK_NUMBER_DEFAULT,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_YEAR_PUBLISHED)\n    val yearPublished: Int = RoomDbConstants.YEAR_PUBLISHED_NONE,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_START_TIME_IN_MILLIS)\n    val startTimeInMillis: Int,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_END_TIME_IN_MILLIS)\n    val endTimeInMillis: Int,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_DURATION_IN_MILLIS)\n    val durationInMillis: Int,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONG_COVER_DATA)\n    val coverData: String?)\n</code></pre>\n\n<p>2) Playlist table</p>\n\n<pre><code>@Entity(tableName = RoomDbConstants.TABLE_NAME_PLAYLISTS,\n    indices = [Index(value = [RoomDbConstants.COLUMN_PLAYLIST_NAME], unique = true)])\ndata class Playlist(\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = RoomDbConstants.COLUMN_PLAYLIST_ID)\n    val id: Long?,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_PLAYLIST_NAME)\n    val name: String,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_PLAYLIST_COVER_DATA)\n    val coverData: String?)\n</code></pre>\n\n<p>3) SongsPlaylistsLink (The table that connects between Songs and Playlists)</p>\n\n<pre><code>@Entity(tableName = RoomDbConstants.TABLE_NAME_SONGS_PLAYLISTS_LINKS,\n    primaryKeys = [RoomDbConstants.COLUMN_SONGS_PLAYLISTS_LINK_SONG_ID,\n        RoomDbConstants.COLUMN_SONGS_PLAYLISTS_LINK_PLAYLIST_ID],\n    foreignKeys = [ForeignKey(entity = Song::class,\n            parentColumns = [RoomDbConstants.COLUMN_SONG_ID],\n            childColumns = [RoomDbConstants.COLUMN_SONGS_PLAYLISTS_LINK_SONG_ID],\n            onDelete = ForeignKey.CASCADE),\n        ForeignKey(entity = Playlist::class,\n                parentColumns = [RoomDbConstants.COLUMN_PLAYLIST_ID],\n                childColumns = [RoomDbConstants.COLUMN_SONGS_PLAYLISTS_LINK_PLAYLIST_ID],\n                onDelete = ForeignKey.CASCADE)],\n    indices = [Index(value = [RoomDbConstants.COLUMN_SONGS_PLAYLISTS_LINK_SONG_ID,\n    RoomDbConstants.COLUMN_SONGS_PLAYLISTS_LINK_PLAYLIST_ID], unique = true)])\ndata class SongsPlaylistsLink(\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONGS_PLAYLISTS_LINK_SONG_ID)\n    val songId: Long,\n    @ColumnInfo(name = RoomDbConstants.COLUMN_SONGS_PLAYLISTS_LINK_PLAYLIST_ID)\n    val playlistId: Long)\n</code></pre>\n\n<p>Insert function:</p>\n\n<pre><code>@Insert\nfun insert(songsPlaylistsLink: SongsPlaylistsLink)\n</code></pre>\n\n<p>So here's what I tried to do:\nI already have songs and playlists in the database.\nSo let's say I have a song with an ID of 1 and a playlist with an ID of 1.\nWhen I do insert(SongsPlaylistsLink(1,1)) nothing happens.\nThe table is still empty.</p>\n\n<p>Any help on why this happens will be greatly appreciated!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541062159, "post_id": 53095315, "comment_id": 93091605, "body": "<code>viewPagerAtmosphericInfo</code> what is this"}, {"owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1541067529, "post_id": 53095315, "comment_id": 93094101, "body": "@TimCastelijns This is Viewpager"}, {"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541069044, "post_id": 53095315, "comment_id": 93094822, "body": "I don&#39;t understand how this is supposed to help me."}], "tags": [], "owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "is_accepted": false, "score": 0, "last_activity_date": 1541053337, "last_edit_date": 1541053337, "creation_date": 1541047456, "answer_id": 53095315, "question_id": 53092141, "link": "https://stackoverflow.com/questions/53092141/how-to-change-activity-title-when-switching-between-tabs-in-kotlin/53095315#53095315", "title": "How to change activity title when switching between tabs in Kotlin?", "body": "<pre><code>viewPagerAtmosphericInfo.addOnPageChangeListener(object: ViewPager.OnPageChangeListener{\noverride fun onPageScrollStateChanged(state: Int) {\n\n}\n\noverride fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {\n\n}\n\noverride fun onPageSelected(position: Int) {\n   // code here\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541068038, "post_id": 53095437, "comment_id": 93094318, "body": "Your solution does not work for me, when I switch between tabs, the activity title changes inconsistently. Sometimes there appears a title that belongs to the next tab."}, {"owner": {"reputation": 4960, "user_id": 5719935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eaDss.jpg?s=128&g=1", "display_name": "Uttam Panchasara", "link": "https://stackoverflow.com/users/5719935/uttam-panchasara"}, "reply_to_user": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541070246, "post_id": 53095437, "comment_id": 93095460, "body": "You have to set title on visibility of fragments"}, {"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541073151, "post_id": 53095437, "comment_id": 93096956, "body": "What do you mean by this? Can you explain?"}, {"owner": {"reputation": 4960, "user_id": 5719935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eaDss.jpg?s=128&g=1", "display_name": "Uttam Panchasara", "link": "https://stackoverflow.com/users/5719935/uttam-panchasara"}, "reply_to_user": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541073601, "post_id": 53095437, "comment_id": 93097156, "body": "In fragments, you can get visibility of fragments so in that check if fragment is visible then only set the title"}, {"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541075733, "post_id": 53095437, "comment_id": 93098177, "body": "I created <code>if</code> statement in onViewCreated method that checks if fragment is visible and now it shows consistently title of the next tab."}, {"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541077160, "post_id": 53095437, "comment_id": 93099013, "body": "Now app crashes with <code>lateinit property mActivity has not been initialized</code> error"}, {"owner": {"reputation": 4960, "user_id": 5719935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eaDss.jpg?s=128&g=1", "display_name": "Uttam Panchasara", "link": "https://stackoverflow.com/users/5719935/uttam-panchasara"}, "reply_to_user": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541083891, "post_id": 53095437, "comment_id": 93102704, "body": "saying that instance not initialized please initialize that"}, {"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541085416, "post_id": 53095437, "comment_id": 93103596, "body": "this time <code>kotlin.TypeCastException: null cannot be cast to non-null type com.androidtest.activities.MainActivity</code>"}, {"owner": {"reputation": 4960, "user_id": 5719935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eaDss.jpg?s=128&g=1", "display_name": "Uttam Panchasara", "link": "https://stackoverflow.com/users/5719935/uttam-panchasara"}, "reply_to_user": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541086205, "post_id": 53095437, "comment_id": 93104042, "body": "Man it&#39;s basic error that you have solve by yourself"}], "tags": [], "owner": {"reputation": 4960, "user_id": 5719935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eaDss.jpg?s=128&g=1", "display_name": "Uttam Panchasara", "link": "https://stackoverflow.com/users/5719935/uttam-panchasara"}, "is_accepted": false, "score": 0, "last_activity_date": 1541076604, "last_edit_date": 1541076604, "creation_date": 1541048482, "answer_id": 53095437, "question_id": 53092141, "link": "https://stackoverflow.com/questions/53092141/how-to-change-activity-title-when-switching-between-tabs-in-kotlin/53095437#53095437", "title": "How to change activity title when switching between tabs in Kotlin?", "body": "<p>If you want to set the title of your activity with tabs, You have to set the  title of activity(s) actionbar which you can set from fragment by using activity instance.</p>\n\n<p>Example : </p>\n\n<pre><code>//initialize activity instance\nlateinit var mActivity: AppCompatActivity\n\n//get activity inside your onViewCreated of fragment\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    mActivity = activity as MainActivity\n\n}\n\n// inside your fragment\noverride fun setUserVisibleHint(isVisibleToUser: Boolean) {\n    super.setUserVisibleHint(isVisibleToUser)\n    if(isVisibleToUser){\n        //change your title from here, make sure that activity is not null\n        mActivity.supportActionBar?.title = \"Your Title\"\n    }\n}\n</code></pre>\n\n<p>Let me now if you have any query! :)</p>\n"}, {"comments": [{"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541068843, "post_id": 53098542, "comment_id": 93094714, "body": "I&#39;m sorry if my explanation wasn&#39;t clear, I tried to do my best. I have added example of my tab class. I hope my problem will be understandable now."}, {"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541075278, "post_id": 53098542, "comment_id": 93097956, "body": "Your solution doesn&#39;t work. I did everything as you advised. What can be the reason for that? Don&#39;t you think that there should be <code>return</code> before <code>when</code> in getPageTitle?"}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "reply_to_user": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541075607, "post_id": 53098542, "comment_id": 93098124, "body": "Yeah I miss the <code>return</code> keyword. Because your code is not fully so I can&#39;t reproduce the issue. I just give you steps how to do that."}, {"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541076570, "post_id": 53098542, "comment_id": 93098606, "body": "I copied everything except xmls. I noticed that getPageTitle method in TabPagerAdapter doesn&#39;t work for me at all. Omitting fragments, even if I make this method always returns one string, it doesn&#39;t change title of MainActivity."}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "reply_to_user": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541080828, "post_id": 53098542, "comment_id": 93101075, "body": "Ok can you please your xml layout files. I will reproduce and figure out root cause."}, {"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541085269, "post_id": 53098542, "comment_id": 93103513, "body": "I put xmls, there are two tabs, but their Kotlin class looks the same, I didn&#39;t copied it because it would be code doubling."}, {"owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541085964, "post_id": 53098542, "comment_id": 93103900, "body": "in styles.xml I added  &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;         &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;"}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "reply_to_user": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "edited": false, "score": 0, "creation_date": 1541086026, "post_id": 53098542, "comment_id": 93103941, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/182947/discussion-between-son-truong-and-prenc\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": true, "score": 0, "last_activity_date": 1541087296, "last_edit_date": 1541087296, "creation_date": 1541064955, "answer_id": 53098542, "question_id": 53092141, "link": "https://stackoverflow.com/questions/53092141/how-to-change-activity-title-when-switching-between-tabs-in-kotlin/53098542#53098542", "title": "How to change activity title when switching between tabs in Kotlin?", "body": "<p>As I understand when users swipe between tabs, you will set the tab's text as title of the activity. Here is a solution</p>\n\n<p>First remove all TabItem tags from <code>activity_main.xml</code> layout file because you are using TabLayout with ViewPager. The ViewPager will handle how to setup tab (number of tabs, fragment at each tab, title at each tab, etc).</p>\n\n<pre><code>&lt;android.support.design.widget.TabLayout\n        android:id=\"@+id/tabs\"\n        android:background=\"#ffffff\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:layout_weight=\"50\"\n        app:tabIndicatorHeight=\"3dp\"&gt;\n\n    &lt;!--&lt;android.support.design.widget.TabItem--&gt;\n            &lt;!--android:id=\"@+id/tab_profile\"--&gt;\n            &lt;!--android:layout_width=\"wrap_content\"--&gt;\n            &lt;!--android:layout_height=\"wrap_content\"--&gt;\n            &lt;!--android:text=\"1\"/&gt;--&gt;\n\n    &lt;!--&lt;android.support.design.widget.TabItem--&gt;\n            &lt;!--android:id=\"@+id/tab_notifications\"--&gt;\n            &lt;!--android:layout_width=\"wrap_content\"--&gt;\n            &lt;!--android:layout_height=\"wrap_content\"--&gt;\n            &lt;!--android:text=\"2\"/&gt;--&gt;\n\n&lt;/android.support.design.widget.TabLayout&gt;\n</code></pre>\n\n<p>Then change your code in <code>MainActivity</code></p>\n\n<pre><code>container.adapter = TabPagerAdapter(supportFragmentManager)\n// Comment-out or remove these lines\n// container.addOnPageChangeListener(TabLayout.TabLayoutOnPageChangeListener(tabs))\n// tabs.addOnTabSelectedListener(TabLayout.ViewPagerOnTabSelectedListener(container))\n\n// Pass viewpager to tablayout to setup tabs.\ntabs.setupWithViewPager(container)\n\n// Handle event when users swipe to a tab, here we set tab's text as title of the activity.\ntabs.addOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {\n    override fun onTabSelected(tab: TabLayout.Tab) {\n        title = tab.text // the value of tab's text is the returned value from `getPageTitle` method in TabPagerAdapter class.\n    }\n\n    override fun onTabUnselected(tab: TabLayout.Tab?) {\n    }\n\n    override fun onTabReselected(tab: TabLayout.Tab?) {\n    }\n})\n\n// For the first time open the app, we set first tab's title as title of this activity\ntitle = container.adapter!!.getPageTitle(0)\n</code></pre>\n"}], "owner": {"reputation": 142, "user_id": 7150332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7337c182e844bd8c257804424e0b4a1d?s=128&d=identicon&r=PG&f=1", "display_name": "prenc", "link": "https://stackoverflow.com/users/7150332/prenc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 0, "accepted_answer_id": 53098542, "answer_count": 3, "score": 0, "last_activity_date": 1541087296, "creation_date": 1541020948, "last_edit_date": 1541085085, "question_id": 53092141, "link": "https://stackoverflow.com/questions/53092141/how-to-change-activity-title-when-switching-between-tabs-in-kotlin", "title": "How to change activity title when switching between tabs in Kotlin?", "body": "<p>There are many answers to that question in Java language, but I can not apply it \nusing Kotlin.</p>\n\n<p>I use ViewPager to switch between tabs and I want MainActivity title to be changed every time when I swipe.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        setSupportActionBar(toolbar)\n\n        container.adapter = TabPagerAdapter(supportFragmentManager)    \n        container.addOnPageChangeListener(TabLayout.TabLayoutOnPageChangeListener(tabs))\n    tabs.addOnTabSelectedListener(TabLayout.ViewPagerOnTabSelectedListener(container))\n    }\n\n    override fun setTitle(title: CharSequence?) {\n        supportActionBar?.title = title\n    }\n}\n</code></pre>\n\n<p>I use \"kotlin-android-extensions\", so container is id of ViewPager and tabs is id of TabLayout. I also created class TabPagerAdapter that extends FragmentPagerAdapter. It returns correct tab, which is Fragment derivative, with getItem method. I tried to achieve my goal by overriding getPageTitle method but it doesn't work.</p>\n\n<pre><code>class TabPagerAdapter(fragmentManager: FragmentManager) : \nFragmentPagerAdapter(fragmentManager) {\n\n    override fun getItem(p0: Int): Fragment {\n        return when (p0) {\n            else -&gt; TestTab.newInstance()\n            }\n    }\n\n    override fun getPageTitle(position: Int): CharSequence? {\n        return \"test title\"\n    }\n\n    override fun getCount(): Int {\n        return 1\n    }\n}\n</code></pre>\n\n<p>My tab example:</p>\n\n<pre><code>class NotificationsTab : Fragment() {\n    private val _title = \"Notifications\"\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_notifications, container, false)\n    }\n\n    companion object {\n        fun newInstance(): NotificationsTab {\n            return NotificationsTab()\n        }\n    }\n}\n</code></pre>\n\n<p>I want variable <code>_title</code> to be the <code>MainActivity</code> title.<br>\nXMLs that I use:<br>\nactivity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:id=\"@+id/main_content\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fitsSystemWindows=\"true\"\n        tools:context=\"com.androidtest.activities.MainActivity\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n            android:id=\"@+id/appbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:layout_weight=\"63\"\n            app:elevation=\"0dp\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:layout_weight=\"50\"\n                android:background=\"#ffffff\"\n                app:layout_scrollFlags=\"scroll|enterAlways\"\n                app:title=\"@string/app_name\"&gt;\n\n        &lt;/android.support.v7.widget.Toolbar&gt;\n\n        &lt;android.support.design.widget.TabLayout\n                android:id=\"@+id/tabs\"\n                android:background=\"#ffffff\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:layout_weight=\"50\"\n                app:tabIndicatorColor=\"@color/tabIndicatorColor\"\n                app:tabIndicatorHeight=\"3dp\"&gt;\n\n            &lt;android.support.design.widget.TabItem\n                    android:id=\"@+id/tab_profile\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"1\"/&gt;\n\n            &lt;android.support.design.widget.TabItem\n                    android:id=\"@+id/tab_notifications\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"2\"/&gt;\n\n        &lt;/android.support.design.widget.TabLayout&gt;\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v4.view.ViewPager\n            android:id=\"@+id/container\"\n            android:layout_weight=\"390\"\n            android:background=\"#ffffff\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>fragment_notifications.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:text=\"notifications\"\n            android:layout_gravity=\"center\"\n            android:textAlignment=\"center\"\n            android:textSize=\"56sp\"\n            android:layout_height=\"wrap_content\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1541019213, "post_id": 53091608, "comment_id": 93080392, "body": "You may have another dependency that depends on an older version of the coroutines library."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1541020740, "post_id": 53091608, "comment_id": 93080959, "body": "Please make sure that you have the version 1.3.0 of the Kotlin plugin in your IDE."}, {"owner": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "edited": false, "score": 0, "creation_date": 1541021419, "post_id": 53091608, "comment_id": 93081215, "body": "yes, AS Tools&gt;Kotlin&gt;Configure Kotlin Plugin Update has Early Access Preview 1.3.x version 1.3.0-release-Studio3.2-1"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1541068520, "post_id": 53091608, "comment_id": 93094554, "body": "Then try running Gradle sync again. It looks like the sync picked up an incorrect API version for your project, so the IDE isn&#39;t highlighting the code correctly."}, {"owner": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "edited": false, "score": 0, "creation_date": 1541106732, "post_id": 53091608, "comment_id": 93114086, "body": "Cleaning, building, syncing - multiple times in different orders makes no difference."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541679492, "post_id": 53091608, "comment_id": 93303159, "body": "Works fine for me. Did you remove the kotlin experimental coroutines enable stuff?"}, {"owner": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541717000, "post_id": 53091608, "comment_id": 93322235, "body": "@m0skit0 yup - every reference to experimental has been removed"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1542020306, "post_id": 53091608, "comment_id": 93405707, "body": "I also don&#39;t have core, only android reference, did you try removing core?"}, {"owner": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "edited": false, "score": 0, "creation_date": 1542298242, "post_id": 53091608, "comment_id": 93527548, "body": "I removed reference to core, upped kotlin version to 1.3.10 - same issue"}, {"owner": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1542394341, "post_id": 53091608, "comment_id": 93566429, "body": "@marstran - ran ./gradlew app:dependencies. No references to any previous versions."}], "answers": [{"comments": [{"owner": {"reputation": 2935, "user_id": 3808228, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyJ7J.jpg?s=128&g=1", "display_name": "Chisko", "link": "https://stackoverflow.com/users/3808228/chisko"}, "edited": false, "score": 1, "creation_date": 1544688910, "post_id": 53092064, "comment_id": 94367203, "body": "This did it for me"}, {"owner": {"reputation": 2935, "user_id": 3808228, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyJ7J.jpg?s=128&g=1", "display_name": "Chisko", "link": "https://stackoverflow.com/users/3808228/chisko"}, "reply_to_user": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "edited": false, "score": 0, "creation_date": 1544689292, "post_id": 53092064, "comment_id": 94367362, "body": "@jchristof no it&#39;s not, double-check it"}, {"owner": {"reputation": 624, "user_id": 7316181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70b82ed53491ebe3d1aa1830640dd277?s=128&d=identicon&r=PG&f=1", "display_name": "spacedev", "link": "https://stackoverflow.com/users/7316181/spacedev"}, "edited": false, "score": 1, "creation_date": 1551587779, "post_id": 53092064, "comment_id": 96691709, "body": "Added  implementation &#39;org.jetbrains.kotlin:kotlin-stdlib:1.3.21&#39; in dependency and re - building project done fixing it."}, {"owner": {"reputation": 536, "user_id": 3102259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nbvi8.png?s=128&g=1", "display_name": "GintsGints", "link": "https://stackoverflow.com/users/3102259/gintsgints"}, "edited": false, "score": 1, "creation_date": 1564769415, "post_id": 53092064, "comment_id": 101153020, "body": "IDE gives me same error with this project - <a href=\"https://github.com/gintsgints/hello-ktor-api\" rel=\"nofollow noreferrer\">github.com/gintsgints/hello-ktor-api</a>"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 8, "last_activity_date": 1541020542, "creation_date": 1541020542, "answer_id": 53092064, "question_id": 53091608, "link": "https://stackoverflow.com/questions/53091608/updating-project-to-stable-coroutines-kotlin-1-3-0-coroutines-1-0-0-error/53092064#53092064", "title": "Updating project to stable coroutines Kotlin 1.3.0 + Coroutines 1.0.0 error", "body": "<p>You're missing the standard library in your dependencies. The plugin inspects that to figure out what version of the api to use.</p>\n\n<p>Add <code>\"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"</code> as a dependency to fix your error.</p>\n"}, {"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1542020320, "post_id": 53139018, "comment_id": 93405717, "body": "I don&#39;t see any Maven menu in Android Studio."}, {"owner": {"reputation": 823, "user_id": 5558021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/859197464199012/picture?type=large", "display_name": "Dmitry  Sokolov", "link": "https://stackoverflow.com/users/5558021/dmitry-sokolov"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1542024344, "post_id": 53139018, "comment_id": 93407876, "body": "sorry, I used maven and Intelij."}], "tags": [], "owner": {"reputation": 823, "user_id": 5558021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/859197464199012/picture?type=large", "display_name": "Dmitry  Sokolov", "link": "https://stackoverflow.com/users/5558021/dmitry-sokolov"}, "is_accepted": false, "score": 4, "last_activity_date": 1541320193, "creation_date": 1541320193, "answer_id": 53139018, "question_id": 53091608, "link": "https://stackoverflow.com/questions/53091608/updating-project-to-stable-coroutines-kotlin-1-3-0-coroutines-1-0-0-error/53139018#53139018", "title": "Updating project to stable coroutines Kotlin 1.3.0 + Coroutines 1.0.0 error", "body": "<p>Right click on project name -> Maven -> Reimport.\nIn my case it has helped.</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 7120462, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tD81PaBZUEg/AAAAAAAAAAI/AAAAAAAAMBw/sQuf-QwlHg0/photo.jpg?sz=128", "display_name": "user7120462", "link": "https://stackoverflow.com/users/7120462/user7120462"}, "is_accepted": true, "score": 1, "last_activity_date": 1568235808, "creation_date": 1568235808, "answer_id": 57896770, "question_id": 53091608, "link": "https://stackoverflow.com/questions/53091608/updating-project-to-stable-coroutines-kotlin-1-3-0-coroutines-1-0-0-error/57896770#57896770", "title": "Updating project to stable coroutines Kotlin 1.3.0 + Coroutines 1.0.0 error", "body": "<p>Clear you m2 cache and reimport all the dependencies. That should fix the issue. Reason being, if it was working before then you had all the dependencies you needed and by clearing your cache you refetch all required libraries needed to run coroutines.</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 7817000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IaO7.jpg?s=128&g=1", "display_name": "shervinox", "link": "https://stackoverflow.com/users/7817000/shervinox"}, "is_accepted": false, "score": 0, "last_activity_date": 1574020038, "creation_date": 1574020038, "answer_id": 58904518, "question_id": 53091608, "link": "https://stackoverflow.com/questions/53091608/updating-project-to-stable-coroutines-kotlin-1-3-0-coroutines-1-0-0-error/58904518#58904518", "title": "Updating project to stable coroutines Kotlin 1.3.0 + Coroutines 1.0.0 error", "body": "<p>If you were ok before this, perhaps this is from one of your newly added dependencies. This was the case for me, I added an out-dated version of \"squash\" and got the very same error. After updating the \"squash\" to latest version everything is ok.</p>\n"}, {"tags": [], "owner": {"reputation": 3865, "user_id": 3765842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uCa7e.jpg?s=128&g=1", "display_name": "ayvazj", "link": "https://stackoverflow.com/users/3765842/ayvazj"}, "is_accepted": false, "score": 3, "last_activity_date": 1574547651, "creation_date": 1574547651, "answer_id": 59012813, "question_id": 53091608, "link": "https://stackoverflow.com/questions/53091608/updating-project-to-stable-coroutines-kotlin-1-3-0-coroutines-1-0-0-error/59012813#59012813", "title": "Updating project to stable coroutines Kotlin 1.3.0 + Coroutines 1.0.0 error", "body": "<p>What worked for me with IntelliJ 2019.2.1 + Gradle</p>\n\n<pre><code>File =&gt; Project Structure\n</code></pre>\n\n<p>Then from the Project Settings Dialog select <code>Modules</code> and for each Kotlin module ensure the <strong>Language version</strong> and the <strong>API version</strong> matches.  Unfortunately these settings get reset after every Gradle sync so you have to repeat the process after every Gradle sync.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wl6VI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wl6VI.png\" alt=\"enter image description here\"></a>**.</p>\n"}], "owner": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4250, "favorite_count": 0, "accepted_answer_id": 57896770, "answer_count": 5, "score": 8, "last_activity_date": 1574547651, "creation_date": 1541018314, "last_edit_date": 1542395330, "question_id": 53091608, "link": "https://stackoverflow.com/questions/53091608/updating-project-to-stable-coroutines-kotlin-1-3-0-coroutines-1-0-0-error", "title": "Updating project to stable coroutines Kotlin 1.3.0 + Coroutines 1.0.0 error", "body": "<p>I've specified the following in my project:</p>\n\n<p>Module</p>\n\n<pre><code>dependencies {\n  implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.0.0'\n  implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.0'\n  implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version'\n}\n</code></pre>\n\n<p>Project</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.0'\n    repositories {\n        google()\n        jcenter()\n    }\n\ndependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>Wrapper</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.6-all.zip\n</code></pre>\n\n<p>Gradle sync completes without errors, however each of my calls to </p>\n\n<pre><code>GlobalScope.launch {}\n</code></pre>\n\n<p>'launch' is marked with the following error:</p>\n\n<p>'Unsupported [cannot use release coroutines with api version less than 1.3]'</p>\n\n<p>I've invalidated and clean rebuilt - what am I missing?</p>\n\n<p>**Edit</p>\n\n<p>I can see where the error is generated:</p>\n\n<p>kotlin/compiler/frontend/src/org/jetbrains/kotlin/resolve/calls/checkers/coroutineCallChecker.kt</p>\n\n<pre><code>fun checkCoroutinesFeature(languageVersionSettings: LanguageVersionSettings, diagnosticHolder: DiagnosticSink, reportOn: PsiElement) {\n    if (languageVersionSettings.supportsFeature(LanguageFeature.ReleaseCoroutines)) {\n        if (languageVersionSettings.apiVersion &lt; ApiVersion.KOTLIN_1_3) {\n            diagnosticHolder.report(Errors.UNSUPPORTED.on(reportOn, \"cannot use release coroutines with api version less than 1.3\"))\n        }\n        return\n    }\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin", "maven-3"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1541018117, "post_id": 53091330, "comment_id": 93079978, "body": "Does B depend on A? And is it properly linked?"}, {"owner": {"reputation": 434, "user_id": 1661466, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed56ebc41cf0c4e41646c1c7803c0741?s=128&d=identicon&r=PG", "display_name": "MCLLC", "link": "https://stackoverflow.com/users/1661466/mcllc"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1541018419, "post_id": 53091330, "comment_id": 93080084, "body": "Yes.  And the build.gradle file for the module definitely includes it correctly.  I know the AAR has the typealias and I know repo &quot;B&quot; is pulling the maven dependency correctly (I can see in the gradle output that it&#39;s getting the right maven snapshot version)."}, {"owner": {"reputation": 351, "user_id": 737857, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5501dee95b30969788c9153e978b23fa?s=128&d=identicon&r=PG", "display_name": "nbransby", "link": "https://stackoverflow.com/users/737857/nbransby"}, "edited": false, "score": 0, "creation_date": 1570576105, "post_id": 53091330, "comment_id": 102953799, "body": "Did you find a solution for this?"}], "owner": {"reputation": 434, "user_id": 1661466, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed56ebc41cf0c4e41646c1c7803c0741?s=128&d=identicon&r=PG", "display_name": "MCLLC", "link": "https://stackoverflow.com/users/1661466/mcllc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1541017082, "creation_date": 1541017082, "question_id": 53091330, "link": "https://stackoverflow.com/questions/53091330/cannot-find-kotlin-typealias-in-multi-module-android-project", "title": "Cannot find Kotlin typealias in multi-module Android project", "body": "<p>I'm working on a multi-module project and the project is no longer compiling.  The setup is that some modules are in another git repo (repo \"A\") and publish the modules' AAR outputs to maven.  Then the other git repo (repo \"B\") pulls in those AARs via maven.</p>\n\n<p>It worked yesterday before I started moving over more modules from one repo to another (it's a multi phase effort).  It's currently failing because one module in repo \"A\" creates a Kotlin <code>typealias</code> and another module in repo \"B\" tries to use that <code>typealias</code>.  Now, it cannot find the <code>typealias</code> in repo \"B\"'s module.</p>\n\n<p>I have looked in the resulting AAR and see the <code>typealias</code> defined where I expect.</p>\n\n<p>Does a Kotlin <code>typealias</code> need some kind of special setup to be used from an AAR?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 5, "last_activity_date": 1541010841, "creation_date": 1541010841, "answer_id": 53089960, "question_id": 53089859, "link": "https://stackoverflow.com/questions/53089859/kotlin-synchronized-inine/53089960#53089960", "title": "Kotlin synchronized inine", "body": "<p>The <code>@Synchronized</code> annotation tells the compiler to generate the <code>ACC_SYNCHRONIZED</code> flag on the method. Inline functions are not compiled to methods, so the annotation is indeed ignored.</p>\n\n<p>There is an <a href=\"https://youtrack.jetbrains.com/issue/KT-27310\" rel=\"noreferrer\">open issue</a> in Kotlin for handling this situation better.</p>\n"}], "owner": {"reputation": 873, "user_id": 1596587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45ce0415ad5a81a0b9d62ae8d8c327d7?s=128&d=identicon&r=PG", "display_name": "enl8enmentnow", "link": "https://stackoverflow.com/users/1596587/enl8enmentnow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 1, "accepted_answer_id": 53089960, "answer_count": 1, "score": 2, "last_activity_date": 1541010841, "creation_date": 1541010365, "question_id": 53089859, "link": "https://stackoverflow.com/questions/53089859/kotlin-synchronized-inine", "title": "Kotlin synchronized inine", "body": "<p>Is it known that you cannot synchronize an inlined function in Kotlin? I cannot find any documentation on this.</p>\n\n<p>Imagine you have a class with a synchronized method;</p>\n\n<pre><code>/**\n * Allows modifying the value in a synchronized way so that the get() and set() are atomic.\n *\n * Note: anything synchronized cannot be `inline`.\n */\n@Synchronized fun safeSet(calculateNewValue: (T) -&gt; T) {\n    set(calculateNewValue(get()))\n}\n</code></pre>\n\n<p>When this function is <code>inlined</code> this test fails, when it is not <code>inlined</code> it passes.</p>\n\n<pre><code>@Test\nfun `safeSet - is synchronized`() {\n    val insideSet = AtomicInteger()\n    val threadsRun = CountDownLatch(2)\n    val t1 = Thread({\n        threadsRun.countDown()\n        sut.safeSet { currentValue: Int -&gt;\n            insideSet.incrementAndGet()\n            try {\n                Thread.sleep(100000)\n            } catch (interrupted: InterruptedException) {\n                BoseLog.debug(interrupted)\n            }\n            currentValue + 1\n        }\n    })\n    t1.start()\n\n    val t2 = Thread({\n        threadsRun.countDown()\n        sut.safeSet { currentValue: Int -&gt;\n            insideSet.incrementAndGet()\n            try {\n                Thread.sleep(100000)\n            } catch (interrupted: InterruptedException) {\n                BoseLog.debug(interrupted)\n            }\n            currentValue + 2\n        }\n    })\n    t2.start()\n\n    threadsRun.await()\n    Thread.sleep(100)\n    assertEquals(1, insideSet.get())\n    t1.interrupt()\n    t2.interrupt()\n    Thread.sleep(100)\n    assertEquals(2, insideSet.get())\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1541012314, "post_id": 53089715, "comment_id": 93077474, "body": "ListView is not initialized I guess"}], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": true, "score": 0, "last_activity_date": 1541033988, "creation_date": 1541033988, "answer_id": 53093875, "question_id": 53089715, "link": "https://stackoverflow.com/questions/53089715/hello-when-i-put-list-view-in-a-fragment-the-app-doesnt-work/53093875#53093875", "title": "hello . when i put list-view in a fragment the app doesn&#39;t work", "body": "<p>You will have better luck if you override onViewCreated and move your initializations to that like so. </p>\n\n<pre><code>override fun onViewCreated(view:View?, savedInstanceState: Bundle?) {\nsuper.onViewCreated(view, savedInstanceState)\nvar TheList = arrayOf(\"Line1\",\"Line2\")\nvar TheAdapter = ArrayAdapter&lt;String&gt;(context, android.R.layout.simple_list_item_1, TheList) ListView.adapter = TheAdapter\n}\n</code></pre>\n\n<p>The onviewCreated is where you do all your business at.</p>\n"}], "owner": {"reputation": 3, "user_id": 10587383, "user_type": "registered", "profile_image": "https://graph.facebook.com/491146858054623/picture?type=large", "display_name": "Abdulrahman Alslahi", "link": "https://stackoverflow.com/users/10587383/abdulrahman-alslahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 53093875, "answer_count": 1, "score": -3, "last_activity_date": 1541033988, "creation_date": 1541009748, "last_edit_date": 1541012371, "question_id": 53089715, "link": "https://stackoverflow.com/questions/53089715/hello-when-i-put-list-view-in-a-fragment-the-app-doesnt-work", "title": "hello . when i put list-view in a fragment the app doesn&#39;t work", "body": "<p>When I put list-view in a fragment the app doesn't work. Here is my code so far:</p>\n\n<pre><code>class BlankFragment : Fragment() {\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    var i = inflater.inflate(R.layout.fragment_blank, container, false)\n    var TheList      = arrayOf(\"Line1\",\"Line2\")\n    var TheAdapter   = ArrayAdapter&lt;String&gt;(context, android.R.layout.simple_list_item_1, TheList)\n    ListView.adapter = TheAdapter\n    return i\n}\n</code></pre>\n"}, {"tags": ["kotlin", "terminal", "compilation", "execution"], "answers": [{"tags": [], "owner": {"reputation": 2090, "user_id": 8588359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiqvE.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/8588359/raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1541015657, "last_edit_date": 1541015657, "creation_date": 1541008631, "answer_id": 53089420, "question_id": 53089405, "link": "https://stackoverflow.com/questions/53089405/how-to-compile-and-run-a-kotlin-kt-file-using-the-terminal/53089420#53089420", "title": "How to compile and run a Kotlin (.kt) file using the Terminal", "body": "<p>Just run this on your terminal:</p>\n\n<p><code>kotlinc filename.kt -include-runtime -d filename.jar &amp;&amp; java -jar filename.jar</code></p>\n"}], "owner": {"reputation": 2090, "user_id": 8588359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiqvE.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/8588359/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1029, "favorite_count": 0, "closed_date": 1541009174, "answer_count": 1, "score": 0, "last_activity_date": 1541015657, "creation_date": 1541008582, "last_edit_date": 1541008675, "question_id": 53089405, "link": "https://stackoverflow.com/questions/53089405/how-to-compile-and-run-a-kotlin-kt-file-using-the-terminal", "closed_reason": "Duplicate", "title": "How to compile and run a Kotlin (.kt) file using the Terminal", "body": "<p>I am new to Kotlin. Just figuring things out!</p>\n"}, {"tags": ["android", "firebase", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1495, "user_id": 9133459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RA0nU.jpg?s=128&g=1", "display_name": "Rajdeep", "link": "https://stackoverflow.com/users/9133459/rajdeep"}, "edited": false, "score": 0, "creation_date": 1541005634, "post_id": 53088635, "comment_id": 93074277, "body": "Omg thanks ! After adding the <code>implementation</code> it worked, I already have <code>apply plugin</code> at the top of the page, does the position matter if its at the bottom of the page ?"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 1495, "user_id": 9133459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RA0nU.jpg?s=128&g=1", "display_name": "Rajdeep", "link": "https://stackoverflow.com/users/9133459/rajdeep"}, "edited": false, "score": 0, "creation_date": 1541005810, "post_id": 53088635, "comment_id": 93074361, "body": "yes its better to add it at the bottom of the page, as I have seen issues when it is not there and also since it is said in the documentation. Note, whenever you use any library, you need to add it in the depedencies to be able to use it in your code."}], "tags": [], "owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": true, "score": 6, "last_activity_date": 1541005356, "creation_date": 1541005356, "answer_id": 53088635, "question_id": 53088547, "link": "https://stackoverflow.com/questions/53088547/unresolved-reference-for-import-com-google-android-gms-auth-api-auth/53088635#53088635", "title": "Unresolved reference for import com.google.android.gms.auth.api.Auth", "body": "<p>Inside the dependencies add:</p>\n\n<pre><code>implementation 'com.google.android.gms:play-services-auth:16.0.1'\n</code></pre>\n\n<p>and then at the bottom of the app/build.gradle file, add (required for firebase):</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}], "owner": {"reputation": 1495, "user_id": 9133459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RA0nU.jpg?s=128&g=1", "display_name": "Rajdeep", "link": "https://stackoverflow.com/users/9133459/rajdeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3765, "favorite_count": 0, "accepted_answer_id": 53088635, "answer_count": 1, "score": 3, "last_activity_date": 1541005356, "creation_date": 1541005045, "last_edit_date": 1541005301, "question_id": 53088547, "link": "https://stackoverflow.com/questions/53088547/unresolved-reference-for-import-com-google-android-gms-auth-api-auth", "title": "Unresolved reference for import com.google.android.gms.auth.api.Auth", "body": "<p>I'm learning how to develop an app with Google sign-in options and I am following this <a href=\"https://grokonez.com/android/kotlin-firebase-authentication-google-sign-in-android\" rel=\"nofollow noreferrer\">tutorial</a>. However, my activity, however, is not registering <code>import com.google.android.gms.auth.api.Auth</code> and colors <code>Auth</code> in red on the import.</p>\n\n<pre><code>package nus.is3261.kotlinapp\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_google_signin.*\nimport com.google.android.gms.auth.api.Auth\nimport com.google.android.gms.common.api.GoogleApiClient\nimport com.google.firebase.auth.FirebaseAuth\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions\nimport com.google.android.gms.common.ConnectionResult\nimport com.google.firebase.auth.FirebaseUser\nimport android.content.Intent\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount\nimport com.google.firebase.auth.GoogleAuthProvider\n\nclass GoogleSigninActivity : AppCompatActivity(), View.OnClickListener, GoogleApiClient.OnConnectionFailedListener {\n\n    private val TAG = \"JSAGoogleSignIn\"\n    private val REQUEST_CODE_SIGN_IN = 1234\n    private val WEB_CLIENT_ID = \"xxxxxx.apps.googleusercontent.com\"\n\n    private var mAuth: FirebaseAuth? = null\n\n    private var mGoogleApiClient: GoogleApiClient? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_google_signin)\n\n        btn_sign_in.setOnClickListener(this)\n        btn_sign_out.setOnClickListener(this)\n        btn_disconnect.setOnClickListener(this)\n\n        val gso = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(WEB_CLIENT_ID)\n                .requestEmail()\n                .build()\n\n        mGoogleApiClient = GoogleApiClient.Builder(this)\n                .enableAutoManage(this /* FragmentActivity */, this /* OnConnectionFailedListener */)\n                .addApi(Auth.GOOGLE_SIGN_IN_API, gso)\n                .build()\n\n        mAuth = FirebaseAuth.getInstance()\n    }\n\n    override fun onStart() {\n        super.onStart()\n\n        // Check if user is signed in (non-null) and update UI accordingly.\n        val currentUser = mAuth!!.currentUser\n        updateUI(currentUser)\n    }\n\n    override fun onClick(v: View?) {\n        val i = v!!.id\n\n        when (i) {\n            R.id.btn_sign_in -&gt; signIn()\n            R.id.btn_sign_out -&gt; signOut()\n            R.id.btn_disconnect -&gt; revokeAccess()\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n\n        // Result returned from launching the Intent from GoogleSignInApi.getSignInIntent();\n        if (requestCode == REQUEST_CODE_SIGN_IN) {\n            val result = Auth.GoogleSignInApi.getSignInResultFromIntent(data)\n            if (result.isSuccess) {\n                // successful -&gt; authenticate with Firebase\n                val account = result.signInAccount\n                firebaseAuthWithGoogle(account!!)\n            } else {\n                // failed -&gt; update UI\n                updateUI(null)\n                Toast.makeText(applicationContext, \"SignIn: failed!\",\n                        Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n\n    private fun firebaseAuthWithGoogle(acct: GoogleSignInAccount) {\n        Log.e(TAG, \"firebaseAuthWithGoogle():\" + acct.id!!)\n\n        val credential = GoogleAuthProvider.getCredential(acct.idToken, null)\n        mAuth!!.signInWithCredential(credential)\n                .addOnCompleteListener(this) { task -&gt;\n                    if (task.isSuccessful) {\n                        // Sign in success\n                        Log.e(TAG, \"signInWithCredential: Success!\")\n                        val user = mAuth!!.currentUser\n                        updateUI(user)\n                    } else {\n                        // Sign in fails\n                        Log.w(TAG, \"signInWithCredential: Failed!\", task.exception)\n                        Toast.makeText(applicationContext, \"Authentication failed!\",\n                                Toast.LENGTH_SHORT).show()\n                        updateUI(null)\n                    }\n                }\n    }\n\n    override fun onConnectionFailed(connectionResult: ConnectionResult) {\n        Log.e(TAG, \"onConnectionFailed():\" + connectionResult);\n        Toast.makeText(applicationContext, \"Google Play Services error.\", Toast.LENGTH_SHORT).show();\n    }\n\n    private fun signIn() {\n        val intent = Auth.GoogleSignInApi.getSignInIntent(mGoogleApiClient)\n        startActivityForResult(intent, REQUEST_CODE_SIGN_IN)\n    }\n\n    private fun signOut() {\n        // sign out Firebase\n        mAuth!!.signOut()\n\n        // sign out Google\n        Auth.GoogleSignInApi.signOut(mGoogleApiClient).setResultCallback { updateUI(null) }\n    }\n\n    private fun revokeAccess() {\n        // sign out Firebase\n        mAuth!!.signOut()\n\n        // revoke access Google\n        Auth.GoogleSignInApi.revokeAccess(mGoogleApiClient).setResultCallback { updateUI(null) }\n    }\n\n    private fun updateUI(user: FirebaseUser?) {\n        if (user != null) {\n            tvStatus.text = \"Google User email: \" + user.email!!\n            tvDetail.text = \"Firebase User ID: \" + user.uid\n\n            btn_sign_in.visibility = View.GONE\n            layout_sign_out_and_disconnect.visibility = View.VISIBLE\n        } else {\n            tvStatus.text = \"Signed Out\"\n            tvDetail.text = null\n\n            btn_sign_in.visibility = View.VISIBLE\n            layout_sign_out_and_disconnect.visibility = View.GONE\n        }\n    }\n}\n</code></pre>\n\n<p>I feel like this is a dependency issue but I'm not sure as to where the issue is.</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"nus.is3261.kotlinapp\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'com.google.firebase:firebase-auth:16.0.5'\n    implementation 'com.google.firebase:firebase-core:16.0.4'\n\n}\n</code></pre>\n\n<p>Here are my gradle files</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.70'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.1.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PPFkb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PPFkb.png\" alt=\"enter image description here\"></a> </p>\n"}, {"tags": ["kotlin", "kdoc"], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1541063963, "last_edit_date": 1541063963, "creation_date": 1541005043, "answer_id": 53088546, "question_id": 53088173, "link": "https://stackoverflow.com/questions/53088173/how-do-i-skip-a-line-in-kdoc/53088546#53088546", "title": "How Do I skip a line in kDoc", "body": "<p>kdoc uses markdown, see also <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"nofollow noreferrer\">kdoc reference</a>. The reference also states that for inline markup they use the following <a href=\"https://daringfireball.net/projects/markdown/syntax\" rel=\"nofollow noreferrer\">markdown</a>, but it doesn't look fully supported. Or at least Intellij IDEA (and therefore probably also Android Studio) doesn't render it as the markdown reference describes it. Maybe things are better, when generated via Dokka. Didn't try that one yet.</p>\n\n<p>So if you have titles (<code>#</code>) or use an empty line, it will give you an appropriate space between the lines, e.g.:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code># Title (or ### title)\n\nthis line has some space before\n</code></pre>\n\n<p>or just using an empty line:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>first line is the summary.\n\nthis line is now just written as the second line in your documentation. no space before... but maybe that suffices already...\n</code></pre>\n\n<p>If you place a <code>&lt;br /&gt;</code> in there it should basically add a new line, but at least it didn't work out in Intellij IDEA. However it worked when placing it in a <code>```</code>-code-comment. Maybe a bug... maybe a feature in Intellij IDEA? Would be good if anyone could play with Dokka and give an appropriate answer for this, just wanted to share what I know so far about it. <sub>(have to leave now)</sub></p>\n"}, {"tags": [], "owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "is_accepted": false, "score": 0, "last_activity_date": 1541055888, "creation_date": 1541055888, "answer_id": 53096568, "question_id": 53088173, "link": "https://stackoverflow.com/questions/53088173/how-do-i-skip-a-line-in-kdoc/53096568#53096568", "title": "How Do I skip a line in kDoc", "body": "<p><em>Dokka</em> indeed treats empty lines as paragraph separators, but ignores <code>&lt;br&gt;</code> and <code>&lt;br/&gt;</code>. Consider the following <em>KDoc</em> fragment:</p>\n\n<pre><code>/**\n * This is the 1st paragraph.\n *\n * And this is the 2nd one. _IDEA_ indeed ignores any line breaks between\n * paragraphs.\n *\n * # Heading 1\n *\n * This is the text after the heading.\n *\n * ### Heading 3\n *\n * This is the text after the heading.\n * &lt;br&gt;\n * This line is separated with `&lt;br&gt;`.\n * &lt;br/&gt;\n * And this one is separated with `&lt;br/&gt;`.\n */\nclass C\n</code></pre>\n\n<p>Here's how it is rendered in HTML:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mPaP0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPaP0.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 17430, "user_id": 355438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb132c7de803cf864996a922a073e5f2?s=128&d=identicon&r=PG", "display_name": "Lu55", "link": "https://stackoverflow.com/users/355438/lu55"}, "is_accepted": false, "score": 1, "last_activity_date": 1558653860, "creation_date": 1558653860, "answer_id": 56284067, "question_id": 53088173, "link": "https://stackoverflow.com/questions/53088173/how-do-i-skip-a-line-in-kdoc/56284067#56284067", "title": "How Do I skip a line in kDoc", "body": "<p>For an empty line use <code>&amp;nbsp;</code> with blank lines before and after it (both blank lines are essential):</p>\n\n<p><a href=\"https://i.stack.imgur.com/jl0ug.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jl0ug.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1558692815, "creation_date": 1541003649, "last_edit_date": 1558692815, "question_id": 53088173, "link": "https://stackoverflow.com/questions/53088173/how-do-i-skip-a-line-in-kdoc", "title": "How Do I skip a line in kDoc", "body": "<p>In my kDoc I want an empty line between paragraphs. How do I accomplish that? (Also is there a complete guide somewhere? Such as how to create tables, bullets, etc?)</p>\n"}, {"tags": ["spring-boot", "spring-security", "kotlin", "keycloak"], "comments": [{"owner": {"reputation": 8875, "user_id": 9705485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yP4NC.jpg?s=128&g=1", "display_name": "Ryan Dawson", "link": "https://stackoverflow.com/users/9705485/ryan-dawson"}, "edited": false, "score": 0, "creation_date": 1541001261, "post_id": 53087259, "comment_id": 93071821, "body": "Keycloak 4.5.0 wasn&#39;t built against 2.1.0 of boot (<a href=\"https://github.com/keycloak/keycloak/blob/4.5.0.Final/adapters/oidc/spring-boot2/pom.xml#L34\" rel=\"nofollow noreferrer\">github.com/keycloak/keycloak/blob/4.5.0.Final/adapters/oidc&zwnj;&#8203;/&hellip;</a>) so if you could check with an older version of boot that might help to narrow the problem down. You could also try jetty or undertow to see whether that error is specific to the default embedded tomcat"}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 1, "creation_date": 1541001892, "post_id": 53087259, "comment_id": 93072212, "body": "I have spring boot 2.1.0.RELEASE and Keycloak 4.5 integration working but I am not using any keycloak jars. please refer to documentation here <a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#_spring_security_adapter\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/securing_apps/&hellip;</a> and <a href=\"https://www.keycloak.org/docs/latest/securing_apps/index.html#_spring_boot_adapter\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/securing_apps/&hellip;</a>"}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1541002031, "post_id": 53087259, "comment_id": 93072293, "body": "Also, if you are building a resource server I would suggest to use Spring 5.1 security features to setup resource server."}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "reply_to_user": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1541002711, "post_id": 53087259, "comment_id": 93072731, "body": "i read the documents already @ChirdeepTomar but i cannot see doing anything wrong ... even add this filter registration beans they mentioned .. is it possible just using simple OAuth with Keycloak and Spring Boot Security?"}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "reply_to_user": {"reputation": 8875, "user_id": 9705485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yP4NC.jpg?s=128&g=1", "display_name": "Ryan Dawson", "link": "https://stackoverflow.com/users/9705485/ryan-dawson"}, "edited": false, "score": 0, "creation_date": 1541002918, "post_id": 53087259, "comment_id": 93072859, "body": "@RyanDawson i tried also with spring boot 2.0.3 but it does not work too ..."}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1541005822, "post_id": 53087259, "comment_id": 93074369, "body": "@IEE1394 Yes, it is thats what I am suggesting. There should be no dependency on Keycloak jars if you consider microservices architecture as Keycloak is just an OIDC provider. Is your Spring Boot a web app or a Rest API?"}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "reply_to_user": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1541008373, "post_id": 53087259, "comment_id": 93075683, "body": "@ChirdeepTomar its a REST API do you have an example of a OIDC spring boot app with keycloak"}], "answers": [{"comments": [{"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1541018392, "post_id": 53090013, "comment_id": 93080077, "body": "thank you .. but if i also want to provider the possibility to login from the REST API than i must behave like a client? not just a resource server?"}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "reply_to_user": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1541019031, "post_id": 53090013, "comment_id": 93080311, "body": "Read about the Access_Type on client in Keycloak. A REST API is a backend service that is protected by Bearer Token so you can&#39;t login on the API, you need to pass in a Bearer Token in the Authorization header to access the API. Docs: <a href=\"https://www.keycloak.org/docs/latest/server_admin/index.html#oidc-clients\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/server_admin/index.html#oidc-client&zwnj;&#8203;s</a>"}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1541019352, "post_id": 53090013, "comment_id": 93080451, "body": "sorry for asking maybe a little stupid .. what i want is a microservice with a REST API which is secured by spring security using OAuth2 and e.g. Keycloak for authentication. If no valid JWT is provieded the microservice should redirect to keycloak and hopefully come back with a valid JWT. Is there anything wrong about that? currently i&#39;m a little bit lost in confusion :-)"}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "reply_to_user": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1541021238, "post_id": 53090013, "comment_id": 93081136, "body": "Don&#39;t worry :) It is not microservice&#39;s responsibility to do the redirect, microservice is just a backend API that simply expects a valid token from some OIDC provider like Keycloak, Okta, Auth0 or AzureAD. You will pass in a JWT into the Spring Boot microservice, your front end whether its a SPA, Mobile App or a Desktop app will authenticate with Keycloak to get that JWT Token. Whether its a redirect or a call from SPA to token endpoint, it depends on the type of client you are building."}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1541021304, "post_id": 53090013, "comment_id": 93081161, "body": "okay .. but currently i have no frontend ... so how do you suggest to work around? get the jwt in browser or with postman?"}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "reply_to_user": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 1, "creation_date": 1541021382, "post_id": 53090013, "comment_id": 93081196, "body": "Postman: you should have a call this curl -X POST \\   <a href=\"http://localhost:8080/auth/realms/test-realm/protocol/openid-connect/token\" rel=\"nofollow noreferrer\">localhost:8080/auth/realms/test-realm/protocol/openid-connec&zwnj;&#8203;t/&hellip;</a> \\   -H &#39;Content-Type: application/x-www-form-urlencoded&#39; \\   -H &#39;Postman-Token: 90787d63-46e4-4da0-a464-c7094a5b27e7&#39; \\   -H &#39;cache-control: no-cache&#39; \\   -d &#39;grant_type=password&amp;client_id=postman-client&amp;password=112&amp;s&zwnj;&#8203;cope=openid%20email%&zwnj;&#8203;20profile&amp;username=t&zwnj;&#8203;est-admin&#39;"}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1541028770, "post_id": 53090013, "comment_id": 93083376, "body": "one more question .. what if i have a microservice which needs both .. beeing a resource server and also a client to another resource server somewhere outside with another identity provider?"}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "reply_to_user": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1541050852, "post_id": 53090013, "comment_id": 93087685, "body": "Depends which authorisation server that resource server is protected by, if its the same instance of keycloak, then you can just forward the jwt token in the authorization header in the rest template or httpclient."}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1541063428, "post_id": 53090013, "comment_id": 93092150, "body": "No its not the same ...currently i have to deal with three different services secured by three different authorisation server ..."}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "reply_to_user": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1541063759, "post_id": 53090013, "comment_id": 93092288, "body": "Your token generated from keycloak won&#39;t work on those authorisation servers. You might need to look at openid connect provider like Github and see there is one in the list for your other authorisation server."}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "reply_to_user": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1541065571, "post_id": 53090013, "comment_id": 93093124, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/182926/discussion-between-iee1394-and-chirdeep-tomar\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "is_accepted": true, "score": 2, "last_activity_date": 1541011118, "creation_date": 1541011118, "answer_id": 53090013, "question_id": 53087259, "link": "https://stackoverflow.com/questions/53087259/fail-to-setup-keycloak-with-spring-boot-security-unsatisfieddependencyexception/53090013#53090013", "title": "Fail to setup Keycloak with Spring Boot Security UnsatisfiedDependencyException with KeycloakAutoConfiguration", "body": "<p>Make sure you have the following dependencies in build.gradle or pom.xml</p>\n\n<pre><code>\"org.springframework.boot:spring-boot-starter-web\",\n            \"org.springframework.boot:spring-boot-starter-security\",\n            \"org.springframework.security:spring-security-oauth2-jose\",\n            \"org.springframework.security.oauth:spring-security-oauth2:2.3.4.RELEASE\",\n            \"org.springframework.security:spring-security-oauth2-resource-server\"\n</code></pre>\n\n<p>application.yaml</p>\n\n<pre><code>spring:\n  application:\n    name: sociter\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          jwk-set-uri: http://localhost:8080/auth/realms/{REALM_NAME}/protocol/openid-connect/certs\n          issuer-uri: http://localhost:8080/auth/realms/{REALM_NAME}\n</code></pre>\n\n<p>And setup the websecurity as here:</p>\n\n<p><a href=\"https://github.com/jzheaux/messaging-app/blob/master/resource-server/src/main/java/sample/config/ResourceServerConfig.java\" rel=\"nofollow noreferrer\">https://github.com/jzheaux/messaging-app/blob/master/resource-server/src/main/java/sample/config/ResourceServerConfig.java</a></p>\n\n<p>More details: <a href=\"https://spring.io/blog/2018/08/21/spring-security-5-1-0-rc1-released#oauth2-resource-server\" rel=\"nofollow noreferrer\">https://spring.io/blog/2018/08/21/spring-security-5-1-0-rc1-released#oauth2-resource-server</a></p>\n"}], "owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2552, "favorite_count": 1, "accepted_answer_id": 53090013, "answer_count": 1, "score": 3, "last_activity_date": 1541011118, "creation_date": 1541000657, "question_id": 53087259, "link": "https://stackoverflow.com/questions/53087259/fail-to-setup-keycloak-with-spring-boot-security-unsatisfieddependencyexception", "title": "Fail to setup Keycloak with Spring Boot Security UnsatisfiedDependencyException with KeycloakAutoConfiguration", "body": "<p>have a little trouble with keycloack and spring security.</p>\n\n<p>Here the pom:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;my.world&lt;/groupId&gt;\n    &lt;artifactId&gt;having-fun&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;having-fun&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;keycloak.version&gt;4.5.0.Final&lt;/keycloak.version&gt;\n        &lt;kotlin.version&gt;1.2.70&lt;/kotlin.version&gt;\n        &lt;swagger.version&gt;2.9.2&lt;/swagger.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;${keycloak.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;profiles&gt;\n                        &lt;profile&gt;development&lt;/profile&gt;\n                        &lt;profile&gt;docker&lt;/profile&gt;\n                    &lt;/profiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                        &lt;plugin&gt;jpa&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>and here is the Error</p>\n\n<pre><code>[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.1.0.RELEASE:run (default-cli) on project activation-service-backend: An exception occurred while running. null: InvocationTargetException: Unable to start web server; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tomcatServletWebServerFactory' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/ServletWebServerFactoryConfiguration$EmbeddedTomcat.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.keycloak.adapters.springboot.KeycloakAutoConfiguration': Unsatisfied dependency expressed through method 'setKeycloakConfigResolvers' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'keycloakConfigResolver'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'KeycloakConfigResolver': Requested bean is currently in creation: Is there an unresolvable circular reference? -&gt; [Help 1]\n</code></pre>\n\n<p>Any idea what is wrong .. i belive its from the pom.xml but i don't know why?\nThx in advance</p>\n\n<hr>\n\n<p>And thanks to this ***** rules i have to provide much more details, even if there existing not more of them . So i create some text without any content. If you are read up to this point stop it please because there will be only letters but no information ... now lets try if i wrote enought</p>\n"}, {"tags": ["android", "android-studio", "firebase-realtime-database", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1541000838, "post_id": 53087157, "comment_id": 93071537, "body": "In which part of your code, at which line is your ArrayList <code>null</code>?"}, {"owner": {"reputation": 299, "user_id": 7258452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac45d3eeb55d160bdcb9054f87fd5932?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Borikar", "link": "https://stackoverflow.com/users/7258452/abhishek-borikar"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1541001258, "post_id": 53087157, "comment_id": 93071819, "body": "In retrieve information code there is arraylist called data. In method onDataChange I am populating the data arraylist but arraylist received init section in firebase adapter is null"}], "answers": [{"comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1541050608, "post_id": 53087725, "comment_id": 93087626, "body": "Hi Abhishek! Have you tried my solution above, does it work?"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1541002177, "creation_date": 1541002177, "answer_id": 53087725, "question_id": 53087157, "link": "https://stackoverflow.com/questions/53087157/firebase-database-notify-adapter-after-retriving-data/53087725#53087725", "title": "Firebase Database notify adapter after retriving data?", "body": "<p>You cannot return something now that hasn't been loaded yet. With other words, you cannot simply return the <code>data</code> list as a result of a function because the list it will always be <code>empty</code> due the asynchronous behaviour of this function. This means that by the time you are trying to return that result, the data hasn't finished loading yet from the database and that's why is not accessible.</p>\n\n<p>Basically, you're trying to return a value synchronously from an API that's asynchronous. That's not a good idea. You should handle the APIs asynchronously as intended.</p>\n\n<p>A quick solve for this problem would be to use the <code>data</code> list only inside the callback (inside the <code>onDataChange()</code> method). If you want to use it outside, I recommend you see the last part of my anwser from this <strong><a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">post</a></strong> in which I have explained how it can be done using a custom callback. You can also take a look at this <strong><a href=\"https://www.youtube.com/watch?v=OvDZVV5CbQg\" rel=\"nofollow noreferrer\">video</a></strong> for a better understanding.</p>\n"}], "owner": {"reputation": 299, "user_id": 7258452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac45d3eeb55d160bdcb9054f87fd5932?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Borikar", "link": "https://stackoverflow.com/users/7258452/abhishek-borikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541002177, "creation_date": 1541000297, "question_id": 53087157, "link": "https://stackoverflow.com/questions/53087157/firebase-database-notify-adapter-after-retriving-data", "title": "Firebase Database notify adapter after retriving data?", "body": "<p>I am trying to access data once it is completely retrieved from database? initially I apply adapter to fragment. With in the Adapter I tried to retrieve data from firebase database. So here give problem it send the null arraylist. It should send back the arraylist when complete data is retrieved?</p>\n\n<p>Adapter code :</p>\n\n<pre><code>class FirebaseAdapter(context: Context): RecyclerView.Adapter&lt;FirebaseAdapter.Holder&gt;() {\n\nvar dataList: ArrayList&lt;DatabaseOperations.ImageInfo&gt; = arrayListOf()\nvar context: Context? = null\n\ninit {\n    if (context == null)\n        this.context = context\n\n    dataList= DatabaseOperations().retriveInfo(context!!)\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): Holder {\n    var itemView: View = LayoutInflater.from(parent.context).inflate(R.layout.imagelist_row,parent)\n    var viewHolder: FirebaseAdapter.Holder = FirebaseAdapter.Holder(itemView)\n\n\n    return viewHolder\n}\n\noverride fun getItemCount(): Int {\n    Log.e(\"itemCoutn\",dataList.size.toString()) // it give output 0\n    return dataList.size\n}\n\noverride fun onBindViewHolder(holder: Holder, position: Int) {\n\n   try {\n       //----------------get bitmap from image url-----------------\n       var downloadUri: String = dataList.get(position).downloadUri\n       Log.e(\"fire adapter\",downloadUri.toString())\n\n       //------------------Assign Data to item here-----------------\n       holder.image_name.text = dataList.get(position).imageName\n\n       Glide.with(this!!.context!!)\n               .load(downloadUri)\n               .into(holder.row_image)\n\n   }\n   catch(e: Exception){\n       Log.e(\"Firebase Adapter\",\"Error \"+e.toString())\n   }\n}\n\n\nclass Holder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n\n    val row_image: ImageView\n    val image_name: TextView\n    init {\n\n        row_image  = itemView!!.findViewById&lt;ImageView&gt;(R.id.row_image)\n        image_name = itemView!!.findViewById&lt;TextView&gt;(R.id.image_name)\n\n\n    }\n\n}\n}\n</code></pre>\n\n<p>Information retrieve code :</p>\n\n<pre><code>fun retriveInfo( context: Context): ArrayList&lt;ImageInfo&gt;{\n\n    var data = ArrayList&lt;ImageInfo&gt;()\n\n    if (mDatabaseRefrence == null)\n        mDatabaseRefrence = FirebaseDatabase.getInstance().getReference(getUid())\n\n    val menuListener = object : ValueEventListener {\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n\n            var dataSnap: DataSnapshot? = null\n\n\n            var it: Iterable&lt;DataSnapshot&gt; = dataSnapshot.children\n            it.forEach { dataSnapshot -&gt;\n                data.add(ImageInfo(\n                        dataSnapshot!!.child(\"imageName\").toString(),\n                        dataSnapshot!!.child(\"imageInfo\").toString(),\n                        dataSnapshot!!.child(\"downloadUri\").toString()\n                ))\n            }\n\n            FirebaseAdapter(context).notifyDataSetChanged()\n            Log.e(\"db size 0\",data.size.toString())\n\n        }\n\n        override fun onCancelled(databaseError: DatabaseError) {\n            println(\"loadPost:onCancelled ${databaseError.toException()}\")\n        }\n    }\n\n    mDatabaseRefrence!!.addValueEventListener(menuListener)\n\n\n\n    Log.e(\"db size\",data.size.toString())\n\n    return data\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10586623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1379867372145851/picture?type=large", "display_name": "Max Schippers", "link": "https://stackoverflow.com/users/10586623/max-schippers"}, "edited": false, "score": 0, "creation_date": 1541003149, "post_id": 53086616, "comment_id": 93072986, "body": "Ah alright thanks man, i&#39;m pretty new to most of this so I can use all help there is :P"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 4, "last_activity_date": 1541002350, "last_edit_date": 1541002350, "creation_date": 1540998686, "answer_id": 53086616, "question_id": 53086473, "link": "https://stackoverflow.com/questions/53086473/kotlin-expression-cant-be-invoked-because-function-invoke-is-not-found/53086616#53086616", "title": "Kotlin: Expression can&#39;t be invoked because function invoke() is not found", "body": "<p>To access an element in an array or list, use square brackets, e.g.:</p>\n\n<pre><code>array[i]\nlist[i] // or list.get(i)\nresults!![i]\n</code></pre>\n\n<p>Regarding the error message: Kotlin was assuming an <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#invoke\" rel=\"nofollow noreferrer\">invoke operator</a>, which you didn't supply. You may want to read what an invoke-operator is good for. Sometimes it comes in very handy. But for your problem the square brackets should suffice.</p>\n\n<p>As a (further) side-note: don't write your code with tons of <code>!!</code>, rather try to identify what can be <code>null</code> in the first place and omit the rest if it doesn't suit your needs, e.g.:</p>\n\n<pre><code>response?.also {\n  if (it.isSuccessful) {\n    it.body()?.results?.forEach {\n      //...\n    }\n  }\n}\n</code></pre>\n\n<p>Just a start... you may then want to simplify things even more... Just omit <code>!!</code> whenever possible... You may also want to read about <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">null safety in Kotlin</a> and maybe also about the <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart casts</a>.</p>\n\n<p>Your <code>typePlace.equals(...</code>-conditions can also perfectly be replaced with <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\"><code>when</code></a>, e.g.:</p>\n\n<pre><code>when(typePlace) {\n  \"hospital\" -&gt; ...\n  \"market\" -&gt; ...\n</code></pre>\n\n<p>That combined with either <code>let</code> or <code>also</code> may even further reduce your code, but that will probably be another story, better suited for <a href=\"https://codereview.stackexchange.com/\">code review</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 10586623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1379867372145851/picture?type=large", "display_name": "Max Schippers", "link": "https://stackoverflow.com/users/10586623/max-schippers"}, "edited": false, "score": 0, "creation_date": 1541080888, "post_id": 53092496, "comment_id": 93101106, "body": "Thanks man. it&#39;s much info but I really want to learn more so thanks for this!"}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 2, "last_activity_date": 1541022863, "creation_date": 1541022863, "answer_id": 53092496, "question_id": 53086473, "link": "https://stackoverflow.com/questions/53086473/kotlin-expression-cant-be-invoked-because-function-invoke-is-not-found/53092496#53092496", "title": "Kotlin: Expression can&#39;t be invoked because function invoke() is not found", "body": "<p>As Roland mentioned, <code>()</code> is the invoke operator, and <code>[]</code> is the index operator. <code>()</code> is used for, among others, functions:</p>\n\n<pre><code>fun demo(func: (i: Int) -&gt; Unit){\n    // These are identical\n    func(1)\n    func.invoke(1)\n}\n</code></pre>\n\n<p><code>[]</code> is the <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#indexed\" rel=\"nofollow noreferrer\">index operator</a>, which is what you want to apply here.</p>\n\n<p>It can be used for any class that has an <code>operator fun get(args)</code></p>\n\n<pre><code>class Demo {\n    // These don't actually need a return type either. Or any arguments at all. \n    // If this was an int-containing class (i.e. a List), this would be the conventional declaration\n    operator fun get(index: Int) : Int {\n        return 0 // Obviously with an actual return value. \n    }\n\n    // But they don't have to. They can have multiple, or no arguments. \n    operator fun get(index: Int, fallback: Int) : Int{\n        return fallback\n    }\n}\n\nfun test(){\n    val demo = Demo()\n    //Depending on arguments, the use is different. Single-arg is basic, and traditional:\n    val value = demo[12];\n    // But the multi-arg one can be useful depending on the class.\n    val value2 = demo[12, 3];\n}\n</code></pre>\n\n<p>I'm aware you didn't ask about declaring these, but the code is a part of my point:</p>\n\n<ul>\n<li>The index operator is applied to any class with an <code>operator fun get</code>, with any number of input args</li>\n<li>Lists, maps, and arrays have this method. </li>\n</ul>\n\n<p>So you want to use <code>[index]</code>, not <code>(index)</code>. Alternatively, you could use the method, and use <code>.get(index)</code> directly. If you want to use null-safe calls (<code>?.</code>), you have to use <code>.get(index)</code>. </p>\n\n<p>Also, you should generally prefer null-safe calls, optionally combined with <code>?.let{ }</code>, <code>?.forEach { }</code>, or similar, over using null assertion. First of all, it kinda defeats one of the core parts of Kotlin: Null safety. Secondly, if it ever is null, the app will crash instead of gracefully telling the user \"Something went wrong\". I am not familiar with the library you're using, so I'm honestly not sure what's null when, and if it can be null even if it is successful.</p>\n\n<p>As for <code>let</code> and <code>forEach</code>, they're easier to use when you have nullability. Consider this:</p>\n\n<pre><code>someNullableIterable?.forEach {\n    // Only invoked if the iterable isn't null\n}\n</code></pre>\n\n<p>Compared to:</p>\n\n<pre><code>if(someNullableIterable!= null){\n    for(item in someNullableIterable!!) { // Needs !! if the variable is global, and it's a var and not a val. \n        // Foo bar\n    }\n}\n</code></pre>\n\n<p>There's a bunch of similar functions too, and if you need to use indices as well, there's <code>forEachIndexed</code>. But just using <code>forEach</code> (alternatively <code>forEachIndexed</code>) will shorten some of your code, and better allow you to deal with nullability. </p>\n"}], "owner": {"reputation": 33, "user_id": 10586623, "user_type": "registered", "profile_image": "https://graph.facebook.com/1379867372145851/picture?type=large", "display_name": "Max Schippers", "link": "https://stackoverflow.com/users/10586623/max-schippers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10900, "favorite_count": 0, "accepted_answer_id": 53086616, "answer_count": 2, "score": 3, "last_activity_date": 1541022863, "creation_date": 1540998314, "last_edit_date": 1540998633, "question_id": 53086473, "link": "https://stackoverflow.com/questions/53086473/kotlin-expression-cant-be-invoked-because-function-invoke-is-not-found", "title": "Kotlin: Expression can&#39;t be invoked because function invoke() is not found", "body": "<p>I'm trying to build an app where I implement Google maps. for some reason I get the error that the expression can't be invoked because the function invoke() is not found. I don't know how to fix this maybe one of you guys can help?</p>\n\n<pre><code>    package com.example.maxs.kotlinnearbyv2\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.widget.Toast\nimport com.example.maxs.kotlinnearbyv2.Common.Common\nimport com.example.maxs.kotlinnearbyv2.Model.MyPlaces\nimport com.example.maxs.kotlinnearbyv2.Remote.IGoogleAPIService\nimport com.google.android.gms.maps.*\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory\n\nimport com.google.android.gms.maps.model.LatLng\nimport com.google.android.gms.maps.model.MarkerOptions\nimport kotlinx.android.synthetic.main.activity_maps.*\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\n\nclass MapsActivity : AppCompatActivity(), OnMapReadyCallback {\n\nprivate lateinit var mMap: GoogleMap\n\nprivate var latitude:Double=0.toDouble()\nprivate var longitude:Double=0.toDouble()\n\nlateinit var mService:IGoogleAPIService\n\ninternal var currentPlace: MyPlaces?=null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_maps)\n    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n    val mapFragment = supportFragmentManager\n        .findFragmentById(R.id.map) as SupportMapFragment\n    mapFragment.getMapAsync(this)\n\n    //Init Service\n    mService = Common.googleApiService\n\n    bottom_navigation_view.setOnNavigationItemReselectedListener {item -&gt;\n        when(item.itemId)\n        {\n            R.id.action_hospital -&gt; nearByPlace(\"hospital\")\n            R.id.action_restaurant -&gt; nearByPlace(\"restaurant\")\n            R.id.action_market -&gt; nearByPlace(\"market\")\n            R.id.action_school -&gt; nearByPlace(\"school\")\n        }\n    }\n}\n\nprivate fun nearByPlace(typePlace: String) {\n\n    //Clear all marker on Map\n    mMap.clear()\n    //build URL request base on location\n    val url = getUrl(latitude,longitude, typePlace)\n\n    mService.getNearByPlaces(url)\n        .enqueue(object : Callback&lt;MyPlaces&gt;{\n            override fun onResponse(call: Call&lt;MyPlaces&gt;, response: Response&lt;MyPlaces&gt;) {\n\n                currentPlace = response.body()\n\n                if(response!!.isSuccessful)\n                {\n                    for(i in 0 until response!!.body()!!.results!!.size)\n                    {\n                        val markerOptions=MarkerOptions()\n                        val googlePlace = response.body().results!!(i)\n                        val lat = googlePlace.geometry!!.location!!.lat\n                        val lng = googlePlace.geometry!!.location!!.lng\n                        val placeName = googlePlace.name\n                        val latLng = LatLng(lat, lng)\n\n                        markerOptions.position(latLng)\n                        markerOptions.title(placeName)\n                        if (typePlace.equals(\"hospital\"))\n                            markerOptions.icon(BitmapDescriptorFactory.fromResource(R.drawable.ic_local_hospital_black_24dp))\n                        else if (typePlace.equals(\"market\"))\n                            markerOptions.icon(BitmapDescriptorFactory.fromResource(R.drawable.ic_shopping_cart_black_24dp))\n                        else if (typePlace.equals(\"restaurant\"))\n                            markerOptions.icon(BitmapDescriptorFactory.fromResource(R.drawable.ic_restaurant_black_24dp))\n                        else if (typePlace.equals(\"school\"))\n                            markerOptions.icon(BitmapDescriptorFactory.fromResource(R.drawable.ic_school_black_24dp))\n                        else\n                            markerOptions.icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_BLUE))\n\n                        markerOptions.snippet(i.toString())\n\n                        //add marker to map\n                        mMap!!.addMarker(markerOptions)\n\n\n                    }\n                    //move camera\n                    mMap!!.moveCamera(CameraUpdateFactory.newLatLng(LatLng(latitude, longitude)))\n                    mMap!!.animateCamera(CameraUpdateFactory.zoomTo(15.0f))\n                }\n            }\n\n            override fun onFailure(call: Call&lt;MyPlaces&gt;, t: Throwable) {\n                Toast.makeText(baseContext, \"\"+t!!.message,Toast.LENGTH_SHORT).show()\n            }\n\n        })\n}\n\nprivate fun getUrl(latitude: Double, longitude: Double, typePlace: String): String {\n\n    val googlePlaceUrl = StringBuilder(\"https://maps.googleapis.com/maps/api/place/nearbysearch/json\")\n    googlePlaceUrl.append(\"?location=$latitude,$longitude\")\n    googlePlaceUrl.append(\"&amp;radius=10000\") //10 km\n    googlePlaceUrl.append(\"&amp;type=$typePlace\")\n    googlePlaceUrl.append(\"&amp;key=\")\n\n    Log.d(\"URL_DEBUG\", googlePlaceUrl.toString())\n    return googlePlaceUrl.toString()\n}\n\n/**\n * Manipulates the map once available.\n * This callback is triggered when the map is ready to be used.\n * This is where we can add markers or lines, add listeners or move the camera. In this case,\n * we just add a marker near Sydney, Australia.\n * If Google Play services is not installed on the device, the user will be prompted to install\n * it inside the SupportMapFragment. This method will only be triggered once the user has\n * installed Google Play services and returned to the app.\n */\noverride fun onMapReady(googleMap: GoogleMap) {\n    mMap = googleMap\n\n    // Add a marker in Sydney and move the camera\n    val barbier = LatLng(52.391274, 6.449712)\n    mMap.addMarker(MarkerOptions().position(barbier).title(\"Marker in Barbier\"))\n    mMap.moveCamera(CameraUpdateFactory.newLatLng(barbier))\n    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(barbier, 15.0f))\n}\n}\n</code></pre>\n\n<p>I can't seem to find any solution and i'm probably think way to difficult\u2026\nthe error is giving at the response.body()!!.results!!(i)</p>\n\n<pre><code>val googlePlace = response.body().results!!(i)\n</code></pre>\n\n<p>it sure is driving me crazy right now.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "answers": [{"comments": [{"owner": {"reputation": 1495, "user_id": 9133459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RA0nU.jpg?s=128&g=1", "display_name": "Rajdeep", "link": "https://stackoverflow.com/users/9133459/rajdeep"}, "edited": false, "score": 0, "creation_date": 1540998488, "post_id": 53086489, "comment_id": 93069863, "body": "I am left with this warning: <code>Warning: The app gradle file must have a dependency on com.google.firebase:firebase-core for Firebase services to work as intended.</code> after changing. I&#39;m wondering if it will be a problem."}], "tags": [], "owner": {"reputation": 1661, "user_id": 3624647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yuGKR.jpg?s=128&g=1", "display_name": "adityakamble49", "link": "https://stackoverflow.com/users/3624647/adityakamble49"}, "is_accepted": false, "score": 0, "last_activity_date": 1540998718, "last_edit_date": 1540998718, "creation_date": 1540998379, "answer_id": 53086489, "question_id": 53086464, "link": "https://stackoverflow.com/questions/53086464/dependancy-error-when-integrating-android-studio-project-with-firebase-for-a-goo/53086489#53086489", "title": "Dependancy error when integrating android studio project with Firebase for a google sign in feature", "body": "<p>Replace <code>implementation 'com.google.firebase:firebase-auth:16.0.1:15.0.0'</code></p>\n\n<p>By <code>implementation 'com.google.firebase:firebase-auth:16.0.4'</code></p>\n\n<p>Also add Firebase Core dependency\n<code>implementation 'com.google.firebase:firebase-core:16.0.4'</code></p>\n\n<p>Move your <code>apply plugin: 'com.google.gms.google-services'</code> to bottom of build file</p>\n"}, {"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 2, "last_activity_date": 1540998454, "creation_date": 1540998454, "answer_id": 53086519, "question_id": 53086464, "link": "https://stackoverflow.com/questions/53086464/dependancy-error-when-integrating-android-studio-project-with-firebase-for-a-goo/53086519#53086519", "title": "Dependancy error when integrating android studio project with Firebase for a google sign in feature", "body": "<p>You are getting the following error:</p>\n\n<blockquote>\n  <p>Failed to resolve: firebase-auth-15.0.0</p>\n</blockquote>\n\n<p>Because you are using a wrong dependency in your code. To solve this, please change the following line of code:</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-auth:16.0.1:15.0.0'\n</code></pre>\n\n<p>to</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-auth:16.0.5'\n</code></pre>\n\n<p>Because such a version <code>16.0.1:15.0.0</code> does not exist.</p>\n\n<p>Please also add the following dependency which is now mandatory:</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-core:16.0.4'\n</code></pre>\n\n<blockquote>\n  <p>Your app gradle file now has to explicitly list <code>com.google.firebase:firebase-core</code> as a dependency for Firebase services to work as expected.</p>\n</blockquote>\n\n<p>In your top level <code>build.gradle</code> file please be sure to have the latest version of Google Service plugin:</p>\n\n<pre><code>classpath 'com.google.gms:google-services:4.1.0'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1028, "user_id": 3616253, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ecdc62ac77c5d2c51747317bd31462ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jithish P N", "link": "https://stackoverflow.com/users/3616253/jithish-p-n"}, "is_accepted": false, "score": 0, "last_activity_date": 1541700783, "creation_date": 1541700783, "answer_id": 53213783, "question_id": 53086464, "link": "https://stackoverflow.com/questions/53086464/dependancy-error-when-integrating-android-studio-project-with-firebase-for-a-goo/53213783#53213783", "title": "Dependancy error when integrating android studio project with Firebase for a google sign in feature", "body": "<p>Remove </p>\n\n<pre><code>  implementation 'com.google.firebase:firebase-database:16.0.1:15.0.0'\n</code></pre>\n\n<p>add </p>\n\n<pre><code> implementation 'com.google.firebase:firebase-database:16.0.1'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10593677, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A_SSJT25fLM/AAAAAAAAAAI/AAAAAAAADPQ/tckC_Ac4Ah8/photo.jpg?sz=128", "display_name": "Tincho", "link": "https://stackoverflow.com/users/10593677/tincho"}, "is_accepted": false, "score": 0, "last_activity_date": 1545126504, "creation_date": 1545126504, "answer_id": 53830301, "question_id": 53086464, "link": "https://stackoverflow.com/questions/53086464/dependancy-error-when-integrating-android-studio-project-with-firebase-for-a-goo/53830301#53830301", "title": "Dependancy error when integrating android studio project with Firebase for a google sign in feature", "body": "<p>If I make this the \"add firebase authentication...\" dissapear. You know... in android studio, the firebase assistant menu gives a quickly way to set firebase services. When click on \"Add Firebase Authentication to your app\" button, android says:</p>\n\n<pre><code>app/build.gradle\n\nbuild.gradle will include these new dependencies:\n\n\ncompile 'com.google.firebase:firebase-auth:16.0.1:15.0.0'\nACCEPT CHANGES? -&gt; YESSSS\n</code></pre>\n\n<p>and then the sync fail. If I replace this with:</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-auth:16.0.4'\n</code></pre>\n\n<p>firebase will not add to my app.</p>\n"}], "owner": {"reputation": 1495, "user_id": 9133459, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RA0nU.jpg?s=128&g=1", "display_name": "Rajdeep", "link": "https://stackoverflow.com/users/9133459/rajdeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 1, "accepted_answer_id": 53086519, "answer_count": 4, "score": 2, "last_activity_date": 1545126504, "creation_date": 1540998288, "last_edit_date": 1540998753, "question_id": 53086464, "link": "https://stackoverflow.com/questions/53086464/dependancy-error-when-integrating-android-studio-project-with-firebase-for-a-goo", "title": "Dependancy error when integrating android studio project with Firebase for a google sign in feature", "body": "<p>I'm developing an app in Kotlin and keep getting the error:</p>\n\n<blockquote>\n  <p>Failed to resolve: firebase-auth-15.0.0`</p>\n</blockquote>\n\n<p>when trying to sync gradle. I'm trying to implement a google sign in feature.</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\ncompileSdkVersion 28\ndefaultConfig {\n    applicationId \"nus.is3261.kotlinapp\"\n    minSdkVersion 21\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'com.android.support:appcompat-v7:28.0.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.1.3'\nimplementation 'com.android.support:support-v4:28.0.0'\nimplementation 'com.android.support:design:28.0.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\nimplementation 'com.google.firebase:firebase-auth:16.0.1:15.0.0'\n\n}\n</code></pre>\n\n<p>I have tried to follow the solution on stack overflow <a href=\"https://stackoverflow.com/questions/52557175/failed-to-resolve-firebase-auth-15-0-0\">here</a>, but I am left with this warning after syncing gradle  <code>Warning: The app gradle file must have a dependency on com.google.firebase:firebase-core for Firebase services to work as intended.</code></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 1, "creation_date": 1540996717, "post_id": 53085742, "comment_id": 93068627, "body": "<a href=\"https://stackoverflow.com/questions/9668041/android-how-to-print-a-array-in-text-view-or-anything\" title=\"android how to print a array in text view or anything\">stackoverflow.com/questions/9668041/&hellip;</a>  Please check if this helps"}, {"owner": {"reputation": 550, "user_id": 7214847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-UIMOPBnXbmo/AAAAAAAAAAI/AAAAAAAAADs/7Mg6UYkDwuY/photo.jpg?sz=128", "display_name": "Tadreik", "link": "https://stackoverflow.com/users/7214847/tadreik"}, "reply_to_user": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1540996796, "post_id": 53085742, "comment_id": 93068674, "body": "@DhavalJardosh I guess I couldn&#39;t find that duplicate question because I was searching specifically for Kotlin and android, not java."}, {"owner": {"reputation": 6228, "user_id": 7427111, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154540609073171/picture?type=large", "display_name": "Dhaval Jardosh", "link": "https://stackoverflow.com/users/7427111/dhaval-jardosh"}, "edited": false, "score": 0, "creation_date": 1540997180, "post_id": 53085742, "comment_id": 93068940, "body": "If you figured out the solution, it&#39;s better that you post the answer, as it will be more specific. :)"}], "answers": [{"tags": [], "owner": {"reputation": 550, "user_id": 7214847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-UIMOPBnXbmo/AAAAAAAAAAI/AAAAAAAAADs/7Mg6UYkDwuY/photo.jpg?sz=128", "display_name": "Tadreik", "link": "https://stackoverflow.com/users/7214847/tadreik"}, "is_accepted": false, "score": 1, "last_activity_date": 1540997348, "creation_date": 1540997348, "answer_id": 53086133, "question_id": 53085742, "link": "https://stackoverflow.com/questions/53085742/how-to-set-a-list-array-to-a-textview/53086133#53086133", "title": "How to set a list/array to a TextView", "body": "<p>This is the code I used to fix it</p>\n\n<pre><code>for (i in 0 until possibleInputs.size) {\n    text2.append(possibleInputs[i].toString())\n    }\n</code></pre>\n"}], "owner": {"reputation": 550, "user_id": 7214847, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-UIMOPBnXbmo/AAAAAAAAAAI/AAAAAAAAADs/7Mg6UYkDwuY/photo.jpg?sz=128", "display_name": "Tadreik", "link": "https://stackoverflow.com/users/7214847/tadreik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1540997348, "creation_date": 1540996110, "question_id": 53085742, "link": "https://stackoverflow.com/questions/53085742/how-to-set-a-list-array-to-a-textview", "title": "How to set a list/array to a TextView", "body": "<p>I have a mutable list that changes each time the <code>generate()</code> function is called. What I'm trying to do is convert it to a string and set it to a TextView. The way I set the TextView below works for Integers but not for lists. It just does not display the contents of the list and I have no idea why it won't work. Instead the TextView2 does this: <code>Genereated Numbers: []</code></p>\n\n<pre><code>    val text = findViewById&lt;TextView&gt;(R.id.textView)\n    val text2 = findViewById&lt;TextView&gt;(R.id.textView2)\n\n    var possibleInputs = mutableListOf(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20)\n\n    fun generate() {\n        var num = (0..20).shuffled().last()\n\n        when {\n            possibleInputs.size == 0 -&gt; text.text = \"Done\"\n            num in possibleInputs -&gt; {\n                text.text = \"$num\"\n                text2.text = \"Generated Numbers: $possibleInputs\"\n                possibleInputs.remove(num)\n            }\n            else -&gt; generate()\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540994806, "post_id": 53085272, "comment_id": 93067368, "body": "Where is that error, and what is <code>employeesList</code>?"}, {"owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540995133, "post_id": 53085272, "comment_id": 93067580, "body": "The Wanderer please read carefully, everything is explained there. Thanks."}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540995184, "post_id": 53085272, "comment_id": 93067611, "body": "No, it isn&#39;t. That error is about a specific part of the line. I see the array type now, but the error location isn&#39;t specified in your question."}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540995241, "post_id": 53085272, "comment_id": 93067648, "body": "Also, are you sure <code>userName</code> is actually a String, not a CharSequence?"}, {"owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540995306, "post_id": 53085272, "comment_id": 93067696, "body": "See what you mean, It&#39;s on &quot;indexOf&quot;"}, {"owner": {"reputation": 1306, "user_id": 4696890, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9OlmfojJji8/AAAAAAAAAAI/AAAAAAAAAPc/9KjT9sA9QBc/photo.jpg?sz=128", "display_name": "Roman Golyshev", "link": "https://stackoverflow.com/users/4696890/roman-golyshev"}, "edited": false, "score": 0, "creation_date": 1540995348, "post_id": 53085272, "comment_id": 93067731, "body": "Try using <code>employeesList.asList().indexOf(userName)</code>"}, {"owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "edited": false, "score": 0, "creation_date": 1540995365, "post_id": 53085272, "comment_id": 93067742, "body": "Yes, userName is a String"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540995444, "post_id": 53085272, "comment_id": 93067785, "body": "Can you just add the actual code of how <code>employeesList</code> and <code>userName</code> are defined? Either <code>employeesList</code> isn&#39;t actually a String Array, or <code>userName</code> isn&#39;t a String."}, {"owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "edited": false, "score": 0, "creation_date": 1540995761, "post_id": 53085272, "comment_id": 93068018, "body": "The Wanderer, you are right: employeesList is an ArrayList. Thanks for pointing that out. Will delete this question. Cheers"}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "reply_to_user": {"reputation": 1306, "user_id": 4696890, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9OlmfojJji8/AAAAAAAAAAI/AAAAAAAAAPc/9KjT9sA9QBc/photo.jpg?sz=128", "display_name": "Roman Golyshev", "link": "https://stackoverflow.com/users/4696890/roman-golyshev"}, "edited": false, "score": 0, "creation_date": 1540995891, "post_id": 53085272, "comment_id": 93068100, "body": "@RomanGolyshev <code>asList()</code> just calls <code>Arrays.asList()</code> internally."}], "answers": [{"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": false, "score": 0, "last_activity_date": 1540996277, "creation_date": 1540996277, "answer_id": 53085805, "question_id": 53085272, "link": "https://stackoverflow.com/questions/53085272/how-can-i-explicitly-specify-a-value/53085805#53085805", "title": "How can I explicitly specify a value", "body": "<p>As discussed in the comments, your <code>employeesList</code> was already a List, and not a String Array, meaning <code>Arrays.asList()</code> was creating an <code>ArrayList&lt;ArrayList&lt;String&gt;</code> with a single element.</p>\n\n<p>To answer the type declaration question (although it wouldn't solve this issue):</p>\n\n<pre><code>val someInteger: Int\nval someString: String\n//etc\n</code></pre>\n\n<p>The type declaration goes after the variable name, following a colon.</p>\n"}, {"tags": [], "owner": {"reputation": 5076, "user_id": 1943607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bda2aede116f34dec8df0159e2e8e8e9?s=128&d=identicon&r=PG&f=1", "display_name": "Reinherd", "link": "https://stackoverflow.com/users/1943607/reinherd"}, "is_accepted": false, "score": 0, "last_activity_date": 1540998242, "creation_date": 1540998242, "answer_id": 53086451, "question_id": 53085272, "link": "https://stackoverflow.com/questions/53085272/how-can-i-explicitly-specify-a-value/53086451#53086451", "title": "How can I explicitly specify a value", "body": "<p>You've another option which is this one:</p>\n\n<pre><code>val indexOfItem = listOf(\"1\",\"2\",\"3\").indexOfFirst { it == \"3\" }\n</code></pre>\n\n<p>So the value <code>indexOfItem</code> will be 2. The lambda is executed for every item, and the lambda must return true if it matches your search.</p>\n"}], "owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1541067185, "creation_date": 1540994649, "last_edit_date": 1541067185, "question_id": 53085272, "link": "https://stackoverflow.com/questions/53085272/how-can-i-explicitly-specify-a-value", "title": "How can I explicitly specify a value", "body": "<p>I need to get the index of an element in a Spinner with the following expression where employeesList is a String Array and userName is the string value of the element in the spinner:</p>\n\n<pre><code>val itemPosition = Arrays.asList(employeesList).indexOf(userName)\n</code></pre>\n\n<p>In return I get the following error:</p>\n\n<blockquote>\n  <p>\"kotlin type inference failed. the value of the type parameter T\n  should be mention in input types (argument types receiver type or\n  expected type.(try to specify it explicitly)\"</p>\n</blockquote>\n"}, {"tags": ["kotlin", "android-edittext"], "answers": [{"tags": [], "owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "is_accepted": false, "score": 0, "last_activity_date": 1540993606, "creation_date": 1540993606, "answer_id": 53084907, "question_id": 53083672, "link": "https://stackoverflow.com/questions/53083672/kotlin-check-if-edittext-content-has-been-modifed-by-user-or-programmatically/53084907#53084907", "title": "kotlin - Check if editText content has been modifed by user or programmatically", "body": "<p>I think your best option would be to use the actionDone ime option. This way only when the user is done editing the field the other edit text will be updated.\nTo do that you would need to add <code>android:imeOptions=\"actionDone\"</code> to your editText xml el elements. Then in your code instead of listening for changes you would add an action listener:</p>\n\n<pre><code>editText1.setOnEditorActionListener() { v, actionId, event -&gt;\n      if(actionId == EditorInfo.IME_ACTION_DONE){\n          editText2.setText(editText1.doubleValue() * 5)\n          true\n      } else {\n          false\n      }\n}\n</code></pre>\n\n<p>Without knowing you use case I don't know if this solution will work for you. If you need to update the editTexts in real time maybe checking if the field is in focus could prevent the infinit loop:</p>\n\n<pre><code> editText1.addTextChangedListener(object : TextWatcher {\n        override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n        override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n        override fun afterTextChanged(editable: Editable) {\n           if(editText1.hasFocus()) {\n             editText2.setText(editText1.doubleValue() * 5)\n           }\n        }\n    })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "edited": false, "score": 0, "creation_date": 1540995863, "post_id": 53085118, "comment_id": 93068081, "body": "I can&#39;t wrap my head around the use case, but of all the presented options, I think your solution is probably the cleanest that doesn&#39;t involve flag management."}], "tags": [], "owner": {"reputation": 11165, "user_id": 2000300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/c8eI2.jpg?s=128&g=1", "display_name": "pdegand59", "link": "https://stackoverflow.com/users/2000300/pdegand59"}, "is_accepted": false, "score": 4, "last_activity_date": 1540994171, "creation_date": 1540994171, "answer_id": 53085118, "question_id": 53083672, "link": "https://stackoverflow.com/questions/53083672/kotlin-check-if-edittext-content-has-been-modifed-by-user-or-programmatically/53085118#53085118", "title": "kotlin - Check if editText content has been modifed by user or programmatically", "body": "<p>You can save the TextWatchers in variables, remove them before programatically changing the content of each <code>TextView</code> then add them back again.</p>\n\n<pre><code>class MyActivity: AppCompatActivity() {\n\n  private val textWatcher1 = object : TextWatcher {\n    override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n    override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n    override fun afterTextChanged(editable: Editable) {\n      updateEditText2()\n    }\n  }\n\n  fun EditText.doubleValue() = text.toString().toDoubleOrNull() ?: 0.0\n\n  private val textWatcher2 = object : TextWatcher {\n    override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n    override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n    override fun afterTextChanged(editable: Editable) {\n      updateEditText1()\n    }\n  }\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    editText1.addTextChangedListener(textWatcher1)\n    editText2.addTextChangedListener(textWatcher2)\n  }\n\n\n  private fun updateEditText1() {\n    editText1.removeTextChangedListener(textWatcher1)\n    editText1.setText(editText2.doubleValue() * 5)\n    editText1.addTextChangedListener(textWatcher1)\n  }\n\n  private fun updateEditText2() {\n    editText2.removeTextChangedListener(textWatcher2)\n    editText2.setText(editText1.doubleValue() * 5)\n    editText2.addTextChangedListener(textWatcher2)\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 0, "last_activity_date": 1540996265, "last_edit_date": 1540996265, "creation_date": 1540994511, "answer_id": 53085229, "question_id": 53083672, "link": "https://stackoverflow.com/questions/53083672/kotlin-check-if-edittext-content-has-been-modifed-by-user-or-programmatically/53085229#53085229", "title": "kotlin - Check if editText content has been modifed by user or programmatically", "body": "<p>First of all, remove the function <code>doubleValue()</code>, it does not work (or at least I could not make it work).  <br/>\nUse 2 boolean variables <code>from1</code> and <code>from2</code>, indicating that the change that is about to be done is from code and check their values inside the watchers.  <br/>\nSay that you type inside <code>editText1</code>. <br/>\nThe textwatcher of <code>editText1</code> before changing the value of <code>editText2</code> sets <code>from1 = true</code>.  <br/>\nWhen the text of <code>editText2</code> changes, the textwatcher of <code>editText2</code> checks the value of <code>from1</code> and because it is <code>true</code> does nothing, only sets <code>from1 = false</code>.</p>\n\n<pre><code>var from1 = false;\nvar from2 = false;\n\neditText1.addTextChangedListener(object : TextWatcher {\n    override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n    override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n    override fun afterTextChanged(editable: Editable) {\n        if (from2) {\n            from2 = false\n        } else {\n            val value = editText1.text.toString().toDoubleOrNull() ?: 0.0\n            from1 = true\n            editText2.setText((value * 5).toString())\n        }\n    }\n})\n\neditText2.addTextChangedListener(object : TextWatcher {\n    override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n    override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n    override fun afterTextChanged(editable: Editable) {\n        if (from1) {\n            from1 = false\n        } else {\n            val value = editText2.text.toString().toDoubleOrNull() ?: 0.0\n            from2 = true\n            editText1.setText((value * 5).toString())\n        }\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 7648573, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h27nZgsBzoM/AAAAAAAAAAI/AAAAAAAAE50/bt32JKQC9qM/photo.jpg?sz=128", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/7648573/arfmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2873, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1541086433, "creation_date": 1540989928, "last_edit_date": 1541086433, "question_id": 53083672, "link": "https://stackoverflow.com/questions/53083672/kotlin-check-if-edittext-content-has-been-modifed-by-user-or-programmatically", "title": "kotlin - Check if editText content has been modifed by user or programmatically", "body": "<p>I have 2 editTexts. When editText1 is modified, editText2 content will equal to editText1 * 5. When editText2 is modified, editText1 content will be equal to editText2 * 5. </p>\n\n<p>Now, if I use <code>addTextChangedListener()</code> it goes in loops beacause editTexts content will change always causing a crash. I need to detect if editTexts are modified by user or programmatically.</p>\n\n<p>Any idea?</p>\n\n<p>If can help, here's my code:</p>\n\n<pre><code>     fun EditText.doubleValue() = text.toString().toDoubleOrNull() ?: 0.0\n\n     editText1.addTextChangedListener(object : TextWatcher {\n            override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n            override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n            override fun afterTextChanged(editable: Editable) {\n\n               editText2.setText(editText1.doubleValue() * 5)\n            }\n        })\n\n\n\neditText2.addTextChangedListener(object : TextWatcher {\n                override fun beforeTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n                override fun onTextChanged(charSequence: CharSequence, i: Int, i1: Int, i2: Int) {}\n\n                override fun afterTextChanged(editable: Editable) {\n\n                   editText1.setText(editText2.doubleValue() * 5)\n                }\n            })\n</code></pre>\n\n<p><strong>EDIT: SOLVED</strong></p>\n\n<p>I used <code>if(editText.isFocused)</code> to check if was changed by user</p>\n"}, {"tags": ["kotlin", "retrofit", "rx-android"], "comments": [{"owner": {"reputation": 3020, "user_id": 2813804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/061Zc.jpg?s=128&g=1", "display_name": "Akshay Paliwal", "link": "https://stackoverflow.com/users/2813804/akshay-paliwal"}, "edited": false, "score": 0, "creation_date": 1540990005, "post_id": 53083503, "comment_id": 93063945, "body": "Where is your main thread, I mean your view class ?"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 3020, "user_id": 2813804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/061Zc.jpg?s=128&g=1", "display_name": "Akshay Paliwal", "link": "https://stackoverflow.com/users/2813804/akshay-paliwal"}, "edited": false, "score": 0, "creation_date": 1540990060, "post_id": 53083503, "comment_id": 93063976, "body": "Okay i update question with <code>view</code>"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 3020, "user_id": 2813804, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/061Zc.jpg?s=128&g=1", "display_name": "Akshay Paliwal", "link": "https://stackoverflow.com/users/2813804/akshay-paliwal"}, "edited": false, "score": 0, "creation_date": 1540990171, "post_id": 53083503, "comment_id": 93064052, "body": "@AkshayPaliwal please check."}], "answers": [{"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540990591, "post_id": 53083796, "comment_id": 93064333, "body": "<i>Observable needs to be chain calls when you do RxJava operations</i> - where did you get that from? It&#39;s not true"}], "tags": [], "owner": {"reputation": 8724, "user_id": 1799145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wdmkL.jpg?s=128&g=1", "display_name": "Silambarasan Poonguti", "link": "https://stackoverflow.com/users/1799145/silambarasan-poonguti"}, "is_accepted": false, "score": 1, "last_activity_date": 1540990309, "creation_date": 1540990309, "answer_id": 53083796, "question_id": 53083503, "link": "https://stackoverflow.com/questions/53083503/networkonmainthreadexception-with-retrofit-and-rxandroid-in-kotlin/53083796#53083796", "title": "NetworkOnMainThreadException with Retrofit and Rxandroid in kotlin", "body": "<p>Try this...</p>\n\n<pre><code>fun getList() {\n    val observable:Observable&lt;ArrayList&lt;Data&gt;&gt;  = apiInterface.getUsers()\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribeWith(object : DisposableObserver&lt;ArrayList&lt;Data&gt;&gt;() {\n            override fun onComplete() {\n                Toast.makeText(context, \"onComplete\", Toast.LENGTH_SHORT).show()\n            }\n\n            override fun onNext(t: ArrayList&lt;Data&gt;) {\n\n                Log.e(\"SIZE\", \"\" + t.size)\n                Toast.makeText(context, \"onNext\", Toast.LENGTH_SHORT).show()\n            }\n\n            override fun onError(e: Throwable) {\n                Toast.makeText(context, \"onError\", Toast.LENGTH_SHORT).show()\n                Log.e(\"TAG ON ERROR\", \"\" + e)\n            }\n        })\n    }\n</code></pre>\n\n<p>Observable needs to be chain calls when you do RxJava operations because Observable is not the builder pattern.</p>\n"}], "owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541052668, "creation_date": 1540989430, "last_edit_date": 1541052668, "question_id": 53083503, "link": "https://stackoverflow.com/questions/53083503/networkonmainthreadexception-with-retrofit-and-rxandroid-in-kotlin", "title": "NetworkOnMainThreadException with Retrofit and Rxandroid in kotlin", "body": "<p>This question has asked many times but none of the solutions is working. I don't know what's going on with code. Always shows <code>android.os.NetworkOnMainThreadException</code> </p>\n\n<p>Below code is my <code>ViewModel</code> class</p>\n\n<pre><code>class MainActicityViewModel(val context: MainActivity) : BaseObservable() {\n\nval layoutManagerAppointment = LinearLayoutManager(context)\nprivate val appClient = Appclient().getClient(context)\nprivate val apiInterface = appClient.create(ApiInterface::class.java)\nvar rcyAdapter: RcyAdapter? = null\n\ninit {\n    getList()\n}\n\nfun getList() {\n    val observable = apiInterface.getUsers()\n    observable.subscribeOn(Schedulers.io()) // i have also registerd for Schedulers.newThread()\n\n    observable.observeOn(AndroidSchedulers.mainThread())\n    observable.subscribeWith(object : DisposableObserver&lt;ArrayList&lt;Data&gt;&gt;() {\n        override fun onComplete() {\n            Toast.makeText(context, \"onComplete\", Toast.LENGTH_SHORT).show()\n        }\n\n        override fun onNext(t: ArrayList&lt;Data&gt;) {\n\n            Log.e(\"SIZE\", \"\" + t.size)\n            Toast.makeText(context, \"onNext\", Toast.LENGTH_SHORT).show()\n        }\n\n        override fun onError(e: Throwable) {\n            Toast.makeText(context, \"onError\", Toast.LENGTH_SHORT).show()\n            Log.e(\"TAG ON ERROR\", \"\" + e)\n\n\n        }\n\n    })\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Below code is <code>Retrofit Client class</code></p>\n\n<pre><code>class Appclient {\n\nprivate var retrofit: Retrofit? = null\nprivate val baseUrl = \"https://jsonplaceholder.typicode.com\"\n\nfun getClient(context: Context): Retrofit {\n    //Here a logging interceptor is created\n    val interceptor = HttpLoggingInterceptor()\n    interceptor.level = HttpLoggingInterceptor.Level.BODY\n    val client = OkHttpClient.Builder()\n        .addInterceptor(interceptor).build()\n\n    retrofit = Retrofit.Builder()\n        .baseUrl(baseUrl)\n        .addConverterFactory(GsonConverterFactory.create())\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .client(client)\n        .build()\n    return (retrofit)!!\n}}\n</code></pre>\n\n<p>And my retrofit interface</p>\n\n<pre><code>interface ApiInterface {\n@GET(\"/users\")\nfun getUsers(): Observable&lt;ArrayList&lt;Data&gt;&gt;}\n</code></pre>\n\n<p>Here is the <code>MainActivity</code> class</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nlateinit var vModel: MainActicityViewModel\nvar mainBinding: ActivityMainBinding? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    mainBinding = DataBindingUtil.setContentView(this@MainActivity, R.layout.activity_main)\n    vModel = MainActicityViewModel(this@MainActivity)\n    mainBinding!!.viewModel = vModel\n}}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 157, "user_id": 2657670, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/03dbce01f14f601b3f6e0f991613db4f?s=128&d=identicon&r=PG", "display_name": "stallianz", "link": "https://stackoverflow.com/users/2657670/stallianz"}, "edited": false, "score": 0, "creation_date": 1540994800, "post_id": 53083388, "comment_id": 93067363, "body": "not sure if it helps, I found this: <a href=\"https://firebase.google.com/support/faq/#fcm-android-background\" rel=\"nofollow noreferrer\">firebase.google.com/support/faq/#fcm-android-background</a>"}], "owner": {"reputation": 587, "user_id": 1125061, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/lMPNz.gif?s=128&g=1", "display_name": "Cookienator", "link": "https://stackoverflow.com/users/1125061/cookienator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540994504, "creation_date": 1540989070, "last_edit_date": 1540994504, "question_id": 53083388, "link": "https://stackoverflow.com/questions/53083388/fcm-onmessagereceived-not-called-even-when-app-is-in-foreground", "title": "FCM onMessageReceived() not called, even when app is in foreground", "body": "<p><strong>UPDATE</strong>:</p>\n\n<p>Apparently, if I hit \"test on device\" and supply the registration token, things work fine... still not sure how to handle new devices with the same app. I can add all of them manually, hit the \"test on device\" button, and they will all receive the message, but if I hit the \"publish\" button and choose the app, only the first one receives the message.</p>\n\n<p>==========================================================================</p>\n\n<p>I'm trying to integrate FCM into my app.</p>\n\n<p>My app is in <strong>foreground</strong> </p>\n\n<p>I went <a href=\"https://stackoverflow.com/questions/48042412/onmessagereceived-not-fired-when-app-in-foreground\">here</a> first, however, this question is 10 months old, and it doesn't seem like extending FirebaseIDService is required anymore.</p>\n\n<p>I have the google-services.json set up correctly</p>\n\n<p>I added the correct dependencies to my project .gradle file:</p>\n\n<pre><code>classpath 'com.google.gms:google-services:4.2.0' // google-services plugin\n</code></pre>\n\n<p>As well as to the app .gradle file:</p>\n\n<pre><code>dependencies {\n    //...\n    implementation 'com.google.firebase:firebase-core:16.0.4'\n    implementation 'com.google.firebase:firebase-messaging:17.3.4'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>This is the service I added to my manifest:</p>\n\n<pre><code>    &lt;service android:name=\".MyFirebaseMessagingService\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n</code></pre>\n\n<p>This is the service I'm extending:</p>\n\n<pre><code>class MyFirebaseMessagingService : FirebaseMessagingService()\n{\n    companion object {\n        const val TOKEN_REFRESHED_EVENT = \"token_refreshed_event\"\n    }\n\n    override fun onNewToken(token: String?) {\n        Log.d(\"MyFcmMessagingService\", \"Refreshed token: \" + token!!)\n        LocalBroadcastManager.getInstance(this).sendBroadcast(Intent(TOKEN_REFRESHED_EVENT))\n    }\n\n    override fun onMessageReceived(remoteMessage: RemoteMessage?) {\n        Log.d(\"MyFcmMessagingService\", \"From: \" + remoteMessage!!.from!!)\n    }\n}\n</code></pre>\n\n<p>The onNewToken method works just fine.\nWhen I'm trying to send out a Notification from the Firebase console, nothing happens.</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 327, "user_id": 9833889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cNwQgD4OCUU/AAAAAAAAAAI/AAAAAAAAAZ4/SKmYaPl1pQo/photo.jpg?sz=128", "display_name": "chetan mahajan", "link": "https://stackoverflow.com/users/9833889/chetan-mahajan"}, "edited": false, "score": 0, "creation_date": 1540986968, "post_id": 53082360, "comment_id": 93062277, "body": "try this, <a href=\"https://stackoverflow.com/questions/47563197/class-is-missing-a-constructor-with-no-arguments-but-ive-provided-a-construct\" title=\"class is missing a constructor with no arguments but ive provided a construct\">stackoverflow.com/questions/47563197/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/38287811/empty-constructor-for-kotlin-object-to-use-firebase\" title=\"empty constructor for kotlin object to use firebase\">stackoverflow.com/questions/38287811/&hellip;</a>"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1540989696, "post_id": 53082360, "comment_id": 93063772, "body": "Have you tried to declare it like this <code>var localizable: Map&lt;String,Any&gt;? = hashMapOf()</code> and get it accordingly? What is happening in this case? Please responde with @."}], "owner": {"reputation": 6818, "user_id": 1282166, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Hd0XQ.jpg?s=128&g=1", "display_name": "Shudy", "link": "https://stackoverflow.com/users/1282166/shudy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540985518, "creation_date": 1540985518, "question_id": 53082360, "link": "https://stackoverflow.com/questions/53082360/retrieve-data-from-firebase-where-is-params-are-variable", "title": "Retrieve data from Firebase where is &quot;params&quot; are variable", "body": "<p>I have a data class where I retrieve Firebase information. It looks similar to this:</p>\n\n<pre><code>@IgnoreExtraProperties\ndata class EventData(var eventEmoji: String = \"\",\n                            var PlanType: PlanType = PlanType.CUSTOM_TYPE_1,\n                            var accel: Boolean = false,\n                            var latitude: String = \"0.0\",\n                            var longitude: String = \"0.0\",\n                            var initialDate: String = \"\",\n                            var finalDate: String = \"\",\n                            var initialHour: String = \"\",\n                            var finalHour: String = \"\",\n                            var plae: String = \"\",\n                            var addr: String = \"\",\n                            var description: String = \"\",\n                            var adminProfileImageUrl: String = \"\") : Serializable\n</code></pre>\n\n<p>The problem that I'm facing now, is that exist a new data information that before was unused.</p>\n\n<p>But this new field can exist or not depending on Business people. That field contains some translations, but... not always are the same or same number of it.</p>\n\n<p>Example how is in Firebase:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fIYfT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fIYfT.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is that I don't know how to retrieve all this data in the <code>EventData</code> class.</p>\n\n<p>I tried to add the new attribute as:</p>\n\n<p><code>var localizable: Map&lt;Any,Any&gt;? = hashMapOf()</code></p>\n\n<p><code>var localizable: Map&lt;String,Any&gt;? = hashMapOf()</code></p>\n\n<p><code>var localizable: Map&lt;String,String&gt;? = hashMapOf()</code></p>\n\n<p><code>var localizable: Map&lt;String,SpecificClass&gt;? = hashMapOf()</code></p>\n\n<p>But... doesn't work.</p>\n\n<p>Is possible to achieve?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540986092, "post_id": 53082337, "comment_id": 93061816, "body": "what does <code>Log.get()</code> return and how could this be null? Are you making it nullable only to prevent something from happening in the calling class? (that seems a bit odd)"}, {"owner": {"reputation": 213, "user_id": 10170063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JxVp52QdRw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o1bFgZe7s34OMWUnotL5YbmZ73FQ/mo/photo.jpg?sz=128", "display_name": "Iain Merrick", "link": "https://stackoverflow.com/users/10170063/iain-merrick"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540986520, "post_id": 53082337, "comment_id": 93062044, "body": "<code>Log.get()</code> returns a <code>Logger</code> object (but note, not a standard <code>java.util.logging.Logger</code> for legacy reasons). It always returns a valid <code>Logger</code> but in certain build configurations the log messages will just be thrown away, so the time spent formatting the string is wasted. This mostly quite cheap but not always.  So yes, I want to return null to stop the caller formatting the string."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1540987813, "post_id": 53082337, "comment_id": 93062758, "body": "could you please show how the current <code>Log</code> is implemented? or what it is (object? companion?)? also: how are the <code>getNullable</code> defined now?"}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1540988758, "post_id": 53083112, "comment_id": 93063283, "body": "funny enough... just played around by deprecating the companion object... that didn&#39;t give me any error in Java, but it showed the deprecation on the Kotlin side :-)"}, {"owner": {"reputation": 213, "user_id": 10170063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JxVp52QdRw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o1bFgZe7s34OMWUnotL5YbmZ73FQ/mo/photo.jpg?sz=128", "display_name": "Iain Merrick", "link": "https://stackoverflow.com/users/10170063/iain-merrick"}, "edited": false, "score": 0, "creation_date": 1540988818, "post_id": 53083112, "comment_id": 93063313, "body": "Yep, I definitely want to hide the new method from Java callers and this is a good way to do it. But my question is how to deprecate/hide the old method for Kotlin callers."}, {"owner": {"reputation": 213, "user_id": 10170063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JxVp52QdRw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o1bFgZe7s34OMWUnotL5YbmZ73FQ/mo/photo.jpg?sz=128", "display_name": "Iain Merrick", "link": "https://stackoverflow.com/users/10170063/iain-merrick"}, "edited": false, "score": 0, "creation_date": 1540988857, "post_id": 53083112, "comment_id": 93063331, "body": "Wow, deprecating the companion object! That&#39;s a nifty idea, I&#39;ll give it a try!"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 213, "user_id": 10170063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JxVp52QdRw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o1bFgZe7s34OMWUnotL5YbmZ73FQ/mo/photo.jpg?sz=128", "display_name": "Iain Merrick", "link": "https://stackoverflow.com/users/10170063/iain-merrick"}, "edited": false, "score": 0, "creation_date": 1540989011, "post_id": 53083112, "comment_id": 93063412, "body": "that rather smells like a bug to me... when consulting the javadoc, the deprecation is shown... :-/"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 213, "user_id": 10170063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JxVp52QdRw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o1bFgZe7s34OMWUnotL5YbmZ73FQ/mo/photo.jpg?sz=128", "display_name": "Iain Merrick", "link": "https://stackoverflow.com/users/10170063/iain-merrick"}, "edited": false, "score": 0, "creation_date": 1540989225, "post_id": 53083112, "comment_id": 93063514, "body": "ok... have something for you to never call a method in Kotlin again ;-) <code>@JvmName</code> may do the trick... (it&#39;s just a workaround... but that&#39;s <code>getNullable()?</code> to, right? ;-) )"}, {"owner": {"reputation": 213, "user_id": 10170063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JxVp52QdRw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o1bFgZe7s34OMWUnotL5YbmZ73FQ/mo/photo.jpg?sz=128", "display_name": "Iain Merrick", "link": "https://stackoverflow.com/users/10170063/iain-merrick"}, "edited": false, "score": 0, "creation_date": 1540989284, "post_id": 53083112, "comment_id": 93063547, "body": "OK, deprecating the companion object gets me part way because the deprecation shows up in Kotlin but not in Java. However, it effectively deprecates <i>all</i> the static methods in <code>Log</code> and I don&#39;t see any way to add a new non-deprecated one (extension methods show up as deprecated too)."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 213, "user_id": 10170063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JxVp52QdRw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o1bFgZe7s34OMWUnotL5YbmZ73FQ/mo/photo.jpg?sz=128", "display_name": "Iain Merrick", "link": "https://stackoverflow.com/users/10170063/iain-merrick"}, "edited": false, "score": 0, "creation_date": 1540989348, "post_id": 53083112, "comment_id": 93063586, "body": "I think that&#39;s probably a bug... at least I would have expected the <code>Companion</code> to be deprecated in Java as well..."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1540991587, "last_edit_date": 1540991587, "creation_date": 1540988087, "answer_id": 53083112, "question_id": 53082337, "link": "https://stackoverflow.com/questions/53082337/can-i-mark-a-method-as-deprecated-for-kotlin-callers-but-not-for-java-callers/53083112#53083112", "title": "Can I mark a method as deprecated for Kotlin callers, but not for Java callers?", "body": "<p>Assuming a class <code>Log</code> whose methods are defined in the <code>companion object</code>, e.g.:</p>\n\n<pre><code>class Log {\n  companion object {\n    @JvmStatic\n    fun get() : String = TODO()\n    @JvmStatic\n    fun getNullable() : String? = TODO()\n  }\n}\n</code></pre>\n\n<p>What about just removing the <code>@JvmStatic</code>? or creating an extension function instead?</p>\n\n<pre><code>fun Log.Companion.getNullable() : String? = TODO()\nclass Log {\n  companion object {\n    @JvmStatic\n    fun get() : String = TODO()\n  }\n}\n</code></pre>\n\n<p>Extension functions are usually not that easily accessible in Java as they are in Kotlin. Both, removing <code>@JvmStatic</code> or the extension function would require the following in the Java code: <code>Log.Companion.getNullable</code> instead of <code>Log.getNullable</code>... Maybe that's also ok for you instead of deprecating it.</p>\n\n<p>Even if my guess is off, an extension function may suit your needs here.</p>\n\n<p>Regarding deprecating a method only for Kotlin... I don't think that works, but here is another workaround for that. Just rename the method and use <code>@JvmName(\"get\")</code> on the method, e.g.:</p>\n\n<pre><code>@JvmStatic\n@JvmName(\"get\")\nfun dont_ever_use_this_method_again_in_Kotlin() : String = TODO()\n</code></pre>\n\n<p>That will allow <code>Log.get</code> from Java but doesn't from Kotlin. And I think we can agree that no one will call <code>Log.dont_ever_use_this_method_again_in_Kotlin</code> in Kotlin, right?</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 11801106, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uqk0IIfyB3U/AAAAAAAAAAI/AAAAAAAAFQU/t9BpzFhU_oM/photo.jpg?sz=128", "display_name": "Vishal Ambre", "link": "https://stackoverflow.com/users/11801106/vishal-ambre"}, "is_accepted": false, "score": 1, "last_activity_date": 1599631634, "last_edit_date": 1599631634, "creation_date": 1599631320, "answer_id": 63805574, "question_id": 53082337, "link": "https://stackoverflow.com/questions/53082337/can-i-mark-a-method-as-deprecated-for-kotlin-callers-but-not-for-java-callers/63805574#63805574", "title": "Can I mark a method as deprecated for Kotlin callers, but not for Java callers?", "body": "<p>There are two parts for this</p>\n<ul>\n<li>Hide a method from Kotlin Caller</li>\n<li>Hide a method from Java Caller</li>\n</ul>\n<p>For hiding a method from Java Caller, <code>@JvmSynthetic</code> can be used; more on it <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-synthetic/\" rel=\"nofollow noreferrer\">here</a>.\nFor hiding a method from Kotlin Caller I could not find a direct way of doing it but as suggested <a href=\"https://stackoverflow.com/a/53083112/11801106\">here</a> you can use <code>@JvmName</code> to provide a good name for the method and add a deprecation message in the actual <code>fun</code> name</p>\n<p>So now the Class will look like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Log {\n    companion object {\n        @JvmStatic\n        @JvmName(&quot;get&quot;)\n        fun dont_dare_using_this_from_kotlin_use_getNullable_instead(): String = TODO()\n\n        @JvmSynthetic\n        fun getNullable(): String = TODO()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 10170063, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JxVp52QdRw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o1bFgZe7s34OMWUnotL5YbmZ73FQ/mo/photo.jpg?sz=128", "display_name": "Iain Merrick", "link": "https://stackoverflow.com/users/10170063/iain-merrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1599631634, "creation_date": 1540985445, "question_id": 53082337, "link": "https://stackoverflow.com/questions/53082337/can-i-mark-a-method-as-deprecated-for-kotlin-callers-but-not-for-java-callers", "title": "Can I mark a method as deprecated for Kotlin callers, but not for Java callers?", "body": "<p>I want to extend an API in a way that's useful for Kotlin callers, but not Java callers. Therefore I'd like to encourage Kotlin users to switch to a new method, without bothering Java users. We have a large codebase that's a mix of Java and Kotlin, and won't be 100% Kotlin any time soon.</p>\n\n<p>Is there a way to add a <code>@Deprecate</code> tag or similar that only shows up in Kotlin, not Java?</p>\n\n<p>If you're interested in the specific details, we have a <code>Log</code> interface that takes a formatted string, something like this:</p>\n\n<p><code>Log.get().info(\"Log message with some $expensive $things to $format\")</code></p>\n\n<p>That string is created on every call, even if logging is disabled. Fixing the logger API to take the format string and arguments separately would be a big and disruptive change. However, Kotlin's nullable types could give us a very cheap solution:</p>\n\n<p><code>Log.getNullable()?.info(\"This $expensive $format should be skipped if there's no logger\")</code></p>\n\n<p>Just a case of replacing <code>get().</code> with <code>getNullable()?.</code> in all the Kotlin code. But I wouldn't want to use <code>getNullable()</code> in Java code because there's a risk of <code>NullPointerException</code>. So the old <code>Log.get</code> method should ideally be deprecated in Kotlin, but not in Java.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "is_accepted": true, "score": 4, "last_activity_date": 1589475282, "last_edit_date": 1589475282, "creation_date": 1540983889, "answer_id": 53081897, "question_id": 53081844, "link": "https://stackoverflow.com/questions/53081844/broadcastreceiver-is-not-receiving-local-broadcast/53081897#53081897", "title": "BroadcastReceiver is not receiving local broadcast", "body": "<p>Broadcasts sent via <code>Context.sendBroadcast()</code> are not local broadcasts, that's why you're not receiving them.</p>\n\n<p>You need to use <code>LocalBroadcastManager</code> for the sending as well.</p>\n\n<p>Instead of the following:</p>\n\n<pre><code>applicationContext.sendBroadcast(Intent(TOKEN_REFRESHED_EVENT))\n</code></pre>\n\n<p><strong>You should do something like this:</strong>    </p>\n\n<pre><code>LocalBroadcastManager.getInstance(this)\n        .sendBroadcast(Intent(TOKEN_REFRESHED_EVENT))\n</code></pre>\n\n<p>Also, do not forget to unregister your receiver when appropriate to avoid memory leaks:</p>\n\n<pre><code>// most likely in onDestroy() (since the registration is in onCreate())\nLocalBroadcastManager.getInstance(this)\n        .unregisterReceiver(broadcastReceiver)\n</code></pre>\n"}], "owner": {"reputation": 587, "user_id": 1125061, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/lMPNz.gif?s=128&g=1", "display_name": "Cookienator", "link": "https://stackoverflow.com/users/1125061/cookienator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1277, "favorite_count": 0, "accepted_answer_id": 53081897, "answer_count": 1, "score": 1, "last_activity_date": 1589475282, "creation_date": 1540983687, "last_edit_date": 1541058495, "question_id": 53081844, "link": "https://stackoverflow.com/questions/53081844/broadcastreceiver-is-not-receiving-local-broadcast", "title": "BroadcastReceiver is not receiving local broadcast", "body": "<p>I'm trying to extend the FCM service, and broadcast to the <code>MainActivity</code> upon <code>onNewToken()</code> being called. <code>onNewToken()</code> is indeed called, but the <code>onReceive()</code> method is not. As far as I know, I do not need to define anything else in the manifest, since this is a local broadcast. These are my classes:</p>\n\n<p><em>MainActivity.kt</em></p>\n\n<pre><code>package com.reali.app.mymessagingapp\n\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.content.IntentFilter\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.v4.content.LocalBroadcastManager\nimport android.widget.TextView\nimport com.google.android.gms.tasks.OnCompleteListener\nimport com.reali.app.mymessagingapp.MyFirebaseMessagingService.Companion.TOKEN_REFRESHED_EVENT\nimport com.google.firebase.iid.FirebaseInstanceId\nimport com.google.firebase.iid.InstanceIdResult\n\nclass MainActivity : AppCompatActivity() {\n    private lateinit var broadcastReceiver: BroadcastReceiver\n    private lateinit var tvTitle: TextView\n    private lateinit var tvToken: TextView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        tvTitle = findViewById(R.id.tvTitle)\n        tvToken = findViewById(R.id.tvToken)\n\n        broadcastReceiver = object : BroadcastReceiver() {\n            override fun onReceive(context: Context, intent: Intent) {\n                tvTitle.text = resources.getString(R.string.token_refreshed)\n                refreshTokenText()\n            }\n        }\n\n        LocalBroadcastManager.getInstance(this).registerReceiver(broadcastReceiver, IntentFilter(TOKEN_REFRESHED_EVENT))\n        refreshTokenText()\n    }\n\n    private fun refreshTokenText() {\n        FirebaseInstanceId.getInstance().instanceId.addOnCompleteListener(OnCompleteListener&lt;InstanceIdResult&gt; { task -&gt;\n            if (!task.isSuccessful) {\n                return@OnCompleteListener\n            }\n\n            val token = task.result?.token\n            tvToken.text = token\n        })\n    }\n\n}\n</code></pre>\n\n<p><em>MyFirebaseMessagingService.kt</em></p>\n\n<pre><code>package com.reali.app.mymessagingapp\n\nimport android.content.Intent\nimport android.util.Log\nimport com.google.firebase.messaging.FirebaseMessagingService\n\nclass MyFirebaseMessagingService : FirebaseMessagingService()\n{\n    companion object {\n        const val TOKEN_REFRESHED_EVENT = \"token_refreshed_event\"\n    }\n\n    override fun onNewToken(token: String?) {\n        Log.d(\"MyFcmMessagingService\", \"Refreshed token: \" + token!!)\n        applicationContext.sendBroadcast(Intent(TOKEN_REFRESHED_EVENT))\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10585439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddb19b89ce485934a9602090753002d4?s=128&d=identicon&r=PG&f=1", "display_name": "Abeart", "link": "https://stackoverflow.com/users/10585439/abeart"}, "edited": false, "score": 0, "creation_date": 1540997516, "post_id": 53082186, "comment_id": 93069193, "body": "Thank you so much! Is it possible for me to add an id? It is because I want to get the the value to present it on toast. And is it possible to display multiple checkboxes i.e set multiple tags?"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 21, "user_id": 10585439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddb19b89ce485934a9602090753002d4?s=128&d=identicon&r=PG&f=1", "display_name": "Abeart", "link": "https://stackoverflow.com/users/10585439/abeart"}, "edited": false, "score": 0, "creation_date": 1540997794, "post_id": 53082186, "comment_id": 93069396, "body": "Yes you can with <code>setId(integer number)</code> but the problem is that you would not know if it is unique when you try to find it. With the above code you can get a reference to the created checkbox by getting it from the <code>baseCheckBox</code>&#39;s tag, just like I did: <code>val cb = baseCheckBox.tag as CheckBox</code>"}, {"owner": {"reputation": 21, "user_id": 10585439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddb19b89ce485934a9602090753002d4?s=128&d=identicon&r=PG&f=1", "display_name": "Abeart", "link": "https://stackoverflow.com/users/10585439/abeart"}, "edited": false, "score": 0, "creation_date": 1540999744, "post_id": 53082186, "comment_id": 93070764, "body": "Thank you. I tried adding another checkbox and set another tag on the same baseCheckBox, howeveer it doesn&#39;t seem to remove it. Does the tag only work once?"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 21, "user_id": 10585439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddb19b89ce485934a9602090753002d4?s=128&d=identicon&r=PG&f=1", "display_name": "Abeart", "link": "https://stackoverflow.com/users/10585439/abeart"}, "edited": false, "score": 0, "creation_date": 1540999957, "post_id": 53082186, "comment_id": 93070917, "body": "Yes, the tag holds one reference."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 0, "last_activity_date": 1540984851, "creation_date": 1540984851, "answer_id": 53082186, "question_id": 53081842, "link": "https://stackoverflow.com/questions/53081842/kotlin-create-checkbox-and-remove-checkbox-programatically/53082186#53082186", "title": "Kotlin Create Checkbox and Remove Checkbox Programatically", "body": "<p>One way you can do it is by storing the reference to newly created <code>Checkbox</code> in the tag of <code>baseCheckBox</code>, so you can get it and remove it:</p>\n\n<pre><code>baseCheckBox.setOnClickListener{\n    val linearLayout = findViewById&lt;LinearLayout&gt;(R.id.newLinearLayout)\n\n    if (baseCheckBox.isChecked) {\n        val newBox = CheckBox(this)\n        newBox.text = \"New CheckBox\"\n        newBox.isChecked = true\n        linearLayout.addView(newBox)\n        baseCheckBox.setTag(newBox)\n    } else {\n        try {\n            val cb = baseCheckBox.tag as CheckBox\n            linearLayout.removeView(cb)\n            baseCheckBox.tag = null\n        } catch (e: Exception) {\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10585439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddb19b89ce485934a9602090753002d4?s=128&d=identicon&r=PG&f=1", "display_name": "Abeart", "link": "https://stackoverflow.com/users/10585439/abeart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 53082186, "answer_count": 1, "score": 1, "last_activity_date": 1540984851, "creation_date": 1540983685, "question_id": 53081842, "link": "https://stackoverflow.com/questions/53081842/kotlin-create-checkbox-and-remove-checkbox-programatically", "title": "Kotlin Create Checkbox and Remove Checkbox Programatically", "body": "<p>I am able to add in checkbox dynamically when I tick an existing checkbox, however I can't seem to remove the new checkbox when I untick the existing checkbox.</p>\n\n<pre><code>baseCheckBox.setOnClickListener(View.OnClickListener {\n            val linearLayout = findViewById(R.id.newLinearLayout) as LinearLayout\n\n            if(baseCheckBox.isChecked){\n\n\n\n                val newBox= CheckBox(this)\n\n                newBox.text = \"New CheckBox\"\n                newBox.isChecked = true\n                linearLayout.addView(newBox)\n\n            }\n\n            else{\n                val tempLayout = findViewById(1) as LinearLayout\n\n            }\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "singleton"], "answers": [{"comments": [{"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1540981259, "post_id": 53081057, "comment_id": 93059225, "body": "I&#39;m getting NoClassDefFoundError for CurrentUser.java class while using it in kotlin class..how I&#39;ll be able to get value usertype.? if my class is not been found.?"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1540981311, "post_id": 53081057, "comment_id": 93059260, "body": "Make sure import package is correct path of CurrentUser"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1540981440, "post_id": 53081057, "comment_id": 93059334, "body": "then invalidate caches  android studio and rebuild project"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1540981501, "post_id": 53081057, "comment_id": 93059367, "body": "I tried every possible solution(Clean/Rebuild/Killed process/etc) but failed."}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1540981137, "creation_date": 1540981137, "answer_id": 53081057, "question_id": 53081016, "link": "https://stackoverflow.com/questions/53081016/noclassdeffounderror-while-calling-java-singleton-class-in-kotlin-class/53081057#53081057", "title": "NoClassDefFoundError while calling Java singleton class in kotlin Class", "body": "<p>In kotlin get userType like this</p>\n\n<pre><code> val userType=CurrentUser.getInstance().userType\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1540982121, "post_id": 53081327, "comment_id": 93059731, "body": "I&#39;m not using pro-guard."}], "tags": [], "owner": {"reputation": 26, "user_id": 10414740, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-T1wcZ1-P1aA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXLCd5glhazcMO0aDg0wlvqO5KpqQ/mo/photo.jpg?sz=128", "display_name": "David Marinov", "link": "https://stackoverflow.com/users/10414740/david-marinov"}, "is_accepted": false, "score": 0, "last_activity_date": 1540982081, "creation_date": 1540982081, "answer_id": 53081327, "question_id": 53081016, "link": "https://stackoverflow.com/questions/53081016/noclassdeffounderror-while-calling-java-singleton-class-in-kotlin-class/53081327#53081327", "title": "NoClassDefFoundError while calling Java singleton class in kotlin Class", "body": "<p>Would you mind to provide information if you are using ProGuard for minifying the Code?</p>\n\n<p>If Yes Make sure u add the model class in your proguard-rules.pro file</p>\n\n<p>exmp: -keep class packagename.models.* { *; }</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11201424, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m9n9UuGZUH8/AAAAAAAAAAI/AAAAAAAAAEE/EgrtUNvfYvQ/photo.jpg?sz=128", "display_name": "faizan satti", "link": "https://stackoverflow.com/users/11201424/faizan-satti"}, "is_accepted": false, "score": 2, "last_activity_date": 1579680516, "creation_date": 1579680516, "answer_id": 59855173, "question_id": 53081016, "link": "https://stackoverflow.com/questions/53081016/noclassdeffounderror-while-calling-java-singleton-class-in-kotlin-class/59855173#59855173", "title": "NoClassDefFoundError while calling Java singleton class in kotlin Class", "body": "<p>Rebuild and invalidate cache your project and then restart your android studio. \nAlso Sync file system.\nI was having the same issue and i did this trick and it worked for me.\nHope this may helps you.</p>\n"}], "owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1579680516, "creation_date": 1540980984, "question_id": 53081016, "link": "https://stackoverflow.com/questions/53081016/noclassdeffounderror-while-calling-java-singleton-class-in-kotlin-class", "title": "NoClassDefFoundError while calling Java singleton class in kotlin Class", "body": "<p>how I'll be able to get data from Singleton class of java in kotlin class.?  since my project is an old project and whole app is in java now I'm implementing its new module in kotlin where I'm using Java's Singleton <code>(CurrentUser.java)</code> in  kotlin's Service Class<code>(UpdateWidgetService.kt)</code>.while I'm using this <code>CurrentUser.getInstance().userType</code> code for getting type of user in My service class its throwing below exception</p>\n\n<pre><code>Process: com.example.myapp, PID: 27066\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/myapp/main/CurrentUser\n</code></pre>\n\n<p><strong>Java</strong></p>\n\n<pre><code>   public class CurrentUser {\n\n          String userType = \"\";\n\n     private static CurrentUser instance;\n\n      public static CurrentUser getInstance() {\n            if (instance == null) {\n                instance = new CurrentUser();\n            }\n            return instance;\n        }\n\n        public void setUserType(String userType) {\n            this.userType = userType;\n        }\n\n        public String getUserType() {\n            return userType ;\n        }\n\n\n\n    }\n</code></pre>\n\n<p><strong>Kotlin</strong></p>\n\n<pre><code>CurrentUser.getInstance().userType\n</code></pre>\n"}, {"tags": ["json", "spring", "spring-boot", "kotlin", "jackson"], "comments": [{"owner": {"reputation": 2993, "user_id": 4939853, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/wL0Q5.png?s=128&g=1", "display_name": "Oreste Viron", "link": "https://stackoverflow.com/users/4939853/oreste-viron"}, "edited": false, "score": 0, "creation_date": 1540981376, "post_id": 53079746, "comment_id": 93059293, "body": "What is the result you expect ?"}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1540981756, "post_id": 53081203, "comment_id": 93059504, "body": "But for this I need to write serialize for Map&lt;KeyClass, List&lt;Something&gt;&gt;"}, {"owner": {"reputation": 2993, "user_id": 4939853, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/wL0Q5.png?s=128&g=1", "display_name": "Oreste Viron", "link": "https://stackoverflow.com/users/4939853/oreste-viron"}, "reply_to_user": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1540981881, "post_id": 53081203, "comment_id": 93059586, "body": "No, create a data class KV (key: KeyClass, value: List&lt;Something&gt;), no need for custom serializer."}], "tags": [], "owner": {"reputation": 2993, "user_id": 4939853, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/wL0Q5.png?s=128&g=1", "display_name": "Oreste Viron", "link": "https://stackoverflow.com/users/4939853/oreste-viron"}, "is_accepted": true, "score": 0, "last_activity_date": 1540981658, "creation_date": 1540981658, "answer_id": 53081203, "question_id": 53079746, "link": "https://stackoverflow.com/questions/53079746/jackson-serialize-object-as-key-of-map/53081203#53081203", "title": "Jackson serialize object as key of map", "body": "<p>I assume the expected result is :</p>\n\n<pre><code>\"KeyClass\": {\n  \"id\": 1,\n  \"name\":\"Thomas\"\n} : [...]\n</code></pre>\n\n<p>But it's not valid Json. You can still do something like :</p>\n\n<pre><code>{\n  \"key\" : {\n      \"id\": 1,\n      \"name\":\"Thomas\"\n  },\n  \"value\" : [...]\n}\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 0, "accepted_answer_id": 53081203, "answer_count": 1, "score": 0, "last_activity_date": 1540981658, "creation_date": 1540976764, "last_edit_date": 1540977559, "question_id": 53079746, "link": "https://stackoverflow.com/questions/53079746/jackson-serialize-object-as-key-of-map", "title": "Jackson serialize object as key of map", "body": "<p>Hi I'm facing problem with serialization of map where key is an custom class.</p>\n\n<pre><code>data class KeyClass(val id: Int, val name: String) {\n    fun toJSON() = \"\\\"KeyClass\\\": {\\\"id\\\":$id,\\\"name\\\":\\\"$name\\\"}\"\n}\n</code></pre>\n\n<p>Invocation:</p>\n\n<pre><code> fun method(): Map&lt;KeyClass, List&lt;Something&gt;&gt; = ...\n</code></pre>\n\n<p>My jackson Serializer ofc I'm also adding this as module in objectMapper:</p>\n\n<pre><code>class KeyClassSerializer : JsonSerializer&lt;KeyClass&gt;() {\n    override fun serialize(value: KeyClass, gen: JsonGenerator, serializers: SerializerProvider) {\n        gen.writeRawValue(value.toJSON())\n    }\n\n}\n\nclass KeyClassSerializerModule : SimpleModule() {\n    init {\n        addKeySerializer(KeyClass::class.java, KeyClassSerializer())\n    }\n}\n</code></pre>\n\n<p>And JSON I'm receiving is:</p>\n\n<pre><code>\"\\\"KeyClass\\\": {\\\"id\\\":1,\\\"name\\\":\\\"Thomas\\\"}\" : [Something:...]\n</code></pre>\n\n<p>I mean the value of map is serialized correctly but key isn't.</p>\n"}, {"tags": ["unit-testing", "kotlin", "mockk"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1540977700, "creation_date": 1540977700, "answer_id": 53080027, "question_id": 53079523, "link": "https://stackoverflow.com/questions/53079523/whats-the-difference-between-verifysequence-and-verifyorder-in-mockk/53080027#53080027", "title": "What&#39;s the difference between `verifySequence` and `verifyOrder` in MockK?", "body": "<p>The method <code>verifySequence</code> checks that only the specified calls happened and this must be in the same order. Method <code>verifyOrder</code> on the other hand also works if you leave out some calls as you already did in the example (<code>obj.sum(1, 3)</code>). The following will fail because you cannot leave out a call with <code>verifySequence</code>:</p>\n\n<pre><code>verifySequence {\n    obj.sum(1, 2)\n    obj.sum(2, 2)\n}\n</code></pre>\n"}], "owner": {"reputation": 4936, "user_id": 7408927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3014b6a57c88143a2a0784fb9c2708e8?s=128&d=identicon&r=PG&f=1", "display_name": "Sevastyan Savanyuk", "link": "https://stackoverflow.com/users/7408927/sevastyan-savanyuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 887, "favorite_count": 0, "accepted_answer_id": 53080027, "answer_count": 1, "score": 6, "last_activity_date": 1540977700, "creation_date": 1540975941, "question_id": 53079523, "link": "https://stackoverflow.com/questions/53079523/whats-the-difference-between-verifysequence-and-verifyorder-in-mockk", "title": "What&#39;s the difference between `verifySequence` and `verifyOrder` in MockK?", "body": "<p>In the guide for MockK library, the example is not clearing this for me. Here follows the example from the documentation:</p>\n\n<pre><code>class MockedClass {\n    fun sum(a: Int, b: Int) = a + b\n}\n\nval obj = mockk&lt;MockedClass&gt;()\nval slot = slot&lt;Int&gt;()\n\nevery {\n    obj.sum(any(), capture(slot))\n} answers {\n    1 + firstArg&lt;Int&gt;() + slot.captured\n}\n\nobj.sum(1, 2) // returns 4\nobj.sum(1, 3) // returns 5\nobj.sum(2, 2) // returns 5\n\nverifyAll {\n    obj.sum(1, 3)\n    obj.sum(1, 2)\n    obj.sum(2, 2)\n}\n\nverifySequence {\n    obj.sum(1, 2)\n    obj.sum(1, 3)\n    obj.sum(2, 2)\n}\n\nverifyOrder {\n    obj.sum(1, 2)\n    obj.sum(2, 2)\n}\n\nval obj2 = mockk&lt;MockedClass&gt;()\nval obj3 = mockk&lt;MockedClass&gt;()\nverify {\n    listOf(obj2, obj3) wasNot Called\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "ui-thread", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1541425489, "post_id": 53079234, "comment_id": 93201511, "body": "<code>resume</code> is not deprecated, it just became an extension fun."}], "answers": [{"comments": [{"owner": {"reputation": 1550, "user_id": 906137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pDd6U.jpg?s=128&g=1", "display_name": "Mohsen", "link": "https://stackoverflow.com/users/906137/mohsen"}, "edited": false, "score": 1, "creation_date": 1540975844, "post_id": 53079443, "comment_id": 93056251, "body": "Threre is no such thing as <code>Dispatchers.Main</code> in Kotlin 1.3"}, {"owner": {"reputation": 1159, "user_id": 3444398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1657310df84cfb5575b018506592b5bf?s=128&d=identicon&r=PG", "display_name": "jguerinet", "link": "https://stackoverflow.com/users/3444398/jguerinet"}, "reply_to_user": {"reputation": 1550, "user_id": 906137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pDd6U.jpg?s=128&g=1", "display_name": "Mohsen", "link": "https://stackoverflow.com/users/906137/mohsen"}, "edited": false, "score": 1, "creation_date": 1540981359, "post_id": 53079443, "comment_id": 93059284, "body": "@Mohsen There is indeed a <code>Dispatchers.Main</code>, see <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-dispatchers/-main.html\" rel=\"nofollow noreferrer\">here</a>. Make sure you include the Android dependency above in order to get its implementation."}, {"owner": {"reputation": 1550, "user_id": 906137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pDd6U.jpg?s=128&g=1", "display_name": "Mohsen", "link": "https://stackoverflow.com/users/906137/mohsen"}, "reply_to_user": {"reputation": 1159, "user_id": 3444398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1657310df84cfb5575b018506592b5bf?s=128&d=identicon&r=PG", "display_name": "jguerinet", "link": "https://stackoverflow.com/users/3444398/jguerinet"}, "edited": false, "score": 0, "creation_date": 1540983741, "post_id": 53079443, "comment_id": 93060587, "body": "Thank you @jguerinet for clarification. Is there a difference between these two methods ? using <code>withContext</code> and <code>runOnUiThread</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1540991825, "post_id": 53079443, "comment_id": 93065225, "body": "runOnUiThread runs the code on the next event loop and is not part of the coroutine anymore."}, {"owner": {"reputation": 1159, "user_id": 3444398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1657310df84cfb5575b018506592b5bf?s=128&d=identicon&r=PG", "display_name": "jguerinet", "link": "https://stackoverflow.com/users/3444398/jguerinet"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 3, "creation_date": 1540993808, "post_id": 53079443, "comment_id": 93066664, "body": "To expand on @EpicPandaForce&#39;s answer, <code>runOnUiThread</code> is a method provided by Android, not by coroutines. It is therefore completely separate. If you intend on using coroutines, you should probably use them everywhere (and therefore use <code>withContext</code>). <code>runOnUiThread()</code> is less efficient in this case."}, {"owner": {"reputation": 1159, "user_id": 3444398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1657310df84cfb5575b018506592b5bf?s=128&d=identicon&r=PG", "display_name": "jguerinet", "link": "https://stackoverflow.com/users/3444398/jguerinet"}, "edited": false, "score": 0, "creation_date": 1540993974, "post_id": 53079443, "comment_id": 93066797, "body": "Here&#39;s a <a href=\"https://medium.com/@yossisegev/understanding-activity-runonuithread-e102d388fe93\" rel=\"nofollow noreferrer\">Medium article</a> explaining what <code>runOnUiThread()</code> actually does."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1541424295, "post_id": 53079443, "comment_id": 93200849, "body": "This is just a patch on top of a wrong approach. The OP launches the coroutine in <code>Dispatchers.Default</code> and you suggest to immediately switch back to <code>Dispatchers.Main</code>. Why not recommend to launch in the correct context to begin with?"}, {"owner": {"reputation": 664, "user_id": 2297684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AEYY3.jpg?s=128&g=1", "display_name": "Mikhail Olshanski", "link": "https://stackoverflow.com/users/2297684/mikhail-olshanski"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1541424914, "post_id": 53079443, "comment_id": 93201199, "body": "@MarkoTopolnik you are right, I was careless and didn&#39;t pay enough attention into giving the best possible answer. I think OP should accept your answer instead of mine."}], "tags": [], "owner": {"reputation": 664, "user_id": 2297684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AEYY3.jpg?s=128&g=1", "display_name": "Mikhail Olshanski", "link": "https://stackoverflow.com/users/2297684/mikhail-olshanski"}, "is_accepted": false, "score": 8, "last_activity_date": 1540981728, "last_edit_date": 1540981728, "creation_date": 1540975621, "answer_id": 53079443, "question_id": 53079234, "link": "https://stackoverflow.com/questions/53079234/how-to-update-ui-in-coroutines-in-kotlin-1-3/53079443#53079443", "title": "How to update UI in coroutines in Kotlin 1.3", "body": "<p>If you're using coroutines-android you can use <code>Dispatchers.Main</code><br>\n(gradle dependency is <code>implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.0\"</code>)</p>\n\n<pre><code>network.getRoute(request,\n        success = {\n            withContext(Dispatchers.Main) {\n                // update UI here\n            }\n        },\n        fail = {\n            // handle the exception\n        }) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 4, "creation_date": 1541423867, "post_id": 53155165, "comment_id": 93200608, "body": "<code>the GlobalScope which is not meant for production use.</code> I&#39;m pretty sure there is nothing wrong with using the GlobalScope if you don&#39;t intend to cancel your job."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576482667, "post_id": 53155165, "comment_id": 104899939, "body": "While there are use cases where you want the coroutines to go on in the background, using <code>GlobalScope</code> opens you to coroutine leaks if anything in them gets stuck, as well as weird concurrency issues when one gets delayed and then another one doing the same thing launches. For example, if the operation is a DB write, the writes can get reordered and result in lost updates. I think this is not a fully solved problem yet."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576484578, "post_id": 53155165, "comment_id": 104900613, "body": "Sounds like I might want to run those writes on a dispatcher made from a single-threaded executor."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576494719, "post_id": 53155165, "comment_id": 104905525, "body": "But the writes are suspendable, they get interleaved."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576500164, "post_id": 53155165, "comment_id": 104908228, "body": "Well that&#39;s your own choice if you make it suspendable per item or not. I think the fact that Room made its insert DAO methods <code>suspend fun</code>-compatible was a mistake, as they should be strictly synchronous on a background thread."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576503348, "post_id": 53155165, "comment_id": 104909849, "body": "That sounds like a ham-handed solution to me. The proper way to get sequenced ops is an actor or similar, processing requests one at a time with no need for even a single background thread. Which again removes the need to write <code>GlobalScope.launch</code> anywhere, you just submit your task to the actor and move on."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1576503537, "post_id": 53155165, "comment_id": 104909954, "body": "Not a single background thread? That&#39;s what dispatchers do: dispatch to other threads. I&#39;d be surprised if actors magically made the UI not get blocked when you do a network request and it takes 5 seconds."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1576504340, "post_id": 53155165, "comment_id": 104910385, "body": "Seems like we&#39;re talking past each other... you&#39;re talking about blocking IO and I&#39;m talking about suspendable IO. For blocking IO you don&#39;t need coroutines in the first place. Just use a plain old <code>ExecutorService</code>."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 27, "last_activity_date": 1576482406, "last_edit_date": 1576482406, "creation_date": 1541423744, "answer_id": 53155165, "question_id": 53079234, "link": "https://stackoverflow.com/questions/53079234/how-to-update-ui-in-coroutines-in-kotlin-1-3/53155165#53155165", "title": "How to update UI in coroutines in Kotlin 1.3", "body": "<p>To answer your immediate question, you must simply launch the coroutine in the correct context:</p>\n\n<pre><code>val call = ApiClient.getInterface().getRoute(request.getURL())\nGlobalScope.launch(Dispatchers.Main) {\n    try {\n        success?.invoke(call.await())\n    } catch (t: Throwable) {\n        fail?.invoke(t)\n    }\n}\n</code></pre>\n\n<p>However, this would be just the tip of the iceberg because your approach is the wrong way to use coroutines. Their key benefit is avoiding callbacks, but you're re-introducing them. You are also infringing on the <a href=\"https://medium.com/@elizarov/structured-concurrency-722d765aa952\" rel=\"noreferrer\"><em>structured concurrency</em></a> best practice by using the <code>GlobalScope</code> which is not meant for production use.</p>\n\n<p>Apparently you already have an async API that gives you a <code>Deferred&lt;RoutesResponse&gt;</code> that you can <code>await</code> on. The way to use it is as follows:</p>\n\n<pre><code>scope.launch {\n    val resp = ApiClient.getInterface().getRoute(request.getURL()).await()\n    updateGui(resp)\n}\n</code></pre>\n\n<p>You may be distressed by the fact that I'm suggesting to have a <code>launch</code> block in every GUI callback where you must execute suspendable code, but that is actually the recommended way to use this feature. It is in a strict parallel to writing <code>Thread { ... my code ... }.start()</code> because the contents of your <code>launch</code> block will run concurrently to the code outside it.</p>\n\n<p>The above syntax assumes you have a <code>scope</code> variable ready which implements <code>CoroutineScope</code>. For example, it can be your <code>Activity</code>:</p>\n\n<pre><code>class MyActivity : AppCompatActivity(), CoroutineScope by MainScope {\n\n    override fun onDestroy() {\n        super.onDestroy()\n        cancel()\n    }\n}\n</code></pre>\n\n<p>The <code>MainScope</code> delegate sets the default coroutine dispatcher to <code>Dispatchers.Main</code>. This allows you to use the plain <code>launch { ... }</code> syntax.</p>\n"}, {"comments": [{"owner": {"reputation": 636, "user_id": 9709533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b1eb7cee1d7f94f1dd3bc6fdb29884a?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos P&#233;rez Iruela", "link": "https://stackoverflow.com/users/9709533/carlos-p%c3%a9rez-iruela"}, "edited": false, "score": 0, "creation_date": 1605440234, "post_id": 60834383, "comment_id": 114645128, "body": "I was wondering how to load some background data and update the view just after the data loaded using coroutines. This really worked for me. Thanks!"}], "tags": [], "owner": {"reputation": 935, "user_id": 7795072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/298nL.jpg?s=128&g=1", "display_name": "X-Black...", "link": "https://stackoverflow.com/users/7795072/x-black"}, "is_accepted": false, "score": 9, "last_activity_date": 1585064491, "creation_date": 1585064491, "answer_id": 60834383, "question_id": 53079234, "link": "https://stackoverflow.com/questions/53079234/how-to-update-ui-in-coroutines-in-kotlin-1-3/60834383#60834383", "title": "How to update UI in coroutines in Kotlin 1.3", "body": "<pre><code>private var viewModelJob = Job()\nprivate val uiScope = CoroutineScope(Dispatchers.Main + viewModelJob)\n\nuiScope.launch {\n            withContext(Dispatchers.IO) {\n                //Do background tasks...\n                withContext(Dispatchers.Main){\n                    //Update UI\n                }\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 1550, "user_id": 906137, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pDd6U.jpg?s=128&g=1", "display_name": "Mohsen", "link": "https://stackoverflow.com/users/906137/mohsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16846, "favorite_count": 5, "accepted_answer_id": 53155165, "answer_count": 3, "score": 30, "last_activity_date": 1585064491, "creation_date": 1540974856, "last_edit_date": 1552980635, "question_id": 53079234, "link": "https://stackoverflow.com/questions/53079234/how-to-update-ui-in-coroutines-in-kotlin-1-3", "title": "How to update UI in coroutines in Kotlin 1.3", "body": "<p>I'm trying to call an API and when my variables are ready, update UI components respectively.</p>\n\n<p>This is my Network singleton who is launching the coroutine:</p>\n\n<pre><code>object MapNetwork {\n    fun getRoute(request: RoutesRequest,\n                 success: ((response: RoutesResponse) -&gt; Unit)?,\n                 fail: ((throwable: Throwable) -&gt; Unit)? = null) {\n        val call = ApiClient.getInterface().getRoute(request.getURL())\n\n        GlobalScope.launch(Dispatchers.Default, CoroutineStart.DEFAULT, null, {\n\n            try {\n                success?.invoke(call.await())\n            } catch (t: Throwable) {\n                fail?.invoke(t)\n            }\n\n        })\n    }\n}\n</code></pre>\n\n<p>And this is how I call it:</p>\n\n<pre><code>network.getRoute(request,\n            success = {\n                // Make Some UI updates\n            },\n            fail = {\n                // handle the exception\n            }) \n</code></pre>\n\n<p>And I get the Exception that says can't update UI from any thread other than UI thread:</p>\n\n<pre><code>com.google.maps.api.android.lib6.common.apiexception.c: Not on the main thread\n</code></pre>\n\n<p>I already tried <a href=\"https://medium.com/@macastiblancot/android-coroutines-getting-rid-of-runonuithread-and-callbacks-cleaner-thread-handling-and-more-234c0a9bd8eb\" rel=\"noreferrer\">this</a> solution but <code>resume</code> in <code>Continuation&lt;T&gt;</code> class is \"deprecated\" since Kotlin 1.3</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 3281, "user_id": 6808319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d9314641b8d5132a63d011fd051a199?s=128&d=identicon&r=PG&f=1", "display_name": "ElegyD", "link": "https://stackoverflow.com/users/6808319/elegyd"}, "edited": false, "score": 0, "creation_date": 1540983537, "post_id": 53078772, "comment_id": 93060489, "body": "This documentation is somewhat deprecated... Check <a href=\"https://developer.android.com/google/play/billing/billing_overview\" rel=\"nofollow noreferrer\">this</a> out. Kotlin example can be found <a href=\"https://github.com/googlesamples/android-play-billing/tree/master/ClassyTaxi\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 3281, "user_id": 6808319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d9314641b8d5132a63d011fd051a199?s=128&d=identicon&r=PG&f=1", "display_name": "ElegyD", "link": "https://stackoverflow.com/users/6808319/elegyd"}, "edited": false, "score": 0, "creation_date": 1541033527, "post_id": 53078772, "comment_id": 93084361, "body": "Thanks! Is the article <a href=\"https://developer.android.com/google/play/billing/billing_library_overview\" rel=\"nofollow noreferrer\">developer.android.com/google/play/billing/&hellip;</a> latest ?  Is it for Google In-app Billing version 3 ?"}], "answers": [{"tags": [], "owner": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "is_accepted": true, "score": 5, "last_activity_date": 1541036718, "creation_date": 1541036718, "answer_id": 53094152, "question_id": 53078772, "link": "https://stackoverflow.com/questions/53078772/what-is-latest-google-in-app-billing-version/53094152#53094152", "title": "What is latest Google In-app Billing version?", "body": "<p>You should use the <a href=\"https://developer.android.com/google/play/billing/billing_library_overview\" rel=\"noreferrer\">Google In-App Billing Library</a> to do this now. There is good documentation and they handle a lot of the boilerplate behind the scenes for you.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3141, "favorite_count": 0, "accepted_answer_id": 53094152, "answer_count": 1, "score": 2, "last_activity_date": 1541036718, "creation_date": 1540972836, "last_edit_date": 1541035948, "question_id": 53078772, "link": "https://stackoverflow.com/questions/53078772/what-is-latest-google-in-app-billing-version", "title": "What is latest Google In-app Billing version?", "body": "<p>I have read the artical <a href=\"http://www.androiddocs.com/training/in-app-billing/preparing-iab-app.html#GetSample\" rel=\"nofollow noreferrer\">http://www.androiddocs.com/training/in-app-billing/preparing-iab-app.html#GetSample</a></p>\n\n<p>1:  The following IInAppBillingService.aidl is from a project, are you sure this code is for  In-app Billing version 3 ?</p>\n\n<p>2:  How to \"Download the Sample Application\"</p>\n\n<p>I can't find Google Play Billing Library in Android Studio 3.2.1 Android SDK Manager, you can see the following image.</p>\n\n<p>3:  Is the latest Google In-app Billing version 3 ?</p>\n\n<p>4:  Can I find the version number in the helper classes in the /util of directory of the TrivialDrive sample ?</p>\n\n<p>5:  Is the helper classes in the /util of directory of the TrivialDrive sample Java, is there a Kotlin code of the helper classes ?</p>\n\n<p>6:  Is there a Kotlin sample code for  In-app Billing Version 3 API ?</p>\n\n<p><strong>Document</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/k0Piv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k0Piv.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Image</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/EV2Ms.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EV2Ms.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>IInAppBillingService.aidl</strong></p>\n\n<pre><code>/*\n * Copyright (C) 2012 The Android Open Source Project\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage com.android.vending.billing;\n\nimport android.os.Bundle;\n\n/**\n * InAppBillingService is the service that provides in-app billing version 3 and beyond.\n * This service provides the following features:\n * 1. Provides a new API to get details of in-app items published for the app including\n *    price, type, title and description.\n * 2. The purchase flow is synchronous and purchase information is available immediately\n *    after it completes.\n * 3. Purchase information of in-app purchases is maintained within the Google Play system\n *    till the purchase is consumed.\n * 4. An API to consume a purchase of an inapp item. All purchases of one-time\n *    in-app items are consumable and thereafter can be purchased again.\n * 5. An API to get current purchases of the user immediately. This will not contain any\n *    consumed purchases.\n *\n * All calls will give a response code with the following possible values\n * RESULT_OK = 0 - success\n * RESULT_USER_CANCELED = 1 - user pressed back or canceled a dialog\n * RESULT_BILLING_UNAVAILABLE = 3 - this billing API version is not supported for the type requested\n * RESULT_ITEM_UNAVAILABLE = 4 - requested SKU is not available for purchase\n * RESULT_DEVELOPER_ERROR = 5 - invalid arguments provided to the API\n * RESULT_ERROR = 6 - Fatal error during the API action\n * RESULT_ITEM_ALREADY_OWNED = 7 - Failure to purchase since item is already owned\n * RESULT_ITEM_NOT_OWNED = 8 - Failure to consume since item is not owned\n */\ninterface IInAppBillingService {\n    /**\n     * Checks support for the requested billing API version, package and in-app type.\n     * Minimum API version supported by this interface is 3.\n     * @param apiVersion the billing version which the app is using\n     * @param packageName the package name of the calling app\n     * @param type type of the in-app item being purchased \"inapp\" for one-time purchases\n     *        and \"subs\" for subscription.\n     * @return RESULT_OK(0) on success, corresponding result code on failures\n     */\n    int isBillingSupported(int apiVersion, String packageName, String type);\n\n    /**\n     * Provides details of a list of SKUs\n     * Given a list of SKUs of a valid type in the skusBundle, this returns a bundle\n     * with a list JSON strings containing the productId, price, title and description.\n     * This API can be called with a maximum of 20 SKUs.\n     * @param apiVersion billing API version that the Third-party is using\n     * @param packageName the package name of the calling app\n     * @param skusBundle bundle containing a StringArrayList of SKUs with key \"ITEM_ID_LIST\"\n     * @return Bundle containing the following key-value pairs\n     *         \"RESPONSE_CODE\" with int value, RESULT_OK(0) if success, other response codes on\n     *              failure as listed above.\n     *         \"DETAILS_LIST\" with a StringArrayList containing purchase information\n     *              in JSON format similar to:\n     *              '{ \"productId\" : \"exampleSku\", \"type\" : \"inapp\", \"price\" : \"$5.00\",\n     *                 \"title : \"Example Title\", \"description\" : \"This is an example description\" }'\n     */\n    Bundle getSkuDetails(int apiVersion, String packageName, String type, in Bundle skusBundle);\n\n    /**\n     * Returns a pending intent to launch the purchase flow for an in-app item by providing a SKU,\n     * the type, a unique purchase token and an optional developer payload.\n     * @param apiVersion billing API version that the app is using\n     * @param packageName package name of the calling app\n     * @param sku the SKU of the in-app item as published in the developer console\n     * @param type the type of the in-app item (\"inapp\" for one-time purchases\n     *        and \"subs\" for subscription).\n     * @param developerPayload optional argument to be sent back with the purchase information\n     * @return Bundle containing the following key-value pairs\n     *         \"RESPONSE_CODE\" with int value, RESULT_OK(0) if success, other response codes on\n     *              failure as listed above.\n     *         \"BUY_INTENT\" - PendingIntent to start the purchase flow\n     *\n     * The Pending intent should be launched with startIntentSenderForResult. When purchase flow\n     * has completed, the onActivityResult() will give a resultCode of OK or CANCELED.\n     * If the purchase is successful, the result data will contain the following key-value pairs\n     *         \"RESPONSE_CODE\" with int value, RESULT_OK(0) if success, other response codes on\n     *              failure as listed above.\n     *         \"INAPP_PURCHASE_DATA\" - String in JSON format similar to\n     *              '{\"orderId\":\"12999763169054705758.1371079406387615\",\n     *                \"packageName\":\"com.example.app\",\n     *                \"productId\":\"exampleSku\",\n     *                \"purchaseTime\":1345678900000,\n     *                \"purchaseToken\" : \"122333444455555\",\n     *                \"developerPayload\":\"example developer payload\" }'\n     *         \"INAPP_DATA_SIGNATURE\" - String containing the signature of the purchase data that\n     *                                  was signed with the private key of the developer\n     *                                  TODO: change this to app-specific keys.\n     */\n    Bundle getBuyIntent(int apiVersion, String packageName, String sku, String type,\n        String developerPayload);\n\n    /**\n     * Returns the current SKUs owned by the user of the type and package name specified along with\n     * purchase information and a signature of the data to be validated.\n     * This will return all SKUs that have been purchased in V3 and managed items purchased using\n     * V1 and V2 that have not been consumed.\n     * @param apiVersion billing API version that the app is using\n     * @param packageName package name of the calling app\n     * @param type the type of the in-app items being requested\n     *        (\"inapp\" for one-time purchases and \"subs\" for subscription).\n     * @param continuationToken to be set as null for the first call, if the number of owned\n     *        skus are too many, a continuationToken is returned in the response bundle.\n     *        This method can be called again with the continuation token to get the next set of\n     *        owned skus.\n     * @return Bundle containing the following key-value pairs\n     *         \"RESPONSE_CODE\" with int value, RESULT_OK(0) if success, other response codes on\n     *              failure as listed above.\n     *         \"INAPP_PURCHASE_ITEM_LIST\" - StringArrayList containing the list of SKUs\n     *         \"INAPP_PURCHASE_DATA_LIST\" - StringArrayList containing the purchase information\n     *         \"INAPP_DATA_SIGNATURE_LIST\"- StringArrayList containing the signatures\n     *                                      of the purchase information\n     *         \"INAPP_CONTINUATION_TOKEN\" - String containing a continuation token for the\n     *                                      next set of in-app purchases. Only set if the\n     *                                      user has more owned skus than the current list.\n     */\n    Bundle getPurchases(int apiVersion, String packageName, String type, String continuationToken);\n\n    /**\n     * Consume the last purchase of the given SKU. This will result in this item being removed\n     * from all subsequent responses to getPurchases() and allow re-purchase of this item.\n     * @param apiVersion billing API version that the app is using\n     * @param packageName package name of the calling app\n     * @param purchaseToken token in the purchase information JSON that identifies the purchase\n     *        to be consumed\n     * @return 0 if consumption succeeded. Appropriate error values for failures.\n     */\n    int consumePurchase(int apiVersion, String packageName, String purchaseToken);\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 1001, "user_id": 209334, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BNLJ4.jpg?s=128&g=1", "display_name": "Andreas Mattisson", "link": "https://stackoverflow.com/users/209334/andreas-mattisson"}, "edited": false, "score": 0, "creation_date": 1540972475, "post_id": 53078583, "comment_id": 93054675, "body": "Try to avoid having links as reference since they tend to be outdated after some time"}, {"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1540972622, "post_id": 53078583, "comment_id": 93054744, "body": "Actually it should just be <code>class Person(var name:String,var age:Int)</code>. Your Kotlin code has more boilerplate. Btw the converter is not perfect (at the moment) at all so better do it manually if you can."}, {"owner": {"reputation": 23, "user_id": 8630458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ffe9194832216032203a231411edff9?s=128&d=identicon&r=PG&f=1", "display_name": "Sumanth Sugunendran", "link": "https://stackoverflow.com/users/8630458/sumanth-sugunendran"}, "edited": false, "score": 0, "creation_date": 1540976619, "post_id": 53078583, "comment_id": 93056695, "body": "Okay. Duly noted."}], "answers": [{"tags": [], "owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "is_accepted": false, "score": 0, "last_activity_date": 1540973208, "last_edit_date": 1540973208, "creation_date": 1540972350, "answer_id": 53078644, "question_id": 53078583, "link": "https://stackoverflow.com/questions/53078583/class-declaration-in-java-vs-in-kotlin/53078644#53078644", "title": "Class declaration in Java vs in Kotlin", "body": "<p><code>public</code> member in Kotlin is not equivalent to <code>public</code> member in Java. It is still invisible to public when accessed by other Java class. You need to add <code>@JvmField</code> in front of the <code>var</code> to make it equivalent to <code>public</code> member in Java.</p>\n\n<p>For Kotlin <code>class Foo { var bar = 1 }</code>. To access it by Java, <code>new Foo().bar</code> does not compile. You have to use <code>new Foo().getBar()</code>. <code>bar</code> is still a private member with getter and setter in the perspective of Java.</p>\n\n<p>Changing the Kotlin code to <code>class Foo { @JvmField var bar = 1 }</code>, it truly becomes a public member in Java. You can then access it by Java using <code>new Foo().bar</code></p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8630458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ffe9194832216032203a231411edff9?s=128&d=identicon&r=PG&f=1", "display_name": "Sumanth Sugunendran", "link": "https://stackoverflow.com/users/8630458/sumanth-sugunendran"}, "edited": false, "score": 0, "creation_date": 1540976331, "post_id": 53078670, "comment_id": 93056521, "body": "Oh, yeah. They&#39;re effectively public. I didn&#39;t think of it that way. Thank you!"}], "tags": [], "owner": {"reputation": 4860, "user_id": 279236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJLyB.png?s=128&g=1", "display_name": "jwenting", "link": "https://stackoverflow.com/users/279236/jwenting"}, "is_accepted": true, "score": 1, "last_activity_date": 1540972462, "creation_date": 1540972462, "answer_id": 53078670, "question_id": 53078583, "link": "https://stackoverflow.com/questions/53078583/class-declaration-in-java-vs-in-kotlin/53078670#53078670", "title": "Class declaration in Java vs in Kotlin", "body": "<p>in Kotlin, it implicitly creates getters and setters for the fields (which you had in Java as well). As these are public, the fields themselves become effectively public.</p>\n\n<p>Effectively your Java code with the simplistic getters and setters was the equivalent of having public fields because of the nature of the getters and setters (no validation etc.).</p>\n\n<p>Had your setters done for example null checks and thrown IllegalArgumentExceptions, the code'd have been different.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6594138, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z7XmKo5TGzA/AAAAAAAAAAI/AAAAAAAAAJI/_WVRVhMs5yM/photo.jpg?sz=128", "display_name": "Ivan Brel", "link": "https://stackoverflow.com/users/6594138/ivan-brel"}, "is_accepted": false, "score": 0, "last_activity_date": 1540973782, "creation_date": 1540973782, "answer_id": 53078976, "question_id": 53078583, "link": "https://stackoverflow.com/questions/53078583/class-declaration-in-java-vs-in-kotlin/53078976#53078976", "title": "Class declaration in Java vs in Kotlin", "body": "<p>There are getters, in cases with <code>val</code>, setters in case <code>var</code>. Access to the field for reading or changing always passes through them.\nYou can notice them when using the Kotlin class from the java class.</p>\n\n<p>If getters or setters describe the default behavior, then point them in the code does not make sense.</p>\n\n<p>PS: if you convert your java class to Kotlin class, will like</p>\n\n<pre><code>class Person(var name: String?, var age: Int)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8630458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ffe9194832216032203a231411edff9?s=128&d=identicon&r=PG&f=1", "display_name": "Sumanth Sugunendran", "link": "https://stackoverflow.com/users/8630458/sumanth-sugunendran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 53078670, "answer_count": 3, "score": 2, "last_activity_date": 1591894438, "creation_date": 1540972074, "last_edit_date": 1540987659, "question_id": 53078583, "link": "https://stackoverflow.com/questions/53078583/class-declaration-in-java-vs-in-kotlin", "title": "Class declaration in Java vs in Kotlin", "body": "<p>I am new to <strong>Kotlin</strong> and I have the following doubt - </p>\n\n<p>Using the <strong>Java to Kotlin converter</strong> (<a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Introduction/Java%20to%20Kotlin%20conversion/Task.kt\" rel=\"nofollow noreferrer\">this Link</a>), I converted the following <strong>Java code</strong> to <strong>Kotlin</strong>.</p>\n\n<p>Java Class:</p>\n\n<pre><code>  public class Person { \n    private String name; \n    private int age; \n\n    public Person(String name, int age) { \n        this.name = name; \n        this.age = age; \n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    public void setAge(int age) {\n        this.age = age;\n    }\n  }\n</code></pre>\n\n<p>Generated Kotlin Class:</p>\n\n<pre><code>class Person(name:String, age:Int) {\n  var name:String\n  var age:Int = 0\n  init{\n    this.name = name\n    this.age = age\n  }\n}\n</code></pre>\n\n<p>But I don't understand how the <strong>Java Code</strong> and the generated <strong>Kotlin code</strong> are equivalent because the visibility modifiers of the class data members change from <strong>private</strong>(in Java) to <strong>public</strong>(in Kotlin). </p>\n\n<p>I believe that if the visibility modifiers are preserved(the data members are declared private in Kotlin), getters and setters will have to be created in Kotlin too and only then should they be equivalent.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1756, "user_id": 214898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CqVR3.jpg?s=128&g=1", "display_name": "Master DJon", "link": "https://stackoverflow.com/users/214898/master-djon"}, "edited": false, "score": 0, "creation_date": 1540971093, "post_id": 53078309, "comment_id": 93054076, "body": "You could take a look at <a href=\"https://stackoverflow.com/questions/44138142/dynamically-create-controls-in-android-using-kotlin\" title=\"dynamically create controls in android using kotlin\">stackoverflow.com/questions/44138142/&hellip;</a>  Just to help you being helped: you shall denote efforts you made trying to solve your problem."}, {"owner": {"reputation": 1373, "user_id": 5121457, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LL7q6xBDBlM/AAAAAAAAAAI/AAAAAAAAAB8/qRvPE3tHKk4/photo.jpg?sz=128", "display_name": "Gabriel M", "link": "https://stackoverflow.com/users/5121457/gabriel-m"}, "edited": false, "score": 1, "creation_date": 1540971448, "post_id": 53078309, "comment_id": 93054238, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44138142/dynamically-create-controls-in-android-using-kotlin\">Dynamically create controls in android using Kotlin</a>"}], "answers": [{"tags": [], "owner": {"reputation": 355, "user_id": 10020910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/029f300e521d6c1909e5e3f294c06d9c?s=128&d=identicon&r=PG&f=1", "display_name": "s.j", "link": "https://stackoverflow.com/users/10020910/s-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1540979934, "creation_date": 1540979934, "answer_id": 53080699, "question_id": 53078309, "link": "https://stackoverflow.com/questions/53078309/android-kotlin-add-checkbox-onclicklisener/53080699#53080699", "title": "Android Kotlin Add Checkbox onclicklisener", "body": "<p>in kotlin do like this-</p>\n\n<p>class MainActivity : AppCompatActivity() {</p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Single checked box\n        cb_single.setOnClickListener(View.OnClickListener {\n            if (cb_single.isChecked) {\n                message(cb_single.text.toString() + \" Checked\")\n            } else {\n                message(cb_single.text.toString() + \" UnChecked\")\n            }\n        })\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10584480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c3382fee6b10b8c10e3729f0df71095?s=128&d=identicon&r=PG&f=1", "display_name": "ruwafi", "link": "https://stackoverflow.com/users/10584480/ruwafi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1540979934, "creation_date": 1540970884, "last_edit_date": 1540979109, "question_id": 53078309, "link": "https://stackoverflow.com/questions/53078309/android-kotlin-add-checkbox-onclicklisener", "title": "Android Kotlin Add Checkbox onclicklisener", "body": "<p>How do I add a <code>checkBox</code> element the moment I tick an existing <code>checkBox</code> e.g with the id <code>check1</code> ?</p>\n\n<pre><code> check1.setOnClickListener(View.OnClickListener { \n?? })\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 10528320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6joP9zt4cCA/AAAAAAAAAAI/AAAAAAAAAAQ/FqpQncoziBE/photo.jpg?sz=128", "display_name": "Chord Chen", "link": "https://stackoverflow.com/users/10528320/chord-chen"}, "edited": false, "score": 0, "creation_date": 1540972210, "post_id": 53078233, "comment_id": 93054553, "body": "Error message: No value passed for parameter \u2018xxxxx&#39;"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1540970584, "creation_date": 1540970584, "answer_id": 53078233, "question_id": 53077945, "link": "https://stackoverflow.com/questions/53077945/supertype-initiallzation-is-impossible-without-primary-constructor/53078233#53078233", "title": "supertype initiallzation is impossible without primary constructor", "body": "<p>use this() instead of super().Because BaseAdapter() already extends in class </p>\n\n<pre><code>import android.content.Context\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.BaseAdapter\nimport java.util.*\n\nclass TestActivity() : BaseAdapter() {\n\n var mData: LinkedList&lt;String&gt;?=null\n var mContext: Context?=null\n\nconstructor(mData: LinkedList&lt;String&gt;?, mContext: Context?) : this() {\nthis.mData = mData\nthis.mContext = mContext\n}\n\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 2, "last_activity_date": 1540975368, "creation_date": 1540975368, "answer_id": 53079376, "question_id": 53077945, "link": "https://stackoverflow.com/questions/53077945/supertype-initiallzation-is-impossible-without-primary-constructor/53079376#53079376", "title": "supertype initiallzation is impossible without primary constructor", "body": "<p>It looks like you only want <code>TestAdapter</code> to have one constructor (the one with the parameters), right?  If so, you should re-write it and put the parameters as part of the class declaration rather than using a separate <code>constructor</code>, like this:</p>\n\n<p><code>class TestAdapter(mData: LinkedList&lt;String&gt;?, mContext: Context?) : BaseAdapter()</code></p>\n\n<p>If, conversely, you want <code>TestAdapter</code> to have two constructors (one with no parameters and one with parameters), then you need to do it as follows:</p>\n\n<pre><code>class TestAdapter() : BaseAdapter() {\n    constructor(mData: LinkedList&lt;String&gt;?, mContext: Context?) : this() {\n       // ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 36, "user_id": 10528320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6joP9zt4cCA/AAAAAAAAAAI/AAAAAAAAAAQ/FqpQncoziBE/photo.jpg?sz=128", "display_name": "Chord Chen", "link": "https://stackoverflow.com/users/10528320/chord-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2002, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1540975368, "creation_date": 1540969369, "question_id": 53077945, "link": "https://stackoverflow.com/questions/53077945/supertype-initiallzation-is-impossible-without-primary-constructor", "title": "supertype initiallzation is impossible without primary constructor", "body": "<p>I want create a adapter extend BaseAdapter,like this:</p>\n\n<pre><code>        class TestAdapter: BaseAdapter() {\n            var mData:LinkedList&lt;String&gt;?=null\n            var mContext:Context?=null\n\n            constructor(mData: LinkedList&lt;String&gt;?, mContext: Context?) : super() {\n                this.mData = mData\n                this.mContext = mContext\n            }\n           Blablabla\u2026\u2026.\n        }\n</code></pre>\n\n<p>But AS give me a error message:supertype initiallzation is impossible without primary constructor.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1540971110, "post_id": 53077179, "comment_id": 93054089, "body": "Please add your database structure to see it more clearly."}], "answers": [{"tags": [], "owner": {"reputation": 7, "user_id": 10537416, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ep8u9Qv5w8/AAAAAAAAAAI/AAAAAAAAAJk/R8dHksDSEE4/photo.jpg?sz=128", "display_name": "vivek kujur", "link": "https://stackoverflow.com/users/10537416/vivek-kujur"}, "is_accepted": false, "score": -1, "last_activity_date": 1540980900, "creation_date": 1540980900, "answer_id": 53080989, "question_id": 53077179, "link": "https://stackoverflow.com/questions/53077179/how-to-query-list-of-data-in-firebase-android/53080989#53080989", "title": "how to query list of data in firebase android", "body": "<p>i solve the problem use map for list data.....\nref: <a href=\"https://medium.com/@justintulk/how-to-query-arrays-of-data-in-firebase-aa28a90181ba\" rel=\"nofollow noreferrer\">https://medium.com/@justintulk/how-to-query-arrays-of-data-in-firebase-aa28a90181ba</a></p>\n\n<pre><code> fun deal_detail(deal: List&lt;Deals&gt;): Flowable&lt;Deal_detail&gt; =\n        observeValueEvent(ref1.child(\"deals\")).map {\n            snapshot-&gt;\n                var deal1 = deal.map { id -&gt;\n                    snapshot.child(id.name.toString()).child(\"/dealable/keyword\").getValue().toString()\n                   }\n            var image=deal.map { id-&gt;\n                snapshot.child(id.name.toString()).child(\"dealable/image\").getValue().toString()\n            }\n\n                Deal_detail(deal1,image)\n        }\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 10537416, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ep8u9Qv5w8/AAAAAAAAAAI/AAAAAAAAAJk/R8dHksDSEE4/photo.jpg?sz=128", "display_name": "vivek kujur", "link": "https://stackoverflow.com/users/10537416/vivek-kujur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1540980900, "creation_date": 1540965614, "last_edit_date": 1540969111, "question_id": 53077179, "link": "https://stackoverflow.com/questions/53077179/how-to-query-list-of-data-in-firebase-android", "title": "how to query list of data in firebase android", "body": "<p>I have List = {1,2}, I want to retrieve data of child (\"deals/{1,2})</p>\n\n<pre><code> fun deal_detail(deal: List&lt;Deals&gt;): Flowable&lt;List&lt;Deal_detail&gt;&gt; =\n        observeValueEvent(ref1.child(\"deals\")).map { snapshot -&gt;\n            snapshot.children.mapNotNull { child -&gt;\n                var name = child.child(\"$deal/dealable/keyword\").getValue().toString()\n                Deal_detail(name)\n            }\n        }\n</code></pre>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "edited": false, "score": 0, "creation_date": 1540965132, "post_id": 53077004, "comment_id": 93051828, "body": "the userid inside users.userid.toString() is unresolved reference and how would I find out if text_percent or text_view was clicked?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "edited": false, "score": 0, "creation_date": 1540965836, "post_id": 53077004, "comment_id": 93052045, "body": "what for? I think you don&#39;t fully understand what I want, I edited the question a bit and also showed the data model just in case"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "edited": false, "score": 0, "creation_date": 1540967652, "post_id": 53077004, "comment_id": 93052731, "body": "Where exactly do I place open interface ClickListener? I tried different places and get error: Classifier &#39;ClickListener&#39; does not have a companion object, and thus must be initialized here. And also: Unresolved reference: itemClick"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "edited": false, "score": 0, "creation_date": 1540968746, "post_id": 53077004, "comment_id": 93053147, "body": "I already struggled for many hours with this, I think it&#39;s just impossible to find out what item element was clicked in fragment instead only adapter"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1540968753, "post_id": 53077004, "comment_id": 93053150, "body": "view holder itemClick  remove it.use onBindViewHolder onclick listener"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1540968861, "post_id": 53077004, "comment_id": 93053194, "body": "In Fragment    val user=users[position]  is your clicked value"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "edited": false, "score": 0, "creation_date": 1540969052, "post_id": 53077004, "comment_id": 93053269, "body": "But I get Unresolved reference: itemClick inside adapter. And what do you think would I get with user=users[position]? Information which element I clicked or the value/s of image/userid/prozent???"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1540969172, "post_id": 53077004, "comment_id": 93053309, "body": "this code for  image click. check from first you changed all the place code would be correct"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "edited": false, "score": 0, "creation_date": 1540969294, "post_id": 53077004, "comment_id": 93053354, "body": "dude I think you still don&#39;t understand what I need. I need to find out INSIDE THE FRAGMENT what ELEMENT (either text_percent OR image_view) was clicked. Not only the user values, I got them from begine with"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1540968656, "last_edit_date": 1540968656, "creation_date": 1540964637, "answer_id": 53077004, "question_id": 53076904, "link": "https://stackoverflow.com/questions/53076904/android-kotlin-recyclerview-find-out-what-exactly-inside-item-was-clicked-in-a/53077004#53077004", "title": "Android kotlin - RecyclerView find out what exactly inside item was clicked in activity/fragment", "body": "<p>In your adapter create  ClickListener</p>\n\n<pre><code>   open interface ClickListener {\n        fun onClick(position: Int)\n\n    }\n</code></pre>\n\n<p>then implement your adapter </p>\n\n<pre><code>class ToplistAdapter(val context: Context, private val users: MutableList&lt;Toplist&gt;, val listener: ClickListener) : RecyclerView.Adapter&lt;ToplistAdapter.ViewHolder&gt;(){\n\n   companion object {\n        var clickListener: ClickListener? = null\n    }\n\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n    clickListener = listener\n    val user = users[position]\n    holder.percent.text = user.prozent\n    Picasso.get().load(user.image).into(holder.imagee)\n\n    holder.bind(users[position], context)\n    holder.imagee.setOnClickListener { \n        itemClick(users[position]) \n    }\n   holder.imagee.setOnClickListener(object : View.OnClickListener {\n            override fun onClick(v: View?) {\n                if (clickListener != null)\n                    clickListener?.onClick(position)\n            }\n        })\n\n\n\n    }\n</code></pre>\n\n<p>then your fragment or Activity add</p>\n\n<pre><code>     adapter = ToplistAdapter(activity!!, users, object : ToplistAdapter.ClickListener {\n            override fun onClick(position: Int) {\n               val user=users[position]\n               val userid=user.userid\n            }\n        })\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9567456"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540968656, "creation_date": 1540963935, "last_edit_date": 1540965672, "question_id": 53076904, "link": "https://stackoverflow.com/questions/53076904/android-kotlin-recyclerview-find-out-what-exactly-inside-item-was-clicked-in-a", "title": "Android kotlin - RecyclerView find out what exactly inside item was clicked in activity/fragment", "body": "<p>This is the adapter:</p>\n\n<pre><code>class ToplistAdapter(val context: Context, private val users: MutableList&lt;Toplist&gt;, val itemClick: (Toplist) -&gt; Unit) : RecyclerView.Adapter&lt;ToplistAdapter.ViewHolder&gt;(){\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val user = users[position]\n        holder.percent.text = user.prozent\n        Picasso.get().load(user.image).into(holder.imagee)\n\n        holder.bind(users[position], context)\n    }\n\n    override fun getItemCount() = users.size\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.toplist, parent, false)\n        return ViewHolder(view, itemClick)\n    }\n\n    class ViewHolder(itemView: View?, val itemClick: (Toplist) -&gt; Unit) : RecyclerView.ViewHolder(itemView!!){\n\n        val percent = itemView!!.text_percent\n        val imagee = itemView!!.image_view\n\n        fun bind(toplist: Toplist, context: Context){\n            itemView.setOnClickListener {\n                itemClick(toplist)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And this in fragment:</p>\n\n<pre><code>            adapter = ToplistAdapter(activity!!, users) {\n                // Profile(it.userid.toString())\n            }\n\n            recyclerView.adapter = adapter\n\n            recyclerView.layoutManager = GridLayoutManager(activity!!, 2)\n            recyclerView.setHasFixedSize(true)\n</code></pre>\n\n<p>I know how to set onClicklistener inside <code>onBindViewHolder</code> and <strong>find out if either <code>text_percent</code> or <code>image_view</code> was clicked</strong> but how can I do this <strong>inside fragment</strong> besides getting <code>userid</code> etc?</p>\n\n<p>Thanks in advance</p>\n\n<p>EDIT:</p>\n\n<p>The requested data model class:</p>\n\n<pre><code>data class Toplist(\n        val image: String,\n        val prozent: String,\n        val userid: Long\n)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mockito", "powermockito"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 1, "creation_date": 1540963697, "post_id": 53076846, "comment_id": 93051358, "body": "refer  <a href=\"https://stackoverflow.com/questions/37977320/how-to-mock-a-kotlin-singleton-object\" title=\"how to mock a kotlin singleton object\">stackoverflow.com/questions/37977320/&hellip;</a>"}, {"owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "edited": false, "score": 0, "creation_date": 1540963798, "post_id": 53076846, "comment_id": 93051397, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37977320/how-to-mock-a-kotlin-singleton-object\">How to mock a Kotlin singleton object?</a>"}, {"owner": {"reputation": 63, "user_id": 4348414, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a16f0dd9c89d31593c5f6f978d29a296?s=128&d=identicon&r=PG&f=1", "display_name": "Elirex", "link": "https://stackoverflow.com/users/4348414/elirex"}, "edited": false, "score": 0, "creation_date": 1540968137, "post_id": 53076846, "comment_id": 93052923, "body": "The post <a href=\"https://stackoverflow.com/questions/37977320/how-to-mock-a-kotlin-singleton-object\">How to mock a Kotlin singleton object?</a> provides solutions are not working. When I call Singleton.instance always return null."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1541002171, "post_id": 53076846, "comment_id": 93072389, "body": "Why don&#39;t you use a singleton implementation native <i>Kotlin</i>? <code>object Singleton</code>"}, {"owner": {"reputation": 63, "user_id": 4348414, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a16f0dd9c89d31593c5f6f978d29a296?s=128&d=identicon&r=PG&f=1", "display_name": "Elirex", "link": "https://stackoverflow.com/users/4348414/elirex"}, "edited": false, "score": 0, "creation_date": 1541138403, "post_id": 53076846, "comment_id": 93121420, "body": "Kotlin object Singleton implementation is eager. I don&#39;t want to load all resource at object first time create, so I chose to use lazy implementation."}], "owner": {"reputation": 63, "user_id": 4348414, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a16f0dd9c89d31593c5f6f978d29a296?s=128&d=identicon&r=PG&f=1", "display_name": "Elirex", "link": "https://stackoverflow.com/users/4348414/elirex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 945, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540963574, "creation_date": 1540963574, "question_id": 53076846, "link": "https://stackoverflow.com/questions/53076846/how-to-mock-kotlin-singleton-class", "title": "How to mock kotlin Singleton class?", "body": "<p>How do I mock Singleton class? \nSingleton class following:</p>\n\n<pre><code>class Singleton private constructor() {\n    init { println(\"This ($this) is a singleton\") }    \n\n    private object Holder { val INSTANCE = Singleton() }\n\n    companion object {\n        val instance: Singleton by lazy { Holder.INSTANCE }\n    }\n    var b:String? = null\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 10454613, "user_type": "registered", "profile_image": "https://graph.facebook.com/2141610412539556/picture?type=large", "display_name": "Zwal Pyae Kyaw", "link": "https://stackoverflow.com/users/10454613/zwal-pyae-kyaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1540972321, "creation_date": 1540972321, "answer_id": 53078634, "question_id": 53076816, "link": "https://stackoverflow.com/questions/53076816/room-ignore-annotation-generates-compile-time-error/53078634#53078634", "title": "Room @Ignore annotation generates compile time error", "body": "<p>Try adding primary/default constructor to your class.<br><br>\nLike this,</p>\n\n<pre><code>class BuyLead()( . . .\n)\n</code></pre>\n\n<p>Another example,</p>\n\n<pre><code>class ByLead( . . .\n    constructor() (\n    )\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8515, "user_id": 1642126, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fcIzZ.jpg?s=128&g=1", "display_name": "daneejela", "link": "https://stackoverflow.com/users/1642126/daneejela"}, "is_accepted": false, "score": 0, "last_activity_date": 1589540362, "creation_date": 1589540362, "answer_id": 61817634, "question_id": 53076816, "link": "https://stackoverflow.com/questions/53076816/room-ignore-annotation-generates-compile-time-error/61817634#61817634", "title": "Room @Ignore annotation generates compile time error", "body": "<p>I don't know if this is a bug or feature, but Room expects to have either: </p>\n\n<ul>\n<li>parameterless constructor or</li>\n<li>constructor with all fields not marked with @Ignore</li>\n</ul>\n\n<p>for example: </p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    var id : Int,\n    var title: String,\n    @Ignore var overview: String) \n</code></pre>\n\n<p>will not work. This will:</p>\n\n<pre><code>@Entity(tableName = \"movies\")\ndata class MovieKt(\n    @PrimaryKey\n    var id : Int,\n    var title: String) \n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 5762247, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EsC9k.jpg?s=128&g=1", "display_name": "honey_ramgarhia", "link": "https://stackoverflow.com/users/5762247/honey-ramgarhia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1589540362, "creation_date": 1540963440, "last_edit_date": 1540964582, "question_id": 53076816, "link": "https://stackoverflow.com/questions/53076816/room-ignore-annotation-generates-compile-time-error", "title": "Room @Ignore annotation generates compile time error", "body": "<p>I am using Room and here is my data class</p>\n\n<pre><code>@Entity(tableName = \"buy_lead\")\nclass BuyLead(\n    @PrimaryKey\n    @SerializedName(\"id\")\n    val id: String,\n\n    @SerializedName(\"name\")\n    val name: String,\n\n    @SerializedName(\"location\")\n    val location: String,\n\n    @SerializedName(\"state\")\n    val state: String?,\n\n    @SerializedName(\"message\")\n    val message: String,\n\n    @SerializedName(\"product_service\")\n    val serviceType: String?,\n\n    @SerializedName(\"posted_on\")\n    val postedOn: String,\n\n    @SerializedName(\"formatted_date\")\n    val formattedDate: String,\n\n    @SerializedName(\"seconds\")\n    val seconds: Int,\n\n    @SerializedName(\"minutes\")\n    val minutes: Int,\n\n    @SerializedName(\"hours\")\n    val hours: Int,\n\n    @SerializedName(\"days\")\n    val days: Int,\n\n    var bought: Boolean = false,\n    @Ignore var error: String? = null\n) {\n    val postTime: String\n    get() {\n        if (seconds &lt; 60) {\n            if (seconds == 1)\n                return \"$seconds second ago\"\n            return \"$seconds seconds ago\"\n        }\n\n        if (minutes &lt; 60) {\n            if (minutes == 1)\n                return \"$minutes minute ago\"\n            return \"$minutes minutes ago\"\n        }\n\n        if (hours &lt; 24) {\n            if (hours == 1)\n                return \"$hours hour ago\"\n            return \"$hours hours ago\"\n        }\n\n        if (days &lt; 5) {\n            if (days == 1)\n                return \"$days day ago\"\n            return \"$days days ago\"\n        }\n        return formattedDate\n    }\n\nval address: String\n    get() =\n        if (state != null) \"${location}, ${state}\"\n        else location\n}\n</code></pre>\n\n<p>and it generates compile time error</p>\n\n<blockquote>\n  <p>error: Entities and Pojos must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\n  public final class BuyLead {\n               ^  </p>\n</blockquote>\n\n<p>I have tried to move the fields inside the class but nothing is working. If I remove the <code>@Ignore</code> annotation from error it compiles then. I don't want to store error field in the database.</p>\n\n<blockquote>\n  <p>Kotlin version is 1.2.71</p>\n</blockquote>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 1, "creation_date": 1540965023, "post_id": 53076700, "comment_id": 93051797, "body": "as your question is about UI, why don&#39;t you share with us a picture showing what is shown, and possibly another one with what you would like to get instead?"}, {"owner": {"reputation": 877, "user_id": 3547851, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/uPZRn.jpg?s=128&g=1", "display_name": "Webster", "link": "https://stackoverflow.com/users/3547851/webster"}, "reply_to_user": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1540965333, "post_id": 53076700, "comment_id": 93051874, "body": "okay, will add it up soon"}, {"owner": {"reputation": 406, "user_id": 8806969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a397c6039334c3579a59073d340ceb8a?s=128&d=identicon&r=PG&f=1", "display_name": "IcedLance", "link": "https://stackoverflow.com/users/8806969/icedlance"}, "edited": false, "score": 0, "creation_date": 1540965383, "post_id": 53076700, "comment_id": 93051888, "body": "Are you absolutely sure you getItemViewType takes position into account? I can&#39;t into kotlin so i can&#39;t tell, but no one else seems to bother."}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1540965455, "post_id": 53076700, "comment_id": 93051915, "body": "also for me it&#39;s not clear what are you following (some framework or 3rd party lib?), because when you want to support multiple layout types, you need to declare 1 ViewHolder class type for each different layout, and bind them based on the view type ... remember recycler view will recycle the views for each type separately"}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "reply_to_user": {"reputation": 406, "user_id": 8806969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a397c6039334c3579a59073d340ceb8a?s=128&d=identicon&r=PG&f=1", "display_name": "IcedLance", "link": "https://stackoverflow.com/users/8806969/icedlance"}, "edited": false, "score": 0, "creation_date": 1540965525, "post_id": 53076700, "comment_id": 93051937, "body": "@IcedLance it clearly doesn&#39;t ... he kind of hardcode the view type info into the views itself, if I&#39;m not mistakes, therefore the error"}, {"owner": {"reputation": 877, "user_id": 3547851, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/uPZRn.jpg?s=128&g=1", "display_name": "Webster", "link": "https://stackoverflow.com/users/3547851/webster"}, "reply_to_user": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1540966759, "post_id": 53076700, "comment_id": 93052372, "body": "@Alessio, please see my edited answer"}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1540966917, "post_id": 53076700, "comment_id": 93052422, "body": "@Webster thanks for the pic ... why do you need 2 recycler views? Looking at your pic, it seems to me you won&#39;t need the outer recycler view at all"}, {"owner": {"reputation": 877, "user_id": 3547851, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/uPZRn.jpg?s=128&g=1", "display_name": "Webster", "link": "https://stackoverflow.com/users/3547851/webster"}, "edited": false, "score": 0, "creation_date": 1540966990, "post_id": 53076700, "comment_id": 93052457, "body": "so, the outer recyclerview has another view besides inner recycler view, like some Gridview, and other views."}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1540967046, "post_id": 53076700, "comment_id": 93052482, "body": "exactly: you don&#39;t really need a recycler view for that, a linear layout, or relative layout is what you should have (unless I&#39;m mistaken). I mean: how many items your outer recycler view contains? 1? Note: still your problem is not in the outer recycler view, is in the inner recycler view, see my answer below."}, {"owner": {"reputation": 877, "user_id": 3547851, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/uPZRn.jpg?s=128&g=1", "display_name": "Webster", "link": "https://stackoverflow.com/users/3547851/webster"}, "edited": false, "score": 0, "creation_date": 1540967228, "post_id": 53076700, "comment_id": 93052566, "body": "ahh yeah, i decided to use recyclerview instead of ScrollView, is because the performance. So everytime I scroll to the bottom, the upper views will be &quot;hidden&quot; and recycled again when i go back. I don&#39;t know whether it&#39;s good or bad practice."}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1540967391, "post_id": 53076700, "comment_id": 93052634, "body": "@Webster the inner recycler view will recycle the views on scrolling. But the outer, if I understand correctly your layout, won&#39;t recycle anything. You can easily output some lines to debug and see if what I&#39;m saying is correct."}, {"owner": {"reputation": 877, "user_id": 3547851, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/uPZRn.jpg?s=128&g=1", "display_name": "Webster", "link": "https://stackoverflow.com/users/3547851/webster"}, "edited": false, "score": 0, "creation_date": 1540967454, "post_id": 53076700, "comment_id": 93052651, "body": "well, I&#39;m going to give it a try then, will let you know"}, {"owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "edited": false, "score": 0, "creation_date": 1540967506, "post_id": 53076700, "comment_id": 93052682, "body": "First fix the inner which should fix your bug ... then you can get rid of the outer recycler view, and use a ScrollView + LinearLayout or something alike that"}, {"owner": {"reputation": 877, "user_id": 3547851, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/uPZRn.jpg?s=128&g=1", "display_name": "Webster", "link": "https://stackoverflow.com/users/3547851/webster"}, "edited": false, "score": 0, "creation_date": 1540967579, "post_id": 53076700, "comment_id": 93052700, "body": "okay, noted, im on it"}], "answers": [{"tags": [], "owner": {"reputation": 2666, "user_id": 4469112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9rSU.jpg?s=128&g=1", "display_name": "Alessio", "link": "https://stackoverflow.com/users/4469112/alessio"}, "is_accepted": false, "score": 2, "last_activity_date": 1540966757, "last_edit_date": 1540966757, "creation_date": 1540966403, "answer_id": 53077304, "question_id": 53076700, "link": "https://stackoverflow.com/questions/53076700/recyclerview-with-multiple-view-types-inside-recyclerview-shows-wrong-layout/53077304#53077304", "title": "Recyclerview with multiple view types inside RecyclerView shows wrong layout", "body": "<p>You need to define one ViewHolder for each of your layout types, and then you need to use each ViewHolder's class instance type to bind the data on the fly, respectively in <em>getItemViewType()</em> and <em>onBindViewHolder()</em>, something along these lines:</p>\n\n<pre><code>@Override\npublic int getItemViewType(int position) {\n    if (isValidPosition(position)) {\n        Data d = mDataset[position];\n\n        if (d instanceof LandscapeData) {\n            return VIEW_TYPE_LANDSCAPE;\n        } else if (d instanceof PortraitData) {\n            return VIEW_TYPE_PORTRAIT;\n        }\n        // more else-ifs here\n    }\n    // default to landscape\n    return VIEW_TYPE_LANDSCAPE;\n}\n\n@Override\npublic void onBindViewHolder(ViewHolder holder, int position) {\n    Data d = mDataset[position];\n\n    if (holder instanceof LandscapeVH) {\n        // binding of dataset for landscape layouts\n        LandscapeData data = (LandscapeData) d;\n        LandscapeVH vh = (LandscapeVH) holder;\n        // bind the data to the view on the fly here\n        vh.myTextView.setText(data.getLandscapeTitle());\n    } else if (holder instanceof PortraitVH) {\n        // binding of dataset for portrait layouts\n        PortraitData data = (PortraitData) d;\n        PortraitVH vh = (PortraitVH) holder;\n        // bind the data to the view on the fly here\n        vh.myTextView.setText(data.getPortraitTitle());\n    }\n    // more else-ifs here\n}\n</code></pre>\n\n<p>Note: your mDataset[] is your only source of truth, and it contains datasets of type Data which can be subclassed to more specialized datasets like LandscapeData and PortraitData which go hand in hand with your layout's types.</p>\n"}], "owner": {"reputation": 877, "user_id": 3547851, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/uPZRn.jpg?s=128&g=1", "display_name": "Webster", "link": "https://stackoverflow.com/users/3547851/webster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1540974579, "creation_date": 1540962788, "last_edit_date": 1540974579, "question_id": 53076700, "link": "https://stackoverflow.com/questions/53076700/recyclerview-with-multiple-view-types-inside-recyclerview-shows-wrong-layout", "title": "Recyclerview with multiple view types inside RecyclerView shows wrong layout", "body": "<p>I have a <strong>parent</strong> layout it has some TextViews and a RecyclerView in it. And the <strong>child</strong> layout, it has a RecyclerView in it and the adapter has 5 different View Types</p>\n\n<p>For the <strong>child</strong> recyclerview, i use an Adapter which has 5 different layouts in it that consists of </p>\n\n<ol>\n<li><strong>VIEW_TYPE_LANDSCAPE</strong></li>\n<li><strong>VIEW_TYPE_LANDSCAPE_CARD</strong></li>\n<li><strong>VIEW_TYPE_PORTRAIT</strong></li>\n<li><strong>VIEW_TYPE_SQUARE</strong></li>\n<li><strong>VIEW_TYPE_TWO_COLUMN</strong></li>\n</ol>\n\n<p>The problem occurs when the <strong>child</strong> RecyclerView has more than <strong>x</strong> items in it. When I scroll down to the bottom of the screen, and then scroll up to the top of the screen and scroll down again to the bottom of the screen, somehow the <strong>child</strong> RecyclerView <strong>shows wrong layout / View Types.</strong></p>\n\n<p><strong>parent_layout.xml</strong></p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n&lt;data&gt;\n    &lt;import type=\"android.view.View\" /&gt;\n\n    &lt;variable\n        name=\"viewModel\"\n        type=\"home.HomeTabViewModel\" /&gt;\n&lt;/data&gt;\n\n&lt;android.support.constraint.ConstraintLayout\n    android:id=\"@+id/cl_container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;include\n        android:id=\"@+id/v_toolbar\"\n        layout=\"@layout/toolbar_home_v3\" /&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/rv_home_content\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:clipToPadding=\"false\"\n        android:overScrollMode=\"never\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/v_toolbar\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><strong>child_layout.xml</strong></p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n&lt;android.support.constraint.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"@dimen/dimens_32dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tv_title\"\n        style=\"@style/TextSoftBlackBold.20sp\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"@dimen/dimens_16dp\"\n        android:layout_marginRight=\"@dimen/dimens_16dp\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        tools:text=\"Popular Ideas\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tv_subtitle\"\n        style=\"@style/TextDarkGrayNormal.14sp\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"@dimen/dimens_16dp\"\n        android:layout_marginTop=\"@dimen/dimens_7dp\"\n        android:layout_marginRight=\"@dimen/dimens_16dp\"\n        android:ellipsize=\"end\"\n        android:maxLines=\"2\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_title\"\n        tools:text=\"Popular events happening during your stay in Bali\" /&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/rv_menu_grid\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"@dimen/dimens_2dp\"\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_subtitle\" /&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p><strong>BaseMenuAdapter.kt</strong></p>\n\n<pre><code>class BaseMenuAdapter(val context: Context?,\n                           private var contents: List&lt;HomeViewParam.Content&gt;?,\n                  private val menuGrid: HomeItem.MenuGrid?) :\n    RecyclerView.Adapter&lt;BaseMenuAdapter.MyViewHolder&gt;() {\n\ncompanion object {\n    const val VIEW_TYPE_LANDSCAPE = 0\n    const val VIEW_TYPE_LANDSCAPE_CARD = 1\n    const val VIEW_TYPE_PORTRAIT = 2\n    const val VIEW_TYPE_TWO_COLUMN = 3\n    const val VIEW_TYPE_SQUARE = 4\n}\n\ninner class MyViewHolder : RecyclerView.ViewHolder {\n    var landscapeBinding: ViewTemplateLandscapeBinding? = null\n    var landscapeCardBinding: ViewTemplateLandscapeCardBinding? = null\n    var portraitBinding: ItemHomeMenuPortraitBinding? = null\n    var twoColumnBinding: ItemHomeMenuTwoColumnBinding? = null\n    var squareBinding: ItemHomeMenuSquareBinding? = null\n\n\n    constructor(binding: ViewTemplateLandscapeBinding) : super(binding.root) {\n        landscapeBinding = binding\n    }\n\n    constructor(binding: ViewTemplateLandscapeCardBinding) : super(binding.root) {\n        landscapeCardBinding = binding\n    }\n\n    constructor(binding: ItemHomeMenuPortraitBinding) : super(binding.root) {\n        portraitBinding = binding\n    }\n\n    constructor(binding: ItemHomeMenuTwoColumnBinding) : super(binding.root) {\n        twoColumnBinding = binding\n    }\n\n    constructor(binding: ItemHomeMenuSquareBinding) : super(binding.root) {\n        squareBinding = binding\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseMenuAdapter.MyViewHolder {\n    val inflater = LayoutInflater.from(parent.context)\n    val binding: ViewDataBinding\n    return when (viewType) {\n        0 -&gt; {\n            binding = DataBindingUtil.inflate(inflater, R.layout.view_template_landscape, parent, false)\n            MyViewHolder(binding as ViewTemplateLandscapeBinding)\n        }\n        1 -&gt; {\n            binding = DataBindingUtil.inflate(inflater, R.layout.view_template_landscape_card, parent, false)\n            MyViewHolder(binding as ViewTemplateLandscapeCardBinding)\n        }\n        2 -&gt; {\n            binding = DataBindingUtil.inflate(inflater, R.layout.item_home_menu_portrait, parent, false)\n            MyViewHolder(binding as ItemHomeMenuPortraitBinding)\n        }\n        3 -&gt; {\n            binding = DataBindingUtil.inflate(inflater, R.layout.item_home_menu_two_column, parent, false)\n            MyViewHolder(binding as ItemHomeMenuTwoColumnBinding)\n        }\n        4 -&gt; {\n            binding = DataBindingUtil.inflate(inflater, R.layout.item_home_menu_square, parent, false)\n            MyViewHolder(binding as ItemHomeMenuSquareBinding)\n        }\n        else -&gt; {\n            throw RuntimeException(\"The type has to be ONE or TWO\")\n        }\n    }\n}\n\noverride fun onBindViewHolder(holder: BaseMenuAdapter.MyViewHolder, position: Int) {\n    context?.resources.run {\n        when (holder.itemViewType) {\n            VIEW_TYPE_LANDSCAPE -&gt; {\n                val binding = holder.landscapeBinding\n                binding?.run {\n                    val item = contents?.let { it[holder.adapterPosition] }\n                    binding.content = item\n                    root.setOnClickListener { AllWebViewActivityV2.startThisActivity(context, item?.title ?: \"\",\n                            item?.url ?: \"\") }\n                    executePendingBindings()\n                }\n            }\n            VIEW_TYPE_LANDSCAPE_CARD -&gt; {\n                val binding = holder.landscapeCardBinding\n                binding?.run {\n                    val item = contents?.let { it[holder.adapterPosition] }\n                    binding.content = item\n                    root.setOnClickListener { AllWebViewActivityV2.startThisActivity(context, item?.title ?: \"\",\n                            item?.url ?: \"\") }\n                    executePendingBindings()\n                }\n            }\n            VIEW_TYPE_TWO_COLUMN -&gt; {\n                val binding = holder.twoColumnBinding\n                binding?.run {\n                    val item = contents?.let { it[holder.adapterPosition] }\n                    binding.content = item\n                    root.setOnClickListener { AllWebViewActivityV2.startThisActivity(context, item?.title ?: \"\",\n                            item?.url ?: \"\") }\n                    executePendingBindings()\n                }\n            }\n            VIEW_TYPE_PORTRAIT -&gt; {\n                val binding = holder.portraitBinding\n                binding?.run {\n                    val item = contents?.let { it[holder.adapterPosition] }\n                    binding.content = item\n                    root.setOnClickListener { AllWebViewActivityV2.startThisActivity(context, item?.title ?: \"\",\n                            item?.url ?: \"\") }\n                    executePendingBindings()\n                }\n            }\n            VIEW_TYPE_SQUARE -&gt; {\n                val binding = holder.squareBinding\n                binding?.run {\n                    val item = contents?.let { it[holder.adapterPosition] }\n                    binding.content = item\n                    root.setOnClickListener { AllWebViewActivityV2.startThisActivity(context, item?.title ?: \"\",\n                            item?.url ?: \"\") }\n                    executePendingBindings()\n                }\n            }\n            else -&gt; {}\n        }\n    }\n}\n\noverride fun getItemViewType(position: Int): Int {\n    contents?.let {\n        return when (menuGrid?.templateType) {\n            TemplateType.LANDSCAPE -&gt; VIEW_TYPE_LANDSCAPE\n            TemplateType.LANDSCAPE_CARD -&gt; VIEW_TYPE_LANDSCAPE_CARD\n            TemplateType.TWO_COLUMN -&gt; VIEW_TYPE_TWO_COLUMN\n            TemplateType.POTRAIT -&gt; VIEW_TYPE_PORTRAIT\n            TemplateType.SQUARE -&gt; VIEW_TYPE_SQUARE\n            else -&gt; -1\n        }\n    }\n    return -1\n}\n\noverride fun getItemCount(): Int {\n    return contents?.size ?: 0\n}\n\noverride fun setHasStableIds(hasStableIds: Boolean) {\n    super.setHasStableIds(false)\n}\n\noverride fun getItemId(position: Int): Long {\n    return position.toLong()\n}\n\nfun setItems(contents: List&lt;HomeViewParam.Content&gt;?) {\n    this.contents = contents\n}\n}\n</code></pre>\n\n<p><strong>EDIT</strong>\nHere's my view looks like\n<a href=\"https://i.stack.imgur.com/zERYC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zERYC.png\" alt=\"enter image description here\"></a></p>\n\n<p>So as I've mentioned above, when I scroll up or down, sometimes some items use wrong view type</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 8939994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nqsMBKo8ZQY/AAAAAAAAAAI/AAAAAAAAAcQ/Ds4T4qaXz-o/photo.jpg?sz=128", "display_name": "Hafiz Hamidi", "link": "https://stackoverflow.com/users/8939994/hafiz-hamidi"}, "edited": false, "score": 0, "creation_date": 1541026584, "post_id": 53076713, "comment_id": 93082802, "body": "Thanks for the help!"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1540963217, "last_edit_date": 1540963217, "creation_date": 1540962849, "answer_id": 53076713, "question_id": 53076696, "link": "https://stackoverflow.com/questions/53076696/unable-to-initialize-googlemap-object-in-kotlin/53076713#53076713", "title": "Unable to initialize GoogleMap object in Kotlin", "body": "<p>initialize GoogleMap like this</p>\n\n<pre><code> private lateinit var mMap: GoogleMap? = null\n</code></pre>\n\n<p>Implement the OnMapReadyCallback interface and use the onMapReady(GoogleMap) callback method to get a handle to the GoogleMap object. The GoogleMap object is the internal representation of the map itself. To set the view options for a map, you modify its GoogleMap object.</p>\n\n<pre><code>class MainActivity : OnMapReadyCallback {\n\n  // your other code\n\noverride fun onMapReady(googleMap: GoogleMap) {\nmMap = googleMap  \n\nif (mMap != null) {\n    val permission = ContextCompat.checkSelfPermission(this,\n            Manifest.permission.ACCESS_FINE_LOCATION)\n\n    if (permission == PackageManager.PERMISSION_GRANTED) {\n        mMap?.isMyLocationEnabled = true\n    } else {\n        requestPermission(\n                Manifest.permission.ACCESS_FINE_LOCATION,\n                LOCATION_REQUEST_CODE)\n     }\n }\n }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 828004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6c8125dca66818139de8e9857339b2?s=128&d=identicon&r=PG", "display_name": "padlanau", "link": "https://stackoverflow.com/users/828004/padlanau"}, "is_accepted": false, "score": 0, "last_activity_date": 1608499454, "last_edit_date": 1608499454, "creation_date": 1608498733, "answer_id": 65384834, "question_id": 53076696, "link": "https://stackoverflow.com/questions/53076696/unable-to-initialize-googlemap-object-in-kotlin/65384834#65384834", "title": "Unable to initialize GoogleMap object in Kotlin", "body": "<p>I tried to apply it</p>\n<blockquote>\n<p>private lateinit var map: GoogleMap? = null</p>\n</blockquote>\n<p>but I'm getting</p>\n<blockquote>\n<p>'lateinit' modifier is not allowed on properties of nullable types</p>\n</blockquote>\n"}], "owner": {"reputation": 9, "user_id": 8939994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nqsMBKo8ZQY/AAAAAAAAAAI/AAAAAAAAAcQ/Ds4T4qaXz-o/photo.jpg?sz=128", "display_name": "Hafiz Hamidi", "link": "https://stackoverflow.com/users/8939994/hafiz-hamidi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 53076713, "answer_count": 2, "score": -1, "last_activity_date": 1608499454, "creation_date": 1540962749, "last_edit_date": 1540975377, "question_id": 53076696, "link": "https://stackoverflow.com/questions/53076696/unable-to-initialize-googlemap-object-in-kotlin", "title": "Unable to initialize GoogleMap object in Kotlin", "body": "<p>Attempting to create a member variable mMap throws an error \"Classifier GoogleMap does not have a companion object, and thus must be initialized here\". In Java, I would have just used \"Private GoogleMap mMap\".</p>\n\n<p>Help is appreciated!</p>\n\n<pre><code>private val TAG = \"MapActivity\"\n\nprivate val FINE_LOCATION = Manifest.permission.ACCESS_FINE_LOCATION\nprivate val COURSE_LOCATION = Manifest.permission.ACCESS_COARSE_LOCATION\nprivate val LOCATION_PERMISSION_REQUEST_CODE = 1234;\n\nprivate var mLocationPermissionGranted : Boolean = false\nprivate var mMap = GoogleMap\n</code></pre>\n"}, {"tags": ["java", "kotlin", "try-catch"], "answers": [{"tags": [], "owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "is_accepted": false, "score": 0, "last_activity_date": 1540965146, "creation_date": 1540965146, "answer_id": 53077095, "question_id": 53076595, "link": "https://stackoverflow.com/questions/53076595/how-to-use-try-resources-in-kotlin/53077095#53077095", "title": "how to use try-resources in kotlin?", "body": "<p>I just use wrong dependency:</p>\n\n<pre><code> compile \"org.jetbrains.kotlin:kotlin-stdlib\"\n</code></pre>\n\n<p>replace it with:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n</code></pre>\n"}], "owner": {"reputation": 6317, "user_id": 2849157, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/81de56159f8a6f58c78e3e7d88d7fbe5?s=128&d=identicon&r=PG&f=1", "display_name": "roger", "link": "https://stackoverflow.com/users/2849157/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540965146, "creation_date": 1540962102, "question_id": 53076595, "link": "https://stackoverflow.com/questions/53076595/how-to-use-try-resources-in-kotlin", "title": "how to use try-resources in kotlin?", "body": "<p>I am trying to use kotlin instead of Java, I cannot find a good way to do with try resource:</p>\n\n<p>Java Code like this:</p>\n\n<pre><code>import org.tensorflow.Graph;\nimport org.tensorflow.Session;\nimport org.tensorflow.Tensor;\nimport org.tensorflow.TensorFlow;\n\npublic class HelloTensorFlow {\n  public static void main(String[] args) throws Exception {\n    try (Graph g = new Graph()) {\n      final String value = \"Hello from \" + TensorFlow.version();\n\n      // Construct the computation graph with a single operation, a constant\n      // named \"MyConst\" with a value \"value\".\n      try (Tensor t = Tensor.create(value.getBytes(\"UTF-8\"))) {\n        // The Java API doesn't yet include convenience functions for adding operations.\n        g.opBuilder(\"Const\", \"MyConst\").setAttr(\"dtype\", t.dataType()).setAttr(\"value\", t).build();\n      }\n\n      // Execute the \"MyConst\" operation in a Session.\n      try (Session s = new Session(g);\n          // Generally, there may be multiple output tensors,\n          // all of them must be closed to prevent resource leaks.\n          Tensor output = s.runner().fetch(\"MyConst\").run().get(0)) {\n        System.out.println(new String(output.bytesValue(), \"UTF-8\"));\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>I do it in kotlin, I have to do this: </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val g = Graph();\n    try {\n        val value = \"Hello from ${TensorFlow.version()}\"\n        val t = Tensor.create(value.toByteArray(Charsets.UTF_8))\n        try {\n            g.opBuilder(\"Const\", \"MyConst\").setAttr(\"dtype\", t.dataType()).setAttr(\"value\", t).build()\n        } finally {\n            t.close()\n        }\n\n        var sess = Session(g)\n        try {\n            val output = sess.runner().fetch(\"MyConst\").run().get(0)\n            println(String(output.bytesValue(), Charsets.UTF_8))\n        } finally {\n            sess?.close()\n        }\n    } finally {\n        g.close()\n    }\n\n}\n</code></pre>\n\n<p>I have try to use <code>use</code> like this:</p>\n\n<pre><code>Graph().use {\n    it -&gt; ....\n}\n</code></pre>\n\n<p>I got error like this:</p>\n\n<pre><code>Error:(16, 20) Kotlin: Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \n</code></pre>\n\n<p>@InlineOnly public inline fun  ???.use(block: (???) -> ???): ??? defined in kotlin.io</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1218, "user_id": 6570945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ntKZxXqL_z0/AAAAAAAAAAI/AAAAAAAAAKE/cSeB-EtbS9Y/photo.jpg?sz=128", "display_name": "Ashu Tyagi", "link": "https://stackoverflow.com/users/6570945/ashu-tyagi"}, "edited": false, "score": 0, "creation_date": 1540961616, "post_id": 53076410, "comment_id": 93050824, "body": "You can try using <a href=\"https://github.com/Devlight/InfiniteCycleViewPager\" rel=\"nofollow noreferrer\">this</a> library."}, {"owner": {"reputation": 1397, "user_id": 1216265, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/4B7JY.jpg?s=128&g=1", "display_name": "Ahmed S. Durrani", "link": "https://stackoverflow.com/users/1216265/ahmed-s-durrani"}, "reply_to_user": {"reputation": 1218, "user_id": 6570945, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ntKZxXqL_z0/AAAAAAAAAAI/AAAAAAAAAKE/cSeB-EtbS9Y/photo.jpg?sz=128", "display_name": "Ashu Tyagi", "link": "https://stackoverflow.com/users/6570945/ashu-tyagi"}, "edited": false, "score": 0, "creation_date": 1541032748, "post_id": 53076410, "comment_id": 93084197, "body": "@AshuTyagi it didnt help."}], "answers": [{"tags": [], "owner": {"reputation": 1397, "user_id": 1216265, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/4B7JY.jpg?s=128&g=1", "display_name": "Ahmed S. Durrani", "link": "https://stackoverflow.com/users/1216265/ahmed-s-durrani"}, "is_accepted": true, "score": 0, "last_activity_date": 1541389839, "creation_date": 1541389839, "answer_id": 53148074, "question_id": 53076410, "link": "https://stackoverflow.com/questions/53076410/how-to-make-different-views-recyclerview-as-endless-loop/53148074#53148074", "title": "How to make different views RecyclerView as endless loop?", "body": "<p>So after extensive searching, found <a href=\"https://github.com/tomoima525/CirculerAutoScrollingRecyclerView\" rel=\"nofollow noreferrer\">this</a> solution. </p>\n\n<p>So this is what I did</p>\n\n<p><strong>RecyclerViewAdapterClass</strong></p>\n\n<pre><code>  fun initialize(scrollableData: ArrayList&lt;ScrollableData&gt;, activity: AppCompatActivity) {\n            this.scrollableData = scrollableData\n            this.activity = activity\n            list = /*listOf(scrollableData.last()) +*/ scrollableData + listOf(scrollableData.first()) //this is very important\n            }\n    ...\n      override fun getItemViewType(position: Int): Int {\n        return list[position %  list.size].index\n    }\n</code></pre>\n\n<p><strong>HomeActivity#setupRecyclerView(...)</strong></p>\n\n<pre><code>mainScreenAdapter.itemCount.takeIf { it &gt; 1 }\n                ?.apply {\n                    onScrollListener = OnScrollListener(\n                            mainScreenAdapter.itemCount,\n                            linearLayoutManager\n                    ) {\n                       //some code here\n                    }\n                    recycler_view.addOnScrollListener(onScrollListener)\n                    recycler_view.scrollToPosition(0)\n                }\n</code></pre>\n\n<p><strong>OnScrollListener</strong></p>\n\n<pre><code>internal class OnScrollListener(val itemCount: Int, val layoutManager: LinearLayoutManager,\n                                    val stateChanged: (Int) -&gt; Unit) : RecyclerView.OnScrollListener() {\n        var isLooping = false\n        override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\n            super.onScrolled(recyclerView!!, dx, dy)\n            val firstItemVisible = layoutManager.findFirstCompletelyVisibleItemPosition()\n\n            if (firstItemVisible &gt; 0 &amp;&amp; firstItemVisible % (itemCount - 1) == 0) {\n                // When position reaches end of the list, it sho    uld go back to the beginning\n                isLooping = true\n                recyclerView?.scrollToPosition(0)\n            } /*else if (firstItemVisible == 0) {\n                // When position reaches beginning of the list, it should go back to the end\n                recyclerView?.scrollToPosition(itemCount-1)\n            }*/\n        }\n\n        override fun onScrollStateChanged(recyclerView: RecyclerView, newState: Int) {\n            super.onScrollStateChanged(recyclerView!!, newState)\n            var loop = newState\n            if (isLooping) {\n                loop = 100\n                isLooping = false\n            }\n            stateChanged(loop)\n        }\n    }\n</code></pre>\n\n<p>Ref: <a href=\"https://github.com/tomoima525/CirculerAutoScrollingRecyclerView\" rel=\"nofollow noreferrer\">https://github.com/tomoima525/CirculerAutoScrollingRecyclerView</a></p>\n"}], "owner": {"reputation": 1397, "user_id": 1216265, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/4B7JY.jpg?s=128&g=1", "display_name": "Ahmed S. Durrani", "link": "https://stackoverflow.com/users/1216265/ahmed-s-durrani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 53148074, "answer_count": 1, "score": 0, "last_activity_date": 1541389905, "creation_date": 1540960754, "last_edit_date": 1541389905, "question_id": 53076410, "link": "https://stackoverflow.com/questions/53076410/how-to-make-different-views-recyclerview-as-endless-loop", "title": "How to make different views RecyclerView as endless loop?", "body": "<p>I have been searching to make the <code>recyclerview</code> Carousel so that first item populates again when the last item is visible and it keep on showing again and again. Now I know this answer is already answered <a href=\"https://stackoverflow.com/questions/31253555/how-do-i-create-a-circular-endless-recyclerview?noredirect=1&amp;lq=1\">here</a>, and <a href=\"https://stackoverflow.com/questions/29693593/circular-auto-scrolling-horizontalscrollview-android\">here</a> but both these answer didnt solve my problem. Although number of items increased but the fragment which are items in recyclerview do not show anything. </p>\n\n<p>I am inflating <code>fragments</code> as an items for <code>RecyclerView</code> which is nested in a <code>ViewPager</code>. The accepted answers hasnt been able to solve my problem. </p>\n\n<p>Code:\n<strong>RecyclerViewAdapterClass</strong></p>\n\n<pre><code>fun initialize(scrollableData: ArrayList&lt;ScrollableData&gt;, activity: AppCompatActivity) {\n        this.scrollableData = scrollableData\n        this.activity = activity\n    }\n\n    override fun getItemCount() = scrollableData.size\n\n    override fun getItemViewType(position: Int): Int {\n        return scrollableData[position].index\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseHolder {\n\n        when (viewType) {\n            ScrollableItems.ABC -&gt; {\n                val view = parent.inflate(R.layout.view_module_abc, false)\n                return ABCViewHolder(view, abcPresenterImpl, activity)\n            }\n\n            ScrollableItems.DEF -&gt; {\n                val view = parent.inflate(R.layout.view_module_def, false)\n                return DEFViewHolder(view, defControlPresenter, activity)\n            }\n\n            else -&gt; {\n                val view = parent.inflate(R.layout.view_module_ghi, false)\n                return GHIViewHolder(view, GHIModulePresenter, activity)\n            }\n        }\n    }\n\n    override fun onBindViewHolder(holder: BaseHolder, position: Int) {\n        holder.bindView()\n    }\n</code></pre>\n\n<p>and <strong>HomeActivity#setupRecyclerView(...)</strong></p>\n\n<pre><code>private fun setupRecyclerView(scrollableDataList: ArrayList&lt;ScrollableData&gt;) {\n        linearLayoutManager = CustomLinearLayoutManager(applicationContext, LinearLayout.HORIZONTAL, !DeviceConfig.instance!!.isRegularDevice)\n        recycler_view.layoutManager = linearLayoutManager\n        recycler_view.adapter = mainScreenAdapter\n\n        mainScreenAdapter.initialize(scrollableDataList, this)\n        recycler_view.setHasFixedSize(true);\n        GravityPagerSnapHelper(if (DeviceConfig.instance!!.isRegularDevice) Gravity.START else Gravity.END, true, this).attachToRecyclerView(recycler_view)\n        recyclerViewScrollListener()\n    }\n</code></pre>\n\n<p>and \n<strong>CustomLinearLayoutManager</strong></p>\n\n<pre><code>class CustomLinearLayoutManager(context: Context, orientation: Int, reverseLayout: Boolean)\n    : LinearLayoutManager(context, orientation, reverseLayout) {\n\n    var isScrollEnabled = true\n\n    override fun canScrollHorizontally(): Boolean {\n        return isScrollEnabled &amp;&amp; super.canScrollHorizontally()\n    }\n\n    override fun canScrollVertically(): Boolean {\n        return isScrollEnabled &amp;&amp; super.canScrollVertically()\n    }\n}\n</code></pre>\n\n<p>Please help me resolve this.</p>\n"}, {"tags": ["kotlin", "parcelable"], "answers": [{"tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1540976844, "last_edit_date": 1540976844, "creation_date": 1540967039, "answer_id": 53077449, "question_id": 53075906, "link": "https://stackoverflow.com/questions/53075906/kotlin-why-parcelize-requires-all-serialized-properties-to-be-declared-in-the/53077449#53077449", "title": "Kotlin: Why @Parcelize requires all serialized properties to be declared in the primary constructor?", "body": "<p>Because that is how serialization works. For example, you have </p>\n\n<pre><code>data class User(val name: String, val id: Int)\n\nval user = User(\"foo\", 1)\n</code></pre>\n\n<p>and it serialize to JSON (<code>@Parcelize</code> does not serialize to JSON. This is an example.)</p>\n\n<pre><code>{\n  \"name\": \"foo\",\n  \"id\": 1\n}\n</code></pre>\n\n<p>When it deserializes JSON, it need to create back the object from the JSON above. Without a primary constructor that have all the necessary fields, it cannot create a same object.</p>\n\n<p>If you have a complex object, you can create a separate class for serialization and create a factory method to accept that class. </p>\n\n<p>Or you can implement <code>Parcelable</code> yourself and you can see why you need all the fields in the constructor.</p>\n"}], "owner": {"reputation": 73, "user_id": 9992705, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qKTT8VqWNv8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0TMDNQBh-QHu3AOqf2YYqw1UXgCw/mo/photo.jpg?sz=128", "display_name": "Bear Big", "link": "https://stackoverflow.com/users/9992705/bear-big"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540976844, "creation_date": 1540956994, "last_edit_date": 1540957471, "question_id": 53075906, "link": "https://stackoverflow.com/questions/53075906/kotlin-why-parcelize-requires-all-serialized-properties-to-be-declared-in-the", "title": "Kotlin: Why @Parcelize requires all serialized properties to be declared in the primary constructor?", "body": "<p>In many scenarios, I don't need a field to be passed in from the primary constructor, for example, a field is assigned after initialization and some steps have been taken; a field directly accesses a global variable (such as static variables, such as other persistent data).</p>\n\n<p>Now I have the compromise solution is to use <code>var</code> and <code>default value</code> in the primary constructor, or override all serialization methods in <code>companion object: Parceler &lt;Model&gt;</code>, both of which have disadvantages.</p>\n\n<p>Why is Kotlin designed like this?\nIs there any better solution?</p>\n"}, {"tags": ["java", "android", "kotlin", "firebase-storage", "exoplayer"], "answers": [{"tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": true, "score": 1, "last_activity_date": 1541024395, "last_edit_date": 1592644375, "creation_date": 1541024395, "answer_id": 53092747, "question_id": 53072671, "link": "https://stackoverflow.com/questions/53072671/can-exoplayer-stream-mp3s-without-downloading-the-full-file/53092747#53092747", "title": "Can Exoplayer Stream mp3s Without Downloading The Full File?", "body": "<p>Thank you Oliver Woodman on the ExoPlayer team for resolving <a href=\"https://github.com/google/ExoPlayer/issues/5028\" rel=\"nofollow noreferrer\">this question on Github</a>!</p>\n<p><em>If a mp3 file is saved to the cloud, ie:Firebase Storage / Google Cloud Storage, can the file be streamed from Exoplayer without needing to download the full file size?</em></p>\n<blockquote>\n<p>Yes. That's just what happens by default when you use ExoPlayer to play a stream.</p>\n</blockquote>\n<p><em>If the mp3 can be streamed directly from Cloud Storage roughly what percentage of memory of the file is used in the transfer of the stream since the file itself is not being downloaded?</em></p>\n<blockquote>\n<p>You can configure this by instantiating your own DefaultLoadControl, which you can pass to ExoPlayerFactory.newSimpleInstance when building the player. You can also implement your own LoadControl from scratch if you need more control.</p>\n<p>Note that whilst buffering less far ahead saves on data transfer costs, it also makes re-buffers more likely to occur because the player will be less able to ride out temporary network connectivity issues.</p>\n</blockquote>\n"}], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 53092747, "answer_count": 1, "score": 0, "last_activity_date": 1597514711, "creation_date": 1540932438, "last_edit_date": 1597514711, "question_id": 53072671, "link": "https://stackoverflow.com/questions/53072671/can-exoplayer-stream-mp3s-without-downloading-the-full-file", "title": "Can Exoplayer Stream mp3s Without Downloading The Full File?", "body": "<h1>Issue</h1>\n\n<p>If a mp3 file is saved to the cloud, ie:<a href=\"https://firebase.google.com/docs/storage/\" rel=\"nofollow noreferrer\">Firebase Storage</a>, can the file be streamed with <a href=\"https://github.com/google/ExoPlayer\" rel=\"nofollow noreferrer\">Exoplayer</a> on Android without needing to download the full file size? If the mp3 can be streamed directly from Cloud Storage roughly what percentage of memory of the file is used in the transfer of the stream since the file itself is not being downloaded?</p>\n\n<p>The objective is to avoid data transfer costs which are more expensive than data storage costs.</p>\n\n<h1>Possible Solution</h1>\n\n<p>Per this Medium Post, <a href=\"https://medium.com/google-exoplayer/downloading-streams-6d259eec7f95\" rel=\"nofollow noreferrer\">Downloading Streams</a>, it looks like the <strong>DataSource</strong> may handle hosted mp3 files without downloading the file. However, I'm not certain so if someone here can confirm that would be amazing.</p>\n"}, {"tags": ["android", "kotlin", "android-trafficstats"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 0, "last_activity_date": 1540923966, "creation_date": 1540923966, "answer_id": 53070636, "question_id": 53070576, "link": "https://stackoverflow.com/questions/53070576/trafficstats-getuidrxbytes-return-1/53070636#53070636", "title": "TrafficStats.getUidRxBytes return -1", "body": "<p>As per documentation:</p>\n\n<blockquote>\n  <p>Starting in Build.VERSION_CODES.N this will only report traffic statistics for the calling UID. It will return UNSUPPORTED for all other UIDs for privacy reasons. To access historical network statistics belonging to other UIDs, use NetworkStatsManager.</p>\n</blockquote>\n\n<p>When getting return values you don't expect, always check the most recent documentation first.</p>\n"}], "owner": {"reputation": 417, "user_id": 7760283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6Zsy0NcjRBY/AAAAAAAAAAI/AAAAAAAAAEE/hky3MkzOP7k/photo.jpg?sz=128", "display_name": "Pablo DbSys", "link": "https://stackoverflow.com/users/7760283/pablo-dbsys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 53070636, "answer_count": 1, "score": 0, "last_activity_date": 1540923966, "creation_date": 1540923788, "question_id": 53070576, "link": "https://stackoverflow.com/questions/53070576/trafficstats-getuidrxbytes-return-1", "title": "TrafficStats.getUidRxBytes return -1", "body": "<p>I try get the total Tx and Tr Bytes per installed apps, but always returns -1, except in my app. This is my code:</p>\n\n<pre><code>val pm = context.packageManager\nval apps = HashMap&lt;String, Long&gt;()\n    for( app in pm.getInstalledApplications(0) ) {\n        Log.i(TAG, \"app.packageName=${app.packageName} TrafficStats.getUidTxBytes(app.uid)=${TrafficStats.getUidTxBytes(app.uid)} TrafficStats.getUidRxBytes(app.uid)=${TrafficStats.getUidRxBytes(app.uid)}\")\n        apps.put(app.packageName, TrafficStats.getUidRxBytes(app.uid)+TrafficStats.getUidTxBytes(app.uid))\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "edited": false, "score": 0, "creation_date": 1540922923, "post_id": 53070074, "comment_id": 93039185, "body": "You need activity or fragment context to startActivity. This won&#39;t be possible. Try Anko library if you want a concise code for intents."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1540930543, "post_id": 53070074, "comment_id": 93042889, "body": "With <code>let</code> as xxxxx and <code>it</code> as yyy this could work."}, {"owner": {"reputation": 603, "user_id": 9829201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAyYk.jpg?s=128&g=1", "display_name": "Marcel Sonderegger", "link": "https://stackoverflow.com/users/9829201/marcel-sonderegger"}, "edited": false, "score": 0, "creation_date": 1540934439, "post_id": 53070074, "comment_id": 93044515, "body": "Thank you, yes it worked with let."}], "answers": [{"tags": [], "owner": {"reputation": 603, "user_id": 9829201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAyYk.jpg?s=128&g=1", "display_name": "Marcel Sonderegger", "link": "https://stackoverflow.com/users/9829201/marcel-sonderegger"}, "is_accepted": true, "score": 0, "last_activity_date": 1540934599, "creation_date": 1540934599, "answer_id": 53073113, "question_id": 53070074, "link": "https://stackoverflow.com/questions/53070074/kotlin-in-android-remove-object-value-for-an-intent-as-it-is-only-used-once/53073113#53073113", "title": "kotlin in android : remove object-value for an Intent,as it is only used once", "body": "<p>Writing nicely out the answer from Michael Butcher:</p>\n\n<pre><code>Intent(Intent.ACTION_PICK,\n    MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n    .let{startActivityForResult( it , GALLERY)}\n</code></pre>\n\n<p>This for others, who would like to do the same ;-)</p>\n"}], "owner": {"reputation": 603, "user_id": 9829201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAyYk.jpg?s=128&g=1", "display_name": "Marcel Sonderegger", "link": "https://stackoverflow.com/users/9829201/marcel-sonderegger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 53073113, "answer_count": 1, "score": 0, "last_activity_date": 1540934599, "creation_date": 1540921587, "question_id": 53070074, "link": "https://stackoverflow.com/questions/53070074/kotlin-in-android-remove-object-value-for-an-intent-as-it-is-only-used-once", "title": "kotlin in android : remove object-value for an Intent,as it is only used once", "body": "<p>When programming in kotlin one get often code like this, where a value (galleryIntent) needs to be created.</p>\n\n<pre><code>        val galleryIntent = Intent(Intent.ACTION_PICK,\n                MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n        startActivityForResult(galleryIntent, GALLERY)\n</code></pre>\n\n<p>is there a way to work without this value, like:</p>\n\n<pre><code>        Intent(Intent.ACTION_PICK,\n                MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n        .xxxx{startActivityForResult( yyy , GALLERY)}\n</code></pre>\n\n<p>whereas xxxx is a function like 'apply', 'let' ... and yyy is a reference to the Intent</p>\n\n<p>In my humble opinion the code would be much more readable.</p>\n"}, {"tags": ["kotlin", "mockito", "hamcrest"], "comments": [{"owner": {"reputation": 901, "user_id": 469154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ec5e9afc418f411886704d5c8164c53?s=128&d=identicon&r=PG", "display_name": "Emanuel George Hategan", "link": "https://stackoverflow.com/users/469154/emanuel-george-hategan"}, "edited": false, "score": 0, "creation_date": 1540991249, "post_id": 53069993, "comment_id": 93064811, "body": "In the end I&#39;ve just used verbatim arg matcher which works reasonably well for very small maps:  <code>doReturn(returnValue).</code>when<code>(referenceObj).apply(mapOf(...))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 2895083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4933a056b5d15f6f6b91711746c8d8a?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/2895083/anton"}, "is_accepted": false, "score": 0, "last_activity_date": 1570010080, "creation_date": 1570010080, "answer_id": 58199237, "question_id": 53069993, "link": "https://stackoverflow.com/questions/53069993/problem-building-a-hamcrest-map-matcher-in-kotlin/58199237#58199237", "title": "Problem building a hamcrest map matcher in Kotlin", "body": "<p>If you use ham<strong>k</strong>rest <a href=\"https://github.com/npryce/hamkrest\" rel=\"nofollow noreferrer\">https://github.com/npryce/hamkrest</a> for Kotlin instead of hamcrest, you can try to create:</p>\n\n<pre><code>fun &lt;K, V&gt; hasEntry(key: K, value: V): Matcher&lt;Map&lt;K, V&gt;&gt; {\n    return has(\"entry $key -&gt; $value\", { it[key] }, equalTo(value))\n}\n</code></pre>\n\n<p>and then in your test:</p>\n\n<pre><code>val map = mapOf(\"some-key\" to \"some-value\")\n\nassertThat(map, hasEntry(\"some-key\", \"some-value\"))\n</code></pre>\n\n<p>I found a solution here <a href=\"https://github.com/araqnid/app-status/blob/master/src/test/kotlin/org/araqnid/appstatus/Matchers.kt\" rel=\"nofollow noreferrer\">https://github.com/araqnid/app-status/blob/master/src/test/kotlin/org/araqnid/appstatus/Matchers.kt</a></p>\n"}], "owner": {"reputation": 901, "user_id": 469154, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7ec5e9afc418f411886704d5c8164c53?s=128&d=identicon&r=PG", "display_name": "Emanuel George Hategan", "link": "https://stackoverflow.com/users/469154/emanuel-george-hategan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 381, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570010080, "creation_date": 1540921315, "last_edit_date": 1540922217, "question_id": 53069993, "link": "https://stackoverflow.com/questions/53069993/problem-building-a-hamcrest-map-matcher-in-kotlin", "title": "Problem building a hamcrest map matcher in Kotlin", "body": "<p>I'm working on a simple mock that returns a value when a function in called with a collection that has a given entry.</p>\n\n<p>BUT when I build the matcher</p>\n\n<pre><code>import org.mockito.hamcrest.MockitoHamcrest.argThat\nimport org.hamcrest.collection.IsMapContaining.hasEntry\n\nval matcher : Matcher&lt;Map&lt;String, String&gt;&gt; = hasEntry(\"key\", \"value\")  as Matcher&lt;Map&lt;String, String&gt;&gt;\nval args : Map&lt;String, String&gt; = argThat(matcher)\n</code></pre>\n\n<p>it ends up being null due to generics not being inferred correctly as far as I can see and blows at runtime with </p>\n\n<pre><code>java.lang.IllegalStateException: argThat(matcher) must not be null\n</code></pre>\n\n<p>Eventually I just want to set up the mock like below:</p>\n\n<pre><code>doReturn(returnValue).`when`(referenceObj).functionName(args)\n</code></pre>\n\n<p>My dependencies include: </p>\n\n<ul>\n<li>mockito-core 2.16.0</li>\n<li>hamcrest-all 1.3</li>\n<li>kotlin-reflect 1.2.30</li>\n<li>kotlin-stdlib 1.2.30</li>\n<li>kotlin-stdlib-jdk7 1.2.30</li>\n<li>kotlin-stdlib-jdk8 1.2.30</li>\n</ul>\n\n<p><strong>Am I doing something wrong? Can you suggest a workaround?</strong> </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 664, "user_id": 2297684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AEYY3.jpg?s=128&g=1", "display_name": "Mikhail Olshanski", "link": "https://stackoverflow.com/users/2297684/mikhail-olshanski"}, "edited": false, "score": 0, "creation_date": 1540920829, "post_id": 53069827, "comment_id": 93038146, "body": "Can you please explain what you are trying to achieve?"}, {"owner": {"reputation": 1954, "user_id": 1593067, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/40966cb83fd16515a4d60863b9fb17b1?s=128&d=identicon&r=PG", "display_name": "Beto Caldas", "link": "https://stackoverflow.com/users/1593067/beto-caldas"}, "reply_to_user": {"reputation": 664, "user_id": 2297684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AEYY3.jpg?s=128&g=1", "display_name": "Mikhail Olshanski", "link": "https://stackoverflow.com/users/2297684/mikhail-olshanski"}, "edited": false, "score": 0, "creation_date": 1540920975, "post_id": 53069827, "comment_id": 93038224, "body": "Added the entire class... this is a divider for a RecyclerView"}], "answers": [{"tags": [], "owner": {"reputation": 1954, "user_id": 1593067, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/40966cb83fd16515a4d60863b9fb17b1?s=128&d=identicon&r=PG", "display_name": "Beto Caldas", "link": "https://stackoverflow.com/users/1593067/beto-caldas"}, "is_accepted": false, "score": 0, "last_activity_date": 1540921413, "creation_date": 1540921413, "answer_id": 53070016, "question_id": 53069827, "link": "https://stackoverflow.com/questions/53069827/cant-map-a-viewgroup-children/53070016#53070016", "title": "Can&#39;t map a viewgroup children", "body": "<p>I found a solution... parent.children is sequence</p>\n\n<p>I opened the source and found it:</p>\n\n<pre><code>val ViewGroup.children: Sequence&lt;View&gt;\nget() = object : Sequence&lt;View&gt; {\n    override fun iterator() = this@children.iterator()\n}\n</code></pre>\n\n<p>I think it is unmutable... above this code in the same source I found</p>\n\n<pre><code>operator fun ViewGroup.iterator() = object : MutableIterator&lt;View&gt; {\nprivate var index = 0\noverride fun hasNext() = index &lt; childCount\noverride fun next() = getChildAt(index++) ?: throw IndexOutOfBoundsException()\noverride fun remove() = removeViewAt(--index)\n</code></pre>\n\n<p>}</p>\n\n<p>So I changed my code to:</p>\n\n<pre><code>parent.iterator().forEach {\n        val params = it.layoutParams as RecyclerView.LayoutParams\n        val top = it.bottom + params.bottomMargin\n        val bottom = top + mDivisor!!.intrinsicHeight\n        mDivisor.setBounds(left, top, right, bottom)\n        mDivisor.setColorFilter(Color.GRAY, PorterDuff.Mode.SRC_IN)\n        mDivisor.draw(c)\n    }\n</code></pre>\n"}], "owner": {"reputation": 1954, "user_id": 1593067, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/40966cb83fd16515a4d60863b9fb17b1?s=128&d=identicon&r=PG", "display_name": "Beto Caldas", "link": "https://stackoverflow.com/users/1593067/beto-caldas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540921413, "creation_date": 1540920678, "last_edit_date": 1540920927, "question_id": 53069827, "link": "https://stackoverflow.com/questions/53069827/cant-map-a-viewgroup-children", "title": "Can&#39;t map a viewgroup children", "body": "<p>Why map isn't working in this viewgroup chieldren list?</p>\n\n<pre><code>class DivisorItem(context: Context): RecyclerView.ItemDecoration() {\nprivate val mDivisor: Drawable? = ContextCompat.getDrawable(context, R.drawable.item_divisor)\n\noverride fun onDrawOver(c: Canvas, parent: RecyclerView, state: RecyclerView.State) {\n    val left = parent.paddingLeft\n    val right = parent.width - parent.paddingRight\n\n    parent.children.map {\n        val params = it.layoutParams as RecyclerView.LayoutParams\n        val top = it.bottom + params.bottomMargin\n        val bottom = top + mDivisor!!.intrinsicHeight\n        mDivisor.setBounds(left, top, right, bottom)\n        mDivisor.setColorFilter(Color.GRAY, PorterDuff.Mode.SRC_IN)\n        mDivisor.draw(c)\n    }\n\n}\n}\n</code></pre>\n\n<p>There is 4 views in this viewgroup but it never enter in map block</p>\n"}, {"tags": ["android", "kotlin", "hce"], "comments": [{"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540940496, "post_id": 53069132, "comment_id": 93046442, "body": "In your code <code>val cert: ByteArray</code> is not null (did you initialize it)?"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540940699, "post_id": 53069132, "comment_id": 93046489, "body": "Try to change <code>val cert: ByteArray</code> to <code>val cert = byteArrayOf(&#47;&#47;your values: 1, 2, 3)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 3053133, "user_type": "registered", "profile_image": "https://graph.facebook.com/780735248/picture?type=large", "display_name": "Rabend Journal", "link": "https://stackoverflow.com/users/3053133/rabend-journal"}, "is_accepted": false, "score": 0, "last_activity_date": 1541152984, "creation_date": 1541152984, "answer_id": 53116409, "question_id": 53069132, "link": "https://stackoverflow.com/questions/53069132/android-hand-over-bytearray-to-host-card-emulation-service/53116409#53116409", "title": "Android hand over ByteArray to Host Card Emulation Service", "body": "<p>Inside the the HCE service there is a method which can be overreaden like this:</p>\n\n<pre><code>override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n    super.onStartCommand(intent, flags, startId)\n\n\n    if (intent!!.hasExtra(\"&lt;KEY&gt;\")) {\n        var arr = intent.getByteArrayExtra(\"&lt;KEY&gt;\")\n    }\n\n\n    return flags\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3053133, "user_type": "registered", "profile_image": "https://graph.facebook.com/780735248/picture?type=large", "display_name": "Rabend Journal", "link": "https://stackoverflow.com/users/3053133/rabend-journal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1541152984, "creation_date": 1540917822, "question_id": 53069132, "link": "https://stackoverflow.com/questions/53069132/android-hand-over-bytearray-to-host-card-emulation-service", "title": "Android hand over ByteArray to Host Card Emulation Service", "body": "<p>how can i hand over from my activity a ByteArray to the Host Card Emulation (HCE) service?</p>\n\n<p>I tryed it with an Intent.putExtra() like this:</p>\n\n<pre><code>    val cert: ByteArray\n    val intent = Intent(this, MyHostApduService::class.java)\n        intent.putExtra(\"byteArray\", cert)\n        startService(intent)\n</code></pre>\n\n<p>In the HCE service i can not access the intent anymore!\nLike this:</p>\n\n<pre><code> val cert = intent.getByteArrayExtra(\"byteArray\")\n</code></pre>\n\n<p>How can I hand over the byte array?\nThanks in advance! </p>\n"}, {"tags": ["android", "junit", "kotlin", "mockito", "rx-java"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1541289097, "post_id": 53069015, "comment_id": 93166192, "body": "Have the <code>api.getProfileDataRequest()</code> have some side-effect by using <code>Single.fromCallable(() -&gt; { println(&quot;Source&quot;); return listOf(...); })</code>. Or you could try <code>advanceTimeBy(1, TimeUnit.SECONDS)</code> instead of <code>triggerActions()</code>."}, {"owner": {"reputation": 1736, "user_id": 4403871, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/590b56e9b5cbb9289d54f0af3f3c9d12?s=128&d=identicon&r=PG&f=1", "display_name": "S.P.", "link": "https://stackoverflow.com/users/4403871/s-p"}, "edited": false, "score": 0, "creation_date": 1571818643, "post_id": 53069015, "comment_id": 103362797, "body": "Hi, you found some solution for this problem?? I&#39;m getting the same error whit, more or less, same implementation"}, {"owner": {"reputation": 829, "user_id": 4226347, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e73db212ba84811b9010053669623ae7?s=128&d=identicon&r=PG&f=1", "display_name": "Da Artagnan", "link": "https://stackoverflow.com/users/4226347/da-artagnan"}, "reply_to_user": {"reputation": 1736, "user_id": 4403871, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/590b56e9b5cbb9289d54f0af3f3c9d12?s=128&d=identicon&r=PG&f=1", "display_name": "S.P.", "link": "https://stackoverflow.com/users/4403871/s-p"}, "edited": false, "score": 0, "creation_date": 1571823646, "post_id": 53069015, "comment_id": 103365445, "body": "@S.P. Hi mate. Nah I haven&#39;t found solution. Generally I would suggest you to use MVVM architecture with RxJava."}], "owner": {"reputation": 829, "user_id": 4226347, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e73db212ba84811b9010053669623ae7?s=128&d=identicon&r=PG&f=1", "display_name": "Da Artagnan", "link": "https://stackoverflow.com/users/4226347/da-artagnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1540917358, "creation_date": 1540917358, "question_id": 53069015, "link": "https://stackoverflow.com/questions/53069015/wanted-but-not-invoked-kotlin-rxjava-mvp-mockito", "title": "Wanted but not invoked, Kotlin, RxJava, MVP, Mockito", "body": "<p>I am trying to write a simple test for my <code>MainPresenter(SchedulerProvider)</code> class. It should check if the <code>showEventFragment(String)</code> and <code>showPromptFragment(String)</code> shows up after successful API response.</p>\n\n<p>I create <code>MainPresenter</code> instance in <code>MainActivity</code> like this:</p>\n\n<pre><code>private val presenter: MainContract.Presenter = MainPresenter(AppSchedulerProvider())\n</code></pre>\n\n<p>Presenter class:</p>\n\n<pre><code>class MainPresenter(private val scheduler: SchedulerProvider) : MainContract.Presenter{\n\n    private val subscriptions = CompositeDisposable()\n    private val api: RxApiServiceInterface = RxApiServiceInterface.create()\n    private lateinit var view: MainContract.View\n\n    override fun subscribe() {\n\n    }\n\n    override fun unsubscribe() {\n        subscriptions.clear()\n    }\n\n\n    override fun loadProfileData() {\n        view.showLoadingView()\n        val subscribe = api.getProfileDataRequest()\n            .subscribeOn(scheduler.io())\n            .observeOn(scheduler.ui())\n            .subscribe({profileList : List&lt;Profile&gt; -&gt;\n                view.showEventFragment(profileList[0].profile_id)\n                view.showPromptFragment(profileList[0].profile_id)\n            },{ error -&gt;\n                view.showErrorMessage(error.message.toString())\n                view.showRetryView()\n            })\n\n        subscriptions.add(subscribe)\n    }\n\n    override fun attach(view: MainContract.View) {\n        this.view = view\n    }\n\n}\n</code></pre>\n\n<p>Test class:</p>\n\n<pre><code>class MainPresenterTest {\n\n    @Mock\n    private lateinit var view: MainContract.View\n\n    private var api: RxApiServiceInterface = RxApiServiceInterface.create()\n    private lateinit var mainPresenter: MainPresenter\n    private lateinit var testScheduler: TestScheduler\n    private lateinit var testSchedulerProvider: TestSchedulerProvider\n\n    @Before\n    fun setup() {\n        MockitoAnnotations.initMocks(this)\n\n\n        testScheduler = TestScheduler()\n        testSchedulerProvider = TestSchedulerProvider(testScheduler)\n\n        mainPresenter = MainPresenter(testSchedulerProvider)\n        mainPresenter.attach(view)\n    }\n\n\n    @Test\n    fun getProfileSuccess() {\n\n        val address = Address(\"SillyStreet\", \"4\", \"80333\", \"NY\")\n        val contact = Contact(\"i.am@dummy.com\", \"000 000 000 00\")\n        val mockedProfile = Profile(\n            \"freemium_profile\",\n            \"Dum\",\n            \"my\",\n            \"male\",\n            \"Sil ly\",\n            true,\n            \"First Class\",\n            \"1989-01-01\",\n            address,\n            contact,\n            listOf(\"freemium\", \"signup_complete\")\n        )\n\n        doReturn(Single.just(listOf(mockedProfile)))\n            .`when`(api)\n            .getProfileDataRequest()\n\n\n        mainPresenter.loadProfileData()\n\n        testSchedulerProvider.testScheduler.triggerActions()\n\n        verify(view).showLoadingView()\n        verify(view).showEventFragment(mockedProfile.profile_id)\n        verify(view).showPromptFragment(mockedProfile.profile_id)\n    }\n\n}\n</code></pre>\n\n<p>RxApiServiceInterface interface:</p>\n\n<pre><code>interface RxApiServiceInterface {\n\n    @GET(\"user/customer/profiles\")\n    fun getProfileDataRequest() : Single&lt;List&lt;Profile&gt;&gt;\n\n    companion object {\n        private val restClient by lazy {\n            RestClient.createRetrofit(API_URL)\n        }\n\n        fun create(): RxApiServiceInterface = restClient.create(RxApiServiceInterface::class.java)\n    }\n}\n</code></pre>\n\n<p>TestSchedulerProvider class:</p>\n\n<pre><code>class TestSchedulerProvider constructor(val testScheduler: TestScheduler) : SchedulerProvider {\n    override fun ui(): Scheduler = testScheduler\n    override fun computation(): Scheduler = testScheduler\n    override fun io(): Scheduler = testScheduler\n}\n</code></pre>\n\n<p>I am using these test libs:</p>\n\n<pre><code>testImplementation 'org.mockito:mockito-core:2.22.0'\ntestImplementation 'org.mockito:mockito-inline:2.22.0'\ntestImplementation 'org.jetbrains.kotlin:kotlin-test-junit:1.2.71'\nandroidTestImplementation 'org.mockito:mockito-android:2.7.22'\n</code></pre>\n\n<p>What the hell am I doing wrong, that I still get the \"Wanted but not invoked error\"?\nThe logs also says:</p>\n\n<pre><code>However, there was exactly 1 interaction with this mock:\nview.showLoadingView();\n</code></pre>\n\n<p>but I am not suprised about that as this method is outside API query.</p>\n"}, {"tags": ["kotlin", "kotlinc"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 2, "last_activity_date": 1540916448, "creation_date": 1540916448, "answer_id": 53068741, "question_id": 53068627, "link": "https://stackoverflow.com/questions/53068627/kotlin-standalone-compiler-manual-installation/53068741#53068741", "title": "Kotlin standalone compiler manual installation", "body": "<p>The platform-specific installations are AOT-compiled using Excelsior JET. That's the only difference; there are no extra platform-specific features.</p>\n"}, {"tags": [], "owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "is_accepted": false, "score": 0, "last_activity_date": 1540919823, "creation_date": 1540919823, "answer_id": 53069632, "question_id": 53068627, "link": "https://stackoverflow.com/questions/53068627/kotlin-standalone-compiler-manual-installation/53069632#53069632", "title": "Kotlin standalone compiler manual installation", "body": "<p>The documentation for this has got lost in the history of releases. The platform-specific compilers appeared in <a href=\"https://github.com/JetBrains/kotlin/releases/tag/v1.2.60\" rel=\"nofollow noreferrer\">release 1.2.60</a>, where the first paragraph on the download page states:</p>\n\n<blockquote>\n  <p>We have now not only the JVM version of Kotlin compiler but also one native system dependent version for every major platform (Linux, macOS, and Windows). Those binaries are built with Excelsior JET AOT compiler (<a href=\"https://www.excelsiorjet.com/\" rel=\"nofollow noreferrer\">https://www.excelsiorjet.com/</a>) and have faster startup time which is suitable for building small files or scripts.</p>\n</blockquote>\n\n<p>It is unfortunate that this helpful text doesn't appear in any later releases.</p>\n"}], "owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 53068741, "answer_count": 2, "score": 1, "last_activity_date": 1540919823, "creation_date": 1540916138, "question_id": 53068627, "link": "https://stackoverflow.com/questions/53068627/kotlin-standalone-compiler-manual-installation", "title": "Kotlin standalone compiler manual installation", "body": "<p>Looking at <a href=\"https://github.com/JetBrains/kotlin/releases/tag/v1.3.0\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/releases/tag/v1.3.0</a>, there is a generic multi-platform zip file (kotlin-compiler-1.3.0.zip) and some platform-specific ones (e.g. kotlin-compiler-1.3.0-release-windows-x64.zip). Looking inside the zip files, the differences seem to be that the platform-specific installations contain some native executables (e.g. .dll or .so files) and uses its own pre-built JRE, whereas the multiplatform version seems to be pure Java.</p>\n\n<p>Is this the only difference, or do the platform-specific installations contain some extra features over and above the pure Java version?</p>\n\n<p>Would it be safer to use the pure Java version, since my Java 1.8u192 release is later than the one Kotlin 1.3 was built with?</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 3251, "user_id": 1598840, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0921393a8d977f10a8ef7c8277769559?s=128&d=identicon&r=PG", "display_name": "K. D.", "link": "https://stackoverflow.com/users/1598840/k-d"}, "edited": false, "score": 0, "creation_date": 1540979254, "post_id": 53079127, "comment_id": 93058132, "body": "Thank you. I&#39;ve tried that as well, but this is not working either: <code>Unresolved reference. None of the following candidates is applicable because of receiver type mismatch:                                           public val KotlinJvmProjectExtension.sourceSets: NamedDomainObjectContainer&lt;DefaultKotlinSourceSet&gt; defined in org.gradle.kotlin.dsl</code>"}], "tags": [], "owner": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "is_accepted": false, "score": 0, "last_activity_date": 1540974445, "creation_date": 1540974445, "answer_id": 53079127, "question_id": 53068558, "link": "https://stackoverflow.com/questions/53068558/gradle-kotlin-dsl-get-sourceset-of-another-project/53079127#53079127", "title": "Gradle Kotlin DSL: get sourceSet of another project", "body": "<p>If you get access to the project, then everything should looks like your actual groovy gradle script: </p>\n\n<pre><code> project(\":Core\").sourceSets.getByName(\"main\").allSource\n</code></pre>\n\n<p>So regarding your actual code:</p>\n\n<pre><code> val jar: Jar by tasks\n jar.apply {\n     from(java.sourceSets[\"main\"].allSource)\n     from(project(\":Core\").sourceSets.getByName(\"main\").allSource)\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1122, "user_id": 560450, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9628de0c171049af37bdd404e8f55d9e?s=128&d=identicon&r=PG", "display_name": "Krist&#243;f Marussy", "link": "https://stackoverflow.com/users/560450/krist%c3%b3f-marussy"}, "is_accepted": false, "score": 2, "last_activity_date": 1540993018, "last_edit_date": 1540993018, "creation_date": 1540980829, "answer_id": 53080967, "question_id": 53068558, "link": "https://stackoverflow.com/questions/53068558/gradle-kotlin-dsl-get-sourceset-of-another-project/53080967#53080967", "title": "Gradle Kotlin DSL: get sourceSet of another project", "body": "<p>You can access the <code>SourceSetContainer</code> by</p>\n\n<pre><code>project(\":Core\").extensions.getByType(SourceSetContainer::class)\n</code></pre>\n\n<p>it seems <code>&lt;T : Any&gt; Project.the(extensionType: KClass&lt;T&gt;): T</code> looks in the <code>convention</code> of the project, while <code>val Project.sourceSets: SourceSetContainer get()</code> looks in the <code>extensions</code> <code>ExtensionContaier</code> instead. This is somewhat odd, as the documentation for <code>the</code> says \"Returns the plugin convention or extension of the specified type.\"</p>\n\n<p>Note that you may need to do your sourceSet manipulation in <code>gradle.projectsEvaluated</code>, because otherwise the sourceSet in question may not be configured yet if the corresponding project is not yet evaluated.</p>\n"}], "owner": {"reputation": 3251, "user_id": 1598840, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0921393a8d977f10a8ef7c8277769559?s=128&d=identicon&r=PG", "display_name": "K. D.", "link": "https://stackoverflow.com/users/1598840/k-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1849, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1540993018, "creation_date": 1540915914, "last_edit_date": 1540979491, "question_id": 53068558, "link": "https://stackoverflow.com/questions/53068558/gradle-kotlin-dsl-get-sourceset-of-another-project", "title": "Gradle Kotlin DSL: get sourceSet of another project", "body": "<p>Currently, we're trying to migrate our existing <code>build.gradle</code> scripts to the new Kotlin DSL. Right now, we are struggling with the <code>jar</code> task configuration. </p>\n\n<p>Our project is a <em>simple</em> multi-project. Let's say we've <code>Core</code> and <code>Plugin</code> and <code>Plugin</code> uses classes from <code>Core</code>. Now, when building <code>Plugin</code>, the target jar should include any used classes from <code>Core</code>. </p>\n\n<p>This is how it looked like before:</p>\n\n<pre><code>jar {\n    from sourceSets.main.output\n    from project(':Core').sourceSets.main.output\n}\n</code></pre>\n\n<p>And this is the current solution we've with Kotlin DSL:</p>\n\n<pre><code>val jar: Jar by tasks\njar.apply {\n    from(java.sourceSets[\"main\"].allSource)\n    from(project(\":Core\").the&lt;SourceSetContainer&gt;()[\"main\"].allSource)\n}\n</code></pre>\n\n<p>However, the above example just gives me an <code>Extension of type 'SourceSetContainer' does not exist. Currently registered extension types: [ExtraPropertiesExtension]</code> error. I've also tried other code snippets I've found, but none of them have been working so far.</p>\n\n<p>I have also tried this (like suggested in the first answer):</p>\n\n<pre><code>val jar: Jar by tasks\njar.apply {\n    from(java.sourceSets[\"main\"].allSource)\n    from(project(\":Core\").sourceSets.getByName(\"main\").allSource)\n}\n</code></pre>\n\n<p>But then the IDE (and also the <code>jar</code> task) argues that <code>sourceSets</code> is not available: <code>Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: public val KotlinJvmProjectExtension.sourceSets: NamedDomainObjectContainer&lt;DefaultKotlinSourceSet&gt; defined in org.gradle.kotlin.dsl</code>.</p>\n\n<p>I hope that someone can help us, because it is very frustrating to spend hours in configuration instead of writing any usefull code.</p>\n\n<p>Thank you very much in advance.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17465, "user_id": 559850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/vJfye.jpg?s=128&g=1", "display_name": "styler1972", "link": "https://stackoverflow.com/users/559850/styler1972"}, "edited": false, "score": 0, "creation_date": 1540911378, "post_id": 53066852, "comment_id": 93032555, "body": "The first line won&#39;t survive code-formatting with simple blocks and newlines"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 17465, "user_id": 559850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/vJfye.jpg?s=128&g=1", "display_name": "styler1972", "link": "https://stackoverflow.com/users/559850/styler1972"}, "edited": false, "score": 0, "creation_date": 1540911641, "post_id": 53066852, "comment_id": 93032736, "body": "The second neither... If you want that, you need to have an extension function in place... as also s1m0nw1 also has shown... but I really do not understand what&#39;s the benefit of a one-liner here... I think the first just clearly shows that nothing is returned, but the method is doing something... adding something like <code>toUnit</code> or <code>discardResponse()</code> just makes it longer and it isn&#39;t even &quot;standard&quot; so you first need to lookup what that does exactly... I am not sure whether that&#39;s a good idea..."}, {"owner": {"reputation": 17465, "user_id": 559850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/vJfye.jpg?s=128&g=1", "display_name": "styler1972", "link": "https://stackoverflow.com/users/559850/styler1972"}, "edited": false, "score": 0, "creation_date": 1540912242, "post_id": 53066852, "comment_id": 93033100, "body": "Exactly, youre right.  I&#39;m not asking for the sake of just doing anything that works, but if there&#39;s a good way, it&#39;d be nice to use it"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 17465, "user_id": 559850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/vJfye.jpg?s=128&g=1", "display_name": "styler1972", "link": "https://stackoverflow.com/users/559850/styler1972"}, "edited": false, "score": 0, "creation_date": 1540912612, "post_id": 53066852, "comment_id": 93033331, "body": "that&#39;s fine :-) just wanted to be clear about it ;-)"}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1542818649, "post_id": 53066852, "comment_id": 93707975, "body": "&quot;as Unit&quot; might also be an option"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1542818771, "post_id": 53066852, "comment_id": 93708050, "body": "true... still I think the main recommendation (either use <code>: Unit</code> or the curly brackets) holds ;-) all the other stuff doesn&#39;t really make the code more readable and some even execute/create code that doesn&#39;t contain any real logic (e.g. <code>Unit.apply</code>) ;-)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1542818365, "last_edit_date": 1542818365, "creation_date": 1540910553, "answer_id": 53066852, "question_id": 53066817, "link": "https://stackoverflow.com/questions/53066817/kotlin-one-liners-with-mismatched-return-types/53066852#53066852", "title": "Kotlin one-liners with mismatched return types", "body": "<p>The following should work, even if <code>onSomeListenerEvent</code> has specified <code>T</code> as return type:</p>\n\n<pre><code>override fun onSomeListenerEvent(index: Int) { myArrayList.remove(index) }\n</code></pre>\n\n<p>If you rather wanted to ask how you can keep your <code>=</code>-assignment, then the following will also work (but as the first is shorter and does not require the <code>apply</code> I would stick to the first):</p>\n\n<pre><code>override fun onSomeListenerEvent(index: Int) = Unit.apply { myArrayList.remove(index) }\n</code></pre>\n\n<p>But then again: your current solution is already easy enough and does not take any inconvenient route. So either use: <code>: Unit</code> or the curly brackets ;-)</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1540910981, "creation_date": 1540910981, "answer_id": 53066999, "question_id": 53066817, "link": "https://stackoverflow.com/questions/53066817/kotlin-one-liners-with-mismatched-return-types/53066999#53066999", "title": "Kotlin one-liners with mismatched return types", "body": "<p>You could create an extension to change any type to unit:    </p>\n\n<pre><code>fun Any?.discardResponse() = Unit\n</code></pre>\n\n<p>Then: </p>\n\n<pre><code>override fun onSomeListenerEvent(index: Int) = myArrayList.remove(index).discardResponse()\n</code></pre>\n"}], "owner": {"reputation": 17465, "user_id": 559850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/vJfye.jpg?s=128&g=1", "display_name": "styler1972", "link": "https://stackoverflow.com/users/559850/styler1972"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1542818365, "creation_date": 1540910472, "question_id": 53066817, "link": "https://stackoverflow.com/questions/53066817/kotlin-one-liners-with-mismatched-return-types", "title": "Kotlin one-liners with mismatched return types", "body": "<p>I am using an anonymous object in a section of code that I'm writing in Kotlin.  The overridden method can be condensed into a one-liner because it's one line of code, but the one-liner method call actually returns a value of type <code>T</code>.</p>\n\n<pre><code>override onSomeListenerEvent(index: Int): Unit = myArrayList.remove(index)\n</code></pre>\n\n<p>What's the best way to keep this a one-liner?</p>\n"}, {"tags": ["lambda", "kotlin", "functional-programming"], "comments": [{"owner": {"reputation": 9938, "user_id": 3672184, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dzbA6.jpg?s=128&g=1", "display_name": "Cool", "link": "https://stackoverflow.com/users/3672184/cool"}, "edited": false, "score": 0, "creation_date": 1540910738, "post_id": 53065732, "comment_id": 93032148, "body": "the first is lamabda the second is lambda with receiver."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1540919317, "last_edit_date": 1540919317, "creation_date": 1540908868, "answer_id": 53066288, "question_id": 53065732, "link": "https://stackoverflow.com/questions/53065732/how-to-design-higher-order-functions/53066288#53066288", "title": "How to design higher order functions", "body": "<p>You simply don't always want to work with receivers. For example, consider your <code>filter</code> worked on the elements directly, you'd have to use the <code>this</code> qualifier in the comparison then:</p>\n\n<pre><code>val filtered = listOf(\"foo\", \"bar\").filter2 {\n    this == \"f\"\n}\n</code></pre>\n\n<p>That looks weird and unnatural. What does <code>this</code> point to? \nYou changed the scope of <code>this</code> to point to the receiver and if you wanted to access the \"outer\" <code>this</code>, it would look like this:</p>\n\n<pre><code>this@SomeClass.c ==\"f\"\n</code></pre>\n\n<p>Another downside is that you loose the possibility to name your parameter. Think about nested lambdas for instance. Neither <code>it</code> nor <code>this</code> is appropriate then. You'd have to give custom names.</p>\n\n<p>You should always consider if you really want to switch into the receiver's scope. Some situations are perfect use cases, especially <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"nofollow noreferrer\">DSLs</a>. For usual higher order functions, you simply don't want to have this feature. </p>\n\n<p>I think it's hard to formulate a \"rule\" for this but as a starter you can read what JetBrains <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#using-scope-functions-applywithrunalsolet\" rel=\"nofollow noreferrer\">recommends</a> on how to choose between the available scope functions (<code>let</code>,<code>run</code>,<code>also</code>,<code>apply</code>,<code>with</code>):</p>\n\n<blockquote>\n  <p>Are you calling methods on multiple objects in the block, or passing the instance of the context object as an argument? If you are, use one of the functions that allows you to access the context object as it, not this (also or let). Use also if the receiver is not used at all in the block.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 3, "last_activity_date": 1540913042, "last_edit_date": 1540913042, "creation_date": 1540909945, "answer_id": 53066638, "question_id": 53065732, "link": "https://stackoverflow.com/questions/53065732/how-to-design-higher-order-functions/53066638#53066638", "title": "How to design higher order functions", "body": "<p>My rule of thumb is the following:</p>\n\n<p>whenever there is the slightest chance that I may need to name my lambda parameter, I use <code>(Type) -&gt; Unit</code>.</p>\n\n<p>If I am sure that I will not name it (so it is clear from the context that everything I operate on is <code>this</code>) or I even want to prohibit the naming (builder?), then I use <code>Type.() -&gt; Unit</code>.</p>\n\n<p><code>with</code>, <code>apply</code> and <code>run</code> all use the second approach... and for me that makes sense:</p>\n\n<pre><code>with(someString) {\n  toUpperCase() // operates on someString... already sounds like: \"with some string (do) to upper case\"\n}\nsomeString.run(::println) // run println with someString; actually: someString.run { println(this) } // e.g.: print this [some string]  \n// actually I find this a bad sample... I usually use run where the thing to be run is from the receiver... \nSomeComplexObject().apply {\n  // apply being similar to a builder\n  complex1 = 3 \n  complex2 = 4\n}.run {\n  // fully constructed complex object\n  complexOperationWithoutReturnValue() // this method is part of SomeComplexObject\n} // discarding everything here...\n</code></pre>\n\n<p>Here is a sample where I used the second approach:</p>\n\n<pre><code>fun sendMail(from : String, to : String, msgBuilder : MessageBuilder.() -&gt; Unit)\n\nsendMail(\"from\", \"to\") {\n  subject(\"subject\")\n  body(\"body\")\n}\n</code></pre>\n\n<p>With <code>it</code> or a parameter (e.g. <code>builder -&gt;</code>) it just gets uglier and it doesn't really add something to the context... </p>\n"}], "owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1540919317, "creation_date": 1540907109, "last_edit_date": 1540910918, "question_id": 53065732, "link": "https://stackoverflow.com/questions/53065732/how-to-design-higher-order-functions", "title": "How to design higher order functions", "body": "<p>Higher order functions have a parameter of either</p>\n\n<ul>\n<li>a function type or</li>\n<li>a function type with receiver.</li>\n</ul>\n\n<p>We are used to <code>filter</code> and <code>with</code> from kotlin's stdlib:</p>\n\n<pre><code>@Test\nfun `filter example`() {\n    val filtered = listOf(\"foo\", \"bar\").filter {\n        it.startsWith(\"f\")\n    }\n\n    assertThat(filtered).containsOnly(\"foo\")\n}\n\n@Test\nfun `with example`() {\n    val actual = with(StringBuilder()) {\n        append(\"foo\")\n        append(\"bar\")\n        toString()\n    }\n\n    assertThat(actual).isEqualTo(\"foobar\")\n}\n</code></pre>\n\n<p>While <code>filter</code> uses a function type parameter, <code>with</code> uses a function type parameter with receiver. So lambdas passed to <code>filter</code> use <code>it</code> to access the iterable's element, while lambdas passed to <code>with</code> use <code>this</code> to access the StringBuilder.</p>\n\n<p>My question: Is there a rule of thumb, which style to use (it vs this), when I declare my own higher order function?</p>\n\n<hr>\n\n<p>In other words:\nWhy isn't filtering designed that way?</p>\n\n<pre><code>inline fun &lt;T&gt; Iterable&lt;T&gt;.filter2(predicate: T.() -&gt; Boolean): List&lt;T&gt; = filter { it.predicate() }\n</code></pre>\n\n<p>If it were defined that way, we'd use it like so:</p>\n\n<pre><code>@Test\nfun `filter2 function type with receiver`() {\n    val filtered = listOf(\"foo\", \"bar\").filter2 {\n        // note: no use of it, but this\n        startsWith(\"f\")\n    }\n\n    assertThat(filtered).containsOnly(\"foo\")\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1963, "user_id": 294814, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bc6e5d890f7fa911759ce79a3530c51a?s=128&d=identicon&r=PG", "display_name": "fonix232", "link": "https://stackoverflow.com/users/294814/fonix232"}, "edited": false, "score": 0, "creation_date": 1540910250, "post_id": 53066478, "comment_id": 93031833, "body": "I want to avoid hard-typed delegates as much as possible. The goal of the whole thing would be that the end-user can define the field types in a certain object, add the converters for said types to the converter repo, and have it handled automatically - not unlike how e.g. Gson manages field types and conversion automatically."}, {"owner": {"reputation": 3606, "user_id": 178274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8bcbf9deef69f1d6a2f658eefe4487c4?s=128&d=identicon&r=PG", "display_name": "denis.zhdanov", "link": "https://stackoverflow.com/users/178274/denis-zhdanov"}, "reply_to_user": {"reputation": 1963, "user_id": 294814, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bc6e5d890f7fa911759ce79a3530c51a?s=128&d=identicon&r=PG", "display_name": "fonix232", "link": "https://stackoverflow.com/users/294814/fonix232"}, "edited": false, "score": 0, "creation_date": 1540937591, "post_id": 53066478, "comment_id": 93045487, "body": "What major difference do you see between specifying field type and defining typed delegate? I.e. <code>var field: MyType</code> vs <code>var field by MyTypeDelegate()</code>?"}, {"owner": {"reputation": 1963, "user_id": 294814, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bc6e5d890f7fa911759ce79a3530c51a?s=128&d=identicon&r=PG", "display_name": "fonix232", "link": "https://stackoverflow.com/users/294814/fonix232"}, "edited": false, "score": 0, "creation_date": 1540980218, "post_id": 53066478, "comment_id": 93058667, "body": "I think you&#39;re getting my goals wrong. I want to be able to define <code>var field: Field&lt;MyType&gt;</code> and have it handled, without having the need for delegates at all."}, {"owner": {"reputation": 3606, "user_id": 178274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8bcbf9deef69f1d6a2f658eefe4487c4?s=128&d=identicon&r=PG", "display_name": "denis.zhdanov", "link": "https://stackoverflow.com/users/178274/denis-zhdanov"}, "reply_to_user": {"reputation": 1963, "user_id": 294814, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bc6e5d890f7fa911759ce79a3530c51a?s=128&d=identicon&r=PG", "display_name": "fonix232", "link": "https://stackoverflow.com/users/294814/fonix232"}, "edited": false, "score": 0, "creation_date": 1540993534, "post_id": 53066478, "comment_id": 93066495, "body": "You&#39;re talking about implementation, i.e. a particular way of solving a problem. Please correct me if I&#39;m wrong, but I see the problem as <i>use concise syntax for storing properties in byte arrays</i>. Given that, you&#39;re asking for an implementation which looks like <code>var x: Field&lt;MyType&gt;</code>. However, what benefit does it have compared to <code>var x by MyTypeDelegate()</code>? You still have to manually update the definition if type changes in the both approaches (<code>Field&lt;MyType&gt; -&gt; Field&lt;MyType2&gt;</code> vs <code>by MyTypeDelegate() -&gt; by MyType2Delegate()</code>)"}], "tags": [], "owner": {"reputation": 3606, "user_id": 178274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8bcbf9deef69f1d6a2f658eefe4487c4?s=128&d=identicon&r=PG", "display_name": "denis.zhdanov", "link": "https://stackoverflow.com/users/178274/denis-zhdanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1540909460, "creation_date": 1540909460, "answer_id": 53066478, "question_id": 53065368, "link": "https://stackoverflow.com/questions/53065368/kotlin-generic-pass-through/53066478#53066478", "title": "Kotlin generic pass-through", "body": "<p>You need <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegated properties</a> for that.</p>\n\n<p>Example:</p>\n\n<pre><code>import java.nio.ByteBuffer\nimport java.nio.charset.StandardCharsets\nimport kotlin.reflect.KProperty\n\ninterface Converter&lt;T&gt; {\n\n    fun fromBytes(raw: ByteArray): T\n\n    fun toBytes(typed: T): ByteArray\n}\n\nopen class MyDelegate&lt;T&gt;(private val converter: Converter&lt;T&gt;) {\n\n    private lateinit var raw: ByteArray\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;) = converter.fromBytes(raw)\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) {\n        raw = converter.toBytes(value)\n    }\n}\n\nclass StringDelegate : MyDelegate&lt;String&gt;(object : Converter&lt;String&gt; {\n    override fun fromBytes(raw: ByteArray) = String(raw, StandardCharsets.UTF_8)\n\n    override fun toBytes(typed: String) = typed.toByteArray(StandardCharsets.UTF_8)\n})\n\ndata class Ints(val first: Int, val second: Int)\n\nclass IntsDelegate : MyDelegate&lt;Ints&gt;(object : Converter&lt;Ints&gt; {\n    override fun fromBytes(raw: ByteArray) = ByteBuffer.wrap(raw).let { Ints(it.int, it.int) }\n\n    override fun toBytes(typed: Ints) = ByteArray(8).apply {\n        with(ByteBuffer.wrap(this)) {\n            putInt(typed.first)\n            putInt(typed.second)\n        }\n    }\n})\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>class Test {\n\n    var string: String by StringDelegate()\n\n    var ints: Ints by IntsDelegate()\n\n    override fun toString(): String {\n        return \"string: $string, ints: $ints\"\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val t = Test()\n\n    with(t) {\n        string = \"first\"\n        ints = Ints(1, 2)\n    }\n    println(t) // string: first, ints: Ints(first=1, second=2)\n\n    with(t) {\n        string += \" + second\"\n        ints = Ints(ints.first * 2, ints.second * 2)\n    }\n    println(t) // string: first + second, ints: Ints(first=2, second=4)\n}\n</code></pre>\n\n<p>Please note that this all looks nice and elegant but might be rather expensive. E.g. consider <code>ints = Ints(ints.first * 2, ints.second * 2)</code> - here we perform <em>ByteArray -> Ints</em>, access the <em>first</em> property; make <em>ByteArray -> Ints</em> once agains and access the <em>second</em> property and finally perform <em>Ints -> ByteArray</em>.  </p>\n\n<p>In case you access properties frequently and especially when they are large and complex that might be very costly.</p>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 1, "last_activity_date": 1540915575, "creation_date": 1540915575, "answer_id": 53068446, "question_id": 53065368, "link": "https://stackoverflow.com/questions/53065368/kotlin-generic-pass-through/53068446#53068446", "title": "Kotlin generic pass-through", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified type parameters</a>, but it will never be compile-time safe and will carry runtime overhead when compared to explicitly creating delegates for each type.</p>\n\n<p>If I understood your question and comment, you're looking for something like this:</p>\n\n<p>Converter interface:</p>\n\n<pre><code>interface Converter&lt;T&gt;{\n    fun convert(value: T) : ByteArray\n    fun convertBack(byteArray: ByteArray) : T\n}\n</code></pre>\n\n<p>Object (singleton) holding all converters:</p>\n\n<pre><code>import kotlin.reflect.KClass\n\nobject Converters{\n    val converters = HashMap&lt;KClass&lt;out Any&gt;, Converter&lt;out Any&gt;&gt;()\n\n    inline fun&lt;reified T : Any&gt; put(converter: Converter&lt;T&gt;){\n        converters[T::class] = converter\n    }\n\n    fun&lt;T: Any&gt; get(kclass : KClass&lt;T&gt;) : Converter&lt;T&gt;{\n        val converter = converters[kclass] ?: throw IllegalStateException(\"Missing converter for $kclass\")\n        return converter as Converter&lt;T&gt;\n    }\n\n    init {\n        //add default converters?\n        put(object : Converter&lt;Int&gt;{\n            override fun convert(value: Int): ByteArray {\n                TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n            }\n\n            override fun convertBack(byteArray: ByteArray): Int {\n                TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>Class using converters, infline function above mimicks constructor but doesn't require explicit class argument when called:</p>\n\n<pre><code>inline fun&lt;reified T : Any&gt; ByteField(initialValue: T) = ByteField(initialValue, T::class)\n\nclass ByteField&lt;T: Any&gt;(initialValue: T, private val kclass: KClass&lt;T&gt;){\n    private var actualData = converter.convert(initialValue)\n    val converter\n        get() = Converters.get(kclass)\n    var data : T\n        get() = converter.convertBack(actualData)\n        set(value) {\n            actualData = converter.convert(value)\n        }\n}\n</code></pre>\n\n<p>Usage demo (of course you can implement property delegates as well):</p>\n\n<pre><code>class Demo{\n    val intField = ByteField(1)\n    val stringField = ByteField(\"Sfield\")\n    val doubleField = ByteField(2.0, Double::class) // explicit constructor\n}\n</code></pre>\n"}], "owner": {"reputation": 1963, "user_id": 294814, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bc6e5d890f7fa911759ce79a3530c51a?s=128&d=identicon&r=PG", "display_name": "fonix232", "link": "https://stackoverflow.com/users/294814/fonix232"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540915575, "creation_date": 1540906022, "question_id": 53065368, "link": "https://stackoverflow.com/questions/53065368/kotlin-generic-pass-through", "title": "Kotlin generic pass-through", "body": "<p>I'm looking for a way in Kotlin to pass generics around - but they would have fixed types by the time of compile.</p>\n\n<p>My goal would be to create a base class <code>Field&lt;T&gt;</code>, which would have a public property of type T, which is backed by a ByteArray field.</p>\n\n<p>The ByteArray would be converted on the run to and from T, using a global converter repository. However I can't wrap my head around Kotlin's type erasure, something I haven't met in C# (pretty much the same code would work wonderfully).</p>\n\n<p>So, my altogether goal would be this class (note, this is mostly pseudocode!):</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Field&lt;T&gt; {\n\n    private var actualData: ByteArray = TODO(\"Init here\")\n    public var Data: T =\n        get() = getConverter().convert(actualData)\n        set(value) {\n            val converted = getConverter().convertBack(value)\n            // Do some other nasty stuff here\n            actualData = converted\n        }\n\n    private fun getConverter(): Converter&lt;T&gt; = TODO(\"This needs implementation\")\n}\n</code></pre>\n\n<p>Since the conversion steps are always the same, it would be awesome if I could dynamically grab the converter and not need to make an inheriting class every time, i.e. I could define fields that \"just work\":</p>\n\n<pre><code>var data1: Field&lt;Int&gt; = TODO(\"Init here\")\nvar data2: Field&lt;MyOjbect&gt; = TODO(\"Init here\")\n</code></pre>\n\n<p>And of course I would like to avoid the implementation of <code>getConverter()</code> for each type.</p>\n\n<p>Is there a way to make this work in Kotlin, or should I stick to Java within this part?</p>\n\n<p>(P.S.: I will obviously not name my class <code>Field&lt;T&gt;</code>, but this name seemed to be the most generic one to describe its role in this scenario).</p>\n"}, {"tags": ["gradle", "kotlin", "kapt"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540911724, "post_id": 53065118, "comment_id": 93032796, "body": "have you tried <a href=\"https://stackoverflow.com/questions/49518223/3rd-party-gradle-plug-ins-may-be-the-cause\" title=\"3rd party gradle plug ins may be the cause\">stackoverflow.com/questions/49518223/&hellip;</a> (or apparently to update to an up-to-date AS3.2.x) ?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1540912745, "post_id": 53065118, "comment_id": 93033398, "body": "Please post the exact error message you&#39;re getting."}, {"owner": {"reputation": 93, "user_id": 7931394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RpaXB.jpg?s=128&g=1", "display_name": "David Ruland", "link": "https://stackoverflow.com/users/7931394/david-ruland"}, "edited": false, "score": 0, "creation_date": 1540977612, "post_id": 53065118, "comment_id": 93057228, "body": "My error is Kotlin kapt 3rd-party Gradle plug-ins may be the cause and I have followed every step in <a href=\"https://stackoverflow.com/questions/49518223/3rd-party-gradle-plug-ins-may-be-the-cause\" title=\"3rd party gradle plug ins may be the cause\">stackoverflow.com/questions/49518223/&hellip;</a>. But still have the same error in ext.kotlin_version = &#39;1.2.50&#39; ."}, {"owner": {"reputation": 4939, "user_id": 1801072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k6sEG.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1801072/sam"}, "edited": false, "score": 0, "creation_date": 1541078237, "post_id": 53065118, "comment_id": 93099650, "body": "If you are referring to the folder generation errors that appear in the right but do not affect the build or app running, that is normal. Everyone gets that. It has to do with the runtime update library in your edit configuration. Confirm that is what you are talking about and I will give you the details to help remove it if it bothers you."}, {"owner": {"reputation": 93, "user_id": 7931394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RpaXB.jpg?s=128&g=1", "display_name": "David Ruland", "link": "https://stackoverflow.com/users/7931394/david-ruland"}, "edited": false, "score": 1, "creation_date": 1541439754, "post_id": 53065118, "comment_id": 93209461, "body": "Solved it and I had to update gradle file."}], "owner": {"reputation": 93, "user_id": 7931394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RpaXB.jpg?s=128&g=1", "display_name": "David Ruland", "link": "https://stackoverflow.com/users/7931394/david-ruland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 484, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1540905278, "creation_date": 1540905278, "question_id": 53065118, "link": "https://stackoverflow.com/questions/53065118/how-to-use-data-binding-and-kotlin-in-android-studio-3-1-4", "title": "How to use Data Binding and Kotlin in Android Studio 3.1.4?", "body": "<p>I got error Kotlin kapt 3rd-party Gradle plug-ins may be the cause. I have added plugin for kotlin-kapt and updated my gradle properties with android.databindingV3=true.But I still got error 3rd-part Gradle plugins.\nHow to fix this?</p>\n\n<pre><code>apply plugin: 'com.android.application'\n    apply plugin: 'kotlin-android-extensions'\n    apply plugin: 'kotlin-platform-android'\n    apply plugin: 'kotlin-android'\n    apply plugin: 'kotlin-kapt'\n\n\n    android {\n       ...\n        dataBinding {\n            enabled = true\n        }\n\n    }\n\n    dependencies {\n        implementation fileTree(dir: 'libs', include: ['*.jar'])\n        implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n        implementation 'com.android.support:appcompat-v7:28.0.0'\n        implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n        implementation 'com.android.support:recyclerview-v7:28.0.0'\n\n        //Room\n        implementation \"android.arch.persistence.room:runtime:1.1.1\"\n        kapt \"android.arch.persistence.room:compiler:1.1.1\"\n\n        ///Lifecycles, LiveData and ViewModel\n        kapt 'com.android.databinding:compiler:3.1.4'\n\n        // ViewModel and LiveData\n        implementation \"android.arch.lifecycle:extensions:1.1.1\"\n\n        // ViewModel\n        implementation \"android.arch.lifecycle:viewmodel:1.1.1\"\n\n        // LiveData\n        implementation \"android.arch.lifecycle:livedata:1.1.1\"\n        kapt \"android.arch.lifecycle:compiler:1.1.1\"\n\n        annotationProcessor \"android.arch.persistence.room:compiler:1.1.1\"\n        androidTestImplementation \"android.arch.persistence.room:testing:1.1.1\"\n        androidTestImplementation \"android.arch.core:core-testing:1.1.1\"\n        testImplementation 'junit:junit:4.12'\n        androidTestImplementation 'com.android.support.test:runner:1.0.2'\n        androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1540904841, "post_id": 53064881, "comment_id": 93028253, "body": "Thanks a lot, you saved my day."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 2, "last_activity_date": 1540904396, "creation_date": 1540904396, "answer_id": 53064881, "question_id": 53064630, "link": "https://stackoverflow.com/questions/53064630/how-to-repair-the-exception-non-null-is-null/53064881#53064881", "title": "How to repair the exception &quot;non-null is null&quot;?", "body": "<p><code>.addOnSuccessListener { location: Location -&gt;</code></p>\n\n<p>By using <code>Location</code> and not <code>Location?</code> you're telling Kotlin that the listener only ever calls the callback with a non-null value. You're getting the error because this is not always true:</p>\n\n<blockquote>\n  <p>If a location is not available, which should happen very rarely, null will be returned. The best accuracy available while respecting the location permissions will be returned.</p>\n</blockquote>\n\n<p>Change the parameter type to be nullable and you will not get that error.</p>\n\n<p>Its helpful to break down the generated function type:</p>\n\n<ul>\n<li><code>fahrplanmap</code> - in <code>fahrplanmap</code>\n\n<ul>\n<li><code>$onCreate</code> - function call in <code>onCreate</code>\n\n<ul>\n<li><code>$1</code> - First anonymous class, implements <code>OnSuccessListener</code>\n\n<ul>\n<li><code>.onSuccess</code> - <code>OnSuccessListener.onSuccess</code></li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 53064881, "answer_count": 1, "score": 0, "last_activity_date": 1540904396, "creation_date": 1540903578, "last_edit_date": 1540903934, "question_id": 53064630, "link": "https://stackoverflow.com/questions/53064630/how-to-repair-the-exception-non-null-is-null", "title": "How to repair the exception &quot;non-null is null&quot;?", "body": "<p>my app worked perfectly fine. Now I made the kotlin update and it throws me this error:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.hdmc.smartristraveller, PID: 4788\njava.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter location\n    at com.hdmc.smartristraveller.fahrplanmap$onCreate$1.onSuccess(Unknown Source:2)\n    at com.hdmc.smartristraveller.fahrplanmap$onCreate$1.onSuccess(fahrplanmap.kt:22)\n    at com.google.android.gms.tasks.zzn.run(Unknown Source:27)\n    at android.os.Handler.handleCallback(Handler.java:873)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6669)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n\n<p>I searched everywhere but I couldn't find the null parameter, does anyone know what could throw this exception?</p>\n\n<p>Here my code for this class:</p>\n\n<pre><code>class fahrplanmap : AppCompatActivity() {\nvar webservices = webservices()\nvar StationID = IntArray(300)\nvar haltestellen_name : ArrayList&lt;String&gt; = ArrayList()\nvar haltestellen_lat: DoubleArray = DoubleArray(300)                        //all busstops\nvar haltestellen_lon: DoubleArray = DoubleArray(300)                        //all busstops\nvar StopDistances = DoubleArray(300)\nvar Haltestellen : ArrayList&lt;String&gt; = ArrayList()\nvar time = Handler()\nvar latitude = 0.0\nvar longitude = 0.0\ncompanion object {\n    private const val LOCATION_PERMISSION_REQUEST_CODE = 1\n}\n\nprivate lateinit var fusedLocationClient: FusedLocationProviderClient\nprivate val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {                //wenn Bottom Navigationbar ber\u00fchrt wird\n        R.id.navigation_Auskunft -&gt; {\n            //               message.setText(R.string.title_Auskunft)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_Abfahrtsmonitor -&gt; {\n            //               message.setText(R.string.title_Abfahrtsmonitor)\n            val intent = Intent(this, Abfahrtsmonitor::class.java)        //Opens fahrplanmap Class\n            startActivity(intent)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_Karte -&gt; {\n            //            message.setText(R.string.title_Karte)\n            val intent = Intent(this, MapsAnzeigeActivity::class.java)  \n            startActivity(intent)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_Meldungen -&gt; {\n           message.setText(R.string.title_meldungen)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_weiteres -&gt; {\n            message.setText(R.string.title_weiteres)\n            return@OnNavigationItemSelectedListener true\n        }\n    }\n    false\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_fahrplanmap)\n    val navigation = findViewById&lt;BottomNavigationView&gt;(R.id.navigation)       // findViewById&lt;BottomNavigationView&gt;(R.id.navigation)\n\n    navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n    Haltestellen.clear()\n    Recycleview2.layoutManager = LinearLayoutManager(this)\n    Recycleview2.adapter = listadapter(haltestellen_name, this)\n    fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n    if (ActivityCompat.checkSelfPermission(this,\n                    android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(this,\n                arrayOf(android.Manifest.permission.ACCESS_FINE_LOCATION), fahrplanmap.LOCATION_PERMISSION_REQUEST_CODE)\n        return\n    }\n\n    val locationManager = getSystemService(Context.LOCATION_SERVICE) as \nLocationManager\n\n// Define a listener that responds to location updates\n\n    val locationListener = object : LocationListener {\n\n        override fun onLocationChanged(location: Location) {\n            // Called when a new location is found by the network location provider.\n            println(\"GPS WOrks yeahhhh\")\n        }\n\n        override fun onStatusChanged(provider: String, status: Int, extras: Bundle) {\n        }\n\n        override fun onProviderEnabled(provider: String) {\n        }\n\n        override fun onProviderDisabled(provider: String) {\n        }\n    }\n\n    // Register the listener with the Location Manager to receive location updates\n    locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, 0, 0f,locationListener)\n    fusedLocationClient.lastLocation\n            .addOnSuccessListener { location: Location -&gt;\n                if( location != null) {\n                    latitude = location?.latitude\n                    longitude = location?.longitude\n                    println(latitude)\n                    println(longitude)\n                    println(\"gps?\")\n\n                    StopsFromWebservice().execute()\n                }\n            }\n    println(fusedLocationClient.lastLocation)\n//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n}\n\nfun FindClosestStops(){\n    for (i in 0..haltestellen_lat.size-1){\n        var x=0.0\n        var y=0.0\n        var distance = 0.0\n        x= (haltestellen_lat[i]-latitude)*(haltestellen_lat[i]-latitude)\n        y= (haltestellen_lon[i]-longitude)*(haltestellen_lon[i]-longitude)\n        distance = sqrt(x+y)\n        StopDistances[i]= distance\n\n        Haltestellen.add(distance.toString())\n    }\n    SortDistance()\n    time.post(UpdateView);\n}\n\ninner class StopsFromWebservice : AsyncTask&lt;String, String, String&gt;() {                      //Todo buslinien noch richtig stellen, von busroute zu lineid!!\n    override fun doInBackground(vararg p0: String?): String {\n        webservices.get_Haltestellen()\n        StationID = webservices.StationID\n        haltestellen_name = webservices.Haltestellen\n        haltestellen_lat = webservices.haltestellen_lat\n        haltestellen_lon = webservices.haltestellen_lon     //todo schauen ob hintergrundprozess n\u00f6tig\n        FindClosestStops()\n\n        return \"\"\n    }\n\n}\nprivate val UpdateView = object : Runnable {\n    override fun run() {\n        Recycleview2.adapter.notifyDataSetChanged()                                                            //draws the route on maps\n        time.postDelayed(this, 1000)\n\n    }\n\n}\nfun deleteTimer(){\n    time.removeCallbacks(UpdateView);\n}\nfun SortDistance(){\n    var sorted = false\n    var i = 0\n    var k = 0\n    while(k&lt;haltestellen_name.size) {\n        while (i &lt; haltestellen_name.size - 1) {\n            if (Haltestellen[i] &gt; Haltestellen[i + 1]) {\n                var dummy1 = Haltestellen[i]\n                var dummy2 = haltestellen_name[i]\n\n                Haltestellen[i] = Haltestellen[i + 1]\n                haltestellen_name[i] = haltestellen_name[i + 1]\n\n                Haltestellen[i + 1] = dummy1\n                haltestellen_name[i + 1] = dummy2\n\n            }\n            i++\n        }\n        k++\n        i=0\n        println(k)\n    }\n    deleteTimer()\n}\n}\n</code></pre>\n\n<p>I am sorry for this unspecific question, what could trigger the null exception? It  doesnt even really start that I could search with the debugger. I tried deleting the gps handling code, but it didn't change anything</p>\n\n<p>UPDATE:\nI can start the app once on an emulator, the error appears from the second use onwards</p>\n"}, {"tags": ["java", "android", "webview", "kotlin"], "comments": [{"owner": {"reputation": 2736, "user_id": 5082285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6346341a24fb90f9ac3fb4ef1136d564?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kauppinen", "link": "https://stackoverflow.com/users/5082285/markus-kauppinen"}, "edited": false, "score": 0, "creation_date": 1540901806, "post_id": 53063882, "comment_id": 93026549, "body": "You could start by following the troubleshooting instructions in: <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\">Unfortunately MyApp has stopped. How can I solve this?</a>. Then you&#39;ll know a bit more about the problem."}], "answers": [{"tags": [], "owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "is_accepted": true, "score": 2, "last_activity_date": 1540902644, "last_edit_date": 1540902644, "creation_date": 1540901891, "answer_id": 53064153, "question_id": 53063882, "link": "https://stackoverflow.com/questions/53063882/cant-able-to-get-cookie-data-in-android-webview/53064153#53064153", "title": "Can&#39;t able to get cookie data in Android WebView", "body": "<p>I think it's because you're loading a different url in your <code>WebView</code> instead of the one whcih you're trying to get cookies. (\"<a href=\"http://www.instagram.com\" rel=\"nofollow noreferrer\">http://www.instagram.com</a>\")</p>\n\n<p>This is a more reliable solution to get cookies.</p>\n\n<pre><code>@Override\npublic void onPageFinished(WebView view, String url){\n    final String cookies = CookieManager.getInstance().getCookie(url);\n    Log.d(\"cookies\", \"here:\" + cookies);\n}\n</code></pre>\n\n<p>Here's the Kotlin way:</p>\n\n<pre><code>override fun onPageFinished(view: WebView?, url: String?) {\n    val cookies = CookieManager.getInstance().getCookie(url);\n    Log.d(\"cookies\", \"here:\" + cookies);\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10160049, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jWGgcJILC5s/AAAAAAAAAAI/AAAAAAAAAgQ/5QVeBty9Rm8/photo.jpg?sz=128", "display_name": "Kamran Ali", "link": "https://stackoverflow.com/users/10160049/kamran-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 1, "accepted_answer_id": 53064153, "answer_count": 1, "score": 0, "last_activity_date": 1541087341, "creation_date": 1540900925, "last_edit_date": 1541087341, "question_id": 53063882, "link": "https://stackoverflow.com/questions/53063882/cant-able-to-get-cookie-data-in-android-webview", "title": "Can&#39;t able to get cookie data in Android WebView", "body": "<p>I'm trying to extract cookie data from WebView in android and getting null exception.</p>\n\n<pre><code>override fun onPageFinished(view: WebView?, url: String?) {\n    val cookies = \n    CookieManager.getInstance().getCookie(\"http://www.instagram.com\")\n    Log.d(\"result\", \"cookies:\" + cookies)\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "aar"], "comments": [{"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1540897278, "post_id": 53062758, "comment_id": 93024000, "body": "what is problem with that?"}, {"owner": {"reputation": 1, "user_id": 8667787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e0351f71d07469411d0811d5b4a8372?s=128&d=identicon&r=PG", "display_name": "user12068", "link": "https://stackoverflow.com/users/8667787/user12068"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1540897555, "post_id": 53062758, "comment_id": 93024156, "body": "I have .kt file with and .class in aar package opening the .kt file opens the source code which is a problem because it is an encryption util file"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1540898008, "post_id": 53062758, "comment_id": 93024402, "body": "<code>aar</code>  is your own developed library"}, {"owner": {"reputation": 1, "user_id": 8667787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e0351f71d07469411d0811d5b4a8372?s=128&d=identicon&r=PG", "display_name": "user12068", "link": "https://stackoverflow.com/users/8667787/user12068"}, "reply_to_user": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1540898559, "post_id": 53062758, "comment_id": 93024676, "body": "yes but compiled library should not include source code files"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1540901056, "post_id": 53062758, "comment_id": 93026169, "body": "if you have configured as the module content roots or source roots than it can be modified. \u2013"}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540901960, "post_id": 53062758, "comment_id": 93026617, "body": "Is that a thing that happens when compiling for debug only? Including sources is maybe intentional in that case. Though I don&#39;t see source listed in <a href=\"https://developer.android.com/studio/projects/android-library#aar-contents\" rel=\"nofollow noreferrer\">developer.android.com/studio/projects/&hellip;</a> - Also you don&#39;t have encryption if it breaks when someone can see the source or a compiled class since you can decompile those as well. Change your security model."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1540903033, "post_id": 53062758, "comment_id": 93027189, "body": "It&#39;s not intentional. Please show how your project is configured and built."}], "owner": {"reputation": 1, "user_id": 8667787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e0351f71d07469411d0811d5b4a8372?s=128&d=identicon&r=PG", "display_name": "user12068", "link": "https://stackoverflow.com/users/8667787/user12068"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540896916, "creation_date": 1540896916, "question_id": 53062758, "link": "https://stackoverflow.com/questions/53062758/compiled-aar-has-kotlin-source-file-kt-inside", "title": "Compiled aar has Kotlin source file .kt inside", "body": "<p>I used a kotlin file inside a java project. After generating aar unzipping I saw the source file .kt inside the aar package.</p>\n"}, {"tags": ["kotlin", "jsr223"], "answers": [{"comments": [{"owner": {"reputation": 857, "user_id": 1139720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/156b6eb777de00400e9aa659fd519c89?s=128&d=identicon&r=PG", "display_name": "Balage1551", "link": "https://stackoverflow.com/users/1139720/balage1551"}, "edited": false, "score": 0, "creation_date": 1568364557, "post_id": 53062853, "comment_id": 102258358, "body": "UPDATE: Since Kotlin 1.3.50, bindings are working as they meant to be, no bindings[] reference needed!"}, {"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "reply_to_user": {"reputation": 857, "user_id": 1139720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/156b6eb777de00400e9aa659fd519c89?s=128&d=identicon&r=PG", "display_name": "Balage1551", "link": "https://stackoverflow.com/users/1139720/balage1551"}, "edited": false, "score": 0, "creation_date": 1573398141, "post_id": 53062853, "comment_id": 103861572, "body": "@Balage1551 can you explain? I&#39;m failing to use bindings in JMeter&#39;s JSR223"}, {"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "reply_to_user": {"reputation": 857, "user_id": 1139720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/156b6eb777de00400e9aa659fd519c89?s=128&d=identicon&r=PG", "display_name": "Balage1551", "link": "https://stackoverflow.com/users/1139720/balage1551"}, "edited": false, "score": 0, "creation_date": 1607662182, "post_id": 53062853, "comment_id": 115348442, "body": "@Balage1551 I&#39;m facing the issue on Kotlin-1.4.21 :-(. Probably I have to configure something. What javax.script.ScriptEngineFactory do you use, and what dependencies?"}], "tags": [], "owner": {"reputation": 326, "user_id": 5660200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a053aa187ae95a70bb030ff97abdd0ed?s=128&d=identicon&r=PG", "display_name": "Ilya Chernikov", "link": "https://stackoverflow.com/users/5660200/ilya-chernikov"}, "is_accepted": false, "score": 3, "last_activity_date": 1540897212, "creation_date": 1540897212, "answer_id": 53062853, "question_id": 53062392, "link": "https://stackoverflow.com/questions/53062392/kotlin-jsr223-engine-passing-bindings/53062853#53062853", "title": "Kotlin JSR223 engine passing bindings", "body": "<p>Direct mapping of the bindings variables is not supported yet. There is an <a href=\"https://youtrack.jetbrains.com/issue/KT-15125\" rel=\"nofollow noreferrer\">issue</a> about it.\nFor now, you can access the variables via the <code>bindings</code> map:</p>\n\n<p><code>\nprintln(bindings[\"ctx\"])\n</code></p>\n"}], "owner": {"reputation": 857, "user_id": 1139720, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/156b6eb777de00400e9aa659fd519c89?s=128&d=identicon&r=PG", "display_name": "Balage1551", "link": "https://stackoverflow.com/users/1139720/balage1551"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1540897212, "creation_date": 1540895695, "question_id": 53062392, "link": "https://stackoverflow.com/questions/53062392/kotlin-jsr223-engine-passing-bindings", "title": "Kotlin JSR223 engine passing bindings", "body": "<p>I'm trying to pass a value to my kotlin script on JSR223 engine, but it doesn't gets the bindings.</p>\n\n<pre><code>class Script&lt;C : ScriptContext&gt;(val scriptClass : KClass&lt;C&gt;, val script : String?) {\n    fun execute(context : C) {\n        if (script != null) {\n            System.setProperty(\"idea.use.native.fs.for.win\", \"false\")\n            val scriptWithContext = \"\"\"\n                import ${scriptClass.java.canonicalName}\n\n                println(ctx)\n            \"\"\".trimIndent()\n            with(ScriptEngineManager().getEngineByExtension(\"kts\")) {\n                val c = SimpleScriptContext()\n                c.setAttribute(\"ctx\", context, javax.script.ScriptContext.ENGINE_SCOPE)\n                eval(scriptWithContext, c)\n            }\n\n        }\n    }    \n}\n</code></pre>\n\n<p>It throws exception:</p>\n\n<pre><code>Exception in thread \"main\" javax.script.ScriptException: error: unresolved reference: ctx\n                println(ctx)\n                        ^\n\n    at org.jetbrains.kotlin.cli.common.repl.KotlinJsr223JvmScriptEngineBase.compileAndEval(KotlinJsr223JvmScriptEngineBase.kt:65)\n    at org.jetbrains.kotlin.cli.common.repl.KotlinJsr223JvmScriptEngineBase.eval(KotlinJsr223JvmScriptEngineBase.kt:31)\n    at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:233)\n...\n</code></pre>\n\n<p>What did I miss?</p>\n"}, {"tags": ["java", "asynchronous", "kotlin", "reactive"], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "edited": false, "score": 0, "creation_date": 1540895213, "post_id": 53061882, "comment_id": 93022791, "body": "Hi, thank you very much. Would this line <code>obs     .map { users: List&lt;User&gt; -&gt; users.map { it.id } }     .flatMap { userIds: List&lt;Integer&gt; -&gt; serviceWhichEmitsObservable.doMagic(userIds) }</code> return the observable from the second service call"}, {"owner": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "edited": false, "score": 0, "creation_date": 1540895330, "post_id": 53061882, "comment_id": 93022874, "body": "Also, I have one more question. Assuming we still have the first service call. But then I just want to use the result (the list of user ids) in a normal method, rather than service call. How would this change?"}, {"owner": {"reputation": 4441, "user_id": 1716487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cb7969a127a12e8707cfa9fb95431d58?s=128&d=identicon&r=PG", "display_name": "morpheus05", "link": "https://stackoverflow.com/users/1716487/morpheus05"}, "reply_to_user": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "edited": false, "score": 1, "creation_date": 1540895731, "post_id": 53061882, "comment_id": 93023093, "body": "Yes it would - thats what <code>flatMap</code> is here for. <code>map</code> maps an item to another item (<code>List&lt;User&gt; -&gt; List&lt;Integer&gt;</code>), <code>flatMap</code> allows you return an Observable for a given item (<code>List&lt;User&gt; -&gt; Observable&lt;Something&gt;</code>). If you want to use the list outside an observable chain you have to <code>subscribe</code> to the observable. I would suggest to create a small workspace where you can play around with RX and learn to understand it."}, {"owner": {"reputation": 4441, "user_id": 1716487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cb7969a127a12e8707cfa9fb95431d58?s=128&d=identicon&r=PG", "display_name": "morpheus05", "link": "https://stackoverflow.com/users/1716487/morpheus05"}, "reply_to_user": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "edited": false, "score": 0, "creation_date": 1540904241, "post_id": 53061882, "comment_id": 93027888, "body": "On SO its common to accept an answer then rather say &quot;thanks&quot; since thank yous pollute the comments/posts."}, {"owner": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "edited": false, "score": 0, "creation_date": 1541184857, "post_id": 53061882, "comment_id": 93143370, "body": "Is this causing serviceWhichEmitsObservable to execute on different thread or same thread as obs? I feel like it does on a different one - is there a way to force it to execute on same thread"}], "tags": [], "owner": {"reputation": 4441, "user_id": 1716487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cb7969a127a12e8707cfa9fb95431d58?s=128&d=identicon&r=PG", "display_name": "morpheus05", "link": "https://stackoverflow.com/users/1716487/morpheus05"}, "is_accepted": true, "score": 1, "last_activity_date": 1540894658, "last_edit_date": 1540894658, "creation_date": 1540894149, "answer_id": 53061882, "question_id": 53061391, "link": "https://stackoverflow.com/questions/53061391/rxjava-kotlin-using-one-observable-in-the-creation-of-another/53061882#53061882", "title": "RxJava + Kotlin - Using one observable in the creation of another", "body": "<p>I think you want <code>flatMap</code>. <code>flatMap</code> is an operator, where you can emit another observable based on the item of an Observable.</p>\n\n<pre><code>val obs: Observable&lt;List&lt;User&gt;&gt;\nobs.flatMap { users: List&lt;User&gt; -&gt; \n    serviceWhichEmitsObservable.doMagic(users)\n}\n</code></pre>\n\n<p><a href=\"http://reactivex.io/documentation/operators/flatmap.html\" rel=\"nofollow noreferrer\">flatMap-Operator</a> </p>\n\n<p>If you want the users separately, you can convert the Observable> -> Obsersvable with fromIterable. See this answer: <a href=\"https://stackoverflow.com/questions/28035090/rxjava-fetch-every-item-on-the-list\">RxJava - fetch every item on the list</a></p>\n\n<pre><code>val obs: Observable&lt;List&lt;User&gt;&gt;\nobs\n    .flatMap { users: List&lt;User&gt; -&gt; Observable.fromIterable(users)\n    .flatMap { user: User -&gt; serviceWhichEmitsObservable.doMagic(user) }\n</code></pre>\n\n<p>After rereading your question, I think what you want is this: <code>List&lt;User&gt;</code> -> <code>List&lt;Integer&gt;</code> and pass this list to a service. You have to map the list first. This has nothing todo with RX. Nonetheless:</p>\n\n<pre><code>val obs: Observable&lt;List&lt;User&gt;&gt;\nobs\n    .map { users: List&lt;User&gt; -&gt; users.map { it.id } }\n    .flatMap { userIds: List&lt;Integer&gt; -&gt; serviceWhichEmitsObservable.doMagic(userIds) }\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 4589494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/40727abb191e8bb8fe62f47828b9718c?s=128&d=identicon&r=PG&f=1", "display_name": "hacktymh", "link": "https://stackoverflow.com/users/4589494/hacktymh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1074, "favorite_count": 0, "accepted_answer_id": 53061882, "answer_count": 1, "score": 1, "last_activity_date": 1540897754, "creation_date": 1540892624, "last_edit_date": 1540897754, "question_id": 53061391, "link": "https://stackoverflow.com/questions/53061391/rxjava-kotlin-using-one-observable-in-the-creation-of-another", "title": "RxJava + Kotlin - Using one observable in the creation of another", "body": "<p>I am trying to figure out how to use the result of one observable in another.\nI have a service call which returns <code>Observable&lt;List&lt;User&gt;&gt;</code> and after that I have another service call where I want to use the id of each user (<code>user.getId()</code>) in the list of the previous observable to create a list of ids <code>List&lt;Int&gt;</code>. Then this list of int will be passed to the second service call. How can I achieve this?</p>\n\n<p>I hope the question makes sense. Let me know if I need to clarify myself.</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-paging"], "comments": [{"owner": {"reputation": 157, "user_id": 8861442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HRngeSw_U44/AAAAAAAAAAI/AAAAAAAAACs/4IZLGpzuvQI/photo.jpg?sz=128", "display_name": "Sarath  Kumar Rajendran", "link": "https://stackoverflow.com/users/8861442/sarath-kumar-rajendran"}, "edited": false, "score": 1, "creation_date": 1580455530, "post_id": 53060795, "comment_id": 106110376, "body": "Found a better solution. <a href=\"https://stackoverflow.com/questions/51010167/update-list-items-in-paginglibrary-w-o-using-room-network-only\">Check this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3380, "user_id": 8094213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHg3X.jpg?s=128&g=1", "display_name": "Alexey Denysenko", "link": "https://stackoverflow.com/users/8094213/alexey-denysenko"}, "reply_to_user": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1540924714, "post_id": 53063077, "comment_id": 93040069, "body": "@Nux based on your <code>DataSource</code> code, you are loading comments from server. So you need send new comment to server and then fetch it to show. I&#39;ve updated my answer."}, {"owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 1, "creation_date": 1540925347, "post_id": 53063077, "comment_id": 93040332, "body": "So that&#39;s means I will have to fetch list of comments again from server to get one added?"}, {"owner": {"reputation": 3380, "user_id": 8094213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHg3X.jpg?s=128&g=1", "display_name": "Alexey Denysenko", "link": "https://stackoverflow.com/users/8094213/alexey-denysenko"}, "reply_to_user": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1540926747, "post_id": 53063077, "comment_id": 93041037, "body": "Yeah, because someone else also might add comment meanwhile and that&#39;s mean that your data is invalid and you should <code>invalidate()</code> it."}, {"owner": {"reputation": 157, "user_id": 8861442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HRngeSw_U44/AAAAAAAAAAI/AAAAAAAAACs/4IZLGpzuvQI/photo.jpg?sz=128", "display_name": "Sarath  Kumar Rajendran", "link": "https://stackoverflow.com/users/8861442/sarath-kumar-rajendran"}, "edited": false, "score": 0, "creation_date": 1580454985, "post_id": 53063077, "comment_id": 106110188, "body": "@AlexeyDenysenko Consider the same problem. But here my thing is I am showing a chat history. What I can do to add new messages? Invalidating and getting all back the messages will use more bandwidth."}, {"owner": {"reputation": 91, "user_id": 5285687, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-05kcBtGa1Aw/AAAAAAAAAAI/AAAAAAAAADM/kYGrgum3PTM/photo.jpg?sz=128", "display_name": "YellowJ", "link": "https://stackoverflow.com/users/5285687/yellowj"}, "reply_to_user": {"reputation": 157, "user_id": 8861442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HRngeSw_U44/AAAAAAAAAAI/AAAAAAAAACs/4IZLGpzuvQI/photo.jpg?sz=128", "display_name": "Sarath  Kumar Rajendran", "link": "https://stackoverflow.com/users/8861442/sarath-kumar-rajendran"}, "edited": false, "score": 0, "creation_date": 1589721711, "post_id": 53063077, "comment_id": 109399719, "body": "@SarathKumarRajendran Did you find any solution to the problem you mentioned?"}], "tags": [], "owner": {"reputation": 3380, "user_id": 8094213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHg3X.jpg?s=128&g=1", "display_name": "Alexey Denysenko", "link": "https://stackoverflow.com/users/8094213/alexey-denysenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1540924641, "last_edit_date": 1540924641, "creation_date": 1540897992, "answer_id": 53063077, "question_id": 53060795, "link": "https://stackoverflow.com/questions/53060795/how-to-add-item-in-pagedlist-of-paging-library/53063077#53063077", "title": "How to add Item in PagedList of Paging Library", "body": "<p>The correct way to do that, is:</p>\n\n<ol>\n<li><p>Send your newly added comment to your remote server (based on your code, you are fetching all comments from server). \nFor that you will invoke some <code>ViewModel</code> method, like <code>addComment()</code>. Which will invoke some method from your <code>apiClient</code>.</p></li>\n<li><p>Call <a href=\"https://developer.android.com/reference/android/arch/paging/DataSource#invalidate\" rel=\"nofollow noreferrer\">invalidate</a> on your <code>DataSource</code> (also in <code>ViewModel</code>, even in the same <code>addComment()</code> method), it will trigger your <code>PagedList</code> update.\n<br>\n<br></p>\n\n<pre><code>commentsDataSource.invalidate();\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4187, "favorite_count": 0, "accepted_answer_id": 53063077, "answer_count": 1, "score": 3, "last_activity_date": 1551688809, "creation_date": 1540890676, "last_edit_date": 1540922023, "question_id": 53060795, "link": "https://stackoverflow.com/questions/53060795/how-to-add-item-in-pagedlist-of-paging-library", "title": "How to add Item in PagedList of Paging Library", "body": "<p>I am trying to add comment functionality in my App. Just like Instagram or Facebook where comment will be added on comment list after being successfully saved to the database. I am using <a href=\"https://developer.android.com/topic/libraries/architecture/\" rel=\"nofollow noreferrer\">Android Architecture Components</a> (ViewModel, LiveData and Paging Library).</p>\n\n<p>Here is my ViewModel where I think I should update my PagedList</p>\n\n<pre><code>class CommentsViewModel : ViewModel() {\nlateinit var networkState: LiveData&lt;NetworkState&gt;\nprivate val executor: Executor\nprivate lateinit var tDataSource: LiveData&lt;CommentsDataSource&gt;\nprivate lateinit var dataFactory: CommentsDataFactory\nprivate var repository: CommentsRepository\nprivate var commentsList: LiveData&lt;PagedList&lt;Comment&gt;&gt;? = null\n\ninit {\n    executor = Executors.newFixedThreadPool(5)\n    repository = CommentsRepository()\n}\n\nfun getComments(postId: Int): LiveData&lt;PagedList&lt;Comment&gt;&gt;? {\n    dataFactory = CommentsDataFactory(executor, postId)\n\n    tDataSource = dataFactory.mutableLiveData\n\n    networkState = Transformations.switchMap(dataFactory.mutableLiveData) {\n        it.networkState\n    }\n\n    val pagedListConfig = PagedList.Config.Builder()\n            .setEnablePlaceholders(true)\n            .setInitialLoadSizeHint(Constants.INITIAL_LOAD)\n            .setPageSize(Constants.PAGE_SIZE)\n            .build()\n\n    commentsList = LivePagedListBuilder(dataFactory, pagedListConfig)\n            .setFetchExecutor(executor)\n            .build()\n    return commentsList\n}\n\n//This method here brings errors.\nfun addComment(comment: Comment) {\n    commentsList?.value?.add(comment)\n}\n\nfun postComment(map: Map&lt;String, String&gt;): LiveData&lt;NetworkState&gt; {\n    repository.postComment(map)\n    return repository.mNetworkState\n}}\n</code></pre>\n\n<p>How to do it Correctly?.</p>\n\n<p><strong>CommentsDataFactory</strong></p>\n\n<pre><code>class CommentsDataFactory(private val executor: Executor, private val postId: Int)\n: DataSource.Factory&lt;Int, Comment&gt;() {\n\nval mutableLiveData = MutableLiveData&lt;CommentsDataSource&gt;()\n\noverride fun create(): DataSource&lt;Int, Comment&gt;? {\n    val dataSource = CommentsDataSource(executor, postId)\n    mutableLiveData.postValue(dataSource)\n    return dataSource\n}}\n</code></pre>\n\n<p><strong>CommentsDataSource</strong></p>\n\n<pre><code>class CommentsDataSource(private val retryExecutor: Executor, private val post_id: Int)\n: PageKeyedDataSource&lt;Int, Comment&gt;() {\n\nprivate var retry: (() -&gt; Any)? = null\nprivate val apiClient = getClient()\n\nval networkState = MutableLiveData&lt;NetworkState&gt;()\n\nval initialLoad = MutableLiveData&lt;NetworkState&gt;()\n\nfun retryAllFailed() {\n    val prevRetry = retry\n    retry = null\n    prevRetry?.let {\n        retryExecutor.execute {\n            it.invoke()\n        }\n    }\n}\n\noverride fun loadBefore(\n        params: LoadParams&lt;Int&gt;,\n        callback: LoadCallback&lt;Int, Comment&gt;) {\n}\n\noverride fun loadAfter(params: LoadParams&lt;Int&gt;, callback: LoadCallback&lt;Int, Comment&gt;) {\n    networkState.postValue(NetworkState.LOADING)\n    apiClient.getComments(post_id, params.key).enqueue(\n            object : retrofit2.Callback&lt;List&lt;Comment&gt;&gt; {\n                override fun onFailure(call: Call&lt;List&lt;Comment&gt;&gt;, t: Throwable) {\n                    retry = {\n                        loadAfter(params, callback)\n                    }\n                    networkState.postValue(NetworkState.error(t.message ?: \"unknown err\"))\n                }\n\n                override fun onResponse(\n                        call: Call&lt;List&lt;Comment&gt;&gt;,\n                        response: Response&lt;List&lt;Comment&gt;&gt;) {\n                    when {\n                        response.isSuccessful -&gt; {\n                            retry = null\n                            callback.onResult(response.body() as MutableList&lt;Comment&gt;, params.key + 10)\n                            networkState.postValue(NetworkState.LOADED)\n                        }\n                        response.code() == 404 -&gt; networkState.postValue(NetworkState.END)\n                        else -&gt; {\n                            retry = {\n                                loadAfter(params, callback)\n                            }\n                            networkState.postValue(\n                                    NetworkState.error(\"error code: ${response.code()}\"))\n                        }\n                    }\n                }\n            }\n    )\n}\n\noverride fun loadInitial(\n        params: LoadInitialParams&lt;Int&gt;,\n        callback: LoadInitialCallback&lt;Int, Comment&gt;) {\n\n    val request = apiClient.getComments(post_id, 0)\n\n    networkState.postValue(NetworkState.LOADING)\n    initialLoad.postValue(NetworkState.LOADING)\n\n    try {\n        retry = null\n        val response = request.execute()\n\n        when {\n            response.isSuccessful -&gt; {\n                networkState.postValue(NetworkState.LOADED)\n                initialLoad.postValue(NetworkState.LOADED)\n                callback.onResult(response.body() as MutableList&lt;Comment&gt;, 0, 10)\n            }\n            response.code() == 404 -&gt; networkState.postValue(NetworkState.END)\n            else -&gt; networkState.postValue(\n                    NetworkState.error(\"error code: ${response.code()}\"))\n        }\n\n    } catch (ioException: IOException) {\n        retry = {\n            loadInitial(params, callback)\n        }\n        val error = NetworkState.error(ioException.message ?: \"unknown error\")\n        networkState.postValue(error)\n        initialLoad.postValue(error)\n    }\n}}\n</code></pre>\n"}, {"tags": ["android-studio", "gradle", "kotlin", "compiler-errors", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 1106, "user_id": 6795368, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d143ab3f3cca6a127b01bd03e22ac2f9?s=128&d=identicon&r=PG&f=1", "display_name": "Den", "link": "https://stackoverflow.com/users/6795368/den"}, "edited": false, "score": 2, "creation_date": 1540975601, "post_id": 53060731, "comment_id": 93056135, "body": "Damn, bingo. I&#39;ve lost an hour finding where did i forget to remove something experimental."}, {"owner": {"reputation": 2210, "user_id": 1396068, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VBgBy.jpg?s=128&g=1", "display_name": "Fabian Streitel", "link": "https://stackoverflow.com/users/1396068/fabian-streitel"}, "edited": false, "score": 0, "creation_date": 1546331317, "post_id": 53060731, "comment_id": 94825624, "body": "I also had to remove <code>kotlin.coroutines=enable</code> from gradle.properties in addition to get rid of the warning"}], "tags": [], "owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "is_accepted": true, "score": 29, "last_activity_date": 1540890414, "creation_date": 1540890414, "answer_id": 53060731, "question_id": 53060730, "link": "https://stackoverflow.com/questions/53060730/compilation-error-xcoroutines-has-no-effect-coroutines-are-enabled-anyway-in/53060731#53060731", "title": "Compilation error: &quot;-Xcoroutines has no effect: coroutines are enabled anyway in 1.3 and beyond&quot;", "body": "<p>It turns out it is actually very easy to solve this problem, and I thought I'd document my solution for people who will undoubtedly stumble upon the same problem in the future.</p>\n\n<p>Simply remove the following block from your app-level build.gradle, hit \"Sync Now\" in Android Studio and rebuild:</p>\n\n<pre><code>kotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 7, "last_activity_date": 1551248507, "last_edit_date": 1551248507, "creation_date": 1540891933, "answer_id": 53061168, "question_id": 53060730, "link": "https://stackoverflow.com/questions/53060730/compilation-error-xcoroutines-has-no-effect-coroutines-are-enabled-anyway-in/53061168#53061168", "title": "Compilation error: &quot;-Xcoroutines has no effect: coroutines are enabled anyway in 1.3 and beyond&quot;", "body": "<p>You don't need this anymore when using Kotlin 1.3 as it removed the \"experimental\" nature of Coroutines. See <a href=\"https://blog.jetbrains.com/kotlin/2018/10/kotlin-1-3/\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p><strong>Coroutines are now stable</strong></p>\n  \n  <p>Coroutines are a modern way to write non-blocking asynchronous code that\u2019s easy to understand and evolve. It\u2019s a powerful tool for anything from offloading work onto background workers to implementing complicated network protocols. The <em>kotlinx.coroutines library hits 1.0</em> release and provides a solid foundation for managing asynchronous jobs at any scale including composition, cancelation, exception handling and UI-specific use cases.</p>\n</blockquote>\n\n<p>You probably have a missing reference in your build script, e.g.:</p>\n\n<pre><code>kotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2415, "favorite_count": 1, "accepted_answer_id": 53060731, "answer_count": 2, "score": 12, "last_activity_date": 1551248507, "creation_date": 1540890414, "question_id": 53060730, "link": "https://stackoverflow.com/questions/53060730/compilation-error-xcoroutines-has-no-effect-coroutines-are-enabled-anyway-in", "title": "Compilation error: &quot;-Xcoroutines has no effect: coroutines are enabled anyway in 1.3 and beyond&quot;", "body": "<p>When I try to compile my Android app written in Kotlin, I get the following compilation error, and my build fails:</p>\n\n<pre><code>w: -Xcoroutines has no effect: coroutines are enabled anyway in 1.3 and beyond\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540888236, "post_id": 53060116, "comment_id": 93018829, "body": "you can only move the last function outside of the <code>()</code>, i.e. <code>foo(&quot;a message&quot;, { println(&quot;message 1: $it&quot;) })</code> and then <code>{ println(&quot;message 2: $it&quot;) }</code> <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540888421, "post_id": 53060116, "comment_id": 93018928, "body": "Okay thanks for that! Is there maybe another way to move both functions out? Maybe with an interface or so?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1540889504, "post_id": 53060116, "comment_id": 93019459, "body": "so you want something like <code>foo(&quot;a message&quot;) { println(&quot;message 1: $it&quot;) } { println(&quot;message 2: $it&quot;) }</code>? even if that works, I can not recommend it... it gets harder to see what is just a block and what is a passed function then..."}], "answers": [{"tags": [], "owner": {"reputation": 3606, "user_id": 178274, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8bcbf9deef69f1d6a2f658eefe4487c4?s=128&d=identicon&r=PG", "display_name": "denis.zhdanov", "link": "https://stackoverflow.com/users/178274/denis-zhdanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1540889452, "creation_date": 1540889452, "answer_id": 53060476, "question_id": 53060116, "link": "https://stackoverflow.com/questions/53060116/call-method-which-takes-two-methods-as-argument/53060476#53060476", "title": "Call method which takes two methods as argument", "body": "<p>You can use method references. The example below uses 'static' functions, the cool thing is that you can reference 'instance functions' as well (closures):</p>\n\n<pre><code>object Xxx {\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        service(\"initial\", ::toUpperCase, ::withSuffix)\n    }\n\n    fun toUpperCase(s: String) = s.toUpperCase()\n    fun withSuffix(s: String) = \"$s.mySuffix\"\n\n    fun service(argument: String, vararg enhancers: (String) -&gt; String) {\n        println(enhancers.fold(argument) { s, e -&gt; e(s) })\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "is_accepted": false, "score": 0, "last_activity_date": 1540891487, "last_edit_date": 1540891487, "creation_date": 1540890185, "answer_id": 53060671, "question_id": 53060116, "link": "https://stackoverflow.com/questions/53060116/call-method-which-takes-two-methods-as-argument/53060671#53060671", "title": "Call method which takes two methods as argument", "body": "<p>I tried to return a function that take another function as argument to see if I can get two lambdas outside the <code>()</code>.</p>\n\n<pre><code>fun foo(m:String,bar1:(m:String)-&gt;Unit) : (bar2:(m:String)-&gt;Unit)-&gt;Unit\n{\n    bar1(m)\n    return { bar2: (m: String) -&gt; Unit -&gt; bar2(m) }\n}\n</code></pre>\n\n<p>Turns out I can't. I end up putting one more pair of <code>()</code> around or after the first function so that the compiler know the last lambda is an argument for the returned function instead of assume trying to pass two lambda expressions outside a parenthesized argument list.</p>\n\n<pre><code>(foo(\"a message\"){println(\"message 1: $it\")}){println(\"message 2: $it\")}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>foo(\"a message\"){println(\"message 1: $it\")}(){println(\"message 2: $it\")}\n</code></pre>\n\n<p>Obviously these does not look any better. I think </p>\n\n<pre><code>foo(\"a message\", { println(\"message 1: $it\") }, { println(\"message 2: $it\") } )\n</code></pre>\n\n<p>or</p>\n\n<pre><code>foo(\"a message\", { println(\"message 1: $it\") }){ println(\"message 2: $it\")}\n</code></pre>\n\n<p>are good enough.</p>\n\n<p>Interestingly this is allowed in Swift</p>\n\n<pre><code>func foo (m:String,bar1 : ((String) -&gt; Void) ) -&gt; (_:((String) -&gt; Void))-&gt;Void\n{\n    bar1(m)\n    return {bar2 in bar2(m)}\n}\nfoo(m: \"test\"){print(\"m1: \\($0)\")}{print(\"m2: \\($0)\")}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 1, "last_activity_date": 1540893193, "creation_date": 1540893193, "answer_id": 53061579, "question_id": 53060116, "link": "https://stackoverflow.com/questions/53060116/call-method-which-takes-two-methods-as-argument/53061579#53061579", "title": "Call method which takes two methods as argument", "body": "<p>Just for the fun of it... here are some tries to get something similar to what you requested. Note that I can not really recommend any other approach then the \"standard\" one ;-) (that was the disclaimer)</p>\n\n<ol>\n<li><p>standard as is:</p>\n\n<pre><code>fun method1(s: String,\n            m1: (String) -&gt; String,\n            m2: (String) -&gt; String) {\n    println(m1(s))\n    println(m2(s))\n}\nmethod1(\"test\", { \"m1: $it\" }) {\n    \"m2: $it\"\n}\n// if you like with or without mentioning the parameter names:\nmethod1(\"test\",\n    m1 = { \"m1: $it\" },\n    m2 = { \"m2: $it\" }\n)\n\n// 1b. using own methods and supplying method references\nfun m1(s : String) = \"m1: $s\"\nfun m2(s : String) = \"m2: $s\"\nmethod1(\"test1b\", ::m1 /*, ::m2 */) {\n    \"m2: $it\"\n}\n</code></pre></li>\n<li><p>using invoke...</p>\n\n<pre><code>class Method2(val s: String,\n              val m1: (String) -&gt; String) {\n    operator fun invoke(m2: (String) -&gt; String) {\n        println(m1(s))\n        println(m2(s))\n    }\n}\n\nfun method2(s: String,\n            m1: (String) -&gt; String) = Method2(s, m1)\nmethod2(\"test2\") {\n    \"m1: $it\"\n}() {\n    \"m2: $it\"\n}\n</code></pre></li>\n<li><p>using a pair supplier with its own ugly extension function</p>\n\n<pre><code>fun method3(s: String,\n            m1AndM2: () -&gt; Pair&lt;(String) -&gt; String, (String) -&gt; String&gt;) {\n    m1AndM2().let { (m1, m2) -&gt;\n        println(m1(s))\n        println(m2(s))\n    }\n}\n\ninfix fun &lt;T : (String) -&gt; String&gt; T.and(m2: (String) -&gt; String) = Pair(this, m2)\nmethod3(\"test3\") {\n    { s: String -&gt; \"m1: $s\" } and // note: the \"s: String\" is mandatory as the compiler can not infer the type\n        { \"m2: $it\" }\n}\n\n// 3b. using a div operator as delimiter (still a hack):\noperator fun &lt;T : (String) -&gt; String&gt; T.div(m2: (String) -&gt; String) = Pair(this, m2)\nmethod3(\"test3b\") {\n    { s: String -&gt; \"m1: $s\" } / {\n        \"m2: $it\"\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>Note: you can even play with one solution or the other and may even come up with something better... Still that was just playing around. I would still stick to the first variant... maybe a method reference is more helpful in your case. I even find the variant with named parameters better then trying to accomplish something like a chain of blocks. And don't forget: others (more important probably your future self) should still be able to read the code ;-)</p>\n"}], "owner": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 53061579, "answer_count": 3, "score": 0, "last_activity_date": 1540893193, "creation_date": 1540887939, "question_id": 53060116, "link": "https://stackoverflow.com/questions/53060116/call-method-which-takes-two-methods-as-argument", "title": "Call method which takes two methods as argument", "body": "<p>When I have a function which takes another function as argument I can call it like this:</p>\n\n<pre><code>fun foo(m: String, bar: (m: String) -&gt; Unit) {\n    bar(m)\n}\n\nfoo(\"a message\") { \n    println(\"message: $it\")\n}\n</code></pre>\n\n<p>Is there a way to call it like the way above with one bracket block? I only know this way:</p>\n\n<pre><code>fun foo(m: String, bar1: (m: String) -&gt; Unit, bar2: (m: String) -&gt; Unit) {\n    bar1(m)\n    bar2(m)\n}\n\nfoo(\"a message\", { println(\"message 1: $it\") }, { println(\"message 2: $it\") } )\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "androidx"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540887876, "post_id": 53059926, "comment_id": 93018655, "body": "rebuild / reopen the project, maybe <a href=\"https://stackoverflow.com/questions/31884361/what-does-the-invalidate-caches-restart-do-in-android-studio\">clean caches</a> and look out for errors. <code>R</code> is generated during compilation."}, {"owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540888760, "post_id": 53059926, "comment_id": 93019092, "body": "@zapl that did not work"}, {"owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540888792, "post_id": 53059926, "comment_id": 93019107, "body": "I get the following gradle error: Android dependency &#39;com.android.support:animated-vector-drawable&#39; has different version for the compile (25.0.0) and runtime (28.0.0) classpath. You should manually set the same version via DependencyResolution"}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540888981, "post_id": 53059926, "comment_id": 93019180, "body": "can&#39;t you fix the dependencies in the <code>data</code> project or wherever that dependency comes from? (to figure that out: <a href=\"https://stackoverflow.com/questions/39008887/how-do-i-show-dependencies-tree-in-android-studio\" title=\"how do i show dependencies tree in android studio\">stackoverflow.com/questions/39008887/&hellip;</a>)"}, {"owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540890695, "post_id": 53059926, "comment_id": 93020088, "body": "Once i fix one dependency issue another one crops up."}, {"owner": {"reputation": 1126, "user_id": 4002813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ebc6b0ce80a9f32c846e464261e155?s=128&d=identicon&r=PG&f=1", "display_name": "Namrata Bagerwal", "link": "https://stackoverflow.com/users/4002813/namrata-bagerwal"}, "edited": false, "score": 0, "creation_date": 1544510340, "post_id": 53059926, "comment_id": 94290855, "body": "Hey any luck on above? I am facing similar issue after migrating existing project to androidx namespace - Android dependency &#39;androidx.appcompat:appcompat&#39; has different version for the compile (1.0.0) and runtime (1.1.0-alpha01) classpath. You should manually set the same version via DependencyResolution"}, {"owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "reply_to_user": {"reputation": 1126, "user_id": 4002813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ebc6b0ce80a9f32c846e464261e155?s=128&d=identicon&r=PG&f=1", "display_name": "Namrata Bagerwal", "link": "https://stackoverflow.com/users/4002813/namrata-bagerwal"}, "edited": false, "score": 0, "creation_date": 1547645141, "post_id": 53059926, "comment_id": 95261652, "body": "@NamrataBagerwal hope this is not late but the solution to your problem is to add the 1.1.0-alpha01 in your dependencies use either implementation or api &quot;androidx.appcompat:appcompat: 1.10-alpha01&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 964, "user_id": 8551764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eY20e.jpg?s=128&g=1", "display_name": "Mostafa Arian Nejad", "link": "https://stackoverflow.com/users/8551764/mostafa-arian-nejad"}, "reply_to_user": {"reputation": 199, "user_id": 8954516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5b1dffd817c4c685ddd062d228e662?s=128&d=identicon&r=PG&f=1", "display_name": "jpell", "link": "https://stackoverflow.com/users/8954516/jpell"}, "edited": false, "score": 1, "creation_date": 1582819044, "post_id": 54275848, "comment_id": 106915962, "body": "@jeppla Gradle plugin version is set in project-level <code>build.gradle</code> file."}], "tags": [], "owner": {"reputation": 964, "user_id": 8551764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eY20e.jpg?s=128&g=1", "display_name": "Mostafa Arian Nejad", "link": "https://stackoverflow.com/users/8551764/mostafa-arian-nejad"}, "is_accepted": false, "score": 7, "last_activity_date": 1547982453, "creation_date": 1547982453, "answer_id": 54275848, "question_id": 53059926, "link": "https://stackoverflow.com/questions/53059926/unresolved-reference-r-after-androidx-migration/54275848#54275848", "title": "Unresolved Reference R after Androidx Migration", "body": "<p>I encountered such problem after migrating to androidx. After some efforts, I found out that problem was about me using the latest Gradle plugin (as displayed below) while my Android Studio version was not the latest (it was 3.2).</p>\n\n<pre><code>com.android.tools.build:gradle:3.3.0\n</code></pre>\n\n<p>When I changed my gradle plugin to lower version (like below) everything went ok.</p>\n\n<pre><code>com.android.tools.build:gradle:3.2.1\n</code></pre>\n\n<hr>\n\n<p><strong>Solution :</strong> </p>\n\n<p>So the solution is to use the Gradle plugin (and Gradle wrapper) version which matches your Android Studio version.</p>\n"}], "owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2617, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1547982453, "creation_date": 1540887201, "question_id": 53059926, "link": "https://stackoverflow.com/questions/53059926/unresolved-reference-r-after-androidx-migration", "title": "Unresolved Reference R after Androidx Migration", "body": "<p>After updating my dependencies in the build.gradle (Module: app) in Gradle Scripts, all my layout, strings,  all references that are defined by R are not available.  I have the following code in the Module app:</p>\n\n<pre><code>subprojects {\n    project.configurations.all {\n        resolutionStrategy.eachDependency { details -&gt;\n            if (details.requested.group == 'com.android.support'\n                    &amp;&amp; !details.requested.name.contains('multidex')) {\n                details.useVersion \"28.0.0\"\n            }\n\n            if(details.requested.group == 'androidx.lifecycle'  &amp;&amp; !details.requested.name.contains('multidex'))\n            {\n                details.useVersion \"2.0.0\"\n            }\n\n        }\n    }\n}\n\ndependencies \n{\n\n\n implementation 'androidx.test:runner:1.1.0'\n    implementation 'androidx.test.espresso:espresso-core:3.1.0'\n        //    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n        //    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n    // lifecycle components\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel:2.0.0'\n    implementation 'androidx.lifecycle:lifecycle-livedata-core:2.0.0'\n    kapt 'androidx.lifecycle:lifecycle-compiler:2.0.0'\n\n    //    implementation 'android.arch.lifecycle:extensions:1.1.1'\n    //    kapt \"android.arch.lifecycle:compiler:1.1.1\"\n\n    // room components\n        //    implementation 'android.arch.persistence.room:runtime:1.1.1'\n    implementation 'androidx.room:room-runtime:2.0.0'\n\n    //    data binding components\n    annotationProcessor \"com.android.databinding:compiler:3.1.4\"\n    implementation 'io.reactivex.rxjava2:rxjava:2.2.2'\n    implementation 'io.reactivex.rxjava2:rxandroid:2.1.0'\n    implementation 'com.github.bumptech.glide:glide:4.8.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'\n\n    //implementation 'com.google.dagger:dagger-android:2.16'\n    implementation 'com.google.dagger:dagger-android-support:2.16'\n    // if you use the support libraries\n    annotationProcessor 'com.google.dagger:dagger-android-processor:2.15'\n    compile project(path: ':data')\n}\n</code></pre>\n\n<p>On searching the project, via the project explorer the project  no longer seems to have an R file.</p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "answers": [{"comments": [{"owner": {"reputation": 2798, "user_id": 4316327, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cbvZf.jpg?s=128&g=1", "display_name": "Truong Hieu", "link": "https://stackoverflow.com/users/4316327/truong-hieu"}, "edited": false, "score": 0, "creation_date": 1540881234, "post_id": 53058521, "comment_id": 93015983, "body": "<code>@JvmStatic</code> really help me. I&#39;ve tried to use <code>object</code> instead of <code>class</code> before but no luck. Thanks alot. Have a nice day."}, {"owner": {"reputation": 2471, "user_id": 5360809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1618836835044059/picture?type=large", "display_name": "Maksym V.", "link": "https://stackoverflow.com/users/5360809/maksym-v"}, "reply_to_user": {"reputation": 2798, "user_id": 4316327, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cbvZf.jpg?s=128&g=1", "display_name": "Truong Hieu", "link": "https://stackoverflow.com/users/4316327/truong-hieu"}, "edited": false, "score": 0, "creation_date": 1540881309, "post_id": 53058521, "comment_id": 93016016, "body": "u2, enjoy  coding"}, {"owner": {"reputation": 1649, "user_id": 8370559, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sEKe9.jpg?s=128&g=1", "display_name": "ikerfah", "link": "https://stackoverflow.com/users/8370559/ikerfah"}, "edited": false, "score": 0, "creation_date": 1571505004, "post_id": 53058521, "comment_id": 103266857, "body": "After one year your answer still help ! Thanks"}], "tags": [], "owner": {"reputation": 2471, "user_id": 5360809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1618836835044059/picture?type=large", "display_name": "Maksym V.", "link": "https://stackoverflow.com/users/5360809/maksym-v"}, "is_accepted": true, "score": 21, "last_activity_date": 1576781118, "last_edit_date": 1576781118, "creation_date": 1540880822, "answer_id": 53058521, "question_id": 53058509, "link": "https://stackoverflow.com/questions/53058509/kotlin-databinding-pass-static-function-into-layout-xml/53058521#53058521", "title": "Kotlin DataBinding pass static function into layout xml", "body": "<p>Have you tried adding <code>@JvmStatic</code> annotation? It should help!</p>\n\n<p>From official <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-static/index.html\" rel=\"noreferrer\">source</a>: </p>\n\n<blockquote>\n  <p>Specifies that an additional static method needs to be generated from\n  this element if it's a function. If this element is a property,\n  additional static getter/setter methods should be generated.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2798, "user_id": 4316327, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cbvZf.jpg?s=128&g=1", "display_name": "Truong Hieu", "link": "https://stackoverflow.com/users/4316327/truong-hieu"}, "edited": false, "score": 0, "creation_date": 1540968911, "post_id": 53077632, "comment_id": 93053214, "body": "I also tried <code>BindingAdapter</code> before in Java. But really don&#39;t know how to do it in Kotlin because i tried somethings like your last codes, but it throw not-detailed error. So I changed to use above way. Thanks for very detailed information. And do I need to pass <code>@JvmStatic</code> before <code>@BindingAdapter(value = [&quot;formatSeconds&quot;, &quot;pattern&quot;])</code>? Thanks."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 2798, "user_id": 4316327, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cbvZf.jpg?s=128&g=1", "display_name": "Truong Hieu", "link": "https://stackoverflow.com/users/4316327/truong-hieu"}, "edited": false, "score": 0, "creation_date": 1540969000, "post_id": 53077632, "comment_id": 93053249, "body": "As I said kotlin file functions are global, so you don&#39;t need to specify <code>@JvmStatic</code>, - Actually you can&#39;t also, try it :)"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 2798, "user_id": 4316327, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cbvZf.jpg?s=128&g=1", "display_name": "Truong Hieu", "link": "https://stackoverflow.com/users/4316327/truong-hieu"}, "edited": false, "score": 0, "creation_date": 1540969054, "post_id": 53077632, "comment_id": 93053270, "body": "I have posted related complete code here. So no need to worry about anything."}], "tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": false, "score": 6, "last_activity_date": 1540967827, "creation_date": 1540967827, "answer_id": 53077632, "question_id": 53058509, "link": "https://stackoverflow.com/questions/53058509/kotlin-databinding-pass-static-function-into-layout-xml/53077632#53077632", "title": "Kotlin DataBinding pass static function into layout xml", "body": "<p>Utilities are generally created as Kotlin File. Because Kotlin files methods are global. Which you can use from anywhere without making it <code>@JvmStatic</code>. </p>\n\n<p><strong>BindingAdapterDefault.kt</strong></p>\n\n<pre><code>fun formatUnixTime(timeInSeconds: Long, pattern: String): String {\n    val simpleDateFormat = SimpleDateFormat(pattern, Locale.US)\n    return simpleDateFormat.format(Date(timeInSeconds * 1000))\n}\n</code></pre>\n\n<p>That will work for you same, <strong>NO</strong> class, brackets, companion, object etc...</p>\n\n<p><strong>From XML</strong></p>\n\n<pre><code>&lt;import type=\"com.innovanathinklabs.sample.ui2.BindingAdapterDefaultKt\"/&gt;\n\nandroid:text=\"@{BindingAdapterDefaultKt.formatUnixTime(1540966388,`hh:mm:ss`)}\"\n</code></pre>\n\n<h3>That's all you need.</h3>\n\n<p>I want add more info about this. You can directly call this method from Java and Kotlin too.</p>\n\n<p><strong>From Java class</strong></p>\n\n<pre><code>import static com.package.BindingAdapterDefaultKt.formatUnixTime;\nformatUnixTime(454545, \"hh:mm:ss\");\n</code></pre>\n\n<p><strong>From Kotlin class</strong></p>\n\n<pre><code>import com.package.formatUnixTime\nformatUnixTime(454545, \"hh:mm:ss\");\n</code></pre>\n\n<h3>Suggestion</h3>\n\n<p>I prefer creating <a href=\"https://developer.android.com/topic/libraries/data-binding/binding-adapters\" rel=\"noreferrer\">BindingAdapter</a> which was introduced with Data Binding, and is very powerful thing. It gives me more flexibility across the app. </p>\n\n<pre><code>&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    app:formatSeconds=\"@{1540966388}\"\n    app:pattern=\"@{`hh:mm:ss`}\"\n    /&gt;\n</code></pre>\n\n<p><strong>BindingAdapterDefault.kt</strong></p>\n\n<pre><code>@BindingAdapter(value = [\"formatSeconds\", \"pattern\"])\nfun secondsToDateText(textView: TextView, timeInSeconds: Long, pattern: String) {\n    val simpleDateFormat = SimpleDateFormat(pattern, Locale.US)\n    textView.text = simpleDateFormat.format(Date(timeInSeconds * 1000))\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10947, "user_id": 4094260, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/A5fz9.jpg?s=128&g=1", "display_name": "Nongthonbam Tonthoi", "link": "https://stackoverflow.com/users/4094260/nongthonbam-tonthoi"}, "is_accepted": false, "score": 1, "last_activity_date": 1599995418, "creation_date": 1599995418, "answer_id": 63870036, "question_id": 53058509, "link": "https://stackoverflow.com/questions/53058509/kotlin-databinding-pass-static-function-into-layout-xml/63870036#63870036", "title": "Kotlin DataBinding pass static function into layout xml", "body": "<p>If you don't want to use <code>@JvmStatic</code>, you can use <code>object</code> instead of <code>class</code>:</p>\n<pre><code>object Utils {\n\n    fun formatUnixTime(timeInSeconds : Long, pattern: String) : String {\n        val simpleDateFormat = SimpleDateFormat(pattern, Locale.US)\n        val value = simpleDateFormat.format(Date(timeInSeconds * 1000))\n        return value\n    }\n}\n</code></pre>\n<p>From <code>xml</code> import the <code>Utils</code> singleton class and then:</p>\n<pre><code>android:text='@{Utils.INSTANCE.formatUnixTime(model.start_time, &quot;hh:mm:ss&quot;)}'\n</code></pre>\n"}], "owner": {"reputation": 2798, "user_id": 4316327, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/cbvZf.jpg?s=128&g=1", "display_name": "Truong Hieu", "link": "https://stackoverflow.com/users/4316327/truong-hieu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3208, "favorite_count": 1, "accepted_answer_id": 53058521, "answer_count": 3, "score": 10, "last_activity_date": 1599995418, "creation_date": 1540880711, "last_edit_date": 1540881384, "question_id": 53058509, "link": "https://stackoverflow.com/questions/53058509/kotlin-databinding-pass-static-function-into-layout-xml", "title": "Kotlin DataBinding pass static function into layout xml", "body": "<p>In Java, i can easily pass static function to layout xml using:</p>\n\n<pre><code>public static String formatUnixTime(long timeInSeconds, String pattern) {\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(pattern, Locale.US);\n    String value = simpleDateFormat.format(new Date(timeInSeconds * 1000));\n\n    return value;\n}\n</code></pre>\n\n<p>in xml:</p>\n\n<pre><code>android:text='@{Utils.formatUnixTime(model.start_time, \"hh:mm:ss\")}'\n</code></pre>\n\n<p>But i tried in Kotlin with <code>companion</code> but no luck. It said </p>\n\n<pre><code>error: cannot find symbol\nimport my.package.name.HistoryItemBindingImpl;\n                      ^\n  symbol:   class HistoryItemBindingImpl\n  location: package my.package.name\n</code></pre>\n\n<p>This is what i tried in kotlin</p>\n\n<pre><code>class Utils {\n    companion object {\n        fun formatUnixTime(timeInSeconds : Long, pattern: String) : String {\n            val simpleDateFormat = SimpleDateFormat(pattern, Locale.US)\n            val value = simpleDateFormat.format(Date(timeInSeconds * 1000))\n\n            return value\n        }\n    }\n</code></pre>\n\n<p>And in xml</p>\n\n<pre><code>android:text='@{Utils.Companion.formatUnixTime(model.start_time, \"hh:mm:ss\")}'\n</code></pre>\n\n<p>Really hope someone can help. Thanks!</p>\n\n<p><strong>Update</strong>\nWith @Max Aves help. I fixed my code and below code will work. Maybe it will help someone.</p>\n\n<pre><code>class Utils {\n    companion object {\n        @JvmStatic\n        fun formatUnixTime(timeInSeconds : Long, pattern: String) : String {\n            val simpleDateFormat = SimpleDateFormat(pattern, Locale.US)\n            val value = simpleDateFormat.format(Date(timeInSeconds * 1000))\n\n            return value\n        }\n</code></pre>\n\n<p>And you can use this in xml</p>\n\n<pre><code>android:text='@{Utils.formatUnixTime(model.start_time, \"hh:mm:ss\")}'\n</code></pre>\n"}, {"tags": ["android", "kotlin", "google-api"], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1540891611, "post_id": 53058710, "comment_id": 93020590, "body": "Uhm! Other, I need get a calendar id, any way do it?"}, {"owner": {"reputation": 474, "user_id": 8713068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a972a6bec2ccc8cbaa72046fa56c5b6?s=128&d=identicon&r=PG&f=1", "display_name": "Karzel", "link": "https://stackoverflow.com/users/8713068/karzel"}, "reply_to_user": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1540982854, "post_id": 53058710, "comment_id": 93060125, "body": "In the second link there is annotation : <code>id - string - Identifier of the calendar. To retrieve IDs call the calendarList.list() method.</code> but I&#39;m not sure if thats a correct method"}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 1, "creation_date": 1543709004, "post_id": 53058710, "comment_id": 94016596, "body": "Thank you! I used calendarList.list(), it don&#39;t need to set custom calendar id"}], "tags": [], "owner": {"reputation": 474, "user_id": 8713068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a972a6bec2ccc8cbaa72046fa56c5b6?s=128&d=identicon&r=PG&f=1", "display_name": "Karzel", "link": "https://stackoverflow.com/users/8713068/karzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1540881737, "creation_date": 1540881737, "answer_id": 53058710, "question_id": 53057235, "link": "https://stackoverflow.com/questions/53057235/cant-do-setid-when-insert-calendar-calendar-api-for-java/53058710#53058710", "title": "Can&#39;t do setId() when insert calendar (calendar api for java)", "body": "<p>I think the answer to your question is here: \n<a href=\"https://stackoverflow.com/a/23799150/8713068\">https://stackoverflow.com/a/23799150/8713068</a></p>\n\n<p>So basically you cannot set your own ID, Google does it for you.</p>\n\n<p>There you have something about retrieving Calendars ID : \n<a href=\"https://developers.google.com/calendar/v3/reference/calendars\" rel=\"nofollow noreferrer\">https://developers.google.com/calendar/v3/reference/calendars</a></p>\n"}], "owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 53058710, "answer_count": 1, "score": 0, "last_activity_date": 1540881737, "creation_date": 1540872249, "last_edit_date": 1540879728, "question_id": 53057235, "link": "https://stackoverflow.com/questions/53057235/cant-do-setid-when-insert-calendar-calendar-api-for-java", "title": "Can&#39;t do setId() when insert calendar (calendar api for java)", "body": "<p>I can't do <code>setId()</code> when insert a calendar (Calendar api for java).</p>\n\n<p>i recived a errors:</p>\n\n<blockquote>\n  <p>com.google.api.client.googleapis.json.GoogleJsonResponseException: 400\n  Bad Request {   \"code\": 400,   \"errors\": [\n      {\n        \"domain\": \"global\",\n        \"message\": \"Invalid resource id value.\",\n        \"reason\": \"invalid\"\n      }   ],   \"message\": \"Invalid resource id value.\" }</p>\n</blockquote>\n\n<p>My code:</p>\n\n<pre><code>private fun insertCalendar(){\n    object : Thread() {\n        override fun run() {\n            val calendar = com.google.api.services.calendar.model.Calendar()\n                    .setSummary(\"Lich hoc ictu\")\n                    .setDescription(\"Lich hoc ictu\")\n                    .setTimeZone(\"Asia/Ho_Chi_Minh\")\n                    .setId(\"calendarictu@group.calendar.google.com\")\n            service.Calendars().insert(calendar).execute()\n            runOnUiThread {\n                Toast.makeText(this@MainActivity, \"Added\", Toast.LENGTH_LONG).show()\n            }\n        }\n    }.start()\n\n}\n</code></pre>\n"}, {"tags": ["swift", "kotlin", "null", "optional"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 1, "creation_date": 1540870123, "post_id": 53056917, "comment_id": 93013017, "body": "I don&#39;t know about how it applies to Java/kotlin, but in Swift, if you declare a value as been &quot;optional&quot; it places a greater weight on the developer to make decisions about how to handle those values - like unwrapping them or checking for them, as well as compiler level checks.  Many issues in Java and ObjC come down to &quot;assuming&quot; the state of the value, which causes crashes at runtime.  So, optionals is the languages way of making a developer more aware of the potential risk. Optionals also provide a contract to the outside world, letting people know a value may not be initialised"}, {"owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1540870580, "post_id": 53056917, "comment_id": 93013120, "body": "@MadProgrammer Valid reasoning, and not trivial. But can&#39;t this also be fixed by just being explicit with documentation? IE: If a variable is allowed to be null, it is specified so and when in the documentation. If it&#39;s null another time or if you don&#39;t handle the null when it&#39;s supposed to happen, it&#39;s a bug."}, {"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1540870797, "post_id": 53056917, "comment_id": 93013157, "body": "<i>&quot;explicit with documentation&quot;</i> \ud83e\udd23 ... sorry, but I&#39;ve seen too much documentation which contradicts reality.  Through the use of optionals, you are providing &quot;self documenting code&quot;.  An API why be deliberately vague on the subject as either the developer didn&#39;t think to mention yet (and yes, you see this all the time) or the API is abstract enough as to not know if a value could be null or not."}, {"owner": {"reputation": 2557, "user_id": 8441876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR2IW.jpg?s=128&g=1", "display_name": "Smartcat", "link": "https://stackoverflow.com/users/8441876/smartcat"}, "edited": false, "score": 1, "creation_date": 1540871565, "post_id": 53056917, "comment_id": 93013295, "body": "&quot;explicit with documentation&quot;   You always want the compiler to do as much work for you as possible.  Humans aren&#39;t perfect. We rely on these tools to catch our errors.  And far better to catch them during compile than at runtime (or when we finally get around to reading the docs...).  Isn&#39;t an API more useful if you don&#39;t have to read the docs to know the contract of the API?  I&#39;m all for solid and detailed docs, but I&#39;m even more for straightforward APIs without hidden gotchas."}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 1, "creation_date": 1540876161, "post_id": 53056917, "comment_id": 93014424, "body": "This question does not apply to Kotlin. What Kotlin uses normally is <i>explicitly</i> nullable types, <i>explicitly</i> non-null types and null safety operators, not optional types. Although the syntaxes of Swift optional types and Kotlin nullable types are very similar, they are inherently different."}], "answers": [{"comments": [{"owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 0, "creation_date": 1540871675, "post_id": 53057069, "comment_id": 93013322, "body": "In Java, all object references are already dual type. Additionally, I still don&#39;t get under what circumstance you&#39;d want a function to perform if you give it invalid input. <code>foo(null)</code> or <code>foo({unassigned optional})</code> <i>should</i> throw an error."}, {"owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 0, "creation_date": 1540871712, "post_id": 53057069, "comment_id": 93013327, "body": "That they encourage in-code documentation is a logical reason though."}, {"owner": {"reputation": 2557, "user_id": 8441876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR2IW.jpg?s=128&g=1", "display_name": "Smartcat", "link": "https://stackoverflow.com/users/8441876/smartcat"}, "reply_to_user": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 0, "creation_date": 1540871842, "post_id": 53057069, "comment_id": 93013359, "body": "Right. In Swift I can pass in an object that is <i>not</i> optional, is the point.  The receiving code need not check for nil to validate the object.  As for foo(nil), it shouldn&#39;t be hard to imagine a method that optionally accepts a parameter... if the caller chooses to pass in nil for the parameter, the method carries on without it."}, {"owner": {"reputation": 8318, "user_id": 763546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9WXnH.jpg?s=128&g=1", "display_name": "Mike Taverne", "link": "https://stackoverflow.com/users/763546/mike-taverne"}, "edited": false, "score": 2, "creation_date": 1540874606, "post_id": 53057069, "comment_id": 93013997, "body": "Bingo! &quot;Those who code in Swift try to always make their functions and properties non-optional whenever they can, unless they truly have a reason for making them optional.&quot; The real benefit of optionals is the ability to declare non-optionals! It&#39;s so much easier and safer to code with non-optionals. There are zillions of situations where optionals (variables that can be null) aren&#39;t needed. Great answer."}, {"owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "reply_to_user": {"reputation": 8318, "user_id": 763546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9WXnH.jpg?s=128&g=1", "display_name": "Mike Taverne", "link": "https://stackoverflow.com/users/763546/mike-taverne"}, "edited": false, "score": 0, "creation_date": 1540875065, "post_id": 53057069, "comment_id": 93014121, "body": "@MikeTaverne That clears it up a lot actual, thanks. I eventual got that from Smartcat&#39;s answer, but it took a few minutes."}], "tags": [], "owner": {"reputation": 2557, "user_id": 8441876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR2IW.jpg?s=128&g=1", "display_name": "Smartcat", "link": "https://stackoverflow.com/users/8441876/smartcat"}, "is_accepted": true, "score": 2, "last_activity_date": 1540875019, "last_edit_date": 1540875019, "creation_date": 1540870909, "answer_id": 53057069, "question_id": 53056917, "link": "https://stackoverflow.com/questions/53056917/why-are-null-checks-bad-why-would-i-want-an-optional-to-succeed-if-its-null/53057069#53057069", "title": "Why are null checks bad / why would I want an optional to succeed if it&#39;s null?", "body": "<p>Optionals provide clarity of type.  An Int stores an actual value - always, whereas an Optional Int (i.e. Int?) stores either the value of an Int or a nil.  This explicit \"dual\" type, so to speak, allows you to craft a simple function that can clearly declare what it will accept and return.  If your function is to simply accept an actual Int and return an actual Int, then great.  </p>\n\n<pre><code>func foo(x: Int) -&gt; Int\n</code></pre>\n\n<p>But if your function wants to allow the return value to be nil, and the parameter to be nil, it must do so by explicitly making them optional:</p>\n\n<pre><code>func foo(x: Int?) -&gt; Int?\n</code></pre>\n\n<p>In other languages such as Objective-C, objects can always be nil instead. Pointers in C++ can be nil, too.  And so any object you receive in Obj-C or any pointer you receive in C++ ought to be checked for nil, just in case it's not what your code was expecting (a real object or pointer).</p>\n\n<p>In Swift, the point is that you can declare object types that are non-optional, and thus whatever code you hand those objects to don't need to do any checks.  They can just safely just use those objects and know they are non-null.  That's part of the power of Swift optionals. And if you receive an optional, you must explicitly unpack it to its value when you need to access its value. Those who code in Swift try to always make their functions and properties non-optional whenever they can, unless they truly have a reason for making them optional.</p>\n\n<p>The other beautiful thing about Swift optionals is all the built-in language constructs for dealing with optionals to make the code faster to write, cleaner to read, more compact... taking a lot of the hassle out of having to check and unpack an optional and the equivalent of that you'd have to do in other languages.</p>\n\n<p>The nil-coalescing operator (??) is a great example, as are if-let and guard and many others.</p>\n\n<p>In summary, optionals encourage and enforce more explicit type-checking in your code - type-checking that's done by by the compiler rather than at runtime.  Sure you can write \"clean\" code in any language, but it's just a lot simpler and more automatic to do so in Swift, thanks in big part to its optionals (and its non-optionals too!).</p>\n"}, {"comments": [{"owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 0, "creation_date": 1540872297, "post_id": 53057135, "comment_id": 93013464, "body": "1) If you&#39;re unintentionally passing a null, you <i>should</i> get an error. This is a bug."}, {"owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 0, "creation_date": 1540872440, "post_id": 53057135, "comment_id": 93013485, "body": "2) You should assume that a variable isn&#39;t null unless there is a valid scenario in which it could be. And in that case you should be checking for a null value. 3) Swift has given me many issues about assuming optionals are not null in functions, etc. Maybe this is just a Swift thing though."}, {"owner": {"reputation": 1440, "user_id": 1013079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db03c920311843f46263abdfdee45448?s=128&d=identicon&r=PG", "display_name": "HAK", "link": "https://stackoverflow.com/users/1013079/hak"}, "reply_to_user": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 0, "creation_date": 1540875678, "post_id": 53057135, "comment_id": 93014299, "body": "@Prime624 1)Yes that is a bug in swift but not in other languages. That is why optionals are useful. 2) Well, if I am passing around a variable, I shouldn&#39;t bother to check if it is a null but if I am to use it I need to check if it has a valid value. So it seems to be pretty much always the case. 3) It was hard to digest the concept of optionals at the start but the more I started using optionals wisely my apps stoped crashing due unknown reasons which included empty responses from server, wrong JSON format, etc."}], "tags": [], "owner": {"reputation": 1440, "user_id": 1013079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db03c920311843f46263abdfdee45448?s=128&d=identicon&r=PG", "display_name": "HAK", "link": "https://stackoverflow.com/users/1013079/hak"}, "is_accepted": false, "score": 0, "last_activity_date": 1540871372, "creation_date": 1540871372, "answer_id": 53057135, "question_id": 53056917, "link": "https://stackoverflow.com/questions/53056917/why-are-null-checks-bad-why-would-i-want-an-optional-to-succeed-if-its-null/53057135#53057135", "title": "Why are null checks bad / why would I want an optional to succeed if it&#39;s null?", "body": "<ol>\n<li><p>Avoids error at compile time. So that you don't pass unintentionally nulls.</p></li>\n<li><p>In Java, any variable can be null. So it becomes a ritual to check for null before using it. While in swift, only optional can be null. So you have to check only optional for a possible null value.</p></li>\n<li><p>You don't always have to check an optional. You can work equally well on optionals without unwrapping them. Sending a method to optional with null value does not break the code. </p></li>\n</ol>\n\n<p>There can be more but those are the ones that help a lot.</p>\n"}, {"tags": [], "owner": {"reputation": 119716, "user_id": 643383, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uQ5JF.png?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/643383/caleb"}, "is_accepted": false, "score": 0, "last_activity_date": 1540904192, "last_edit_date": 1540904192, "creation_date": 1540876445, "answer_id": 53057823, "question_id": 53056917, "link": "https://stackoverflow.com/questions/53056917/why-are-null-checks-bad-why-would-i-want-an-optional-to-succeed-if-its-null/53057823#53057823", "title": "Why are null checks bad / why would I want an optional to succeed if it&#39;s null?", "body": "<p><strong>TL/DR:</strong> The null checks that you say can be avoided with clean programming can also be avoided <em>in a much more rigorous way</em> by the compiler. And the null checks that you say are necessary can be enforced <em>in a much more rigorous way</em> by the compiler. Optionals are the type construct that make that possible.</p>\n\n<hr>\n\n<blockquote>\n  <p><code>var length = text?.length</code></p>\n</blockquote>\n\n<p>This is actually a good example of one way that optionals are useful. If text doesn't have a value, then it can't have a length either. In Objective-C, if <code>text</code> is nil, then any message you send it does nothing and returns 0. That fact was sometimes useful and it made it possible to skip a lot of nil checking, but it could also lead to subtle errors.</p>\n\n<p>On the other hand, many other languages point out the fact that you've sent a message to a nil pointer by helpfully crashing immediately when that code executes. That makes it a little easier to pinpoint the problem during development, but run time errors aren't so great when they happen to users.</p>\n\n<p>Swift takes a different approach: if <code>text</code> doesn't point to something that has a length, then <em>there is no length</em>. An optional isn't a pointer, it's a kind of type that either has a value or doesn't have a value. You might assume that the variable <code>length</code> is an <code>Int</code>, but it's actually an <code>Int?</code>, which is a completely different type.</p>\n\n<blockquote>\n  <p>If I call the length function, I expect it to contain a length. If it doesn't, the code should deal with it right there, not continue on.</p>\n</blockquote>\n\n<p>If <code>text</code> is nil then there is no object to send the <code>length</code> message to, so <code>length</code> never even gets called and the result is nil. Sometimes that's fine \u2014\u00a0it makes sense that if there's no <code>text</code>, there can't be a <code>length</code> either. You may not care about that \u2014 if you were preparing to draw the characters in <code>text</code>, then the fact that there's no <code>length</code> won't bother you because there's nothing to draw anyway. The optional status of both <code>text</code> and <code>length</code> forces you to deal with the fact that those variables don't have values at the point where you need the values.</p>\n\n<p>Let's look at a slightly more concrete version:</p>\n\n<pre><code>var text : String? = \"foo\"\nvar length : Int? = text?.count\n</code></pre>\n\n<p>Here, <code>text</code> has a value, so <code>length</code> also gets a value, but <code>length</code> is still an optional, so at some point in the future you'll have to check that a value exists before you use it.</p>\n\n<pre><code>var text : String? = nil\nvar length : Int? = text?.count\n</code></pre>\n\n<p>In the example above, <code>text</code> is nil, so <code>length</code> also gets nil. Again, you have to deal with the fact that both <code>text</code> and <code>length</code> might not have values before you try to use those values.</p>\n\n<pre><code>var text : String? = \"foo\"\nvar length : Int = text.count\n</code></pre>\n\n<p>Guess what happens here? The compiler says <strong><em>Oh no you don't!</em></strong> because <code>text</code> is an optional, which means that any value you get from it must also be optional. But the code specifies <code>length</code> as a non-optional <code>Int</code>. Having the compiler point out this mistake at compile time is <em>so much nicer</em> than having a user point it out much later.</p>\n\n<pre><code>var text : String? = \"foo\"\nvar length : Int = text!.count\n</code></pre>\n\n<p>Here, the <code>!</code> tells the compiler that you think you know what you're doing. After all, you <em>just</em> assigned an actual value to <code>text</code>, so it's pretty safe to assume that <code>text</code> is not nil. You might write code like this because you want to allow for the fact that <code>text</code> might later become nil. Don't force-unwrap optionals if you don't know for certain, because...</p>\n\n<pre><code>var text : String? = nil\nvar length : Int = text!.count\n</code></pre>\n\n<p>...if <code>text</code> <em>is</em> nil, then you've betrayed the compiler's trust, and you deserve the run time error that you (and your users) get:</p>\n\n<pre><code>error: Execution was interrupted, reason: EXC_BAD_INSTRUCTION (code=EXC_I386_INVOP, subcode=0x0)\n</code></pre>\n\n<p>Now, if <code>text</code> is <em>not</em> optional, then life is pretty simple:</p>\n\n<pre><code>var text : String = \"foo\"\nvar length : Int = text.count\n</code></pre>\n\n<p>In this case, you <em>know</em> that <code>text</code> and <code>length</code> are both safe to use without any checking because they cannot possibly be nil. You don't have to be careful to be \"clean\" -- you literally can't assign anything that's not a valid <code>String</code> to <code>text</code>, and every <code>String</code> has a <code>count</code>, so <code>length</code> will get a value.</p>\n\n<blockquote>\n  <p>Why would I ever want to use optionals instead of nulls?</p>\n</blockquote>\n\n<p>Back in the old days of Objective-C, we used to manage memory manually. There was a <a href=\"https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmRules.html\" rel=\"nofollow noreferrer\">small number of simple rules</a>, and if you followed the rules rigorously, then Objective-C's retain counting system worked very well. But even the best of us would occasionally slip up, and sometimes complex situations arose in which it was hard to know exactly what to do. A huge portion of Objective-C questions on StackOverflow and other forums related to the memory management rules. Then Apple introduced ARC (automatic retain counting), in which the compiler took over responsibility for retaining and releasing objects, and memory management became <em>much</em> simpler. I'll bet fewer than 1% of Objective-C and Swift questions here on SO relate to memory management now.</p>\n\n<p><strong>Optionals are like that:</strong> they shift responsibility for keeping track of whether a variable has, doesn't have, or can't possibly not have a value from the programmer to the compiler.</p>\n"}], "owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 53057069, "answer_count": 3, "score": 4, "last_activity_date": 1540904192, "creation_date": 1540869763, "question_id": 53056917, "link": "https://stackoverflow.com/questions/53056917/why-are-null-checks-bad-why-would-i-want-an-optional-to-succeed-if-its-null", "title": "Why are null checks bad / why would I want an optional to succeed if it&#39;s null?", "body": "<p>I've read more than a few answers to similar questions as well as a few tutorials, but none address my main confusion. I'm a native Java coder, but I've programmed in Swift as well.</p>\n\n<p>Why would I ever want to use optionals instead of nulls?</p>\n\n<p>I've read that it's so there are less null checks and errors, but these are necessary or easily avoided with clean programming.</p>\n\n<p>I've also read it's so all references succeed (<a href=\"https://softwareengineering.stackexchange.com/a/309137/227611\">https://softwareengineering.stackexchange.com/a/309137/227611</a> and <code>val length = text?.length</code>). But I'd argue this is a bad thing or a misnomer. If I call the length function, I expect it to contain a length. If it doesn't, the code should deal with it right there, not continue on.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "retrofit2", "reactivex"], "comments": [{"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540863824, "post_id": 53056093, "comment_id": 93011686, "body": "Can you add <code>Team</code> class?"}, {"owner": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "reply_to_user": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540863902, "post_id": 53056093, "comment_id": 93011700, "body": "done. i added it"}], "answers": [{"comments": [{"owner": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "edited": false, "score": 0, "creation_date": 1540865895, "post_id": 53056278, "comment_id": 93012085, "body": "and in <code>(listOf(it.results)</code> it says required <code>List&lt;Team&gt;</code> so i change it without <code>listOf()</code>"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "reply_to_user": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "edited": false, "score": 0, "creation_date": 1540866116, "post_id": 53056278, "comment_id": 93012128, "body": "I edited answer. Change <code>getClient</code> to Kotlin and remove <code>listOf()</code>"}, {"owner": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "edited": false, "score": 0, "creation_date": 1540866355, "post_id": 53056278, "comment_id": 93012186, "body": "it says error like this <code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter postList                       at com.mqa.android.footballmatchschedule.MainAdapter.&lt;init&gt;(Mai&zwnj;&#8203;nAdapter.kt:19)                       at com.mqa.android.footballmatchschedule.LastActivity$onCreateV&zwnj;&#8203;iew$2.accept(LastAct&zwnj;&#8203;ivity.kt:93)                       at com.mqa.android.footballmatchschedule.LastActivity$onCreateV&zwnj;&#8203;iew$2.accept(LastAct&zwnj;&#8203;ivity.kt:37)</code>"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "reply_to_user": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "edited": false, "score": 0, "creation_date": 1540866576, "post_id": 53056278, "comment_id": 93012236, "body": "Check response in LogCat. Get you correct response?"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "reply_to_user": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "edited": false, "score": 0, "creation_date": 1540866614, "post_id": 53056278, "comment_id": 93012251, "body": "It seems that results is <code>null</code>"}, {"owner": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "edited": false, "score": 0, "creation_date": 1540866867, "post_id": 53056278, "comment_id": 93012299, "body": "actually it get the correct response but i dont know why it still doesn&#39;t work <code>&quot;results&quot;:[{&quot;idEvent&quot;:&quot;576561&quot;,&quot;idSoccerXML&quot;:&quot;389946&quot;,......&zwnj;&#8203;.....</code>"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "reply_to_user": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "edited": false, "score": 0, "creation_date": 1540867558, "post_id": 53056278, "comment_id": 93012445, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/182759/discussion-between-p-alexey-and-qubaisy-andiyantama\">continue this discussion in chat</a>."}, {"owner": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "edited": false, "score": 0, "creation_date": 1540867575, "post_id": 53056278, "comment_id": 93012450, "body": "what&#39;s parameter that they said null? is the json cannot be null?"}], "tags": [], "owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "is_accepted": false, "score": 0, "last_activity_date": 1540870178, "last_edit_date": 1540870178, "creation_date": 1540864239, "answer_id": 53056278, "question_id": 53056093, "link": "https://stackoverflow.com/questions/53056093/how-to-parse-json-data-using-retrofit-and-rx/53056278#53056278", "title": "How to parse JSON data using retrofit and rx?", "body": "<p>Your API response have this structure:\n<a href=\"https://i.stack.imgur.com/4l7JL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4l7JL.png\" alt=\"enter image description here\"></a></p>\n\n<p>You need to do more complex model. For example you can do <code>TeamResponse</code> class: </p>\n\n<pre><code>data class TeamResponse(var results: List&lt;Team&gt;)\n</code></pre>\n\n<p>And change <code>INetworkAPI</code> to:</p>\n\n<pre><code>interface INetworkAPI {\n  @GET(\"api/v1/json/1/eventslast.php?id=133602\")\n  fun getAllPosts(): Observable&lt;TeamResponse&gt;\n}\n</code></pre>\n\n<p>Then in your fragment:</p>\n\n<pre><code>response\n   .observeOn(AndroidSchedulers.mainThread())\n   .subscribeOn(IoScheduler())\n   .subscribe {\n      rv__list_posts.adapter = MainAdapter(it.results, this.requireContext())\n   }\n</code></pre>\n\n<p><strong>EDIT:</strong>\nYou can see all your api interaction in LogCat (you will can see requests and responses). For it add dependency:</p>\n\n<pre><code> implementation \"com.squareup.okhttp3:logging-interceptor:3.9.1\"\n</code></pre>\n\n<p>And then change retrofit builder:</p>\n\n<pre><code>val retrofit = Retrofit.Builder().addConverterFactory(GsonConverterFactory.create(GsonBuilder().create()))\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .baseUrl(\"https://www.thesportsdb.com/\")\n        .client(getClient())\n        .build()\n</code></pre>\n\n<p><code>getClient()</code> code:</p>\n\n<pre><code>private fun getClient(): OkHttpClient {\n    val clientBuilder = OkHttpClient.Builder();\n    if (BuildConfig.DEBUG) {\n        val loggingInterceptor = HttpLoggingInterceptor();\n        loggingInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n        clientBuilder.addInterceptor(loggingInterceptor);\n    }\n    return clientBuilder.build();\n}\n</code></pre>\n\n<p>And change all Int fields from <code>Team</code> model to String (all of these are String in response).</p>\n"}], "owner": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 656, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540884223, "creation_date": 1540862600, "last_edit_date": 1540884223, "question_id": 53056093, "link": "https://stackoverflow.com/questions/53056093/how-to-parse-json-data-using-retrofit-and-rx", "title": "How to parse JSON data using retrofit and rx?", "body": "<p>I'm trying to get the data from JSON using retrofit and rx. I followed <a href=\"http://developine.com/kotlin-android-json-parsing-tutorial-retrofit/\" rel=\"nofollow noreferrer\">this tutorial</a>. But the JSON from that tutorial is a little different from mine. So I just changed how to parse it a bit. But if I get the JSON or not because I don't know how I know that the JSON is already called or not and in app it didn't show anything. </p>\n\n<p>If anyone knows how it works and how to make the parse, Please guide me.</p>\n\n<p>This is my code where I want to parse the JSON data in fragment.</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    rv__list_posts?.layoutManager = LinearLayoutManager(this.requireContext())\n\n    val retrofit = Retrofit.Builder().addConverterFactory(GsonConverterFactory.create(GsonBuilder().create()))\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .baseUrl(\"https://www.thesportsdb.com/\").build()\n\n    val postsApi = retrofit.create(INetworkAPI::class.java)\n\n    var response = postsApi.getAllPosts()\n\n    response.observeOn(AndroidSchedulers.mainThread()).subscribeOn(IoScheduler()).subscribe {\n        rv__list_posts.adapter = MainAdapter(listOf(it), this.requireContext())\n    }\n}\n</code></pre>\n\n<p>This is my interface:</p>\n\n<pre><code>interface INetworkAPI {\n  @GET(\"api/v1/json/1/eventslast.php?id=133602\")\n  fun getAllPosts(): Observable&lt;Team&gt;\n}\n</code></pre>\n\n<p>This is the adapter:</p>\n\n<pre><code>class MainAdapter(val postList: List&lt;Team&gt;, val context: Context) :\n  RecyclerView.Adapter&lt;MainAdapter.ViewHolder&gt;() {\n\n  override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): \n  ViewHolder {\n    return \n    ViewHolder(LayoutInflater.from(context).inflate(R.layout.item_layout,parent,false))\n  }\n\n  override fun getItemCount(): Int {\n      return 10\n  }\n\n  override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.itemView.home_team.text = postList.get(position).homeTeam\n    holder.itemView.home_score.text = postList.get(position).homeScore.toString()\n    holder.itemView.away_team.text = postList.get(position).awayTeam\n    holder.itemView.away_score.text = postList.get(position).awayScore.toString()\n  }\n  class ViewHolder(view: View) : RecyclerView.ViewHolder(view)\n}\n</code></pre>\n\n<p>Appreciate your help.</p>\n"}, {"tags": ["kotlin", "scripting", "jsr223", "jvm-languages", "javax.script"], "answers": [{"comments": [{"owner": {"reputation": 769, "user_id": 1413900, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2147c68b7ec5d32424a717c801525d56?s=128&d=identicon&r=PG", "display_name": "Travis Well", "link": "https://stackoverflow.com/users/1413900/travis-well"}, "edited": false, "score": 0, "creation_date": 1541102740, "post_id": 53084179, "comment_id": 93112487, "body": "Seemed like a promising suggestion, but didn&#39;t help (still just Nashorn available from that ScriptEngineManager). Did it work for you?"}, {"owner": {"reputation": 15256, "user_id": 43786, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40d8767cf48359c6e880fb66a6916de6?s=128&d=identicon&r=PG", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/43786/nicholas"}, "reply_to_user": {"reputation": 769, "user_id": 1413900, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2147c68b7ec5d32424a717c801525d56?s=128&d=identicon&r=PG", "display_name": "Travis Well", "link": "https://stackoverflow.com/users/1413900/travis-well"}, "edited": false, "score": 0, "creation_date": 1541105131, "post_id": 53084179, "comment_id": 93113496, "body": "Uh, no. Not kotlin enabled. But had the same issue with 3rd party script jars. Now that I think about it, though, I think you also need a <i>services</i> file in the library jar since script engines use the service locator to find implementations. Let me dig up an example."}, {"owner": {"reputation": 769, "user_id": 1413900, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2147c68b7ec5d32424a717c801525d56?s=128&d=identicon&r=PG", "display_name": "Travis Well", "link": "https://stackoverflow.com/users/1413900/travis-well"}, "edited": false, "score": 0, "creation_date": 1541352858, "post_id": 53084179, "comment_id": 93178536, "body": "If that&#39;s true, it would be a bug with the &#39;kotlin-compiler-embeddable&#39; dependency. Maybe I&#39;ll try to fix it."}, {"owner": {"reputation": 769, "user_id": 1413900, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2147c68b7ec5d32424a717c801525d56?s=128&d=identicon&r=PG", "display_name": "Travis Well", "link": "https://stackoverflow.com/users/1413900/travis-well"}, "edited": false, "score": 0, "creation_date": 1541535521, "post_id": 53084179, "comment_id": 93248830, "body": "I could do this just by adding the text file in the resources directory of my code repo. <code>mkdir -pv src&#47;main&#47;resources&#47;META-INF&#47;services</code> and then <code>echo org.jetbrains.kotlin.script.jsr223.KotlinJsr223JvmLocalScrip&zwnj;&#8203;tEngineFactory &gt; src&#47;main&#47;resources&#47;META-INF&#47;services&#47;javax.script.ScriptEngi&zwnj;&#8203;neFactory</code>"}], "tags": [], "owner": {"reputation": 15256, "user_id": 43786, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40d8767cf48359c6e880fb66a6916de6?s=128&d=identicon&r=PG", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/43786/nicholas"}, "is_accepted": true, "score": 1, "last_activity_date": 1541470571, "last_edit_date": 1541470571, "creation_date": 1540991488, "answer_id": 53084179, "question_id": 53055500, "link": "https://stackoverflow.com/questions/53055500/how-do-i-retrieve-kotlin-jsr223-script-engine-from-scriptenginemanager/53084179#53084179", "title": "How do I retrieve Kotlin jsr223 script engine from ScriptEngineManager?", "body": "<p>It looks like the kotlin script engine is not in the default classloader, so you need to specify a classloader when instantiating the ScriptEngineManager:</p>\n\n<p>ScriptEngineManager(clazz.getClassLoader())\ngetEngineByName(engineName)?.factory</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>In Java 8, if you look at <strong>$JAVA_HOME/jre/lib/ext/nashorn.jar</strong> in the path <strong>META_INF/services</strong> there is a file called <strong>javax.script.ScriptEngineFactory</strong>. The contents are: </p>\n\n<pre><code>jdk.nashorn.api.scripting.NashornScriptEngineFactory\n</code></pre>\n\n<p>So when the <code>ScriptEngineManager</code> looks for <code>ScriptEngine</code> implementations, it scans the classpath for entries named <code>/META-INF/services/javax.script.ScriptEngineFactory</code> and loads the class names from each one found.</p>\n\n<p>Normally, the jar containing your targeted script engine would contain its own services file, but, if your kotlin script engine is already in the class path, I think you could just create a classpath resource called <code>/META-INF/services/javax.script.ScriptEngineFactory</code> with the plain text context of </p>\n\n<pre><code>org.jetbrains.kotlin.script.jsr223.KotlinJsr223JvmLocalScriptEngineFactory\n</code></pre>\n\n<p>and you should be good to go. Also, you would not need any of the code you provided in your example above the comment <code>// so far so good, but here's the problem:</code>.</p>\n"}], "owner": {"reputation": 769, "user_id": 1413900, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2147c68b7ec5d32424a717c801525d56?s=128&d=identicon&r=PG", "display_name": "Travis Well", "link": "https://stackoverflow.com/users/1413900/travis-well"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1810, "favorite_count": 0, "accepted_answer_id": 53084179, "answer_count": 1, "score": 0, "last_activity_date": 1541470571, "creation_date": 1540857153, "question_id": 53055500, "link": "https://stackoverflow.com/questions/53055500/how-do-i-retrieve-kotlin-jsr223-script-engine-from-scriptenginemanager", "title": "How do I retrieve Kotlin jsr223 script engine from ScriptEngineManager?", "body": "<p>I'm trying to write an interface (GUI) to run some Kotlin scripts. I'm starting with just a Junit test to ensure that I can execute a script. I can't even load the kotlin engine. It seems like my dependencies (gradle) are in order, but you can double check that.</p>\n\n<pre><code>compile name: 'kotlin-script-runtime',\n    group: 'org.jetbrains.kotlin', version: kotlin_version\ncompile name: 'kotlin-script-util',\n    group: 'org.jetbrains.kotlin', version: kotlin_version\ncompile name: 'kotlin-compiler-embeddable',\n    group: 'org.jetbrains.kotlin', version: kotlin_version\n</code></pre>\n\n<p>above: <code>ext.kotlin_version = '1.3.0'</code></p>\n\n<p>Here is the failing test:</p>\n\n<pre><code>@Test\nfun testEngine() {\n  // attempt to load script engine class before looking for it\n  val ktsEngineClassName = \"org.jetbrains.kotlin.script.jsr223.KotlinJsr223JvmLocalScriptEngine\";\n  var clazz: Class&lt;*&gt;? = null;\n  // assign the clazz variable inside a closure to catch ClassNotFound\n  assertDoesNotThrow({clazz = Class.forName(ktsEngineClassName)}, \"could not find $ktsEngineClassName\")\n  // just to make sure it's there\n  assertNotNull(clazz, \"could not find $ktsEngineClassName\")\n\n  // so far so good, but here's the problem:\n  val engineName = \"kotlin\"\n  // load the factory\n  val factory = ScriptEngineManager().getEngineByName(engineName)?.factory\n  // and test that we got it\n  assertNotNull(factory, \"didn't find factory for '$engineName'.\" +\n      \"\\navailable: ${ScriptEngineManager().engineFactories}\")\n}\n</code></pre>\n\n<p>That last <code>assertNotNull</code> fails with the following output:</p>\n\n<pre><code>org.opentest4j.AssertionFailedError: didn't find factory for 'kotlin'.\navailable: [jdk.nashorn.api.scripting.NashornScriptEngineFactory@1a41b1fc] ==&gt; expected: not &lt;null&gt;\n</code></pre>\n\n<p>You can see that, although the script engine class seems to load via <code>Class.forName</code> successfully, the name <code>kotlin</code> is not registered, and the list of available engines contains Nashorn only. How do I ensure that the engine is registered?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540868489, "post_id": 53055495, "comment_id": 93012659, "body": "App crashed after the above change.          override fun onBindViewHolder(holder: MovieViewHolder, position: Int) {             holder.bindModel(movies[position])             val moviecount: String = holder.movieCount.toString()         }    inner class MovieViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {             val movieCount:TextView=itemView.findViewById(R.id.movieCount) }   fun bindModel(movie: Movie) {                            movieCount.text= movie.count.toString() }"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540869833, "post_id": 53055495, "comment_id": 93012958, "body": "Did you implement <code>onCreateViewHolder</code> method?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540869915, "post_id": 53055495, "comment_id": 93012973, "body": "override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MovieViewHolder {             return MovieViewHolder(layoutInflater.inflate(R.layout.movie_menu_l&zwnj;&#8203;ayout, parent, false))         }"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540870202, "post_id": 53055495, "comment_id": 93013039, "body": "kotlin.KotlinNullPointerException"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540870291, "post_id": 53055495, "comment_id": 93013063, "body": "Maybe your <code>movies[position]</code> are null?"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540870344, "post_id": 53055495, "comment_id": 93013073, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/182760/discussion-between-p-alexey-and-josh\">continue this discussion in chat</a>."}, {"owner": {"reputation": 131, "user_id": 10209025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7LTwdOg3ZcU/AAAAAAAAAAI/AAAAAAAAACM/gZkrkx3NOig/photo.jpg?sz=128", "display_name": "Sreedev P R", "link": "https://stackoverflow.com/users/10209025/sreedev-p-r"}, "edited": false, "score": 0, "creation_date": 1540872296, "post_id": 53055495, "comment_id": 93013463, "body": "Try holder.addtocount.text.toString()"}], "tags": [], "owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "is_accepted": false, "score": 1, "last_activity_date": 1540857106, "creation_date": 1540857106, "answer_id": 53055495, "question_id": 53055389, "link": "https://stackoverflow.com/questions/53055389/retrieve-a-textview-value-inside-a-adapter-class-in-kotlin/53055495#53055495", "title": "Retrieve a TextView Value inside a Adapter Class in Kotlin", "body": "<p>You need to define all your adapter views in the viewHolder class:</p>\n\n<pre><code>class MovieViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    val addtocount: TextView = itemView.findViewById(R.id.movieCount)\n}\n</code></pre>\n\n<p>And do your logic in the adapter in <code>onBindViewHolder</code> method:</p>\n\n<pre><code>class MoviesAdapter : RecyclerView.Adapter&lt;MoviesAdapter.MovieViewHolder&gt;() {\n\n    override fun onBindViewHolder(holder: MovieViewHolder, position: Int) {\n        // here you can access to holder and all it views\n        val testcount: String = holder.addtocount.toString()\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540931814, "post_id": 53062146, "comment_id": 93043461, "body": "Fantastic :) This is what I am looking for."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 1, "last_activity_date": 1540895040, "creation_date": 1540895040, "answer_id": 53062146, "question_id": 53055389, "link": "https://stackoverflow.com/questions/53055389/retrieve-a-textview-value-inside-a-adapter-class-in-kotlin/53062146#53062146", "title": "Retrieve a TextView Value inside a Adapter Class in Kotlin", "body": "<p>I assume that the textview's id is  <code>movieCount</code> and this is what you need inside the adapter.  <br/>\nIn your activity create this method:</p>\n\n<pre><code>fun getCount(): String {\n    return movieCount.text.toString()\n}\n</code></pre>\n\n<p>Change the adapter's header like:</p>\n\n<pre><code>inner class MoviesAdapter(context: Context) : RecyclerView.Adapter&lt;MoviesAdapter.MovieViewHolder&gt;()\n</code></pre>\n\n<p>and right below it add this line:</p>\n\n<pre><code>val activity: MainActivity = context as MainActivity\n</code></pre>\n\n<p>change <code>MainActivity</code> to your activity's class name.  <br/>\nNow whenever you want <code>movieCount</code>'s text inside the adapter, just call:</p>\n\n<pre><code>activity.getCount()\n</code></pre>\n\n<p>You must change the instantiation of the adapter in your activity class because now you have to pass the context of the activity, so do something like:</p>\n\n<pre><code>recyclerview.adapter = MoviesAdapter(this)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 0, "accepted_answer_id": 53062146, "answer_count": 2, "score": 0, "last_activity_date": 1540895040, "creation_date": 1540856214, "question_id": 53055389, "link": "https://stackoverflow.com/questions/53055389/retrieve-a-textview-value-inside-a-adapter-class-in-kotlin", "title": "Retrieve a TextView Value inside a Adapter Class in Kotlin", "body": "<p>I have a add and a sub button in my activity, which will increase and decrease the count when the button is pressed. How to get the current value of my textview inside the Adapter class.</p>\n\n<pre><code>inner class MoviesAdapter : RecyclerView.Adapter&lt;MoviesAdapter.MovieViewHolder&gt;() {\n\n            val addtocount: TextView=itemView.findViewById(R.id.movieCount)\n\n            val testcount:String=addtocount.toString()\n}\n\n    public  fun add(view:View)\n    {\n        movieCount.setText(\"\"+id)\n        movieCount.setText(\"\" + ++id)\n        println(\"Final Count is $id\")\n\n    }\n    fun sub(view: View)\n    {\n        if (id&gt;0) {\n            movieCount.setText(\"\" + --id)\n        }\n        else\n        {\n            id=0\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 2, "last_activity_date": 1540859589, "creation_date": 1540859589, "answer_id": 53055764, "question_id": 53054543, "link": "https://stackoverflow.com/questions/53054543/rxrelay-switches-back-to-main-thread-after-second-accept-call/53055764#53055764", "title": "RxRelay switches back to main thread after second accept call", "body": "<p>The <code>OnClickListener</code> is called on the main thread, so <code>refreshPlaylists.accept(Unit)</code> is also called on the main thread.</p>\n\n<p>The <code>subscribeOn()</code> operator has only effect on the subscription. Everything accepted afterwards will not regard this. Instead it will be emitted on the same thread as the call to <code>accept()</code>.</p>\n\n<p>Use <code>observeOn()</code> instead to change the thread the emitted values are observed on.</p>\n"}], "owner": {"reputation": 3042, "user_id": 2787507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lv63g.jpg?s=128&g=1", "display_name": "nutella_eater", "link": "https://stackoverflow.com/users/2787507/nutella-eater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540859589, "creation_date": 1540850661, "last_edit_date": 1540859204, "question_id": 53054543, "link": "https://stackoverflow.com/questions/53054543/rxrelay-switches-back-to-main-thread-after-second-accept-call", "title": "RxRelay switches back to main thread after second accept call", "body": "<p>I'm using a popular library called <a href=\"https://github.com/JakeWharton/RxRelay\" rel=\"nofollow noreferrer\"><code>RxRelay</code></a>.</p>\n\n<pre><code>private val refreshPlaylists = ReplayRelay.create&lt;Unit&gt;()\n\nrefreshPlaylists\n    .map&lt;Unit&gt; { refresh -&gt;\n        Log.d(\"Activity\", Thread.currentThread().name)\n    }\n    .subscribeOn(Schedulers.io())\n    .subscribe()\n\nrefreshPlaylists.accept(Unit)\n\nrelayCheck.setOnClickListener {\n    refreshPlaylists.accept(Unit)\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>first accept: RxCachedThreadScheduler-2\nonClickAccept: main\nonClickAcceptSecond: main\n</code></pre>\n\n<p>Why is that?</p>\n"}, {"tags": ["java", "unity3d", "kotlin", "augmented-reality", "arcore"], "comments": [{"owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "edited": false, "score": 0, "creation_date": 1568703911, "post_id": 53053083, "comment_id": 102348155, "body": "how to do this for android?"}], "answers": [{"comments": [{"owner": {"reputation": 266, "user_id": 1193873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db18e65970aac57e87e3e79c90d5f4e2?s=128&d=identicon&r=PG", "display_name": "Mikiko Jane", "link": "https://stackoverflow.com/users/1193873/mikiko-jane"}, "edited": false, "score": 1, "creation_date": 1540873526, "post_id": 53055096, "comment_id": 93013738, "body": "Thanks. Although it seems weird to have to destroy and recreate a component instead of just resetting the session, it works and it is enough for my game. I appreciate the help."}, {"owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "edited": false, "score": 0, "creation_date": 1568699735, "post_id": 53055096, "comment_id": 102346466, "body": "sorry I don&#39;t understand how to use this piece of code."}, {"owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "edited": false, "score": 0, "creation_date": 1570775396, "post_id": 53055096, "comment_id": 103027548, "body": "any solution for Android?"}, {"owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "edited": false, "score": 0, "creation_date": 1570777700, "post_id": 53055096, "comment_id": 103028429, "body": "hmm ok buddy i&#39;ll post a question."}], "tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": true, "score": 3, "last_activity_date": 1540853824, "creation_date": 1540853824, "answer_id": 53055096, "question_id": 53053083, "link": "https://stackoverflow.com/questions/53053083/how-to-reset-or-restart-the-arcore-session/53055096#53055096", "title": "How to reset or restart the ARCore session?", "body": "<p>Try <code>DestroyImmediate(session)</code> or <code>Destroy(session)</code>. One of them may work.</p>\n\n<pre><code>ARCoreSession session = goARCoreDevice.GetComponent&lt;ARCoreSession&gt;();\nARCoreSessionConfig myConfig = session.SessionConfig;\n\nDestroyImmediate(session);\n// Destroy(session);\n\nyield return null;\n\nsession = goARCoreDevice.AddComponent&lt;ARCoreSession&gt;();\nsession.SessionConfig = myConfig;\nsession.enabled = true;\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 3823, "user_id": 7103882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1WwhK.jpg?s=128&g=1", "display_name": "Codemaker", "link": "https://stackoverflow.com/users/7103882/codemaker"}, "is_accepted": false, "score": 0, "last_activity_date": 1578487363, "creation_date": 1578487363, "answer_id": 59646120, "question_id": 53053083, "link": "https://stackoverflow.com/questions/53053083/how-to-reset-or-restart-the-arcore-session/59646120#59646120", "title": "How to reset or restart the ARCore session?", "body": "<p>For disabling the ARCore session,</p>\n\n<pre><code>GameObject.Find (\"ARCore Device\").GetComponent&lt;ARCoreSession&gt; ().enabled = false;\n</code></pre>\n\n<p>For resetting the ARCore session,</p>\n\n<pre><code>//Resetting ARCoreSession\nARCoreSession session = GameObject.Find (\"ARCore Device\").GetComponent&lt;ARCoreSession&gt; ();\nARCoreSessionConfig myConfig = session.SessionConfig;\nDestroyImmediate (session);\n</code></pre>\n"}], "owner": {"reputation": 266, "user_id": 1193873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db18e65970aac57e87e3e79c90d5f4e2?s=128&d=identicon&r=PG", "display_name": "Mikiko Jane", "link": "https://stackoverflow.com/users/1193873/mikiko-jane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2930, "favorite_count": 2, "accepted_answer_id": 53055096, "answer_count": 2, "score": 5, "last_activity_date": 1578487363, "creation_date": 1540843726, "last_edit_date": 1547854777, "question_id": 53053083, "link": "https://stackoverflow.com/questions/53053083/how-to-reset-or-restart-the-arcore-session", "title": "How to reset or restart the ARCore session?", "body": "<p>I need to <code>reset</code>/<code>restart</code> the ARCore session. In ARKit, I just have to create a new configuration and execute the <code>RunWithConfigAndOptions</code> method, but I can't find any information on how to do this in ARCore. The following is the code I use in Unity for ARKit:</p>\n\n<pre><code>ARKitWorldTrackingSessionConfiguration config = new ARKitWorldTrackingSessionConfiguration();\nconfig.planeDetection = UnityARPlaneDetection.Horizontal;\nconfig.alignment = UnityARAlignment.UnityARAlignmentGravity;\nconfig.enableLightEstimation = true;  \n\nUnityARSessionNativeInterface.GetARSessionNativeInterface().RunWithConfigAndOptions(config, \n                                                                                    UnityARSessionRunOption.ARSessionRunOptionRemoveExistingAnchors | \n                                                                                    UnityARSessionRunOption.ARSessionRunOptionResetTracking);\n</code></pre>\n\n<p>I'm working in Unity, but I guess any information will be useful.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "proguard", "android-proguard"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 1, "creation_date": 1540846341, "post_id": 53052721, "comment_id": 93006838, "body": "not sure using <code>kotlin-stdlib-jdk8</code> is a good idea on android since full support for jdk8 classes isn&#39;t available unless you use <code>minSdkVersion 24</code>, see <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/java8-support</a> - your error look like that could be the issue. Try <code>kotlin-stdlib-jdk7</code>"}, {"owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540846475, "post_id": 53052721, "comment_id": 93006903, "body": "That should not be an issue as I also use <code>compileOptions {     sourceCompatibility JavaVersion.VERSION_1_8     targetCompatibility JavaVersion.VERSION_1_8 }</code> in my <code>build.gradle</code> configuration."}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 1, "creation_date": 1540846567, "post_id": 53052721, "comment_id": 93006948, "body": "That is something different. The android build uses a tool to convert java 8 syntax / class files to java7 or lower (android) dex files. See link above what&#39;s available on which api level. The tool can&#39;t emulate methods that didn&#39;t exist in that api level. It can emulate lambdas for example."}, {"owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540846963, "post_id": 53052721, "comment_id": 93007113, "body": "Sorry for my pride. Using <code>kotlin-stdlib-jdk7</code> actually lets the release build succeed. Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "edited": false, "score": 0, "creation_date": 1540847029, "post_id": 53053349, "comment_id": 93007144, "body": "Thank you for the descriptive explanation!"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 3, "last_activity_date": 1540844945, "creation_date": 1540844945, "answer_id": 53053349, "question_id": 53052721, "link": "https://stackoverflow.com/questions/53052721/how-to-configure-proguard-for-an-android-release-build-with-kotlin/53053349#53053349", "title": "How to configure ProGuard for an Android release build with Kotlin", "body": "<p>Looking at the actual warnings tells you it cannot find specific methods in the java standard library.</p>\n\n<p>Referencing <a href=\"https://developer.android.com/reference/java/util/regex/Matcher.html#end(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Matcher.end(String)</code></a> shows that it is a method that is only available if your minSdk is <code>26</code>. This was the SDK level when Java-8 support was added.</p>\n\n<p>Simply put, you're trying to use the java8-level kotlin library with an android sdk that does not support it, leading to the errors you're observing.</p>\n"}], "owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1706, "favorite_count": 0, "accepted_answer_id": 53053349, "answer_count": 1, "score": 1, "last_activity_date": 1540846621, "creation_date": 1540842325, "last_edit_date": 1540846621, "question_id": 53052721, "link": "https://stackoverflow.com/questions/53052721/how-to-configure-proguard-for-an-android-release-build-with-kotlin", "title": "How to configure ProGuard for an Android release build with Kotlin", "body": "<p>I added Kotlin 1.2.71 to my Android (Java) application project.\nThe project is configured for Java 8:</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>Here are the Kotlin changes:</p>\n\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.71\"\n</code></pre>\n\n<p>...</p>\n\n<pre><code>apply plugin: \"kotlin-android\"\napply plugin: \"kotlin-android-extensions\"\napply plugin: \"kotlin-kapt\"\n</code></pre>\n\n<p>...</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.71\"\nkapt \"org.parceler:parceler:1.1.11\"\n</code></pre>\n\n<p>I noticed that the release build with ProGuard fails. The build process outputs the following information:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Warning: kotlin.internal.jdk8.JDK8PlatformImplementations: can't find referenced \n    method 'int start(java.lang.String)' in library class java.util.regex.Matcher\nWarning: kotlin.internal.jdk8.JDK8PlatformImplementations: can't find referenced \n    method 'int end(java.lang.String)' in library class java.util.regex.Matcher\nWarning: kotlin.internal.jdk8.JDK8PlatformImplementations: can't find referenced \n    method 'java.lang.String group(java.lang.String)' in library class java.util.regex.Matcher\n\nNote: kotlin.internal.PlatformImplementationsKt: can't find dynamically \n    referenced class kotlin.internal.JRE8PlatformImplementations\nNote: kotlin.internal.PlatformImplementationsKt: can't find dynamically \n    referenced class kotlin.internal.JRE7PlatformImplementations\nNote: kotlin.jvm.internal.Reflection: can't find dynamically \n    referenced class kotlin.reflect.jvm.internal.ReflectionFactoryImpl\n\nNote: the configuration keeps the entry point \n    'com.google.android.gms.flags.impl.FlagProviderImpl { void init(com.google.android.gms.dynamic.zzd); }', \n    but not the descriptor class 'com.google.android.gms.dynamic.zzd'\n\nNote: there were 1 unkept descriptor classes in kept class members.\n      You should consider explicitly keeping the mentioned classes\n      (using '-keep').\n      (http://proguard.sourceforge.net/manual/troubleshooting.html#descriptorclass)\nNote: there were 3 unresolved dynamic references to classes or interfaces.\n      You should check if you need to specify additional program jars.\n      (http://proguard.sourceforge.net/manual/troubleshooting.html#dynamicalclass)\nWarning: there were 3 unresolved references to library class members.\n         You probably need to update the library versions.\n         (http://proguard.sourceforge.net/manual/troubleshooting.html#unresolvedlibraryclassmember)\nWarning: Exception while processing task java.io.IOException: Please correct the above warnings first.\nThread(Tasks limiter_9): destruction\n</code></pre>\n\n<p>Kotlin does not require any special ProGuard rules as far as I saw. <a href=\"https://stackoverflow.com/questions/33547643/how-to-use-kotlin-with-proguard\">People recommend</a> (post from 2015) to put just simply rules:</p>\n\n<pre><code>-dontwarn kotlin.**\n</code></pre>\n\n<p>Is this still the recommended solution?</p>\n\n<h1>Related</h1>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/android-overview.html#using-kotlin-for-android-development\" rel=\"nofollow noreferrer\">Kotlin docs: Using Kotlin for Android Development</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33547643/how-to-use-kotlin-with-proguard\">StackOverflow: How to use Kotlin with Proguard</a></li>\n<li><a href=\"https://sourceforge.net/p/proguard/feature-requests/182/\" rel=\"nofollow noreferrer\">ProGuard issue #182: Support Kotlin class files</a></li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/KT-7652\" rel=\"nofollow noreferrer\">KT-7652: Specify and document Proguard rules for kotlin-reflect.jar</a></li>\n</ul>\n"}, {"tags": ["android", "kotlin", "android-custom-view"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7903200"}, "is_accepted": false, "score": 0, "last_activity_date": 1540839240, "creation_date": 1540839240, "answer_id": 53052052, "question_id": 53051920, "link": "https://stackoverflow.com/questions/53051920/android-custom-view-inherit-all-styles-and-attributes-from-parent/53052052#53052052", "title": "Android custom view inherit all styles and attributes from parent", "body": "<p>use parent instead of style in your Custom Seekbar:</p>\n\n<pre><code>&lt;com.namespace.CustomSeekBar\n    android:id=\"@+id/seekBar\"\n    parent=\"@style/Widget.AppCompat.ProgressBar.Horizontal\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"@dimen/margin_default\"\n    android:layout_marginEnd=\"@dimen/margin_default\"\n    android:thumb=\"@drawable/ic_custom_thumb\"/&gt; \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8276399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ebd942fd44c7b833fa4e651fbe45e40?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8276399/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540839240, "creation_date": 1540838675, "question_id": 53051920, "link": "https://stackoverflow.com/questions/53051920/android-custom-view-inherit-all-styles-and-attributes-from-parent", "title": "Android custom view inherit all styles and attributes from parent", "body": "<p>If you create a custom view that extends a parent view, how can you inherit all styles and attributes from the parent view?  </p>\n\n<p>For example if I declare a SeekBar in xml and style it, everything works normally. If I extend this view with no additional methods all the default styling and formatting is gone. </p>\n\n<p>Original xml. The styling here works as expected: </p>\n\n<pre><code>        &lt;SeekBar\n        android:id=\"@+id/seekBar\"\n        style=\"@style/Widget.AppCompat.ProgressBar.Horizontal\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"@dimen/margin_default\"\n        android:layout_marginEnd=\"@dimen/margin_default\"\n        android:thumb=\"@drawable/ic_custom_thumb\"/&gt;\n</code></pre>\n\n<p>If I extend SeekBar without adding anything, all the styling is different. For example the track color is different, and the thumb is cut off on both sides.  </p>\n\n<pre><code>class CustomSeekBar : SeekBar {\nconstructor(context: Context) : this(context, null)\nconstructor(context: Context, attrs: AttributeSet?) : this(context, attrs, 0)\nconstructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr)}\n</code></pre>\n\n<p>And the xml: </p>\n\n<pre><code>    &lt;com.namespace.CustomSeekBar\n    android:id=\"@+id/seekBar\"\n    style=\"@style/Widget.AppCompat.ProgressBar.Horizontal\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"@dimen/margin_default\"\n    android:layout_marginEnd=\"@dimen/margin_default\"\n    android:thumb=\"@drawable/ic_custom_thumb\"/&gt; \n</code></pre>\n\n<p>What do I need to do to make this CustomSeekBar look and function exactly like the default one? Trying to make a custom view that adds some functionality without changing the default xml styling/theming and such. Will I need to rebuild all the default styling and theming or is there a way to just inherit them? </p>\n"}, {"tags": ["android", "json", "kotlin", "retrofit", "retrofit2"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1540833243, "post_id": 53050505, "comment_id": 93000826, "body": "<i>&quot;it still error&quot;</i> What error?"}, {"owner": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1540833402, "post_id": 53050505, "comment_id": 93000890, "body": "because it using <code>observeOn</code> it must be not use that. i was follow this tutorial <a href=\"http://developine.com/kotlin-android-json-parsing-tutorial-retrofit/\" rel=\"nofollow noreferrer\">developine.com/kotlin-android-json-parsing-tutorial-retrofit</a> but the json not like me so it must change the interface and i don&#39;t know how to get the response after that"}], "answers": [{"tags": [], "owner": {"reputation": 684, "user_id": 10545477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n3Z4E.png?s=128&g=1", "display_name": "ILLIA DEREVIANKO", "link": "https://stackoverflow.com/users/10545477/illia-derevianko"}, "is_accepted": false, "score": 0, "last_activity_date": 1540833654, "creation_date": 1540833654, "answer_id": 53050717, "question_id": 53050505, "link": "https://stackoverflow.com/questions/53050505/how-to-get-retrofit-response-in-kotlin/53050717#53050717", "title": "How to get retrofit response in kotlin", "body": "<p>Example on Java:</p>\n\n<p><strong>JSON</strong></p>\n\n<pre><code>{\n        \"employeeList\": [\n        {\n            \"name\": \"Gretchen Rodriquez\",\n            \"email\": \"gretchenrodriquez@trasola.com\",\n            \"phone\": \"6204732096\"\n        },\n        {\n            \"name\": \"Sharon Harris\",\n            \"email\": \"sharonharris@trasola.com\",\n            \"phone\": \"2184582386\"\n        },\n        {\n            \"name\": \"Serrano Haynes\",\n            \"email\": \"serranohaynes@trasola.com\",\n            \"phone\": \"1434162816\"\n        },\n        {\n            \"name\": \"Wagner Thornton\",\n            \"email\": \"wagnerthornton@trasola.com\",\n            \"phone\": \"5494622467\"\n        },\n        {\n            \"name\": \"Mooney Dawson\",\n            \"email\": \"mooneydawson@trasola.com\",\n            \"phone\": \"3894433413\"\n        }\n        ]\n}\n</code></pre>\n\n<p><strong>MODEL</strong></p>\n\n<pre><code>public class Employee {\n        @SerializedName(\"name\")\n        private String name;\n        @SerializedName(\"email\")\n        private String email;\n        @SerializedName(\"phone\")\n        private String phone;\n\n        public Employee(String name, String email, String phone) {\n            this.name = name;\n            this.email = email;\n            this.phone = phone;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public String getEmail() {\n            return email;\n        }\n\n        public void setEmail(String email) {\n            this.email = email;\n        }\n\n        public String getPhone() {\n            return phone;\n        }\n\n        public void setPhone(String phone) {\n            this.phone = phone;\n        }\n}\n</code></pre>\n\n<p><strong>LIST</strong></p>\n\n<pre><code>public class EmployeeList {\n        @SerializedName(\"employeeList\")\n        private ArrayList&lt;Employee&gt; employeeList;\n\n        public ArrayList&lt;Employee&gt; getEmployeeArrayList() {\n            return employeeList;\n        }\n\n        public void setEmployeeArrayList(ArrayList&lt;Employee&gt; employeeArrayList) {\n            this.employeeList = employeeArrayList;\n        }\n}\n</code></pre>\n\n<p>More: <a href=\"https://medium.com/@jacinth9/android-retrofit-2-0-tutorial-89de3c714c63\" rel=\"nofollow noreferrer\">https://medium.com/@jacinth9/android-retrofit-2-0-tutorial-89de3c714c63</a></p>\n"}], "owner": {"reputation": 397, "user_id": 8435023, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/QTP76.png?s=128&g=1", "display_name": "Qube", "link": "https://stackoverflow.com/users/8435023/qube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2120, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1540833654, "creation_date": 1540832856, "last_edit_date": 1540833242, "question_id": 53050505, "link": "https://stackoverflow.com/questions/53050505/how-to-get-retrofit-response-in-kotlin", "title": "How to get retrofit response in kotlin", "body": "<p>I'm trying to parse json using retrofit, but this is the first time i'm using retrofit</p>\n\n<p>this is the json looks like</p>\n\n<pre><code>    {\n    \"results\": [\n        {\n            \"idEvent\": \"576561\",\n            \"idSoccerXML\": \"389946\",\n            \"strEvent\": \"Liverpool vs Cardiff\",\n            \"strFilename\": \"English Premier League 2018-10-27 Liverpool vs Cardiff\",\n            \"strSport\": \"Soccer\",\n            \"idLeague\": \"4328\",\n            \"strLeague\": \"English Premier League\",\n            \"strSeason\": \"1819\",\n            \"strDescriptionEN\": null,\n            \"strHomeTeam\": \"Liverpool\",\n            \"strAwayTeam\": \"Cardiff\",\n            \"intHomeScore\": \"4\",\n            \"intRound\": \"10\",\n            \"intAwayScore\": \"1\",\n        },\n     {.\n      .  \n      .\n}]\n</code></pre>\n\n<p>i'm using retrofit to get the data.\nthis is my interface</p>\n\n<pre><code>interface INetworkAPI {\n\n@GET(\"api/v1/json/1/eventslast.php?id=133602\")\nfun getAllPosts(): Call&lt;Team&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>and this is where i trying to callback but i don't really understand</p>\n\n<pre><code>rv__list_posts?.layoutManager = LinearLayoutManager(this.requireContext())\n\n    val retrofit = Retrofit.Builder().addConverterFactory(GsonConverterFactory.create(GsonBuilder().create()))\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .baseUrl(\"https://www.thesportsdb.com/\").build()\n\n    val postsApi = retrofit.create(INetworkAPI::class.java)\n\n    var response = postsApi.getAllPosts()\n\n    response.observeOn(AndroidSchedulers.mainThread()).subscribeOn(IoScheduler()).subscribe {\n        rv__list_posts.adapter = MainAdapter(it, this.requireContext())\n    }\n</code></pre>\n\n<p>i don't know how to callback it in the good way and it still error becaouse it still using observeOn.\nplease help me if you know </p>\n"}, {"tags": ["kotlin", "rx-java2", "reducers"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1540837457, "creation_date": 1540837457, "answer_id": 53051627, "question_id": 53050349, "link": "https://stackoverflow.com/questions/53050349/rx-combine-new-input-with-previous-output/53051627#53051627", "title": "Rx - Combine new input with previous output", "body": "<p>You could combine <code>flatMap()</code> with <code>take(1)</code>:</p>\n\n<pre><code>class XYZ Reducer(private val state: BehaviorRelay&lt;State&gt;) {\n    override fun invoke(events: Observable&lt;Any&gt;): Observable&lt;State&gt;  =   \n        events.ofType(Event::class.java).flatMap { event -&gt;\n            state.take(1).map { state -&gt;\n                handleFieldClicked(event, state)\n            }\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 6653666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cebb8715e765dcf7c4375cb04d76f56?s=128&d=identicon&r=PG&f=1", "display_name": "Orbite", "link": "https://stackoverflow.com/users/6653666/orbite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540837457, "creation_date": 1540832307, "last_edit_date": 1540837233, "question_id": 53050349, "link": "https://stackoverflow.com/questions/53050349/rx-combine-new-input-with-previous-output", "title": "Rx - Combine new input with previous output", "body": "<p>I have following case of Reducer:</p>\n\n<pre><code>    class XYZ Reducer(private val state: BehaviorRelay&lt;State&gt;) {\n\n     override fun invoke(events: Observable&lt;Any&gt;): Observable&lt;State&gt;  =   \n              events.ofType(Event::class.java).map { event -&gt;\n              handleFieldClicked(event, state.value)\n    }\n</code></pre>\n\n<p>As reducer requires 2 info:</p>\n\n<ol>\n<li>New event</li>\n<li>Previous state</li>\n</ol>\n\n<p>I am passing behavior relay of states  to the reducer.\nI tried to find a way to have access to previous state and current event in <code>map{}</code>, like scan, all I found was <code>scan()</code> that gives current event and previous event as arguments. </p>\n\n<p>Do you know any better way (an operator?) than passing <code>behaviorRelay</code> as states directly?</p>\n"}, {"tags": ["android", "kotlin", "viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 8777, "user_id": 3682067, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1a881ab25f87a2f5f6a91d18a3277bb1?s=128&d=identicon&r=PG", "display_name": "Saeed Masoumi", "link": "https://stackoverflow.com/users/3682067/saeed-masoumi"}, "is_accepted": true, "score": 6, "last_activity_date": 1540848603, "creation_date": 1540848603, "answer_id": 53054115, "question_id": 53050257, "link": "https://stackoverflow.com/questions/53050257/viewmodel-backing-properties-kotlin/53054115#53054115", "title": "ViewModel backing properties [kotlin]", "body": "<p><code>userData</code> which is exposed to the Activity or Fragment must be immutable since the view only needs to observe to the <code>LiveData</code>. So, we need to make the actual <code>_userData</code> returns a <code>LiveData</code>. </p>\n\n<p>One way is using the <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#property-names\" rel=\"noreferrer\">Kotlin coding convention</a> and create two variables, <code>_userData</code> and <code>userData</code>, one is mutable and another one is not:</p>\n\n<blockquote>\n  <p>If a class has two properties which are conceptually the same but one\n  is part of a public API and another is an implementation detail, use\n  an underscore as the prefix for the name of the private property.</p>\n</blockquote>\n"}], "owner": {"reputation": 325, "user_id": 8710091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbd7ada5a84cdbaca6325901312d7e19?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea", "link": "https://stackoverflow.com/users/8710091/andrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 947, "favorite_count": 1, "accepted_answer_id": 53054115, "answer_count": 1, "score": 7, "last_activity_date": 1595985531, "creation_date": 1540831905, "last_edit_date": 1595985531, "question_id": 53050257, "link": "https://stackoverflow.com/questions/53050257/viewmodel-backing-properties-kotlin", "title": "ViewModel backing properties [kotlin]", "body": "<p>Looking to the code of some Google's demo app (like sunflower or Google io 2018 app) and I've noticed that for  the viemodels' backing properties they use a separate instance of the same type with a custom getter; like this:</p>\n<pre><code>private val _userData: MutableLiveData&lt;User&gt;\nval userData: LiveData&lt;User&gt;\n    get() = _userData\n</code></pre>\n<p>but why do they do that? Isn't better to directly make the <code>_userData</code> accessible?\nCould it be because while <code>_userData</code> is a <code>MutableLiveData</code> they don't want the observer to be able to change the value?</p>\n"}, {"tags": ["android", "mobile", "kotlin", "null", "viewpage"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1540831523, "post_id": 53050041, "comment_id": 92999994, "body": "Are you sure that ID is actually in your layout? Also, the type that&#39;s inside the <code>&lt;&gt;</code> is there so you can specify which View that ID is. <code>findViewById&lt;View&gt;(R.id.viewPagerGaleria) as ViewPager</code> can be shortened to <code>findViewById&lt;ViewPager(R.id.viewPagerGaleria)</code>."}, {"owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540831748, "post_id": 53050041, "comment_id": 93000094, "body": "@TheWanderer yes sir, it is..."}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540832115, "post_id": 53050041, "comment_id": 93000258, "body": "Are you sure? If <code>findViewById()</code> returns null it means it can&#39;t find any View by that name. Where are these methods being called and where is <code>setContentView()</code> being called? Are you sure you&#39;re setting the right layout?"}], "answers": [{"tags": [], "owner": {"reputation": 1158, "user_id": 3004667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/l89dD.jpg?s=128&g=1", "display_name": "Boukharist", "link": "https://stackoverflow.com/users/3004667/boukharist"}, "is_accepted": true, "score": 0, "last_activity_date": 1540832046, "creation_date": 1540832046, "answer_id": 53050286, "question_id": 53050041, "link": "https://stackoverflow.com/questions/53050041/null-cannot-be-cast-to-non-null-type-android-support-v4-view-viewpager-kotlin/53050286#53050286", "title": "null cannot be cast to non-null type android.support.v4.view.ViewPager - KOTLIN", "body": "<p>I agree with @TheWanderer, your problem is here :findViewById**** .</p>\n\n<p>So to fix this you can remove the type  and replace it by  and get rid of the cast \"as? ViewPager\" as it is not needed in this case </p>\n\n<pre><code>val viewPager = findViewById&lt;ViewPager?&gt;(R.id.viewPagerGaleria) \n</code></pre>\n\n<p>Or omit the target class type  definitely and keep the cast</p>\n\n<pre><code>val viewPager = view.findViewById(R.id.viewpager) as? ViewPager\n</code></pre>\n\n<p>PS : And you probably don't have the required viewPager id in your layout.</p>\n"}, {"tags": [], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "is_accepted": false, "score": 0, "last_activity_date": 1540833514, "creation_date": 1540833514, "answer_id": 53050689, "question_id": 53050041, "link": "https://stackoverflow.com/questions/53050041/null-cannot-be-cast-to-non-null-type-android-support-v4-view-viewpager-kotlin/53050689#53050689", "title": "null cannot be cast to non-null type android.support.v4.view.ViewPager - KOTLIN", "body": "<p>Sorry mates, i was putting that code in the wrong class! My bad!</p>\n"}], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 53050286, "answer_count": 2, "score": 0, "last_activity_date": 1540833514, "creation_date": 1540831028, "question_id": 53050041, "link": "https://stackoverflow.com/questions/53050041/null-cannot-be-cast-to-non-null-type-android-support-v4-view-viewpager-kotlin", "title": "null cannot be cast to non-null type android.support.v4.view.ViewPager - KOTLIN", "body": "<p>I know that these question has been already answered, but I think it's a different deal. So, I have the following code:</p>\n\n<pre><code>viewPager = findViewById&lt;View&gt;(R.id.viewPagerGaleria) as ViewPager\nval adapter = ViewPageAdapter(this)\nviewPager.adapter = adapter\n//dots\nval pageIndicatorView = findViewById&lt;View&gt;(R.id.pageIndicatorView) as PageIndicatorView\npageIndicatorView.setViewPager(viewPager)\n</code></pre>\n\n<p>And when I run it this occurs: ... kotlin.TypeCastException: null cannot be cast to non-null type android.support.v4.view.ViewPager. Normal till here, right? No, because when I do this, the error is the same:</p>\n\n<pre><code>val viewPager = findViewById&lt;View&gt;(R.id.viewPagerGaleria) as? ViewPager\nval adapter = ViewPageAdapter(this)\nviewPager?.adapter = adapter\n//dots\nval pageIndicatorView = findViewById&lt;View&gt;(R.id.pageIndicatorView) as? PageIndicatorView\npageIndicatorView?.setViewPager(viewPager)\n</code></pre>\n\n<p>Can you help me? Thank you.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1540829775, "post_id": 53049656, "comment_id": 92999093, "body": "I don&#39;t know how this would be worth an answer, but yes, this is the perfect place to use <code>Nothing</code>!"}, {"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1540829976, "post_id": 53049656, "comment_id": 92999202, "body": "I use java.lang.Void as a return in this case"}, {"owner": {"reputation": 20852, "user_id": 544406, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/dPN4O.jpg?s=128&g=1", "display_name": "Dmitry Ryadnenko", "link": "https://stackoverflow.com/users/544406/dmitry-ryadnenko"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1540830066, "post_id": 53049656, "comment_id": 92999270, "body": "@zsmb13 Are there any chance that you have a link to someone close to language designers or maybe other trusted person recommending that? Or maybe some argumentation for why it&#39;s a good practice?  Because I know that Nothing was designed to be used as a type for return value for functions that never returns any value, so I&#39;m not sure if using it as a generic parameter is a valid use."}], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 3, "creation_date": 1540839336, "post_id": 53049884, "comment_id": 93003669, "body": "There, look! This guy is from JetBrains :P"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1595090424, "post_id": 53049884, "comment_id": 111357158, "body": "unfortunately, <code>Nothing</code> generics still not supported when testing (mocking): <a href=\"https://github.com/mockk/mockk/issues/158\" rel=\"nofollow noreferrer\">github.com/mockk/mockk/issues/158</a>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 7, "last_activity_date": 1540831389, "last_edit_date": 1540831389, "creation_date": 1540830460, "answer_id": 53049884, "question_id": 53049656, "link": "https://stackoverflow.com/questions/53049656/is-it-a-good-practice-to-use-nothing-in-generics/53049884#53049884", "title": "Is it a good practice to use Nothing in generics?", "body": "<p>I agree with <a href=\"https://stackoverflow.com/questions/53049656/is-it-a-good-practice-to-use-nothing-in-generics#comment92999093_53049656\">@zsmb13's comment</a>. Using <code>Nothing</code> in a generic type hierarchy is perfectly valid and even gives benefits over other options: </p>\n\n<ul>\n<li><p>First, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html\" rel=\"noreferrer\"><code>Nothing</code></a> is embedded in the Kotlin type system as a subtype of any other type, so it plays well with <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"noreferrer\">generics variance</a>. For example, <code>Option&lt;Nothing&gt;</code> can be passed where <code>Option&lt;out Foo&gt;</code> is expected.</p></li>\n<li><p>Second, the compiler will perform control flow checks and detect unreachable code after a <code>Nothing</code>-returning member call when the type is statically known.</p></li>\n</ul>\n\n<p>See also: <a href=\"http://natpryce.com/articles/000818.html\" rel=\"noreferrer\">A Whirlwind Tour of the Kotlin Type Hierarchy</a></p>\n"}], "owner": {"reputation": 20852, "user_id": 544406, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/dPN4O.jpg?s=128&g=1", "display_name": "Dmitry Ryadnenko", "link": "https://stackoverflow.com/users/544406/dmitry-ryadnenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 1, "accepted_answer_id": 53049884, "answer_count": 1, "score": 3, "last_activity_date": 1540831389, "creation_date": 1540829677, "last_edit_date": 1540830137, "question_id": 53049656, "link": "https://stackoverflow.com/questions/53049656/is-it-a-good-practice-to-use-nothing-in-generics", "title": "Is it a good practice to use Nothing in generics?", "body": "<p>Like in this example:</p>\n\n<pre><code>sealed class Option&lt;T&gt;\n\nobject None : Option&lt;Nothing&gt;() // &lt;-- like this\n\nclass Some&lt;T&gt; : Option&lt;T&gt;()\n</code></pre>\n\n<p>Or, if it's not a good practice, what should I use here instead?</p>\n\n<p>Are there any official response/article on that? Or is there any argumentation that this is a good practice?</p>\n\n<p>I know that <code>Nothing</code> was designed to be used as a type for return value for functions that never returns any value, so I'm not sure if using it as a generic parameter is a valid use.</p>\n\n<p>I know there is an <a href=\"https://blog.kotlin-academy.com/kotlins-nothing-its-usefulness-in-generics-5076a6a457f7\" rel=\"nofollow noreferrer\">article</a> that says that you can do that, but I'm not sure if I can trust it.</p>\n\n<p>And the author of <a href=\"https://github.com/gojuno/koptional/blob/master/koptional/src/main/kotlin/com/gojuno/koptional/Optional.kt\" rel=\"nofollow noreferrer\">koptional</a> uses it too, but I don't know if I can trust that either.</p>\n\n<p>Also, it looks like in Scala <code>Option</code> is implemented similar to that, <code>None</code> have type <code>Option[Nothing]</code> and Scala's <code>Nothing</code> is similar to Kotlin's <code>Nothing</code>.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "edited": false, "score": 0, "creation_date": 1540829811, "post_id": 53049282, "comment_id": 92999114, "body": "Read <a href=\"https://stackoverflow.com/questions/46610819/how-to-get-absolute-path-of-internal-storage-in-android\">this</a> and <a href=\"https://stackoverflow.com/questions/39850004/android-get-all-external-storage-path-for-all-devices\">this</a>. So all smartphones have an external storage, not all has SD cards."}], "answers": [{"comments": [{"owner": {"reputation": 486, "user_id": 3920157, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006398713225/picture?type=large", "display_name": "Rodolfo Abarca", "link": "https://stackoverflow.com/users/3920157/rodolfo-abarca"}, "edited": false, "score": 0, "creation_date": 1581129335, "post_id": 53049735, "comment_id": 106338047, "body": "He is asking for internal storage, not external storage"}], "tags": [], "owner": {"reputation": 734, "user_id": 9709907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i4Sdr.jpg?s=128&g=1", "display_name": "Legion", "link": "https://stackoverflow.com/users/9709907/legion"}, "is_accepted": false, "score": -1, "last_activity_date": 1540829953, "creation_date": 1540829953, "answer_id": 53049735, "question_id": 53049282, "link": "https://stackoverflow.com/questions/53049282/download-file-from-webview-to-internal-storage/53049735#53049735", "title": "download file from webview to internal storage", "body": "<p>Cannot test the code at the moment, but it should be something like the follow:</p>\n\n<pre><code> mywebView.setDownloadListener(object : DownloadListener {\n        override fun onDownloadStart(url: String, userAgent: String,\n                                     contentDisposition: String, mimetype: String,\n                                     contentLength: Long) {\n\n\n            val request = DownloadManager.Request(Uri.parse(url))\n            request.allowScanningByMediaScanner()\n            request.setDescription(\"Download file...\")\n            request.setTitle(URLUtil.guessFileName(url, contentDisposition, mimetype))\n\n            request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI or DownloadManager.Request.NETWORK_MOBILE)\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED) //Notify client once download is completed!\n            request.setDestinationInExternalPublicDir(Environment.getExternalStorageDirectory(), mimetype )\n            val webview = getSystemService(DOWNLOAD_SERVICE) as DownloadManager\n            webview.enqueue(request)\n\n            Toast.makeText(getApplicationContext(), \"Download avviato\", Toast.LENGTH_LONG).show()\n\n        }\n    })\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10575822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p7k-ogZ5PHk/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB_8blC-7j2eljDs50AD20JfPtIXg/mo/photo.jpg?sz=128", "display_name": "Ivano Dibenedetto", "link": "https://stackoverflow.com/users/10575822/ivano-dibenedetto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540829953, "creation_date": 1540828469, "question_id": 53049282, "link": "https://stackoverflow.com/questions/53049282/download-file-from-webview-to-internal-storage", "title": "download file from webview to internal storage", "body": "<p>The following code works perfectly to download mp3 file in external storage, but doens't work to download file in internal storage. A lot of smartphone doesn't have external storage. What can i do? I don't know how to implement async task in kotlin, if it is needed.</p>\n\n<pre><code> mywebView.setDownloadListener(object : DownloadListener {\n        override fun onDownloadStart(url: String, userAgent: String,\n                                     contentDisposition: String, mimetype: String,\n                                     contentLength: Long) {\n\n\n            val request = DownloadManager.Request(Uri.parse(url))\n            request.allowScanningByMediaScanner()\n            request.setDescription(\"Download file...\")\n            request.setTitle(URLUtil.guessFileName(url, contentDisposition, mimetype))\n\n            request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_WIFI or DownloadManager.Request.NETWORK_MOBILE)\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED) //Notify client once download is completed!\n            request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, mimetype )\n            val webview = getSystemService(DOWNLOAD_SERVICE) as DownloadManager\n            webview.enqueue(request)\n\n            Toast.makeText(getApplicationContext(), \"Download avviato\", Toast.LENGTH_LONG).show()\n\n        }\n    })\n</code></pre>\n"}, {"tags": ["android", "kotlin", "alarmmanager", "android-8.0-oreo", "jobintentservice"], "answers": [{"comments": [{"owner": {"reputation": 1467, "user_id": 4826038, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mMrmV.jpg?s=128&g=1", "display_name": "HeyAlex", "link": "https://stackoverflow.com/users/4826038/heyalex"}, "edited": false, "score": 1, "creation_date": 1542274419, "post_id": 53051488, "comment_id": 93512769, "body": "what kind of issues will be with app widget using workmanager?"}], "tags": [], "owner": {"reputation": 346, "user_id": 10482491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JnVqZRNtelk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX4gNBH9YTQ_431oeBOdZGZoKKr_w/mo/photo.jpg?sz=128", "display_name": "Vladimir Gladun", "link": "https://stackoverflow.com/users/10482491/vladimir-gladun"}, "is_accepted": false, "score": 1, "last_activity_date": 1540836838, "creation_date": 1540836838, "answer_id": 53051488, "question_id": 53049133, "link": "https://stackoverflow.com/questions/53049133/unable-to-schedule-alarm-using-jobintentservice/53051488#53051488", "title": "Unable to schedule Alarm using JobIntentService", "body": "<p>you can try to update your support libraries to the latest and greatest and put some number > 1 (to avoid having two different intent services with the same Id). If it doesn't help you might want to go deeper to this rabbit hole: <a href=\"https://issuetracker.google.com/issues/63622293\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/63622293</a>\nOne of the suggested fixes there is to use a wrapper class around the JobIntentService:</p>\n\n<pre><code>package android.support.v4.app;\n\nimport android.content.Intent;\n\npublic abstract class FixedJobIntentService extends JobIntentService {\n\n    @Override\n    GenericWorkItem dequeueWork() {\n        try {\n            return new FixedGenericWorkItem(super.dequeueWork());\n        } catch (SecurityException ignored) {\n        }\n        return null;\n    }\n\n    private class FixedGenericWorkItem implements GenericWorkItem {\n        final GenericWorkItem mGenericWorkItem;\n\n        FixedGenericWorkItem(GenericWorkItem genericWorkItem) {\n            mGenericWorkItem = genericWorkItem;\n        }\n\n        @Override\n        public Intent getIntent() {\n            if (mGenericWorkItem != null) {\n                return mGenericWorkItem.getIntent();\n            }\n            return null;\n        }\n\n        @Override\n        public void complete() {\n            try {\n                if (mGenericWorkItem != null) {\n                    mGenericWorkItem.complete();\n                }\n            } catch (IllegalArgumentException ignored) {\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Or you can try to use the new shiny WorkManager from the architecture components (may have issues if you have an app widget (the one for the android home screen) in your app).\n<a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/workmanager/</a></p>\n"}], "owner": {"reputation": 301, "user_id": 6507093, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/56f31c2f8547cb48d1dd3a3439711f83?s=128&d=identicon&r=PG&f=1", "display_name": "TheLearner", "link": "https://stackoverflow.com/users/6507093/thelearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1276, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1540846381, "creation_date": 1540827960, "last_edit_date": 1540846381, "question_id": 53049133, "link": "https://stackoverflow.com/questions/53049133/unable-to-schedule-alarm-using-jobintentservice", "title": "Unable to schedule Alarm using JobIntentService", "body": "<p>I have been researching how to schedule an alarm targeting devices Oreo +.\nMy current approach is using <code>AlarmManager</code>, a Ringtone service and broadcast receiver. I got the alarm to ring and display notification but the notification and the alarm does not fire for Oreo + devices.</p>\n\n<p>I learned that using <code>JobIntentService</code> is a good practice due to <code>Doze</code> and other background limitations. Currently, when using a <code>JobIntentService</code>, I get an error:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: An error occurred while executing doInBackground()</p>\n</blockquote>\n\n<p>Am I doing this wrong? Do I really need to implement an <code>AsyncTask</code>?</p>\n\n<pre><code>class AlarmReceiver : BroadcastReceiver() {\n    override fun onReceive(context: Context?, intent: Intent?) {\n        val alarmStatus: String = intent!!.getStringExtra(\"alarmStatus\")\n        val serviceIntent = Intent(context, RingtoneService::class.java)\n        serviceIntent.putExtra(\"alarmStatus\", alarmStatus)\n        //context!!.startService(serviceIntent)\n        RingtoneService.enqueueWork(context, serviceIntent)\n    }\n}\n\nclass RingtoneService : JobIntentService() {\n    // Enqueing work to do in this service.\n    companion object {\n        val SERVICE_JOB_ID = 1\n\n        fun enqueueWork(context: Context?, work: Intent) {\n            if (context != null) {\n                enqueueWork(context, RingtoneService::class.java, RingtoneService.SERVICE_JOB_ID, work)\n            }\n        }\n    }\n\n    override fun onHandleWork(intent: Intent) {\n        onHandleIntent(intent)\n    }\n\n    private fun onHandleIntent(intent: Intent) {\n        //handling of notification goes here\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1540868579, "post_id": 53048925, "comment_id": 93012676, "body": "Have you tried to change the return type from <code>Flowable&lt;any&gt;</code> to <code>Flowable&lt;List&lt;Deals&gt;&gt;</code>?"}, {"owner": {"reputation": 7, "user_id": 10537416, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ep8u9Qv5w8/AAAAAAAAAAI/AAAAAAAAAJk/R8dHksDSEE4/photo.jpg?sz=128", "display_name": "vivek kujur", "link": "https://stackoverflow.com/users/10537416/vivek-kujur"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1540871588, "post_id": 53048925, "comment_id": 93013298, "body": "how to do that i think return type is already Floawable&lt;list&gt;&lt;deals&gt;&gt;"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1540871646, "post_id": 53048925, "comment_id": 93013313, "body": "If it says <code>Found: Flowable&lt;any&gt;</code>, it means that the is not what it should be. Try to change it accordingly."}], "owner": {"reputation": 7, "user_id": 10537416, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ep8u9Qv5w8/AAAAAAAAAAI/AAAAAAAAAJk/R8dHksDSEE4/photo.jpg?sz=128", "display_name": "vivek kujur", "link": "https://stackoverflow.com/users/10537416/vivek-kujur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540835197, "creation_date": 1540827305, "last_edit_date": 1540835197, "question_id": 53048925, "link": "https://stackoverflow.com/questions/53048925/how-to-implement-nested-value-event-listener-to-retrieve-data-from-firebase", "title": "how to implement nested Value Event Listener to retrieve data from firebase", "body": "<p>i want to retrieve data from fire base by nested ValueEventListener.\nfirst i find deals present or not in  rooms tree after that is deals present then i want value of discount on that deal. </p>\n\n<pre><code>fun deal(room:String): Flowable&lt;List&lt;Deals&gt;&gt;? =\n    observeValueEvent(ref.child(\"rooms/$room/deals\"))\n            .map { snapshot -&gt;\n                snapshot.children.mapNotNull { child -&gt;\n                    var deal = child.key\n                    if (deal != null) {\n                        observeValueEvent(ref1.child(\"deals/$deal\")).map { snapshot1 -&gt;\n\n                            snapshot1.children.mapNotNull { child1 -&gt;\n\n                                var name = child1.getValue().toString()\n                                Deals(name)\n                            }\n                        }\n\n                    }else{\n                        null\n                    }\n                }\n            }\n</code></pre>\n\n<p>this is the function for retrieve value from deals.\nfor  ValueEventListener i  make different function</p>\n\n<pre><code> private fun observeValueEvent(query: Query): Flowable&lt;DataSnapshot&gt; = Flowable\n        .create({ emitter -&gt;\n            val valueEventListener = object : ValueEventListener {\n                override fun onDataChange(snapshot: DataSnapshot) {\n                    emitter.onNext(snapshot)\n                }\n\n                override fun onCancelled(error: DatabaseError) {\n                    if (!emitter.isCancelled) {\n                        emitter.onError(Throwable(error.details))\n                    }\n                }\n            }\n            emitter.setCancellable { query.removeEventListener(valueEventListener) }\n            query.addValueEventListener(valueEventListener)\n        }, BackpressureStrategy.LATEST)\n</code></pre>\n\n<p>i tried this way but it gives error </p>\n\n<pre><code>\"mismatch type , required: Flowable&lt;List&lt;Deals&gt;&gt;, Found: Flowable&lt;any&gt;\" \n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-workmanager"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540827923, "post_id": 53048327, "comment_id": 92997897, "body": "I can&#39;t find this method in the Javadoc <a href=\"https://developer.android.com/reference/androidx/work/PeriodicWorkRequest.Builder\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/work/&hellip;</a>"}, {"owner": {"reputation": 4595, "user_id": 6096029, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7363bc85946e1071f6a3c65c905c471e?s=128&d=identicon&r=PG&f=1", "display_name": "rgoncalv", "link": "https://stackoverflow.com/users/6096029/rgoncalv"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540829766, "post_id": 53048327, "comment_id": 92999086, "body": "Yeah :/ I didn&#39;t find either but this method exists when writing code. Is there any other method though that can delay the scheduling?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540832166, "post_id": 53048327, "comment_id": 93000287, "body": "There probably isn&#39;t a way to schedule a repeated task with an initial delay. There&#39;s no such functionality in <code>JobScheduler</code> and <code>WorkManager</code> is a layer above it."}, {"owner": {"reputation": 4595, "user_id": 6096029, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7363bc85946e1071f6a3c65c905c471e?s=128&d=identicon&r=PG&f=1", "display_name": "rgoncalv", "link": "https://stackoverflow.com/users/6096029/rgoncalv"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540832571, "post_id": 53048327, "comment_id": 93000483, "body": "But there&#39;s such a functionality in <code>AlarmManager</code> and <code>WorkManager</code> is a layer above it as well, right?"}], "answers": [{"tags": [], "owner": {"reputation": 4593, "user_id": 118862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dfa913cbcfe896af79e0484084c316b?s=128&d=identicon&r=PG", "display_name": "pfmaggi", "link": "https://stackoverflow.com/users/118862/pfmaggi"}, "is_accepted": false, "score": 9, "last_activity_date": 1574503329, "last_edit_date": 1574503329, "creation_date": 1540898319, "answer_id": 53063148, "question_id": 53048327, "link": "https://stackoverflow.com/questions/53048327/android-workmanager-how-to-delay-task/53063148#53063148", "title": "Android WorkManager - how to delay task?", "body": "<h1><strong>UPDATE</strong></h1>\n\n<p>Since <a href=\"https://developer.android.com/jetpack/androidx/releases/work#2.1.0-alpha02\" rel=\"noreferrer\">WorkManager v2.1-alpha02</a> it is now possible add an initial delay to a <code>PeriodicWorkRequest</code>. Now your call became simply:</p>\n\n<pre><code>val scheduleStartWork = PeriodicWorkRequest.Builder(ScheduleWorker::class.java, 7, TimeUnit.DAYS)\n                .setInputData(Data.Builder().putBoolean(\"isStart\", true).build())\n                .setInitialDelay(diff_time, TimeUnit.MILLISECONDS)\n                .addTag(weekdays[index])\n                .build()\n</code></pre>\n\n<p><strong>Note</strong> because the <code>setInitialDelay</code> has been introduced in the parent class, <a href=\"https://developer.android.com/reference/androidx/work/WorkRequest.Builder#setInitialDelay(java.time.Duration)\" rel=\"noreferrer\"><code>WorkRequest</code></a>, this introduced a binary change moving from v2.0 to v2.1 for the <code>OneTimeWorkRequest#setInitialDelay()</code> method. This means that to use the new library you need to recompile the project when upgrading from v2.0.</p>\n\n<h1><strong>Follows original answer</strong></h1>\n\n<p>It's not possible to delay the first run of a periodic task with WorkManager.</p>\n\n<p>Your best option is to use a OneTimeWorker with the delay that you want and from there you can enqueue your periodic worker with the period you want.</p>\n\n<p><a href=\"https://issuetracker.google.com/111404867\" rel=\"noreferrer\">There's a feature request on WorkManager's issue tracker with an explanation for this workaround that you can use as a reference.</a></p>\n\n<p><strong>Note:</strong> because of how the minimum interval works, you cannot build a periodic work request that is executed at a recurring time, e.g. every day at 4:00 AM. You can specify a 24 hours repeat interval, but this can get the worker executed at 4:05AM the first day, 6:00AM the second, 6:10 AM the third day and so on. \nIf you need to execute a worker at the same time every day, your best option is to use a <code>OneTimeWorkRequest</code> with an initial delay:</p>\n\n<pre><code>OneTimeWorkRequest save = new OneTimeWorkRequest\n            .Builder(SaveImageToFileWorker.class)\n            .setConstraints(constraints)\n            .setInitialDelay(24, TimeUnit.HOURS)\n            .addTag(TAG_OUTPUT)\n            .build();\n</code></pre>\n\n<p>When the worker has been completed, you can reschedule it with a Delay so that it is going to be fired at the correct time (the exact time that the worker is going to be executed depends on the constraints that you\u2019re using when creating the work request).</p>\n"}, {"tags": [], "owner": {"reputation": 2582, "user_id": 7368826, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-4ZbdUCL5TtY/AAAAAAAAAAI/AAAAAAAAAEs/7LgtAp-9ITg/photo.jpg?sz=128", "display_name": "Anjal Saneen", "link": "https://stackoverflow.com/users/7368826/anjal-saneen"}, "is_accepted": false, "score": 1, "last_activity_date": 1558505690, "creation_date": 1558505690, "answer_id": 56250378, "question_id": 53048327, "link": "https://stackoverflow.com/questions/53048327/android-workmanager-how-to-delay-task/56250378#56250378", "title": "Android WorkManager - how to delay task?", "body": "<p>In the new version of Work manager (<a href=\"https://developer.android.com/jetpack/androidx/releases/work#2.1.0-alpha02\" rel=\"nofollow noreferrer\">Version 2.1.0-alpha02</a> released on May 16, 2019) PeriodicWorkRequests now support initial delays. You can use the setInitialDelay method on PeriodicWorkRequest.Builder to set an initial delay.</p>\n\n<pre><code>PeriodicWorkRequest workRequest = new PeriodicWorkRequest.Builder(\n        WorkerReminderPeriodic.class,\n        24,\n        TimeUnit.HOURS,\n        PeriodicWorkRequest.MIN_PERIODIC_FLEX_MILLIS,\n        TimeUnit.MILLISECONDS)\n    .setInitialDelay(1, TimeUnit.HOURS)\n    .addTag(\"send_reminder_periodic\")\n    .build();\n\n\nWorkManager.getInstance()\n        .enqueueUniquePeriodicWork(\"send_reminder_periodic\", ExistingPeriodicWorkPolicy.REPLACE, workRequest);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5614, "user_id": 2260963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6c4d100b62dd90b182c5bcf3a6016b?s=128&d=identicon&r=PG", "display_name": "Manmohan Soni", "link": "https://stackoverflow.com/users/2260963/manmohan-soni"}, "is_accepted": false, "score": 2, "last_activity_date": 1559801221, "creation_date": 1559801221, "answer_id": 56471711, "question_id": 53048327, "link": "https://stackoverflow.com/questions/53048327/android-workmanager-how-to-delay-task/56471711#56471711", "title": "Android WorkManager - how to delay task?", "body": "<p>You need to update the work manager library version to <a href=\"https://developer.android.com/jetpack/androidx/releases/work#2.1.0-alpha03\" rel=\"nofollow noreferrer\">2.1.0-alpha03</a>. In the version WorkManager provides the functionality to add initial delay in task. </p>\n\n<p>Then you need to use the method setInitialDelay(). Following is the implementation to use the same in a way to achieve specific time trigger work:</p>\n\n<pre><code>long initialDelayInSeconds = (futureSpecificTime - System.currentTimeInMills()) / 1000;\n\nPeriodicWorkRequest workRequest =\n                new PeriodicWorkRequest.Builder(WorkerClass.class, interval, TimeUnit.SECONDS)\n                        .setConstraints(workRequestConstraints)\n                        .setInputData(inputData)\n                        .addTag(TAG_TASK)\n                        .setInitialDelay(initialDelayInSeconds, TimeUnit.SECONDS)\n                        .build();\n</code></pre>\n"}], "owner": {"reputation": 4595, "user_id": 6096029, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7363bc85946e1071f6a3c65c905c471e?s=128&d=identicon&r=PG&f=1", "display_name": "rgoncalv", "link": "https://stackoverflow.com/users/6096029/rgoncalv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5177, "favorite_count": 5, "answer_count": 3, "score": 8, "last_activity_date": 1574503329, "creation_date": 1540825477, "last_edit_date": 1540830530, "question_id": 53048327, "link": "https://stackoverflow.com/questions/53048327/android-workmanager-how-to-delay-task", "title": "Android WorkManager - how to delay task?", "body": "<p>I am building a functionality that will allow merchants to set the schedule of their business. Such functionality would automatically change the variable <code>open</code> to <code>true</code> and <code>false</code> accordingly to the times the merchant set in each day of the week. Therefore, there would be a total of 14 possible different times.</p>\n\n<p>I am trying to build a recurrent background task that would accomplish such a thing using WorkManager, the new Android Architecture Components library.</p>\n\n<pre><code>val scheduleStartWork = PeriodicWorkRequest.Builder(ScheduleWorker::class.java, 7, TimeUnit.DAYS)\n                .setInputData(Data.Builder().putBoolean(\"isStart\", true).build())\n                .setScheduleRequestedAt(diff_time, TimeUnit.MILLISECONDS)\n                .addTag(weekdays[index])\n                .build()\n</code></pre>\n\n<p>It's giving me the following APILibraryException error though: </p>\n\n<blockquote>\n  <p>Builder.setScheduleRequestedAt can only be called from within the same library group</p>\n</blockquote>\n\n<p>My questions: </p>\n\n<p>1) Is it <code>setScheduleRequestedAt</code> the right method to call if I want to delay the scheduling by <code>diff_time</code>?</p>\n\n<p>2) If so, how can I solve this problem?</p>\n\n<p>PS: <code>diff_time</code> is the difference, in milliseconds, to each of the corresponding hours of each day set by the user. Example: Monday-Friday = 08:00, Sat-Sun= 10:00.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1540825041, "post_id": 53047658, "comment_id": 92996054, "body": "However <code>removeAll</code> (if it would exist) wouldn&#39;t be the best approach here... I would also rather go for a regular expression or parse it in another way if possible..."}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 2, "creation_date": 1540824949, "post_id": 53047934, "comment_id": 92996000, "body": "you could also write it via <code>destructured</code>, e.g.: <code>reg.find(str)?.destructured?.let { (price, currency) -&gt; &quot;$price $currency&quot; }?.run(::println) ?: println(&quot;no match&quot;)</code>"}, {"owner": {"reputation": 574, "user_id": 3136280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4eiXP.jpg?s=128&g=1", "display_name": "Baptiste Candellier", "link": "https://stackoverflow.com/users/3136280/baptiste-candellier"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1540825070, "post_id": 53047934, "comment_id": 92996071, "body": "@Roland I love Kotlin a bit more every day."}, {"owner": {"reputation": 574, "user_id": 3136280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4eiXP.jpg?s=128&g=1", "display_name": "Baptiste Candellier", "link": "https://stackoverflow.com/users/3136280/baptiste-candellier"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1540826206, "post_id": 53047934, "comment_id": 92996819, "body": "@ohwelppp Sure, I&#39;ll try to update the answer. FYI, it&#39;s just a matter of saying in the regular expression, &quot;there&#39;s going to be some text here, and this is what it should look like&quot;. Going from there, it&#39;ll get that text for you."}], "tags": [], "owner": {"reputation": 574, "user_id": 3136280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4eiXP.jpg?s=128&g=1", "display_name": "Baptiste Candellier", "link": "https://stackoverflow.com/users/3136280/baptiste-candellier"}, "is_accepted": false, "score": 2, "last_activity_date": 1540826626, "last_edit_date": 1540826626, "creation_date": 1540824214, "answer_id": 53047934, "question_id": 53047658, "link": "https://stackoverflow.com/questions/53047658/removing-unncecessary-parts-from-string/53047934#53047934", "title": "Removing unncecessary parts from String", "body": "<p>This sounds like a job for regular expressions!</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val str = \"BOOKING - PAID (price.amount=70, price.currency=EUR)\"\n\n    // The expressions between parentheses will map to groups[1], groups[2] and groups[3] respectively\n    val reg = Regex(\"\"\"(.*) \\(price\\.amount=([0-9]+), price\\.currency=([A-Z]+)\\)\"\"\")\n\n\n    // Apply the regular expression on the string\n    val results = reg.find(str)\n\n    results?.groupValues?.let { groups -&gt;\n        // If results and groupValues aren't null, we've got our values!\n        val type = groups[1]\n        val price = groups[2]\n        val currency = groups[3]\n\n        println(\"$type ($price $currency)\") // BOOKING - PAID (70 EUR)\n    }\n\n    // Or as suggested by @Roland:\n    results?.destructured?.let { (type, price, currency) -&gt;\n        println(\"$type ($price $currency)\") // BOOKING - PAID (70 EUR)\n    }\n}\n</code></pre>\n\n<p>Regular expressions allow you to take a string as entry, and find a pattern in it. They're quite used in all languages, you can find more info about them all over the place.</p>\n\n<p>EDIT: edited for the updated question. I chose to treat <code>\"BOOKING - PAID\"</code> as a single string, but there's an infinite number of ways to do it, depending on your granularity needs; and honestly, at that point a regex might be a bit overkill. :)</p>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1540828283, "last_edit_date": 1540828283, "creation_date": 1540824802, "answer_id": 53048099, "question_id": 53047658, "link": "https://stackoverflow.com/questions/53047658/removing-unncecessary-parts-from-string/53048099#53048099", "title": "Removing unncecessary parts from String", "body": "<p>Without regex by string manipulation and assuming that this is the pattern:</p>\n\n<pre><code>fun main(args: Array &lt;String&gt; ) {\n    val str = \"BOOKING - PAID (price.amount=70, price.currency=EUR)\"\n\n    val type = str.substringBefore(\"(\").trim()\n    val price =  str.substringBeforeLast(\",\").substringAfter(\"=\")\n    val currency = str.substringAfterLast(\"=\").substringBefore(\")\")\n\n    val result = \"$type ($price $currency)\"\n\n    println(result)\n}\n</code></pre>\n\n<p>will print</p>\n\n<pre><code>BOOKING - PAID (70 EUR)\n</code></pre>\n\n<p><strong>Edit</strong>: I use <code>str.substringBeforeLast(\",\")</code> to get the price, in case <code>,</code> could be used as a delimeter for decimal part in the number</p>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 2, "last_activity_date": 1540827755, "last_edit_date": 1540827755, "creation_date": 1540827005, "answer_id": 53048827, "question_id": 53047658, "link": "https://stackoverflow.com/questions/53047658/removing-unncecessary-parts-from-string/53048827#53048827", "title": "Removing unncecessary parts from String", "body": "<p>Thinking about it and as you updated your question to really remove only a part from the string, here are some approaches for removing several strings from a given string:</p>\n\n<p>Using regex:</p>\n\n<pre><code>input.replace(\"\"\"(price\\.(amount|currency)=|,)\"\"\".toRegex(), \"\")\n</code></pre>\n\n<p>Using a list of strings to remove:</p>\n\n<pre><code>sequenceOf(input, \"price.amount=\", \",\", \"price.currency=\")\n    .reduce { acc, rm -&gt; acc.replace(rm, \"\") }\n// alternatively using var:\nvar input = TODO()\nsequenceOf(\"price.amount=\", \",\", \"price.currency=\")\n    .forEach { input = input.replace(it, \"\") }\n</code></pre>\n\n<p>Still: most of the time I would rather take the other route: extracting the information you require and just print that, as also <a href=\"https://stackoverflow.com/a/53047934/6202869\">Baptiste has shown in his answer</a>. Otherwise you may start to expose answers of that service you didn't want to expose in the first place.</p>\n"}], "owner": {"reputation": 2019, "user_id": 7227475, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a18ae707e89cdc9ffc6cbbd66303ea99?s=128&d=identicon&r=PG&f=1", "display_name": "ohwelppp", "link": "https://stackoverflow.com/users/7227475/ohwelppp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "accepted_answer_id": 53048827, "answer_count": 3, "score": 0, "last_activity_date": 1540828283, "creation_date": 1540823289, "last_edit_date": 1540825939, "question_id": 53047658, "link": "https://stackoverflow.com/questions/53047658/removing-unncecessary-parts-from-string", "title": "Removing unncecessary parts from String", "body": "<p>I'm consuming a client that I cannot change and it sends me data that looks like that:</p>\n\n<pre><code>\"BOOKING - PAID (price.amount=70, price.currency=EUR)\"\n</code></pre>\n\n<p>and I would like to retrieve from that only <code>70 EUR</code></p>\n\n<p>What is the best way to do such thing in kotlin? I didn't find any <code>removeAll(\"\", \"\", ...)</code> functions for String, only replace but would have to chain them to remove both <code>price.amount</code> and <code>price.currency</code>.</p>\n\n<p>EDIT:</p>\n\n<p>Need to get BOOKING - PAID (70 EUR) actually, forgot about that part.</p>\n"}, {"tags": ["kotlin", "treeset", "sortedset"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10570530, "user_type": "registered", "profile_image": "https://graph.facebook.com/1958070584281448/picture?type=large", "display_name": "Valerii Vladimirovich Kvan", "link": "https://stackoverflow.com/users/10570530/valerii-vladimirovich-kvan"}, "edited": false, "score": 0, "creation_date": 1542368262, "post_id": 53337088, "comment_id": 93552905, "body": "it work propperly. i have checked all possible variations"}], "tags": [], "owner": {"reputation": 13, "user_id": 10570530, "user_type": "registered", "profile_image": "https://graph.facebook.com/1958070584281448/picture?type=large", "display_name": "Valerii Vladimirovich Kvan", "link": "https://stackoverflow.com/users/10570530/valerii-vladimirovich-kvan"}, "is_accepted": true, "score": 0, "last_activity_date": 1542793341, "last_edit_date": 1542793341, "creation_date": 1542368213, "answer_id": 53337088, "question_id": 53047551, "link": "https://stackoverflow.com/questions/53047551/headset-tailset-subset-in-treeset/53337088#53337088", "title": "HeadSet, TailSet, SubSet in TreeSet", "body": "<p>I have found how i can do this i create a class to whom the same nodes will be given. And change iterator of this addtional tree that i called SubSet. this is changes in KtBinary tree: </p>\n\n<pre><code>override fun subSet(fromElement: T, toElement: T): SortedSet&lt;T&gt; =\n            SubSet(this, fromElement, toElement)\n\noverride fun headSet(toElement: T): SortedSet&lt;T&gt; =\n            SubSet(this, null, toElement)\n\noverride fun tailSet(fromElement: T): SortedSet&lt;T&gt; =\n            SubSet(this, fromElement, null)\n</code></pre>\n\n<p>and this is SubSet(additional tree)</p>\n\n<pre><code>import java.util.*\n\nclass SubSet&lt;T : Comparable&lt;T&gt;&gt;(private val delegate: SortedSet&lt;T&gt;,\n                                private val fromElement: T?,\n                                private val toElement: T?) : AbstractMutableSet&lt;T&gt;(), SortedSet&lt;T&gt; {\n    override fun comparator(): Comparator&lt;in T&gt;? = delegate.comparator()\n\n    override fun subSet(fromElement: T, toElement: T): SortedSet&lt;T&gt; {\n        return SubSet(this, fromElement, toElement)\n    }\n\n    override fun headSet(toElement: T): SortedSet&lt;T&gt; {\n        return SubSet(this, null, toElement)\n    }\n\n    override fun tailSet(fromElement: T): SortedSet&lt;T&gt; {\n        return SubSet(this, fromElement, null)\n    }\n\n    override fun last(): T {\n        val iter = iterator()\n        var element = iter.next()\n        while (iter.hasNext()) {\n            element = iter.next()\n        }\n        return element\n    }\n\n    override fun first(): T {\n        return iterator().next()\n    }\n\n    override fun add(element: T): Boolean {\n        return when {\n            fromElement == null &amp;&amp; toElement == null -&gt; false\n            fromElement == null &amp;&amp; element &lt; toElement!! -&gt; delegate.add(element)\n            toElement == null &amp;&amp; element &gt;= fromElement!! -&gt; delegate.add(element)\n            element &gt;= fromElement!! &amp;&amp; element &lt; toElement!! -&gt; delegate.add(element)\n            else -&gt; false\n        }\n    }\n\n    override fun remove(element: T): Boolean {\n        return when {\n            fromElement == null &amp;&amp; toElement == null -&gt; false\n            fromElement == null &amp;&amp; element &lt; toElement!! -&gt; delegate.remove(element)\n            toElement == null &amp;&amp; element &gt;= fromElement!! -&gt; delegate.remove(element)\n            element &gt;= fromElement!! &amp;&amp; element &lt; toElement!! -&gt; delegate.remove(element)\n            else -&gt; false\n        }\n    }\n\n    override fun iterator(): MutableIterator&lt;T&gt; = object : MutableIterator&lt;T&gt; {\n        private val delegate = this@SubSet.delegate.iterator()\n\n        private var next: T? = null\n\n        init {\n            while (delegate.hasNext()) {\n                if (fromElement == null) {\n                    this.next = delegate.next()\n                    break\n                }\n                val next = delegate.next()\n                if (next &gt;= fromElement) {\n                    this.next = next\n                    break\n                }\n            }\n        }\n\n        override fun hasNext(): Boolean {\n            val n = next ?: return false\n            return n &lt; toElement ?: return true\n        }\n\n        override fun next(): T {\n            val result = next ?: throw NoSuchElementException()\n            next = if (delegate.hasNext()) delegate.next() else null\n            return result\n        }\n\n        override fun remove() {\n            delegate.remove()\n        }\n\n    }\n\n    override val size: Int\n        get() = when {\n            fromElement == null &amp;&amp; toElement == null -&gt; 0\n            fromElement == null -&gt; delegate.count { it &lt; toElement!! }\n            toElement == null -&gt; delegate.count { it &gt;= fromElement }\n            else -&gt; delegate.count { it &gt;= fromElement &amp;&amp; it &lt; toElement }\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10570530, "user_type": "registered", "profile_image": "https://graph.facebook.com/1958070584281448/picture?type=large", "display_name": "Valerii Vladimirovich Kvan", "link": "https://stackoverflow.com/users/10570530/valerii-vladimirovich-kvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "accepted_answer_id": 53337088, "answer_count": 1, "score": 0, "last_activity_date": 1542793341, "creation_date": 1540822931, "last_edit_date": 1542368452, "question_id": 53047551, "link": "https://stackoverflow.com/questions/53047551/headset-tailset-subset-in-treeset", "title": "HeadSet, TailSet, SubSet in TreeSet", "body": "<p>How does the relation between (headSet, TailSet, Subset) and TreeSet work? When you remove some elements from tree if this elements contains in Headset, TailSet or SubSet it will be removed in this sets. I want to make my own implementation of Binary Search Tree, and I want to know how this relation is works. Can someone please explain or give some resources where I can find information? This all I have:<br>\ninterface:</p>\n\n<pre><code>import java.util.*\ninterface CheckableSortedSet&lt;T&gt; : SortedSet&lt;T&gt; {\n    fun checkInvariant(): Boolean\n}\n</code></pre>\n\n<p>class</p>\n\n<pre><code>    import java.util.*\n    import kotlin.NoSuchElementException\n    import java.util.TreeSet\n\nclass KtBinaryTree&lt;T : Comparable&lt;T&gt;&gt; : AbstractMutableSet&lt;T&gt;(), CheckableSortedSet&lt;T&gt; {\n\nprivate var root: Node&lt;T&gt;? = null\n\noverride var size = 0\n    private set\n\nprivate class Node&lt;T&gt;(val value: T) {\n\n    var left: Node&lt;T&gt;? = null\n\n    var right: Node&lt;T&gt;? = null\n}\n\noverride fun add(element: T): Boolean {\n    val closest = find(element)\n    val comparison = if (closest == null) -1 else element.compareTo(closest.value)\n    if (comparison == 0) {\n        return false\n    }\n    val newNode = Node(element)\n    when {\n        closest == null -&gt; root = newNode\n        comparison &lt; 0 -&gt; {\n            assert(closest.left == null)\n            closest.left = newNode\n        }\n        else -&gt; {\n            assert(closest.right == null)\n            closest.right = newNode\n        }\n    }\n    size++\n    return true\n}\n\noverride fun checkInvariant(): Boolean =\n        root?.let { checkInvariant(it) } ?: true\n\nprivate fun checkInvariant(node: Node&lt;T&gt;): Boolean {\n    val left = node.left\n    if (left != null &amp;&amp; (left.value &gt;= node.value || !checkInvariant(left))) return false\n    val right = node.right\n    return right == null || right.value &gt; node.value &amp;&amp; checkInvariant(right)\n}\n\noverride fun remove(element: T): Boolean {\n    var currentNode = root ?: return false\n    var parentNode = root ?: return false\n    var onRight = true\n    while (currentNode.value != element) {\n        parentNode = currentNode\n        if (element &gt; currentNode.value) {\n            currentNode = currentNode.right ?: return false\n            onRight = true\n        } else if (element &lt; currentNode.value) {\n            currentNode = currentNode.left ?: return false\n            onRight = false\n        }\n    }\n    if (currentNode.left == null &amp;&amp; currentNode.right == null) {\n        //if removal point is leaf\n        when {\n            currentNode == root -&gt; root = null\n            onRight -&gt; parentNode.right = null\n            else -&gt; parentNode.left = null\n        }\n    } else if (currentNode.left == null) {\n        //if removal point have only right child\n        if (currentNode == root) root = currentNode.right\n        else {\n            val right = currentNode.right ?: return false\n            setNode(onRight, parentNode, right)\n        }\n    } else if (currentNode.right == null) {\n        //if removal point have only left child\n        if (currentNode == root) root = currentNode.left\n        else {\n            val left = currentNode.left ?: return false\n            setNode(onRight, parentNode, left)\n        }\n    } else {\n        //worst case - if removal point have both children\n        var minNode = currentNode.right ?: return false\n        var parentMinNode = currentNode.right ?: return false\n        while (minNode.left != null) {\n            parentMinNode = minNode\n            val left = minNode.left ?: return false\n            minNode = left\n        }\n        when {\n            currentNode == root &amp;&amp; parentMinNode == minNode -&gt; {\n                val rootLeft = root!!.left\n                root = minNode\n                minNode.left = rootLeft\n            }\n            currentNode == root &amp;&amp; parentMinNode != minNode -&gt; {\n                parentMinNode.left = minNode.right\n                root = minNode\n                minNode.left = currentNode.left\n                minNode.right = currentNode.right\n            }\n            parentMinNode == minNode -&gt; setNode(onRight, parentNode, minNode)\n            else -&gt; {\n                parentMinNode.left = minNode.right\n                minNode.right = currentNode.right\n                minNode.left = currentNode.left\n                setNode(onRight, parentNode, minNode)\n            }\n        }\n        minNode.left = currentNode.left\n    }\n    size--\n    return true\n}\n\nprivate fun setNode(onRight: Boolean, parentNode: Node&lt;T&gt;, currentNode: Node&lt;T&gt;) {\n    if (onRight)\n        parentNode.right = currentNode\n    else parentNode.left = currentNode\n}\n\noverride operator fun contains(element: T): Boolean {\n    val closest = find(element)\n    return closest != null &amp;&amp; element.compareTo(closest.value) == 0\n}\n\nprivate fun find(value: T): Node&lt;T&gt;? =\n        root?.let { find(it, value) }\n\nprivate fun find(start: Node&lt;T&gt;, value: T): Node&lt;T&gt; {\n    val comparison = value.compareTo(start.value)\n    return when {\n        comparison == 0 -&gt; start\n        comparison &lt; 0 -&gt; start.left?.let { find(it, value) } ?: start\n        else -&gt; start.right?.let { find(it, value) } ?: start\n    }\n}\n\ninner class BinaryTreeIterator : MutableIterator&lt;T&gt; {\n\n    private var current: Node&lt;T&gt;? = null\n\n    private fun findNext(): Node&lt;T&gt;? {\n        val currentNode = current ?: return find(first())\n        if (currentNode.value == last()) return null\n        if (currentNode.right != null) {\n            var successor = currentNode.right ?: throw IllegalArgumentException()\n            while (successor.left != null) {\n                successor = successor.left ?: return successor\n            }\n            return successor\n        } else {\n            var successor = root ?: throw IllegalArgumentException()\n            var ancestor = root ?: throw IllegalArgumentException()\n            while (ancestor != currentNode) {\n                if (currentNode.value &lt; ancestor.value) {\n                    successor = ancestor\n                    ancestor = ancestor.left ?: return null\n                } else ancestor = ancestor.right ?: return null\n            }\n            return successor\n        }\n    }\n\n    override fun hasNext(): Boolean = findNext() != null\n\n    override fun next(): T {\n        current = findNext()\n        return (current ?: throw NoSuchElementException()).value\n    }\n\n\noverride fun subSet(fromElement: T, toElement: T): SortedSet&lt;T&gt; =\n        tailSet(fromElement).intersect(headSet(toElement)).toSortedSet()\n\noverride fun headSet(toElement: T): SortedSet&lt;T&gt; {\n    val flag = this.contains(toElement)\n    if (!flag) this.add(toElement)\n    val setOfMax = mutableSetOf&lt;T&gt;()\n    val iter = iterator()\n    var element: T = iter.next()\n    while (element != toElement) {\n        if (!iter.hasNext()) throw IllegalArgumentException()\n        setOfMax.add(element)\n        element = iter.next()\n    }\n    if (!flag) this.remove(toElement)\n    return setOfMax.toSortedSet()\n}\n\n\noverride fun tailSet(fromElement: T): SortedSet&lt;T&gt; {\n    val flag = !this.contains(fromElement)\n    if (flag) this.add(fromElement)\n    val setOfMax = mutableSetOf&lt;T&gt;()\n    val iter = this.iterator()\n    var element: T = iter.next()\n    while (element != fromElement) {\n        element = iter.next()\n    }\n    while (element != last()) {\n        setOfMax.add(element)\n        element = iter.next()\n    }\n    if (flag) this.remove(fromElement)\n    setOfMax.add(element)\n    return setOfMax.toSortedSet()\n}\n\noverride fun first(): T {\n    var current: Node&lt;T&gt; = root ?: throw NoSuchElementException()\n    while (current.left != null) {\n        current = current.left!!\n    }\n    return current.value\n}\n\noverride fun last(): T {\n    var current: Node&lt;T&gt; = root ?: throw NoSuchElementException()\n    while (current.right != null) {\n        current = current.right!!\n    }\n    return current.value\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["kotlin", "jetty-9"], "answers": [{"comments": [{"owner": {"reputation": 665, "user_id": 2219787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a55bc3361868c44c9165241a5e7011d4?s=128&d=identicon&r=PG", "display_name": "Michi Gysel", "link": "https://stackoverflow.com/users/2219787/michi-gysel"}, "reply_to_user": {"reputation": 17, "user_id": 8890888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b67df13292b9a45e83cbb1cdb661e51d?s=128&d=identicon&r=PG&f=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/8890888/marc"}, "edited": false, "score": 0, "creation_date": 1540890890, "post_id": 53048647, "comment_id": 93020190, "body": "Just one more hint: You can also enable <a href=\"https://dzone.com/articles/enabling-and-analysing-the-garbage-collection-log\" rel=\"nofollow noreferrer\">Garbage Collection logs</a> in your productive application to analyze memory. Those logs can be verify tedious to read, I would recommend to use a tool such as <a href=\"https://github.com/chewiebug/GCViewer\" rel=\"nofollow noreferrer\">GCViewer</a> to analyze them.  Hopefully I able to point you to some ideas. Would you mind accepting the answer if you are happy with it?"}, {"owner": {"reputation": 17, "user_id": 8890888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b67df13292b9a45e83cbb1cdb661e51d?s=128&d=identicon&r=PG&f=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/8890888/marc"}, "edited": false, "score": 0, "creation_date": 1540922107, "post_id": 53048647, "comment_id": 93038783, "body": "Michael,  JProfiler was very helpful and identified a couple of areas that needed improvement. Thank you! I don&#39;t know how to accept your answer though."}, {"owner": {"reputation": 665, "user_id": 2219787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a55bc3361868c44c9165241a5e7011d4?s=128&d=identicon&r=PG", "display_name": "Michi Gysel", "link": "https://stackoverflow.com/users/2219787/michi-gysel"}, "reply_to_user": {"reputation": 17, "user_id": 8890888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b67df13292b9a45e83cbb1cdb661e51d?s=128&d=identicon&r=PG&f=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/8890888/marc"}, "edited": false, "score": 0, "creation_date": 1540973624, "post_id": 53048647, "comment_id": 93055167, "body": "Good to hear! Here is how accepting answers works: <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "tags": [], "owner": {"reputation": 665, "user_id": 2219787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a55bc3361868c44c9165241a5e7011d4?s=128&d=identicon&r=PG", "display_name": "Michi Gysel", "link": "https://stackoverflow.com/users/2219787/michi-gysel"}, "is_accepted": false, "score": 0, "last_activity_date": 1540826413, "creation_date": 1540826413, "answer_id": 53048647, "question_id": 53046929, "link": "https://stackoverflow.com/questions/53046929/jetty-performance/53048647#53048647", "title": "Jetty Performance", "body": "<p>I would use a JVM profiler such as <a href=\"https://www.yourkit.com/\" rel=\"nofollow noreferrer\">YourKit</a> or <a href=\"https://www.ej-technologies.com/products/jprofiler/overview.html\" rel=\"nofollow noreferrer\">JProfiler</a> to measure where exactly the bottlenecks are. Sometimes little problems cause major performance headaches. Given you profile the actual installation that causes problems, you'll also see memory usage. Not enough memory can cause blocking Garbage Collections.</p>\n"}], "owner": {"reputation": 17, "user_id": 8890888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b67df13292b9a45e83cbb1cdb661e51d?s=128&d=identicon&r=PG&f=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/8890888/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540826413, "creation_date": 1540820957, "question_id": 53046929, "link": "https://stackoverflow.com/questions/53046929/jetty-performance", "title": "Jetty Performance", "body": "<p>I've recently inherited a project written in Kotlin and extends Jetty 9.</p>\n\n<p>This project is a proxy to our company's current production custom web-server written in C sharp.</p>\n\n<p>In the process of testing the impact this proxy has on the performance of a simple hello world web-service call to the server I've seen the response time quadruple compared to calling the service directly through the web-server.</p>\n\n<p>The choice to use Jetty and Kotlin was made before I joined the company and the original developer is no longer with the company so I can't answer any questions on why this was done this way. I've also not worked with either Kotlin or Jetty before.</p>\n\n<p>So, does anyone have any suggestions on how to improve the performance of the proxy - server interaction?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["kotlin", "swagger"], "comments": [{"owner": {"reputation": 57048, "user_id": 113116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0v1H.png?s=128&g=1", "display_name": "Helen", "link": "https://stackoverflow.com/users/113116/helen"}, "edited": false, "score": 0, "creation_date": 1540819683, "post_id": 53046059, "comment_id": 92992477, "body": "1) Can you provide some more details about what you are trying to do, what result you expect and what exactly is not working? As your question is currently written, it&#39;s hard to tell what the problem is. 2) OpenAPI Specification and Swagger tools only support maps with string keys so they cannot natively represent <code>Pair&lt;Int, ...&gt;</code> and <code>Map&lt;Pair, ..&gt;</code>. Whether or not something like this can possibly work probably depends on how serialization/deserialization are implemented."}, {"owner": {"reputation": 57048, "user_id": 113116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0v1H.png?s=128&g=1", "display_name": "Helen", "link": "https://stackoverflow.com/users/113116/helen"}, "edited": false, "score": 0, "creation_date": 1540842316, "post_id": 53046059, "comment_id": 93004996, "body": "By &quot;&lt;*&gt;: [...]&quot; do you mean something <a href=\"https://i.stack.imgur.com/A6CuA.png\" rel=\"nofollow noreferrer\">like this</a>, that is, the model structure as displayed in Swagger UI? If so, that&#39;s simply Swagger UI&#39;s way to indicate that the structure is a dictionary / hashmap. You can, however, provide an <code>example</code> (sample JSON) to be displayed on the &quot;Example Value&quot; tab in Swagger UI."}, {"owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "reply_to_user": {"reputation": 57048, "user_id": 113116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0v1H.png?s=128&g=1", "display_name": "Helen", "link": "https://stackoverflow.com/users/113116/helen"}, "edited": false, "score": 0, "creation_date": 1540936965, "post_id": 53046059, "comment_id": 93045243, "body": "I cannot upload example to swagger because of this issue <a href=\"https://github.com/springfox/springfox/issues/2352\" rel=\"nofollow noreferrer\">github.com/springfox/springfox/issues/2352</a>."}], "owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540822727, "creation_date": 1540818008, "last_edit_date": 1540822727, "question_id": 53046059, "link": "https://stackoverflow.com/questions/53046059/swagger-pair-of-int-and-string-as-key-in-map", "title": "Swagger Pair of int and string as key in map", "body": "<p>Hi I'm forcing problem with probably deserializer. So I've got response object like: </p>\n\n<pre><code>Map&lt;Pair&lt;Int, String&gt;, List&lt;DTO&gt;&gt;\n</code></pre>\n\n<p>But in swagger model it's visible as:</p>\n\n<blockquote>\n  <p>{ &lt; * >:  [...] }</p>\n</blockquote>\n\n<p>Ofc I have jackson deserializer based on <a href=\"https://stackoverflow.com/questions/11246748/deserializing-non-string-map-keys-with-jackson\">Deserializing non-string map keys with Jackson</a></p>\n\n<p><strong>Update :</strong>\nI'm expecting to have  instead of &lt; * >. Or some nammed by me values like <em>id</em> and <em>name</em>. I've also tried to set Object in place of key instead of pair but nothing happens. </p>\n\n<pre><code>Map&lt;Keyobj, List&lt;DTO&gt;&gt;\ndata class Keyobj(val int: Int, val string: String)\n</code></pre>\n"}, {"tags": ["java", "encryption", "kotlin", "private-key", "pkcs#8"], "comments": [{"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1540854895, "post_id": 53045840, "comment_id": 93009861, "body": "PKCS#1 defines a RSA format. You&#39;re probably using a X9.62 formatted private key. PKCS#8 contains this key, so it would probably be easier to convert it to X9.62 than the other way around/"}, {"owner": {"reputation": 658, "user_id": 4182946, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh6.googleusercontent.com/-Cbh2k0RN26U/AAAAAAAAAAI/AAAAAAAAADE/3unk-s0QwlI/photo.jpg?sz=128", "display_name": "TooLazy", "link": "https://stackoverflow.com/users/4182946/toolazy"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1540884613, "post_id": 53045840, "comment_id": 93017366, "body": "Not sure i understand you. According to secp256k1 my original private key is not X9.62 formatted. Or do you mean PKCS1 formatted key?"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1540925152, "post_id": 53045840, "comment_id": 93040235, "body": "Again, PKCS#1 doesn&#39;t play a role here. PKCS#1 stands for Public Key Crypto Standard from RSA laboratories. #1 specifies RSA itself. You can read the RFC online. It has literally nothing to do with ECC. Only RSA public and priate keys can be stored using PKCS#1, and those can be wrapped with PKCS#8 to indicate the key type and possibly to encrypt them. PKCS#8 an also be used to wrap other formats though, such as X9.62 keys, which are commonly Prime curves or Koblitz curves."}, {"owner": {"reputation": 658, "user_id": 4182946, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh6.googleusercontent.com/-Cbh2k0RN26U/AAAAAAAAAAI/AAAAAAAAADE/3unk-s0QwlI/photo.jpg?sz=128", "display_name": "TooLazy", "link": "https://stackoverflow.com/users/4182946/toolazy"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1540980099, "post_id": 53045840, "comment_id": 93058601, "body": "Thnx, but i still cannot figure out what to do in my case."}], "answers": [{"comments": [{"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1541109036, "post_id": 53109829, "comment_id": 93114946, "body": "I&#39;ll let you replace the type with <code>val</code>, remove the <code>new</code> keyword and of course strip of the final semicolons, if you don&#39;t mind."}, {"owner": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "edited": false, "score": 0, "creation_date": 1541120482, "post_id": 53109829, "comment_id": 93117853, "body": "I know it seems like I&#39;m stalking you, but was privatekey ASN.1 added to X9.62? Having not shelled out moolah I have only a draft of -1999, but SECG:SEC1v2-2009 cites parameters, publickey and signature to rfc3279-2002 and rfc5480-2009 which in turn respectively cite X9.62-1999 and -2005, but neither SEC1 nor rfc5915-2010 cites privatekey; SEC1 defines (near-trivial) i2os directly while rfc5915 cites rfc3447=PKCS1v2.1. I have therefore been citing SEC1 for EC privatekey format. (I concur it&#39;s not PKCS1 of course.)"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "edited": false, "score": 0, "creation_date": 1541123327, "post_id": 53109829, "comment_id": 93118396, "body": "I haven&#39;t got it either, I suppose the RFC has taken it from SEC1 v2, section C4. I just assumed X9.62 because it is in the PKCS#8 as OID. However, it may be that SEC1 just reused the existing OID for the private key format and that X9.62 doesn&#39;t specify it at all. It isn&#39;t really required for performing ECC operations after all."}], "tags": [], "owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "is_accepted": true, "score": 1, "last_activity_date": 1541109507, "last_edit_date": 1541109507, "creation_date": 1541108967, "answer_id": 53109829, "question_id": 53045840, "link": "https://stackoverflow.com/questions/53045840/kotlin-convert-pkcs1-to-pkcs8/53109829#53109829", "title": "Kotlin convert PKCS1 to PKCS8", "body": "<p>As indicated, the private key is in X9.62 format. It cannot be in PKCS#1 format because that format specifies RSA, not ECC.</p>\n\n<p>Furthermore, your PKCS#8 private key contains <em>more</em> information than the X9.62 formatted private key that you've extracted from it. You can see the decoding of PKCS#8 <a href=\"https://lapo.it/asn1js/#MIGNAgEAMBAGByqGSM49AgEGBSuBBAAKBHYwdAIBAQQgnN2lDp6DkGYlcpHby9vZqKF381CqUioSgWOrfpVWIsWgBwYFK4EEAAqhRANCAAQ5LSQ2aYx6J16BCntODx3Ma7-3DYX_jfUBKqdp4yxBy5fY8exKd_4DoxqkdWaEKghi3bCN-wzhpwne6JukGfTX\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>SEQUENCE (3 elem)\n  INTEGER 0\n  SEQUENCE (2 elem)\n    OBJECT IDENTIFIER 1.2.840.10045.2.1 ecPublicKey (ANSI X9.62 public key type)\n    OBJECT IDENTIFIER 1.3.132.0.10 secp256k1 (SECG (Certicom) named elliptic curve)\n  OCTET STRING (1 elem)\n    SEQUENCE (4 elem)\n      INTEGER 1\n      OCTET STRING (32 byte) 9CDDA50E9E839066257291DBCBDBD9A8A177F350AA522A128163AB7E955622C5\n      [0] (1 elem)\n        OBJECT IDENTIFIER 1.3.132.0.10 secp256k1 (SECG (Certicom) named elliptic curve)\n      [1] (1 elem)\n        BIT STRING (520 bit) ... the optional public key ...\n</code></pre>\n\n<p>The internal X9.62 key is the sequence <em>within</em> the octet string and the secret (S) is the 32 byte octet string.</p>\n\n<p>So you have to add back the information. This is an <code>AlgorithmIdentifier</code> that indicates <code>ecPublicKey</code> <em>operations</em> as well as the curve used (repeated for the public key).</p>\n\n<p>So without further ado, the operations to recreate the PKCS#8 structure (with <code>x962</code> replacing <code>pkcs1</code>):</p>\n\n<pre><code>ASN1Primitive prim = ASN1Primitive.fromByteArray(x962);\nPrivateKeyInfo keyInfo = new PrivateKeyInfo(new AlgorithmIdentifier(\n        X9ObjectIdentifiers.id_ecPublicKey,\n        SECObjectIdentifiers.secp256k1), prim);\n</code></pre>\n\n<p>note that this is the non-encrypted variant of PKCS#8 which just shows the private key type. The encrypted variant encrypts this structure and adds information on the used wrapping mechanism (e.g. AES encrypted).</p>\n"}], "owner": {"reputation": 658, "user_id": 4182946, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh6.googleusercontent.com/-Cbh2k0RN26U/AAAAAAAAAAI/AAAAAAAAADE/3unk-s0QwlI/photo.jpg?sz=128", "display_name": "TooLazy", "link": "https://stackoverflow.com/users/4182946/toolazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "accepted_answer_id": 53109829, "answer_count": 1, "score": 1, "last_activity_date": 1541109817, "creation_date": 1540817204, "last_edit_date": 1541109817, "question_id": 53045840, "link": "https://stackoverflow.com/questions/53045840/kotlin-convert-pkcs1-to-pkcs8", "title": "Kotlin convert PKCS1 to PKCS8", "body": "<p>I generate private key this way:</p>\n\n<pre><code>val keyPairGenerator = KeyPairGenerator.getInstance(\"ECDSA\", \"SC\")\nval spec = ECGenParameterSpec(\"secp256k1\")\nkeyPairGenerator.initialize(spec, SecureRandom())\nkeyPairGenerator.genKeyPair()\nval kp = keyPairGenerator.generateKeyPair()\n</code></pre>\n\n<p>And im getting <code>144</code> length private key. Then i convert my private key to <code>PKCS1</code> format:</p>\n\n<pre><code>val pkInfo = PrivateKeyInfo.getInstance(kp.private.encoded)\nval encodable = pkInfo.parsePrivateKey()\nval primitive = encodable.toASN1Primitive()\nval pkcs1 = primitive.encoded //118 length here\n</code></pre>\n\n<p>In come cases i need to convert <code>pkcs1</code> back to <code>pkcs8</code>. And that's unclear for me. Cannot find any working solution. Is it even possible?</p>\n\n<p>P.S. pkcs8 to pkcs1 convertion was found <a href=\"https://stackoverflow.com/a/29892431/4182946\">here</a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1540818032, "post_id": 53045675, "comment_id": 92991501, "body": "please put your code."}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1540822395, "post_id": 53045675, "comment_id": 92994327, "body": "What do you want to achieve here? <code>faqSectionsCopy.map {                 faqSectionsCopy[0].faqQuestions = it.faqQuestions.filter { it.question.contains(text) } as ArrayList&lt;FAQQuestion&gt;             }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1561, "user_id": 1043006, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/76b8868436c9697cc2ffd0147d5504b0?s=128&d=identicon&r=PG", "display_name": "Ahmed Awad", "link": "https://stackoverflow.com/users/1043006/ahmed-awad"}, "edited": false, "score": 0, "creation_date": 1540821036, "post_id": 53045803, "comment_id": 92993386, "body": "Kindly check the updated code, toMutableList is not working in my case for some reason"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1540817093, "creation_date": 1540817093, "answer_id": 53045803, "question_id": 53045675, "link": "https://stackoverflow.com/questions/53045675/lists-pass-by-value/53045803#53045803", "title": "Lists pass by value?", "body": "<p>You cannot pass data by value in <em>Kotlin</em> or <em>Java</em>. Instead you should ensure to work on a copy when you retrieve the data:</p>\n\n<pre><code>fun withList(listOfLists: List&lt;List&lt;Any&gt;&gt;) {\n    ...\n    val list = listOfLists[0].toMutableList()\n    ...\n}\n</code></pre>\n\n<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-mutable-list.html\" rel=\"nofollow noreferrer\"><code>toMutableList</code></a> extension function will then create a mutable copy of the list and therefore the original will not change. As both levels of the parameter are of type <code>List</code>, the values are immutable themself.</p>\n"}, {"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1540822320, "last_edit_date": 1540822320, "creation_date": 1540820620, "answer_id": 53046823, "question_id": 53045675, "link": "https://stackoverflow.com/questions/53045675/lists-pass-by-value/53046823#53046823", "title": "Lists pass by value?", "body": "<p>Actually every data pass in Java/Kotlin is by value. Except that in this situation you're passing a reference by value but not the list itself.</p>\n\n<p>To pass a copy of list, you can</p>\n\n<ul>\n<li>passed using <code>yourList.toList()</code> which will make a copy of the list and return an immutable list</li>\n<li>explicitly create new mutable <code>ArrayList(yourList)</code></li>\n</ul>\n"}], "owner": {"reputation": 1561, "user_id": 1043006, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/76b8868436c9697cc2ffd0147d5504b0?s=128&d=identicon&r=PG", "display_name": "Ahmed Awad", "link": "https://stackoverflow.com/users/1043006/ahmed-awad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540840232, "creation_date": 1540816632, "last_edit_date": 1540840232, "question_id": 53045675, "link": "https://stackoverflow.com/questions/53045675/lists-pass-by-value", "title": "Lists pass by value?", "body": "<p>I'm trying to make a copy of my list that contains arraylists inside of it, but when I edit the copied value, the original values gets changed, which means am passing my ref, I tried all sorts of methods like using the copy method for each item, or creating a list/mutable list from the original but it didn't work, so my question is how do you pass a value in kotlin instead of ref?</p>\n\n<p>I made the original as val and its field too.</p>\n\n<pre><code>class FAQAdapter(val faqModel: MutableList&lt;FAQSection&gt;) : RecyclerView.Adapter&lt;FAQAdapter.ViewHolder&gt;() {\n\n    val faqOriginal: List&lt;FAQSection&gt;\n    var faqSectionsCopy: MutableList&lt;FAQSection&gt;\n\n    init {\n        faqOriginal = faqModel\n        faqSectionsCopy = faqModel.toMutableList()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.faq_section_item, parent, false))\n    }\n\n    override fun getItemCount(): Int {\n        return faqSectionsCopy.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n        holder.faqSectionHeading.text =\n                faqSectionsCopy.get(holder.adapterPosition).sectionheader\n\n        holder.questionsRecyclerView.layoutManager =\n                LinearLayoutManager(holder.itemView.context,\n                        LinearLayoutManager.VERTICAL, false)\n\n        holder.questionsRecyclerView.adapter =\n                FAQQuestionsAdapter(faqSectionsCopy.get(holder.adapterPosition)\n                        .faqQuestions)\n\n        holder.questionsRecyclerView.setHasFixedSize(true)\n\n        holder.questionsRecyclerView.minimumHeight = convertDpToPx(holder.itemView.context, 88) * faqSectionsCopy.get(holder.adapterPosition).faqQuestions.size\n\n    }\n\n    fun filter(text: String) {\n        var text = text.trim().toLowerCase()\n//        faqSectionsCopy.clear()\n\n        if (text.isEmpty()) {\n//            faqSectionsCopy = faqModel as ArrayList&lt;FAQSection&gt;\n        } else {\n            text = text.toLowerCase()\n\n            faqSectionsCopy.map {\n                faqSectionsCopy[0].faqQuestions = it.faqQuestions.filter { it.question.contains(text) } as ArrayList&lt;FAQQuestion&gt;\n            }\n\n        }\n        notifyDataSetChanged()\n    }\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        var questionsRecyclerView = itemView.faqQuestionsRecyclerView\n        var faqSectionHeading = itemView.faqHeading\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "edited": false, "score": 0, "creation_date": 1540818505, "post_id": 53045577, "comment_id": 92991762, "body": "Can you login successful ? If your login succeed, there should be some users appears in the <code>Authentication</code> tab of Firebase console."}, {"owner": {"reputation": 23, "user_id": 10570908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400c102d9e0c1f1f0cb4bb6a2d5ce39e?s=128&d=identicon&r=PG&f=1", "display_name": "LVT9", "link": "https://stackoverflow.com/users/10570908/lvt9"}, "reply_to_user": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "edited": false, "score": 0, "creation_date": 1540819286, "post_id": 53045577, "comment_id": 92992232, "body": "Yes, login Authentication works perfectly, shows email and uid. But in the database collection nothing appears.."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10570908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400c102d9e0c1f1f0cb4bb6a2d5ce39e?s=128&d=identicon&r=PG&f=1", "display_name": "LVT9", "link": "https://stackoverflow.com/users/10570908/lvt9"}, "edited": false, "score": 0, "creation_date": 1540819538, "post_id": 53046413, "comment_id": 92992407, "body": "Yes Authentication works perfect, but I wanna have it saved in database for users in order to make multiplayer available, sending requests and accepting game requests..   How do I upload a image, so I can show you what design I mean, I&#39;m having difficulties to explain I believe."}, {"owner": {"reputation": 272, "user_id": 10315826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8uE0b3idyAM/AAAAAAAAAAI/AAAAAAAApXs/YwZUHUhYPPg/photo.jpg?sz=128", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/10315826/ramesh"}, "reply_to_user": {"reputation": 23, "user_id": 10570908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400c102d9e0c1f1f0cb4bb6a2d5ce39e?s=128&d=identicon&r=PG&f=1", "display_name": "LVT9", "link": "https://stackoverflow.com/users/10570908/lvt9"}, "edited": false, "score": 0, "creation_date": 1540819974, "post_id": 53046413, "comment_id": 92992654, "body": "Have you checked the database rules? if not once go through them <a href=\"https://firebase.google.com/docs/database/security/quickstart?authuser=0#configuring_rules\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/security/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 10570908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400c102d9e0c1f1f0cb4bb6a2d5ce39e?s=128&d=identicon&r=PG&f=1", "display_name": "LVT9", "link": "https://stackoverflow.com/users/10570908/lvt9"}, "edited": false, "score": 0, "creation_date": 1540820328, "post_id": 53046413, "comment_id": 92992902, "body": "service cloud.firestore {   match /databases/{database}/documents {     match /{document=**} {       allow read, write;     }   } }  That&#39;s how it look, should I edit this?"}, {"owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "edited": false, "score": 0, "creation_date": 1540820593, "post_id": 53046413, "comment_id": 92993081, "body": "I think you are using Firebase-realtimeDatabase, note FireStore? This is mine <code>{   &quot;rules&quot;: {     &quot;.read&quot;: true,     &quot;.write&quot;: true   } }</code>"}, {"owner": {"reputation": 272, "user_id": 10315826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8uE0b3idyAM/AAAAAAAAAAI/AAAAAAAApXs/YwZUHUhYPPg/photo.jpg?sz=128", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/10315826/ramesh"}, "edited": false, "score": 0, "creation_date": 1540820611, "post_id": 53046413, "comment_id": 92993100, "body": "Try this which allow the users to write data <code>service cloud.firestore {   match &#47;databases&#47;{database}&#47;documents {     match &#47;{document=**} {       allow read, write: if true;     }   } }</code>"}, {"owner": {"reputation": 23, "user_id": 10570908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400c102d9e0c1f1f0cb4bb6a2d5ce39e?s=128&d=identicon&r=PG&f=1", "display_name": "LVT9", "link": "https://stackoverflow.com/users/10570908/lvt9"}, "reply_to_user": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "edited": false, "score": 0, "creation_date": 1540821635, "post_id": 53046413, "comment_id": 92993784, "body": "@Wesely Error saving rules \u2013 Line 4: Unexpected &#39;&quot;rules&quot;&#39;.; Line 3: Missing &#39;match&#39; keyword before path.; Line 4: mismatched input &#39;&quot;rules&quot;&#39; expecting {&#39;{&#39;, &#39;/&#39;, PATH_SEGMENT}; Line 6: Unexpected &#39;}&#39;.  RameshNaidu That caused my app to immediately crash on startup"}, {"owner": {"reputation": 272, "user_id": 10315826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8uE0b3idyAM/AAAAAAAAAAI/AAAAAAAApXs/YwZUHUhYPPg/photo.jpg?sz=128", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/10315826/ramesh"}, "edited": false, "score": 0, "creation_date": 1540822349, "post_id": 53046413, "comment_id": 92994296, "body": "Using cloud Firestore is somewhat difficult for Beginners. So I suggest using Real-time database for saving user data and to retrieve the user data. If you still want to use Cloud Firestore then go through official firebase documentation <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore</a>   and to understand firebase do some more research on it."}, {"owner": {"reputation": 23, "user_id": 10570908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400c102d9e0c1f1f0cb4bb6a2d5ce39e?s=128&d=identicon&r=PG&f=1", "display_name": "LVT9", "link": "https://stackoverflow.com/users/10570908/lvt9"}, "edited": false, "score": 0, "creation_date": 1540827716, "post_id": 53046413, "comment_id": 92997759, "body": "Okey, So I tried with real-time database but it don&#39;t show the saved data as node?"}], "tags": [], "owner": {"reputation": 272, "user_id": 10315826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8uE0b3idyAM/AAAAAAAAAAI/AAAAAAAApXs/YwZUHUhYPPg/photo.jpg?sz=128", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/10315826/ramesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1540819298, "creation_date": 1540819298, "answer_id": 53046413, "question_id": 53045577, "link": "https://stackoverflow.com/questions/53045577/firebase-problems/53046413#53046413", "title": "Firebase Problems", "body": "<p>I Suggest you to check <code>Authentication</code> tab in Firebase, if any users noted then it means your code is working if not noted then it means there is a problem in your code. check the image below for clarity on <code>Authentication</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/uR5cR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 10522925, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_lZmxdK2fW4/AAAAAAAAAAI/AAAAAAAAABo/_oxpjwMat4U/photo.jpg?sz=128", "display_name": "Riccardo Fassina", "link": "https://stackoverflow.com/users/10522925/riccardo-fassina"}, "is_accepted": false, "score": 0, "last_activity_date": 1540831467, "creation_date": 1540831467, "answer_id": 53050161, "question_id": 53045577, "link": "https://stackoverflow.com/questions/53045577/firebase-problems/53050161#53050161", "title": "Firebase Problems", "body": "<p>You should create first of all a child User with a ID, usually a <em>token</em>. Inside that u'll create another child with the name of <em>images</em> or something else.\nIn theory, this method will make your life easier to find the information ;D</p>\n"}, {"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1540869463, "creation_date": 1540869463, "answer_id": 53056882, "question_id": 53045577, "link": "https://stackoverflow.com/questions/53045577/firebase-problems/53056882#53056882", "title": "Firebase Problems", "body": "<p>According to your comments, I understand that the authentication works perfectly and you are trying to add some data to the database. As I see in your code, you are trying to add data to the Firebase realtime database and not to Cloud Firestore. As I see in your code, you are using methods that are apart of Firebase realtime database SDK and not from Cloud Firestore, which is a total different product. If you are adding data to Firebase realtime database, you should select the <code>Raltime Database</code> <strong>tab</strong> as in the following image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/S70ey.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S70ey.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 23, "user_id": 10570908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/400c102d9e0c1f1f0cb4bb6a2d5ce39e?s=128&d=identicon&r=PG&f=1", "display_name": "LVT9", "link": "https://stackoverflow.com/users/10570908/lvt9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 823, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1540869463, "creation_date": 1540816327, "last_edit_date": 1540821521, "question_id": 53045577, "link": "https://stackoverflow.com/questions/53045577/firebase-problems", "title": "Firebase Problems", "body": "<p>I'm learning android studio, and at a section through the guide I follows, the firebase console has changed design dramatically and I'm stuck in the tutorials.</p>\n\n<p>The step is where I'm supposed to connect my app with firebase and load(save) data into the firebase, but I can't get it to cooperate with my code. </p>\n\n<p>I quite don't get it how I'm going to create the database, I've tried with the following:</p>\n\n<ol>\n<li>Add colleciton -> Collection ID: <strong>Users</strong> -> Field: <strong>Users</strong> -> Value: <strong>True</strong></li>\n</ol>\n\n<p><em>but when i run the app, nothing shows up in firebase?</em></p>\n\n<p>This is the code I put in my app:</p>\n\n<p><strong>LOGIN CLASS</strong></p>\n\n<pre><code>import android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.Toast\nimport com.google.firebase.auth.FirebaseAuth\nimport com.google.firebase.auth.FirebaseUser\nimport com.google.firebase.database.FirebaseDatabase\nimport kotlinx.android.synthetic.main.activity_login.*\n\n\nclass Login : AppCompatActivity() {\n\n    private var mAuth:FirebaseAuth?=null\n\n    private var database=FirebaseDatabase.getInstance()\n    private var myRef=database.reference\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n        mAuth=FirebaseAuth.getInstance()\n\n    }\n\n    fun buLoginEvent(view:View){\n\n        LoginToFirebase(etEmail.text.toString(),etPassword.text.toString())\n    }\n\n    fun LoginToFirebase(email:String,password:String){\n        mAuth!!.createUserWithEmailAndPassword(email,password)\n            .addOnCompleteListener(this){task -&gt;\n\n                if(task.isSuccessful){\n                    Toast.makeText(applicationContext,\"Successful login\", Toast.LENGTH_LONG).show()\n\n                    val currentUser=mAuth!!.currentUser\n                    // Save in database\n                    if(currentUser!=null) {\n\n                        myRef.child(\"Users\").child(SplitString(currentUser.email.toString())).setValue(currentUser.uid)\n                    }\n\n                    LoadMain()\n                }else{\n                    Toast.makeText(applicationContext,\"Login failed\", Toast.LENGTH_LONG).show()\n                }\n            }\n    }\n\n    override fun onStart() {\n        super.onStart()\n        LoadMain()\n    }\n\n    fun LoadMain(){\n        val currentUser=mAuth!!.currentUser\n\n        if(currentUser!=null) {\n\n            var intent=Intent(this, MainActivity::class.java)\n            intent.putExtra(\"email\", currentUser.email)\n            intent.putExtra(\"uid\", currentUser.uid)\n\n            startActivity(intent)\n        }\n    }\n\n    fun SplitString(str:String):String{\n        var splitStr=str.split(\"@\")\n        return splitStr[0]\n    }\n}\n</code></pre>\n\n<p><strong>MAIN ACTIVITY</strong></p>\n\n<pre><code>// Database instance\n    private var database= FirebaseDatabase.getInstance()\n    private var myRef=database.reference\n\n    var myEmail:String?=null\n\n    private var mFireBaseAnalytics:FirebaseAnalytics?=null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        mFireBaseAnalytics= FirebaseAnalytics.getInstance(this)\n\n        val b:Bundle=intent.extras\n        myEmail=b.getString(\"email\")\n    }\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "casting", "okhttp", "json-deserialization"], "comments": [{"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 1, "creation_date": 1558346883, "post_id": 53045393, "comment_id": 99057798, "body": "You need <a href=\"https://stackoverflow.com/a/16430704/3496570\">stackoverflow.com/a/16430704/3496570</a>"}, {"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 1, "creation_date": 1558350766, "post_id": 53045393, "comment_id": 99059938, "body": "and <a href=\"https://stackoverflow.com/a/45952201/3496570\">stackoverflow.com/a/45952201/3496570</a>"}, {"owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "reply_to_user": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 1, "creation_date": 1558441392, "post_id": 53045393, "comment_id": 99095127, "body": "Thank you! Nice timing since I just came back to this project."}, {"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 1, "creation_date": 1558506135, "post_id": 53045393, "comment_id": 99118382, "body": "Answer your own question if you are succeeded"}, {"owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "reply_to_user": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 1, "creation_date": 1558516989, "post_id": 53045393, "comment_id": 99124117, "body": "I will, but for now it&#39;s in my backlog due to more pressing issues."}], "owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1540815621, "creation_date": 1540815621, "question_id": 53045393, "link": "https://stackoverflow.com/questions/53045393/casting-response-to-return-moddel-using-generic-type-to-deserialise-api-response", "title": "Casting response to return moddel using Generic type to deserialise api response", "body": "<p>I have an API that returns a wrapped result and I want to make one generic wrapper instead of 20.</p>\n\n<p>However I can't get the result value to be cast to my generic type.\nThis is the code:</p>\n\n<p>On response  from api:</p>\n\n<pre><code>override fun onResponse(call: Call, response: Response) {\n\n        val userResponse = response.getResultAs&lt;UserResponse&gt;()\n\n        userResponse?.let { user -&gt;\n            App.shared.userSettings.edit().putString(UserSettingsKeys.ACTIVE_USER.key,\n                    ObjectMapper().writeValueAsString(user)).apply()\n            App.shared.userSettings.edit().putString(UserSettingsKeys.TOKEN.key,\n                    response.header(\"Authorization\")).apply()\n            presenter?.onLoginSuccess(user)\n        } ?: presenter?.onLoginFailure(\"No response returned\")\n}\n</code></pre>\n\n<p>Extension for the result class:</p>\n\n<pre><code>fun &lt;T&gt; Response.getResultAs(): T? {\n\n    this.body()?.string()?.let {\n        val mapper = jacksonObjectMapper()\n        val obj = JsonParser().parse(it).asJsonObject.toString()\n        val baseResponseWrapper: BaseResponseWrapper&lt;T&gt; = mapper.readValue(obj)\n\n        when {\n            baseResponseWrapper.errorValues != null -&gt; {\n                baseResponseWrapper.logErrorMessage = \"invalid credentials\"\n            }\n\n            baseResponseWrapper.returnVal == null -&gt; {\n                baseResponseWrapper.logErrorMessage = \"returnVal could not be parsed\"\n            }\n\n            else -&gt; {\n                return baseResponseWrapper.returnVal\n            }\n        }\n    }\n    return null\n}\n</code></pre>\n\n<p>Response wrapper class:</p>\n\n<pre><code>data class BaseResponseWrapper&lt;T&gt;(\n\n    @field:JsonProperty(\"returnVal\")\n    val returnVal: T? = null,\n\n    @field:JsonProperty(\"errorDescription\")\n    val errorDescription: String? = null,\n\n    @field:JsonProperty(\"errorCode\")\n    val errorCode: Int? = null,\n\n    @field:JsonProperty(\"errorValues\")\n    val errorValues: Any? = null,\n\n    var logErrorMessage: String? = null\n\n)\n</code></pre>\n\n<p>It parses the data into a correctly formated Linked Hash map, not as my class.\nThis is my state just before it crashes in debug:</p>\n\n<pre><code>baseResponseWrapper.returnVal = {LinkedHashMap@7400}  size = 9  \n0 = {LinkedHashMap$LinkedHashMapEntry@7409} \"isInfluencer\" -&gt; \"false\"  \n1 = {LinkedHashMap$LinkedHashMapEntry@7410} \"currentUserBranchUsername\" -&gt; \"000\"  \n2 = {LinkedHashMap$LinkedHashMapEntry@7411} \"parentUser\" -&gt; \" size = 4\"  \n3 = {LinkedHashMap$LinkedHashMapEntry@7412} \"profile\" -&gt; \" size = 3\"  \n4 = {LinkedHashMap$LinkedHashMapEntry@7413} \"currentUserProfile\" -&gt; \"null\"  \n5 = {LinkedHashMap$LinkedHashMapEntry@7414} \"email\" -&gt; \"null\"  \n6 = {LinkedHashMap$LinkedHashMapEntry@7415} \"userName\" -&gt; \"null\"  \n7 = {LinkedHashMap$LinkedHashMapEntry@7416} \"muviId\" -&gt; \"null\"  \n8 = {LinkedHashMap$LinkedHashMapEntry@7417} \"userId\" -&gt; \"0000-0000-0000\"\n</code></pre>\n\n<p>and this is my console error:</p>\n\n<blockquote>\n  <p>2018-10-29 12:56:15.401 1916-1962/com.appshack.livetree\n  E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher\n      Process: com.appshack.livetree, PID: 1916\n      java.lang.IllegalStateException: closed\n          at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:408)\n          at okio.RealBufferedSource.rangeEquals(RealBufferedSource.java:402)\n          at okhttp3.internal.Util.bomAwareCharset(Util.java:469)\n          at okhttp3.ResponseBody.string(ResponseBody.java:175)\n          at com.appshack.livetree.utililty.extensions.OkHttpResult_getResultAsKt.getResultAs(OkHttpResult+getResultAs.kt:17)\n          at com.appshack.livetree.ui.outside.login.LoginInteractor$loginResponseCallback$1.onResponse(LoginInteractor.kt:43)\n          at okhttp3.RealCall$AsyncCall.execute(RealCall.java:153)\n          at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n          at java.lang.Thread.run(Thread.java:761)</p>\n</blockquote>\n\n<p>Im new to generics but is there any way I can make this work?</p>\n"}, {"tags": ["java", "android", "xml", "android-layout", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9144531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c182e306ca6c11b2653ec5a01b1ddb9c?s=128&d=identicon&r=PG&f=1", "display_name": "NovDanil", "link": "https://stackoverflow.com/users/9144531/novdanil"}, "edited": false, "score": 0, "creation_date": 1540827023, "post_id": 53045388, "comment_id": 92997307, "body": "It seems to me that it doesn&#39;t matter, because of fact that the trouble is about showing default popup menu, but not about customizing it. Thanks ))"}], "tags": [], "owner": {"reputation": 7532, "user_id": 1753073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84fc25306e27dd3393559721ba869cd?s=128&d=identicon&r=PG", "display_name": "navylover", "link": "https://stackoverflow.com/users/1753073/navylover"}, "is_accepted": false, "score": 0, "last_activity_date": 1540815601, "creation_date": 1540815601, "answer_id": 53045388, "question_id": 53044948, "link": "https://stackoverflow.com/questions/53044948/popup-menu-for-copy-paste-does-not-appear-in-full-size/53045388#53045388", "title": "Popup menu for Copy/Paste does not appear in full size", "body": "<pre><code>val view = inflater.inflate(R.layout.util_description_fragment, container, false)\n......\nval popup = PopupMenu(wrapper, view)\n</code></pre>\n\n<p>According to above codes, the anchor view for this popup would be fragment. But it should be EditText, right?</p>\n"}], "owner": {"reputation": 51, "user_id": 9144531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c182e306ca6c11b2653ec5a01b1ddb9c?s=128&d=identicon&r=PG&f=1", "display_name": "NovDanil", "link": "https://stackoverflow.com/users/9144531/novdanil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540816207, "creation_date": 1540813951, "last_edit_date": 1540816207, "question_id": 53044948, "link": "https://stackoverflow.com/questions/53044948/popup-menu-for-copy-paste-does-not-appear-in-full-size", "title": "Popup menu for Copy/Paste does not appear in full size", "body": "<p>When I double tap or long click on a text in EditText, the PopupMenu with copy/paste options doesn't appear in full size. </p>\n\n<p>I use an activity, that hosts a fragment for detail message. I also tried to play with styles of the Popup and got no result.\n<a href=\"https://i.stack.imgur.com/seSrx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/seSrx.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Style, which I use in the activity</p>\n\n<pre><code>&lt;style name=\"AppThemeNoActionBar\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/black&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/white&lt;/item&gt;\n\n    &lt;item name=\"searchViewStyle\"&gt;@style/AppSearchViewStyle&lt;/item&gt;\n\n    &lt;!--\u0422\u0435\u043a\u0441\u0442--&gt;\n    &lt;item name=\"android:gravity\"&gt;center&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/gold&lt;/item&gt;\n    &lt;item name=\"android:textSize\"&gt;@dimen/general_text_size&lt;/item&gt;\n    &lt;item name=\"android:fontFamily\"&gt;@font/basis_grotesque_pro_regular&lt;/item&gt;\n    &lt;item name=\"actionMenuTextColor\"&gt;@color/white&lt;/item&gt;\n\n    &lt;item name=\"popupMenuStyle\"&gt;@style/MyPopup&lt;/item&gt;\n    &lt;item name=\"android:popupMenuStyle\"&gt;@style/MyPopup&lt;/item&gt;\n  &lt;/style&gt;\n\n  &lt;style name=\"MyPopup\" parent=\"Base.Widget.AppCompat.PopupMenu\"&gt;\n    &lt;item name=\"android:popupBackground\"&gt;@color/gold&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/black&lt;/item&gt;\n    &lt;item name=\"android:itemBackground\"&gt;@color/white&lt;/item&gt;\n  &lt;/style&gt;\n\n  &lt;style name=\"AppSearchViewStyle\" parent=\"Widget.AppCompat.SearchView\"&gt;\n    &lt;item name=\"queryBackground\"&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=\"searchIcon\"&gt;@drawable/search_icon&lt;/item&gt;\n    &lt;item name=\"android:imeActionId\"&gt;6&lt;/item&gt;\n  &lt;/style&gt;\n</code></pre>\n\n<p>Description fragment layout</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/black\"\n    &gt;\n\n  &lt;include\n      layout=\"@layout/util_toolbar_and_header\"\n      android:id=\"@+id/util_description_toolbar_and_header\"\n      /&gt;\n\n  &lt;EditText\n      android:id=\"@+id/util_description_message\"\n      android:layout_width=\"@dimen/fill_parent\"\n      android:layout_height=\"@dimen/fill_parent\"\n      android:layout_marginBottom=\"8dp\"\n      android:layout_marginEnd=\"8dp\"\n      android:layout_marginStart=\"30dp\"\n      android:layout_marginTop=\"8dp\"\n      android:fontFamily=\"@font/basis_grotesque_pro_regular\"\n      android:gravity=\"start\"\n      android:textColor=\"@color/white\"\n      android:textColorHighlight=\"@color/gold\"\n      app:layout_constraintBottom_toTopOf=\"@+id/util_description_button\"\n      app:layout_constraintEnd_toEndOf=\"parent\"\n      app:layout_constraintStart_toStartOf=\"parent\"\n      app:layout_constraintTop_toBottomOf=\"@+id/util_description_toolbar_and_header\"\n      tools:text=\"\u0421\u043e\u0432\u0441\u0435\u043c \u043f\u043b\u043e\u0445\u043e\u0435 \u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u0435 \u0432 \u0442\u0443\u0430\u043b\u0435\u0442\u0435, \u043b\u044e\u0434\u0438 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0441\u043a\u0440\u0443\u0442\u0438\u0442\u044c \u0442\u0440\u0443\u0431\u043e\u0447\u043a\u0443. \u0421\u043e\u0432\u0441\u0435\u043c \u043f\u043b\u043e\u0445\u043e\u0435 \u043e\u0441\u0432\u0435\u0449\u0435\u043d\u0438\u0435 \u0432 \u0442\u0443\u0430\u043b\u0435\u0442\u0435, \u043b\u044e\u0434\u0438 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0441\u043a\u0440\u0443\u0442\u0438\u0442\u044c \u0442\u0440\u0443\u0431\u043e\u0447\u043a\u0443.\"\n      /&gt;\n\n  &lt;Button\n      android:id=\"@+id/util_description_button\"\n      android:layout_width=\"300dp\"\n      android:layout_height=\"80dp\"\n      android:layout_marginBottom=\"8dp\"\n      android:layout_marginEnd=\"8dp\"\n      android:layout_marginStart=\"8dp\"\n      android:background=\"@drawable/ic_general_button\"\n      android:textAllCaps=\"false\"\n      android:textSize=\"25sp\"\n      app:layout_constraintBottom_toBottomOf=\"parent\"\n      app:layout_constraintEnd_toEndOf=\"parent\"\n      app:layout_constraintStart_toStartOf=\"parent\"\n      tools:text=\"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0438\u0434\u0435\u044e\"\n      /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Toolbar and header, that I include in layout</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/util_toolbar_and_header_container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    &gt;\n  &lt;android.support.v7.widget.Toolbar\n      android:id=\"@+id/util_toolbar\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"?android:actionBarSize\"\n      android:layout_alignParentTop=\"true\"\n      android:background=\"@color/black\"\n      app:collapseIcon=\"@drawable/menu_back_arrow\"\n      app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"\n      app:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n      &gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:id=\"@+id/util_toolbar_back_button_container\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_marginStart=\"21dp\"\n        &gt;\n\n      &lt;ImageView\n          android:id=\"@+id/util_toolbar_back_img\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:layout_marginBottom=\"8dp\"\n          android:layout_marginTop=\"8dp\"\n          android:src=\"@drawable/menu_back_arrow\"\n          app:layout_constraintBottom_toBottomOf=\"parent\"\n          app:layout_constraintTop_toTopOf=\"parent\"\n          /&gt;\n\n      &lt;TextView\n          android:id=\"@+id/util_toolbar_back_text\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:layout_marginStart=\"8dp\"\n          android:fontFamily=\"@font/basis_grotesque_pro_bold\"\n          android:text=\"\u041d\u0430\u0437\u0430\u0434\"\n          android:gravity=\"center|start\"\n          android:textColor=\"@color/white\"\n          app:layout_constraintBottom_toBottomOf=\"@+id/util_toolbar_back_img\"\n          app:layout_constraintStart_toEndOf=\"@+id/util_toolbar_back_img\"\n          app:layout_constraintTop_toTopOf=\"@+id/util_toolbar_back_img\"\n          /&gt;\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:id=\"@+id/util_toolbar_right_side_content\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        &gt;\n\n      &lt;ImageView\n          android:id=\"@+id/util_toolbar_right_side_icon\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:layout_marginEnd=\"8dp\"\n          app:layout_constraintBottom_toBottomOf=\"@+id/util_toolbar_right_side_text\"\n          app:layout_constraintEnd_toStartOf=\"@+id/util_toolbar_right_side_text\"\n          app:layout_constraintTop_toTopOf=\"@+id/util_toolbar_right_side_text\"\n          tools:srcCompat=\"@drawable/menu_icon_add\"\n          /&gt;\n      &lt;TextView\n          android:id=\"@+id/util_toolbar_right_side_text\"\n          android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          android:layout_marginEnd=\"8dp\"\n          android:fontFamily=\"@font/basis_grotesque_pro_bold\"\n          android:gravity=\"center|start\"\n          android:text=\"\u0411\u043e\u0440\u0438\u0441\"\n          android:textColor=\"@color/white\"\n          app:layout_constraintBottom_toBottomOf=\"parent\"\n          app:layout_constraintEnd_toEndOf=\"parent\"\n          app:layout_constraintTop_toTopOf=\"parent\"\n          /&gt;\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n  &lt;/android.support.v7.widget.Toolbar&gt;\n\n  &lt;TextView\n      android:id=\"@+id/util_general_header\"\n      android:layout_width=\"match_parent\"\n      android:layout_height=\"wrap_content\"\n      android:layout_marginStart=\"@dimen/general_header_margin_start\"\n      android:fontFamily=\"@font/basis_grotesque_pro_bold\"\n      android:gravity=\"start\"\n      android:textSize=\"@dimen/general_header_text_size\"\n      app:layout_constraintStart_toStartOf=\"parent\"\n      app:layout_constraintTop_toBottomOf=\"@+id/util_toolbar\"\n      tools:text=\"@android:string/dialog_alert_title\"\n      /&gt;\n\n  &lt;TextView\n      android:id=\"@+id/util_general_header_detail_message\"\n      android:layout_width=\"@dimen/fill_parent\"\n      android:layout_height=\"wrap_content\"\n      android:layout_marginEnd=\"@dimen/general_margin\"\n      android:layout_marginStart=\"@dimen/general_header_margin_start\"\n      android:layout_marginTop=\"1dp\"\n      android:fontFamily=\"@font/basis_grotesque_pro_light\"\n      android:gravity=\"start\"\n      android:maxLines=\"2\"\n      android:textSize=\"16sp\"\n      android:paddingBottom=\"5dp\"\n      android:textColor=\"@color/grey\"\n      app:layout_constraintEnd_toEndOf=\"parent\"\n      app:layout_constraintStart_toStartOf=\"parent\"\n      app:layout_constraintTop_toBottomOf=\"@+id/util_general_header\"\n      tools:text=\"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0442\u0435\u043c\u0443 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0431\u0441\u0443\u0434\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438\"\n      /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>And the onCreateView(...) code</p>\n\n<pre><code>override fun onCreateView(\n    inflater: LayoutInflater,\n    container: ViewGroup?,\n    savedInstanceState: Bundle?\n  ): View? {\n    val view = inflater.inflate(R.layout.util_description_fragment, container, false)\n    ButterKnife.bind(this, view)\n\n    mWorkingDayAddHeader.text = \"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f\"\n    mWorkingDayAddHeaderDetail.text = \"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e \u0432\u0430\u0448\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435\"\n    mWorkingDayAddButton.text = \"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435\"\n    mWorkingDayAddRightSideText.text = \"\u0411\u043e\u0440\u0438\u0441\"\n\n    val wrapper = ContextThemeWrapper(activity!!, style.AppThemeNoActionBar)\n    val popup = PopupMenu(wrapper, view)\n\n    return view\n  }\n</code></pre>\n\n<p>Moreover, probably you would give some comments about code quality, which could be very useful. Thanks in advance</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 1, "creation_date": 1540810241, "post_id": 53043869, "comment_id": 92987028, "body": "If you can split the logic into &quot;categories&quot; then why can&#39;t you split it into classes?"}, {"owner": {"reputation": 59, "user_id": 2335867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2addc316b207e8a4c98d0743db026898?s=128&d=identicon&r=PG", "display_name": "Peter Marinov", "link": "https://stackoverflow.com/users/2335867/peter-marinov"}, "reply_to_user": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1540810485, "post_id": 53043869, "comment_id": 92987168, "body": "I&#39;d have to pass multiple references from the main class, my main concern is with readability. Splitting into multiple files makes the code a bit hard to follow"}], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1540812673, "creation_date": 1540812673, "answer_id": 53044616, "question_id": 53043869, "link": "https://stackoverflow.com/questions/53043869/kotlin-extension-functions-to-split-big-classes/53044616#53044616", "title": "Kotlin Extension functions to split big classes", "body": "<p>Here are some thoughts on making extension functions for the class:</p>\n\n<ul>\n<li>It will be a utility function that will operate with the object you're extending, it will not be an object function, meaning that it will have access to only <code>public</code> methods and properties;</li>\n<li>If you're planning to use class that being extended in unit tests, these methods (extensions) will be harder to mock;</li>\n<li>Most likely they wont behave as you expect when used with inherited objects.</li>\n</ul>\n\n<p>Maybe I missed something, so please read more about extensions <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 0, "last_activity_date": 1540813402, "creation_date": 1540813402, "answer_id": 53044798, "question_id": 53043869, "link": "https://stackoverflow.com/questions/53043869/kotlin-extension-functions-to-split-big-classes/53044798#53044798", "title": "Kotlin Extension functions to split big classes", "body": "<p>You have to consider that an extension function is nothing more than a function with an implicit first parameter which is referenced with <code>this</code>.</p>\n\n<p>So in your case you'd have something like:</p>\n\n<pre><code>internal fun handleBussinessCase(ref: BigClass)\n</code></pre>\n\n<p>which would translate to <em>Java</em> as:</p>\n\n<pre><code>static void handleBussinessCase(BigClass ref)\n</code></pre>\n\n<p>But this could be assumed to be a delegate pattern, which could be encapsulated much cleaner in <em>Kotlin</em> as well.</p>\n\n<p>Since the properties have to be <em>internal</em> anyhow, you could just inject these as a <code>data class</code> into smaller use-cases. If you define an interface around these (which would make the properties <em>public</em> though), you could create a delegate pattern with it and still reference each property with <code>this</code> in your implementation.</p>\n"}], "owner": {"reputation": 59, "user_id": 2335867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2addc316b207e8a4c98d0743db026898?s=128&d=identicon&r=PG", "display_name": "Peter Marinov", "link": "https://stackoverflow.com/users/2335867/peter-marinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 990, "favorite_count": 0, "accepted_answer_id": 53044798, "answer_count": 2, "score": 4, "last_activity_date": 1540813402, "creation_date": 1540810098, "last_edit_date": 1540812969, "question_id": 53043869, "link": "https://stackoverflow.com/questions/53043869/kotlin-extension-functions-to-split-big-classes", "title": "Kotlin Extension functions to split big classes", "body": "<p>Recently at my company a debate started after reviewing a different approach for writing heavy duty classes.   </p>\n\n<p>A big Java class holding component specific logic (no standard OOP principles made sense) had to be rewritten in Kotlin. The solution provided was splitting the logic in categories and the categories into separate files with internal extension functions to the main class. </p>\n\n<p>Example:</p>\n\n<pre><code>Main.kt\nclass BigClass {\n  // internal fields exposed to the extension functions in different files\n\n  // Some main logic here\n}\n\n\nBusinessLogic.kt\ninternal fun BigClass.handleBussinessCase() {\n // Complex business logic handled here accessing the exposed internal fields from BigClass\n}\n</code></pre>\n\n<p>What are your thoughts on this? I haven't seen it used anywhere maybe for a good reason, but the alternative of thousand lines classes seems worse.</p>\n"}, {"tags": ["javascript", "android", "kotlin", "android-webview", "addeventlistener"], "comments": [{"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1540818111, "post_id": 53043740, "comment_id": 92991542, "body": "The javascripts which you inject for changing color, bold, everything will work as it is, but you won&#39;t get a callback to your native app."}, {"owner": {"reputation": 927, "user_id": 8719734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yCy4I.jpg?s=128&g=1", "display_name": "aryan agarwal", "link": "https://stackoverflow.com/users/8719734/aryan-agarwal"}, "edited": false, "score": 0, "creation_date": 1604751287, "post_id": 53043740, "comment_id": 114445843, "body": "Did you got any solution?"}, {"owner": {"reputation": 16323, "user_id": 4150352, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bjoHS.jpg?s=128&g=1", "display_name": "Mohammed Aouf Zouag", "link": "https://stackoverflow.com/users/4150352/mohammed-aouf-zouag"}, "reply_to_user": {"reputation": 927, "user_id": 8719734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yCy4I.jpg?s=128&g=1", "display_name": "aryan agarwal", "link": "https://stackoverflow.com/users/8719734/aryan-agarwal"}, "edited": false, "score": 0, "creation_date": 1605007160, "post_id": 53043740, "comment_id": 114515364, "body": "@aryanagarwal nope"}], "owner": {"reputation": 16323, "user_id": 4150352, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bjoHS.jpg?s=128&g=1", "display_name": "Mohammed Aouf Zouag", "link": "https://stackoverflow.com/users/4150352/mohammed-aouf-zouag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1425, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1540809658, "creation_date": 1540809658, "question_id": 53043740, "link": "https://stackoverflow.com/questions/53043740/addeventlistener-on-html-input-not-working-within-an-android-webview", "title": "addEventListener on HTML input not working within an Android WebView", "body": "<p>I am loading the following page on an Android WebView:\n<a href=\"http://users4.smartgb.com/g/g.php?a=s&amp;i=g44-71854-e8\" rel=\"nofollow noreferrer\">URL</a></p>\n\n<p>This is an overview of the page loaded.</p>\n\n<p><a href=\"https://i.stack.imgur.com/akJ8K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/akJ8K.png\" alt=\"The page loaded on a WebView\"></a></p>\n\n<p>I am trying to add a click listener on the <strong>RESET</strong> button. This button has no <code>id</code> but has a <code>name='resetbutton'</code>, so I tried to get a reference to it using <code>document.getElementsByName('resetbutton')[0]</code>, and as you can see on the screenshot above, it should work.</p>\n\n<p>Thing is, when I attach an event listener to the input, it does not trigger. Here is my client code:</p>\n\n<pre><code>mWebview.settings.apply {\n    javaScriptEnabled = true\n    domStorageEnabled = true\n}\nWebView.setWebContentsDebuggingEnabled(true)\nmWebview.webViewClient = object : WebViewClient() {\n    override fun onPageFinished(view: WebView?, url: String?) {\n        super.onPageFinished(view, url)\n        mWebview.evaluateJavascript(\"javascript:document.getElementsByName('resetbutton')[0].addEventListener('click', function() {\\n\" +\n            \"   Android.onSubmit('CLICK', 'ED');});\") {\n            Toast.makeText(this@GuestBookActivity, \"Got $it\", Toast.LENGTH_LONG).show()\n        }\n    }\n}\nmWebview.addJavascriptInterface(GuestBookWebInterface(this), \"Android\")\nmWebview.loadUrl(\"http://users4.smartgb.com/g/g.php?a=s&amp;i=g44-71854-e8\")\n</code></pre>\n\n<p><strong>GuestBookWebInterface.kt</strong></p>\n\n<pre><code>class GuestBookWebInterface(private val mContext: Context) {\n    @JavascriptInterface\n    fun onSubmit(name: String, message: String) {\n        Log.i(\"webhook\", \"Name: $name, message: $message\")\n    }\n}\n</code></pre>\n\n<p>I run the app, I hit the RESET button, but I can't see the webhook entry in the logs that I'm looking for. I tried to make a simple visible change on the page's body (like changing its background color) and it worked.</p>\n\n<p>I thought maybe the event listener wasn't being attached for some reason. So next I tried this:</p>\n\n<pre><code>mWebview.evaluateJavascript(\"javascript:Android.onSubmit(document.getElementsByName('resetbutton')[0], 'ED');\\n\" +\n                        \"    document.getElementsByName('resetbutton')[0].addEventListener('click', function() {\\n\" +\n                        \"        Android.onSubmit('CLICK', 'ED');\\n\" +\n                        \"    });\")\n</code></pre>\n\n<p>The point was to make sure that the reference to the input button wasn't <code>undefined</code>. My assumption was valid, the reference was <code>undefined</code> in deed. \nWhen I run the app now, I can see this log on the console:</p>\n\n<blockquote>\n  <p>webhook: Name: undefined, message: ED</p>\n</blockquote>\n\n<p>My question is: what am I missing here ? How can I go about making this event listener trigger ?</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-el"], "answers": [{"tags": [], "owner": {"reputation": 665, "user_id": 2219787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a55bc3361868c44c9165241a5e7011d4?s=128&d=identicon&r=PG", "display_name": "Michi Gysel", "link": "https://stackoverflow.com/users/2219787/michi-gysel"}, "is_accepted": true, "score": 1, "last_activity_date": 1540826034, "creation_date": 1540826034, "answer_id": 53048510, "question_id": 53043564, "link": "https://stackoverflow.com/questions/53043564/expression-based-autowire-in-spring-boot-with-kotlin/53048510#53048510", "title": "Expression based Autowire in Spring Boot (with Kotlin)", "body": "<p>This sounds like a perfect use case for Java based bean configuration:</p>\n\n<pre><code>@Configuration\nclass DemoConfiguration {\n\n    @Bean\n    fun createProtocolService(): ProtocolService {\n        val protocolPort: String? = System.getProperty(\"ProtocolPort\", System.getenv(\"ProtocolPort\"))\n        val protocolHost: String? = System.getProperty(\"ProtocolHost\", System.getenv(\"ProtocolHost\"))\n        return if(!protocolHost.isNullOrEmpty() &amp;&amp; !protocolPort.isNullOrEmpty()) {\n            YesBean()\n        } else {\n            NoBean()\n        }\n    }\n\n}\n\nopen class ProtocolService\n\nclass YesBean : ProtocolService()\n\nclass NoBean : ProtocolService()\n</code></pre>\n\n<p>You might also want look into <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">Externalized Configurations</a> to replace <code>System.getProperty()</code> and <code>System.getenv()</code>.</p>\n\n<p>This would then look like this:</p>\n\n<pre><code>@Configuration\nclass DemoConfiguration {\n\n    @Bean\n    fun createProtocolService(@Value(\"\\${protocol.port:0}\") protocolPort: Int,\n                              @Value(\"\\${protocol.host:none}\") protocolHost: String): ProtocolService {\n        return if (protocolHost != \"none\" &amp;&amp; protocolPort != 0) {\n            YesBean()\n        } else {\n            NoBean()\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 24982, "user_id": 2069812, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b9968835eb719e5d78a04ba7a2bafbd?s=128&d=identicon&r=PG", "display_name": "Jeef", "link": "https://stackoverflow.com/users/2069812/jeef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "accepted_answer_id": 53048510, "answer_count": 1, "score": 2, "last_activity_date": 1540826034, "creation_date": 1540809100, "last_edit_date": 1540810342, "question_id": 53043564, "link": "https://stackoverflow.com/questions/53043564/expression-based-autowire-in-spring-boot-with-kotlin", "title": "Expression based Autowire in Spring Boot (with Kotlin)", "body": "<h1>Situation</h1>\n\n<p>I'm trying to come up with a methodology to conditionally load one bean (based on the existence of  2 property or environment variables) and if they are missing load up another bean.  </p>\n\n<h1>Vars</h1>\n\n<p>So the two property (or env vars) are:</p>\n\n<ul>\n<li><code>ProtocolHOST</code></li>\n<li><code>ProtocolPORT</code></li>\n</ul>\n\n<p>So for example <code>java -jar xxxx  -DProtocolHost=myMachine -DProtocolPort=3333</code> would use the bean I want, but if both are missing then you'd get another bean.</p>\n\n<pre><code>@Component(\"Protocol Enabled\")\nclass YesBean : ProtocolService {}\n\n@Component(\"Protocol Disabled\")\nclass NoBean : ProtocolService {\n</code></pre>\n\n<p>Later in my controller I have a:</p>\n\n<pre><code>@Autowired\nprivate lateinit var sdi : ProtocolService\n</code></pre>\n\n<p>So I've looked at a variety of options:</p>\n\n<p>using both <code>@ConditionalOnProperty</code> and <code>@ConditionalOnExpression</code> and I cant seem to make any headway.</p>\n\n<p>I'm pretty sure I need to go the <strong>Expression</strong> route so I wrote some test code that seems to be failing:</p>\n\n<pre><code>@PostConstruct\nfun customInit() {\n    val sp = SpelExpressionParser()\n    val e1 = sp.parseExpression(\"'\\${ProtocolHost}'\")\n    println(\"${e1.valueType}   ${e1.value}\")\n    println(System.getProperty(\"ProtocolHost\")\n}\n</code></pre>\n\n<p>Which returns:</p>\n\n<blockquote>\n  <p>class java.lang.String   ${ProtocolHost} \n  taco</p>\n</blockquote>\n\n<p>So I'm not sure if my <strong>SPeL</strong> Parsing is working correctly because it looks like its just returning the string \"${ProtocolHost}\" instead of processing the correct value.  I'm assuming this is why all the attempts I've made in the Expression Language are failing - and thus why i'm stuck.</p>\n\n<p>Any assistance would be appreciated!</p>\n\n<p>Thanks</p>\n\n<h2>Update</h2>\n\n<p>I did get things working by doing the following</p>\n\n<p>in my main:</p>\n\n<pre><code> val protocolPort: String? = System.getProperty(\"ProtocolPort\", System.getenv(\"ProtocolPort\"))\n val protocolHost: String? = System.getProperty(\"ProtocolHost\", System.getenv(\"ProtocolHost\"))\n\n System.setProperty(\"use.protocol\", (protocolHost != null &amp;&amp; protocolPort != null).toString())\n runApplication&lt;SddfBridgeApplication&gt;(*args)\n</code></pre>\n\n<p>And then on the bean definitions:</p>\n\n<pre><code>@ConditionalOnProperty(prefix = \"use\", name = arrayOf(\"protocol\"), havingValue = \"false\", matchIfMissing = false)\n\n@ConditionalOnProperty(prefix = \"use\", name = arrayOf(\"protocol\"), havingValue = \"false\", matchIfMissing = false)\n</code></pre>\n\n<p>However this feels like a hack and I'm hoping it could be done directly in SpEL instead of pre-settings vars a head of time.</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager", "indicator"], "comments": [{"owner": {"reputation": 1057, "user_id": 472336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rr1cG.jpg?s=128&g=1", "display_name": "Pramod", "link": "https://stackoverflow.com/users/472336/pramod"}, "edited": false, "score": 1, "creation_date": 1540811280, "post_id": 53043483, "comment_id": 92987625, "body": "Either you can put that text in separate layout and handle the page change listener to update the UI or you can check this library - <a href=\"https://dubedout.eu/2016/11/13/viewpager-indicator-libraries-you-should-know/\" rel=\"nofollow noreferrer\">dubedout.eu/2016/11/13/&hellip;</a>"}], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1540809363, "creation_date": 1540808860, "last_edit_date": 1540809363, "question_id": 53043483, "link": "https://stackoverflow.com/questions/53043483/how-to-put-text-above-dots-indicator-viewpager-kotlin", "title": "How to put text above dots indicator - Viewpager - KOTLIN", "body": "<p>I'm using a library called <a href=\"https://github.com/romandanylyk/PageIndicatorView\" rel=\"nofollow noreferrer\">PageIndicatorView</a>, which is a light library to indicate ViewPager's selected page with different animations and ability to customise it as you need. Till here everything is ok, until I started to realize that I need to do the following scenario to my \"dots\":</p>\n\n<p><img src=\"https://i.stack.imgur.com/6b5kR.png\" alt=\"a\"></p>\n\n<p>The dots are dynamic, and the number of them is conditioned by the number of images available on the viewpager. Can you tell how I can put these texts above my dots? Can you help me how to \"fish\", please?</p>\n\n<p>Thank you very much.</p>\n"}, {"tags": ["gradle", "kotlin", "tdd"], "comments": [{"owner": {"reputation": 2689, "user_id": 1212045, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76a3c56f9b61ae2344d8787b85730368?s=128&d=identicon&r=PG", "display_name": "Anthony Elliott", "link": "https://stackoverflow.com/users/1212045/anthony-elliott"}, "edited": false, "score": 0, "creation_date": 1551281178, "post_id": 53043100, "comment_id": 96584653, "body": "did you ever figure this out? I have the same problem."}], "owner": {"reputation": 21, "user_id": 2485078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28eca670b151ce3a4b973c6fce074b3d?s=128&d=identicon&r=PG", "display_name": "Etigi", "link": "https://stackoverflow.com/users/2485078/etigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1540807593, "creation_date": 1540807593, "question_id": 53043100, "link": "https://stackoverflow.com/questions/53043100/how-to-make-gradle-test-logs-more-concise-e-g-no-what-went-wrong-and-no-t", "title": "How to make gradle test logs more concise ? (e.g. no &quot;What went wrong&quot; and no &quot;Try&quot; sections)", "body": "<p>I'm trying to make my <code>gradle test</code> logs as concise and useful as possible.</p>\n\n<p>So far I have this :</p>\n\n<pre>\n> Task :test FAILED\n\nCylinderVolumeCalculatorTest > should return a volume of PI when cylinder radius is 1 and height is 1() FAILED\n    org.opentest4j.AssertionFailedError: \n    Expecting:\n     3.141592653589793\n    to be equal to:\n     6\n    but was not.\n\n1 test completed, 1 failed\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':test'.\n> There were failing tests. See the report at: file:///Users/egi/Projets/Sandboxes/Kotlin/testConfig/tryConfig/build/reports/tests/test/index.html\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n4 actionable tasks: 1 executed, 3 up-to-date\n</pre>\n\n<p>I would like to get rig of everything that is below the line <code>1 test completed, 1 failed</code> which is noise I don't need while doing TDD. Does anybody have an idea on how to do that ?</p>\n\n<p>Thank you very much in advance !</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10322817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oy2-VNrYI_c/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOf04hsWLlbGXUBNXZEzQ2MykG7zA/mo/photo.jpg?sz=128", "display_name": "mola", "link": "https://stackoverflow.com/users/10322817/mola"}, "edited": false, "score": 0, "creation_date": 1540814888, "post_id": 53043227, "comment_id": 92989676, "body": "what&#39;s the type of this variable should be?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 1, "user_id": 10322817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oy2-VNrYI_c/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOf04hsWLlbGXUBNXZEzQ2MykG7zA/mo/photo.jpg?sz=128", "display_name": "mola", "link": "https://stackoverflow.com/users/10322817/mola"}, "edited": false, "score": 0, "creation_date": 1540821165, "post_id": 53043227, "comment_id": 92993462, "body": "If you click the link, it&#39;ll take you to the API docs."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 1, "last_activity_date": 1540807992, "creation_date": 1540807992, "answer_id": 53043227, "question_id": 53042989, "link": "https://stackoverflow.com/questions/53042989/servervalue-timestamp-firestore-in-kotlin/53043227#53043227", "title": "ServerValue.TIMESTAMP firestore in kotlin", "body": "<p>ServerValue.TIMESTAMP is only used with Realtime Database.  You need <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FieldValue.html#serverTimestamp()\" rel=\"nofollow noreferrer\">FieldValue.serverTimestamp()</a> instead for Firestore.</p>\n"}], "owner": {"reputation": 1, "user_id": 10322817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oy2-VNrYI_c/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOf04hsWLlbGXUBNXZEzQ2MykG7zA/mo/photo.jpg?sz=128", "display_name": "mola", "link": "https://stackoverflow.com/users/10322817/mola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1162, "favorite_count": 0, "closed_date": 1540869600, "answer_count": 1, "score": 0, "last_activity_date": 1540807992, "creation_date": 1540807259, "last_edit_date": 1540807837, "question_id": 53042989, "link": "https://stackoverflow.com/questions/53042989/servervalue-timestamp-firestore-in-kotlin", "closed_reason": "Duplicate", "title": "ServerValue.TIMESTAMP firestore in kotlin", "body": "<p>how can i get the current date \"day-time\" in my document in firestore\nas i wanna display photos set or<a href=\"https://i.stack.imgur.com/WrMog.png\" rel=\"nofollow noreferrer\">enter image description here</a>dered by name .\nthis way doesnt work</p>\n\n<blockquote>\n  <p>Kotlin</p>\n</blockquote>\n\n<pre><code>class Data( var urlList: MutableList&lt;String&gt;,var time: MutableMap&lt;String, String&gt;) {\n    constructor() : this(ArrayList(),  ServerValue.TIMESTAMP)\n}\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin", "gson"], "comments": [{"owner": {"reputation": 1346, "user_id": 4762767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0IULzhgtmJs/AAAAAAAAAAI/AAAAAAAAADw/xAVDK9carFA/photo.jpg?sz=128", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/4762767/akshay-katariya"}, "edited": false, "score": 0, "creation_date": 1540806384, "post_id": 53042596, "comment_id": 92984747, "body": "if you are using Retrofit &amp; Gson to parse this JSON, remove the ThingWrapper.class and pass List of things, so it will parse only things"}, {"owner": {"reputation": 310, "user_id": 7702438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10158390492470593/picture?type=large", "display_name": "John Bartlett", "link": "https://stackoverflow.com/users/7702438/john-bartlett"}, "reply_to_user": {"reputation": 1346, "user_id": 4762767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0IULzhgtmJs/AAAAAAAAAAI/AAAAAAAAADw/xAVDK9carFA/photo.jpg?sz=128", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/4762767/akshay-katariya"}, "edited": false, "score": 0, "creation_date": 1540807021, "post_id": 53042596, "comment_id": 92985144, "body": "@AkshayKatariya I am not currently using Retrofit, I am purposely trying to solve this problem in Gson directly. Just to confirm though are you saying that in Retrofit you can pre-parse the response to only extract the array?"}, {"owner": {"reputation": 1346, "user_id": 4762767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0IULzhgtmJs/AAAAAAAAAAI/AAAAAAAAADw/xAVDK9carFA/photo.jpg?sz=128", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/4762767/akshay-katariya"}, "edited": false, "score": 0, "creation_date": 1540807279, "post_id": 53042596, "comment_id": 92985309, "body": "yes you can eliminate the parameter you don&#39;t want and it will parse only those parameter present in ur POJO, I think you can try with Gson as well"}, {"owner": {"reputation": 310, "user_id": 7702438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10158390492470593/picture?type=large", "display_name": "John Bartlett", "link": "https://stackoverflow.com/users/7702438/john-bartlett"}, "reply_to_user": {"reputation": 1346, "user_id": 4762767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0IULzhgtmJs/AAAAAAAAAAI/AAAAAAAAADw/xAVDK9carFA/photo.jpg?sz=128", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/4762767/akshay-katariya"}, "edited": false, "score": 0, "creation_date": 1540808342, "post_id": 53042596, "comment_id": 92985881, "body": "Thank you I will remember that when I begin to use Retrofit."}], "answers": [{"tags": [], "owner": {"reputation": 924, "user_id": 5164673, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j22q3uvdl9w/AAAAAAAAAAI/AAAAAAAAAbc/Zxo_eeZeif0/photo.jpg?sz=128", "display_name": "Gautam Chibde", "link": "https://stackoverflow.com/users/5164673/gautam-chibde"}, "is_accepted": true, "score": 1, "last_activity_date": 1540879138, "last_edit_date": 1540879138, "creation_date": 1540814020, "answer_id": 53044968, "question_id": 53042596, "link": "https://stackoverflow.com/questions/53042596/gson-deserialise-avoid-wrapper-class/53044968#53044968", "title": "Gson deserialise - avoid wrapper class", "body": "<p>If you want to eliminate the Wrapper class you can use <code>JSONObject</code> class to parse the object and then extract JSON array from it.</p>\n\n<pre><code>val things: List&lt;Thing&gt; = Gson().fromJson(\n            JSONObject(json).getJSONArray(\"things\").toString(),\n            object : TypeToken&lt;List&lt;Thing&gt;&gt;() {}.type)\nLog.i(\"output\", things.toString())\n</code></pre>\n\n<blockquote>\n  <p>I/output: [Thing(name=Thing1), Thing(name=Thing2)]</p>\n</blockquote>\n\n<p>This worked for me.</p>\n"}], "owner": {"reputation": 310, "user_id": 7702438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10158390492470593/picture?type=large", "display_name": "John Bartlett", "link": "https://stackoverflow.com/users/7702438/john-bartlett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 53044968, "answer_count": 1, "score": 0, "last_activity_date": 1540879138, "creation_date": 1540805959, "last_edit_date": 1540817817, "question_id": 53042596, "link": "https://stackoverflow.com/questions/53042596/gson-deserialise-avoid-wrapper-class", "title": "Gson deserialise - avoid wrapper class", "body": "<p>I am trying to deserialize the following JSON using Gson in Kotlin.</p>\n\n<pre><code>{\n  \"things\": [\n    {\n      \"name\": \"Thing1\"\n    },\n    {\n      \"name\": \"Thing2\"\n    }\n  }\n}\n</code></pre>\n\n<p>Now I currently have 2 classes I'm deserializing into;</p>\n\n<ol>\n<li>ThingWrapper - Has one property, 'Things' that is a List</li>\n<li>Thing - Has a name property</li>\n</ol>\n\n<p>In my service, I am simply returning the <code>List&lt;Thing&gt;</code> from 'things' and never exposing the ThingWrapper.</p>\n\n<pre><code>fun getThings(): List&lt;Thing&gt; {\n   return Gson().fromJson(json, ThingWrapper::class.java).things\n}\n</code></pre>\n\n<p>My question is can I use Gson to deserialize in a way that can avoid the need for a <code>ThingWrapper</code> class entirely?</p>\n\n<p>Thanks in advance,\nJohn</p>\n"}]