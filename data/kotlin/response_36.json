[{"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1442385082, "post_id": 32600931, "comment_id": 53054842, "body": "What are the errors the compiler is reporting on these examples?"}, {"owner": {"reputation": 113, "user_id": 5340830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D3gP9s42n_0/AAAAAAAAAAI/AAAAAAAAACw/DO4vRsvOtQA/photo.jpg?sz=128", "display_name": "Josh Feinberg", "link": "https://stackoverflow.com/users/5340830/josh-feinberg"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1442408532, "post_id": 32600931, "comment_id": 53069670, "body": "Error:(70, 84) The spread operator (*foo) may only be applied in a vararg position and Error:(70, 84) Type mismatch: inferred type is kotlin.Pair&lt;android.view.View, kotlin.String&gt; but android.view.View! was expected Error:(70, 101) Type mismatch: inferred type is kotlin.Pair&lt;android.view.View, kotlin.String&gt; but kotlin.String! was expected"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 5340830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D3gP9s42n_0/AAAAAAAAAAI/AAAAAAAAACw/DO4vRsvOtQA/photo.jpg?sz=128", "display_name": "Josh Feinberg", "link": "https://stackoverflow.com/users/5340830/josh-feinberg"}, "edited": false, "score": 0, "creation_date": 1442448570, "post_id": 32609963, "comment_id": 53091607, "body": "Nope, even tried doing  <code>android.util.Pair.create(imageView, imageView.getTransitionName());</code>"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 113, "user_id": 5340830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D3gP9s42n_0/AAAAAAAAAAI/AAAAAAAAACw/DO4vRsvOtQA/photo.jpg?sz=128", "display_name": "Josh Feinberg", "link": "https://stackoverflow.com/users/5340830/josh-feinberg"}, "edited": false, "score": 0, "creation_date": 1442535506, "post_id": 32609963, "comment_id": 53132363, "body": "Does the compilation error message change after you do that?"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 113, "user_id": 5340830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D3gP9s42n_0/AAAAAAAAAAI/AAAAAAAAACw/DO4vRsvOtQA/photo.jpg?sz=128", "display_name": "Josh Feinberg", "link": "https://stackoverflow.com/users/5340830/josh-feinberg"}, "edited": false, "score": 0, "creation_date": 1442627174, "post_id": 32609963, "comment_id": 53172845, "body": "Well, the error message mentions kotlin.Pair so it must be used somehow in your code, unless there&#39;s something weird going on. Please try to create a <a href=\"http://stackoverflow.com/help/mcve\">minimal reproducible sample</a> and post the Kotlin code here so that we can investigate and help you. Thanks!"}, {"owner": {"reputation": 113, "user_id": 5340830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D3gP9s42n_0/AAAAAAAAAAI/AAAAAAAAACw/DO4vRsvOtQA/photo.jpg?sz=128", "display_name": "Josh Feinberg", "link": "https://stackoverflow.com/users/5340830/josh-feinberg"}, "edited": false, "score": 0, "creation_date": 1442640959, "post_id": 32609963, "comment_id": 53175285, "body": "I have updated my answer with what I believe to be a  minimal reproducible sample. thank you for the help"}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": false, "score": 2, "last_activity_date": 1442410031, "creation_date": 1442410031, "answer_id": 32609963, "question_id": 32600931, "link": "https://stackoverflow.com/questions/32600931/varargs-kotlin-java-interop-not-working-properly/32609963#32609963", "title": "Varargs Kotlin Java interop not working properly", "body": "<p>It may be the case that you're accidentally using <code>kotlin.Pair</code> instead of <code>android.util.Pair</code>. Please add the following import directive to the beginning of your file:</p>\n\n<pre><code>import android.util.Pair\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1890, "user_id": 2329437, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/So1V2.jpg?s=128&g=1", "display_name": "Alex Facciorusso", "link": "https://stackoverflow.com/users/2329437/alex-facciorusso"}, "is_accepted": true, "score": 11, "last_activity_date": 1443015423, "creation_date": 1443015423, "answer_id": 32741168, "question_id": 32600931, "link": "https://stackoverflow.com/questions/32600931/varargs-kotlin-java-interop-not-working-properly/32741168#32741168", "title": "Varargs Kotlin Java interop not working properly", "body": "<p>The answer is the <code>*</code> symbol before array variable:</p>\n\n<pre><code>import android.support.v4.util.Pair as AndroidPair\n\n// ...    \n\nval pair1 = AndroidPair&lt;View, String&gt;(fab, \n    getString(R.string.transition_fab))\nval pair2 = AndroidPair&lt;View, String&gt;(findViewById(R.id.app_bar),\n    getString(R.string.transition_appbar))\n\nActivityOptionsCompat.makeSceneTransitionAnimation(this@MyActivity,\n    *arrayOf(pair1, pair2)).toBundle();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3004, "user_id": 5004910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nQlgQ.jpg?s=128&g=1", "display_name": "Gnzlt", "link": "https://stackoverflow.com/users/5004910/gnzlt"}, "is_accepted": false, "score": 4, "last_activity_date": 1500142777, "creation_date": 1500142777, "answer_id": 45121389, "question_id": 32600931, "link": "https://stackoverflow.com/questions/32600931/varargs-kotlin-java-interop-not-working-properly/45121389#45121389", "title": "Varargs Kotlin Java interop not working properly", "body": "<p>This worked for me:</p>\n\n<pre><code>import android.support.v4.util.Pair\n\n// ...    \n\nval options = ActivityOptionsCompat.makeSceneTransitionAnimation(activity,\n        Pair&lt;View, String&gt;(image, image.transitionName),\n        Pair&lt;View, String&gt;(title, title.transitionName))\n\nstartActivity(intent, options.toBundle())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1987, "user_id": 5420747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1leda.jpg?s=128&g=1", "display_name": "Joshua King", "link": "https://stackoverflow.com/users/5420747/joshua-king"}, "is_accepted": false, "score": 0, "last_activity_date": 1539223960, "creation_date": 1539223960, "answer_id": 52751172, "question_id": 32600931, "link": "https://stackoverflow.com/questions/32600931/varargs-kotlin-java-interop-not-working-properly/52751172#52751172", "title": "Varargs Kotlin Java interop not working properly", "body": "<p>The key is to initiate your <code>Pair</code> like this: <code>Pair&lt;View, String&gt;(view, string)</code> otherwise it complains.</p>\n"}, {"comments": [{"owner": {"reputation": 1129, "user_id": 5869837, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-K4DuMP0kysM/AAAAAAAAAAI/AAAAAAAAABc/INRwlep4S7g/photo.jpg?sz=128", "display_name": "Paulo Linhares - Packapps", "link": "https://stackoverflow.com/users/5869837/paulo-linhares-packapps"}, "edited": false, "score": 1, "creation_date": 1552485823, "post_id": 54510206, "comment_id": 97027862, "body": "Exact. Only this works! With  androidx.core.util  and making cast  context as Activity or with AppCompatActivity. Congratulations!"}], "tags": [], "owner": {"reputation": 914, "user_id": 4676291, "user_type": "registered", "profile_image": "https://graph.facebook.com/628198087281846/picture?type=large", "display_name": "Aslam Hossin", "link": "https://stackoverflow.com/users/4676291/aslam-hossin"}, "is_accepted": false, "score": 1, "last_activity_date": 1549255159, "creation_date": 1549255159, "answer_id": 54510206, "question_id": 32600931, "link": "https://stackoverflow.com/questions/32600931/varargs-kotlin-java-interop-not-working-properly/54510206#54510206", "title": "Varargs Kotlin Java interop not working properly", "body": "<p>This is a whole code snippet I would recommend for : </p>\n\n<pre><code>companion object {\n    const val EXTRA_ITEM = \"EXTRA_ITEM\"\n    const val TRANSITION_NAME_IMAGE = \"TRANSITION_NAME_IMAGE\"\n    const val TRANSITION_NAME_TEXT = \"TRANSITION_NAME_TEXT\"\n  }\n\n  override fun onItemClick(pos: Int, item: Item, imageView: ImageView, textView: TextView) {\n    val intent = Intent(context, YourActivity::class.java)\n    intent.putExtra(EXTRA_ITEM, item)\n    intent.putExtra(\n      TRANSITION_NAME_IMAGE,\n      ViewCompat.getTransitionName(imageView)\n    )\n    intent.putExtra(\n      TRANSITION_NAME_TEXT,\n      ViewCompat.getTransitionName(textView)\n    )\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n      val optionsCompat = ActivityOptionsCompat.makeSceneTransitionAnimation(\n        context as Activity,\n        androidx.core.util.Pair&lt;View,String&gt;(imageView, imageView.transitionName),\n        androidx.core.util.Pair&lt;View,String&gt;(textView, textView.transitionName)\n      )\n      startActivity(intent, optionsCompat.toBundle())\n    } else {\n      startActivity(intent)\n    }\n  }\n</code></pre>\n\n<p>You have to also implement this method for transaction in your activity for back to Previous screen .</p>\n\n<pre><code>override fun onOptionsItemSelected(item: MenuItem): Boolean {\n    val id = item.itemId\n    if (id == android.R.id.home) {\n      supportFinishAfterTransition()\n      return true\n    }\n    return super.onOptionsItemSelected(item)\n  }\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 5340830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D3gP9s42n_0/AAAAAAAAAAI/AAAAAAAAACw/DO4vRsvOtQA/photo.jpg?sz=128", "display_name": "Josh Feinberg", "link": "https://stackoverflow.com/users/5340830/josh-feinberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2810, "favorite_count": 1, "accepted_answer_id": 32741168, "answer_count": 5, "score": 10, "last_activity_date": 1549255159, "creation_date": 1442383691, "last_edit_date": 1442640906, "question_id": 32600931, "link": "https://stackoverflow.com/questions/32600931/varargs-kotlin-java-interop-not-working-properly", "title": "Varargs Kotlin Java interop not working properly", "body": "<p>For the makeSceneTransitionAnimation there are two static functions</p>\n\n<pre><code>public static ActivityOptionsCompat makeSceneTransitionAnimation(Activity activity,\n        View sharedElement, String sharedElementName)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>    public static ActivityOptionsCompat makeSceneTransitionAnimation(Activity activity,\n        Pair&lt;View, String&gt;... sharedElements)\n</code></pre>\n\n<p>The first function call works properly in Kotlin but when calling the second one, both these calls return errors</p>\n\n<pre><code>        val imageTransition = Pair&lt;View, String&gt;(imageView, imageView.getTransitionName());\n        val textTransition = Pair&lt;View, String&gt;(textView, textView.getTransitionName());\n        val transitionList = Array(2, { imageTransition });\n        transitionList[1] = textTransition;\n        val options = ActivityOptionsCompat.makeSceneTransitionAnimation(this, *transitionList);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>        val imageTransition = Pair&lt;View, String&gt;(imageView, imageView.getTransitionName());\n        val textTransition = Pair&lt;View, String&gt;(textView, textView.getTransitionName());\n        val options = ActivityOptionsCompat.makeSceneTransitionAnimation(this, imageTransition, textTransition);\n</code></pre>\n\n<p>Is there a proper way to get this working or is this an issue with the interop?</p>\n\n<p><strong>Edit</strong>\nAdded change to ensure that it is using the same classes</p>\n\n<pre><code>val imageView : View = view.findViewById(android.R.id.icon);\nval textView : View = view.findViewById(android.R.id.text1);\nimageView.setTransitionName(\"imageTransition\");\ntextView.setTransitionName(\"textTransition\")\n\nval imageTransition : android.support.v4.util.Pair&lt;android.view.View, java.lang.String&gt; = android.support.v4.util.Pair.create(imageView, imageView.getTransitionName() as java.lang.String);\nval textTransition : android.support.v4.util.Pair&lt;android.view.View, java.lang.String&gt; = android.support.v4.util.Pair.create(textView, textView.getTransitionName() as java.lang.String);\nval transitionList = Array(2, { imageTransition });\ntransitionList[1] = textTransition;\nval options = ActivityOptionsCompat.makeSceneTransitionAnimation(this, *transitionList);\n</code></pre>\n\n<p>Current compiler error: </p>\n\n<pre><code>Error:(72, 84) The spread operator (*foo) may only be applied in a vararg position\nError:(72, 99) No value passed for parameter sharedElementName\n</code></pre>\n\n<p><em>And another</em></p>\n\n<pre><code>val imageView : View = view.findViewById(android.R.id.icon);\nval textView : View = view.findViewById(android.R.id.text1);\nimageView.setTransitionName(\"imageTransition\");\ntextView.setTransitionName(\"textTransition\")\n\nval imageTransition : android.support.v4.util.Pair&lt;android.view.View, java.lang.String&gt; = android.support.v4.util.Pair.create(imageView, imageView.getTransitionName() as java.lang.String);\nval textTransition : android.support.v4.util.Pair&lt;android.view.View, java.lang.String&gt; = android.support.v4.util.Pair.create(textView, textView.getTransitionName() as java.lang.String);\nval options = ActivityOptionsCompat.makeSceneTransitionAnimation(this, imageTransition, textTransition);\n</code></pre>\n\n<p>Current compiler error: </p>\n\n<pre><code>Error:(72, 84) Type mismatch: inferred type is android.support.v4.util.Pair&lt;android.view.View, java.lang.String&gt; but android.view.View! was expected\nError:(72, 101) Type mismatch: inferred type is android.support.v4.util.Pair&lt;android.view.View, java.lang.String&gt; but kotlin.String! was expected\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 39861, "user_id": 1076640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0VNy.jpg?s=128&g=1", "display_name": "yshavit", "link": "https://stackoverflow.com/users/1076640/yshavit"}, "edited": false, "score": 2, "creation_date": 1442367682, "post_id": 32598320, "comment_id": 53049673, "body": "They&#39;re separate languages. Why would you expect a feature in one to automatically work in another?"}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 39861, "user_id": 1076640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0VNy.jpg?s=128&g=1", "display_name": "yshavit", "link": "https://stackoverflow.com/users/1076640/yshavit"}, "edited": false, "score": 0, "creation_date": 1442367734, "post_id": 32598320, "comment_id": 53049682, "body": "I thought that they added proper method references a few months ago. It&#39;s a necessary feature that saves boilerplate and that&#39;s what Kotlin is about."}, {"owner": {"reputation": 39861, "user_id": 1076640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0VNy.jpg?s=128&g=1", "display_name": "yshavit", "link": "https://stackoverflow.com/users/1076640/yshavit"}, "edited": false, "score": 2, "creation_date": 1442367993, "post_id": 32598320, "comment_id": 53049744, "body": "They may have, I don&#39;t really know Kotlin. But I don&#39;t understand the connection to Java, since this question is fully about Kotlin. Have you checked the docs <a href=\"http://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">on function references</a>?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 3, "creation_date": 1442405614, "post_id": 32598320, "comment_id": 53067399, "body": "See <a href=\"http://stackoverflow.com/questions/28022388/reference-to-method-of-a-particular-instance-in-kotlin\" title=\"reference to method of a particular instance in kotlin\">stackoverflow.com/questions/28022388/&hellip;</a>"}, {"owner": {"reputation": 3284, "user_id": 1098758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dca1d5f8e92ef9d9ba7a2aa7d6257d0c?s=128&d=identicon&r=PG", "display_name": "Lionel Port", "link": "https://stackoverflow.com/users/1098758/lionel-port"}, "edited": false, "score": 1, "creation_date": 1442552306, "post_id": 32598320, "comment_id": 53136210, "body": "It&#39;s perhaps not as you like it but the workaround to just wrap it in a literal function like { writer.append(it) } works ok."}], "answers": [{"comments": [{"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 2, "creation_date": 1442459540, "post_id": 32600222, "comment_id": 53094147, "body": "Thanks! Are there plans to add the feature in a future Kotlin version?"}], "tags": [], "owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "is_accepted": false, "score": 24, "last_activity_date": 1442380181, "creation_date": 1442380181, "answer_id": 32600222, "question_id": 32598320, "link": "https://stackoverflow.com/questions/32598320/kotlin-method-reference-not-working/32600222#32600222", "title": "Kotlin: Method reference not working?", "body": "<p>For now, Kotlin only supports references to top-level and local functions and members of <em>classes</em>, not individual instances. See the docs <a href=\"http://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"noreferrer\">here</a>.</p>\n\n<p>So, you can say <code>Writer::append</code> and get a function <code>Writer.(Char) -&gt; Writer</code>, but taking a <code>writer</code> instance and saying <code>writer::append</code> to get a function <code>(Char) -&gt; Writer</code> is not supported at the moment.</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 5, "last_activity_date": 1562955312, "creation_date": 1562955312, "answer_id": 57012178, "question_id": 32598320, "link": "https://stackoverflow.com/questions/32598320/kotlin-method-reference-not-working/57012178#57012178", "title": "Kotlin: Method reference not working?", "body": "<p>Starting from Kotlin 1.1 <code>writer::append</code> is a perfectly valid <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11\" rel=\"noreferrer\">bound callable reference</a>.</p>\n\n<p>However, you still cannot write <code>string.forEach(writer::append)</code> because <code>Writer#append</code> method returns a <code>Writer</code> instance and <code>forEach</code> expects a function that returns <code>Unit</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1762, "user_id": 1195507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7e494d8728da36fee71af4dbb9bd31c2?s=128&d=identicon&r=PG", "display_name": "rvazquezglez", "link": "https://stackoverflow.com/users/1195507/rvazquezglez"}, "is_accepted": false, "score": 3, "last_activity_date": 1577426920, "last_edit_date": 1577426920, "creation_date": 1577426398, "answer_id": 59496605, "question_id": 32598320, "link": "https://stackoverflow.com/questions/32598320/kotlin-method-reference-not-working/59496605#59496605", "title": "Kotlin: Method reference not working?", "body": "<p>I am using Kotlin 1.3 and while referencing a Java method I got a very similar error. As mentioned in <a href=\"https://stackoverflow.com/questions/28022388/reference-to-method-of-a-particular-instance-in-kotlin#comment56833323_28022388\">this comment</a>, making a lambda and passing it to the <code>forEach</code> method is a good option.</p>\n\n<pre><code>key.forEach { writter.append(it) }\n</code></pre>\n\n<p>Being <code>it</code> <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"nofollow noreferrer\">the implicit name of a single parameter.</a></p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11553, "favorite_count": 3, "accepted_answer_id": 57012178, "answer_count": 3, "score": 18, "last_activity_date": 1577426920, "creation_date": 1442367213, "last_edit_date": 1447056141, "question_id": 32598320, "link": "https://stackoverflow.com/questions/32598320/kotlin-method-reference-not-working", "title": "Kotlin: Method reference not working?", "body": "<p>It seems I'm unable to use a method reference of an object in Kotlin. This feature exists in Java.</p>\n\n<p>For example in Java if I was looping through a string to append each character to a writer:</p>\n\n<p><code>string.forEach(writer::append);</code></p>\n\n<p>But in Kotlin using the same syntax does not work because:</p>\n\n<p><a href=\"https://i.imgur.com/RQJy9GO.png\" rel=\"noreferrer\"><img src=\"https://i.imgur.com/RQJy9GO.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 20315, "user_id": 963881, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e82a2a2b9ddf6fb580a9c34b2eca65f4?s=128&d=identicon&r=PG&f=1", "display_name": "syntagma", "link": "https://stackoverflow.com/users/963881/syntagma"}, "edited": false, "score": 0, "creation_date": 1442354113, "post_id": 32596261, "comment_id": 53046043, "body": "What is the type of <code>reader</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 3, "creation_date": 1442380403, "post_id": 32596753, "comment_id": 53052947, "body": "There are library utilities to read from streams and readers. No need for doing it manually."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 2, "creation_date": 1452101666, "post_id": 32596753, "comment_id": 57023715, "body": "You can avoid <code>while (true)</code> @Jire by writing extension functions just as the Kotlin stdlib has done.  I posted an example of doing so in another answer."}], "tags": [], "owner": {"reputation": 8313, "user_id": 1648987, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/dcc829df7369ce51e760cbf9f7b7b29b?s=128&d=identicon&r=PG", "display_name": "Karol S", "link": "https://stackoverflow.com/users/1648987/karol-s"}, "is_accepted": true, "score": 11, "last_activity_date": 1442613780, "last_edit_date": 1442613780, "creation_date": 1442356168, "answer_id": 32596753, "question_id": 32596261, "link": "https://stackoverflow.com/questions/32596261/kotlin-why-cant-i-do-an-assignment-in-a-loop-guard/32596753#32596753", "title": "Kotlin: Why can&#39;t I do an assignment in a loop guard?", "body": "<p>The syntax is not valid, because <code>c = reader.read()</code> is not an expression in Kotlin \u2013 this prevents all the <code>==</code> vs <code>=</code> bugs.</p>\n\n<p>You have to rewrite it as:</p>\n\n<pre><code>while (true) {\n    val c = reader.read()\n    if (c == 1) break\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 8, "last_activity_date": 1470874196, "last_edit_date": 1470874196, "creation_date": 1452101630, "answer_id": 34639186, "question_id": 32596261, "link": "https://stackoverflow.com/questions/32596261/kotlin-why-cant-i-do-an-assignment-in-a-loop-guard/34639186#34639186", "title": "Kotlin: Why can&#39;t I do an assignment in a loop guard?", "body": "<p><strong><em>Note:</em></strong> <em>The other answer explains the problem with your syntax, here is an alternative to using the <code>while</code> loop.</em></p>\n\n<p>A great thing about Kotlin is that you can change your own world to be exactly the way you want it.  So let's create an extension function to do what basically is in the other answers, but making it more appealing.  </p>\n\n<p>With this extension function:</p>\n\n\n\n<pre><code>inline fun Reader.readWhile(crossinline predicate: (Int) -&gt; Boolean): Sequence&lt;Char&gt; {\n    return generateSequence {\n        val c = this.read()\n        if (c != -1 &amp;&amp; predicate(c)) {\n            c.toChar()\n        } else {\n            null\n        }\n    }\n}\n</code></pre>\n\n<p>You can now simply:</p>\n\n<pre><code>reader.readWhile { it != 1 }.forEach {\n   // do something with each char\n}\n</code></pre>\n\n<p>And if you want to auto close the reader:</p>\n\n<pre><code>reader.use {\n    reader.readWhile { it != 1 }.forEach {\n       // do something with each char\n    }\n}\n</code></pre>\n\n<p>And of course you decide if the sequence is of <code>Char</code> or <code>Int</code> depending on your needs.  You could create your own <code>useChars</code> or <code>forEachChar</code> or whatever makes your code the way you want it to be.  Look at the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/index.html\" rel=\"nofollow\">Kotlin API Refrence for kotlin.io</a> for examples of other extensions, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-reader/index.html\" rel=\"nofollow\">especially on <code>Reader</code></a> for ideas.</p>\n\n<h2>Unit Test</h2>\n\n<p>A unit test for the extension function:</p>\n\n<pre><code>@Test fun testSo32596261() {\n    val reader = CharArrayReader(charArrayOf('A', 'B', 'C', 1.toChar(), 'D', 'E', 'F'))\n    reader.use {\n        assertEquals(listOf('A', 'B', 'C'), reader.readWhile { it != 1 }.toList())\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2813, "user_id": 3600738, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/vXuZd.png?s=128&g=1", "display_name": "harsh_v", "link": "https://stackoverflow.com/users/3600738/harsh-v"}, "is_accepted": false, "score": 1, "last_activity_date": 1522313881, "creation_date": 1522313881, "answer_id": 49551859, "question_id": 32596261, "link": "https://stackoverflow.com/questions/32596261/kotlin-why-cant-i-do-an-assignment-in-a-loop-guard/49551859#49551859", "title": "Kotlin: Why can&#39;t I do an assignment in a loop guard?", "body": "<blockquote>\n  <p>You can use something like this</p>\n</blockquote>\n\n<pre><code>val reader = BufferedReader(null)\nvar line: String? = null\nwhile ({ line = reader.readLine(); line }() != null) {\n    println(line)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 170, "user_id": 5489626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nqYdH.jpg?s=128&g=1", "display_name": "cleanOK", "link": "https://stackoverflow.com/users/5489626/cleanok"}, "is_accepted": false, "score": 0, "last_activity_date": 1526315020, "creation_date": 1526315020, "answer_id": 50334920, "question_id": 32596261, "link": "https://stackoverflow.com/questions/32596261/kotlin-why-cant-i-do-an-assignment-in-a-loop-guard/50334920#50334920", "title": "Kotlin: Why can&#39;t I do an assignment in a loop guard?", "body": "<p>There is much cleaner way to work with Reader in kotlin - <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-reader/for-each-line.html\" rel=\"nofollow noreferrer\">\"forEachLine\" extension function</a></p>\n\n<pre><code>val writer = StringWriter()\nval reader = BufferedReader(InputStreamReader(stream, \"UTF-8\"))\nreader.forEachLine { writer.write(it) }\n</code></pre>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 2, "accepted_answer_id": 32596753, "answer_count": 4, "score": 10, "last_activity_date": 1526315020, "creation_date": 1442353747, "last_edit_date": 1473467140, "question_id": 32596261, "link": "https://stackoverflow.com/questions/32596261/kotlin-why-cant-i-do-an-assignment-in-a-loop-guard", "title": "Kotlin: Why can&#39;t I do an assignment in a loop guard?", "body": "<p>Why is this syntax not valid? The error IntelliJ reports is that only expressions are allowed in such context (line 2). I am wondering if there is some syntax to use to get around this, as Java allowed this type of assignment in loop feature.</p>\n\n<pre><code>var c: Int;\nwhile ((c = reader.read()) != 1) {\n}\n</code></pre>\n"}, {"tags": ["functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1442326148, "post_id": 32574783, "comment_id": 53030129, "body": "Can you provide you current code please?"}, {"owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1442440250, "post_id": 32574783, "comment_id": 53089237, "body": "@voddan The question is an abstraction of the issue I am having in code, I prefer to write questions that way, if i can.  The answer I was looking for is groupBy, as stated below, if you are still interested in the code i will be happy to edit the question."}], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 5, "last_activity_date": 1442328135, "creation_date": 1442328135, "answer_id": 32588975, "question_id": 32574783, "link": "https://stackoverflow.com/questions/32574783/idiomatic-way-to-spilt-sequence-into-three-lists-using-kotlin/32588975#32588975", "title": "Idiomatic way to spilt sequence into three lists using Kotlin", "body": "<p>You can use <code>groupBy</code> method to group elements of your sequence by an element type:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val elementsByType = sequence.groupBy { getElementType(it) }\n</code></pre>\n\n<p>where <code>getElementType</code> is function returning a type of the element: whether it is a letter, or a number, or a symbol. This function may return either a number, such as 1, 2, 3, or a value of some enum with 3 different entries.</p>\n\n<p><code>groupBy</code> returns a map from element type to list of elements of that type.</p>\n"}], "owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 1, "accepted_answer_id": 32588975, "answer_count": 1, "score": 2, "last_activity_date": 1442328135, "creation_date": 1442268861, "question_id": 32574783, "link": "https://stackoverflow.com/questions/32574783/idiomatic-way-to-spilt-sequence-into-three-lists-using-kotlin", "title": "Idiomatic way to spilt sequence into three lists using Kotlin", "body": "<p>So this is possibly more about functional programming than Kotlin, I am at that stage were a little knowledge is dangerous, and I wrote the app in Kotlin so seems fair to ask a Kotlin question as its Kotlins structures that i am interested in.</p>\n\n<p>I have a sequence of items, they are in batches of three, so the stream may look like </p>\n\n<pre><code>1,a,+,2,b,*,3,c,&amp;.......\n</code></pre>\n\n<p>What I want to do is to spilt this into three lists, currently I am doing this by partitioning into two lists, one that contains the numbers and one that contains everything else, then taking the second half of the result, the letters and symbols and partitioning again, into letters and symbols, thus i end up with three lists.</p>\n\n<p>This strikes me as somewhat inefficient, maybe a functional approach isn't the best approach here.</p>\n\n<p>Is there an efficient way of doing this, are my choices, this or a for loop?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 1, "creation_date": 1442220529, "post_id": 32557073, "comment_id": 52976857, "body": "Here&#39;s the fixed version of your code (as @D3xter suggested below): <a href=\"https://gist.github.com/abreslav/176c69cd809d79e96c71\" rel=\"nofollow noreferrer\">gist.github.com/abreslav/176c69cd809d79e96c71</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452102532, "post_id": 32557073, "comment_id": 57024283, "body": "The fixed version should be an answer, without an outside link where content could vanish or move.  I added it below for reference."}], "answers": [{"comments": [{"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1442282912, "post_id": 32559266, "comment_id": 53008093, "body": "Great, thank you very much for the fix and the reference to the change!"}], "tags": [], "owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "is_accepted": true, "score": 3, "last_activity_date": 1442215588, "creation_date": 1442215588, "answer_id": 32559266, "question_id": 32557073, "link": "https://stackoverflow.com/questions/32557073/function-declaration-error-when-compiling-with-kotlin-12/32559266#32559266", "title": "Function declaration error when compiling with Kotlin 12", "body": "<p>Prefix those 2 function blocks with \"init\",\nsee <a href=\"http://blog.jetbrains.com/kotlin/2015/03/kotlin-m11-is-out/\" rel=\"nofollow\">Prefixes For Initializer Blocks</a></p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 0, "last_activity_date": 1452102640, "creation_date": 1452102640, "answer_id": 34639510, "question_id": 32557073, "link": "https://stackoverflow.com/questions/32557073/function-declaration-error-when-compiling-with-kotlin-12/34639510#34639510", "title": "Function declaration error when compiling with Kotlin 12", "body": "<p>As noted by @Andrey in his comment to the question, and along with the answer from @D3xter (adding <code>init</code> to the <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow\">initialization blocks</a>), here is the updated code (for reference):</p>\n\n\n\n<pre><code>public class SomeAdapter(val friends: SomeAdapterProvider, val listener: OnItemClickedListener) : RecyclerView.Adapter&lt;SomeAdapter.ViewHolder&gt;() {\n\n    trait OnItemClickedListener {\n        fun onItemClicked(f: Friendship)\n    }\n\n    private inner class ViewHolder(v: View) : RecyclerView.ViewHolder(v), View.OnClickListener {\n        override fun onClick(v: View) {\n            listener.onItemClicked(somethings[getPosition()])\n        }\n\n        val text: TextView by inject(android.R.id.text1)\n        val image: Picture by inject(R.id.imageview);\n\n        init { // FIXED here\n            itemView setOnClickListener this\n        }\n    }\n\n    init { // FIXED here\n        setHasStableIds(true)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 32559266, "answer_count": 2, "score": 0, "last_activity_date": 1452105692, "creation_date": 1442202866, "last_edit_date": 1452105692, "question_id": 32557073, "link": "https://stackoverflow.com/questions/32557073/function-declaration-error-when-compiling-with-kotlin-12", "title": "Function declaration error when compiling with Kotlin 12", "body": "<p>I've inherited an older Kotlin codebase, and attempting to compile with the newest compiler had many issues. The one that I'm having trouble figuring out are these strange functions that are hanging out in the middle of a class, without any apparent call. I'm wondering if anyone knows what this used to be, and what it was replaced with in newer versions of Kotlin?</p>\n\n<pre><code>public class SomeAdapter(val friends: SomeAdapterProvider, val listener: OnItemClickedListener) : RecyclerView.Adapter&lt;SomeAdapter.ViewHolder&gt;() {\n\n    trait OnItemClickedListener {\n        fun onItemClicked(f: Friendship)\n    }\n\n    private inner class ViewHolder(v: View) : RecyclerView.ViewHolder(v), View.OnClickListener {\n        override fun onClick(v: View) {\n            listener.onItemClicked(somethings[getPosition()])\n        }\n\n        val text: TextView by inject(android.R.id.text1)\n        val image: Picture by inject(R.id.imageview);\n\n        {\n            itemView setOnClickListener this\n        }\n    }\n\n    {\n        setHasStableIds(true)\n    }\n}\n</code></pre>\n\n<p>Specifically, the lines in question are the <code>itemView setOnClickListener this</code> and <code>setHasStableIds(true)</code> , both in-between braces just hanging out.</p>\n"}, {"tags": ["loops", "foreach", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1452114871, "post_id": 32540947, "comment_id": 57031669, "body": "In current Kotlin you can indeed mimic this (while waiting for the <code>continue@label</code> and <code>break@label</code> features), see related question: <a href=\"http://stackoverflow.com/questions/34642868/how-do-i-do-a-break-or-continue-when-in-a-functional-loop-within-kotlin\" title=\"how do i do a break or continue when in a functional loop within kotlin\">stackoverflow.com/questions/34642868/&hellip;</a>"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1452115052, "post_id": 32540947, "comment_id": 57031766, "body": "This question could use clarification about whether you are asking only about the existance of <code>break</code> and <code>continue</code> for functional loops, or if you are seeking alternative answers that do exactly the same thing.  The former appears to be the case, because you rejected the latter."}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1543477978, "post_id": 32540947, "comment_id": 93935919, "body": "it seems they are added that in kotlin 1.3"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1543564116, "post_id": 32540947, "comment_id": 93972107, "body": "@TigranBabajanyan wow! Do you have a link?"}, {"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1543565314, "post_id": 32540947, "comment_id": 93972621, "body": "@voddan, no, I just tried it works"}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1442139090, "post_id": 32541601, "comment_id": 52953253, "body": "Actually, my question was about making the specific syntax work, not about iterating. Don&#39;t you remember that it was possible at some Kotlin milestone?"}, {"owner": {"reputation": 4319, "user_id": 4874829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cfECAGc8huU/AAAAAAAAAAI/AAAAAAAAAJk/Pebw5H-quLo/photo.jpg?sz=128", "display_name": "Yoav Sternberg", "link": "https://stackoverflow.com/users/4874829/yoav-sternberg"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1442144589, "post_id": 32541601, "comment_id": 52954711, "body": "I don&#39;t remember. But maybe it is because I don&#39;t use break &amp; continue a lot. See <a href=\"https://youtrack.jetbrains.com/issue/KT-1436\" rel=\"nofollow noreferrer\">this issue</a>, it says &quot;Estimation - No estimation&quot;."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 2, "creation_date": 1442148286, "post_id": 32541601, "comment_id": 52955644, "body": "<code>break</code> and <code>continue</code> only work in loops. <code>forEach</code>, <code>repeat</code> and all the other methods are just that: methods and not loops. Yoav presented some alternatives but <code>break</code> and <code>continue</code> are just not ment to work for methods."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1442218608, "post_id": 32541601, "comment_id": 52975914, "body": "@YoavSternberg Brilliant! This peace of old docs is what I was looking for! So the feature is not implemented yet, left for future versions. If you care to create a separate answer, I&#39;ll mark it"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452114890, "post_id": 32541601, "comment_id": 57031675, "body": "In current Kotlin you can indeed mimic this (while waiting for the <code>continue@label</code> and <code>break@label</code> features), see related question: <a href=\"http://stackoverflow.com/questions/34642868/how-do-i-do-a-break-or-continue-when-in-a-functional-loop-within-kotlin\" title=\"how do i do a break or continue when in a functional loop within kotlin\">stackoverflow.com/questions/34642868/&hellip;</a>"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1558955095, "post_id": 32541601, "comment_id": 99257188, "body": "Instead of <code>for (index in 0..times - 1)</code> you can write: <code>for (index in 0 until times)</code>."}], "tags": [], "owner": {"reputation": 4319, "user_id": 4874829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cfECAGc8huU/AAAAAAAAAAI/AAAAAAAAAJk/Pebw5H-quLo/photo.jpg?sz=128", "display_name": "Yoav Sternberg", "link": "https://stackoverflow.com/users/4874829/yoav-sternberg"}, "is_accepted": true, "score": 111, "last_activity_date": 1577822213, "last_edit_date": 1577822213, "creation_date": 1442078303, "answer_id": 32541601, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/32541601#32541601", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p><strong>Edit</strong>:<br>\nAccording to Kotlin's <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"noreferrer\">documentation</a>, it is possible using annotations.</p>\n\n<pre><code>fun foo() {\n    listOf(1, 2, 3, 4, 5).forEach lit@{\n        if (it == 3) return@lit // local return to the caller of the lambda, i.e. the forEach loop\n        print(it)\n    }\n    print(\" done with explicit label\")\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Original Answer</strong>:<br>\nSince you supply a <code>(Int) -&gt; Unit</code>, you can't break from it, since the compiler do not know that it is used in a loop.</p>\n\n<p>You have few options:  </p>\n\n<p><strong>Use a regular for loop:</strong></p>\n\n<pre><code>for (index in 0 until times) {\n    // your code here\n}\n</code></pre>\n\n<p><strong>If the loop is the last code in the method</strong><br>\nyou can use <code>return</code> to get out of the method (or <code>return value</code> if it is not <code>unit</code> method).</p>\n\n<p><strong>Use a method</strong><br>\nCreate a custom repeat method method that returns <code>Boolean</code> for continuing.  </p>\n\n<pre><code>public inline fun repeatUntil(times: Int, body: (Int) -&gt; Boolean) {\n    for (index in 0 until times) {\n        if (!body(index)) break\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 30, "last_activity_date": 1452114917, "last_edit_date": 1495542879, "creation_date": 1452104012, "answer_id": 34639902, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/34639902#34639902", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"noreferrer\">return from lambda expression</a> which mimics a <code>continue</code> or <code>break</code> depending on your usage.</p>\n\n<p>This is covered in the related question:  <a href=\"https://stackoverflow.com/questions/34642868/how-do-i-do-a-break-or-continue-when-in-a-functional-loop-within-kotlin\">How do I do a &quot;break&quot; or &quot;continue&quot; when in a functional loop within Kotlin?</a></p>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 4473883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3e76df8e24d1502bdbec25c662e1c5?s=128&d=identicon&r=PG&f=1", "display_name": "The Fox", "link": "https://stackoverflow.com/users/4473883/the-fox"}, "edited": false, "score": 2, "creation_date": 1571578208, "post_id": 47639682, "comment_id": 103280127, "body": "Great, but this still doesn&#39;t address the problem of not being able to end the forEach prematurely when some condition is met. It still keeps on executing the loop."}, {"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "reply_to_user": {"reputation": 371, "user_id": 4473883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3e76df8e24d1502bdbec25c662e1c5?s=128&d=identicon&r=PG&f=1", "display_name": "The Fox", "link": "https://stackoverflow.com/users/4473883/the-fox"}, "edited": false, "score": 1, "creation_date": 1572262340, "post_id": 47639682, "comment_id": 103493329, "body": "@TheFox yes, it executes every loop and anything after the return is skipped when condition is met. Each operation in the forEach is a lambda function, currently there is no exact break operation for the forEach operation. The break is available in for loops, see: <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/returns.html</a>"}, {"owner": {"reputation": 6845, "user_id": 287575, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1c9a615fefd2fca50e1c20c9ef67eb66?s=128&d=identicon&r=PG", "display_name": "ashughes", "link": "https://stackoverflow.com/users/287575/ashughes"}, "edited": false, "score": 2, "creation_date": 1593558236, "post_id": 47639682, "comment_id": 110822833, "body": "Here&#39;s a runnable Kotlin Playground snippet with both a <code>continue</code> and <code>break</code> example: <a href=\"https://pl.kotl.in/_LAvET-wX\" rel=\"nofollow noreferrer\">pl.kotl.in/_LAvET-wX</a>"}], "tags": [], "owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "is_accepted": false, "score": 139, "last_activity_date": 1515516234, "last_edit_date": 1515516234, "creation_date": 1512412074, "answer_id": 47639682, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/47639682#47639682", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p>This will print 1 to 5. The <code>return@forEach</code> acts like the keyword <code>continue</code> in Java, which means in this case, it still executes every loop but skips to the next iteration if the value is greater than 5.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val nums = listOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n    nums.forEach {\n       if (it &gt; 5) return@forEach\n       println(it)\n    }\n}\n</code></pre>\n\n<p>This will print 1 to 10 but skips 5.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val nums = listOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n    nums.forEach {\n       if (it == 5) return@forEach\n       println(it)\n    }\n}\n</code></pre>\n\n<p>Try them at <a href=\"https://try.kotlinlang.org/#/Examples/Hello,%20world!/Simplest%20version/Simplest%20version.kt\" rel=\"noreferrer\">Kotlin Playground</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 7289, "user_id": 3736955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1647d5d7348d070ae95df49253385ee1?s=128&d=identicon&r=PG", "display_name": "Jemshit Iskenderov", "link": "https://stackoverflow.com/users/3736955/jemshit-iskenderov"}, "edited": false, "score": 3, "creation_date": 1544539584, "post_id": 51213456, "comment_id": 94306463, "body": "Warning: return@lit  does not stop <code>forEach</code>"}, {"owner": {"reputation": 13958, "user_id": 689723, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rQNO2.jpg?s=128&g=1", "display_name": "cesards", "link": "https://stackoverflow.com/users/689723/cesards"}, "reply_to_user": {"reputation": 7289, "user_id": 3736955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1647d5d7348d070ae95df49253385ee1?s=128&d=identicon&r=PG", "display_name": "Jemshit Iskenderov", "link": "https://stackoverflow.com/users/3736955/jemshit-iskenderov"}, "edited": false, "score": 0, "creation_date": 1544629457, "post_id": 51213456, "comment_id": 94345522, "body": "That is correct. It&#39;s intended. The first solution it does, but if you have instructions inside a loop you can choose where do you want to return to / jump to. In the second case, if we just use return it will stop ;-)"}, {"owner": {"reputation": 51, "user_id": 1081338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d25c23678ad90c7fa3ef95700e3e359?s=128&d=identicon&r=PG", "display_name": "pqtuan86", "link": "https://stackoverflow.com/users/1081338/pqtuan86"}, "edited": false, "score": 0, "creation_date": 1582253737, "post_id": 51213456, "comment_id": 106722445, "body": "Calling Return@lit likes Continue"}], "tags": [], "owner": {"reputation": 13958, "user_id": 689723, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rQNO2.jpg?s=128&g=1", "display_name": "cesards", "link": "https://stackoverflow.com/users/689723/cesards"}, "is_accepted": false, "score": 19, "last_activity_date": 1544629600, "last_edit_date": 1544629600, "creation_date": 1530890421, "answer_id": 51213456, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/51213456#51213456", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p>As the <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"noreferrer\">Kotlin documentation says</a>, using <code>return</code> is the way to go. Good thing about kotlin is that if you have nested functions, you can use labels to explicity write where your return is from:</p>\n\n<p><strong>Function Scope Return</strong></p>\n\n<pre><code>fun foo() {\n  listOf(1, 2, 3, 4, 5).forEach {\n    if (it == 3) return // non-local return directly to the caller of foo()\n    print(it)\n  }\n  println(\"this point is unreachable\")\n}\n</code></pre>\n\n<p>and\n<strong>Local Return</strong> (it doesn't stop going through forEach = continuation)</p>\n\n<pre><code>fun foo() {\n  listOf(1, 2, 3, 4, 5).forEach lit@{\n    if (it == 3) return@lit // local return to the caller of the lambda, i.e. the forEach loop\n    print(it)\n  }\n  print(\" done with explicit label\")\n}\n</code></pre>\n\n<p>Checkout the documentation, it's really good :)</p>\n"}, {"comments": [{"owner": {"reputation": 564, "user_id": 2967672, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100001252541663/picture?type=large", "display_name": "Paras Sidhu", "link": "https://stackoverflow.com/users/2967672/paras-sidhu"}, "edited": false, "score": 0, "creation_date": 1592371818, "post_id": 53582738, "comment_id": 110398278, "body": "Nice solution. Works very well. Though it seems like without using <code>@loop</code> gives the same desired result as well."}, {"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "reply_to_user": {"reputation": 564, "user_id": 2967672, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100001252541663/picture?type=large", "display_name": "Paras Sidhu", "link": "https://stackoverflow.com/users/2967672/paras-sidhu"}, "edited": false, "score": 0, "creation_date": 1592436409, "post_id": 53582738, "comment_id": 110428724, "body": "In fact, you can omit the explicit tag &quot;@loop&quot; and use the implicit one &quot;@run&quot;. The key aspect here is the local return to the caller of the lambda. Note you need to wrap the loop inside some scope so you can local return on it  later on."}, {"owner": {"reputation": 2380, "user_id": 288096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa1ac62349de7aebf7d43020c799dfe?s=128&d=identicon&r=PG", "display_name": "windmaomao", "link": "https://stackoverflow.com/users/288096/windmaomao"}, "edited": false, "score": 0, "creation_date": 1597514050, "post_id": 53582738, "comment_id": 112160130, "body": "This really answers the question, however i think this probably isn&#39;t the right path to take for functional programming. What we need is, from Lodash, <code>transform</code> where you can break under certain condition, ex. <code>reduceReturnIf(acc, value, returnIf: func)</code>"}], "tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": false, "score": 52, "last_activity_date": 1603206147, "last_edit_date": 1603206147, "creation_date": 1543771407, "answer_id": 53582738, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/53582738#53582738", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p>A break can be achieved using:</p>\n<pre><code>//Will produce &quot;12 done with nested loop&quot;\n//Using &quot;run&quot; and a tag will prevent the loop from running again.\n//Using return@forEach if I&gt;=3 may look simpler, but it will keep running the loop and checking if i&gt;=3 for values &gt;=3 which is a waste of time.\nfun foo() {\n    run loop@{\n        listOf(1, 2, 3, 4, 5).forEach {\n            if (it == 3) return@loop // non-local return from the lambda passed to run\n            print(it)\n        }\n    }\n    print(&quot; done with nested loop&quot;)\n}\n</code></pre>\n<p>And a continue can be achieved with:</p>\n<pre><code>//Will produce: &quot;1245 done with implicit label&quot;\nfun foo() {\n    listOf(1, 2, 3, 4, 5).forEach {\n        if (it == 3) return@forEach // local return to the caller of the lambda, i.e. the forEach loop\n        print(it)\n    }\n    print(&quot; done with implicit label&quot;)\n}\n</code></pre>\n<p>As anyone here recommends... read the docs :P\n<a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/returns.html#return-at-labels</a></p>\n<p><strong>EDIT:</strong>\nWhile the main question asks about forEach, it's important to consider the the good old &quot;for&quot;. Using Kotlin doesn't mean we need to use forEach all the time. Using the good old &quot;for&quot; is perfectly ok, and sometimes even more expressive and concise than forEach:</p>\n<pre><code>fun foo() {\n    for(x in listOf(1, 2, 3, 4, 5){\n            if (it == 3) break//or continue\n            print(it)\n        }\n    }\n    print(&quot;done with the good old for&quot;)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 740, "user_id": 8240915, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eG4Au48aeTM/AAAAAAAAAAI/AAAAAAAAABs/PAjVSXAqzTQ/photo.jpg?sz=128", "display_name": "Sumit Jain", "link": "https://stackoverflow.com/users/8240915/sumit-jain"}, "is_accepted": false, "score": 14, "last_activity_date": 1590228758, "last_edit_date": 1590228758, "creation_date": 1566538630, "answer_id": 57620384, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/57620384#57620384", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p><code>continue</code> type behaviour in <code>forEach</code></p>\n\n<pre><code>list.forEach { item -&gt; // here forEach give you data item and you can use it \n    if () {\n        // your code\n        return@forEach // Same as continue\n    }\n\n    // your code\n}\n</code></pre>\n\n<p>for <code>break</code> type behaviour you have to use <code>for in until</code> or <code>for in</code> as per the list is <code>Nullable</code> or <code>Non-Nullable</code></p>\n\n<ol>\n<li><p>For <strong>Nullable</strong> list:</p>\n\n<pre><code>for (index in 0 until list.size) {\n    val item = list[index] // you can use data item now\n    if () {\n        // your code\n        break\n    }\n\n    // your code\n}\n</code></pre></li>\n<li><p>For <strong>Non-Nullable</strong> list:</p>\n\n<pre><code>for (item in list) { // data item will available right away\n    if () {\n        // your code\n        break\n    }\n\n    // your code\n}\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1342, "user_id": 12787936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLB6q.jpg?s=128&g=1", "display_name": "alexrnov", "link": "https://stackoverflow.com/users/12787936/alexrnov"}, "is_accepted": false, "score": 2, "last_activity_date": 1584405748, "last_edit_date": 1584405748, "creation_date": 1584401806, "answer_id": 60714531, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/60714531#60714531", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p>Break statement for nested loops forEach():</p>\n\n<pre><code>listOf(\"a\", \"b\", \"c\").forEach find@{ i -&gt;\n    listOf(\"b\", \"d\").forEach { j -&gt;\n        if (i == j) return@find\n        println(\"i = $i, j = $j\")\n    }\n}\n</code></pre>\n\n<p>Result: </p>\n\n<pre><code>i = a, j = b\ni = a, j = d\ni = c, j = b\ni = c, j = d\n</code></pre>\n\n<p>Continue statement with anonymous function:</p>\n\n<pre><code>listOf(1, 2, 3, 4, 5).forEach(fun(value: Int) {\n    if (value == 3) return\n    print(\"$value \")\n})\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>1 2 4 5 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 799, "user_id": 1519361, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3f51da34041d1c9a47022843844b5209?s=128&d=identicon&r=PG", "display_name": "Hesham Fas", "link": "https://stackoverflow.com/users/1519361/hesham-fas"}, "is_accepted": false, "score": 0, "last_activity_date": 1592512132, "creation_date": 1592512132, "answer_id": 62458848, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/62458848#62458848", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p>maybe change forEach to </p>\n\n<pre><code>for(it in myList){\n   if(condition){\n     doSomething()\n   }else{\n     break //or continue\n    }\n} \n</code></pre>\n\n<p>it works for hashmaps</p>\n\n<pre><code> for(it in myMap){\n     val k = it.key\n     val v = it.value\n\n       if(condition){\n         doSomething()\n       }else{\n         break //or continue\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2380, "user_id": 288096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa1ac62349de7aebf7d43020c799dfe?s=128&d=identicon&r=PG", "display_name": "windmaomao", "link": "https://stackoverflow.com/users/288096/windmaomao"}, "is_accepted": false, "score": 0, "last_activity_date": 1600537311, "last_edit_date": 1600537311, "creation_date": 1597513894, "answer_id": 63429164, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/63429164#63429164", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<pre><code>  fun part2(ops: List&lt;Int&gt;): Int = ops.asSequence()\n    .scan(0) { acc, v -&gt; acc + v }\n    .indexOf(-1)\n</code></pre>\n<p>If you can afford to turn a collection into a <code>sequence</code>, normally the cost is trivial, then you should be able to take advantage of the deferred feature.</p>\n<blockquote>\n<p>You might already notice <code>asSequence</code> in the above. It's here for saving us going over the entire list. Right after we have a match via <code>indexOf</code>, it'll stop. Bingo! Saving us write a <code>while</code> here.</p>\n</blockquote>\n<p>as in Part 2 of  <a href=\"https://medium.com/@windmaomao/kotlin-day-1-up-and-down-38885a5fc2b1\" rel=\"nofollow noreferrer\">https://medium.com/@windmaomao/kotlin-day-1-up-and-down-38885a5fc2b1</a></p>\n"}, {"tags": [], "owner": {"reputation": 493, "user_id": 10513006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e40a24ae900c1a241098b0fdef9c628?s=128&d=identicon&r=PG&f=1", "display_name": "ar36el", "link": "https://stackoverflow.com/users/10513006/ar36el"}, "is_accepted": false, "score": 2, "last_activity_date": 1602241726, "creation_date": 1602241726, "answer_id": 64278841, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin/64278841#64278841", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p>I have the perfect solution for this (:</p>\n<pre><code>list.apply{ forEach{ item -&gt;\n    if (needsToContinue(item)) return@forEach\n    if (needsToBreak(item)) return@apply\n}}\n</code></pre>\n"}], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90733, "favorite_count": 16, "accepted_answer_id": 32541601, "answer_count": 10, "score": 153, "last_activity_date": 1603206147, "creation_date": 1442074314, "last_edit_date": 1525686155, "question_id": 32540947, "link": "https://stackoverflow.com/questions/32540947/break-and-continue-in-foreach-in-kotlin", "title": "`break` and `continue` in `forEach` in Kotlin", "body": "<p>Kotlin has very nice iterating functions, like <code>forEach</code> or <code>repeat</code>, but I am not able to make the <code>break</code> and <code>continue</code> operators work with them (both local and non-local):</p>\n\n<pre><code>repeat(5) {\n    break\n}\n\n(1..5).forEach {\n    continue@forEach\n}\n</code></pre>\n\n<p>The goal is to mimic usual loops with the functional syntax as close as it might be. It was definitely possible in some older versions of Kotlin, but I struggle to reproduce the syntax. </p>\n\n<p>The problem might be a bug with labels (M12), but I think that the first example should work anyway.</p>\n\n<p>It seems to me that I've read somewhere about a special trick/annotation, but I could not find any reference on the subject. Might look like the following:</p>\n\n<pre><code>public inline fun repeat(times: Int, @loop body: (Int) -&gt; Unit) {\n    for (index in 0..times - 1) {\n        body(index)\n    }\n}\n</code></pre>\n"}]