[{"tags": ["kotlin", "android-api-levels"], "answers": [{"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 4, "last_activity_date": 1561723424, "last_edit_date": 1561723424, "creation_date": 1517441567, "answer_id": 48553170, "question_id": 48553095, "link": "https://stackoverflow.com/questions/48553095/which-kotlin-version-is-officially-supported-by-android/48553170#48553170", "title": "Which Kotlin version is officially supported by Android?", "body": "<p>Any Kotlin is compatible with Android as long as you</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib\" // or\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7\"\n</code></pre>\n\n<p>This forEach method with a two-parameter callback is from Java 8 and it's only available since API 24. This is also the reason why below API 24 you can't</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n</code></pre>\n\n<p>What you were looking for is the Kotlin extension function which would look like this:</p>\n\n<pre><code>map.forEach { (key, value) -&gt; // One parameter of type Map.Entry&lt;String, String&gt;\n    // Do something\n}\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 6752997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96NOg.png?s=128&g=1", "display_name": "Jakub Licznerski", "link": "https://stackoverflow.com/users/6752997/jakub-licznerski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 48553170, "answer_count": 1, "score": 1, "last_activity_date": 1561723424, "creation_date": 1517441117, "question_id": 48553095, "link": "https://stackoverflow.com/questions/48553095/which-kotlin-version-is-officially-supported-by-android", "title": "Which Kotlin version is officially supported by Android?", "body": "<p>I've recently developed an application in Kotlin 1.2.10 and got an error in Android Studio: </p>\n\n<p><code>Call requires API level 24 (current min is 21): java.util.Map#forEach</code>. </p>\n\n<p>Referring the following code: </p>\n\n<pre><code>val map = mutableMapOf&lt;String, String&gt;()\nmap.forEach { s1: String, s2: String -&gt; print(\"something\") }\n</code></pre>\n\n<p>So the question is, how do I know that Kotlin methods that I use (outside Android Studio, e.g. IntelliJ) will be available on certain Android API level?</p>\n\n<p>I can't find information about which Kotlin version is Android supporting (and on which API level).</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1517443508, "post_id": 48552925, "comment_id": 84103308, "body": "Chaining callbacks works if there ale multiple callbacks <i>in sequence</i>, each providing a result or error. &lt;s&gt;Here are two callbacks <i>in parallel</i>, how do you imagine chaining two callbacks at once? Which one does your sample pick?&lt;/s&gt; Oh, primary flow. But you still need to close it onDisconnected, how do you chain it?"}], "answers": [{"comments": [{"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 1, "creation_date": 1517441991, "post_id": 48553141, "comment_id": 84102905, "body": "I&#39;m not clear: what does this buy me?  It calls the callbacks, so I still need to provide some sort of callback, so what it did was split out the single Callback (that holds 2 functions) into calling a method and passing in 2 distinct functions.  Unless that would enable <code>.await()</code>?"}, {"owner": {"reputation": 6821, "user_id": 1852164, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Nsqx5.png?s=128&g=1", "display_name": "GetSwifty", "link": "https://stackoverflow.com/users/1852164/getswifty"}, "reply_to_user": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1517443030, "post_id": 48553141, "comment_id": 84103188, "body": "At the point of use you&#39;re passing lamdas or function references rather than having to create a whole object. Chances are the callbacks are already async. Are you just wanting to make a Class that manages the whole process?"}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1517446396, "post_id": 48553141, "comment_id": 84103939, "body": "The callbacks are async, but I&#39;m trying to worm my way out of callback-hell and into something where I can chain functions for the default-path.  Like <code>manager.open(cameraId).capture().saveFile()</code>  Which requires me to block the manager.open(cameraId) call on some value getting filled (which I think should be with CompletableDeferred?) to tie it all together."}, {"owner": {"reputation": 5903, "user_id": 536485, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f546238adb2307a5dad2ba9789d1560b?s=128&d=identicon&r=PG", "display_name": "DarkNeuron", "link": "https://stackoverflow.com/users/536485/darkneuron"}, "edited": false, "score": 0, "creation_date": 1605266018, "post_id": 48553141, "comment_id": 114604299, "body": "Classic example of indirection, where the problem is just moved under the guise of being fixed. We all do that from time to time. At least I do."}], "tags": [], "owner": {"reputation": 6821, "user_id": 1852164, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Nsqx5.png?s=128&g=1", "display_name": "GetSwifty", "link": "https://stackoverflow.com/users/1852164/getswifty"}, "is_accepted": false, "score": 0, "last_activity_date": 1517441389, "creation_date": 1517441389, "answer_id": 48553141, "question_id": 48552925, "link": "https://stackoverflow.com/questions/48552925/existing-3-function-callback-to-kotlin-coroutines/48553141#48553141", "title": "Existing 3-function callback to Kotlin Coroutines", "body": "<p>I've used 2 solutions for this type of thing.</p>\n\n<p>1: wrap the interface in an extension</p>\n\n<pre><code>CameraDevice.openCamera(cameraId: Integer, \n                onOpenedCallback: (CameraDevice) -&gt; (), \n          onDisconnectedCallback: (CameraDevice) -&gt;()) {\n\n    manager.openCamera(cameraId, object : CameraDevice.StateCallback() {\n        override fun onOpened(openedCameraDevice: CameraDevice) {\n            onOpenedCallback(openedCameraDevice)\n        }\n\n        override fun onDisconnected(cameraDevice: CameraDevice) {\n            onDisconnectedCallback(cameraDevice)\n        }\n   })\n}\n</code></pre>\n\n<p>2: Make a simple container class with a more functional interface:</p>\n\n<pre><code>class StateCallbackWrapper(val onOpened: (CameraDevice) -&gt; (), val onClosed: (CameraDevice) -&gt;()): CameraDevice.StateCallback() {\n    override fun onOpened(openedCameraDevice: CameraDevice) {\n        onOpened(openedCameraDevice)\n    }\n\n    override fun onDisconnected(cameraDevice: CameraDevice) {\n        onClosed(cameraDevice)\n    }\n}\n</code></pre>\n\n<p>Personally I would start with something like these, and then build whatever threading differences on top of that.</p>\n"}, {"comments": [{"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1517503384, "post_id": 48562175, "comment_id": 84131602, "body": "<a href=\"https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md#wrapping-callbacks\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlin-coroutines/blob/master/&hellip;</a> YES!  Thank you!!"}, {"owner": {"reputation": 2509, "user_id": 3649297, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rcDDf.jpg?s=128&g=1", "display_name": "Bolein95", "link": "https://stackoverflow.com/users/3649297/bolein95"}, "edited": false, "score": 7, "creation_date": 1529353256, "post_id": 48562175, "comment_id": 88833784, "body": "how do you handle coroutine cancellation in this case?"}, {"owner": {"reputation": 7793, "user_id": 2076286, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/42a08edaf4181e3f686c41020a7a50b9?s=128&d=identicon&r=PG", "display_name": "G&#225;bor", "link": "https://stackoverflow.com/users/2076286/g%c3%a1bor"}, "reply_to_user": {"reputation": 2509, "user_id": 3649297, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rcDDf.jpg?s=128&g=1", "display_name": "Bolein95", "link": "https://stackoverflow.com/users/3649297/bolein95"}, "edited": false, "score": 2, "creation_date": 1561765099, "post_id": 48562175, "comment_id": 100182140, "body": "@Bolein95: by using <code>suspendCancellableCoroutine</code> instead."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 1, "creation_date": 1582885519, "post_id": 48562175, "comment_id": 106939040, "body": "You can choose to represent your error with exception and do <code>cont.resumeWithException(CameraException(error))</code> or represent your error with a special result type and do <code>cont.resume(CameraErrorResult(error))</code>."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1586529665, "post_id": 48562175, "comment_id": 108167028, "body": "this is just perfect! I &lt;3 coroutines! :)"}, {"owner": {"reputation": 3180, "user_id": 923441, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Cwbw0.png?s=128&g=1", "display_name": "A. Steenbergen", "link": "https://stackoverflow.com/users/923441/a-steenbergen"}, "edited": false, "score": 0, "creation_date": 1589808948, "post_id": 48562175, "comment_id": 109431927, "body": "Note that this will crash if the callback fires more than once, e.g. in some cases when rotating the device"}, {"owner": {"reputation": 5903, "user_id": 536485, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f546238adb2307a5dad2ba9789d1560b?s=128&d=identicon&r=PG", "display_name": "DarkNeuron", "link": "https://stackoverflow.com/users/536485/darkneuron"}, "edited": false, "score": 0, "creation_date": 1605266361, "post_id": 48562175, "comment_id": 114604398, "body": "@RomanElizarov Is it possible to expand your example to a scenario where you first add your listeners, and then run an <code>init</code> or <code>start</code> function. For example using the above code, lets assume nothing would happen until you run <code>CameraManager.start()</code>. How would chaining work in such a case? Hope my question makes sense."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 172, "last_activity_date": 1517486135, "creation_date": 1517486135, "answer_id": 48562175, "question_id": 48552925, "link": "https://stackoverflow.com/questions/48552925/existing-3-function-callback-to-kotlin-coroutines/48562175#48562175", "title": "Existing 3-function callback to Kotlin Coroutines", "body": "<p>In this particular case you can use a general approach to convert a callback-based API to a suspending function via <code>suspendCoroutine</code> function:</p>\n\n<pre><code>suspend fun CameraManager.openCamera(cameraId: String): CameraDevice? =\n    suspendCoroutine { cont -&gt;\n        val callback = object : CameraDevice.StateCallback() {\n            override fun onOpened(camera: CameraDevice) {\n                cont.resume(camera)\n            }\n\n            override fun onDisconnected(camera: CameraDevice) {\n                cont.resume(null)\n            }\n\n            override fun onError(camera: CameraDevice, error: Int) {\n                // assuming that we don't care about the error in this example\n                cont.resume(null) \n            }\n        }\n        openCamera(cameraId, callback, null)\n    }\n</code></pre>\n\n<p>Now, in your application code you can just do <code>manager.openCamera(cameraId)</code> and get a reference to <code>CameraDevice</code> if it was opened successfully or <code>null</code> if it was not.  </p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16601, "favorite_count": 22, "accepted_answer_id": 48562175, "answer_count": 2, "score": 65, "last_activity_date": 1586529632, "creation_date": 1517440044, "last_edit_date": 1586529632, "question_id": 48552925, "link": "https://stackoverflow.com/questions/48552925/existing-3-function-callback-to-kotlin-coroutines", "title": "Existing 3-function callback to Kotlin Coroutines", "body": "<p>I have a general question with a specific example:  I'd like to use Kotlin coroutine magic instead of callback hell in Android when taking a picture.</p>\n\n<pre><code>manager.openCamera(cameraId, object : CameraDevice.StateCallback() {\n    override fun onOpened(openedCameraDevice: CameraDevice) {\n        println(\"Camera onOpened\")\n        // even more callbacks with openedCameraDevice.createCaptureRequest()....\n    }\n\n    override fun onDisconnected(cameraDevice: CameraDevice) {\n        println(\"Camera onDisconnected\")\n        cameraDevice.close()\n    }\n    ...\n</code></pre>\n\n<p>How would I convert that to something less ugly?  <strong><em>Is it possible to take an average callback with three or so functions, and turn it into a promise-chain by designating the primary flow as the promise-result path?</em></strong> And if so, should/do I use coroutines to make it async?</p>\n\n<p>I'd love something with async and .await that would result in</p>\n\n<pre><code>manager.open(cameraId).await().createCaptureRequest()\n</code></pre>\n\n<p>I'm trying to do it through something like the following, but I don't think I'm using <code>CompletableDeferred</code> right!</p>\n\n<pre><code>suspend fun CameraManager.open(cameraId:String): CameraDevice {\n    val response = CompletableDeferred&lt;CameraDevice&gt;()\n    this.openCamera(cameraId, object : CameraDevice.StateCallback() {\n        override fun onOpened(cameraDevice: CameraDevice) {\n            println(\"camera onOpened $cameraDevice\")\n            response.complete(cameraDevice)\n        }\n\n        override fun onDisconnected(cameraDevice: CameraDevice) {\n            response.completeExceptionally(Exception(\"Camera onDisconnected $cameraDevice\"))\n            cameraDevice.close()\n        }\n\n        override fun onError(cameraDevice: CameraDevice, error: Int) {\n            response.completeExceptionally(Exception(\"Camera onError $cameraDevice $error\"))\n            cameraDevice.close()\n        }\n    }, Handler())\n    return response.await()\n}\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517439833, "post_id": 48552803, "comment_id": 84102227, "body": "are you using gradle? then updating the version in the build script should do the trick"}, {"owner": {"reputation": 141, "user_id": 8390785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a71d7d8105ab46d855490cb3d4106b?s=128&d=identicon&r=PG&f=1", "display_name": "Snotnose", "link": "https://stackoverflow.com/users/8390785/snotnose"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1517440395, "post_id": 48552803, "comment_id": 84102432, "body": "90% sure I&#39;m using gradle.  Which build script, and which version?  New to Android studio and kotlin, but 40 years programming experience."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517440530, "post_id": 48552803, "comment_id": 84102467, "body": "There should be a build.gradle file in your project root, there will be a Kotlin version specified"}, {"owner": {"reputation": 141, "user_id": 8390785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a71d7d8105ab46d855490cb3d4106b?s=128&d=identicon&r=PG&f=1", "display_name": "Snotnose", "link": "https://stackoverflow.com/users/8390785/snotnose"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517440922, "post_id": 48552803, "comment_id": 84102580, "body": "build.gradle had version 1.2.10, so I bumped it to 11.  A.S. gave an error message mentioning 1.2.10-release-109, so I changed it to that.  Still get an error.  What do I change the version to?"}, {"owner": {"reputation": 141, "user_id": 8390785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a71d7d8105ab46d855490cb3d4106b?s=128&d=identicon&r=PG&f=1", "display_name": "Snotnose", "link": "https://stackoverflow.com/users/8390785/snotnose"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517441071, "post_id": 48552803, "comment_id": 84102631, "body": "Let me re-phrase that.  How do I find out what version to use?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517441139, "post_id": 48552803, "comment_id": 84102656, "body": "I\u2019d use the latest: 1.2.21"}, {"owner": {"reputation": 141, "user_id": 8390785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a71d7d8105ab46d855490cb3d4106b?s=128&d=identicon&r=PG&f=1", "display_name": "Snotnose", "link": "https://stackoverflow.com/users/8390785/snotnose"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517442105, "post_id": 48552803, "comment_id": 84102939, "body": "Right answer turned out to be 1.1.51.  Found by seeing what was in the Android Studio kotlin directory.  There has to be a better way...."}], "answers": [{"comments": [{"owner": {"reputation": 1057, "user_id": 3674079, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/1m1O1.jpg?s=128&g=1", "display_name": "quangkid", "link": "https://stackoverflow.com/users/3674079/quangkid"}, "edited": false, "score": 0, "creation_date": 1520912026, "post_id": 49098282, "comment_id": 85499337, "body": "I did that but it keep showing, only when open project : Outdated Kotlin Runtime \t\t\t\tYour version of Kotlin runtime in &#39;Gradle: org.jetbrains.kotlin:kotlin-stdlib:1.2.0@jar&#39; library is 1.2.0-release-90 (1.2.0), while plugin version is 1.2.30-release-Studio3.1-1."}, {"owner": {"reputation": 306, "user_id": 2100568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aEsQZ.jpg?s=128&g=1", "display_name": "Gille", "link": "https://stackoverflow.com/users/2100568/gille"}, "reply_to_user": {"reputation": 1057, "user_id": 3674079, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/1m1O1.jpg?s=128&g=1", "display_name": "quangkid", "link": "https://stackoverflow.com/users/3674079/quangkid"}, "edited": false, "score": 0, "creation_date": 1520948368, "post_id": 49098282, "comment_id": 85518359, "body": "Try this: <i>./gradlew cleanBuildCache</i> After that it should be fixed, if you&#39;ve put <i>ext.kotlin_version = &#39;1.2.30&quot;</i>"}], "tags": [], "owner": {"reputation": 306, "user_id": 2100568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aEsQZ.jpg?s=128&g=1", "display_name": "Gille", "link": "https://stackoverflow.com/users/2100568/gille"}, "is_accepted": false, "score": 7, "last_activity_date": 1520184886, "creation_date": 1520184886, "answer_id": 49098282, "question_id": 48552803, "link": "https://stackoverflow.com/questions/48552803/how-to-update-kotlin-runtime-in-android-studio/49098282#49098282", "title": "How to update Kotlin.Runtime in Android Studio", "body": "<p>Open the \"root\" build.gradle of your project. At the very beginning you should find something like this:</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.1.51'\nrepositories {\n    google()\n    jcenter()\n}\n</code></pre>\n\n<p>change te second line to looks like:</p>\n\n<pre><code>ext.kotlin_version = '1.2.30'\n</code></pre>\n\n<p>How you should know exactly to which version to update the Kotlin runtime? Easy, take a look to the Event Log in Android Studio, the Kotlin plugin will complain there:\n<a href=\"https://i.stack.imgur.com/Ivu2l.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ivu2l.png\" alt=\"Event Log message\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 20314, "user_id": 1281501, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/db591cfa2d3fc416c8ea91a16393fc28?s=128&d=identicon&r=PG", "display_name": "lostintranslation", "link": "https://stackoverflow.com/users/1281501/lostintranslation"}, "edited": false, "score": 1, "creation_date": 1548438386, "post_id": 50159499, "comment_id": 95554994, "body": "What do you mean &quot;uncheck&quot; it.  What does your build.gradle file look like?"}, {"owner": {"reputation": 153, "user_id": 5028293, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206369035080336/picture?type=large", "display_name": "Ohad Bitton", "link": "https://stackoverflow.com/users/5028293/ohad-bitton"}, "edited": false, "score": 0, "creation_date": 1574717012, "post_id": 50159499, "comment_id": 104323143, "body": "didnt work for me - after unchecking and restarting - the compiler couldnt even start"}], "tags": [], "owner": {"reputation": 39, "user_id": 9736663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7245a89847d85bf9b9d050061cdcbd2?s=128&d=identicon&r=PG", "display_name": "Keith Allpress", "link": "https://stackoverflow.com/users/9736663/keith-allpress"}, "is_accepted": false, "score": 3, "last_activity_date": 1525364292, "last_edit_date": 1525364292, "creation_date": 1525363650, "answer_id": 50159499, "question_id": 48552803, "link": "https://stackoverflow.com/questions/48552803/how-to-update-kotlin-runtime-in-android-studio/50159499#50159499", "title": "How to update Kotlin.Runtime in Android Studio", "body": "<p>After version 3 of Android Studio you don't need the Kotlin plugin, just uncheck it. The Kotlin version will look after itself, via a metadependency variable.</p>\n"}, {"comments": [{"owner": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 0, "creation_date": 1612220790, "post_id": 54302719, "comment_id": 116694182, "body": "To be more verbose. You can find these options under Android Studio File&gt;Settings"}], "tags": [], "owner": {"reputation": 1623, "user_id": 4936616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IFsX.jpg?s=128&g=1", "display_name": "Jose", "link": "https://stackoverflow.com/users/4936616/jose"}, "is_accepted": false, "score": 47, "last_activity_date": 1593401875, "last_edit_date": 1593401875, "creation_date": 1548139930, "answer_id": 54302719, "question_id": 48552803, "link": "https://stackoverflow.com/questions/48552803/how-to-update-kotlin-runtime-in-android-studio/54302719#54302719", "title": "How to update Kotlin.Runtime in Android Studio", "body": "<p>You can update and install new Kotlin plugin from Android Studio itself. See\n<a href=\"https://i.stack.imgur.com/vo9YN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vo9YN.png\" alt=\"screenshot from Android Studio\" /></a></p>\n"}], "owner": {"reputation": 141, "user_id": 8390785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a71d7d8105ab46d855490cb3d4106b?s=128&d=identicon&r=PG&f=1", "display_name": "Snotnose", "link": "https://stackoverflow.com/users/8390785/snotnose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16738, "favorite_count": 0, "answer_count": 3, "score": 13, "last_activity_date": 1593401875, "creation_date": 1517439302, "question_id": 48552803, "link": "https://stackoverflow.com/questions/48552803/how-to-update-kotlin-runtime-in-android-studio", "title": "How to update Kotlin.Runtime in Android Studio", "body": "<p>Windows 10, Android Studio 3.0.1.  Just fired it up and got the \"there's a new version available, update?\".  I updated.  Now I get \"Outdated Kotlin.Runtime. \n Version of Kotlin runtime is outdated in several libraries\" followed by a long URL.</p>\n\n<p>So I need to update the Kotlin Runtime.  How do I do that?</p>\n"}, {"tags": ["object", "reflection", "kotlin", "singleton", "tostring"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517701851, "post_id": 48552319, "comment_id": 84203264, "body": "Did the answer help?"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1517437257, "creation_date": 1517437257, "answer_id": 48552410, "question_id": 48552319, "link": "https://stackoverflow.com/questions/48552319/how-to-know-if-object-is-a-singleton-in-kotlin/48552410#48552410", "title": "How to know if object is a singleton in Kotlin?", "body": "<p>The following <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/object-instance.html\" rel=\"nofollow noreferrer\"><code>objectInstance</code></a> property of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html\" rel=\"nofollow noreferrer\"><code>KClass</code></a> can be helpful:</p>\n\n<pre><code>/**\n * The instance of the object declaration, or `null` if this class is not an object declaration.\n */\npublic val objectInstance: T?\n</code></pre>\n\n<p>Here's an example:</p>\n\n<pre><code>object Singleton\n\nprintln(Singleton::class.objectInstance) // xx.Singleton@77a57272\nprintln(\"\"::class.objectInstance) //null\n</code></pre>\n"}], "owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1517437339, "creation_date": 1517436775, "last_edit_date": 1517437339, "question_id": 48552319, "link": "https://stackoverflow.com/questions/48552319/how-to-know-if-object-is-a-singleton-in-kotlin", "title": "How to know if object is a singleton in Kotlin?", "body": "<p>I would like to define <code>toString()</code>in superclass so, that it detects that class instance is a singleton (an <code>object</code>) and print its name.</p>\n\n<p>Is it possible in Kotlin? </p>\n"}, {"tags": ["kotlin", "bit-shift"], "answers": [{"comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1517445941, "post_id": 48552352, "comment_id": 84103838, "body": "This has 8 conversions. It works, but it can be done with just 4 conversions."}, {"owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1517446767, "post_id": 48552352, "comment_id": 84104028, "body": "@Paul Hicks You&#39;re probably right. I&#39;ll counter your donwvote on the basis that I don&#39;t see how your answer is any worse and the person who downvoted didn&#39;t say what&#39;s wrong with it."}], "tags": [], "owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "is_accepted": true, "score": 12, "last_activity_date": 1517437434, "last_edit_date": 1517437434, "creation_date": 1517436937, "answer_id": 48552352, "question_id": 48552223, "link": "https://stackoverflow.com/questions/48552223/kotlin-bit-shifting/48552352#48552352", "title": "Kotlin bit shifting", "body": "<p>Convert explicitly like this: <code>0xFF.toByte()</code></p>\n\n<p>As a general rule, press Alt+Enter when you need more information about an error or a possible solution.</p>\n\n<p>The shift left method takes an Int as parameter. So, same thing, convert to the right type.</p>\n\n<pre><code>(bytes[pos++] and 0xFF.toByte()).toInt() shl 24\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 1, "creation_date": 1517437741, "post_id": 48552476, "comment_id": 84101374, "body": "Or possibly even better.. change <code>bytes</code> to be an Int array rather than a Byte array. It will be faster in most cases, though obviously use more memory."}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 2, "last_activity_date": 1517445973, "last_edit_date": 1517445973, "creation_date": 1517437603, "answer_id": 48552476, "question_id": 48552223, "link": "https://stackoverflow.com/questions/48552223/kotlin-bit-shifting/48552476#48552476", "title": "Kotlin bit shifting", "body": "<p>shl expects Int, not Byte. You need 0xFF to be an Int (which it is), so don't call <code>toByte()</code>. You need <code>(0xFF shl 24)</code> to be an Int, so don't convert that. You need <code>bytes[pos++]</code> to be an Int.. convert that!</p>\n\n<pre><code>return (((bytes[pos++].toInt() and (0xFF shl 24)) or\n         (bytes[pos++].toInt() and (0xFF shl 16)) or\n         (bytes[pos++].toInt() and (0xFF shl 8)) or\n         (bytes[pos++].toInt() and 0xFF))\n</code></pre>\n"}], "owner": {"reputation": 2539, "user_id": 2735398, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/74d4d7c1aba9dfac3331aaf8178465d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Wytze", "link": "https://stackoverflow.com/users/2735398/jan-wytze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5493, "favorite_count": 0, "accepted_answer_id": 48552352, "answer_count": 2, "score": 4, "last_activity_date": 1517445973, "creation_date": 1517436322, "last_edit_date": 1517437099, "question_id": 48552223, "link": "https://stackoverflow.com/questions/48552223/kotlin-bit-shifting", "title": "Kotlin bit shifting", "body": "<p>I want to convert the code if this answer to Kotlin: <a href=\"https://stackoverflow.com/a/5402769/2735398\">https://stackoverflow.com/a/5402769/2735398</a></p>\n\n<p>I pasted this into Intellij:</p>\n\n<pre><code>private int decodeInt() {\n    return ((bytes[pos++] &amp; 0xFF) &lt;&lt; 24) | ((bytes[pos++] &amp; 0xFF) &lt;&lt; 16)\n            | ((bytes[pos++] &amp; 0xFF) &lt;&lt; 8) | (bytes[pos++] &amp; 0xFF);\n}\n</code></pre>\n\n<p>Intellij asks if I want to convert it to Kotlin, when I do this is the output:</p>\n\n<pre><code>private fun decodeInt(): Int {\n    return (bytes[pos++] and 0xFF shl 24 or (bytes[pos++] and 0xFF shl 16)\n            or (bytes[pos++] and 0xFF shl 8) or (bytes[pos++] and 0xFF))\n}\n</code></pre>\n\n<p>At all <code>0xFF</code> I get this error:</p>\n\n<pre><code>The integer literal does not conform to the expected type Byte\n</code></pre>\n\n<p>By appending <code>.toByte()</code> after it I was able to remove this error.</p>\n\n<p>And at all shift left operations(<code>shl</code>) I get this error:</p>\n\n<pre><code>Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \n\n@SinceKotlin @InlineOnly public infix inline fun BigInteger.shl(n: Int): BigInteger defined in kotlin\n</code></pre>\n\n<p>I wasn't able to solve this one...\nI don't know a lot about bit shifting in Java/Kotlin...<br>\nWhat would be the working Kotlin code for this?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4567556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-21nUOp7FDeQ/AAAAAAAAAAI/AAAAAAAAeJQ/XYO8QazfaLE/photo.jpg?sz=128", "display_name": "pandulapeter", "link": "https://stackoverflow.com/users/4567556/pandulapeter"}, "edited": false, "score": 0, "creation_date": 1517436475, "post_id": 48552105, "comment_id": 84100799, "body": "Thanks, this helps! But now I&#39;m stuck with the actual Delegate implementation.  is there a way to call the getters / setters from that KProperty without casting and reflection?"}, {"owner": {"reputation": 45, "user_id": 4567556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-21nUOp7FDeQ/AAAAAAAAAAI/AAAAAAAAeJQ/XYO8QazfaLE/photo.jpg?sz=128", "display_name": "pandulapeter", "link": "https://stackoverflow.com/users/4567556/pandulapeter"}, "edited": false, "score": 0, "creation_date": 1517436543, "post_id": 48552105, "comment_id": 84100832, "body": "class PropertyDelegate&lt;T&gt;(private var property: KProperty&lt;T&gt;) : ReadWriteProperty&lt;Any, T&gt; {     override fun getValue(thisRef: Any, property: KProperty&lt;*&gt;) : T = property.getter.call() as T      override fun setValue(thisRef: Any, property: KProperty&lt;*&gt;, value: T) {         ...     } }"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 45, "user_id": 4567556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-21nUOp7FDeQ/AAAAAAAAAAI/AAAAAAAAeJQ/XYO8QazfaLE/photo.jpg?sz=128", "display_name": "pandulapeter", "link": "https://stackoverflow.com/users/4567556/pandulapeter"}, "edited": false, "score": 0, "creation_date": 1517436731, "post_id": 48552105, "comment_id": 84100913, "body": "@pandulapeter write this.property.getter.call() and this.property.getter.set(value)"}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 1, "last_activity_date": 1517435853, "creation_date": 1517435853, "answer_id": 48552105, "question_id": 48552066, "link": "https://stackoverflow.com/questions/48552066/how-to-write-a-delegate-that-delegates-to-another-property/48552105#48552105", "title": "How to write a delegate that delegates to another property?", "body": "<p>To get the property you can do <code>presenter::emailText</code>. It returns a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-property/\" rel=\"nofollow noreferrer\"><code>KProperty</code></a></p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 4567556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-21nUOp7FDeQ/AAAAAAAAAAI/AAAAAAAAeJQ/XYO8QazfaLE/photo.jpg?sz=128", "display_name": "pandulapeter", "link": "https://stackoverflow.com/users/4567556/pandulapeter"}, "edited": false, "score": 1, "creation_date": 1517437620, "post_id": 48552304, "comment_id": 84101321, "body": "Great answer thanks! I&#39;m a bit disappointed that I can&#39;t avoid reflection but it makes sense I guess."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1517473272, "last_edit_date": 1517473272, "creation_date": 1517436692, "answer_id": 48552304, "question_id": 48552066, "link": "https://stackoverflow.com/questions/48552066/how-to-write-a-delegate-that-delegates-to-another-property/48552304#48552304", "title": "How to write a delegate that delegates to another property?", "body": "<p>You can implement a delegate according to the description in the <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<pre><code>class PropertyDelegate&lt;R&gt;(private val prop: KProperty&lt;R&gt;) {\n    private fun ensureDifference(prop1: KProperty&lt;*&gt;, prop2: KProperty&lt;*&gt;) {\n        if (prop1.javaField == prop2.javaField) throw IllegalArgumentException(\"Can't delegate to same property.\")\n    }\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): R {\n        ensureDifference(prop, property)\n        return prop.getter.call()\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: R) {\n        ensureDifference(prop, property)\n        return (prop as? KMutableProperty&lt;R&gt;)?.setter?.call(value)\n                ?: throw IllegalArgumentException(\"Cannot set val property\")\n    }\n}\n</code></pre>\n\n<p>Used like this:</p>\n\n<pre><code>class X(var xProp: String)\n\nclass Y(var x: X) {\n    var y: String by PropertyDelegate(x::xProp)\n}\n</code></pre>\n\n<p>Note that this one should only be used with mutable <code>var</code> properties.</p>\n"}], "owner": {"reputation": 45, "user_id": 4567556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-21nUOp7FDeQ/AAAAAAAAAAI/AAAAAAAAeJQ/XYO8QazfaLE/photo.jpg?sz=128", "display_name": "pandulapeter", "link": "https://stackoverflow.com/users/4567556/pandulapeter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 48552304, "answer_count": 2, "score": 2, "last_activity_date": 1517473272, "creation_date": 1517435642, "last_edit_date": 1517436072, "question_id": 48552066, "link": "https://stackoverflow.com/questions/48552066/how-to-write-a-delegate-that-delegates-to-another-property", "title": "How to write a delegate that delegates to another property?", "body": "<p>I'm trying to reduce duplicated code in my custom property getters / setters that only proxy to identical properties in a different layer. The code explains it better:</p>\n\n<pre><code>var emailText\n    get() = presenter.emailText\n    set(value) {\n        presenter.emailText = value\n    }\n</code></pre>\n\n<p>What I'm aiming for is something like this:</p>\n\n<pre><code>var emailText by PropertyDelegate(presenter.emailText)\n</code></pre>\n\n<p>The problem is that I can't find the proper syntax to reference the actual property instead of its value. Is there a simple way to do this?</p>\n"}, {"tags": ["reflection", "kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1517439935, "post_id": 48551353, "comment_id": 84102253, "body": "Is this equals-method reused in different classes?"}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "reply_to_user": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1517468240, "post_id": 48551353, "comment_id": 84109714, "body": "@D3xter yes in subclasses"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1517433952, "last_edit_date": 1517433952, "creation_date": 1517433067, "answer_id": 48551502, "question_id": 48551353, "link": "https://stackoverflow.com/questions/48551353/how-to-get-class-of-any-variable-in-kotlin/48551502#48551502", "title": "How to get class of Any? variable in Kotlin?", "body": "<p>Think about this. The class is actually not different between a <code>String</code> and a <code>String?</code>, it's only the type that differs. You cannot invoke that operator on nullable types since it could mean you invoke it on <code>null</code> which would lead to a <code>NullPointerException</code>:</p>\n\n<pre><code>val x: String? = null\nx!!::class //throws NPE\n</code></pre>\n\n<p>With the help of the scope function <code>let</code> you can ensure it isn't <code>null</code> and use the <a href=\"http://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"nofollow noreferrer\">class literal syntax</a>:</p>\n\n<pre><code>return other?.let { this::class == other::class } ?: false\n</code></pre>\n\n<p>The <a href=\"https://stackoverflow.com/a/48254829/8073652\">Elvis operator</a> <code>?:</code> is used to handle the <code>null</code> case by making the expression <code>false</code> (not equal).</p>\n"}], "owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1608, "favorite_count": 0, "accepted_answer_id": 48551502, "answer_count": 1, "score": 1, "last_activity_date": 1517433952, "creation_date": 1517432523, "question_id": 48551353, "link": "https://stackoverflow.com/questions/48551353/how-to-get-class-of-any-variable-in-kotlin", "title": "How to get class of Any? variable in Kotlin?", "body": "<p>I want my <code>equals</code> to compare class too and I wrote</p>\n\n<pre><code>    override fun equals(other: Any?): Boolean {\n        return this::class == other::class &amp;&amp; ...\n\n    }\n</code></pre>\n\n<p>unfortunately it swears</p>\n\n<pre><code>Expression in a class literal has a nullable type 'Any?', use !! to make the type non-nullable\n</code></pre>\n\n<p>But I want to compare with <code>null</code>s too. What about glorious \"null safety\"? They forgot it for reflection? I didn't find <code>?::</code> operator or something.</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 1, "creation_date": 1517439224, "post_id": 48549260, "comment_id": 84101989, "body": "Did you try it with <code>@field:ChannelId</code> as you did with <code>Named</code>?"}, {"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1517468825, "post_id": 48549260, "comment_id": 84109965, "body": "It worked, thank you. I havent found anything yet that gave me this advice :) In case you give your comment as an answer, I&#39;ll mark it as accepted."}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1517513217, "post_id": 48549260, "comment_id": 84136951, "body": "Glad it worked. Someone just answered basically the same question, so I closed it instead :)"}, {"owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1517514353, "post_id": 48549260, "comment_id": 84137593, "body": "I don&#39;t think the questions are equal, as the other is related to named annotations and mine is related to qualifier annotations. I guess this is worth mentioning on this platform :)"}], "owner": {"reputation": 646, "user_id": 4786162, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6d7c98f84a3ff4930e2ec24f507d4e5?s=128&d=identicon&r=PG&f=1", "display_name": "Florian Hansen", "link": "https://stackoverflow.com/users/4786162/florian-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 535, "favorite_count": 0, "closed_date": 1517513158, "answer_count": 0, "score": 2, "last_activity_date": 1517424723, "creation_date": 1517423888, "last_edit_date": 1517424723, "question_id": 48549260, "link": "https://stackoverflow.com/questions/48549260/android-kotlin-dagger-2-qualifier-annotation-with-member-injection", "closed_reason": "Duplicate", "title": "Android - Kotlin - Dagger 2 - Qualifier Annotation with Member Injection", "body": "<p>I am trying to inject a String into my class that is <strong>qualified</strong> by an annotation like this:</p>\n\n<pre><code>@Qualifier\n@MustBeDocumented\n@Retention(AnnotationRetention.RUNTIME)\nannotation class ChannelId\n</code></pre>\n\n<p>When working with constructor injection, everything is working well. Now, as I am implementing a Service, I need to lazily <strong>inject</strong> my <code>ChannelId</code>:</p>\n\n<pre><code>@Inject\n@ChannelId\nlateinit var channelId: String\n</code></pre>\n\n<p>My <strong>Provider</strong> looks like this:</p>\n\n<pre><code>@Provides\n@ChannelId\nfun channelId(): String = \"channelid\"\n</code></pre>\n\n<p>The compiler tells me, that I need to implement a <code>@Provides</code>-method for my String, although it is in my Object-Graph. \nI tested this with using <code>@Named</code> in the provider and Service:</p>\n\n<pre><code>@Inject\n@field:Named(\"channelId\")\nlateinit var channelId: String  \n</code></pre>\n\n<p>Dagger can now resolve the String and correctly inject it into my Service. Obviously I am missing something about the Qualifier-Annotation. Can anyone please help out?\nThank you.</p>\n"}, {"tags": ["android", "kotlin", "conductor"], "answers": [{"comments": [{"owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1517429761, "post_id": 48550467, "comment_id": 84097434, "body": "and is it a good idea to do getActivity.addDrawerItem()? When I use fragment I use interface which I pass through onAttach method. But OnAttach in Conductor doesn&#39;t have a context parameter and I can not initialize listener there."}, {"owner": {"reputation": 186, "user_id": 7953113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5d8c2367b5ac9fc30efd035c53fc42?s=128&d=identicon&r=PG&f=1", "display_name": "EricKuck", "link": "https://stackoverflow.com/users/7953113/erickuck"}, "reply_to_user": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1517431371, "post_id": 48550467, "comment_id": 84098284, "body": "In that case, use <code>onContextAvailable</code>. This is called when the context is very first available to the Controller and is analogous to a Fragment&#39;s <code>onAttach</code>. You can use the same interface you were using before."}, {"owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1517465689, "post_id": 48550467, "comment_id": 84108817, "body": "I think you answered my question."}], "tags": [], "owner": {"reputation": 186, "user_id": 7953113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5d8c2367b5ac9fc30efd035c53fc42?s=128&d=identicon&r=PG&f=1", "display_name": "EricKuck", "link": "https://stackoverflow.com/users/7953113/erickuck"}, "is_accepted": true, "score": 0, "last_activity_date": 1517428699, "creation_date": 1517428699, "answer_id": 48550467, "question_id": 48548719, "link": "https://stackoverflow.com/questions/48548719/call-activity-method-from-conductor/48550467#48550467", "title": "Call activity method from conductor", "body": "<p>Conductor Controllers have a <code>getActivity()</code> method just like Fragments do. You'd do it the same whether you're using a Controller or a Fragment.</p>\n"}], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 48550467, "answer_count": 1, "score": 0, "last_activity_date": 1517429002, "creation_date": 1517422024, "last_edit_date": 1517422383, "question_id": 48548719, "link": "https://stackoverflow.com/questions/48548719/call-activity-method-from-conductor", "title": "Call activity method from conductor", "body": "<p>I have an Activity with a <code>zsmb:materialdrawer</code> and <code>conductor</code></p>\n\n<pre><code>class MenuActivity : AppCompatActivity(), GoogleApiClient.OnConnectionFailedListener{\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_menu)\n        router = Conductor.attachRouter(this, container, savedInstanceState)\n        if (!router.hasRootController()){\n            router.setRoot(RouterTransaction.with(HomeController()))\n        }\n    }\n\n    fun addDrawerItem() {\n        // not implemented\n    }\n\n    private fun initViews(savedInstanceState: Bundle?) {\n        toolbarMenu.setTitle(R.string.menu_title)\n\n        drawerResult = drawer {\n\n            primaryItem(getString(R.string.public_chats)){\n                identifier = 101\n                icon = R.drawable.abc_ic_star_black_48dp\n                onClick(pushController(ChatRoomsController()))\n            }\n            primaryItem(getString(R.string.private_chats)){\n                identifier = 102\n                icon = R.drawable.abc_ic_star_black_48dp\n                onClick(openActivity(ChatListActivity::class))\n            }\n\n        }\n    }\n\n}\n\nclass HomeController: Controller() {\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup): View {\n        mView = inflater.inflate(R.layout.controller_sign_in, container, false)\n        val signInWithGoogle = mView.findViewById&lt;Button&gt;(R.id.sign_in_with_google)\n        signInWithGoogle?.setOnClickListener({\n            // handle action with drawer here\n            // mView.addDrawerItem()\n        })\n        return mView\n    }\n}\n</code></pre>\n\n<p>And I want to call my <code>Activity</code> method from the <code>conductor</code>.\nI'm trying to execute <code>mView.addDrawerItem()</code> but this method is not available there.\nAs I know <code>conductor</code> is a replacement for a fragment and in <code>fragment</code> I can easily call <code>activity</code> method through the <code>interface</code>. What is the best practice to do it in <code>conductor</code>?</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1517423634, "post_id": 48549006, "comment_id": 84094216, "body": "I think the OP is asking how to get IntelliJ to automatically add the relevant import."}, {"owner": {"reputation": 201, "user_id": 4398606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YnuEgbNqN_o/AAAAAAAAAAI/AAAAAAAAAoU/aTsjiuToXSQ/photo.jpg?sz=128", "display_name": "Stanley Wintergreen", "link": "https://stackoverflow.com/users/4398606/stanley-wintergreen"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1517424559, "post_id": 48549006, "comment_id": 84094721, "body": "If it is just for auto adding code then exist special command. Usual using key combination Alt+Enter on problem place."}, {"owner": {"reputation": 71, "user_id": 9265640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0cbbfb7cfed875760b2b233d9077856b?s=128&d=identicon&r=PG&f=1", "display_name": "wozuiqiangdeaoyi", "link": "https://stackoverflow.com/users/9265640/wozuiqiangdeaoyi"}, "edited": false, "score": 1, "creation_date": 1517425117, "post_id": 48549006, "comment_id": 84095022, "body": "@StanleyWintergreen alt+Enter is useless for this problem, it just advise you to create new Int.plus in current kotlin file"}, {"owner": {"reputation": 201, "user_id": 4398606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YnuEgbNqN_o/AAAAAAAAAAI/AAAAAAAAAoU/aTsjiuToXSQ/photo.jpg?sz=128", "display_name": "Stanley Wintergreen", "link": "https://stackoverflow.com/users/4398606/stanley-wintergreen"}, "edited": false, "score": 0, "creation_date": 1517425365, "post_id": 48549006, "comment_id": 84095163, "body": "In each file where using extension must be exist import. Besides file with declaration extension. Or i am not understand your problem?"}, {"owner": {"reputation": 71, "user_id": 9265640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0cbbfb7cfed875760b2b233d9077856b?s=128&d=identicon&r=PG&f=1", "display_name": "wozuiqiangdeaoyi", "link": "https://stackoverflow.com/users/9265640/wozuiqiangdeaoyi"}, "edited": false, "score": 0, "creation_date": 1517425731, "post_id": 48549006, "comment_id": 84095346, "body": "@StanleyWintergreen my problem is, when I type 1 + BigInteger, I want Intellij can auto import that funtion, rather than i type &quot;import xxx.xxx.xxx&quot; with my hands"}, {"owner": {"reputation": 201, "user_id": 4398606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YnuEgbNqN_o/AAAAAAAAAAI/AAAAAAAAAoU/aTsjiuToXSQ/photo.jpg?sz=128", "display_name": "Stanley Wintergreen", "link": "https://stackoverflow.com/users/4398606/stanley-wintergreen"}, "edited": false, "score": 0, "creation_date": 1517425886, "post_id": 48549006, "comment_id": 84095433, "body": "For example. You have two extensions in two files: common.number.Number.plus and common.number.OtherClass.plus. If you do not want see import line in the file, how you think idea will know which extension you want using?"}, {"owner": {"reputation": 71, "user_id": 9265640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0cbbfb7cfed875760b2b233d9077856b?s=128&d=identicon&r=PG&f=1", "display_name": "wozuiqiangdeaoyi", "link": "https://stackoverflow.com/users/9265640/wozuiqiangdeaoyi"}, "edited": false, "score": 0, "creation_date": 1517426167, "post_id": 48549006, "comment_id": 84095564, "body": "@StanleyWintergreen just like import a function, if it has lots of, show a list and let me choose. The problem here is, there are nothing, no notice, just like common.number.Number.plus is not exists"}, {"owner": {"reputation": 71, "user_id": 9265640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0cbbfb7cfed875760b2b233d9077856b?s=128&d=identicon&r=PG&f=1", "display_name": "wozuiqiangdeaoyi", "link": "https://stackoverflow.com/users/9265640/wozuiqiangdeaoyi"}, "edited": false, "score": 0, "creation_date": 1517426275, "post_id": 48549006, "comment_id": 84095627, "body": "@StanleyWintergreen Maybe you could try my code, then you can find whats the problem I mean"}, {"owner": {"reputation": 201, "user_id": 4398606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YnuEgbNqN_o/AAAAAAAAAAI/AAAAAAAAAoU/aTsjiuToXSQ/photo.jpg?sz=128", "display_name": "Stanley Wintergreen", "link": "https://stackoverflow.com/users/4398606/stanley-wintergreen"}, "reply_to_user": {"reputation": 71, "user_id": 9265640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0cbbfb7cfed875760b2b233d9077856b?s=128&d=identicon&r=PG&f=1", "display_name": "wozuiqiangdeaoyi", "link": "https://stackoverflow.com/users/9265640/wozuiqiangdeaoyi"}, "edited": false, "score": 1, "creation_date": 1517427227, "post_id": 48549006, "comment_id": 84096142, "body": "@wozuiqiangdeaoyi True! I try in idea this case. Sadly but idea not offer my custom extension - &quot;just like common.number.plus is not exists&quot;. So for now i have no idea for simplify this case."}], "tags": [], "owner": {"reputation": 201, "user_id": 4398606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YnuEgbNqN_o/AAAAAAAAAAI/AAAAAAAAAoU/aTsjiuToXSQ/photo.jpg?sz=128", "display_name": "Stanley Wintergreen", "link": "https://stackoverflow.com/users/4398606/stanley-wintergreen"}, "is_accepted": false, "score": 2, "last_activity_date": 1517422974, "creation_date": 1517422974, "answer_id": 48549006, "question_id": 48548592, "link": "https://stackoverflow.com/questions/48548592/intellij-idea-kotlin-cannot-auto-import-some-operator-function-such-as/48549006#48549006", "title": "Intellij Idea kotlin cannot auto import some operator function such as +", "body": "<p>It is need because you make special extension operator. It is working same like extension function. Import required because idea need to know which exactly extension you want using. So extensions can be more then one.</p>\n"}], "owner": {"reputation": 71, "user_id": 9265640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0cbbfb7cfed875760b2b233d9077856b?s=128&d=identicon&r=PG&f=1", "display_name": "wozuiqiangdeaoyi", "link": "https://stackoverflow.com/users/9265640/wozuiqiangdeaoyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1517498699, "creation_date": 1517421509, "last_edit_date": 1517498699, "question_id": 48548592, "link": "https://stackoverflow.com/questions/48548592/intellij-idea-kotlin-cannot-auto-import-some-operator-function-such-as", "title": "Intellij Idea kotlin cannot auto import some operator function such as +", "body": "<p>For example:</p>\n\n<h3>Class <code>common.number.Number.kt</code>:</h3>\n\n<pre><code>operator fun Int.plus(other: BigInteger): BigInteger {\n    return BigInteger(this.toString()).add(other)\n}\n</code></pre>\n\n<h3>Class <code>common.test.Test.kt</code>:</h3>\n\n<pre><code>var i = 1 + BigInteger(\"1\")\n</code></pre>\n\n<p>Then the Intellij Idea shows an error in class <code>Test.kt</code>.\nHowever, if I add the following import, the error disappears:</p>\n\n<pre><code>import common.number.Number.plus\n</code></pre>\n\n<p>How can I make IntelliJ Idea import this operator function automatically?</p>\n"}, {"tags": ["json", "spring-boot", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5394340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a30fb3ae6a910a0a928287fdeac6a22?s=128&d=identicon&r=PG&f=1", "display_name": "Moustafa Ayad", "link": "https://stackoverflow.com/users/5394340/moustafa-ayad"}, "edited": false, "score": 0, "creation_date": 1517422519, "post_id": 48547939, "comment_id": 84093620, "body": "thank youfor intersting ,in sample way i use LocalDateTime.toString() and it work"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1517419242, "creation_date": 1517419242, "answer_id": 48547939, "question_id": 48547434, "link": "https://stackoverflow.com/questions/48547434/using-localdatetime-in-tornadofx-with-rest-springboot/48547939#48547939", "title": "using localdatetime in tornadofx with rest springboot", "body": "<p>You are free to serialize the json data any way you like. Instead of doing <code>json.add(\"key\", someLocalDateTimeValue)</code> you can do <code>json.add(\"key\", someLocalDataTimeValueConvertedToWhateverFormatYouWant)</code>. You could even add an extension function to make it nice to work with.</p>\n\n<p>That said, it should be pretty easy to come up with a configurable option for how to store LocalDateTime in the built in JsonBuilder. A PR would be most welcome :)</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 5394340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a30fb3ae6a910a0a928287fdeac6a22?s=128&d=identicon&r=PG&f=1", "display_name": "Moustafa Ayad", "link": "https://stackoverflow.com/users/5394340/moustafa-ayad"}, "is_accepted": false, "score": 1, "last_activity_date": 1517431130, "last_edit_date": 1517431130, "creation_date": 1517422905, "answer_id": 48548979, "question_id": 48547434, "link": "https://stackoverflow.com/questions/48547434/using-localdatetime-in-tornadofx-with-rest-springboot/48548979#48548979", "title": "using localdatetime in tornadofx with rest springboot", "body": "<p>this is working in perfect way with tornadofx</p>\n\n<pre><code>override fun toJSON(json: JsonBuilder) {\n    with(json){\n        add(\"date\",date.format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\")))\n    }\n}\n\noverride fun updateModel(json: JsonObject) {\n    with(json){\n        date= LocalDateTime.parse(string(\"date\"),DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\"))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5394340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a30fb3ae6a910a0a928287fdeac6a22?s=128&d=identicon&r=PG&f=1", "display_name": "Moustafa Ayad", "link": "https://stackoverflow.com/users/5394340/moustafa-ayad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 48547939, "answer_count": 2, "score": 0, "last_activity_date": 1517431130, "creation_date": 1517417662, "question_id": 48547434, "link": "https://stackoverflow.com/questions/48547434/using-localdatetime-in-tornadofx-with-rest-springboot", "title": "using localdatetime in tornadofx with rest springboot", "body": "<p>i develop a tornadofx app with springboot rest service as backend<br>\nall  in kotlin language</p>\n\n<p>the problem is tornadofx seNd LocalDateTime as Int\nthis cause this error in springboot server </p>\n\n<pre><code>2018-01-31 18:33:31.296  WARN 11473 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected token (VALUE_NUMBER_INT), expected VALUE_STRING: Expected array or string.; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (VALUE_NUMBER_INT), expected VALUE_STRING: Expected array or string.\n at [Source: (PushbackInputStream); line: 1, column: 16] (through reference chain: andalous.torndadoserver.financial.dailymove.newDailyMove[\"date\"])\n</code></pre>\n\n<p>i add to springboot but can't solve</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;2.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and using this in application.properties</p>\n\n<pre><code>spring.jackson.serialization.write_dates_as_timestamps=false\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-espresso", "gradle-android-test-plugi"], "answers": [{"tags": [], "owner": {"reputation": 1441, "user_id": 1551699, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/819a11b17140f6889d03c1d74d837ace?s=128&d=identicon&r=PG", "display_name": "Smaran", "link": "https://stackoverflow.com/users/1551699/smaran"}, "is_accepted": false, "score": 0, "last_activity_date": 1527252844, "creation_date": 1527252844, "answer_id": 50529728, "question_id": 48547079, "link": "https://stackoverflow.com/questions/48547079/cannot-import-androidjunit4-and-activitytestrule/50529728#50529728", "title": "Cannot import AndroidJUnit4 and ActivityTestRule", "body": "<p>Try adding these in the dependancy these</p>\n\n<pre><code>androidTestCompile 'com.android.support.test:rules:1.0.2'\nandroidTestCompile 'com.android.support.test:runner:1.0.2'\n</code></pre>\n"}], "owner": {"reputation": 1328, "user_id": 7090538, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5c01248e80ed21c714eddd70785e8753?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/7090538/robin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1040, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527252844, "creation_date": 1517416645, "last_edit_date": 1517620574, "question_id": 48547079, "link": "https://stackoverflow.com/questions/48547079/cannot-import-androidjunit4-and-activitytestrule", "title": "Cannot import AndroidJUnit4 and ActivityTestRule", "body": "<p>I'm trying to make a class for instrumentation test. This class is in the androidTest folder <code>app\\src\\androidTest\\java\\...</code>. However, <code>AndroidJUnit4</code> and <code>ActivityTestRule</code> cannot resolve. In the import statement, <code>import android.support.test.runner.AndroidJUnit4</code> the word \"runner\" is in red. The test class is in Kotlin. I tried deleted it and created one in Java, but still cannot import AdnroidJUnit4. I read some similar questions but didn't find the solution to my case. Those two are the project and app build.gradle files: \nIs there anything wrong with my gradle files?\napp build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n\n    defaultConfig {\n        applicationId \"com.sample.me\"\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n        archivesBaseName = \"$applicationId-$versionName-$versionCode\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        // For room compat\n        multiDexEnabled true\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [\"room.schemaLocation\":\n                                     \"$projectDir/schemas\".toString()]\n            }\n        }\n    }\n\n    sourceSets {\n        androidTest.assets.srcDirs +=\n                files(\"$projectDir/schemas\".toString())\n    }\n\n    buildTypes {\n\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n\n        debug {\n            minifyEnabled true\n        }\n    }\n    buildToolsVersion '27.0.3'\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    // Room\n    implementation \"android.arch.persistence.room:runtime:$rootProject.ext.roomVersion\"\n    kapt \"android.arch.persistence.room:compiler:$rootProject.ext.roomVersion\"\n\n    // Support libs\n    implementation \"com.android.support:recyclerview-v7:$rootProject.ext.supportVersion\"\n    implementation \"com.android.support:design:$rootProject.ext.supportVersion\"\n    implementation \"com.android.support:cardview-v7:$rootProject.ext.supportVersion\"\n    implementation \"com.android.support:appcompat-v7:$rootProject.ext.supportVersion\"\n    implementation \"com.android.support.test.espresso:espresso-idling-resource:$rootProject.ext.espressoVersion\"\n\n    implementation 'joda-time:joda-time:2.9.9'\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$rootProject.ext.kotlinVersion\"\n\n    // Dependencies for local unit tests\n    testImplementation \"junit:junit:$rootProject.ext.junitVersion\"\n    testImplementation \"org.hamcrest:hamcrest-all:$rootProject.ext.hamcrestVersion\"\n    testImplementation \"org.mockito:mockito-core:$rootProject.ext.mockitoVersion\"\n\n    // Android Testing Support Library's runner and rules\n    androidTestImplementation \"com.android.support.test:runner:$rootProject.ext.runnerVersion\"\n    androidTestImplementation \"com.android.support.test:rules:$rootProject.ext.runnerVersion\"\n\n    // Dependencies for Android unit tests\n    androidTestImplementation \"junit:junit:$rootProject.ext.junitVersion\"\n    androidTestImplementation \"org.mockito:mockito-android:$rootProject.ext.mockitoVersion\"\n\n    //androidTestImplementation \"com.android.support.test.espresso:espresso-core:$rootProject.ext.espressoVersion\"\n    androidTestImplementation \"com.android.support.test.espresso:espresso-contrib:$rootProject.ext.espressoVersion\"\n    androidTestImplementation \"com.android.support.test.espresso:espresso-intents:$rootProject.ext.espressoVersion\"\n\n    // Resolve conflicts between main and test APK:  not resolve\n    androidTestImplementation \"com.android.support:support-annotations:$rootProject.ext.supportVersion\"\n    androidTestImplementation \"com.android.support:support-v4:$rootProject.ext.supportVersion\"\n    androidTestImplementation \"com.android.support:recyclerview-v7:$rootProject.ext.supportVersion\"\n    androidTestImplementation \"com.android.support:appcompat-v7:$rootProject.ext.supportVersion\"\n    androidTestImplementation \"com.android.support:design:$rootProject.ext.supportVersion\"\n    androidTestImplementation \"com.android.support.test.espresso.idling:idling-concurrent:$rootProject.ext.espressoVersion\"\n    androidTestImplementation \"android.arch.persistence.room:testing:$rootProject.ext.roomVersion\"\n}\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>top build.gradle</p>\n\n<pre><code>    ext {\n\n    // Sdk and tools\n    compileSdkVersion = 26\n    targetSdkVersion = 26\n    minSdkVersion = 19\n    buildToolsVersion = '27.0.1'\n    supportVersion = '27.0.2'\n\n    // App dependencies\n    espressoVersion = '3.0.1'\n    roomVersion = '1.1.0-alpha1'\n\n    junitVersion = '4.12'\n    mockitoVersion = '2.8.47'\n    hamcrestVersion = '1.3'\n    runnerVersion = '1.0.1'\n    rulesVersion = '1.0.1'\n    espressoVersion = '3.0.1'\n}\n\nbuildscript {\n    ext.kotlinVersion = '1.2.21'\n    ext.gradlePluginVersion = '2.3.0'\n\n    repositories {\n        jcenter()\n        mavenCentral()\n        google()\n\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.0-beta1' // Use plain string for auto update\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\" \n\n\n      }\n    }\n        allprojects {\n            repositories {\n                jcenter()\n                google()\n                maven { url 'https://maven.google.com' }\n            }\n        }\n\n        task clean(type: Delete) {\n            delete rootProject.buildDir\n        }\n</code></pre>\n\n<p><strong>update</strong> Finally find out that this is because a blank space in project path. I removed the space and now can import the classes.</p>\n"}, {"tags": ["java", "kotlin", "admob", "appodeal"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 8788877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a984a4b27368cb80352ed23f59412f?s=128&d=identicon&r=PG", "display_name": "Yvonne", "link": "https://stackoverflow.com/users/8788877/yvonne"}, "is_accepted": false, "score": 1, "last_activity_date": 1517480306, "last_edit_date": 1517480306, "creation_date": 1517477008, "answer_id": 48559230, "question_id": 48545515, "link": "https://stackoverflow.com/questions/48545515/native-ad-with-appodeal/48559230#48559230", "title": "Native Ad with Appodeal", "body": "<p>Disable <code>autocache</code> before initialization of <code>sdk</code> using <code>Appodeal.setAutoCache(Appodeal.NATIVE, false);</code> method. </p>\n\n<p>After it, need to use cache method  <code>Appodeal.cache(this, Appodeal.NATIVE, 5);</code> after initialization of <code>sdk</code> </p>\n\n<p>simple example:</p>\n\n<pre><code>Appodeal.setAutoCache(Appodeal.NATIVE, false);\nAppodeal.initialize(this, tools.appodealApiKey, Appodeal.NATIVE)\nAppodeal.cache(this, Appodeal.NATIVE, 5);\n</code></pre>\n\n<p>and move <code>Appodeal.getNativeAds(5);</code> and etc. to <code>onNativeLoaded()</code> callback.\nAfter showing cached ads, need to use cache method again</p>\n"}], "owner": {"reputation": 165, "user_id": 7762554, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JspLkf7oIwY/AAAAAAAAAAI/AAAAAAAAADA/OpAu83g_OG0/photo.jpg?sz=128", "display_name": "fHate", "link": "https://stackoverflow.com/users/7762554/fhate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517480306, "creation_date": 1517411857, "question_id": 48545515, "link": "https://stackoverflow.com/questions/48545515/native-ad-with-appodeal", "title": "Native Ad with Appodeal", "body": "<p>I have some problem with Native Ads. I getting empy list of Native Ads. Here is code: </p>\n\n<pre><code>Appodeal.setAutoCacheNativeIcons(true)\n    Appodeal.setAutoCacheNativeMedia(false)\n    Appodeal.initialize(this, apiKey, Appodeal.NATIVE)\n    Appodeal.setNativeCallbacks(object : NativeCallbacks {\n        override fun onNativeLoaded() {\n            Toast.makeText(this@ViewActivity, \"onNativeLoaded\", Toast.LENGTH_SHORT).show()\n        }\n\n        override fun onNativeFailedToLoad() {\n            Toast.makeText(this@ViewActivity, \"onNativeFailedToLoad\", Toast.LENGTH_SHORT).show()\n        }\n\n        override fun onNativeShown(nativeAd: NativeAd) {\n            Toast.makeText(this@ViewActivity, \"onNativeShown\", Toast.LENGTH_SHORT).show()\n        }\n\n        override fun onNativeClicked(nativeAd: NativeAd) {\n            Toast.makeText(this@ViewActivity, \"onNativeClicked\", Toast.LENGTH_SHORT).show()\n        }\n    })\n\n    val list = Appodeal.getNativeAds(5)\n    nativeAd.getProviderView(this)\n\n    Toast.makeText(this@ViewActivity, \"size = \"  + list.size , Toast.LENGTH_SHORT).show()\n</code></pre>\n\n<p>So every time I got list.size equals 0. What i did wrong?</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "edited": false, "score": 0, "creation_date": 1517424990, "post_id": 48547848, "comment_id": 84094957, "body": "in order to wrap a lean <code>Person</code>-object with observable properties, can/should I simply use an ItemViewModel&lt;Person&gt; in all places?"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "edited": false, "score": 1, "creation_date": 1517559773, "post_id": 48547848, "comment_id": 84153174, "body": "Yes you can, but you would probably have to override onCommit and assign a new item that you create explicitly there, since your lean object is immutable."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1517419005, "creation_date": 1517419005, "answer_id": 48547848, "question_id": 48545003, "link": "https://stackoverflow.com/questions/48545003/tableview-and-fragment-to-edit-details-with-tornadofx/48547848#48547848", "title": "TableView and Fragment to edit Details with tornadofx", "body": "<p>The best practice in a JavaFX application is to use observable properties. Not doing so is an uphill battle. You can keep your lean domain objects, but add a JavaFX/TornadoFX specific version with observable properties. This object can know how to copy data to/from your \"lean\" domain objects.</p>\n\n<p>With this approach, especially in combination with ItemViewModel wrappers will make sure that your data is always updated.</p>\n\n<p>The <code>setOnKeyPressed</code> code you posted can be changed to:</p>\n\n<pre><code>setOnUserSelect {\n    PersonEditor(it).openModal()\n}\n</code></pre>\n\n<p>Notice though, that you are not supposed to instantiate Views and Fragments directly, as doing so skips certain steps in the TornadoFX life cycle. Instead you should pass the person as a parameter, or create a new scope and inject a PersonModel into that scope before opening the editor in that scope:</p>\n\n<pre><code>setOnUserSelect {\n    find&lt;PersonEditor&gt;(Scope(PersonEditor(it)))\n}\n</code></pre>\n"}], "owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 48547848, "answer_count": 1, "score": 0, "last_activity_date": 1517424627, "creation_date": 1517410266, "last_edit_date": 1517424627, "question_id": 48545003, "link": "https://stackoverflow.com/questions/48545003/tableview-and-fragment-to-edit-details-with-tornadofx", "title": "TableView and Fragment to edit Details with tornadofx", "body": "<p>I use kotlinx.serialization for my models.\nI'd like the idea of them to not depend on JavaFX, so they do not expose properties.</p>\n\n<p>Given a model, I want a tableview for a quick representation of a list of instances, and additionally a more detailed Fragment as an editor.</p>\n\n<p>consider the following model:</p>\n\n<pre><code>@Serializable\ndata class Person(\n        var name: String,\n        var firstname: String,\n        var complex: Stuff)\n</code></pre>\n\n<p>the view containing the tableview contains</p>\n\n<pre><code>private val personlist = mutableListOf&lt;Person&gt;().observable()\n</code></pre>\n\n<p>with a tableview that opens an instance of <code>PersonEditor</code> for the selected row when Enter is pressed:</p>\n\n<pre><code>tableview(personlist) {\n    column(\"name\", Person::name)\n    column(\"first name\", Person::firstname)\n\n    setOnKeyPressed { ev -&gt;\n        selectedItem?.apply {\n            when (ev.code) {\n                KeyCode.ENTER -&gt; PersonEditor(this).openModal()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I followed <a href=\"https://edvin.gitbooks.io/tornadofx-guide/content/part1/11.%20Editing%20Models%20and%20Validation.html\" rel=\"nofollow noreferrer\">this gitbook section</a> (but do not want the modelview to be rebound on selection of another row within the tableview)\nThe editor looks about like this:</p>\n\n<pre><code>class PersonEditor(person: Person) : ItemFragment&lt;Person&gt;() {\n    val model: Model = Model()\n\n    override val root = form {\n        fieldset(\"Personal information\") {\n            field(\"Name\") {\n                textfield(model.name)\n            }\n            field(\"Vorname\") {\n                textfield(model.firstname)\n            }\n        }\n        fieldset(\"complex stuff\") {\n            //... more complex stuff here\n        }\n        fieldset {\n            button(\"Save\") {\n                enableWhen(model.dirty)\n                action { model.commit() }\n            }\n            button(\"Reset\") { action { model.rollback() } }\n        }\n    }\n\n    class Model : ItemViewModel&lt;Person&gt;() {\n        val name = bind(Person::name)\n        val firstname = bind(Person::firstname)\n        //... complex stuff\n    }\n\n    init {\n        itemProperty.value = mieter\n        model.bindTo(this)\n    }\n}\n</code></pre>\n\n<p>When I save the edited values in the detail view, the tableview is not updated.\nWhats the best practize to solve this?</p>\n\n<p>Also I'm unsure, if what I'm doing can be considered good practize, so i'd be happy for some advice on that too.</p>\n"}, {"tags": ["maven", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1517874103, "post_id": 48544667, "comment_id": 84263629, "body": "As hard as it may be it seems the first step would be to try to reproduce the issue in a new, minimal project."}], "answers": [{"comments": [{"owner": {"reputation": 23183, "user_id": 3695983, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dK3SK.jpg?s=128&g=1", "display_name": "Alvaro Montoro", "link": "https://stackoverflow.com/users/3695983/alvaro-montoro"}, "edited": false, "score": 0, "creation_date": 1517951414, "post_id": 48648150, "comment_id": 84301929, "body": "This worked for me. It is a bit weird that there&#39;s no issue with the incremental compiler for 1.2.10, but there is for 1.2.21. But this did the trick. Thanks!"}, {"owner": {"reputation": 358, "user_id": 3380678, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/t3IcD.jpg?s=128&g=1", "display_name": "Samu&#235;l Visser", "link": "https://stackoverflow.com/users/3380678/samu%c3%abl-visser"}, "edited": false, "score": 0, "creation_date": 1524579259, "post_id": 48648150, "comment_id": 87024105, "body": "Still not working for me, giving the exact same message. But for me, it gives the same message with mvn verify and building in IntelliJ. Both do not work"}, {"owner": {"reputation": 14950, "user_id": 2296787, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1opw3.jpg?s=128&g=1", "display_name": "MBH", "link": "https://stackoverflow.com/users/2296787/mbh"}, "edited": false, "score": 0, "creation_date": 1529658808, "post_id": 48648150, "comment_id": 88963929, "body": "where do we add this line ?"}, {"owner": {"reputation": 23183, "user_id": 3695983, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dK3SK.jpg?s=128&g=1", "display_name": "Alvaro Montoro", "link": "https://stackoverflow.com/users/3695983/alvaro-montoro"}, "reply_to_user": {"reputation": 14950, "user_id": 2296787, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1opw3.jpg?s=128&g=1", "display_name": "MBH", "link": "https://stackoverflow.com/users/2296787/mbh"}, "edited": false, "score": 1, "creation_date": 1529671383, "post_id": 48648150, "comment_id": 88970916, "body": "@MBH in the pom.xml file, in the properties section."}], "tags": [], "owner": {"reputation": 206, "user_id": 2123267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f9a7a343c65031f2de4ab894d62e157?s=128&d=identicon&r=PG", "display_name": "Michal K", "link": "https://stackoverflow.com/users/2123267/michal-k"}, "is_accepted": true, "score": 3, "last_activity_date": 1517936162, "creation_date": 1517936162, "answer_id": 48648150, "question_id": 48544667, "link": "https://stackoverflow.com/questions/48544667/classpath-entry-points-to-a-non-existent-location-warning-when-compiling-with-ma/48648150#48648150", "title": "Classpath entry points to a non-existent location warning when compiling with Maven", "body": "<p>I had similar problem and I got it working by disabling kotlin incremental compiler :).</p>\n\n<pre><code>&lt;kotlin.compiler.incremental&gt;false&lt;/kotlin.compiler.incremental&gt;\n</code></pre>\n"}], "owner": {"reputation": 23183, "user_id": 3695983, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dK3SK.jpg?s=128&g=1", "display_name": "Alvaro Montoro", "link": "https://stackoverflow.com/users/3695983/alvaro-montoro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3067, "favorite_count": 2, "accepted_answer_id": 48648150, "answer_count": 1, "score": 3, "last_activity_date": 1532251984, "creation_date": 1517409286, "question_id": 48544667, "link": "https://stackoverflow.com/questions/48544667/classpath-entry-points-to-a-non-existent-location-warning-when-compiling-with-ma", "title": "Classpath entry points to a non-existent location warning when compiling with Maven", "body": "<p>We recently upgraded from Kotlin 1.1.51 to 1.2.10, cleared all the warnings (we use -Werror to treat warnings as errors), and the project is up and running. We build it from command line using <code>mvn verify</code> without issues, as well as from IntelliJ using <code>Build &gt; Build project</code>.</p>\n\n<p>Then, we decided to upgrade to the latest version (1.2.21), and here is where we are seeing some issues: when compiling the project from command line (<code>mvn verify</code>) a warning shows up causing the compilation to fail:</p>\n\n<blockquote>\n  <p>[WARNING] Classpath entry points to a non-existent location: /Users/username/git/projectname/target/classes</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/hu95X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hu95X.png\" alt=\"enter image description here\"></a></p>\n\n<p>The interesting thing is that if we do <code>Build &gt; Build Project</code> on IntelliJ, then there is no warning, and the project will compile (and run) without issues. And if we downgrade Kotlin's version to 1.2.10 on the pom file (instead of 1.2.21), it builds successfully again from both command line and IntelliJ Build.</p>\n\n<p>We noticed that when we do Build > Build Project, two directories are created in the target folder: classes and test-classes; while when the command line build fails, there are two different directories: kotlin-ic and maven-status.</p>\n\n<p>I saw questions that seem related (<a href=\"https://stackoverflow.com/q/44132173/3695983\">1</a>, <a href=\"https://stackoverflow.com/q/47629458/3695983\">2</a>, or <a href=\"https://stackoverflow.com/q/42429289/3695983\">3</a>), but their errors/warnings seem specific to certain libraries while in this case it looks like something more general (it's not a particular library that I can add as a dependency as suggested on the answers).</p>\n\n<p>Why is that difference between command line and IntelliJ build? What causes that warning, and how can we fix it?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1517596405, "post_id": 48544320, "comment_id": 84174825, "body": "What is <code>SimpleDynamicString</code>? What do you expect to happen, when if it&#39;s accidentally is forgotten?"}, {"owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1517830071, "post_id": 48544320, "comment_id": 84239485, "body": "1. See link in beginning. 2. Nothing shall happen. Now I get an exception, when not providing the @Provides annotation."}, {"owner": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 0, "creation_date": 1517952521, "post_id": 48544320, "comment_id": 84302504, "body": "Can you post your <code>SimpleDynamicString</code> class?"}, {"owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "reply_to_user": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 0, "creation_date": 1518001271, "post_id": 48544320, "comment_id": 84321565, "body": "@JoaquimLey <a href=\"https://stackoverflow.com/questions/48521957/dagger-androidinjector-cannot-be-provided-without-an-provides-annotated-method\" title=\"dagger androidinjector cannot be provided without an provides annotated method\">stackoverflow.com/questions/48521957/&hellip;</a>"}, {"owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "reply_to_user": {"reputation": 3552, "user_id": 3374428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c379754f2f4fbc85f6b7474308033933?s=128&d=identicon&r=PG", "display_name": "Joaquim Ley", "link": "https://stackoverflow.com/users/3374428/joaquim-ley"}, "edited": false, "score": 0, "creation_date": 1518001291, "post_id": 48544320, "comment_id": 84321574, "body": "@JoaquimLey data class SimpleDynamicString(val dynString: String) : DynamicString {     override fun getDynamicString(): String { return dynString } }"}], "answers": [{"tags": [], "owner": {"reputation": 1614, "user_id": 2708768, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/da49bf507d07666987c1546e894dee8d?s=128&d=identicon&r=PG", "display_name": "Mustafa Berkay Mutlu", "link": "https://stackoverflow.com/users/2708768/mustafa-berkay-mutlu"}, "is_accepted": false, "score": 2, "last_activity_date": 1518069409, "creation_date": 1518069409, "answer_id": 48678561, "question_id": 48544320, "link": "https://stackoverflow.com/questions/48544320/how-can-i-make-a-dagger2-injection-nullable/48678561#48678561", "title": "How can I make a Dagger2 injection nullable?", "body": "<p>Your <code>DynamicString</code>'s provides method is unscoped. <code>StringForTextView</code> is a qualifier annotation (meaning that Dagger can understand which DynamicString you want <em>if you have more than one provides method</em>). Also currently, because of your provides method is unscoped, Dagger is creating new instances when you inject.</p>\n\n<p>If you want to use same instance of the <code>DynamicString</code> anywhere in your application, you need to create a <code>Singleton</code> component, put this provides method into a <code>Singleton</code> module and make the method's scope <code>Singleton</code>. If you make it <code>Singleton</code>, you can write one provides method and inject anywhere. </p>\n\n<pre><code>@Singleton\n@Component(modules = {SingletonModule.class})\npublic interface SingletonComponent {\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        Builder application(Application application);\n\n        Builder singletonModule(SingletonModule singletonModule);\n\n        SingletonComponent build();\n    }\n\n    void inject(YourClassToInject yourClassToInject);\n\n}\n\n@Module\npublic class SingletonModule {\n\n    @StringForTextView // this is qualifier annotation\n    @Singleton // this is scope annotation\n    @Provides\n    DynamicString provideDynamicString(Application application)\n        return new SimpleDynamicString(application.getString(R.string.example_string));\n    }\n}\n</code></pre>\n\n<p>More information about scopes:</p>\n\n<ul>\n<li><p><a href=\"https://android.jlelse.eu/dagger-2-part-i-basic-principles-graph-dependencies-scopes-3dfd032ccd82\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/dagger-2-part-i-basic-principles-graph-dependencies-scopes-3dfd032ccd82</a></p></li>\n<li><p><a href=\"https://frogermcs.github.io/dependency-injection-with-dagger-2-custom-scopes/\" rel=\"nofollow noreferrer\">https://frogermcs.github.io/dependency-injection-with-dagger-2-custom-scopes/</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 330, "user_id": 6612138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IDyIE.jpg?s=128&g=1", "display_name": "Alexander Dadukin", "link": "https://stackoverflow.com/users/6612138/alexander-dadukin"}, "is_accepted": false, "score": 0, "last_activity_date": 1518167852, "creation_date": 1518167852, "answer_id": 48702397, "question_id": 48544320, "link": "https://stackoverflow.com/questions/48544320/how-can-i-make-a-dagger2-injection-nullable/48702397#48702397", "title": "How can I make a Dagger2 injection nullable?", "body": "<p>I think you're asking about an <a href=\"https://google.github.io/dagger/users-guide\" rel=\"nofollow noreferrer\">optional binding</a>.</p>\n\n<pre><code>@BindsOptionalOf abstract CoffeeCozy optionalCozy();\n</code></pre>\n"}], "owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1518185429, "creation_date": 1517408239, "last_edit_date": 1518185429, "question_id": 48544320, "link": "https://stackoverflow.com/questions/48544320/how-can-i-make-a-dagger2-injection-nullable", "title": "How can I make a Dagger2 injection nullable?", "body": "<p><a href=\"https://stackoverflow.com/questions/48521957/dagger-androidinjector-cannot-be-provided-without-an-provides-annotated-method\">Here</a> I inject a SimpleDynamicString object to my presenter in a MVP structure. To avoid a NullPointerException, I have to implement this. </p>\n\n<pre><code>@Provides\n@StringForTextView\nstatic DynamicString provideDynamicString(Application application)\n{\n    return new SimpleDynamicString(application.getString(R.string.example_string));\n}\n</code></pre>\n\n<p>Since I would like to use this one as a library, I am forced to implement everywhere.</p>\n\n<p><strong>Can I avoid this, so if (accidenataly or not) forgotten, no NullPointerException will happen?</strong></p>\n"}, {"tags": ["android", "kotlin", "nullable", "transpiler"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1517408840, "post_id": 48544201, "comment_id": 84084229, "body": "this is because gson is write by Java rater than Kotlin. so the non-nullable checking is disabled when create instance doesn&#39;t through constructor than in native ways."}], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 4, "last_activity_date": 1517410148, "last_edit_date": 1517410148, "creation_date": 1517408896, "answer_id": 48544552, "question_id": 48544201, "link": "https://stackoverflow.com/questions/48544201/notnull-variable-become-nullable-after-transpiling-kotlin-to-java/48544552#48544552", "title": "Notnull variable become nullable after transpiling kotlin to java", "body": "<p>This line</p>\n\n<pre><code>gsonHelper.fromStringJsonToObject(payloadJsonString, Payload::class.java)\n</code></pre>\n\n<p>delegates to the low-level, unspecified <code>Unsafe.allocateInstance()</code> call, which allocates an object without calling any constructors. It then uses reflection to write the fields. This circumvents the barrier where Kotlin is supposed to establish its static typing invariants: the assertions in the constructor code.</p>\n\n<p>This is why the object creation will succeed and invalidate Kotlin's static proofs about the object. A non-null property will end up with a null value.</p>\n\n<p>You should avoid using not-nullable properties for objects created through reflection by Java libraries that are not aware of Kotlin's nullability rules. This will let the Kotlin side start from a valid point and then the compiler will guide you through the usual ceremony of lifting nullable to not-nullable values as required.</p>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1517410210, "post_id": 48544557, "comment_id": 84085305, "body": "&quot;Not nullable&quot; means &quot;you&#39;ll never get an NPE on access&quot;."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 0, "last_activity_date": 1517408902, "creation_date": 1517408902, "answer_id": 48544557, "question_id": 48544201, "link": "https://stackoverflow.com/questions/48544201/notnull-variable-become-nullable-after-transpiling-kotlin-to-java/48544557#48544557", "title": "Notnull variable become nullable after transpiling kotlin to java", "body": "<p>It's not nullable: if you try to access the <code>uniqueName</code> field you will get a NPE.</p>\n\n<p>Gson does not know about nullable/nonnullable properties, and will use default values for missing entries. Your json does not contain <code>unique_name</code>, and the default value for <code>String</code> is <code>null</code>. </p>\n"}], "owner": {"reputation": 73, "user_id": 3564805, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100004153269682/picture?type=large", "display_name": "Anas Alaa", "link": "https://stackoverflow.com/users/3564805/anas-alaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1517410148, "creation_date": 1517407941, "question_id": 48544201, "link": "https://stackoverflow.com/questions/48544201/notnull-variable-become-nullable-after-transpiling-kotlin-to-java", "title": "Notnull variable become nullable after transpiling kotlin to java", "body": "<p>when I have a kotlin class like that one suppose that uniqueName is NotNull.</p>\n\n<pre><code>data class Payload(\n        @SerializedName(\"unique_name\") val uniqueName: String, \n        @SerializedName(\"nbf\") val nbf: Int, \n        @SerializedName(\"exp\") val exp: Int, \n        @SerializedName(\"iat\") val iat: Int\n)\n</code></pre>\n\n\n\n<p>but when i tested this code</p>\n\n<pre><code>    @Test\n    fun fromStringJsonToObject4() {\n        val gsonHelper = GsonHelper()\n        val payloadJsonString = \"{}\"\n        val payload = Payload(\"\", 0, 0, 0)\n\n        assertEquals(gsonHelper.fromStringJsonToObject(payloadJsonString, Payload::class.java), payload)\n    }\n</code></pre>\n\n\n\n<p>it returns </p>\n\n<pre><code>Expected :Payload(uniqueName=null, nbf=0, exp=0, iat=0)\nActual   :Payload(uniqueName=, nbf=0, exp=0, iat=0)\n</code></pre>\n\n<p>so how uniqueName in my object become nullable ??</p>\n"}, {"tags": ["spring", "spring-boot", "gradle", "intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "edited": false, "score": 1, "creation_date": 1517411648, "post_id": 48545043, "comment_id": 84086399, "body": "Thanks for your answer. I can always add open as you suggest but this is pretty inconvenient, especially since I am using other libs that don&#39;t have it. So far the kotlin-spring plugin <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#spring-support\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a> was working ok. I would like to make it work again."}, {"owner": {"reputation": 23991, "user_id": 4053652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3zmU1.png?s=128&g=1", "display_name": "Stanislav", "link": "https://stackoverflow.com/users/4053652/stanislav"}, "reply_to_user": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "edited": false, "score": 0, "creation_date": 1517483616, "post_id": 48545043, "comment_id": 84118370, "body": "@codependent I don&#39;t really understand, how it could work, since it&#39;s a spring requirement to any class annotated configuration to be not final. But in any way, you can avoid it substituting the <code>@SpringBootApplication</code> with <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code> if you application class is not a not a configuration."}, {"owner": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "edited": false, "score": 2, "creation_date": 1517489908, "post_id": 48545043, "comment_id": 84122335, "body": "It was working thanks to this plugin applied in the gradle.build: <code>apply plugin: &#39;kotlin-spring&#39;</code>. It was opening every Kotlin class annotated with @Configuration, etc. In fact it works when I run the application with java -jar which means that is actually opening those classes. However IntelliJ doesn&#39;t seem to be applying it."}], "tags": [], "owner": {"reputation": 23991, "user_id": 4053652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3zmU1.png?s=128&g=1", "display_name": "Stanislav", "link": "https://stackoverflow.com/users/4053652/stanislav"}, "is_accepted": false, "score": 24, "last_activity_date": 1566941045, "last_edit_date": 1566941045, "creation_date": 1517410402, "answer_id": 48545043, "question_id": 48544015, "link": "https://stackoverflow.com/questions/48544015/intellij-idea-2017-3-unable-to-start-kotlin-spring-boot-app-configuration-cla/48545043#48545043", "title": "IntelliJ Idea 2017.3 unable to start Kotlin Spring Boot App - @Configuration class may not be final", "body": "<p>First of all, it's all due to class Kotlin <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"noreferrer\">class definition</a>:</p>\n\n<blockquote>\n  <p>The <code>open</code> annotation on a class is the opposite of Java's <code>final</code>: it allows others to inherit from this class. By default, all classes in Kotlin are final</p>\n</blockquote>\n\n<p>so if you are free to modify your source code, you can make your class not final, just adding <code>open</code> to it's signature as follows:</p>\n\n<pre><code>@SpringBootApplication\nopen class DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(DemoApplication::class.java, *args)\n}\n</code></pre>\n\n<p>or one of the possible solutions, according to this <a href=\"https://github.com/pivotal/blog/blob/master/content/post/spring-boot-application-with-kotlin.md\" rel=\"noreferrer\">article</a>:</p>\n\n<blockquote>\n  <p>The <code>@SpringBootApplication</code> is a convenience annotation that marks the class with the <code>@Configuration</code>, <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code> annotations. It is the <code>@Configuration</code> annotation that forces the use of the open keyword.</p>\n</blockquote>\n\n<p>Is to try to remove the <code>@SpringBootApplication</code> annotation and annotate your class with <code>@EnableAutoConfiguration</code> and <code>@ComponentScan</code> to solve this issue.</p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 6193591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hauef.jpg?s=128&g=1", "display_name": "Marosinho", "link": "https://stackoverflow.com/users/6193591/marosinho"}, "edited": false, "score": 1, "creation_date": 1599723925, "post_id": 48618769, "comment_id": 112863249, "body": "thanks, in my case i had the newest Kotlin plugin 1.3.72 and what helps me, was disable and enable plugin."}, {"owner": {"reputation": 237, "user_id": 1947987, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1907c870a34be5227b8e8e4c134aca5e?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/1947987/nik"}, "reply_to_user": {"reputation": 135, "user_id": 6193591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hauef.jpg?s=128&g=1", "display_name": "Marosinho", "link": "https://stackoverflow.com/users/6193591/marosinho"}, "edited": false, "score": 0, "creation_date": 1612817713, "post_id": 48618769, "comment_id": 116880724, "body": "@Marosinho I have the latest plugin version (203-1.4.30-release-IJ7148.5) and I had to disable and re-enable for this to work. Thanks for solving my issue :)"}], "tags": [], "owner": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "is_accepted": true, "score": 4, "last_activity_date": 1517820992, "creation_date": 1517820992, "answer_id": 48618769, "question_id": 48544015, "link": "https://stackoverflow.com/questions/48544015/intellij-idea-2017-3-unable-to-start-kotlin-spring-boot-app-configuration-cla/48618769#48618769", "title": "IntelliJ Idea 2017.3 unable to start Kotlin Spring Boot App - @Configuration class may not be final", "body": "<p>Fixed upgrading IntelliJ's Kotlin pluging to 1.2.21: <a href=\"https://plugins.jetbrains.com/plugin/6954-kotlin/update/42501\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/6954-kotlin/update/42501</a></p>\n"}, {"tags": [], "owner": {"reputation": 6623, "user_id": 3256597, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/c022daa2ea5e1d708b5c500451f5ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Teimuraz", "link": "https://stackoverflow.com/users/3256597/teimuraz"}, "is_accepted": false, "score": 1, "last_activity_date": 1523358068, "creation_date": 1523358068, "answer_id": 49751959, "question_id": 48544015, "link": "https://stackoverflow.com/questions/48544015/intellij-idea-2017-3-unable-to-start-kotlin-spring-boot-app-configuration-cla/49751959#49751959", "title": "IntelliJ Idea 2017.3 unable to start Kotlin Spring Boot App - @Configuration class may not be final", "body": "<p>If plugin update does not help, check if version of kotlin in gradle matches ide's kotlin version.</p>\n"}, {"tags": [], "owner": {"reputation": 316, "user_id": 2853228, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b84a9403558fc6f9e3842e68ebe4e8c?s=128&d=identicon&r=PG&f=1", "display_name": "BhathiyaW", "link": "https://stackoverflow.com/users/2853228/bhathiyaw"}, "is_accepted": false, "score": 3, "last_activity_date": 1560857544, "creation_date": 1560857544, "answer_id": 56648173, "question_id": 48544015, "link": "https://stackoverflow.com/questions/48544015/intellij-idea-2017-3-unable-to-start-kotlin-spring-boot-app-configuration-cla/56648173#56648173", "title": "IntelliJ Idea 2017.3 unable to start Kotlin Spring Boot App - @Configuration class may not be final", "body": "<p>If you get this error on IntelliJ, even with kotlin-spring plugin, you may want to check if the annotation processing has been enabled in IntelliJ.</p>\n"}, {"tags": [], "owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "is_accepted": false, "score": 0, "last_activity_date": 1595423056, "creation_date": 1595423056, "answer_id": 63034897, "question_id": 48544015, "link": "https://stackoverflow.com/questions/48544015/intellij-idea-2017-3-unable-to-start-kotlin-spring-boot-app-configuration-cla/63034897#63034897", "title": "IntelliJ Idea 2017.3 unable to start Kotlin Spring Boot App - @Configuration class may not be final", "body": "<p>If you need to have open behavior default to all Spring related classes in kotlin, you can use\n<code>kotlin-allopen</code> plugin from here</p>\n<p><a href=\"https://search.maven.org/classic/#search%7Cga%7C1%7Ckotlin%20allopen\" rel=\"nofollow noreferrer\">https://search.maven.org/classic/#search%7Cga%7C1%7Ckotlin%20allopen</a></p>\n<p>More info :\n<a href=\"https://www.baeldung.com/kotlin-allopen-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/kotlin-allopen-spring</a></p>\n"}], "owner": {"reputation": 17815, "user_id": 1729795, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/13c75bbb8e19632287de96f25a1938ff?s=128&d=identicon&r=PG", "display_name": "codependent", "link": "https://stackoverflow.com/users/1729795/codependent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10654, "favorite_count": 2, "accepted_answer_id": 48618769, "answer_count": 5, "score": 18, "last_activity_date": 1595423056, "creation_date": 1517407383, "last_edit_date": 1517409795, "question_id": 48544015, "link": "https://stackoverflow.com/questions/48544015/intellij-idea-2017-3-unable-to-start-kotlin-spring-boot-app-configuration-cla", "title": "IntelliJ Idea 2017.3 unable to start Kotlin Spring Boot App - @Configuration class may not be final", "body": "<p>I was able to launch a Spring Boot Kotlin App from IntelliJ 2017.3. After the last IntelliJ fix update I cannot start that application from the IDE, getting this exception:</p>\n\n<pre><code>org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: @Configuration class 'AccessConfig' may not be final\n</code></pre>\n\n<p>I can start it from a terminal as usual: <code>java -jar xxxx.jar</code></p>\n\n<p>This doesn't make any sense since I am using the necessary Kotlin Spring plugin in my Gradle config:</p>\n\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = '1.2.21'\n        springBootVersion = '2.0.0.RC1'\n    }\n    repositories {\n        mavenCentral()\n        maven { url \"https://repo.spring.io/snapshot\" }\n        maven { url \"https://repo.spring.io/milestone\" }\n        jcenter()\n        maven {\n            url \"https://plugins.gradle.org/m2/\"\n        }\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n        classpath 'org.asciidoctor:asciidoctor-gradle-plugin:1.5.3'\n        classpath 'org.junit.platform:junit-platform-gradle-plugin:1.0.2'\n        classpath \"org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:2.5\"\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\napply plugin: 'maven'\n...\nsourceCompatibility = 1.8\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\nrepositories {\n    mavenLocal()\n    maven { url \"https://repo.spring.io/snapshot\" }\n    maven { url \"https://repo.spring.io/milestone\" }\n    maven { url \"http://repo.maven.apache.org/maven2\" }\n    maven { url 'https://jitpack.io' }\n}\n\next {\n    springCloudVersion = 'Finchley.M5'\n    mmaReleaseTrainVersion = 'Callao-SNAPSHOT'\n    junitVersion = '5.0.2'\n}\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>A simpler way to reproduce, just create a Spring Boot project with the Spring initializer from IntelliJ, you'll see the same result:</p>\n\n<p><strong>DemoApplication:</strong></p>\n\n<pre><code>@SpringBootApplication\nclass DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(DemoApplication::class.java, *args)\n}\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: @Configuration class 'DemoApplication' may not be final. Remove the final modifier to continue.\nOffending resource: com.example.demo.DemoApplication\n</code></pre>\n\n<p><strong>build.gradle:</strong></p>\n\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = '1.2.10'\n        springBootVersion = '1.5.10.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jre8:${kotlinVersion}\")\n    compile(\"org.jetbrains.kotlin:kotlin-reflect:${kotlinVersion}\")\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n</code></pre>\n"}, {"tags": ["android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 716, "user_id": 7656172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGszH.jpg?s=128&g=1", "display_name": "Micha\u0142 Baran", "link": "https://stackoverflow.com/users/7656172/micha%c5%82-baran"}, "is_accepted": false, "score": 2, "last_activity_date": 1517427297, "creation_date": 1517427297, "answer_id": 48550100, "question_id": 48543802, "link": "https://stackoverflow.com/questions/48543802/recyclerview-get-last-item-position-in-kotlin/48550100#48550100", "title": "RecyclerView : Get last item position in KOTLIN", "body": "<p>If <code>mLayoutManager</code> contains <code>findLastVisibleItemPosition()</code> \"in java\" then you definitely can also call in Kotlin.</p>\n\n<p>One thing I would suggest you is to check if <code>mLayoutManager</code> is of type <code>LinearLayoutManager</code> (or if you cast it), since <code>RecyclerView.LayoutManager</code> doesn't have method <code>findLastVisibleItemPosition()</code></p>\n"}], "owner": {"reputation": 29, "user_id": 9126770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TwpTm.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/9126770/ankita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517427297, "creation_date": 1517406725, "question_id": 48543802, "link": "https://stackoverflow.com/questions/48543802/recyclerview-get-last-item-position-in-kotlin", "title": "RecyclerView : Get last item position in KOTLIN", "body": "<p>I am trying to find last item position in recycler view in Kotlin.But could not find same method or property in Kotlin like in java.</p>\n\n<pre><code> Int lastVisibleItem = mLayoutManager.findLastVisibleItemPosition();//JAVA\n</code></pre>\n"}, {"tags": ["unit-testing", "gradle", "kotlin", "integration-testing"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 4446825, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4982ac4ea40ca321922ff047825e4195?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Dudan", "link": "https://stackoverflow.com/users/4446825/bob-dudan"}, "edited": false, "score": 0, "creation_date": 1517409982, "post_id": 48544075, "comment_id": 84085135, "body": "Thanks for the response, but this doesn&#39;t work. The update on my post shows the output of the command <code>gradle clean integTest</code>"}, {"owner": {"reputation": 21659, "user_id": 1089967, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1f256b904ff621d678598d8fa49f86c5?s=128&d=identicon&r=PG", "display_name": "lance-java", "link": "https://stackoverflow.com/users/1089967/lance-java"}, "reply_to_user": {"reputation": 97, "user_id": 4446825, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4982ac4ea40ca321922ff047825e4195?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Dudan", "link": "https://stackoverflow.com/users/4446825/bob-dudan"}, "edited": false, "score": 0, "creation_date": 1517410473, "post_id": 48544075, "comment_id": 84085508, "body": "<code>:integTest NO-SOURCE</code> means there&#39;s nothing in <code>src&#47;integTest&#47;java</code> so it didn&#39;t do anything. See also <a href=\"https://github.com/nebula-plugins/nebula-project-plugin#nebula-integtest-plugin\" rel=\"nofollow noreferrer\">nebula-integtest-plugin</a> which does everything I&#39;ve mentioned using a single line"}, {"owner": {"reputation": 97, "user_id": 4446825, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4982ac4ea40ca321922ff047825e4195?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Dudan", "link": "https://stackoverflow.com/users/4446825/bob-dudan"}, "edited": false, "score": 0, "creation_date": 1517412423, "post_id": 48544075, "comment_id": 84086958, "body": "I don&#39;t think so, because I explicitly declared the source directory and if I make a mistake in the file it will not compile."}, {"owner": {"reputation": 21659, "user_id": 1089967, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1f256b904ff621d678598d8fa49f86c5?s=128&d=identicon&r=PG", "display_name": "lance-java", "link": "https://stackoverflow.com/users/1089967/lance-java"}, "reply_to_user": {"reputation": 97, "user_id": 4446825, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4982ac4ea40ca321922ff047825e4195?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Dudan", "link": "https://stackoverflow.com/users/4446825/bob-dudan"}, "edited": false, "score": 1, "creation_date": 1517413856, "post_id": 48544075, "comment_id": 84087934, "body": "Have you put a <code>.java</code> file (with a junit <code>@Test</code> annotation) in <code>src&#47;integTest&#47;java</code>?"}], "tags": [], "owner": {"reputation": 21659, "user_id": 1089967, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1f256b904ff621d678598d8fa49f86c5?s=128&d=identicon&r=PG", "display_name": "lance-java", "link": "https://stackoverflow.com/users/1089967/lance-java"}, "is_accepted": false, "score": 1, "last_activity_date": 1517408592, "last_edit_date": 1517408592, "creation_date": 1517407537, "answer_id": 48544075, "question_id": 48543140, "link": "https://stackoverflow.com/questions/48543140/how-to-create-separate-tests-with-gradle-and-kotlin/48544075#48544075", "title": "How to create separate tests with Gradle and Kotlin?", "body": "<p>Note: I'm not a kotlin dev so will write in groovy. </p>\n\n<p>You can add another <code>SourceSet</code> which will automatically add a <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.JavaCompile.html\" rel=\"nofollow noreferrer\">JavaCompile</a> task for the <code>SourceSet</code> and also a few <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.Configuration.html\" rel=\"nofollow noreferrer\">Configuration</a> instances to the model (eg integTestCompile, integTestCompileOnly, integTestRuntime etc)</p>\n\n<pre><code>sourceSets {\n    integTest {\n        java.srcDir 'src/integTest/java'\n        resources.srcDir 'src/integTest/resources'\n    }\n}\nconfigurations {\n    integTestCompile.extendsFrom compile\n}\n</code></pre>\n\n<p>Then you can add another <code>Test</code> task</p>\n\n<pre><code>task integTest(type: Test) {  \n    testClassesDir = sourceSets.integTest.output.classesDir\n    classpath = sourceSets.integTest.runtimeClasspath\n}\n</code></pre>\n\n<p>You may wish to wire the <code>integTest</code> task into the normal <code>DAG</code>, or perhaps you'll leave this off and call it explicitly</p>\n\n<pre><code>check.dependsOn integTest  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2833, "user_id": 1824898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2590cf264facfb642d166ab19bcf9035?s=128&d=identicon&r=PG", "display_name": "\u041a\u043b\u0430\u0443\u0441 \u0428\u0432\u0430\u0440\u0446", "link": "https://stackoverflow.com/users/1824898/%d0%9a%d0%bb%d0%b0%d1%83%d1%81-%d0%a8%d0%b2%d0%b0%d1%80%d1%86"}, "is_accepted": false, "score": 1, "last_activity_date": 1526072676, "last_edit_date": 1526072676, "creation_date": 1526072347, "answer_id": 50300172, "question_id": 48543140, "link": "https://stackoverflow.com/questions/48543140/how-to-create-separate-tests-with-gradle-and-kotlin/50300172#50300172", "title": "How to create separate tests with Gradle and Kotlin?", "body": "<p>To tell long story short you have to:</p>\n\n<ol>\n<li>create separate source sets, </li>\n<li>create testTask for each test source, </li>\n<li>set it up, </li>\n<li>define order these tasks should be executed during build/check</li>\n</ol>\n\n<p>and you are good to go. </p>\n\n<p><strong>Here is a guide</strong> in <a href=\"https://stackoverflow.com/a/50299968/1824898\">an answer to another question</a> about how to do this for project using <code>JUnit5</code> and <code>Kotlin Spek</code> test framework. </p>\n"}], "owner": {"reputation": 97, "user_id": 4446825, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4982ac4ea40ca321922ff047825e4195?s=128&d=identicon&r=PG&f=1", "display_name": "Bob Dudan", "link": "https://stackoverflow.com/users/4446825/bob-dudan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2133, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1526072676, "creation_date": 1517404596, "last_edit_date": 1517410315, "question_id": 48543140, "link": "https://stackoverflow.com/questions/48543140/how-to-create-separate-tests-with-gradle-and-kotlin", "title": "How to create separate tests with Gradle and Kotlin?", "body": "<p>I am working on a Kotlin project with Gradle that includes unit tests. I want to add some integration tests (or functional tests, never understood the difference between the two), but I want to be able to run them independently. Ideally, the source of the tests are in different folders.</p>\n\n<p>I am using Gradle 4.5 and my build.gradle file looks something like this :</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'application'\n\nmainClassName = 'xyz.bobdudan.myproject.AppKt'\n\nrepositories {\n    maven { url \"http://maven.stardog.com\" }\n    mavenCentral()\n}\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    testCompile 'io.kotlintest:kotlintest:2.0.7'\n}\n</code></pre>\n\n<p>I have tried the <a href=\"https://www.petrikainulainen.net/programming/gradle/getting-started-with-gradle-integration-testing-with-the-testsets-plugin/\" rel=\"nofollow noreferrer\">method described here</a> for java, but it doesn't work : the task also runs the unit tests, but they can't be found, and the integration tests are not executed at all.</p>\n\n<p>What can i do ?</p>\n\n<h2>Edit :</h2>\n\n<p>Here is the result of <code>gradle clean integTest</code> with the solution of @lance-java:</p>\n\n<pre><code>:clean\n:compileIntegTestKotlin\n:compileIntegTestJava NO-SOURCE\n:processIntegTestResources NO-SOURCE\n:integTestClasses UP-TO-DATE\n:integTest NO-SOURCE\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\nSee https://docs.gradle.org/4.5/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 1s\n2 actionable tasks: 2 executed\n</code></pre>\n\n<p>So nothing is executed (I make sure that the tests are supposed to fail)</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 687, "user_id": 5216127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-WDr3Cpl_Bck/AAAAAAAAAAI/AAAAAAAABWc/UBslToHKo1s/photo.jpg?sz=128", "display_name": "Pallavi Tapkir", "link": "https://stackoverflow.com/users/5216127/pallavi-tapkir"}, "edited": false, "score": 0, "creation_date": 1517404393, "post_id": 48542906, "comment_id": 84081029, "body": "Convert your vector image to bitmap. And set bitmap to navigation drawer."}, {"owner": {"reputation": 913, "user_id": 3270701, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/48MMy.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/3270701/akash"}, "edited": false, "score": 0, "creation_date": 1517404569, "post_id": 48542906, "comment_id": 84081138, "body": "toolbar.setNavigationIcon(R.drawable.ic_menu);"}], "answers": [{"tags": [], "owner": {"reputation": 2060, "user_id": 5380981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGQhd.jpg?s=128&g=1", "display_name": "PRATEEK BHARDWAJ", "link": "https://stackoverflow.com/users/5380981/prateek-bhardwaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1517404033, "creation_date": 1517404033, "answer_id": 48542953, "question_id": 48542906, "link": "https://stackoverflow.com/questions/48542906/how-to-set-custom-vector-icon-for-toolbar/48542953#48542953", "title": "How to set custom vector icon for Toolbar?", "body": "<blockquote>\n  <p>getSupportActionBar().setDisplayShowHomeEnabled(true);\n  getSupportActionBar().setIcon(R.drawable.ic_launcher);</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 8237, "user_id": 2425851, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fFyvZ.png?s=128&g=1", "display_name": "NickUnuchek", "link": "https://stackoverflow.com/users/2425851/nickunuchek"}, "is_accepted": false, "score": 0, "last_activity_date": 1517404207, "creation_date": 1517404207, "answer_id": 48543019, "question_id": 48542906, "link": "https://stackoverflow.com/questions/48542906/how-to-set-custom-vector-icon-for-toolbar/48543019#48543019", "title": "How to set custom vector icon for Toolbar?", "body": "<pre><code>  protected void showBackButtonOnToolbar(boolean show) {\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.setDisplayHomeAsUpEnabled(show);\n            actionBar.setDisplayShowHomeEnabled(show);\n            actionBar.setDisplayShowTitleEnabled(false);\n            Drawable drawable = ContextCompat.getDrawable(context, R.drawable.ic_vector_back).mutate();\n            drawable.setColorFilter(ContextCompat.getColor(context, R.color.white), PorterDuff.Mode.SRC_ATOP);\n            actionBar.setHomeAsUpIndicator(drawable);\n            actionBar.setHomeActionContentDescription(getString(R.string.go_back));\n            actionBar.setHomeButtonEnabled(show);\n        }\n       }\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 4954209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90a2d9cb2652e388ea0baf021e77fe95?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u043b\u0430\u0434", "link": "https://stackoverflow.com/users/4954209/%d0%92%d0%bb%d0%b0%d0%b4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1517404207, "creation_date": 1517403897, "question_id": 48542906, "link": "https://stackoverflow.com/questions/48542906/how-to-set-custom-vector-icon-for-toolbar", "title": "How to set custom vector icon for Toolbar?", "body": "<p>How to set custom vector icon for Nav Drawer in Toolbar?\n<code>Toolbar.setNavigationIcon(drawable)</code> works only for bitmaps.</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "bytecode"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1517403005, "post_id": 48542054, "comment_id": 84080123, "body": "For annotations, why you want classes compiled? You want to add code, you precisely don&#39;t want the classes to be compiled."}, {"owner": {"reputation": 1916, "user_id": 984061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPUF4.jpg?s=128&g=1", "display_name": "xip", "link": "https://stackoverflow.com/users/984061/xip"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1517403127, "post_id": 48542054, "comment_id": 84080199, "body": "How would that work? I&#39;m quite lost in that aspect. Any resources you can point me towards?"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1517403368, "post_id": 48542054, "comment_id": 84080356, "body": "I never did it, but other libraries definitely do it. This tutorial looks promising: <a href=\"https://medium.com/@iammert/annotation-processing-dont-repeat-yourself-generate-your-code-8425e60c6657\" rel=\"nofollow noreferrer\">medium.com/@iammert/&hellip;</a>"}, {"owner": {"reputation": 1916, "user_id": 984061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPUF4.jpg?s=128&g=1", "display_name": "xip", "link": "https://stackoverflow.com/users/984061/xip"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1517403602, "post_id": 48542054, "comment_id": 84080518, "body": "I actually skimmed thought that article but as far as I can tell, the thing with annotation processing is that you can only <i>add</i> new classes, not modify existing ones. I just saw something about there being a &quot;bug&quot; or something that allows for some level of modification though, so I&#39;ll be looking into that. To be clear - I want to add a method invocation to an <i>existing</i> class."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1517403965, "post_id": 48542054, "comment_id": 84080730, "body": "Did you check <a href=\"https://stackoverflow.com/a/36584973/898478\">this answer</a>?"}, {"owner": {"reputation": 1916, "user_id": 984061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPUF4.jpg?s=128&g=1", "display_name": "xip", "link": "https://stackoverflow.com/users/984061/xip"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1517405708, "post_id": 48542054, "comment_id": 84081935, "body": "It suggests using <a href=\"http://notatube.blogspot.ba/2010/11/project-lombok-trick-explained.html\" rel=\"nofollow noreferrer\">Lombok&#39;s method</a> and upon investigation it looks like Lombok doesn&#39;t work with IntelliJ without a plugin. As I&#39;m considering publishing the very end results of this as a library, I&#39;d like to avoid such complexity."}], "answers": [{"comments": [{"owner": {"reputation": 1916, "user_id": 984061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPUF4.jpg?s=128&g=1", "display_name": "xip", "link": "https://stackoverflow.com/users/984061/xip"}, "edited": false, "score": 0, "creation_date": 1517403052, "post_id": 48542513, "comment_id": 84080155, "body": "Not exactly what I&#39;m looking for. I want to be able to define a simple class with a bunch of fields, casually set like <code>something = &quot;hey&quot;</code> and access like <code>store.something</code>, observe anywhere, for <i>all</i> changes using something like <code>store.subscribe(...)</code>..."}], "tags": [], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "is_accepted": false, "score": 0, "last_activity_date": 1517402923, "last_edit_date": 1517402923, "creation_date": 1517402578, "answer_id": 48542513, "question_id": 48542054, "link": "https://stackoverflow.com/questions/48542054/how-to-inject-a-method-invocation-into-another-method-in-android/48542513#48542513", "title": "How to inject a method invocation into another method in android", "body": "<p>You're trying to use reflection, but there should be no need to do so with Kotlin as you can create higher order functions (functions that take functions as inputs). </p>\n\n<p>You could do something like:</p>\n\n<pre><code>class ChangeableType&lt;T&gt;(private var value: T, private val onChange: () -&gt; Unit) {\n\n    fun set(value: T) {\n        this.value = value\n        this.onChange.invoke()\n    }\n}\n\nclass MyRandomClass() {\n    val something = ChangeableType(0, { System.print(\"Something new value: $value\") })\n    val anotherThing = ChangeableType(\"String\", { System.print(\"Another thing new value: $value\") })\n}\n\nclass ConsumingClass {\n    val myRandomClass = MyRandomClass()\n\n    fun update() {\n        myRandomClass.apply {\n            something.set(1)\n            anotherThing.set(\"Hello World\")\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1916, "user_id": 984061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPUF4.jpg?s=128&g=1", "display_name": "xip", "link": "https://stackoverflow.com/users/984061/xip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517403319, "creation_date": 1517401182, "last_edit_date": 1517403319, "question_id": 48542054, "link": "https://stackoverflow.com/questions/48542054/how-to-inject-a-method-invocation-into-another-method-in-android", "title": "How to inject a method invocation into another method in android", "body": "<p>I have a class with,</p>\n\n<ul>\n<li>a field called <code>something</code>,</li>\n<li>a setter method called <code>setSomething</code>, and,</li>\n<li>a method called <code>onChange</code> which should be called every time <code>something</code> is changed.</li>\n</ul>\n\n<p>I want to be able to freely add more fields and have the same behavior for all of them. </p>\n\n<p>I don't want to manually call <code>onChange</code> because,</p>\n\n<ol>\n<li>A lot of boilerplate,</li>\n<li>Code will be written in Kotlin so I don't want to write setter functions at all.</li>\n</ol>\n\n<p>The ideal solution I've been able to think of has been to <em>somehow</em> inject the <code>onChange</code> call right before the <code>return</code> for each setter method in compile time.</p>\n\n<p>I've looked at annotation processing, but apparently classes aren't actually compiled at that stage, so I'd have to generate the entire class all over again? I don't exactly understand this.</p>\n\n<p>The other option seems to be writing a gradle plugin that will find the relevant class(es) and modify their bytecode. </p>\n\n<p>I've actually started work on this as a pure Java project (gradle plugin is semi-done) and have been able to find the classes and inject the method call. Can't seem to successfully write the results to a class file though.</p>\n\n<p>Here's what I have (using <a href=\"https://commons.apache.org/proper/commons-bcel\" rel=\"nofollow noreferrer\">BCEL</a>):</p>\n\n<pre><code>public class StateStoreInjector {\n\n    public static void main(String[] args) {\n        // Find all classes that extends StateStore\n        Reflections reflections = new Reflections(\"tr.xip.statestore\");\n        Set&lt;Class&lt;? extends StateStore&gt;&gt; classes = reflections.getSubTypesOf(StateStore.class);\n        for (Class c : classes) {\n            try {\n                JavaClass clazz = Repository.lookupClass(c.getName());\n                JavaClass superClazz = Repository.lookupClass(StateStore.class.getName());\n                if (Repository.instanceOf(clazz, superClazz)) {\n                    injectInClass(clazz, superClazz);\n                }\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private static void injectInClass(JavaClass clazz, JavaClass superClazz) {\n        ClassGen classGen = new ClassGen(clazz);\n        ConstantPoolGen cp = classGen.getConstantPool();\n\n        // Find the onChange method\n        Method onChangeMethod = null;\n        for (Method m : superClazz.getMethods()) {\n            if (m.getName().equals(\"onChange\")) {\n                onChangeMethod = m;\n            }\n        }\n\n        if (onChangeMethod == null) {\n            throw new RuntimeException(\"onChange method not found\");\n        }\n\n        ClassGen superClassGen = new ClassGen(superClazz);\n        ConstantPoolGen superCp = superClassGen.getConstantPool();\n\n        // Add onChange method ref to the class ConstantPool\n        MethodGen onChangeMethodGen = new MethodGen(onChangeMethod, superClassGen.getClassName(), superCp);\n        cp.addMethodref(onChangeMethodGen);\n\n        // Loop through all methods to inject method invocations if applicable\n        for (Method m : clazz.getMethods()) {\n            // Skip methods with names shorter than 3 chars - we're looking for setters and setters would be min 4 chars\n            if (m.getName().length() &lt; 3) continue;\n\n            // Check if the method actually starts with the keyword \"set\"\n            boolean isSetMethod = m.getName().substring(0, 3).toUpperCase().equals(\"SET\");\n            // Get method name without the \"set\" keyword\n            String methodName = m.getName().substring(3, m.getName().length());\n\n            // Check that we actually have a field set by this setter - that this setter is \"valid\"\n            boolean fieldWithSameNameExists = false;\n            for (Field f : clazz.getFields()) {\n                if (f.getName().toUpperCase().equals(methodName.toUpperCase())) {\n                    fieldWithSameNameExists = true;\n                    break;\n                }\n            }\n\n            // Proceed with injection if criteria match\n            Method newMethod = null;\n            if (isSetMethod &amp;&amp; fieldWithSameNameExists) {\n                newMethod = injectInMethod(m, onChangeMethodGen, classGen, cp);\n            }\n\n            // Injection returned. Do we have a new/modified method? Yes? Update and write class.\n            if (newMethod != null) {\n                classGen.removeMethod(m);\n                classGen.addMethod(newMethod);\n                classGen.update();\n                try {\n                    String packageName = clazz.getPackageName().replace(\".\", \"/\");\n                    String className = clazz.getClassName();\n                    className = className.substring(className.lastIndexOf(\".\") + 1, className.length());\n                    clazz.dump(packageName + \"/\" + className + \"Edited.class\");\n                }\n                catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private static Method injectInMethod(Method m, MethodGen onChangeMethodGen, ClassGen cg, ConstantPoolGen cp) {\n        MethodGen methodGen = new MethodGen(m, cg.getClassName(), cp);\n        InstructionList il = methodGen.getInstructionList();\n\n        println(il.toString() + \"pre insert ^\");\n\n        // Find the \"return\" instruction\n        Instruction returnInstruction = null;\n        for (Instruction i : il.getInstructions()) {\n            if (i.getOpcode() == 177) returnInstruction = i;\n        }\n        // If found, insert onChange invocation instruction before the return instruction\n        if (returnInstruction != null) {\n            int index = cp.lookupMethodref(onChangeMethodGen); // Find the index of the onChange method in the CP\n            il.insert(returnInstruction, new INVOKEVIRTUAL(index)); // Insert the new instruction\n\n            println(il.toString() + \"post insert ^\");\n\n            il.setPositions(); // Fix positions\n\n            println(il.toString() + \"post set pos ^\");\n\n            il.update();\n            methodGen.update();\n\n            return methodGen.getMethod();\n        }\n\n        return null;\n    }\n\n    private static void println(String message) {\n        System.out.println(message);\n    }\n}\n</code></pre>\n\n<p>Input Java class:</p>\n\n<pre><code>public class DummyStateStore extends StateStore {\n    private int id = 4321;\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n}\n</code></pre>\n\n<p>Parent Store class:</p>\n\n<pre><code>public class StateStore {\n\n    public void onChange() {\n        // notifies all subscribers \n    }\n}\n</code></pre>\n\n<p>Output (decompiled) class file:</p>\n\n<pre><code>public class DummyStateStore extends StateStore {\n    private int id = 4321;\n\n    public DummyStateStore() {\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return this.id;\n    }\n}\n</code></pre>\n\n<p>Log output:</p>\n\n<pre><code>   0: aload_0[42](1)\n   1: iload_1[27](1)\n   2: putfield[181](3) 2\n   5: return[177](1)\npre insert ^\n   0: aload_0[42](1)\n   1: iload_1[27](1)\n   2: putfield[181](3) 2\n  -1: invokevirtual[182](3) 26\n   5: return[177](1)\npost insert ^\n   0: aload_0[42](1)\n   1: iload_1[27](1)\n   2: putfield[181](3) 2\n   5: invokevirtual[182](3) 26\n   8: return[177](1)\npost set pos ^\n</code></pre>\n\n<p>(I checked the index 26 by debugging the code and it <em>is</em> the correct index in the CP)</p>\n\n<p>Now, the questions are:</p>\n\n<ol>\n<li>Why can't the invocation be seen in the decompiled code but it seems to be added to the instructions list? What am I missing?</li>\n<li>Where would I be exporting the modified class files in an android build for them to be included in the final apk?</li>\n</ol>\n"}, {"tags": ["kotlin", "rx-java"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1517401082, "post_id": 48541814, "comment_id": 84078950, "body": "Try <code>insertAll(it).andThen(shouldGetMore(it))</code>."}, {"owner": {"reputation": 1156, "user_id": 1649917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98f36daa955c06085670a76a55a246a6?s=128&d=identicon&r=PG&f=1", "display_name": "nmu", "link": "https://stackoverflow.com/users/1649917/nmu"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1517411854, "post_id": 48541814, "comment_id": 84086520, "body": "@akarnokd Thank you! This worked perfectly, would you like to submit it as an answer so I can mark it correct?"}], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 2, "last_activity_date": 1517412336, "creation_date": 1517412336, "answer_id": 48545676, "question_id": 48541814, "link": "https://stackoverflow.com/questions/48541814/persisting-a-network-query-and-then-checking-whether-another-is-needed-with-rxja/48545676#48545676", "title": "Persisting a network query and then checking whether another is needed with RxJava", "body": "<p>The <code>Completable</code> offers the <code>andThen</code> operator to continue with any of the reactive base types:</p>\n\n<pre><code>return remote(amount = 2))\n    .subscribeOn(Schedulers.io())\n    .flatMap {\n        insertAll(it)\n        .andThen(shouldGetMore(it)) // &lt;----------------------------------------\n    }\n    .flatMap {\n        if (it) remote(amount = 3)\n        else Observable.just(listOf())\n    }\n    .flatMapCompletable { insertAll(it) }\n    .observeOn(AndroidSchedulers.mainThread())\n</code></pre>\n"}], "owner": {"reputation": 1156, "user_id": 1649917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98f36daa955c06085670a76a55a246a6?s=128&d=identicon&r=PG&f=1", "display_name": "nmu", "link": "https://stackoverflow.com/users/1649917/nmu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 48545676, "answer_count": 1, "score": 0, "last_activity_date": 1517412336, "creation_date": 1517400499, "question_id": 48541814, "link": "https://stackoverflow.com/questions/48541814/persisting-a-network-query-and-then-checking-whether-another-is-needed-with-rxja", "title": "Persisting a network query and then checking whether another is needed with RxJava", "body": "<p>This seems like it should be simple, but I'm struggling with the correct way of flowing the RxJava chain. </p>\n\n<p>For instance, what isn't working is using <code>flatMap</code> to both persist data and check if another api query is needed:</p>\n\n<pre><code>return remote(amount = 2))\n        .subscribeOn(Schedulers.io())\n        .flatMap {\n            insertAll(it)\n            // Return an Observable&lt;Boolean&gt;, true if another api query is needed\n            shouldGetMore(it)\n        }\n        .flatMap {\n            if (it) remote(amount = 3)\n            // If another query is not needed just return an empty observable\n            else Observable.just(listOf())\n        }\n        .flatMapCompletable { insertAll(it) /* If another query was needed insert the result here */  }\n        .observeOn(AndroidSchedulers.mainThread())\n</code></pre>\n\n<p>With the above, <code>insertAll()</code> isn't called the first time because the function <code>insetrtAll</code> is a completable and is therefore not subscribed to in the <code>flatMap</code>. Instead only <code>shouldGetMore()</code> is executed. Now, here is my question: </p>\n\n<p>For this to work I would need a <code>flatMapCompletable</code> at the beginning like so: </p>\n\n<pre><code>return remote(amount = 2))\n        .subscribeOn(Schedulers.io())\n        .flatMapCompletable { insertAll(it) }\n        // ...\n</code></pre>\n\n<p>But if I do this then I no longer have access to the results of the first api query to check if I <code>shouldGetMore</code>. My only thought is making <code>insertAll</code> not a <code>Completable</code> but rather an <code>Observable</code> that returns what was persisted after the fact, thus allowing me to complete the chain.</p>\n\n<p>But this seems like an ugly approach, so I would be curious if anyone else had any other ideas?</p>\n\n<p>Thanks. </p>\n"}, {"tags": ["java", "postgresql", "transactions", "kotlin", "jooq"], "answers": [{"tags": [], "owner": {"reputation": 5745, "user_id": 777939, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4f399c0b34a287ad4c5ae184f2335488?s=128&d=identicon&r=PG", "display_name": "Martin Eden", "link": "https://stackoverflow.com/users/777939/martin-eden"}, "is_accepted": false, "score": 0, "last_activity_date": 1517496800, "creation_date": 1517496800, "answer_id": 48565612, "question_id": 48541633, "link": "https://stackoverflow.com/questions/48541633/in-jooq-if-i-directly-use-the-underlying-connection-is-my-transactional-status/48565612#48565612", "title": "In JOOQ, if I directly use the underlying connection, is my transactional status maintained?", "body": "<p>Experimentally, the answer seems to be yes.</p>\n"}, {"tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": true, "score": 4, "last_activity_date": 1517560035, "creation_date": 1517560035, "answer_id": 48578597, "question_id": 48541633, "link": "https://stackoverflow.com/questions/48541633/in-jooq-if-i-directly-use-the-underlying-connection-is-my-transactional-status/48578597#48578597", "title": "In JOOQ, if I directly use the underlying connection, is my transactional status maintained?", "body": "<p>Your API usage is correct. </p>\n\n<h3>Optimal API usage</h3>\n\n<p>The important thing when using <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#transaction-org.jooq.TransactionalRunnable-\" rel=\"nofollow noreferrer\"><code>DSLContext.transaction(TransactionalRunnable)</code></a> is to use the argument configuration, which you called <code>transactionConfig</code> for all database interactions within the transaction boundary (not the outer <code>dsl</code> reference, which remains unmodified and might return a new connection from the connection pool).</p>\n\n<p>In other words, the <code>transactionConfig</code> is a <code>Configuration</code> that guarantees to always return the very same JDBC <code>Connection</code> from the transaction's scope, regardless of your <code>DataSource</code> / <code>ConnectionProvider</code> configuration.</p>\n\n<h3>Working with thread-bound transactions</h3>\n\n<p>The above is a guarantee by jOOQ, but of course you can assure thread-bound transactions also on a lower level, e.g.:</p>\n\n<ul>\n<li><p>By using the jOOQ <code>ThreadLocalTransactionProvider</code> along with <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#transaction-org.jooq.ContextTransactionalRunnable-\" rel=\"nofollow noreferrer\"><code>DSLContext.transaction(ContextTransactionRunnable)</code></a>, in case of which your logic would look like this:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>dsl.transaction { () -&gt;\n    dsl.connection { connection -&gt;\n        val manager = CopyManager(connection as BaseConnection)\n        manager.copyInto(table, inputStream, fields)\n    }\n}\n</code></pre></li>\n<li><p>By using a thread-bound, transactional connection pool or DataSource. In this case, your <code>dsl.configuration().connectionProvider()</code> should return the same connection as <code>transactionConfig.connectionProvider()</code>, and this would be transparent to jOOQ.</p></li>\n</ul>\n"}], "owner": {"reputation": 5745, "user_id": 777939, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4f399c0b34a287ad4c5ae184f2335488?s=128&d=identicon&r=PG", "display_name": "Martin Eden", "link": "https://stackoverflow.com/users/777939/martin-eden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 48578597, "answer_count": 2, "score": 3, "last_activity_date": 1517560035, "creation_date": 1517399959, "question_id": 48541633, "link": "https://stackoverflow.com/questions/48541633/in-jooq-if-i-directly-use-the-underlying-connection-is-my-transactional-status", "title": "In JOOQ, if I directly use the underlying connection, is my transactional status maintained?", "body": "<p>Lets assume I have a JOOQ <code>DSLContext</code> object, and I need to drop down to the level of the JDBC <code>Connection</code> object to perform some non-JOOQ logic. (In my case, I want to use the Postgres driver's <code>CopyManager</code> object).</p>\n\n<p>If my <code>DSLContext</code> is transactional, will the operations performed directly on the <code>Connection</code> be wrapped by the same transaction? I am using JOOQ's default transaction provider.</p>\n\n<p>e.g. (Kotlin code, but should be pretty transparent to Java users)</p>\n\n<pre><code>dsl.transaction { transactionConfig -&gt;\n    val transactionalDSL = DSL.using(transactionConfig)\n    transactionalDSL.connection { connection -&gt;\n        val manager = CopyManager(connection as BaseConnection)\n        manager.copyInto(table, inputStream, fields)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-intent", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 3354594, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/5QoRg.jpg?s=128&g=1", "display_name": "charitha amarasinghe", "link": "https://stackoverflow.com/users/3354594/charitha-amarasinghe"}, "edited": false, "score": 0, "creation_date": 1597081357, "post_id": 48541588, "comment_id": 112011416, "body": "how should behave the second activity when this array get?. because seems when we use &quot;getParcelableArrayListExtra&quot; , it makes error"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 13, "last_activity_date": 1517399791, "creation_date": 1517399791, "answer_id": 48541588, "question_id": 48541446, "link": "https://stackoverflow.com/questions/48541446/pass-a-mutablelist-from-activity-a-to-activity-b-in-kotlin/48541588#48541588", "title": "Pass a mutableList from activity A to activity B in Kotlin.", "body": "<p>Converting it to an <code>ArrayList</code> (or storing it as one in the first place?) is the easy solution if you want to stick to passing it through an Intent. There's an <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/-array-list/-init-.html\" rel=\"noreferrer\"><code>ArrayList</code> constructor</a> that takes a collection as its parameter:</p>\n\n<pre><code>intent.putParcelableArrayListExtra(\"VIDEOS\", ArrayList(videos))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 744, "user_id": 5664529, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308152285867602/picture?type=large", "display_name": "Siddhesh Shirodkar", "link": "https://stackoverflow.com/users/5664529/siddhesh-shirodkar"}, "edited": false, "score": 0, "creation_date": 1618861962, "post_id": 66757802, "comment_id": 118726501, "body": "This is a pretty complete answer. should be accepted one."}], "tags": [], "owner": {"reputation": 816, "user_id": 6240287, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hkBGY.jpg?s=128&g=1", "display_name": "Douglas Hosea", "link": "https://stackoverflow.com/users/6240287/douglas-hosea"}, "is_accepted": false, "score": 1, "last_activity_date": 1616477708, "creation_date": 1616477708, "answer_id": 66757802, "question_id": 48541446, "link": "https://stackoverflow.com/questions/48541446/pass-a-mutablelist-from-activity-a-to-activity-b-in-kotlin/66757802#66757802", "title": "Pass a mutableList from activity A to activity B in Kotlin.", "body": "<p>For those asking how the Parcelable class is created, this is the solution I came up with in Kotlin</p>\n<p>The Parcelable Class:</p>\n<pre><code>@Parcelize\ndata class ExampleModel(\n        var stringOne: String,\n        var stringTwo: String): Parcelable\n</code></pre>\n<p>Then in Activity A you can create an ArrayList and send it via intent to Activity B</p>\n<pre><code>private var exampleMutableList: MutableList&lt;ExampleModel&gt; = arrayListOf()\nexampleMutableList.add(ExampleModel(&quot;hello&quot;, &quot;world&quot;))\nintent.putExtra(&quot;example&quot;, ArrayList(exampleMutableList))\n</code></pre>\n<p>And in Activity B we can receive our ArrayList:</p>\n<pre><code>exampleMutableList = intent.getParcelableArrayListExtra&lt;ExampleModel&gt;(&quot;example&quot;) as ArrayList&lt;ExampleModel&gt;\n</code></pre>\n<p>All the best!</p>\n"}], "owner": {"reputation": 1144, "user_id": 5101585, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/901c88eba7cc29cbde2c3635523632ea?s=128&d=identicon&r=PG&f=1", "display_name": "Puni", "link": "https://stackoverflow.com/users/5101585/puni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5876, "favorite_count": 0, "accepted_answer_id": 48541588, "answer_count": 2, "score": 7, "last_activity_date": 1616477708, "creation_date": 1517399339, "question_id": 48541446, "link": "https://stackoverflow.com/questions/48541446/pass-a-mutablelist-from-activity-a-to-activity-b-in-kotlin", "title": "Pass a mutableList from activity A to activity B in Kotlin.", "body": "<p>I'm trying to pass data from activity <strong>A</strong> to activity <strong>B</strong> through intent in Kotlin.</p>\n\n<p>The problem is I have a <code>videos: MutableList&lt;Video&gt;</code> and the <code>intent.putParcelableArrayListExtra(\"VIDEOS\", videos)</code> only accepts <code>ArrayList&lt;out Parcelable&gt;</code> as arguments. </p>\n\n<p><strong>Questions</strong></p>\n\n<p>*. How do I send a mutableList data from activity <strong>A</strong> to activity <strong>B</strong>?</p>\n\n<p>*. Or Do I have to convert it to <code>ArrayList&lt;Video&gt;</code> ?</p>\n\n<p><strong>PS:</strong> <code>Video</code>implements Parcelable</p>\n"}, {"tags": ["android", "annotations", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 910, "user_id": 490591, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/35dc59a789a04ed1b72750465e02bd33?s=128&d=identicon&r=PG", "display_name": "ila", "link": "https://stackoverflow.com/users/490591/ila"}, "is_accepted": false, "score": 0, "last_activity_date": 1517486037, "creation_date": 1517486037, "answer_id": 48562146, "question_id": 48540645, "link": "https://stackoverflow.com/questions/48540645/annotation-processor-generating-files-but-not-able-access-them-in-app-mainactiv/48562146#48562146", "title": "Annotation Processor generating files but not able access them in app (mainActivity)", "body": "<p>Problem was the generated file did not have the package name of <code>app</code> module. After fixing that by creating same package path in <code>api</code> it works great. </p>\n"}], "owner": {"reputation": 910, "user_id": 490591, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/35dc59a789a04ed1b72750465e02bd33?s=128&d=identicon&r=PG", "display_name": "ila", "link": "https://stackoverflow.com/users/490591/ila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517486037, "creation_date": 1517396777, "last_edit_date": 1517409735, "question_id": 48540645, "link": "https://stackoverflow.com/questions/48540645/annotation-processor-generating-files-but-not-able-access-them-in-app-mainactiv", "title": "Annotation Processor generating files but not able access them in app (mainActivity)", "body": "<p>Here is my sample project <a href=\"https://github.com/ilagarwal/uclego\" rel=\"nofollow noreferrer\">https://github.com/ilagarwal/uclego</a> where I am generating file using Kotlin annotation. </p>\n\n<p>Annotation name is : <code>DSLAnnotation</code>. Is the class annotation and generates another class name Generated$class at path <code>uclego/uclegodemo/app/build/tmp/kapt/debug/kotlinGenerated/$package/*</code> .\nI have annotated <code>DSL.kt</code> in app module with <code>DSLAnnoation</code> and generated a file at above path. But while trying to use it in app it says file not found.  </p>\n\n<p>There are 4 lib Modules in project which do the following</p>\n\n<p><code>processor</code>: contains annotation processor</p>\n\n<p><code>api</code> : Defines annotation classes</p>\n\n<p><code>app</code> : uses the annotations </p>\n\n<p><code>uclego</code> : Just an intermediately that provides some static methods</p>\n\n<p>Can someone help me with what is going wrong in this project. </p>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 785, "user_id": 834719, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/c8e0794b3a883638d7fffe032f76364f?s=128&d=identicon&r=PG", "display_name": "sayvortana", "link": "https://stackoverflow.com/users/834719/sayvortana"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1581811232, "post_id": 48537805, "comment_id": 106561560, "body": "@Alex Mamo, now wherein is supported in firestore : <a href=\"https://firebase.googleblog.com/2019/11/cloud-firestore-now-supports-in-queries.html\" rel=\"nofollow noreferrer\">firebase.googleblog.com/2019/11/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1165, "user_id": 5915102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff356405217cfe87d57325a52308678?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Mounir", "link": "https://stackoverflow.com/users/5915102/alex-mounir"}, "is_accepted": false, "score": 1, "last_activity_date": 1517390598, "creation_date": 1517390598, "answer_id": 48538577, "question_id": 48537805, "link": "https://stackoverflow.com/questions/48537805/is-there-any-wherein-query-in-firebase-firestore/48538577#48538577", "title": "Is there any whereIn query in Firebase Firestore?", "body": "<p><a href=\"https://firebase.google.com/docs/firestore/query-data/queries#compound_queries\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/firestore/query-data/queries#compound_queries</a></p>\n\n<p>You can also chain multiple where() with equal operator ex.:</p>\n\n<pre><code>citiesRef.whereEqualTo(\"state\", \"CA\").whereEqualTo(\"state\", \"CO\");...\n</code></pre>\n\n<p>Additionally, you can only perform range comparisons (&lt;, &lt;=, >, >=) on a single field:</p>\n\n<pre><code>citiesRef.whereGreaterThanOrEqualTo(\"state\", \"CA\").whereLessThanOrEqualTo(\"state\", \"IN\")\n</code></pre>\n"}], "owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1714, "favorite_count": 1, "closed_date": 1517417049, "answer_count": 1, "score": 1, "last_activity_date": 1517390598, "creation_date": 1517387903, "last_edit_date": 1517389223, "question_id": 48537805, "link": "https://stackoverflow.com/questions/48537805/is-there-any-wherein-query-in-firebase-firestore", "closed_reason": "Duplicate", "title": "Is there any whereIn query in Firebase Firestore?", "body": "<p>I want to find all the users whose phone number is contained in the list.\nIt's like searching <code>*</code> from database where email IN phone_numbers.</p>\n\n<p>This is what I am doing.</p>\n\n<pre><code>fun getUsers(persons: List&lt;Person&gt;?): Single&lt;List&lt;User&gt;&gt; {\n    return Single.create({ emitter -&gt;\n        try {\n            val db = FirebaseFirestore.getInstance()\n            val userCollection = db.collection(USER_FIREBASE_TABLE)\n            var query: Query? = null\n            persons?.forEach({ person -&gt;\n                query = if (null == query) userCollection\n                        .whereEqualTo(\"phone\", person.phone)\n                else query!!.whereEqualTo(\"phone\", person.phone)\n            })\n            query?.get()?.addOnCompleteListener({ task: Task&lt;QuerySnapshot&gt; -&gt;\n                emitter.onSuccess(task.getResult().toObjects(User::class.java))\n            })\n        } catch (exception: Exception) {\n            exception.printStackTrace()\n            emitter.onError(exception)\n        }\n    })  \n}\n</code></pre>\n\n<p>As you see I am appending <strong>whereEqualTo</strong> each time to the query. Is there any way to replace it with something like <strong>whereIn</strong> and I pass an array or collection of values to match to?</p>\n"}, {"tags": ["android", "kotlin", "realm", "observable", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 9247970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/272a382db2f614c0c47bca8dbf8ab163?s=128&d=identicon&r=PG&f=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/9247970/mattwalk"}, "edited": false, "score": 0, "creation_date": 1517393852, "post_id": 48539454, "comment_id": 84074361, "body": "I like the first one. I&#39;ll try it. But i wanna ask about copyToRealm. why did you used here and if meanwhile data changes in Realm then my RealmResults automatically update or I&#39;ll have to use realm change listener for that thing.Thanks Again.."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 119, "user_id": 9247970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/272a382db2f614c0c47bca8dbf8ab163?s=128&d=identicon&r=PG&f=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/9247970/mattwalk"}, "edited": false, "score": 0, "creation_date": 1517399033, "post_id": 48539454, "comment_id": 84077782, "body": "Actually, you should not like the first one :D but you can actually also try out my library that can help with <a href=\"https://github.com/Zhuinden/realm-monarchy/blob/c65b2ad3a9bfcf1d356ab7be66d4ddce9f3781e9/monarchy-example/src/main/java/com/zhuinden/monarchyexample/features/mapped_rx/MappedRxFragment.java#L67-L69\" rel=\"nofollow noreferrer\">Rx integration using LiveData&#39;s Rx integration</a>, it should do exactly what you want."}, {"owner": {"reputation": 119, "user_id": 9247970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/272a382db2f614c0c47bca8dbf8ab163?s=128&d=identicon&r=PG&f=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/9247970/mattwalk"}, "edited": false, "score": 0, "creation_date": 1517399206, "post_id": 48539454, "comment_id": 84077880, "body": "why i should not use the first one ?. Is it wrong to do that way ?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 119, "user_id": 9247970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/272a382db2f614c0c47bca8dbf8ab163?s=128&d=identicon&r=PG&f=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/9247970/mattwalk"}, "edited": false, "score": 0, "creation_date": 1517399947, "post_id": 48539454, "comment_id": 84078302, "body": "Because you don&#39;t subscribe for changes :D Technically it reads data from background thread and boom it&#39;s one-off. I prefer to subscribe, but if you want to map out to another object type (which you do!) then you should do that on a background thread, right? So you should look at the edit I added regarding my library, see if that works for you. There&#39;s a sample for it and everything :) So it should!"}, {"owner": {"reputation": 119, "user_id": 9247970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/272a382db2f614c0c47bca8dbf8ab163?s=128&d=identicon&r=PG&f=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/9247970/mattwalk"}, "edited": false, "score": 0, "creation_date": 1517400484, "post_id": 48539454, "comment_id": 84078590, "body": "so you mean if any data changes then it won&#39;t reflect on the copied list. right ?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 119, "user_id": 9247970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/272a382db2f614c0c47bca8dbf8ab163?s=128&d=identicon&r=PG&f=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/9247970/mattwalk"}, "edited": false, "score": 0, "creation_date": 1517401755, "post_id": 48539454, "comment_id": 84079363, "body": "Yeah, in the case of the Single, it wouldn&#39;t."}, {"owner": {"reputation": 119, "user_id": 9247970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/272a382db2f614c0c47bca8dbf8ab163?s=128&d=identicon&r=PG&f=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/9247970/mattwalk"}, "edited": false, "score": 0, "creation_date": 1517402140, "post_id": 48539454, "comment_id": 84079618, "body": "okay , thanks .. I&#39;ll read about your library. I guess it will work perfectly in that scenario."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 4, "last_activity_date": 1517399151, "last_edit_date": 1517399151, "creation_date": 1517393204, "answer_id": 48539454, "question_id": 48536728, "link": "https://stackoverflow.com/questions/48536728/how-to-use-realm-with-rxjava2/48539454#48539454", "title": "How to use realm with RxJava2", "body": "<pre><code>Single.create&lt;List&lt;RealmSuggestedFriends&gt;&gt; { emitter -&gt;\n    Realm.getDefaultInstance().use { realm -&gt;\n        val results = realm.where(RealmSuggestedFriends::class.java).findAll()\n        emitter.onSuccess(realm.copyFromRealm(results))\n    }\n}.subscribeOn(Schedulers.io())\n .observeOn(AndroidSchedulers.mainThread())\n .map { results -&gt;\n     for(firstResults in results) {\n        val requestPojo = RequestPojo()\n        requestPojo.email = firstResults.friendEmail\n        requestPojo.image = firstResults.friendImage\n        requestPojo.name = firstResults.friendName\n        requestPojo.status = firstResults.friendStatus\n        requestPojo.thumb_image = firstResults.friendThumbImage\n        requestPojo.uid = firstResults.friendUid\n     }\n }.subscribe({    \n     list: List&lt;RequestPojo&gt; -&gt;  userAdapter.updateData(list)\n },{\n     t: Throwable? -&gt;  \n },{\n })\n</code></pre>\n\n<p>Assuming you don't want to get notifications when the Realm changes, anyways.</p>\n\n<p>Otherwise, use Observable, kinda like <a href=\"https://github.com/Zhuinden/simple-stack/blob/f1dc9ffa24d2e44400e1ea22b9d16199de24ef1a/simple-stack-example-mvp-fragments/src/main/java/com/zhuinden/simplestackdemoexamplefragments/data/repository/TaskRepository.java#L65\" rel=\"nofollow noreferrer\">this one</a>:</p>\n\n<pre><code>private Observable&lt;List&lt;Task&gt;&gt; createResults(QuerySelector&lt;DbTask&gt; querySelector) {\n    return Observable.create((ObservableOnSubscribe&lt;List&lt;Task&gt;&gt;) emitter -&gt; {\n        Realm realm = Realm.getDefaultInstance();\n        final RealmResults&lt;DbTask&gt; dbTasks = querySelector.createQuery(realm);\n        final RealmChangeListener&lt;RealmResults&lt;DbTask&gt;&gt; realmChangeListener = element -&gt; {\n            if(element.isLoaded() &amp;&amp; !emitter.isDisposed()) {\n                List&lt;Task&gt; tasks = mapFrom(element);\n                if(!emitter.isDisposed()) {\n                    emitter.onNext(tasks);\n                }\n            }\n        };\n        emitter.setDisposable(Disposables.fromAction(() -&gt; {\n            if(dbTasks.isValid()) {\n                dbTasks.removeChangeListener(realmChangeListener);\n            }\n            realm.close();\n        }));\n        dbTasks.addChangeListener(realmChangeListener);\n    }).subscribeOn(looperScheduler.getScheduler()).unsubscribeOn(looperScheduler.getScheduler());\n}\n</code></pre>\n\n<p>To get the second one to work, you can even try out <a href=\"https://github.com/Zhuinden/realm-monarchy/blob/c65b2ad3a9bfcf1d356ab7be66d4ddce9f3781e9/monarchy-example/src/main/java/com/zhuinden/monarchyexample/features/mapped_rx/MappedRxFragment.java#L67-L69\" rel=\"nofollow noreferrer\">my library that helps with this</a>.</p>\n\n<pre><code>Flowable&lt;List&lt;Dog&gt;&gt; dogs;\n\n@Inject\nMonarchy monarchy;\n\nprivate List&lt;Dog&gt; currentDogs = Collections.emptyList();\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    LiveData&lt;List&lt;Dog&gt;&gt; dogs = monarchy.findAllMappedWithChanges(realm -&gt; realm.where(RealmDog.class),\n                                                           from -&gt; Dog.create(from.getName()));\n    this.dogs = Flowable.fromPublisher(LiveDataReactiveStreams.toPublisher(getActivity(), dogs));\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 9247970, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/272a382db2f614c0c47bca8dbf8ab163?s=128&d=identicon&r=PG&f=1", "display_name": "Mattwalk", "link": "https://stackoverflow.com/users/9247970/mattwalk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1584, "favorite_count": 0, "accepted_answer_id": 48539454, "answer_count": 1, "score": 2, "last_activity_date": 1517399151, "creation_date": 1517383696, "last_edit_date": 1517394629, "question_id": 48536728, "link": "https://stackoverflow.com/questions/48536728/how-to-use-realm-with-rxjava2", "title": "How to use realm with RxJava2", "body": "<p>I am using RxJava 2 and Realm in my project and I was fetching data from RealmResults using Observable. Here is my code .</p>\n\n<pre><code>fun getAllAsync(){\n    realm?.where(RealmSuggestedFriends::class.java)\n            ?.findAllAsync()\n            ?.asFlowable()\n            ?.filter { t -&gt; t.isLoaded }\n            ?.observeOn(AndroidSchedulers.mainThread())\n            ?.subscribe({\n        t: RealmResults&lt;RealmSuggestedFriends&gt;? -&gt;for (firstResults in t!!){\n        val requestPojo = RequestPojo()\n        requestPojo.email = firstResults.friendEmail\n        requestPojo.image = firstResults.friendImage\n        requestPojo.name = firstResults.friendName\n        requestPojo.status = firstResults.friendStatus\n        requestPojo.thumb_image = firstResults.friendThumbImage\n        requestPojo.uid = firstResults.friendUid\n        userAdapter?.addData(requestPojo)\n    }\n    },{\n        t: Throwable? -&gt;\n      },\n      {},\n      {})\n    }\n</code></pre>\n\n<p>I tried above code but i ain't getting any data. After this, I tried to fetch data by this way</p>\n\n<pre><code>Observable.create&lt;RealmSuggestedFriends&gt; { emitter -&gt;\n        val results = realm?.where(RealmSuggestedFriends::class.java)\n                ?.findAllAsync()\n        for (suggestedFriends in results!!){\n            emitter.onNext(suggestedFriends)\n        }\n        emitter.onComplete()\n    }.subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .flatMap { firstResults -&gt;\n                val requestPojo = RequestPojo()\n                requestPojo.email = firstResults.friendEmail\n                requestPojo.image = firstResults.friendImage\n                requestPojo.name = firstResults.friendName\n                requestPojo.status = firstResults.friendStatus\n                requestPojo.thumb_image = firstResults.friendThumbImage\n                requestPojo.uid = firstResults.friendUid\n                Observable.just(requestPojo).subscribeOn(Schedulers.io())\n            }\n            .subscribe({\n                t: RequestPojo? -&gt;  userAdapter?.addData(t!!)\n            },{\n                t: Throwable? -&gt;  \n            },{\n\n            },{\n                t: Disposable? -&gt;  compositeDisposable?.add(d!!)\n            })\n</code></pre>\n\n<p>Using this code also , I ain't getting any data and also i get a toast of saying <code>Realm accessed from incorrect thread</code> . Anybody help me to make it work. Thanks in advance.</p>\n"}, {"tags": ["android", "database", "kotlin", "illegalstateexception"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1517373934, "post_id": 48534304, "comment_id": 84064595, "body": "Please post as text instead of images."}, {"owner": {"reputation": 757, "user_id": 3302296, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/9G1FH.jpg?s=128&g=1", "display_name": "Prasad Shirvandkar", "link": "https://stackoverflow.com/users/3302296/prasad-shirvandkar"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1517375396, "post_id": 48534304, "comment_id": 84065040, "body": "Added Text of the Method where the error is occuring."}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1517387307, "post_id": 48534304, "comment_id": 84070207, "body": "Error could be when you are searching column that doesn&#39;t exist in cursor. Post your command string and <code>KEY_*</code> variables values."}], "owner": {"reputation": 757, "user_id": 3302296, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/9G1FH.jpg?s=128&g=1", "display_name": "Prasad Shirvandkar", "link": "https://stackoverflow.com/users/3302296/prasad-shirvandkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517374088, "creation_date": 1517371547, "last_edit_date": 1517374088, "question_id": 48534304, "link": "https://stackoverflow.com/questions/48534304/illegal-stateexception-error", "title": "Illegal StateException Error", "body": "<p>I recently migrated from Java to Kotlin and converted my app's code into kotlin code and published the changes.But now some users are reporting that there app is force stopping. But me and the tested devices are not facing the issue. When I checked the crashes page. It is showing this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7hLdv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7hLdv.png\" alt=\"enter image description here\"></a></p>\n\n<p>And this is the DatabaseHelper Class Code with line 1018</p>\n\n<p><a href=\"https://i.stack.imgur.com/sa5QB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sa5QB.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>fun getNotes(sqlCommand: String): MutableList&lt;Note&gt; {\n    val result = ArrayList&lt;Note&gt;()\n    val db = this.readableDatabase\n    Log.e(LOG, sqlCommand)\n    val cursor = db.rawQuery(sqlCommand, null)\n    try {\n        if (cursor!!.moveToFirst()) {\n            do {\n                val note = Note()\n                note.id = cursor.getLong(cursor.getColumnIndex(KEY_ID))\n                note.title = DataEncryption.encryptDecrypt(cursor.getString(cursor.getColumnIndex(KEY_TITLE)))\n                note.content = DataEncryption.encryptDecrypt(cursor.getString(cursor.getColumnIndex(KEY_CONTENT)))\n                note.updatedAt = Date(cursor.getLong(cursor.getColumnIndex(KEY_UPDATED_AT)))\n                note.color = cursor.getInt(cursor.getColumnIndex(KEY_COLOR))\n                note.favourite = cursor.getInt(cursor.getColumnIndex(KEY_FAVOURITE))\n                if (cursor.isNull(cursor.getInt(cursor.getColumnIndex(KEY_LOCKSTATUS)))) {\n                    note.lock_status = 0\n                } else {\n                    note.lock_status = cursor.getInt(cursor.getColumnIndex(KEY_LOCKSTATUS))\n                }\n                note.reminderDate = cursor.getString(cursor.getColumnIndex(KEY_REMINDER_DATE))\n                note.reminderTime = cursor.getString(cursor.getColumnIndex(KEY_REMINDER_TIME))\n                if (cursor.isNull(cursor.getInt(cursor.getColumnIndex(KEY_REMINDER_STATUS)))) {\n                    note.reminderStatus = 0\n                } else {\n                    note.reminderStatus = cursor.getInt(cursor.getColumnIndex(KEY_REMINDER_STATUS))\n                }\n                note.noteCategoryTitle = cursor.getString(cursor.getColumnIndex(KEY_CATEGORY_NOTE_TITLE))\n                note.noteCategoryStatus = cursor.getInt(cursor.getColumnIndex(KEY_CATEGORY_NOTE_STATUS))\n                note.checklist = cursor.getInt(cursor.getColumnIndex(KEY_CHECKLIST))\n                if (cursor.isNull(cursor.getInt(cursor.getColumnIndex(KEY_ALARM_REPEAT_STATUS)))) {\n                    note.alarmRepeatStatus = 0\n                } else {\n                    note.alarmRepeatStatus = cursor.getInt(cursor.getColumnIndex(KEY_ALARM_REPEAT_STATUS))\n                }\n                result.add(note)\n            } while (cursor.moveToNext())\n        }\n    } finally {\n        cursor?.close()\n    }\n    return result\n}\n</code></pre>\n\n<p>Someone please help me with a solution. Help is high appreciated.</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517391512, "post_id": 48533899, "comment_id": 84072717, "body": "so you want the navigator in the base activity and every activity that inherit from it ?"}, {"owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "reply_to_user": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517401955, "post_id": 48533899, "comment_id": 84079477, "body": "Yep, that&#39;s what I need."}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517402138, "post_id": 48533899, "comment_id": 84079615, "body": "why you need to inject at the first place you can just init it in the base activity :D          val nav = Navigator(supportFragmentManager)"}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517402199, "post_id": 48533899, "comment_id": 84079652, "body": "and use it any activity that inherit base activity"}, {"owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "reply_to_user": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517402487, "post_id": 48533899, "comment_id": 84079812, "body": "Yep, I know. I&#39;m just trying to do the same thing I was doing without <code>dagger.android</code>, also I think the code looks better. Haha..hope that are valid arguments."}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517402562, "post_id": 48533899, "comment_id": 84079857, "body": "yes the code looks better :D OK actually i will try it give me a minute to figure it out with dagger"}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517404318, "post_id": 48533899, "comment_id": 84080967, "body": "Actually i can&#39;t find solutions for that but here why you can&#39;t achieve that in my point of you :(. your base activity added to  dagger graph using &quot;ContributesAndroidInjector&quot;. so when you extend any activity from base activity it inherit also it&#39;s modules and competent so you need to add also to the graph. but i will try again with this problem it&#39;s interesting after i finish my work and i will inform you with the updates :D happy coding"}, {"owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "reply_to_user": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517405896, "post_id": 48533899, "comment_id": 84082090, "body": "Thanks for your time on this. Happy coding."}, {"owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "reply_to_user": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517408051, "post_id": 48533899, "comment_id": 84083617, "body": "It may be something related to this: <a href=\"https://stackoverflow.com/q/44268237\">stackoverflow.com/q/44268237</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": true, "score": 7, "last_activity_date": 1517440372, "creation_date": 1517440372, "answer_id": 48552980, "question_id": 48533899, "link": "https://stackoverflow.com/questions/48533899/how-to-inject-members-in-baseactivity-using-dagger-android/48552980#48552980", "title": "How to @Inject members in BaseActivity using dagger.android?", "body": "<p>The problem lies with your assumption that you need to inject a <code>BaseActivity</code> at some point...</p>\n\n<pre><code>@Module\nabstract class ActivityBindingModule {\n  @ContributesAndroidInjector\n  abstract fun bindMainActivity(): MainActivity\n\n\n  // ...that's not really how it works... :/\n  @ContributesAndroidInjector(modules = [(BaseActivityModule::class)])\n  abstract fun bindBaseActivity(): BaseActivity\n}\n</code></pre>\n\n<p>Using the above code you end up with some component to inject <code>MainActivity</code>, and some component to inject <code>BaseActivity</code>, but neither can inject \"both\". The error you receive is because <code>MainActivity</code> can't supply the <code>FragmentManager</code> it needs to inject in its parent <code>BaseActivity</code>. It's missing the module to do so. You only add the <code>BaseActivityModule</code> to your other component, to which the MainActivityComponent effectively has no access&mdash;hence the <em>cannot be provided</em> error.</p>\n\n<p>Dagger always needs to inject the whole object. There is no partial injection, or injecting from multiple components at once. If a single component can't provide <em>all</em> the dependencies it needs you will get an error. Your <code>fun bindBaseActivity(): BaseActivity</code> is useless, because you will never use <code>BaseActivity</code>, but you will only use <code>MainActivity</code> or other subclasses of it. <em>Those</em> components need to be able to provide the dependencies of the BaseActivity as well.</p>\n\n<hr>\n\n<p>If you want to inject dependencies in the BaseActivity you need to add a module that provides the necessary bindings. Your code should end up looking like the following:</p>\n\n<pre><code>@Module\nabstract class ActivityBindingModule {\n  @ContributesAndroidInjector(modules = [BaseActivityModule::class, MainActivityModule::class])\n  abstract fun bindMainActivity(): MainActivity\n\n  // no BaseActivity component necessary\n}\n\n@Module\nabstract class MainActivityModule {\n  @Binds\n  abstract fun bindBaseActivity(activity: MainActivity) : BaseActivity\n}\n</code></pre>\n\n<p>This does the following things:</p>\n\n<ol>\n<li>It adds <code>BaseActivityModule</code> to the MainActivityComponent, so that your base-dependencies can be provided by this component and <code>MainActivity</code> can be injected</li>\n<li>It binds <code>MainActivity</code> in another module as your <code>BaseActivity</code> so that you can use that in your module and don't have to bind a FragmentManager for every activity you have</li>\n</ol>\n\n<p>While you can reuse <code>BaseActivityModule</code> and add it to all of your activity implementations, you will have to add a module to bind the activity as a <code>BaseActivity</code> for every one of your activities.</p>\n\n<p>There might be a more optimized approach, but that's the vanilla requirements for injecting subclasses.</p>\n"}, {"comments": [{"owner": {"reputation": 1911, "user_id": 1184239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5861096351cb3a35a17a28284a4370f?s=128&d=identicon&r=PG", "display_name": "Aaron Dancygier", "link": "https://stackoverflow.com/users/1184239/aaron-dancygier"}, "edited": false, "score": 0, "creation_date": 1540356240, "post_id": 50883402, "comment_id": 92829131, "body": "Are you sure you can inject into BaseActivity? It&#39;s abstract."}, {"owner": {"reputation": 2806, "user_id": 464328, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0d3692764da4b32f9160bfbd3e60ac5?s=128&d=identicon&r=PG", "display_name": "Roger Alien", "link": "https://stackoverflow.com/users/464328/roger-alien"}, "reply_to_user": {"reputation": 1911, "user_id": 1184239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5861096351cb3a35a17a28284a4370f?s=128&d=identicon&r=PG", "display_name": "Aaron Dancygier", "link": "https://stackoverflow.com/users/1184239/aaron-dancygier"}, "edited": false, "score": 0, "creation_date": 1540597065, "post_id": 50883402, "comment_id": 92938206, "body": "Last time I tried, it worked for me. Feel free to test and update if it doesn&#39;t work."}], "tags": [], "owner": {"reputation": 2806, "user_id": 464328, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0d3692764da4b32f9160bfbd3e60ac5?s=128&d=identicon&r=PG", "display_name": "Roger Alien", "link": "https://stackoverflow.com/users/464328/roger-alien"}, "is_accepted": false, "score": 1, "last_activity_date": 1529101900, "creation_date": 1529101900, "answer_id": 50883402, "question_id": 48533899, "link": "https://stackoverflow.com/questions/48533899/how-to-inject-members-in-baseactivity-using-dagger-android/50883402#50883402", "title": "How to @Inject members in BaseActivity using dagger.android?", "body": "<p>Main idea to understand that Dagger understands only top component/activity injection and doesn't see <code>BaseActivityComponent</code></p>\n\n<p>Alternative implementation to @David Medenjak solution is to simply include <code>BaseActivityModule</code> and inject <code>BaseActivity</code>:</p>\n\n<pre><code>@ActivityScope\n@Subcomponent(modules = {MainActivityModule.class, BaseActivityModule.class} )\npublic interface PlayerActivityComponent {\n\n    void inject(MainActivity activity);\n\n    void inject(BaseActivity activity);\n}\n</code></pre>\n\n<p>And you can inject your objects now both in <code>BaseActivity</code> and <code>MainActivity</code></p>\n"}], "owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3196, "favorite_count": 1, "accepted_answer_id": 48552980, "answer_count": 2, "score": 1, "last_activity_date": 1529101900, "creation_date": 1517368667, "question_id": 48533899, "link": "https://stackoverflow.com/questions/48533899/how-to-inject-members-in-baseactivity-using-dagger-android", "title": "How to @Inject members in BaseActivity using dagger.android?", "body": "<p>This is my scenario:</p>\n\n<ul>\n<li>I want all my Activities to inherit from <code>BaseActivity</code></li>\n<li><p>Within the <code>BaseActivity</code>, I want to inject <code>Navigator</code> (it helps me to manage the <code>Fragments</code> backstack and navigate between activities):</p>\n\n<pre><code>abstract class BaseActivity : DaggerAppCompatActivity() {\n    @Inject\n    lateinit var navigator: Navigator\n\n    @Inject\n    lateinit var prefs: SharedPreferences // injected via AppModule.kt, see below.\n}\n</code></pre></li>\n<li><p>The <code>Navigator</code> class needs a <code>FragmentManager</code> in its constructor:</p>\n\n<pre><code>class Navigator @Inject constructor(\n    val fragmentManager: FragmentManager) {\n    // class body\n}\n</code></pre></li>\n<li><p>I want to provide <code>FragmentManager</code> from a <code>BaseActivity</code> object in <code>BaseActivityModule</code>:</p>\n\n<pre><code>@Module\nclass BaseActivityModule {\n    @PerActivity\n    @Provides\n    fun provideFragmentManager(baseActivity: BaseActivity): FragmentManager {\n        return baseActivity.supportFragmentManager\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>This is the rest of my components and modules:</p>\n\n<ul>\n<li><p><strong>AppComponent.kt</strong></p>\n\n<pre><code>@Singleton @Component(modules = [\n    AndroidSupportInjectionModule::class,\n    AppModule::class,\n    ActivityBindingModule::class])\ninterface AppComponent {\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(application: Application): Builder\n        fun build(): AppComponent\n    }\n    fun inject(app: AndroidApplication)\n}\n</code></pre></li>\n<li><p><strong>AppModule.kt</strong></p>\n\n<pre><code>@Module\nclass AppModule {\n    @Singleton\n    @Provides\n    fun providesPrefs(application: Application): SharedPreferences {\n        return application.getSharedPreferences(\"MyPrefs\", Context.MODE_PRIVATE)\n    }\n}\n</code></pre></li>\n<li><p><strong>ActivityBindingModule.kt</strong></p>\n\n<pre><code>@Module\nabstract class ActivityBindingModule {\n    @ContributesAndroidInjector\n    abstract fun bindMainActivity(): MainActivity\n\n    @ContributesAndroidInjector(modules = [(BaseActivityModule::class)])\n    abstract fun bindBaseActivity(): BaseActivity\n}\n</code></pre></li>\n<li><p><strong>BaseActivityModule.kt</strong></p>\n\n<pre><code>@Module\nclass BaseActivityModule {\n    @Provides\n    fun provideFragmentManager(baseActivity: BaseActivity): FragmentManager {\n        return baseActivity.supportFragmentManager\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>This is the compilation error message:</p>\n\n<pre><code>Error: [dagger.android.AndroidInjector.inject(T)]\nandroid.support.v4.app.FragmentManager cannot be provided\nwithout an @Provides- or @Produces-annotated method.\n\nError:A binding with matching key exists in component:\ncom.myapp.ActivityBindingModule_BindBaseActivity.BaseActivitySubcomponent\n</code></pre>\n"}, {"tags": ["static", "kotlin", "companion-object", "kotlin-companion"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1517368518, "post_id": 48533434, "comment_id": 84063312, "body": "Accessing <code>OUTER_TAG</code> in companion gives error because it is a class variable. You cannot access it without an instance."}], "answers": [{"comments": [{"owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 0, "creation_date": 1517383278, "post_id": 48533968, "comment_id": 84068188, "body": "I understand that. That&#39;s the exact reason I&#39;m trying to use it. I want to print the version of the lib only once, not every time an Outer object is created, that&#39;s the reason I use the init {} of the companion, instead of a static {} code block of java"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 0, "creation_date": 1517383396, "post_id": 48533968, "comment_id": 84068236, "body": "@Gavriel Does <code>Outer::class.java.simpleName</code> work for you though?"}, {"owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 0, "creation_date": 1517384277, "post_id": 48533968, "comment_id": 84068640, "body": "yes it works. I&#39;m not sure however if I need the @JvmStatic before it or not."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "reply_to_user": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "edited": false, "score": 0, "creation_date": 1517385074, "post_id": 48533968, "comment_id": 84069027, "body": "@Gavriel You don&#39;t need <code>JvmStatic</code>  unless there is a specific need from Java side. It is need only when you access Kotlin class from Java code that needs a static or code generation. You do not need to add it until you face a problem."}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": true, "score": 5, "last_activity_date": 1517369235, "creation_date": 1517369235, "answer_id": 48533968, "question_id": 48533434, "link": "https://stackoverflow.com/questions/48533434/how-to-access-outer-class-javaclass-simplename-from-companion-object-in-kotlin/48533968#48533968", "title": "how to access outer class&#39; javaClass.simpleName from companion object in kotlin?", "body": "<p>In order to achieve this in Kotlin,</p>\n\n<pre><code>class Outer {\n    static final String TAG = Outer.class.simpleName();\n    // and now I'm able to use Outer.TAG or just TAG in both static and non-static methods\n}\n</code></pre>\n\n<p>It should be </p>\n\n<pre><code>class Outer {\n    companion object {\n        val Tag = Outer::class.java.simpleName\n        val Tag2 = Outer.javaClass.simpleName // This will not work\n    }\n}\n\nprintln(Outer.Tag)  // print Outer\nprintln(Outer.Tag2) // print Companion\n</code></pre>\n\n<p>I think you misunderstand what <code>companion</code> is. <code>companion</code> is similar to Java static. See this <a href=\"https://discuss.kotlinlang.org/t/companion-object-instead-of-static/5801\" rel=\"noreferrer\">discussion</a>.</p>\n"}], "owner": {"reputation": 18048, "user_id": 661589, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/54d910c2365b1e965a4007607a71b162?s=128&d=identicon&r=PG", "display_name": "Gavriel", "link": "https://stackoverflow.com/users/661589/gavriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3023, "favorite_count": 0, "accepted_answer_id": 48533968, "answer_count": 1, "score": 4, "last_activity_date": 1517369235, "creation_date": 1517364945, "question_id": 48533434, "link": "https://stackoverflow.com/questions/48533434/how-to-access-outer-class-javaclass-simplename-from-companion-object-in-kotlin", "title": "how to access outer class&#39; javaClass.simpleName from companion object in kotlin?", "body": "<p>I would like to be able to access the simpleName of my class from it's companion object.</p>\n\n<p>I would like this:</p>\n\n<pre><code>val o1 = Outer(\"foo\")\nval o2 = Outer(\"bar\")\n</code></pre>\n\n<p>to print the following output:</p>\n\n<pre><code>Outer: hello\nOuter: foo\nOuter: bar\n</code></pre>\n\n<p>The actual use case would be this in java:</p>\n\n<pre><code>class Outer {\n    static final String TAG = Outer.class.simpleName();\n    // and now I'm able to use Outer.TAG or just TAG in both static and non-static methods\n}\n</code></pre>\n\n<p>I tried 2 things:</p>\n\n<ol>\n<li><p>assign Outer's simpleName to the companion object's COMPANION_TAG and then use COMPANION_TAG from companion's init and all over Outer's functions. I can access COMPANION_TAG from everywhere I need, but unfortunately I can only get \"Companion\" and not \"Outer\" this way.</p></li>\n<li><p>access Outer.OUTER_TAG from the companion object's init. Here the problem is that I can't find the way to access it.</p></li>\n</ol>\n\n<p>Here's the code:</p>\n\n<pre><code>class Outer(str: String) {\n    private val OUTER_TAG = javaClass.simpleName\n    companion object {\n        @JvmStatic val COMPANION_TAG = PullDownAnimationLayout.javaClass.simpleName // gives \"Companion\" :(\n        init {\n            // how can I access OUTER_TAG?\n            Log.d(OUTER_TAG, \"hello\") // this gives an error\n        }\n    }\n    init {\n        Log.d(OUTER_TAG, str) // Outer: ... :)\n        Log.d(INNER_TAG, str) // Companion: ... :(\n    }\n}\n\nval o1 = Outer()\nval o2 = Outer()\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-widget", "remoteview"], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1523459200, "creation_date": 1517363791, "last_edit_date": 1523459200, "question_id": 48533306, "link": "https://stackoverflow.com/questions/48533306/onclick-of-background-of-remoteview-unecpected-behaviour", "title": "onClick of background of RemoteView unecpected behaviour", "body": "<p>I want my widget to show a list with a clickable button and clickable background on the ListItem that contains the button. I created a service, that distinguishes between the different events, but the click on the background is never registered, if the <code>onClickFillIntent</code> is set on the button. \n(I already tried setting multiple <code>onClickFillIntents</code> on other things, like a <code>TextView</code> and a button, this works flawlessly. Everything <strong>but</strong> the background works.)</p>\n\n<p>TLDR;\nwhy does <code>intent1</code> work, but <code>intent2</code> doesnt?\nThere is no error in logcat.</p>\n\n<p><strong>widget.kt</strong></p>\n\n<pre><code>class Widget() : AppWidgetProvider() {\n\noverride fun onUpdate(context: Context, appWidgetManager: AppWidgetManager, Ids: IntArray) {\n    for (i in Ids.indices) {\n        val views = RemoteViews(context.getPackageName(), R.layout.classificationwidget)\n        views.setRemoteAdapter(R.id.widget_list, context.intentFor&lt;WidgetService&gt;())\n            views.setPendingIntentTemplate(R.id.widget_list, PendingIntent.getService(context,0,context.intentFor&lt;DataCollectorService&gt;(\"someAction\"), PendingIntent.FLAG_CANCEL_CURRENT))\n            appWidgetManager.updateAppWidget(Ids[i], views)\n        }\n    }\n}\n\nclass WidgetService : RemoteViewsService() {\n    override fun onGetViewFactory(intent: Intent): RemoteViewsFactory {\n        return WidgetViews(this.applicationContext)\n    }\n}\n\nclass WidgetViews(private val context: Context) : RemoteViewsService.RemoteViewsFactory {\n\n    override fun getViewAt(position: Int): RemoteViews? {\n        val views = RemoteViews(context.packageName, R.layout.widgetlistitem)\n        val intent1 = context.intentFor&lt;MyService&gt;(ACTION to \"1\")\n        views.setOnClickFillInIntent(R.id.widget_button, intent1)\n        val intent2 = context.intentFor&lt;MyService&gt;(ACTION to \"2\")\n        views.setOnClickFillInIntent(R.id.widget_item_background, intent2) \n        return views\n    }\n    ... (rest of the methods)\n}\n</code></pre>\n\n<p><strong>widgetlistitem.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@+id/widget_item_background\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_marginBottom=\"2dp\"\nandroid:background=\"@drawable/card\"\nandroid:clickable=\"true\"\nandroid:focusable=\"true\"&gt;\n\n&lt;Button\n    android:id=\"@+id/widget_button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentEnd=\"true\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_margin=\"8dp\"\n    android:text=\"Jetzt\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>widget_list.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ListView xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/widget_list\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\ntools:listitem=\"@layout/widgetlistitem\"&gt;\n&lt;/ListView&gt;\n</code></pre>\n"}, {"tags": ["neo4j", "kotlin", "cypher", "spring-data-neo4j", "neo4j-ogm"], "answers": [{"tags": [], "owner": {"reputation": 6118, "user_id": 2650436, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/34ecacd077244d141a23c46ea094df5c?s=128&d=identicon&r=PG", "display_name": "meistermeier", "link": "https://stackoverflow.com/users/2650436/meistermeier"}, "is_accepted": true, "score": 3, "last_activity_date": 1517586143, "creation_date": 1517586143, "answer_id": 48586127, "question_id": 48532551, "link": "https://stackoverflow.com/questions/48532551/neo4j-spring-repository-cant-match-on-related-entitys-id-field/48586127#48586127", "title": "Neo4j spring repository can&#39;t match on related entity&#39;s Id field", "body": "<p>At the moment there is no special handling for the <code>id</code> field in SDN. The problem is somehow related to <a href=\"https://stackoverflow.com/questions/47132148/spring-data-neo4j-count-relation-by-endnode-id/47199043#47199043\">Spring data neo4j : count relation By EndNode ID</a> and the resulting issue <a href=\"https://jira.spring.io/browse/DATAGRAPH-1049\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATAGRAPH-1049</a> .</p>\n\n<p>I think if this issue will get resolved SDN will have a better id handling when generating queries.</p>\n"}], "owner": {"reputation": 514, "user_id": 561451, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8ef17576958f3209dcb2103368651a41?s=128&d=identicon&r=PG", "display_name": "Geir", "link": "https://stackoverflow.com/users/561451/geir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 48586127, "answer_count": 1, "score": 1, "last_activity_date": 1517586143, "creation_date": 1517357724, "last_edit_date": 1517383882, "question_id": 48532551, "link": "https://stackoverflow.com/questions/48532551/neo4j-spring-repository-cant-match-on-related-entitys-id-field", "title": "Neo4j spring repository can&#39;t match on related entity&#39;s Id field", "body": "<p>I have a <code>User</code> which can have one or more <code>Project</code>s, where a <code>BELONGS_TO</code> relationship between the two is maintained in <code>UserEntity</code> which <code>Project</code> inherits from. </p>\n\n<pre><code>class User {\n  @Id @GeneratedValue\n  var id : Long?\n\n  lateinit var name: String\n}\n\nclass Project : UserEntity() {\n  lateinit var title: String\n}\n\nabstract class UserEntity {\n  @Id @GeneratedValue\n  var id : Long?\n\n  @Relationship(type=\"BELONGS_TO\", type=\"OUTGOING\")\n  lateinit var user: User\n}\n</code></pre>\n\n<p>Repositories follow a similar pattern where <code>ProjectRepository</code> inherits a generic <code>fun findByIdAndUserId()</code> from <code>UserEntityRepository</code>:</p>\n\n<pre><code>interface UserRepository: Neo4jRepository&lt;T, Long&gt; \ninterface ProjectRepository: UserEntityRepository&lt;Project&gt;\n\n@NoRepositoryBean\ninterface UserEntityRepository&lt;T : UserEntity&gt; : Neo4jRepository&lt;T, Long&gt; {\n  fun findByIdAndUserId(id: Long, userId: Long): T?\n}\n</code></pre>\n\n<p>And finally a test:</p>\n\n<pre><code>@Test\nfun findByIdAndUserId() {\n  // Set up\n  val savedUser = userRepo.save(User(name = \"John\"))\n  val savedProject = projectRepo.save(Project(title=\"Neo4j\", user=savedUser))\n\n  // Find the project\n  var userProject = projectsRepo.findByIdAndUserId(savedProject.id!!, savedUser.id!!)\n\n  // Verify projet was found\n  assertThat(userProject).isNotNull() // ** FAILS **\n}\n</code></pre>\n\n<p>So, <code>findByIdAndUserId</code> returns null, it doesn't find the project by project id + user id. In the logs I found this query:</p>\n\n<pre><code>MATCH (n:`Project`) \nWHERE n.`id` = {id_0}\nMATCH (m0:`User`) \nWHERE m0.`id` = {user_id_1}\nMATCH (n)-[:`BELONGS_TO`]-&gt;(m0) \nWITH n \nRETURN n,[ [ (n)-[r_b1:`BELONGS_TO`]-&gt;(u1:`User`) | [ r_b1, u1 ] ] ], ID(n) \nwith params {id_0=2, user_id_1=1} \n</code></pre>\n\n<p>Which at first seems ok because the project has id 2, and the user has id 1 (I checked neo4j), but running this query manually I also get zero results.</p>\n\n<p>I found the problem is how the generated query matches <code>User</code>'s <code>id</code>, it treats it as a normal property instead of an ID. It works as intended if I swap</p>\n\n<pre><code>WHERE m0.`id` = {user_id_1}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>WHERE ID(m0) = {user_id_1}\n</code></pre>\n\n<p>A quick fix would be to add a <code>findByIdAndUserId</code> method with a custom @Query to every repository interface that inherits <code>UserEntityRepository</code>, but I'm hoping to avoid this duplication. </p>\n\n<p>Does anyone know of a workaround for this issue? Is it a bug?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-animation"], "comments": [{"owner": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "edited": false, "score": 1, "creation_date": 1517369593, "post_id": 48531784, "comment_id": 84063542, "body": "Have you tried anything yet? If so, what did you try? If not, please try to do it yourself before asking for help."}, {"owner": {"reputation": 143, "user_id": 201602, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fc3804412dc2883007b0897a7594af88?s=128&d=identicon&r=PG", "display_name": "faraklit", "link": "https://stackoverflow.com/users/201602/faraklit"}, "reply_to_user": {"reputation": 428, "user_id": 9070242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ca82e0b44926c2e76eed8b838c0aa19?s=128&d=identicon&r=PG&f=1", "display_name": "fin444", "link": "https://stackoverflow.com/users/9070242/fin444"}, "edited": false, "score": 0, "creation_date": 1517407282, "post_id": 48531784, "comment_id": 84083113, "body": "I tried looking deeply into FlingAnimation and SpringAnimation in the official android docs. It did not help. There are various examples elsewhere with google search but everyone tries to do it on its own way not using these animation sets. There should have been a best practice way."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1517988295, "post_id": 48531784, "comment_id": 84313755, "body": "See <a href=\"https://github.com/sagar-viradiya/AndroidPhysicsAnimation\" rel=\"nofollow noreferrer\">this</a> repo."}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1518440249, "post_id": 48531784, "comment_id": 84493887, "body": "Do you have source code for the project above?"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 201602, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fc3804412dc2883007b0897a7594af88?s=128&d=identicon&r=PG", "display_name": "faraklit", "link": "https://stackoverflow.com/users/201602/faraklit"}, "edited": false, "score": 0, "creation_date": 1518178560, "post_id": 48684502, "comment_id": 84409597, "body": "I am looking for Physics-Based Animation based solution. (combination of Fling and Spring Animations)"}, {"owner": {"reputation": 2034, "user_id": 4718314, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/12cc5af7d9f4f71bc0d793c15ee16b74?s=128&d=identicon&r=PG&f=1", "display_name": "Buddy", "link": "https://stackoverflow.com/users/4718314/buddy"}, "edited": false, "score": 0, "creation_date": 1518434660, "post_id": 48684502, "comment_id": 84490386, "body": "you need to write the necessary physics yourself, it shouldn&#39;t be hard to write a vectoral deceleration algorithm. you don&#39;t need a physics engine or so"}, {"owner": {"reputation": 143, "user_id": 201602, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fc3804412dc2883007b0897a7594af88?s=128&d=identicon&r=PG", "display_name": "faraklit", "link": "https://stackoverflow.com/users/201602/faraklit"}, "edited": false, "score": 0, "creation_date": 1518506035, "post_id": 48684502, "comment_id": 84522943, "body": "No there has to be a way with SpringAnimation and FlingAnimations."}], "tags": [], "owner": {"reputation": 198, "user_id": 6705247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43024103e7516d49bd137f14714cbc11?s=128&d=identicon&r=PG&f=1", "display_name": "Constantin", "link": "https://stackoverflow.com/users/6705247/constantin"}, "is_accepted": false, "score": 0, "last_activity_date": 1518089620, "creation_date": 1518089620, "answer_id": 48684502, "question_id": 48531784, "link": "https://stackoverflow.com/questions/48531784/android-physics-based-smooth-velocity-change-animation-example-code/48684502#48684502", "title": "Android Physics-Based Smooth Velocity Change Animation example code", "body": "<p>What you're looking for is time interpolation (or easing interpolation). You can create animations with different interpolators that can replicate real motion, for example a bouncing ball. </p>\n\n<p>The animation you provided most likely is using a <a href=\"https://developer.android.com/reference/android/view/animation/DecelerateInterpolator.html\" rel=\"nofollow noreferrer\">DecelerateInterpolator</a>. </p>\n\n<p>There're many interpolators and you can also create your own. There are plenty tutorials on how to implement them.</p>\n\n<p>See example: \n<a href=\"https://www.journaldev.com/9481/android-animation-example\" rel=\"nofollow noreferrer\">Some xml based animations</a>\n<a href=\"https://sproutsocial.com/insights/bounce-animation-for-android/\" rel=\"nofollow noreferrer\">Bounce animation example (programatically)</a></p>\n"}], "owner": {"reputation": 143, "user_id": 201602, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fc3804412dc2883007b0897a7594af88?s=128&d=identicon&r=PG", "display_name": "faraklit", "link": "https://stackoverflow.com/users/201602/faraklit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 720, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1518089620, "creation_date": 1517352674, "last_edit_date": 1517472269, "question_id": 48531784, "link": "https://stackoverflow.com/questions/48531784/android-physics-based-smooth-velocity-change-animation-example-code", "title": "Android Physics-Based Smooth Velocity Change Animation example code", "body": "<p>I am trying to implement a physics-based translation animation similar to the shown in the Android docs. I need a smooth change in velocity exactly same as in the example below. I searched online docs and tutorials but no way to find the shown example. Could you give sample android java or kotlin code to generate this smooth velocity change animation? I have tried <a href=\"https://developer.android.com/guide/topics/graphics/fling-animation.html\" rel=\"nofollow noreferrer\"><code>FlingAnimation</code></a> and <a href=\"https://developer.android.com/reference/android/support/animation/SpringAnimation.html\" rel=\"nofollow noreferrer\"><code>SpringAnimation</code></a>.</p>\n\n<p><a href=\"https://developer.android.com/images/guide/topics/graphics/targetchange_pba.gif\" rel=\"nofollow noreferrer\"><img src=\"https://developer.android.com/images/guide/topics/graphics/targetchange_pba.gif\" alt=\"Physics-based animation example\"></a></p>\n"}, {"tags": ["java", "kotlin", "default-value"], "answers": [{"comments": [{"owner": {"reputation": 935, "user_id": 3641245, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001849689029/picture?type=large", "display_name": "the_kaba", "link": "https://stackoverflow.com/users/3641245/the-kaba"}, "edited": false, "score": 0, "creation_date": 1517352946, "post_id": 48531785, "comment_id": 84059257, "body": "Thanks for the comment! I&#39;m investigating bytecode of kotlin right now and it produces many-many additional methods(like component for each field, some bridges e.t.c.). Moreover, we already have x$default in our case. I can&#39;t figure out why it&#39;s closed by default.."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 935, "user_id": 3641245, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001849689029/picture?type=large", "display_name": "the_kaba", "link": "https://stackoverflow.com/users/3641245/the-kaba"}, "edited": false, "score": 1, "creation_date": 1517353534, "post_id": 48531785, "comment_id": 84059451, "body": "As far as I can tell, though, method count is an important metric for the Kotlin JVM back-end: they try hard not to increase the method count in the bytecode that Kotlin generates, and most of the synthetic methods are there because there&#39;s no viable alternative to them (for example, <code>x$default</code> is required to avoid inlining the default values code at the call sites and thus not requiring the client code to recompile as the library code changes). One more point: enabling the behavior of <code>@JvmOverloads</code> by default for all functions makes no sense for Kotlin-only projects, it will only harm them"}, {"owner": {"reputation": 935, "user_id": 3641245, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001849689029/picture?type=large", "display_name": "the_kaba", "link": "https://stackoverflow.com/users/3641245/the-kaba"}, "edited": false, "score": 0, "creation_date": 1517354042, "post_id": 48531785, "comment_id": 84059605, "body": "Thanks! Now it much cleaner for me) In the &#39;only kotlin&#39; word - i agree. It makes no sense. B.t.w. for better interop with java - is there any vm argument/plugin which enables all of this stuff(@JvmOverloads, @JvmStatic e.t.c.)?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 3, "last_activity_date": 1517352676, "creation_date": 1517352676, "answer_id": 48531785, "question_id": 48531600, "link": "https://stackoverflow.com/questions/48531600/why-its-possible-to-call-kotlins-constructor-with-default-param-but-not-a-meth/48531785#48531785", "title": "Why it&#39;s possible to call kotlin&#39;s constructor with default param but not a method?", "body": "<p>I believe, the considerations behind the current design were based on the fact that presence of a default (no-argument) constructor in a class is a widely used convention on JVM: there are many libraries and frameworks that rely on it (e.g. dependency injection tools, JSR-305). So, generating a no-argument constructor when there are default values for all of the parameters supports these use cases and might be expected by the users.</p>\n\n<p>On contrary, functions usually don't have default values for all of their parameters, and I don't think it's needed by any idiom in the Java world. Moreover, you can expect many functions with default values in Kotlin classes, and generating the overloads for them by default would result into undesirable method count growth, which is in particular important for Android.</p>\n"}], "owner": {"reputation": 935, "user_id": 3641245, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001849689029/picture?type=large", "display_name": "the_kaba", "link": "https://stackoverflow.com/users/3641245/the-kaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1517352676, "creation_date": 1517351504, "question_id": 48531600, "link": "https://stackoverflow.com/questions/48531600/why-its-possible-to-call-kotlins-constructor-with-default-param-but-not-a-meth", "title": "Why it&#39;s possible to call kotlin&#39;s constructor with default param but not a method?", "body": "<p>I'm curious why it's possible to call kotlin's constructor with default param but not a method from java code? </p>\n\n<p>For example:</p>\n\n<pre><code>class Test(val test: String = \"\")\n</code></pre>\n\n<p>Java client:</p>\n\n<pre><code>void test() {\n        new Test();\n}\n</code></pre>\n\n<p>It's ok.</p>\n\n<p>But if i want to do the same trick with method, it's not possible:</p>\n\n<pre><code>class Test {\n    fun x(x: Int = 5) { }\n}\n</code></pre>\n\n<p>Java client, compilation error:</p>\n\n<pre><code>void test() {\n        new Test().x();\n}\n</code></pre>\n\n<p>In the decompiled to java bytecode of the method i see </p>\n\n<blockquote>\n  <p>x$default</p>\n</blockquote>\n\n<p>method. It is static and I can't call it from java(idea doesn't allow me to do it). And only addition of </p>\n\n<blockquote>\n  <p>@JvmOverloads</p>\n</blockquote>\n\n<p>annotation on the kotlin's method with default arg creates one more method which is accessible from the java side.</p>\n\n<p>The question is why there are two approaches how to call kotlin's defaults from java? Why not to do everything accessible/not accessible by default? Is it a bad design or there was serious reason to do so? </p>\n"}, {"tags": ["hashmap", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2059, "user_id": 6950859, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/034851bd177962980fdc2f79b08c7639?s=128&d=identicon&r=PG&f=1", "display_name": "cela", "link": "https://stackoverflow.com/users/6950859/cela"}, "is_accepted": false, "score": 0, "last_activity_date": 1605215214, "last_edit_date": 1605215214, "creation_date": 1517348476, "answer_id": 48530986, "question_id": 48530786, "link": "https://stackoverflow.com/questions/48530786/kotlin-find-most-common-element-in-collection/48530986#48530986", "title": "Kotlin: Find most common element in collection", "body": "<p>I did a little research about null safety in Kotlin, and I am assuming my error comes from the fact that <code>newMap.get(item)</code> could be null.</p>\n<p>So here is my updated working code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>for (item in input) {\n    if (newMap.containsKey(item)) {\n        newMap.set(item, newMap.get(item) !!+1)\n    } else newMap.put(item, 1)\n}\n</code></pre>\n<p>By adding <code>!!</code>, it converts the value to a non-null type and throws an error if it is null, allowing me to add 1 to the value. This notation assumes <code>newMap.get(item)</code> is never null, so you have to be careful.</p>\n"}, {"comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1517354977, "post_id": 48531720, "comment_id": 84059912, "body": "Wasn&#39;t aware of groupingBy. New of groupBy, but this will solve different problems. Nice!"}, {"owner": {"reputation": 2059, "user_id": 6950859, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/034851bd177962980fdc2f79b08c7639?s=128&d=identicon&r=PG&f=1", "display_name": "cela", "link": "https://stackoverflow.com/users/6950859/cela"}, "edited": false, "score": 0, "creation_date": 1517418698, "post_id": 48531720, "comment_id": 84091370, "body": "Wow, this is slick. I had quick follow up question about the <code>{ it }</code>. What exactly is that doing, does it stand for the elements in the input?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1517418766, "post_id": 48531720, "comment_id": 84091412, "body": "Exactly, it is the current element from input itself, you normally use it to map to some element&#39;s attribute e.g. but in your case it&#39;s simply the integer directly :)"}, {"owner": {"reputation": 2138, "user_id": 2414975, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/in7bs.jpg?s=128&g=1", "display_name": "groff07", "link": "https://stackoverflow.com/users/2414975/groff07"}, "edited": false, "score": 1, "creation_date": 1555365135, "post_id": 48531720, "comment_id": 98077712, "body": "How about if I have two inputs with the same quantity? e.g: {2=5,3=5} What&#39;s maxBy{it.value}?.key will return? How to return the min key or the max key in that case?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 18, "last_activity_date": 1517354923, "last_edit_date": 1517354923, "creation_date": 1517352297, "answer_id": 48531720, "question_id": 48530786, "link": "https://stackoverflow.com/questions/48530786/kotlin-find-most-common-element-in-collection/48531720#48531720", "title": "Kotlin: Find most common element in collection", "body": "<p>As you already noticed, the error was related to nullability-handling. I'd suggest a more functional approach without explicit looping but simple grouping:</p>\n\n<pre><code>val numbersByElement = input.groupingBy { it }.eachCount()\n//gives something like this {1=3, 2=5, 3=4, 5=2, 4=1}\n</code></pre>\n\n<p>The result is a Map with the elements from <code>input</code> as its keys and the number of occurrences of the elements as the corresponding values.</p>\n\n<p>You can now find the most common element with <code>maxBy</code>:</p>\n\n<pre><code>numbersByElement.maxBy { it.value }?.key // gives an Int?\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517418979, "post_id": 48542523, "comment_id": 84091539, "body": "great solution although it&#39;s Java :-)"}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 7, "last_activity_date": 1517402600, "creation_date": 1517402600, "answer_id": 48542523, "question_id": 48530786, "link": "https://stackoverflow.com/questions/48530786/kotlin-find-most-common-element-in-collection/48542523#48542523", "title": "Kotlin: Find most common element in collection", "body": "<p><code>Map.get</code> returns an <code>Int?</code>, i.e. if no item is found, <code>null</code> will be returned. You can utilize the elvis operator to deal with that:</p>\n\n<pre><code>val newMap = mutableMapOf&lt;Int, Int&gt;()\n\nfor (item in input) {\n    newMap[item] = (newMap[item] ?: 0) + 1\n}\n</code></pre>\n\n<p>Another alternative is to use Java 8's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>Map.merge</code></a>:</p>\n\n<pre><code>newMap.merge(item, 1) { i, j -&gt; i + j }\n// or the equivalent\nnewMap.merge(item, 1, Int::plus)\n</code></pre>\n\n<p>This will put <code>1</code> in the map, if the key is not present yet, and otherwise apply the lambda to the old and new value, in our case add the old value to the new value and store the result under the key.</p>\n"}, {"tags": [], "owner": {"reputation": 5810, "user_id": 2547017, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/8916fcee33c7955aa821e07f5648f8a9?s=128&d=identicon&r=PG", "display_name": "Ishan Bhatt", "link": "https://stackoverflow.com/users/2547017/ishan-bhatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1582970663, "creation_date": 1582970663, "answer_id": 60463929, "question_id": 48530786, "link": "https://stackoverflow.com/questions/48530786/kotlin-find-most-common-element-in-collection/60463929#60463929", "title": "Kotlin: Find most common element in collection", "body": "<p>I think the following should work.</p>\n\n<pre><code>val arr = listOf(1,2,3,4,5,6,7,3,4,2,3,1,4,5,2,7,8,2,3,3,3,3)\nval maxOccurring = arr.groupBy { it }.mapValues { it.value.size }.maxBy { it.value }?.key\n</code></pre>\n\n<p>Returns 3 in this case.</p>\n"}, {"tags": [], "owner": {"reputation": 589, "user_id": 13782111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jY2NX.jpg?s=128&g=1", "display_name": "Minki", "link": "https://stackoverflow.com/users/13782111/minki"}, "is_accepted": false, "score": 0, "last_activity_date": 1594886731, "creation_date": 1594886731, "answer_id": 62930228, "question_id": 48530786, "link": "https://stackoverflow.com/questions/48530786/kotlin-find-most-common-element-in-collection/62930228#62930228", "title": "Kotlin: Find most common element in collection", "body": "<p>elegant nullsafe solution with Kotlin-1.4 preview</p>\n<pre><code>@Test\nfun testFindOutMostCommonStringInList() {\n    val mostCommon = findMostCommonInList(listOf(&quot;Foo&quot;, &quot;Boo&quot;, null, &quot;Foo&quot;, &quot;Hello&quot;))\n    assertEquals(&quot;Foo&quot;, mostCommon)\n}\n\n@Test\nfun testFindOutMostCommonIntInList() {\n    val mostCommon = findMostCommonInList(listOf(1, 2, null, 3, 4, 5, 1))\n    assertEquals(1, mostCommon)\n}\n\nprivate fun &lt;T&gt;findMostCommonInList(list : List&lt;T&gt;) : T? {\n    return list\n        .groupBy { it }\n        .maxByOrNull { it.value.size }\n        ?.key\n}\n</code></pre>\n"}], "owner": {"reputation": 2059, "user_id": 6950859, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/034851bd177962980fdc2f79b08c7639?s=128&d=identicon&r=PG&f=1", "display_name": "cela", "link": "https://stackoverflow.com/users/6950859/cela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4016, "favorite_count": 3, "accepted_answer_id": 48531720, "answer_count": 5, "score": 9, "last_activity_date": 1605215214, "creation_date": 1517347597, "last_edit_date": 1543389670, "question_id": 48530786, "link": "https://stackoverflow.com/questions/48530786/kotlin-find-most-common-element-in-collection", "title": "Kotlin: Find most common element in collection", "body": "<p>I am writing a function that iterates through a collection and finds the most common items occurring in it. </p>\n\n<p>Here is what I have so far to get the values and add the number of times they appear in the collection. I'm putting the value into a map as a key and the number of times it appears as its value.</p>\n\n<pre><code>fun mostCommon(input: Collection&lt;Int&gt;): Set&lt;Int&gt; {\n    var newMap: MutableMap&lt;Int, Int&gt; = HashMap()\n    for (item in input) {\n        if (newMap.containsKey(item)) {\n            //TODO: add 1 to value if key is found\n        }else {\n            newMap.put(item, 1)\n        }\n    }\n    return emptySet()\n}\n</code></pre>\n\n<p>I am having trouble finding a way to add 1 to its value if the key already exists.</p>\n\n<p>I tried doing this:</p>\n\n<pre><code>newMap[item] +=1\n</code></pre>\n\n<p>But I get an error about plusAssign(1) not being allowed on Nullable receiver.</p>\n"}, {"tags": ["annotations", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1517346319, "post_id": 48530402, "comment_id": 84056292, "body": "You should read the rest of the comments in the <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/runtime.jvm/src/kotlin/Metadata.kt\" rel=\"nofollow noreferrer\">source</a> of the annotation and check out <a href=\"https://stackoverflow.com/q/36816521/4465208\">this question</a>."}, {"owner": {"reputation": 248, "user_id": 3116100, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/k97z7.gif?s=128&g=1", "display_name": "SWAppDev", "link": "https://stackoverflow.com/users/3116100/swappdev"}, "edited": false, "score": 0, "creation_date": 1547995537, "post_id": 48530402, "comment_id": 95377046, "body": "still no anwser ?"}], "owner": {"reputation": 935, "user_id": 3641245, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100001849689029/picture?type=large", "display_name": "the_kaba", "link": "https://stackoverflow.com/users/3641245/the-kaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 930, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1559395793, "creation_date": 1517345928, "last_edit_date": 1592644375, "question_id": 48530402, "link": "https://stackoverflow.com/questions/48530402/how-to-interpret-kotlins-metadata-annotation-content", "title": "How to interpret kotlin&#39;s @Metadata annotation content?", "body": "<p>I know that kotlin generates @Metadata annotation for each compiled class. I also saw the comment on this type:</p>\n<p><em>This annotation is present on any class file produced by the Kotlin compiler and is read by the compiler and reflection.</em></p>\n<p>The question is how it is used by the compiler(assuming that it's a result of compilation)?</p>\n<p>And I'll ask help with interpretation of content of the annotation. For example, this one:</p>\n<pre><code>@Metadata(\n   mv = {1, 1, 9},\n   bv = {1, 0, 2},\n   k = 1,\n   d1 = {&quot;\\u0000\\f\\n\\u0002\\u0018\\u0002\\n\\u0002\\u0010\\u0000\\n\\u0002\\b\\u0003\\u0018\\u0000 \\u00032\\u00020\\u0001:\\u0001\\u0003B\\u0005\u00a2\\u0006\\u0002\\u0010\\u0002\u00a8\\u0006\\u0004&quot;},\n   d2 = {&quot;LMain;&quot;, &quot;&quot;, &quot;()V&quot;, &quot;Companion&quot;, &quot;production sources for module kotlin-examples&quot;}\n)\n</code></pre>\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "deferred", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517342896, "post_id": 48529579, "comment_id": 84054689, "body": "Explicitly checking <code>isActive</code> is necessary only for loops that almost never get suspended. In OP&#39;s case, the coroutine will be suspended until the response comes in, and if it&#39;s canceled in that state, it won&#39;t resume."}, {"owner": {"reputation": 853, "user_id": 7652387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c3cd1a96fb365ccb4ccff20a82e0aa?s=128&d=identicon&r=PG&f=1", "display_name": "toffor", "link": "https://stackoverflow.com/users/7652387/toffor"}, "edited": false, "score": 0, "creation_date": 1517376680, "post_id": 48529579, "comment_id": 84065474, "body": "This is not working. Deferred&lt;&gt;.cancel  not working after await called. I need an another good design."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517379066, "post_id": 48529579, "comment_id": 84066394, "body": "What do you mean by &quot;after&quot;? You can&#39;t expect to cancel a call from the same coroutine where you called <code>await</code>, that&#39;s a contradiction."}, {"owner": {"reputation": 853, "user_id": 7652387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c3cd1a96fb365ccb4ccff20a82e0aa?s=128&d=identicon&r=PG&f=1", "display_name": "toffor", "link": "https://stackoverflow.com/users/7652387/toffor"}, "edited": false, "score": 0, "creation_date": 1517382597, "post_id": 48529579, "comment_id": 84067877, "body": "In viewMode class there is a field, val data = MutableLiveData&lt;User&gt;() When response returns we set new user to data. Assume that user requested with keyword &quot;jo&quot; then response return and viewmodel set the data value. But user keep typing and make the keyword &quot;joh&quot; then if viewmodel dont cancel previous request data will be wrong because of &quot;jo&quot; requests response. In retrofit2 with call or rxjava2 with disposable we can make call.cancel or disposable.dispose and request again with new keyword. How can we handle this case with coroutines. I hope i am clear enough."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1517342457, "creation_date": 1517342457, "answer_id": 48529579, "question_id": 48529191, "link": "https://stackoverflow.com/questions/48529191/retrofit-2-with-coroutine-call-adapter-factory-cancel-request/48529579#48529579", "title": "Retrofit 2 with coroutine call adapter factory cancel request", "body": "<p>If you want to cancel a coroutine, you can do that as explained in this <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#cancelling-coroutine-execution\" rel=\"nofollow noreferrer\">guide</a>. You need to invoke <code>cancel</code> on the <code>Job</code> that is returned from <code>launch</code>:</p>\n\n<pre><code>val job = launch {\n   //...\n}\n\njob.cancel() // cancels the job \n</code></pre>\n\n<p>But it's very important to know that <em>Coroutine cancellation is cooperative</em>, i.e. the block executed in the coroutine needs to react on the cancellation from outside the coroutine. You can check the state with <code>isActive</code> as described <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#making-computation-code-cancellable\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>As for your example, you would have to be able to cancel the computation of <code>Client.provideService().getUsers()</code> as soon as <code>isActive</code> becomes <code>true</code>.</p>\n"}], "owner": {"reputation": 853, "user_id": 7652387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c3cd1a96fb365ccb4ccff20a82e0aa?s=128&d=identicon&r=PG&f=1", "display_name": "toffor", "link": "https://stackoverflow.com/users/7652387/toffor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1435, "favorite_count": 0, "accepted_answer_id": 48529579, "answer_count": 1, "score": 1, "last_activity_date": 1517342457, "creation_date": 1517340856, "question_id": 48529191, "link": "https://stackoverflow.com/questions/48529191/retrofit-2-with-coroutine-call-adapter-factory-cancel-request", "title": "Retrofit 2 with coroutine call adapter factory cancel request", "body": "<p>I am trying to implement dynamic search functionality in my android application using retrofit2 with coroutine call adapter factory. When user type keyword and if keyword length is valid then app make request to server. In single request i can request like below</p>\n\n<pre><code>launch(UI) {\n        try {\n            val user = Client.provideService().getUsers()\n            //do sometihng with user.await()\n        }catch (e: Exception){\n            //Handle exception\n        }\n    }\n</code></pre>\n\n<p>but what if i want to cancel every previous request and make new request when user changes the editable ? I search a lot for an example but i cant find anything useful. Thanks for help.</p>\n"}, {"tags": ["multithreading", "kotlin", "synchronization", "locking"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1517338995, "last_edit_date": 1517338995, "creation_date": 1517338907, "answer_id": 48528705, "question_id": 48528671, "link": "https://stackoverflow.com/questions/48528671/kotlin-concurrency-any-standard-function-to-run-code-in-a-lock/48528705#48528705", "title": "Kotlin Concurrency: Any standard function to run code in a Lock?", "body": "<p>You are looking for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.concurrent/java.util.concurrent.locks.-lock/with-lock.html\" rel=\"nofollow noreferrer\"><code>withLock</code></a>, which has the exact <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.0/libraries/stdlib/src/kotlin/concurrent/Locks.kt#L30\" rel=\"nofollow noreferrer\">implementation</a> you've written yourself, except it has a generic parameter for the result of the block instead of the receiver type.</p>\n\n<p>You can find other concurrency related methods of the standard library <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.concurrent/index.html\" rel=\"nofollow noreferrer\">here</a>, in the <code>kotlin.concurrent</code> package.</p>\n"}], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 48528705, "answer_count": 1, "score": 0, "last_activity_date": 1574769020, "creation_date": 1517338783, "last_edit_date": 1574769020, "question_id": 48528671, "link": "https://stackoverflow.com/questions/48528671/kotlin-concurrency-any-standard-function-to-run-code-in-a-lock", "title": "Kotlin Concurrency: Any standard function to run code in a Lock?", "body": "<p>I've been searching for a function that takes an object of type <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\"><code>Lock</code></a>\nand runs a block of code with that lock taking care of locking and also unlocking.</p>\n\n<p>I'd implement it as follows:</p>\n\n<pre><code>fun &lt;T : Lock&gt; T.runLocked(block: () -&gt; Unit) {\n    lock()\n    try {\n        block()\n    } finally {\n        unlock()\n    }\n}\n</code></pre>\n\n<p>Used like this:</p>\n\n<pre><code>val l = ReentrantLock()\nl.runLocked {\n    println(l.isLocked)\n}\n\nprintln(l.isLocked)\n//true\n//false\n</code></pre>\n\n<p>Anything available like this? I could only find the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/synchronized.html\" rel=\"nofollow noreferrer\"><code>synchronized</code></a> function which cannot be used like this.</p>\n"}, {"tags": ["android", "kotlin", "material-design", "android-drawable", "android-elevation"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1523516378, "post_id": 48528576, "comment_id": 86594787, "body": "Seems like a duplicate of <a href=\"https://stackoverflow.com/questions/32286229/elevation-in-a-view-with-transparent-background\">this</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1664, "user_id": 7825132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Dhto.png?s=128&g=1", "display_name": "serg3z", "link": "https://stackoverflow.com/users/7825132/serg3z"}, "is_accepted": false, "score": 4, "last_activity_date": 1523627343, "last_edit_date": 1523627343, "creation_date": 1523625430, "answer_id": 49817987, "question_id": 48528576, "link": "https://stackoverflow.com/questions/48528576/view-setbackground-with-drawable-remove-the-elevations-shadows/49817987#49817987", "title": "View setBackground with drawable remove the elevation&#39;s shadows", "body": "<p>It is trouble from 2014 <a href=\"https://issuetracker.google.com/issues/37008403\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/37008403</a></p>\n\n<hr>\n\n<p>Decision 1</p>\n\n<p>Do not use colors with transparency for background CardView</p>\n\n<hr>\n\n<p>Decision 2</p>\n\n<p>Set background for View or ViewGroup inside the CardView instead of this cardView, then everything works correctly</p>\n\n<p><a href=\"https://i.stack.imgur.com/nMdPy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nMdPy.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 430, "user_id": 6822731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/5a1hr.jpg?s=128&g=1", "display_name": "doums", "link": "https://stackoverflow.com/users/6822731/doums"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1523627343, "creation_date": 1517338396, "last_edit_date": 1517339316, "question_id": 48528576, "link": "https://stackoverflow.com/questions/48528576/view-setbackground-with-drawable-remove-the-elevations-shadows", "title": "View setBackground with drawable remove the elevation&#39;s shadows", "body": "<p>I try to implement the Material Design's elevation concept to my RecyclerView.</p>\n\n<p>For each item of the RecyclerView I use this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.CardView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/card_view\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"5dp\"\n    card_view:cardCornerRadius=\"0dp\"\n    android:elevation=\"2dp\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"&gt;\n        &lt;TextView\n        .../&gt;\n\n        &lt;CheckBox\n        .../&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n\n<p>When I select item, I apply programmatically a drawable to the background for effect, and I set the elevation to 8dp as advised by Material Design specifications.</p>\n\n<pre><code>        val draw = ResourcesCompat.getDrawable(resources, R.drawable.selected_task, null)\n        draw?.setColorFilter(task.color.aRGB.toInt(), PorterDuff.Mode.OVERLAY)\n        view.background = draw\n        view.elevation = 8F\n</code></pre>\n\n<p>(I code in Kotlin)\nThe drawable:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:shape=\"rectangle\"&gt;\n    &lt;stroke\n        android:width=\"2dp\"\n        android:color=\"@color/select_border\"/&gt;\n    &lt;solid\n        android:color=\"@color/select_fill\"/&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p>and the colors values</p>\n\n<pre><code>&lt;color name=\"select_border\"&gt;#78000000&lt;/color&gt;\n&lt;color name=\"select_fill\"&gt;#32000000&lt;/color&gt;\n</code></pre>\n\n<p>The problem is when I select one item, the drawable is nicly applied but the shadows are tottaly removed and not amplified !\nAnd if I not set the background with the drawable, it's works well. The shadows are amplified like expected.</p>\n\n<p>What is the problem ?</p>\n"}, {"tags": ["lambda", "kotlin", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 1, "creation_date": 1517338957, "post_id": 48528504, "comment_id": 84052504, "body": "Great great explanation, I must have been very tired, this makes complete sense."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 1, "creation_date": 1517339042, "post_id": 48528504, "comment_id": 84052554, "body": "It&#39;s one of those gotchas that everyone using Kotlin and Rx are bound to spend a couple hours debugging, unfortunately. It happens with other Rx classes and operators too."}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1517339127, "post_id": 48528504, "comment_id": 84052597, "body": "Brain melt :D it&#39;s the same thing that&#39;s hurting my brain trying to learn Haskell"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1517338124, "creation_date": 1517338124, "answer_id": 48528504, "question_id": 48528325, "link": "https://stackoverflow.com/questions/48528325/rxkotlin-lambda-understanding/48528504#48528504", "title": "RXKotlin Lambda Understanding", "body": "<p>With the curly braces, you're using <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a> and defining an anonymous <code>CompletableSource</code> instance by describing its single method inside the lambda. </p>\n\n<p>This is the same as doing the following:</p>\n\n<pre><code>Completable.complete()\n        .andThen(object: CompletableSource {\n            override fun subscribe(cs: CompletableObserver) {\n                Completable.complete()\n            }\n        })\n        .test()\n        .assertComplete()\n</code></pre>\n\n<p>As you can see, inside this <code>CompletableSource</code> you're doing nothing but creating a <code>Completable</code> instance and throwing away its result. For the chain to continue, you'd have to call methods on the <code>CompleteableObserver</code> that you've received as a parameter (for example, you could call <code>onNext()</code> and <code>onComplete()</code> on it).</p>\n\n<hr>\n\n<p>Although it's almost the same syntax, here's the Java version, in case it helps you understand things:</p>\n\n<pre><code>Completable.complete()\n        .andThen(new CompletableSource() {\n            @Override\n            public void subscribe(CompletableObserver cs) {\n                Completable.complete();\n            }\n        })\n        .test()\n        .assertComplete();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1517338185, "creation_date": 1517338185, "answer_id": 48528522, "question_id": 48528325, "link": "https://stackoverflow.com/questions/48528325/rxkotlin-lambda-understanding/48528522#48528522", "title": "RXKotlin Lambda Understanding", "body": "<ol>\n<li><p>The valid example in parentheses works as follows:</p>\n\n<p><code>Completable.complete()</code> is executed and then passed as an argument to <code>andThen</code>.</p></li>\n<li><p>The invalid one does simply pass a lambda in curly braces as an argument to <code>andThen</code>, which becomes an implementation (thanks to <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM Conversion</a>) of <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/CompletableSource.html\" rel=\"nofollow noreferrer\"><code>CompletableSource</code></a>. It never gets executed. The following shows what you do:</p>\n\n<pre><code>val compl = CompletableSource { Completable.complete() }\nCompletable.complete()\n    .andThen (compl)\n    .test()\n    .assertComplete()\n    .assertComplete()\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 48528504, "answer_count": 2, "score": 1, "last_activity_date": 1517338311, "creation_date": 1517337400, "last_edit_date": 1517338311, "question_id": 48528325, "link": "https://stackoverflow.com/questions/48528325/rxkotlin-lambda-understanding", "title": "RXKotlin Lambda Understanding", "body": "<p>This never completes:</p>\n\n<pre><code>Completable.complete()\n        .andThen{ Completable.complete() }\n        .test()\n        .assertComplete()\n</code></pre>\n\n<p>This does complete:</p>\n\n<pre><code>Completable.complete()\n        .andThen(Completable.complete())\n        .test()\n        .assertComplete()\n</code></pre>\n\n<p>According to Jake Wharton:</p>\n\n<p>\"You want <code>andThen(Completable.complete())</code>. Note the use of parenthesis and\nnot curly braces. The latter creates a lambda that doesn't call its emitter.\"</p>\n\n<p>Reference: <a href=\"https://github.com/ReactiveX/RxJava/issues/5551\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/RxJava/issues/5551</a></p>\n\n<p>Can anyone explain this in more detail? I thought I understood lambda's but this has really thrown me. </p>\n"}, {"tags": ["android", "kotlin", "conductor"], "answers": [{"tags": [], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "is_accepted": true, "score": 0, "last_activity_date": 1517465834, "last_edit_date": 1517465834, "creation_date": 1517342594, "answer_id": 48529617, "question_id": 48526008, "link": "https://stackoverflow.com/questions/48526008/get-activity-from-conductor-controller/48529617#48529617", "title": "get activity from conductor controller", "body": "<p>I found the solution of this issue:\nIt's very simple. The view.context is already the MyActivity and I just need to cast it:</p>\n\n<pre><code>GoogleApiClient.Builder(view.context).enableAutoManage(view.context as MyActivity, this)\n</code></pre>\n\n<p>You also can get parent <code>activity</code> just by calling <code>getActivity()</code> in your <code>controller</code></p>\n"}], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 0, "accepted_answer_id": 48529617, "answer_count": 1, "score": 1, "last_activity_date": 1517465834, "creation_date": 1517329168, "last_edit_date": 1517330966, "question_id": 48526008, "link": "https://stackoverflow.com/questions/48526008/get-activity-from-conductor-controller", "title": "get activity from conductor controller", "body": "<p>I'm using <code>conductor</code> and I want to initialize <code>GoogleApiClient</code> in it.\nAs it is told in <code>conductor</code> doc, Conductor is made for replacing a <code>Fragment</code>. In <code>Fragment</code> I can easily get an <code>activity</code>. Is there a way do to that in <code>conductor</code>?</p>\n\n<pre><code>class SignInController : Controller(), GoogleApiClient.OnConnectionFailedListener {\n\n    private lateinit var mGoogleApiClient: GoogleApiClient\n    private lateinit var mFirebaseAuth: FirebaseAuth\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup): View {\n        val view = inflater.inflate(R.layout.controller_sign_in, container, false)\n        val gso = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(view.context.getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build()\n        mGoogleApiClient = GoogleApiClient.Builder(view.context)\n                .enableAutoManage(view.context /* I need an activity here */, this /* OnConnectionFailedListener */)\n                .addApi(Auth.GOOGLE_SIGN_IN_API, gso)\n                .build()\n\n        mFirebaseAuth = FirebaseAuth.getInstance()\n\n        return view\n    }\n}\n</code></pre>\n\n<p>I tried to use a <code>view.context</code> instead of <code>activity</code> but it doesn't work. It requires only <code>FragmentActivty</code>.\nHow to initialize <code>GoogleApiClient</code> inside conductor or to pass it there?\nI wouldn't like to use <code>DI</code> here.</p>\n"}, {"tags": ["kotlin", "rx-java2", "project-reactor"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 1, "creation_date": 1517324801, "post_id": 48524507, "comment_id": 84043854, "body": "Because of <code>callApi(firstResult)</code>: you consume <code>firstResult</code> twice."}, {"owner": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1517325169, "post_id": 48524507, "comment_id": 84044102, "body": "So why would that result in the API being called twice? Consuming the result twice I get, but the API should only be called once. (Using reactivex, this code worked as expected)"}, {"owner": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1517325341, "post_id": 48524507, "comment_id": 84044194, "body": "What is the suggested pattern for chained calls where the second needs the result from the first - block on the first call?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1517325509, "post_id": 48524507, "comment_id": 84044323, "body": "Just apply <code>doOnSubscribe()</code> to <code>firstResult</code> and print the current stacktrace to see who is calling. You&#39;ll see zip will subscribe to <code>firstResult</code> twice, once directly, once through that <code>map-map-flatMap</code> chain. What reactivex are you talking about. Use <code>flatMap</code> to do dependent flows. Also you don&#39;t need zip in this case but just keep the <code>firstResult</code> value around."}], "answers": [{"comments": [{"owner": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "edited": false, "score": 0, "creation_date": 1517355832, "post_id": 48524929, "comment_id": 84060197, "body": "Thanks @akarnokd. There is something I don&#39;t understand. I can see two subscriptions, I get that part, but why would that result in two API calls? The behaviour I would expect as a consumer of Mono is either for the second subscription to throw an exception when it attempts to resolve, or for it to do nothing, not for the underlying side-effect to happen twice, and silently. Or is the idea that multiple subscriptions on the same Mono will result in multiple results? Can you point me to any documentation that explains this behaviour?"}, {"owner": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "edited": false, "score": 0, "creation_date": 1517355959, "post_id": 48524929, "comment_id": 84060233, "body": "I was using the RxJava type Single in an early iteration of this code and I <i>think</i> it was behaving as I would expect - I didn&#39;t observe two API calls. The switch to Mono introduced it."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "edited": false, "score": 0, "creation_date": 1517356462, "post_id": 48524929, "comment_id": 84060356, "body": "Mono and Single by default are cold sources, that means every subscriber triggers a fresh execution. <a href=\"http://projectreactor.io/docs/core/release/reference/#reactor.hotCold\" rel=\"nofollow noreferrer\">See the documentation</a>. It is possible your <code>Single</code> was cached but without the source code of the network call, I can&#39;t say for sure."}, {"owner": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "edited": false, "score": 0, "creation_date": 1517357554, "post_id": 48524929, "comment_id": 84060635, "body": "You say &#39;by default&#39; - is there a way of configuring the behaviour of a Mono/Single such that they behave differently?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "edited": false, "score": 0, "creation_date": 1517383730, "post_id": 48524929, "comment_id": 84068361, "body": "They are designed as such but you can apply operators to make them hot via cache() or toFlux().replay()"}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 2, "last_activity_date": 1517325879, "creation_date": 1517325879, "answer_id": 48524929, "question_id": 48524507, "link": "https://stackoverflow.com/questions/48524507/is-this-a-bug-in-reactors-mono/48524929#48524929", "title": "Is this a bug in Reactor&#39;s Mono?", "body": "<blockquote>\n  <p>Why does the first api call happen twice</p>\n</blockquote>\n\n<p><code>zip</code> will subscribe to <code>firstResult</code> twice, once directly, once through that <code>map-map-flatMap</code> chain</p>\n\n<p>You don't need <code>zip</code> in this case but just <code>flatMap</code> over and back:</p>\n\n<pre><code>val firstResult = callApi().doOnSuccess { r -&gt; println(\"callApi returned: $r\") }\n\nval lastResult = firstResult\n        .flatMap { first -&gt; \n            Mono.just(first)\n                .map { guid -&gt; guid.find { c -&gt; c.isDigit() } }\n                .map { Character.getNumericValue(it!!) }\n                .flatMap { i -&gt; callApi(i) }\n                .map { second -&gt; \"First result is ${first}Second result is $second\" }\n        }\n\nlastResult.block()\n</code></pre>\n"}], "owner": {"reputation": 1114, "user_id": 1479480, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7ba33cfaa140654a69f6713d5b0a9bac?s=128&d=identicon&r=PG", "display_name": "jimmy_terra", "link": "https://stackoverflow.com/users/1479480/jimmy-terra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 583, "favorite_count": 0, "accepted_answer_id": 48524929, "answer_count": 1, "score": 0, "last_activity_date": 1517326338, "creation_date": 1517324636, "last_edit_date": 1517326338, "question_id": 48524507, "link": "https://stackoverflow.com/questions/48524507/is-this-a-bug-in-reactors-mono", "title": "Is this a bug in Reactor&#39;s Mono?", "body": "<p>I've noticed some strange behavior when using Reactor. The scenario is this:</p>\n\n<ul>\n<li>Make a call to a rest API endpoint, fetch a value, wrapped in a Mono</li>\n<li>Call another rest API endpoint with the above value, retrieve another value, wrapped in a Mono</li>\n<li>Zip the two results </li>\n</ul>\n\n<p>What appears to happen is onSubscribe(FluxMap.MapSubscriber) gets called twice for the first API call, which then opens two connections and produces two results. The result that gets passed to the second API call is non-deterministic and depends whether the second API call executes before or after the second of the two previous calls finishes.</p>\n\n<p>This is code sample to reproduce the issue, using Kotlin and Springboot WebClient. The API endpoint either generates a single GUID, or a number of GUIDs depending on the path parameter. I use the first digit in the result of the first call as the path param in the second call:</p>\n\n<pre><code>val api = \"https://www.uuidgenerator.net/api/guid\"\nval client = WebClient.builder()\n        .baseUrl(api)\n        .build()\n\n@Test\npublic fun reactorBug() {\n\n    val firstResult = callApi().doOnSuccess { r -&gt; println(\"callApi returned: $r\") }\n    val secondResult = callApi(firstResult).doOnSuccess { r -&gt; println(\"callApi(result) returned: $r\") }\n\n    println(Mono.zip(firstResult, secondResult, { first, second -&gt; \"First result is ${first}Second result is $second\" }).block())\n}\n\nprivate fun callApi(): Mono&lt;String&gt; {\n    println(\"Calling Api\")\n    return client.get().retrieve().bodyToMono()\n}\n\nprivate fun callApi(number: Int): Mono&lt;String&gt; {\n    println(\"Calling Api with $number\")\n    return client.get().uri(\"/{number}\", number).retrieve().bodyToMono()\n}\n\nprivate fun callApi(firstResult: Mono&lt;String&gt;): Mono&lt;String&gt; {\n    println(\"Extracting number from first result\")\n    return firstResult\n            .map { guid -&gt; guid.find { c -&gt; c.isDigit() } }\n            .map { Character.getNumericValue(it!!) }\n            .flatMap { i -&gt; callApi(i) }\n}\n</code></pre>\n\n<p>This is an example output illustrating the issue:</p>\n\n<blockquote>\n  <p>Calling Api<br>\n  Extracting number from first result<br>\n  callApi returned: 12ec857b-e42c-42ab-a7a2-69beb9a377e3<br>\n  callApi returned: 5eedefa5-73b5-4995-aef3-8621e31b698d <strong>&lt;- this result shouldn't happen</strong><br>\n  Calling Api with 5 <strong>&lt;- this should be 1, not 5</strong><br>\n  callApi(result) returned:<br>\n  01c64488-6a8c-4400-9094-6729c64a4e1a<br>\n  0179beae-d2b4-40b6-8489-52fa58deb25f<br>\n  8f814b1d-594c-4392-a4f5-04d417367add<br>\n  45891d71-61b2-4d5b-81ad-2cfd8e453377<br>\n  08edf0c3-3614-402b-8b17-000fdedce1a0<br>\n  First result is 12ec857b-e42c-42ab-a7a2-69beb9a377e3<br>\n  Second result is<br>\n  01c64488-6a8c-4400-9094-6729c64a4e1a<br>\n  0179beae-d2b4-40b6-8489-52fa58deb25f<br>\n  8f814b1d-594c-4392-a4f5-04d417367add<br>\n  45891d71-61b2-4d5b-81ad-2cfd8e453377<br>\n  08edf0c3-3614-402b-8b17-000fdedce1a0  </p>\n</blockquote>\n\n<p>Edited debug output:</p>\n\n<p><strong>30-01-2018 22:36:11.889 [main] DEBUG o.s.web.reactive.function.client.debug - onSubscribe(FluxMap.MapSubscriber)</strong><br>\n30-01-2018 22:36:11.920 [main] DEBUG o.s.web.reactive.function.client.debug - request(unbounded)<br>\n30-01-2018 22:36:11.924 [main] DEBUG io.netty.util.NetUtil.debug - -Djava.net.preferIPv4Stack: false<br>\n30-01-2018 22:36:11.925 [main] DEBUG io.netty.util.NetUtil.debug - -Djava.net.preferIPv6Addresses: false<br>\n30-01-2018 22:36:12.128 [main] DEBUG io.netty.util.NetUtil.debug - Loopback interface: lo (Software Loopback Interface 1, 127.0.0.1)<br>\n30-01-2018 22:36:12.129 [main] DEBUG io.netty.util.NetUtil.debug - Failed to get SOMAXCONN from sysctl and file \\proc\\sys\\net\\core\\somaxconn. Default: 200<br>\n30-01-2018 22:36:12.146 [main] DEBUG r.i.n.r.DefaultLoopEpollDetector.debug - Default epoll support : false<br>\n30-01-2018 22:36:12.156 [main] DEBUG r.i.n.resources.DefaultPoolResources.debug - New http client pool for www.uuidgenerator.net/173.255.225.224:443<br>\n30-01-2018 22:36:12.190 [main] DEBUG io.netty.channel.DefaultChannelId.debug - -Dio.netty.processId: 4232 (auto-detected)<br>\n30-01-2018 22:36:12.396 [main] DEBUG io.netty.channel.DefaultChannelId.debug - -Dio.netty.machineId: 78:e4:00:ff:fe:bf:a5:cb (auto-detected)<br>\n30-01-2018 22:36:12.447 [main] DEBUG io.netty.buffer.ByteBufUtil.debug - -Dio.netty.allocator.type: pooled<br>\n30-01-2018 22:36:12.448 [main] DEBUG io.netty.buffer.ByteBufUtil.debug - -Dio.netty.threadLocalDirectBufferSize: 65536<br>\n30-01-2018 22:36:12.448 [main] DEBUG io.netty.buffer.ByteBufUtil.debug - -Dio.netty.maxThreadLocalCharBufferSize: 16384<br>\n30-01-2018 22:36:12.459 [main] DEBUG r.i.n.c.PooledClientContextHandler.debug - Acquiring existing channel from pool: DefaultPromise@d23e4a(incomplete) SimpleChannelPool{activeConnections=1}<br>\n<strong>30-01-2018 22:36:12.461 [main] DEBUG o.s.web.reactive.function.client.debug - onSubscribe(FluxMap.MapSubscriber)</strong><br>\n30-01-2018 22:36:12.462 [main] DEBUG o.s.web.reactive.function.client.debug - request(unbounded)<br>\n30-01-2018 22:36:12.463 [main] DEBUG r.i.n.c.PooledClientContextHandler.debug - Acquiring existing channel from pool: DefaultPromise@c8295b(incomplete) SimpleChannelPool{activeConnections=1}<br>\n<strong>30-01-2018 22:36:12.520 [reactor-http-nio-2] DEBUG  r.i.n.resources.DefaultPoolResources.debug - Created [id: 0x88225196], now 2 active connections<br>\n30-01-2018 22:36:12.520 [reactor-http-nio-4] DEBUG r.i.n.resources.DefaultPoolResources.debug - Created [id: 0x80971ff0], now 2 active connections</strong>  </p>\n\n<p>Why does the first API call happen twice - is it a bug or is this the intended behaviour of Mono?</p>\n"}, {"tags": ["java", "css", "javafx", "kotlin", "tableview"], "answers": [{"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1517399027, "post_id": 48532783, "comment_id": 84077778, "body": "This works if I don&#39;t have too many columns in the table but I sometimes have 20+ columns and in that case <code>TableView.CONSTRAINED_RESIZE_POLICY</code> messes things up. I need the table to be scrollable (it is scrollable by default). How can I fix this?"}, {"owner": {"reputation": 129471, "user_id": 1155209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=128&d=identicon&r=PG", "display_name": "jewelsea", "link": "https://stackoverflow.com/users/1155209/jewelsea"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1517424537, "post_id": 48532783, "comment_id": 84094708, "body": "I updated the solution to address this concern more comprehensively and updated the example to use an unconstrained resize policy."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1517519573, "post_id": 48532783, "comment_id": 84140350, "body": "That&#39;s a great writeup, thanks! I&#39;ll take a look at it tomorrow. I was a bit busy with Controlsfx today."}], "tags": [], "owner": {"reputation": 129471, "user_id": 1155209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=128&d=identicon&r=PG", "display_name": "jewelsea", "link": "https://stackoverflow.com/users/1155209/jewelsea"}, "is_accepted": true, "score": 1, "last_activity_date": 1517522604, "last_edit_date": 1517522604, "creation_date": 1517359570, "answer_id": 48532783, "question_id": 48523956, "link": "https://stackoverflow.com/questions/48523956/how-to-properly-size-custom-controls-in-a-table-header-using-javafx/48532783#48532783", "title": "How to properly size custom controls in a table header using JavaFX?", "body": "<blockquote>\n  <p>How can I properly size this HBox so the label isn't truncated and it is not oversized either?</p>\n</blockquote>\n\n<p><em>Background</em></p>\n\n<p>The label currently has a text overrun that is invoked when the space to display the label isn't big enough to display the label.  The behaviour that a label undertakes in this situation is governed by its <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/OverrunStyle.html\" rel=\"nofollow noreferrer\">overrunStyle</a> which is set by <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Labeled.html#setTextOverrun-javafx.scene.control.OverrunStyle-\" rel=\"nofollow noreferrer\">label.setTextOverrun</a>.  The default overrun style is to apply an ellipsis to the text (the <code>...</code> which you see in your images), which is configured by <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Labeled.html#ellipsisStringProperty\" rel=\"nofollow noreferrer\">ellipsisStringProperty</a> of the label.  This behaviour is not because the label is in a table column, but because it is in a constrained area where it cannot fully display itself at its preferred size.</p>\n\n<p><em>How to solve this</em></p>\n\n<p>From my understanding of your question, you actually don't want this default behaviour of applying an ellipsis to the text.  To prevent it, what you can do is to ensure that there is always adequate space to display the header (at least as far as the rendering engine is concerned).</p>\n\n<p>To do this, for the hBox which you are configuring as the Labeled graphic, set its min width to its pref width:</p>\n\n<pre><code>hBox.setMinWidth(HBox.USE_PREF_SIZE);\n</code></pre>\n\n<p><em>Some Notes</em></p>\n\n<p>You can still resize the columns manually using the column divider controls.  If you do this, the default implementation will let you resize the columns smaller than the min width you just defined for the header graphic.  When that occurs the right-most column headers are painting over the excess display from the left column headers (preventing a garbled display).  </p>\n\n<p>The behaviour seems OK as long as you used a constrained resize policy.  But sometimes you don't want to do that.  For an unconstrained resize policy (the default), this can cause an issue when you size the column very small and have a large blank area to the right of the right-most column you have defined as the header of that blank area is not painted over.  To prevent this overflow, you can set a clip on the custom header fields which you have defined (see the example provided below to understand how to do this).     </p>\n\n<p>Also, if you sort a column, the sort arrow can display over your custom header if you size the column small (which is also not great).  One way around the weirdness with the sorting arrow is just to set resize to false for a given column, which may or may not work OK for your use-case.</p>\n\n<blockquote>\n  <p>Is this the right way to set custom table column headers?</p>\n</blockquote>\n\n<p>I don't have a general \"right\" solution for custom table column headers (as you can probably tell ;-)</p>\n\n<hr>\n\n<p>Here is a sample program you can try out.  It's in Java because I can't speak Kotlin.</p>\n\n<p>In the sample, I apply some CSS rules to set the alignment and content display of your custom header.</p>\n\n<p><em>alignment.css</em></p>\n\n<pre><code>.buttontastic.column-header &gt; .label {\n    -fx-alignment: baseline-left;\n    -fx-content-display: graphic-only;\n    -fx-padding: 5px;\n}\n</code></pre>\n\n<p><em>TableWithButtonHeaders.java</em></p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.*;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class TableWithButtonHeaders extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) {\n        TableColumn firstNameCol = new TableColumn(\"First Name\");\n        addHeaderButtons(firstNameCol);\n        firstNameCol.setPrefWidth(160);\n        firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(\"firstName\"));\n\n        TableColumn lastNameCol = new TableColumn(\"Last Name\");\n        lastNameCol.setPrefWidth(100);\n        lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;Person, String&gt;(\"lastName\"));\n\n\n        TableView table = new TableView();\n        table.getColumns().addAll(firstNameCol, lastNameCol);\n        table.setItems(FXCollections.observableArrayList(\n                new Person(\"Jacob\", \"Smith\"),\n                new Person(\"Isabella\", \"Johnson\"),\n                new Person(\"Ethan\", \"Williams\")\n        ));\n        table.setPrefSize(300, 200);\n\n\n        Pane layout = new VBox(10);\n        layout.setStyle(\"-fx-padding: 10;\");\n        layout.getChildren().addAll(table);\n        stage.setScene(new Scene(layout));\n\n        stage.getScene().getStylesheets().add(\n                TableWithButtonHeaders.class.getResource(\n                        \"alignment.css\"\n                ).toExternalForm()\n        );\n\n        stage.show();\n    }\n\n    private void addHeaderButtons(TableColumn col) {\n        Label label = new Label(col.getText());\n        label.setStyle(\"-fx-padding: 5px;\");\n        HBox hBox = new HBox(new Button(\"X\"), label, new Button(\"X\"));\n        hBox.setMinWidth(Control.USE_PREF_SIZE);\n\n        Rectangle clip = new Rectangle(0,0, col.getWidth(), hBox.getHeight());\n        col.widthProperty().addListener(observable -&gt; clip.setWidth(col.getWidth()));\n        hBox.heightProperty().addListener(observable -&gt; clip.setHeight(hBox.getHeight()));\n        hBox.setClip(clip);\n\n        col.getStyleClass().add(\"buttontastic\");\n        col.setText(null);\n        col.setGraphic(hBox);\n    }\n\n    public static class Person {\n        private final SimpleStringProperty firstName;\n        private final SimpleStringProperty lastName;\n\n        private Person(String fName, String lName) {\n            this.firstName = new SimpleStringProperty(fName);\n            this.lastName = new SimpleStringProperty(lName);\n        }\n\n        public String getFirstName() {\n            return firstName.get();\n        }\n\n        public void setFirstName(String fName) {\n            firstName.set(fName);\n        }\n\n        public String getLastName() {\n            return lastName.get();\n        }\n\n        public void setLastName(String fName) {\n            lastName.set(fName);\n        }\n    }\n}\n</code></pre>\n\n<p>Display with enough space for the custom header:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SGaFV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SGaFV.png\" alt=\"sample output\"></a></p>\n\n<p>Display once you resize the first column smaller:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wxlrd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wxlrd.png\" alt=\"smaller sample output\"></a></p>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1335, "favorite_count": 0, "accepted_answer_id": 48532783, "answer_count": 1, "score": 1, "last_activity_date": 1517522604, "creation_date": 1517323043, "question_id": 48523956, "link": "https://stackoverflow.com/questions/48523956/how-to-properly-size-custom-controls-in-a-table-header-using-javafx", "title": "How to properly size custom controls in a table header using JavaFX?", "body": "<p>I have a custom table header in JavaFx like this:</p>\n\n<pre><code>    for (column in table.columns) {\n        val typeButton = Button(\"x\")\n        val label = Label(column.text).also {\n            it.styleClass.add(\"column-header-label\")\n        }\n        val contextButton = Button(\"x\")\n        val graphic = HBox().also {\n            it.styleClass.add(\"column-header-graphic\")\n            it.add(typeButton)\n            it.add(label)\n            it.add(contextButton)\n        }\n        column.graphic = graphic\n    }\n</code></pre>\n\n<p>What I'm doing here is replacing the original text label with an <code>HBox</code> which holds two buttons and a label. I use css to hide the original label:</p>\n\n<pre><code>.data-table .column-header &gt; .label  {\n    -fx-content-display: graphic-only;\n}\n\n.column-header-graphic {\n    -fx-alignment: center-left;\n}\n\n.column-header-label {\n    -fx-label-padding: 0 10 0 10;\n}\n</code></pre>\n\n<p>This works but my problem is that the label in the middle is clipped for some reason:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BgGPy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BgGPy.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I put this <code>HBox</code> somewhere outside of the table it is not truncated so there must be something amiss with the <code>TableColumn</code> itself.</p>\n\n<p>If I double click the column then it sets a wrong size:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cDM8A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cDM8A.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>How can I properly size this <code>HBox</code> so the label isn't truncated and it is not oversized either?</strong></p>\n\n<p>Is this the right way to set custom table column headers?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-constraintlayout", "android-transitions"], "comments": [{"owner": {"reputation": 2916, "user_id": 2543013, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dc4d80d710ca9ca798bb374e0d1064fd?s=128&d=identicon&r=PG", "display_name": "kosas", "link": "https://stackoverflow.com/users/2543013/kosas"}, "edited": false, "score": 0, "creation_date": 1550070544, "post_id": 48523856, "comment_id": 96136449, "body": "I had same issue I wonder if you solved it. I added handler with delay onResume to  start animation and it works but its workaround would be cool to start animation on lunch..."}, {"owner": {"reputation": 980, "user_id": 853191, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fdabb50a1f74d4f4b95e852812ec6583?s=128&d=identicon&r=PG", "display_name": "LiuWenbin_NO.", "link": "https://stackoverflow.com/users/853191/liuwenbin-no"}, "edited": false, "score": 0, "creation_date": 1565498629, "post_id": 48523856, "comment_id": 101370562, "body": "I am running into the same issue, and seems the answer below points out the reason but still not an elegant resolution. Looking forward to see a better solution, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 980, "user_id": 853191, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fdabb50a1f74d4f4b95e852812ec6583?s=128&d=identicon&r=PG", "display_name": "LiuWenbin_NO.", "link": "https://stackoverflow.com/users/853191/liuwenbin-no"}, "edited": false, "score": 0, "creation_date": 1565498557, "post_id": 48524199, "comment_id": 101370556, "body": "I think this makes sense, as after I use <code>view.post { constraint animation function here } </code>, so I am wondering what the reason for down voting, anyone can explain? Thanks."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": -1, "last_activity_date": 1517323713, "creation_date": 1517323713, "answer_id": 48524199, "question_id": 48523856, "link": "https://stackoverflow.com/questions/48523856/constraintlayout-keyframe-animation-on-fragment/48524199#48524199", "title": "constraintLayout keyframe animation on fragment", "body": "<p>You are applying transition too soon (View is not even attached to window yet and had no layout pass), so delayed transition is discarded. Try using <code>post</code> instead of <code>run</code>.</p>\n"}], "owner": {"reputation": 2105, "user_id": 1909309, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/zBBmU.jpg?s=128&g=1", "display_name": "Wubbalubbadubdub", "link": "https://stackoverflow.com/users/1909309/wubbalubbadubdub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1134, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1517323713, "creation_date": 1517322738, "last_edit_date": 1517323598, "question_id": 48523856, "link": "https://stackoverflow.com/questions/48523856/constraintlayout-keyframe-animation-on-fragment", "title": "constraintLayout keyframe animation on fragment", "body": "<p>I have recently came across to this video <a href=\"https://www.youtube.com/watch?v=OHcfs6rStRo\" rel=\"nofollow noreferrer\">Keyframe Animations with ConstraintLayout and ConstraintSet</a> , it seems pretty cool . so Implemented this way following the steps showed in a <a href=\"https://proandroiddev.com/creating-awesome-animations-using-constraintlayout-and-constraintset-part-i-390cc72c5f75\" rel=\"nofollow noreferrer\">blog post</a> . There is just one difference though between the blog and my use case . I am working with fragment . I thought theoretically implementation supposed to be as it is . Here is my work around for keyframe animation on two <a href=\"https://developer.android.com/reference/android/support/constraint/ConstraintSet.html\" rel=\"nofollow noreferrer\">constrainSet()</a>    </p>\n\n<p><strong>ConstrainLayout initial (point A so to speak)</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:id=\"@+id/fragment_root\"&gt;\n\n\n&lt;ImageView\n    android:id=\"@+id/imageView\"\n    android:layout_width=\"250dp\"\n    android:layout_height=\"250dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginTop=\"8dp\"\n    android:src=\"@android:drawable/ic_menu_camera\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"@+id/textView\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintVertical_bias=\"0.687\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    android:gravity=\"center_vertical\"\n    android:padding=\"10dp\"\n    android:text=\"@string/missing_permission\"\n    android:textSize=\"18sp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/imageView\"\n    app:layout_constraintVertical_bias=\"0.476\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/setting_button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"76dp\"\n    android:text=\"@string/settings\"\n    app:layout_constraintBottom_toTopOf=\"@+id/imageView\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.0\"\n    app:layout_constraintStart_toStartOf=\"@+id/imageView\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintVertical_bias=\"0.511\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>ConstrainLayout initial (point B the destination , the final look of the layout)</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:id=\"@+id/fragment_root\"&gt;\n\n&lt;ImageView\n    android:id=\"@+id/imageView\"\n    android:layout_width=\"150dp\"\n    android:layout_height=\"150dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"136dp\"\n    android:src=\"@android:drawable/ic_menu_camera\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintVertical_bias=\"0.0\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:gravity=\"center_vertical\"\n    android:padding=\"10dp\"\n    android:text=\"@string/missing_permission\"\n    android:textSize=\"18sp\"\n    app:layout_constraintBottom_toBottomOf=\"@+id/imageView\"\n    app:layout_constraintEnd_toEndOf=\"@+id/imageView\"\n    app:layout_constraintStart_toStartOf=\"@+id/imageView\"\n    app:layout_constraintTop_toBottomOf=\"parent\"\n    app:layout_constraintVertical_bias=\"0.858\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/setting_button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"164dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:text=\"@string/settings\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"@+id/imageView\"\n    app:layout_constraintStart_toStartOf=\"@+id/imageView\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>Here is my fragment with keyframe transition code</strong> </p>\n\n<pre><code>var goToSettings: () -&gt; Unit = {}\n\nprivate lateinit var root: ConstraintLayout\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View?\n        = inflater.inflate(R.layout.nocamera_permission_fragment_alt, container, false).also {\n    root = it.findViewById(R.id.fragment_root)\n}\n\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) =\n        super.onViewCreated(view, savedInstanceState).run {\n            setting_button.setOnClickListener { goToSettings() }\n\n            val constraintSet = ConstraintSet()\n            constraintSet.clone(activity, R.layout.nocamera_permission_fragment)\n\n            val transition = ChangeBounds().apply {\n                interpolator = OvershootInterpolator()\n                duration = 1000\n            }\n\n            TransitionManager.beginDelayedTransition(root, transition)\n            constraintSet.applyTo(root)\n        }\n</code></pre>\n\n<p>I has no effect on the layout , app renders the final layout <code>R.layout.nocamera_permission_fragment</code> after run . Does anybody have any idea ?</p>\n"}, {"tags": ["java", "shell", "kotlin", "corda"], "comments": [{"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1517324860, "post_id": 48523719, "comment_id": 84043901, "body": "Looking at the docs for Corda, it looks like its shell is based on <a href=\"http://www.crashub.org/\" rel=\"nofollow noreferrer\">CraSH</a> (<a href=\"http://www.crashub.org/1.3/reference.html\" rel=\"nofollow noreferrer\">docs</a>), which supports accessing command history using the up and down arrow keys."}, {"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 0, "creation_date": 1517325095, "post_id": 48523719, "comment_id": 84044053, "body": "Other keys combos that you might try (I can&#39;t find these anywhere in the CraSH docs, but they are popular among shells): Ctrl-Shift-C/Ctrl-Shift-V or Ctrl-Insert/Shift-Insert for copy/paste, TAB for autocompletion, Ctrl-R for reverse history search."}], "answers": [{"tags": [], "owner": {"reputation": 1231, "user_id": 1296853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7918e392ecbb3100a34488b32e0f9ea9?s=128&d=identicon&r=PG", "display_name": "Cais Manai", "link": "https://stackoverflow.com/users/1296853/cais-manai"}, "is_accepted": false, "score": 0, "last_activity_date": 1517326227, "creation_date": 1517326227, "answer_id": 48525034, "question_id": 48523719, "link": "https://stackoverflow.com/questions/48523719/is-it-in-some-way-possible-to-actually-copypaste-text-in-the-java-shell-tha/48525034#48525034", "title": "Is it, in some way, possible to actually Copy&amp;Paste text in the (Java) shell that&#39;s started up when running the nodes?", "body": "<p>You can right click in the shell to paste whatever is currently in your clipboard.</p>\n\n<p>As mentioned in the comments, the shell also supports the up and down arrow keys to move through the command history.</p>\n\n<p>Alternatively, you could write your own RPC client or REST interface to interact with the node. Take a look at: </p>\n\n<p>Client RPC API\n<a href=\"https://docs.corda.net/tutorial-clientrpc-api.html\" rel=\"nofollow noreferrer\">https://docs.corda.net/tutorial-clientrpc-api.html</a></p>\n\n<p>REST interface in the IOU app\n<a href=\"https://github.com/corda/cordapp-example/blob/release-V2/kotlin-source/src/main/kotlin/com/example/api/ExampleApi.kt\" rel=\"nofollow noreferrer\">https://github.com/corda/cordapp-example/blob/release-V2/kotlin-source/src/main/kotlin/com/example/api/ExampleApi.kt</a></p>\n"}], "owner": {"reputation": 11, "user_id": 9289442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97c3da15962ea9fc80aaa079e9c6aa7?s=128&d=identicon&r=PG&f=1", "display_name": "V. Tenbergen", "link": "https://stackoverflow.com/users/9289442/v-tenbergen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517326227, "creation_date": 1517322310, "last_edit_date": 1517324021, "question_id": 48523719, "link": "https://stackoverflow.com/questions/48523719/is-it-in-some-way-possible-to-actually-copypaste-text-in-the-java-shell-tha", "title": "Is it, in some way, possible to actually Copy&amp;Paste text in the (Java) shell that&#39;s started up when running the nodes?", "body": "<p>I have searched the Corda tagged questions to find an answer but found none. And neither could I find a satisfying answer on Google.</p>\n\n<p>So the problem I have is this: I am working on Corda together with a colleague of mine and we're trying out lots of things. But we also have to constantly type in the whole command \n(like: <em><code>start IOUFlow iouValue: 99, otherParty: \"O=PartyB,L=New York,C=US\"</code></em>) which is quite the hassle if you're doing it a couple of times in short succession. </p>\n\n<p>Is there any way to actually paste text in the Shell that's started when running the nodes? And for that matter: is there also a way to actually return to the previous line in the shell after you're on the next line?</p>\n\n<p>Ps, no, our company unfortunately does not (yet) issue MacBooks... </p>\n"}, {"tags": ["android", "jvm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 967, "user_id": 8443512, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/88682119451ec6230c02d2ca305f1522?s=128&d=identicon&r=PG&f=1", "display_name": "android51130", "link": "https://stackoverflow.com/users/8443512/android51130"}, "edited": false, "score": 0, "creation_date": 1517424179, "post_id": 48532188, "comment_id": 84094522, "body": "nono, fixed String is only for example, consider there is some calculating inside the method. In example I use this method call once only when second Activity launched. QUESTION IS: After ActivityB is closed, in case with Class instance - GC will collect instance, cuz&#39; there&#39;s no strong reference to SampleClass instance. What will be with SampleObject in memory? It&#39;s a singleton = how long it will be stored in memory?"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "reply_to_user": {"reputation": 967, "user_id": 8443512, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/88682119451ec6230c02d2ca305f1522?s=128&d=identicon&r=PG&f=1", "display_name": "android51130", "link": "https://stackoverflow.com/users/8443512/android51130"}, "edited": false, "score": 0, "creation_date": 1517525739, "post_id": 48532188, "comment_id": 84142962, "body": "Completely rewrote. Let me know if that&#39;s what you&#39;re looking for."}, {"owner": {"reputation": 967, "user_id": 8443512, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/88682119451ec6230c02d2ca305f1522?s=128&d=identicon&r=PG&f=1", "display_name": "android51130", "link": "https://stackoverflow.com/users/8443512/android51130"}, "edited": false, "score": 0, "creation_date": 1517678394, "post_id": 48532188, "comment_id": 84196460, "body": "where did you get this information about kotlin compiler and lifecycle on jvm? please, share"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "reply_to_user": {"reputation": 967, "user_id": 8443512, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/88682119451ec6230c02d2ca305f1522?s=128&d=identicon&r=PG&f=1", "display_name": "android51130", "link": "https://stackoverflow.com/users/8443512/android51130"}, "edited": false, "score": 0, "creation_date": 1517690800, "post_id": 48532188, "comment_id": 84200294, "body": "IntellJ has a &#39;show bytecode&#39; for Kotlin built-in. On the view that shows bytecode, there&#39;s a de-compile that will show the code as Java code. Hopefully Android studio has similar functionality. Very helpful for understanding what the Kotlin compiler will produce. If Android Studio doesn&#39;t have it, install IntelliJ Community Edition with the Kotlin plugin."}], "tags": [], "owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "is_accepted": false, "score": 1, "last_activity_date": 1517525710, "last_edit_date": 1517525710, "creation_date": 1517355301, "answer_id": 48532188, "question_id": 48522913, "link": "https://stackoverflow.com/questions/48522913/kotlin-and-jvm-object-or-class-instance/48532188#48532188", "title": "Kotlin and jvm: object OR class instance?", "body": "<p>If the function is pure (i.e. no side-effects), then code it at the top-level. No need to explicitly create a class/object in Kotlin.</p>\n\n<p>The compiler will produce a class that contains your method as a static method, and therefore has the same lifecyle as all static methods.</p>\n\n<p>An Object contains a static reference to a constructed version of itself, and the class has your function. Again, the class/method will exist for life of JVM</p>\n"}], "owner": {"reputation": 967, "user_id": 8443512, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/88682119451ec6230c02d2ca305f1522?s=128&d=identicon&r=PG&f=1", "display_name": "android51130", "link": "https://stackoverflow.com/users/8443512/android51130"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517525710, "creation_date": 1517319769, "last_edit_date": 1517320475, "question_id": 48522913, "link": "https://stackoverflow.com/questions/48522913/kotlin-and-jvm-object-or-class-instance", "title": "Kotlin and jvm: object OR class instance?", "body": "<pre><code>object SampleObject{\n   fun getSampleText(): String = \"123\"\n}\n\nclass SampleClass {\n   fun getSampleText(): String = \"123\"\n}\n</code></pre>\n\n<p>There are no fields, methods only.</p>\n\n<p><code>ActivityA</code> starts <code>ActivityB</code>.\nIn <code>ActivityB</code> there is a call to <code>SampleObject.getSampleText()</code> and <code>SampleClass().getSampleText()</code>. Then <code>ActivityB</code> finishes.</p>\n\n<p>What is the best practice? To use object or to use class instances?</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517319914, "post_id": 48522773, "comment_id": 84040418, "body": "where BaseActivityModule code ?"}, {"owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "reply_to_user": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1517321962, "post_id": 48522773, "comment_id": 84041801, "body": "Hi @AhmedAbd-Elmeged, see edit."}], "answers": [{"comments": [{"owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1517330657, "post_id": 48524210, "comment_id": 84047841, "body": "It worked. Now I have another issue, but it is part of a different question. Thanks!"}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "reply_to_user": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1517330718, "post_id": 48524210, "comment_id": 84047886, "body": "OK no problem ask :D"}, {"owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1517330762, "post_id": 48524210, "comment_id": 84047912, "body": "I&#39;d have to edit the entire question. Will post another and let you know here."}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "reply_to_user": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "edited": false, "score": 3, "creation_date": 1517330822, "post_id": 48524210, "comment_id": 84047948, "body": "i think it&#39;s better to ask new question so if any one face the same problem can find a solution"}, {"owner": {"reputation": 1359, "user_id": 5716010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-BDkCjn9GogY/AAAAAAAAAAI/AAAAAAAAAJo/qvLmcAH8ys8/photo.jpg?sz=128", "display_name": "Maulik Dodia", "link": "https://stackoverflow.com/users/5716010/maulik-dodia"}, "reply_to_user": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "edited": false, "score": 0, "creation_date": 1535481171, "post_id": 48524210, "comment_id": 91078934, "body": "So, We have to add all those activities / fragments in <code>ActivityModule</code> which are extending BaseActivity / BaseFragment, Am I right?@AhmedAbd-Elmeged @JorgeE.Hern&#225;ndez"}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "reply_to_user": {"reputation": 1359, "user_id": 5716010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-BDkCjn9GogY/AAAAAAAAAAI/AAAAAAAAAJo/qvLmcAH8ys8/photo.jpg?sz=128", "display_name": "Maulik Dodia", "link": "https://stackoverflow.com/users/5716010/maulik-dodia"}, "edited": false, "score": 0, "creation_date": 1535535933, "post_id": 48524210, "comment_id": 91098340, "body": "Yes if you have the base Activity/Fragment extend dagger. when you extend your main activities/fragments you will need to add themin the <code>ActivityModule </code> @MaulikDodia"}, {"owner": {"reputation": 1359, "user_id": 5716010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-BDkCjn9GogY/AAAAAAAAAAI/AAAAAAAAAJo/qvLmcAH8ys8/photo.jpg?sz=128", "display_name": "Maulik Dodia", "link": "https://stackoverflow.com/users/5716010/maulik-dodia"}, "edited": false, "score": 0, "creation_date": 1535536873, "post_id": 48524210, "comment_id": 91098960, "body": "What If you have too many activities &amp; fragments in your project, <code>ActivityModule</code> class will become quite long. Isn&#39;t there any other solution for that?@AhmedAbd-Elmeged"}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "reply_to_user": {"reputation": 1359, "user_id": 5716010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-BDkCjn9GogY/AAAAAAAAAAI/AAAAAAAAAJo/qvLmcAH8ys8/photo.jpg?sz=128", "display_name": "Maulik Dodia", "link": "https://stackoverflow.com/users/5716010/maulik-dodia"}, "edited": false, "score": 0, "creation_date": 1535541860, "post_id": 48524210, "comment_id": 91102159, "body": "In a big/production app you won&#39;t put them in one class you will modularize and scope them. for example, you have registration module that has all the login signup UIs, one for payment..etc depending on your use case. also if you have for example 5 user fragments are used in one activity you will put them in one module and scope them to the activity scope @MaulikDodia"}, {"owner": {"reputation": 1359, "user_id": 5716010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-BDkCjn9GogY/AAAAAAAAAAI/AAAAAAAAAJo/qvLmcAH8ys8/photo.jpg?sz=128", "display_name": "Maulik Dodia", "link": "https://stackoverflow.com/users/5716010/maulik-dodia"}, "edited": false, "score": 0, "creation_date": 1535543521, "post_id": 48524210, "comment_id": 91103188, "body": "@AhmedAbd-Elmeged That sounds great. Thanks a lot. Can you guide me to some good docs for this new Dagger 2 implementation?"}, {"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1535656349, "post_id": 48524210, "comment_id": 91158851, "body": "You are welcome! check this blog <a href=\"https://medium.com/@iammert/new-android-injector-with-dagger-2-part-1-8baa60152abe\" rel=\"nofollow noreferrer\">medium.com/@iammert/&hellip;</a> it will help you a lot I think it&#39;s 3 parts read them and you will have a solid understanding to it."}], "tags": [], "owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "is_accepted": true, "score": 7, "last_activity_date": 1517323742, "creation_date": 1517323742, "answer_id": 48524210, "question_id": 48522773, "link": "https://stackoverflow.com/questions/48522773/how-to-inject-an-abstract-baseactivity-and-its-subclasses-using-dagger-android/48524210#48524210", "title": "How to @Inject an abstract BaseActivity and its subclasses using dagger.android?", "body": "<p>I didn't understand exactly what you try to do but this solutions based in what i understand</p>\n\n<p>AppComponent should look like this </p>\n\n<pre><code>@Singleton\n@Component(modules = [\n    AndroidSupportInjectionModule::class,\n    AppModule::class,\n    ActivityModule::class])\ninterface AppComponent : AndroidInjector&lt;DaggerApplication&gt; {\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(application: Application): Builder\n\n        fun build(): AppComponent\n    }\n}\n</code></pre>\n\n<p>your base activity which will inject all the objects</p>\n\n<pre><code>abstract class BaseActivity : DaggerAppCompatActivity() {\n\n    @Inject\n    lateinit var prefs: SharedPreferences\n\n    //other objects to inject\n\n}\n</code></pre>\n\n<p>The activity that will inherit from it eg:MainActivity</p>\n\n<pre><code>class MainActivity : BaseActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        prefs.getBoolean(\"s\", true)\n    }\n\n}\n</code></pre>\n\n<p>And Activity module</p>\n\n<pre><code>@Module\nabstract class ActivityModule {\n\n    @ContributesAndroidInjector\n    abstract fun bindMainActivity(): MainActivity\n\n    @ContributesAndroidInjector\n    abstract fun bindBaseActivity():BaseActivity\n\n}\n</code></pre>\n\n<p>AppModule</p>\n\n<pre><code>@Module\nclass AppModule {\n\n    @Singleton\n    @Provides\n    fun providesMyPreferenceDataStore(application: Application): SharedPreferences {\n        return application.getSharedPreferences(\"test\", Context.MODE_PRIVATE)\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2342, "user_id": 1911021, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f62c6f16ce364e68037229b11cebec7c?s=128&d=identicon&r=PG", "display_name": "Jorge E. Hern&#225;ndez", "link": "https://stackoverflow.com/users/1911021/jorge-e-hern%c3%a1ndez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4458, "favorite_count": 2, "accepted_answer_id": 48524210, "answer_count": 1, "score": 4, "last_activity_date": 1517323742, "creation_date": 1517319390, "last_edit_date": 1517321927, "question_id": 48522773, "link": "https://stackoverflow.com/questions/48522773/how-to-inject-an-abstract-baseactivity-and-its-subclasses-using-dagger-android", "title": "How to @Inject an abstract BaseActivity and its subclasses using dagger.android?", "body": "<p>I'm using the new <code>dagger.android</code> package from <a href=\"https://google.github.io/dagger/\" rel=\"nofollow noreferrer\">Dagger 2</a> to inject Android dependencies in my project.</p>\n\n<ul>\n<li>I need all my Activities to be a subclass of an abstract <code>BaseActivity</code></li>\n<li><p>In my <code>BaseActivity</code> I have member variables to be injected. This way:</p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity() {\n    @Inject\n    lateinit var prefs: MyPreferenceDataStore\n    ...// more @Injected members\n}\n</code></pre></li>\n<li><p>I do it because I want subclasses of <code>BaseActiviy</code> can have access to injected members of <code>BaseActivity</code>:</p>\n\n<pre><code>class SubClassActivity : BaseActivity() {\n    override fun onCreate(savedInstanceState: Bundle) {                \n        val x = prefs.getXXX //use prefs variable from parent class\n    }\n}\n</code></pre></li>\n<li><p>This is my ApplicationComponent:</p>\n\n<pre><code>@Singleton @Component(modules = arrayOf(\n                ApplicationModule::class,\n                ActivityBindingModule::class,\n                AndroidSupportInjectionModule::class\n            ))\ninterface ApplicationComponent {\n    @Component.Builder interface Builder {\n        @BindsInstance\n        fun application(application: Application): Builder\n        fun build(): ApplicationComponent\n    }\n    fun inject(app: AndroidApplication)\n}\n</code></pre></li>\n<li><p>The <code>ApplicationModule</code> class has simple <code>@Provides</code> annotated methods:</p>\n\n<pre><code>@Module\nclass ApplicationModule {\n    @Singleton @Provides\n    fun providesMyPreferenceDataStore(context: Context): MyPreferenceDataStore {\n        return MyPreferenceDataStoreImpl(context)\n    }\n    // more @Provides annotated methods\n}\n</code></pre>\n\n<p>I think the problem is in my <code>ActivityBindingModule</code></p>\n\n<pre><code>@Module\nabstract class ActivityBindingModule {\n\n    @PerActivity\n    @ContributesAndroidInjector(\n        modules = arrayOf(BaseActivityModule::class\n    ))\n    abstract fun bindBaseActivity(): BaseActivity\n\n    @PerActivity\n    @ContributesAndroidInjector(\n        modules = arrayOf(\n            BaseActivityModule::class\n    ))\n    abstract fun bindSubClassActivity(): SubClassActivity\n}\n</code></pre></li>\n</ul>\n\n<p>This is what I have tried so far:</p>\n\n<ul>\n<li><p>Make the <code>bindSubClassActivity()</code> method not to depend of <code>BaseActivityModule::class</code>, didn't work.</p></li>\n<li><p>Move the <code>providesMyPreferenceDataStore</code> from <code>ApplicationModule</code> to the <code>BaseActivityModule</code>, so that the class is:</p>\n\n<pre><code>@Module\nclass BaseActivityModule {\n    @PerActivity @Provides\n    fun providesMyPreferenceDataStore(context: Context): MyPreferenceDataStore {\n        return MyPreferenceDataStoreImpl(context)\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>And this is the error I'm getting:</p>\n\n<pre><code>Error: [dagger.android.AndroidInjector.inject(T)] com.example.BaseActivity cannot\nbe provided without an @Provides-annotated method.\nThis type supports members injection but cannot\nbe implicitly provided.\n</code></pre>\n"}, {"tags": ["java", "oop", "inheritance", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1517317727, "post_id": 48522130, "comment_id": 84038995, "body": "My guess is because Java version is write-only, which not representable as a Kotlin property, which can be read-only or read-write."}, {"owner": {"reputation": 2539, "user_id": 2735398, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/74d4d7c1aba9dfac3331aaf8178465d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Wytze", "link": "https://stackoverflow.com/users/2735398/jan-wytze"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517318445, "post_id": 48522130, "comment_id": 84039465, "body": "@MarkoTopolnik Yes there is only a setter."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": -1, "last_activity_date": 1519243181, "last_edit_date": 1519243181, "creation_date": 1517317841, "answer_id": 48522281, "question_id": 48522130, "link": "https://stackoverflow.com/questions/48522130/kotlin-override-java-setter/48522281#48522281", "title": "Kotlin override Java setter", "body": "<blockquote>\n  <p>Or do I have to just override the setInputStream method. I like the kotlin setter more..</p>\n</blockquote>\n\n<p>tldr: yes</p>\n\n<p>It's not possible for a property setter to override a function of the supertype <code>Command</code>. As a workaround, make your property <code>private</code> and implement the required interface methods in addition as follows e.g.:</p>\n\n<pre><code>class ProxyCommand : Command {\n    override fun setInputStream(`in`: InputStream) {\n        TODO(\"not implemented\")\n    }\n\n    private lateinit var inputStream: ChannelPipedInputStream\n}\n</code></pre>\n"}], "owner": {"reputation": 2539, "user_id": 2735398, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/74d4d7c1aba9dfac3331aaf8178465d5?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Wytze", "link": "https://stackoverflow.com/users/2735398/jan-wytze"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 0, "closed_date": 1517320564, "accepted_answer_id": 48522281, "answer_count": 1, "score": 0, "last_activity_date": 1519243181, "creation_date": 1517317406, "question_id": 48522130, "link": "https://stackoverflow.com/questions/48522130/kotlin-override-java-setter", "closed_reason": "Duplicate", "title": "Kotlin override Java setter", "body": "<p>I am implemending a java interface(Command) with this method:</p>\n\n<pre><code>void setInputStream(InputStream in);\n</code></pre>\n\n<p>I want to override this with a Kotlin setter:</p>\n\n<pre><code>class ProxyCommand : Command {\n    lateinit var _inputStream: ChannelPipedInputStream\n\n    var inputStream: InputStream\n        get() = this._inputStream\n        set(value) { // This should override it.\n            this._inputStream = (value as ChannelPipedInputStream)\n        }\n}\n</code></pre>\n\n<p>But I am getting this error at <code>set(value)</code>:</p>\n\n<pre><code>Accidental override: The following declarations have the same JVM signature (setInputStream(Ljava/io/InputStream;)V): \npublic final fun &lt;set-inputStream&gt;(value: InputStream): Unit defined in ...\npublic abstract fun setInputStream(`in`: InputStream!): Unit defined in ...\n</code></pre>\n\n<p>It says that it is an accidental override, but it is not accidental...</p>\n\n<p>Is what I want possible? Or do I have to just override the <code>setInputStream</code> method. I like the kotlin setter more..</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "edited": false, "score": 0, "creation_date": 1517319041, "post_id": 48522298, "comment_id": 84039832, "body": "1. corrected String to DynamicString in constructor, thnx. 2. added private val. Now, getting similar error <code>SimpleDynamicString cannot be provided without an @Provides-annotated method</code>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "edited": false, "score": 1, "creation_date": 1517327791, "post_id": 48522298, "comment_id": 84045975, "body": "Are you sure you&#39;re asking for a <code>DynamicString</code> and not a <code>SimpleDynamicString</code> in the constructor? Did you try cleaning and rebuilding the project?"}, {"owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "edited": false, "score": 1, "creation_date": 1517407415, "post_id": 48522298, "comment_id": 84083215, "body": "It was SimpleDynamicString, now I corrected to DynamicString and it works.. Thnx"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1517317895, "creation_date": 1517317895, "answer_id": 48522298, "question_id": 48521957, "link": "https://stackoverflow.com/questions/48521957/dagger-androidinjector-cannot-be-provided-without-an-provides-annotated-method/48522298#48522298", "title": "Dagger AndroidInjector cannot be provided without an @Provides-annotated method", "body": "<p>You're providing a <code>DynamicString</code> while expecting a regular <code>String</code> in the constructor. You should use <code>DynamicString</code> there as well:</p>\n\n<pre><code>class MyMainPresenter @Inject constructor(\n    @StringForTextView dynamicString: DynamicString\n)\n</code></pre>\n\n<p>Also, you might want to hols on to that injected value by making it a property with <code>val</code>. </p>\n"}], "owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 587, "favorite_count": 0, "accepted_answer_id": 48522298, "answer_count": 1, "score": 0, "last_activity_date": 1517317895, "creation_date": 1517316767, "question_id": 48521957, "link": "https://stackoverflow.com/questions/48521957/dagger-androidinjector-cannot-be-provided-without-an-provides-annotated-method", "title": "Dagger AndroidInjector cannot be provided without an @Provides-annotated method", "body": "<p>I've done my Android projects MainActivity by means of the MVP pattern. So in my MainPresenter I want to inject a dynamic String, which then shall populate a TextView for instance:</p>\n\n<pre><code>class MyMainPresenter @Inject constructor(@StringForTextView dynamicString : String ) \n</code></pre>\n\n<p>whereas the StringForTextView annotation qualifier is defined as:</p>\n\n<pre><code>import javax.inject.Qualifier\n@Qualifier\n@MustBeDocumented\n@Retention(AnnotationRetention.RUNTIME)\nannotation class StringForTextView\n</code></pre>\n\n<p>then I also have my Interface: </p>\n\n<pre><code>interface DynamicString {\n    @NonNull fun getDynamicString() : String\n}\n</code></pre>\n\n<p>which is implemented as:</p>\n\n<pre><code>data class SimpleDynamicString(val dynString: String) : DynamicString {\n    override fun getDynamicString(): String { return dynString }\n}\n</code></pre>\n\n<p>then in my module:</p>\n\n<pre><code>@Provides\n@StringForTextView\nstatic DynamicString provideDynamicString(Application application)\n{\n    return new SimpleDynamicString(application.getString(R.string.example_string));\n}\n</code></pre>\n\n<p>The problem is, that I get an error </p>\n\n<blockquote>\n  <p>Error:(51, 2) error: [dagger.android.AndroidInjector.inject(T)]\n  @com.ralf.example.injection.qualifiers.StringForTextView\n  java.lang.String cannot be provided without an @Provides-annotated\n  method.</p>\n</blockquote>\n\n<p><strong>What am I missing?</strong></p>\n"}, {"tags": ["kotlin", "subtyping"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1517309892, "creation_date": 1517309892, "answer_id": 48519760, "question_id": 48519699, "link": "https://stackoverflow.com/questions/48519699/any-%ce%bb-codomain-liftable-to-unit/48519760#48519760", "title": "Any \u03bb codomain liftable to `Unit`?", "body": "<p>The official docs cover this under <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"nofollow noreferrer\">lambda expression syntax</a>:</p>\n\n<blockquote>\n  <p>If the inferred return type of the lambda is not Unit, the last (or possibly single) expression inside the lambda body is treated as the return value.</p>\n</blockquote>\n\n<p>So basically, if you explicitly assign the lambda to a function type that returns <code>Unit</code> or you call it and assign its result to <code>Unit</code>, it will infer that you don't wish to return the last expression inside the lambda (which would otherwise happen by default).</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1517393918, "last_edit_date": 1517393918, "creation_date": 1517310164, "answer_id": 48519829, "question_id": 48519699, "link": "https://stackoverflow.com/questions/48519699/any-%ce%bb-codomain-liftable-to-unit/48519829#48519829", "title": "Any \u03bb codomain liftable to `Unit`?", "body": "<pre><code>val b: Unit = { 42 }() \n</code></pre>\n\n<p>Since you explicitly specify the variable type of <code>b</code> to be <code>Unit</code>, the lambda will not actually <code>return 42</code>. On the other hand, if you let the compiler infer the function type or specify it appropriately, <em>the last lambda statement is made the result</em>, which is of type <code>Int</code> in this case.</p>\n\n<p>Both of the following are possible:</p>\n\n<pre><code>val b1: () -&gt; Unit = { 42 }\nval b2: () -&gt; Int = { 42 }\n</code></pre>\n\n<p>As well as these (directly invoke the lambda):</p>\n\n<pre><code>val a1: Unit = { 42 }() \nval a2: Int = { 42 }() \n</code></pre>\n\n<p>The documentation can be found <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>A lambda expression is always surrounded by curly braces, parameter declarations in the full syntactic form go inside curly braces and have optional type annotations, the body goes after an -> sign. <em>If the inferred return type of the lambda is not <code>Unit</code>, the last (or possibly single) expression inside the lambda body is treated as the return value.</em></p>\n</blockquote>\n"}], "owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 48519760, "answer_count": 2, "score": 2, "last_activity_date": 1530025222, "creation_date": 1517309732, "last_edit_date": 1530025222, "question_id": 48519699, "link": "https://stackoverflow.com/questions/48519699/any-%ce%bb-codomain-liftable-to-unit", "title": "Any \u03bb codomain liftable to `Unit`?", "body": "<p>Obviously, this is rejected by the type-checker:</p>\n\n<pre><code>val a: Unit = 42 // Fail\n</code></pre>\n\n<p>However, this is fine:</p>\n\n<pre><code>val b: Unit = { 42 }() // Pass\n</code></pre>\n\n<p>I can understand that:</p>\n\n<pre><code>val f: ()-&gt;Any = { -&gt; 42 } // Pass\n</code></pre>\n\n<p>Since <code>Int &lt;: Any</code>. However, it has to be different for <code>Unit</code> (it is not a super type of <code>Int</code>). Is there some documentation explaining what's going on?</p>\n"}, {"tags": ["json", "spring-boot", "kotlin", "spring-restcontroller", "klaxon"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 2139269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc9de66a17ad9617d3ce3688dd01b9?s=128&d=identicon&r=PG", "display_name": "Kishore Kumar Samudrala", "link": "https://stackoverflow.com/users/2139269/kishore-kumar-samudrala"}, "is_accepted": false, "score": 0, "last_activity_date": 1531898061, "last_edit_date": 1531898061, "creation_date": 1531732192, "answer_id": 51358281, "question_id": 48519254, "link": "https://stackoverflow.com/questions/48519254/how-to-configure-spring-boot-for-using-klaxon-library/51358281#51358281", "title": "How to configure spring boot for using klaxon library", "body": "<p>No, at the moment it's not possible. </p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/13229\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}], "owner": {"reputation": 435, "user_id": 1438218, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6d1b257d75aed1eb111fa5ba2c312648?s=128&d=identicon&r=PG", "display_name": "nail", "link": "https://stackoverflow.com/users/1438218/nail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531898061, "creation_date": 1517308368, "question_id": 48519254, "link": "https://stackoverflow.com/questions/48519254/how-to-configure-spring-boot-for-using-klaxon-library", "title": "How to configure spring boot for using klaxon library", "body": "<p>There is a <a href=\"https://github.com/cbeust/klaxon\" rel=\"nofollow noreferrer\">klaxon library</a> - JSON parser for <code>kotlin</code></p>\n\n<p>How to configure <code>Spring Boot</code> for using it to make a REST API in this way: </p>\n\n<pre><code>@RestController\nclass SampleController {\n\n  @RequestMapping(\"/test\", method = [RequestMethod.POST])\n  fun test(@RequestBody body:JsonObject): JsonObject {\n      //work with body val (KLAXON object)\n      //return KLAXON object\n  }\n}\n</code></pre>\n\n<p><code>@RequestBody body:JsonObject</code> - is a Klaxon object, so we do not want to use standard <code>Jackson2ObjectMapperBuilder</code> for RequestBody. For simplicity we do not want to use it for Response body too.\nPost body is some kind of dynamic data, so I want to use a <code>Low level API</code> in lib, not a <code>Object binding API</code>.</p>\n"}, {"tags": ["android", "mvvm", "kotlin"], "owner": {"reputation": 1480, "user_id": 1956906, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/QqZy0.jpg?s=128&g=1", "display_name": "fanjavaid", "link": "https://stackoverflow.com/users/1956906/fanjavaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1507, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1517305670, "creation_date": 1517305670, "question_id": 48518378, "link": "https://stackoverflow.com/questions/48518378/errorgradle-execution-failed-for-task-apptransformdexarchivewithdexmergerfo", "title": "Error:Gradle: Execution failed for task &#39;:app:transformDexArchiveWithDexMergerForDebug&#39;", "body": "<p>I build app using Kotlin with MVVM architecture, and now i write Unit Test for my ViewModel, just use <code>JUnit</code> and <code>Mockito</code></p>\n\n<pre><code>dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support:recyclerview-v7:26.1.0'\n    implementation 'com.android.support:cardview-v7:26.1.0'\n    implementation 'com.android.support:support-v4:26.1.0'\n    implementation 'com.github.bumptech.glide:glide:4.1.0'\n    kapt 'com.github.bumptech.glide:compiler:4.1.0'\n    kapt 'com.android.databinding:compiler:3.0.1'\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    testImplementation 'org.mockito:mockito-core:2.12.0'\n}\n</code></pre>\n\n<p>But, when i try to run test, i got this following error : </p>\n\n<pre><code>Error:Gradle: Execution failed for task ':app:transformDexArchiveWithDexMergerForDebug'.\n&gt; com.android.build.api.transform.TransformException: com.android.dex.DexException: Multiple dex files define Landroid/support/compat/R$bool;\n</code></pre>\n\n<p>Here is my test class : </p>\n\n<pre><code>@RunWith(MockitoJUnitRunner::class)\nclass RegistrationFragmentViewModelTest {\n    var mViewModel: RegistrationFragmentViewModel? = null\n    @Mock var mContext: Context? = null\n    @Mock var mView: RegistrationView? = null\n\n    @Before\n    fun setUp() {\n        mViewModel = RegistrationFragmentViewModel(mContext!!, mView!!)\n    }\n\n    @Test\n    fun AfterInput_InvalidFirstName_ShowFirstNameError() {\n        // Given\n        val firstName = \"fa\"\n        val email = \"fanjavaid@gmail.com\"\n        val password = \"demo\"\n\n        // When\n        mViewModel?.doRegister()\n\n        // Then\n        verify(mViewModel)?.validateInput()\n        verify(mView)?.showFirstNameError(mContext?.resources?.getString(R.string.registration_error_email_format)!!)\n    }\n}\n</code></pre>\n\n<p>I still don't know why. Any ideas?\nThank you?</p>\n"}, {"tags": ["android", "google-analytics", "kotlin", "android-library"], "comments": [{"owner": {"reputation": 11547, "user_id": 487390, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aa8bda90f24e0281da7f503e016f5a90?s=128&d=identicon&r=PG", "display_name": "Guy", "link": "https://stackoverflow.com/users/487390/guy"}, "edited": false, "score": 0, "creation_date": 1577011772, "post_id": 48516133, "comment_id": 105070109, "body": "Hi, Did you find a solution?"}, {"owner": {"reputation": 96, "user_id": 7325003, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yywpfTLokSI/AAAAAAAAAAI/AAAAAAAAGKs/X9PtmsxuA-w/photo.jpg?sz=128", "display_name": "Prahlad V Thej", "link": "https://stackoverflow.com/users/7325003/prahlad-v-thej"}, "edited": false, "score": 0, "creation_date": 1613551654, "post_id": 48516133, "comment_id": 117106259, "body": "Hello Did you find the solution to this? Even I am facing the same issue."}], "answers": [{"tags": [], "owner": {"reputation": 22572, "user_id": 926907, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gZVb2.jpg?s=128&g=1", "display_name": "Dmitry Zaytsev", "link": "https://stackoverflow.com/users/926907/dmitry-zaytsev"}, "is_accepted": false, "score": 0, "last_activity_date": 1534196717, "creation_date": 1534196717, "answer_id": 51831014, "question_id": 48516133, "link": "https://stackoverflow.com/questions/48516133/independent-android-library-with-google-analytics/51831014#51831014", "title": "Independent android library with Google analytics", "body": "<p><code>buildscript</code> dependencies are the dependencies of your build script itself, not dependencies of your library. That is why it is not being included into your final build.</p>\n\n<p>You can solve this issue by adding your <code>classpath</code> dependency to the application as well.</p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.google.gms:google-services:3.1.0'\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6118, "user_id": 1039761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/8l9ld.jpg?s=128&g=1", "display_name": "Udi Oshi", "link": "https://stackoverflow.com/users/1039761/udi-oshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1534196717, "creation_date": 1517297549, "last_edit_date": 1528898068, "question_id": 48516133, "link": "https://stackoverflow.com/questions/48516133/independent-android-library-with-google-analytics", "title": "Independent android library with Google analytics", "body": "<p><strong>TL;DR</strong></p>\n\n<blockquote>\n  <p><strong>Any chance to compile Google Analytics inside library module without any help from application module?</strong></p>\n</blockquote>\n\n<p>I'm struggling for more than a week on how to compile an use GoogleAnalytics in my library.</p>\n\n<p>The goals are:\n 1. Compile and run GoogleAnalytics in android library\n 2. Maintain an application context (Singletone? )</p>\n\n<blockquote>\n  <p><strong>Here is how i'm trying to compile GoogleAnalytics in my library build.gradle file</strong></p>\n</blockquote>\n\n<pre><code>buildscript {\n\next {\n    support = '27.0.2' // https://developer.android.com/topic/libraries/support-library/revisions.html\n    kotlin = '1.2.20' // https://kotlinlang.org/docs/reference/using-gradle.html\n    playServices = '11.8.0'\n}\n\nrepositories {\n    google()\n    jcenter()\n    mavenCentral()\n}\n\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin\"\n    classpath 'com.google.gms:google-services:3.1.0'\n}\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>And the code that handles all analytics:</strong></p>\n</blockquote>\n\n<pre><code>class GenericSettingsAnalytics private constructor(context : Context) {\n\nprivate val tracker = GoogleAnalytics.getInstance(context).newTracker(R.xml.global_tracker)\n\ncompanion object {\n\n    private var instance : GenericSettingsAnalytics? = null\n\n    fun getInstance(context: Context) : GenericSettingsAnalytics {\n        if (instance == null) {\n            instance = GenericSettingsAnalytics(context)\n            instance!!.sendInitAnalytics(context)\n        }\n        return instance!!\n    }\n}\n\nfun sendEvent(category: String, action: String) {\n    tracker.send(HitBuilders.EventBuilder().setCategory(category).setAction(action).build())\n}\n\nfun sendInitAnalytics(context: Context) {\n    tracker.send(HitBuilders.EventBuilder()\n            .setCategory(ANALYTICS_CATEGORIES.CATEGORY_APP_INFO.categoryName)\n            .setAction(ANALYTICS_ACTIONS.ACTION_APP_INIT.actionName)\n            .setLabel(context.packageName)\n            .build())\n}\n\n}\n</code></pre>\n\n<p>Very simple one.\nEverything works great in debug, but when uploading library to bintray (To use it's official compile) i'm getting the following exception:</p>\n\n<pre><code>FATAL EXCEPTION: main\nProcess: com.udioshi85.genericsettings, PID: 12398\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/android/gms/analytics/GoogleAnalytics;\n    at com.oshi.libgenericsettings.GenericSettingsAnalytics.&lt;init&gt;(GenericSettingsAnalytics.kt:14)\n    at com.oshi.libgenericsettings.GenericSettingsAnalytics.&lt;init&gt;(GenericSettingsAnalytics.kt:12)\n    at com.oshi.libgenericsettings.GenericSettingsAnalytics$Companion.getInstance(GenericSettingsAnalytics.kt:22)\n    at com.oshi.libgenericsettings.GenericSettingsLib$Companion.initAnalytics(GenericSettingsLib.kt:20)\n    at com.oshi.libgenericsettings.GenericSettingsLib$Companion.init(GenericSettingsLib.kt:16)\n    at com.oshi.genericsettings.GenericSettingsApp.onCreate(GenericSettingsApp.kt:10)\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1119)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5827)\n    at android.app.ActivityThread.-wrap1(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1673)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:172)\n    at android.app.ActivityThread.main(ActivityThread.java:6637)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\nCaused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.android.gms.analytics.GoogleAnalytics\"\n</code></pre>\n\n<blockquote>\n  <p><strong>Some thougts:</strong></p>\n</blockquote>\n\n<p>In my library build.gradle i'm adding the following classpath:</p>\n\n<pre><code>buildscript {\n    ....\n    dependencies {\n        classpath 'com.google.gms:google-services:3.1.0'\n    }\n}\n</code></pre>\n\n<p>Is it correct?</p>\n\n<p>Most common libraries counts on their users to init the library from an application class. Something like</p>\n\n<pre><code>class MyApp : Application() {\n\noverride fun onCreate() {\n    super.onCreate()\n    MyLibrary.init(this)\n}\n}\n</code></pre>\n\n<p>I've tried it already. but still getting the same exception. Maybe i'm doing something wrong?</p>\n\n<blockquote>\n  <p><strong>Last thing, I've seen &amp; read lots of examples on how to integrate GoogleAnalytics. The important thing is that my users should not add anything in their build.gradle except my compile/implementation library.</strong></p>\n</blockquote>\n\n<p>Would appreciate if someone can help me with that.</p>\n\n<p>Thanks very much!</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "edited": false, "score": 0, "creation_date": 1517289137, "post_id": 48514246, "comment_id": 84023095, "body": "you have to change the path of MainActivity to Package Path of App."}, {"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1517291154, "post_id": 48514246, "comment_id": 84023737, "body": "creating separate package is good coding practice, if your main activity in custom package then give the path for set in manifest."}], "answers": [{"tags": [], "owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "is_accepted": true, "score": 1, "last_activity_date": 1517289189, "creation_date": 1517289189, "answer_id": 48514288, "question_id": 48514246, "link": "https://stackoverflow.com/questions/48514246/top-activity-must-be-located-out-of-the-custom-package/48514288#48514288", "title": "Top activity must be located out of the custom package?", "body": "<p>The activities need to be in the package namespace of the app, but can be in any sub package structure. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9287086"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 48514288, "answer_count": 1, "score": 0, "last_activity_date": 1517295127, "creation_date": 1517288942, "last_edit_date": 1517295127, "question_id": 48514246, "link": "https://stackoverflow.com/questions/48514246/top-activity-must-be-located-out-of-the-custom-package", "title": "Top activity must be located out of the custom package?", "body": "<p>I need some help.\nTop activity must be located out of the custom package?\nIn this case, the MainActivity should be out of the custom package?\nactivity is a custom package name.</p>\n\n<pre><code>&lt;activity android:name=\".activity.MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n        &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"}, {"tags": ["maven", "gradle", "kotlin", "pom.xml", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 10187, "user_id": 2210206, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/jlLLa.jpg?s=128&g=1", "display_name": "AmirHd", "link": "https://stackoverflow.com/users/2210206/amirhd"}, "edited": false, "score": 0, "creation_date": 1517358874, "post_id": 48520075, "comment_id": 84060979, "body": "Thanks @tim_yates, great help! I believe we would have been centuries behind without our open source communities."}], "tags": [], "owner": {"reputation": 153257, "user_id": 6509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6eafe28472ceb9522fd3f609afed53?s=128&d=identicon&r=PG", "display_name": "tim_yates", "link": "https://stackoverflow.com/users/6509/tim-yates"}, "is_accepted": true, "score": 3, "last_activity_date": 1532379728, "last_edit_date": 1532379728, "creation_date": 1517310989, "answer_id": 48520075, "question_id": 48514138, "link": "https://stackoverflow.com/questions/48514138/how-can-i-convert-a-groovy-task-in-gradle-into-gradle-kotlin-dsl-to-generate-a-p/48520075#48520075", "title": "How can I convert a groovy task in gradle into Gradle Kotlin DSL to generate a pom.xml?", "body": "<p>I believe this is the same as a <code>build.gradle.kts</code> file:</p>\n\n<pre><code>plugins {\n    java\n    maven\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_7\n    targetCompatibility = JavaVersion.VERSION_1_7\n}\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile(\"com.google.guava:guava:13.0.1\")\n    compile(\"joda-time:joda-time:2.1\")\n\n    testCompile(\"junit:junit:4.11\")\n    testCompile(\"org.mockito:mockito-core:1.9.5\")\n}\n\ntasks {\n    \"writeNewPom\" {\n        doLast {\n            project.the&lt;MavenPluginConvention&gt;().pom {\n                project {\n                    groupId = \"org.example\"\n                    artifactId = \"test\"\n                    version = \"1.0.0\"\n                    withGroovyBuilder {\n                        \"inceptionYear\"(\"2008\")\n                        \"licenses\" {\n                            \"license\" {\n                                \"name\"(\"The Apache Software License, Version 2.0\")\n                                \"url\"(\"http://www.apache.org/licenses/LICENSE-2.0.txt\")\n                                \"distribution\"(\"repo\")\n                            }\n                        }\n                    }\n                }\n            }.writeTo(\"$buildDir/newPom.xml\")\n        }\n    }\n}\n</code></pre>\n\n<p>You have to use the <code>withGroovyBuilder</code> method to add the untyped properties to the model</p>\n"}], "owner": {"reputation": 10187, "user_id": 2210206, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/jlLLa.jpg?s=128&g=1", "display_name": "AmirHd", "link": "https://stackoverflow.com/users/2210206/amirhd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "accepted_answer_id": 48520075, "answer_count": 1, "score": 2, "last_activity_date": 1532379795, "creation_date": 1517288341, "last_edit_date": 1532379795, "question_id": 48514138, "link": "https://stackoverflow.com/questions/48514138/how-can-i-convert-a-groovy-task-in-gradle-into-gradle-kotlin-dsl-to-generate-a-p", "title": "How can I convert a groovy task in gradle into Gradle Kotlin DSL to generate a pom.xml?", "body": "<p>What is the build.gradle.kts version of the the following Gradle script?</p>\n\n<pre><code>apply plugin: 'maven'\napply plugin: 'java'\n\nsourceCompatibility = 7\ntargetCompatibility = 7\n\ndependencies {\n    compile            'com.google.guava:guava:13.0.1'\n    compile            'joda-time:joda-time:2.1'\n\n    testCompile        'junit:junit:4.11'\n    testCompile        'org.mockito:mockito-core:1.9.5'\n}\n\ntask writeNewPom &lt;&lt; {\n    pom {\n        project {\n            groupId 'org.example'\n            artifactId 'test'\n            version '1.0.0'\n\n            inceptionYear '2008'\n            licenses {\n                license {\n                    name 'The Apache Software License, Version 2.0'\n                    url 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n                    distribution 'repo'\n                }\n            }\n        }\n    }.writeTo(\"$buildDir/newpom.xml\")\n}\n</code></pre>\n\n<h2>References</h2>\n\n<p>1- Gradle sample was <a href=\"https://gist.github.com/jmruc/5852692\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 20411, "user_id": 479027, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/gWrqV.jpg?s=128&g=1", "display_name": "Pinki", "link": "https://stackoverflow.com/users/479027/pinki"}, "edited": false, "score": 0, "creation_date": 1517304231, "post_id": 48513377, "comment_id": 84030241, "body": "Place layout xml in layout and layout_land folders, then automatically it will adjust as per orientation"}, {"owner": {"reputation": 25, "user_id": 1340963, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/58dcac6ee39a2a53f5d29123dc3e2b92?s=128&d=identicon&r=PG", "display_name": "user1340963", "link": "https://stackoverflow.com/users/1340963/user1340963"}, "reply_to_user": {"reputation": 20411, "user_id": 479027, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/gWrqV.jpg?s=128&g=1", "display_name": "Pinki", "link": "https://stackoverflow.com/users/479027/pinki"}, "edited": false, "score": 0, "creation_date": 1517309764, "post_id": 48513377, "comment_id": 84034006, "body": "i alredy place @Pinki"}], "owner": {"reputation": 25, "user_id": 1340963, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/58dcac6ee39a2a53f5d29123dc3e2b92?s=128&d=identicon&r=PG", "display_name": "user1340963", "link": "https://stackoverflow.com/users/1340963/user1340963"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1517285969, "creation_date": 1517282467, "last_edit_date": 1517285969, "question_id": 48513377, "link": "https://stackoverflow.com/questions/48513377/how-to-display-custom-rectangle-alert-dialog-in-android", "title": "how to display custom rectangle Alert dialog in android", "body": "<pre><code>&lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@drawable/dialog_bg\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentTop=\"true\"\n                android:layout_centerHorizontal=\"true\"\n                android:layout_marginLeft=\"20dp\"\n                android:layout_marginRight=\"20dp\"\n                android:layout_marginTop=\"20dp\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/nameText\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_toRightOf=\"@id/profilePic\"\n                    android:ems=\"10\"\n                    android:fontFamily=\"sans-serif-medium\"\n                    android:letterSpacing=\"-0.03\"\n                    android:paddingRight=\"@dimen/margin_20dp\"\n                    android:text=\"Ajay Kulkarni\"\n                    android:textColor=\"#3e4360\"\n                    android:textSize=\"16sp\"\n                    android:textStyle=\"normal\" /&gt;\n                        &lt;TextView\n                    android:id=\"@+id/designation\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_below=\"@+id/nameText\"\n                    android:fontFamily=\"sans-serif\"\n                    android:gravity=\"end\"\n                    android:layout_toRightOf=\"@id/profilePic\"\n\n                    android:letterSpacing=\"-0.03\"\n                    android:paddingRight=\"@dimen/margin_20dp\"\n                    android:text=\"\"\n                    android:textSize=\"12sp\"\n                    android:textStyle=\"normal\" /&gt;\n\n                &lt;com.kdcos.contsync.utilities.RoundedImageView\n                    android:id=\"@+id/profilePic\"\n                    android:layout_width=\"32dp\"\n                    android:layout_height=\"32dp\"\n                    android:layout_alignParentStart=\"true\"\n                    android:background=\"@drawable/ic_my_profile\" /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n\n        &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>function for Alert Dialog:</p>\n\n<pre><code> fun showChangeLangDialog(item: ReceivedCardModel) {\n        val dialogBuilder = AlertDialog.Builder(this)\n        val dialogBinding: DialogAttendeesDetailBinding = DataBindingUtil.inflate(LayoutInflater.from(this), R.layout.dialog_attendees_detail, null, false)\n        dialogBuilder.setView(dialogBinding.root)\n        val b = dialogBuilder.create()}\n</code></pre>\n\n<p>my current screen is coming like square dialog while my my expected screen is like rectangle in land scape mode  i tried to give padding from top and right but not able to get rectangle dialog. it please suggest me how i will do this Thanks. my expected screen like this :\n<a href=\"https://i.stack.imgur.com/qq3zQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qq3zQ.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["cassandra", "kotlin", "composite-primary-key"], "answers": [{"tags": [], "owner": {"reputation": 3042, "user_id": 3016485, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/cdJTd.jpg?s=128&g=1", "display_name": "Hitesh", "link": "https://stackoverflow.com/users/3016485/hitesh"}, "is_accepted": false, "score": 3, "last_activity_date": 1517287376, "creation_date": 1517287376, "answer_id": 48514020, "question_id": 48513008, "link": "https://stackoverflow.com/questions/48513008/cassandra-delete-all-records-that-match-one-entry-of-composite-primary-key/48514020#48514020", "title": "cassandra: delete all records that match one entry of composite primary key", "body": "<p>Yes, you will have to provide all the components of your primary key to successfully execute the delete statement. You will have to query your table to get all the records you want to delete and then execute the delete statement by passing both <code>school_id</code> and <code>student_id</code></p>\n\n<p>reference : <a href=\"https://docs.datastax.com/en/cql/3.3/cql/cql_reference/cqlDelete.html\" rel=\"nofollow noreferrer\">DELETE | CQL for Cassandra 3.0</a></p>\n"}, {"tags": [], "owner": {"reputation": 1638, "user_id": 824644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sWwZp.jpg?s=128&g=1", "display_name": "Pedro Gordo", "link": "https://stackoverflow.com/users/824644/pedro-gordo"}, "is_accepted": false, "score": 0, "last_activity_date": 1517326756, "creation_date": 1517326756, "answer_id": 48525204, "question_id": 48513008, "link": "https://stackoverflow.com/questions/48513008/cassandra-delete-all-records-that-match-one-entry-of-composite-primary-key/48525204#48525204", "title": "cassandra: delete all records that match one entry of composite primary key", "body": "<p>You can also drop the table, and then recreate it. This will clean your table of every record: <a href=\"https://docs.datastax.com/en/cql/3.1/cql/cql_reference/drop_table_r.html\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/cql/3.1/cql/cql_reference/drop_table_r.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 1161, "user_id": 1836009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f94fa6cddddd99e53e1e13a29f5de0?s=128&d=identicon&r=PG", "display_name": "medvekoma", "link": "https://stackoverflow.com/users/1836009/medvekoma"}, "is_accepted": false, "score": 0, "last_activity_date": 1517336895, "creation_date": 1517336895, "answer_id": 48528188, "question_id": 48513008, "link": "https://stackoverflow.com/questions/48513008/cassandra-delete-all-records-that-match-one-entry-of-composite-primary-key/48528188#48528188", "title": "cassandra: delete all records that match one entry of composite primary key", "body": "<p>Yes, as Hitesh mentioned, you have to specify all fields of your partition key.</p>\n\n<p>If you can influence the table design, it is probably a better choice to have school_id as partition key, and student_id as clustering key:</p>\n\n<pre><code>CREATE TABLE myTable (\n  school_id bigint,\n  student_id bigint,\n  -- other fields,\n  PRIMARY KEY ((school_id), student_id)\n)\n</code></pre>\n\n<p>In this case you can filter by just the school_id but also by school_id, student_id pairs.</p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1689, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1517336895, "creation_date": 1517279528, "question_id": 48513008, "link": "https://stackoverflow.com/questions/48513008/cassandra-delete-all-records-that-match-one-entry-of-composite-primary-key", "title": "cassandra: delete all records that match one entry of composite primary key", "body": "<p>I have a cassandra table who has a composite primary key: <code>(school_id, student_id)</code>. Let's say that I want to delete all the records in this table that belong to one school. Using cassandra driver, I tried to bind only the <code>school_id</code> like:</p>\n\n<pre><code>val query = QueryBuilder.delete().all().from(session.loggedKeyspace, \"mytable\")\n   .where(QueryBuilder.eq(\"school_id\", QueryBuilder.bindMarker())\n   .bind(\"school_1\")\nsession.execute(query)\n</code></pre>\n\n<p>I get an error saying that:</p>\n\n<pre><code>com.datastax.driver.core.exceptions.InvalidQueryException: Missing mandatory PRIMARY KEY part student_id\n</code></pre>\n\n<p>I could have thousands of students in one school. Do I have to query the table first to get all distinct <code>student_id</code>s and then use this delete statement?</p>\n"}, {"tags": ["android", "performance", "kotlin", "android-constraintlayout", "android-appbarlayout"], "comments": [{"owner": {"reputation": 16492, "user_id": 826606, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/mN8Uy.jpg?s=128&g=1", "display_name": "M-WaJeEh", "link": "https://stackoverflow.com/users/826606/m-wajeeh"}, "edited": false, "score": 0, "creation_date": 1517266911, "post_id": 48509759, "comment_id": 84017667, "body": "Just change position of the views the way you want and don&#39;t call <code>requestLayout()</code>. Calling it is expensive and shouldn&#39;t be done here."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1517325088, "post_id": 48509759, "comment_id": 84044049, "body": "If you only need to change offset use translationX / Y, it&#39;s much faster and doesn&#39;t affect layout calls."}], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517259538, "creation_date": 1517259100, "last_edit_date": 1517259538, "question_id": 48509759, "link": "https://stackoverflow.com/questions/48509759/onoffsetchanged-listener-resize-relocate-redraw-causes-laggy-scroll", "title": "onOffsetChanged listener resize/relocate ...redraw causes laggy scroll", "body": "<p>I have a <code>CollapsingToolbarLayout</code> and within I resize and move views on collapse/uncollapse using <code>ConstraintLayout</code></p>\n\n<pre><code>appbar.onOffsetChanged { appBarLayout, verticalOffset -&gt; \n    //... do math\n    aConstrainedView.requestLayout()\n}\n</code></pre>\n\n<p>The problem comes that the scroll starts to lag big time because of <code>requestLayout()</code> redrawing the whole hierarchy.</p>\n\n<p>Is there some optimizing or any other sufficient way to modify views following the scroll in that Situation?</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/appbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@android:color/transparent\"\n        android:fitsSystemWindows=\"true\"&gt;\n\n  &lt;android.support.design.widget.CollapsingToolbarLayout\n        android:id=\"@+id/collapsingToolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:minHeight=\"?attr/actionBarSize\"\n        app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"&gt;\n\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:id=\"@+id/appBarCL\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n\n            &lt;ImageView /&gt;\n\n            &lt;ImageView /&gt;\n\n            &lt;View /&gt;\n\n            &lt;View/&gt;\n\n            &lt;ImageView /&gt;\n\n            &lt;ImageView /&gt;\n\n            &lt;TextView /&gt;\n\n            &lt;TextView /&gt;\n\n\n            &lt;GridLayout&gt;\n\n                &lt;TextView /&gt;\n\n                &lt;TextView /&gt;\n\n                &lt;TextView /&gt;\n\n                &lt;TextView /&gt;\n\n            &lt;/GridLayout&gt;\n\n            &lt;android.support.constraint.Guideline /&gt;\n\n            &lt;android.support.constraint.Guideline/&gt;\n\n            &lt;android.support.constraint.Guideline /&gt;\n\n      &lt;/android.support.constraint.ConstraintLayout&gt;&gt;\n\n\n  &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "proguard", "android-proguard"], "answers": [{"tags": [], "owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "is_accepted": false, "score": 6, "last_activity_date": 1517281958, "last_edit_date": 1517281958, "creation_date": 1517279267, "answer_id": 48512972, "question_id": 48509393, "link": "https://stackoverflow.com/questions/48509393/proguard-keep-public-classes-fields-and-methods/48512972#48512972", "title": "Proguard keep public classes, fields and methods", "body": "<p>Your rules are way too broad.</p>\n\n<ol>\n<li>Single \"-keep\" with nested rules is more broad, compared to combination of \"-keepmembers\" and \"-keepclasseswithmembers\" rules</li>\n<li>Full \"-keep\" rule means \"do not change bytecode of that method, ever\"</li>\n<li>Classes, referenced by kept classes and methods, can not be removed, renamed or repackaged</li>\n</ol>\n\n<hr>\n\n<p>This line in your rules keeps <em>all</em> your classes and interfaces:</p>\n\n<pre><code>-keep public class * {\n</code></pre>\n\n<p>I mean ALL of them. Whether they have public members or not.</p>\n\n<p>Use <code>-keepclasseswithmembers</code> instead!</p>\n\n<p>Because of these lines</p>\n\n<pre><code>{\n    public &lt;methods&gt;;\n    public &lt;fields&gt;;\n}\n</code></pre>\n\n<p>all your public methods will be left untouched, which means that <strong>repackaging</strong> and <strong>renaming methods, referenced from your public methods</strong> can not be carried out!</p>\n\n<p>If you want at least some repackaging to be done, make sure to allow <strong>optimization</strong> (because repackaging is performed as part of optimization step):</p>\n\n<pre><code>-keepmembers,allowoptimization public class * {\n    public &lt;methods&gt;;\n    public &lt;fields&gt;;\n}\n</code></pre>\n\n<p>In addition to repackaging, this will also allow for some inlining (which in turn assists in removing classes, that supply inlined methods).</p>\n\n<p>Also with Android apps you are much better off repackaging into your primary package (the application package, or package with biggest number of your immovable classes in it) instead of empty package (<code>''</code>). This is because some \"exported\" classes (Activities, Views, Services, other stuff, referenced from xml files) can not be moved outside of their package by Proguard, \u2014 aapt dynamically generates special rules to prevent that. The part of optimization process, that changes access modes from public to protected/private, becomes more efficient the more classes can be placed together in single package.</p>\n\n<blockquote>\n  <p>I want to obfuscate and shrink everything apart from all public classes.</p>\n</blockquote>\n\n<p>Bad idea. You really should try to obfuscate as much as possible, <em>especially</em> public classes. If you restrict obfuscation, repackaging is also restricted! It would rename them!!</p>\n\n<p>Aim for the most specific rules possible.</p>\n\n<p>If you want to prevent shrinking:</p>\n\n<pre><code>-keep,allowoptimization,allowobfuscation public class com.example.Example\n</code></pre>\n\n<p>If you want to prevent renaming, but allow stripping unused classes:</p>\n\n<pre><code>-keep,allowoptimization,allowshrinking public class com.example.*\n</code></pre>\n\n<p>In general, avoid wildcard rules (bare <code>*</code>) and <code>-keep</code> rules: prefer rules for specific classes and <code>-keepmembers</code>/<code>-keepclasseswithmembers</code></p>\n\n<hr>\n\n<p>The correct approaches for obfuscating applications and libraries are completely different, but they have something in common \u2014 you should not care about public methods/classes; just obfuscate/shrink/repackage as much as possible until any more would break it.</p>\n\n<p>For applications you should just obfuscate/repackage as much as possible. If you don't know, which packages are safe to obfuscate, start from <a href=\"https://stackoverflow.com/a/31508908/1643723\">opting known safe packages into obfuscation</a>.</p>\n\n<p>For libraries \u2014 do not apply Proguard to library itself (unless you are trying to achieve security by obscurity). Use the feature of aar format \u2014 <a href=\"https://stackoverflow.com/questions/30201420\">consumer proguard files</a> \u2014 that allows to supply rule \"segments\", which should be followed during final app obfuscation.</p>\n"}], "owner": {"reputation": 12042, "user_id": 1447885, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ecbf67a102659b602b939fa0a7b03a11?s=128&d=identicon&r=PG", "display_name": "Diolor", "link": "https://stackoverflow.com/users/1447885/diolor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8994, "favorite_count": 6, "answer_count": 1, "score": 3, "last_activity_date": 1517281958, "creation_date": 1517257414, "last_edit_date": 1517261794, "question_id": 48509393, "link": "https://stackoverflow.com/questions/48509393/proguard-keep-public-classes-fields-and-methods", "title": "Proguard keep public classes, fields and methods", "body": "<p>I use Kotlin and I have many internal classes. \nI want to obfuscate and shrink everything apart from all <code>public</code> classes.</p>\n\n<p><strong>Proguard rules:</strong></p>\n\n<pre><code>-dontusemixedcaseclassnames\n-dontskipnonpubliclibraryclasses\n-verbose\n\n-optimizationpasses 5\n-overloadaggressively\n-repackageclasses ''\n-allowaccessmodification\n\n-keep public class * {\n    public &lt;methods&gt;;\n    public &lt;fields&gt;;\n}\n</code></pre>\n\n<p>Unfortunately the <code>-keep public class *</code> behaves defensively and keeps all names, also for the internal classes.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1517251676, "post_id": 48507869, "comment_id": 84010621, "body": "What&#39;s the API level of the device you&#39;re running this on, and what&#39;s your target API?"}, {"owner": {"reputation": 3, "user_id": 9285305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6ad443195df7cc6de4e628453eb5c99?s=128&d=identicon&r=PG", "display_name": "user9285305", "link": "https://stackoverflow.com/users/9285305/user9285305"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1517253120, "post_id": 48507869, "comment_id": 84011405, "body": "The device is huawei p10 lite, so api 24"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 0, "last_activity_date": 1517251861, "creation_date": 1517251861, "answer_id": 48508059, "question_id": 48507869, "link": "https://stackoverflow.com/questions/48507869/use-of-timepicker/48508059#48508059", "title": "Use of TimePicker", "body": "<p><a href=\"https://developer.android.com/reference/java/util/Calendar.html#HOUR_OF_DAY\" rel=\"nofollow noreferrer\"><code>Calendar.HOUR_OF_DAY</code></a> and <a href=\"https://developer.android.com/reference/java/util/Calendar.html#MINUTE\" rel=\"nofollow noreferrer\"><code>Calendar.MINUTE</code></a> are constant values in the <code>Calendar</code> class to use with the <a href=\"https://developer.android.com/reference/java/util/Calendar.html#get(int)\" rel=\"nofollow noreferrer\"><code>get()</code></a> method. To get the current hour and minute, you can do the following:</p>\n\n<pre><code> val now = Calendar.newInstance()\n val hour = now.get(Calendar.HOUR_OF_DAY)\n val minute = now.get(Calendar.MINUTE)\n</code></pre>\n\n<p>These are the values that your <code>if</code> check should be against.</p>\n"}], "owner": {"reputation": 3, "user_id": 9285305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6ad443195df7cc6de4e628453eb5c99?s=128&d=identicon&r=PG", "display_name": "user9285305", "link": "https://stackoverflow.com/users/9285305/user9285305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 1, "accepted_answer_id": 48508059, "answer_count": 1, "score": 0, "last_activity_date": 1517251861, "creation_date": 1517251006, "question_id": 48507869, "link": "https://stackoverflow.com/questions/48507869/use-of-timepicker", "title": "Use of TimePicker", "body": "<p>I tried to create an app that send a notification (with a customised text) when the time is the same the user inserted in the timePicker, but the notification doesn't appear at all. </p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val UniqueID = 47245\n    timePicker.setIs24HourView(true)\n    button1.setOnClickListener {\n        if((Calendar.HOUR_OF_DAY == timePicker.hour) &amp;&amp; (Calendar.MINUTE == timePicker.minute)) {\n            var notification = NotificationCompat.Builder(this, \"M_CH_ID\")\n            notification.setSmallIcon(R.mipmap.ic_launcher)\n            notification.setTicker(editText.text)\n            notification.setWhen(System.currentTimeMillis())\n            notification.setContentTitle(\"Notifica\")\n            notification.setContentText(editText.text)\n            var ringtone: Uri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION)\n            var intent = Intent(this, MainActivity::class.java)\n            var pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n            notification.setContentIntent(pendingIntent)\n            notification.setLights(Color.RED, 2500, 1000) \n            notification.setSound(ringtone)\n            notification.setAutoCancel(true)\n            var notManager: NotificationManager = getSystemService(NOTIFICATION_SERVICE) as NotificationManager\n            notManager.notify(UniqueID, notification.build())\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-testing", "android-instrumentation"], "comments": [{"owner": {"reputation": 3694, "user_id": 3194952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/43c674a8e565e1f9d4b34bdfe7cc6088?s=128&d=identicon&r=PG", "display_name": "stanete", "link": "https://stackoverflow.com/users/3194952/stanete"}, "edited": false, "score": 0, "creation_date": 1520080811, "post_id": 48507607, "comment_id": 85173665, "body": "I have he exact same problem . Did you find a solution for this?"}, {"owner": {"reputation": 3694, "user_id": 3194952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/43c674a8e565e1f9d4b34bdfe7cc6088?s=128&d=identicon&r=PG", "display_name": "stanete", "link": "https://stackoverflow.com/users/3194952/stanete"}, "edited": false, "score": 3, "creation_date": 1520091052, "post_id": 48507607, "comment_id": 85176925, "body": "It seems more people have his problem too... <a href=\"https://discuss.kotlinlang.org/t/empty-test-suite-if-running-a-kotlin-test/6712\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}, {"owner": {"reputation": 2709, "user_id": 4718283, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aQJJn.jpg?s=128&g=1", "display_name": "Husayn Hakeem", "link": "https://stackoverflow.com/users/4718283/husayn-hakeem"}, "reply_to_user": {"reputation": 3694, "user_id": 3194952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/43c674a8e565e1f9d4b34bdfe7cc6088?s=128&d=identicon&r=PG", "display_name": "stanete", "link": "https://stackoverflow.com/users/3194952/stanete"}, "edited": false, "score": 0, "creation_date": 1520269546, "post_id": 48507607, "comment_id": 85236692, "body": "@DavidStanete No i haven&#39;t"}, {"owner": {"reputation": 1399, "user_id": 3559908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d9d858e2647cbf007d4bcb9b151eec?s=128&d=identicon&r=PG&f=1", "display_name": "Vall0n", "link": "https://stackoverflow.com/users/3559908/vall0n"}, "edited": false, "score": 0, "creation_date": 1576835011, "post_id": 48507607, "comment_id": 105032359, "body": "Hi @HusaynHakeem, did you resolved your issue? If so, please let us know how. Thanks in advance!"}], "owner": {"reputation": 2709, "user_id": 4718283, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aQJJn.jpg?s=128&g=1", "display_name": "Husayn Hakeem", "link": "https://stackoverflow.com/users/4718283/husayn-hakeem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1517249881, "creation_date": 1517249881, "question_id": 48507607, "link": "https://stackoverflow.com/questions/48507607/android-kotlin-instrumentation-test-not-recognized-as-instrumentation-test", "title": "Android Kotlin instrumentation test not recognized as instrumentation test", "body": "<p>I'm trying to write a kotlin instrumentation test in my Android project. it's pretty basic for the moment:</p>\n\n<pre><code>class SimpleTest {\n\n    @Test\n    fun aTest() {\n        Assert.assertTrue(true)\n    }\n}\n</code></pre>\n\n<p>When I run it, it says that <code>no tests were found</code>. But when I run the Java version of this class I'm prompted to choose the device on which I want to run the test (meaning that AS recognizes it as an instrumentation test).</p>\n\n<p>The Java version looks like this:</p>\n\n<pre><code>public class AnyTest {\n\n    @Test\n    void aTest() {\n        Assert.assertTrue(true);\n    }\n}\n</code></pre>\n\n<p>If I then convert this Java class to Kotlin and re-run the test, I get the same <code>no tests were found</code>.</p>\n\n<p>What am I missing here?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "fragment", "android-context"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1517252125, "last_edit_date": 1517252125, "creation_date": 1517248780, "answer_id": 48507313, "question_id": 48507270, "link": "https://stackoverflow.com/questions/48507270/getactivity-from-non-activity-class-kotlin/48507313#48507313", "title": "getActivity() from non activity class Kotlin", "body": "<p>You don't actually need an <code>Activity</code> to launch an <code>Intent</code>, you need a <code>Context</code>. You can get the <code>Context</code> of the viewholder's <code>itemView</code> for example, like this:</p>\n\n<pre><code>holder.itemView.setOnClickListener {\n    val context = holder.itemView.context\n    val intent = Intent(context,DetailsActivtiy::class.java)\n    intent.putExtra(\"ImageUrl\", uri)\n    context.startActivity(intent)\n}\n</code></pre>\n\n<p>Alternatively, you could introduce a listener mechanism and notify the <code>Fragment</code> that contains the adapter that an item has been clicked, and have the <code>Fragment</code> launch the appropriate <code>Intent</code>.</p>\n"}], "owner": {"reputation": 732, "user_id": 4970906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bm7i6.jpg?s=128&g=1", "display_name": "Armen Hovhannisian", "link": "https://stackoverflow.com/users/4970906/armen-hovhannisian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5545, "favorite_count": 0, "accepted_answer_id": 48507313, "answer_count": 1, "score": 0, "last_activity_date": 1529698353, "creation_date": 1517248639, "last_edit_date": 1529698353, "question_id": 48507270, "link": "https://stackoverflow.com/questions/48507270/getactivity-from-non-activity-class-kotlin", "title": "getActivity() from non activity class Kotlin", "body": "<p>I would like to go from <code>Fragment</code> to an <code>Activity</code> by clicking on an item of <code>Fragment</code>'s <code>RecyclerView</code>.  <code>RecyclerView</code> adapter is made in separate class, so in that class in the part of <code>setOnClickListener{}</code> I have to write the <code>Intent</code> part. </p>\n\n<pre><code>holder.itemView.setOnClickListener{\n\n            val intent = Intent(MainActivity.getActivity(),DetailsActivtiy::class.java)\n\n            intent.putExtra(\"ImageUrl\", uri)\n\n            MainActivity.getActivity().startActivity(intent)\n}\n</code></pre>\n\n<p>The problem as you might already guessed is <code>MainActivty.getActivity()</code> .\nI tried the approach from <code>Fragment</code> via <code>onButtonClick</code> instead of <code>MainActivty.getActivity()</code> I wrote only <code>activity</code> and it worked perfectly but it does not work in <code>RecyclerView</code> adapter because it is non activity class. How to solve my problem?\nBest, Armen.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1517300227, "post_id": 48506086, "comment_id": 84027936, "body": "Thanks @Moira. I&#39;m just trying to better understand Kotlin&#39;s type inference. Now, I get the <code>Companion</code> trick. Tricky but ok. However, I&#39;m still a bit puzzled by the \u201ccast\u201d of an <code>(Any) -&gt; String</code> value into <code>(Any) -&gt; Unit</code>. Does this is mean a trailing <code>; return kotlin.Unit</code> (I know the syntax is wrong) is added at the end of the body of the \u03bb?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 1, "creation_date": 1517468588, "post_id": 48506086, "comment_id": 84109861, "body": "@cuihtlauac Yep, that&#39;s basically it. It ignores the return value and returns <code>Unit</code> (or, from a Java standpoint, <code>Unit.INSTANCE</code>, since it&#39;s a singleton) instead."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 4, "last_activity_date": 1517468847, "last_edit_date": 1592644375, "creation_date": 1517244244, "answer_id": 48506086, "question_id": 48505963, "link": "https://stackoverflow.com/questions/48505963/type-name-as-value/48506086#48506086", "title": "Type name as value?", "body": "<blockquote>\n<p>Type name as value?</p>\n</blockquote>\n<p><code>String</code> and <code>Int</code> are the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">companion objects</a> (sort of the equivalent to Java's <code>static</code>) of the <code>String</code> and <code>Int</code> classes. The name of a class is synonymous with the name of its companion object, i.e. <code>Int</code> more or less is the same as <code>Int.Companion</code>, etc.</p>\n<p><code>{ _:Any -&gt; String }</code> and <code>{ x:Any -&gt; x.toString() }</code> are both <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"nofollow noreferrer\">lambdas</a> of type <code>(Any) -&gt; String.Companion</code> and <code>(Any) -&gt; String</code>, but since the result of the function call is assigned to <code>a</code>, which is of type <code>Unit</code>, these functions are both inferred to return <code>Unit</code>.</p>\n<p>Basically, after type inference:</p>\n<p><code>{ _:Any -&gt; String }</code> is a <code>(Any) -&gt; Unit</code></p>\n<p><code>{ x:Any -&gt; x.toString() }</code> is also a <code>(Any) -&gt; Unit</code></p>\n<blockquote>\n<p>This type corresponds to the <code>void</code> type in Java.</p>\n<p><sub><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html\" rel=\"nofollow noreferrer\">Documentation: Unit</a></sub></p>\n</blockquote>\n<p>So these functions both effectively do nothing.</p>\n<p>The first function (of type <code>(Any) -&gt; Unit</code> takes one argument (which is unused) and returns <code>String.Companion</code>.</p>\n<p>In this case, it is called with <code>Int.Companion</code>... but the argument is unused, so it doesn't matter.</p>\n<p>You could have written:</p>\n<pre><code>val lambda: (Any) -&gt; Unit = { _: Any -&gt; String }\nval a: Unit = lambda(Int)\n</code></pre>\n<p>The second function calls <code>toString</code> on its parameter, which is in this case <code>Unit</code>. The string representation of <code>Unit</code> <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.0/core/builtins/src/kotlin/Unit.kt#L23\" rel=\"nofollow noreferrer\">is defined as <code>&quot;kotlin.Unit&quot;</code></a>, but since it is assigned to <code>a</code> the function's return type is inferred to be <code>Unit</code>, so the function doesn't return anything useful.</p>\n<p>These functions are both quite useless as they return <code>Unit</code> (i.e. <code>void</code>, nothing). What do you want to accomplish?</p>\n"}, {"comments": [{"owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1517301289, "post_id": 48506168, "comment_id": 84028582, "body": "Thanks @zsmb13. In the second case, when passing <code>Unit</code> to the \u03bb, am I denoting <code>Unit.Companion</code> (of type <code>Any</code>) or <code>kotlin.Unit</code> (of type <code>Unit</code>)?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 1, "creation_date": 1517301363, "post_id": 48506168, "comment_id": 84028628, "body": "<a href=\"https://github.com/JetBrains/kotlin/blob/1.2.0/core/builtins/src/kotlin/Unit.kt#L22\" rel=\"nofollow noreferrer\"><code>Unit</code></a> is actually a singleton <code>object</code> already, so in that case, you&#39;re referencing its single instance."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 6, "last_activity_date": 1517244493, "creation_date": 1517244493, "answer_id": 48506168, "question_id": 48505963, "link": "https://stackoverflow.com/questions/48505963/type-name-as-value/48506168#48506168", "title": "Type name as value?", "body": "<p>Let's break down the first line.</p>\n\n<pre><code>{ _: Any -&gt; String }\n</code></pre>\n\n<p>This is a lambda. It takes one parameter, that's marked as never used by giving it the name <code>_</code>. The parameter of this type is specified as <code>Any</code>. The lambda returns <code>String</code>, which refers to the (completely empty) <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.0/core/builtins/native/kotlin/String.kt#L24\" rel=\"noreferrer\"><code>companion object</code> inside the <code>String</code> class</a>. The type of this lambda is therefore <code>(Any) -&gt; String.Companion</code>.</p>\n\n<pre><code>{ _: Any -&gt; String }(Int)\n</code></pre>\n\n<p>This lambda is invoked by the parentheses after it, passing in <code>Int</code>, which again refers to the <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.0/core/builtins/native/kotlin/Primitives.kt#L378\" rel=\"noreferrer\"><code>companion object</code> inside that class</a> (this one isn't empty, it contains constants). This works, because of course, <code>Int.Companion</code> is a subtype of <code>Any</code>, the expected parameter type.</p>\n\n<pre><code>val a: Unit = { _: Any -&gt; String }(Int)\n</code></pre>\n\n<p>Finally, the declaration of <code>a</code> with its explicit <code>Unit</code> type forces the lambda to change its inferred type from <code>(Any) -&gt; String.Companion</code> to <code>(Any) -&gt; Unit</code>, so it can return the expected explicit type after it's invoked.</p>\n\n<p>The second line is more of the same, only simpler without the companion objects.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1517244883, "last_edit_date": 1517244883, "creation_date": 1517244523, "answer_id": 48506178, "question_id": 48505963, "link": "https://stackoverflow.com/questions/48505963/type-name-as-value/48506178#48506178", "title": "Type name as value?", "body": "<p>You defined a lambda <code>{ _: Any -&gt; String }</code> of type <code>(Any)-&gt; String.Companion</code> and called it with the <code>Int.Companion</code> object. It always returns the <code>String.Companion</code> object. Does not make much sense. The following might be more readable:</p>\n\n<pre><code>val func = { _: Any -&gt; String.Companion }\nval res = func(Int.Companion)\n</code></pre>\n\n<p>Note that <code>Int</code> and <code>Int.Companion</code> are used interchangeably here (also applies for the <code>String</code> one).</p>\n\n<p>Information about companion objects can be found in the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}], "owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 48506086, "answer_count": 3, "score": 0, "last_activity_date": 1530709566, "creation_date": 1517243780, "last_edit_date": 1530709566, "question_id": 48505963, "link": "https://stackoverflow.com/questions/48505963/type-name-as-value", "title": "Type name as value?", "body": "<p>Can somebody point me to the documentation explaining what the following means? Especially, I'd like to know why <code>String</code> and <code>Int</code> can be used as shown.</p>\n\n<pre><code>val a: Unit = { _: Any -&gt; String }(Int)\n</code></pre>\n\n<p>Initially, I had written this:</p>\n\n<pre><code>val a: Unit = { x: Any -&gt; x.toString() }(Unit)\n</code></pre>\n\n<p>In both cases, I've failed to find the right documentation.</p>\n"}, {"tags": ["android", "android-studio", "button", "imageview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5511, "user_id": 7682257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VeNQ.jpg?s=128&g=1", "display_name": "Suraj Vaishnav", "link": "https://stackoverflow.com/users/7682257/suraj-vaishnav"}, "is_accepted": true, "score": 0, "last_activity_date": 1517243195, "creation_date": 1517243195, "answer_id": 48505780, "question_id": 48505648, "link": "https://stackoverflow.com/questions/48505648/rotate-between-images-in-loop/48505780#48505780", "title": "Rotate between images in loop", "body": "<p>remove <code>body.setTag(1)</code> fron <code>onclicklistener</code>\nits setting tag to 1 every time button is clicked \nmove this line to <code>onCreate</code></p>\n"}], "owner": {"reputation": 17, "user_id": 9004647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6fcb3ba088613496bac1d30e7c8913?s=128&d=identicon&r=PG&f=1", "display_name": "RAL", "link": "https://stackoverflow.com/users/9004647/ral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 48505780, "answer_count": 1, "score": 0, "last_activity_date": 1517246726, "creation_date": 1517242735, "last_edit_date": 1517246726, "question_id": 48505648, "link": "https://stackoverflow.com/questions/48505648/rotate-between-images-in-loop", "title": "Rotate between images in loop", "body": "<p>I created a button to switch between two images in loop mode, but I couldn't make it work. \nWhen I press the button for the second time, the image doesn't change as it should.</p>\n\n<p>Here is my code:</p>\n\n<p>Kotlin:</p>\n\n<pre><code>IBRotate.setOnClickListener()\n{\n    body.setTag(1)\n\n    if(body.getTag() == 1)\n    {\n        body.setImageResource(R.drawable.back_woman)\n        body.setTag(2)\n    }\n    else if(body.getTag() == 2)\n    {\n        body.setImageResource(R.drawable.front_woman)\n        body.setTag(1)\n    }\n}\n</code></pre>\n\n<p>XML:</p>\n\n<pre><code>&lt;ImageButton\n    android:id=\"@+id/IBRotate\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    app:srcCompat=\"@drawable/ic_rotate\"\n    tools:ignore=\"VectorDrawableCompat\"\n    android:layout_gravity=\"right\"/&gt;\n\n\n&lt;ImageView\n    android:id=\"@+id/body\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    app:srcCompat=\"@drawable/front_woman\"\n    tools:ignore=\"VectorDrawableCompat\"\n    android:layout_marginBottom=\"20dp\"/&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "jetbrains-ide", "android-studio-3.0", "android-gradle-3.0"], "comments": [{"owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1517240875, "post_id": 48504912, "comment_id": 84003973, "body": "do you have anything in your logcat ? or just &quot;unabe to merge dex&quot; ?, also try clean project - rebuild project and compile , it had to bring a new error with a path or something"}, {"owner": {"reputation": 713, "user_id": 242838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ai2Zz.jpg?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/242838/kar"}, "reply_to_user": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1517241723, "post_id": 48504912, "comment_id": 84004585, "body": "@IDroid yes I did, I just updated my question to add the log output."}], "answers": [{"comments": [{"owner": {"reputation": 713, "user_id": 242838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ai2Zz.jpg?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/242838/kar"}, "edited": false, "score": 1, "creation_date": 1517253198, "post_id": 48507929, "comment_id": 84011453, "body": "Funny, I just managed to come to the same conclusion the moment you posted your answer :). Reported the issue <a href=\"https://github.com/MarioAriasC/funKTionale/issues/42\" rel=\"nofollow noreferrer\">here</a>. Your answer is very informative, I&#39;m impressed. Thank you!"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 713, "user_id": 242838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ai2Zz.jpg?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/242838/kar"}, "edited": false, "score": 1, "creation_date": 1517253373, "post_id": 48507929, "comment_id": 84011553, "body": "I had some time to spare, this one took a bit of research for sure ;) Upvoted the GitHub issue."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1517323218, "last_edit_date": 1517323218, "creation_date": 1517251288, "answer_id": 48507929, "question_id": 48504912, "link": "https://stackoverflow.com/questions/48504912/android-gradle-3-0-multiple-dex-files-define-lorg-jetbrains-annotations-testonl/48507929#48507929", "title": "Android Gradle 3.0: Multiple dex files define Lorg/jetbrains/annotations/TestOnly", "body": "<p>Turns out it's Funktionale being a bit of a bad citizen that's causing the problem. Using class lookup (Ctrl + N on Windows) for the given class, I got two results. One of them inside the expected JetBrains annotation package, the other inside Funktionale's.</p>\n\n<p><a href=\"https://i.stack.imgur.com/t0gsO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t0gsO.png\" alt=\"The search results\"></a></p>\n\n<p>Looking at the contents of this package, you can see that it actually contains a whole bunch of externally defined annotations inside it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/62j4Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/62j4Q.png\" alt=\"The contents of the Funktionale distribution\"></a></p>\n\n<p>I can't say why they did this instead of having these libraries declared as dependencies though.</p>\n\n<hr>\n\n<p>Now, for a list of possible solutions.</p>\n\n<ol>\n<li><p>Open up the .jar file provided by the dependency, remove the offending packages from it, repack it, and include it in your project as a local <code>.jar</code> file.</p></li>\n<li><p>Look into hacky solutions that try to remove .class files from a Gradle dependency. I found <a href=\"https://stackoverflow.com/a/44914189/4465208\">this</a> while looking into this, but it didn't seem to work for me.</p></li>\n<li><p>Raise an issue with the library authors on GitHub and wait for a response and a new release.</p></li>\n<li><p>Fork and re-publish the library with the offending packages removed.</p></li>\n<li><p>Use <a href=\"http://arrow-kt.io/\" rel=\"nofollow noreferrer\">Arrow</a> instead. This is a new functional Kotlin library created by the maintainers of Funktionale and Kategory together. They talk about it on the a Talking Kotlin podcast episode <a href=\"http://talkingkotlin.com/Arrow-Functional-Library/\" rel=\"nofollow noreferrer\">here</a>. Unfortunately, I don't have personal experience with either of these libraries, but it might suit your needs.</p></li>\n</ol>\n"}], "owner": {"reputation": 713, "user_id": 242838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ai2Zz.jpg?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/242838/kar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 48507929, "answer_count": 1, "score": 3, "last_activity_date": 1517323218, "creation_date": 1517240467, "last_edit_date": 1517241705, "question_id": 48504912, "link": "https://stackoverflow.com/questions/48504912/android-gradle-3-0-multiple-dex-files-define-lorg-jetbrains-annotations-testonl", "title": "Android Gradle 3.0: Multiple dex files define Lorg/jetbrains/annotations/TestOnly", "body": "<p>Seems like a run of a mill <code>unable to merge dex</code> problem, however, I can't find where the duplicated dependency comes from. The <code>app:dependencies</code> printout is pasted below.</p>\n\n<p>As you can see, <code>org.jetbrains:annotations:13.0</code> exists only once in here. Am I reading it wrong? What other commands I can use to hunt the duplicate dependency?</p>\n\n<pre><code>- com.google.firebase:firebase-core:11.8.0\n|    \\--- com.google.firebase:firebase-analytics:11.8.0\n|         +--- com.google.android.gms:play-services-basement:11.8.0\n|         |    +--- com.android.support:support-v4:25.2.0 -&gt; 27.0.2\n|         |    |    +--- com.android.support:support-compat:27.0.2\n|         |    |    |    +--- com.android.support:support-annotations:27.0.2\n|         |    |    |    \\--- android.arch.lifecycle:runtime:1.0.3\n|         |    |    |         +--- android.arch.lifecycle:common:1.0.3\n|         |    |    |         \\--- android.arch.core:common:1.0.0\n|         |    |    +--- com.android.support:support-media-compat:27.0.2\n|         |    |    |    +--- com.android.support:support-annotations:27.0.2\n|         |    |    |    \\--- com.android.support:support-compat:27.0.2 (*)\n|         |    |    +--- com.android.support:support-core-utils:27.0.2\n|         |    |    |    +--- com.android.support:support-annotations:27.0.2\n|         |    |    |    \\--- com.android.support:support-compat:27.0.2 (*)\n|         |    |    +--- com.android.support:support-core-ui:27.0.2\n|         |    |    |    +--- com.android.support:support-annotations:27.0.2\n|         |    |    |    \\--- com.android.support:support-compat:27.0.2 (*)\n|         |    |    \\--- com.android.support:support-fragment:27.0.2\n|         |    |         +--- com.android.support:support-compat:27.0.2 (*)\n|         |    |         +--- com.android.support:support-core-ui:27.0.2 (*)\n|         |    |         +--- com.android.support:support-core-utils:27.0.2 (*)\n|         |    |         \\--- com.android.support:support-annotations:27.0.2\n|         |    \\--- com.google.android.gms:play-services-basement-license:11.8.0\n|         +--- com.google.firebase:firebase-common:11.8.0\n|         |    +--- com.google.android.gms:play-services-basement:11.8.0 (*)\n|         |    +--- com.google.android.gms:play-services-tasks:11.8.0\n|         |    |    +--- com.google.android.gms:play-services-basement:11.8.0 (*)\n|         |    |    \\--- com.google.android.gms:play-services-tasks-license:11.8.0\n|         |    \\--- com.google.firebase:firebase-common-license:11.8.0\n|         +--- com.google.firebase:firebase-analytics-impl:11.8.0\n|         |    +--- com.google.android.gms:play-services-basement:11.8.0 (*)\n|         |    +--- com.google.firebase:firebase-iid:11.8.0\n|         |    |    +--- com.google.android.gms:play-services-basement:11.8.0 (*)\n|         |    |    +--- com.google.firebase:firebase-common:11.8.0 (*)\n|         |    |    +--- com.google.android.gms:play-services-tasks:11.8.0 (*)\n|         |    |    \\--- com.google.firebase:firebase-iid-license:11.8.0\n|         |    +--- com.google.firebase:firebase-common:11.8.0 (*)\n|         |    +--- com.google.android.gms:play-services-tasks:11.8.0 (*)\n|         |    \\--- com.google.firebase:firebase-analytics-impl-license:11.8.0\n|         \\--- com.google.firebase:firebase-analytics-license:11.8.0\n+--- com.android.support:appcompat-v7:27.0.2\n|    +--- com.android.support:support-annotations:27.0.2\n|    +--- com.android.support:support-core-utils:27.0.2 (*)\n|    +--- com.android.support:support-fragment:27.0.2 (*)\n|    +--- com.android.support:support-vector-drawable:27.0.2\n|    |    +--- com.android.support:support-annotations:27.0.2\n|    |    \\--- com.android.support:support-compat:27.0.2 (*)\n|    \\--- com.android.support:animated-vector-drawable:27.0.2\n|         +--- com.android.support:support-vector-drawable:27.0.2 (*)\n|         \\--- com.android.support:support-core-ui:27.0.2 (*)\n+--- com.android.support:support-v4:27.0.2 (*)\n+--- com.android.support:design:27.0.2\n|    +--- com.android.support:support-v4:27.0.2 (*)\n|    +--- com.android.support:appcompat-v7:27.0.2 (*)\n|    +--- com.android.support:recyclerview-v7:27.0.2\n|    |    +--- com.android.support:support-annotations:27.0.2\n|    |    +--- com.android.support:support-compat:27.0.2 (*)\n|    |    \\--- com.android.support:support-core-ui:27.0.2 (*)\n|    \\--- com.android.support:transition:27.0.2\n|         +--- com.android.support:support-annotations:27.0.2\n|         \\--- com.android.support:support-compat:27.0.2 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib:1.2.21\n|    \\--- org.jetbrains:annotations:13.0\n+--- com.github.salomonbrys.kodein:kodein:4.1.0\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2 -&gt; 1.2.21 (*)\n|    \\--- com.github.salomonbrys.kodein:kodein-core:4.1.0\n|         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3-2 -&gt; 1.2.21 (*)\n+--- nl.komponents.kovenant:kovenant-core:3.3.0\n+--- nl.komponents.kovenant:kovenant-android:3.3.0\n|    +--- nl.komponents.kovenant:kovenant-core:3.3.0\n|    \\--- nl.komponents.kovenant:kovenant-ui:3.3.0\n|         \\--- nl.komponents.kovenant:kovenant-core:3.3.0\n+--- com.github.ozodrukh:CircularReveal:2.0.1\n+--- com.google.firebase:firebase-crash:11.8.0\n|    +--- com.google.android.gms:play-services-basement:11.8.0 (*)\n|    +--- com.google.firebase:firebase-iid:11.8.0 (*)\n|    +--- com.google.firebase:firebase-common:11.8.0 (*)\n|    +--- com.google.firebase:firebase-analytics:11.8.0 (*)\n|    \\--- com.google.firebase:firebase-crash-license:11.8.0\n+--- com.squareup.retrofit2:retrofit:2.3.0\n|    \\--- com.squareup.okhttp3:okhttp:3.8.0\n|         \\--- com.squareup.okio:okio:1.13.0\n+--- com.squareup.retrofit2:converter-gson:2.3.0\n|    +--- com.squareup.retrofit2:retrofit:2.3.0 (*)\n|    \\--- com.google.code.gson:gson:2.7 -&gt; 2.8.0\n+--- com.github.salomonbrys.kotson:kotson:2.5.0\n|    +--- com.google.code.gson:gson:2.8.0\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.6 -&gt; 1.2.21 (*)\n+--- org.funktionale:funktionale-all:1.1\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-2 -&gt; 1.2.21 (*)\n+--- io.reactivex.rxjava2:rxkotlin:2.1.0\n|    +--- io.reactivex.rxjava2:rxjava:2.1.0\n|    |    \\--- org.reactivestreams:reactive-streams:1.0.0\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 -&gt; 1.2.21 (*)\n+--- com.github.kittinunf.fuel:fuel-android:1.10.0\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.4-3 -&gt; 1.2.21 (*)\n|    \\--- com.github.kittinunf.fuel:fuel:1.10.0\n|         +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.4-3 -&gt; 1.2.21 (*)\n|         \\--- com.github.kittinunf.result:result:1.2.0\n|              \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.4-3 -&gt; 1.2.21 (*)\n+--- com.beust:klaxon:0.30\n+--- com.android.support:cardview-v7:27.0.2\n|    \\--- com.android.support:support-annotations:27.0.2\n+--- com.android.support:recyclerview-v7:27.0.2 (*)\n+--- com.nshmura:snappysmoothscroller:1.0.0\n|    \\--- com.android.support:recyclerview-v7:24.0.0 -&gt; 27.0.2 (*)\n</code></pre>\n\n<p>Dependencies defined in <code>build.gradle</code>:</p>\n\n<pre><code>implementation 'com.android.support:appcompat-v7:27.0.2'\nimplementation 'com.android.support:support-v4:27.0.2'\nimplementation 'com.android.support:design:27.0.2'\n\nimplementation (\"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\") {\n    exclude group: 'org.jetbrains', module: 'annotations'\n}\nimplementation 'com.github.salomonbrys.kodein:kodein:4.1.0'\nimplementation 'nl.komponents.kovenant:kovenant-core:3.3.0'\nimplementation 'nl.komponents.kovenant:kovenant-android:3.3.0'\n\nimplementation ('com.github.ozodrukh:CircularReveal:2.0.1@aar')\n\nimplementation 'com.google.firebase:firebase-core:11.8.0'\nimplementation 'com.google.firebase:firebase-crash:11.8.0'\n\nimplementation \"com.squareup.retrofit2:retrofit:$retrofit_version\"\nimplementation \"com.squareup.retrofit2:converter-gson:$retrofit_version\"\nimplementation'com.github.salomonbrys.kotson:kotson:2.5.0'\nimplementation \"org.funktionale:funktionale-all:$functionale_version\"\nimplementation \"io.reactivex.rxjava2:rxkotlin:$rxkotlin_version\"\n\nimplementation 'com.github.kittinunf.fuel:fuel-android:1.10.0'\nimplementation 'com.beust:klaxon:0.30'\n\nimplementation ('com.android.support:cardview-v7:27.0.2')\nimplementation ('com.android.support:recyclerview-v7:27.0.2', {\n    exclude module: 'support-compat'\n    exclude module: 'support-core-ui'\n    exclude module: 'support-annotations'\n})\nimplementation 'com.nshmura:snappysmoothscroller:1.0.0'\n</code></pre>\n\n<p>EDIT: Build command output</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.\n&gt; com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\n\n* Try:\nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\n        at com.android.builder.dexing.DxDexArchiveMerger.mergeMultidex(DxDexArchiveMerger.java:266)\n        at com.android.builder.dexing.DxDexArchiveMerger.mergeDexArchives(DxDexArchiveMerger.java:133)\n        at com.android.build.gradle.internal.transforms.DexMergerTransformCallable.call(DexMergerTransformCallable.java:97)\n        at com.android.build.gradle.internal.transforms.ExternalLibsMergerTransform.transform(ExternalLibsMergerTransform.kt:121)\n        at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:222)\n        at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:218)\n        at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n        at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:213)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n        ... 27 more\nCaused by: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex\n        at com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:72)\n        at com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:36)\n        ... 46 more\nCaused by: com.android.dex.DexException: Multiple dex files define Lorg/jetbrains/annotations/TestOnly;\n        at com.android.dx.merge.DexMerger.readSortableTypes(DexMerger.java:661)\n        at com.android.dx.merge.DexMerger.getSortedTypes(DexMerger.java:616)\n        at com.android.dx.merge.DexMerger.mergeClassDefs(DexMerger.java:598)\n        at com.android.dx.merge.DexMerger.mergeDexes(DexMerger.java:171)\n        at com.android.dx.merge.DexMerger.merge(DexMerger.java:198)\n        at com.android.builder.dexing.DexArchiveMergerCallable.call(DexArchiveMergerCallable.java:61)\n        ... 47 more\n</code></pre>\n\n<p>I tried all the basic stuff I could find like:</p>\n\n<ul>\n<li>clean build</li>\n<li>remove <code>.gradle</code> dir</li>\n</ul>\n"}, {"tags": ["generics", "kotlin", "nullable"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1517288410, "post_id": 48504361, "comment_id": 84022879, "body": "Btw, you can rewrite the <code>nullIfEmpty</code> function as following: <code>fun &lt;T : CharSequence&gt; nullIfEmpty(t: T?): T? = t.takeUnless { it.isNullOrEmpty() }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 255658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5246537cd1ec5771e65e52dafcffd3de?s=128&d=identicon&r=PG", "display_name": "Gesh", "link": "https://stackoverflow.com/users/255658/gesh"}, "edited": false, "score": 1, "creation_date": 1517302545, "post_id": 48504643, "comment_id": 84029254, "body": "Thanks! That&#39;s unfortunate and makes calling that method much more verbose from Java 7, but I guess we can update to Java 8 (just tried it and it works).   I also fixed my example - don&#39;t know why I wrote a blank string when I meant an empty one."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1517239608, "creation_date": 1517239608, "answer_id": 48504643, "question_id": 48504361, "link": "https://stackoverflow.com/questions/48504361/kotlin-generics-change-return-type/48504643#48504643", "title": "Kotlin generics change return type", "body": "<p>If you're on Java 8 (or later, I suppose), this code will actually work as you've presented it. </p>\n\n<p>On earlier versions (I assume you're on Android?), type inference is weaker, and you have to specify the generic type explicitly for this to work, like this:</p>\n\n<pre><code>String foo = \"   \";\ndoSomething(K.&lt;String&gt;nullIfEmpty(foo));\n</code></pre>\n\n<p>(I've wrapped the Kotlin function in an object called <code>K</code> and I'm calling it with that qualifier so that the type argument can be placed at the Java call site. I don't think you can provide a type parameter with a static import.)</p>\n\n<hr>\n\n<p>Side note: note that this is the implementation of <code>TextUtils.isEmpty()</code>, so it will not return <code>true</code> for a string like <code>\"    \"</code>.</p>\n\n<pre><code>/**\n * Returns true if the string is null or 0-length.\n * @param str the string to be examined\n * @return true if str is null or zero length\n */\npublic static boolean isEmpty(@Nullable CharSequence str) {\n    return str == null || str.length() == 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 255658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5246537cd1ec5771e65e52dafcffd3de?s=128&d=identicon&r=PG", "display_name": "Gesh", "link": "https://stackoverflow.com/users/255658/gesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "accepted_answer_id": 48504643, "answer_count": 1, "score": 1, "last_activity_date": 1517301377, "creation_date": 1517238649, "last_edit_date": 1517301377, "question_id": 48504361, "link": "https://stackoverflow.com/questions/48504361/kotlin-generics-change-return-type", "title": "Kotlin generics change return type", "body": "<p>I have this method in Java I want to convert to Kotlin, but still use from both Java and Kotlin:</p>\n\n<pre><code>@Nullable\npublic static &lt;T extends CharSequence&gt; T nullIfEmpty(@Nullable final T t) {\n   return TextUtils.isEmpty(t) ? null : t;\n}\n</code></pre>\n\n<p>In another place I have a method that accepts Strings:</p>\n\n<pre><code>public static doSomething(@Nullable String foo) {}\n</code></pre>\n\n<p>Which I call in this way:</p>\n\n<pre><code>String foo = \"\";\ndoSomething(nullIfEmpty(foo)); // == doSomething(null); since foo is empty\n</code></pre>\n\n<p>After I converted the <code>nullIfEmpty()</code> to this Kotlin snippet:</p>\n\n<pre><code>fun &lt;T : CharSequence&gt; nullIfEmpty(t: T?): T? {\n    return if (TextUtils.isEmpty(t)) null else t\n}\n</code></pre>\n\n<p>Java no longer compiles complaining that there is an argument type mismatch - calling the function with a <code>CharSequence</code> when it expects a <code>String</code>.</p>\n\n<p>What would be the correct syntax to fix this?</p>\n"}, {"tags": ["android", "kotlin", "spinner", "android-spinner"], "comments": [{"owner": {"reputation": 1583, "user_id": 2426649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac12929367781432c21e4573ec158cd?s=128&d=identicon&r=PG", "display_name": "Boban S.", "link": "https://stackoverflow.com/users/2426649/boban-s"}, "edited": false, "score": 1, "creation_date": 1517235876, "post_id": 48503427, "comment_id": 84000469, "body": "Try adding transparent background to adapter item."}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1517236752, "post_id": 48503427, "comment_id": 84001086, "body": "setDropDownViewResource is the key ..."}, {"owner": {"reputation": 1208, "user_id": 6349815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsHQP.jpg?s=128&g=1", "display_name": "Pramod Waghmare", "link": "https://stackoverflow.com/users/6349815/pramod-waghmare"}, "reply_to_user": {"reputation": 1583, "user_id": 2426649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac12929367781432c21e4573ec158cd?s=128&d=identicon&r=PG", "display_name": "Boban S.", "link": "https://stackoverflow.com/users/2426649/boban-s"}, "edited": false, "score": 0, "creation_date": 1517239764, "post_id": 48503427, "comment_id": 84003184, "body": "@Boban S. Thanks, working...."}], "answers": [{"tags": [], "owner": {"reputation": 265, "user_id": 9224895, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/jLNJC.jpg?s=128&g=1", "display_name": "abc", "link": "https://stackoverflow.com/users/9224895/abc"}, "is_accepted": false, "score": 0, "last_activity_date": 1517650039, "creation_date": 1517650039, "answer_id": 48595859, "question_id": 48503427, "link": "https://stackoverflow.com/questions/48503427/custom-spinner-android/48595859#48595859", "title": "Custom spinner android", "body": "<p>Simply add this line in the activity layout in the Spinner section</p>\n\n<p><strong>android:entries=\"@array/yourSpinnerArray\"</strong></p>\n\n<pre><code>&lt;Spinner\n                android:id=\"@+id/spinnerForThisMonth\"\n                style=\"@style/listStyle\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"         \n                android:entries=\"@array/yourSpinnerArray\"\n                android:gravity=\"center\" /&gt;\n</code></pre>\n\n<p>Then create String resources in values</p>\n\n<pre><code>   &lt;string-array name=\"yourSpinnerArray\"&gt;\n        &lt;item&gt;Select&lt;/item&gt;\n        &lt;item&gt;January&lt;/item&gt;\n        &lt;item&gt;February&lt;/item&gt;\n        &lt;item&gt;March&lt;/item&gt;\n        &lt;item&gt;April&lt;/item&gt;\n        &lt;item&gt;June&lt;/item&gt;\n        &lt;item&gt;July&lt;/item&gt;\n        &lt;item&gt;August&lt;/item&gt;\n        &lt;item&gt;September&lt;/item&gt;\n        &lt;item&gt;October&lt;/item&gt;\n        &lt;item&gt;November&lt;/item&gt;\n        &lt;item&gt;December&lt;/item&gt;\n</code></pre>\n"}], "owner": {"reputation": 1208, "user_id": 6349815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsHQP.jpg?s=128&g=1", "display_name": "Pramod Waghmare", "link": "https://stackoverflow.com/users/6349815/pramod-waghmare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1434, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1517650039, "creation_date": 1517235738, "last_edit_date": 1517402506, "question_id": 48503427, "link": "https://stackoverflow.com/questions/48503427/custom-spinner-android", "title": "Custom spinner android", "body": "<blockquote>\n  <p>Question: When setting adapter it hides its custom background</p>\n</blockquote>\n\n<p>I am trying to add custom background to spinner like this,</p>\n\n<pre><code> &lt;Spinner\n            android:id=\"@+id/spinnerReferredBy\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:spinnerMode=\"dropdown\"\n            android:background=\"@drawable/custom_drop_down\"/&gt;\n</code></pre>\n\n<blockquote>\n  <p>my custom drawable is,</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n    &lt;item&gt;\n        &lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n            &lt;solid android:color=\"#ffffff\"/&gt;\n            &lt;stroke\n                android:width=\"2dp\"\n                android:color=\"#80000000\"/&gt;\n            &lt;padding\n                android:bottom=\"2dp\"\n                android:left=\"2dp\"\n                android:right=\"2dp\"\n                android:top=\"2dp\"/&gt;\n\n        &lt;/shape&gt;\n    &lt;/item&gt;\n\n    &lt;item&gt;\n        &lt;bitmap\n            android:layout_width=\"50dp\"\n            android:layout_height=\"50dp\"\n            android:gravity=\"right|end\"\n            android:src=\"@drawable/ic_drop_down\" /&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n\n<blockquote>\n  <p>Setting adapter like this</p>\n</blockquote>\n\n<pre><code> spinnerReferredBy.adapter = ArrayAdapter&lt;String&gt;(activity,R.layout.custom_spinner_item,referred)\n</code></pre>\n\n<blockquote>\n  <p>Outputs</p>\n</blockquote>\n\n<ol>\n<li><p>without setting adapter\n<a href=\"https://i.stack.imgur.com/3Uapm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Uapm.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>With adapter\n<a href=\"https://i.stack.imgur.com/SbAau.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SbAau.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n"}, {"tags": ["function", "kotlin", "function-calls"], "answers": [{"comments": [{"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517236017, "post_id": 48502673, "comment_id": 84000575, "body": "Is this happening to every collection? If write my own collection in Java, I won&#39;t be able to call it&#39;s size as a function? Wnat if I want such magic too? How can I write my function in Java so that it will be exposed as property in Kotlin?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 4, "creation_date": 1517236693, "post_id": 48502673, "comment_id": 84001051, "body": "Take a look at the tables <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">here</a>. If you implement a Java interface listed here in one of your own classes, it will be mapped to the corresponding Kotlin interface. So for example, if you implement <code>java.util.Collection</code>, you&#39;ll have to override the <code>size()</code> method in your Java class, but see it as if it has implemented the Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-collection/index.html\" rel=\"nofollow noreferrer\">Collection</a> interface when using it from Kotlin code, and it will have a <code>size</code> property."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1517356156, "post_id": 48502673, "comment_id": 84060286, "body": "In your own classes, you can decide to use function or property access for functions that return something. If you define <code>size</code> as <code>fun size():Int = ...</code>, you&#39;ll need to use function access. If you define it as <code>val size get() = ...</code>, you can access it like a property."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1517234229, "last_edit_date": 1517234229, "creation_date": 1517233335, "answer_id": 48502673, "question_id": 48502636, "link": "https://stackoverflow.com/questions/48502636/why-can-i-omit-function-invocations-sometimes-in-kotlin/48502673#48502673", "title": "Why can I omit function invocations sometimes in Kotlin?", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/size.html\" rel=\"nofollow noreferrer\"><code>size</code></a> is a property on the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"nofollow noreferrer\"><code>List</code></a> interface, and not a function. That's why you can (have to) access it without parentheses.</p>\n\n<p>Kotlin uses some compiler magic to <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">map</a> its <a href=\"https://kotlinlang.org/docs/reference/Collections.kt\" rel=\"nofollow noreferrer\">own collection types</a> to the JVM types. They just decided to expose the <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.0/core/builtins/native/kotlin/Collections.kt#L137\" rel=\"nofollow noreferrer\">size</a>  of collections as a property for some reason, and every time you use collections in Kotlin, even though their underlying implementations are classes like <code>java.util.ArrayList</code>, you see them through the interfaces defined by Kotlin.</p>\n"}], "owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 48502673, "answer_count": 1, "score": 0, "last_activity_date": 1517234229, "creation_date": 1517233205, "question_id": 48502636, "link": "https://stackoverflow.com/questions/48502636/why-can-i-omit-function-invocations-sometimes-in-kotlin", "title": "Why can I omit function invocations sometimes in Kotlin?", "body": "<p>In the following example I have 2 functions, returning int. In one case I am obliged to use function invocation brackets <code>()</code>, in other case I am prohibited to use it.</p>\n\n<p>Why and how to control?</p>\n\n<pre><code>package kotlin.tests\n\nimport java.util.ArrayList\n\nobject MyObject {\n    fun getValue(): Int {\n        return 0\n    }\n}\n\n\nfun main() {\n\n    val arrayList : ArrayList&lt;Any&gt; = ArrayList()\n\n    println(arrayList.size())\n    // Expression 'size' of type 'Int' cannot be invoked as a function. The function 'invoke()' is not found\n\n    println(MyObject.getValue)\n    // Function invocation 'getValue()' expected\n\n}\n</code></pre>\n"}, {"tags": ["google-app-engine", "gradle", "kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1517233149, "post_id": 48502220, "comment_id": 83998530, "body": "More often than not, configuration can be copied from groovy to kotlin-dsl with minimal corrections accomodating kotlin syntax. I&#39;d say the provided snippet should look the same in kotlin-dsl.   If you tried it and it does not work, please provide your build.gradle.kts file and the error message you&#39;re getting when trying to build it."}, {"owner": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "reply_to_user": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1517236591, "post_id": 48502220, "comment_id": 84000987, "body": "@Czar I edited the post providing the error messages I see. Thanks for your help!"}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1517238047, "post_id": 48502220, "comment_id": 84002006, "body": "Can you add your <code>plugins</code> or <code>buildscript</code> block for how you apply the plugin to the build?"}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "reply_to_user": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1517240968, "post_id": 48502220, "comment_id": 84004042, "body": "Marcel, the error message you&#39;re getting says that script is invalid for some reason, we need to find it, the best would be to provide full script, if you can&#39;t, we&#39;ll need at least what @mkobit specified."}, {"owner": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "edited": false, "score": 0, "creation_date": 1517241172, "post_id": 48502220, "comment_id": 84004188, "body": "Added the plugins and buildscript block. Note when I remove the <code>appengine</code> I get no error anymore."}, {"owner": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "edited": false, "score": 0, "creation_date": 1517241579, "post_id": 48502220, "comment_id": 84004490, "body": "PS: here is gist file containing full build script; <a href=\"https://gist.github.com/marceloverdijk/2c74363ca5bac7f61ece184ca9d25a02\" rel=\"nofollow noreferrer\">gist.github.com/marceloverdijk/2c74363ca5bac7f61ece184ca9d25&zwnj;&#8203;a02</a> (I only had to remove 2 custom tasks)"}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1517249790, "post_id": 48502220, "comment_id": 84009600, "body": "Groovy build scripts work because of dynamic resolution. The  <code>appengine</code> can be an extra property, project property, task name, extension name, conventions, and some other objects. With Kotlin build scripts, everything is statically typed. The <code>kotlin-dsl</code> project generates some of those static accessors for plugins that are applied with the <code>plugins {}</code> block. You can run <code>.&#47;gradlew kotlinDslAccessorsReport</code> to see what is generated and maybe those will help you figure out what is being generated. Also, if it is a task, you print you information like <code>tasks.getByName[&quot;appengine&quot;]</code>"}, {"owner": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "reply_to_user": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1517250360, "post_id": 48502220, "comment_id": 84009901, "body": "@mkobit I added the output of <code>kotlinDslAccessorsReport</code> but I&#39;m afraid it doesn&#39;t help me much. The AppEngine plugin provides many tasks like <code>appengineRun</code>, <code>appengineDeploy</code> etc. Which tasks are available is also dependent on the setup of the project, e.g. existence of certain file. So I guess the plugin does a lot of dynamic configuration.."}, {"owner": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "reply_to_user": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 0, "creation_date": 1517250970, "post_id": 48502220, "comment_id": 84010232, "body": "@mkobit note then when I add the AppEngine plugin to the <code>plugins {}</code> block I get the following error: <code>Plugin [id: &#39;com.google.cloud.tools.appengine&#39;, version: &#39;1.3.4&#39;] was not found in any of the following sources:  - Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace) - Plugin Repositories (could not resolve plugin artifact &#39;com.google.cloud.tools.appengine:com.google.cloud.tools.app&zwnj;&#8203;engine.gradle.plugin&zwnj;&#8203;:1.3.4&#39;)   Searched in the following repositories:     Gradle Central Plugin Repository </code>"}], "answers": [{"comments": [{"owner": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "edited": false, "score": 0, "creation_date": 1517261813, "post_id": 48510049, "comment_id": 84015696, "body": "Thanks for this very detailed answer and raising the issue! Hope this can be done easier in the future as this unfortunately will scare users away from using Kotlin buildscript."}, {"owner": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "edited": false, "score": 0, "creation_date": 1517264428, "post_id": 48510049, "comment_id": 84016787, "body": "Btw the <code>pluginManagement</code> part is that needed because the AppEngine plugin is not published in the Gradle Plugin Repositories?"}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "reply_to_user": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "edited": false, "score": 1, "creation_date": 1517265531, "post_id": 48510049, "comment_id": 84017202, "body": "There are 2 parts to it: <code>repositories</code> used for the right place to locate the plugin (because I don&#39;t believe it is published to the plugin portal), and the <code>resolutionStrategy</code> is used because a marker artifact isn&#39;t published for Gradle&#39;s plugin resolution process (can see some more info <a href=\"https://docs.gradle.org/current/userguide/custom_plugins.html#sec:using_the_java_gradle_plugin_development_plugin\" rel=\"nofollow noreferrer\">here</a>) so it allows you to explicitly say which module the plugin Id comes from."}, {"owner": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "edited": false, "score": 0, "creation_date": 1517265695, "post_id": 48510049, "comment_id": 84017272, "body": "Is this something the Google AppEngine plugin can improve on? E.g. publishing to plugin portal and/or create a marker artifact? I mean if users could skip the settings.gradle part that would be a win already I think."}, {"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "reply_to_user": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "edited": false, "score": 0, "creation_date": 1517320397, "post_id": 48510049, "comment_id": 84040754, "body": "Yes, I think both aspects can be improved. The marker artifact and <code>java-library</code> plugin will make the need for <code>pluginManagement.resolutionStrategy.eachPlugin</code>. The plugin still may be published to Google&#39;s Maven repository or JCenter or somewhere else like <code>jcenter</code>, so you may still need the <code>pluginManagement.repositories</code> part. The plugin could add some methods to those extensions to make it easier for Kotlin consumption until <a href=\"https://github.com/gradle/kotlin-dsl/issues/457\" rel=\"nofollow noreferrer\">kotlin-dsl/457</a> is resolved."}, {"owner": {"reputation": 1805, "user_id": 7598113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afa022bfb89a6089383cb2f018438855?s=128&d=identicon&r=PG&f=1", "display_name": "kuza", "link": "https://stackoverflow.com/users/7598113/kuza"}, "edited": false, "score": 0, "creation_date": 1544687981, "post_id": 48510049, "comment_id": 94366824, "body": "As of today <a href=\"https://github.com/gradle/kotlin-dsl/issues/457\" rel=\"nofollow noreferrer\">kotlin-dsl/457</a> has been resolved. Any updates for the answer @mkobit if possible?"}], "tags": [], "owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "is_accepted": true, "score": 6, "last_activity_date": 1517262126, "last_edit_date": 1517262126, "creation_date": 1517260316, "answer_id": 48510049, "question_id": 48502220, "link": "https://stackoverflow.com/questions/48502220/how-to-configure-appengine-gradle-plugin-using-kotlin-dsl/48510049#48510049", "title": "How to configure AppEngine Gradle plugin using Kotlin DSL", "body": "<p>In order to have <code>kotlin-dsl</code> generate static accessors before compile time for applied plugins you must use the <code>plugins {}</code> block and not the <code>buildscript {}</code> block. <code>buildscript {}</code> will still make the dependencies visible to the script classpath, but you will not get those.</p>\n\n<p>As you noticed, the plugin's Maven coordinates that may be different than the plugin Id. You can handle this in the <code>settings.gradle</code> with the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.plugin.management.PluginManagementSpec.html\" rel=\"noreferrer\"><code>pluginManagement</code></a> specification (an example for Android plugin is <a href=\"https://github.com/gradle/kotlin-dsl/blob/a5de7d1b485ae30755d4ac09e54063cd9e9678e3/samples/hello-android/settings.gradle.kts#L8-L11\" rel=\"noreferrer\">here</a>. Here is how I handle that (and using <code>war</code> plugin for minimal application):</p>\n\n\n\n<p><code>build.gradle,kts</code></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n  id(\"com.google.cloud.tools.appengine\") version \"1.3.4\"\n  `war`\n}\n</code></pre>\n\n<p><code>settings.gradle</code></p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>pluginManagement {\n  repositories {\n    gradlePluginPortal()\n    google()\n  }\n  resolutionStrategy {\n    eachPlugin {\n      if (requested.id.id == \"com.google.cloud.tools.appengine\") {\n        useModule(\"com.google.cloud.tools:appengine-gradle-plugin:${requested.version}\")\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Now, I have the plugin applied and <code>kotlin-dsl</code> will generate the accessors before script compilation.</p>\n\n<p>Running <code>./gradlew kotlinDslAccessorsReport</code> and perusing through it I see this in the output:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n * Retrieves the [appengine][com.google.cloud.tools.gradle.appengine.core.AppEngineExtension] project extension.\n */\nval Project.`appengine`: com.google.cloud.tools.gradle.appengine.core.AppEngineExtension get() =\n  extensions.getByName(\"appengine\") as com.google.cloud.tools.gradle.appengine.core.AppEngineExtension\n\n/**\n * Configures the [appengine][com.google.cloud.tools.gradle.appengine.core.AppEngineExtension] project extension.\n */\nfun Project.`appengine`(configure: com.google.cloud.tools.gradle.appengine.core.AppEngineExtension.() -&gt; Unit): Unit =\n    extensions.configure(\"appengine\", configure)\n</code></pre>\n\n<p>Now, you can see that the <code>appengine { ... }</code> code block will work correctly in the top level. We just need to figure out what can go inside of it based on its type. Note that if we were using <code>buildscript {}</code> instead of <code>plugins {}</code>, you would have to either copy/paste these accessors yourself or do something like <code>extensions.getByType(com.google.cloud.tools.gradle.appengine.core.AppEngineExtension::class)</code> in your build script.</p>\n\n<p>Doing some searching you can find the source code for <code>AppEngineExtension</code> <a href=\"https://github.com/GoogleCloudPlatform/app-gradle-plugin/blob/master/src/main/java/com/google/cloud/tools/gradle/appengine/core/AppEngineExtension.java\" rel=\"noreferrer\">on GitHub</a>. Unfortunately, it does not have any methods or fields on it. It is basically used as an \"extension holder\" class, in that other extensions are added to it <a href=\"https://github.com/GoogleCloudPlatform/app-gradle-plugin/blob/619670d51082ba76ae128918f7f4ffd51fb21a58/src/main/java/com/google/cloud/tools/gradle/appengine/core/AppEngineCorePlugin.java#L73-L92\" rel=\"noreferrer\">here</a> and <a href=\"https://github.com/GoogleCloudPlatform/app-gradle-plugin/blob/4d3634e9ddc7a68ad6aae8d30d4fcf1779279a14/src/main/java/com/google/cloud/tools/gradle/appengine/standard/AppEngineStandardPlugin.java#L74-L78\" rel=\"noreferrer\">here</a> (and probably other places). This means that we need to do some class cast tricks to be able to configure this object. The source code is IMO the only way to really figure out how to access these kinds of objects.</p>\n\n<p>Below shows how we can configure the <code>deploy</code> extension, which is a <a href=\"https://github.com/GoogleCloudPlatform/app-gradle-plugin/blob/619670d51082ba76ae128918f7f4ffd51fb21a58/src/main/java/com/google/cloud/tools/gradle/appengine/core/DeployExtension.java\" rel=\"noreferrer\"><code>DeployExtension</code></a> and how we can configure the <code>run</code> extension, which is a <a href=\"https://github.com/GoogleCloudPlatform/app-gradle-plugin/blob/4ca7537d7d156a569209d501f111783f893a9530/src/main/java/com/google/cloud/tools/gradle/appengine/standard/RunExtension.java\" rel=\"noreferrer\"><code>RunExtension</code></a>.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.google.cloud.tools.gradle.appengine.core.DeployExtension\nimport com.google.cloud.tools.gradle.appengine.standard.RunExtension\n\nappengine {\n  ((this as org.gradle.api.plugins.ExtensionAware).extensions.getByName(\"run\") as RunExtension).apply {\n    port = 8080\n  }\n  ((this as org.gradle.api.plugins.ExtensionAware).extensions.getByName(\"deploy\") as DeployExtension).apply {\n    stopPreviousVersion = true // default - stop the current version\n    promote = true\n  }\n}\n</code></pre>\n\n<p>There are a few different ways to accomplish the above, but that is the approach I took. The plugin itself should offer friendlier methods for configuration until <a href=\"https://github.com/gradle/kotlin-dsl/issues/457\" rel=\"noreferrer\">kotlin-dsl/457</a> is resolved, so I opened <a href=\"https://github.com/GoogleCloudPlatform/app-gradle-plugin/issues/191#issuecomment-361391560\" rel=\"noreferrer\">an issue</a></p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 9594388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc1491c2c83a1ebbf71bcd9f3bc8335f?s=128&d=identicon&r=PG&f=1", "display_name": "voychris", "link": "https://stackoverflow.com/users/9594388/voychris"}, "edited": false, "score": 2, "creation_date": 1567420219, "post_id": 55075378, "comment_id": 101947139, "body": "I had to use <code>AppEngineAppYamlExtension</code> instead:  configure&lt;AppEngineAppYamlExtension&gt; {     deploy {         projectId = &quot;GCLOUD_CONFIG&quot; \t\tversion = &quot;GCLOUD_CONFIG&quot;     } }"}, {"owner": {"reputation": 976, "user_id": 809833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/383af252067cdb68138c551c92f2ea21?s=128&d=identicon&r=PG", "display_name": "Anthony Chuinard", "link": "https://stackoverflow.com/users/809833/anthony-chuinard"}, "edited": false, "score": 0, "creation_date": 1573616189, "post_id": 55075378, "comment_id": 103935778, "body": "Do you know if there&#39;s any update? Why couldn&#39;t this just be under the regular <code>plugins</code> block with an <code>id</code> prefix?"}, {"owner": {"reputation": 1128, "user_id": 2550940, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/188596724cddd5444ae629042981be73?s=128&d=identicon&r=PG", "display_name": "gunslingor", "link": "https://stackoverflow.com/users/2550940/gunslingor"}, "edited": false, "score": 0, "creation_date": 1594265172, "post_id": 55075378, "comment_id": 111067197, "body": "good question... no idea how to make this work with multiplatform plugin either... hashtag gradle plugs don&#39;t play nice together in kts."}], "tags": [], "owner": {"reputation": 423, "user_id": 1515333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6cshA.png?s=128&g=1", "display_name": "MeinAccount", "link": "https://stackoverflow.com/users/1515333/meinaccount"}, "is_accepted": false, "score": 4, "last_activity_date": 1552119717, "creation_date": 1552119717, "answer_id": 55075378, "question_id": 48502220, "link": "https://stackoverflow.com/questions/48502220/how-to-configure-appengine-gradle-plugin-using-kotlin-dsl/55075378#55075378", "title": "How to configure AppEngine Gradle plugin using Kotlin DSL", "body": "<p>Type-safe approach using version 2.0 of the appengine gradle plugin:</p>\n\n<pre><code>import com.google.cloud.tools.gradle.appengine.standard.AppEngineStandardExtension\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath(\"com.google.cloud.tools:appengine-gradle-plugin:2.0.0-rc5\")\n    }\n}\n\nplugins {\n    java\n    war\n    kotlin(\"jvm\") version \"...\"\n}\n\nrepositories {\n    jcenter()\n}\napply {\n    plugin(\"com.google.cloud.tools.appengine\")\n}\n\nconfigure&lt;AppEngineStandardExtension&gt; {\n    deploy {\n        projectId = \"...\"\n        version = \"...\"\n        stopPreviousVersion = true // etc\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9248, "user_id": 1458877, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/12a257c50c156067b553b6236d8cc4c7?s=128&d=identicon&r=PG", "display_name": "Marcel Overdijk", "link": "https://stackoverflow.com/users/1458877/marcel-overdijk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1680, "favorite_count": 1, "accepted_answer_id": 48510049, "answer_count": 2, "score": 7, "last_activity_date": 1552119717, "creation_date": 1517231889, "last_edit_date": 1517262181, "question_id": 48502220, "link": "https://stackoverflow.com/questions/48502220/how-to-configure-appengine-gradle-plugin-using-kotlin-dsl", "title": "How to configure AppEngine Gradle plugin using Kotlin DSL", "body": "<p>As documented on <a href=\"https://cloud.google.com/appengine/docs/standard/java/tools/gradle-reference\" rel=\"noreferrer\">https://cloud.google.com/appengine/docs/standard/java/tools/gradle-reference</a> the AppEngine Gradle plugin offers configuration like:</p>\n\n<pre><code>appengine {  // App Engine tasks configuration\n  run {      // local (dev_appserver) configuration (standard environments only)\n    port = 8080                 // default\n  }\n\n  deploy {   // deploy configuration\n    stopPreviousVersion = true  // default - stop the current version\n    promote = true              // default - &amp; make this the current version\n  }\n}\n</code></pre>\n\n<p>How should such a configuration look like when using a <code>build.gradlke.kts</code>?</p>\n\n<p>I was looking at to see the AppEngine tasks but don't understand to connect this to a proper Kotlin DSL setup.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>When simply adding the above block to the <code>build.gradle.kts</code> IntelliJ complains with: </p>\n\n<ul>\n<li>Unresolved reference: port</li>\n<li>Unresolved reference: deploy</li>\n</ul>\n\n<p>and when running Gradle from cml I get: </p>\n\n<blockquote>\n  <p>Could not open cache directory azhqxsd1d4xoovq4o5dzec6iw (/Users/test/.gradle/caches/4.5/gradle-kotlin-dsl/azhqxsd1d4xoovq4o5dzec6iw).\n  Internal error: unable to compile script, see log for details</p>\n</blockquote>\n\n<p><strong>EDIT2</strong></p>\n\n<p>Added <code>plugins</code> and <code>buildscript</code> blocks below:</p>\n\n<pre><code>val kotlinVersion                    = property(\"kotlin.version\")\nval javaVersion                      = \"1.8\"\n\nbuildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n        mavenLocal()\n        maven(\"https://plugins.gradle.org/m2/\")\n        maven(\"https://repo.spring.io/milestone\")\n        maven(\"https://repo.spring.io/snapshot\")\n    }\n    dependencies {\n        classpath(\"com.google.cloud.tools:appengine-gradle-plugin:1.3.4\")\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:2.0.0.BUILD-SNAPSHOT\")\n    }\n}\n\napply {\n    plugin(\"com.google.cloud.tools.appengine\")\n    plugin(\"org.springframework.boot\")\n}\n\nplugins {\n    val kotlinVersion = \"1.2.0\"\n    `war`\n    `idea`\n    id(\"org.jetbrains.kotlin.jvm\") version kotlinVersion\n    id(\"org.jetbrains.kotlin.kapt\") version kotlinVersion\n    id(\"org.jetbrains.kotlin.plugin.jpa\") version kotlinVersion\n    id(\"org.jetbrains.kotlin.plugin.noarg\") version kotlinVersion\n    id(\"org.jetbrains.kotlin.plugin.spring\") version kotlinVersion\n    id(\"com.ewerk.gradle.plugins.querydsl\") version \"1.0.9\"\n    id(\"io.spring.dependency-management\") version \"1.0.3.RELEASE\"\n}\n</code></pre>\n\n<p><strong>EDIT3</strong></p>\n\n<p>I see this being generated by <code>kotlinDslAccessorsReport</code>:</p>\n\n<pre><code>/**\n * Retrieves the [appengine][com.google.cloud.tools.gradle.appengine.core.AppEngineExtension] project extension.\n */\nval Project.`appengine`: com.google.cloud.tools.gradle.appengine.core.AppEngineExtension get() =\n    extensions.getByName(\"appengine\") as com.google.cloud.tools.gradle.appengine.core.AppEngineExtension\n\n/**\n * Configures the [appengine][com.google.cloud.tools.gradle.appengine.core.AppEngineExtension] project extension.\n */\nfun Project.`appengine`(configure: com.google.cloud.tools.gradle.appengine.core.AppEngineExtension.() -&gt; Unit): Unit =\n    extensions.configure(\"appengine\", configure)\n</code></pre>\n\n<p>But honestly I have no idea how this could help me further.</p>\n"}, {"tags": ["android", "android-edittext", "kotlin", "android-alertdialog", "kotlin-extension"], "comments": [{"owner": {"reputation": 2602, "user_id": 4574463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e46be6a24078ed549c1445b7c34039?s=128&d=identicon&r=PG&f=1", "display_name": "santosh kumar", "link": "https://stackoverflow.com/users/4574463/santosh-kumar"}, "edited": false, "score": 0, "creation_date": 1517231626, "post_id": 48502115, "comment_id": 83997479, "body": "dialogEditText.text message is null"}, {"owner": {"reputation": 2602, "user_id": 4574463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e46be6a24078ed549c1445b7c34039?s=128&d=identicon&r=PG&f=1", "display_name": "santosh kumar", "link": "https://stackoverflow.com/users/4574463/santosh-kumar"}, "edited": false, "score": 0, "creation_date": 1517231654, "post_id": 48502115, "comment_id": 83997496, "body": "Try adding some other message."}, {"owner": {"reputation": 169, "user_id": 8477661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zUDYc.jpg?s=128&g=1", "display_name": "Chethan Shetty", "link": "https://stackoverflow.com/users/8477661/chethan-shetty"}, "edited": false, "score": 1, "creation_date": 1517231773, "post_id": 48502115, "comment_id": 83997581, "body": "post your oncreate"}, {"owner": {"reputation": 29, "user_id": 9283784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a695cb8631e2d7b2586bfa8c8da0e5?s=128&d=identicon&r=PG&f=1", "display_name": "matolaypal", "link": "https://stackoverflow.com/users/9283784/matolaypal"}, "edited": false, "score": 0, "creation_date": 1517232265, "post_id": 48502115, "comment_id": 83997922, "body": "I edited the code with the full onCreate.  The text attribute doesn&#39;t matter in this case when I added I got null also."}, {"owner": {"reputation": 561, "user_id": 1699253, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3b35c7305de3b04b2fca88bbbf6b70a8?s=128&d=identicon&r=PG", "display_name": "Sivakumar S", "link": "https://stackoverflow.com/users/1699253/sivakumar-s"}, "edited": false, "score": 0, "creation_date": 1517232344, "post_id": 48502115, "comment_id": 83997974, "body": "I think, the code is looking for <code>dialogEditText</code> in activity_main context."}, {"owner": {"reputation": 29, "user_id": 9283784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a695cb8631e2d7b2586bfa8c8da0e5?s=128&d=identicon&r=PG&f=1", "display_name": "matolaypal", "link": "https://stackoverflow.com/users/9283784/matolaypal"}, "edited": false, "score": 0, "creation_date": 1517232443, "post_id": 48502115, "comment_id": 83998055, "body": "The dialogEditText id doesn&#39;t exist in the main layout. This contains just a floating action button what open the dialog."}], "answers": [{"comments": [{"owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "edited": false, "score": 0, "creation_date": 1517232204, "post_id": 48502170, "comment_id": 83997879, "body": "This doesn&#39;t really help"}, {"owner": {"reputation": 29, "user_id": 9283784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a695cb8631e2d7b2586bfa8c8da0e5?s=128&d=identicon&r=PG&f=1", "display_name": "matolaypal", "link": "https://stackoverflow.com/users/9283784/matolaypal"}, "edited": false, "score": 0, "creation_date": 1517232338, "post_id": 48502170, "comment_id": 83997967, "body": "Yeah, okay. But the point is that I need the input value (as String) from the custom dialog EditText."}, {"owner": {"reputation": 2602, "user_id": 4574463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e46be6a24078ed549c1445b7c34039?s=128&d=identicon&r=PG&f=1", "display_name": "santosh kumar", "link": "https://stackoverflow.com/users/4574463/santosh-kumar"}, "edited": false, "score": 0, "creation_date": 1517233200, "post_id": 48502170, "comment_id": 83998571, "body": "You are using dialogEditText which is not found anywhere in your code."}, {"owner": {"reputation": 29, "user_id": 9283784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a695cb8631e2d7b2586bfa8c8da0e5?s=128&d=identicon&r=PG&f=1", "display_name": "matolaypal", "link": "https://stackoverflow.com/users/9283784/matolaypal"}, "edited": false, "score": 0, "creation_date": 1517234038, "post_id": 48502170, "comment_id": 83999182, "body": "You can use extensions because of kotlin. Check my dialog layout what I shared. The dialogEditText id is there and I imported the layout at the start of MainActivity. (And you can use lambda instead of DialogInterface.OnClickListener)  But thanks for the helping! I found the mistake (see my answers)."}, {"owner": {"reputation": 2602, "user_id": 4574463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e46be6a24078ed549c1445b7c34039?s=128&d=identicon&r=PG&f=1", "display_name": "santosh kumar", "link": "https://stackoverflow.com/users/4574463/santosh-kumar"}, "edited": false, "score": 0, "creation_date": 1517234918, "post_id": 48502170, "comment_id": 83999835, "body": "May be a way of using it thanks. But I feel my answer should not be downvoted."}], "tags": [], "owner": {"reputation": 2602, "user_id": 4574463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e46be6a24078ed549c1445b7c34039?s=128&d=identicon&r=PG&f=1", "display_name": "santosh kumar", "link": "https://stackoverflow.com/users/4574463/santosh-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1517232679, "last_edit_date": 1517232679, "creation_date": 1517231730, "answer_id": 48502170, "question_id": 48502115, "link": "https://stackoverflow.com/questions/48502115/why-return-null-from-custom-dialog-edittext/48502170#48502170", "title": "Why return null from custom dialog EditText?", "body": "<pre><code> import kotlinx.android.synthetic.main.dialog.*\n    val dialogBuilder = AlertDialog.Builder(this)\n        val inflater = this.layoutInflater\n        val dialogView = inflater.inflate(R.layout.dialog, null)\n        dialogBuilder.setView(dialogView)\n        val editText = dialogView.findViewById&lt;View&gt;(R.id.dialogEditText) as EditText\n        dialogBuilder.setTitle(\"Your Dialog\")\n        dialogBuilder.setPositiveButton(\"OK\", DialogInterface.OnClickListener { dialog, whichButton -&gt;\n           Toast.makeText(this@MainActivity, editText.text.toString(), Toast.LENGTH_SHORT)\n                                    .show() \n                                     dialog.dismiss()\n\n        })\n        val b = dialogBuilder.create()\n        b.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 9283784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a695cb8631e2d7b2586bfa8c8da0e5?s=128&d=identicon&r=PG&f=1", "display_name": "matolaypal", "link": "https://stackoverflow.com/users/9283784/matolaypal"}, "is_accepted": true, "score": 2, "last_activity_date": 1517234030, "creation_date": 1517234030, "answer_id": 48502894, "question_id": 48502115, "link": "https://stackoverflow.com/questions/48502115/why-return-null-from-custom-dialog-edittext/48502894#48502894", "title": "Why return null from custom dialog EditText?", "body": "<p><strong>This is the solution what I found. Thanks for helping!</strong>    </p>\n\n<pre><code>    val view = LayoutInflater.from(this@MainActivity).inflate(R.layout.dialog, null)\n    AlertDialog.Builder(this@MainActivity)\n            .setView(view)\n            .setPositiveButton(\"OK\") {dialog, i -&gt;\n                Toast.makeText(\n                        this@MainActivity, view.dialogEditText.text, Toast.LENGTH_SHORT)\n                        .show()\n                dialog.dismiss()\n            }.show()\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9283784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a695cb8631e2d7b2586bfa8c8da0e5?s=128&d=identicon&r=PG&f=1", "display_name": "matolaypal", "link": "https://stackoverflow.com/users/9283784/matolaypal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 0, "accepted_answer_id": 48502894, "answer_count": 2, "score": 0, "last_activity_date": 1517234030, "creation_date": 1517231550, "last_edit_date": 1517232178, "question_id": 48502115, "link": "https://stackoverflow.com/questions/48502115/why-return-null-from-custom-dialog-edittext", "title": "Why return null from custom dialog EditText?", "body": "<p><strong>Here's the AlertDialog inside the MainActivity onCreate method:</strong></p>\n\n<pre><code>import kotlinx.android.synthetic.main.dialog.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        fab.setOnClickListener { view -&gt;\n            AlertDialog.Builder(this@MainActivity)\n                    .setView(LayoutInflater.from(this@MainActivity).inflate(R.layout.dialog, null))\n                    .setPositiveButton(\"OK\") {dialog, i -&gt;\n                        Toast.makeText(\n                                this@MainActivity, dialogEditText.text, Toast.LENGTH_SHORT)\n                                .show()\n                        dialog.dismiss()\n                    }.show()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Here's the dialog layout</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"&gt;\n    &lt;EditText\n        android:id=\"@+id/dialogEditText\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n    &lt;/EditText&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>However, in the end, I got this error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: dialogEditText must not be null</p>\n</blockquote>\n\n<p>But I filled the input... What's wrong here?</p>\n"}, {"tags": ["annotations", "kotlin", "annotation-processing"], "comments": [{"owner": {"reputation": 3658, "user_id": 67878, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8a20b6c052e6178c98b8026c28fb75cc?s=128&d=identicon&r=PG", "display_name": "Vitaly", "link": "https://stackoverflow.com/users/67878/vitaly"}, "edited": false, "score": 0, "creation_date": 1524590226, "post_id": 48500935, "comment_id": 87031355, "body": "This might be of help: <a href=\"https://stackoverflow.com/questions/46323988/java-kotlin-annotation-processor-get-type-of-annotated-field-property\" title=\"java kotlin annotation processor get type of annotated field property\">stackoverflow.com/questions/46323988/&hellip;</a>"}], "owner": {"reputation": 610, "user_id": 4623824, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d00831d1fe891782e870c7c8cc3967ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Manuel Pineda Murcia", "link": "https://stackoverflow.com/users/4623824/victor-manuel-pineda-murcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1517227767, "creation_date": 1517227767, "question_id": 48500935, "link": "https://stackoverflow.com/questions/48500935/annotation-processor-in-kotlin-nullable-types", "title": "Annotation processor in Kotlin: nullable types", "body": "<p>I'm writting my first annotation processor in Kotlin. I need to check the type of a annotated property in order to know if is optional or not.</p>\n\n<p>The client code looks like:</p>\n\n<pre><code> @MyAnnotation var property: String? \n</code></pre>\n\n<p>In my annotation processor, I have an instance of Element class from javax.lang.model.element packpage which represents my annotated property. I can do element.asType() to get the type the property, but I don't know how to check if this property is optional or not. </p>\n"}, {"tags": ["mongodb", "spring-boot", "kotlin", "spring-data-mongodb", "kotlin-reflect"], "comments": [{"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1517227778, "post_id": 48500899, "comment_id": 83995056, "body": "Can you post your full dependency list?"}], "answers": [{"tags": [], "owner": {"reputation": 2523, "user_id": 2166690, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/9989a316c010fd3656471c05b0b794de?s=128&d=identicon&r=PG", "display_name": "Gregor", "link": "https://stackoverflow.com/users/2166690/gregor"}, "is_accepted": false, "score": 1, "last_activity_date": 1517232052, "creation_date": 1517232052, "answer_id": 48502267, "question_id": 48500899, "link": "https://stackoverflow.com/questions/48500899/reflectkotlinclass-not-found-in-spring-boot-m7-with-mongodb/48502267#48502267", "title": "ReflectKotlinClass not found in Spring Boot M7 with MongoDB", "body": "<p>It looks like there was a bug report filed, adressing the same issue: <a href=\"https://jira.spring.io/browse/DATACMNS-1245\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATACMNS-1245</a>\nWith spring-data-commons 2.0.3.RELEASE the problem does not longer occur.</p>\n"}], "owner": {"reputation": 2523, "user_id": 2166690, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/9989a316c010fd3656471c05b0b794de?s=128&d=identicon&r=PG", "display_name": "Gregor", "link": "https://stackoverflow.com/users/2166690/gregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517232052, "creation_date": 1517227644, "question_id": 48500899, "link": "https://stackoverflow.com/questions/48500899/reflectkotlinclass-not-found-in-spring-boot-m7-with-mongodb", "title": "ReflectKotlinClass not found in Spring Boot M7 with MongoDB", "body": "<p>If you create a new Spring Boot project on start.spring.io with the Web and MongoDB module, add any @Document annotated class, and in addition upgrade the kotlin.version from 1.2.10 to 1.2.21 you get a NoClassDefFoundError:</p>\n\n<pre><code>Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.0.0.M7:run (default-cli) on project demo: An exception occurred while running. null: InvocationTargetException: Error creating bean with name 'mongoTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataAutoConfiguration.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1; \nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'mappingMongoConverter' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataAutoConfiguration.class]: Unsatisfied dependency expressed through method 'mappingMongoConverter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongoMappingContext' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDataAutoConfiguration.class]: Invocation of init method failed;\nnested exception is java.lang.NoClassDefFoundError: kotlin/reflect/jvm/internal/impl/load/kotlin/reflect/ReflectKotlinClass:\nkotlin.reflect.jvm.internal.impl.load.kotlin.reflect.ReflectKotlinClass\n</code></pre>\n\n<p>When the @Document annotated class is removed the application starts with no issues.</p>\n\n<p>From the error message it looks like the MongoDataAutoConfiguration requires the ReflectKotlinClass, which is not found in the classpath. The kotlin-reflect module is in the dependency list. Is there any other kotlin module required? </p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8608956"}, "edited": false, "score": 0, "creation_date": 1517228132, "post_id": 48500725, "comment_id": 83995262, "body": "Thank you Kirill for taking the time to respond. I&#39;m aware of the inability of the compiler to resolve the type but I wish I could say T where T is direct child of Any and not a Collection or any other type. I like the workaround of passing the unbound object as argument though. As a side note, I have no control over some of the classes."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8608956"}, "edited": false, "score": 0, "creation_date": 1517228845, "post_id": 48500725, "comment_id": 83995710, "body": "The only issue I see with <code>fun &lt;T, R&gt; toJson(t: T, transform: (T) -&gt; R) = JsonResult(transform(t))</code> is that is not consistent with the other extensions and callees should remember to call toJson(obj)"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1517238885, "post_id": 48500725, "comment_id": 84002565, "body": "I understand your concerns. The only alternative is renaming one of the overloads."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 0, "last_activity_date": 1517227031, "creation_date": 1517227031, "answer_id": 48500725, "question_id": 48500282, "link": "https://stackoverflow.com/questions/48500282/cannot-resolve-type-inference-when-overloading-function-extensions/48500725#48500725", "title": "Cannot resolve type inference when overloading function extensions", "body": "<p>The reason, you're getting overload resolution errors is because a receiver of type <code>List&lt;T&gt;</code> matches both, <code>fun &lt;T, R&gt; T.toJson</code> and <code>fun &lt;T, R&gt; List&lt;T&gt;.toJson</code>. </p>\n\n<p>Extension functions with an unbound receiver can be problematic, because they will appear in every autocompletion suggestion and because they are always candidates in overload resolution.</p>\n\n<p>I would suggest making the unbound version either a top-level function or putting it in an <code>object</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>fun &lt;T, R&gt; toJson(t: T, transform: (T) -&gt; R) = JsonResult(transform(t))\n\nfun &lt;T, R&gt; List&lt;T&gt;.toJson(transform: (T) -&gt; R) = JsonResult(map(transform))\n\nfun &lt;T, R&gt; Page&lt;T&gt;.toJson(transform: (T) -&gt; R) = JsonResult(content.map(transform))\n\nfun main(args: Array&lt;String&gt;) {\n    val person = Person()\n    toJson(person) {}\n\n    val people = listOf&lt;Person&gt;()\n    people.toJson { }\n\n    val pageablePeople = Page&lt;Person&gt;()\n    pageablePeople.toJson { }\n}\n</code></pre>\n\n<p>Additionally, in the case of classes that you have control over, you can make <code>toJson</code> an instance function which always wins agains extension functions in overload resolution.</p>\n\n<pre><code>class Page&lt;T&gt;(val content: List&lt;T&gt;) {\n    fun &lt;R&gt; toJson(transform: (T) -&gt; R) = JsonResult(content.map(transform))\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8608956"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517227031, "creation_date": 1517225574, "last_edit_date": 1517226187, "question_id": 48500282, "link": "https://stackoverflow.com/questions/48500282/cannot-resolve-type-inference-when-overloading-function-extensions", "title": "Cannot resolve type inference when overloading function extensions", "body": "<p>Given the following method extensions (JsonResult is just a wrapper with some additional fields):</p>\n\n<pre><code>fun &lt;T, R&gt; T.toJson(transform: (T) -&gt; R) = JsonResult(transform(this))\n\nfun &lt;T, R&gt; List&lt;T&gt;.toJson(transform: (T) -&gt; R) = JsonResult(this.map(transform))\n\nfun &lt;T, R&gt; Page&lt;T&gt;.toJson(transform: (T) -&gt; R) = JsonResult(this.content.map(transform)\n</code></pre>\n\n<p>When I try to call any of the above methods, either from a list or an object that is not a list, I get a compiler error with the message <code>Cannot choose among the following candidates without completing type inference</code> which I expect</p>\n\n<pre><code>import org.springframework.data.domain.Page\n\nval person = Person()\nperson.toJson { } // compiler error\n\nval people = List&lt;Person&gt;()\npeople.toJson { } // compiler error\n\nval pageablePeople = Page&lt;Person&gt;\npageablePeople.toJson { } \n</code></pre>\n\n<p>I wonder if there is any other (idiomatic?) way to declare those functions without changing their names.</p>\n"}, {"tags": ["android", "list", "kotlin"], "comments": [{"owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "edited": false, "score": 1, "creation_date": 1517223485, "post_id": 48499267, "comment_id": 83992578, "body": "consolidate the two Lists and then make a hashmap from String to Integer which is id of the student to the number of occurrences and then loop over the hashmap and get the keys which have only 1 occurrence."}, {"owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "edited": false, "score": 0, "creation_date": 1517223879, "post_id": 48499267, "comment_id": 83992831, "body": "You can create the map from Student to number of occurrences just to get the List of students in the end"}], "answers": [{"comments": [{"owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 0, "creation_date": 1517226852, "post_id": 48500624, "comment_id": 83994554, "body": "Will try and will let you know. Thanks for the effort. :)"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 1, "creation_date": 1517233154, "post_id": 48500624, "comment_id": 83998538, "body": "Someone ended up posting a nice solution, see <a href=\"https://stackoverflow.com/a/48501654/4465208\">here</a>"}, {"owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 0, "creation_date": 1517288408, "post_id": 48500624, "comment_id": 84022877, "body": "I have found a solution.. Please check if its the right way to achieve it? Will totally appreciate if you could check the solution and point out if anything is wrong."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1517233132, "last_edit_date": 1517233132, "creation_date": 1517226727, "answer_id": 48500624, "question_id": 48499267, "link": "https://stackoverflow.com/questions/48499267/get-uncommon-elements-from-two-list-kotlin/48500624#48500624", "title": "Get uncommon elements from two list - KOTLIN", "body": "<p>Until someone comes up with a neater and shorter solution, here's a working one that I think is easy enough to read:</p>\n\n<pre><code>internal fun getDistinctStudents(studentsList: List&lt;Students&gt;, prefStudents: List&lt;Students&gt;): List&lt;Students&gt; {\n    val studentsIds = studentsList.map { it._id }          // [ 1, 2, 3 ]\n    val prefStudentIds = prefStudents.map { it._id }       // [ 1, 2 ]\n    val commonIds = studentsIds.intersect(prefStudentIds)  // [ 1, 2 ]\n\n    val allStudents = studentsList + prefStudents      // [ Student1, Student2, Student3, Student1, Student2 ]\n    return allStudents.filter { it._id !in commonIds } // [ Student3 ]\n}\n</code></pre>\n\n<hr>\n\n<p>If you have a very large amount of students (hundreds), consider using sequences for the various steps, and perhaps filtering before concatenating the last two lists could help too:</p>\n\n<pre><code>val filteredStudents = studentsList.filter { it._id !in commonIds }\nval filteredPrefStudents = prefStudents.filter { it._id !in commonIds }\nreturn filteredStudents + filteredPrefStudents\n</code></pre>\n\n<p>Edit: see <a href=\"https://stackoverflow.com/a/48501654/4465208\">this answer instead</a>. </p>\n"}, {"comments": [{"owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 0, "creation_date": 1517227274, "post_id": 48500768, "comment_id": 83994778, "body": "Will try and will let you know. Thanks for the effort. :)"}], "tags": [], "owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "is_accepted": false, "score": 3, "last_activity_date": 1517227164, "creation_date": 1517227164, "answer_id": 48500768, "question_id": 48499267, "link": "https://stackoverflow.com/questions/48499267/get-uncommon-elements-from-two-list-kotlin/48500768#48500768", "title": "Get uncommon elements from two list - KOTLIN", "body": "<p>This is the solution using a HashMap, the code could be better, but I'm very new to kotlin</p>\n\n<pre><code>fun getDistinctStudents(studentsList: List&lt;Student&gt;, prefStudents: List&lt;Student&gt;): List&lt;Student&gt; {\n    val studentsOccurrences = HashMap&lt;Student, Int&gt;()\n    val consolidatedStudents = studentsList + prefStudents\n    for (student in consolidatedStudents) {\n        val numberOfOccurrences = studentsOccurrences[student]\n        studentsOccurrences.put(student, if(numberOfOccurrences == null) 1 else numberOfOccurrences + 1)\n    }\n    return consolidatedStudents.filter { student -&gt; studentsOccurrences[student] == 1 }\n}\n</code></pre>\n\n<p>Your student class should be a data class or at least overrides hashcode and equals to be used as a key.</p>\n"}, {"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1517233180, "post_id": 48501654, "comment_id": 83998558, "body": "Nice solution! :)"}, {"owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 0, "creation_date": 1517288444, "post_id": 48501654, "comment_id": 84022888, "body": "Actually.. Yes.. This is a nice solution indeed,"}], "tags": [], "owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "is_accepted": true, "score": 28, "last_activity_date": 1517245657, "last_edit_date": 1517245657, "creation_date": 1517230054, "answer_id": 48501654, "question_id": 48499267, "link": "https://stackoverflow.com/questions/48499267/get-uncommon-elements-from-two-list-kotlin/48501654#48501654", "title": "Get uncommon elements from two list - KOTLIN", "body": "<p>A more Kotlin way to achieve what Ahmed Hegazy posted. The map will contain a list of elements, rather than a key and count.</p>\n\n<p>Using HashMap and Kotlin built-ins. <code>groupBy</code> creates a Map with a key as defined in the Lambda (id in this case), and a List of the items (List for this scenario)</p>\n\n<p>Then filtering out entries that have a list size other than 1.</p>\n\n<p>And finally, converting it to a single List of Students (hence the flatMap call)</p>\n\n<pre><code>val list1 = listOf(Student(\"1\", \"name1\"), Student(\"2\", \"name2\"))\nval list2 = listOf(Student(\"1\", \"name1\"), Student(\"2\", \"name2\"), Student(\"3\", \"name2\"))\n\nval sum = list1 + list2\nreturn sum.groupBy { it.id }\n    .filter { it.value.size == 1 }\n    .flatMap { it.value }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1517288873, "post_id": 48514137, "comment_id": 84023007, "body": "This won&#39;t give you the students that are only in <code>studentsList</code>, only the ones that are only in <code>prefStudents</code>. I think you should stick to the solution by @Mikezx6r."}], "tags": [], "owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "is_accepted": false, "score": 2, "last_activity_date": 1517288752, "last_edit_date": 1517288752, "creation_date": 1517288339, "answer_id": 48514137, "question_id": 48499267, "link": "https://stackoverflow.com/questions/48499267/get-uncommon-elements-from-two-list-kotlin/48514137#48514137", "title": "Get uncommon elements from two list - KOTLIN", "body": "<p>Finally after some searching on Kotlin docs i have the solution. the function i was looking for was <code>filterNot</code></p>\n\n<p>Here is the complete solution which i tried.</p>\n\n<pre><code>internal fun getDistinctStudents(studentsList: List&lt;Students&gt;, prefStudents: List&lt;Students&gt;): List&lt;Students&gt; {\n    return prefStudents.filterNot { prefStudent -&gt;\n         studentsList.any {\n             prefStudent._id == it._id\n         }\n    } \n}\n</code></pre>\n\n<p>Which returned the uncommon elements.</p>\n"}, {"comments": [{"owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 0, "creation_date": 1517305605, "post_id": 48514489, "comment_id": 84031202, "body": "Thanks for the effort, But by common objects i meant the student id only, only id can be same, rest all data can or might be different, so if i use subtract the case break if id is same and name is different."}, {"owner": {"reputation": 11, "user_id": 9287162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a62d69f8949cbf98216382f21ed85664?s=128&d=identicon&r=PG", "display_name": "user9287162", "link": "https://stackoverflow.com/users/9287162/user9287162"}, "reply_to_user": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 0, "creation_date": 1517315898, "post_id": 48514489, "comment_id": 84037803, "body": "Oh I see. Sorry I was assuming Student was a data class and id/name were part of the primary constructor"}, {"owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "edited": false, "score": 0, "creation_date": 1517317638, "post_id": 48514489, "comment_id": 84038921, "body": "No Issues bother.. Once again thanks for your effort. :)"}], "tags": [], "owner": {"reputation": 11, "user_id": 9287162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a62d69f8949cbf98216382f21ed85664?s=128&d=identicon&r=PG", "display_name": "user9287162", "link": "https://stackoverflow.com/users/9287162/user9287162"}, "is_accepted": false, "score": 1, "last_activity_date": 1517290286, "creation_date": 1517290286, "answer_id": 48514489, "question_id": 48499267, "link": "https://stackoverflow.com/questions/48499267/get-uncommon-elements-from-two-list-kotlin/48514489#48514489", "title": "Get uncommon elements from two list - KOTLIN", "body": "<p>On mobile right now so I can\u2019t test it but this might work for what you need. \nUsing subtract from stdlib <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/subtract.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/subtract.html</a></p>\n\n<pre><code>internal fun getDistinctStudents(studentsList: List&lt;Students&gt;, prefStudents: \nList&lt;Students&gt;): List&lt;Students&gt; {\n    return prefStudents.subtract(studentList) + studentList.subtract(prefStudents)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 558, "user_id": 6696764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDWls.jpg?s=128&g=1", "display_name": "B_Osipiuk", "link": "https://stackoverflow.com/users/6696764/b-osipiuk"}, "edited": false, "score": 2, "creation_date": 1590593633, "post_id": 54437367, "comment_id": 109739751, "body": "This only works if you want elements from list2, that are not in list1. It is not a result of &quot;distinct elements&quot; of 2 lists. list1.toSet().minus(list2.toSet()) gives no elements, so be careful using this answer."}], "tags": [], "owner": {"reputation": 317, "user_id": 5581476, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ozOH1pGvTkc/AAAAAAAAAAI/AAAAAAAADfc/K_yeYuzIWCY/photo.jpg?sz=128", "display_name": "Jonathan Kibet", "link": "https://stackoverflow.com/users/5581476/jonathan-kibet"}, "is_accepted": false, "score": 20, "last_activity_date": 1558988985, "last_edit_date": 1558988985, "creation_date": 1548840997, "answer_id": 54437367, "question_id": 48499267, "link": "https://stackoverflow.com/questions/48499267/get-uncommon-elements-from-two-list-kotlin/54437367#54437367", "title": "Get uncommon elements from two list - KOTLIN", "body": "<p>I know that this is an old post but I believe there is a neater and shorter solution. See sample below using <strong>Mikezx6r</strong>'s data whose answer was accepted above.</p>\n\n<pre><code>val list1 = listOf(Student(\"1\", \"name1\"), Student(\"2\", \"name2\"))\nval list2 = listOf(Student(\"1\", \"name1\"), Student(\"2\", \"name2\"), Student(\"3\", \"name2\"))\n\nval difference = list2.toSet().minus(list1.toSet())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 561, "user_id": 2997980, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZtqBQ.jpg?s=128&g=1", "display_name": "N1hk", "link": "https://stackoverflow.com/users/2997980/n1hk"}, "is_accepted": false, "score": 1, "last_activity_date": 1602130312, "creation_date": 1602130312, "answer_id": 64255662, "question_id": 48499267, "link": "https://stackoverflow.com/questions/48499267/get-uncommon-elements-from-two-list-kotlin/64255662#64255662", "title": "Get uncommon elements from two list - KOTLIN", "body": "<p>Here's an extension function that basically does what you want. It makes an assumption that the element <code>E</code> knows how to be identified, e.g. by <code>Student._id</code> in your example:</p>\n<pre><code>infix fun &lt;E&gt; Collection&lt;E&gt;.symmetricDifference(other: Collection&lt;E&gt;): Set&lt;E&gt; {\n    val left = this subtract other\n    val right = other subtract this\n    return left union right\n}\n</code></pre>\n<p>Here's an example of how it could be used:</p>\n<pre><code>val disjunctiveUnion: List&lt;Student&gt; = listA symmetricDifference listB\n</code></pre>\n<p>An example test case I'd written for it:</p>\n<pre><code>@Test\nfun `symmetric difference with one of either set`() {\n    val left = listOf(1, 2, 3)\n    val right = listOf(2, 3, 4)\n\n    val result = left symmetricDifference right\n\n    assertEquals(setOf(1, 4), result)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 240, "user_id": 3182079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bd61d55714d9ac2269dce0ff303691?s=128&d=identicon&r=PG&f=1", "display_name": "Pietrek", "link": "https://stackoverflow.com/users/3182079/pietrek"}, "is_accepted": false, "score": 2, "last_activity_date": 1603798499, "creation_date": 1603798499, "answer_id": 64553594, "question_id": 48499267, "link": "https://stackoverflow.com/questions/48499267/get-uncommon-elements-from-two-list-kotlin/64553594#64553594", "title": "Get uncommon elements from two list - KOTLIN", "body": "<p>If you have two lists, where element is identified e.g. by some kind of id (item.id), then you can do as below:</p>\n<pre><code>fisrtList.filter { it.id !in secondList.map { item -&gt; item.id } }\n</code></pre>\n<p>I assume firstList and secondList contain objects of the same type naturally.</p>\n"}], "owner": {"reputation": 3211, "user_id": 5733111, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bYvwK.jpg?s=128&g=1", "display_name": "Sanoop Surendran", "link": "https://stackoverflow.com/users/5733111/sanoop-surendran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17446, "favorite_count": 5, "accepted_answer_id": 48501654, "answer_count": 8, "score": 18, "last_activity_date": 1603798499, "creation_date": 1517222412, "last_edit_date": 1601385758, "question_id": 48499267, "link": "https://stackoverflow.com/questions/48499267/get-uncommon-elements-from-two-list-kotlin", "title": "Get uncommon elements from two list - KOTLIN", "body": "<p>I have two list of same model class (STUDENT), sample student object structure is given below,</p>\n<pre><code>{\n  &quot;_id&quot;: &quot;5a66d78690429a1d897a91ed&quot;,\n  &quot;division&quot;: &quot;G&quot;,\n  &quot;standard&quot;: &quot;X&quot;,\n  &quot;section&quot;: &quot;Secondary&quot;,\n  &quot;lastName&quot;: &quot;Sawant&quot;,\n  &quot;middleName&quot;: &quot;Sandeep&quot;,\n  &quot;firstName&quot;: &quot;Shraddha&quot;,\n  &quot;pin&quot;: 12345,\n  &quot;isEditable&quot;: true,\n  &quot;isTracked&quot;: false\n}\n</code></pre>\n<p>One list have 3 objects and other 2. lets say, List A has 1, 2, 3 students and List B has 1, 2</p>\n<p>So my question is there any inbuilt functions to get the uncommon element <strong>by comparing just the id</strong>? If not how can i solve this issue.</p>\n<p>FYI, following are the two approaches i have made to solve, but failed miserably.</p>\n<p>Approach 1.</p>\n<pre><code>internal fun getDistinctStudents(studentsList: List&lt;Students&gt;, prefStudents: List&lt;Students&gt;): List&lt;Students&gt; {\n    val consolidated = prefStudents.filter {\n        prefStudents.any { students: Students -&gt; it._id == students._id }\n    }\n    return prefStudents.minus(consolidated)\n}\n</code></pre>\n<p>Approach 2.</p>\n<pre><code>internal fun getDistinctStudents(studentsList: List&lt;Students&gt;, prefStudents: List&lt;Students&gt;): List&lt;Students&gt; {\n    val consolidatedStudents = studentsList + prefStudents\n    val distinctStudents = consolidatedStudents.distinctBy{ it._id }\n    return prefStudents.minus(distinctStudents)\n}\n</code></pre>\n<p>Any kind of help will be greatly appreciated.</p>\n<p>Thanks</p>\n"}, {"tags": ["android", "logging", "kotlin", "kotlin-logging"], "comments": [{"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1517220861, "post_id": 48497881, "comment_id": 83990830, "body": "what is the full package of <code>Logger</code>? kotlin-logging is using slf4j, slf4j Logger does not have addHandler. in log4j,logback for example it can be configured with a property file. here is a logback example: <a href=\"https://examples.javacodegeeks.com/enterprise-java/logback/logback-configuration-example/\" rel=\"nofollow noreferrer\">examples.javacodegeeks.com/enterprise-java/logback/&hellip;</a>"}, {"owner": {"reputation": 191, "user_id": 9364435, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zHYqcfvl2Jc/AAAAAAAAAAI/AAAAAAAAAB8/TyTOYDsCycU/photo.jpg?sz=128", "display_name": "Sophie M", "link": "https://stackoverflow.com/users/9364435/sophie-m"}, "reply_to_user": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1517222780, "post_id": 48497881, "comment_id": 83992110, "body": "In the one, that&#39;s working, the package is java.util.logging.Logger the one I want to use is mu.KLogging (or possibly org.slf4j.LoggerFactory) I&#39;m going through the slf4j documentation now and trying to find how to do it."}, {"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1517226503, "post_id": 48497881, "comment_id": 83994333, "body": "ok, note sl4j and kotlin-logging are wrappers around java-util-logging, so the api is a bit different. The de-facto standard, in this case, is logback instead of java-util-logging"}, {"owner": {"reputation": 191, "user_id": 9364435, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zHYqcfvl2Jc/AAAAAAAAAAI/AAAAAAAAAB8/TyTOYDsCycU/photo.jpg?sz=128", "display_name": "Sophie M", "link": "https://stackoverflow.com/users/9364435/sophie-m"}, "reply_to_user": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1517229241, "post_id": 48497881, "comment_id": 83995918, "body": "I am going through the logback.xml it seems to be a good solution but I haven&#39;t figured it out yet. Thak you very much! I will post it as soon as I figure it out. (if I manage to do it)"}, {"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 0, "creation_date": 1517230298, "post_id": 48497881, "comment_id": 83996618, "body": "If this is an android app you can take a look here for an example: <a href=\"https://github.com/MicroUtils/kotlin-logging-example-android\" rel=\"nofollow noreferrer\">github.com/MicroUtils/kotlin-logging-example-android</a>"}], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 5030697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f397653195e17bf5cf4e96d50a54a84?s=128&d=identicon&r=PG&f=1", "display_name": "troy_achilies", "link": "https://stackoverflow.com/users/5030697/troy-achilies"}, "edited": false, "score": 0, "creation_date": 1530734734, "post_id": 48521037, "comment_id": 89342817, "body": "where should we create logback.xml?"}, {"owner": {"reputation": 191, "user_id": 9364435, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zHYqcfvl2Jc/AAAAAAAAAAI/AAAAAAAAAB8/TyTOYDsCycU/photo.jpg?sz=128", "display_name": "Sophie M", "link": "https://stackoverflow.com/users/9364435/sophie-m"}, "reply_to_user": {"reputation": 431, "user_id": 5030697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f397653195e17bf5cf4e96d50a54a84?s=128&d=identicon&r=PG&f=1", "display_name": "troy_achilies", "link": "https://stackoverflow.com/users/5030697/troy-achilies"}, "edited": false, "score": 0, "creation_date": 1531129029, "post_id": 48521037, "comment_id": 89463484, "body": "src -&gt; main -&gt; assets link here: <a href=\"https://stackoverflow.com/questions/18302603/where-do-i-place-the-assets-folder-in-android-studio\" title=\"where do i place the assets folder in android studio\">stackoverflow.com/questions/18302603/&hellip;</a>"}], "tags": [], "owner": {"reputation": 191, "user_id": 9364435, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zHYqcfvl2Jc/AAAAAAAAAAI/AAAAAAAAAB8/TyTOYDsCycU/photo.jpg?sz=128", "display_name": "Sophie M", "link": "https://stackoverflow.com/users/9364435/sophie-m"}, "is_accepted": true, "score": 9, "last_activity_date": 1525958050, "last_edit_date": 1525958050, "creation_date": 1517313839, "answer_id": 48521037, "question_id": 48497881, "link": "https://stackoverflow.com/questions/48497881/kotlin-logger-log-to-a-file/48521037#48521037", "title": "Kotlin logger - log to a file", "body": "<p>So, I managed to log into the logcat and a file. Since I never found this problem solved anywhere else, I am posting here in case someone needs it sometime.</p>\n\n<p>I compiled these in my gradle file:</p>\n\n<pre><code>dependencies {\n    implementation 'io.github.microutils:kotlin-logging:1.4.9'\n\n\nimplementation 'com.github.tony19:logback-android-core:1.1.1-6'\nimplementation('com.github.tony19:logback-android-classic:1.1.1-6') {\n    // workaround issue #73\n    exclude group: 'com.google.android', module: 'android'\n}\n\nimplementation 'org.slf4j:slf4j-api:1.7.25'\n\nimplementation 'log4j:log4j:1.2.17'\n</code></pre>\n\n<p>I used a companion object in the logging class:</p>\n\n<pre><code>import mu.KLogging\n\nclass LogToFile(context: Context) {\n\n    companion object: KLogging()\n\nfun write(){\nlogger.info(\"Hello World\")}\n}\n</code></pre>\n\n<p>and made a logback.xml configurations file:</p>\n\n<p></p>\n\n<pre><code>&lt;property name=\"USER_HOME\" value='file_path'/&gt;\n\n&lt;appender name=\"LOG\" class=\"ch.qos.logback.core.FileAppender\"&gt;\n&lt;!--append to file--&gt;\n    &lt;file&gt;\n    ${USER_HOME}/myApp.log\n&lt;/file&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;!-- encoders are assigned the type\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=\"debug\"&gt;\n    &lt;appender-ref ref=\"LOG\"/&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p></p>\n\n<p>so it currently writes into a file and a logcat and everything works just fine.</p>\n"}], "owner": {"reputation": 191, "user_id": 9364435, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zHYqcfvl2Jc/AAAAAAAAAAI/AAAAAAAAAB8/TyTOYDsCycU/photo.jpg?sz=128", "display_name": "Sophie M", "link": "https://stackoverflow.com/users/9364435/sophie-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4941, "favorite_count": 2, "accepted_answer_id": 48521037, "answer_count": 1, "score": 4, "last_activity_date": 1525958100, "creation_date": 1517217601, "last_edit_date": 1525958100, "question_id": 48497881, "link": "https://stackoverflow.com/questions/48497881/kotlin-logger-log-to-a-file", "title": "Kotlin logger - log to a file", "body": "<pre><code>class LogToFile(context: Context) {\n        companion object: KLogging()\n        val formatter = SimpleFormatter()\n\n        // val logger = LoggerFactory.getLogger(\"MyLog\") **WITH THIS LINE...**\n\n        val logger = Logger.getLogger(\"MyLog\") //this line WORKS\n        val dest = context.applicationContext.getExternalFilesDir(null);\n        val fh = FileHandler(dest.path.plus(File.pathSeparator).plus(\"data.txt\"))\n\n        init {\n\n            //..THIS LINE DOESN'T WORK (NO addHandler is there some ekvivalent for the LoggerFactory?)//\n\n            logger.addHandler(fh)\n            fh.formatter = formatter\n        }\n\n\n        fun write(logString: String) {\n\n            try {\n\n                logger.info(logString)\n\n            } catch (e: SecurityException) {\n                e.printStackTrace()\n            } catch (e: IOException) {\n                e.printStackTrace()\n            }\n        }\n}\n</code></pre>\n\n<p>**This is a functioning code I have, which takes a log and writes it into a file.</p>\n\n<p>In the past few days, I haven't been able to find a way, how to do the same thing using KotlinLogger.</p>\n\n<p>I am trying to write all the logs into a file.</p>\n\n<p>I am a coding beginner, so I hope the question is written well enough. If it isn't I will complete it.</p>\n\n<p>I have been googling how to do it and I found nothing, so I hope it is possible.</p>\n\n<p>The Logger that's working is 'java.util.logging.Logger' the one I want to use is 'mu.KLogging' (or possibly 'org.slf4j.LoggerFactory')</p>\n\n<p>UPDATE: \nI found this: <a href=\"https://github.com/tony19/logback-android/wiki\" rel=\"nofollow noreferrer\">https://github.com/tony19/logback-android/wiki</a>\ncurrently implementing: </p>\n\n<pre><code> implementation 'io.github.microutils:kotlin-logging:1.4.9'\n    implementation 'org.slf4j:slf4j-api:1.7.25'\n    compile 'com.github.tony19:logback-android-core:1.1.1-6'\n    compile('com.github.tony19:logback-android-classic:1.1.1-6') {\n        // workaround issue #73\n        exclude group: 'com.google.android', module: 'android'\n</code></pre>\n\n<p>simple log into log cat works now.\nStill working on writing the logs into a file. **</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517212401, "post_id": 48496600, "comment_id": 83986194, "body": "To begin with, this code doesn&#39;t even compile. Second, the variable <code>_Playground</code> certainly isn&#39;t modified as it&#39;s a <code>val</code>, you probably mean that the <i>object</i> it refers to is modified. And that, of course, is the expected consequence of your code."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 9204223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7e626b9941b10bd198f31e9f2f2681?s=128&d=identicon&r=PG&f=1", "display_name": "Dzx", "link": "https://stackoverflow.com/users/9204223/dzx"}, "edited": false, "score": 0, "creation_date": 1517217793, "post_id": 48496935, "comment_id": 83988889, "body": "Thanks for answering.But...It did compline successfully, and using a clone seemingly\u2026doesn&#39;t work."}, {"owner": {"reputation": 41, "user_id": 9204223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7e626b9941b10bd198f31e9f2f2681?s=128&d=identicon&r=PG&f=1", "display_name": "Dzx", "link": "https://stackoverflow.com/users/9204223/dzx"}, "edited": false, "score": 0, "creation_date": 1517221909, "post_id": 48496935, "comment_id": 83991550, "body": "class Sokoban(Playground: Array&lt;CharArray&gt;) { private var playground = Playground private val _Playground = Playground fun move(d: String) { ...//&quot;playground&quot; got modified. } fun restart() { playground = _Playground } } fun main(args: Array&lt;String&gt;) { val Playground: Array&lt;CharArray&gt; = arrayOf( &quot;###########&quot;.toCharArray(), &quot;#$...*....#&quot;.toCharArray(), &quot;#..@......#&quot;.toCharArray(), &quot;###########&quot;.toCharArray() ) val sokoban = Sokoban(Playground.clone()) sokoban.move(&quot;Left&quot;) sokoban.restart() }"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 41, "user_id": 9204223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7e626b9941b10bd198f31e9f2f2681?s=128&d=identicon&r=PG&f=1", "display_name": "Dzx", "link": "https://stackoverflow.com/users/9204223/dzx"}, "edited": false, "score": 0, "creation_date": 1517225563, "post_id": 48496935, "comment_id": 83993811, "body": "@Dzx your Playground variables is still not field"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "reply_to_user": {"reputation": 41, "user_id": 9204223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7e626b9941b10bd198f31e9f2f2681?s=128&d=identicon&r=PG&f=1", "display_name": "Dzx", "link": "https://stackoverflow.com/users/9204223/dzx"}, "edited": false, "score": 0, "creation_date": 1517228029, "post_id": 48496935, "comment_id": 83995199, "body": "@Dzx is stil not field of <code>Sokoban</code> class. <code>_Playground</code> is still not a clone of <code>Playground</code>"}], "tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 0, "last_activity_date": 1517213600, "creation_date": 1517213600, "answer_id": 48496935, "question_id": 48496600, "link": "https://stackoverflow.com/questions/48496600/kotlin-unable-to-reset-variable/48496935#48496935", "title": "Kotlin Unable to reset variable", "body": "<p>This code can't work as you expect because Java, and, consequently, Kotlin use references, not objects. So your variable <code>_Playground</code> is just a reference to your variable <code>playground</code>. If you want it to work as you expect \u2014 make <code>_Playground</code> a cloune of <code>Playground</code> variable.</p>\n\n<p>Also your code won't compile because you do not pass <code>Playground</code> as field and your <code>reset</code> method have no access to it.</p>\n\n<hr>\n\n<p>I think that you should know that you do not follow style guides of java/kotlin. Generally variables should be named in camelcase and start from lowercase letter.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 9204223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7e626b9941b10bd198f31e9f2f2681?s=128&d=identicon&r=PG&f=1", "display_name": "Dzx", "link": "https://stackoverflow.com/users/9204223/dzx"}, "edited": false, "score": 0, "creation_date": 1517284451, "post_id": 48501900, "comment_id": 84021930, "body": "It seemingly doesn&#39;t work fine when one character of playground is modified."}, {"owner": {"reputation": 41, "user_id": 9204223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7e626b9941b10bd198f31e9f2f2681?s=128&d=identicon&r=PG&f=1", "display_name": "Dzx", "link": "https://stackoverflow.com/users/9204223/dzx"}, "edited": false, "score": 0, "creation_date": 1517297122, "post_id": 48501900, "comment_id": 84026196, "body": "If I replace  playground[0] = d.toCharArray() with  playground[0][0] = &#39;@&#39; , it wouldn&#39;t be reset."}], "tags": [], "owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "is_accepted": false, "score": 0, "last_activity_date": 1517230871, "creation_date": 1517230871, "answer_id": 48501900, "question_id": 48496600, "link": "https://stackoverflow.com/questions/48496600/kotlin-unable-to-reset-variable/48501900#48501900", "title": "Kotlin Unable to reset variable", "body": "<p>As others have mentioned, your code isn't following coding conventions and has references, and other issues. But learning a new language isn't always easy. Here's a solution that works (with an added print() to show the results and allow me to confirm the result ;)</p>\n\n<p>I defined 'move' to set the first element to the string passed. </p>\n\n<p>This creates Sokoban with a modifiable, private property called playground. Must be modifiable (var) so that it can be restarted.</p>\n\n<p>The internal property _playground takes a clone so it can be restored later.</p>\n\n<p>Also tidied up names of items. Hope this helps on your journey of learning Kotlin.</p>\n\n<pre><code>class Sokoban(private var playground: Array&lt;CharArray&gt;) {\n    private val _playground = playground.clone()\n    fun move(d: String) {\n        playground[0] = d.toCharArray()\n    }\n\n    fun restart() {\n        playground = _playground\n    }\n\n    fun print() {\n        println(\"Current value\")\n        playground.forEach { println(it) }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val playground: Array&lt;CharArray&gt; = arrayOf(\n        \"###########\".toCharArray(),\n        \"#$...*....#\".toCharArray(),\n        \"#..@......#\".toCharArray(),\n        \"###########\".toCharArray()\n    )\n    val sokoban = Sokoban(playground)\n    sokoban.move(\"Left\")\n    sokoban.print()\n    sokoban.restart()\n    sokoban.print()\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9204223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c7e626b9941b10bd198f31e9f2f2681?s=128&d=identicon&r=PG&f=1", "display_name": "Dzx", "link": "https://stackoverflow.com/users/9204223/dzx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 790, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1517230871, "creation_date": 1517212038, "last_edit_date": 1517226269, "question_id": 48496600, "link": "https://stackoverflow.com/questions/48496600/kotlin-unable-to-reset-variable", "title": "Kotlin Unable to reset variable", "body": "<pre><code>class Sokoban(Playground: Array&lt;CharArray&gt;)  \n{    \n    private var playground = Playground    \n    private val _Playground = Playground    \n    fun move(d: String) {    \n        ...//\"playground\" got modified.         \n    }    \n    fun restart() {\n        playground = _Playground\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {    \n    val Playground: Array&lt;CharArray&gt; = arrayOf(    \n            \"###########\".toCharArray(),    \n            \"#$...*....#\".toCharArray(),    \n            \"#..@......#\".toCharArray(),    \n            \"###########\".toCharArray()    \n    )    \n    val sokoban = Sokoban(Playground.clone()) \n    sokoban.move(\"Left\")\n    sokoban.restart()   \n    }\n</code></pre>\n\n<p>The code above was expected to reset the variable \"playground\" when function \"restart\" is called,yet it fails.Instead variable \"_Playground\" is modified.\nHow to fix this abnormal problem?</p>\n"}, {"tags": ["android", "kotlin", "broadcastreceiver", "android-broadcastreceiver"], "comments": [{"owner": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 1, "creation_date": 1517203943, "post_id": 48494875, "comment_id": 83982838, "body": "which android os you test ? in Nought or Api  25 not work with menifest broadcast."}, {"owner": {"reputation": 32807, "user_id": 196919, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/iqMS0.png?s=128&g=1", "display_name": "DmitryBoyko", "link": "https://stackoverflow.com/users/196919/dmitryboyko"}, "reply_to_user": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1517204207, "post_id": 48494875, "comment_id": 83982916, "body": "@KuLdipPaTel It&#39;s a Nought"}, {"owner": {"reputation": 32807, "user_id": 196919, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/iqMS0.png?s=128&g=1", "display_name": "DmitryBoyko", "link": "https://stackoverflow.com/users/196919/dmitryboyko"}, "reply_to_user": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1517204290, "post_id": 48494875, "comment_id": 83982941, "body": "@KuLdipPaTel So How do I start app after rebooting then? The app is a Launcher and it settings fine as default Launcher but does not start after rebooting. So I assume I have to implement <code>BroadcastReceiver</code>..."}, {"owner": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1517204960, "post_id": 48494875, "comment_id": 83983184, "body": "BroadcastReceiver deprecated in nought. you have find another way"}], "answers": [{"tags": [], "owner": {"reputation": 32807, "user_id": 196919, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/iqMS0.png?s=128&g=1", "display_name": "DmitryBoyko", "link": "https://stackoverflow.com/users/196919/dmitryboyko"}, "is_accepted": true, "score": 1, "last_activity_date": 1517205621, "creation_date": 1517205621, "answer_id": 48495223, "question_id": 48494875, "link": "https://stackoverflow.com/questions/48494875/broadcastreceiver-in-kotlin-does-not-work/48495223#48495223", "title": "BroadcastReceiver in Kotlin does not work", "body": "<p>As I could discoverd the prob;em was missing settings here</p>\n\n<pre><code>android:enabled=\"true\"\nandroid:stopWithTask=\"false\"\n</code></pre>\n\n<p>So it should be like </p>\n\n<pre><code>&lt;receiver android:name=\".activities.BroadcastReceiverOnBootComplete\"   android:enabled=\"true\"\n            android:stopWithTask=\"false\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.simplemobiletools.applauncher.sendbroadcast\" /&gt;\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;action android:name=\"android.intent.action.QUICKBOOT_POWERON\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n"}], "owner": {"reputation": 32807, "user_id": 196919, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/iqMS0.png?s=128&g=1", "display_name": "DmitryBoyko", "link": "https://stackoverflow.com/users/196919/dmitryboyko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3263, "favorite_count": 0, "accepted_answer_id": 48495223, "answer_count": 1, "score": 0, "last_activity_date": 1517205621, "creation_date": 1517203554, "question_id": 48494875, "link": "https://stackoverflow.com/questions/48494875/broadcastreceiver-in-kotlin-does-not-work", "title": "BroadcastReceiver in Kotlin does not work", "body": "<p>Using this manual <a href=\"http://www.techotopia.com/index.php/Kotlin_Android_Broadcast_Intents_and_Broadcast_Receivers#.EF.BB.BFSummary\" rel=\"nofollow noreferrer\">http://www.techotopia.com/index.php/Kotlin_Android_Broadcast_Intents_and_Broadcast_Receivers#.EF.BB.BFSummary</a> I have implemented BroadcastReceiver in Kotlin so I expect that after rebooting application will start but it does not.</p>\n\n<p>Please, help. Thank you!</p>\n\n<p><strong>BroadcastReceiver</strong></p>\n\n<pre><code>class BroadcastReceiverOnBootComplete  : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        if (intent.action.equals(Intent.ACTION_BOOT_COMPLETED, ignoreCase = true)) {\n            val message = \"Broadcast intent detected \" + intent.action\n            Toast.makeText(context, message, Toast.LENGTH_LONG).show()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Manifest file</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"com.simplemobiletools.applauncher\"\n    android:installLocation=\"internalOnly\"&gt;\n\n    &lt;uses-permission\n        android:name=\"android.permission.USE_FINGERPRINT\"\n        tools:node=\"remove\"/&gt;\n\n    &lt;permission\n        android:name=\"com.simplemobiletools.applauncher.permission.INSTALL_SHORTCUT\"\n        android:permissionGroup=\"android.permission-group.SYSTEM_TOOLS\"\n        android:protectionLevel=\"dangerous\"\n        android:label=\"@string/permlab_install_shortcut\"\n        android:description=\"@string/permdesc_install_shortcut\" /&gt;\n    &lt;permission\n        android:name=\"com.simplemobiletools.applauncher.permission.READ_SETTINGS\"\n        android:permissionGroup=\"android.permission-group.SYSTEM_TOOLS\"\n        android:protectionLevel=\"normal\"\n        android:label=\"@string/permlab_read_settings\"\n        android:description=\"@string/permdesc_read_settings\"/&gt;\n    &lt;permission\n        android:name=\"com.simplemobiletools.applauncher.permission.WRITE_SETTINGS\"\n        android:permissionGroup=\"android.permission-group.SYSTEM_TOOLS\"\n        android:protectionLevel=\"signatureOrSystem\"\n        android:label=\"@string/permlab_write_settings\"\n        android:description=\"@string/permdesc_write_settings\"/&gt;\n    &lt;permission\n        android:name=\"com.simplemobiletools.applauncher.permission.RECEIVE_LAUNCH_BROADCASTS\"\n        android:protectionLevel=\"signature\"\n        /&gt;\n    &lt;permission\n        android:name=\"com.simplemobiletools.applauncher.permission.RECEIVE_FIRST_LOAD_BROADCAST\"\n        android:protectionLevel=\"signatureOrSystem\" /&gt;\n\n    &lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.SET_WALLPAPER\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.SET_WALLPAPER_HINTS\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.BIND_APPWIDGET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.BROADCAST_STICKY\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n    &lt;uses-permission android:name=\"com.android.launcher.permission.READ_SETTINGS\" /&gt;\n    &lt;uses-permission android:name=\"com.android.launcher.permission.WRITE_SETTINGS\" /&gt;\n    &lt;uses-permission android:name=\"com.android.launcher3.permission.READ_SETTINGS\" /&gt;\n    &lt;uses-permission android:name=\"com.android.launcher3.permission.WRITE_SETTINGS\" /&gt;\n    &lt;uses-permission android:name=\"com.android.launcher3.permission.RECEIVE_LAUNCH_BROADCASTS\" /&gt;\n    &lt;uses-permission android:name=\"com.android.launcher3.permission.RECEIVE_FIRST_LOAD_BROADCAST\" /&gt;\n\n\n\n    &lt;application\n        android:name=\".App\"\n        android:hardwareAccelerated=\"true\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_launcher_name\"\n        android:roundIcon=\"@mipmap/ic_launcher\"\n        android:theme=\"@style/AppTheme\"\n        android:supportsRtl=\"true\"\n        android:restoreAnyVersion=\"true\"&gt;\n        &lt;receiver android:name=\".activities.BroadcastReceiverOnBootComplete\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.simplemobiletools.applauncher.sendbroadcast\" /&gt;\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;action android:name=\"android.intent.action.QUICKBOOT_POWERON\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;activity\n            android:launchMode=\"singleTask\"\n            android:clearTaskOnLaunch=\"true\"\n            android:stateNotNeeded=\"true\"\n            android:windowSoftInputMode=\"adjustPan\"\n            android:screenOrientation=\"nosensor\"\n            android:resumeWhilePausing=\"true\"\n            android:taskAffinity=\"\"\n            android:enabled=\"true\"\n\n            android:name=\".activities.SplashActivity\"\n            android:theme=\"@style/SplashTheme\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.HOME\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;category android:name=\"android.intent.category.MONKEY\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity android:name=\".activities.MainActivity\"/&gt;\n\n        &lt;activity\n            android:name=\".activities.SettingsActivity\"\n            android:label=\"@string/settings\"\n            android:parentActivityName=\".activities.MainActivity\"/&gt;\n\n        &lt;activity\n            android:name=\"com.simplemobiletools.commons.activities.AboutActivity\"\n            android:label=\"@string/about\"\n            android:parentActivityName=\".activities.MainActivity\"/&gt;\n\n        &lt;activity\n            android:name=\"com.simplemobiletools.commons.activities.LicenseActivity\"\n            android:label=\"@string/third_party_licences\"\n            android:parentActivityName=\"com.simplemobiletools.commons.activities.AboutActivity\"/&gt;\n\n        &lt;activity\n            android:name=\"com.simplemobiletools.commons.activities.CustomizationActivity\"\n            android:label=\"@string/customize_colors\"\n            android:parentActivityName=\".activities.SettingsActivity\"/&gt;\n\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p><strong>MainActivity with BroadcastReceiver</strong></p>\n\n<pre><code>class MainActivity : SimpleActivity(), RefreshRecyclerViewListener {\n\n    private var launchers = ArrayList&lt;AppLauncher&gt;()\n    private var mStoredPrimaryColor = 0\n    private var mStoredTextColor = 0\n    private var mStoredUseEnglish = false\n    private var receiver: BroadcastReceiver? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        appLaunched()\n        setupLaunchers()\n        checkWhatsNewDialog()\n        storeStateVariables()\n        configureReceiver()\n\n        fab.setOnClickListener {\n            AddAppLauncherDialog(this, launchers) {\n                setupLaunchers()\n            }\n        }\n    }\n\n    override fun onDestroy() {\n        // super.onDestroy()\n        unregisterReceiver(receiver)\n    }\n\n    override fun onResume() {\n        super.onResume()\n        if (mStoredUseEnglish != config.useEnglish) {\n            restartActivity()\n            return\n        }\n\n        if (mStoredTextColor != config.textColor) {\n            getGridAdapter()?.updateTextColor(config.textColor)\n        }\n\n        if (mStoredPrimaryColor != config.primaryColor) {\n            getGridAdapter()?.updatePrimaryColor(config.primaryColor)\n        }\n\n        updateTextColors(coordinator_layout)\n    }\n\n    override fun onPause() {\n        super.onPause()\n        storeStateVariables()\n    }\n\n    private fun configureReceiver() {\n        val filter = IntentFilter()\n        filter.addAction(\"com.simplemobiletools.applauncher.sendbroadcast\")\n        filter.addAction(\"android.intent.action.ACTION_POWER_DISCONNECTED\")\n        filter.addAction(\"android.intent.action.BOOT_COMPLETED\")\n        receiver = BroadcastReceiverOnBootComplete()\n        registerReceiver(receiver, filter)\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        menuInflater.inflate(R.menu.menu, menu)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        when (item.itemId) {\n            R.id.settings -&gt; launchSettings()\n            R.id.about -&gt; launchAbout()\n            else -&gt; return super.onOptionsItemSelected(item)\n        }\n        return true\n    }\n\n    private fun launchSettings() {\n        startActivity(Intent(applicationContext, SettingsActivity::class.java))\n    }\n\n    private fun launchAbout() {\n        startAboutActivity(R.string.app_name, LICENSE_KOTLIN or LICENSE_MULTISELECT or LICENSE_STETHO, BuildConfig.VERSION_NAME)\n    }\n\n    private fun getGridAdapter() = launchers_grid.adapter as? LaunchersAdapter\n\n    private fun setupLaunchers() {\n        launchers = dbHelper.getLaunchers()\n        checkInvalidApps()\n        val adapter = LaunchersAdapter(this, launchers, this, launchers_grid) {\n            val launchIntent = packageManager.getLaunchIntentForPackage((it as AppLauncher).packageName)\n            if (launchIntent != null) {\n                startActivity(launchIntent)\n                finish()\n            } else {\n                val url = \"https://play.google.com/store/apps/details?id=${it.packageName}\"\n                val intent = Intent(Intent.ACTION_VIEW, Uri.parse(url))\n                startActivity(intent)\n            }\n        }\n        adapter.setupDragListener(true)\n        launchers_grid.adapter = adapter\n    }\n\n    private fun checkInvalidApps() {\n        val invalidIds = ArrayList&lt;String&gt;()\n        for ((id, name, packageName) in launchers) {\n            val launchIntent = packageManager.getLaunchIntentForPackage(packageName)\n            if (launchIntent == null &amp;&amp; !packageName.isAPredefinedApp()) {\n                invalidIds.add(id.toString())\n            }\n        }\n        dbHelper.deleteLaunchers(invalidIds)\n        launchers = launchers.filter { !invalidIds.contains(it.id.toString()) } as ArrayList&lt;AppLauncher&gt;\n    }\n\n    private fun storeStateVariables() {\n        config.apply {\n            mStoredPrimaryColor = primaryColor\n            mStoredTextColor = textColor\n            mStoredUseEnglish = useEnglish\n        }\n    }\n\n    override fun refreshItems() {\n        setupLaunchers()\n    }\n\n    private fun checkWhatsNewDialog() {\n        arrayListOf&lt;Release&gt;().apply {\n            add(Release(7, R.string.release_7))\n            checkWhatsNew(this, BuildConfig.VERSION_CODE)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "reply_to_user": {"reputation": 1340, "user_id": 2809351, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1M4Lz.jpg?s=128&g=1", "display_name": "Lalit Jadav", "link": "https://stackoverflow.com/users/2809351/lalit-jadav"}, "edited": false, "score": 0, "creation_date": 1517202538, "post_id": 48494131, "comment_id": 83982426, "body": "I want it using kotlin and i tried to convert the java code to kotlin but it didn&#39;t work and that&#39;s why i want it to be in kotlin, Thank you for the help Anyway"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "edited": false, "score": 0, "creation_date": 1517240607, "post_id": 48494740, "comment_id": 84003766, "body": "Im having error with this code    val checkDB = context.openOrCreateDatabase(DB_NAME, null)"}, {"owner": {"reputation": 212, "user_id": 7461291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DjL9.jpg?s=128&g=1", "display_name": "Hitesh Modhwadia", "link": "https://stackoverflow.com/users/7461291/hitesh-modhwadia"}, "reply_to_user": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "edited": false, "score": 0, "creation_date": 1517293062, "post_id": 48494740, "comment_id": 84024402, "body": "I&#39;ve edited answer, just check it and make sure that you are using your assets database name in : &quot;asset_db_name.db&quot;"}, {"owner": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "edited": false, "score": 0, "creation_date": 1517311291, "post_id": 48494740, "comment_id": 84034903, "body": "it really worked thanks"}], "tags": [], "owner": {"reputation": 212, "user_id": 7461291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DjL9.jpg?s=128&g=1", "display_name": "Hitesh Modhwadia", "link": "https://stackoverflow.com/users/7461291/hitesh-modhwadia"}, "is_accepted": true, "score": 3, "last_activity_date": 1517292842, "last_edit_date": 1517292842, "creation_date": 1517202561, "answer_id": 48494740, "question_id": 48494131, "link": "https://stackoverflow.com/questions/48494131/how-to-copy-database-from-assets-folder-in-android-using-kotlin/48494740#48494740", "title": "How to copy database from assets folder in android using kotlin", "body": "<p>Add this class for copy a database from assets in Kotlin:</p>\n\n<pre><code>class AssetDatabaseOpenHelper(private val context: Context) {\n\ncompanion object {\n\n    private val DB_NAME = \"asset_db_name.db\"\n}\n\nfun openDatabase(): SQLiteDatabase {\n    val dbFile = context.getDatabasePath(DB_NAME)\n\n\n    if (!dbFile.exists()) {\n        try {\n           val checkDB = context.openOrCreateDatabase(DB_NAME, Context.MODE_PRIVATE,null)\n\n            checkDB?.close()\n            copyDatabase(dbFile)\n        } catch (e: IOException) {\n            throw RuntimeException(\"Error creating source database\", e)\n        }\n\n    }\n    return SQLiteDatabase.openDatabase(dbFile.path, null, SQLiteDatabase.OPEN_READWRITE)\n}\n\n@SuppressLint(\"WrongConstant\")\nprivate fun copyDatabase(dbFile: File) {\n    val `is` = context.assets.open(DB_NAME)\n    val os = FileOutputStream(dbFile)\n\n    val buffer = ByteArray(1024)\n    while (`is`.read(buffer) &gt; 0) {\n        os.write(buffer)\n        Log.d(\"#DB\", \"writing&gt;&gt;\")\n    }\n\n    os.flush()\n    os.close()\n    `is`.close()\n    Log.d(\"#DB\", \"completed..\")\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And than open or create database from your activity using </p>\n\n<p>val adb = AssetDatabaseOpenHelper(this)</p>\n\n<p>adb.openDatabase()</p>\n\n<p>Log.d(\"#DB\",\"writing>>\"); will show you database entries in Logcat.</p>\n"}], "owner": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2934, "favorite_count": 1, "closed_date": 1517204085, "accepted_answer_id": 48494740, "answer_count": 1, "score": 3, "last_activity_date": 1517292842, "creation_date": 1517197934, "question_id": 48494131, "link": "https://stackoverflow.com/questions/48494131/how-to-copy-database-from-assets-folder-in-android-using-kotlin", "closed_reason": "Duplicate", "title": "How to copy database from assets folder in android using kotlin", "body": "<p>I searched all the internet to find a way that allows me to copy a database from assets folder using kotlin but there is none so please does anyone knows how to do it in kotlin?? Because I'm working on project and everything is stopped on this step \nThanks in advance </p>\n"}, {"tags": ["kotlin", "proguard"], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1517206325, "post_id": 48495087, "comment_id": 83983664, "body": "Thanks. Sounds like it&#39;s okay to declare as Data Classes, as proguard could handle them accordingly, right?"}], "tags": [], "owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "is_accepted": false, "score": 2, "last_activity_date": 1517207821, "last_edit_date": 1517207821, "creation_date": 1517204892, "answer_id": 48495087, "question_id": 48493397, "link": "https://stackoverflow.com/questions/48493397/does-data-class-tostring-equal-etc-get-optimized-by-proguard/48495087#48495087", "title": "Does Data class toString, equal etc get optimized by proguard?", "body": "<blockquote>\n  <p>I'm asking because I'm wondering if we should use data class with cautious</p>\n</blockquote>\n\n<p>Public methods, that override <code>Object</code>'s methods (e.g. <code>equals</code>, <code>hashCode</code>, <code>toString</code>) are always kept during shrinking; it is impossible to safely remove them. This is because JVM and some system classes (such as <code>HashMap</code>) may internally call those methods on your objects, and Proguard can not make assumptions about internals of JVM and system classes.</p>\n\n<p>Other public methods, that override base class methods, as well as methods, required to implement abstract class/interface are also never optimized out. It should theoretically be possible to strip them away, but Proguard currently (as of version 5.*) isn't able to do that.</p>\n\n<p>AFAIK, some auto-generated methods in Kotlin data classes (namely, <code>component*()</code> and <code>copy()</code> methods) don't override any base methods, \u2014 they are just used by compiler according to their contract. Those methods can be removed during shrinking, provided that nothing uses them. Auto-generated constructors can also be removed if unused.</p>\n\n<hr>\n\n<p><strong>TL;DR</strong>: You can safely process data classes with Proguard, the only caveat is that <code>equals</code>, <code>hashCode</code> and <code>toString</code> are always kept, even if unused.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1517207821, "creation_date": 1517191333, "question_id": 48493397, "link": "https://stackoverflow.com/questions/48493397/does-data-class-tostring-equal-etc-get-optimized-by-proguard", "title": "Does Data class toString, equal etc get optimized by proguard?", "body": "<p>Kotlin has this <code>data class</code> that comes really handy like providing automatic <code>toString</code>, <code>equal</code> etc. However if we don't use these functions, will they be optimized away by proguard?</p>\n\n<p>I'm asking because I'm wondering if we should use <code>data class</code> with cautious (e.g.for cases we don't use <code>toString</code>, <code>equal</code> etc, we should not use data class, but instead normal class, even though they are model classes..)</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1517188508, "post_id": 48493031, "comment_id": 83979482, "body": "<code>this</code> should already be the surrounding interface implementation"}], "answers": [{"comments": [{"owner": {"reputation": 994, "user_id": 5148779, "user_type": "registered", "profile_image": "https://graph.facebook.com/862827860474068/picture?type=large", "display_name": "Felipe Belluco", "link": "https://stackoverflow.com/users/5148779/felipe-belluco"}, "edited": false, "score": 0, "creation_date": 1517195667, "post_id": 48493311, "comment_id": 83980925, "body": "The object syntax worked very perfectly! I knew that one day lambda wouldn&#39;t be there for me... I just thought it would last a little longer!"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1517190606, "last_edit_date": 1517190606, "creation_date": 1517190294, "answer_id": 48493311, "question_id": 48493031, "link": "https://stackoverflow.com/questions/48493031/how-to-make-this-a-reference-of-listener-instead-of-the-activity-in-kotlin/48493311#48493311", "title": "How to make &#39;this&#39; a reference of Listener instead of the Activity in Kotlin?", "body": "<p>The easiest way to achieve this is by using the <code>object</code> syntax as opposed to lambda (although it\u2019s a bit more noisy to use):</p>\n\n<pre><code>private fun onClick() = object: View.OnClickListener {\n    override fun onClick(v: View){\n        //this in the context of listener\n    }\n}\n</code></pre>\n\n<p>Otherwise, you\u2019d have to wrap the implementation into another higher-order function that works with <em><a href=\"https://stackoverflow.com/a/48244776/8073652\">lambdas with receiver</em></a>. Would be overkill here I think.</p>\n"}], "owner": {"reputation": 994, "user_id": 5148779, "user_type": "registered", "profile_image": "https://graph.facebook.com/862827860474068/picture?type=large", "display_name": "Felipe Belluco", "link": "https://stackoverflow.com/users/5148779/felipe-belluco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 48493311, "answer_count": 1, "score": 1, "last_activity_date": 1517190606, "creation_date": 1517187575, "question_id": 48493031, "link": "https://stackoverflow.com/questions/48493031/how-to-make-this-a-reference-of-listener-instead-of-the-activity-in-kotlin", "title": "How to make &#39;this&#39; a reference of Listener instead of the Activity in Kotlin?", "body": "<p>I have a situation similar to the following example and when I call <code>this</code> it references the <code>Activity</code> not the <code>OnClickListener</code>. Is there way to make this a reference of the listener?</p>\n\n<pre><code>private fun onClick() = View.OnClickListener {\n    // How to make 'this' a reference of OnClickListener instead of the Activity\n}\n</code></pre>\n"}, {"tags": ["android", "multithreading", "kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1517183840, "post_id": 48492108, "comment_id": 83978502, "body": "Sounds like a CountDownLatch might be what you need. You can use the Java one or roll your own."}, {"owner": {"reputation": 830, "user_id": 2038087, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d07c2adb620fa01aff60177c9ba769b8?s=128&d=identicon&r=PG", "display_name": "silverAndroid", "link": "https://stackoverflow.com/users/2038087/silverandroid"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1517243579, "post_id": 48492108, "comment_id": 84005841, "body": "But this looks like something that would block the calling thread in this case would be the main thread."}, {"owner": {"reputation": 11721, "user_id": 1541188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0a05a09fcfd23c6dedbd9e407a788f3?s=128&d=identicon&r=PG", "display_name": "urSus", "link": "https://stackoverflow.com/users/1541188/ursus"}, "edited": false, "score": 0, "creation_date": 1517255583, "post_id": 48492108, "comment_id": 84012663, "body": "if I get this correctly, use animator.cancel() to cancel animating and animate from current value (not start)"}, {"owner": {"reputation": 830, "user_id": 2038087, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d07c2adb620fa01aff60177c9ba769b8?s=128&d=identicon&r=PG", "display_name": "silverAndroid", "link": "https://stackoverflow.com/users/2038087/silverandroid"}, "reply_to_user": {"reputation": 11721, "user_id": 1541188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0a05a09fcfd23c6dedbd9e407a788f3?s=128&d=identicon&r=PG", "display_name": "urSus", "link": "https://stackoverflow.com/users/1541188/ursus"}, "edited": false, "score": 0, "creation_date": 1517540022, "post_id": 48492108, "comment_id": 84146695, "body": "@urSus so this will move the animation to the end state synchronously?"}, {"owner": {"reputation": 11721, "user_id": 1541188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0a05a09fcfd23c6dedbd9e407a788f3?s=128&d=identicon&r=PG", "display_name": "urSus", "link": "https://stackoverflow.com/users/1541188/ursus"}, "edited": false, "score": 0, "creation_date": 1517552766, "post_id": 48492108, "comment_id": 84150101, "body": "not by it self, you have to override onAnimationCanceled"}], "owner": {"reputation": 830, "user_id": 2038087, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d07c2adb620fa01aff60177c9ba769b8?s=128&d=identicon&r=PG", "display_name": "silverAndroid", "link": "https://stackoverflow.com/users/2038087/silverandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517179037, "creation_date": 1517179037, "question_id": 48492108, "link": "https://stackoverflow.com/questions/48492108/have-semaphore-like-behaviour-on-main-thread-in-android", "title": "Have semaphore-like behaviour on main thread in Android", "body": "<p>I have a method called <code>showProgress</code> which runs a fade animation and switches the current view with a page that shows just a loading spinner (ProgressBar).</p>\n\n<pre><code>fun showProgress(show: Boolean, progressView: ProgressBar, layoutView: View): Completable {\n    val showView = if (show) progressView else layoutView\n    val hideView = if (show) layoutView else progressView\n\n    return fadeAnimation(showView, hideView)\n}\n\nprivate fun fadeAnimation(showView: View, hideView: View): Completable {\n    return Completable.create {\n        //        animateSemaphore.acquire()\n        Log.d(\"beforeFade\", \"showView: ${showView.visibility}; hideView: ${hideView.visibility}\")\n        val animTime: Long = showView.context.applicationContext.resources.getInteger(android.R.integer.config_shortAnimTime).toLong()\n\n        showView.alpha = 0f\n        handler.post {\n            showView.visibility = View.VISIBLE\n\n            showView.animate()\n                    .alpha(1f)\n                    .setDuration(animTime)\n                    .setListener(null)\n\n            hideView.animate()\n                    .alpha(0f)\n                    .setDuration(animTime)\n                    .setListener(object : AnimatorListenerAdapter() {\n                        override fun onAnimationEnd(animation: Animator) {\n                            hideView.visibility = View.GONE\n                            Log.d(\"fade\", \"showView: ${showView.visibility}; hideView: ${hideView.visibility}\")\n                            it.onComplete()\n                        }\n                    })\n        }\n    }\n}\n</code></pre>\n\n<p>I use it when I'm waiting for a network request to complete with RxJava and I want to show the ProgressBar while the app is waiting for the request to finish. However, sometimes the network request will return before <code>showProgress</code> is finished and will cause the animation to run twice causing progressView and layoutView to both be set to <code>View.GONE</code>.</p>\n\n<p>My question is how do I make sure that when <code>showProgress</code> is called while another <code>showProgress</code> is still running, the <code>showProgress</code> being called will wait till the one running is finished? Just an FYI, semaphores won't exactly work since <code>showProgress</code> runs on the main thread and will cause a running <code>showProgress</code> to freeze.</p>\n"}, {"tags": ["java", "java-8", "functional-programming", "kotlin", "java-stream"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 7, "last_activity_date": 1517175554, "creation_date": 1517175554, "answer_id": 48491608, "question_id": 48491335, "link": "https://stackoverflow.com/questions/48491335/is-there-any-equivalent-kotlin-function-to-java-8-stream-limit-function/48491608#48491608", "title": "Is there any equivalent Kotlin function to Java 8 Stream limit function", "body": "<p>By using a sequence, you can get lazy evaluation like a Java 8 stream.  I've rewritten your example with a lazy sequence and explicit types (I haven't changed them, I just declared them for clarity):</p>\n\n<pre><code>val arr: IntRange = 0 until 20\n\nval res: List&lt;Int&gt; = arr\n    .asSequence()\n    .filter { i -&gt;\n        println(\"Filter: $i\")\n        i % 2 == 0\n    }\n    .take(2)\n    .toList()\n\n// Prints\nFilter: 0\nFilter: 1\nFilter: 2\nAnd res == [0, 2]\n</code></pre>\n\n<p>By turning <code>arr</code> into a sequence, performing your <code>filter</code> and <code>take</code> (which is like Java's <code>limit</code>), and turning it back into a List, it will perform lazily.</p>\n\n<p>From <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html\" rel=\"noreferrer\">the documentation for Sequence</a>: </p>\n\n<blockquote>\n  <p>A sequence that returns values through its iterator. The values are evaluated lazily, and the sequence is potentially infinite.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 11, "last_activity_date": 1520232146, "last_edit_date": 1520232146, "creation_date": 1517175648, "answer_id": 48491617, "question_id": 48491335, "link": "https://stackoverflow.com/questions/48491335/is-there-any-equivalent-kotlin-function-to-java-8-stream-limit-function/48491617#48491617", "title": "Is there any equivalent Kotlin function to Java 8 Stream limit function", "body": "<p>Kotlin, by default, does these kind of operations <strong>eagerly</strong> whereas <em>Streams</em> in Java are <strong>lazy</strong>. You can have the same behaviour in Kotlin if you work with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html\" rel=\"nofollow noreferrer\"><strong>sequences</strong></a>, which can easily be generated from <code>Array</code>s or <code>Iterable</code>s with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/as-sequence.html\" rel=\"nofollow noreferrer\"><code>asSequence()</code></a>.</p>\n\n<pre><code>arr.asSequence().filter { i -&gt;\n    println(\"Filter: $i\")\n    i % 2 == 0\n}.take(2).toList()\n\n//Filter: 0\n//Filter: 1\n//Filter: 2\n</code></pre>\n\n<p>Note that the sequence has to be transformed back to a list in the end.</p>\n\n<p>You can read about the details <a href=\"https://stackoverflow.com/a/35630670/8073652\">here</a>.</p>\n"}], "owner": {"reputation": 120, "user_id": 7238916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e29aa4c426e0881837c516421a8de5?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Ham", "link": "https://stackoverflow.com/users/7238916/omar-ham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 887, "favorite_count": 2, "closed_date": 1518114316, "accepted_answer_id": 48491617, "answer_count": 2, "score": 5, "last_activity_date": 1520232146, "creation_date": 1517173739, "last_edit_date": 1517178198, "question_id": 48491335, "link": "https://stackoverflow.com/questions/48491335/is-there-any-equivalent-kotlin-function-to-java-8-stream-limit-function", "closed_reason": "Duplicate", "title": "Is there any equivalent Kotlin function to Java 8 Stream limit function", "body": "<p>I am trying to find the first two elements in a list that meet a condition (filtering), for that purpose I have implemented the following piece of code in kotlin:</p>\n\n<pre><code>val arr = 0 until 20\n\nval res = arr.filter { i -&gt;\n        println(\"Filter: $i\")\n        i % 2 == 0\n    }.take(2)\n</code></pre>\n\n<p>Everything was fine until I realized it filters through the whole list, no matter if the two elements have been found.</p>\n\n<p>Making use of Java 8 stream api, it works as expected.</p>\n\n<pre><code>val res2 = arr.toList().stream()\n     .filter { i -&gt;\n          println(\"Filter: $i\")\n          i % 2 == 0\n     }.limit(2)\n</code></pre>\n\n<p>So my questions is if it can be achieved using only Kotlin functions.</p>\n\n<p>I know I could use a simple for loop but I want to use a functional programming aproach.</p>\n"}, {"tags": ["multithreading", "casting", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517166538, "post_id": 48490214, "comment_id": 83973387, "body": "The solution you saw doesn&#39;t &quot;expect MT&quot;, it explains why Kotlin&#39;s static analysis works as it does. <code>How to avoid smart casting if it can&#39;t do it?</code>---by not requesting it. Your <code>list.size == 1</code> requests a smart cast which Kotlin refuses."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517167211, "post_id": 48490214, "comment_id": 83973651, "body": "Making a method <code>synchronized</code> wouldn&#39;t be nearly enough to make it impossible to update an instance variable from another thread. In fact, there is nothing you can do to stop it."}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517167657, "post_id": 48490214, "comment_id": 83973788, "body": "@MarkoTopolnik so how not to request smart casting?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517167824, "post_id": 48490214, "comment_id": 83973843, "body": "You need help with the syntax? <code>list!!.size</code> will avoid a smart cast. So will <code>list?.size</code>."}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517167925, "post_id": 48490214, "comment_id": 83973878, "body": "@MarkoTopolnik incredible, I am very confused"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1517168070, "post_id": 48490214, "comment_id": 83973921, "body": "It&#39;s hard to find where exactly you need help. Your <code>list</code> is a nullable type, you can&#39;t just dereference it."}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517168531, "post_id": 48490214, "comment_id": 83974093, "body": "I already ensured it is not <code>null</code>, then I can dereference it."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517168612, "post_id": 48490214, "comment_id": 83974117, "body": "You can&#39;t ensure an instance variable is not <code>null</code>. The next time you load it, it may have become <code>null</code>. There is nothing you can do to make that <i>theoretically impossible</i>."}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1517173412, "post_id": 48490214, "comment_id": 83975596, "body": "What&#39;s the difference with other values? Suppose I checked variable is equal to <code>2</code>. Next line I also can&#39;t be sure it is still <code>2</code> because somebody could change it. Hence, no programming is possible at all!"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1517174424, "post_id": 48490214, "comment_id": 83975964, "body": "All you have to do is load an instance variable into a local variable."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 4, "last_activity_date": 1517166438, "creation_date": 1517166438, "answer_id": 48490265, "question_id": 48490214, "link": "https://stackoverflow.com/questions/48490214/smart-cast-is-impossible-because-is-a-mutable-property-that-could-have-been/48490265#48490265", "title": "Smart cast is impossible, because ... is a mutable property that could have been changed by this time", "body": "<p>You can perform the null check, and if it succeeds, access a read-only copy of your variable with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\"><code>let</code></a>:</p>\n\n<pre><code>fun isScalar() : Boolean {\n    return list?.let { it.size == 1 } ?: false\n}\n</code></pre>\n\n<ul>\n<li>If <code>list</code> is null, the entire <code>let</code> expression will evaluate to <code>null</code>, and the right side of the Elvis operator (<code>false</code>) will be returned.</li>\n<li>If <code>list</code> is not null, then the <code>let</code> function is called, and result of the <code>it.size == 1</code> expression is returned - <code>it</code> refers to the object that <code>let</code> was called on (<code>list</code> in this case). Since it's used with a <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">safe call</a>, this <code>it</code> will have a non-nullable type and <code>size</code> can be called on it.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517167764, "post_id": 48490429, "comment_id": 83973819, "body": "Yes, I understand that there is <code>.?</code> operator, but I want to understand, how to decompose"}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "reply_to_user": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517167850, "post_id": 48490429, "comment_id": 83973851, "body": "What do you mean by &quot;how to decompose&quot;? I&#39;m not following you. There&#39;s no way to turn off the check that another thread could come in and change the meaning of <code>list</code>, so you have to work around it by not requesting a safe cast."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "reply_to_user": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517168019, "post_id": 48490429, "comment_id": 83973907, "body": "No. There is no way to turn that off. However the code from both answers (me and @zsmb13) are both idomatic Kotlin."}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517168106, "post_id": 48490429, "comment_id": 83973932, "body": "What is the purpose of message saying &quot;smart cast is impossible&quot; with simulatneously having smart cast is unavoidable?"}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517168218, "post_id": 48490429, "comment_id": 83973974, "body": "suppose another code <code>if( a != 0 ) { b = c &#47; a }</code> and a compiler which swears that it may cause division by zero because some thread can change <code>a</code> to zero between check and execution! this destroys all programming logic at all!"}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "reply_to_user": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517168223, "post_id": 48490429, "comment_id": 83973977, "body": "Because you aren&#39;t smartcasting by using <code>?.let</code> or <code>?.size</code>, you are doing nullsafe traversals. No smart cast happens there."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "reply_to_user": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517168299, "post_id": 48490429, "comment_id": 83974010, "body": "<code>a</code> isn&#39;t being cast in that case, it&#39;s always (presumably) an <code>Int</code>. So the compiler isn&#39;t looking to protect you from a common source of errors in that case. It is trying to protect you when you smart cast (which again, this isn&#39;t)."}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517168371, "post_id": 48490429, "comment_id": 83974036, "body": "Division by zero is relatively common source of errors. Why not compiler protects me from it with special version of division? Why if protects me from <code>null</code> even against my will?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1517172037, "post_id": 48490429, "comment_id": 83975171, "body": "You should address these questions at the Kotlin creators. They made certain design choices that they saw as useful. For me, null-safety is great. For you, it isn&#39;t. This is no place for either arguing over it or asking Kotlin users to answer in the name of its creators."}, {"owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "edited": false, "score": 0, "creation_date": 1517173784, "post_id": 48490429, "comment_id": 83975729, "body": "I need explanation. Null safety may be good, but neither service is good, if it is a must. Anyway, your answer looks best for me, because you used implicit checking for <code>null</code> inside <code>.?</code> only."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1517211613, "post_id": 48490429, "comment_id": 83985841, "body": "Null safety is no different from any other static analysis you care to name. They all follow strict formal rules and can never be <i>complete</i>, i.e., have no false positives and no false negatives. That is a <i>theoretical impossibility</i>. Furthermore, there is no statically typed language out there that allows you to disable any formal rule at any time There are always some rules that are &quot;a must&quot; and the designers have a very hard time finding the right balance between safe strictness and dangerous laxness."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 6, "last_activity_date": 1517169387, "last_edit_date": 1517169387, "creation_date": 1517167626, "answer_id": 48490429, "question_id": 48490214, "link": "https://stackoverflow.com/questions/48490214/smart-cast-is-impossible-because-is-a-mutable-property-that-could-have-been/48490429#48490429", "title": "Smart cast is impossible, because ... is a mutable property that could have been changed by this time", "body": "<p>If you take advantage of the fact that <code>null</code> cannot equal <code>1</code> (or anything else, really), you can make this check very concise:</p>\n\n<pre><code>fun isScalar() : Boolean =\n    list?.size == 1\n</code></pre>\n\n<p>When a null-safe call to <code>list.size</code> returns null, we get <code>false</code> because <code>1 != null</code>. Otherwise, a comparison of whatever value <code>size</code> returns is made, and that works as you would expect.</p>\n\n<p>By using the null safe operator (<code>?.</code>) you are avoiding a smart cast entirely. Kotlin gives us smart casts to make code cleaner, and this is one of the ways it protects us from misuses <em>of that feature</em>. Kotlin isn't going to protect us from everything (division by zero, the example you use in comments, for example). Your code is getting caught up in a legitimate case of where smart casting can go wrong, so Kotlin jumps in to help. </p>\n\n<p>However, if you are absolutely sure there are no other threads working, then yes, this check is \"wrong\". You wouldn't need the warning in that case. Judging by <a href=\"https://discuss.kotlinlang.org/t/smart-casts-and-nullability-in-single-threaded-contexts/4562/9\" rel=\"noreferrer\">this thread on kotlinlang.org</a>, you aren't the only one!</p>\n"}, {"tags": [], "owner": {"reputation": 524, "user_id": 4964308, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-QE4bNIA4JCA/AAAAAAAAAAI/AAAAAAAADuc/Lbm-sMohyHc/photo.jpg?sz=128", "display_name": "anwar alam", "link": "https://stackoverflow.com/users/4964308/anwar-alam"}, "is_accepted": false, "score": 3, "last_activity_date": 1596803514, "creation_date": 1596803514, "answer_id": 63301942, "question_id": 48490214, "link": "https://stackoverflow.com/questions/48490214/smart-cast-is-impossible-because-is-a-mutable-property-that-could-have-been/63301942#63301942", "title": "Smart cast is impossible, because ... is a mutable property that could have been changed by this time", "body": "<p>I had the same problem in the given lines</p>\n<pre><code> sliderView.setSliderAdapter(adapter!!)\n sliderView.setIndicatorAnimation(IndicatorAnimationType.WORM)\n</code></pre>\n<p>Finally, error resolved by adding !!</p>\n<pre><code> sliderView!!.setSliderAdapter(adapter!!)\n sliderView!!.setIndicatorAnimation(IndicatorAnimationType.WORM)\n</code></pre>\n"}], "owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6167, "favorite_count": 0, "accepted_answer_id": 48490429, "answer_count": 3, "score": 4, "last_activity_date": 1596803514, "creation_date": 1517166154, "last_edit_date": 1517173533, "question_id": 48490214, "link": "https://stackoverflow.com/questions/48490214/smart-cast-is-impossible-because-is-a-mutable-property-that-could-have-been", "title": "Smart cast is impossible, because ... is a mutable property that could have been changed by this time", "body": "<p>I am trying to get a class, which combines list, set and map in <code>Kotlin</code>. I wished to write <code>isScalar</code> function, which should return <code>true</code> if object contains only one element and wrote</p>\n\n<pre><code>import it.unimi.dsi.fastutil.objects.Reference2ReferenceOpenHashMap\nimport it.unimi.dsi.fastutil.objects.ReferenceArrayList\nimport it.unimi.dsi.fastutil.objects.ReferenceOpenHashSet\n\nclass Args {\n\n    var list : ReferenceArrayList&lt;M&gt;? = null\n\n    var set : ReferenceOpenHashSet&lt;M&gt;? = null\n\n    var map : Reference2ReferenceOpenHashMap&lt;M, M&gt;? = null\n\n    fun isEmpty() : Boolean {\n        return list === null &amp;&amp; set === null &amp;&amp; map === null\n    }\n\n    fun isScalar() : Boolean {\n        if(list !== null &amp;&amp; list.size == 1) {\n            return true\n        }\n    }\n\n}\n</code></pre>\n\n<p>Unfortunately it gave me error in comparison</p>\n\n<pre><code>list !== null &amp;&amp; list.size == 1\n</code></pre>\n\n<p>saying</p>\n\n<pre><code>Smart cast to 'ReferenceArrayList&lt;M&gt;' is impossible, because 'list' is a mutable property that could have been changed by this time\n</code></pre>\n\n<p>As far as I understood, this is related with multithreaded assumption. In Java I would make function <code>synchronized</code> if would expect multithreding. Also, I would be able to disregard this at all, if I am not writing thread-safe.</p>\n\n<p>How should I write in Kotlin?</p>\n\n<p>I saw this solution <a href=\"https://stackoverflow.com/a/44596284/258483\">https://stackoverflow.com/a/44596284/258483</a> but it expects MT, which I don't want to. How to avoid smart casting if it can't do it?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The question is how to do this in the same \"procedural\" form. How not to use smart casting?</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>Summarizing, as far as I understood, it is not possible/reasonable to explicitly compare variable with <code>null</code> in Kotlin at all. Because once you compare it, next time yous hould compare it with <code>null</code> again implicitly with such operations like <code>.?</code> and you can't avoid this.</p>\n"}, {"tags": ["jar", "kotlin", "hikaricp", "jtds"], "comments": [{"owner": {"reputation": 1809, "user_id": 1523115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FrHcF.jpg?s=128&g=1", "display_name": "Hannes", "link": "https://stackoverflow.com/users/1523115/hannes"}, "edited": false, "score": 0, "creation_date": 1517165894, "post_id": 48489936, "comment_id": 83973200, "body": "I don&#39;t see any dependency to <code>jtds</code> is your <code>dependencies</code> section."}, {"owner": {"reputation": 11, "user_id": 4437411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf1d33d5542a33a7ee58b8ae9714cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Martin \u0160&#225;mal", "link": "https://stackoverflow.com/users/4437411/martin-%c5%a0%c3%a1mal"}, "reply_to_user": {"reputation": 1809, "user_id": 1523115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FrHcF.jpg?s=128&g=1", "display_name": "Hannes", "link": "https://stackoverflow.com/users/1523115/hannes"}, "edited": false, "score": 0, "creation_date": 1517168200, "post_id": 48489936, "comment_id": 83973966, "body": "ok, sorry for that, tried a lot of stuff, pasted code without it.  compile group: &#39;net.sourceforge.jtds&#39;, name: &#39;jtds&#39;, version: &#39;1.3.1&#39; was in dependencies - not working..."}, {"owner": {"reputation": 1809, "user_id": 1523115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FrHcF.jpg?s=128&g=1", "display_name": "Hannes", "link": "https://stackoverflow.com/users/1523115/hannes"}, "edited": false, "score": 0, "creation_date": 1517168510, "post_id": 48489936, "comment_id": 83974084, "body": "Have you set the scope to <code>runtime</code>?"}, {"owner": {"reputation": 11, "user_id": 4437411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf1d33d5542a33a7ee58b8ae9714cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Martin \u0160&#225;mal", "link": "https://stackoverflow.com/users/4437411/martin-%c5%a0%c3%a1mal"}, "reply_to_user": {"reputation": 1809, "user_id": 1523115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FrHcF.jpg?s=128&g=1", "display_name": "Hannes", "link": "https://stackoverflow.com/users/1523115/hannes"}, "edited": false, "score": 0, "creation_date": 1517169928, "post_id": 48489936, "comment_id": 83974559, "body": "@Hannes tried just now and didn<code>t work. I suppose, that it is runtime group: &#39;net.sourceforge.jtds&#39;, name: &#39;jtds&#39;, version: &#39;1.3.1&#39; in dependencies section of build.gradle shouldn</code>t it be in in buildscript dependencies?"}, {"owner": {"reputation": 1809, "user_id": 1523115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FrHcF.jpg?s=128&g=1", "display_name": "Hannes", "link": "https://stackoverflow.com/users/1523115/hannes"}, "edited": false, "score": 0, "creation_date": 1517176407, "post_id": 48489936, "comment_id": 83976592, "body": "The jar file must be there at runtime. Only thing I can think of go wrong is that it fails to register. Try the old <code>Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;).newInstanc&zwnj;&#8203;e()</code> before connecting."}, {"owner": {"reputation": 11, "user_id": 4437411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf1d33d5542a33a7ee58b8ae9714cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Martin \u0160&#225;mal", "link": "https://stackoverflow.com/users/4437411/martin-%c5%a0%c3%a1mal"}, "reply_to_user": {"reputation": 1809, "user_id": 1523115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FrHcF.jpg?s=128&g=1", "display_name": "Hannes", "link": "https://stackoverflow.com/users/1523115/hannes"}, "edited": false, "score": 0, "creation_date": 1517223012, "post_id": 48489936, "comment_id": 83992263, "body": "@Hannes I`m not sure, what do you mean?this code is gradle, or should I embed it into kotlin class, which is responsible of connecting to database?"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4437411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf1d33d5542a33a7ee58b8ae9714cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Martin \u0160&#225;mal", "link": "https://stackoverflow.com/users/4437411/martin-%c5%a0%c3%a1mal"}, "is_accepted": true, "score": 1, "last_activity_date": 1517325885, "creation_date": 1517325885, "answer_id": 48524931, "question_id": 48489936, "link": "https://stackoverflow.com/questions/48489936/kotlin-exception-with-missing-driver-when-running-jar/48524931#48524931", "title": "Kotlin: exception with missing driver when running jar", "body": "<p>OK, found the solution as @Hannes mentioned, you need explicitly instantiate driver like <code>Class.forName(\"net.sourceforge.jtds.jdbc.Driver\").newInstance()</code> in your app. More info here:\n<a href=\"http://jtds.sourceforge.net/faq.html#noSuitableDriver\" rel=\"nofollow noreferrer\">jtds.sourceforge.net/faq.html</a></p>\n"}], "owner": {"reputation": 11, "user_id": 4437411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf1d33d5542a33a7ee58b8ae9714cd3?s=128&d=identicon&r=PG&f=1", "display_name": "Martin \u0160&#225;mal", "link": "https://stackoverflow.com/users/4437411/martin-%c5%a0%c3%a1mal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 48524931, "answer_count": 1, "score": 0, "last_activity_date": 1517326056, "creation_date": 1517164421, "last_edit_date": 1517326056, "question_id": 48489936, "link": "https://stackoverflow.com/questions/48489936/kotlin-exception-with-missing-driver-when-running-jar", "title": "Kotlin: exception with missing driver when running jar", "body": "<p>I am trying to connect kotlin app based on gradle to mssql database (via modules hikari &amp; hibernate fw). \nWhen I run kotlin app in IDE (intellij Idea), everything works fine, but when I compile it via gradlew, it throws exception, that it is missing driver and I don`t know, how to embed it into jar. I've tried googling, found something about adding driver into classpath of jar, but no luck.\nTried driver <em>compile group: 'net.sourceforge.jtds', name: 'jtds', version: '1.3.1'</em> in dependencies, but no luck either.</p>\n\n<p>The module with database handler has build.gradle</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'kotlin'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\next {\n    kotlinVersion = '1.1.50'\n    jUnitVersion = '4.12'\n    jacksonVersion = '2.8.6'\n    networkntVersion = '0.1.7'\n    jsoupVersion = '1.10.3'\n    slf4jVersion = '1.7.21'\n    elasticSearchVersion = '5.6.5'\n    hikariCpVersion = '2.6.1'\n    hibernateVersion = '5.2.10.Final'\n    redisVersion = '2.9.0'\n    mysqlVersion = '6.0.6'\n    jtdsVersion = '1.3.1'\n    rabbitMqVersion = '4.2.0'\n}\n\ntasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n/* BUILDSCRIPT */\n\nbuildscript {\n    ext.kotlinVersion = '1.1.50'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n        classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlinVersion\"\n    }\n}\n\nrepositories { mavenCentral() }\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlinVersion\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlinVersion\"\n    testCompile group: 'junit', name: 'junit', version: \"$jUnitVersion\"\n\n    // kotlin-reflect as explicit dependency because of compilation errors in gradle\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion\"\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core\n        compile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: \"$jacksonVersion\"\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\n    compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: \"$jacksonVersion\"\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations\n    compile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: \"$jacksonVersion\"\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.module/jackson-module-kotlin\n    compile group: 'com.fasterxml.jackson.module', name: 'jackson-module-kotlin', version: \"$jacksonVersion\"\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310\n    compile group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: \"$jacksonVersion\"\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jdk8\n    compile group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jdk8', version: \"$jacksonVersion\"\n\n    // https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml\n    compile group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-xml', version: \"$jacksonVersion\"\n\n    // json schema validator (based on jackson)\n    compile group: 'com.networknt', name: 'json-schema-validator', version: \"$networkntVersion\"\n\n    // html parser\n    compile \"org.jsoup:jsoup:$jsoupVersion\"\n\n    // logging\n    compile group: 'org.slf4j', name: 'slf4j-api', version: \"$slf4jVersion\"\n    compile group: 'org.slf4j', name: 'slf4j-log4j12', version: \"$slf4jVersion\"\n\n    // ckf.upe.common.elastic\n\n    // https://mvnrepository.com/artifact/org.elasticsearch/elasticsearch\n    // https://www.elastic.co/guide/en/elasticsearch/client/java-api/5.6/transport-client.html\n    compile group: 'org.elasticsearch.client', name: 'transport', version: \"$elasticSearchVersion\"\n\n    // ckf.upe.common.database\n\n    // connection pool\n    // https://github.com/brettwooldridge/HikariCP\n    compile group: 'com.zaxxer', name: 'HikariCP', version: \"$hikariCpVersion\"\n\n    // hibernate\n    compile group: 'org.hibernate', name: 'hibernate-core', version: \"$hibernateVersion\"\n    // hibernate-hikaricp\n    // https://mvnrepository.com/artifact/org.hibernate/hibernate-hikaricp\n    compile group: 'org.hibernate', name: 'hibernate-hikaricp', version: \"$hibernateVersion\"\n\n    // https://mvnrepository.com/artifact/redis.clients/jedis\n    // https://github.com/xetorthio/jedis\n    compile group: 'redis.clients', name: 'jedis', version: \"$redisVersion\"\n}\n</code></pre>\n\n<p>exception thrown when running jar file is:</p>\n\n<pre><code>Exception in thread \"main\" org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n        at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\n        at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:418)\n        at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:87)\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:691)\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:726)\n        at ckf.upe.application.App.getSessionFactory(App.kt:104)\n        at ckf.upe.fischer.database.MappingRepository.sessionFactory(MappingRepository.kt:13)\n        at ckf.upe.common.sql.AbstractRepository.withSession(AbstractRepository.kt:21)\n        at ckf.upe.mapping.service.MappingService.loadMapping(MappingService.kt:33)\n        at ckf.upe.application.upe.MainKt.main(main.kt:41)\nCaused by: org.hibernate.HibernateException: java.lang.RuntimeException: Failed to get driver instance for jdbcUrl=jdbc:jtds:sqlserver://devsql2.fischer:1433/CKFischer_Mapping_PROD;useLOBs=false\n        at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:63)\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:145)\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\n        ... 18 more\nCaused by: java.lang.RuntimeException: Failed to get driver instance for jdbcUrl=jdbc:jtds:sqlserver://devsql2.fischer:1433/CKFischer_Mapping_PROD;useLOBs=false\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:88)\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:323)\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114)\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:105)\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:72)\n        at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:59)\n        ... 26 more\nCaused by: java.sql.SQLException: No suitable driver\n        at java.sql.DriverManager.getDriver(Unknown Source)\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:81)\n        ... 31 more\n</code></pre>\n"}, {"tags": ["intellij-idea", "null", "kotlin"], "comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1517162690, "post_id": 48489253, "comment_id": 83972127, "body": "Others have answered question. Your code is not idiomatic, though. Can remove &#39;init&#39; all together, and have <code>val b = a ?: &quot;N&#47;A&quot;</code>. Note I&#39;ve made b immutable, but that will depend on it&#39;s usage elsewhere in the class"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1517166630, "post_id": 48489253, "comment_id": 83973420, "body": "This is not a warning, warnings are highlighted yellow/orange. A smart cast is (by default) highlighted green."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 8, "last_activity_date": 1517161060, "last_edit_date": 1517161060, "creation_date": 1517160697, "answer_id": 48489322, "question_id": 48489253, "link": "https://stackoverflow.com/questions/48489253/why-smart-cast-to-kotlin-string-in-intellij/48489322#48489322", "title": "Why &quot;Smart cast to kotlin.String&quot; in IntelliJ", "body": "<p>It\u2019s not a warning, just an information that the compiler knows your variable <code>a</code> to be <em>not</em> <code>null</code>. As a result, it can be used as a <code>String</code> instead of nullable <code>String?</code> and therefore without safe-operator e.g.</p>\n\n<p>Otherwise, you needed to explicitly cast <code>a: String?</code> to <code>String</code> in order to make it assignable to the <code>String</code> variable <code>b</code>, as shown on the following screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Hy6CQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Hy6CQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 4, "last_activity_date": 1517161423, "creation_date": 1517161423, "answer_id": 48489454, "question_id": 48489253, "link": "https://stackoverflow.com/questions/48489253/why-smart-cast-to-kotlin-string-in-intellij/48489454#48489454", "title": "Why &quot;Smart cast to kotlin.String&quot; in IntelliJ", "body": "<p>This is not something to avoid, this is a language feature called a <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart cast</a>. </p>\n\n<p>The compiler has detected that <code>a</code> is a non-null value on a given code path, and therefore it's available to you with a non-nullable <code>String</code> type, which lets you use it directly without having to worry about its nullability. If you didn't get a smart cast, you'd have to manually cast it from a <code>String?</code> to a <code>String</code> to call methods on it - or to assign it to a non-nullable variable, like in your case.</p>\n\n<hr>\n\n<p>Another, perhaps easier example to understand when smart cast kicks in is with subclasses. Let's say you have <code>Person</code> and <code>Customer</code> classes, with only the latter having a <code>getPurchases()</code> method.</p>\n\n<p>In Java, you'd have to do the following to call said method:</p>\n\n<pre><code>if (p instanceof Customer) {\n    ((Customer)p).getPurchases();\n}\n</code></pre>\n\n<p>In Kotlin, you get a smart cast inside the <code>if</code> block to the subtype that you've already made the check for:</p>\n\n<pre><code>if (p is Customer) {\n    p.getPurchases()\n}\n</code></pre>\n\n<hr>\n\n<p>If you think about it, the cast from <code>String?</code> to <code>String</code> is the same mechanism at work - you're getting a smart cast to a more concrete type too. </p>\n\n<pre><code>if (a != null)\n</code></pre>\n\n<p>given an <code>a</code> of type <code>String?</code> is basically the same as </p>\n\n<pre><code>if (a is String)\n</code></pre>\n"}], "owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1804, "favorite_count": 0, "accepted_answer_id": 48489322, "answer_count": 2, "score": 2, "last_activity_date": 1517161423, "creation_date": 1517160341, "question_id": 48489253, "link": "https://stackoverflow.com/questions/48489253/why-smart-cast-to-kotlin-string-in-intellij", "title": "Why &quot;Smart cast to kotlin.String&quot; in IntelliJ", "body": "<p>I wrote my class with nullable argument</p>\n\n<pre><code>class MyClass(a: String? = null) {\n    var b: String\n\n    init {\n        if( a == null ) {\n            b = \"N/A\"\n        }\n        else {\n            b = a\n        }\n    }\n}\n</code></pre>\n\n<p>and noticed, that IntelliJ warns about <code>b = a</code> assignment</p>\n\n<pre><code>Smart cast to kotlin.String\n</code></pre>\n\n<p>Why is this warning and how to aoid it?</p>\n"}, {"tags": ["generics", "types", "functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517159831, "post_id": 48487689, "comment_id": 83970995, "body": "what is your use case?"}, {"owner": {"reputation": 9606, "user_id": 1449676, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/4D92n.png?s=128&g=1", "display_name": "ps-aux", "link": "https://stackoverflow.com/users/1449676/ps-aux"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517215763, "post_id": 48487689, "comment_id": 83987784, "body": "@s1m0nw1 I added the use case"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 4, "last_activity_date": 1517153307, "last_edit_date": 1517153307, "creation_date": 1517151966, "answer_id": 48487750, "question_id": 48487689, "link": "https://stackoverflow.com/questions/48487689/generic-lambda-or-function-value-type-in-kotlin/48487750#48487750", "title": "Generic lambda or function value type in Kotlin", "body": "<p>Only classes and functions can have generic type parameters in Kotlin. If you really need a property to have a generic type, it has to belong to a class instance that can provide that generic type, like so:</p>\n\n<pre><code>class Foo&lt;T&gt; {\n    val funVal: (T) -&gt; Int = ::to5\n}\n</code></pre>\n\n<p>There's more discussion about this <a href=\"https://stackoverflow.com/q/44090011/4465208\">here</a>, I just can't flag this as a duplicate because that question doesn't have an accepted answer.</p>\n"}], "owner": {"reputation": 9606, "user_id": 1449676, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/4D92n.png?s=128&g=1", "display_name": "ps-aux", "link": "https://stackoverflow.com/users/1449676/ps-aux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1517215744, "creation_date": 1517151619, "last_edit_date": 1517215744, "question_id": 48487689, "link": "https://stackoverflow.com/questions/48487689/generic-lambda-or-function-value-type-in-kotlin", "title": "Generic lambda or function value type in Kotlin", "body": "<p>Given a function</p>\n\n<pre><code>fun &lt;T&gt; to5(x: T): Int = 5\n</code></pre>\n\n<p>is it possible to assign it to variable (value) <code>funVal</code> like this ?</p>\n\n<pre><code>val funVal: (T) -&gt; Int = ::to5\n</code></pre>\n\n<p>without </p>\n\n<blockquote>\n  <p>Unresolved reference: T </p>\n</blockquote>\n\n<p>error ?</p>\n\n<p>In other words is it possible to somehow tell Kotlin that <code>T</code> in <code>funVal</code> type declaration is a type parameter?</p>\n\n<p>For example like this:</p>\n\n<pre><code>val &lt;T&gt; funVal: (T) -&gt; Int = ::to5\n\nval funVal&lt;T&gt;: (T) -&gt; Int = ::to5\n\nval funVal: &lt;T&gt; (T) -&gt; Int = ::to5\n\nval funVal: ((T) -&gt; Int) &lt;T&gt; = ::to5\n</code></pre>\n\n<p><strong>Use case</strong></p>\n\n<p>My use case is using currying with generics. Conceptually:</p>\n\n<pre><code>    fun pairStrWithStr(s: String): (String) -&gt; Pair&lt;String, String&gt; = {\n        Pair(s, it)\n    }\n\n    val pairStrWithAbc: (String) -&gt; Pair&lt;String, String&gt; = pairStrWithStr(\"abc\")\n\n    pairStrWithAbc(\"xyz\") // (abc, xyz)\n</code></pre>\n\n<p>Making the second argument generic:</p>\n\n<pre><code>fun &lt;T&gt; pairStrWithAny(s: String): (T) -&gt; Pair&lt;String, T&gt; = {\n    Pair(s, it)\n}\n\n// Compilation ERROR: Unresolved reference: T\nval pairAnyWithAbc: (T) -&gt; Pair&lt;String, T&gt; = pairStrWithAny(\"abc\")\n</code></pre>\n\n<p>Of course I can provide <code>Any</code> as type:</p>\n\n<pre><code>val pairAnyWithAbc: (Any) -&gt; Pair&lt;String, Any&gt; = pairStrWithAny(\"abc\")\n</code></pre>\n\n<p>But then I lose the type information:</p>\n\n<pre><code>pairAnyWithAbc(5) // Pair&lt;String, Any&gt;\n</code></pre>\n\n<p>The solution I can think of are:</p>\n\n<p><strong>Wrapping inside generic fun</strong> (basically not real currying or high order function usage)</p>\n\n<pre><code> fun &lt;T&gt; pairAnyWithAbc(t: T) {\n        return pairAnyWithAbc(t)\n }\n</code></pre>\n\n<p><strong>Creating function for each type</strong> (no using generics as I would like)</p>\n\n<pre><code>val pairStrWithAbc: (String) -&gt; Pair&lt;String, String&gt; = pairStrWithAny(\"abc\")\n\nval pairIntWithAbc: (Int) -&gt; Pair&lt;String, Int&gt; = pairStrWithAny(\"abc\")\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-gradle-3.0"], "answers": [{"comments": [{"owner": {"reputation": 1343, "user_id": 9005383, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-rymLhVRbsIw/AAAAAAAAAAI/AAAAAAAAG20/cTAJhtYO4mY/photo.jpg?sz=128", "display_name": "Tamim Attafi", "link": "https://stackoverflow.com/users/9005383/tamim-attafi"}, "edited": false, "score": 0, "creation_date": 1533064852, "post_id": 48490073, "comment_id": 90206658, "body": "i still can&#39;t figure it out, what am i missing? android studio 3.1.1"}], "tags": [], "owner": {"reputation": 713, "user_id": 242838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ai2Zz.jpg?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/242838/kar"}, "is_accepted": true, "score": 1, "last_activity_date": 1517165271, "creation_date": 1517165271, "answer_id": 48490073, "question_id": 48486835, "link": "https://stackoverflow.com/questions/48486835/android-gradle-3-0-and-unresolved-reference-r-for-a-local-library/48490073#48490073", "title": "Android Gradle 3.0 and &quot;Unresolved reference R&quot; for a local library", "body": "<p>Turns out the problem was in <strong>using symlink to library directory</strong>. I modified <code>settings.gradle</code> to point out to the right dir instead:</p>\n\n<pre><code>project(':lib').projectDir = new File('/path/to/the/lib')\n</code></pre>\n"}], "owner": {"reputation": 713, "user_id": 242838, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Ai2Zz.jpg?s=128&g=1", "display_name": "kar", "link": "https://stackoverflow.com/users/242838/kar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3341, "favorite_count": 0, "accepted_answer_id": 48490073, "answer_count": 1, "score": 3, "last_activity_date": 1517165271, "creation_date": 1517145961, "question_id": 48486835, "link": "https://stackoverflow.com/questions/48486835/android-gradle-3-0-and-unresolved-reference-r-for-a-local-library", "title": "Android Gradle 3.0 and &quot;Unresolved reference R&quot; for a local library", "body": "<p>I'm struggling to update my project to compile with Android Gradle Plugin 3.0.1. Facts:</p>\n\n<ul>\n<li><code>app</code> project depends on a local library: <code>lib</code></li>\n<li><code>./gradlew assembleDebug</code> for <code>app</code> fails at compiling <code>lib</code> with error <code>Unresolved reference: R</code></li>\n<li>Building <code>lib</code> as a standalone project succeeds</li>\n<li><code>package</code> in <code>AndroidManifest</code> of either projects is the same</li>\n<li>I tried to disable aapt2 (<code>android.enableAapt2=false</code> in <code>gradle.properties</code>) - no luck</li>\n<li>May be relevant: Using Kotlin (1.2.21)</li>\n</ul>\n\n<p>What am I missing? Seems pretty straightforward, yet I couldn't find the reason why R is not generated while building the <code>app</code>, yet it is when building the <code>lib</code> directly.</p>\n"}, {"tags": ["c", "compiler-errors", "kotlin", "interop", "kotlin-native"], "answers": [{"tags": [], "owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "is_accepted": false, "score": 1, "last_activity_date": 1519108998, "creation_date": 1519108998, "answer_id": 48879337, "question_id": 48486518, "link": "https://stackoverflow.com/questions/48486518/kotlin-native-cinterop-on-windows/48879337#48879337", "title": "Kotlin/Native - cinterop on windows", "body": "<p>cinterop shall work on Windows same way as on other host platforms. Please specify command line that gave you problems. To find include directories -complierOpts -I shall do, see, for example, <a href=\"https://github.com/JetBrains/kotlin-native/blob/8aa4acee8844aae7a84af89b783c73ce6f20de92/samples/tetris/build.bat#L13\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin-native/blob/8aa4acee8844aae7a84af89b783c73ce6f20de92/samples/tetris/build.bat#L13</a></p>\n"}], "owner": {"reputation": 135, "user_id": 8097911, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0b018294584d240980037ebe962b9533?s=128&d=identicon&r=PG&f=1", "display_name": "mrdlink", "link": "https://stackoverflow.com/users/8097911/mrdlink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1519108998, "creation_date": 1517143672, "question_id": 48486518, "link": "https://stackoverflow.com/questions/48486518/kotlin-native-cinterop-on-windows", "title": "Kotlin/Native - cinterop on windows", "body": "<p>I wanted o experiment with cinterop on windows. But so far I only found tutorials for using kotlin native with mac. So, does someone know where to find a tutorial for using kotlin native on windows?</p>\n\n<p>For example I'm struggling finding the default directory, where the c libraries are located. And if just give the path to a library for cinterop, I always get an error that the file is not win32 executable.</p>\n\n<p>Has someone similar experiences with that?</p>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1517143446, "post_id": 48486429, "comment_id": 83965625, "body": "Capturing a part of the text helps <i>keep</i> it using backrefrences in the replacement pattern. What you need to remove should not be captured. You could use <code>Regex(&quot;&quot;&quot;\\s+(,)&quot;&quot;&quot;)</code> and then <code>.replace(regex, &quot;$1&quot;)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1517143584, "post_id": 48486449, "comment_id": 83965663, "body": "Yes, Kotlin supports lookaheads"}], "tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": true, "score": 2, "last_activity_date": 1517143175, "creation_date": 1517143175, "answer_id": 48486449, "question_id": 48486429, "link": "https://stackoverflow.com/questions/48486429/replacing-the-1st-regex-match-group-instead-of-the-0th/48486449#48486449", "title": "Replacing the 1st regex-match group instead of the 0th", "body": "<p>Add the comma in the replacement:</p>\n\n<pre><code>val string = \"hello   , world\"\nval regex = Regex(\"\"\"(\\s+)[,]\"\"\")\n\nprintln(string.replace(regex, \",\"))\n</code></pre>\n\n<p>Or, if kotlin supports lookahead:</p>\n\n<pre><code>val string = \"hello   , world\"\nval regex = Regex(\"\"\"\\s+(?=,)\"\"\")\n\nprintln(string.replace(regex, \"\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 6453063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sPlFV.jpg?s=128&g=1", "display_name": "Christian Kuka", "link": "https://stackoverflow.com/users/6453063/christian-kuka"}, "is_accepted": false, "score": 0, "last_activity_date": 1517162351, "creation_date": 1517162351, "answer_id": 48489614, "question_id": 48486429, "link": "https://stackoverflow.com/questions/48486429/replacing-the-1st-regex-match-group-instead-of-the-0th/48489614#48489614", "title": "Replacing the 1st regex-match group instead of the 0th", "body": "<p>You can retrieve the match range of the regular expression by using the groups property of MatchGroupCollection and then using the range as a parameter for String.removeRange method:</p>\n\n<pre><code>val string = \"hello   , world\"\nval regex = Regex(\"\"\"(\\s+)[,]\"\"\")\nval result = string.removeRange(regex.find(string)!!.groups[1]!!.range)\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 554059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be21001e4647d409c73c9e2bb350bf1?s=128&d=identicon&r=PG", "display_name": "Calebe", "link": "https://stackoverflow.com/users/554059/calebe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2893, "favorite_count": 0, "accepted_answer_id": 48486449, "answer_count": 2, "score": 0, "last_activity_date": 1517162351, "creation_date": 1517143027, "question_id": 48486429, "link": "https://stackoverflow.com/questions/48486429/replacing-the-1st-regex-match-group-instead-of-the-0th", "title": "Replacing the 1st regex-match group instead of the 0th", "body": "<p>I was expecting this</p>\n\n<pre><code>val string = \"hello   , world\"\nval regex = Regex(\"\"\"(\\s+)[,]\"\"\")\n\nprintln(string.replace(regex, \"\"))\n</code></pre>\n\n<p>to result in this:</p>\n\n<pre><code>hello, world\n</code></pre>\n\n<p>Instead, it prints this:</p>\n\n<pre><code>hello world\n</code></pre>\n\n<p>I see that the <code>replace</code> function cares about the whole match. Is there a way to replace only the 1st group instead of the 0th one?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 6362346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FeiKe.jpg?s=128&g=1", "display_name": "marlonpya", "link": "https://stackoverflow.com/users/6362346/marlonpya"}, "edited": false, "score": 0, "creation_date": 1517142042, "post_id": 48486178, "comment_id": 83965210, "body": "But that work fine in java, but now change to kotlin find this problem"}], "tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": false, "score": 1, "last_activity_date": 1517141226, "creation_date": 1517141226, "answer_id": 48486178, "question_id": 48486063, "link": "https://stackoverflow.com/questions/48486063/dagger-bad-implementation-with-kotlin/48486178#48486178", "title": "Dagger bad implementation ? with kotlin", "body": "<blockquote>\n  <p>LoginComponent scoped with @com.stb.stbandroid.internal.di.PerActivity may not reference bindings with different scopes</p>\n</blockquote>\n\n<p>Seems like you're trying to provide <code>@Singleton</code> from your <code>@PerActivity LoginComponent</code>. Those are 2 different scopes, and one component can only provide one scope at a time.</p>\n\n<ul>\n<li>If the object is actually intended to be <code>@Singleton</code> scoped, then move it to your <code>AppComponent</code> (any module will do) and it will be properly handled like the rest of your <code>@Singleton</code>s.  </li>\n<li>If it should be created <em>once per Activity</em> then you should use <code>@PerActivity</code> instead of <code>@Singleton</code> on your <code>@Provides</code> method and it will be properly created and managed by your <code>LoginComponent</code>.</li>\n</ul>\n\n<p>You can't mix and match. Any module you add to your <code>LoginComponent</code> has to use the <code>@PerActivity</code> scope (or no scope at all) for its <code>@Provides</code> method.</p>\n"}], "owner": {"reputation": 575, "user_id": 6362346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FeiKe.jpg?s=128&g=1", "display_name": "marlonpya", "link": "https://stackoverflow.com/users/6362346/marlonpya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1517150135, "creation_date": 1517140445, "last_edit_date": 1517150135, "question_id": 48486063, "link": "https://stackoverflow.com/questions/48486063/dagger-bad-implementation-with-kotlin", "title": "Dagger bad implementation ? with kotlin", "body": "<p>I have problems with the component</p>\n\n<pre><code>@PerActivity\n@Component(dependencies = arrayOf(ApplicationComponent::class), modules = arrayOf(ActivityModule::class, LoginModule::class))\ninterface LoginComponent {\n\n    fun inject(poLoginActivity: LoginActivity)\n}\n</code></pre>\n\n<p>I have error in this interface component:</p>\n\n<p>Gradle Console Error:</p>\n\n<pre><code>e: /Users/everis/MARLON/PROYECTO/LIAISON/ANDROID/liaison-kt/app/build/tmp/kapt3/stubs/projectDebug/com/stb/stbandroid/internal/di/component/LoginComponent.java:4: error: com.stb.stbandroid.internal.di.component.LoginComponent scoped with @com.stb.stbandroid.internal.di.PerActivity may not reference bindings with different scopes:\ne: \n\ne: @dagger.Component(dependencies = {com.stb.stbandroid.internal.di.component.ApplicationComponent.class}, modules = {com.stb.stbandroid.internal.di.module.ActivityModule.class, com.stb.stbandroid.internal.di.module.LoginModule.class})\ne: ^\ne:       @org.jetbrains.annotations.NotNull @Singleton @Provides error.NonExistentClass com.stb.stbandroid.internal.di.module.LoginModule.loginRepository$app_projectDebug(error.NonExistentClass)\ne:       @Singleton class com.stb.stbandroid.model.mapper.UserModelMapper\ne: /Users/everis/MARLON/PROYECTO/LIAISON/ANDROID/liaison-kt/app/build/tmp/kapt3/stubs/projectDebug/com/stb/stbandroid/internal/di/component/LoginComponent.java:8: error: error.NonExistentClass is bound multiple times:\ne: \n\ne:     public abstract void inject(@org.jetbrains.annotations.NotNull()\ne:                          ^\ne:       @org.jetbrains.annotations.NotNull error.NonExistentClass com.stb.stbandroid.internal.di.component.MainComponent.threadExecutor()\ne:       @org.jetbrains.annotations.NotNull error.NonExistentClass com.stb.stbandroid.internal.di.component.MainComponent.postExecutionThread()\ne:       @org.jetbrains.annotations.NotNull error.NonExistentClass com.stb.stbandroid.internal.di.component.ApplicationComponent.loginRepository()\ne:       @org.jetbrains.annotations.NotNull @Singleton @Provides error.NonExistentClass com.stb.stbandroid.internal.di.module.LoginModule.loginRepository$app_projectDebug(error.NonExistentClass)\ne: /Users/everis/MARLON/PROYECTO/LIAISON/ANDROID/liaison-kt/app/build/tmp/kapt3/stubs/projectDebug/com/stb/stbandroid/internal/di/component/ApplicationComponent.java:6: error: [com.stb.stbandroid.internal.di.component.MainComponent.threadExecutor()] error.NonExistentClass is bound multiple times:\ne: \n\ne: public abstract interface ApplicationComponent extends com.stb.stbandroid.internal.di.component.MainComponent {\ne:                 ^\ne:       @org.jetbrains.annotations.NotNull @Singleton @Provides error.NonExistentClass com.stb.stbandroid.internal.di.module.ApplicationModule.provideThreadExecutor(error.NonExistentClass)\ne:       @org.jetbrains.annotations.NotNull @Singleton @Provides error.NonExistentClass com.stb.stbandroid.internal.di.module.ApplicationModule.providePostExecutionThread(com.stb.stbandroid.UIThread)\ne:       @org.jetbrains.annotations.NotNull @Singleton @Provides error.NonExistentClass com.stb.stbandroid.internal.di.module.ApplicationModule.loginRepository(error.NonExistentClass)\ne: /Users/everis/MARLON/PROYECTO/LIAISON/ANDROID/liaison-kt/app/build/tmp/kapt3/stubs/projectDebug/com/stb/stbandroid/internal/di/component/ApplicationComponent.java:9: error: error.NonExistentClass is bound multiple times:\ne: \n\ne:     public abstract error.NonExistentClass loginRepository();\n</code></pre>\n"}, {"tags": ["android", "api", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 448, "user_id": 2792899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKn1r.png?s=128&g=1", "display_name": "Jonas Franz", "link": "https://stackoverflow.com/users/2792899/jonas-franz"}, "edited": false, "score": 0, "creation_date": 1517134388, "post_id": 48484994, "comment_id": 83963078, "body": "Could you please add an example response of the server and the corresponding logcat output?  And what do you mean with &quot;data&quot;? I could not see a field &quot;data&quot;."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1517139864, "post_id": 48484994, "comment_id": 83964541, "body": "What I understood is that the <code>Status</code> object is correctly deserialized, while the <code>UserInfo</code> object is not. Is this correct? Also, are you using Gson to convert the raw response into objects, or another library?"}], "answers": [{"comments": [{"owner": {"reputation": 1147, "user_id": 3762067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Oj0O.jpg?s=128&g=1", "display_name": "Varad Mondkar", "link": "https://stackoverflow.com/users/3762067/varad-mondkar"}, "edited": false, "score": 0, "creation_date": 1554202251, "post_id": 48487403, "comment_id": 97656366, "body": "What is response key is in such format <code>x-total-count</code>?"}], "tags": [], "owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "is_accepted": true, "score": 0, "last_activity_date": 1517149697, "creation_date": 1517149697, "answer_id": 48487403, "question_id": 48484994, "link": "https://stackoverflow.com/questions/48484994/how-to-handle-retrofit-response-kotlin-in-android/48487403#48487403", "title": "How to handle retrofit response Kotlin in android?", "body": "<p>A lot of search and found solution on my self.\nSolution as model class is not perfect and this is correct model class as our requirement.</p>\n\n<ol>\n<li>Create file as Kotlin only.</li>\n<li>Convert Json Into Kotlin Class.</li>\n</ol>\n\n<p>And clear project and run! :) </p>\n\n<p>It should be work fine!</p>\n\n<pre><code>data class LoginResultResp(\n    val user_info: UserInfo = UserInfo(),\n    val status: Status = Status())\n\ndata class UserInfo(\n    val user_id: String = \"\", //1010\n    val username: String = \"\", \n    val login_hash: String = \"\", \n    val facebook_id: String = \"\",\n    val twitter_id: String = \"\",\n    val full_name: String = \"\", //\n    val thumb_url: String = \"\",\n    val photo_url: String = \"\",\n    val mobile: String = \"\", //\n    val email: String = \"\")\n\ndata class Status(\n    val status_code: String = \"\", //-1\n    val status_text: String = \"\" //Success.)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": 2, "last_activity_date": 1527088486, "creation_date": 1527088486, "answer_id": 50491963, "question_id": 48484994, "link": "https://stackoverflow.com/questions/48484994/how-to-handle-retrofit-response-kotlin-in-android/50491963#50491963", "title": "How to handle retrofit response Kotlin in android?", "body": "<pre><code>import com.google.gson.GsonBuilder\n\nimport java.util.concurrent.TimeUnit\n\nimport okhttp3.OkHttpClient\nimport okhttp3.logging.HttpLoggingInterceptor\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\n\n\nobject APIClient {\n\n    private var retrofit: Retrofit? = null\n\n    val client: Retrofit\n        get() {\n            val interceptor = HttpLoggingInterceptor()\n            interceptor.level = HttpLoggingInterceptor.Level.BODY\n            val client = OkHttpClient.Builder()\n                    .addInterceptor(interceptor)\n                    .connectTimeout(1, TimeUnit.MINUTES)\n                    .retryOnConnectionFailure(true)\n                    .build()\n            if (retrofit == null) {\n                val gson = GsonBuilder()\n                        .setLenient()\n                        .create()\n\n                retrofit = Retrofit.Builder()\n                        .baseUrl(\"\")\n                        .addConverterFactory(GsonConverterFactory.create(gson))\n                        .client(client)\n                        .build()\n\n\n            }\n            return this!!.retrofit!!\n\n        }\n\n}\n\n\n\ninterface APIInterface {\n\n    @POST(\"login\")\n    fun callLoginWebservice(@Query(\"device_token\") token: String,\n                            @Query(\"email\") userName: String,\n                            @Query(\"password\") password: String\n\n    ): Call&lt;UserLoginDetailModel&gt;}\n</code></pre>\n\n<p>in your class :</p>\n\n<pre><code>  init {\n        if (apiInterface == null) {\n            apiInterface = APIClient.client.create(APIInterface::class.java)\n        }\n    }\n  apiInterface?.callLoginWebservice(token, userName, password).enqueue(object : Callback&lt;UserLoginDetailModel&gt; {\n            override fun onResponse(call: Call&lt;UserLoginDetailModel&gt;, response: Response&lt;UserLoginDetailModel&gt;) {\n\n                loginResponseInterface.onSuccess(loginDetail?.status.toString(),loginDetail ?. errorcode.toString(), loginDetail)\n                Log.d(\"WebServices\", \"\" + loginDetail)\n\n            }\n\n            override fun onFailure(call: Call&lt;UserLoginDetailModel&gt;, t: Throwable) {\n                // loginResponseInterface.onSuccess(\"\",\"\", loginDetail);\n                loginResponseInterface.onFailure(t)\n            }\n        })\n</code></pre>\n\n<p>Your bean :</p>\n\n<pre><code>class UserLoginDetailModel {\n    @SerializedName(\"_id\")\n    @Expose\n    var id: String? = null\n\n\n    @SerializedName(\"email\")\n    @Expose\n    var email: String? = \"\"\n\n    @SerializedName(\"name\")\n    @Expose\n    var name: String? = null\n\n    @SerializedName(\"height_value\")\n    @Expose\n    var heightValue: String? = \"0'0''\"}\n</code></pre>\n"}], "owner": {"reputation": 3323, "user_id": 1533585, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9q3bh.png?s=128&g=1", "display_name": "NP Developer", "link": "https://stackoverflow.com/users/1533585/np-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12454, "favorite_count": 0, "accepted_answer_id": 48487403, "answer_count": 2, "score": 1, "last_activity_date": 1527088486, "creation_date": 1517132561, "last_edit_date": 1517918186, "question_id": 48484994, "link": "https://stackoverflow.com/questions/48484994/how-to-handle-retrofit-response-kotlin-in-android", "title": "How to handle retrofit response Kotlin in android?", "body": "<p>All of you.\nI am doing sample Android Kotlin Project from api call using retrofit. I called api and display response logcat. But it is not handling the user id and data to from server. So, If you know Guys share your best experience.</p>\n\n<pre><code>  val params = HashMap&lt;String, String&gt;()\n    params[\"api_key\"] = \"api_key_value\"\n    params[\"username\"] = \"abcd\"\n    params[\"password\"] = \"1234\"\n\n    doApiLogin.getLogin(params).enqueue(object : Callback&lt;GetLoginAndRegisterResp&gt; {\n\n        override fun onResponse(call: Call&lt;GetLoginAndRegisterResp&gt;?, response: Response&lt;GetLoginAndRegisterResp&gt;?) {\n            //To change body of created functions use File | Settings | File Templates.\n            if (response != null &amp;&amp; response.isSuccessful) {\n\n                val getLoginAndRegisterResp = response.body()\n                if (getLoginAndRegisterResp != null) {\n\n                    // Here. server response\n\n                } else {\n\n                    val statusCode = response.code()\n                    NajibApplication.instance.setLog(\"statusCode:\" + statusCode)\n                }\n\n\n            } else {\n                NajibApplication.instance.setLog(\"onFailure&gt;&gt;&gt;&gt;\")\n            }\n        }\n\n        override fun onFailure(call: Call&lt;GetLoginAndRegisterResp&gt;?, t: Throwable?) {\n            //To change body of created functions use File | Settings | File Templates.\n            NajibApplication.instance.setLog(\"onFailure&gt;&gt;&gt;&gt;\")\n        }\n\n    })\n</code></pre>\n\n<p>Here is Model Class</p>\n\n<pre><code>class GetLoginAndRegisterResp {\n\ndata class LoginResp(\n        val user_info: UserInfo = UserInfo(),\n        val status: Status = Status()\n\n) {\n    override fun toString(): String {\n        return \"LoginResp(user_info=$user_info, status=$status)\"\n    }\n}\n\ndata class UserInfo(\n        @SerializedName(\"user_id\")\n        val user_id: String = \"\", //\n\n        @SerializedName(\"username\")\n        val username: String = \"\", //abcd\n\n        @SerializedName(\"login_hash\")\n        val login_hash: String = \"\", //\n\n        @SerializedName(\"facebook_id\")\n        val facebook_id: String = \"\",\n\n        @SerializedName(\"twitter_id\")\n        val twitter_id: String = \"\",\n\n        @SerializedName(\"full_name\")\n        val full_name: String = \"\", //\n\n        @SerializedName(\"thumb_url\")\n        val thumb_url: String = \"\",\n\n        @SerializedName(\"photo_url\")\n        val photo_url: String = \"\",\n\n        @SerializedName(\"mobile\")\n        val mobile: String = \"\", //\n\n        @SerializedName(\"email\")\n        val email: String = \"\" //\n) {\n    override fun toString(): String {\n        return \"UserInfo(user_id='$user_id', username='$username', login_hash='$login_hash', facebook_id='$facebook_id', twitter_id='$twitter_id', full_name='$full_name', thumb_url='$thumb_url', photo_url='$photo_url', mobile='$mobile', email='$email')\"\n    }\n}\n\ndata class Status(\n        @SerializedName(\"status_code\")\n        val status_code: String = \"\", //-1\n\n        @SerializedName(\"status_text\")\n        val status_text: String = \"\" //Success.\n) {\n    override fun toString(): String {\n        return \"Status(status_code='$status_code', status_text='$status_text')\"\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>This is code here with Api calling retrofit Kotlin.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "is_accepted": false, "score": 4, "last_activity_date": 1517131555, "creation_date": 1517131555, "answer_id": 48484879, "question_id": 48484832, "link": "https://stackoverflow.com/questions/48484832/how-to-add-array-index-value-in-kotlin/48484879#48484879", "title": "how to add Array index value in Kotlin?", "body": "<p>Size of <code>Array</code> is defined at its creation and cannot be modified - in your example it equals <code>0</code>.</p>\n\n<p>If you want to create <code>Array</code> with dynamic size you should use <code>ArrayList</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 1, "creation_date": 1517133091, "post_id": 48485030, "comment_id": 83962741, "body": "I wouldn&#39;t call it a <i>pure function</i> as it does access external resources (csv file in this case)"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 0, "creation_date": 1517133189, "post_id": 48485030, "comment_id": 83962763, "body": "@pwolaq I know, how to better describe it?"}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": false, "score": 2, "last_activity_date": 1517133763, "last_edit_date": 1517133763, "creation_date": 1517132857, "answer_id": 48485030, "question_id": 48484832, "link": "https://stackoverflow.com/questions/48484832/how-to-add-array-index-value-in-kotlin/48485030#48485030", "title": "how to add Array index value in Kotlin?", "body": "<ul>\n<li><p><code>arrayOf</code> gives you an array. Arrays have fixed length even in Java.</p></li>\n<li><p><code>listOf</code> gives you an immutable list. You cannot add or remove items in this list.</p></li>\n<li><p>What you're looking for is <code>mutableListOf&lt;String&gt;</code>.</p></li>\n</ul>\n\n<p>In your current approach, reusing a member property, don't forget to clear the list before every use.</p>\n\n<p>Your code can be further simplified (and improved) like so:</p>\n\n<pre><code>out.clear()\ninputStream.bufferedReader().use { reader -&gt; // Use takes care of closing reader.\n    val lines = reader.lineSequence()\n    out.addAll(lines) // MutableList can add all from sequence.\n}\n</code></pre>\n\n<p>Now imagine you wanted to consume the output list but needed to parse another file at the same time.</p>\n\n<p>Consider working towards a <em>pure function</em> (no side effects, for now no accessing member properties) and simplifying it even further:</p>\n\n<pre><code>fun csvFileToString(): String { // Now method returns something useful.\n    val inputStream = File(Paths.get(\"\").toAbsolutePath().toString()\n            .plus(\"/src/main/SampleCSVFile_2kb.csv\")).inputStream()\n\n    inputStream.bufferedReader().use {\n        return it.lineSequence().joinToString(\"\\n\")\n    }\n}\n</code></pre>\n\n<p>In this case we can totally skip the lists and arrays and just read the text:</p>\n\n<pre><code>inputStream.bufferedReader().use {\n    return it.readText()\n}\n</code></pre>\n\n<p>I'm assuming that's what you wanted in the first place.</p>\n\n<p>Kotlin has a lot of useful extension functions built-in. Look for them first.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 9659254, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V9TNbixte78/AAAAAAAAAAI/AAAAAAAAJQI/hkPu2M886SM/photo.jpg?sz=128", "display_name": "Naimul Kabir", "link": "https://stackoverflow.com/users/9659254/naimul-kabir"}, "edited": false, "score": 1, "creation_date": 1615662471, "post_id": 66546254, "comment_id": 117763176, "body": "Thanks a lot. It worked."}], "tags": [], "owner": {"reputation": 116, "user_id": 6602399, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ioG9ladeyts/AAAAAAAAAAI/AAAAAAAAAR0/U8Zg9EBdocc/photo.jpg?sz=128", "display_name": "The MJ", "link": "https://stackoverflow.com/users/6602399/the-mj"}, "is_accepted": false, "score": 2, "last_activity_date": 1615290214, "creation_date": 1615290214, "answer_id": 66546254, "question_id": 48484832, "link": "https://stackoverflow.com/questions/48484832/how-to-add-array-index-value-in-kotlin/66546254#66546254", "title": "how to add Array index value in Kotlin?", "body": "<p>You can add a new item to an array using <code>+=</code>, for example: <code>item += item</code></p>\n<pre><code>private var songs: Array&lt;String&gt; = arrayOf()\n   fun add(input: String) {\n        songs += input\n    }\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 6212918, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a9eaa3c261855765927b2764888e86e?s=128&d=identicon&r=PG&f=1", "display_name": "prepare123", "link": "https://stackoverflow.com/users/6212918/prepare123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5425, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1615290214, "creation_date": 1517131183, "question_id": 48484832, "link": "https://stackoverflow.com/questions/48484832/how-to-add-array-index-value-in-kotlin", "title": "how to add Array index value in Kotlin?", "body": "<p>first, I create empty Array(Kotlin) instance in companion object.</p>\n\n<pre><code> companion object {\n        var strarray: Array&lt;String&gt; = arrayOf()\n        var objectarray: LinkedHashMap&lt;Int, List&lt;Any&gt;&gt; = LinkedHashMap&lt;Int, List&lt;Any&gt;&gt;()\n    }\n</code></pre>\n\n<p>and I expected that I use empty array instance when read textString from CSV File.</p>\n\n<pre><code> fun csvFileToString():String {\n\n    val inputStream = File(Paths.get(\"\").toAbsolutePath().toString()\n            .plus(\"/src/main/SampleCSVFile_2kb.csv\")).inputStream()\n    val reader = inputStream.bufferedReader()\n    var iterator = reader.lineSequence().iterator()\n    var index:Int = 1;\n\n    while (iterator.hasNext()){\n        var lineText:String = iterator.next()\n       strarray.set(index, lineText)\n       index++\n    }\n\n    return \"\"\n}\n</code></pre>\n\n<p>but when I run that source code</p>\n\n<pre><code>a.csvFileToString()\nprintln(CsvParser.strarray)\n</code></pre>\n\n<p>occured exception</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 1 \nstrarray.set(index, lineText) &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; because of this line\n</code></pre>\n\n<p>can I use Array(from kotlin collection) like ArrayList(from java collection)?</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-data-jpa"], "comments": [{"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 3, "creation_date": 1517128232, "post_id": 48481571, "comment_id": 83961668, "body": "Wait, it looks like that your query built by hibernate doesn&#39;t count anything, while your JPQL query is count one. Are you absolutely shure that resulting SQL query is built from this concrete JQPL query?"}, {"owner": {"reputation": 684, "user_id": 1917300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b84a91b902b8d20265b24326b66a4dd?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1917300/alejandro"}, "reply_to_user": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1517177056, "post_id": 48481571, "comment_id": 83976784, "body": "I edited the query &amp; the result, thanks for noticing"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1517200997, "post_id": 48481571, "comment_id": 83982060, "body": "I think the problem is you haven&#39;t specified <code>@JoinColumn</code> on your <code>@ManyToOne</code> fields. But could you please add code of <code>Employee</code> class?"}, {"owner": {"reputation": 684, "user_id": 1917300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b84a91b902b8d20265b24326b66a4dd?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1917300/alejandro"}, "reply_to_user": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1517205131, "post_id": 48481571, "comment_id": 83983245, "body": "@asm0dey The <code>@JoinColumn</code> is the same as <code>targetEntity</code> AFAIK"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 1, "creation_date": 1517209543, "post_id": 48481571, "comment_id": 83984971, "body": "I think you&#39;re wrong. Join column says JPA which column in DB (not field!) is referencing our current entity, while targetEntity says JPA (and that&#39;s completely obsolete as of me) which class represents our current field. And the default is (surprise-surprise!) type of our field )))"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1517209598, "post_id": 48481571, "comment_id": 83984989, "body": "Now, after you&#39;ve added code of send entity, I&#39;m even more sure tat thing is in <code>@JoinColumn</code>"}, {"owner": {"reputation": 1121, "user_id": 2695990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c05194ea1fcc0d2729ac3de4e023de72?s=128&d=identicon&r=PG", "display_name": "fascynacja", "link": "https://stackoverflow.com/users/2695990/fascynacja"}, "edited": false, "score": 0, "creation_date": 1517213594, "post_id": 48481571, "comment_id": 83986694, "body": "maybe changing the jpa method name to : findAllBy... will help?"}, {"owner": {"reputation": 684, "user_id": 1917300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b84a91b902b8d20265b24326b66a4dd?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1917300/alejandro"}, "reply_to_user": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1517291772, "post_id": 48481571, "comment_id": 84023934, "body": "@asm0dey please use your answer (&quot;I think you&#39;re wrong...&quot;). That solved the problem, I forgot that, when not using the full name of the table, you have to use the alias you are giving for that particular field. Following your advise I was able to fix the issue using  <code>@field: ManyToOne(targetEntity = Message::class)</code> <code>@Nullable@JoinColumn(name=&quot;father&quot;)var father: Message? = null)</code>  =)  thank you!!"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 1, "creation_date": 1517296713, "post_id": 48481571, "comment_id": 84025948, "body": "I&#39;ve posted this answer. Feel free to mark it as correct if you think so :) And welcome!"}], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": true, "score": 1, "last_activity_date": 1517296683, "creation_date": 1517296683, "answer_id": 48515908, "question_id": 48481571, "link": "https://stackoverflow.com/questions/48481571/hibernate-not-properly-building-the-query/48515908#48515908", "title": "Hibernate not properly building the query", "body": "<p>The problem is there is no <code>@JoinColumn</code> annotation on field <code>father</code>. Join column says JPA which column in DB (not field!) is referencing our current entity, while targetEntity says JPA (and that's completely obsolete as of me) which class represents our current field.</p>\n"}], "owner": {"reputation": 684, "user_id": 1917300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b84a91b902b8d20265b24326b66a4dd?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1917300/alejandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 48515908, "answer_count": 1, "score": 0, "last_activity_date": 1517296683, "creation_date": 1517095204, "last_edit_date": 1517205072, "question_id": 48481571, "link": "https://stackoverflow.com/questions/48481571/hibernate-not-properly-building-the-query", "title": "Hibernate not properly building the query", "body": "<p>My project is built with Spring Boot and Kotlin.</p>\n\n<p>I have a class <code>Message</code> that might have a parent message (when responding a message), the code looks like this:</p>\n\n<pre><code>@Entity\nclass Message(\n    @field: Id\n    @field:GeneratedValue var id : Long = 0,\n\n    @field: ManyToOne(targetEntity = Employee::class)\n    var sender:Employee?=null,\n\n    @field: ManyToOne(targetEntity = Employee::class)\n    var receiver:Employee?=null,\n    var time:LocalDateTime,\n    var content: String,\n    var read:Boolean,\n\n    @field: ManyToOne(targetEntity = Message::class)\n    @Nullable\n    var father:Message?=null)\n{}\n</code></pre>\n\n<p>when calling this query (using JpaRepository):</p>\n\n<pre><code>fun findByReceiverIdAndReadFalse(id:Long):List&lt;Message&gt;\n</code></pre>\n\n<p>I get this error:</p>\n\n<p><code>Unknown column 'message0_.father_id' in 'field list'</code></p>\n\n<p>It actually should be <code>message0_.father.id</code>, not <code>father_id</code> (father being the Message entity).</p>\n\n<p>The full query built by Hibernate is this:</p>\n\n<pre><code>select\n        message0_.id as id1_5_,\n        message0_.content as content2_5_,\n        message0_.father_id as father_i5_5_,\n        message0_.read as read3_5_,\n        message0_.receiver_id as receiver6_5_,\n        message0_.sender_id as sender_i7_5_,\n        message0_.time as time4_5_ \n    from\n        message message0_ \n    left outer join\n        employee employee1_ \n            on message0_.receiver_id=employee1_.id \n    where\n        employee1_.id=? \n        and message0_.read=0\n</code></pre>\n\n<p><code>Employee</code> class:</p>\n\n<pre><code>@Entity\ndata class Employee(\n    @field: Id\n    @field:GeneratedValue var id : Long = 0,\n    var username : String = \"\",\n    var password : String =\"\",\n    var name : String =\"\",\n    var lastName: String =\"\",\n    var phone : String=\"\",\n    var email : String =\"\",\n    var sex : String =\"\",\n    var active : Boolean = false,\n    @field: ManyToOne(targetEntity = District::class)\n    var district : District? = null,\n    @field: ManyToOne(targetEntity = Company::class)\n    var company : Company? = null,\n    var picture:String=\"\",\n    var resetPasswordCode:String=\"\",\n    // c\u00f3digo que se le env\u00eda al usuario en el momento que crea\n    // la cuenta, deber\u00e1 abrir en enlace del correo para activarla\n    // de ah\u00ed que \"active\" sea false.\n    var activationCode : String=\"\",\n    // La fecha en que caduca el c\u00f3digo activaci\u00f3n: 5 d\u00edas para activar\n    var activationCodeExpiration : LocalDateTime = LocalDateTime.now().plusDays(5),\n    var enabled : Boolean = true,\n    var accountNonExpired: Boolean = true,\n    var credentialsNonExpired: Boolean = true,\n    var accountNonLocked : Boolean = true,\n    @field: OneToMany(targetEntity = Roles::class) var roles :MutableSet&lt;Roles&gt; = mutableSetOf())\n\n{\n    fun toUser() : User\n    {\n        val authorities = mutableSetOf&lt;GrantedAuthority&gt;()\n        roles.forEach{authorities.add(SimpleGrantedAuthority(it.role))}\n        return \nUser(username,password,enabled,accountNonExpired,credentialsNonExpired,accountNonLocked, authorities)\n    }\n}\n</code></pre>\n\n<p>Is there any way to force using the proper fields?\nAm I missing something?</p>\n"}, {"tags": ["android", "file", "android-studio", "kotlin", "save"], "comments": [{"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1517148855, "post_id": 48481269, "comment_id": 83967335, "body": "<code>d(TAG, &quot;doesn&#39;t exist&quot;)</code>. Bad message! What does not exist? Do you know? Change to <code>d(TAG, &quot;doesn&#39;t exist: &quot; + file.getAbsolutePath());</code>. Moreover you did not show us how you set up <code>file</code>. Tell uscthe path please."}], "answers": [{"tags": [], "owner": {"reputation": 716, "user_id": 7656172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGszH.jpg?s=128&g=1", "display_name": "Micha\u0142 Baran", "link": "https://stackoverflow.com/users/7656172/micha%c5%82-baran"}, "is_accepted": true, "score": 0, "last_activity_date": 1517131619, "creation_date": 1517131619, "answer_id": 48484889, "question_id": 48481269, "link": "https://stackoverflow.com/questions/48481269/cannot-save-to-internal-storage-android-studio/48484889#48484889", "title": "Cannot save to internal storage Android Studio", "body": "<p>I assume by <em>\"it prompts me with no file found\"</em> you mean the <em>\"doesn't exist\"</em> information from Logger.\nFrom what I checked your <code>saveFile()</code> method is working correctly and the file gets created.\nThis <code>!file.exists()</code> at the beginning <code>loadFile()</code> returns true, because internal files are managed differently and thus the file doesn't exist (it has different path than <em>\"data.json\"</em>) and your method finishes due to <code>return</code> statement. </p>\n\n<p>So remove</p>\n\n<pre><code>if (!file.exists()) {\n    d(TAG, \"doesn't exist\")\n    return\n}\n</code></pre>\n\n<p>block and it should work correctly.</p>\n"}], "owner": {"reputation": 115, "user_id": 8137191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50fda04d2cfac2ad26fb0eaead430bb9?s=128&d=identicon&r=PG&f=1", "display_name": "Elian", "link": "https://stackoverflow.com/users/8137191/elian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 0, "accepted_answer_id": 48484889, "answer_count": 1, "score": 0, "last_activity_date": 1517131619, "creation_date": 1517092660, "question_id": 48481269, "link": "https://stackoverflow.com/questions/48481269/cannot-save-to-internal-storage-android-studio", "title": "Cannot save to internal storage Android Studio", "body": "<p>It seems as though I've tried everything that people have been suggesting. YouTube videos, stackoverflow posts, but I just cannot seem to save a file using these methods. I run the save method with no error, but when I try to read it later it prompts me with no file found. Issue occurs on both emulator and real phone.</p>\n\n<p>Code:</p>\n\n<pre><code>fun loadFile() {\n    if (!file.exists()) {\n        d(TAG, \"doesn't exist\")\n        return\n    }\n\n    try {\n        val scanner = Scanner(openFileInput(\"data.json\"))\n        d(TAG, scanner.nextLine())\n\n        dateList = gson.fromJson(scanner.nextLine(), FileList::class.java).list\n\n        scanner.close()\n    } catch (e: Exception) {\n        if (e !is NoSuchElementException) {\n            Toast.makeText(this, R.string.error_loading, Toast.LENGTH_LONG).show()\n            d(TAG, \"Error loading file\", e)\n        } else {\n            d(TAG, \"empty file\")\n        }\n    }\n}\n\nfun saveFile() {\n    val fileList = FileList(dateList)\n    val json = gson.toJson(fileList)\n\n    try {\n        d(TAG, json)\n        val output = openFileOutput(\"data.json\", Context.MODE_PRIVATE)\n        output.write(json.toByteArray())\n        d(TAG, \"wrote\")\n\n        output.close()\n    } catch (e: Exception) {\n        Toast.makeText(this, R.string.error_saving, Toast.LENGTH_LONG).show()\n        d(TAG, \"Error saving file\", e)\n    }\n}\n</code></pre>\n\n<p>Logcat:</p>\n\n<pre><code>01-27 17:26:29.828 5918-5918/me.elian.contactsaver D/ContactSaver: doesn't exist\n01-27 17:26:36.616 5918-5918/me.elian.contactsaver D/ContactSaver: {\"list\":[{\"year\":2018,\"month\":1,\"day\":27}]}\n01-27 17:26:36.617 5918-5918/me.elian.contactsaver D/ContactSaver: wrote\n01-27 17:26:38.190 5918-5918/me.elian.contactsaver D/ContactSaver: {\"list\":[{\"year\":2018,\"month\":1,\"day\":27},{\"year\":2018,\"month\":1,\"day\":26}]}\n01-27 17:26:38.190 5918-5918/me.elian.contactsaver D/ContactSaver: wrote\n01-27 17:26:48.972 5955-5955/me.elian.contactsaver D/ContactSaver: doesn't exist\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 5105, "user_id": 1897423, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GpwpZ.jpg?s=128&g=1", "display_name": "Lingviston", "link": "https://stackoverflow.com/users/1897423/lingviston"}, "edited": false, "score": 0, "creation_date": 1517078992, "post_id": 48479276, "comment_id": 83951654, "body": "It has to remain open. I want to be able to continously put there new items and have the HashSet as result. So, whenever I add a new item the new HashSet must be produces in a reactive way."}, {"owner": {"reputation": 7301, "user_id": 1812633, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TrUYx.jpg?s=128&g=1", "display_name": "Sourabh", "link": "https://stackoverflow.com/users/1812633/sourabh"}, "reply_to_user": {"reputation": 5105, "user_id": 1897423, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GpwpZ.jpg?s=128&g=1", "display_name": "Lingviston", "link": "https://stackoverflow.com/users/1897423/lingviston"}, "edited": false, "score": 0, "creation_date": 1517079183, "post_id": 48479276, "comment_id": 83951704, "body": "In that case you are wasting a lot of memory and computation power recreating the set after each value. <code>HashSet</code> should be in class scope instead of function scope. Use 1 <code>PublishSubject</code> for Pair and in it&#39;s <code>onSubscribe.onNext</code> add value to `HashSet. Use another Publish/BehaviorSubject to provide the HashSet to other subscribers and send a new update every time there&#39;s a new pair in the first subject."}, {"owner": {"reputation": 5105, "user_id": 1897423, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GpwpZ.jpg?s=128&g=1", "display_name": "Lingviston", "link": "https://stackoverflow.com/users/1897423/lingviston"}, "edited": false, "score": 0, "creation_date": 1517079770, "post_id": 48479276, "comment_id": 83951874, "body": "Yeah, storing the Set on the class level is an obvous approach. It can also be done via custom Subject I guess. But I though that there&#39;s smth built-in, which allows to achieve the same. If there won&#39;t be any better answer I&#39;ll accept yours. Thanks!"}], "tags": [], "owner": {"reputation": 7301, "user_id": 1812633, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TrUYx.jpg?s=128&g=1", "display_name": "Sourabh", "link": "https://stackoverflow.com/users/1812633/sourabh"}, "is_accepted": true, "score": 2, "last_activity_date": 1517078701, "creation_date": 1517078701, "answer_id": 48479276, "question_id": 48479192, "link": "https://stackoverflow.com/questions/48479192/subscribe-after-collect-doesnt-work/48479276#48479276", "title": "Subscribe after collect doesn&#39;t work", "body": "<p><code>collect</code> waits for <code>onComplete</code> event from the stream above before emitting a value. In your case, <code>ReplaySubject</code> never ends and thus no value is emitted.</p>\n\n<p>Without knowing the context of <code>selectionSubject</code> I can't provide a solution to your problem, like, does it have to remain open? If there are limited <code>onNext</code> calls, you can use <code>.take(X)</code>. If it has to remain open, you shouldn't depend on collect but add the item inside on <code>HashSet</code> in something like <code>.doOnNext</code></p>\n"}], "owner": {"reputation": 5105, "user_id": 1897423, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GpwpZ.jpg?s=128&g=1", "display_name": "Lingviston", "link": "https://stackoverflow.com/users/1897423/lingviston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 48479276, "answer_count": 1, "score": 0, "last_activity_date": 1517078701, "creation_date": 1517078202, "last_edit_date": 1517078523, "question_id": 48479192, "link": "https://stackoverflow.com/questions/48479192/subscribe-after-collect-doesnt-work", "title": "Subscribe after collect doesn&#39;t work", "body": "<p>I'm experimenting with RxJava. I need an <code>Observable</code>, which produces a <code>HashSet&lt;String&gt;</code>. Into <code>Observable</code> I want to be abele to put <code>Pair&lt;String, Boolean&gt;</code> in the way that <code>false</code> boolean value removes the <code>String</code> key from the resulting <code>HashSet</code>. Here's a code snippet of what I have:</p>\n\n<pre><code>private val selectionSubject = ReplaySubject.create&lt;Pair&lt;String, Boolean&gt;&gt;()\ninit {\n    selectionSubject.onNext(Pair(\"dd\", false))\n    selectionSubject\n        .collect({HashSet&lt;String&gt;()}, {dest, value -&gt; collectSelection(dest, value)})\n        .subscribe { t1, t2 -&gt; Log.d(TAG, t1.toString())}\n}\n\nprivate fun collectSelection(dest: HashSet&lt;String&gt;, value: Pair&lt;String, Boolean&gt;): HashSet&lt;String&gt; {\n    if (value.second) {\n        dest.add(value.first)\n    } else {\n        dest.remove(value.first)\n    }\n    Log.d(TAG, \"collectSelection, ${dest.toString()}\")\n    return dest\n}\n</code></pre>\n\n<p>In the logs I can see that <code>collectSelection</code> gets called but my subscribe listener doesn't.</p>\n\n<p>How can it be fixed?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1517076562, "post_id": 48478817, "comment_id": 83950816, "body": "The problem with these 2 approaches is following: the client (subscriber of the stream) won&#39;t get further updates that would take place in database, because both <code>switchIfEmpty</code> and <code>flatMap</code> would substitute the original stream, which was aware of db changes. Also, these approaches still have &quot;side effect&quot; operators (<code>doOnXXX</code>). Thanks for the answer."}], "tags": [], "owner": {"reputation": 46728, "user_id": 557179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7KJPr.jpg?s=128&g=1", "display_name": "Nikola Despotoski", "link": "https://stackoverflow.com/users/557179/nikola-despotoski"}, "is_accepted": false, "score": 0, "last_activity_date": 1517076011, "creation_date": 1517076011, "answer_id": 48478817, "question_id": 48478090, "link": "https://stackoverflow.com/questions/48478090/room-with-flowable-initialize-database-if-its-empty/48478817#48478817", "title": "Room with Flowable: initialize database if it&#39;s empty", "body": "<p>Assuming your insert() call is async and also handles updates, you could do something like this:</p>\n\n<pre><code>fun loadUsers(): Flowable&lt;List&lt;User&gt;&gt; = userDao.getAllUsers().switchIfEmpty { api.getAllUsers().doOnNext { userDao.insert(it) }  }\n</code></pre>\n\n<p>You could also use some:</p>\n\n<pre><code>fun loadUsers(): Flowable&lt;List&lt;User&gt;&gt; = userDao.getAllUsers().flatMap { it-&gt;  if (it.isEmpty()) api.getAllUsers().doOnNext { userDao.insert(it) } else Flowable.just(it)}\n</code></pre>\n\n<p>Advice:</p>\n\n<p>You should consider the case when the data is stale, therefore you need to go another way around, do a network request and database call at the same time. Whichever observable finish first, take the result and display it. Updating database should be right after network call is done.</p>\n"}, {"comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1517078752, "post_id": 48478847, "comment_id": 83951575, "body": "Was looking something like <code>ignoreElements()</code>! Thanks, sir!"}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 7, "last_activity_date": 1517076178, "creation_date": 1517076178, "answer_id": 48478847, "question_id": 48478090, "link": "https://stackoverflow.com/questions/48478090/room-with-flowable-initialize-database-if-its-empty/48478847#48478847", "title": "Room with Flowable: initialize database if it&#39;s empty", "body": "<p>You could apply some conditional flatMaps:</p>\n\n<pre><code>@Dao\ninterface UsersDao {\n    @Query(\"SELECT * FROM users\")\n    fun loadUsers(): Flowable&lt;List&lt;User&gt;&gt;\n\n    @Query(\"SELECT COUNT(1) FROM users\")\n    fun userCount() : Flowable&lt;List&lt;Integer&gt;&gt;\n\n    @Insert // I don't know Room btw.\n    fun insertUsers(List&lt;User&gt; users) : Flowable&lt;Object&gt;\n}\n\ninterface RemoteUsers {\n     fun getUsers() : Flowable&lt;List&lt;User&gt;&gt;\n}\n\nfun getUsers() : Flowable&lt;List&lt;User&gt;&gt; {\n     return\n         db.userCount()\n         .take(1)\n         .flatMap({ counts -&gt;\n             if (counts.isEmpty() || counts.get(0) == 0) {\n                 return remote.getUsers()\n                        .flatMap({ users -&gt; db.insertUsers(users) })\n                        .ignoreElements()\n                        .andThen(db.loadUsers())\n             }\n             return db.loadUsers()\n         })\n}\n</code></pre>\n\n<p>Disclaimer: I don't know Room so please adapt the example above as the features of it allow.</p>\n"}], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1569, "favorite_count": 0, "accepted_answer_id": 48478847, "answer_count": 2, "score": 1, "last_activity_date": 1517076178, "creation_date": 1517071819, "last_edit_date": 1517072202, "question_id": 48478090, "link": "https://stackoverflow.com/questions/48478090/room-with-flowable-initialize-database-if-its-empty", "title": "Room with Flowable: initialize database if it&#39;s empty", "body": "<p>I have following <code>@Dao</code>, that provides <code>Flowable&lt;User&gt;</code> stream:</p>\n\n<pre><code>@Dao\ninterface UsersDao {\n  @Query(\"SELECT * FROM users\")\n  fun loadUsers(): Flowable&lt;List&lt;User&gt;&gt;\n}\n</code></pre>\n\n<p>I want the subscriber of the stream to receive updates of the database as soon as some change happens there. Subscribing to Room's <code>Flowable</code> I will get that feature out of the box.</p>\n\n<p>What I want is following: if database is empty I want to perform a web request and save users into database. The subscriber will automatically receive new updates that had just happened. </p>\n\n<p>Now I want the client of the repository not to be aware all of the initialization logics: all he does - he performs <code>usersRepository.loadUsers()</code>. And all of these magic should take place inside the repository class:</p>\n\n<pre><code>class UsersRepository @Inject constructor(\n    private val api: Api,\n    private val db: UsersDao\n) {\n\n  fun loadUsers(): Flowable&lt;List&lt;User&gt;&gt; {\n    ...\n  }\n}\n</code></pre>\n\n<p>Of course I can use following approach:</p>\n\n<pre><code>fun loadUsers(): Flowable&lt;List&lt;User&gt;&gt; {\n  return db.loadTables()\n      .doOnSubscribe {\n        if (db.getCount() == 0) {\n          val list = api.getTables().blockingGet()\n          db.insert(list)\n        }\n      }\n}\n</code></pre>\n\n<p>But I would like to construct the stream without using side-effects (<code>doOn...</code> operators). I've tried <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Flowable.html#compose-io.reactivex.FlowableTransformer-\" rel=\"nofollow noreferrer\"><code>composing()</code></a> but that didn't help much. Been stuck on this for a while.</p>\n"}, {"tags": ["list", "kotlin", "mutable"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1517069020, "post_id": 48477502, "comment_id": 83948371, "body": "Not sure what you&#39;re asking. But yes, when you add values into <code>visited</code> they will be added to the argument of your function (also visible outside the function) and also: <code>v</code> and <code>visited</code> are pointing to the same object. It does not matter if you add to the one or the other, the list will contain a new element afterwards (<code>val v = visited</code> does not create any copy)"}, {"owner": {"reputation": 33, "user_id": 9276882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc0119fab95c1fd09778b45c390a4f61?s=128&d=identicon&r=PG&f=1", "display_name": "SATHWIK MATSA", "link": "https://stackoverflow.com/users/9276882/sathwik-matsa"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517071487, "post_id": 48477502, "comment_id": 83949206, "body": "@s1m0nw1 that&#39;s exactly what I want to hear! So, how can I make it not to change it&#39;s value?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1517071647, "post_id": 48477502, "comment_id": 83949257, "body": "First of all change the parameter type to List, then in your method you could copy it with toMutableList"}], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 1, "last_activity_date": 1517085020, "creation_date": 1517085020, "answer_id": 48480230, "question_id": 48477502, "link": "https://stackoverflow.com/questions/48477502/how-to-make-copy-of-mutablelist-in-kotlin/48480230#48480230", "title": "How to make copy of MutableList in Kotlin?", "body": "<p>Yes, in java and kotlin almost everything is being passed as reference. But in kotlin you have compile-time verified ability to make any <code>MutableList</code> immutable - just change method argument type from <code>MutableList</code> to <code>List</code></p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1517087473, "creation_date": 1517087473, "answer_id": 48480608, "question_id": 48477502, "link": "https://stackoverflow.com/questions/48477502/how-to-make-copy-of-mutablelist-in-kotlin/48480608#48480608", "title": "How to make copy of MutableList in Kotlin?", "body": "<p>When you add values to <code>visited</code> they will be added to the argument of your function (i.e. are also visible outside the function). Also, <code>v</code> and <code>visited</code> are pointing to the <strong>same object</strong>. It doesn't matter which variable you use to add elements to, the list will contain a new element afterwards. The statement <code>val v = visited</code> <em>does not create any copy</em>.\nFor copying a list you can do <code>visited.toList()</code> which under the hood basically maps  to a call of <code>ArrayList(visited)</code>.</p>\n"}], "owner": {"reputation": 33, "user_id": 9276882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc0119fab95c1fd09778b45c390a4f61?s=128&d=identicon&r=PG&f=1", "display_name": "SATHWIK MATSA", "link": "https://stackoverflow.com/users/9276882/sathwik-matsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2107, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1517087473, "creation_date": 1517068247, "last_edit_date": 1517071565, "question_id": 48477502, "link": "https://stackoverflow.com/questions/48477502/how-to-make-copy-of-mutablelist-in-kotlin", "title": "How to make copy of MutableList in Kotlin?", "body": "<p>So, I just started out with Kotlin and tried to solve \"min steps for a knight to reach a destination on a chessboard\" problem.\nHere is my code:</p>\n\n<pre><code>fun knightSteps(i:Int,j:Int,a:Int,b:Int,board:Int,c :Int,d:Int,visited : MutableList&lt;Pair&lt;Int,Int&gt;&gt;,steps:Int):Int{\n    // (i,j) start (a,b)knight moves (c,d) destination visited - visited positions board - size of board\n    if(i==c &amp;&amp; j==d) return steps\n    if(isValid(Pair(i,j),board)){\n        val v = visited\n        v.add(Pair(i,j))\n\n        var possible = mutableListOf&lt;Int&gt;()\n        if(Pair(i+a,j+b) !in v ) {\n            possible.add(knightSteps(i + a, j + b, a, b, board,c,d, v, 1 + steps))\n        }\n        if(Pair(i+a,j-b) !in v ) {\n            if(i==1&amp;&amp;j==3) println(\"YES!!\")\n            possible.add(knightSteps(i + a, j - b, a, b, board,c,d, v, 1 + steps))\n        }\n        .\n        .  // rest of other 8 possible moves\n        .\n        possible.removeAll{it==-1}\n        if(possible.size==0){\n            return -1\n        }\n        //println(possible)\n        return possible.min()!!\n    }\n    return -1\n}\n</code></pre>\n\n<p>But once it passes the first 'if' condition the 'visited' and 'v' mutable lists are changing their values as a result the <code>println(\"YES!!\")</code> in second 'if' is never executed.</p>\n\n<p>So the function is changing them.. again if i change <code>val v = visited.toMutableList(</code>) it enters into infinite loop! Can someone help.</p>\n"}, {"tags": ["kotlin", "nullable"], "answers": [{"comments": [{"owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 0, "creation_date": 1517069593, "post_id": 48477549, "comment_id": 83948539, "body": "I understand it, but that&#39;s my point, there is no null possible :/"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 0, "creation_date": 1517069738, "post_id": 48477549, "comment_id": 83948588, "body": "@dgan you\u2019re right, it can\u2019t be null. Have a look at the description of smart casting again and you will notice that the examples are different: <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/typecasts.html</a>"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 0, "creation_date": 1517220510, "post_id": 48477549, "comment_id": 83990575, "body": "@dgan: the compiler can\u2019t be sure that max works as intended. It simply sees the return type which might be null"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1517220476, "last_edit_date": 1517220476, "creation_date": 1517068501, "answer_id": 48477549, "question_id": 48477492, "link": "https://stackoverflow.com/questions/48477492/type-inference-on-empty-arrays-kotlin/48477549#48477549", "title": "type inference on empty arrays kotlin", "body": "<p>That can\u2019t be handled by smart casting, you're using a <code>max()</code> extension function which always returns a nullable type, <code>Int?</code> in your case:</p>\n\n<pre><code>public fun &lt;T : Comparable&lt;T&gt;&gt; Iterable&lt;T&gt;.max(): T? \n</code></pre>\n\n<p>The compiler does what this method signature suggests: it makes you handle the possible <code>null</code>. How should the compiler know wether <code>max</code> works as intended? It might be implemented wrongly.</p>\n\n<p>The following, on the other hand, works thanks to smart casting:</p>\n\n<pre><code>val maxNeg: Int? = li.filter { it &lt; 0 }.max()\nif (maxNeg != null) {\n    return maxNeg //Can be used as Int\n}\n</code></pre>\n"}], "owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1517220476, "creation_date": 1517068201, "question_id": 48477492, "link": "https://stackoverflow.com/questions/48477492/type-inference-on-empty-arrays-kotlin", "title": "type inference on empty arrays kotlin", "body": "<p>Let's say I have a piece of code like:</p>\n\n<pre><code>fun temp2 (li : MutableList&lt;Int&gt;):Int {\n    if (li.isEmpty()) return 0\n    val pos=li.filter { it&gt;0 }\n    val neg=li.filter { it&lt;0 }\n\n    if (pos.isEmpty() &amp;&amp; neg.isNotEmpty()){\n\n        // this gives compiling error because Required: Int, Found: Int?\n        // But I just checked one line higher that neg is Not Empty, so there (at least I guess) \n       // no possible way to have an NPE?\n        //return neg.max()\n          return neg.max()!! //this works fine\n    }\n</code></pre>\n\n<p>Is there any particular reason why compiler doesn't infer that .max() can only yield an Int, and thus this should not be an error, or am I missing something?\nKotlin's documentation proudly points out about Smart Casts, and I think this is a quite similar and easy inference to make?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-reflect", "kotlin-companion"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1517067015, "post_id": 48477263, "comment_id": 83947737, "body": "Because <code>this</code> is the companion object of the class TestClass. It&#39;s not an instance of TestClass. <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 2, "last_activity_date": 1517067127, "creation_date": 1517067127, "answer_id": 48477334, "question_id": 48477263, "link": "https://stackoverflow.com/questions/48477263/kotlin-static-constant-field-returning-modified-string-value/48477334#48477334", "title": "Kotlin static constant field returning modified String value", "body": "<h1>Why Am I getting packagePath.TestClass$Companion at the end of the String value?</h1>\n\n<p>Companion objects have classes of their own, in this case the object is of type <code>TestClass$Companion</code>, so <code>this::class.java.name as String</code> and <code>this::javaClass.name</code> both give you the name of the companion object's class.</p>\n\n<h1>How to get TestClass</h1>\n\n<p>You will want to use <code>TestClass::class.java.name</code> and <code>TestClass::javaClass.name</code> instead to get <code>TestClass</code></p>\n"}], "owner": {"reputation": 887, "user_id": 4074312, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qZYoV.jpg?s=128&g=1", "display_name": "Orcun Sevsay", "link": "https://stackoverflow.com/users/4074312/orcun-sevsay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 48477334, "answer_count": 1, "score": 0, "last_activity_date": 1517067638, "creation_date": 1517066754, "question_id": 48477263, "link": "https://stackoverflow.com/questions/48477263/kotlin-static-constant-field-returning-modified-string-value", "title": "Kotlin static constant field returning modified String value", "body": "<p>I'm trying to reach a constant String value of the Class name. But I really don't understand why I get a modified String value. \nHere is the code that I'm working on: </p>\n\n<pre><code>class TestClass {\n    companion object {\n            @JvmField\n            val TAG1: String = this::class.java.name as String\n            val TAG2: String = this::javaClass.name \n    } \n}\n</code></pre>\n\n<p>In another class trying to reach the value like this:</p>\n\n<pre><code>class ComboClass {\n    override fun onStart() {\n       val tag1 = TestClass.TAG1\n       val tag2 = TestClass.TAG2\n\n       // tag1 \"packagePath.TestClass$Companion\"\n       // tag2 \"packagePath.TestClass$Companion\"\n    }\n}\n</code></pre>\n\n<p>Why Am I getting <code>packagePath.TestClass$Companion</code> at the end of the String value? I'm expecting to get <code>packagePath.TestClass</code></p>\n\n<p>Thanks</p>\n"}]