[{"tags": ["kotlin", "collections"], "answers": [{"comments": [{"owner": {"reputation": 188, "user_id": 5406663, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6d2fc65d332ca7ec74016b7003e564aa?s=128&d=identicon&r=PG&f=1", "display_name": "C. Rib", "link": "https://stackoverflow.com/users/5406663/c-rib"}, "edited": false, "score": 0, "creation_date": 1560384495, "post_id": 56571508, "comment_id": 99722239, "body": "I tried looking there before I asked the question, because I was trying to look for array comparators. The syntax seems pretty dense and I wasn&#39;t able to understand it, so I asked here"}, {"owner": {"reputation": 317, "user_id": 7190571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3UcL3.jpg?s=128&g=1", "display_name": "LoopsGod", "link": "https://stackoverflow.com/users/7190571/loopsgod"}, "reply_to_user": {"reputation": 188, "user_id": 5406663, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6d2fc65d332ca7ec74016b7003e564aa?s=128&d=identicon&r=PG&f=1", "display_name": "C. Rib", "link": "https://stackoverflow.com/users/5406663/c-rib"}, "edited": false, "score": 1, "creation_date": 1560386239, "post_id": 56571508, "comment_id": 99722510, "body": "No problem, I just hope people coming here from somewhere else find this useful : )"}], "tags": [], "owner": {"reputation": 317, "user_id": 7190571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3UcL3.jpg?s=128&g=1", "display_name": "LoopsGod", "link": "https://stackoverflow.com/users/7190571/loopsgod"}, "is_accepted": false, "score": 2, "last_activity_date": 1560381649, "creation_date": 1560381649, "answer_id": 56571508, "question_id": 56571477, "link": "https://stackoverflow.com/questions/56571477/what-is-the-difference-between-sorteddescending-and-sortedbydescending/56571508#56571508", "title": "What is the difference between sortedDescending() and sortedByDescending()?", "body": "<p>Look here: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html</a></p>\n\n<p>Click on the functions in order to explore some more details. </p>\n"}, {"comments": [{"owner": {"reputation": 188, "user_id": 5406663, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6d2fc65d332ca7ec74016b7003e564aa?s=128&d=identicon&r=PG&f=1", "display_name": "C. Rib", "link": "https://stackoverflow.com/users/5406663/c-rib"}, "edited": false, "score": 0, "creation_date": 1560385001, "post_id": 56571514, "comment_id": 99722325, "body": "<code>return arrayListOf(1, 5, 2).sortedByDescending{it}</code>  works"}], "tags": [], "owner": {"reputation": 759, "user_id": 8869589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8daf30a15ce5e9a83c0b348bad3d2f?s=128&d=identicon&r=PG&f=1", "display_name": "shn", "link": "https://stackoverflow.com/users/8869589/shn"}, "is_accepted": true, "score": 5, "last_activity_date": 1606138393, "last_edit_date": 1606138393, "creation_date": 1560381721, "answer_id": 56571514, "question_id": 56571477, "link": "https://stackoverflow.com/questions/56571477/what-is-the-difference-between-sorteddescending-and-sortedbydescending/56571514#56571514", "title": "What is the difference between sortedDescending() and sortedByDescending()?", "body": "<p>The easiest way to think about it is that <code>sortDescending()</code> is applied to an <strong>ArrayList of elements like integers or strings</strong>, but <code>sortedByDescending()</code> is applied to an <strong>ArrayList of elements that have properties that we wish to sort-by</strong>.</p>\n<p>Example:\nIn this block of code, you are simply sorting a list of integers.</p>\n<pre><code>fun getList(): List&lt;Int&gt; {\n    return arrayListOf(1, 5, 2).sortedDescending()\n}\n</code></pre>\n<p>In this next line of code, <code>sortByDescending()</code> <strong>requires us to pass an argument,</strong> indicating the property that we want to sort by.</p>\n<pre><code>fun getList(): List&lt;Object&gt; {\n    val list = ArrayList&lt;CustomObject&gt;()\n    list.add(CustomObject(&quot;Z&quot;))\n    list.add(CustomObject(&quot;A&quot;))\n    list.add(CustomObject(&quot;B&quot;))\n\n    return list.sortedByDescending(object.property)\n}\n</code></pre>\n<p><strong><a href=\"https://www.baeldung.com/kotlin-sort\" rel=\"nofollow noreferrer\">This</a></strong> is a good source for information on sorting overall.</p>\n"}], "owner": {"reputation": 188, "user_id": 5406663, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6d2fc65d332ca7ec74016b7003e564aa?s=128&d=identicon&r=PG&f=1", "display_name": "C. Rib", "link": "https://stackoverflow.com/users/5406663/c-rib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2077, "favorite_count": 0, "accepted_answer_id": 56571514, "answer_count": 2, "score": 1, "last_activity_date": 1606138393, "creation_date": 1560381390, "question_id": 56571477, "link": "https://stackoverflow.com/questions/56571477/what-is-the-difference-between-sorteddescending-and-sortedbydescending", "title": "What is the difference between sortedDescending() and sortedByDescending()?", "body": "<p>In this block of code,</p>\n\n<pre><code>fun getList(): List&lt;Int&gt; {\n    return arrayListOf(1, 5, 2).sortedDescending()\n}\n</code></pre>\n\n<p>Why can't I do </p>\n\n<pre><code>fun getList(): List&lt;Int&gt; {\n    return arrayListOf(1, 5, 2).sortedByDescending()\n}\n</code></pre>\n\n<p>instead?</p>\n\n<p>If I'm applying the method wrong to that ArrayList, what would a correct usage of <code>sortedByDescending()</code> look like?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 3501067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6c171bb268f4daf7c5c877a71317cf?s=128&d=identicon&r=PG&f=1", "display_name": "Shahid Kamal", "link": "https://stackoverflow.com/users/3501067/shahid-kamal"}, "is_accepted": false, "score": 0, "last_activity_date": 1560370492, "creation_date": 1560370492, "answer_id": 56569743, "question_id": 56569686, "link": "https://stackoverflow.com/questions/56569686/move-an-item-in-a-recyclerview-to-a-specific-position/56569743#56569743", "title": "Move an item in a RecyclerView to a specific position", "body": "<p>If list.add didn't work then I would suggest a different approach when you swipe to delete don't delete the item. Add another column <code>isDeleted</code> in your model and change room query to fetch all rows in which <code>isDeleted</code> is false. </p>\n\n<pre><code>select * from table where isDeleted = 0\n</code></pre>\n\n<p>Then when swipe to delete update the row to set <code>isDeleted</code> true and when you undo just set <code>isDeleted</code> to false. You can delete the row at later point when you're sure that there'll be no undo required.</p>\n"}, {"comments": [{"owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "edited": false, "score": 0, "creation_date": 1560407618, "post_id": 56572666, "comment_id": 99727206, "body": "The add function in my ViewModel will add the item in my Room Database, not to an array. How should i add the index ?"}, {"owner": {"reputation": 1129, "user_id": 9404438, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zjofb.jpg?s=128&g=1", "display_name": "NIKHIL NEDIYODATH", "link": "https://stackoverflow.com/users/9404438/nikhil-nediyodath"}, "reply_to_user": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "edited": false, "score": 0, "creation_date": 1560408279, "post_id": 56572666, "comment_id": 99727495, "body": "What about putting an &#39;ORDER BY&#39; query in SQL statement of your DAO?"}], "tags": [], "owner": {"reputation": 1129, "user_id": 9404438, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zjofb.jpg?s=128&g=1", "display_name": "NIKHIL NEDIYODATH", "link": "https://stackoverflow.com/users/9404438/nikhil-nediyodath"}, "is_accepted": false, "score": 0, "last_activity_date": 1560393583, "creation_date": 1560393583, "answer_id": 56572666, "question_id": 56569686, "link": "https://stackoverflow.com/questions/56569686/move-an-item-in-a-recyclerview-to-a-specific-position/56572666#56572666", "title": "Move an item in a RecyclerView to a specific position", "body": "<p>Update your insert function in viewmodel.kt file as follows</p>\n\n<pre><code>private suspend fun insert(toDo: ToDo) {\n    withContext(Dispatchers.IO) {\n        toDo.add(index, database)\n    }\n}\n</code></pre>\n\n<p>Here index is an integer which indicates the position that you want to insert the new item. And notify recyclerview adapter if necessary as follows</p>\n\n<pre><code>//Show Snackbar with 'Undo' action\nrequireActivity().findViewById&lt;View&gt;(android.R.id.content).snackBarWithAction(getString(R.string.Message_Exception_fromFragmentLifeStyleItems_ErrorWhileSwiping, swipedToDo.title), anchorView = fab){\n    action(\"Undo\"){\n        mToDoViewModel.insertItem(swipedToDo)\n        adapter.notifyItemInserted(index)\n        //Restore Item\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1096, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560393583, "creation_date": 1560370177, "question_id": 56569686, "link": "https://stackoverflow.com/questions/56569686/move-an-item-in-a-recyclerview-to-a-specific-position", "title": "Move an item in a RecyclerView to a specific position", "body": "<p>I am using a RecyclerView to populate data that are fetched in my Room database. When data is fetched or removed from my Room database, the RecyclerView is updated automatically. I have implemented a swipe to delete and undo in my RecyclerView. When i swipe, i delete the item in my Room Database and the RecyclerView gets updated automatically. However, when i click the \"Undo\" button, i insert the item again in the Room database and the item is shown in the Recyclerview. The problem here is when i restore the item, it gets restored in the last position. I want it to be restore in the position it was deleted, not last.</p>\n\n<p>My code is as below:</p>\n\n<p>fragment.xml</p>\n\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n            android:id=\"@id/RecyclerView_fromFragmentToDo_Main\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"@dimen/Margin_Views_Small\"\n            android:layout_marginBottom=\"?attr/actionBarSize\"\n            app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"/&gt;\n</code></pre>\n\n<p>adapter.kt</p>\n\n<pre><code>import android.view.LayoutInflater\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.DiffUtil\nimport androidx.recyclerview.widget.ListAdapter\nimport androidx.recyclerview.widget.RecyclerView\nimport com.th3pl4gu3.lifestyle.core.lifestyle.ToDo\nimport com.th3pl4gu3.lifestyle.databinding.CustomRecyclerviewListTodoBinding\n\nclass ToDoAdapter : ListAdapter&lt;ToDo, ToDoAdapter.ViewHolder&gt;(ToDoDiffCallback()) {\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    val toDo = getItem(position)\n    holder.bind(toDo)\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    return ViewHolder.from(parent)\n}\n\nclass ViewHolder private constructor(val binding: CustomRecyclerviewListTodoBinding): RecyclerView.ViewHolder(binding.root) {\n    fun bind(toDo: ToDo) {\n        binding.myToDo = toDo\n        binding.executePendingBindings()\n    }\n\n    companion object {\n        fun from(parent: ViewGroup): ViewHolder {\n            val layoutInflater = LayoutInflater.from(parent.context)\n            val binding = CustomRecyclerviewListTodoBinding.inflate(layoutInflater, parent, false)\n            return ViewHolder(binding)\n        }\n    }\n}\n}\n\nclass ToDoDiffCallback: DiffUtil.ItemCallback&lt;ToDo&gt;() {\n\noverride fun areItemsTheSame(oldItem: ToDo, newItem: ToDo): Boolean {\n    return oldItem.id == newItem.id\n}\n\n\noverride fun areContentsTheSame(oldItem: ToDo, newItem: ToDo): Boolean {\n    return oldItem == newItem\n}\n\n}\n</code></pre>\n\n<p>viewmodel.kt</p>\n\n<pre><code>import android.app.Application\nimport androidx.lifecycle.*\nimport com.th3pl4gu3.lifestyle.core.lifestyle.ToDo\nimport com.th3pl4gu3.lifestyle.core.operations.Filter\nimport com.th3pl4gu3.lifestyle.core.operations.ToDoOperations\nimport com.th3pl4gu3.lifestyle.database.LifestyleDatabase\nimport com.th3pl4gu3.lifestyle.ui.enums.ToggleButtonStates\nimport kotlinx.coroutines.*\n\nclass ToDoViewModel(\n    val database: LifestyleDatabase,\n    application: Application) : AndroidViewModel(application) {\n\nprivate var _viewModelJob = Job()\n\nprivate val _uiScope = CoroutineScope(Dispatchers.Main + _viewModelJob)\n\n//Current state of the toggle button (Current button checked)\nvar currentToggleButtonState = ToggleButtonStates.BUTTON_ACTIVE\n\n//Fetch all to dos from database\nprivate var _toDos = ToDoOperations.getAllOffline(database)\nval toDosMediatorLiveData = MediatorLiveData&lt;List&lt;ToDo&gt;&gt;()\n\ninit {\n    //Update the list of the recyclerview on INIT\n    updateList(currentToggleButtonState)\n}\n\n\n/**\n * Public functions that are accessible from the outside\n **/\n\nfun updateList(toggleButton: ToggleButtonStates) {\n    toDosMediatorLiveData.removeSource(_toDos)\n\n    when(toggleButton){\n        ToggleButtonStates.BUTTON_ALL -&gt;{\n            currentToggleButtonState = ToggleButtonStates.BUTTON_ALL\n\n            toDosMediatorLiveData.addSource(_toDos){\n                toDosMediatorLiveData.value = it\n            }\n        }\n\n        ToggleButtonStates.BUTTON_ACTIVE -&gt;{\n            currentToggleButtonState = ToggleButtonStates.BUTTON_ACTIVE\n\n            toDosMediatorLiveData.addSource(_toDos){\n                toDosMediatorLiveData.value = Filter&lt;ToDo&gt;(it).getActive()\n            }\n        }\n        ToggleButtonStates.BUTTON_COMPLETE -&gt;{\n            currentToggleButtonState = ToggleButtonStates.BUTTON_COMPLETE\n\n            toDosMediatorLiveData.addSource(_toDos){\n                toDosMediatorLiveData.value = Filter&lt;ToDo&gt;(it).getCompleted()\n            }\n        }\n    }\n}\n\nfun insertItem(toDo: ToDo) {\n    _uiScope.launch {\n        insert(toDo)\n    }\n}\n\nfun markAsDeleted(toDo: ToDo) {\n    _uiScope.launch {\n        remove(toDo)\n    }\n}\n\nfun markItem(toDo: ToDo){\n    if(toDo.dateCompleted == null){\n        markAsCompleted(toDo)\n    }else{\n        markAsIncomplete(toDo)\n    }\n}\n\n\n/**\n * Private functions for internal use ONLY\n **/\n\nprivate fun markAsCompleted(newToDo: ToDo) {\n    _uiScope.launch {\n        newToDo.markAsComplete()\n        update(newToDo)\n    }\n}\n\nprivate fun markAsIncomplete(newToDo: ToDo) {\n    _uiScope.launch {\n        newToDo.markAsIncomplete()\n        update(newToDo)\n    }\n}\n\nprivate suspend fun insert(toDo: ToDo) {\n    withContext(Dispatchers.IO) {\n        toDo.add(database)\n    }\n}\n\nprivate suspend fun remove(toDo: ToDo) {\n    withContext(Dispatchers.IO) {\n        toDo.delete(database)\n    }\n}\n\nprivate suspend fun update(newToDo: ToDo) {\n    withContext(Dispatchers.IO) {\n        newToDo.update(database)\n    }\n}\n\n/**\n * Overridden functions\n **/\noverride fun onCleared() {\n    super.onCleared()\n\n    //Clear the view model job when user leave\n    _viewModelJob.cancel()\n}\n}\n</code></pre>\n\n<p>fragment.kt</p>\n\n<pre><code>import android.os.Bundle\nimport androidx.fragment.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.RelativeLayout\nimport android.widget.TextView\nimport androidx.databinding.DataBindingUtil\nimport androidx.lifecycle.Observer\nimport androidx.lifecycle.ViewModelProviders\nimport androidx.recyclerview.widget.ItemTouchHelper\nimport androidx.recyclerview.widget.RecyclerView\nimport com.google.android.material.floatingactionbutton.FloatingActionButton\n\nimport com.th3pl4gu3.lifestyle.R\nimport com.th3pl4gu3.lifestyle.ui.Utils.toast\nimport com.th3pl4gu3.lifestyle.database.LifestyleDatabase\nimport com.th3pl4gu3.lifestyle.databinding.FragmentToDoBinding\nimport com.th3pl4gu3.lifestyle.ui.Utils.action\nimport com.th3pl4gu3.lifestyle.ui.Utils.snackBar\nimport com.th3pl4gu3.lifestyle.ui.Utils.snackBarWithAction\nimport com.th3pl4gu3.lifestyle.ui.enums.ToggleButtonStates\nimport java.util.*\n\nclass FragmentToDo : Fragment() {\n\nprivate lateinit var mBinding: FragmentToDoBinding\nprivate lateinit var mToDoViewModel: ToDoViewModel\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    //Inflate the layout for this fragment\n    mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_to_do, container, false)\n\n    //Configures the screen views (Eg. Title, appearance of top bar etc...)\n    configureScreenAppearance()\n\n    //Get the activity's application\n    val application = requireNotNull(this.activity).application\n\n    //Fetch the database\n    val dataSource = LifestyleDatabase.getInstance(application)\n\n    //Instantiate the view model factory\n    val viewModelFactory = ToDoViewModelFactory(dataSource, application)\n\n    //Instantiate the view model of this fragment\n    mToDoViewModel = ViewModelProviders.of(this, viewModelFactory).get(ToDoViewModel::class.java)\n\n    //Bind view model\n    mBinding.toDoViewModel = mToDoViewModel\n\n    //Instantiate the lifecycle owner\n    mBinding.lifecycleOwner = this\n\n    //RecyclerView's configuration\n    val adapter = ToDoAdapter()\n    mBinding.RecyclerViewFromFragmentToDoMain.adapter = adapter\n\n    mToDoViewModel.toDosMediatorLiveData.observe(viewLifecycleOwner, Observer {\n        it.let { x -&gt;\n\n            //Update the UI and determine whether recyclerview should be visible or not\n            updateUI(x.isNotEmpty())\n\n            adapter.submitList(x)\n        }\n    })\n\n    //Swipe configurations\n    val swipeHandler = object : ToDoSwipeToCallback(requireContext()) {\n        override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n\n            val swipedToDo = (mBinding.RecyclerViewFromFragmentToDoMain.adapter as ToDoAdapter).currentList[viewHolder.adapterPosition]\n            val fab = requireActivity().findViewById&lt;FloatingActionButton&gt;(R.id.FAB_fromHomeActivity_BottomAppBarAttached)\n            val position = viewHolder.adapterPosition\n\n            when(direction){\n                ItemTouchHelper.LEFT -&gt; {\n                    mToDoViewModel.markItem(swipedToDo)\n                }\n\n                ItemTouchHelper.RIGHT -&gt; {\n                    mToDoViewModel.markAsDeleted(swipedToDo)\n\n                    //Show Snackbar with 'Undo' action\n                    requireActivity().findViewById&lt;View&gt;(android.R.id.content).snackBarWithAction(getString(R.string.Message_Exception_fromFragmentLifeStyleItems_ErrorWhileSwiping, swipedToDo.title), anchorView = fab){\n                            action(\"Undo\"){\n                                mToDoViewModel.insertItem(swipedToDo)\n                                //Restore Item\n                            }\n                        }\n                }\n\n                else -&gt;{\n                    requireContext().toast(getString(R.string.Message_Exception_fromFragmentLifeStyleItems_ErrorWhileSwiping))\n                }\n            }\n        }\n    }\n\n    val itemTouchHelper = ItemTouchHelper(swipeHandler)\n    itemTouchHelper.attachToRecyclerView(mBinding.RecyclerViewFromFragmentToDoMain)\n\n    return mBinding.root\n}\n\n\n/**\n * Private functions for internal use ONLY\n **/\n\nprivate fun updateUI(recyclerViewVisible: Boolean){\n    if(recyclerViewVisible){\n        mBinding.RecyclerViewFromFragmentToDoMain.visibility = View.VISIBLE\n        mBinding.EmptyViewForRecyclerView.visibility = View.GONE\n    }else{\n        if(mToDoViewModel.currentToggleButtonState == ToggleButtonStates.BUTTON_COMPLETE){\n            mBinding.TextViewFromFragmentToDoEmptyView.text = getString(R.string.TextView_fromToDoFragment_Message_EmptyList_Completed)\n        }else if(mToDoViewModel.currentToggleButtonState == ToggleButtonStates.BUTTON_ACTIVE){\n            mBinding.TextViewFromFragmentToDoEmptyView.text = getString(R.string.TextView_fromToDoFragment_Message_EmptyList_Active)\n        }\n\n        mBinding.RecyclerViewFromFragmentToDoMain.visibility = View.GONE\n        mBinding.EmptyViewForRecyclerView.visibility = View.VISIBLE\n    }\n}\n\nprivate fun configureScreenAppearance(){\n    //Set title of fragment\n    val screenTitle = requireActivity().findViewById&lt;TextView&gt;(R.id.TextView_fromHomeActivity_Screen_Title)\n    screenTitle.text = getString(R.string.TextView_fromFragmentInHomeActivity_ScreenTitle_ToDo)\n\n    //Show Top Bar\n    val topBar = requireActivity().findViewById&lt;RelativeLayout&gt;(R.id.RelativeLayout_fromHomeActivity_TopBar)\n    topBar.visibility = View.VISIBLE\n\n    //Show Fab\n    val fab = requireActivity().findViewById&lt;FloatingActionButton&gt;(R.id.FAB_fromHomeActivity_BottomAppBarAttached)\n    fab.show()\n}\n}\n</code></pre>\n\n<p>I need to restore the item here:</p>\n\n<pre><code>ItemTouchHelper.RIGHT -&gt; {\n                    mToDoViewModel.markAsDeleted(swipedToDo)\n\n                    //Show Snackbar with 'Undo' action\n                    requireActivity().findViewById&lt;View&gt;(android.R.id.content).snackBarWithAction(getString(R.string.Message_Exception_fromFragmentLifeStyleItems_ErrorWhileSwiping, swipedToDo.title), anchorView = fab){\n                            action(\"Undo\"){\n                                mToDoViewModel.insertItem(swipedToDo)\n                                //Restore Item\n                            }\n                        }\n                }\n</code></pre>\n\n<p>I've tried fetching the list and then do list.add(position, item) but it doesn't work. Can someone please help ? Thanks.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "autocompletetextview"], "comments": [{"owner": {"reputation": 145, "user_id": 11494331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03747fb09126fb845f4fee694c2f9f88?s=128&d=identicon&r=PG&f=1", "display_name": "oTwo", "link": "https://stackoverflow.com/users/11494331/otwo"}, "reply_to_user": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "edited": false, "score": 0, "creation_date": 1560369103, "post_id": 56568992, "comment_id": 99717989, "body": "I checked the same. The list of medicines is pretty long. Around 20K data points. It seems medicineName.setAdapter(adapter) is called before the for loop is complete. Hence the list remains empty"}, {"owner": {"reputation": 38514, "user_id": 394010, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aeeb400b9dfb7d0cd6fdcdfab9b84d6b?s=128&d=identicon&r=PG", "display_name": "Kato", "link": "https://stackoverflow.com/users/394010/kato"}, "edited": false, "score": 0, "creation_date": 1560383671, "post_id": 56568992, "comment_id": 99722088, "body": "See also <a href=\"https://github.com/firebase/FirebaseUI-Android\" rel=\"nofollow noreferrer\">Firebase-UI</a>"}], "owner": {"reputation": 145, "user_id": 11494331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03747fb09126fb845f4fee694c2f9f88?s=128&d=identicon&r=PG&f=1", "display_name": "oTwo", "link": "https://stackoverflow.com/users/11494331/otwo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1560383636, "answer_count": 0, "score": 0, "last_activity_date": 1560372145, "creation_date": 1560367039, "last_edit_date": 1560372145, "question_id": 56568992, "link": "https://stackoverflow.com/questions/56568992/autocompletetextview-does-not-populate-from-firebase", "closed_reason": "Duplicate", "title": "AutoCompleteTextView does not populate from Firebase", "body": "<p>I have an AutoCompleteTextView which I am trying to populate from an adapter created from values stored in Firebase. The id of the AutoCompleteTextView is medicineName\nHere is my code</p>\n\n<pre><code>    val adapter = ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1)\n    mRef = FirebaseDatabase.getInstance().reference.child(\"Medicines\")\n\n    mRef.addValueEventListener(object: ValueEventListener {\n        override fun onDataChange(dataSnapshot:DataSnapshot) {\n            for (suggestionSnapshot in dataSnapshot.children)\n            {\n                val suggestion = suggestionSnapshot.child(\"Name\").getValue(String::class.java)\n                adapter.add(suggestion)\n            }\n        }\n        override fun onCancelled(databaseError:DatabaseError) {\n        }\n    })\n    medicineName.setAdapter(adapter)\n    medicineName.setOnFocusChangeListener { _, b -&gt;\n        if(b) medicineName.showDropDown()\n    }\n</code></pre>\n\n<p>However, the AutoCompleteTextView does not populate with this. The structure of the Firebase data is as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8soNd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8soNd.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-espresso", "circleci", "circleci-2.0"], "answers": [{"comments": [{"owner": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "edited": false, "score": 0, "creation_date": 1560415794, "post_id": 56575872, "comment_id": 99731413, "body": "can you pls share your circleci config file or mention the commands which I have to you use to fix the issue."}, {"owner": {"reputation": 73, "user_id": 2364574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ed59ac3b5de49c120dccfea1c6def0?s=128&d=identicon&r=PG", "display_name": "zhukunqian", "link": "https://stackoverflow.com/users/2364574/zhukunqian"}, "reply_to_user": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "edited": false, "score": 0, "creation_date": 1560417169, "post_id": 56575872, "comment_id": 99732146, "body": "hi, you can try to disable gradle deamon: org.gradle.daemon=false I found this can solve the problem. kill the gradle deamon first. I don&#39;t know why."}, {"owner": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "edited": false, "score": 0, "creation_date": 1560421738, "post_id": 56575872, "comment_id": 99734737, "body": "I have tried diabling gradle daemon by adding org.gradle.daemon=false but then it is throwing <code>Gradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)</code>"}, {"owner": {"reputation": 73, "user_id": 2364574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ed59ac3b5de49c120dccfea1c6def0?s=128&d=identicon&r=PG", "display_name": "zhukunqian", "link": "https://stackoverflow.com/users/2364574/zhukunqian"}, "reply_to_user": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "edited": false, "score": 0, "creation_date": 1560423282, "post_id": 56575872, "comment_id": 99735572, "body": "@GOVINDDIXIT you can try to delete gradle daemon cache folder rm -fr ~/.gradle/daemon/ I found this can sovled on one computer, but another computer still can&#39;t sovled."}, {"owner": {"reputation": 73, "user_id": 2364574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ed59ac3b5de49c120dccfea1c6def0?s=128&d=identicon&r=PG", "display_name": "zhukunqian", "link": "https://stackoverflow.com/users/2364574/zhukunqian"}, "reply_to_user": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "edited": false, "score": 0, "creation_date": 1560481238, "post_id": 56575872, "comment_id": 99759053, "body": "@GOVINDDIXIT today, I tried many times to find out why this problem only occur on my linux computer. I found the both computer is ECS with 1 cpu , 1G memory. So I think maybe the memory too low. I add 1G swap and found this problem disapper on both computer. so I think you can check if the memory is enough and try ."}, {"owner": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "edited": false, "score": 0, "creation_date": 1560509039, "post_id": 56575872, "comment_id": 99769205, "body": "There is an update from my side I have done some changes in config and the tests start running but for second time it is throwing <code>Unable to clear jar cache after compilation, maybe daemon is already down: java.rmi.ConnectException: Connection refused to host: 127.0.0.1; nested exception is:  \tjava.net.ConnectException: Connection refused (Connection refused)</code>  first time: <a href=\"https://circleci.com/gh/GOVINDDIXIT/Rocket.Chat.Android/878\" rel=\"nofollow noreferrer\">circleci.com/gh/GOVINDDIXIT/Rocket.Chat.Android/878</a> second time: <a href=\"https://circleci.com/gh/GOVINDDIXIT/Rocket.Chat.Android/885\" rel=\"nofollow noreferrer\">circleci.com/gh/GOVINDDIXIT/Rocket.Chat.Android/885</a>"}, {"owner": {"reputation": 73, "user_id": 2364574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ed59ac3b5de49c120dccfea1c6def0?s=128&d=identicon&r=PG", "display_name": "zhukunqian", "link": "https://stackoverflow.com/users/2364574/zhukunqian"}, "reply_to_user": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "edited": false, "score": 0, "creation_date": 1560736273, "post_id": 56575872, "comment_id": 99820430, "body": "hi, @GOVINDDIXIT, on my computer , this exception throws every times with UnmarshalException. After add 1G swap , the both exception disppear and build success."}, {"owner": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "edited": false, "score": 0, "creation_date": 1560771652, "post_id": 56575872, "comment_id": 99832914, "body": "Can you share your working circleci config file, circleci by default have 4GB of ram. How you are adding swap memory?"}], "tags": [], "owner": {"reputation": 73, "user_id": 2364574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3ed59ac3b5de49c120dccfea1c6def0?s=128&d=identicon&r=PG", "display_name": "zhukunqian", "link": "https://stackoverflow.com/users/2364574/zhukunqian"}, "is_accepted": false, "score": 0, "last_activity_date": 1560481464, "last_edit_date": 1560481464, "creation_date": 1560412665, "answer_id": 56575872, "question_id": 56568702, "link": "https://stackoverflow.com/questions/56568702/circleci-2-0-error-unmarshaling-return-header-nested-exception-is/56575872#56575872", "title": "CircleCI 2.0 : Error unmarshaling return header; nested exception is:", "body": "<p>I meet the same problem.</p>\n\n<p>And finally, I delete my gradle cache folder (linux: ~/.gradle), and this problem disappear.</p>\n\n<p>You can try and kill gradle deamon first.</p>\n\n<p>update: I found the reason is disable gradle deamon can sovle this problem.\nadd org.gradle.daemon=false to gradle.properties</p>\n\n<p>update2: sorry, everyone ,the reason this momery too low on my ECS (1 cpu, 1G memory), I add 1G swap and this problem disppear.</p>\n"}, {"tags": [], "owner": {"reputation": 194, "user_id": 2701235, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HdErj.png?s=128&g=1", "display_name": "Heinous Games", "link": "https://stackoverflow.com/users/2701235/heinous-games"}, "is_accepted": false, "score": 1, "last_activity_date": 1569088427, "creation_date": 1569088427, "answer_id": 58042753, "question_id": 56568702, "link": "https://stackoverflow.com/questions/56568702/circleci-2-0-error-unmarshaling-return-header-nested-exception-is/58042753#58042753", "title": "CircleCI 2.0 : Error unmarshaling return header; nested exception is:", "body": "<p>For a lot of people, it seems adding the GRADLE_OPTS line that you already have has helped resolve their unmarshaling error. For me, that line actually broke all of my unit tests before getting to the command that causes the unmarshaling error. For our build, our gradle memory was used up after running all of our unit tests. The solution was to clear the gradle cache after all of the unit tests ran, but before building and pushing to the store. We added the command <code>rm -fr ~/.gradle/daemon/</code> to our travis file as user zhukunqian pointed out in the comments section.</p>\n"}, {"tags": [], "owner": {"reputation": 241, "user_id": 8224232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137c1a528e93fb563642f95cd508e7bb?s=128&d=identicon&r=PG", "display_name": "m3g4tr0n", "link": "https://stackoverflow.com/users/8224232/m3g4tr0n"}, "is_accepted": false, "score": 2, "last_activity_date": 1590141993, "creation_date": 1590141993, "answer_id": 61952589, "question_id": 56568702, "link": "https://stackoverflow.com/questions/56568702/circleci-2-0-error-unmarshaling-return-header-nested-exception-is/61952589#61952589", "title": "CircleCI 2.0 : Error unmarshaling return header; nested exception is:", "body": "<p>Adding this line to <code>config.yml</code> helped me in avoiding this error </p>\n\n<p><code>GRADLE_OPTS: -Xmx1536m -XX:+HeapDumpOnOutOfMemoryError -Dorg.gradle.caching=true -Dorg.gradle.configureondemand=true -Dkotlin.compiler.execution.strategy=in-process -Dkotlin.incremental=false</code></p>\n\n<p>more info here : <a href=\"https://github.com/circleci/circleci-docs/issues/2945#issuecomment-471637158\" rel=\"nofollow noreferrer\">https://github.com/circleci/circleci-docs/issues/2945#issuecomment-471637158</a></p>\n"}], "owner": {"reputation": 1549, "user_id": 8549281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jykz4.jpg?s=128&g=1", "display_name": "GOVIND DIXIT", "link": "https://stackoverflow.com/users/8549281/govind-dixit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3840, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1590141993, "creation_date": 1560365730, "last_edit_date": 1560421525, "question_id": 56568702, "link": "https://stackoverflow.com/questions/56568702/circleci-2-0-error-unmarshaling-return-header-nested-exception-is", "title": "CircleCI 2.0 : Error unmarshaling return header; nested exception is:", "body": "<p>I have created some espresso UI tests. The tests are working fine locally(emulator and real device). But when I am trying to run the UI test on CircleCI. I am getting this error log</p>\n\n<blockquote>\n  <p>Task :app:compileFossDebugAndroidTestKotlin\n  Compilation with Kotlin compile daemon was not successful\n  java.rmi.UnmarshalException: Error unmarshaling return header; nested exception is: </p>\n</blockquote>\n\n<p>Unable to clear jar cache after compilation, maybe daemon is already down: java.rmi.ConnectException: Connection refused to host: 127.0.0.1; nested exception is: \n    java.net.ConnectException: Connection refused (Connection refused)\nCould not connect to kotlin daemon. Using fallback strategy.</p>\n\n<p>Picked up JAVA_TOOL_OPTIONS: -Xms512m</p>\n\n<blockquote>\n  <p>Task :app:compileFossDebugAndroidTestKotlin FAILED</p>\n</blockquote>\n\n<p>FAILURE: Build failed with an exception.</p>\n\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:compileFossDebugAndroidTestKotlin'.</li>\n</ul>\n\n<p>More detail regarding error log is available <a href=\"https://circleci.com/gh/GOVINDDIXIT/Rocket.Chat.Android/727\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Here is my config.yml file for circleci with run-ui-tests job</p>\n\n<pre><code>run-ui-tests:\n    docker:\n      - image: circleci/android@sha256:5cdc8626cc6f13efe5ed982cdcdb432b0472f8740fed8743a6461e025ad6cdfc\n    environment:\n      JVM_OPTS: -Xmx2048m\n      GRADLE_OPTS: -Xmx1536m -XX:+HeapDumpOnOutOfMemoryError -Dorg.gradle.caching=true -Dorg.gradle.configureondemand=true -Dkotlin.compiler.execution.strategy=in-process -Dkotlin.incremental=false\n    steps:\n      - checkout\n      - run:\n          name: ANDROID_HOME\n          command: echo \"sdk.dir=\"$ANDROID_HOME &gt; local.properties\n      - run:\n          name: restore files from ENV\n          command: |\n            echo $ROCKET_JKS_BASE64 | base64 --decode &gt; Rocket.jks\n            echo $ROCKET_PLAY_JSON | base64 --decode &gt; app/rocket-chat.json\n      - run:\n          name: checkout Rocket.Chat.Kotlin.SDK\n          command: git clone https://github.com/RocketChat/Rocket.Chat.Kotlin.SDK.git ../Rocket.Chat.Kotlin.SDK\n      - restore_cache:\n          key: kotlin-sdk-{{ .Revision }}\n      - restore_cache:\n          key: jars-{{ checksum \"build.gradle\" }}-{{ checksum  \"app/build.gradle\" }}\n      - run:\n          name: Accept licenses\n          command: yes | sdkmanager --licenses || true\n      - run:\n          name: Download Dependencies\n          command: ./gradlew androidDependencies\n      - save_cache:\n          paths:\n            - ~/.gradle\n          key: jars-{{ checksum \"build.gradle\" }}-{{ checksum  \"app/build.gradle\" }}\n      - run:\n          name: Setup emulator\n          command: sdkmanager \"system-images;android-22;default;armeabi-v7a\" &amp;&amp; echo \"no\" | avdmanager create avd -n test -k \"system-images;android-22;default;armeabi-v7a\"\n      - run:\n          name: Launch emulator\n          command: export LD_LIBRARY_PATH=${ANDROID_HOME}/emulator/lib64:${ANDROID_HOME}/emulator/lib64/qt/lib &amp;&amp; emulator64-arm -avd test -noaudio -no-boot-anim -no-window -accel auto -verbose\n          background: true\n      - run:\n          name: Wait emulator\n          command: |\n            # wait for it to have booted\n            circle-android wait-for-boot\n            # unlock the emulator screen\n            sleep 30\n            adb shell input keyevent 82\n      - run:\n          name: Run EspressoTests\n          command: ./gradlew connectedAndroidTest\n      - store_artifacts:\n          path: app/build/reports\n          destination: reports\n      - store_test_results:\n          path: app/build/test-results\n</code></pre>\n\n<p>gradle.properties</p>\n\n<pre><code>android.enableJetifier=true\nandroid.useAndroidX=true\norg.gradle.jvmargs=-Xmx1536m\n</code></pre>\n\n<p>Other Configuration</p>\n\n<pre><code>compileSdk version           : 28\ntargetSdk version            : 28\nkotlin version               : '1.3.31'\n</code></pre>\n\n<p>The project is having 2 flavors: foss and play\nand 2 build types: debug and release</p>\n\n<p>I have tried all possible solution but none is working. Any help will be appreciated. Thanks</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "edited": false, "score": 0, "creation_date": 1560365904, "post_id": 56568624, "comment_id": 99716575, "body": "Your <code>getDay</code> method does only work with Javascript, not with Java (Android)."}, {"owner": {"reputation": 35, "user_id": 9229566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95db8cb9b7c047d595e8e867c6b295cd?s=128&d=identicon&r=PG&f=1", "display_name": "Noo Noo", "link": "https://stackoverflow.com/users/9229566/noo-noo"}, "reply_to_user": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "edited": false, "score": 0, "creation_date": 1560366765, "post_id": 56568624, "comment_id": 99716955, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.js/-date/get-day.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.js/-date/&hellip;</a> so the JS at the top shows its only for javascript?"}, {"owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "edited": false, "score": 0, "creation_date": 1560366909, "post_id": 56568624, "comment_id": 99717024, "body": "Exactly, just click on the &quot;JS&quot; button and the method will not be shown anymore!"}], "answers": [{"tags": [], "owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "is_accepted": false, "score": 0, "last_activity_date": 1560365810, "creation_date": 1560365810, "answer_id": 56568717, "question_id": 56568624, "link": "https://stackoverflow.com/questions/56568624/return-current-day-in-android-studio-using-kotlin/56568717#56568717", "title": "Return current day in Android Studio using Kotlin", "body": "<p><code>Calendar.getInstance().get(Calendar.DAY_OF_MONTH)</code>, eg. 12 for today.</p>\n\n<p>Another possibility would be <code>Calendar.DAY_OF_WEEK</code> for weekdays. </p>\n"}, {"tags": [], "owner": {"reputation": 239, "user_id": 11488790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7691b77e584bd46e93919fe19495f70?s=128&d=identicon&r=PG&f=1", "display_name": "Bernhard Josephus", "link": "https://stackoverflow.com/users/11488790/bernhard-josephus"}, "is_accepted": true, "score": 1, "last_activity_date": 1560367040, "creation_date": 1560367040, "answer_id": 56568993, "question_id": 56568624, "link": "https://stackoverflow.com/questions/56568624/return-current-day-in-android-studio-using-kotlin/56568993#56568993", "title": "Return current day in Android Studio using Kotlin", "body": "<p>Use the code below to get the current day:</p>\n\n<pre><code>fun getCurrentDay(): Int {\n    val value: Calendar = Calendar.getInstance()\n    return value.get(Calendar.DAY_OF_WEEK)\n}\n</code></pre>\n\n<p>It should return the current date in a week(1-7).</p>\n\n<p>You could also use other constants to fill in .get()</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/reference/kotlin/java/util/Calendar#day_of_month\" rel=\"nofollow noreferrer\">DAY_OF_MONTH</a></li>\n<li><a href=\"https://developer.android.com/reference/kotlin/java/util/Calendar#day_of_week_in_month\" rel=\"nofollow noreferrer\">DAY_OF_WEEK_IN_MONTH</a></li>\n<li><a href=\"https://developer.android.com/reference/kotlin/java/util/Calendar#day_of_year\" rel=\"nofollow noreferrer\">DAY_OF_YEAR</a></li>\n</ul>\n\n<p>I haven't tested the code yet, but hopefully it works.</p>\n"}], "owner": {"reputation": 35, "user_id": 9229566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95db8cb9b7c047d595e8e867c6b295cd?s=128&d=identicon&r=PG&f=1", "display_name": "Noo Noo", "link": "https://stackoverflow.com/users/9229566/noo-noo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56568993, "answer_count": 2, "score": 1, "last_activity_date": 1560367040, "creation_date": 1560365372, "last_edit_date": 1560365523, "question_id": 56568624, "link": "https://stackoverflow.com/questions/56568624/return-current-day-in-android-studio-using-kotlin", "title": "Return current day in Android Studio using Kotlin", "body": "<p>I am using Kotlin in Android Studio and want to show the user the current day at the home screen (of my \"app\"). Following the Build your first app tutorial I figured I would change the message it displays to what I want (the day), however I don't know how to get the current day.</p>\n\n<p>Searching online I found the <code>fun getDay(): Int</code>\nfunction in the documentation but I don't know what to do with it.</p>\n"}, {"tags": ["for-loop", "kotlin", "apply", "inline"], "answers": [{"tags": [], "owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "is_accepted": false, "score": 1, "last_activity_date": 1560366215, "creation_date": 1560366215, "answer_id": 56568826, "question_id": 56568224, "link": "https://stackoverflow.com/questions/56568224/replacing-for-loops-for-searching-list-in-kotlin/56568826#56568826", "title": "Replacing for loops for searching list in kotlin", "body": "<p>There's probably a million different ways to do this, but here's one that at least has some language features I feel are worthy to share:</p>\n\n<pre><code>fun closeCard(cardNumber: String, pin: String): Pair&lt;Boolean, Boolean&gt; {\n  val giftCard = giftcards.find { it.cardNumber == cardNumber }\n                    ?: return Pair(false, false)\n\n  return if (giftCard.pin == pin) {\n      giftCard.status = Status.CLOSED\n      accounts.forEach {\n        it.balance += giftCard.cardBalance\n      }\n      Pair(true, true)\n  } else \n      Pair(true, false)\n}\n</code></pre>\n\n<p>The first thing to notice if the Elvis operator - <code>?:</code> - which evaluates the right side of the expression if the left side is <code>null</code>. In this case, if <code>find</code> returns <code>null</code>, which is equivalent to not finding a card number that matches the desired one, we'll immediately return <code>Pair(false, false)</code>. This is the last step in your code.</p>\n\n<p>From there one it's pretty straight forward. If the pins match, you loop through the <code>accounts</code> list with a <code>forEach</code> and close the card. If the pins don't match, then we'll go straight to the <code>else</code> branch. In kotlin, <code>if</code> can be used as an expression, therefore we can simply put the <code>return</code> statement before the <code>if</code> and let it return the result of the last expression on each branch.</p>\n\n<p>PS: I won't say this is more efficient than your way. It's just one way that uses built-in functions - <code>find</code> and <code>forEach</code> - like you asked, as well as other language features.</p>\n\n<p>PPS: I would highly recommend to try and find another way to update the lists without mutating the objects. I don't know your use cases, but this doesn't feel too thread-safe. I didn't post any solution for this, because it's outside the scope of this question.</p>\n"}, {"tags": [], "owner": {"reputation": 14346, "user_id": 1251219, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/838f87f5c3a511d3f65fad7d80d55596?s=128&d=identicon&r=PG", "display_name": "Fleshgrinder", "link": "https://stackoverflow.com/users/1251219/fleshgrinder"}, "is_accepted": true, "score": 1, "last_activity_date": 1560382087, "creation_date": 1560382087, "answer_id": 56571564, "question_id": 56568224, "link": "https://stackoverflow.com/questions/56568224/replacing-for-loops-for-searching-list-in-kotlin/56571564#56571564", "title": "Replacing for loops for searching list in kotlin", "body": "<p>Both classes are not very idiomatic. The primary constructor of a Kotlin class is implicit and does not need to be defined, however, you explicitly define a constructor and thus you add another one that is empty.</p>\n\n<pre><code>// good\nclass C\n\n// bad\nclass C {\n    constructor()\n}\n</code></pre>\n\n<p>Going further, Kotlin has named arguments and default values, so make use of them.</p>\n\n<pre><code>class Account(\n    val id: String = generateAccountNumber(),\n    val name: String = \"Unknown User\",\n    val balance: Double = 0.0\n)\n</code></pre>\n\n<p><code>Double</code> is a very bad choice for basically anything due to its shortcomings, see for instance <a href=\"https://www.floating-point-gui.de/\" rel=\"nofollow noreferrer\">https://www.floating-point-gui.de/</a> Choosing <code>Int</code>, <code>Long</code>, heck even <code>BigDecimal</code> would be better. It also seems that you don\u2019t want the balance to ever go beneath zero, in that case consider <code>UInt</code> and <code>ULong</code>.</p>\n\n<p>Last but not least is the mutability of your class. This can make sense but it also might be dangerous. It is up to you to decide upon your needs and requirements.</p>\n\n<hr>\n\n<pre><code>enum class Status {\n    CLOSED\n}\n\n@ExperimentalUnsignedTypes\nclass Account(private var _balance: UInt) {\n    val balance get() = _balance\n\n    operator fun plusAssign(other: UInt) {\n        _balance += other\n    }\n}\n\n@ExperimentalUnsignedTypes\nclass GiftCard(\n    val number: String,\n    val pin: String,\n    private var _status: Status,\n    private var _balance: UInt\n) {\n    val status get() = _status\n    val balance get() = _balance\n\n    fun close() {\n        _status = Status.CLOSED\n        _balance = 0u\n    }\n}\n\n@ExperimentalUnsignedTypes\nclass Main(val accounts: List&lt;Account&gt;, val giftCards: List&lt;GiftCard&gt;) {\n    fun closeCard(cardNumber: String, pin: String) =\n        giftCards.find { it.number == cardNumber }?.let {\n            (it.pin == pin).andAlso {\n                accounts.forEach { a -&gt; a += it.balance }\n                it.close()\n            }\n        }\n}\n\ninline fun Boolean.andAlso(action: () -&gt; Unit): Boolean {\n    if (this) action()\n    return this\n}\n</code></pre>\n\n<p>We change the return type from <code>Pair&lt;Boolean, Boolean&gt;</code> to a more idiomatic <code>Boolean?</code> where <code>Null</code> means that we did not find anything (literally the true meaning of <code>Null</code>), <code>false</code> that the PIN did not match, and <code>true</code> that the gift card was closed. We are not creating a pair anymore and thus avoid the additional object allocation.</p>\n\n<p>The <code>Boolean.andAlso()</code> is a handy extension function that I generally keep handy, it is like <code>Any.also()</code> from Kotlin\u2019s STD but only executes the <code>action</code> if the <code>Boolean</code> is actually <code>true</code>.</p>\n"}], "owner": {"reputation": 146, "user_id": 10653586, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-feBqb1GdhBA/AAAAAAAAAAI/AAAAAAAAAB4/4BPIrdk2DGE/photo.jpg?sz=128", "display_name": "Shaheen Ahamed S", "link": "https://stackoverflow.com/users/10653586/shaheen-ahamed-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 56571564, "answer_count": 2, "score": 0, "last_activity_date": 1560382087, "creation_date": 1560363619, "last_edit_date": 1560363983, "question_id": 56568224, "link": "https://stackoverflow.com/questions/56568224/replacing-for-loops-for-searching-list-in-kotlin", "title": "Replacing for loops for searching list in kotlin", "body": "<p>I am trying to convert my code as clean as possible using the <code>Kotlin's built-in</code> functions. I have done some part of the code using <code>for loops</code>. But I want to know the efficient built-in functions to be used for this application</p>\n\n<p>I have two <code>array lists</code> <code>accounts</code> and <code>cards</code>. \nMy goal is to <code>search</code> a specific card with the help of its <code>card-number</code>, in the array list named cards.\nThen I have to <code>validate the pin</code>. If the pin is <code>correct</code>, by getting that <code>gift card's</code> <code>customerId</code> I have to <code>search</code> the <code>account</code> in the <code>array list</code> named <code>accounts</code>. Then I have to <code>update</code> the <code>balance</code> of the <code>account</code>.</p>\n\n<p>These are the class which I have used</p>\n\n<pre><code>class Account{\n    constructor( )\n    var id : String = generateAccountNumber()\n    var name: String? = null\n        set(name) = if (name != null) field = name.toUpperCase() else { field = \"Unknown User\"; println(\"invalid details\\nAccount is not Created\");}\n    var balance : Double = 0.0\n        set(balance) = if (balance &gt;= 0) field = balance else { field = 0.0 }\n    constructor(id: String = generateAccountNumber(), name: String?,balance: Double) {\n        this.id = id\n        this.balance = balance\n        this.name = name\n    }\n}\n\nclass GiftCard {\n    constructor( )\n    var cardNumber : String = generateCardNumber()\n    var pin: String? = null\n        set(pin) = if (pin != null) field = pin else { field = \"Unknown User\"; println(\"Please set the pin\\nCard is not Created\");}\n    var customerId : String = \"\"\n        set(customerId) = if (customerId != \"\") field = customerId else { field = \"\" }\n    var cardBalance : Double = 0.0\n        set(cardBalance) = if (cardBalance &gt; 0) field = cardBalance else { field = 0.0; println(\"Card is created with zero balance\\nPlease deposit\") }\n    var status = Status.ACTIVE\n    constructor(cardNumber: String = generateCardNumber(),\n                pin: String,\n                customerId: String,\n                cardBalance: Double = 0.0,\n                status: Status = Status.ACTIVE){\n        this.cardNumber = cardNumber\n        this.pin = pin\n        this.customerId = customerId\n        this.cardBalance = cardBalance\n        this.status = status\n    }\n}\n</code></pre>\n\n<p>This is the part of code, I have to be changed :</p>\n\n<pre><code>\noverride fun closeCard(cardNumber: String, pin: String): Pair&lt;Boolean, Boolean&gt; {\n        for (giftcard in giftcards) {\n            if (giftcard.cardNumber == cardNumber) {\n                if (giftcard.pin == pin) {\n                    giftcard.status = Status.CLOSED\n                    for (account in accounts)\n                        account.balance = account.balance + giftcard.cardBalance\n                    giftcard.cardBalance = 0.0\n                    return Pair(true,true)\n                }\n                \\\\invalid pin\n                return Pair(true,false)\n            }\n        }\n        \\\\card is not present\n        return Pair(false,false)\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 1, "creation_date": 1560368124, "post_id": 56567743, "comment_id": 99717554, "body": "Regarding your second question (the line <code>button(element?.toString() ?: index.toString())</code>), I&#39;m having a little trouble interpreting the following paragraphs. Have you tried <code>button(element ?: index.toString())</code>? It sort of sounds like you have, but that it didn&#39;t work for you... and it should work."}], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 2569709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28228dd27493c55b79f55dfbf4c52865?s=128&d=identicon&r=PG", "display_name": "JCN", "link": "https://stackoverflow.com/users/2569709/jcn"}, "edited": false, "score": 0, "creation_date": 1560374198, "post_id": 56569065, "comment_id": 99719922, "body": "Thank you! Looks like I got so mixed up in Kotlin world I stumbled over some CS101 stuff. Your code worked perfectly. Though I don&#39;t understand what you mean by running the app using a main method. I honestly don&#39;t know how I am supposed to run this app anyway. I am just clicking the little Tornado icon that appears in the IDE."}, {"owner": {"reputation": 146, "user_id": 11630173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wr4Ic.png?s=128&g=1", "display_name": "Bergin", "link": "https://stackoverflow.com/users/11630173/bergin"}, "reply_to_user": {"reputation": 379, "user_id": 2569709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28228dd27493c55b79f55dfbf4c52865?s=128&d=identicon&r=PG", "display_name": "JCN", "link": "https://stackoverflow.com/users/2569709/jcn"}, "edited": false, "score": 1, "creation_date": 1560428519, "post_id": 56569065, "comment_id": 99738485, "body": "Ah I see. Well if you add the &quot;main&quot; code section as a top-level function somewhere (e.g. in a main.kt file) IDEA will add the green &quot;play&quot; button in your icon gutter next to the method. From here you can start the application. As for what is the idiomatic way to start a TornadoFX app I&#39;m afraid I don&#39;t know!"}], "tags": [], "owner": {"reputation": 146, "user_id": 11630173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wr4Ic.png?s=128&g=1", "display_name": "Bergin", "link": "https://stackoverflow.com/users/11630173/bergin"}, "is_accepted": true, "score": 2, "last_activity_date": 1560373194, "last_edit_date": 1560373194, "creation_date": 1560367332, "answer_id": 56569065, "question_id": 56567743, "link": "https://stackoverflow.com/questions/56567743/some-basic-questions-about-kotlin/56569065#56569065", "title": "Some basic questions about Kotlin", "body": "<p>Your init function is working, you can confirm this by changing the initialisation of entry 20, 7 or 14 to a letter and you should see a letter appear when you next run it.</p>\n\n<p>As for your main issue, the reason you are seeing 20, 7 and then 14 is because in this section:</p>\n\n<pre><code>if (index == 0 || index % 7 == 0) {\n    row {\n        button(element?.toString() ?: index.toString()) {\n            useMaxWidth = true\n            gridpaneConstraints {\n                marginBottom = 10.0\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>You are adding a row with a single button, these buttons will be 0, 7 and 14 (since they are all == 0 % 7). This means you'll only ever add three rows, each with one button on. You might be confused as to why it says 20 instead of 0... Well this is because the next section:</p>\n\n<pre><code>else {\n    button(element?.toString() ?: index.toString()) {\n        useMaxWidth = true\n        gridpaneConstraints {\n            marginBottom = 10.0\n        }\n    }\n}\n</code></pre>\n\n<p>Is also adding buttons, but not onto any row (notice how these buttons aren't inside a row { } lambda). This means all these buttons will get added to the gridpane on top of eachother, including that first 0 button. The last button to be added is 20, hence why you see 20, it is covering the 0!</p>\n\n<p>Here's an example of how to approach this problem:</p>\n\n<pre><code>val rowSize = 7\nval rows = knownLetters.toList().chunked(rowSize)\nrows.forEachIndexed { rowIndex, elements -&gt;\n    row {\n        elements.forEachIndexed { buttonIndex, element -&gt;\n            val displayIndex = rowSize * rowIndex + buttonIndex\n            button(\"${element ?: displayIndex}\") {\n                useMaxWidth = true\n                gridpaneConstraints {\n                    marginBottom = 10.0\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This takes the Kotlin libraries' \"chunked\" method to divide your 21 size array into three lists of size 7. You can then loop through (you do have to piece back together the display index with this approach) creating a new row for each list (3 lists makes 3 rows), whilst creating your buttons in a nested loop inside the row's lambda.</p>\n\n<p>The key thing to take away here is that not all your buttons are being added within a row { } lambda.</p>\n\n<p>As for the double process issue, I do not have this issue if I run the app using a main method like so:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    launch&lt;InteractiveClientApp&gt;(args)\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 379, "user_id": 2569709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28228dd27493c55b79f55dfbf4c52865?s=128&d=identicon&r=PG", "display_name": "JCN", "link": "https://stackoverflow.com/users/2569709/jcn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 56569065, "answer_count": 1, "score": 1, "last_activity_date": 1560373194, "creation_date": 1560361476, "question_id": 56567743, "link": "https://stackoverflow.com/questions/56567743/some-basic-questions-about-kotlin", "title": "Some basic questions about Kotlin", "body": "<p>I am trying to learn Kotlin and TornadoFX, and I am working from <a href=\"https://github.com/illingtonFlex/deduce-client-interactive\" rel=\"nofollow noreferrer\">this repository</a></p>\n\n<p>The idea currently is that the app will show three rows of 7 buttons. Each button represents a letter which is either known or unknown. If the letter is known, it is displayed on the button. If the letter is unknown, the button displays the index (0-20).</p>\n\n<p>I did this by creating (using Java thinking I'm sure) a global array with 21 elements. Each element starts out null. I defined this in the main app, using the companion construct:</p>\n\n<pre><code>class InteractiveClientApp : App(MainView::class) {\n    companion object {\n        var knownLetters = arrayOfNulls&lt;String&gt;(21)\n    }\n</code></pre>\n\n<p>Then in the App constructor, I initialized a few random elements with values, just to see if this would work (it doesn't).</p>\n\n<pre><code>override fun init() {\n    knownLetters[4] = \"T\"\n    knownLetters[9] = \"G\"\n    knownLetters[17] = \"Z\"\n}\n</code></pre>\n\n<p>Then in the LettersGridView I use forEachIndexed on the knownLetters array, so I would have access to the element from the array and the index for it.</p>\n\n<pre><code>import jcn.deduce.client.InteractiveClientApp.Companion.knownLetters\n\n\nclass LettersGridView : View() {\n    override val root = gridpane {\n\n            knownLetters.forEachIndexed { index, element -&gt;\n\n                if (index == 0 || index % 7 == 0) {\n                    row {\n                        button(element?.toString() ?: index.toString()) {\n                            useMaxWidth = true\n                            gridpaneConstraints {\n                                marginBottom = 10.0\n                            }\n                        }\n                    }\n                } else {\n                    button(element?.toString() ?: index.toString()) {\n                        useMaxWidth = true\n                        gridpaneConstraints {\n                            marginBottom = 10.0\n                        }\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Whats actually happening is three buttons appear instead of the expected 21, and the value on the button is always the index, never a letter value. Also the indexes shown are 20, 7 and 14. Not the three I used when setting elements in the array. So I am missing something there.</p>\n\n<p>Also I think I am not understanding this bit correctly:</p>\n\n<pre><code> button(element?.toString() ?: index.toString()) {\n                        useMaxWidth = true\n                        gridpaneConstraints {\n                            marginBottom = 10.0\n                        }\n                    }\n</code></pre>\n\n<p>What I am trying to say there is \"If the element value is not null, use the element value, otherwise use the string value of index. This isn't working, because the buttons only ever have indexes on them, never letters.</p>\n\n<p>I notice if I leave off the .toString() on element, I get an error that button expects String, not string?. Which seems somewhat similar to Java and String vs Optional &lt; String >. However, when I add the toString(), I get an IDE warning that the toString() is redundant.</p>\n\n<p>If I take off the trailing ? altogether, I get a clean compile, but still only three buttons render, and their labels are index, not element. </p>\n\n<p>So I am pretty sure I got lost somewhere along the way, can anyone explain why my program isn't working?</p>\n\n<p>Also, when I am debugging the app, I always wind up with two processes. I don't understand why, but this is what IntelliJ looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AQnnf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQnnf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is this normal?</p>\n"}, {"tags": ["php", "arrays", "kotlin"], "comments": [{"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1560360582, "post_id": 56567542, "comment_id": 99714262, "body": "Encode to json and decode."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1560361693, "post_id": 56567542, "comment_id": 99714777, "body": "you don&#39;t want to do that in kotlin"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1560361975, "creation_date": 1560361975, "answer_id": 56567863, "question_id": 56567542, "link": "https://stackoverflow.com/questions/56567542/convert-an-array-from-php-to-kotlin/56567863#56567863", "title": "convert an array from Php to kotlin", "body": "<p>In Kotlin we want to use typesafe data structures. Rather than using poorly typed associative arrays, you can abstract the data in a proper class:</p>\n\n<pre><code>data class WhatEver(val id: String, val position: Pair&lt;Int, Int&gt;)\n\nWhatEver(\"123\", Pair(23,5)) //WhatEver(id=123, position=(23, 5))\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11554855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vCgSb.jpg?s=128&g=1", "display_name": "saeed-pasa", "link": "https://stackoverflow.com/users/11554855/saeed-pasa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1560361975, "creation_date": 1560360541, "question_id": 56567542, "link": "https://stackoverflow.com/questions/56567542/convert-an-array-from-php-to-kotlin", "title": "convert an array from Php to kotlin", "body": "<p>I have this array in PHP and I want to convert it to kotlin. in kotlin there is set, list and map but none of them not work to my purpose. how can I do that?\n(sometimes my value is Int and sometimes is an array that holds two Int)</p>\n\n<pre><code>$tes = array(\"position\"=&gt;[23,5], \"id\"=&gt;\"123\");\nvar_dump($tes);\n\n//array(2) {\n//  [\"position\"]=&gt;\n//  array(2) {\n//    [0]=&gt;\n//    int(23)\n//   [1]=&gt;\n//    int(5)\n//  }\n//  [\"id\"]=&gt;\n//  string(3) \"123\"\n//}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dependency-injection", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11524988, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0INoqeUr340/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc8TMGg4jrOyvmlWIInYcf47Esb-g/mo/photo.jpg?sz=128", "display_name": "Evgenii", "link": "https://stackoverflow.com/users/11524988/evgenii"}, "edited": false, "score": 0, "creation_date": 1560368146, "post_id": 56568095, "comment_id": 99717569, "body": "But a few years later, the same wise man said: &#171;\u200eI was half right. You need to target the annotation at the field by using @field:Named. But that didn&#39;t solve his problem.&#187;\u200e"}, {"owner": {"reputation": 55, "user_id": 11524988, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0INoqeUr340/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc8TMGg4jrOyvmlWIInYcf47Esb-g/mo/photo.jpg?sz=128", "display_name": "Evgenii", "link": "https://stackoverflow.com/users/11524988/evgenii"}, "edited": false, "score": 1, "creation_date": 1560488637, "post_id": 56568095, "comment_id": 99760406, "body": "But a few second after he said:&#171;\u200eNo, it will solve his problem.&#187;\u200e"}], "tags": [], "owner": {"reputation": 1972, "user_id": 5842844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nL63Q.png?s=128&g=1", "display_name": "jbarat", "link": "https://stackoverflow.com/users/5842844/jbarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1560363061, "creation_date": 1560363061, "answer_id": 56568095, "question_id": 56567317, "link": "https://stackoverflow.com/questions/56567317/dagger-2-cicerone-kotlin-inject-problem/56568095#56568095", "title": "Dagger 2, Cicerone, Kotlin - inject problem", "body": "<p>As a very wise man said once: <code>You need to target the annotation at the field by using @field:Named.</code></p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 9658278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alexey Lariushkin", "link": "https://stackoverflow.com/users/9658278/alexey-lariushkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1560452507, "creation_date": 1560452507, "answer_id": 56587035, "question_id": 56567317, "link": "https://stackoverflow.com/questions/56567317/dagger-2-cicerone-kotlin-inject-problem/56587035#56587035", "title": "Dagger 2, Cicerone, Kotlin - inject problem", "body": "<p>You can try to use custom qualifiers:</p>\n\n<pre><code>@Qualifier\n@Retention\nannotation class RouterFirstLevel\n</code></pre>\n\n<p>then your module:</p>\n\n<pre><code>@Provides\n@Singleton\n@RouterFirstLevel\nfun provideFirstLevelRouter(): Router = firstLevelNavigation.router\n</code></pre>\n\n<p>and activity:</p>\n\n<pre><code>@Inject\n@RouterFirstLevel\nlateinit var mRouter: Router\n</code></pre>\n\n<p>P.S. I agree with jbarat though, field in annotation should have helped, try to use string instead of string constants, maybe some type mismatch</p>\n"}], "owner": {"reputation": 55, "user_id": 11524988, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0INoqeUr340/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc8TMGg4jrOyvmlWIInYcf47Esb-g/mo/photo.jpg?sz=128", "display_name": "Evgenii", "link": "https://stackoverflow.com/users/11524988/evgenii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 593, "favorite_count": 0, "accepted_answer_id": 56568095, "answer_count": 2, "score": 2, "last_activity_date": 1566657896, "creation_date": 1560359544, "last_edit_date": 1566657896, "question_id": 56567317, "link": "https://stackoverflow.com/questions/56567317/dagger-2-cicerone-kotlin-inject-problem", "title": "Dagger 2, Cicerone, Kotlin - inject problem", "body": "<p>This code works perfectly in Java, but has an undefined problem in Kotlin</p>\n\n<p><strong>Problem</strong>: </p>\n\n<blockquote>\n  <p>error: [Dagger/MissingBinding] ru.terrakok.cicerone.Router cannot be provided without an @Inject constructor or an @Provides-annotated method.\n      public abstract void inject(@org.jetbrains.annotations.NotNull()</p>\n  \n  <p>ru.terrakok.cicerone.Router is injected at\n            com.setname.dagger2ciceronelearning.presentation.main.MainActivity.mRouter</p>\n  \n  <p>com.setname.dagger2ciceronelearning.presentation.main.MainActivity is injected at\n            com.setname.dagger2ciceronelearning.di.AppComponent.inject(com.setname.dagger2ciceronelearning.presentation.main.MainActivity)</p>\n</blockquote>\n\n<p><strong>AppComponent</strong></p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(NavigationModule::class))\ninterface AppComponent {\n\n    fun inject(mainActivity: MainActivity)\n    fun inject(fragmentOne: FragmentOne)\n    fun inject(fragmentTwo: FragmentTwo)\n\n}\n</code></pre>\n\n<p><strong>NavigationModule</strong></p>\n\n<pre><code>@Module\nclass NavigationModule {\n\n    private val firstLevelNavigation: Cicerone&lt;Router&gt; = Cicerone.create()\n    private val secondLevelNavigation: Cicerone&lt;Router&gt; = Cicerone.create()\n\n    @Provides\n    @Singleton\n    @Named(Navigation.ROUTER_FIRST_LEVEL)\n    fun provideFirstLevelRouter(): Router = firstLevelNavigation.router\n\n    @Provides\n    @Singleton\n    @Named(Navigation.ROUTER_SECOND_LEVEL)\n    fun provideSecondLevelRouter(): Router = secondLevelNavigation.router\n\n    @Provides\n    @Singleton\n    @Named(Navigation.NAV_HOLDER_FIRST_LEVEL)\n    fun provideFirstLevelNavigatorHolder(): NavigatorHolder = firstLevelNavigation.navigatorHolder\n\n\n    @Provides\n    @Singleton\n    @Named(Navigation.NAV_HOLDER_SECOND_LEVEL)\n    fun provideSecondLevelNavigationHolder(): NavigatorHolder = secondLevelNavigation.navigatorHolder\n\n}\n</code></pre>\n\n<p><strong>LearingApp</strong></p>\n\n<pre><code>class LearningApp : Application() {\n\n    companion object {\n\n        lateinit var appComponent: AppComponent\n\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        appComponent = DaggerAppComponent\n            .builder()\n            .build()\n    }\n\n}\n</code></pre>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    @Inject\n    @Named(Navigation.ROUTER_FIRST_LEVEL)\n    lateinit var mRouter: Router\n\n    @Inject\n    @Named(Navigation.NAV_HOLDER_FIRST_LEVEL)\n    lateinit var mNavigatorHolder: NavigatorHolder\n\n    private lateinit var mNavigator:Navigator\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        LearningApp.appComponent.inject(this)\n\n        mNavigator = SupportAppNavigator(this, R.id.main_container)\n\n        mRouter.newRootScreen(Screens.FragmentOneScreen())\n\n    }\n\n    override fun onResume() {\n        super.onResume()\n        mNavigatorHolder.setNavigator(mNavigator)\n    }\n\n    override fun onPause() {\n        mNavigatorHolder.removeNavigator()\n        super.onPause()\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1560358419, "post_id": 56566965, "comment_id": 99713293, "body": "No, it is not a typo. <code>R.drawable.*</code> are all <code>Int</code>s. They are also annotated with <code>@DrawableRes</code>."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11407671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baf6152a4a59ff385fee01a9e76a3b3b?s=128&d=identicon&r=PG&f=1", "display_name": "unintentionallyborn", "link": "https://stackoverflow.com/users/11407671/unintentionallyborn"}, "edited": false, "score": 0, "creation_date": 1560359092, "post_id": 56567059, "comment_id": 99713643, "body": "That makes perfect sense, thank you very much for clarifying!"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1560358536, "creation_date": 1560358536, "answer_id": 56567059, "question_id": 56566965, "link": "https://stackoverflow.com/questions/56566965/confused-about-returning-a-when-statement/56567059#56567059", "title": "Confused about returning a when statement", "body": "<blockquote>\n  <p>getRandomDiceImage() is type Int, but it seems like the function is returning an ImageView.</p>\n</blockquote>\n\n<p>No, it is returning an <code>images resource identifier</code>, which are <code>@DrawableRes int</code>, such as <code>R.drawable.dice_1</code> and so on.</p>\n\n<blockquote>\n  <p><code>diceImage.setImageResource(getRandomDiceImage())</code></p>\n</blockquote>\n\n<p>The trick is that <code>setImageResource(</code> expects an <code>int</code> value (that is annotated with <code>@DrawableRes</code> to ensure that it is actually a drawable resource), based on that the ImageView will load the bitmap resource that the drawable identifier refers to.</p>\n"}, {"tags": [], "owner": {"reputation": 867, "user_id": 4233693, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/adf131751fe3c0c58138d86c31d1080a?s=128&d=identicon&r=PG", "display_name": "Stanislaw Baranski", "link": "https://stackoverflow.com/users/4233693/stanislaw-baranski"}, "is_accepted": false, "score": 1, "last_activity_date": 1560359011, "creation_date": 1560359011, "answer_id": 56567193, "question_id": 56566965, "link": "https://stackoverflow.com/questions/56566965/confused-about-returning-a-when-statement/56567193#56567193", "title": "Confused about returning a when statement", "body": "<p>The type of <code>R.drawable.dice_1</code> is actually <code>Int</code>, not <code>ImageView</code>. \n<code>R</code> is a static class, that holds resource ids (of type <code>Int</code>).\nYou can check the real value of the <code>R.drawable.dice_1</code> by pressing cmd (macOS) or ctrl (Windows) and placing cursor on the <code>dice_1</code> and you will see, <code>public static final int dice_1 = some_random_number</code> this some_random_number is the id assigned to the drawable (image) resource during the building process.</p>\n\n<p>So your function <code>getRandomDiceImage() : Int</code> indeed return <code>Int</code> type.\nAnd the <code>diceImage.setImageResource(getRandomDiceImage())</code> indeed takes id to the drawable as an argument.</p>\n"}, {"tags": [], "owner": {"reputation": 3111, "user_id": 7337723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/edc61b04a0c7e1160cd7227987874927?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Shandilya", "link": "https://stackoverflow.com/users/7337723/kartik-shandilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1560359473, "creation_date": 1560359473, "answer_id": 56567300, "question_id": 56566965, "link": "https://stackoverflow.com/questions/56566965/confused-about-returning-a-when-statement/56567300#56567300", "title": "Confused about returning a when statement", "body": "<p>Firstly, you are using the function to determine which dice image you'll use based on the random number being generated. Note that when can also be used either as an expression or as a statement.</p>\n\n<pre><code>val drawableResource = when (randomInt) {\n    1 -&gt; R.drawable.dice_1\n    2 -&gt; R.drawable.dice_2\n    3 -&gt; R.drawable.dice_3\n    4 -&gt; R.drawable.dice_4\n    5 -&gt; R.drawable.dice_5\n    else -&gt; R.drawable.dice_6\n}\n\ndiceImage.setImageResource(drawableResource)\n</code></pre>\n\n<p>The <a href=\"https://developer.android.com/reference/android/widget/ImageView#setImageResource(int)\" rel=\"nofollow noreferrer\">setImageResource</a> expects an <code>int resId</code> which you are passing through the when expression.</p>\n"}], "owner": {"reputation": 13, "user_id": 11407671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baf6152a4a59ff385fee01a9e76a3b3b?s=128&d=identicon&r=PG&f=1", "display_name": "unintentionallyborn", "link": "https://stackoverflow.com/users/11407671/unintentionallyborn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 56567059, "answer_count": 3, "score": 1, "last_activity_date": 1560359473, "creation_date": 1560358122, "last_edit_date": 1560358422, "question_id": 56566965, "link": "https://stackoverflow.com/questions/56566965/confused-about-returning-a-when-statement", "title": "Confused about returning a when statement", "body": "<p>I'm going through Google's Android codelabs building a dice roller app and am a bit confused on how the return type of my function getRandomDiceImage() is type Int, but it seems like the function is returning an ImageView. </p>\n\n<p>I understand getting a random integer and storing it in randomInt, and I get switch statements like in standard C languages. Converting that randomInt to an R.drawable.image is throwing me off though.</p>\n\n<pre><code>private fun getRandomDiceImage(): Int {\n    val randomInt = Random().nextInt(6) + 1\n\n    return when (randomInt) {\n        1 -&gt; R.drawable.dice_1\n        2 -&gt; R.drawable.dice_2\n        3 -&gt; R.drawable.dice_3\n        4 -&gt; R.drawable.dice_4\n        5 -&gt; R.drawable.dice_5\n        else -&gt; R.drawable.dice_6\n    }\n\n}\n\nprivate fun rollDice() {\n    diceImage.setImageResource(getRandomDiceImage())\n    diceImage2.setImageResource(getRandomDiceImage())\n}\n</code></pre>\n"}, {"tags": ["android", "mvvm", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 991, "user_id": 987760, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f8043c523694141e8308ef2ef13cec43?s=128&d=identicon&r=PG", "display_name": "user987760", "link": "https://stackoverflow.com/users/987760/user987760"}, "edited": false, "score": 0, "creation_date": 1560410512, "post_id": 56566887, "comment_id": 99728631, "body": "Nothing was wrong with the viewModel. the issue was from adapter.notifyDataSetChanged()"}, {"owner": {"reputation": 127, "user_id": 1936826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73602b0f889a78a2c9275f2dfba6518d?s=128&d=identicon&r=PG", "display_name": "adrem7", "link": "https://stackoverflow.com/users/1936826/adrem7"}, "edited": false, "score": 0, "creation_date": 1581877603, "post_id": 56566887, "comment_id": 106574866, "body": "what was your fix? I think I am having a similar issue..."}], "answers": [{"comments": [{"owner": {"reputation": 991, "user_id": 987760, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f8043c523694141e8308ef2ef13cec43?s=128&d=identicon&r=PG", "display_name": "user987760", "link": "https://stackoverflow.com/users/987760/user987760"}, "edited": false, "score": 0, "creation_date": 1560410470, "post_id": 56570110, "comment_id": 99728608, "body": "the error has nothing to do with the viewModel :S  I have removed <i>adapter.notifyDataSetChanged()</i> from the list?.let  and it worked and the list got populated  . what do i have wrong with my adapter ? do i have something wrong with it instance ?"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "reply_to_user": {"reputation": 991, "user_id": 987760, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f8043c523694141e8308ef2ef13cec43?s=128&d=identicon&r=PG", "display_name": "user987760", "link": "https://stackoverflow.com/users/987760/user987760"}, "edited": false, "score": 0, "creation_date": 1560454349, "post_id": 56570110, "comment_id": 99752733, "body": "That exception you posted certainly does nothing to do with the adapter. The next thing is that you never assign a <code>lateinit var adapter</code> in your code. You were probably getting <code>UninitializedPropertyException</code> because inside <code>recyclerView.apply</code> you are setting rv&#39;s <code>adapter</code> not your lateinit property."}], "tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": false, "score": 0, "last_activity_date": 1560372295, "creation_date": 1560372295, "answer_id": 56570110, "question_id": 56566887, "link": "https://stackoverflow.com/questions/56566887/kotling-android-java-lang-classcastexception-java-lang-class-cannot-be-ca/56570110#56570110", "title": "Kotling :: Android :: java.lang.ClassCastException: java.lang.Class cannot be cast to androidx.lifecycle.ViewModel", "body": "<p>In my opinion, your <code>viewModel</code> property, which you try to access in <code>viewModel.homeLiveData</code> is shadowed by <code>getViewModel()</code> abstract function that you declare in <code>BaseActivity</code>. This is because Kotlin thinks that <code>getXyZ()</code> is a getter for the field <code>xyZ</code> and thus when you access <code>viewModel</code>, the compiler thinks you want to call <code>getViewModel</code>, which is of type <code>Class&lt;V&gt;</code>. I suggest renaming either the function or the property and it should work then.</p>\n"}], "owner": {"reputation": 991, "user_id": 987760, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f8043c523694141e8308ef2ef13cec43?s=128&d=identicon&r=PG", "display_name": "user987760", "link": "https://stackoverflow.com/users/987760/user987760"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1544, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560372295, "creation_date": 1560357707, "question_id": 56566887, "link": "https://stackoverflow.com/questions/56566887/kotling-android-java-lang-classcastexception-java-lang-class-cannot-be-ca", "title": "Kotling :: Android :: java.lang.ClassCastException: java.lang.Class cannot be cast to androidx.lifecycle.ViewModel", "body": "<p>I am getting an exception in the first line of the code below </p>\n\n<pre><code>viewModel.homeLiveData.observe(this, Observer { list -&gt;\n\n        list?.let {\n            mList.addAll(list)\n            adapter.notifyDataSetChanged()\n        }\n    })\n</code></pre>\n\n<blockquote>\n  <p>java.lang.ClassCastException: java.lang.Class cannot be cast to androidx.lifecycle.ViewModel</p>\n</blockquote>\n\n<p>The Whole code is Below</p>\n\n<p>what is wrong with the cast ? is there anything wrong of I am creating my ViewModel?</p>\n\n<p>My BaseActivity </p>\n\n<pre><code>  abstract class BaseActivity&lt;V : ViewModel&gt; : DaggerAppCompatActivity(), HasSupportFragmentInjector {\n\n    @Inject\n    lateinit var fragmentAndroidInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\n    @Inject\n    lateinit var viewModelFactory: ViewModelProvider.Factory\n\n    @LayoutRes\n    abstract fun layoutRes(): Int\n\n    protected lateinit var viewModel : V\n\n    protected abstract fun getViewModel() : Class&lt;V&gt;\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        val id = item.itemId\n        if (id == android.R.id.home)\n            onBackPressed()\n\n        return super.onOptionsItemSelected(item)\n    }\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n        setContentView(layoutRes())\n        viewModel = ViewModelProviders.of(this, viewModelFactory).get(getViewModel())\n    }\n\n    override fun supportFragmentInjector(): AndroidInjector&lt;Fragment&gt; = fragmentAndroidInjector\n}\n</code></pre>\n\n<p>then My Activity </p>\n\n<pre><code>class MainActivity : BaseActivity&lt;MainViewModel&gt;() {\n\n\noverride fun layoutRes(): Int = R.layout.activity_main\n\noverride fun getViewModel(): Class&lt;MainViewModel&gt; = MainViewModel::class.java\n\nprivate val mList = mutableListOf&lt;Any&gt;()\n\nprivate lateinit var adapter: DataAdapter\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n   // setSupportActionBar(toolbar)\n\n    recyclerView.apply {\n        layoutManager = GridLayoutManager(applicationContext, 2)\n        adapter = DataAdapter(context, mList)\n\n    }\n\n    viewModel.homeLiveData.observe(this, Observer { list -&gt;\n\n        list?.let {\n            mList.addAll(list)\n            adapter.notifyDataSetChanged()\n        }\n    })\n\n    viewModel.getHomeItems()\n\n\n}\n</code></pre>\n\n<p>and this is my ViewModel </p>\n\n<pre><code>class MainViewModel @Inject constructor() : ViewModel() {\n\n\nval homeLiveData: MutableLiveData&lt;List&lt;HomeScreenModel&gt;&gt; = MutableLiveData()\n\n\nfun getHomeItems() {\n\n    Handler().post {\n\n        val homeModleList = listOf(\n            HomeScreenModel(R.drawable.ic_launcher_background, MyApplication.instance.getString(R.string.settings))\n        )\n\n        homeLiveData.setValue(homeModleList)\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "oop", "kotlin", "generic-programming"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1560360373, "post_id": 56566860, "comment_id": 99714177, "body": "Do you mean <code>fun bark(): T</code>?"}, {"owner": {"reputation": 93, "user_id": 10694696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5db82573973b73dda58f6b502d127a?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitri Jacques", "link": "https://stackoverflow.com/users/10694696/dimitri-jacques"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1560362066, "post_id": 56566860, "comment_id": 99714934, "body": "it should. be in the form  override fun bark(): Class&lt;Rotwheiler&gt; = Rotwheiler::class.java"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1560362749, "post_id": 56566860, "comment_id": 99715261, "body": "Ok, then I&#39;m not really understanding the problem. I thought you wanted to return an instance like you do in <code>classInstance</code>, but it seems that you actually want to return the class of <code>T</code>. Is this correct?"}, {"owner": {"reputation": 93, "user_id": 10694696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5db82573973b73dda58f6b502d127a?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitri Jacques", "link": "https://stackoverflow.com/users/10694696/dimitri-jacques"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1560363687, "post_id": 56566860, "comment_id": 99715682, "body": "You are right, i must return class of T"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1560364370, "post_id": 56566860, "comment_id": 99715948, "body": "oh I see. I don&#39;t have enough knowledge to help you out. To the best of my knowledge, inside classes, you can&#39;t really have reified types which makes it tricky to return the class of <code>T</code>. Usually, we leave the method such as <code>bark</code> to be implemented by the final class at which point they know how to implement <code>bark</code>. I don&#39;t know of a generic way to do it."}, {"owner": {"reputation": 93, "user_id": 10694696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5db82573973b73dda58f6b502d127a?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitri Jacques", "link": "https://stackoverflow.com/users/10694696/dimitri-jacques"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 1, "creation_date": 1560365536, "post_id": 56566860, "comment_id": 99716446, "body": "I let the final class return the class type of bark in a project. But i wanted to eliminate that dependency as it is being assign in many places.  Thank you Fred for your input."}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1560366412, "post_id": 56566860, "comment_id": 99716806, "body": "Glad I could help. In any case, if all fails, you can always try the hacky <code>fun classOfT(): Class&lt;T&gt; = (javaClass.genericSuperclass as ParameterizedType).actualTypeArguments[0] as Class&lt;T&gt;</code>. This gives you the class of <code>T</code>, but I don&#39;t think it&#39;s the cleanest solution. It&#39;s the only way I know though."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1560376248, "post_id": 56566860, "comment_id": 99720528, "body": "Consider getting the <code>Class</code> object in the constructor of <code>Zoo</code>, and then potentially providing an <code>inline fun &lt;reified T&gt;</code> factory method for it."}], "owner": {"reputation": 93, "user_id": 10694696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca5db82573973b73dda58f6b502d127a?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitri Jacques", "link": "https://stackoverflow.com/users/10694696/dimitri-jacques"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560359681, "creation_date": 1560357594, "last_edit_date": 1560359681, "question_id": 56566860, "link": "https://stackoverflow.com/questions/56566860/referencing-the-instance-of-a-generic-type-t", "title": "Referencing the instance of a generic type T", "body": "<p>Is it possible to return the instance of Generic type T when Animal class override Zoo class? </p>\n\n<p><code>classInstance&lt;T&gt;() returns a type mismatch; required class&lt;T&gt; found T.</code></p>\n\n<pre><code>    private inline fun &lt;reified Eat : T&gt; classInstance(): Eat = Eat::class.java.newInstance()\n\n\n    abstract class Animal&lt;Result&gt; {\n\n        abstract fun bark(): Class&lt;Result&gt;\n\n    }\n\n    open class Zoo&lt;T&gt;(protected var listener: RequestListener&lt;T&gt;?) : Callback&lt;T&gt;, Animal&lt;T&gt;() {\n\n        override fun bark(): Class&lt;T&gt; = classInstance&lt;T&gt;()\n    }    \n</code></pre>\n\n<p><code>bark()</code> function will be use for the following purpose:</p>\n\n<p><code>Gson().fromJson(inputStreamReaderResult, bark())</code> where, <code>bark()</code> must be of type Class</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 8502, "user_id": 484293, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/70tBc.jpg?s=128&g=1", "display_name": "blubb", "link": "https://stackoverflow.com/users/484293/blubb"}, "edited": false, "score": 0, "creation_date": 1560367686, "post_id": 56565824, "comment_id": 99717349, "body": "Unrelated to your question: hashes may collide, so you probably want to use the url as key of the jobs map."}, {"owner": {"reputation": 478, "user_id": 1117509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a768c98e53a97a3260763de7a5d01883?s=128&d=identicon&r=PG", "display_name": "kroegerama", "link": "https://stackoverflow.com/users/1117509/kroegerama"}, "reply_to_user": {"reputation": 8502, "user_id": 484293, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/70tBc.jpg?s=128&g=1", "display_name": "blubb", "link": "https://stackoverflow.com/users/484293/blubb"}, "edited": false, "score": 0, "creation_date": 1560372502, "post_id": 56565824, "comment_id": 99719364, "body": "@blubb You are absolutely right. The default hash function from Java/Kotlin is far from good. In my use case collisions won&#39;t be a big deal, though. Also, I&#39;m using a <code>SparseArray&lt;Job&gt;</code> in my application, because <code>HashMap&lt;Int,...</code> is not very efficient."}], "owner": {"reputation": 478, "user_id": 1117509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a768c98e53a97a3260763de7a5d01883?s=128&d=identicon&r=PG", "display_name": "kroegerama", "link": "https://stackoverflow.com/users/1117509/kroegerama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560353676, "creation_date": 1560353676, "question_id": 56565824, "link": "https://stackoverflow.com/questions/56565824/kotlin-coroutines-how-lightweight-are-kotlin-job-objects-can-i-leave-finishe", "title": "Kotlin Coroutines: How lightweight are Kotlin Job() objects? Can I leave finished Jobs in a HashMap?", "body": "<p>I'm writing a simple class which can download images and write them to a cache. If one url is requested twice, any existing download job for this file should be cancelled.</p>\n\n<p>Can I just use a HashMap and store the running Jobs? Or will this produce memory leaks, if finished Jobs are still in the HashMap?</p>\n\n<p>Here are some snippets from my code:</p>\n\n<p><strong>HashMap:</strong></p>\n\n<pre><code>val jobs = HashMap&lt;Int, Job&gt;()\n</code></pre>\n\n<p><strong>Cache Fun:</strong></p>\n\n<pre><code>fun doCache(url: String) {\n    val hash = url.hashCode()\n    jobs[hash]?.cancel()\n    val job = Job()\n    jobs[jobTag] = job\n\n    val cached = File(cacheDir, \"img-$hash.dat\")\n    CoroutineScope(Dispatchers.IO + job).launch {\n        download(url, cached)\n    }\n}\n\n</code></pre>\n"}, {"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 600, "user_id": 4511489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5836ac85fbcc05160dcaf9d36b7a5434?s=128&d=identicon&r=PG&f=1", "display_name": "bhavya_karia", "link": "https://stackoverflow.com/users/4511489/bhavya-karia"}, "edited": false, "score": 0, "creation_date": 1560506618, "post_id": 56564209, "comment_id": 99768091, "body": "Why do you want to keep automatic adjustment on? Even if you somehow are able to set brightness in automatic mode, won&#39;t it get changed by sensor?"}, {"owner": {"reputation": 374, "user_id": 8037600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39fcec89edd3b823e4c0a0912d2854df?s=128&d=identicon&r=PG&f=1", "display_name": "Nemo", "link": "https://stackoverflow.com/users/8037600/nemo"}, "reply_to_user": {"reputation": 600, "user_id": 4511489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5836ac85fbcc05160dcaf9d36b7a5434?s=128&d=identicon&r=PG&f=1", "display_name": "bhavya_karia", "link": "https://stackoverflow.com/users/4511489/bhavya-karia"}, "edited": false, "score": 0, "creation_date": 1560614058, "post_id": 56564209, "comment_id": 99798685, "body": "It will be adapted to the ambient brightness but overall, the screen brightness will stay higher/lower. And I want to keep automatic adjustment on because the users of my app probably want to keep it on (the change is supposed to be permanent)"}], "answers": [{"tags": [], "owner": {"reputation": 620, "user_id": 10244606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evMt2.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/10244606/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1573455132, "creation_date": 1573455132, "answer_id": 58796750, "question_id": 56564209, "link": "https://stackoverflow.com/questions/56564209/how-to-programmatically-change-automatic-mode-screen-brightness/58796750#58796750", "title": "How to programmatically change &quot;automatic mode&quot; screen brightness?", "body": "<p>If you set brightness mode to automatic. then you need to stop automatic brightness adjustment before sets brightness. this code worked for me:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static void stopAutoBrightness(Activity activity) {\n          android.provider.Settings.System.putInt(activity.getContentResolver(),\n                  android.provider.Settings.System.SCREEN_BRIGHTNESS_MODE,\n                  android.provider.Settings.System.SCREEN_BRIGHTNESS_MODE_MANUAL);\n        }\n</code></pre>\n"}], "owner": {"reputation": 374, "user_id": 8037600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39fcec89edd3b823e4c0a0912d2854df?s=128&d=identicon&r=PG&f=1", "display_name": "Nemo", "link": "https://stackoverflow.com/users/8037600/nemo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573455132, "creation_date": 1560348605, "question_id": 56564209, "link": "https://stackoverflow.com/questions/56564209/how-to-programmatically-change-automatic-mode-screen-brightness", "title": "How to programmatically change &quot;automatic mode&quot; screen brightness?", "body": "<p>Apparently, Android saves two values for the screen brightness: One for automatic adjustment and one for manual mode (at least on Nougat). How do I change the one for automatic adjustment?</p>\n\n<p>If I change the screen brightness to 0 like this:</p>\n\n<pre><code>Settings.System.putInt(\n    context.contentResolver,\n    Settings.System.SCREEN_BRIGHTNESS, \n    0\n)\n</code></pre>\n\n<p>then the one for manual mode is changed. While automatic adjustment is on, this code does not produce any visible change.</p>\n\n<p>Here: <a href=\"https://stackoverflow.com/a/18312812\">https://stackoverflow.com/a/18312812</a> someone proposes to turn manual mode on first (<code>SCREEN_BRIGHTNESS_MODE_MANUAL</code>) but I want to keep automatic adjustment on.</p>\n"}, {"tags": ["android", "kotlin", "scrollview", "nestedscrollview"], "answers": [{"comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1560374032, "post_id": 56570404, "comment_id": 99719867, "body": "Note that this is potentially dangerous: if your layout is such that it&#39;s possible for the child scrollview to fill the screen, there will be no way to &quot;get out&quot; of the child scrollview."}, {"owner": {"reputation": 43, "user_id": 11636581, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--p8vrG7UVvQ/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNxA6I-SRuBXz2VkHaR64M2bwSQCw/mo/photo.jpg?sz=128", "display_name": "Deacon Frost", "link": "https://stackoverflow.com/users/11636581/deacon-frost"}, "edited": false, "score": 0, "creation_date": 1560450752, "post_id": 56570404, "comment_id": 99751170, "body": "Hello and thank you very much for your answer/suggestion. That sounds grounded even if i am surprised that there is no option for that. Of course your are right to point out the danger, that is why i have a right padding to make sure that i can use the outer scrolling."}, {"owner": {"reputation": 43, "user_id": 11636581, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--p8vrG7UVvQ/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNxA6I-SRuBXz2VkHaR64M2bwSQCw/mo/photo.jpg?sz=128", "display_name": "Deacon Frost", "link": "https://stackoverflow.com/users/11636581/deacon-frost"}, "edited": false, "score": 0, "creation_date": 1560450967, "post_id": 56570404, "comment_id": 99751296, "body": "I tried your answer, i pasted the code at the end of MainActivity.kt and tried to replace the outer scroll AND after that tried to replace the inner nested Scrolls with &quot;MyNestedScroll&quot; but the result is the same, the app closes instantly after starting. Any thoughts on why that could be?"}, {"owner": {"reputation": 43, "user_id": 11636581, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--p8vrG7UVvQ/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNxA6I-SRuBXz2VkHaR64M2bwSQCw/mo/photo.jpg?sz=128", "display_name": "Deacon Frost", "link": "https://stackoverflow.com/users/11636581/deacon-frost"}, "edited": false, "score": 0, "creation_date": 1560451527, "post_id": 56570404, "comment_id": 99751517, "body": "-&gt; IT WORKS, AWESOME! Thanks to Ben P.! The outer ScrollView has been replaced with my &quot;com.example.app05basic.MyNestedScrollView&quot;, my first try with just &quot;MyNestedScrollView&quot; does not work obviously :)"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "reply_to_user": {"reputation": 43, "user_id": 11636581, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--p8vrG7UVvQ/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNxA6I-SRuBXz2VkHaR64M2bwSQCw/mo/photo.jpg?sz=128", "display_name": "Deacon Frost", "link": "https://stackoverflow.com/users/11636581/deacon-frost"}, "edited": false, "score": 0, "creation_date": 1560451635, "post_id": 56570404, "comment_id": 99751577, "body": "Glad to help :)"}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1560373817, "creation_date": 1560373817, "answer_id": 56570404, "question_id": 56563814, "link": "https://stackoverflow.com/questions/56563814/how-do-i-deactivate-scrolling-the-parent-scrollview-if-the-nestedscrollview-ends/56570404#56570404", "title": "How do I deactivate scrolling the parent scrollview if the nestedscrollview ends?", "body": "<p>Out of the box, I believe this is not possible. However, you can create your own subclass of <code>NestedScrollView</code> and override <code>onNestedScroll()</code> and <code>onNestedFling()</code> to prevent the passing of \"unconsumed\" scroll values.</p>\n\n<pre><code>class MyNestedScrollView(context: Context, attrs: AttributeSet?) : NestedScrollView(context, attrs) {\n\n    override fun onNestedScroll(target: View, dxConsumed: Int, dyConsumed: Int, dxUnconsumed: Int, dyUnconsumed: Int, type: Int) {\n        super.onNestedScroll(target, dxConsumed, dyConsumed, 0, 0, type)\n    }\n\n    override fun onNestedFling(target: View, velocityX: Float, velocityY: Float, consumed: Boolean): Boolean {\n        return super.onNestedFling(target, velocityX, velocityY, true)\n    }\n}\n</code></pre>\n\n<p>In <code>onNestedScroll()</code> we're intercepting <code>dxUnconsumed</code> and <code>dyUnconsumed</code> and re-writing them to <code>0</code>. In <code>onNestedFling()</code> we're intercepting <code>consumed</code> and re-writing it to <code>true</code>.</p>\n\n<p>This makes the system think that the child has always consumed all of the scrolling, so the parent never scrolls in response to a child scroll that hits the boundaries.</p>\n\n<p>Now we just have to use this as the <strong>outer</strong> scrollview in our layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;com.example.stackoverflow.MyNestedScrollView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;!-- ... --&gt;\n\n        &lt;android.support.v4.widget.NestedScrollView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"your height here\"&gt;\n\n            &lt;!-- ... --&gt;\n\n        &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n        &lt;!-- ... --&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/com.example.playground.MyNestedScrollView&gt;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11636581, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--p8vrG7UVvQ/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNxA6I-SRuBXz2VkHaR64M2bwSQCw/mo/photo.jpg?sz=128", "display_name": "Deacon Frost", "link": "https://stackoverflow.com/users/11636581/deacon-frost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 56570404, "answer_count": 1, "score": 4, "last_activity_date": 1560373817, "creation_date": 1560347344, "last_edit_date": 1560347467, "question_id": 56563814, "link": "https://stackoverflow.com/questions/56563814/how-do-i-deactivate-scrolling-the-parent-scrollview-if-the-nestedscrollview-ends", "title": "How do I deactivate scrolling the parent scrollview if the nestedscrollview ends?", "body": "<p>I have a nestedscrollview inside a scrollview and it is working, but I do not want the behavior that if I scroll inside the nestedscrollview and I reach either the top or the bottom, that automatically the scroll keeps on going with the \"parent\" scrollview.\nI find that absolutely annoying.</p>\n\n<p>New App Project with basic activity and this content of content_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n        tools:showIn=\"@layout/activity_main\"\n        tools:context=\".MainActivity\"&gt;\n    &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"\n            android:layout_margin=\"5dp\"\n            android:background=\"@color/colorPrimary\"&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Root\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                android:layout_margin=\"5dp\"\n                android:background=\"@color/colorAccent\"/&gt;\n\n        &lt;ScrollView\n                android:id=\"@+id/scrollViewRoot\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:background=\"@android:color/holo_orange_dark\"\n                android:paddingRight=\"40dp\"&gt;\n            &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:orientation=\"vertical\"\n                    android:layout_margin=\"5dp\"\n                    android:background=\"@color/colorPrimary\"&gt;\n\n                &lt;TextView\n                        android:text=\"Nested1\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\" android:id=\"@+id/textViewNested1\"\n                        android:layout_margin=\"5dp\"\n                        android:background=\"@color/colorAccent\"/&gt;\n                &lt;androidx.core.widget.NestedScrollView\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"1000dp\" android:fillViewport=\"true\"\n                        android:background=\"@android:color/black\"&gt;\n                    &lt;LinearLayout android:layout_width=\"match_parent\"\n                                  android:layout_height=\"2000dp\"\n                                  android:orientation=\"vertical\"\n                                  android:layout_margin=\"5dp\"\n                                  android:background=\"@color/colorPrimaryDark\"&gt;\n                        &lt;TextView\n                                android:text=\"TextView\"\n                                android:layout_width=\"match_parent\"\n                                android:layout_height=\"1800dp\" android:id=\"@+id/textView3\"\n                                android:layout_margin=\"5dp\"\n                                android:background=\"@color/colorAccent\"\n                        /&gt;\n                    &lt;/LinearLayout&gt;\n                &lt;/androidx.core.widget.NestedScrollView&gt;\n                &lt;TextView\n                        android:text=\"Nested2\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\" android:id=\"@+id/textViewNested2\"\n                        android:layout_margin=\"5dp\"\n                        android:background=\"@color/colorAccent\"\n                /&gt;\n                &lt;androidx.core.widget.NestedScrollView\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"1000dp\" android:fillViewport=\"true\"\n\n                        android:background=\"@android:color/black\"&gt;\n                    &lt;LinearLayout android:layout_width=\"match_parent\"\n                                  android:layout_height=\"2000dp\"\n                                  android:orientation=\"vertical\"\n                                  android:layout_margin=\"5dp\"\n                                  android:background=\"@color/colorPrimaryDark\"&gt;\n                        &lt;TextView\n                                android:text=\"TextView\"\n                                android:layout_width=\"match_parent\"\n                                android:layout_height=\"1800dp\" android:id=\"@+id/textView4\"\n                                android:layout_margin=\"5dp\"\n                                android:background=\"@color/colorAccent\"\n                        /&gt;\n                    &lt;/LinearLayout&gt;\n                &lt;/androidx.core.widget.NestedScrollView&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/ScrollView&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>WRONG: scrolling inside nested can scroll the parent scrollview if top or bottom is reached.</p>\n\n<p>RIGHT: scrolling inside nested can NOT scroll the parent scrollview even if top or bottom is reached</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560348886, "post_id": 56563540, "comment_id": 99708092, "body": "what are you trying to achieve with that construct?"}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1560349373, "creation_date": 1560349373, "answer_id": 56564453, "question_id": 56563540, "link": "https://stackoverflow.com/questions/56563540/delegates-observable-for-anonymous-functions-in-kotlin/56564453#56564453", "title": "Delegates.observable for anonymous functions in kotlin?", "body": "<p>The second lambda will be invoked <em>when you set <code>delegatedProp</code></em>, i.e.</p>\n\n<pre><code>x.delegatedProp = { print(it) }\n</code></pre>\n\n<p>(<code>{ print(it) }</code> is just an example of something of type <code>(Int) -&gt; Unit</code>). And <code>newVal</code> will be the function you set the property to, in this case <code>{ print(it) }</code>. So it doesn't have an <code>.a</code>.</p>\n\n<p>If you want to do something when invoking <code>delegatedProp(10)</code>, you just... put those actions into the function:</p>\n\n<pre><code>val delegatedProp: (Int) -&gt; Unit = { a -&gt; /* do whatever you wanted to do with newVal.a */ }\n</code></pre>\n\n<p>If you want <code>delegatedProp</code> to be a <code>var</code>, but to keep doing your \"extra\" actions whatever it's assigned to, the easiest way may be a custom getter:</p>\n\n<pre><code>var delegatedProp: (Int) -&gt; Unit = { a -&gt; Unit }\n    get() = { a -&gt;\n        /* whatever you want to do with a */\n        field(a)\n    }\n</code></pre>\n\n<p>Or a setter: it wouldn't create a new lambda each time it's accessed, but either duplicates a bit of code or needs to be explicitly set at least once and not only initialized. </p>\n"}], "owner": {"reputation": 3504, "user_id": 1348423, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0707614048bf14d83a2e9cc01b36d6d6?s=128&d=identicon&r=PG", "display_name": "Muhammad Ahmed AbuTalib", "link": "https://stackoverflow.com/users/1348423/muhammad-ahmed-abutalib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56564453, "answer_count": 1, "score": 0, "last_activity_date": 1560349373, "creation_date": 1560346475, "question_id": 56563540, "link": "https://stackoverflow.com/questions/56563540/delegates-observable-for-anonymous-functions-in-kotlin", "title": "Delegates.observable for anonymous functions in kotlin?", "body": "<p>I am doing something weird but I have a fleeting feeling it should be possible.</p>\n\n<p>Is the below possible with Kotlin ? (It compiles but doesn't work)</p>\n\n<pre><code> var delegatedProp: (Int) -&gt; Unit by Delegates.observable({ a-&gt; Unit }) { _, _, newVal -&gt;\n        //This is never raised\n        //Secondly how should I access the given Int ?\n        //newVal.a doesn't seem to compile\n    }\n</code></pre>\n\n<p>I was off the idea that once I invoke delegatedProp(10) , the observable would invoke and I would be able to access newVal.a.</p>\n\n<p>This compiles successfully but the observable is never invoked</p>\n"}, {"tags": ["android", "kotlin", "arcore", "sceneform"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 11642110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y5feMNVWXSE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdVIBsmg-KZoezpooMmgXG4HGNntA/mo/photo.jpg?sz=128", "display_name": "Wessel Barten", "link": "https://stackoverflow.com/users/11642110/wessel-barten"}, "is_accepted": false, "score": 1, "last_activity_date": 1560425579, "creation_date": 1560425579, "answer_id": 56579517, "question_id": 56563464, "link": "https://stackoverflow.com/questions/56563464/how-to-get-tracking-state-in-arcore/56579517#56579517", "title": "How to get Tracking State in ArCore", "body": "<p>You can retrieve the TrackingState from the Camera of the current Frame. </p>\n\n<pre><code>val frame = session.update()\nif (frame.camera.trackingState == TrackingState.tracking) {\n    // place anchor\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11637067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e84a4331e4381f696b5873b5c1cf7f?s=128&d=identicon&r=PG&f=1", "display_name": "Killko", "link": "https://stackoverflow.com/users/11637067/killko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1394, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560425579, "creation_date": 1560346258, "question_id": 56563464, "link": "https://stackoverflow.com/questions/56563464/how-to-get-tracking-state-in-arcore", "title": "How to get Tracking State in ArCore", "body": "<p>I am building an AR Android app where I want to spawn an arrow whenever the position of the user changes. However I get a NotTrackingException when I try to create an anchor. How can I know that ARCore detected a plane so that I can add my anchor?</p>\n\n<p>The only thing I found is <a href=\"https://developers.google.com/ar/reference/unreal/arcore/blueprint/Get_Tracking_State?hl=TR\" rel=\"nofollow noreferrer\">this</a>, but there is not much I could get out of it.</p>\n\n<pre><code>fun onLocationChanged(location: Location) {\n    val session = arFragment.arSceneView.session\n    var arrowViewRenderable:ViewRenderable\n    val pos = floatArrayOf(0f,0f,-1f)\n    val rotation = floatArrayOf(0f,0f,0f,1f)\n    val anchor = session!!.createAnchor(Pose(pos,rotation))\n    val anchorNode = AnchorNode(anchor)\n    anchorNode.setParent(arFragment.arSceneView.scene)\n    ViewRenderable.builder()\n        .setView(this, R.layout.arrow)\n        .setSizer(DpToMetersViewSizer(400  ))\n        .build()\n        .thenAccept { renderable -&gt; arrowViewRenderable = renderable\n                        anchorNode.renderable = arrowViewRenderable\n                    }\n}\n</code></pre>\n\n<pre><code>status.cc:156 ArStatusErrorSpace::AR_ERROR_NOT_TRACKING: Cannot create anchors while the camera is not tracking.\n2019-06-12 14:58:37.369 29685-29685/com.carmeq.carfind E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.carmeq.carfind, PID: 29685\n    com.google.ar.core.exceptions.NotTrackingException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at com.google.ar.core.Session.throwExceptionFromArStatus(Session.java:134)\n        at com.google.ar.core.Session.nativeCreateAnchor(Native Method)\n        at com.google.ar.core.Session.createAnchor(Session.java:93)\n        at com.carmeq.carfind.MainActivity.onLocationChanged(MainActivity.kt:282)\n        at com.carmeq.carfind.MainActivity$mLocationCallback$1.onLocationResult(MainActivity.kt:223)\n        at com.google.android.gms.internal.zzbzq.zzq(Unknown Source:4)\n        at com.google.android.gms.common.api.internal.zzcj.zzb(Unknown Source:8)\n        at com.google.android.gms.common.api.internal.zzck.handleMessage(Unknown Source:16)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:6981)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1445)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 494, "user_id": 10138929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/419ff84b6b4c28df9f29a2531c981e69?s=128&d=identicon&r=PG&f=1", "display_name": "samaromku", "link": "https://stackoverflow.com/users/10138929/samaromku"}, "is_accepted": true, "score": 1, "last_activity_date": 1560346377, "creation_date": 1560346377, "answer_id": 56563504, "question_id": 56563260, "link": "https://stackoverflow.com/questions/56563260/how-to-remove-failure-using-fuel-with-kotlin/56563504#56563504", "title": "How to remove failure using fuel with Kotlin", "body": "<p>method <code>post</code> is not allowed by Google website. Check the logs of failure:</p>\n\n<pre><code>[Failure: HTTP Exception 405 Method Not Allowed]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11582447"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 56563504, "answer_count": 1, "score": 1, "last_activity_date": 1560346377, "creation_date": 1560345585, "question_id": 56563260, "link": "https://stackoverflow.com/questions/56563260/how-to-remove-failure-using-fuel-with-kotlin", "title": "How to remove failure using fuel with Kotlin", "body": "<p>I'm trying to make communication program using fuel in Kotlin.</p>\n\n<p>This code is successful(I/System.out:Success) </p>\n\n<pre><code>\"http://google.com/\".httpGet().responseString\n{ request, response, result -&gt;\n    when (result) {\n        is Result.Success -&gt; println(\"Success\")\n        is Result.Failure -&gt; println(\"Failure\")\n    }\n}\n</code></pre>\n\n<p>On the other hands, this code is failure(I/System.out:Failure) </p>\n\n<pre><code>\"http://google.com/\".httpPost().responseString\n{ request, response, result -&gt;\n    when (result) {\n        is Result.Success -&gt; println(\"Success\")\n        is Result.Failure -&gt; println(\"Failure\")\n    }\n}\n</code></pre>\n\n<p>Do you have any solutions to succeed httpPost()? \nBest regards,</p>\n"}, {"tags": ["android", "gradle", "kotlin", "kapt"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 1, "creation_date": 1560345233, "post_id": 56563054, "comment_id": 99705682, "body": "try this --&gt; delete build folder, invalidate cashes/Restart, clean and rebuild project."}, {"owner": {"reputation": 13, "user_id": 11636956, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ul-aWvGjzUQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reD1uP15lWOxfDK6-535noRKE1GVA/mo/photo.jpg?sz=128", "display_name": "draumge c", "link": "https://stackoverflow.com/users/11636956/draumge-c"}, "reply_to_user": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1560345394, "post_id": 56563054, "comment_id": 99705807, "body": "had try all of those &#39;delete build folder, invalidate cashes/Restart, clean and rebuild project&#39; , but not work"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11636956, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ul-aWvGjzUQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reD1uP15lWOxfDK6-535noRKE1GVA/mo/photo.jpg?sz=128", "display_name": "draumge c", "link": "https://stackoverflow.com/users/11636956/draumge-c"}, "edited": false, "score": 0, "creation_date": 1560350917, "post_id": 56564890, "comment_id": 99709306, "body": "There is <code>apply plugin: &#39;kotlin-kapt&#39;</code> in my <code>build.graddle</code>. It work fine with <code>gradle version: 4.5; gradle plugin: 3.1.2</code>, but not work with <code>gradle version: 5.1.1; gradle plugin: 3.4.1</code>"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1560350642, "creation_date": 1560350642, "answer_id": 56564890, "question_id": 56563054, "link": "https://stackoverflow.com/questions/56563054/update-gradle-version-to-5-1-1-but-kapt-not-work/56564890#56564890", "title": "Update gradle version to 5.1.1, but kapt not work", "body": "<p>In your <code>build.graddle</code> module app include this : <code>apply plugin: 'kotlin-kapt'</code></p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 3627695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3620a554d95741d04e1dd3ed8394eba2?s=128&d=identicon&r=PG", "display_name": "Dante", "link": "https://stackoverflow.com/users/3627695/dante"}, "is_accepted": true, "score": 0, "last_activity_date": 1563464072, "creation_date": 1563464072, "answer_id": 57098106, "question_id": 56563054, "link": "https://stackoverflow.com/questions/56563054/update-gradle-version-to-5-1-1-but-kapt-not-work/57098106#57098106", "title": "Update gradle version to 5.1.1, but kapt not work", "body": "<p>I had this same problem on upgrade of Android Studio (3.3 -> 3.4) (This upgrades gradle from 4.10.1 -> 5.1.1).\nI'm using kapt, and an annotation processor I built as a java module. Everything worked fine before the update.</p>\n\n<p>My solution was:<br>\n - Upgrade <code>com.google.auto.service:auto-service</code> to <code>1.0-rc6</code><br>\n - Add <code>annotationProcessor \"com.google.auto.service:auto-service:1.0-rc6\"</code> to the annotation processor's build.gradle file.</p>\n\n<p>Found my answer via these:<br>\n- <a href=\"https://github.com/gradle/gradle/issues/7941\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/7941</a><br>\n- <a href=\"https://github.com/ishaigor/annotation-processor-sample/commit/d7645914b9f53a5f350c7098973f3554c48e75d8\" rel=\"nofollow noreferrer\">https://github.com/ishaigor/annotation-processor-sample/commit/d7645914b9f53a5f350c7098973f3554c48e75d8</a></p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 13, "user_id": 11636956, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ul-aWvGjzUQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reD1uP15lWOxfDK6-535noRKE1GVA/mo/photo.jpg?sz=128", "display_name": "draumge c", "link": "https://stackoverflow.com/users/11636956/draumge-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 57098106, "answer_count": 2, "score": 1, "last_activity_date": 1563464072, "creation_date": 1560345003, "last_edit_date": 1560350466, "question_id": 56563054, "link": "https://stackoverflow.com/questions/56563054/update-gradle-version-to-5-1-1-but-kapt-not-work", "title": "Update gradle version to 5.1.1, but kapt not work", "body": "<p>It was all work fine in gradle version 4.5, but when I update to 5.1.1, the processor that extends <code>AbstractProcessor</code> seems did not was execute, not any log and nothing was generated in dir: build/generated/source/kapt.</p>\n\n<p>gradle version: 4.5; gradle plugin: 3.1.2. work</p>\n\n<p>gradle version: 5.1.1; gradle plugin: 3.4.1. not work</p>\n\n<p>PS: see git <a href=\"https://github.com/drumge/android-kvo\" rel=\"nofollow noreferrer\">https://github.com/drumge/android-kvo</a></p>\n"}, {"tags": ["kotlin", "jackson"], "comments": [{"owner": {"reputation": 4609, "user_id": 1699956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oBr6e.jpg?s=128&g=1", "display_name": "Mangat Rai Modi", "link": "https://stackoverflow.com/users/1699956/mangat-rai-modi"}, "edited": false, "score": 1, "creation_date": 1560344751, "post_id": 56562855, "comment_id": 99705347, "body": "Default equals in java just check the reference. Data class generate equals for you. But what you have here is not a data class"}], "answers": [{"comments": [{"owner": {"reputation": 8135, "user_id": 2391849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/04df260673cc820547a3083e4ee87fce?s=128&d=identicon&r=PG", "display_name": "Mulgard", "link": "https://stackoverflow.com/users/2391849/mulgard"}, "edited": false, "score": 0, "creation_date": 1560344671, "post_id": 56562930, "comment_id": 99705304, "body": "Then I would like to use the data class but that does not seem to be possible with inheritance?!"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 8135, "user_id": 2391849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/04df260673cc820547a3083e4ee87fce?s=128&d=identicon&r=PG", "display_name": "Mulgard", "link": "https://stackoverflow.com/users/2391849/mulgard"}, "edited": false, "score": 0, "creation_date": 1560344755, "post_id": 56562930, "comment_id": 99705352, "body": "One way to work around this is to make <code>Classification</code> an interface instead."}, {"owner": {"reputation": 8135, "user_id": 2391849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/04df260673cc820547a3083e4ee87fce?s=128&d=identicon&r=PG", "display_name": "Mulgard", "link": "https://stackoverflow.com/users/2391849/mulgard"}, "edited": false, "score": 0, "creation_date": 1560344865, "post_id": 56562930, "comment_id": 99705425, "body": "That would work. Thank you! Even though I dont like that I have to override the variables. Even declaring them twice seems very odd to me."}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560345557, "post_id": 56562930, "comment_id": 99705900, "body": "I believe you should be able to have a data class extend from an abstract class."}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "reply_to_user": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560347181, "post_id": 56562930, "comment_id": 99706975, "body": "@r2rek Yes, it&#39;s possible but OP needs to make the abstract class&#39;s property <code>open</code> and override it in the data class"}, {"owner": {"reputation": 2243, "user_id": 3466808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pr9RU.jpg?s=128&g=1", "display_name": "Sam Chen", "link": "https://stackoverflow.com/users/3466808/sam-chen"}, "edited": false, "score": 0, "creation_date": 1606580604, "post_id": 56562930, "comment_id": 115005630, "body": "Just want to point out that <code>interface</code> method will not work well with Android <code>Room</code> database, just tested."}], "tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": true, "score": 4, "last_activity_date": 1560348449, "last_edit_date": 1560348449, "creation_date": 1560344618, "answer_id": 56562930, "question_id": 56562855, "link": "https://stackoverflow.com/questions/56562855/kotlin-inheritance-objects-are-not-equal-after-serialization-and-deserializatio/56562930#56562930", "title": "Kotlin inheritance: Objects are not equal after serialization and deserialization to / from json", "body": "<p>The problem is not inheritance VS absence of inheritance <em>per se</em>.</p>\n\n<p>In one case you're using a <code>data class</code> (which automatically generates the <code>equals()</code> method) and in the other you're using a standard <code>class</code>, which does not have any magic.</p>\n\n<p>In the standard classes, you need to implement <code>equals()</code> yourself (or generate it with the help of your IDE).</p>\n"}], "owner": {"reputation": 8135, "user_id": 2391849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/04df260673cc820547a3083e4ee87fce?s=128&d=identicon&r=PG", "display_name": "Mulgard", "link": "https://stackoverflow.com/users/2391849/mulgard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 56562930, "answer_count": 1, "score": 0, "last_activity_date": 1560348449, "creation_date": 1560344388, "question_id": 56562855, "link": "https://stackoverflow.com/questions/56562855/kotlin-inheritance-objects-are-not-equal-after-serialization-and-deserializatio", "title": "Kotlin inheritance: Objects are not equal after serialization and deserialization to / from json", "body": "<p>I have kotlin classes with inheritance:</p>\n\n<pre><code>abstract class Classification(\n        val accuracy: Double\n)\n</code></pre>\n\n<pre><code>@Document\nclass OrderForm(\n        @Id\n        val id: String,\n        accuracy: Double,\n        val customerNumber: String,\n        val orders: List&lt;Order&gt;\n) : Classification(accuracy)\n</code></pre>\n\n<p>And I implemented a serialization test:</p>\n\n<pre><code>internal class OrderFormTest : Logging {\n\n    private val objectMapper = ObjectMapper().registerKotlinModule()\n\n    @Test\n    fun canBeSerialisedToJsonAndBack() {\n        val expected = OrderForm(\n                \"123_ID\",\n                94.77,\n                \"123_CUSTOMER\",\n                listOf(\n                        Order(\n                                0.0,\n                                OrderNumber(\n                                        10.0,\n                                        123456789L),\n                                OrderSize(\n                                        99.99,\n                                        \"38/40\"),\n                                OrderAmount(\n                                        100.0,\n                                        7),\n                                OrderPrice(\n                                        50.0,\n                                        999.99),\n                                OrderPage(\n                                        23.29343,\n                                        100)\n                        ),\n                        Order(\n                                0.0,\n                                OrderNumber(\n                                        10.0,\n                                        123456789L),\n                                OrderSize(\n                                        99.99,\n                                        \"38/40\"),\n                                OrderAmount(\n                                        100.0,\n                                        7),\n                                OrderPrice(\n                                        50.0,\n                                        999.99),\n                                OrderPage(\n                                        23.29343,\n                                        100)\n                        )\n                )\n        )\n\n        logger.info(\"expected: $expected\")\n\n        val json = objectMapper.writeValueAsString(expected)\n\n        logger.info(\"json: $json\")\n\n        val result: OrderForm = objectMapper.readValue(json)\n\n        logger.info(\"result: $result\")\n\n        val json2 = objectMapper.writeValueAsString(result);\n\n        logger.info(\"json: $json2\")\n\n        Assertions.assertThat(result).isEqualTo(expected)\n    }\n}\n</code></pre>\n\n<p>Log output:</p>\n\n<pre><code>14:57:37.031 [main] OrderFormTest - expected: de.fronetic.witt.ml.backend.model.OrderForm@4b34fff9\n14:57:37.623 [main] OrderFormTest - json: {\"id\":\"123_ID\",\"accuracy\":94.77,\"customerNumber\":\"123_CUSTOMER\",\"orders\":[{\"accuracy\":0.0,\"orderNumber\":{\"accuracy\":10.0,\"number\":123456789},\"orderSize\":{\"accuracy\":99.99,\"size\":\"38/40\"},\"orderAmount\":{\"accuracy\":100.0,\"amount\":7},\"orderPrice\":{\"accuracy\":50.0,\"price\":999.99},\"orderPage\":{\"accuracy\":23.29343,\"page\":100}},{\"accuracy\":0.0,\"orderNumber\":{\"accuracy\":10.0,\"number\":123456789},\"orderSize\":{\"accuracy\":99.99,\"size\":\"38/40\"},\"orderAmount\":{\"accuracy\":100.0,\"amount\":7},\"orderPrice\":{\"accuracy\":50.0,\"price\":999.99},\"orderPage\":{\"accuracy\":23.29343,\"page\":100}}]}\n14:57:37.673 [main] OrderFormTest - result: de.fronetic.witt.ml.backend.model.OrderForm@38b972d7\n14:57:37.674 [main] OrderFormTest - json: {\"id\":\"123_ID\",\"accuracy\":94.77,\"customerNumber\":\"123_CUSTOMER\",\"orders\":[{\"accuracy\":0.0,\"orderNumber\":{\"accuracy\":10.0,\"number\":123456789},\"orderSize\":{\"accuracy\":99.99,\"size\":\"38/40\"},\"orderAmount\":{\"accuracy\":100.0,\"amount\":7},\"orderPrice\":{\"accuracy\":50.0,\"price\":999.99},\"orderPage\":{\"accuracy\":23.29343,\"page\":100}},{\"accuracy\":0.0,\"orderNumber\":{\"accuracy\":10.0,\"number\":123456789},\"orderSize\":{\"accuracy\":99.99,\"size\":\"38/40\"},\"orderAmount\":{\"accuracy\":100.0,\"amount\":7},\"orderPrice\":{\"accuracy\":50.0,\"price\":999.99},\"orderPage\":{\"accuracy\":23.29343,\"page\":100}}]}\n</code></pre>\n\n<p>So the content of the objects is exactly the same but the objects itself are not equal!</p>\n\n<p>If I do not use inheritance this is not happening:</p>\n\n<pre><code>@Document\ndata class OrderForm(\n        @Id\n        val id: String,\n        val accuracy: Double,\n        val customerNumber: String,\n        val orders: List&lt;Order&gt;\n)\n\n</code></pre>\n\n<p>Log output:</p>\n\n<pre><code>14:59:03.889 [main] OrderFormTest - expected: OrderForm(id=123_ID, accuracy=94.77, customerNumber=123_CUSTOMER, orders=[Order(accuracy=0.0, orderNumber=OrderNumber(accuracy=10.0, number=123456789), orderSize=OrderSize(accuracy=99.99, size=38/40), orderAmount=OrderAmount(accuracy=100.0, amount=7), orderPrice=OrderPrice(accuracy=50.0, price=999.99), orderPage=OrderPage(accuracy=23.29343, page=100)), Order(accuracy=0.0, orderNumber=OrderNumber(accuracy=10.0, number=123456789), orderSize=OrderSize(accuracy=99.99, size=38/40), orderAmount=OrderAmount(accuracy=100.0, amount=7), orderPrice=OrderPrice(accuracy=50.0, price=999.99), orderPage=OrderPage(accuracy=23.29343, page=100))])\n14:59:04.833 [main] OrderFormTest - json: {\"id\":\"123_ID\",\"accuracy\":94.77,\"customerNumber\":\"123_CUSTOMER\",\"orders\":[{\"accuracy\":0.0,\"orderNumber\":{\"accuracy\":10.0,\"number\":123456789},\"orderSize\":{\"accuracy\":99.99,\"size\":\"38/40\"},\"orderAmount\":{\"accuracy\":100.0,\"amount\":7},\"orderPrice\":{\"accuracy\":50.0,\"price\":999.99},\"orderPage\":{\"accuracy\":23.29343,\"page\":100}},{\"accuracy\":0.0,\"orderNumber\":{\"accuracy\":10.0,\"number\":123456789},\"orderSize\":{\"accuracy\":99.99,\"size\":\"38/40\"},\"orderAmount\":{\"accuracy\":100.0,\"amount\":7},\"orderPrice\":{\"accuracy\":50.0,\"price\":999.99},\"orderPage\":{\"accuracy\":23.29343,\"page\":100}}]}\n14:59:04.913 [main] OrderFormTest - result: OrderForm(id=123_ID, accuracy=94.77, customerNumber=123_CUSTOMER, orders=[Order(accuracy=0.0, orderNumber=OrderNumber(accuracy=10.0, number=123456789), orderSize=OrderSize(accuracy=99.99, size=38/40), orderAmount=OrderAmount(accuracy=100.0, amount=7), orderPrice=OrderPrice(accuracy=50.0, price=999.99), orderPage=OrderPage(accuracy=23.29343, page=100)), Order(accuracy=0.0, orderNumber=OrderNumber(accuracy=10.0, number=123456789), orderSize=OrderSize(accuracy=99.99, size=38/40), orderAmount=OrderAmount(accuracy=100.0, amount=7), orderPrice=OrderPrice(accuracy=50.0, price=999.99), orderPage=OrderPage(accuracy=23.29343, page=100))])\n14:59:04.914 [main] OrderFormTest - json: {\"id\":\"123_ID\",\"accuracy\":94.77,\"customerNumber\":\"123_CUSTOMER\",\"orders\":[{\"accuracy\":0.0,\"orderNumber\":{\"accuracy\":10.0,\"number\":123456789},\"orderSize\":{\"accuracy\":99.99,\"size\":\"38/40\"},\"orderAmount\":{\"accuracy\":100.0,\"amount\":7},\"orderPrice\":{\"accuracy\":50.0,\"price\":999.99},\"orderPage\":{\"accuracy\":23.29343,\"page\":100}},{\"accuracy\":0.0,\"orderNumber\":{\"accuracy\":10.0,\"number\":123456789},\"orderSize\":{\"accuracy\":99.99,\"size\":\"38/40\"},\"orderAmount\":{\"accuracy\":100.0,\"amount\":7},\"orderPrice\":{\"accuracy\":50.0,\"price\":999.99},\"orderPage\":{\"accuracy\":23.29343,\"page\":100}}]}\n\n</code></pre>\n\n<p>Why is this happening?</p>\n"}, {"tags": ["spring-boot", "gradle", "kotlin", "junit5", "spring-boot-gradle-plugin"], "comments": [{"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560341528, "post_id": 56561874, "comment_id": 99703283, "body": "What is io.spring.dependency-management?"}, {"owner": {"reputation": 369, "user_id": 7473490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53d1a8b2edd6593ff4cb0de6b48d4acd?s=128&d=identicon&r=PG&f=1", "display_name": "V. Kuznetsov", "link": "https://stackoverflow.com/users/7473490/v-kuznetsov"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560341991, "post_id": 56561874, "comment_id": 99703595, "body": "<a href=\"https://github.com/spring-gradle-plugins/dependency-management-plugin\" rel=\"nofollow noreferrer\">github.com/spring-gradle-plugins/dependency-management-plugi&zwnj;&#8203;n</a> and guide <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/gradle-plugin/reference/html/#packaging-executable-and-normal\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.0.0.RELEASE/gradle-plugin/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560342192, "post_id": 56561874, "comment_id": 99703722, "body": "Oh I see. I don&#39;t use Gradle but I knew that Sam Brannen is working on the JUnit5 integration. Have a look here: <a href=\"https://github.com/sbrannen/junit5-demo\" rel=\"nofollow noreferrer\">github.com/sbrannen/junit5-demo</a> Hope this may help"}, {"owner": {"reputation": 23819, "user_id": 388980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64310de9c07f30458f9baae33d91ccdc?s=128&d=identicon&r=PG", "display_name": "Sam Brannen", "link": "https://stackoverflow.com/users/388980/sam-brannen"}, "edited": false, "score": 1, "creation_date": 1560494017, "post_id": 56561874, "comment_id": 99762219, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54598484/gradle-5-junit-bom-and-spring-boot-incorrect-versions\">Gradle 5 JUnit BOM and Spring Boot Incorrect Versions</a>"}], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 11630173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wr4Ic.png?s=128&g=1", "display_name": "Bergin", "link": "https://stackoverflow.com/users/11630173/bergin"}, "is_accepted": true, "score": 4, "last_activity_date": 1560346527, "creation_date": 1560346527, "answer_id": 56563552, "question_id": 56561874, "link": "https://stackoverflow.com/questions/56561874/failed-to-execute-junit5-tests-with-dependency-management-with-spring-boot-gradl/56563552#56563552", "title": "Failed to execute junit5 tests with dependency management with spring boot gradle plugin", "body": "<p>It would appear that adding Spring Dependency Management changes some of the transitive dependencies for your junit-jupiter dependencies.</p>\n\n<p>Your declared junit version (5.4.2) depends on junit-platform-commons 1.4.2, but when you add Spring Dependency Management it is changing the commons version from 1.4.2 to 1.3.2. This is why you are receiving the NoSuchMethodError since that method was added in version four!</p>\n\n<p>Here's two solutions I can think of:</p>\n\n<p>1) (I recommend this) Drop your declared junit version and let Spring Dependency Management handle everything for junit:</p>\n\n<pre><code>testImplementation(\"org.junit.jupiter:junit-jupiter-api\")\ntestRuntime(\"org.junit.jupiter:junit-jupiter-engine\")\n</code></pre>\n\n<p>2) Declare the transitive dependency versions for junit (this would allow you to carry on using version 5.4.2 if this is a must-have)</p>\n\n<pre><code>testImplementation(\"org.junit.jupiter:junit-jupiter-api:5.4.2\")\ntestImplementation(\"org.junit.platform:junit-platform-commons:1.4.2\")\ntestRuntime(\"org.junit.jupiter:junit-jupiter-engine:5.4.2\")\ntestRuntime(\"org.junit.platform:junit-platform-engine:1.4.2\")\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 7473490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53d1a8b2edd6593ff4cb0de6b48d4acd?s=128&d=identicon&r=PG&f=1", "display_name": "V. Kuznetsov", "link": "https://stackoverflow.com/users/7473490/v-kuznetsov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 942, "favorite_count": 0, "accepted_answer_id": 56563552, "answer_count": 1, "score": 1, "last_activity_date": 1560346527, "creation_date": 1560341273, "question_id": 56561874, "link": "https://stackoverflow.com/questions/56561874/failed-to-execute-junit5-tests-with-dependency-management-with-spring-boot-gradl", "title": "Failed to execute junit5 tests with dependency management with spring boot gradle plugin", "body": "<p>In my project based on gradle and kotlin I have some sub module. Build configugration for it module (build.gradle.kts): </p>\n\n<pre><code>plugins {\n    java\n    kotlin(\"jvm\")\n    id(\"org.springframework.boot\") version \"2.1.5.RELEASE\"\n    id(\"io.spring.dependency-management\") version \"1.0.7.RELEASE\"\n}\n\ndependencies {\n\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.31\")\n    compile(\"org.springframework.boot:spring-boot-starter-web\")\n\n    testCompile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.31\")\n    testCompile(\"org.jetbrains.kotlin:kotlin-stdlib:1.3.31\")\n    testCompile(\"org.jetbrains.kotlin:kotlin-reflect:1.3.31\")\n\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api:5.4.2\")\n    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine:5.4.2\")\n}\n</code></pre>\n\n<p>I try to run some simple test in this module</p>\n\n<p>Simple class: </p>\n\n<pre><code>class Hello {\n    fun hello(): String {\n        return \"hello\"\n    }\n}\n</code></pre>\n\n<p>Simple test for it: </p>\n\n<pre><code>class HelloTest {\n    @Test\n    fun test() {\n        Assertions.assertEquals(Hello().hello(), \"hello\")\n    }\n}\n</code></pre>\n\n<p>When i'm trying to run test i get error: </p>\n\n<pre><code>Jun 12, 2019 2:58:31 PM org.junit.platform.launcher.core.DefaultLauncher handleThrowable\nWARNING: TestEngine with ID 'junit-jupiter' failed to execute tests\njava.lang.NoSuchMethodError: org.junit.platform.commons.util.ReflectionUtils.tryToLoadClass(Ljava/lang/String;)Lorg/junit/platform/commons/function/Try;\n    at org.junit.jupiter.engine.support.OpenTest4JAndJUnit4AwareThrowableCollector.createAbortedExecutionPredicate(OpenTest4JAndJUnit4AwareThrowableCollector.java:40)\n    at org.junit.jupiter.engine.support.OpenTest4JAndJUnit4AwareThrowableCollector.&lt;clinit&gt;(OpenTest4JAndJUnit4AwareThrowableCollector.java:30)\n    at org.junit.jupiter.engine.support.JupiterThrowableCollectorFactory.createThrowableCollector(JupiterThrowableCollectorFactory.java:34)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:68)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:102)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:82)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:78)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:132)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:175)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:157)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\n\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':app:rest:test'.\n&gt; No tests found for given includes: [ua.company.app.Hello](filter.includeTestsMatching)\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n* Get more help at https://help.gradle.org\nBUILD FAILED in 1s\n4 actionable tasks: 2 executed, 2 up-to-date\nNo tests found for given includes: [ua.company.app.Hello](filter.includeTestsMatching)\n</code></pre>\n\n<p>But if remove <strong>id(\"io.spring.dependency-management\") version \"1.0.7.RELEASE\"</strong> from my build config and will use version of spring boot like this <strong>compile(\"org.springframework.boot:spring-boot-starter-web:2.1.5.RELEASE\")</strong> test runs correctly. </p>\n\n<p>Spring dependency management brokes my junit5 tests. Please can anyone explain why this is happening and how to solve the problem? Thanks!</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 938, "user_id": 8174825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JEfn.jpg?s=128&g=1", "display_name": "Mehul Solanki", "link": "https://stackoverflow.com/users/8174825/mehul-solanki"}, "edited": false, "score": 0, "creation_date": 1560340520, "post_id": 56561619, "comment_id": 99702631, "body": "Have you enable google sign In from Firebase console?"}, {"owner": {"reputation": 65, "user_id": 11529308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-izPnGqSOYTA/AAAAAAAAAAI/AAAAAAAAAGQ/Kik9CFBYk-c/photo.jpg?sz=128", "display_name": "Ene Cristian Luis", "link": "https://stackoverflow.com/users/11529308/ene-cristian-luis"}, "reply_to_user": {"reputation": 938, "user_id": 8174825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JEfn.jpg?s=128&g=1", "display_name": "Mehul Solanki", "link": "https://stackoverflow.com/users/8174825/mehul-solanki"}, "edited": false, "score": 0, "creation_date": 1560340878, "post_id": 56561619, "comment_id": 99702869, "body": "Yes, I did enable."}, {"owner": {"reputation": 731, "user_id": 9130759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Jm9w.png?s=128&g=1", "display_name": "Mini Chip", "link": "https://stackoverflow.com/users/9130759/mini-chip"}, "edited": false, "score": 0, "creation_date": 1560340881, "post_id": 56561619, "comment_id": 99702872, "body": "Can you show what exactly is the error . ?What exactly is the error code ?"}, {"owner": {"reputation": 938, "user_id": 8174825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JEfn.jpg?s=128&g=1", "display_name": "Mehul Solanki", "link": "https://stackoverflow.com/users/8174825/mehul-solanki"}, "edited": false, "score": 0, "creation_date": 1560340992, "post_id": 56561619, "comment_id": 99702939, "body": "Put your <code>Log</code> here."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560341047, "post_id": 56561619, "comment_id": 99702966, "body": "Please add the entire error that you get and please also responde with @AlexMamo"}, {"owner": {"reputation": 65, "user_id": 11529308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-izPnGqSOYTA/AAAAAAAAAAI/AAAAAAAAAGQ/Kik9CFBYk-c/photo.jpg?sz=128", "display_name": "Ene Cristian Luis", "link": "https://stackoverflow.com/users/11529308/ene-cristian-luis"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560341424, "post_id": 56561619, "comment_id": 99703223, "body": "@AlexMamo I added the Log in the post"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560341645, "post_id": 56561619, "comment_id": 99703373, "body": "I cannot see in that log message any exception thrown. Try to log the messages from any errors from the tasks you intend to get."}, {"owner": {"reputation": 65, "user_id": 11529308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-izPnGqSOYTA/AAAAAAAAAAI/AAAAAAAAAGQ/Kik9CFBYk-c/photo.jpg?sz=128", "display_name": "Ene Cristian Luis", "link": "https://stackoverflow.com/users/11529308/ene-cristian-luis"}, "edited": false, "score": 0, "creation_date": 1560341906, "post_id": 56561619, "comment_id": 99703533, "body": "I fixed it, I just didn&#39;t set the support email"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 11529308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-izPnGqSOYTA/AAAAAAAAAAI/AAAAAAAAAGQ/Kik9CFBYk-c/photo.jpg?sz=128", "display_name": "Ene Cristian Luis", "link": "https://stackoverflow.com/users/11529308/ene-cristian-luis"}, "edited": false, "score": 0, "creation_date": 1560341861, "post_id": 56561869, "comment_id": 99703506, "body": "Yes, that was the problem. Thanks a lot !"}], "tags": [], "owner": {"reputation": 731, "user_id": 9130759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Jm9w.png?s=128&g=1", "display_name": "Mini Chip", "link": "https://stackoverflow.com/users/9130759/mini-chip"}, "is_accepted": false, "score": 2, "last_activity_date": 1560341260, "creation_date": 1560341260, "answer_id": 56561869, "question_id": 56561619, "link": "https://stackoverflow.com/questions/56561619/google-sign-in-with-firebase-fails/56561869#56561869", "title": "Google Sign In with Firebase fails", "body": "<p><a href=\"https://i.stack.imgur.com/6r3PV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6r3PV.png\" alt=\"Last but not the least , your google sign in should be enabled \"></a>Just check while setting up the project in firebase , have you added the support email in public setting ? <a href=\"https://i.stack.imgur.com/dly6D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dly6D.png\" alt=\"Enter the support email and check if you have the latest google-services.json file inside your app level of project \"></a> . As i have faced the same issue few days back , and the only thing which was missing is Support email id in my firebase console . </p>\n"}], "owner": {"reputation": 65, "user_id": 11529308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-izPnGqSOYTA/AAAAAAAAAAI/AAAAAAAAAGQ/Kik9CFBYk-c/photo.jpg?sz=128", "display_name": "Ene Cristian Luis", "link": "https://stackoverflow.com/users/11529308/ene-cristian-luis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560341372, "creation_date": 1560340356, "last_edit_date": 1560341372, "question_id": 56561619, "link": "https://stackoverflow.com/questions/56561619/google-sign-in-with-firebase-fails", "title": "Google Sign In with Firebase fails", "body": "<p>I am trying to implement an Google Auth method using Firebase, but the sign in fails. The Logcat doesn't show me any red text when it fails. I got my SHA 1 set up but it still doesn't work. I use Kotlin.</p>\n\n<p>LoginActivity.kt</p>\n\n<pre><code>package com.example.madistrezsieu\n\nimport android.content.Intent\nimport android.os.Bundle\n\nimport android.widget.Toast.LENGTH_SHORT\nimport android.widget.Toast.makeText\nimport androidx.appcompat.app.AppCompatActivity\nimport com.example.madistrezsieu.MainActivity\nimport com.example.madistrezsieu.R\nimport com.example.madistrezsieu.view.User\nimport com.google.android.gms.auth.api.Auth\nimport com.google.android.gms.auth.api.signin.GoogleSignIn\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions\nimport com.google.android.gms.common.api.ApiException\nimport com.google.android.gms.common.api.GoogleApiClient\nimport com.google.firebase.auth.FirebaseAuth\nimport com.google.firebase.auth.FirebaseUser\nimport com.google.firebase.auth.GoogleAuthProvider\nimport com.google.firebase.firestore.FirebaseFirestore\nimport kotlinx.android.synthetic.main.activity_login.*\n\n\nclass LoginActivity : AppCompatActivity() {\n    private var firebaseAuth: FirebaseAuth? = null\n    private var authStateListener: FirebaseAuth.AuthStateListener? = null\n    private var googleApiClient: GoogleApiClient? = null\n    private var rootRef: FirebaseFirestore? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n        rootRef = FirebaseFirestore.getInstance()\n\n        google_sign_in_button.setOnClickListener { signIn() }\n\n        firebaseAuth = FirebaseAuth.getInstance()\n        authStateListener = FirebaseAuth.AuthStateListener { auth -&gt;\n            val firebaseUser = auth.currentUser\n            if (firebaseUser != null) {\n                val intent = Intent(this, MainActivity::class.java)\n                startActivity(intent)\n                finish()\n            }\n        }\n\n        val googleSignInOptions = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestIdToken(getString(R.string.default_web_client_id))\n            .requestEmail()\n            .build()\n\n        googleApiClient = GoogleApiClient.Builder(applicationContext)\n            .enableAutoManage(this) { makeText(this, \"You got a GoogleApiClient Error!\", LENGTH_SHORT).show() }\n            .addApi(Auth.GOOGLE_SIGN_IN_API, googleSignInOptions)\n            .build()\n    }\n\n    private fun signIn() {\n        val signInIntent = Auth.GoogleSignInApi.getSignInIntent(googleApiClient)\n        startActivityForResult(signInIntent, RC_SIGN_IN)\n    }\n\n    public override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == RC_SIGN_IN) {\n            val task = GoogleSignIn.getSignedInAccountFromIntent(data)\n            try {\n                val googleSignInAccount = task.getResult(ApiException::class.java)\n                if (googleSignInAccount != null) {\n                    firebaseSignInWithGoogle(googleSignInAccount)\n                }\n            } catch (e: ApiException) {\n                makeText(this, \"Google sign in failed!\", LENGTH_SHORT).show()\n            }\n        }\n    }\n\n    private fun firebaseSignInWithGoogle(googleSignInAccount: GoogleSignInAccount) {\n        val authCredential = GoogleAuthProvider.getCredential(googleSignInAccount.idToken, null)\n        firebaseAuth!!.signInWithCredential(authCredential).addOnCompleteListener(this) {\n            val firebaseUser = firebaseAuth!!.currentUser\n            if (firebaseUser != null) {\n                createUserIfNotExists(firebaseUser)\n            }\n        }\n    }\n\n    private fun createUserIfNotExists(firebaseUser: FirebaseUser) {\n        val uid = firebaseUser.uid\n        val userName = firebaseUser.displayName\n        val user = User(uid, userName!!)\n\n        val uidRef = rootRef!!.collection(\"users\").document(uid)\n        uidRef.get().addOnCompleteListener { task -&gt;\n            if (task.isSuccessful) {\n                val document = task.result\n                if (!document!!.exists()) {\n                    uidRef.set(user)\n                }\n            }\n        }\n    }\n\n    public override fun onStart() {\n        super.onStart()\n        firebaseAuth!!.addAuthStateListener(authStateListener!!)\n    }\n\n    public override fun onStop() {\n        super.onStop()\n        if (firebaseAuth != null) {\n            firebaseAuth!!.removeAuthStateListener(authStateListener!!)\n        }\n    }\n\n    companion object {\n        //private val TAG = \"LoginActivity\"\n        private const val RC_SIGN_IN = 123\n    }\n}\n</code></pre>\n\n<p>I don't know what the problem could be, should I make another Android Studio project and copy paste the code, and then add another app in the Firebase Project?</p>\n\n<p>LOGCAT</p>\n\n<pre><code>06-12 15:08:23.264 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{c73e49c u0 com.google.android.gms/com.google.android.gms.auth.api.signin.ui.SignInActivity}\n06-12 15:08:23.334 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{c73e49c u0 com.google.android.gms/com.google.android.gms.auth.api.signin.ui.SignInActivity}\n06-12 15:08:23.374 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{15692e6 u0 com.example.madistrezsieu/com.google.android.gms.auth.api.signin.internal.SignInHubActivity}\n06-12 15:08:23.544 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{1ccc6a0 u0 com.google.android.gms/com.google.android.gms.signin.activity.SignInActivity}\n06-12 15:08:25.174 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{de116d2 u0 com.google.android.gms/com.google.android.gms.common.api.GoogleApiActivity}\n06-12 15:08:26.354 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{1187be7 u0 com.google.android.gms/com.google.android.gms.common.account.OriginalAccountChipAccountPickerActivity}\n06-12 15:08:28.044 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{6a14a0b u0 com.google.android.gms/com.google.android.gms.common.account.AccountChipAccountPickerActivity}\n06-12 15:08:28.074 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{1ccc6a0 u0 com.google.android.gms/com.google.android.gms.signin.activity.SignInActivity}\n06-12 15:08:28.744 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{de116d2 u0 com.google.android.gms/com.google.android.gms.common.api.GoogleApiActivity}\n06-12 15:08:28.764 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{c73e49c u0 com.google.android.gms/com.google.android.gms.auth.api.signin.ui.SignInActivity}\n06-12 15:08:28.824 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{15692e6 u0 com.example.madistrezsieu/com.google.android.gms.auth.api.signin.internal.SignInHubActivity}\n06-12 15:08:28.834 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{d14245b u0 com.example.madistrezsieu/com.example.madistrezsieu.LoginActivity}\n06-12 15:08:28.834 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x0 which=0x1 pkg=Window{d14245b u0 com.example.madistrezsieu/com.example.madistrezsieu.LoginActivity}\n06-12 15:08:28.894 2897-2897/com.example.madistrezsieu D/WHATTHEFUCK: EROARE\n06-12 15:08:33.884 1383-2275/? D/AlarmManager: sending alarm PendingIntent{bcc15b6: PendingIntentRecord{49e31a2 com.whatsapp broadcastIntent}}, i=com.whatsapp.MessageHandler.CLIENT_PINGER_ACTION, t=2, cnt=1, w=2614648, Int=240000\n06-12 15:08:46.924 1383-3180/? D/StatusBarManagerService: disable:userId=0 what=0x3200000 which=0x1 pkg=com.android.systemui\n06-12 15:08:46.954 1383-1428/? D/StatusBarManagerService: disable:userId=0 what=0x400000 which=0x1 pkg=Window{72431d1 u0 StatusBar}\n06-12 15:08:48.854 2930-3536/? I/ContextualWidget: handleMessage, what=1028 mode=GettingOut maxcount=8\n</code></pre>\n"}, {"tags": ["kotlin", "retrofit"], "comments": [{"owner": {"reputation": 2346, "user_id": 321388, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/g9VlM.jpg?s=128&g=1", "display_name": "Florian Gutmann", "link": "https://stackoverflow.com/users/321388/florian-gutmann"}, "edited": false, "score": 1, "creation_date": 1560345902, "post_id": 56561456, "comment_id": 99706113, "body": "Maybe you can show us a more complete example of your code? There are several things that won&#39;t compile  in your snippets. Where does the <code>username</code> come from here: <code>myClient.names(username)</code>? Is <code>doSomething()</code> in reality a suspend function or where does the needed coroutine come from?"}, {"owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "reply_to_user": {"reputation": 2346, "user_id": 321388, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/g9VlM.jpg?s=128&g=1", "display_name": "Florian Gutmann", "link": "https://stackoverflow.com/users/321388/florian-gutmann"}, "edited": false, "score": 1, "creation_date": 1560348278, "post_id": 56561456, "comment_id": 99707680, "body": "I just disccovered the poor error handling and while get in the debugger I see the precise error that is more related with other issues I think &quot;An exception occurs during Evaluate Expression Action : Backend Internal error: Exception during code generation Cause: Can not generate outer receiver value for class..&quot; will need to investigate further, thanks for the help though!"}], "answers": [{"comments": [{"owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1560340813, "post_id": 56561655, "comment_id": 99702834, "body": "Thank you! but in this case, it works but it tells me &quot;Suspension functions can only be called within coroutine body&quot;, any idea what Id have to do to fix it? I moved it to my unit test function @Test fun test() = runBlocking {..} but the problem persists"}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "reply_to_user": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1560340992, "post_id": 56561655, "comment_id": 99702940, "body": "yes, you might want to look into runBlockingTest: <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test/\" rel=\"nofollow noreferrer\">kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-test</a>"}, {"owner": {"reputation": 2346, "user_id": 321388, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/g9VlM.jpg?s=128&g=1", "display_name": "Florian Gutmann", "link": "https://stackoverflow.com/users/321388/florian-gutmann"}, "edited": false, "score": 0, "creation_date": 1560341320, "post_id": 56561655, "comment_id": 99703151, "body": "This solution mocks a smaller part of the code. It only mocks the result of the <code>await()</code> function. For example if the client code does not call <code>await()</code> but <code>isCompleted</code> or any other function of the <code>Deferred</code>, it will fail."}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1560341661, "post_id": 56561655, "comment_id": 99703385, "body": "Sure, it would fail on <code>isCompleted</code>, but it does solve author&#39;s problem - your solution works as well. In this specific case you shouldn&#39;t worry about other methods being called. Have a good one!"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1560340461, "creation_date": 1560340461, "answer_id": 56561655, "question_id": 56561456, "link": "https://stackoverflow.com/questions/56561456/is-it-possible-to-mock-a-retrofit-deferredresponset-in-kotlin/56561655#56561655", "title": "is it possible to mock a retrofit Deferred&lt;Response&lt;T&gt;&gt; in Kotlin?", "body": "<p>I would say that you're missing an await:</p>\n\n<pre><code>@Before\nfun setUp() {\n    client = mockk&lt;MyClient&gt;(relaxed = true)\n    val response = mockk&lt;Response&lt;Void&gt;&gt;(relaxed = true)\n    every { myClient.names(username).await() /* this would return an response instead of deferred */ }.returns(mockedResponse)\n}\n</code></pre>\n\n<p>Let me know if this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1560341337, "post_id": 56561822, "comment_id": 99703162, "body": "Thank you!! In this case this works but now I get an exception &quot;java.lang.ClassCastException: java.lang.Object cannot be cast to retrofit2.Response&quot; is this because the mocked response? it breaks on the line when I call the client on my service in this way -&gt;  myClient.names(username).await()"}, {"owner": {"reputation": 2346, "user_id": 321388, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/g9VlM.jpg?s=128&g=1", "display_name": "Florian Gutmann", "link": "https://stackoverflow.com/users/321388/florian-gutmann"}, "reply_to_user": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1560341526, "post_id": 56561822, "comment_id": 99703282, "body": "Probably the <code>mockedResponse</code> object is not of type <code>retrofit2.Response</code>."}, {"owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1560341977, "post_id": 56561822, "comment_id": 99703577, "body": "I get this error &quot;An exception occurs during Evaluate Expression Action : Backend Internal error: Exception during code generation Cause: Inconsistent state: expression saved to a temporary variable is a selector File being compiled at position: mock:///fragment.kt The root cause was thrown at: ExpressionCodegen.java:286&quot;"}, {"owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1560345044, "post_id": 56561822, "comment_id": 99705549, "body": "In this case it works perfectly, but unfortunately I am testing over a service that calls the client (as described) and the method inside that service makes a call client.listRepos(&quot;octocat&quot;).await() and I think that is the problem, somehow the mock there gets crazy :s"}, {"owner": {"reputation": 2346, "user_id": 321388, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/g9VlM.jpg?s=128&g=1", "display_name": "Florian Gutmann", "link": "https://stackoverflow.com/users/321388/florian-gutmann"}, "reply_to_user": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1560345622, "post_id": 56561822, "comment_id": 99705945, "body": "Updated the example again to use an intermediate service."}], "tags": [], "owner": {"reputation": 2346, "user_id": 321388, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/g9VlM.jpg?s=128&g=1", "display_name": "Florian Gutmann", "link": "https://stackoverflow.com/users/321388/florian-gutmann"}, "is_accepted": true, "score": 3, "last_activity_date": 1560352397, "last_edit_date": 1560352397, "creation_date": 1560341059, "answer_id": 56561822, "question_id": 56561456, "link": "https://stackoverflow.com/questions/56561456/is-it-possible-to-mock-a-retrofit-deferredresponset-in-kotlin/56561822#56561822", "title": "is it possible to mock a retrofit Deferred&lt;Response&lt;T&gt;&gt; in Kotlin?", "body": "<p>You are trying to return a <code>Response&lt;Void&gt;</code> where a <code>Deferred&lt;Response&lt;Void&gt;&gt;</code> would be required.</p>\n\n<p>The deferred is basically the result of a job that may have not yet completed. When the deferred <code>isCompleted</code>, the result is ready. In your case you most likely want to have a Deferred that is already completed with the response.</p>\n\n<p>To create a Deferred that is already completed with some value you can use the <code>CompletableDeferred(value: T)</code> function.</p>\n\n<p>Here is a full example of how to return a completed deferred from a client Mock.</p>\n\n<pre><code>interface GithubClient {\n    @GET(\"users/{username}/repos\")\n    fun listRepos(@Path(\"username\") username: String): Deferred&lt;Response&lt;Void&gt;&gt;\n}\n\nclass RepoService(val client: GithubClient) {\n    suspend fun doSomething(username: String): Response&lt;Void&gt; {\n        return client.listRepos(username).await()\n    }\n}\n\nclass GithubClientTests {\n\n    private lateinit var client: GithubClient\n\n    @BeforeTest\n    fun setUp() {\n        // setup the mocked client\n        client = mockk&lt;GithubClient&gt;(relaxed = true)\n        val mockResponse = mockk&lt;Response&lt;Void&gt;&gt;(relaxed = true)\n        every { client.listRepos(any()) } returns CompletableDeferred(mockResponse)\n    }\n\n    @Test\n    fun testMockClient() = runBlocking&lt;Unit&gt; {\n        // create the service with the mocked client\n        val service = RepoService(client)\n        val response = service.doSomething(\"octocat\")\n\n        // response is not successful, because we didn't specify any behavior for the mocked response\n        assertFalse { response.isSuccessful }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1405, "favorite_count": 0, "accepted_answer_id": 56561822, "answer_count": 2, "score": 2, "last_activity_date": 1560352397, "creation_date": 1560339877, "last_edit_date": 1560342558, "question_id": 56561456, "link": "https://stackoverflow.com/questions/56561456/is-it-possible-to-mock-a-retrofit-deferredresponset-in-kotlin", "title": "is it possible to mock a retrofit Deferred&lt;Response&lt;T&gt;&gt; in Kotlin?", "body": "<p>I am wondering if I can do this mock</p>\n\n<pre><code>Deferred&lt;Response&lt;Void&gt;&gt;\n</code></pre>\n\n<p>I am new at Kotlin and at mock but I have unsuccessfully made it.</p>\n\n<p>So far I have done this:</p>\n\n<p>I have a client interface:</p>\n\n<pre><code>class MyClient {\n\n@POST(\"/names\")\n    @FormUrlEncoded\n    fun names(\n        @Field(\"username\") username: String\n    ): Deferred&lt;Response&lt;Void&gt;&gt;\n\n}\n</code></pre>\n\n<p>On my tests:</p>\n\n<p>lateinit var myClient  : MyClient</p>\n\n<pre><code>@Before\nfun setUp() {\n    client = mockk&lt;MyClient&gt;(relaxed = true)\n    val response = mockk&lt;Response&lt;Void&gt;&gt;(relaxed = true)\n    every { myClient.names(username) }.returns(mockedResponse)\n\n}\n</code></pre>\n\n<p>I've found many posts about Response (like this <a href=\"https://stackoverflow.com/questions/41558805/handle-empty-response-with-retrofit-and-rxjava-2-x\">Handle empty response with retrofit and rxjava 2.x</a> ) but not really sure how to handle the <strong>\"Deferred\"</strong></p>\n\n<p>or some about deferred (cannot implement the answer of this. <code>async</code> cannot be resolved in my project</p>\n\n<p><a href=\"https://stackoverflow.com/questions/48118986/when-using-kotlin-coroutines-how-do-i-unit-test-a-function-that-calls-a-suspend\">When using kotlin coroutines, how do I unit test a function that calls a suspend function?</a></p>\n\n<p>Is this possible? what am I missing?</p>\n\n<p>The service I am testing:</p>\n\n<pre><code>class MyService {\n\n    fun doSomething(username: String) {\n       myClient().names(username).await()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 574, "user_id": 5791681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8h6rA.jpg?s=128&g=1", "display_name": "Ricardo A.", "link": "https://stackoverflow.com/users/5791681/ricardo-a"}, "edited": false, "score": 6, "creation_date": 1560337159, "post_id": 56560546, "comment_id": 99700676, "body": "Welcome to Stack Overflow! We would love to help you, but there are some problems in the current format/content of your question that makes it hard for some of us to help. If you haven&#39;t done so already, please <a href=\"https://stackoverflow.com/tour\">take the tour</a> and read <a href=\"https://stackoverflow.com/help/how-to-ask\">&quot;How do I ask a good question?&quot;</a> so it will be easier for us to help you."}], "answers": [{"tags": [], "owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "is_accepted": false, "score": 0, "last_activity_date": 1560340056, "creation_date": 1560340056, "answer_id": 56561527, "question_id": 56560546, "link": "https://stackoverflow.com/questions/56560546/how-can-i-run-a-separate-layout-for-tabs-in-android/56561527#56561527", "title": "How can I run a separate layout for Tabs in Android", "body": "<p>I have to agree with the user Ricardo but having said that, I need some more information. First of all how you load the layout, what is the layout name and where did you place these layouts. </p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 10926972, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IrcR0FHu4nU/AAAAAAAAAAI/AAAAAAAAACE/DS9IQva9bZA/photo.jpg?sz=128", "display_name": "Lazy Mind", "link": "https://stackoverflow.com/users/10926972/lazy-mind"}, "is_accepted": false, "score": 0, "last_activity_date": 1560340382, "creation_date": 1560340382, "answer_id": 56561629, "question_id": 56560546, "link": "https://stackoverflow.com/questions/56560546/how-can-i-run-a-separate-layout-for-tabs-in-android/56561629#56561629", "title": "How can I run a separate layout for Tabs in Android", "body": "<p>Check this before <a href=\"https://developer.android.com/training/multiscreen/screensizes.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/multiscreen/screensizes.html</a> and you have to do something like this.\n  In your manifest</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;bool name=\"isTablet\"&gt;true&lt;/bool&gt;\n&lt;/resources&gt;\n\n&lt;resources&gt;\n    &lt;bool name=\"isTablet\"&gt;false&lt;/bool&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>In your Mainactivity  </p>\n\n<pre><code>boolean tabletSize = getResources().getBoolean(R.bool.isTablet);\n    if (tabletSize) {\n        // do something\n    } else {\n        // do something else\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11636282, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WxiaTLBC1ds/AAAAAAAAAAI/AAAAAAAAMPc/qnek78Z7gx8/photo.jpg?sz=128", "display_name": "P shethabhish", "link": "https://stackoverflow.com/users/11636282/p-shethabhish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": -7, "last_activity_date": 1560340382, "creation_date": 1560337107, "last_edit_date": 1560337297, "question_id": 56560546, "link": "https://stackoverflow.com/questions/56560546/how-can-i-run-a-separate-layout-for-tabs-in-android", "title": "How can I run a separate layout for Tabs in Android", "body": "<p>I created a separate layout for tablets in android studio, but I'm unable to run that particular layout, whenever I try to run it, it default runs the normal layout, which is for mobile</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2631, "user_id": 8342718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vm7um.jpg?s=128&g=1", "display_name": "Jasurbek", "link": "https://stackoverflow.com/users/8342718/jasurbek"}, "edited": false, "score": 0, "creation_date": 1560334824, "post_id": 56559751, "comment_id": 99699417, "body": "Are the items inside the <code>List&lt;CustomObject&gt;</code> are unique"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1560334918, "post_id": 56559751, "comment_id": 99699462, "body": "Yes, its ParseObject. Just to be exact"}], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 2, "creation_date": 1560430517, "post_id": 56559994, "comment_id": 99739743, "body": "<code>!xxx.contains(yyy)</code> could be shortened to <code>xxx !in yyy</code>. Anyhow, I believe this solution is better as <code>contains</code> is generally faster for <code>Set</code>s than for <code>List</code>s. It will also use less memory if there are many duplicate entries"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 2, "last_activity_date": 1560335326, "creation_date": 1560335326, "answer_id": 56559994, "question_id": 56559751, "link": "https://stackoverflow.com/questions/56559751/how-to-filter-two-lists-in-kotlin/56559994#56559994", "title": "How to filter two lists in Kotlin?", "body": "<p>I think the following might work well:</p>\n\n<pre><code>val firstListObjectIds = firstList.map { it.objectId }.toSet()\nval filteredList = secondList.filter { !firstListObjectIds.contains(it.objectId) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 1, "last_activity_date": 1560335417, "creation_date": 1560335417, "answer_id": 56560015, "question_id": 56559751, "link": "https://stackoverflow.com/questions/56559751/how-to-filter-two-lists-in-kotlin/56560015#56560015", "title": "How to filter two lists in Kotlin?", "body": "<p>First, get the IDs of the first list:</p>\n\n<pre><code>val firstListIds = firstList.map { it.objectId }. \n</code></pre>\n\n<p>Then, filter the second list by checking if the ID is among the IDs of the first list:</p>\n\n<pre><code>val result = secondList.filter { it.objectId !in firstListIds }\n</code></pre>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "accepted_answer_id": 56560015, "answer_count": 2, "score": -2, "last_activity_date": 1560335417, "creation_date": 1560334572, "question_id": 56559751, "link": "https://stackoverflow.com/questions/56559751/how-to-filter-two-lists-in-kotlin", "title": "How to filter two lists in Kotlin?", "body": "<p>I have two <code>List&lt;CustomObject&gt;</code> and I want to create <strong>filtered list</strong> which will contain only items from <strong>second list</strong>, which are <strong>not present</strong> in <strong>first list</strong>. Parameter for comparison is <code>objectId</code> which is unique <code>String</code> value. </p>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1474, "user_id": 6473398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbaf56ee96aa63833344ce24a82ef35?s=128&d=identicon&r=PG&f=1", "display_name": "sfiss", "link": "https://stackoverflow.com/users/6473398/sfiss"}, "edited": false, "score": 0, "creation_date": 1560337344, "post_id": 56560235, "comment_id": 99700779, "body": "Why is this answer not complete? It explains it perfectly. Maybe the correct way would be to not use RowMapper&lt;T&gt; as the argument type, but instead use <code>rowMapper: (rs: ResultSet, rowNum: int) -&gt; T</code> in the kotlin interface as the last arguments type? From the same source you linked: &quot;Also note that this feature works only for Java interop; since Kotlin has proper function types, automatic conversion of functions into implementations of Kotlin interfaces is unnecessary and therefore unsupported&quot;"}, {"owner": {"reputation": 785, "user_id": 1441857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lXQRz.png?s=128&g=1", "display_name": "Rohde Fischer", "link": "https://stackoverflow.com/users/1441857/rohde-fischer"}, "reply_to_user": {"reputation": 1474, "user_id": 6473398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbaf56ee96aa63833344ce24a82ef35?s=128&d=identicon&r=PG&f=1", "display_name": "sfiss", "link": "https://stackoverflow.com/users/6473398/sfiss"}, "edited": false, "score": 0, "creation_date": 1560413222, "post_id": 56560235, "comment_id": 99730006, "body": "@sfiss I&#39;m inclined to agree, it&#39;s fairly complete indeed :) I think the only part that is missing is actually the addition his answer led me to :)  Using I would argue that using RowMapper is exactly the right thing to do though. First off it communicate the specific intent and the context. What I&#39;m wondering though: is there a way to give a proper function type a name and document them? If not I&#39;m inclined to argue that they might be wrong in claiming that it&#39;s &quot;unnecessary&quot;"}, {"owner": {"reputation": 1474, "user_id": 6473398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbaf56ee96aa63833344ce24a82ef35?s=128&d=identicon&r=PG&f=1", "display_name": "sfiss", "link": "https://stackoverflow.com/users/6473398/sfiss"}, "edited": false, "score": 1, "creation_date": 1560413482, "post_id": 56560235, "comment_id": 99730155, "body": "Maybe a typealias?  <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/type-aliases.html</a> Ofc, the RowMapper typealias would be different from spring&#39;s RowMapper."}, {"owner": {"reputation": 785, "user_id": 1441857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lXQRz.png?s=128&g=1", "display_name": "Rohde Fischer", "link": "https://stackoverflow.com/users/1441857/rohde-fischer"}, "reply_to_user": {"reputation": 1474, "user_id": 6473398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bbaf56ee96aa63833344ce24a82ef35?s=128&d=identicon&r=PG&f=1", "display_name": "sfiss", "link": "https://stackoverflow.com/users/6473398/sfiss"}, "edited": false, "score": 0, "creation_date": 1560598650, "post_id": 56560235, "comment_id": 99794902, "body": "@sfiss oh, thanks I&#39;ve been looking for that :) And yeah, definitely better than nothing, but not exactly the same :)"}], "tags": [], "owner": {"reputation": 1450, "user_id": 3745422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1746658c4978166acc9dc1d50747cae7?s=128&d=identicon&r=PG", "display_name": "Pietro Martinelli", "link": "https://stackoverflow.com/users/3745422/pietro-martinelli"}, "is_accepted": false, "score": 3, "last_activity_date": 1560337335, "last_edit_date": 1560337335, "creation_date": 1560336108, "answer_id": 56560235, "question_id": 56558848, "link": "https://stackoverflow.com/questions/56558848/lambda-expression-doesnt-working-in-seemingly-identical-kotlin/56560235#56560235", "title": "Lambda expression doesn&#39;t working in seemingly identical kotlin", "body": "<p>The key difference I see between the working case and the invocation with compilation error is that the second one refers to a method defined in a Kotlin interface while the first one uses a method defined in a Java interface.</p>\n\n<p>I know that SAM conversion happens from lambas/methods to Java interfaces only, as described here: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions</a> .\nI can't figure out why this can impact to your scenario, but if you redefine <code>MyJJdbcOperations</code> as a Java interface the problem disappears...</p>\n\n<p>This not a real solution but it's a workaround.</p>\n\n<p>It seems that lambdas (I tried with labdas like <code>{x -&gt; this.mapToFoo(x)}</code>, too, with the same result you already encountered) and methods passed to Kotlin interface methods are converted to <code>KFunctionN</code> and not to the expected interface, also when the expected interface is defined as Java interface...</p>\n\n<p>It's not a complete answer but I hope this can help you to get nearer to the solution.</p>\n"}, {"tags": [], "owner": {"reputation": 785, "user_id": 1441857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lXQRz.png?s=128&g=1", "display_name": "Rohde Fischer", "link": "https://stackoverflow.com/users/1441857/rohde-fischer"}, "is_accepted": true, "score": 1, "last_activity_date": 1560336234, "creation_date": 1560336234, "answer_id": 56560268, "question_id": 56558848, "link": "https://stackoverflow.com/questions/56558848/lambda-expression-doesnt-working-in-seemingly-identical-kotlin/56560268#56560268", "title": "Lambda expression doesn&#39;t working in seemingly identical kotlin", "body": "<p>I found at least one workaround, but I am still puzzled by why this happens and why it doesn't work as expected. The following will solve the immediate problem:</p>\n\n<pre><code>    template.querySingle&lt;Foo&gt;(sql, parameters, RowMapper { rs, rowNum -&gt; this.mapToFoo(rs, rowNum) })\n</code></pre>\n\n<p>Thanks to @pietro-martinelli posted an answer that helped me to the right path :)</p>\n"}], "owner": {"reputation": 785, "user_id": 1441857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lXQRz.png?s=128&g=1", "display_name": "Rohde Fischer", "link": "https://stackoverflow.com/users/1441857/rohde-fischer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 56560268, "answer_count": 2, "score": 1, "last_activity_date": 1561271336, "creation_date": 1560331631, "last_edit_date": 1561271336, "question_id": 56558848, "link": "https://stackoverflow.com/questions/56558848/lambda-expression-doesnt-working-in-seemingly-identical-kotlin", "title": "Lambda expression doesn&#39;t working in seemingly identical kotlin", "body": "<p>When trying to create a simple database helper, I have a <code>RowMapper&lt;T&gt;</code> from Spring that I want to fill in, but Kotlin insists on using <code>KFunction2</code>, even though the interface of <code>RowMapper</code> matches. This works on the raw interface from the Spring Java code.</p>\n\n<p>To me it looks like the methods have identical at the important parts. However, Kotlin does not agree with me.</p>\n\n<p>My interface (kotlin) looks as follows:</p>\n\n<pre><code>interface MyJdbcOperations : NamedParameterJdbcOperations {\n    fun &lt;T&gt; querySingle(\n        sql: String,\n        parameters: MapSqlParameterSource,\n        rowMapper: RowMapper&lt;T&gt;): Optional&lt;T&gt;\n}\n</code></pre>\n\n<p>The interface of query inside <code>NamedParameterJdbcOperations</code> looks as follows (Java):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface NamedParameterJdbcOperations {\n    // ... rest of interface omitted for readability\n\n    &lt;T&gt; List&lt;T&gt; query(String sql, SqlParameterSource paramSource, RowMapper&lt;T&gt; rowMapper)\n            throws DataAccessException;\n}\n</code></pre>\n\n<p>But when I use my implementation of <code>MyJdbcOperations</code> as follows:</p>\n\n<pre><code>template.query&lt;Foo&gt;(sql, parameters, this::mapToFoo)\ntemplate.querySingle&lt;Foo&gt;(sql, parameters, this::mapToFoo)\n</code></pre>\n\n<p>The first version works, no problem, and I can also remove <code>&lt;Foo&gt;</code> and let type inference do its job.</p>\n\n<p>The second version however gives me errors like:</p>\n\n<pre><code>Error:(25, 54) Kotlin: Type mismatch: inferred type is KFunction2&lt;@ParameterName ResultSet, @ParameterName Int, Foo&gt; but RowMapper&lt;Foo&gt; was expected\n</code></pre>\n\n<p>However I actually expected this to just work, if the <code>KFunction2</code> signature can satisfy <code>RowMapper&lt;Foo&gt;</code> in the Java interface, then I most certainly would expect it to be able to in Kotlin too. This is obviously not the case.</p>\n\n<p>So what am I doing wrong, and what is the best way to fix it?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1560331891, "post_id": 56558874, "comment_id": 99697799, "body": "I updated the post. It only uses ?. All the field members can be nullable as this data is imported from the web and there is no guarantee that any of the fields will be present."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1560340204, "post_id": 56558874, "comment_id": 99702454, "body": "I&#39;ve added some better ways for this case."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1560340169, "last_edit_date": 1560340169, "creation_date": 1560331745, "answer_id": 56558874, "question_id": 56558735, "link": "https://stackoverflow.com/questions/56558735/check-for-boolean-when-null/56558874#56558874", "title": "Check for boolean when null", "body": "<pre><code>(p!!.company?.industries?.size ?: 0) &gt; 0\n</code></pre>\n\n<p>will give you 0 if <code>size</code> (or more likely, another element of the chain) is <code>null</code>, so the comparison is <code>0 &gt; 0</code> which is false.</p>\n\n<p>But as a side note: why is <em>everything</em> nullable in the first place? And why do you have such a random mix of <code>?.</code> and <code>!!</code>?</p>\n\n<blockquote>\n  <p>All the field members can be nullable as this data is imported from the web and there is no guarantee that any of the fields will be present.</p>\n</blockquote>\n\n<p>Even then you can at least do</p>\n\n<pre><code>val industries = p?.company?.industries\nif (industries != null &amp;&amp; industries.size &gt; 0) {\n    job.industryName = industries[0]\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>p?.company?.industries?.let { \n    if (it.size &gt; 0) { job.industryName = it[0] }\n}\n</code></pre>\n\n<p>if you don't want to make a variable for it.</p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56558874, "answer_count": 1, "score": -1, "last_activity_date": 1560340169, "creation_date": 1560331283, "last_edit_date": 1560331836, "question_id": 56558735, "link": "https://stackoverflow.com/questions/56558735/check-for-boolean-when-null", "title": "Check for boolean when null", "body": "<p>If the field \"size\" is null, this will throw an exception:</p>\n\n<pre><code>if (p?.company?.industries?.size &gt; 0)\n   job.industryName = p?.company?.industries!![0]\n</code></pre>\n\n<p>I tried using .size!! but this generated an exception as well. How do I check if size is greater than zero? </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 18271, "user_id": 6507689, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tKmXs.png?s=128&g=1", "display_name": "R. Zag&#243;rski", "link": "https://stackoverflow.com/users/6507689/r-zag%c3%b3rski"}, "edited": false, "score": 1, "creation_date": 1560330766, "post_id": 56558035, "comment_id": 99697138, "body": "<code>@JvmOverloads</code> on a method with parameters without default values does nothing. Are you sure that those 2 methods clash? They have different signature. Maybe you have another method in <code>BaseDAO</code>?"}, {"owner": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "reply_to_user": {"reputation": 18271, "user_id": 6507689, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tKmXs.png?s=128&g=1", "display_name": "R. Zag&#243;rski", "link": "https://stackoverflow.com/users/6507689/r-zag%c3%b3rski"}, "edited": false, "score": 0, "creation_date": 1560334945, "post_id": 56558035, "comment_id": 99699475, "body": "they definitely clash... i get &#39;insert&#39; hides member of supertype &#39;BaseDAO&#39; and needs &#39;override&#39; modifier from Android Studio"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1560335496, "post_id": 56558035, "comment_id": 99699797, "body": "The <code>fun insert(obj: SingleDO)</code> is the same as <code>fun insert(obj: T)</code> since the <code>SingleDAO</code> extends <code>BaseDAO&lt;SingleDO&gt;</code>...isn&#39;t it?"}, {"owner": {"reputation": 18271, "user_id": 6507689, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tKmXs.png?s=128&g=1", "display_name": "R. Zag&#243;rski", "link": "https://stackoverflow.com/users/6507689/r-zag%c3%b3rski"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 1, "creation_date": 1560335778, "post_id": 56558035, "comment_id": 99699936, "body": "@Demigod this is exactly what I meant before author modified the question content.  @Hector the solution is to add <code>override</code> modifier in subclass (<code>SingleDAO </code>), but don&#39;t call <code>super.insert()</code> in subclass implementation if you would like to have a different implementation in a subclass. Otherwise you might think of composition instead of inheritance."}], "answers": [{"comments": [{"owner": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "edited": false, "score": 0, "creation_date": 1560334975, "post_id": 56558567, "comment_id": 99699497, "body": "without the @JvmOverloads i get... &#39;insert&#39; hides member of supertype &#39;BaseDAO&#39; and needs &#39;override&#39; modifier"}, {"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "reply_to_user": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "edited": false, "score": 1, "creation_date": 1560335129, "post_id": 56558567, "comment_id": 99699580, "body": "I can see that you updated your question - you already have insert method for a single object, why would you need to overload it? It is just the same"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": true, "score": 1, "last_activity_date": 1560330741, "creation_date": 1560330741, "answer_id": 56558567, "question_id": 56558035, "link": "https://stackoverflow.com/questions/56558035/how-to-overload-methods-in-kotlin/56558567#56558567", "title": "How to overload methods in Kotlin", "body": "<p>I believe that you should just remove the <code>@JvmOverloads</code> annotation :)</p>\n"}], "owner": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 56558567, "answer_count": 1, "score": 0, "last_activity_date": 1560334899, "creation_date": 1560329044, "last_edit_date": 1560334899, "question_id": 56558035, "link": "https://stackoverflow.com/questions/56558035/how-to-overload-methods-in-kotlin", "title": "How to overload methods in Kotlin", "body": "<p>My current Android application employs Kotlin &amp; Room</p>\n\n<p>I have a <code>BaseDAO</code> interface as follows:-</p>\n\n<pre><code>interface BaseDAO&lt;T&gt; {\n\n    /**\n     * Insert an object in the database.\n     *\n     * @param obj the object to be inserted.\n     */\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insert(obj: T) : Long\n\n    /**\n     * Insert multiple objects in the database.\n     *\n     * @param obj the objects to be inserted.\n     */\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insert(obj: List&lt;T&gt;) : List&lt;Long&gt;\n\n    /**\n     * Update an object from the database.\n     *\n     * @param obj the object to be updated\n     */\n    @Update\n    fun update(obj: T)\n\n    /**\n     * Delete an object from the database\n     *\n     * @param obj the object to be deleted\n     */\n    @Delete\n    fun delete(obj: T)\n}\n</code></pre>\n\n<p>I would also like to have an insert method that accepts a single instance of a DO like this in my specific DAO interface</p>\n\n<pre><code>@Dao\ninterface SingleDAO : BaseDAO&lt;SingleDO&gt; {\n\n    @Query(\"SELECT count(*) from single limit 1\")\n    fun count(): Long\n\n    /**\n     * Insert single object in the database.\n     *\n     * @param obj the object to be inserted.\n     */\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insert(obj: SingleDO) : Long\n}\n</code></pre>\n\n<p>Android Studio reports this compile error</p>\n\n<pre><code>'insert' hides member of supertype 'BaseDAO' and needs 'override' modifier\n</code></pre>\n\n<p>I want to Overload not override <code>'insert'</code> method</p>\n\n<p>If I try and add <code>'@JvmOverloads'</code> to my overloading <code>insert</code> method Android Studio gives me this error</p>\n\n<pre><code>`'@JvmOverloads'` annotation cannot be used on interface methods\n</code></pre>\n\n<p>How can I overload my BaseDAO method?</p>\n"}, {"tags": ["kotlin", "interface"], "answers": [{"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 2, "last_activity_date": 1560359346, "last_edit_date": 1560359346, "creation_date": 1560328026, "answer_id": 56557729, "question_id": 56557625, "link": "https://stackoverflow.com/questions/56557625/how-can-i-call-an-interface-in-kotlin/56557729#56557729", "title": "How can i call an interface in kotlin?", "body": "<p>The <code>SpeechService.Listener { }</code> syntax for SAM interfaces is only possible when the interface is written i Java (see <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions</a>). Because the interface is written in Kotlin, you have to write it like this:</p>\n\n<pre><code>private val mSpeechServiceListener = object : SpeechService.Listener {\n\n    override fun onSpeechRecognized(text: String?, isFinal: Boolean) {\n        // Code here\n    }\n\n}\n</code></pre>\n\n<p>You don't really need the <code>SpeechService.Listener</code> interface in Kotlin though. You could just use a lambda function. This depends on whether the interface comes from a library or if you've written it yourself though.</p>\n\n<pre><code>private val mSpeechServiceListener: (String?, Boolean) -&gt; Unit = { text, isFinal -&gt;\n    // Code here\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11497226, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_OQF4CJAwF4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfALB28xrvVdMeQ0tuzquGNJui5kA/mo/photo.jpg?sz=128", "display_name": "Sergio V&#225;zquez", "link": "https://stackoverflow.com/users/11497226/sergio-v%c3%a1zquez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560359346, "creation_date": 1560327596, "last_edit_date": 1560327872, "question_id": 56557625, "link": "https://stackoverflow.com/questions/56557625/how-can-i-call-an-interface-in-kotlin", "title": "How can i call an interface in kotlin?", "body": "<p>I do not have a project in my work and they have asked me to give me a pass, but after passing the whole project, there is a part that has given me a code error at the moment. Clearly it's my first time in Kotlin and I have no idea, but I do have an idea. I tried to solve it and I have not succeeded. So I was asking for help. I get an error right at the beginning of the</p>\n\n<blockquote>\n  <p>= SpeechService.Lintener {</p>\n</blockquote>\n\n<p>Here the code</p>\n\n<pre><code>private val mSpeechServiceListener = SpeechService.Listener { text: String?, isFinal: Boolean -&gt;\n    if (isFinal) {\n        mVoiceRecorder!!.dismiss()\n    }\n\n    if (mText != null &amp;&amp; !TextUtils.isEmpty(text)) {\n        runOnUiThread {\n            if (isFinal) {\n\n                if (mText!!.text.toString().equals(\"hola\", ignoreCase = true) || b == true) {\n                    if (b == true) {\n                        mText!!.text = null\n                        mTextMod!!.text = text\n\n                        repro().onPostExecute(text)\n                        random = 2\n                    } else {\n                        b = true\n                        mText!!.text = null\n                        val saludo = \"Bienvenido, \u00bfque desea?\"\n                        mTextMod!!.text = saludo\n                        repro().onPostExecute(saludo)\n                    }\n                }\n\n            } else {\n                mText!!.text = text\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and here the interface</p>\n\n<pre><code>interface Listener {\n\n    fun onSpeechRecognized(text: String?, isFinal: Boolean)\n\n}\n</code></pre>\n\n<p>Please, help me. the error is \"Interface Listener does not have constructor\"</p>\n"}, {"tags": ["android", "kotlin", "file-storage"], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 0, "last_activity_date": 1560330859, "creation_date": 1560330859, "answer_id": 56558598, "question_id": 56557496, "link": "https://stackoverflow.com/questions/56557496/is-getexternalfilesdirnull-absolutepath-fixed/56558598#56558598", "title": "Is getExternalFilesDir(null).absolutePath fixed?", "body": "<p>It's always safer to assume that the path might change - even if at this very moment it won't, future system updates might break your apps. I'd say - go for sending the path.</p>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 2575201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cCWzU.png?s=128&g=1", "display_name": "cowboi-peng", "link": "https://stackoverflow.com/users/2575201/cowboi-peng"}, "is_accepted": false, "score": 0, "last_activity_date": 1560331369, "creation_date": 1560331369, "answer_id": 56558763, "question_id": 56557496, "link": "https://stackoverflow.com/questions/56557496/is-getexternalfilesdirnull-absolutepath-fixed/56558763#56558763", "title": "Is getExternalFilesDir(null).absolutePath fixed?", "body": "<pre><code>getExternalFilesDir\n</code></pre>\n\n<p>This API will always get the same directory on same phone , so if you save file at this path , you will also can upload &amp; delete it .</p>\n\n<p>But if you hardcore a path , such as /sdcard/ you should ask for the rw_sdcard permission to do this . </p>\n\n<p>But <strong>getExternalFilesDir</strong> doesn't need ask for permission , I'd rather suggest you keep this code .</p>\n"}], "owner": {"reputation": 3, "user_id": 7208796, "user_type": "registered", "profile_image": "https://graph.facebook.com/1194358440643605/picture?type=large", "display_name": "art", "link": "https://stackoverflow.com/users/7208796/art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560331369, "creation_date": 1560327086, "question_id": 56557496, "link": "https://stackoverflow.com/questions/56557496/is-getexternalfilesdirnull-absolutepath-fixed", "title": "Is getExternalFilesDir(null).absolutePath fixed?", "body": "<p>So I'm working on two apps, one writes files, the other uploads the files and delete them.\n I save the files using </p>\n\n<pre><code>    val file = File(content.getExternalFilesDir(null), \"$fileName.csv\")\n\n</code></pre>\n\n<p>And tested it on two different phones, both shows that file is saved to the path \n/storage/emulated/0/Android/data/com.example.app1/files/</p>\n\n<p>My question is will the path be the same on any other phones? or will it vary from different os version and phones?</p>\n\n<p>Should i hardcore the path in the upload app? or should i use Intent to send the path to the upload app?</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "edited": false, "score": 0, "creation_date": 1560329141, "post_id": 56557998, "comment_id": 99696217, "body": "why werent these provided &quot;Out Of The Box&quot; for Kotlin?"}, {"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "reply_to_user": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "edited": false, "score": 1, "creation_date": 1560329499, "post_id": 56557998, "comment_id": 99696431, "body": "I think you should ask the Android Studio Team :D"}], "tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": true, "score": 2, "last_activity_date": 1560328908, "creation_date": 1560328908, "answer_id": 56557998, "question_id": 56557399, "link": "https://stackoverflow.com/questions/56557399/why-does-switching-to-kotlin-break-android-studio-code-assist/56557998#56557998", "title": "Why does switching to Kotlin break Android Studio code assist", "body": "<p>Because these Live Templates are set as applicable in Java. Also, they are written following the Java syntax.<br>\nIf you want you can add new live templates for Kotlin.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bnq1s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bnq1s.png\" alt=\"\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 6629824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd571a2c26eed7cd4a84a0b187749f0?s=128&d=identicon&r=PG&f=1", "display_name": "Soe Thiha", "link": "https://stackoverflow.com/users/6629824/soe-thiha"}, "is_accepted": false, "score": 1, "last_activity_date": 1560336311, "creation_date": 1560336311, "answer_id": 56560292, "question_id": 56557399, "link": "https://stackoverflow.com/questions/56557399/why-does-switching-to-kotlin-break-android-studio-code-assist/56560292#56560292", "title": "Why does switching to Kotlin break Android Studio code assist", "body": "<p>You can get a config file and follow the instructions from this.\n<a href=\"https://medium.com/@dumazy/live-templates-for-kotlin-log-statements-in-android-studio-f8b64670e572\" rel=\"nofollow noreferrer\">A Medium post for Live Templates for Kotlin Log statements in Android Studio</a></p>\n"}], "owner": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 56557998, "answer_count": 2, "score": 0, "last_activity_date": 1560336311, "creation_date": 1560326759, "question_id": 56557399, "link": "https://stackoverflow.com/questions/56557399/why-does-switching-to-kotlin-break-android-studio-code-assist", "title": "Why does switching to Kotlin break Android Studio code assist", "body": "<p>When developing in the Java programming language within Android Studio\nthere are a number of time saving shortcuts such as typing</p>\n\n<pre><code>logt&lt;TAB&gt;\nlogd&lt;TAB&gt;\nlogm&lt;TAB&gt;\n</code></pre>\n\n<p>that add Log Cat statements</p>\n\n<p>Why do these not work when developing with Kotlin?</p>\n"}, {"tags": ["android", "rest", "kotlin", "retrofit", "http-get"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1560324467, "post_id": 56556685, "comment_id": 99693811, "body": "If you only want to print the response then why not use <code>HttpLogIntercepter</code>? To Get raw response <a href=\"https://stackoverflow.com/questions/33282889/get-raw-http-response-with-retrofit\">Follow this</a> .."}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1560324536, "post_id": 56556685, "comment_id": 99693839, "body": "@ADM I did not know about <code>HttpLogIntercepter</code>."}, {"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1560324615, "post_id": 56556685, "comment_id": 99693877, "body": "Have look <a href=\"https://stackoverflow.com/a/33256827/5110595\">this</a>"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1560325096, "post_id": 56556685, "comment_id": 99694136, "body": "@HemantParmar This is in java and I am working on Kotlin."}, {"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1560325613, "post_id": 56556685, "comment_id": 99694427, "body": "You can convert it."}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1560325916, "post_id": 56556685, "comment_id": 99694594, "body": "@SazzadHissainKhan Here is a Doc illustrating about logging with a one liner code .. <a href=\"https://futurestud.io/tutorials/retrofit-2-log-requests-and-responses\" rel=\"nofollow noreferrer\">futurestud.io/tutorials/retrofit-2-log-requests-and-response&zwnj;&#8203;s</a>.. If you are having problem with Kotlin Syntax then you can write it in java and later covert it in Kotlin then Understand the syntax .."}, {"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 4, "creation_date": 1560327215, "post_id": 56556685, "comment_id": 99695235, "body": "<code>Marked duplicated post (Get raw HTTP response with Retrofit) is not for Kotlin and I need Kotlin version.</code> then convert it. I like how your bio says &quot;problem solver&quot; yet you rely on others to convert Java code to Kotlin <b>for you</b>"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1560839670, "post_id": 56556685, "comment_id": 99856269, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33282889/get-raw-http-response-with-retrofit\">Get raw HTTP response with Retrofit</a>"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1560841522, "post_id": 56556685, "comment_id": 99857133, "body": "@rafid059 please read my post carefully until the end."}], "answers": [{"comments": [{"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 1, "creation_date": 1560324775, "post_id": 56556801, "comment_id": 99693959, "body": "My question was for Kotlin"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1560324981, "post_id": 56556801, "comment_id": 99694069, "body": "What do you mean by <code>getUser(...)</code>"}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "reply_to_user": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1560325070, "post_id": 56556801, "comment_id": 99694117, "body": "You can easily convert Java code to kotlin or you can directly use java code in kotlin as well."}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "reply_to_user": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1560325117, "post_id": 56556801, "comment_id": 99694148, "body": "getUser(...) is the implementation of the interface which I defined in first step."}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1560325159, "post_id": 56556801, "comment_id": 99694177, "body": "Could you please update your answer for Kotlin. I am not getting your getUser. Could you please post the implementation also. Thanks."}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "reply_to_user": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1560325303, "post_id": 56556801, "comment_id": 99694265, "body": "I haven&#39;t worked with kotlin. See if this helps you <a href=\"https://medium.com/@elye.project/kotlin-and-retrofit-2-tutorial-with-working-codes-333a4422a890\" rel=\"nofollow noreferrer\">medium.com/@elye.project/&hellip;</a>"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1560325473, "post_id": 56556801, "comment_id": 99694346, "body": "Your link asking to switch me for premium medium account :(."}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "reply_to_user": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1560325784, "post_id": 56556801, "comment_id": 99694528, "body": "try in private browser window."}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1560408169, "post_id": 56556801, "comment_id": 99727441, "body": "<code>response.body().string()</code> does not print the json rathe printing class id, <code>okhttp3.ResponseBody$1@88eab56</code>"}], "tags": [], "owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "is_accepted": false, "score": 1, "last_activity_date": 1560324615, "creation_date": 1560324615, "answer_id": 56556801, "question_id": 56556685, "link": "https://stackoverflow.com/questions/56556685/how-to-get-raw-json-response-of-retrofit-in-kotlin/56556801#56556801", "title": "How to get raw json response of Retrofit in Kotlin?", "body": "<p>You can simply use the response body of okhttp as retrofit is based on okhttp.</p>\n\n<p>Here is an example which you can convert to your use case:</p>\n\n<pre><code>@GET(\"users/{user}/repos\")\n  Call&lt;ResponseBody&gt; getUser(@Path(\"user\") String user);\n</code></pre>\n\n<p>Then you can call it like this:</p>\n\n<pre><code>Call&lt;ResponseBody&gt; myCall = getUser(...)\nmyCall.enqueue(new Callback&lt;ResponseBody&gt;() {\n    @Override\n    public void onResponse(Response&lt;ResponseBody&gt; response, Retrofit retrofit) {\n        // access response code with response.code()\n        // access string of the response with response.body().string()\n    }\n\n    @Override\n    public void onFailure(Throwable t) {\n        t.printStackTrace();\n    }\n});\n</code></pre>\n\n<p>For more information see: \n<a href=\"https://stackoverflow.com/a/33286112/4428159\">https://stackoverflow.com/a/33286112/4428159</a></p>\n"}, {"tags": [], "owner": {"reputation": 1774, "user_id": 2486234, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cd37c00c17c096ecf8fee9a1a5329f06?s=128&d=identicon&r=PG", "display_name": "Belal Khan", "link": "https://stackoverflow.com/users/2486234/belal-khan"}, "is_accepted": true, "score": 7, "last_activity_date": 1560327040, "creation_date": 1560327040, "answer_id": 56557477, "question_id": 56556685, "link": "https://stackoverflow.com/questions/56556685/how-to-get-raw-json-response-of-retrofit-in-kotlin/56557477#56557477", "title": "How to get raw json response of Retrofit in Kotlin?", "body": "<p>It is pretty easy you just need to make your network calls function like this. </p>\n\n<pre><code>@FormUrlEncoded\n@POST(\"Your URL\")\nfun myNetworkCall() : Call&lt;ResponseBody&gt;\n</code></pre>\n\n<p>The point here is your network call should return a <code>Call</code> of type <code>ResponseBody</code>. And from <code>ResponseBody</code> you can get the response in String format. </p>\n\n<p>Now when you will call this function to perform the network call you will get the raw string response. </p>\n\n<pre><code>    MyApi().myNetworkCall().enqueue(object: Callback&lt;ResponseBody&gt;{\n        override fun onFailure(call: Call&lt;ResponseBody&gt;, t: Throwable) {\n            //handle error here\n        }\n\n        override fun onResponse(call: Call&lt;ResponseBody&gt;, response: Response&lt;ResponseBody&gt;) {\n            //your raw string response\n            val stringResponse = response.body()?.string()\n        }\n\n    })\n</code></pre>\n\n<p>Its pretty simple. Let me know if you want any other details. Hope this helps. Thank You </p>\n"}], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10043, "favorite_count": 0, "accepted_answer_id": 56557477, "answer_count": 2, "score": 2, "last_activity_date": 1560342528, "creation_date": 1560324147, "last_edit_date": 1592644375, "question_id": 56556685, "link": "https://stackoverflow.com/questions/56556685/how-to-get-raw-json-response-of-retrofit-in-kotlin", "title": "How to get raw json response of Retrofit in Kotlin?", "body": "<p>I am new to <code>Kotlin</code> and <code>Retrofit</code>. I want to call a base <code>URL</code> through <code>Retrofit</code> and print the raw <code>JSON</code> response. What would be the simplest minimal configuration?</p>\n<p>Let's say,</p>\n<pre><code>base url = &quot;https://devapis.gov/services/argonaut/v0/&quot; \nmethod = &quot;GET&quot;\nresource = &quot;Patient&quot;\nparam = &quot;id&quot;\n</code></pre>\n<p>I tried,</p>\n<pre><code>val patientInfoUrl = &quot;https://devapis.gov/services/argonaut/v0/&quot;\n\n        val infoInterceptor = Interceptor { chain -&gt;\n            val newUrl = chain.request().url()\n                    .newBuilder()\n                    .query(accountId)\n                    .build()\n\n            val newRequest = chain.request()\n                    .newBuilder()\n                    .url(newUrl)\n                    .header(&quot;Authorization&quot;,accountInfo.tokenType + &quot; &quot; + accountInfo.accessToken)\n                    .header(&quot;Accept&quot;, &quot;application/json&quot;)\n                    .build()\n\n            chain.proceed(newRequest)\n        }\n\n        val infoClient = OkHttpClient().newBuilder()\n                .addInterceptor(infoInterceptor)\n                .build()\n\n        val retrofit = Retrofit.Builder()\n                .baseUrl(patientInfoUrl)\n                .client(infoClient)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n\n        Logger.i(TAG, &quot;Calling retrofit.create&quot;)\n        try {\n            // How to get json data here\n        }catch (e: Exception){\n            Logger.e(TAG, &quot;Error&quot;, e);\n        }\n        Logger.i(TAG, &quot;Finished retrofit.create&quot;)\n\n    }\n</code></pre>\n<p>How can i get the raw json output. I don't want to implement user data class and parsing stuffs if possible. Is there any way?</p>\n<h3>Update 1</h3>\n<p>Marked duplicated post (<a href=\"https://stackoverflow.com/questions/33282889/get-raw-http-response-with-retrofit\">Get raw HTTP response with Retrofit</a>) is not for Kotlin and I need Kotlin version.</p>\n"}, {"tags": ["string", "kotlin", "filter", "substring"], "answers": [{"tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": 1, "last_activity_date": 1560327742, "creation_date": 1560327742, "answer_id": 56557650, "question_id": 56556381, "link": "https://stackoverflow.com/questions/56556381/filter-a-string-which-holds-a-timestamp-kotlin/56557650#56557650", "title": "Filter a String which holds a TimeStamp - Kotlin", "body": "<p>I would suggest dropping the use of Timestamp class. it is outdated and anything it provides can be achieved in easier ways.</p>\n\n<p>For your use case you could just use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat</a>. It would look like this:</p>\n\n<pre><code>SimpleDateFormat(\"yyyyMMddHHmmssSSS\").format(Date())\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 10653586, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-feBqb1GdhBA/AAAAAAAAAAI/AAAAAAAAAB4/4BPIrdk2DGE/photo.jpg?sz=128", "display_name": "Shaheen Ahamed S", "link": "https://stackoverflow.com/users/10653586/shaheen-ahamed-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 56557650, "answer_count": 1, "score": 1, "last_activity_date": 1560327742, "creation_date": 1560322979, "last_edit_date": 1560323717, "question_id": 56556381, "link": "https://stackoverflow.com/questions/56556381/filter-a-string-which-holds-a-timestamp-kotlin", "title": "Filter a String which holds a TimeStamp - Kotlin", "body": "<p>I have written a function which generate a <code>TimeStamp</code> and convert it to a <code>String</code> using <code>toString()</code>. I want to <code>remove</code> the <code>whitespaces</code> and other <code>special character</code> from that string. Is there is any efficient way to do it ?</p>\n\n<p>This is a function which generate <code>ID</code> using <code>TimeStamp</code> , since timestamp will be unique (<code>Note :</code> When IDs are generated at different M.Sec)</p>\n\n<pre><code>fun autoGenerateID() : String = Timestamp(java.util.Date().getTime()).toString()\n</code></pre>\n\n<p>When I call the function, It should return :\n<code>20190612121912463</code></p>\n\n<p>But the produced result was :\n<code>2019-06-12 12:19:12.463</code></p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1560322944, "post_id": 56556312, "comment_id": 99693098, "body": "Add Touch Listener on This view and <code>Return True</code> (Consume the event) .. i can only suggest this with this much Information in question ."}], "answers": [{"tags": [], "owner": {"reputation": 1774, "user_id": 2486234, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/cd37c00c17c096ecf8fee9a1a5329f06?s=128&d=identicon&r=PG", "display_name": "Belal Khan", "link": "https://stackoverflow.com/users/2486234/belal-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1560326319, "creation_date": 1560326319, "answer_id": 56557257, "question_id": 56556312, "link": "https://stackoverflow.com/questions/56556312/disable-viewpager-swipe-when-swiping-on-a-certain-view/56557257#56557257", "title": "Disable ViewPager swipe when swiping on a certain View", "body": "<p>You can use this code to achieve your goal. </p>\n\n<pre><code>class LockableViewPager : ViewPager {\n    private var swipeable: Boolean = false\n\n    constructor(context: Context) : super(context) {}\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n        this.swipeable = true\n    }\n\n    override fun onTouchEvent(event: MotionEvent): Boolean {\n        return if (this.swipeable) {\n            super.onTouchEvent(event)\n        } else false\n    }\n\n    override fun onInterceptTouchEvent(event: MotionEvent): Boolean {\n        return if (this.swipeable) {\n            super.onInterceptTouchEvent(event)\n        } else false\n    }\n\n    fun setSwipeable(swipeable: Boolean) {\n        this.swipeable = swipeable\n    }\n}\n</code></pre>\n\n<p>And then you just need to call </p>\n\n<p><code>setSwipeable(false)</code></p>\n\n<p>Hope this helps. Thank You</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560326319, "creation_date": 1560322710, "question_id": 56556312, "link": "https://stackoverflow.com/questions/56556312/disable-viewpager-swipe-when-swiping-on-a-certain-view", "title": "Disable ViewPager swipe when swiping on a certain View", "body": "<p>I want to keep the swiping feature of my <code>ViewPager</code> however I want to disable it just when swiping on a certain <code>View</code> in my layout file (a custom <code>Preference</code> which I'm extending):</p>\n\n<p><strong>activity.xml</strong></p>\n\n<pre><code>&lt;androidx.viewpager.widget.ViewPager\n    android:id=\"@+id/viewpager\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n&lt;/androidx.viewpager.widget.ViewPager&gt;\n</code></pre>\n\n<p><strong>activity.kt</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_home)\n    viewpager.addOnPageChangeListener(this)\n    // Initialise FragmentAdapter\n    val fragmentAdapter = ScreenSlidePagerAdapter(supportFragmentManager)\n    viewpager.adapter = fragmentAdapter\n    viewpager.currentItem = 1\n}\n\n\nprivate inner class ScreenSlidePagerAdapter(fm: FragmentManager) : FragmentStatePagerAdapter(fm){\n    override fun getItem(position: Int): Fragment {\n        return when(position){\n            0 -&gt; {\n                SettingsFragment()\n            }\n            2 -&gt; {\n                UserFragment()\n            }\n            else -&gt; {\n                MainFragment()\n            }\n        }\n    }\n    // 3 Fragments\n    override fun getCount(): Int {\n        return 3\n    }\n\n}\n</code></pre>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "edited": false, "score": 0, "creation_date": 1560440381, "post_id": 56555049, "comment_id": 99746225, "body": "anyone? This is a perfectly adequate beginner question :)"}, {"owner": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "edited": false, "score": 0, "creation_date": 1561023118, "post_id": 56555049, "comment_id": 99931702, "body": "Sadly, it isn&#39;t a clear question.&quot;The problem is that the return has been PararUm(PararUm=1) and not just 1. (99-below)&quot;: it seems like you&#39;re reading it into a class and expecting an int, of course you&#39;ll have a class instance."}, {"owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "reply_to_user": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "edited": false, "score": 0, "creation_date": 1561063434, "post_id": 56555049, "comment_id": 99952451, "body": "@Gazihan Alankus,  What would you have to say about the second part of the question?"}, {"owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "reply_to_user": {"reputation": 6987, "user_id": 679553, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/142efc7cd8bb5bca1fccc94bfb78aa9d?s=128&d=identicon&r=PG", "display_name": "Gazihan Alankus", "link": "https://stackoverflow.com/users/679553/gazihan-alankus"}, "edited": false, "score": 0, "creation_date": 1561234409, "post_id": 56555049, "comment_id": 99999077, "body": "the answer to the first question is:   var PararUm = documentSnapshot.toObject(PararUm::class.java)?.PararUm  and take the word data, from the class PararUm."}], "owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561239125, "creation_date": 1560316364, "last_edit_date": 1561239125, "question_id": 56555049, "link": "https://stackoverflow.com/questions/56555049/how-to-deserialize-number-value-in-firestore-field-and-read-this-inside-de-while", "title": "How to deserialize number value in Firestore field and read this inside de while/loop using kotlinx.coroutines", "body": "<p>In the firestore I created a field named PararUm, type number (it does not have Int, when I enter it manually) and I put value 1. </p>\n\n<p>The problem is that the return has been PararUm(PararUm=1) and not just 1.\n(99-below)</p>\n\n<p><strong>When I resolved this, I would have solved the first part of the project.</strong></p>\n\n<p>Regarding the second, I want to use kotlinx.coroutines to work within a while/loop (which queries the value of the PararUm field) in a synchronous, non-asynchronous way (as firebase requires)</p>\n\n<p>Can I do something like???(999-below): </p>\n\n<p>I threw this topic down, but I was not happy<a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/1248#issuecomment-501039088\" rel=\"nofollow noreferrer\">1</a>.</p>\n\n<h2>99-below:</h2>\n\n<h2>model</h2>\n\n<pre><code>@IgnoreExtraProperties\ndata class PararUm(\n        var PararUm: Int? = 0\n)\n</code></pre>\n\n<h2>Activity</h2>\n\n<pre><code>var db = FirebaseFirestore.getInstance()\n\n override fun onCreate(savedInstanceState: Bundle?) {\n     super.onCreate(savedInstanceState)\n     var pararumRef = \ndb.collection(\"smartmodel\").document(\"xxxxxxxxxxxx\")\n\n    pararumRef.get().addOnSuccessListener { documentSnapshot -&gt;\n        var PararUm = documentSnapshot.toObject(PararUm::class.java)\n        Log.i(ContentValues.TAG, \"1999 1999 1999\" + PararUm)\n\n    }\n}\n</code></pre>\n\n<h2>999-below:</h2>\n\n<pre><code>while (!FCMotorUmA.value) {\n\n    var snapshot = pararumRef.get().await()\n\u00a0\u00a0\u00a0\u00a0    \n    var pararum = snapshot.toObject(PararUM::class.java)\n\n    if (pararum.equals(0)) {\n\n        // Do something 1\n\n\n    } else if (pararum.equals(1)) {\n\n        // Do something 2\n    }\n\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 982, "user_id": 570244, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7e32aa83ad31238662afd4f91ebe7c2?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/570244/phil"}, "edited": false, "score": 0, "creation_date": 1560359876, "post_id": 56555038, "comment_id": 99713981, "body": "The equivalent template function in C++,  template&lt;class T&gt; T twice(T x) {     return 2*x; }  works as one would expect. So as it currently stands, Kotlin generics cannot do math on the generic type. Interesting."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1560316325, "creation_date": 1560316325, "answer_id": 56555038, "question_id": 56554959, "link": "https://stackoverflow.com/questions/56554959/simple-generic-function-in-kotlin-fails/56555038#56555038", "title": "Simple Generic Function in Kotlin Fails", "body": "<p>Since <code>T</code> could be anything, the compiler is not able to find a matching <code>times</code> operator. As you can see in the error message, for <code>Int</code>, there a multiple alternatives available</p>\n\n<pre><code>public final operator fun times(other: Byte): Int defined in kotlin.Int\npublic final operator fun times(other: Double): Double defined in kotlin.Int\npublic final operator fun times(other: Float): Float defined in kotlin.Int\npublic final operator fun times(other: Int): Int defined in kotlin.Int\npublic final operator fun times(other: Long): Long defined in kotlin.Int\npublic final operator fun times(other: Short): Int defined in kotlin.Int\n</code></pre>\n\n<p>But unfortunately there's no generic <code>times</code> function, which can be used with e.g. <code>Number</code>. I'm afraid in this case, you would have to create an overload for each type you want to be handling, i.e., <code>Double</code>, <code>Int</code>, etc.</p>\n"}], "owner": {"reputation": 982, "user_id": 570244, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7e32aa83ad31238662afd4f91ebe7c2?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/570244/phil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 56555038, "answer_count": 1, "score": 1, "last_activity_date": 1560316325, "creation_date": 1560315836, "question_id": 56554959, "link": "https://stackoverflow.com/questions/56554959/simple-generic-function-in-kotlin-fails", "title": "Simple Generic Function in Kotlin Fails", "body": "<p>Here's a simple generic function in Kotlin:</p>\n\n<pre><code>fun &lt;T&gt; twice(x: T) : T { return 2 * x }\n</code></pre>\n\n<p>Attempting to build this (either in a project or REPL) results in the following errors:</p>\n\n<pre><code>error: none of the following functions can be called with the arguments supplied: \npublic final operator fun times(other: Byte): Int defined in kotlin.Int\npublic final operator fun times(other: Double): Double defined in kotlin.Int\npublic final operator fun times(other: Float): Float defined in kotlin.Int\npublic final operator fun times(other: Int): Int defined in kotlin.Int\npublic final operator fun times(other: Long): Long defined in kotlin.Int\npublic final operator fun times(other: Short): Int defined in kotlin.Int\nfun &lt;T&gt; twice(x: T) : T { return 2 * x }\n                                   ^\n</code></pre>\n\n<p>If I switch the return statement operands to x * 2, the error messages become:</p>\n\n<pre><code>error: unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \n@InlineOnly public inline operator fun BigDecimal.times(other: BigDecimal): BigDecimal defined in kotlin\n@InlineOnly public inline operator fun BigInteger.times(other: BigInteger): BigInteger defined in kotlin\nfun &lt;T&gt; twice(x: T) : T { return x * 2 }\n                                   ^\n</code></pre>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1560312829, "post_id": 56554566, "comment_id": 99690109, "body": "Have u read this <a href=\"https://stackoverflow.com/questions/40138923/difference-between-and-any-in-kotlin-generics\" title=\"difference between and any in kotlin generics\">stackoverflow.com/questions/40138923/&hellip;</a>"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1560312875, "post_id": 56554566, "comment_id": 99690121, "body": "Read this <a href=\"https://kotlinlang.org/docs/reference/generics.html#type-projections\" rel=\"nofollow noreferrer\">kotlin Type projections</a>"}, {"owner": {"reputation": 2798, "user_id": 3275450, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/RR9XY.jpg?s=128&g=1", "display_name": "Prashant Jajal", "link": "https://stackoverflow.com/users/3275450/prashant-jajal"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1560312888, "post_id": 56554566, "comment_id": 99690124, "body": "yes but i can not able to understand that answer."}], "owner": {"reputation": 2798, "user_id": 3275450, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/RR9XY.jpg?s=128&g=1", "display_name": "Prashant Jajal", "link": "https://stackoverflow.com/users/3275450/prashant-jajal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "closed_date": 1560312883, "answer_count": 0, "score": 0, "last_activity_date": 1560312706, "creation_date": 1560312706, "question_id": 56554566, "link": "https://stackoverflow.com/questions/56554566/specify-difference-between-t-and-any-in-kotlin", "closed_reason": "Duplicate", "title": "Specify difference between &lt;*&gt;, &lt;T&gt; and &lt;Any&gt; in kotlin", "body": "<p>I have so much confusion among <code>&lt;T&gt;, &lt;*&gt;</code> and <code>&lt;Any&gt;</code> casting of any object. Can any one have proper explanation with example for this?</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7954, "user_id": 6899896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kxVjz.jpg?s=128&g=1", "display_name": "M.Ricciuti", "link": "https://stackoverflow.com/users/6899896/m-ricciuti"}, "is_accepted": true, "score": 1, "last_activity_date": 1560341831, "creation_date": 1560341831, "answer_id": 56562049, "question_id": 56554423, "link": "https://stackoverflow.com/questions/56554423/gradle-commandline-in-a-for-each/56562049#56562049", "title": "Gradle - commandLine in a for each", "body": "<p>See <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/process/ExecSpec.html\" rel=\"nofollow noreferrer\">ExecSpec</a> : when you write <code>commandLine(\"ln\", \"-s\", configFile)</code> you are actually calling the <code>commandLine</code> property <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/process/ExecSpec.html#commandLine-java.lang.Object...-\" rel=\"nofollow noreferrer\">setter</a>; if you wrap this call in a <code>forEach</code> loop, only the last value will be used (this is what you observed). In fact the <code>Exec</code> task can have only one <code>commandLine</code>.</p>\n\n<p>In your case you could wrap the <code>project.exec( {...})</code> call into the <code>forEach</code> block, in order to trigger one <code>exec</code> call for each of your config file.</p>\n\n<p>Something like that should work ( code not tested, you might have to adapt a little bit):</p>\n\n<pre><code>@TaskAction\nfun create() {\n\n    var configFilesPath = Paths.get(System.getProperty(\"user.dir\"), \"../../../\", \"myconfig/\");\n    // Iterate over all files in myconfig/\n    Files.list(configFilesPath).forEach{\n        val configFile = configFilesPath.toString() + \"/\" + it.fileName\n        project.exec({\n            workingDir(project.projectDir)\n            commandLine(\"ln\", \"-s\", configFile)\n        })\n    }\n}\n</code></pre>\n\n<p><strong>Note</strong> you should also configure your task in a <code>doLast { }</code> block. </p>\n"}], "owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 56562049, "answer_count": 1, "score": 0, "last_activity_date": 1560341831, "creation_date": 1560311441, "question_id": 56554423, "link": "https://stackoverflow.com/questions/56554423/gradle-commandline-in-a-for-each", "title": "Gradle - commandLine in a for each", "body": "<p>I have the following code but only the last item from <code>configFilesPath</code> is being called in the <code>commandLine</code> line.</p>\n\n<p>Any ideas what I should be using - so that it runs commandLine for each of the items in <code>configFilesPath</code>?</p>\n\n<pre><code>@TaskAction\nfun create() {\n    project.exec({\n        workingDir(project.projectDir)\n\n        var configFilesPath = Paths.get(System.getProperty(\"user.dir\"), \"../../../\", \"myconfig/\");\n        //Create symlinks for all files in myconfig/\n        Files.list(configFilesPath).forEach{\n            val configFile = configFilesPath.toString() + \"/\" + it.fileName\n            commandLine(\"ln\", \"-s\", configFile)\n        }\n    })\n\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["firebase", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1723, "user_id": 6549598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/m92gQ.jpg?s=128&g=1", "display_name": "nimi0112", "link": "https://stackoverflow.com/users/6549598/nimi0112"}, "edited": false, "score": 0, "creation_date": 1560310468, "post_id": 56553175, "comment_id": 99689712, "body": "check this out <a href=\"https://gist.github.com/riyazMuhammad/1c7b1f9fa3065aa5a46f\" rel=\"nofollow noreferrer\">gist.github.com/riyazMuhammad/1c7b1f9fa3065aa5a46f</a>"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1560319372, "post_id": 56553175, "comment_id": 99691764, "body": "What&#39;s wrong with this code? Do you have an error, what&#39;s the behaviour?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11633902, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-924ULZtJklk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reQAUstL-RxziKKhKnGPKleGXTqlA/mo/photo.jpg?sz=128", "display_name": "Fred", "link": "https://stackoverflow.com/users/11633902/fred"}, "edited": false, "score": 1, "creation_date": 1560345493, "post_id": 56556129, "comment_id": 99705863, "body": "Thank you very much, sir! I am a beginner in kotlin and I only knew the startActivity function and could not use it directly. I did not know this setClass function, now everything works, really thank you! A hug from Brazil!"}, {"owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "reply_to_user": {"reputation": 13, "user_id": 11633902, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-924ULZtJklk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reQAUstL-RxziKKhKnGPKleGXTqlA/mo/photo.jpg?sz=128", "display_name": "Fred", "link": "https://stackoverflow.com/users/11633902/fred"}, "edited": false, "score": 0, "creation_date": 1560346096, "post_id": 56556129, "comment_id": 99706248, "body": "Hey @fred, you&#39;re welcome.  Ask any questions on Android, Kotlin, MVVM or anything here! We&#39;re all here to help!"}], "tags": [], "owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "is_accepted": true, "score": 1, "last_activity_date": 1560322012, "creation_date": 1560322012, "answer_id": 56556129, "question_id": 56553175, "link": "https://stackoverflow.com/questions/56553175/load-user-data-in-a-new-activity-after-selecting-it-from-a-recycler-view/56556129#56556129", "title": "Load user data in a new activity after selecting it from a recycler view", "body": "<p>To make this recycle view clickable &amp; open a new activity upon a click on the user's name with showing some data of it, you can use Intent, implement an onClickListener on the name text view and put the data inside it like this: </p>\n\n<pre><code>class PacienteAdapter(internal var context: Context) : RecyclerView.Adapter&lt;PacienteAdapter.ViewHolder&gt;() {\n\ninternal var userList: MutableList&lt;PacienteRecycle&gt;\n\nval lastItemId: String?\n    get() = userList[userList.size - 1].id\n\nfun addAll(newUsers: List&lt;PacienteRecycle&gt;) {\n    val init = userList.size\n    userList.addAll(newUsers)\n    notifyItemRangeChanged(init, newUsers.size)\n}\n\ninit {\n    this.userList = ArrayList()\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val itemView = LayoutInflater.from(context).inflate(R.layout.paciente_item, parent, false)\n    return ViewHolder(itemView)\n}\n\n//context\noverride fun getItemCount(): Int {\n    return userList.size\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n    holder.textViewName.text = userList[position].nome\n    holder.textViewName.setOnClickListener {\n        val intent = Intent()\n            intent.setClass(context, YourActivity::class.java)\n\n            //pass your data to the Activity\n            intent.putExtra(\"yourDataKey1\", \"your-data1\")\n            intent.putExtra(\"yourDataKey2\", \"your-data2\")\n            intent.putExtra(\"clickedUserName\", userList[position].nome)\n\n            context.startActivity(intent)\n    }\n    holder.itemView.setOnClickListener {\n        //put the same code here to make the whole item in the view clickable\n    }\n}\n\n\ninner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    internal var textViewName = itemView.findViewById(R.id.nome) as TextView \n} }\n</code></pre>\n\n<p>Then capture the data in the other activity via Intent like this:</p>\n\n<pre><code>class YourActivity : Activity() {\n\n//data\nprivate var receivedData1: String? = \"\"\nprivate var receivedData2: String? = \"\"\nprivate var clickedUserName String? = \"\"\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_single_pocmaps)\n\n    receivedData1 = intent.extras?.getDouble(\"yourDataKey1\")\n    receivedData2 = intent.extras?.getDouble(\"yourDataKey2\")\n    clickedUserName = intent.extras?.getString(\"clickedUserName\")\n}  }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11633902, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-924ULZtJklk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reQAUstL-RxziKKhKnGPKleGXTqlA/mo/photo.jpg?sz=128", "display_name": "Fred", "link": "https://stackoverflow.com/users/11633902/fred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 56556129, "answer_count": 1, "score": 1, "last_activity_date": 1560322012, "creation_date": 1560299031, "last_edit_date": 1560299857, "question_id": 56553175, "link": "https://stackoverflow.com/questions/56553175/load-user-data-in-a-new-activity-after-selecting-it-from-a-recycler-view", "title": "Load user data in a new activity after selecting it from a recycler view", "body": "<p>My application currently shows a recycle view containing the names of users registered in the system using Firebase.\nNow I need to make this recycle view clickable, click on the user's name and open a new activity showing some data of it, for example the name.</p>\n\n<pre><code>class PacienteAdapter(internal var context: Context) : RecyclerView.Adapter&lt;PacienteAdapter.ViewHolder&gt;() {\n\n    internal var userList: MutableList&lt;PacienteRecycle&gt;\n\n    val lastItemId: String?\n        get() = userList[userList.size - 1].id\n\n    fun addAll(newUsers: List&lt;PacienteRecycle&gt;) {\n        val init = userList.size\n        userList.addAll(newUsers)\n        notifyItemRangeChanged(init, newUsers.size)\n    }\n\n    init {\n        this.userList = ArrayList()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val itemView = LayoutInflater.from(context).inflate(R.layout.paciente_item, parent, false)\n        return ViewHolder(itemView)\n    }\n\n    //context\n    override fun getItemCount(): Int {\n        return userList.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n        holder.textViewName.text = userList[position].nome\n        holder.itemView.setOnClickListener {\n\n        }\n    }\n\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        internal var textViewName = itemView.findViewById(R.id.nome) as TextView\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 669, "user_id": 10388146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvmNO.jpg?s=128&g=1", "display_name": "kamyar haqqani", "link": "https://stackoverflow.com/users/10388146/kamyar-haqqani"}, "edited": false, "score": 0, "creation_date": 1560303247, "post_id": 56552757, "comment_id": 99688386, "body": "&quot;but cannot zoom out enough to fully see all markers&quot; why not? please elaborate on why you cannot set low zoom levels."}, {"owner": {"reputation": 2530, "user_id": 2125351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GO1Q.jpg?s=128&g=1", "display_name": "Sean Blahovici", "link": "https://stackoverflow.com/users/2125351/sean-blahovici"}, "reply_to_user": {"reputation": 669, "user_id": 10388146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LvmNO.jpg?s=128&g=1", "display_name": "kamyar haqqani", "link": "https://stackoverflow.com/users/10388146/kamyar-haqqani"}, "edited": false, "score": 0, "creation_date": 1560303991, "post_id": 56552757, "comment_id": 99688483, "body": "You cannot back the camera up enough in a SupportMapFragment to be able to view, say, two opposing sides of the planet\u2019s surface."}], "owner": {"reputation": 2530, "user_id": 2125351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GO1Q.jpg?s=128&g=1", "display_name": "Sean Blahovici", "link": "https://stackoverflow.com/users/2125351/sean-blahovici"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1560295694, "creation_date": 1560294809, "last_edit_date": 1560295694, "question_id": 56552757, "link": "https://stackoverflow.com/questions/56552757/how-to-exclude-latlng-that-is-too-far-to-include-in-the-latlngbounds-due-to-max", "title": "How to exclude LatLng that is too far to include in the LatLngBounds due to max Google Map zoom?", "body": "<p>So I have to show as many markers as possible on my google map on Android. I use the following code to get the appropriate LatLngBounds to show the entire array of markers in one window on the screen:</p>\n\n<pre><code>val builder = LatLngBounds.Builder()\nfor (point in latLngPoints()) {\n    builder.include(point)\n}\nval bounds = builder.build()\ngoogleMapCameraBoundsCalculated(bounds, gMap)\n\nprivate fun googleMapCameraBoundsCalculated(latLngBounds: LatLngBounds, gMap: GoogleMap) {\n    gMap.moveCamera(CameraUpdateFactory.newLatLngBounds(latLngBounds, CAMERA_ZOOM_PADDING_METERS))\n}\n</code></pre>\n\n<p>Now, the problem arises when I have markers that are in.... say Hawaii, and one that is in New York City.</p>\n\n<p>Due to the very very long distances between the marker in New York and the markers in Hawaii (a bunch that are close together), the camera moves to the average of the markers (so between them) but <strong>cannot zoom out enough to fully see all markers.</strong> Ideally, I would like to find a way to exclude the marker(s) that are furthest away from the average (like the one in New York) so that the camera could zoom in on the markers in Hawaii (which are all relatively close together).</p>\n\n<p>Essentially, I want to exclude markers that would prevent the majority of the markers from being visible due to the maximum zoom possible in a Google Map.</p>\n\n<p>Thank you for any help provided, I have not found a solution anywhere to this.</p>\n"}, {"tags": ["kotlin", "itext"], "comments": [{"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1560314332, "post_id": 56552100, "comment_id": 99690415, "body": "The pdf format only knows string values of acroform text fields. Javascript code attached to fields may enforce only numeric characters but itext does not execute any javascript when setting field values."}, {"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1560324857, "post_id": 56552100, "comment_id": 99694008, "body": "I see, thanks for the answer. The thing is that when I use Adobe reader to manually write a numeric value the sum function on the last line of the pdf works (4 | 5 | 6 --&gt; 15), so is there any way to do that with itext? Lastly The pdf template that I was given I saw that was created with itextSharp @mkl"}, {"owner": {"reputation": 1548, "user_id": 6663375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNG1b.jpg?s=128&g=1", "display_name": "Uladzimir Asipchuk", "link": "https://stackoverflow.com/users/6663375/uladzimir-asipchuk"}, "edited": false, "score": 0, "creation_date": 1560325524, "post_id": 56552100, "comment_id": 99694373, "body": "Could you share the template?"}, {"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "reply_to_user": {"reputation": 1548, "user_id": 6663375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNG1b.jpg?s=128&g=1", "display_name": "Uladzimir Asipchuk", "link": "https://stackoverflow.com/users/6663375/uladzimir-asipchuk"}, "edited": false, "score": 0, "creation_date": 1560329384, "post_id": 56552100, "comment_id": 99696363, "body": "Unfortunately I can not (it is kind of confidential and in Greek) but I can provide you with every detail you. @UladzimirAsipchuk"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1560348481, "post_id": 56552100, "comment_id": 99707829, "body": "Chances are that there is some JavaScript code in the PDF calculating the sum in some event. As said above, iText (core) does not execute any JavaScript when editing the form fields (as it changes them not via a GUI but immediately, the events would not apply directly anyways). Thus, you&#39;ll also have to calculate the sum in question and set the sum field yourself."}, {"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1560349111, "post_id": 56552100, "comment_id": 99708235, "body": "@mkl Currently I am migrating from one template of PDF to another so I am trying to copy in bulk 150 PDFs from the old style to the new one. I can calculate the sum and place it in the correct field but if I do that and later down the line I open Adobe reader to input a number most likely the js function will not be able to do &quot;12&quot;(calculated by me, placed it as string) + 5(manual integer input in a row above sum). Correct me if I am wrong and thanks for your time."}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1560349701, "post_id": 56552100, "comment_id": 99708573, "body": "As you cannot share the document in question, I cannot tell."}, {"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1560354656, "post_id": 56552100, "comment_id": 99711507, "body": "@mkl do you have any email where I could send you the document?"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1560356611, "post_id": 56552100, "comment_id": 99712521, "body": "Nick, cf. my stack overflow profile."}, {"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1560357659, "post_id": 56552100, "comment_id": 99712989, "body": "@mkl I just sent you the necessary information on your profile email."}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 1, "creation_date": 1560361353, "post_id": 56552100, "comment_id": 99714618, "body": "Ok. I&#39;ll look at it tomorrow"}], "answers": [{"comments": [{"owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "edited": false, "score": 0, "creation_date": 1560453993, "post_id": 56585466, "comment_id": 99752582, "body": "You are a life saver. After programmatically placing the sum and then manually placing and &quot;Integer&quot; using Adobe Reader the sum got updated and it was indeed correct.  Quick question though, how do I access the PDF&#39;s embedded js script?"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "reply_to_user": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "edited": false, "score": 0, "creation_date": 1560454837, "post_id": 56585466, "comment_id": 99752938, "body": "<i>&quot;how do I access the PDF&#39;s embedded js script?&quot;</i> - you can use a tool like Adobe Acrobat or itext RUPS."}], "tags": [], "owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "is_accepted": true, "score": 1, "last_activity_date": 1560445621, "last_edit_date": 1592644375, "creation_date": 1560445621, "answer_id": 56585466, "question_id": 56552100, "link": "https://stackoverflow.com/questions/56552100/add-numeric-value-on-pdf-field-using-itext/56585466#56585466", "title": "Add numeric value on PDF field using Itext", "body": "<p>The PDF format only knows string values of AcroForm text fields. JavaScript code attached to fields may enforce only numeric characters but iText does not execute any JavaScript when setting field values.</p>\n<p>Thus, concerning your original question</p>\n<blockquote>\n<p>The problem is the setValue method, but I did not find anything in the documentation about how to pass an Integer value. So how do I pass an integer value?</p>\n</blockquote>\n<p>There is no such thing as a special iText method for setting <em>integer</em> values.</p>\n<hr />\n<p>In the comments it then turned out that the original question for a integer specific was not the actual issue. Instead:</p>\n<blockquote>\n<p>The thing is that when I use Adobe reader to manually write a numeric value the sum function on the last line of the pdf works (4 | 5 | 6 --&gt; 15), so is there any way to do that with itext?</p>\n</blockquote>\n<p>So the actual issue is that the calculated field contents are not updated after a change by iText.</p>\n<p>The reason for this is that this feature in PDFs is implemented by some JavaScript code in the PDF calculating the sum in case of some event but iText (core) does not execute any JavaScript when editing the form fields (as it changes them not via a GUI but immediately, the events would not apply directly anyways).</p>\n<p>Thus, you'll also have to calculate the sum in question and set the sum field yourself.</p>\n<hr />\n<blockquote>\n<p>I can calculate the sum and place it in the correct field but if I do that and later down the line I open Adobe reader to input a number most likely the js function will not be able to do &quot;12&quot;(calculated by me, placed it as string) + 5(manual integer input in a row above sum).</p>\n</blockquote>\n<p>The value of a field is always stored as a string in the PDF. Thus, it should make no difference how that string was set, by iText or by Adobe.</p>\n<p>After you shared the PDF, I could have a look at its structure and the JavaScript in it.</p>\n<p>Indeed, it is an AcroForm form (not a XFA form!) and the calculation of sum and average occurs in JavaScript functions set as the calculate (<strong>C</strong>) additional action (<strong>AA</strong>) of the respective <em>total</em> or <em>average</em> field. The fields to sum or average are defined by the field names, e.g. for the field name &quot;1-Place_Total&quot; the script calculates the <em>total</em> over the contents of the fields &quot;1-Place_1&quot; .. &quot;1-Place_12&quot;.</p>\n<pre class=\"lang-js prettyprint-override\"><code>var srcName = event.target.name;\nvar srcCategory = srcName.substring(srcName.indexOf(&quot;_&quot;)+1)\nvar baseName = srcName.replace(&quot;Total&quot;,&quot;&quot;).replace(&quot;Average&quot;,&quot;&quot;);\nvar total = Number(0);\nvar lastMonth = 0;\n\nfor(i=1; i &lt; 13; i++){\n    var thisMonth = baseName + i;\n    var monthVal = this.getField(thisMonth).value;\n    total = Number(total) + Number(monthVal);\n    if(monthVal &gt; 0){\n        lastMonth = i;\n    }\n}\n\nif(total == 0){\n    event.value = &quot;&quot;;\n}\nelse if(srcCategory == &quot;Total&quot;){\n    event.value = total;\n}\nelse if(srcCategory == &quot;Average&quot;){\n    event.value = total / lastMonth;\n}\n</code></pre>\n<p>The form field additional action &quot;calculate&quot; is specified as</p>\n<blockquote>\n<p>A JavaScript action that shall be performed to recalculate the value of this field when that of another field changes. (The name <strong>C</strong> stands for \u201ccalculate.\u201d)</p>\n<p><em>(ISO 32000-1, Table 196 \u2013 Entries in a form field\u2019s additional-actions dictionary)</em></p>\n</blockquote>\n<p>As the script takes the values immediately from the fields in question (not somewhere special where some other scripts might have stored them), it should suffice for you to manually change an arbitrary field value in the PDF to trigger this function to calculate the sum of all applicable fields, no matter whether the individual field values were set by iText or by Adobe.</p>\n<p>Fractional numbers might still be a problem in such a scenario as the decimal separator might be different in the appearance and the field value, but as you asked for a method to set <em>integer</em> values, I assume that should not be an issue.</p>\n<hr />\n<p><sub><em>I have to admit I have not tested this, the answer is based on the specification alone. If you create a proof-of-concept and observe it doesn't work, please share that code, I'll then look into this more deeply.</em></sub></p>\n"}], "owner": {"reputation": 520, "user_id": 3195699, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/854910461269287/picture?type=large", "display_name": "Nick Pampoukidis", "link": "https://stackoverflow.com/users/3195699/nick-pampoukidis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 56585466, "answer_count": 1, "score": 0, "last_activity_date": 1560445621, "creation_date": 1560289669, "last_edit_date": 1560338647, "question_id": 56552100, "link": "https://stackoverflow.com/questions/56552100/add-numeric-value-on-pdf-field-using-itext", "title": "Add numeric value on PDF field using Itext", "body": "<p>I am trying to pass a numeric value on a PDF but it passes as String. The issue is that the last line on PDF is used to sum all the values above but because the value is string and not integer this function does not work. </p>\n\n<pre><code>val form = PdfAcroForm.getAcroForm(pdfDoc, true)\nval fields = form.formFields \n\nfields[newFieldName]?.setValue(value.valueAsString)\n                                ?.setFont(font)\n                                ?.setFontSize(TEXT_SIZE)\n</code></pre>\n\n<p>The problem is the setValue method, but I did not find anything in the documentation about how to pass an Integer value. So how do I pass an integer value? </p>\n\n<p>Edit:</p>\n\n<p>Tried this one but it does not place the value on the field</p>\n\n<pre><code>fields[newFieldName]?.setRichText(PdfNumber(2.0))\n?.setFont(font)\n?.setFontSize(TEXT_SIZE)\n</code></pre>\n\n<p>Edit2: Is there any way to get the embedded function on the acro field in order to edit it and make it consider it on the sum string values also?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1560289730, "creation_date": 1560289730, "answer_id": 56552104, "question_id": 56552079, "link": "https://stackoverflow.com/questions/56552079/why-kotlin-stdlib-1-3-31-jar-does-not-have-intarray-class-mutablelist-class-eve/56552104#56552104", "title": "Why kotlin-stdlib-1.3.31.jar does not have IntArray.class, MutableList.class even though they are part of stdlib?", "body": "<p>These are <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a>, which are not actual JVM classes but are mapped to other types. For instance, <code>IntArray</code> is mapped to the JVM array type <code>int[]</code>, and <code>MutableList</code> is mapped to <code>java.util.List</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 918603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bdff5e256af68ac5d2e08503db84e2b?s=128&d=identicon&r=PG", "display_name": "user918603", "link": "https://stackoverflow.com/users/918603/user918603"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56552104, "answer_count": 1, "score": 2, "last_activity_date": 1560289730, "creation_date": 1560289534, "question_id": 56552079, "link": "https://stackoverflow.com/questions/56552079/why-kotlin-stdlib-1-3-31-jar-does-not-have-intarray-class-mutablelist-class-eve", "title": "Why kotlin-stdlib-1.3.31.jar does not have IntArray.class, MutableList.class even though they are part of stdlib?", "body": "<p>I want to figure out what are the system classes that are included in kotlin stdlib. But classes like IntArray, MutableList are not part of kotlin-stdlib.jar.</p>\n"}, {"tags": ["android", "kotlin", "binding", "android-livedata", "textinputlayout"], "comments": [{"owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "edited": false, "score": 0, "creation_date": 1560290394, "post_id": 56551846, "comment_id": 99685986, "body": "You should use   <code>&lt;com.google.android.material.textfield.TextInputEditText</code> instead of just EditText."}, {"owner": {"reputation": 33, "user_id": 11633405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82258b8e4a0cb284476a65e36b8017a7?s=128&d=identicon&r=PG&f=1", "display_name": "EmmaneulO1", "link": "https://stackoverflow.com/users/11633405/emmaneulo1"}, "reply_to_user": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "edited": false, "score": 0, "creation_date": 1560437686, "post_id": 56551846, "comment_id": 99744533, "body": "I did that, still no affect"}], "answers": [{"tags": [], "owner": {"reputation": 3033, "user_id": 3339394, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/ciehO.jpg?s=128&g=1", "display_name": "The_Martian", "link": "https://stackoverflow.com/users/3339394/the-martian"}, "is_accepted": false, "score": 0, "last_activity_date": 1560297950, "creation_date": 1560297950, "answer_id": 56553074, "question_id": 56551846, "link": "https://stackoverflow.com/questions/56551846/how-does-the-textinoutlayout-observe-string-value-via-data-binding-and-livedata/56553074#56553074", "title": "How does the TextInoutLayout observe String value via data binding and Livedata from Viewmodel?", "body": "<p>Have you done setLifecycleOwner() in your fragment binding?</p>\n"}], "owner": {"reputation": 33, "user_id": 11633405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82258b8e4a0cb284476a65e36b8017a7?s=128&d=identicon&r=PG&f=1", "display_name": "EmmaneulO1", "link": "https://stackoverflow.com/users/11633405/emmaneulo1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560297950, "creation_date": 1560288223, "question_id": 56551846, "link": "https://stackoverflow.com/questions/56551846/how-does-the-textinoutlayout-observe-string-value-via-data-binding-and-livedata", "title": "How does the TextInoutLayout observe String value via data binding and Livedata from Viewmodel?", "body": "<p>When I write this code with a normal editext, It works fine, when I do t with the TextInputLayout/TextInputEditText, it does not work. What I want is the input field(EditText) to observe the string via data binding.</p>\n\n<p>I've tried obersving it via code and via xml</p>\n\n<p>XML</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.textfield.TextInputLayout\n            android:id=\"@+id/new_password\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:hint=\"@string/new_passwod\"\n            android:layout_marginStart=\"20dp\"\n            android:layout_marginEnd=\"20dp\"\n            android:layout_marginTop=\"15dp\"\n            app:passwordToggleEnabled=\"true\"\n\n            &gt;\n\n    &lt;EditText\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:inputType=\"textPassword\"\n            android:text=\"@={changePasswordViewModel.newPassword}\"\n            app:onFocusChange=\"@{handler.newPasswordFocusChanged}\"\n            app:onTextChange=\"@{handler.passwordTextChanged}\"\n    /&gt;\n</code></pre>\n\n<p>ViewModel</p>\n\n<pre><code>\n//Fields\n val currentPassword = MutableLiveData&lt;String&gt;()\n val newPassword = MutableLiveData&lt;String&gt;()\n val confirmNewPassword = MutableLiveData&lt;String&gt;()\n\n//Handler\ninner class Handler {\nval newPasswordFocusChanged = object : FocusChangedListener {\n            override fun focusChanged(hasFocus: Boolean) {\n                if (!hasFocus &amp;&amp; !newPassword.value.validateRegex(accountFormConfiguration.getPasswordRegex())) {\n                    _status.value = ModelEvent(ChangePasswordStatus.NewPasswordValidationError(errorMessage = accountFormConfiguration.getPasswordRegexError(), isErrorEnabled = true))\n                } else {\n                    _status.value = ModelEvent(ChangePasswordStatus.NewPasswordValidationError(null, isErrorEnabled = false))\n                }\n            }\n        }\n}\n\nsealed class ChangePasswordStatus {\n        data class NewPasswordValidationError(val errorMessage: String?, val isErrorEnabled: Boolean) : ChangePasswordStatus()\n        data class ConfirmNewPasswordValidationError(val errorMessage: String) : ChangePasswordStatus()\n        data class SamePasswordValidationError(val errorMessage: String) : ChangePasswordStatus()\n        data class Failure(val errorMessage: String) : ChangePasswordStatus()\n    }\n</code></pre>\n\n<p>//BindinigAdapter</p>\n\n<pre><code>@BindingAdapter(\"app:onFocusChange\")\nfun onFocusChange(text: EditText, focusChangedListener: FocusChangedListener) {\n    text.onFocusChangeListener = View.OnFocusChangeListener { _, hasFocus -&gt;\n        focusChangedListener.focusChanged(hasFocus)\n    }\n}\n</code></pre>\n\n<p>View handling status</p>\n\n<pre><code>private fun handleStatus(status: ChangePasswordStatus?) {\n        when(status) {\n            is ChangePasswordStatus.NewPasswordValidationError -&gt; {\n                binding.newPassword.error = status.errorMessage\n                binding.newPassword.isErrorEnabled = status.isErrorEnabled\n            }\n</code></pre>\n\n<p>Extension function</p>\n\n<pre><code>fun String?.validateRegex(regex: String?): Boolean {\n    if (this.isNullOrBlank() || regex.isNullOrBlank()) return false\n    val pattern = Pattern.compile(regex)\n    val matcher = pattern.matcher(this)\n    return matcher.matches()\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1560288744, "post_id": 56551879, "comment_id": 99685483, "body": "I see Gamma removes Alpha because they have the same lenght, yes. thank you"}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1560288774, "post_id": 56551879, "comment_id": 99685493, "body": "need other 5 minutes to accept the answer:) because of SO"}], "tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": true, "score": 2, "last_activity_date": 1560288403, "creation_date": 1560288403, "answer_id": 56551879, "question_id": 56551835, "link": "https://stackoverflow.com/questions/56551835/tomap-operator-output/56551879#56551879", "title": "ToMap operator output", "body": "<p>Your keys are the length of the strings; when multiple strings have the same length, the last one is inserted and replaces the previously inserted key/value pair. So <code>Gamma</code> removes <code>Alpha</code> and <code>Epsilon</code> removes <code>Quattro</code>.</p>\n"}], "owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 56551879, "answer_count": 1, "score": 0, "last_activity_date": 1560288403, "creation_date": 1560288181, "question_id": 56551835, "link": "https://stackoverflow.com/questions/56551835/tomap-operator-output", "title": "ToMap operator output", "body": "<p>I do not get why studying RXJAva I found this output, I would expect, considering that <code>toMap</code> returns an HashMap, a different output with a Map with 5 key values, instead I get only a Map with 3 key values <code>{4=Beta, 5=Gamma, 7=Epsilon}</code>, why?</p>\n\n<pre><code>       Observable.just(\"Alpha\", \"Beta\", \"Gamma\", \"Quattro\",\n                \"Epsilon\")\n                .toMap(String::length)//output {4=Beta, 5=Gamma, 7=Epsilon}\n                .subscribe({it -&gt; println(it) })\n</code></pre>\n"}, {"tags": ["c++", "kotlin", "korge"], "comments": [{"owner": {"reputation": 378, "user_id": 1192566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52a7e0168b945855f23900c0a8da7787?s=128&d=identicon&r=PG", "display_name": "soywiz", "link": "https://stackoverflow.com/users/1192566/soywiz"}, "edited": false, "score": 0, "creation_date": 1591222622, "post_id": 56551246, "comment_id": 109978291, "body": "Maybe trying to set linkerOpts with -L allows you to specify a path for the libraries? <a href=\"https://kotlinlang.org/docs/reference/native/gradle_plugin.html#using-cinterop\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/native/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 378, "user_id": 1192566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52a7e0168b945855f23900c0a8da7787?s=128&d=identicon&r=PG", "display_name": "soywiz", "link": "https://stackoverflow.com/users/1192566/soywiz"}, "is_accepted": true, "score": 2, "last_activity_date": 1591222595, "creation_date": 1591222595, "answer_id": 62183626, "question_id": 56551246, "link": "https://stackoverflow.com/questions/56551246/error-unable-to-find-library-thrown-when-compiling-native-with-korge/62183626#62183626", "title": "Error &quot;Unable to find library&quot; thrown when compiling native with Korge", "body": "<p>In the case someone else is facing this issue on Debian-based distros like Ubuntu:</p>\n\n<p>The solution is here: <a href=\"https://korlibs.soywiz.com/korge/targets/desktop/\" rel=\"nofollow noreferrer\">https://korlibs.soywiz.com/korge/targets/desktop/</a></p>\n\n<blockquote>\n  <p><code>sudo apt-get -y install freeglut3-dev libopenal-dev</code></p>\n</blockquote>\n"}], "owner": {"reputation": 707, "user_id": 6123297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-KXgs140Qp_0/AAAAAAAAAAI/AAAAAAAAANM/fM_-QxoxFIw/photo.jpg?sz=128", "display_name": "MG lolenstine", "link": "https://stackoverflow.com/users/6123297/mg-lolenstine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "accepted_answer_id": 62183626, "answer_count": 1, "score": 2, "last_activity_date": 1591222595, "creation_date": 1560284781, "last_edit_date": 1591218397, "question_id": 56551246, "link": "https://stackoverflow.com/questions/56551246/error-unable-to-find-library-thrown-when-compiling-native-with-korge", "title": "Error &quot;Unable to find library&quot; thrown when compiling native with Korge", "body": "<p>I'm trying to test out the Kotlin Game engine called <a href=\"https://github.com/korlibs/korge\" rel=\"nofollow noreferrer\">Korge</a>. I downloaded the default \"Hello world!\" template directly from their <a href=\"https://korge.soywiz.com/\" rel=\"nofollow noreferrer\">website</a>.\nAfter downloading, I created a new project from existing files with IDEA and tried to run gradle's script called \"runNativeDebug\".</p>\n\n<p>I'm currently running Manjaro</p>\n\n<p><code>uname -a</code></p>\n\n<pre><code>Linux lifeordeath-pc 4.19.45-1-MANJARO #1 SMP PREEMPT Wed May 22 17:16:41 UTC 2019 x86_64 GNU/Linux\n</code></pre>\n\n<p>I've tried downloading openal, lib32-openal and freeglut from the AUR repositories. Libraries do get installed, which can be seen from the following</p>\n\n<pre><code>ls /usr/lib | grep -E \"glu|openal\"\nlibglui.a\nlibglui.so.2\nlibglut.so\nlibglut.so.3\nlibglut.so.3.10.0\nlibopenal.a\nlibopenal.so\nlibopenal.so.1\nlibopenal.so.1.19.1\n</code></pre>\n\n<p>This is the header file location</p>\n\n<pre><code>ls /usr/include/GL | grep gl\nfreeglut_ext.h\nfreeglut.h\nfreeglut_std.h\nglcorearb.h\nglew.h\nglext.h\ngl.h\ngl_mangle.h\nglu.h\nglui.h\nglu_mangle.h\nglut.h\nglxew.h\nglxext.h\nglx.h\nglxint.h\nglx_mangle.h\nglxmd.h\nglxproto.h\nglxtokens.h\nwglew.h\n</code></pre>\n\n<p>Download the Template and just run it.</p>\n\n<p>I expected code to just run, but upon clicking the run button, I'm greeted by the following error:</p>\n\n<pre><code>/home/lifeordeath/.konan/dependencies/clang-llvm-6.0.1-linux-x86-64/bin/ld.lld: error: unable to find library -lGL\n/home/lifeordeath/.konan/dependencies/clang-llvm-6.0.1-linux-x86-64/bin/ld.lld: error: unable to find library -lGLU\n/home/lifeordeath/.konan/dependencies/clang-llvm-6.0.1-linux-x86-6 /bin/ld.lld: error: unable to find library -lglut\n/home/lifeordeath/.konan/dependencies/clang-llvm-6.0.1-linux-x86-64/bin/ld.lld: error: unable to find library -lopenal\nerror: /home/lifeordeath/.konan/dependencies/clang-llvm-6.0.1-linux-x86-64/bin/ld.lld invocation reported errors\n</code></pre>\n\n<p>Furthermore, JS build of the template works flawlessly.</p>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 1196, "user_id": 6720648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fMFhK.jpg?s=128&g=1", "display_name": "Alok Mishra", "link": "https://stackoverflow.com/users/6720648/alok-mishra"}, "edited": false, "score": 0, "creation_date": 1569484131, "post_id": 56550366, "comment_id": 102613795, "body": "open android studio -&gt; File -&gt; new-&gt; new Project -&gt; Selcet Navigation Drawer Activity template then  click on next -&gt; select language kotlin and then click on finist -&gt; you will get sample code for Navigation Drawer with latest architecture components :)"}], "answers": [{"tags": [], "owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "is_accepted": false, "score": 0, "last_activity_date": 1560426273, "creation_date": 1560426273, "answer_id": 56579740, "question_id": 56550366, "link": "https://stackoverflow.com/questions/56550366/how-to-fully-implement-the-navigation-drawer-template-in-kotlin/56579740#56579740", "title": "How to fully implement the Navigation Drawer template in Kotlin", "body": "<p>Have you included the <code>NavigationView</code> in your <code>activity_main</code> and add this <code>nav_header_man</code> to that view like this:</p>\n\n<p><code>activity_main</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;include\n        layout=\"@layout/app_bar_main\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n\n        android:layout_gravity=\"start\"\n\n        android:fitsSystemWindows=\"true\"\n        app:headerLayout=\"@layout/nav_header_main\"\n        app:menu=\"@menu/activity_main_drawer\" &gt;\n\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>And since you asked for what to add into the onNavigationItemSelected items in MainActivity.kt,</p>\n\n<p><code>MainActivity.kt</code></p>\n\n<pre><code>override fun onNavigationItemSelected(item: MenuItem): Boolean {\n        // Handle navigation view item clicks here.\n        val i = Intent()\n        when (item.itemId) {\n            R.id.nav_current_workout -&gt; {\n                i.setClass(this, CurrentWorkoutActivity::class.java)\n                startActivity(i)\n            }\n            R.id.nav_log -&gt; {\n                //similarly start activity with Intent \n            }\n            R.id.nav_exercises -&gt; {}\n            R.id.nav_workouts -&gt; {}\n            R.id.nav_stats -&gt; {}\n            R.id.nav_settings -&gt; {}\n        }\n        val drawerLayout: DrawerLayout = findViewById(R.id.drawer_layout)\n        drawerLayout.closeDrawer(GravityCompat.START)\n        return true\n    }\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 285, "user_id": 10451133, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7rdqRnuM800/AAAAAAAAAAI/AAAAAAAAAF0/r-hKmWFZ4pM/photo.jpg?sz=128", "display_name": "murugan mani", "link": "https://stackoverflow.com/users/10451133/murugan-mani"}, "is_accepted": false, "score": 0, "last_activity_date": 1569482539, "creation_date": 1569482539, "answer_id": 58111524, "question_id": 56550366, "link": "https://stackoverflow.com/questions/56550366/how-to-fully-implement-the-navigation-drawer-template-in-kotlin/58111524#58111524", "title": "How to fully implement the Navigation Drawer template in Kotlin", "body": "<p><strong>Xml Layout for navigation drawer:</strong></p>\n\n<pre><code>&lt;include\n    layout=\"@layout/dashboard_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;com.google.android.material.navigation.NavigationView\n    android:id=\"@+id/nav_view\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    app:headerLayout=\"@layout/nav_header_main\"\n    app:menu=\"@menu/drawer_menu\" /&gt;\n</code></pre>\n\n<p><strong>Implementation In Kotlin file:</strong></p>\n\n<pre><code> class MainActivity : \n AppCompatActivity(),NavigationView.OnNavigationItemSelectedListener {\n private lateinit var drawer: DrawerLayout\n private lateinit var navigationView: NavigationView\n\n override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val toolbar: Toolbar = findViewById(R.id.toolbar_main)\n    setSupportActionBar(toolbar)\n\n    drawer = findViewById(R.id.drawer_layout)\n    toggle = ActionBarDrawerToggle(\n        dis,\n        drawer,\n        toolbar,\n        R.string.navigation_drawer_open,\n        R.string.navigation_drawer_close\n    )\n    drawer.addDrawerListener(toggle)\n    toggle.setDrawerIndicatorEnabled(true)\n    toggle.syncState()\n\n    navigationView = findViewById(R.id.nav_view)\n    navigationView.setNavigationItemSelectedListener(dis)\n\n   }\n\n   override fun onNavigationItemSelected(item: MenuItem): Boolean {\n    when (item.itemId) {\n        R.id.login_signup -&gt; {\n        startActivity(Intent(dis, LoginActivity::class.java).putExtra(\"go_to\",\"0\"))\n        }\n    }\n    drawer.closeDrawers()\n    return true\n   }\n }\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 3712706, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/50138bb01de7edf4dd7e9aef2294f0aa?s=128&d=identicon&r=PG&f=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/3712706/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3102, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1569482539, "creation_date": 1560280346, "question_id": 56550366, "link": "https://stackoverflow.com/questions/56550366/how-to-fully-implement-the-navigation-drawer-template-in-kotlin", "title": "How to fully implement the Navigation Drawer template in Kotlin", "body": "<p>I'm expecting this to be a really simple answer. I am developing my first real app on android (a workout tracker) and I am wanting it to have a navigation drawer layout for the majority of the app. I have a bunch of pages that I want the drawer to navigate to. I have figured out how to change the names of the menu items in activity_main_drawer.xml menu file, but I don't know how to attach a navigation to when the user taps on them. My code is the default code from the template:</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>package com.example.grahamfitnesstracker\n\nimport android.os.Bundle\nimport android.support.design.widget.FloatingActionButton\nimport android.support.design.widget.Snackbar\nimport android.support.v4.view.GravityCompat\nimport android.support.v7.app.ActionBarDrawerToggle\nimport android.view.MenuItem\nimport android.support.v4.widget.DrawerLayout\nimport android.support.design.widget.NavigationView\nimport android.support.v7.app.AppCompatActivity\nimport android.support.v7.widget.Toolbar\nimport android.view.Menu\n\nclass MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val toolbar: Toolbar = findViewById(R.id.toolbar)\n        setSupportActionBar(toolbar)\n\n        val fab: FloatingActionButton = findViewById(R.id.fab)\n        fab.setOnClickListener { view -&gt;\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                .setAction(\"Action\", null).show()\n        }\n        val drawerLayout: DrawerLayout = findViewById(R.id.drawer_layout)\n        val navView: NavigationView = findViewById(R.id.nav_view)\n        val toggle = ActionBarDrawerToggle(\n            this, drawerLayout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close\n        )\n        drawerLayout.addDrawerListener(toggle)\n        toggle.syncState()\n\n        navView.setNavigationItemSelectedListener(this)\n    }\n\n    override fun onBackPressed() {\n        val drawerLayout: DrawerLayout = findViewById(R.id.drawer_layout)\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)) {\n            drawerLayout.closeDrawer(GravityCompat.START)\n        } else {\n            super.onBackPressed()\n        }\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        menuInflater.inflate(R.menu.main, menu)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        return when (item.itemId) {\n            R.id.action_settings -&gt; true\n            else -&gt; super.onOptionsItemSelected(item)\n        }\n    }\n\n    override fun onNavigationItemSelected(item: MenuItem): Boolean {\n        // Handle navigation view item clicks here.\n        when (item.itemId) {\n            R.id.nav_current_workout -&gt; {\n                // Handle the camera action\n            }\n            R.id.nav_log -&gt; {\n\n            }\n            R.id.nav_exercises -&gt; {\n\n            }\n            R.id.nav_workouts -&gt; {\n\n            }\n            R.id.nav_stats -&gt; {\n\n            }\n            R.id.nav_settings -&gt; {\n\n            }\n        }\n        val drawerLayout: DrawerLayout = findViewById(R.id.drawer_layout)\n        drawerLayout.closeDrawer(GravityCompat.START)\n        return true\n    }\n}\n</code></pre>\n\n<p>And the nav drawer menu activity_main_drawer.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      xmlns:tools=\"http://schemas.android.com/tools\"\n      tools:showIn=\"navigation_view\"&gt;\n\n    &lt;group android:checkableBehavior=\"single\"&gt;\n        &lt;item\n                android:id=\"@+id/nav_current_workout\"\n                android:icon=\"@drawable/ic_menu_play_filled\"\n                android:title=\"@string/menu_current_workout\"/&gt;\n        &lt;item\n                android:id=\"@+id/nav_log\"\n                android:icon=\"@drawable/ic_menu_log\"\n                android:title=\"@string/menu_log\"/&gt;\n        &lt;item\n                android:id=\"@+id/nav_exercises\"\n                android:icon=\"@drawable/ic_menu_weight\"\n                android:title=\"@string/menu_exercises\"/&gt;\n        &lt;item\n                android:id=\"@+id/nav_workouts\"\n                android:icon=\"@drawable/ic_menu_person\"\n                android:title=\"@string/menu_workouts\"/&gt;\n        &lt;item\n                android:id=\"@+id/nav_stats\"\n                android:icon=\"@drawable/ic_menu_chart\"\n                android:title=\"@string/menu_stats\"/&gt;\n    &lt;/group&gt;\n    &lt;item android:title=\"\"&gt;\n        &lt;menu&gt;\n            &lt;item\n                    android:id=\"@+id/nav_settings\"\n                    android:icon=\"@drawable/ic_menu_settings\"\n                    android:title=\"@string/menu_settings\"/&gt;\n        &lt;/menu&gt;\n    &lt;/item&gt;\n\n&lt;/menu\n</code></pre>\n\n<p>And finally content_main.xml which I assume is where I need to put fragments (which I still don't fully understand...). From one guide I changed it to including a FrameLayout as:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n        tools:showIn=\"@layout/app_bar_main\"\n        tools:context=\".MainActivity\"&gt;\n\n    &lt;!-- Note : This is the container Frame Layout for all the fragments--&gt;\n    &lt;FrameLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:id=\"@+id/mainFrame\"&gt;\n    &lt;/FrameLayout&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>I really just don't know what to add into the onNavigationItemSelected items in MainActivity.kt in order to handle navigation. I have learned that I need to replace the content in content_main.xml with some fragment where I put in my page's ui, but I don't know how to do that. Can anyone help me out? I've looked at a bunch of examples, but they usually implement their own custom nav bars, or are using java which confuses me as a newcomer.</p>\n"}, {"tags": ["android", "kotlin", "bottomnavigationview", "fragment-backstack"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 2034279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c096f76c3e8b4a2da9937fdb2e9de872?s=128&d=identicon&r=PG", "display_name": "GLopez", "link": "https://stackoverflow.com/users/2034279/glopez"}, "edited": false, "score": 0, "creation_date": 1560287366, "post_id": 56550535, "comment_id": 99685043, "body": "Is just one activity actually"}, {"owner": {"reputation": 483, "user_id": 2132115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8d32b5dc86ec7a2b9f068b4613f10b?s=128&d=identicon&r=PG", "display_name": "cesarmarch", "link": "https://stackoverflow.com/users/2132115/cesarmarch"}, "reply_to_user": {"reputation": 183, "user_id": 2034279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c096f76c3e8b4a2da9937fdb2e9de872?s=128&d=identicon&r=PG", "display_name": "GLopez", "link": "https://stackoverflow.com/users/2034279/glopez"}, "edited": false, "score": 0, "creation_date": 1560343454, "post_id": 56550535, "comment_id": 99704475, "body": "So, just do it ont this activity by checking the current displayed fragment or the current selected item in the BottomNavigationView."}], "tags": [], "owner": {"reputation": 483, "user_id": 2132115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8d32b5dc86ec7a2b9f068b4613f10b?s=128&d=identicon&r=PG", "display_name": "cesarmarch", "link": "https://stackoverflow.com/users/2132115/cesarmarch"}, "is_accepted": false, "score": 0, "last_activity_date": 1560281211, "creation_date": 1560281211, "answer_id": 56550535, "question_id": 56550194, "link": "https://stackoverflow.com/questions/56550194/handle-fragment-back-navigation-and-bottom-navigation-view-selected-item/56550535#56550535", "title": "Handle fragment back navigation and bottom navigation view selected item", "body": "<p>You should just override the <code>Activity.OnBackPressed()</code> method in a BaseActivity which every of your activities will inherit.\nIn that function, just check if the current Activity is of type <code>A</code>. If yes, exit the app, otherwise, launch Activity A.</p>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 9701439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLTfC.jpg?s=128&g=1", "display_name": "TylerQI", "link": "https://stackoverflow.com/users/9701439/tylerqi"}, "is_accepted": false, "score": 0, "last_activity_date": 1560313687, "creation_date": 1560313687, "answer_id": 56554683, "question_id": 56550194, "link": "https://stackoverflow.com/questions/56550194/handle-fragment-back-navigation-and-bottom-navigation-view-selected-item/56554683#56554683", "title": "Handle fragment back navigation and bottom navigation view selected item", "body": "<p>Set BACK_STACK_HOME_TAG state only when adding fragment A1. No need to pop back state when adding fragment B1, C1, D1...<br/>\nOverride onKeyDown() in fragment A1, make it quit app:<br/>\n<code>System.exit(0);</code><br/>\nOverride onKeyDown() in fragment B1, C1, D1..., set it back to A1 like:<br/>\n<code>fragmentManager().popBackStack(BACK_STACK_HOME_TAG, 0);</code><br/>\nFor A2, B2, C2, D2..., just pop itself to go back to A1, B1, C1, D1...<br/>\n<code>fragmentManager().popBackStack();</code></p>\n"}], "owner": {"reputation": 183, "user_id": 2034279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c096f76c3e8b4a2da9937fdb2e9de872?s=128&d=identicon&r=PG", "display_name": "GLopez", "link": "https://stackoverflow.com/users/2034279/glopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560313687, "creation_date": 1560279573, "question_id": 56550194, "link": "https://stackoverflow.com/questions/56550194/handle-fragment-back-navigation-and-bottom-navigation-view-selected-item", "title": "Handle fragment back navigation and bottom navigation view selected item", "body": "<p>I have implemented a bottomNavigationView which each option has its entry fragment and some has more navigation under the same option.</p>\n\n<p>Somehow like this:</p>\n\n<p>A->A1</p>\n\n<p>B->B1</p>\n\n<p>C->C1->C2</p>\n\n<p>D->D1</p>\n\n<p>E->E1->E2</p>\n\n<p>Where A,B,C,D &amp; E are the options (MenuItem) for the bottom navigation view and A1,B1,C1,D1,E1 are the entry fragments for those options repectivly</p>\n\n<p>The the desired navigation is that the entry AND exit point of the app will always be option A (entry fragment A1). So if the user navigates to another option as long as is in the entry fragment for that option, the behaivor for any back navigation should be to go to option A.</p>\n\n<p>The problem I have is that the bottomNavigationView is always present as a requirement so the user could navigate to any option at any time.</p>\n\n<p>For exemple if the user navigates to option E then in E1 takes an action that navigates to E2 an then navigates to option B if the user press the back button the app should go to option A because is in the entry fragment B1.\nAlso if the user navigates to option A using the bottom navigation view an then press the back button, as we are in the exit point we should be finishing the app.</p>\n\n<p>In the OnNavigationItemSelectedListener I replace the current fragment for the entry fragment for the selected option using <code>beginTransaction.replace</code> for any options other than option A I add the <code>addToBackStack(null)</code> but this alone does not matches the desired navigation since if the user press the back button, insted of navigate to option A it navigates to the previous selected option. A have also tried to pop the back satck before replacing the fragment using <code>popBackStack(BACK_STACK_HOME_TAG, FragmentManager.POP_BACK_STACK_INCLUSIVE)</code> and replacea adding <code>addToBackStack(BACK_STACK_HOME_TAG)</code> but somehow when selected a second option instead of showing the entry fragment for the selected option it shows the Fragment A1</p>\n\n<pre><code>navBar.setOnNavigationItemReselectedListener {\n    when(it.itemId) {\n        R.id.optionA -&gt; {\n\n            // Removes all entries in the backstack if any\n            if (supportFragmentManager.backStackEntryCount &gt; 0) {\n                supportFragmentManager.popBackStack(\n                    null,FragmentManager.POP_BACK_STACK_INCLUSIVE\n                )\n\n                return@setOnNavigationItemSelectedListener true\n            }\n\n            // Replaces/add the entry fragment\n            supportFragmentManager.beginTransaction()\n                    .replace(R.id.fragmentHost, FragmentA1())\n                    .commit()\n            return@setOnNavigationItemSelectedListener true\n        }\n\n        R.id.optionB -&gt; {\n            // Removes all entries in the backstack up to BACK_STACK_HOME_TAG\n            supportFragmentManager.popBackStack(\n                BACK_STACK_HOME_TAG,\n                FragmentManager.POP_BACK_STACK_INCLUSIVE\n            )\n\n            // Replace the fragment with the entry FragmentB1\n            supportFragmentManager.beginTransaction()\n                    .replace(R.id.fragmentHost, FragmentB1())\n                    .addToBackStack(BACK_STACK_HOME_TAG)\n                    .commit()\n\n            return@setOnNavigationItemSelectedListener true\n        }\n\n        R.id.optionC -&gt; {\n            // Removes all entries in the backstack up to BACK_STACK_HOME_TAG\n            supportFragmentManager.popBackStack(\n                BACK_STACK_HOME_TAG,\n                FragmentManager.POP_BACK_STACK_INCLUSIVE\n            )\n\n            // Replace the fragment with the entry FragmentC1\n            supportFragmentManager.beginTransaction()\n                    .replace(R.id.fragmentHost, FragmentC1())\n                    .addToBackStack(BACK_STACK_HOME_TAG)\n                    .commit()\n\n            return@setOnNavigationItemSelectedListener true\n        }\n\n        ...\n\n        return@setOnNavigationItemSelectedListener false\n    }\n}\n\n\n\noverride fun onBackPressed() {\n    if (supportFragmentManager.backStackEntryCount &gt; 0) {\n        supportFragmentManager.popBackStack()\n        return\n    }\n\n    super.onBackPressed()\n}\n</code></pre>\n"}, {"tags": ["android", "image", "kotlin", "bitmap"], "answers": [{"tags": [], "owner": {"reputation": 966, "user_id": 5314844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yKmYOowCBCk/AAAAAAAAAAI/AAAAAAAARPo/sbJIwujRZk4/photo.jpg?sz=128", "display_name": "Bruno Diego Martins", "link": "https://stackoverflow.com/users/5314844/bruno-diego-martins"}, "is_accepted": false, "score": -1, "last_activity_date": 1560274390, "creation_date": 1560274390, "answer_id": 56548988, "question_id": 56548915, "link": "https://stackoverflow.com/questions/56548915/how-to-copress-image-before-uploading-with-android/56548988#56548988", "title": "How to copress image before uploading with android?", "body": "<p>You can use the lib Picasso:</p>\n\n<pre><code>Picasso\n    .with(context)\n    .load(path)\n    .resize(sizeW, sizeH)\n    .centerCrop()\n    .into(target)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": true, "score": 0, "last_activity_date": 1560280342, "creation_date": 1560280342, "answer_id": 56550365, "question_id": 56548915, "link": "https://stackoverflow.com/questions/56548915/how-to-copress-image-before-uploading-with-android/56550365#56550365", "title": "How to copress image before uploading with android?", "body": "<p>What you could do is(sorry for the java version, I don't have the kotlin one anywhere around :) ):</p>\n\n<pre><code>BitmapFactory.Options bounds = new BitmapFactory.Options();\n        bounds.inJustDecodeBounds = true;\n        BitmapFactory.decodeFile(imagePath, bounds);\n        BitmapFactory.Options opts = new BitmapFactory.Options();\n        opts.inSampleSize = calculateInSampleSize(bounds, reqWidth, reqHeight);\n        Bitmap bm = BitmapFactory.decodeFile(imagePath, opts);\n</code></pre>\n\n<p>where</p>\n\n<pre><code>public static int calculateInSampleSize(\n            BitmapFactory.Options options, int reqWidth, int reqHeight) {\n        int inSampleSize = 1;\n        if (reqWidth != 0 &amp; reqHeight != 0) {\n            // Raw height and width of image\n            final int height = options.outHeight;\n            final int width = options.outWidth;\n\n            if (height &gt; reqHeight || width &gt; reqWidth) {\n\n                final int halfHeight = height / 2;\n                final int halfWidth = width / 2;\n\n                // Calculate the largest inSampleSize value that is a power of 2 and keeps both\n                // height and width larger than the requested height and width.\n                while ((halfHeight / inSampleSize) &gt;= reqHeight\n                        &amp;&amp; (halfWidth / inSampleSize) &gt;= reqWidth) {\n                    inSampleSize *= 2;\n                }\n            }\n        }\n        return inSampleSize;\n    }\n</code></pre>\n\n<p>What happens is: you decode file data, then, by passing reqwidth/reqheight you make it smaller. Then you can pass it to your layout :)</p>\n"}], "owner": {"reputation": 1, "user_id": 11569814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da934c8151587725eda26f71e19947e?s=128&d=identicon&r=PG&f=1", "display_name": "AHMAD_A", "link": "https://stackoverflow.com/users/11569814/ahmad-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 56550365, "answer_count": 2, "score": -1, "last_activity_date": 1560328287, "creation_date": 1560274090, "question_id": 56548915, "link": "https://stackoverflow.com/questions/56548915/how-to-copress-image-before-uploading-with-android", "title": "How to copress image before uploading with android?", "body": "<p>I am uploading some images through my app, some images because of their size are not able to be uploaded...  How to solve this ?\nPlease help </p>\n\n<pre><code> if (requestCode == pickImageCode &amp;&amp; resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\n\n            table = data.data\n            val arrayOfData = arrayOf(MediaStore.Images.Media.DATA)\n            val myImageQuery = view!!.context.contentResolver.query(table, arrayOfData, null, null, null)\n            myImageQuery.moveToFirst()\n            val columnIndex = myImageQuery.getColumnIndex(arrayOfData[0])\n            imagePath = myImageQuery.getString(columnIndex)\n            myImageQuery.close()\n            val myImage = BitmapFactory.decodeFile(imagePath)\n            imageToInSendLayout.setImageBitmap(myImage)\n\n\n        } else {\n            return\n        }\n\n        imageUri = data.data\n</code></pre>\n\n<p>Preview image into imageView before sending to server</p>\n"}, {"tags": ["android", "kotlin", "import", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": true, "score": 0, "last_activity_date": 1560280025, "creation_date": 1560280025, "answer_id": 56550301, "question_id": 56547875, "link": "https://stackoverflow.com/questions/56547875/can-not-import-adapter/56550301#56550301", "title": "Can not import Adapter", "body": "<p>You seem to be missing package in your Adapter class. Add it and try again :)</p>\n"}], "owner": {"reputation": 43, "user_id": 9257813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d543776b17a030a2e667a9846108e616?s=128&d=identicon&r=PG&f=1", "display_name": "Jmyebenes", "link": "https://stackoverflow.com/users/9257813/jmyebenes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56550301, "answer_count": 1, "score": 0, "last_activity_date": 1560280025, "creation_date": 1560269593, "last_edit_date": 1560270431, "question_id": 56547875, "link": "https://stackoverflow.com/questions/56547875/can-not-import-adapter", "title": "Can not import Adapter", "body": "<p>Im learning Kotlin and Mvvm for Android. I am using a recycler view, and when i try to set the adapter i cant import the Adapter class, I dont know if the problem is in the code because Android Studio let me import ViewHolder class inside the Adapter class but not Adapter class</p>\n\n<p><strong>FrontPageActivity.kt</strong></p>\n\n<pre><code>package com.jmyp.resport.view\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport androidx.lifecycle.Observer\nimport androidx.lifecycle.ViewModelProviders\nimport com.jmyp.resport.model.New\nimport com.jmyp.resport.R\nimport com.jmyp.resport.viewmodel.NewViewModel\n\nclass FrontPageActivity : AppCompatActivity() {\n\n    lateinit var adapter : NewsAdapter // I can not import this but i can \n                                       // NewsAdapter.NewViewHolder\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_front_page)\n\n        var viewModelNews = ViewModelProviders.of(this).get(NewViewModel::class.java)\n        viewModelNews.getNews().observe(this, Observer&lt;ArrayList&lt;New&gt;&gt; { news -&gt;\n            adapter = NewsAdapter(this, news)\n        })\n\n    }\n}\n\n</code></pre>\n\n<p><strong>NewsAdapter.kt</strong></p>\n\n<pre><code>import android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.recyclerview.widget.RecyclerView\nimport com.jmyp.resport.model.New\nimport com.jmyp.resport.R\nimport com.jmyp.resport.view.FrontPageActivity\nimport kotlinx.android.synthetic.main.row_front_page.view.*\n\n\n\nclass NewsAdapter(private val context: FrontPageActivity, private val news : ArrayList&lt;New&gt;) : RecyclerView.Adapter&lt;NewsAdapter.NewViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): NewViewHolder {\n        return NewViewHolder(LayoutInflater.from(context).inflate(R.layout.row_front_page,parent,false))\n    }\n\n    override fun getItemCount(): Int {\n        return news.size\n    }\n\n    override fun onBindViewHolder(holder: NewViewHolder, position: Int) {\n        holder.title.text = news.get(position).titulo\n    }\n\n    class NewViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        val cover = itemView.iv_cover\n        val title = itemView.tv_title\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5767049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b012402a931e8f183139e143fe0e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "chirag panchani", "link": "https://stackoverflow.com/users/5767049/chirag-panchani"}, "edited": false, "score": 0, "creation_date": 1560325920, "post_id": 56547594, "comment_id": 99694599, "body": "Thank you mehul. I have already tried 3rd link. There is also a bug in that when you reduce the height of item view. 2nd link is not useful in my case. It gives only circular view but not other functionality. I&#39;m gonna try 1st link. It seems more useful in my case. Thank you for sharing this link"}, {"owner": {"reputation": 85, "user_id": 5767049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b012402a931e8f183139e143fe0e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "chirag panchani", "link": "https://stackoverflow.com/users/5767049/chirag-panchani"}, "edited": false, "score": 0, "creation_date": 1560335381, "post_id": 56547594, "comment_id": 99699727, "body": "Solution in First link works perfectly. Thanks Mehul Kabaria"}], "tags": [], "owner": {"reputation": 5210, "user_id": 1343788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttSYv.jpg?s=128&g=1", "display_name": "Mehul Kabaria", "link": "https://stackoverflow.com/users/1343788/mehul-kabaria"}, "is_accepted": true, "score": 3, "last_activity_date": 1560268598, "creation_date": 1560268598, "answer_id": 56547594, "question_id": 56547505, "link": "https://stackoverflow.com/questions/56547505/how-to-make-circular-recyclerview-layout-with-scroll-in-android/56547594#56547594", "title": "How to make Circular recyclerview (layout with scroll) in Android?", "body": "<p>Here are few examples from github </p>\n\n<ol>\n<li><a href=\"https://github.com/SachinR90/VWUiDemo\" rel=\"nofollow noreferrer\">https://github.com/SachinR90/VWUiDemo</a></li>\n<li><a href=\"https://github.com/kHRYSTAL/CircleRecyclerView\" rel=\"nofollow noreferrer\">https://github.com/kHRYSTAL/CircleRecyclerView</a></li>\n<li><a href=\"https://github.com/kapil93/Circular-Layout-Manager\" rel=\"nofollow noreferrer\">https://github.com/kapil93/Circular-Layout-Manager</a></li>\n</ol>\n"}], "owner": {"reputation": 85, "user_id": 5767049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b012402a931e8f183139e143fe0e2ca?s=128&d=identicon&r=PG&f=1", "display_name": "chirag panchani", "link": "https://stackoverflow.com/users/5767049/chirag-panchani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1310, "favorite_count": 0, "accepted_answer_id": 56547594, "answer_count": 1, "score": 1, "last_activity_date": 1560268598, "creation_date": 1560268327, "question_id": 56547505, "link": "https://stackoverflow.com/questions/56547505/how-to-make-circular-recyclerview-layout-with-scroll-in-android", "title": "How to make Circular recyclerview (layout with scroll) in Android?", "body": "<p>I am trying to create the similar CircularLayout (RecyclerView) in android as it shows in the Image. Can somebody help me to implement it? I have tried many ways to do it, but no success.</p>\n\n<p><a href=\"https://imgur.com/a/2doGHYR\" rel=\"nofollow noreferrer\">https://imgur.com/a/2doGHYR</a></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": true, "score": 1, "last_activity_date": 1560274652, "creation_date": 1560274652, "answer_id": 56549053, "question_id": 56547501, "link": "https://stackoverflow.com/questions/56547501/android-mvvm-adapter-is-never-called/56549053#56549053", "title": "android Mvvm adapter is never called", "body": "<p>I think you need to assign your adapter to your RecyclerView.\nTry this: </p>\n\n<p><code>binding.resultList.adapter = viewModel.adapter</code></p>\n"}], "owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 56549053, "answer_count": 1, "score": 0, "last_activity_date": 1560274652, "creation_date": 1560268323, "last_edit_date": 1560268685, "question_id": 56547501, "link": "https://stackoverflow.com/questions/56547501/android-mvvm-adapter-is-never-called", "title": "android Mvvm adapter is never called", "body": "<p>I am getting started for using Mvvm architecture, but I am facing problem with my adapter -> It never called</p>\n\n<p>I have an adapter here :</p>\n\n<pre><code>class LocationResultAdapter: RecyclerView.Adapter&lt;LocationResultAdapter.ViewHolder&gt;() {\n    private lateinit var resultList:List&lt;ResultSearchBean&gt;\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val binding: ItemPostBinding = DataBindingUtil.inflate(LayoutInflater.from(parent.context), R.layout.item_post, parent, false)\n        return ViewHolder(binding)\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.bind(resultList[position])\n    }\n\n    override fun getItemCount(): Int {\n        return if (resultList.isNotEmpty()) {\n            resultList.size\n        } else {\n            0\n        }\n    }\n\n    fun updateList(list: List&lt;ResultSearchBean&gt;) {\n        resultList = list\n        notifyDataSetChanged()\n    }\n\n    class ViewHolder(private val binding: ItemPostBinding):RecyclerView.ViewHolder(binding.root){\n        private val viewModel = LocationViewModel()\n\n        fun bind(resultSearchBean: ResultSearchBean){\n            viewModel.bind(resultSearchBean)\n            binding.viewModel = viewModel\n        }\n    }\n\n}\n</code></pre>\n\n<p>this adapter is called in my ViewModel</p>\n\n<pre><code>class LocationResultViewModel(private val resultSearchDao: ResultSearchDao): BaseViewModel() {\n\n@Inject\nlateinit var mFi9Api: Fi9Api\n\nprivate lateinit var mSubscription: Disposable\nvar mSearchText: String = \"\"\nval adapter: LocationResultAdapter = LocationResultAdapter()\n\noverride fun onCleared() {\n    super.onCleared()\n    mSubscription.dispose()\n}\n\nfun search(searchText: String) {\n    resultLocations(searchText)\n}\n\nprivate fun resultLocations(searchText: String) {\n    mSearchText = searchText\n    mSubscription = mFi9Api.getLocation(mSearchText)\n        .flatMap { resource -&gt;\n            return@flatMap Observable.fromCallable {\n                resultSearchDao.deleteAll()\n                resultSearchDao.insertAll(resource.distinctBy { r -&gt; r.label })\n            }\n        }\n        .concatMap {\n            return@concatMap resultSearchDao.all()\n        }\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribeWith(GetLocationListSubscriber())\n}\n\ninner class GetLocationListSubscriber : ResourceObserver&lt;List&lt;ResultSearchBean&gt;&gt;() {\n\n    override fun onNext(@NonNull t: List&lt;ResultSearchBean&gt;) {\n        adapter.updateList(t)\n    }\n\n    override fun onError(@NonNull e: Throwable) {\n    }\n\n    override fun onComplete() {\n        // Nothing to do\n    }\n\n}\n</code></pre>\n\n<p>In my activity I have this following code : </p>\n\n<pre><code>    class LocationResultActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityMainBinding\n    private lateinit var viewModel: LocationResultViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n        binding.resultList.layoutManager = LinearLayoutManager(this, RecyclerView.VERTICAL, false)\n\n        viewModel = ViewModelProviders.of(this, ViewModelFactory(this)).get(LocationResultViewModel::class.java)\n        binding.viewModel = viewModel\n\n        search_btn.setOnClickListener {\n            viewModel.search(search_et.text.toString())\n        }\n    }\n}\n</code></pre>\n\n<p>Only the method: adapter.updateList(t) is called.\nI put some break point on onCreateViewHolder, OnBindViewHolder, getItemCount but it never called</p>\n\n<p>What did I do that does not work? </p>\n\n<p>Thank you for your help</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "swiperefreshlayout"], "comments": [{"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1560269011, "post_id": 56546979, "comment_id": 99677195, "body": "Where is the code that wires your SwipeRefreshLayout with the adapter?"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "reply_to_user": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1560269138, "post_id": 56546979, "comment_id": 99677256, "body": "@MartinMarconcini In all my other views, I never bind my SwipeRefreshLayout with my RecyclerView, and it still works."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1560269336, "post_id": 56546979, "comment_id": 99677369, "body": "And where is your <code>onRefreshListener</code>? I&#39;ve used this thing five or six times in the past 3-4 years. I&#39;ve always used a listener (as described here): <a href=\"https://developer.android.com/training/swipe/respond-refresh-request\" rel=\"nofollow noreferrer\">developer.android.com/training/swipe/respond-refresh-request</a> (if there&#39;s another way to use it, I&#39;m unaware, I&#39;m asking out of curiosity)"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "reply_to_user": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 1, "creation_date": 1560269679, "post_id": 56546979, "comment_id": 99677548, "body": "@MartinMarconcini I think I am doing as described in your man link, however the <code>onRefreshListener</code> is never call. When I swipe down no &quot;bubble&quot; with progress bar arrow is showing up on the top, as it should. I have edit my question so you can see how I call the refresh."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1560269742, "post_id": 56546979, "comment_id": 99677577, "body": "If you set a breakpoint inside the reloadOrders it doesn&#39;t get called? hmmm"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1560269837, "post_id": 56546979, "comment_id": 99677626, "body": "Long shot guess: what happens if you change your recycler view&#39;s height to <code>match_parent</code> instead? I&#39;m curious to see how the Swipe container behaves, but since you&#39;re pinning it to span the entire space to its parent, it wouldn&#39;t harm having the RV saving the height computation. (Also, your Swipe Layout width, should be 0dp because you&#39;re pinning it to the parent on start/end, so you should let the CL engine do its job) (In practice this may be harmless because I think CL 2.x ignores these, but I&#39;m not sure)"}], "answers": [{"comments": [{"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1560268907, "post_id": 56547614, "comment_id": 99677148, "body": "The size is 0dp because he is using ConstraintLayout (which can be inferred by the fact that he has constraints in the XML)"}], "tags": [], "owner": {"reputation": 11, "user_id": 8271354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6fafbd6359e6cd6afb25d8833000a8a?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar Stoyanov", "link": "https://stackoverflow.com/users/8271354/dimitar-stoyanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1560268668, "creation_date": 1560268668, "answer_id": 56547614, "question_id": 56546979, "link": "https://stackoverflow.com/questions/56546979/is-swiperefreshlayout-compatible-with-an-adapter-that-has-multiple-viewtype/56547614#56547614", "title": "Is SwipeRefreshLayout compatible with an adapter that has multiple viewType?", "body": "<p>Answering your question, compatibility is not the issue you're having. Not sure of the size of your layout, as its height is 0dp. I'd play around with the view sizes and view hierarchy.</p>\n"}, {"comments": [{"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "edited": false, "score": 0, "creation_date": 1560327135, "post_id": 56550599, "comment_id": 99695205, "body": "Your method worked, as I now can pull to refresh my <code>SwipeRefreshLayout</code>. However, I obviously can&#39;t scroll in my <code>RecyclerView</code> now. Any fix for this ?"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "edited": false, "score": 0, "creation_date": 1560327275, "post_id": 56550599, "comment_id": 99695274, "body": "Nevermind, I found a solution ! I just added a <code>NestedScrollView</code> inside my <code>SwipeRefreshLayout</code>. In this <code>NestedScrollView</code>, I put my <code>RecyclerView</code>. It now works !"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1560281536, "creation_date": 1560281536, "answer_id": 56550599, "question_id": 56546979, "link": "https://stackoverflow.com/questions/56546979/is-swiperefreshlayout-compatible-with-an-adapter-that-has-multiple-viewtype/56550599#56550599", "title": "Is SwipeRefreshLayout compatible with an adapter that has multiple viewType?", "body": "<p>I believe that what happens is the recyclerview takes over the ontouch events from swiperefreshlayout. You could try overwriting linearlayout and its <code>canScrollVertically()</code> method to return false. Cheers!</p>\n"}, {"tags": [], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "is_accepted": true, "score": 0, "last_activity_date": 1560327746, "creation_date": 1560327746, "answer_id": 56557654, "question_id": 56546979, "link": "https://stackoverflow.com/questions/56546979/is-swiperefreshlayout-compatible-with-an-adapter-that-has-multiple-viewtype/56557654#56557654", "title": "Is SwipeRefreshLayout compatible with an adapter that has multiple viewType?", "body": "<p>Okay so thanks to @r2rek, I found a solution that worked for me :</p>\n\n<p>In the code, we create a class that extends <code>LinearLayoutManager</code> and overrides method <code>canScrollVertically()</code> to always return false :</p>\n\n<pre><code>inner class MyLinearLayout(context: Context) : LinearLayoutManager(context) {\n    override fun canScrollVertically(): Boolean {\n        return (false)\n    }\n}\n</code></pre>\n\n<p>Then, when we init our <code>RecyclerView</code>, we apply this class to our <code>layoutManager</code> :</p>\n\n<pre><code>ordersRv?.layoutManager = MyLinearLayout(this)\n</code></pre>\n\n<p>This will allow you to refresh, however you will not be able to scroll in your <code>RecyclerView</code> (duh).<br>\nTo fix this, add a <code>NestedScrollView</code> in your xml, as following :</p>\n\n<pre><code>&lt;android.support.v4.widget.SwipeRefreshLayout\n    android:id=\"@+id/refresh_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_marginTop=\"8dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:visibility=\"@{viewModel.ordersVisibility}\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/toolbar\"&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/orders_rv\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n&lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\n</code></pre>\n\n<p>You can now scroll in your <code>RecyclerView</code>, and pull to refresh with your <code>SwipeRefreshLayout</code>.</p>\n\n<p>I think this method is kinda hacky, so if someone have a better solution, feel free to tell us !</p>\n"}], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 56557654, "answer_count": 3, "score": 0, "last_activity_date": 1560327746, "creation_date": 1560266631, "last_edit_date": 1560269549, "question_id": 56546979, "link": "https://stackoverflow.com/questions/56546979/is-swiperefreshlayout-compatible-with-an-adapter-that-has-multiple-viewtype", "title": "Is SwipeRefreshLayout compatible with an adapter that has multiple viewType?", "body": "<p>I am making a list, that will get more items when I go to the bottom of the list. I want this list to be refreshable too, so I need a <code>SwipeRefreshLayout</code>.</p>\n\n<p>Let's say I have an adapter like this :</p>\n\n<pre><code>class OrdersListAdapter(val selected : (Order) -&gt; Unit) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n    fun addOrders(orders: ArrayList&lt;Order&gt;) {\n        this.orders.addAll(orders)\n        notifyItemRangeInserted(this.orders.size - orders.size + FIRST_ITEM_INDEX, orders.size)\n    }\n\n    fun setFirstOrders(orders: ArrayList&lt;Order&gt;) {\n        this.orders = orders\n        notifyDataSetChanged()\n    }\n\n    override fun getItemCount(): Int {\n        return (orders.size + 1 + FIRST_ITEM_INDEX)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        return when (viewType) {\n            TYPE_ORDERS -&gt; OrdersViewHolder(DataBindingUtil.inflate&lt;OrdersItemBinding&gt;(LayoutInflater.from(parent.context),\n                R.layout.orders_item, parent, false).apply {\n                viewModel = OrdersViewModel()\n            })\n            else -&gt; LoadingMoreOrdersViewHolder(DataBindingUtil.inflate&lt;LoadingMoreOrdersItemBinding&gt;(LayoutInflater.from(parent.context),\n                    R.layout.loading_more_orders_item, parent, false).apply {\n                viewModel = LoadingMoreOrdersViewModel()\n            })\n        }\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        when (getItemViewType(position)) {\n            TYPE_ORDERS -&gt; (holder as? OrdersViewHolder)?.setData(orders[position - FIRST_ITEM_INDEX])\n            TYPE_LOADING -&gt; (holder as? LoadingMoreOrdersViewHolder)?.setState(loading, error, noMoreItems)\n        }\n    }\n\n    override fun getItemViewType(position: Int): Int =\n            if (position == FIRST_ITEM_INDEX - 1) TYPE_HEADER else if (position == itemCount - 1) TYPE_LOADING else TYPE_ORDERS\n</code></pre>\n\n<p>Well if I put my <code>RecyclerView</code> like this, inside a <code>SwipeRefreshLayout</code> :</p>\n\n<pre><code>    &lt;android.support.v4.widget.SwipeRefreshLayout\n        android:id=\"@+id/refresh_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/toolbar\"&gt;\n\n        &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/orders_rv\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            app:layoutManager=\"android.support.v7.widget.LinearLayoutManager\" /&gt;\n\n    &lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\n</code></pre>\n\n<p>This will display all items, but the refreshLayout will not work : If I pull my view, nothing happens.</p>\n\n<p>But if I do not set any loading layout inside my adapter (the one at bottom of the list, to load more items, inflated from <code>R.layout.loading_more_orders_item</code>), then the SwipeRefreshLayout will work properly.</p>\n\n<p>How can I have 2 view types in my adapter, AND set my RecyclerView in a SwipeRefreshLayout ?</p>\n\n<p>EDIT :</p>\n\n<p>Here is my onRefreshListener :</p>\n\n<pre><code>refreshLayout = binding.swipeRefreshLayout\n\nrefreshLayout?.setOnRefreshListener { reloadOrders() }\n</code></pre>\n\n<p>And in reloadOrders() :</p>\n\n<pre><code>private fun reloadOrders() {\n    viewModel.setLoading()\n    refreshLayout?.isRefreshing = false\n    Observable.timer(1, TimeUnit.SECONDS)\n            .subscribe { getOrders() }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8271354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6fafbd6359e6cd6afb25d8833000a8a?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitar Stoyanov", "link": "https://stackoverflow.com/users/8271354/dimitar-stoyanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1560269009, "creation_date": 1560269009, "answer_id": 56547712, "question_id": 56546816, "link": "https://stackoverflow.com/questions/56546816/how-to-remove-error-unresolved-reference-text-in-kotlin/56547712#56547712", "title": "How to remove error &quot;Unresolved reference text&quot; in kotlin", "body": "<p>What you want to achieve here is to reference the view by its id in your kotlin code. You should check if you've added all the necessary plugins and implementations in your gradle script. <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">This</a> link thoroughly explains your problem's solution.</p>\n"}], "owner": {"reputation": 1, "user_id": 11631825, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ItRaCtEC0us/AAAAAAAAAAI/AAAAAAAAWY4/SdOALLr1wkk/photo.jpg?sz=128", "display_name": "Shashank Sharma", "link": "https://stackoverflow.com/users/11631825/shashank-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560269009, "creation_date": 1560266040, "last_edit_date": 1560266138, "question_id": 56546816, "link": "https://stackoverflow.com/questions/56546816/how-to-remove-error-unresolved-reference-text-in-kotlin", "title": "How to remove error &quot;Unresolved reference text&quot; in kotlin", "body": "<p>I am trying to create a basic android project,but i am getting a constant error \"Unresolved reference text\".How to resolve it?</p>\n\n<pre><code>package com.example.shashank.simpson2\n\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.view.View\nimport com.example.shashank.simpson2.R.id.*\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.activity_main.view.*\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n}\n\n\n fun change(view: View)\n     {\n\n        val x=Simpson(nameText.text.toString(), Integer.parseInt(ageText.text.toString()), jobText.text.toString())\ntextView.text=\"Name \"+x.name+\"Age \"+x.age+\"Job \"+x.job\n  }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit"], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 7393635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4vZB.png?s=128&g=1", "display_name": "greatape", "link": "https://stackoverflow.com/users/7393635/greatape"}, "is_accepted": true, "score": 1, "last_activity_date": 1560343515, "creation_date": 1560343515, "answer_id": 56562565, "question_id": 56546783, "link": "https://stackoverflow.com/questions/56546783/download-list-of-files-with-retrofit-and-rxjava/56562565#56562565", "title": "Download list of files with retrofit and rxJava", "body": "<p>I'd look at converting your code to use Observable.fromIterable and flatMap, flatMap has an overload with a maxConcurrency parameter you can use to avoid creating the unlimited number of threads that Schedulers.io() will do by default.</p>\n\n<p>Before your subscribe containing the foreach loop add a call to flatMap as shown below. Your subscribe will then get called with the result of each call to getArchivo, so replace it's contents with the code you currently have in your getArchivo subscribe</p>\n\n<pre><code>private fun beginSearch(searchString: String) {\n    disposable = wikiApiServe.getMovimientos(\"movimientos\", \"d55a374eebc242a5\", \"XXXXXXXXXXXX\")\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .flatMap { result -&gt;\n            Observable.fromIterable(result.estructura)\n                .flatMap({ nodo -&gt;\n                    wikiApiServe.getArchivo(\"descarga\", nodo.id, \"XXXXXXXXXXX\")\n                    .subscribeOn(Schedulers.io())\n            }, 4)\n        }\n        .subscribe(\n            {\n            totalDescargas = totalDescargas +1\n            Log.d(\"Descargado: \", \"Id archivo: $id bytes: ${it.bytes().size} Total descargas: $totalDescargas\")\n            },\n            { error -&gt; Toast.makeText(this, error.message, Toast.LENGTH_SHORT).show() }\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 5458158, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Phm6ajPMAQ8/AAAAAAAAAAI/AAAAAAAAANk/4IYcIP_AReE/photo.jpg?sz=128", "display_name": "Juan Borja", "link": "https://stackoverflow.com/users/5458158/juan-borja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "accepted_answer_id": 56562565, "answer_count": 1, "score": 0, "last_activity_date": 1560343515, "creation_date": 1560265943, "question_id": 56546783, "link": "https://stackoverflow.com/questions/56546783/download-list-of-files-with-retrofit-and-rxjava", "title": "Download list of files with retrofit and rxJava", "body": "<p>I\u00b4m trying to download a list of files from an api with retrofit and rxjava i read a lot but i can't figurated how retrofit and rxjava work together, and im not sure what kind of thread must use on the observer</p>\n\n<p>I\u00b4m trying changing the file download process of an application originally was made with doAsync (Anko), The application run in a very limited tablet with api 19 and slow internet connection. The inicial problema was thath the tablet expermient leak of memory in the first files download (about 200 files, using 100 mb of memory (all them)). So after a long research i decide to try rewrite the code for the download process using Rx and retrofit (but i nos have much experince in kotlin or movil). </p>\n\n<p>my Model</p>\n\n<pre><code>data class File(\n         val id: String\n)      //staging\n\ndata class Movimientos(val borrar: List&lt;File&gt;,\n                       val descargar: List&lt;File&gt;,\n                       val estructura: List&lt;Nodo&gt;)\n\ndata class Nodo( val id: String,\n                 val root: String,\n                 val name: String,\n                 val file: Boolean,\n                 val descargado: Boolean,\n                 val version: Int)\n</code></pre>\n\n<p>My service </p>\n\n<pre><code>//return a json with a list of files to download (and to more list -not important for now-)\n @GET(\"index.php\")\n    fun getMovimientos(@Query(\"r\") r: String = \"movimientos\",\n                       @Query(\"imei\") id: String,\n                       @Query(\"access-token\") accesstoken: String): Observable&lt;Movimientos&gt;\n\n\n    @Streaming\n    @GET(\"index.php\")\n    fun getArchivo(@Query(\"r\") r: String = \"descarga\",\n                    @Query(\"id\") fileID: String,\n                    @Query(\"access-token\") accesstoken: String): Observable&lt;ResponseBody&gt;\n\n\n    companion object {\n        fun create(): WikiApiService {\n\n            val retrofit = Retrofit.Builder()\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .baseUrl(\"https://url/api.biblioteca/\")\n                    .build()\n\n            return retrofit.create(WikiApiService::class.java)\n        }\n    }\n</code></pre>\n\n<p>call for get the list to download and call the download process</p>\n\n<pre><code>\nprivate fun beginSearch(searchString: String) {\n        disposable = wikiApiServe.getMovimientos(\"movimientos\", \"d55a374eebc242a5\", \"XXXXXXXXXXXX\")\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n\n                .subscribe(\n                        {\n                            result -&gt; txt_search_result.text = \"${result.estructura.size} tama\u00f1o estructura\"\n                            Log.d(\"Estructura: \", \"Es: ${result.estructura}\")\n                            //var aux =10\n\n                            result.estructura.forEach {\n                                nodo -&gt;\n                                if (nodo.file/) {\n                                    //aux--\n                                    descargarArchivo(nodo.id)\n\n                                }\n                            }\n                        },\n                        { error -&gt; Toast.makeText(this, error.message, Toast.LENGTH_SHORT).show() }\n                )\n\n\n\n\n    }\n\n</code></pre>\n\n<p>call for the download function</p>\n\n<pre><code>private fun descargarArchivo(id: String){\n        disposable = wikiApiServe.getArchivo(\"descarga\", id, \"XXXXXXXXXXX\")\n                .subscribeOn(Schedulers.io())\n                .observeOn(Schedulers.newThread())\n                .subscribe(\n                        {\n                            //result -&gt; txt_search_result.text = \"${result.estructura.size} tama\u00f1o estructura\"\n                            totalDescargas = totalDescargas +1\n                            Log.d(\"Descargado: \", \"Id archivo: $id bytes: ${it.bytes().size} Total descargas: $totalDescargas\")\n\n                            //total.text = totalDescargas\n                        },\n                        { error -&gt; Toast.makeText(this, error.message, Toast.LENGTH_SHORT).show() }\n                )\n\n    }\n</code></pre>\n\n<p>When i run the code the app download some files (about five) and then do not do anything more (The logcat send me a lot of GC_FOR_ALLOC warinings and frame skip). I tried limit the calls to the download method (programmatically with a count variable (limit to 10), for avoid to try download the 200 files togheter) and works but still sending GC_FOR_ALLOC and i have to add some code to download the other 190 files in batches of ten (but i think this is not the best approach). im see thath i has to use I list of observers and call the downlad function with flatMap as another obsever. But i not understand how to work with this approach.</p>\n\n<p>I try to use another thread (a new one for each download) but i have an error with the thread pool</p>\n"}, {"tags": ["opencv", "image-processing", "kotlin"], "comments": [{"owner": {"reputation": 1609, "user_id": 11530294, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Wmx8FmXvssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rddovKe67tDYNr2B-3B5bFJOj8cZg/mo/photo.jpg?sz=128", "display_name": "Dr Yuan Shenghai", "link": "https://stackoverflow.com/users/11530294/dr-yuan-shenghai"}, "edited": false, "score": 0, "creation_date": 1560264825, "post_id": 56546367, "comment_id": 99674611, "body": "Getting better and more efficient compiler is the most easiest way. But if you aim sth higher. How about changing from object-oriented/ java like programming style and use C++ with SSE/NEON instruction set on all of those math methods?? this should give you top speed?"}, {"owner": {"reputation": 1609, "user_id": 11530294, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Wmx8FmXvssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rddovKe67tDYNr2B-3B5bFJOj8cZg/mo/photo.jpg?sz=128", "display_name": "Dr Yuan Shenghai", "link": "https://stackoverflow.com/users/11530294/dr-yuan-shenghai"}, "edited": false, "score": 0, "creation_date": 1560265066, "post_id": 56546367, "comment_id": 99674761, "body": "See here for detailed sample <a href=\"http://sci.tuomastonteri.fi/programming/sse\" rel=\"nofollow noreferrer\">sci.tuomastonteri.fi/programming/sse</a> .  BM3D 15 min on 436 X 436 is a bit bad.  Now a lot of deep learning based method can run faster than that."}, {"owner": {"reputation": 11, "user_id": 8218049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bf5441550bb0179b98fa79526425d?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Miguel ", "link": "https://stackoverflow.com/users/8218049/pedro-miguel"}, "reply_to_user": {"reputation": 1609, "user_id": 11530294, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Wmx8FmXvssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rddovKe67tDYNr2B-3B5bFJOj8cZg/mo/photo.jpg?sz=128", "display_name": "Dr Yuan Shenghai", "link": "https://stackoverflow.com/users/11530294/dr-yuan-shenghai"}, "edited": false, "score": 0, "creation_date": 1560265854, "post_id": 56546367, "comment_id": 99675246, "body": "Yeah you&#39;re right but the thing is i really have to use kotlin, and have implement the algorithm, there are other parameters to lower the execution time such as the blocksize or windowsize but it will denoise very badly"}, {"owner": {"reputation": 1609, "user_id": 11530294, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Wmx8FmXvssw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rddovKe67tDYNr2B-3B5bFJOj8cZg/mo/photo.jpg?sz=128", "display_name": "Dr Yuan Shenghai", "link": "https://stackoverflow.com/users/11530294/dr-yuan-shenghai"}, "edited": false, "score": 0, "creation_date": 1560266200, "post_id": 56546367, "comment_id": 99675454, "body": "For you code given , I dont forsee any means of effective improvement.   but for things like distBlock  try some    SSE based library if possible."}, {"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 0, "creation_date": 1560269184, "post_id": 56546367, "comment_id": 99677280, "body": "There are no obvious performance improvements to be made, assuming the compiler optimizes things like range expressions and object creation. You need to run a profiler and see where time is being spent"}, {"owner": {"reputation": 11, "user_id": 8218049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bf5441550bb0179b98fa79526425d?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Miguel ", "link": "https://stackoverflow.com/users/8218049/pedro-miguel"}, "edited": false, "score": 0, "creation_date": 1560270242, "post_id": 56546367, "comment_id": 99677838, "body": "Well i decided to use use threads to devide the workload, is it a good choice ?"}, {"owner": {"reputation": 144829, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1560354323, "post_id": 56546367, "comment_id": 99711308, "body": "I don&#39;t know how Kotlin lays out images in memory, but you may find your caching performance is better if you loop over the rows first and then over the columns within that block rather than the other way around."}, {"owner": {"reputation": 11, "user_id": 8218049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bf5441550bb0179b98fa79526425d?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Miguel ", "link": "https://stackoverflow.com/users/8218049/pedro-miguel"}, "edited": false, "score": 0, "creation_date": 1560607028, "post_id": 56546367, "comment_id": 99796909, "body": "ok, i&#39;ll look into that, i&#39;ve also made a huge improvement, just by converting the Mat to a 2D Array and then do the actual work on thoose arrays, i think i&#39;ve gained a 70% perfomance boost just by doing this,it still needs some more testing though"}, {"owner": {"reputation": 11, "user_id": 8218049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bf5441550bb0179b98fa79526425d?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Miguel ", "link": "https://stackoverflow.com/users/8218049/pedro-miguel"}, "edited": false, "score": 0, "creation_date": 1560607051, "post_id": 56546367, "comment_id": 99796916, "body": "Thank you all for the answers"}, {"owner": {"reputation": 11, "user_id": 8218049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bf5441550bb0179b98fa79526425d?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Miguel ", "link": "https://stackoverflow.com/users/8218049/pedro-miguel"}, "edited": false, "score": 0, "creation_date": 1560782946, "post_id": 56546367, "comment_id": 99839178, "body": "i think i&#39;ve solved it guys, i change the search algorithm to a faster one also and now i can process the image in maybe half a second"}], "owner": {"reputation": 11, "user_id": 8218049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a27bf5441550bb0179b98fa79526425d?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Miguel ", "link": "https://stackoverflow.com/users/8218049/pedro-miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560264514, "creation_date": 1560264514, "question_id": 56546367, "link": "https://stackoverflow.com/questions/56546367/how-can-i-optimize-my-code-for-better-execution-times", "title": "How can i optimize my code for better execution times", "body": "<p>I'm implementing an image processing algorithm called BM3D and i've already achieved the outcome wich is denoising a grayscale image but the thing is that it is too slow, even with a 436 by 436 gray image. </p>\n\n<p>I have already tried to find way to maybe fasten up the work that i do with array and lists, but didnt get much improvment</p>\n\n<pre><code>val img = imread(\"files/image.png\", 0)\nval img3= Mat(img.rows(),img.cols(),img.type())\n\nval listaBlocos = mutableListOf(Pair(0.0, Pair(0,0)))\nval tamanhoBloco = 3 //Block Size\nval tamanhoJanela = 9 //Window Size\nval mediaPorBloco = DoubleArray(16)\nvar sum = 0.0\nlistaBlocos.clear()\nval stats_file = File(\"files/tempos436x436.txt\")\nval test = 10\nfor (x in 0 until test){\n    val timeelapsed = measureTimeMillis {\n        for (col in 20 ..img.width() - 20) {\n            for (row in 20 ..img.height() - 20) {\n                val block1 = generateBlock(img, row, col, tamanhoBloco)\n                for (c in -tamanhoJanela..tamanhoJanela) {\n                    for (l in -tamanhoJanela..tamanhoJanela) {\n                        val  block2 = generateBlock(img, row + l, col + c, tamanhoBloco)\n                        val  d = distBlock(block1, block2)\n                        val  par = Pair(d, Pair(row + l, col + c))\n                        listaBlocos.add(par)\n                    }\n                }\n                val listaBlocosOrdenada = listaBlocos.sortedWith(compareBy { it.first })\n                listaBlocos.clear()\n                for (k in 0..15) {\n                    sum = 0.0\n                    val c2 = listaBlocosOrdenada[k].second.second\n                    val l2 = listaBlocosOrdenada[k].second.first\n\n                    for (c in 0..tamanhoBloco - 1) {\n                        for (l in 0..tamanhoBloco - 1) {\n                            sum += img.get(l2 - l, c2 - c)[0]\n                        }\n                    }\n                    mediaPorBloco[k] = sum / 4\n                }\n                val v = mediaPorBloco.average()\n                img3.put(row,col,v)\n\n            }\n        }\n    }\nimwrite(\"files/resultado.png\", img3)\nstats_file.appendText(\"teste$x 100X200 $timeelapsed\\n\")\n\n}\n</code></pre>\n\n<p>well the result in the actual image denoising is good but is takes maybe 15 min to denoise a 436 x 436 image. i'm currently using a virtual machine with Ubuntu and 4 cores a 4 gbs of Ram</p>\n"}, {"tags": ["android", "kotlin", "pojo"], "answers": [{"tags": [], "owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "is_accepted": true, "score": 1, "last_activity_date": 1560266397, "creation_date": 1560266397, "answer_id": 56546912, "question_id": 56546279, "link": "https://stackoverflow.com/questions/56546279/how-can-i-select-two-columns-with-the-same-name-in-a-join-using-room/56546912#56546912", "title": "How can I select two columns with the same name in a Join using ROOM?", "body": "<p>Maybe, try this. Update your query to include both the ids as different aliases.</p>\n\n<pre><code>@Query(\"SELECT Toma.id as tomaId, statusToma, horaToma, nombreMedicamento, tipo, titulo, color, Tratamiento.id as trataminetoId FROM TOMA JOIN Tratamiento ON Tratamiento.id = Toma.tratamientoID JOIN Medicamento ON Tratamiento.medicamentoID = Medicamento.id WHERE Tratamiento.usuarioID = :id\")\nfun getTomasDia(id: Int?) :  LiveData&lt;List&lt;JoinTomasDelDia&gt;&gt;\n</code></pre>\n\n<p>And update your entity to have both the ids.</p>\n\n<pre><code>data class JoinTomasDelDia(\n    @ColumnInfo(name = \"tomaId\") val id: Int?,\n    @ColumnInfo(name = \"trataminetoId\") val id2: Int?,\n    @ColumnInfo(name = \"horaToma\") val horaToma: String?,\n    @ColumnInfo(name = \"statusToma\") var statusToma: Int?,\n    @ColumnInfo(name = \"nombreMedicamento\") val medicamento: String?,\n    @ColumnInfo(name = \"tipo\") val tipo: String?,\n    @ColumnInfo(name = \"titulo\") val tituloTratamiento: String?,\n    @ColumnInfo(name = \"color\") val color: Int?,\n    @ColumnInfo(name = \"Tratamiento.id\") val idTratamiento: Int?\n)\n</code></pre>\n"}], "owner": {"reputation": 904, "user_id": 7102009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-E7w9qXEZq10/AAAAAAAAAAI/AAAAAAAAAJw/-sA4BTZUh1Q/photo.jpg?sz=128", "display_name": "Eduardo Corona", "link": "https://stackoverflow.com/users/7102009/eduardo-corona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 56546912, "answer_count": 1, "score": 0, "last_activity_date": 1560266397, "creation_date": 1560264202, "question_id": 56546279, "link": "https://stackoverflow.com/questions/56546279/how-can-i-select-two-columns-with-the-same-name-in-a-join-using-room", "title": "How can I select two columns with the same name in a Join using ROOM?", "body": "<p>I'm making an Android app that uses room to create and manage a database, I need to do a Join between two tables that have columns with the same name (the primary key in both tables is called \"id\"). I used a POJO to hold the returned tuples but It only can Hold one id (I need both id's but only Toma.id is returned).</p>\n\n<p>My Query for the join:</p>\n\n<pre><code>@Query(\"SELECT Toma.id, statusToma, horaToma, nombreMedicamento, tipo, titulo, color, Tratamiento.id FROM TOMA JOIN Tratamiento ON Tratamiento.id = Toma.tratamientoID JOIN Medicamento ON Tratamiento.medicamentoID = Medicamento.id WHERE Tratamiento.usuarioID = :id\")\nfun getTomasDia(id: Int?) :  LiveData&lt;List&lt;JoinTomasDelDia&gt;&gt;\n</code></pre>\n\n<p>My POJO:</p>\n\n<pre><code>data class JoinTomasDelDia(\n        @ColumnInfo(name = \"id\") val id: Int?,\n        @ColumnInfo(name = \"horaToma\") val horaToma: String?,\n        @ColumnInfo(name = \"statusToma\") var statusToma: Int?,\n        @ColumnInfo(name = \"nombreMedicamento\") val medicamento: String?,\n        @ColumnInfo(name = \"tipo\") val tipo: String?,\n        @ColumnInfo(name = \"titulo\") val tituloTratamiento: String?,\n        @ColumnInfo(name = \"color\") val color: Int?,\n        @ColumnInfo(name = \"Tratamiento.id\") val idTratamiento: Int?\n)\n</code></pre>\n\n<p>I have tried use Toma.id and Tratamiento.id in the Query and also in the @ColumnInfo name for both id, but only Toma.id is returned, Tratamiento.id is returning null. </p>\n\n<p>My entities:</p>\n\n<pre><code>@Entity(foreignKeys = arrayOf(\n        ForeignKey(entity = Tratamiento::class,\n                parentColumns = arrayOf(\"id\"),\n                childColumns = arrayOf(\"tratamientoID\"),\n                onDelete = ForeignKey.CASCADE\n                )\n))\nclass Toma(@PrimaryKey(autoGenerate = true) var id: Int,\n    var statusToma : Int = 0,\n    var horaToma: String? = null,\n    var tratamientoID: Int? = null\n\n    )\n\n@Entity(foreignKeys =  arrayOf(\n        ForeignKey(entity = Medicamento::class,\n                    parentColumns = arrayOf(\"id\"),\n                    childColumns = arrayOf(\"medicamentoID\"),\n                    onDelete = ForeignKey.CASCADE),\n\n        ForeignKey(entity = Usuario::class,\n                parentColumns = arrayOf(\"uid\"),\n                childColumns = arrayOf(\"usuarioID\"),\n                onDelete = ForeignKey.CASCADE\n                )\n))\n\nclass Tratamiento (@PrimaryKey(autoGenerate = true) var id: Int,\n                   var titulo: String? = null,\n                   var usuarioID: Int? = null,\n                   var medicamentoID: Int? = null,\n                   var indicaciones: String? = null,\n                   var fechaInicio: String? = null,\n                   var fechaFin: String? = null,\n                   var diasTratamiento: Int = 0,\n                   var status: Int? = null,\n                   var recordatorio: Int? = null,\n                   var atiempo: Int? = null,\n                   var pospuestas: Int? = null,\n                   var omitidas: Int? = null)\n\n\n@Entity(foreignKeys = arrayOf(ForeignKey(entity = Usuario::class,\n                        parentColumns = arrayOf(\"uid\"),\n                        childColumns = arrayOf(\"usuarioID\"),\n                        onDelete = ForeignKey.CASCADE)))\ndata class Medicamento (@PrimaryKey(autoGenerate = true) var id: Int,\n                   var nombreMedicamento: String? = null,\n                   var nombreGenerico: String? = null,\n                   var dosis: String? = null,\n                   var nota: String? = null,\n                   var tipo: String? = null,\n                   var color: Int? = null,\n                   var fotografia: String? = null,\n                   var usuarioID : Int? = null)\n</code></pre>\n\n<p>I did the join using DB Broser for SQLite and works fine:</p>\n\n<pre><code>SELECT Toma.id, statusToma, horaToma, nombreMedicamento, tipo, titulo, color, Tratamiento.id FROM TOMA JOIN Tratamiento ON Tratamiento.id = Toma.tratamientoID JOIN Medicamento ON Tratamiento.medicamentoID = Medicamento.id WHERE Tratamiento.usuarioID = 1\n</code></pre>\n\n<p>How can I solve this in Android using Room?</p>\n"}, {"tags": ["kotlin", "inputstream", "stdout"], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 10031641, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-noC4KUx4kvI/AAAAAAAAAAI/AAAAAAAAA6g/KxRh2AU7kxg/photo.jpg?sz=128", "display_name": "Maxim B&#238;rcu", "link": "https://stackoverflow.com/users/10031641/maxim-b%c3%aercu"}, "is_accepted": true, "score": 1, "last_activity_date": 1560261116, "creation_date": 1560261116, "answer_id": 56545331, "question_id": 56545148, "link": "https://stackoverflow.com/questions/56545148/redirect-print-output-into-a-string-instead-of-stdout/56545331#56545331", "title": "Redirect print() output into a String instead of stdout", "body": "<p>You can try this one. If I got your question correctly.</p>\n\n<pre><code>fun index(): String {\n    val df_out = DataFrame.fromJson(\"https://jsonplaceholder.typicode.com/posts\")\n    val outStream = ByteArrayOutputStream().apply { System.setOut(PrintStream(df_out)) }\n    df_out.print(maxRows = 10)\n    return outStream.toString()\n}\n</code></pre>\n"}], "owner": {"reputation": 6288, "user_id": 59300, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/a118dee94ce92d05aa12af84d5e110e1?s=128&d=identicon&r=PG", "display_name": "wishi", "link": "https://stackoverflow.com/users/59300/wishi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 56545331, "answer_count": 1, "score": 1, "last_activity_date": 1560261116, "creation_date": 1560260560, "question_id": 56545148, "link": "https://stackoverflow.com/questions/56545148/redirect-print-output-into-a-string-instead-of-stdout", "title": "Redirect print() output into a String instead of stdout", "body": "<p>I'm trying to redirect the stdout of an object's print() function into a String variable.</p>\n\n<p>In order to do this I am using the following Java imports (within Kotlin):</p>\n\n<pre><code>import java.io.PipedOutputStream\nimport java.io.PipedInputStream\nimport java.io.PrintStream\n</code></pre>\n\n<p>And the following function:</p>\n\n<pre><code>fun index(): String {\n\n        val df_out = DataFrame.fromJson(\"https://jsonplaceholder.typicode.com/posts\")\n        val pipeOut = PipedOutputStream()\n        val pipeIn = PipedInputStream(pipeOut)\n        System.setOut(PrintStream(pipeOut));\n        df_out.print(maxRows = 10)\n        val dfAsStr = pipeIn.bufferedReader().use { it.readText() }\n        return dfAsStr\n    }\n</code></pre>\n\n<p>The idea is to capture the output of the <code>print()</code> method into a <code>PipedInputStream</code> in order to be able to return it as a (processed) String.</p>\n\n<p>This function code doesn't terminate. </p>\n"}, {"tags": ["java", "mongodb", "spring-boot", "kotlin", "web-push"], "answers": [{"comments": [{"owner": {"reputation": 567, "user_id": 4402290, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-1WigBHz4gHs/AAAAAAAAAAI/AAAAAAAAABA/AnYBvvBeYZQ/photo.jpg?sz=128", "display_name": "Mohanraj", "link": "https://stackoverflow.com/users/4402290/mohanraj"}, "edited": false, "score": 0, "creation_date": 1560263562, "post_id": 56545979, "comment_id": 99673725, "body": "I had stored them in Mongodb database as string, but when sending push notification, I need to convert them to key pair again.. How to do this.. I had added the function I had used to covert them back to keyPair but it throws &quot;Invalid point encoding 0x38&quot; error .Please have a look at the updated question"}], "tags": [], "owner": {"reputation": 29648, "user_id": 51387, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9e339df8ac2b3b833c81ad0e3c0f46c5?s=128&d=identicon&r=PG", "display_name": "collimarco", "link": "https://stackoverflow.com/users/51387/collimarco"}, "is_accepted": false, "score": 1, "last_activity_date": 1560263222, "creation_date": 1560263222, "answer_id": 56545979, "question_id": 56544977, "link": "https://stackoverflow.com/questions/56544977/web-push-notification-how-to-store-vapid-key/56545979#56545979", "title": "Web Push Notification - How to store Vapid Key", "body": "<p>Yes, you should use only one vapid key per project. You can store the vapid key in your database or in a configuration file.</p>\n"}], "owner": {"reputation": 567, "user_id": 4402290, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh6.googleusercontent.com/-1WigBHz4gHs/AAAAAAAAAAI/AAAAAAAAABA/AnYBvvBeYZQ/photo.jpg?sz=128", "display_name": "Mohanraj", "link": "https://stackoverflow.com/users/4402290/mohanraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560263640, "creation_date": 1560260042, "last_edit_date": 1560263640, "question_id": 56544977, "link": "https://stackoverflow.com/questions/56544977/web-push-notification-how-to-store-vapid-key", "title": "Web Push Notification - How to store Vapid Key", "body": "<p>Hi I generate the VAPID key using the following function, as I had searched, vapid key shall be created only once for a project and we can use that a vapid key while sending push notifications, I had generated the vapid key, but I have to store the vapid key in some place and retrieve them whenever sending a push notification. Please advice how can I store the vapid key</p>\n\n<pre><code>fun generateVapidPublicKey(uniqueVisitorId: String): String {\n\n    val keyPair= this.webPushService.generateVapidKeyPair()\n    val publicKey = keyPair!!.public as ECPublicKey\n\n    val encodedPublicKey = Utils.encode(publicKey)\n\n    return Base64Encoder.encodeUrl(encodedPublicKey)\n}\n</code></pre>\n\n<p>Convert to KeyPair from string</p>\n\n<pre><code>fun generateKeyPair(): KeyPair {\n\n    return KeyPair(\n            Utils.loadPublicKey(\"ODyt-8tafKI35yE-tz9eLah0goe63CeFYGmnmIaLe8=\"),\n            Utils.loadPrivateKey(\n                    \"BPO9QDvvjnLCAusoZ1vXZQjVaCG3sOP9vd-VHSUOoN3Jj3VXXSQPzQ31NMrK76N-eODmioJXUpN0gfoIBORZrt=\"\n            )\n    )\n}\n</code></pre>\n\n<p><strong>Throws \"Invalid point encoding 0x38\"</strong></p>\n"}, {"tags": ["android", "sqlite", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 9467835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Maxime", "link": "https://stackoverflow.com/users/9467835/maxime"}, "edited": false, "score": 0, "creation_date": 1560266034, "post_id": 56545137, "comment_id": 99675348, "body": "Thanks Gpunto for your answer :)  Yes I undestand but when I wan&#39;t to change Activity, my data is empty. So how can I solve this problem ??"}], "tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": true, "score": 0, "last_activity_date": 1560260521, "creation_date": 1560260521, "answer_id": 56545137, "question_id": 56544717, "link": "https://stackoverflow.com/questions/56544717/ankos-execute-the-sqlite-request-but-dont-execute-the-next-lines/56545137#56545137", "title": "Anko&#39;s execute the sqlite request but don&#39;t execute the next lines", "body": "<p>The block inside <code>doAsync</code> is done <em>asynchronously</em> in a background thread, and the block inside <code>uiThread</code> is done only at the end of your async block (but on the UI/Main thread).<br>\nThe <code>Log</code>, on the other hand, is executed <em>synchronously</em> after the loop.<br>\nSo it is expected that the code inside the async block is executed after the synchronous code.</p>\n"}], "owner": {"reputation": 35, "user_id": 9467835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Maxime", "link": "https://stackoverflow.com/users/9467835/maxime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56545137, "answer_count": 1, "score": 0, "last_activity_date": 1560262138, "creation_date": 1560259214, "last_edit_date": 1560262138, "question_id": 56544717, "link": "https://stackoverflow.com/questions/56544717/ankos-execute-the-sqlite-request-but-dont-execute-the-next-lines", "title": "Anko&#39;s execute the sqlite request but don&#39;t execute the next lines", "body": "<p>I want to make a request on my internal database on Android but when my request Anko is done, the lines present in the UiThread are not done immediately.</p>\n\n<p>To explain what happens, the line \"Log.d\" is execute before the UiThread</p>\n\n<p>Can you help me?</p>\n\n<pre><code>for(i in 0 until jsonArrayM.length()) {\n        val json = jsonArrayM.getJSONObject(i)\n        doAsync {\n            val carteByName = bdd.getDatasByName(json.get(\"role\").toString())\n            uiThread {\n                json.put(\"id\", carteByName[0].id)\n                json.put(\"image\", carteByName[0].imageCarte)\n                json.put(\"nuit1\", carteByName[0].premiereNuit)\n                json.put(\"posNuit1\", carteByName[0].positionPremiereNuit)\n                json.put(\"autresNuits\", carteByName[0].nuitSuivante)\n                json.put(\"posAutresNuits\", carteByName[0].positionNuitSuivante)\n            }\n        }\n        jsonArray.put(json)\n    }\n    Log.d(\"Verif\", jsonArray.toString())\n</code></pre>\n"}, {"tags": ["android", "kotlin", "adb", "android-dialog", "usb-debugging"], "comments": [{"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1560267178, "post_id": 56544229, "comment_id": 99676098, "body": "Does it go inside if(!hasFocus) condition?"}, {"owner": {"reputation": 2469, "user_id": 4120911, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ntSzM.jpg?s=128&g=1", "display_name": "Cliff Burton", "link": "https://stackoverflow.com/users/4120911/cliff-burton"}, "reply_to_user": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1560267619, "post_id": 56544229, "comment_id": 99676375, "body": "I didn&#39;t try it but I tried sending the broadcast directly inside <code>onWindowFocusChanged()</code> and it still is not working so the dialog seems to not be a closable system dialog"}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 1, "creation_date": 1560268003, "post_id": 56544229, "comment_id": 99676622, "body": "There are three steps BEFORE sending broadcast. You have to be sure that it pass ALL of them. First that it is inside onWindowFocusChanged than inside BuildConfig.DEBUG and then inside !hasFocus. Only if it is inside !hasFocus we can figure out whats wrong with intent. So please check"}, {"owner": {"reputation": 2469, "user_id": 4120911, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ntSzM.jpg?s=128&g=1", "display_name": "Cliff Burton", "link": "https://stackoverflow.com/users/4120911/cliff-burton"}, "reply_to_user": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1560334300, "post_id": 56544229, "comment_id": 99699177, "body": "Yes, I know. But as I said I tried sending the broadcast directly inside <code>onWindowFocusChanged()</code> which means outside of <code>if (BuildConfig.DEBUG)</code> which is <code>true</code> and outside of <code>if (!hasFocus)</code>. I&#39;m going to describe better in my question for you. But I want to ask: did you ever tried closing that specific dialog? Did you succeed?"}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1560351060, "post_id": 56544229, "comment_id": 99709384, "body": "no i did not. But I am also interested in finding solution for that. I guess it might be not system dialog. The place if I were you I would go will be logs. Logs should help to understand what mechanism calls that dialog that could give an answer what could close it. Did you check logs?"}], "owner": {"reputation": 2469, "user_id": 4120911, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/ntSzM.jpg?s=128&g=1", "display_name": "Cliff Burton", "link": "https://stackoverflow.com/users/4120911/cliff-burton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560334564, "creation_date": 1560257584, "last_edit_date": 1560334564, "question_id": 56544229, "link": "https://stackoverflow.com/questions/56544229/what-kind-of-dialog-is-allow-usb-debugging-how-to-programmatically-close-it", "title": "What kind of dialog is &quot;Allow USB debugging?&quot; How to programmatically close it?", "body": "<p>For project requirements (no root permissions), I need my device to allow USB debugging only on a given computer.</p>\n\n<p>Since I have no root permissions I can't write on <code>data/misc/adb_keys</code> to delete all the keys that I don't know, so I thought I could dismiss the dialog with which a user allows USB debugging from a computer</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vfzuv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vfzuv.png\" alt=\"enter image description here\"></a></p>\n\n<p>I used <code>android.intent.action.CLOSE_SYSTEM_DIALOGS</code> to close system dialogs and it works with all other dialogs but not for this one:</p>\n\n<pre><code>override fun onWindowFocusChanged(hasFocus: Boolean) {\n    super.onWindowFocusChanged(hasFocus)\n        val closeDialog = Intent(Intent.ACTION_CLOSE_SYSTEM_DIALOGS)\n        sendBroadcast(closeDialog)\n    }\n}\n</code></pre>\n\n<p>Since the dialog is not closed and the above code works with other dialogs, it seems to not be a system dialog closable with <code>ACTION_CLOSE_SYSTEM_DIALOGS</code>, what kind of dialog is the <em>\"Allow USB debugging?\"</em> one? How can I programmatically close it?</p>\n"}, {"tags": ["android", "kotlin", "android-dialogfragment"], "comments": [{"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1560254389, "post_id": 56543161, "comment_id": 99667992, "body": "If the app stops ..the <b>stack trace</b> should be useful which is not mentioned in the question"}, {"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1560254417, "post_id": 56543161, "comment_id": 99668014, "body": "Have you looked up your logs . I believe the issue is something different."}, {"owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "edited": false, "score": 1, "creation_date": 1560254431, "post_id": 56543161, "comment_id": 99668024, "body": "If you&#39;re using <code>AlertDialog.Builder</code>, I think you can avoid using <code>DialogFragment</code> and just use <code>AlertDialog</code>."}, {"owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 0, "creation_date": 1560254812, "post_id": 56543161, "comment_id": 99668271, "body": "is this helpful? <code>Caused by: androidx.fragment.app.Fragment$InstantiationException: Unable to instantiate fragment com.example.kotlinapp2.DialogPicker: could not find Fragment constructor</code> MyDialog is actually DialogPicker"}, {"owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 0, "creation_date": 1560255054, "post_id": 56543161, "comment_id": 99668408, "body": "I want to make <code>MyDialog</code> more complex, so I don&#39;t think I can just use <code>AlertDialog</code>"}, {"owner": {"reputation": 544, "user_id": 11577815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1daaad3689f0c0242ef83915055024d7?s=128&d=identicon&r=PG&f=1", "display_name": "Prachi Singh", "link": "https://stackoverflow.com/users/11577815/prachi-singh"}, "edited": false, "score": 0, "creation_date": 1560255567, "post_id": 56543161, "comment_id": 99668673, "body": "post error logs"}, {"owner": {"reputation": 143, "user_id": 4050192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHLTq.jpg?s=128&g=1", "display_name": "Krasavello13", "link": "https://stackoverflow.com/users/4050192/krasavello13"}, "edited": false, "score": 0, "creation_date": 1560265266, "post_id": 56543161, "comment_id": 99674899, "body": "Check this link: <a href=\"https://stackoverflow.com/questions/46551228/how-to-pass-and-get-value-from-fragment-and-activity/49859403#49859403\" title=\"how to pass and get value from fragment and activity\">stackoverflow.com/questions/46551228/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 657, "user_id": 5182150, "user_type": "registered", "profile_image": "https://graph.facebook.com/892258294180976/picture?type=large", "display_name": "Jude Osbert K", "link": "https://stackoverflow.com/users/5182150/jude-osbert-k"}, "reply_to_user": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 1, "creation_date": 1560256247, "post_id": 56543595, "comment_id": 99669092, "body": "I have updated my answer. Just call things as normal. The only difference is passing data in arguments instead of constructor"}, {"owner": {"reputation": 657, "user_id": 5182150, "user_type": "registered", "profile_image": "https://graph.facebook.com/892258294180976/picture?type=large", "display_name": "Jude Osbert K", "link": "https://stackoverflow.com/users/5182150/jude-osbert-k"}, "reply_to_user": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 0, "creation_date": 1560316986, "post_id": 56543595, "comment_id": 99691016, "body": "@AbnerEsc&#243;cio You should always check if the bundle contains a particular key before accessing it like bundle.contains(&quot;KEY1&quot;)"}, {"owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 0, "creation_date": 1560324433, "post_id": 56543595, "comment_id": 99693797, "body": "I didn&#39;t get it... , suppose if I add some <code>KEY1</code> in a bundle, the dialog works, and then I call some another dialog with <code>KEY1</code>, but with different value, the new dialog still works, but wasn&#39;t the bundle already containing that key?"}, {"owner": {"reputation": 657, "user_id": 5182150, "user_type": "registered", "profile_image": "https://graph.facebook.com/892258294180976/picture?type=large", "display_name": "Jude Osbert K", "link": "https://stackoverflow.com/users/5182150/jude-osbert-k"}, "reply_to_user": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "edited": false, "score": 0, "creation_date": 1560329251, "post_id": 56543595, "comment_id": 99696293, "body": "@user8455110 I did not understand the scenario. Please update with a pseduo code."}], "tags": [], "owner": {"reputation": 657, "user_id": 5182150, "user_type": "registered", "profile_image": "https://graph.facebook.com/892258294180976/picture?type=large", "display_name": "Jude Osbert K", "link": "https://stackoverflow.com/users/5182150/jude-osbert-k"}, "is_accepted": true, "score": 5, "last_activity_date": 1560264411, "last_edit_date": 1560264411, "creation_date": 1560255610, "answer_id": 56543595, "question_id": 56543161, "link": "https://stackoverflow.com/questions/56543161/how-to-pass-arguments-to-dialog-in-android/56543595#56543595", "title": "How to pass arguments to dialog in android?", "body": "<p>If its a fragment, then there should be always a default constructor available.\nPassing arguments separate will ensure that the arguments are preserved across state changes of the fragment<br>\nSo there is a method setArgument(Bundle) in which you can pass your parameters.\nSo here your call should be rewritten as </p>\n\n<pre><code>class MyDialog: DialogFragment() {\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n        return activity.let {\n             val arg = arguments\n            // Use the parameters by accessing the key from variable \"arg\"\n            val myBuilder = AlertDialog.Builder(it)\n            myBuilder\n                .setTitle(theTitle)\n                .setMessage(theMessage)\n                .setPositiveButton(\"OK\") { _, _ -&gt; }\n            myBuilder.create()\n        }\n    }\n}\n</code></pre>\n\n<p>You call you Dialog like this:</p>\n\n<pre><code>val d = MyDialog()\nval b = Bundle()\nb.putInt(\"KEY1\",1)\nd.arguments = b\nd.show(FragmentManager,Tag)\n</code></pre>\n\n<p>For any fragment always remember to use arguments to pass data</p>\n"}, {"tags": [], "owner": {"reputation": 861, "user_id": 6436629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a40IY.jpg?s=128&g=1", "display_name": "Hitesh Kushwah", "link": "https://stackoverflow.com/users/6436629/hitesh-kushwah"}, "is_accepted": false, "score": 1, "last_activity_date": 1560255642, "creation_date": 1560255642, "answer_id": 56543611, "question_id": 56543161, "link": "https://stackoverflow.com/questions/56543161/how-to-pass-arguments-to-dialog-in-android/56543611#56543611", "title": "How to pass arguments to dialog in android?", "body": "<p>Try this code and pass any data as argument, as i passed a message...</p>\n\n<pre><code>    private void confirmdialog(String msg_str) {\n\n    final Dialog dialog = new Dialog(this);\n    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n    dialog.setCancelable(false);\n    dialog.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\n    LayoutInflater li = (LayoutInflater) this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    View v1 = li.inflate(R.layout.dialog_forsurity, null, false);\n    dialog.setContentView(v1);\n    dialog.setCancelable(true);\n\n\n    TextView msg = (TextView) v1.findViewById(R.id.msg);\n    msg.setText(msg_str);\n\n    Button btn_submit = (Button) v1.findViewById(R.id.btn_submit);\n\n\n    btn_submit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            dialog.dismiss();\n\n            Intent intent = new Intent(SellNumberPlateActivity.this, HomeActivity.class);\n            startActivity(intent);\n            finishAffinity();\n\n        }\n    });\n\n    dialog.show();\n    Window window = dialog.getWindow();\n    window.setLayout(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT);\n\n}\n</code></pre>\n\n<p>Here R.layout.dialog_forsurity is a design of your dialog...</p>\n"}, {"tags": [], "owner": {"reputation": 10912, "user_id": 619673, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Jp5FC.jpg?s=128&g=1", "display_name": "deadfish", "link": "https://stackoverflow.com/users/619673/deadfish"}, "is_accepted": false, "score": 0, "last_activity_date": 1560255843, "creation_date": 1560255843, "answer_id": 56543674, "question_id": 56543161, "link": "https://stackoverflow.com/questions/56543161/how-to-pass-arguments-to-dialog-in-android/56543674#56543674", "title": "How to pass arguments to dialog in android?", "body": "<blockquote>\n  <p>The reason why you should be passing parameters through bundle is because when the system restores a fragment (e.g on config change), it will automatically restore your bundle.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://stackoverflow.com/a/16042750/619673\">https://stackoverflow.com/a/16042750/619673</a></p>\n\n<p>Instead of creating DialogFragment - You should instantiate by invoking static method from it's class:</p>\n\n<pre><code>public static MyDialog newInstance(String param1) {\n    MyDialog d = new MyDialog ();\n\n    Bundle args = new Bundle();\n    args.putString(\"param1\", param1);\n    d.setArguments(args);\n\n    return d;\n}\n</code></pre>\n\n<p>And when You want to show it, You call:</p>\n\n<pre><code>MyDialog dialog = MyDialog .newInstance(\"lorem ipsum\");\ndialog.show(fm, \"fragment_confirm_dialog\");\n</code></pre>\n\n<p>Source: <a href=\"https://stackoverflow.com/a/15463986/619673\">https://stackoverflow.com/a/15463986/619673</a></p>\n"}, {"tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": false, "score": 3, "last_activity_date": 1560258024, "last_edit_date": 1560258024, "creation_date": 1560257596, "answer_id": 56544233, "question_id": 56543161, "link": "https://stackoverflow.com/questions/56543161/how-to-pass-arguments-to-dialog-in-android/56544233#56544233", "title": "How to pass arguments to dialog in android?", "body": "<p>Full solution using kotlin</p>\n\n<p><strong>Step 1.</strong> Create your class like follow</p>\n\n<pre><code>class MyDialog : DialogFragment() {\n\n    private var title: String? = null\n    private var message: String? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        arguments?.let {\n            title = it.getString(ARG_TITLE)\n            message = it.getString(ARG_MESSAGE)\n        }\n    }\n\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n        return activity.let {\n            val myBuilder = AlertDialog.Builder(it)\n                myBuilder\n                    .setTitle(title)\n                    .setMessage(message)\n                    .setPositiveButton(\"OK\") { _, _ -&gt; }\n            myBuilder.create()\n        }\n    }\n\n    companion object {\n        const val TAG = \"myDialog\"\n        private const val ARG_TITLE = \"argTitle\"\n        private const val ARG_MESSAGE = \"argMessage\"\n\n        fun newInstance(title: String, message: String) = MyDialog().apply {\n            arguments = Bundle().apply {\n                putString(ARG_TITLE, title)\n                putString(ARG_MESSAGE, message)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Step 2.</strong> Create the instance and show it</p>\n\n<pre><code>MyDialog.newInstance(\"title\", \"message\").show(this@MyActivity.supportFragmentManager, MyDialog.TAG)\n</code></pre>\n\n<p>It's all!</p>\n"}], "owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3303, "favorite_count": 1, "accepted_answer_id": 56543595, "answer_count": 4, "score": 2, "last_activity_date": 1560264411, "creation_date": 1560254156, "question_id": 56543161, "link": "https://stackoverflow.com/questions/56543161/how-to-pass-arguments-to-dialog-in-android", "title": "How to pass arguments to dialog in android?", "body": "<p>I am calling a dialog with arguments as follows:</p>\n\n<pre><code>MyDialog(\"title\", \"message\").show(this@MyActivity.supportFragmentManager, null)\n</code></pre>\n\n<p>And this is my dialog class:</p>\n\n<pre><code>class MyDialog(private val theTitle: String, private val theMessage: String) : DialogFragment() {\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n        return activity.let {\n            val myBuilder = AlertDialog.Builder(it)\n            myBuilder\n                .setTitle(theTitle)\n                .setMessage(theMessage)\n                .setPositiveButton(\"OK\") { _, _ -&gt; }\n            myBuilder.create()\n        }\n    }\n}\n</code></pre>\n\n<p>But when the orientation of device changes on rotation, the app stops working.\nThat doesn't happen if no arguments are passed.\nSo, how to pass arguments and what is the best way to do so?</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "jvm"], "answers": [{"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1560256377, "creation_date": 1560256377, "answer_id": 56543838, "question_id": 56543111, "link": "https://stackoverflow.com/questions/56543111/how-to-run-kotlin-class-file-and-specify-one-or-more-library-jar-files/56543838#56543838", "title": "how to run kotlin class file and specify one or more library jar files?", "body": "<p>This is about the <a href=\"https://en.wikipedia.org/wiki/Classpath_(Java)\" rel=\"nofollow noreferrer\">classpath</a>.</p>\n\n<p>The easy answer is to run <code>kotlin</code> instead of <code>java</code>, as that adds the Kotlin support to the classpath automatically:</p>\n\n<pre><code>&gt; kotlin HelloKt\n</code></pre>\n\n<p>However, if you need to run <code>java</code>, then you'll need to set up the classpath yourself.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/6/docs/technotes/tools/solaris/java.html\" rel=\"nofollow noreferrer\">manpage</a> for <code>java</code> says:</p>\n\n<blockquote>\n  <p>The Java runtime searches for the  startup  class,  and  other  classes used,  in  three  sets  of  locations:  the  bootstrap  class path, the installed extensions, and the user class path.</p>\n</blockquote>\n\n<p>The first two are part of the Java installation, and rarely touched, so it's the user class path that you need to look at.</p>\n\n<p>You need it to contain both <code>kotlin-runner.jar</code> and the path for your <code>HelloKt.class</code> file.\u00a0 The latter could simply be <code>.</code> for the current directory; the former will depend where you've installed Kotlin.\u00a0\u00a0(For example, I installed it using Homebrew, and that jar is currently <code>/usr/local/Cellar/kotlin/1.3.31/libexec/lib/kotlin-runner.jar</code>.)</p>\n\n<p>The manpage continues:</p>\n\n<blockquote>\n<pre><code>   -classpath classpath\n   -cp classpath\n          Specifies a list of directories, JAR archives, and ZIP  archives\n          to  search for class files.  Class path entries are separated by\n          colons (:). Specifying -classpath or -cp overrides  any  setting\n          of the CLASSPATH environment variable.\n          \u00a0\n          If -classpath and -cp are not used and CLASSPATH is not set, the\n          user class path consists of the current directory (.).\n</code></pre>\n</blockquote>\n\n<p>So there are two ways you can do this: either set the <code>$CLASSPATH</code> environment variable before running <code>java</code>:</p>\n\n<pre><code>&gt; export CLASSPATH=\"/usr/local/Cellar/kotlin/1.3.31/libexec/lib/kotlin-runner.jar:.\"\n&gt; java HelloKt\n</code></pre>\n\n<p>Or pass a <code>-classpath</code> or <code>-cp</code> flag:</p>\n\n<pre><code>&gt; java -cp /usr/local/Cellar/kotlin/1.3.31/libexec/lib/kotlin-runner.jar:. HelloKt\n</code></pre>\n\n<p>(Or, as you say, you could build a jar file which includes the Kotlin support classes as well as your own.\u00a0 That's probably the best option if you're going to distribute it to machines which might not have Kotlin installed.\u00a0 But it's not the only option.)</p>\n"}, {"tags": [], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "is_accepted": false, "score": 0, "last_activity_date": 1560293170, "creation_date": 1560293170, "answer_id": 56552550, "question_id": 56543111, "link": "https://stackoverflow.com/questions/56543111/how-to-run-kotlin-class-file-and-specify-one-or-more-library-jar-files/56552550#56552550", "title": "how to run kotlin class file and specify one or more library jar files?", "body": "<p>As stated by @gidds, yes it is about the classpath.</p>\n\n<p>The command <code>java HelloKt</code> is telling java the class to run is <code>HelloKt</code>, which is the class Kotlin uses to provide a containing class for an app called <code>Hello</code>, but that command does not identify where the code is that should be run.   The code must be specified by the classpath.  With the <code>HelloKt.class</code> file in the current directory, then <code>'.'</code> as a classpath with allow the HelloKt class to be found and the code to start, but it will quickly die because the repository 'kotlin-stdlib-1.3.11' as specified in the gradle build, must also be available to supply classes for run time. so</p>\n\n<pre><code>java -cp \".\";\"&lt;path to stdlib&gt;\\kotlin-stdlib-1.3.11.jar\"\n</code></pre>\n\n<p>will successfully run the file.  Note, each jar must be a entry in the classpath, just having the folder containing the jar is not enough.  On windows ';' separates entries, on mac or linux, use ':'.  Each entry can be in quotes, and will need to be only if there are special characters in the path.  </p>\n"}], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 573, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560293214, "creation_date": 1560253997, "last_edit_date": 1560293214, "question_id": 56543111, "link": "https://stackoverflow.com/questions/56543111/how-to-run-kotlin-class-file-and-specify-one-or-more-library-jar-files", "title": "how to run kotlin class file and specify one or more library jar files?", "body": "<p>I am looking for a way to run the standard class file as produced by Intellij for hello world, using a gradle build with <code>kotlin-stdlib-1.3.11</code> as the only dependency.</p>\n\n<p>I know I could make a jar file and run that but that is not the question.  That question is already answered in many places,  but please do not answer with those solutions as that is not the question I am asking.</p>\n\n<p>The simple class file for 'hello world' needs access to the kotlin-stdlib-1.3.11.jar, and I am looking for a way to run the class file and manually specify jars to use for satisfying the dependencies.</p>\n\n<p>I am making notes for team members on why:</p>\n\n<pre><code>java HelloKt\n</code></pre>\n\n<p>in folder where the class file is located, should give a NoClassDefFoundError and also looking to then show how  manually specifying 'run the class but with the kotlin std lib as well'  should then work. </p>\n\n<p>I repeat, I am not trying to just get the program to run. I am trying to show how run the standard library is required to run the class file. </p>\n"}, {"tags": ["java", "performance", "kotlin", "httpurlconnection"], "owner": {"reputation": 103, "user_id": 4761457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97555dba638f4e6c9c3c45af1b2d3650?s=128&d=identicon&r=PG&f=1", "display_name": "Alexios", "link": "https://stackoverflow.com/users/4761457/alexios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560252041, "creation_date": 1560252041, "question_id": 56542582, "link": "https://stackoverflow.com/questions/56542582/how-to-measure-upload-speed-when-using-httpurlconnection-while-the-upload-is-on", "title": "How to measure upload speed when using HttpURLConnection while the upload is on-going without setting chunkedStreamingMode?", "body": "<p>I'm trying to measure the upload speed of a client application I'm creating. \nSimilarly <a href=\"https://stackoverflow.com/questions/56344181/how-to-measure-performance-speed-of-files-copy-method-while-the-process-is-on-go\">to another question</a> I had for the download speed, I'm trying to do that while the upload is on-going and update the avg upload speed on a GUI.</p>\n\n<p>I tried measuring the speed that the data are being written in the output stream of the HttpsURLConnection but eventually I realized that the HttpsURLConnection by default it buffers some of the data and it doesn't send it until the method <code>getResponseCode()</code> or <code>getInputStream()</code> is called.</p>\n\n<p>Calling and setting <code>setChunkedStreamingMode(int)</code> helps to measure more accurately the speed with the below example, but the server application unfortunately doesn't support that, so I am trying to figure out if there is a different way or approach.</p>\n\n<p>Example:</p>\n\n<pre><code>import com.sun.net.httpserver.*\nimport java.io.IOException\nimport java.io.InputStream\nimport java.io.OutputStream\nimport java.net.HttpURLConnection\nimport java.net.InetSocketAddress\nimport java.net.URL\nimport java.util.*\nimport javax.net.ssl.HttpsURLConnection\nimport kotlin.system.measureNanoTime\nimport kotlin.system.measureTimeMillis\n\nfun main(args: Array&lt;String&gt;) {\n\n    val PORT = 49831\n\n    val serverT = Thread {\n        val s = HttpServer.create()\n        s.bind(InetSocketAddress(PORT),0)\n        s.executor = null\n        s.createContext(\"/\") {httpExchange -&gt;\n            val request = httpExchange.requestBody.readBytes()\n            val response = \"This is the response\".toByteArray()\n            val headers = httpExchange.getResponseHeaders()\n            headers.add(\"Access-Control-Allow-Methods\",\"OPTIONS,GET,POST\")\n            headers.add(\"Access-Control-Allow-Origin\",\"*\")\n            httpExchange.sendResponseHeaders(200, response.size.toLong())\n            val os = httpExchange.responseBody\n            os.write(response)\n            os.close()\n            println(\"Server: Finished sending response.\")\n            s.stop(0)\n        }\n        s.start()\n    }\n\n    serverT.start()\n\n    val client = TestHttpClient(\"127.0.0.1\", PORT)\n    val byteArr = ByteArray(1024*1024*100) {'a'.toByte()}\n    client.sendRequestSynchronous(byteArr.inputStream(), requestMethod = \"POST\", measureSpeed = {it -&gt;\n        println(\"Avg speed: ${it.getOverallTransferRate()} MB/s\")\n    })\n}\n\nclass TestHttpClient (val serverHostname: String, val serverPort: Int) {\n\n    /**\n     * Sends a request to the server with the content of the data InputStream, at the specified uri. You can specify the request method and add any headers on the request by using the respective parameters.\n     * @param data The data input stream that will be sent to the server\n     * @param uri The URI that the request will be sent to\n     * @param requestMethod The type of the HTTP request\n     * @param headers The headers of the request\n     * @param measureSpeed A function which is being called to update the statistics of this request\n     */\n    fun sendRequestSynchronous(data: InputStream, uri: String = \"/\", requestMethod: String = \"POST\", headers: Map&lt;String, String&gt; = HashMap(), measureSpeed : (NetworkStatistics) -&gt; Unit = { }) : Triple&lt;Int, MutableMap&lt;String, MutableList&lt;String&gt;&gt;, InputStream&gt; {\n        val path = \"http://$serverHostname:$serverPort$uri\"\n        val connection = if (path.startsWith(\"https://\")) (URL(path).openConnection() as HttpsURLConnection) else URL(path).openConnection() as HttpURLConnection\n\n        connection.doInput = true\n        connection.doOutput = true\n        connection.requestMethod = requestMethod\n        //connection.setChunkedStreamingMode(64*1024) // Uncomment this line to have a better measurement of the speed\n        headers.forEach {\n            connection.addRequestProperty(it.key, it.value)\n        }\n        connection.connect()\n        println(\"Client connected!\")\n\n        val totalAmountBytesToSend = data.available() // amount of bytes of the whole request\n        val statistics = NetworkStatistics(totalAmountBytesToSend.toLong())\n        val timeMeas = measureTimeMillis {\n            copy(data, connection.outputStream, statistics, {it -&gt; measureSpeed(it)} )\n        }\n\n        println(\"Time measured for upload: $timeMeas\")\n\n        val timeMeas2 = measureTimeMillis {\n            connection.outputStream.flush()\n        }\n\n        println(\"Time measured for flushing output stream: $timeMeas2\")\n\n        var code = 200\n        val timeMeas3 = measureTimeMillis {\n            code = connection.responseCode\n        }\n\n        println(\"Time measured for reading the connection response code: $timeMeas3\")\n        return Triple(code, connection.headerFields, connection.inputStream)\n    }\n\n    private val BUFFER_SIZE = 8192\n\n    @Throws(IOException::class)\n    private fun copy(source: InputStream, sink: OutputStream, networkStatistics: NetworkStatistics, measureSpeed : (NetworkStatistics) -&gt; Unit = { }): Long {\n        var nread = 0L\n        val buf = ByteArray(BUFFER_SIZE)\n        var n: Int\n        n = source.read(buf)\n        while (n &gt; 0) {\n            val nano = measureNanoTime {\n                sink.write(buf, 0, n)\n                nread += n.toLong()\n                n = source.read(buf)\n            }\n            networkStatistics.dataSent = nread\n            networkStatistics.totalSendingTime += nano\n            networkStatistics.lastPacketBytes = n.toLong()\n            networkStatistics.lastPacketTime = nano\n            measureSpeed(networkStatistics)\n        }\n        return nread\n    }\n}\n\nclass NetworkStatistics(var totalAmountData: Long, var dataSent: Long = 0, var totalSendingTime: Long = 0, var lastPacketBytes: Long = 0, var lastPacketTime: Long = 0) {\n\n    private fun convertNanoToSeconds(nano: Long) : Double {\n        return nano.toDouble() / 1000000000\n    }\n\n    private fun convertBytesToMegabytes(bytes: Long) : Double {\n        return bytes.toDouble()/1048576\n    }\n\n    private fun convertBytesNanoToMegabytesSeconds(bytes: Long, nano: Long) : Double {\n        return ( bytes.toDouble() / nano.toDouble() ) * 953.67431640625\n    }\n\n    /**\n     * Returns the transfer rate of the last packet in MB per second.\n     */\n    fun getLastPacketRate() : Double {\n        return if (lastPacketTime != 0L) {\n            convertBytesToMegabytes(lastPacketBytes) / convertNanoToSeconds(lastPacketTime)\n        }\n        else\n            0.0\n    }\n\n    /**\n     * Returns the transfer rate that has been measured by this instance in MB per second.\n     */\n    fun getOverallTransferRate() : Double {\n        return if (totalSendingTime != 0L) {\n            convertBytesNanoToMegabytesSeconds(dataSent, totalSendingTime)\n        }\n        else\n            0.0\n    }\n\n    /**\n     * Returns the percent of the transfer that has been completed.\n     */\n    fun getTransferCompletePercent() : Double {\n        return if (totalAmountData != 0L) {\n            (dataSent.toDouble() / totalAmountData) * 100\n        }\n        else\n            0.0\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-arrayadapter"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1560252001, "post_id": 56542367, "comment_id": 99666670, "body": "Is <code>IdentityType</code> your class? Can you edit it?"}, {"owner": {"reputation": 1, "user_id": 11317349, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219210489323271/picture?type=large", "display_name": "Amine Kilani", "link": "https://stackoverflow.com/users/11317349/amine-kilani"}, "reply_to_user": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1560252294, "post_id": 56542367, "comment_id": 99666826, "body": "IdentityType is my enum and contains DRIVING_LICENSE, ID_CARD and PASSPORT values and I can&#39;t edit it, it&#39;s contained in the domain layer"}], "answers": [{"tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": false, "score": 0, "last_activity_date": 1560255056, "creation_date": 1560255056, "answer_id": 56543413, "question_id": 56542367, "link": "https://stackoverflow.com/questions/56542367/make-hint-for-android-spinner-using-enums/56543413#56543413", "title": "Make hint for Android spinner using enums", "body": "<p>In Kotlin there is possibility to put properties inside enum (here it calls enum class). You can define it in constructor like following:</p>\n\n<pre><code>enum class IdentityType(val stringResId: Int) {\n    DRIVING_LICENSE(R.string.driving_license),\n    ID_CARD(R.string.id_card),\n    PASSPORT(R.string.passport)\n}\n</code></pre>\n\n<p>Then you can use it like it is a common property of a class.</p>\n\n<pre><code>val type: IdentityType = ...\nval string = getString(type.stringResId)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11317349, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219210489323271/picture?type=large", "display_name": "Amine Kilani", "link": "https://stackoverflow.com/users/11317349/amine-kilani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560255056, "creation_date": 1560251295, "question_id": 56542367, "link": "https://stackoverflow.com/questions/56542367/make-hint-for-android-spinner-using-enums", "title": "Make hint for Android spinner using enums", "body": "<p>I can't find a solution to my problem : I want a hint text displayed on my Spinner but the adapter I set only accepts enum type (IdentityType enum)so I cannot add a String to it (for the hint)</p>\n\n<p>Do you have any solution still using the enum in the adapter?</p>\n\n<pre><code>private fun initDriverIdentityTypeSpinner() {\n    driverIdentityTypeSpinner.adapter = object : ArrayAdapter&lt;IdentityType&gt;(context!!, android.R.layout.simple_spinner_item,IdentityType.values()) {\n        override fun getDropDownView(position: Int, convertView: View?, parent: ViewGroup): View =\n            (super.getDropDownView(position, convertView, parent) as CheckedTextView).also{\n                it.setText(getItem(position)!!.stringRes())\n            }\n        override fun getView(position: Int, convertView: View?, parent: ViewGroup) =\n            (super.getView(position, convertView, parent) as TextView).also {\n                it.setText(getItem(position)!!.stringRes())\n            }\n\n        override fun isEnabled(position: Int): Boolean = position != 0\n\n    }.also {\n        it.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    }\n}\n\n//IdentityType Extension\n@StringRes\nfun IdentityType.stringRes(): Int {\n    return when(this) {\n        IdentityType.DRIVING_LICENSE -&gt; R.string.driving_license\n        IdentityType.ID_CARD -&gt; R.string.id_card\n        IdentityType.PASSPORT -&gt; R.string.passport\n    }\n}\n</code></pre>\n"}, {"tags": ["mongodb", "kotlin"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1560286479, "post_id": 56542330, "comment_id": 99684775, "body": "Did you check this? <a href=\"https://stackoverflow.com/questions/37392733/difference-between-jsonignore-and-jsonbackreference-jsonmanagedreference/37394318\" title=\"difference between jsonignore and jsonbackreference jsonmanagedreference\">stackoverflow.com/questions/37392733/&hellip;</a>"}, {"owner": {"reputation": 2702, "user_id": 7432865, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6939393bd372c29755451b6226db08ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dachstein", "link": "https://stackoverflow.com/users/7432865/dachstein"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1560326993, "post_id": 56542330, "comment_id": 99695119, "body": "Interesting Link but doesnt solve the problem"}], "answers": [{"comments": [{"owner": {"reputation": 2702, "user_id": 7432865, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6939393bd372c29755451b6226db08ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dachstein", "link": "https://stackoverflow.com/users/7432865/dachstein"}, "edited": false, "score": 0, "creation_date": 1560326573, "post_id": 56551552, "comment_id": 99694934, "body": "Jackson works perfectly with this setup. I have tried this setup and successfully serialised and deserialised with Jackson. So Jackson is not the problem. My best estimate is that Spring Data MongoDB core mappers (see Stacktrace above) cannot handle the recursion. I have filed a Spring Data MongoDB bug on JIRA."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1560286556, "creation_date": 1560286556, "answer_id": 56551552, "question_id": 56542330, "link": "https://stackoverflow.com/questions/56542330/kotlin-mongodb-and-dbref-back-reference-stackoverflow-exception/56551552#56551552", "title": "Kotlin: MongoDB and @DBRef back reference -&gt; Stackoverflow Exception", "body": "<p>Here's the gist.</p>\n\n<p><code>@JsonIgnore</code> is for serialization. In your case, what you need is <code>@JsonManagedReference</code> and <code>@JsonBackReference</code>.</p>\n\n<pre><code>class Child {\n    @DBRef\n    @JsonBackReference\n    lateinit var parent: Parent\n}\n</code></pre>\n\n<p>And in your parent class, but it should be something along those lines:</p>\n\n<pre><code>class Parent(val id: String, @JsonManagedReference val child: Child) {\n    init {\n        child.parent = this\n    }\n}\n</code></pre>\n\n<p>You may need to change my example a bit, but that's the idea.</p>\n"}, {"tags": [], "owner": {"reputation": 2702, "user_id": 7432865, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6939393bd372c29755451b6226db08ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dachstein", "link": "https://stackoverflow.com/users/7432865/dachstein"}, "is_accepted": false, "score": 0, "last_activity_date": 1560333110, "last_edit_date": 1560333110, "creation_date": 1560332130, "answer_id": 56558981, "question_id": 56542330, "link": "https://stackoverflow.com/questions/56542330/kotlin-mongodb-and-dbref-back-reference-stackoverflow-exception/56558981#56558981", "title": "Kotlin: MongoDB and @DBRef back reference -&gt; Stackoverflow Exception", "body": "<p>The main problem is that Spring Data Mongo cannot handle the primary constructor in the Parent class when it sees the Child property and it gets in a cyclic loop, hence the Stackoverflow. However, Jackson Mapper has no problem with serialisation and de-serialisation!</p>\n\n<p>I opened up an issue on Spring Data MongoDB JIRA <a href=\"https://jira.spring.io/projects/DATAMONGO/issues/DATAMONGO-2299?filter=allopenissues&amp;orderby=created%20DESC%2C%20priority%20ASC%2C%20updated%20DESC\" rel=\"nofollow noreferrer\">DATA MONGO 2299</a> where they suggested me Solution 1. However, its not really Kotlin idiomatic.</p>\n\n<p>I hope that MongoDB has a more native solution out of the box since Jackson can handle cyclic references well.</p>\n\n<p>Meanwhile, I investigated a bit time and found two more alternatives. All 3 solutions work to serialise and de-serialise with both frameworks: Spring Data MongoDB and Jackson Mapper. </p>\n\n<p><strong>Solution 1</strong><br>\n<strong>Pros:</strong> very concise<br>\n<strong>Cons:</strong> not really Kotlin idiomatic (var id instead val id, open class Parent)</p>\n\n<pre><code>class Child {\n\n    // In order to workaround the StackOverflow problem we lazy initialise the property.\n    @DBRef(lazy = true)\n    @JsonIgnore\n    lateinit var parent: Parent\n}\n\n// However, laziness requires Spring Data Mongo framework to subclass our Parent, hence we have to delcare it open\nopen class Parent(var id: String, val child: Child) {\n    init { child.parent = this }\n}\n</code></pre>\n\n<p><strong>Solution 2</strong><br>\n<strong>Pros:</strong> Protected primary constructor used for all properties which both frameworks can handle </p>\n\n<pre><code>class Child {\n    @DBRef\n    @JsonBackReference\n    lateinit var parent: Parent\n}\n\n\n// Primary constructor called by MongoDB &amp; Jackson for de-serialisation\nclass Parent protected constructor(val id: String) {\n\n    // Secondary constructor called by us\n    constructor(id: String, child: Child): this(id) {\n        this.child = child\n        this.child.parent = this\n    }\n\n    // We need @JsonManagedReference/@JsonBackReference on the child.\n    // Ohterwise we get `UninitializedPropertyAccessException`if Jackson de-serialize it and we try to access the parent property on the child\n    @JsonManagedReference\n    lateinit var child: Child\n}\n</code></pre>\n\n<p><strong>Solution 3</strong>   </p>\n\n<p><strong>Pros:</strong> Full control over the constructors<br>\n<strong>Cons:</strong> Verbose</p>\n\n<pre><code>class Child {\n    @DBRef\n    @JsonIgnore\n    lateinit var parent: Parent\n}\n\nclass Parent {\n    val id: String\n    lateinit var child: Child\n\n\n    // Called by MongoDB\n    @PersistenceConstructor\n    protected constructor(id: String) {\n        this.id = id\n    }\n\n    // Called by Jackson Mapper &amp; us\n    constructor(id: String, child: Child) {\n        this.id = id\n        this.child = child\n        this.child.parent = this\n    }\n}\n</code></pre>\n\n<p>Hope that helps somebody with similar problems.</p>\n"}], "owner": {"reputation": 2702, "user_id": 7432865, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6939393bd372c29755451b6226db08ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dachstein", "link": "https://stackoverflow.com/users/7432865/dachstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560333110, "creation_date": 1560251182, "question_id": 56542330, "link": "https://stackoverflow.com/questions/56542330/kotlin-mongodb-and-dbref-back-reference-stackoverflow-exception", "title": "Kotlin: MongoDB and @DBRef back reference -&gt; Stackoverflow Exception", "body": "<p>Lets say I have a class <code>Parent</code></p>\n\n<pre><code>class Parent(val id: String, val child: Child) {\n\n    init {\n        child.parent = this\n    }\n}\n</code></pre>\n\n<p>Also there is a <code>Child</code> class with a back reference to the parent!</p>\n\n<pre><code>class Child {\n\n    @DBRef\n    @JsonIgnore\n    lateinit var parent: Parent\n}\n</code></pre>\n\n<p>However, when I want to save and retrieve the parent with</p>\n\n<pre><code>@Autowired\nlateinit var mongo: MongoOperations\n\nval parent = Parent(\"1\", Child())\nmongo.save(parent)\nmongo.findById&lt;Parent&gt;(\"1\")\n</code></pre>\n\n<p>I get <code>StackOverflow Exception</code> on the <code>mongo.findById</code> call!</p>\n\n<p>In the Exception stack it shows clearly that MongoDB has problems with resolving DBRef</p>\n\n<pre><code>at org.springframework.data.mongodb.core.convert.DefaultDbRefResolver.resolveDbRef(DefaultDbRefResolver.java:103)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAssociation(MappingMongoConverter.java:400)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:354)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.populateProperties(MappingMongoConverter.java:295)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:275)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:245)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readValue(MappingMongoConverter.java:1491)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1389)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationAwareMongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1438)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationAwareMongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1401)\nat org.springframework.data.mapping.model.PersistentEntityParameterValueProvider.getParameterValue(PersistentEntityParameterValueProvider.java:71)\nat org.springframework.data.mapping.model.SpELExpressionParameterValueProvider.getParameterValue(SpELExpressionParameterValueProvider.java:49)\nat org.springframework.data.convert.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.extractInvocationArguments(ClassGeneratingEntityInstantiator.java:250)\nat org.springframework.data.convert.ClassGeneratingEntityInstantiator$EntityInstantiatorAdapter.createInstance(ClassGeneratingEntityInstantiator.java:223)\nat org.springframework.data.convert.ClassGeneratingEntityInstantiator.createInstance(ClassGeneratingEntityInstantiator.java:84)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:272)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:245)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.bulkReadAndConvertDBRefs(MappingMongoConverter.java:1556)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAndConvertDBRef(MappingMongoConverter.java:1516)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.potentiallyReadOrResolveDbRef(MappingMongoConverter.java:1509)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readValue(MappingMongoConverter.java:1487)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1389)\nat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:991)\n</code></pre>\n\n<p>This shown stack continues until Stackoverflow.</p>\n\n<p>So, how to solve the problem with Kotlin and MongoDB handling <code>Back-References</code>?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "edited": false, "score": 0, "creation_date": 1560251156, "post_id": 56542274, "comment_id": 99666177, "body": "You should take a look at this two library <a href=\"https://github.com/umano/AndroidSlidingUpPanel\" rel=\"nofollow noreferrer\">github.com/umano/AndroidSlidingUpPanel</a>  <a href=\"https://github.com/orhanobut/dialogplus\" rel=\"nofollow noreferrer\">github.com/orhanobut/dialogplus</a>"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1560251167, "post_id": 56542274, "comment_id": 99666185, "body": "Why are you having the bottomsheet layout in the same screen"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1560251277, "post_id": 56542274, "comment_id": 99666256, "body": "@ManojPerumarath it should be in a different layout, it will affect  the goal."}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "edited": false, "score": 0, "creation_date": 1560251359, "post_id": 56542274, "comment_id": 99666302, "body": "@Mr.Patel I&#39;m trying something similar but fail to find the issue"}, {"owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "edited": false, "score": 0, "creation_date": 1560251784, "post_id": 56542274, "comment_id": 99666565, "body": "@Farhana i think below answer by manoj should help but still if you&#39;re facing issues i strongly suggest you to use sliding up panel layout with which you can easily implement what you want"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "edited": false, "score": 0, "creation_date": 1560254623, "post_id": 56542274, "comment_id": 99668166, "body": "@Mr.Patel I tried below solution and i have separated bottom view in other layout but it shows an error ` The view is not associated with BottomSheetBehavior` and i tried to resolve it but still showing."}, {"owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "edited": false, "score": 0, "creation_date": 1560254908, "post_id": 56542274, "comment_id": 99668324, "body": "@Farhana ok then you should go for sliding panel layout library with that you can easily do what you want tell me if you need help i&#39;ll post a demo code for that layout here"}, {"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1560255490, "post_id": 56542274, "comment_id": 99668632, "body": "have you tried defining peek height for your bottom navigation"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1560255607, "post_id": 56542274, "comment_id": 99668705, "body": "@VivekMishra no, can you explain it"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1560318708, "post_id": 56542274, "comment_id": 99691541, "body": "@Farhana did you resolve this issue"}, {"owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 1, "creation_date": 1560321464, "post_id": 56542274, "comment_id": 99692510, "body": "@ManojPerumarath  Yes, I have combined three answers,  two below and one another have worked for me and another SO <a href=\"https://stackoverflow.com/questions/36636671/how-to-set-maximum-expanded-height-in-android-support-design-bottom-sheet\">solution</a> and thanks for answering."}], "answers": [{"tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": false, "score": 1, "last_activity_date": 1560251493, "creation_date": 1560251493, "answer_id": 56542431, "question_id": 56542274, "link": "https://stackoverflow.com/questions/56542274/open-bottom-dialog-from-mid-to-top-in-android/56542431#56542431", "title": "Open Bottom dialog from mid to top in Android", "body": "<p>Move the attribute <code>app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"&gt;</code> from <code>LinearLayout</code> to the root view of your sheet which is <code>CoordinatorLayout</code></p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"&gt;\n\n&lt;LinearLayout\n        android:id=\"@+id/bottom_sheet\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"#fff\"\n        android:orientation=\"vertical\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "is_accepted": false, "score": 1, "last_activity_date": 1560255833, "creation_date": 1560255833, "answer_id": 56543671, "question_id": 56542274, "link": "https://stackoverflow.com/questions/56542274/open-bottom-dialog-from-mid-to-top-in-android/56543671#56543671", "title": "Open Bottom dialog from mid to top in Android", "body": "<p>Setting <code>peekHeight</code> for your bottomsheet should help you to get your desired behaviour. This is the definition of the peekHeight.</p>\n\n<blockquote>\n  <p><strong>STATE_COLLAPSED</strong>: The bottom sheet is visible but only showing its peek height. This state is usually the 'resting position' of a Bottom Sheet. The peek height is chosen by the developer and should be enough to indicate there is extra content, allow the user to trigger an action or expand the bottom sheet.</p>\n</blockquote>\n"}], "owner": {"reputation": 8174, "user_id": 7357920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tutNS.jpg?s=128&g=1", "display_name": "Farhana Naaz Ansari", "link": "https://stackoverflow.com/users/7357920/farhana-naaz-ansari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560255833, "creation_date": 1560250995, "last_edit_date": 1560251835, "question_id": 56542274, "link": "https://stackoverflow.com/questions/56542274/open-bottom-dialog-from-mid-to-top-in-android", "title": "Open Bottom dialog from mid to top in Android", "body": "<p>I want my bottom dialog open by default at mid-height and when slide, it should open to the top. Google map will be shown in the top half part and another half part will be <code>Bottomsheet</code> and when the user slides up the bottom it should open to the top.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n             xmlns:tools=\"http://schemas.android.com/tools\"\n             android:layout_width=\"match_parent\"\n             android:orientation=\"vertical\"\n             android:layout_height=\"match_parent\"\n             tools:context=\".home.MainActivity\"&gt;\n\n&lt;LinearLayout android:layout_width=\"match_parent\"\n              android:orientation=\"vertical\"\n              android:weightSum=\"2\"\n              android:layout_height=\"match_parent\"&gt;\n\n    &lt;fragment\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:id=\"@+id/map\"\n            android:layout_weight=\"1\"\n            tools:context=\".module.ride.activity.MapsActivity\"\n            android:name=\"com.google.android.gms.maps.SupportMapFragment\"/&gt;\n\n    &lt;LinearLayout android:layout_width=\"match_parent\"\n                  android:orientation=\"vertical\"\n                  android:layout_weight=\"1\"\n                  android:layout_height=\"0dp\"&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n\n&lt;android.support.design.widget.CoordinatorLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n    &lt;LinearLayout\n            android:id=\"@+id/bottom_sheet\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"#fff\"\n            android:orientation=\"vertical\"\n            app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"&gt;\n\n        &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"horizontal\"\n                android:layout_gravity=\"center_vertical\"\n                android:weightSum=\"3\"&gt;\n\n            &lt;ImageView android:layout_width=\"match_parent\"\n                       app:srcCompat=\"@drawable/ic_openclose\"\n                       android:id=\"@+id/imgExpand\"\n                       android:layout_height=\"@dimen/_40sdp\"/&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Chicken Fried Rice 1x1\"/&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Paneer Tikka 1x2\"/&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Delivery Address\"\n                android:textColor=\"#444\"\n                android:textStyle=\"bold\"/&gt;\n\n        &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Flat No 404, Skyline Apartments, Vizag - 500576\"/&gt;\n\n        &lt;Button\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"30dp\"\n                android:background=\"#000\"\n                android:foreground=\"?attr/selectableItemBackground\"\n                android:text=\"PROCEED PAYMENT\"\n                android:textColor=\"#fff\"/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>My Kotlin Code</p>\n\n<pre><code> var sheetBehavior: BottomSheetBehavior&lt;*&gt;? = null\n sheetBehavior = BottomSheetBehavior.from(bottom_sheet);\n        (sheetBehavior as BottomSheetBehavior&lt;*&gt;?)!!.setBottomSheetCallback(object :\n            BottomSheetBehavior.BottomSheetCallback() {\n            override fun onSlide(p0: View, p1: Float) {\n\n        }\n        override fun onStateChanged(p0: View, p1: Int) {\n            when (p0.id) {\n\n                BottomSheetBehavior.STATE_HIDDEN -&gt; {\n                    System.out.println(\"----------STATE_HIDDEN\")\n                }\n                BottomSheetBehavior.STATE_EXPANDED -&gt; {\n                    System.out.println(\"-------------STATE_EXPANDED\")\n                }\n                BottomSheetBehavior.STATE_COLLAPSED -&gt; {\n                    System.out.println(\"-----------STATE_COLLAPSED\")\n                }\n            }\n        }\n    })\n    imgExpand.setOnClickListener() {\n        if ((sheetBehavior as BottomSheetBehavior&lt;*&gt;?)!!.state != BottomSheetBehavior.STATE_EXPANDED) {\n            (sheetBehavior as BottomSheetBehavior&lt;*&gt;?)!!.setState(BottomSheetBehavior.STATE_EXPANDED);\n        } else {\n            (sheetBehavior as BottomSheetBehavior&lt;*&gt;?)!!.setState(BottomSheetBehavior.STATE_COLLAPSED);\n        }\n    }\n}\n</code></pre>\n\n<p>I tried something but it shows something like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/IVu5u.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IVu5u.gif\" alt=\"enter image description here\"></a></p>\n\n<p>But I want to do something like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/jJO9O.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jJO9O.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "callback", "paging"], "comments": [{"owner": {"reputation": 3336, "user_id": 1706233, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rEW1m.jpg?s=128&g=1", "display_name": "Akhilesh Mani", "link": "https://stackoverflow.com/users/1706233/akhilesh-mani"}, "edited": false, "score": 0, "creation_date": 1602606707, "post_id": 56541668, "comment_id": 113771365, "body": "did you get any solution?"}], "answers": [{"tags": [], "owner": {"reputation": 5907, "user_id": 1799043, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/7095adfa08cd9a890c39d46d2f913a99?s=128&d=identicon&r=PG", "display_name": "AndroidEnthusiast", "link": "https://stackoverflow.com/users/1799043/androidenthusiast"}, "is_accepted": false, "score": 0, "last_activity_date": 1560260422, "creation_date": 1560260422, "answer_id": 56545099, "question_id": 56541668, "link": "https://stackoverflow.com/questions/56541668/onitematendloaded-method-is-called-only-once-and-doesnt-retry-again-in-paging/56545099#56545099", "title": "onItemAtEndLoaded() method is called only once and doesn&#39;t retry again in Paging Library", "body": "<p>I had a similar issue when I use this library. </p>\n\n<p>I found that the best way to refresh content was calling invalidate() on the data source but this only appeals to pull to refresh scenarios when we might want all data to be reloaded.</p>\n\n<p>For implementing retries on failure, it's possible to handle this manually by creating and implementing an interface e.g check out this blog post for an example.</p>\n\n<p><strong><em>See Retryable Interface</em></strong> : <a href=\"https://medium.com/@SaurabhSandav/using-android-paging-library-with-retrofit-fa032cac15f8\" rel=\"nofollow noreferrer\">https://medium.com/@SaurabhSandav/using-android-paging-library-with-retrofit-fa032cac15f8</a></p>\n"}], "owner": {"reputation": 1574, "user_id": 737704, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/VkYfw.jpg?s=128&g=1", "display_name": "Suresh Sharma", "link": "https://stackoverflow.com/users/737704/suresh-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 386, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1600520578, "creation_date": 1560248825, "last_edit_date": 1560255750, "question_id": 56541668, "link": "https://stackoverflow.com/questions/56541668/onitematendloaded-method-is-called-only-once-and-doesnt-retry-again-in-paging", "title": "onItemAtEndLoaded() method is called only once and doesn&#39;t retry again in Paging Library", "body": "<p>Recently I started working in Kotlin. I am playing around the Paging Library using BoundaryCallback mechanism. It is working nice when there is no failure in API call but in case of failure there is no way to retry the server call. <code>onItemAtEndLoaded()</code> never call again.</p>\n\n<p>I've tried all hands including solutions given on different portals. Here below is the PageConfig settings that I am currently using.</p>\n\n<pre><code>val pagedConfig = PagedList.Config.Builder()\n            .setPageSize(DATABASE_PAGE_SIZE)\n            .setPrefetchDistance(0)\n            .setEnablePlaceholders(true)\n            .build()\n</code></pre>\n\n<p>I have also tried with ' <code>setEnablePlacehoder</code> ' true and false both but no luck. Please help me out if anybody has good experience with paging library.</p>\n"}, {"tags": ["android", "kotlin", "parse-platform"], "comments": [{"owner": {"reputation": 1335, "user_id": 9333764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KxUuh.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/9333764/jake"}, "edited": false, "score": 0, "creation_date": 1560249545, "post_id": 56541613, "comment_id": 99665232, "body": "Could you chain a <code>.also{ callback() }</code> onto the end of your foreach statement?"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "reply_to_user": {"reputation": 1335, "user_id": 9333764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KxUuh.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/9333764/jake"}, "edited": false, "score": 0, "creation_date": 1560250812, "post_id": 56541613, "comment_id": 99665964, "body": "And will it work? Because inside foreach is query.findInBackground which is async call with onDone function"}, {"owner": {"reputation": 1335, "user_id": 9333764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KxUuh.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/9333764/jake"}, "edited": false, "score": 0, "creation_date": 1560254976, "post_id": 56541613, "comment_id": 99668365, "body": "No probably not, sorry missed that detail. How many results do you expect back? If it&#39;s a small amount you could use an intent to notify the activity of changes. You&#39;d use a data store pattern instead of a callback."}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "reply_to_user": {"reputation": 1335, "user_id": 9333764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KxUuh.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/9333764/jake"}, "edited": false, "score": 0, "creation_date": 1560263119, "post_id": 56541613, "comment_id": 99673437, "body": "Can be 4 but also 300 items"}, {"owner": {"reputation": 2501, "user_id": 6079144, "user_type": "registered", "profile_image": "https://graph.facebook.com/963317420421820/picture?type=large", "display_name": "Davi Mac&#234;do", "link": "https://stackoverflow.com/users/6079144/davi-mac%c3%aado"}, "edited": false, "score": 0, "creation_date": 1560753414, "post_id": 56541613, "comment_id": 99824144, "body": "Have you tried to use the <code>query.find()</code> method instead of the <code>query.findInBackground()</code>? This method is synchronous and will probably solve your problem."}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560249113, "creation_date": 1560248636, "last_edit_date": 1560249113, "question_id": 56541613, "link": "https://stackoverflow.com/questions/56541613/how-to-do-parsequery-for-each-item-in-a-list-of-parseobjects", "title": "How to do ParseQuery for each item in a list of ParseObjects", "body": "<p>I want to do ParseAPI call in Kotlin where input is <code>List&lt;ParseObject&gt;</code> and output is update <code>MutableList&lt;CustomObject&gt;</code> where <code>CustomObject</code> is data class containing <code>ParseObject</code> and <code>Int</code>. I can do something like this:</p>\n\n<pre><code>var newItems = mutableListOf&lt;CustomObject&gt;()\nitems.forEach{\n//do query on relation column of item\n//inside query.findInBackground -&gt; (if error == null) add item to newItems\n}\n</code></pre>\n\n<p>But I need to call callback function when new list is finished. I need something like await function for this call. Because i have to wait till callbacks for each item have ended and then return results to Activity.</p>\n\n<p>That means function for query is defined like this:</p>\n\n<pre><code>fun getCurrentItems(c: Context, items: List&lt;ParseObject&gt;, callback:(MutableList&lt;CustomObject&gt;) -&gt; Unit)\n</code></pre>\n\n<p>If all items were checked I just want to call:</p>\n\n<pre><code>callback(newItems)\n</code></pre>\n"}, {"tags": ["json", "kotlin", "kotlinx.serialization"], "answers": [{"tags": [], "owner": {"reputation": 6064, "user_id": 1348379, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/56ae6d03b6827bb8fdf9b6fd6f025c21?s=128&d=identicon&r=PG", "display_name": "BrantApps", "link": "https://stackoverflow.com/users/1348379/brantapps"}, "is_accepted": false, "score": 0, "last_activity_date": 1560705433, "creation_date": 1560705433, "answer_id": 56621032, "question_id": 56541201, "link": "https://stackoverflow.com/questions/56541201/parsing-empty-object-with-kotlinx-serialization/56621032#56621032", "title": "Parsing empty object with kotlinx.serialization", "body": "<p>So this was down to the <code>kotlinCompilerClasspath</code> having a different version kotlin (1.3.21, not 1.3.31).</p>\n\n<p>Interestingly this was owing to advice I followed when configuring my gradle plugin project to <em>not</em> specify a version for the <code>kotlin-dsl</code> plugin.</p>\n\n<p>Explicitly relying on the version I needed fixed the <code>kotlinx.serialisation</code> behavior (no changes to the mainline code)</p>\n"}, {"tags": [], "owner": {"reputation": 2680, "user_id": 2369484, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/199c0203c024acb54d3e48d91c001464?s=128&d=identicon&r=PG", "display_name": "fada21", "link": "https://stackoverflow.com/users/2369484/fada21"}, "is_accepted": false, "score": 0, "last_activity_date": 1611699863, "creation_date": 1611699863, "answer_id": 65910163, "question_id": 56541201, "link": "https://stackoverflow.com/questions/56541201/parsing-empty-object-with-kotlinx-serialization/65910163#65910163", "title": "Parsing empty object with kotlinx.serialization", "body": "<p>Yes, ideally <code>null</code> instead of <code>{}</code> is way more convenient to parse but sometimes you just need to consume what backend sends you</p>\n<p>There are 2 solutions that come to my mind.</p>\n<ol>\n<li>Simpler, specific to your case using map:</li>\n</ol>\n<pre><code>import kotlinx.serialization.decodeFromString\nimport kotlinx.serialization.json.Json\nimport org.junit.Assert.assertEquals\nimport org.junit.Assert.assertTrue\nimport org.junit.Test\n\nclass ThingMapSerializerTest {\n\n    @Test\n    fun `should deserialize to non empty map`() {\n        val thingMap: Map&lt;String, String&gt; =\n            Json.decodeFromString(&quot;&quot;&quot;{&quot;id&quot;:&quot;ABC1&quot;,&quot;status&quot;:&quot;A_STATUS&quot;}&quot;&quot;&quot;)\n\n        assertTrue(thingMap.isNotEmpty())\n        assertEquals(&quot;ABC1&quot;, thingMap[&quot;id&quot;])\n        assertEquals(&quot;A_STATUS&quot;, thingMap[&quot;status&quot;])\n    }\n\n    @Test\n    fun `should deserialize to empty map`() {\n        val thingMap: Map&lt;String, String&gt; = Json.decodeFromString(&quot;{}&quot;)\n\n        assertTrue(thingMap.isEmpty())\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>More complex but more general that works for any combinations of value types. I recommend sealed class with explicit empty value instead of data class with empty defaults:</li>\n</ol>\n<pre><code>import kotlinx.serialization.KSerializer\nimport kotlinx.serialization.SerializationException\nimport kotlinx.serialization.descriptors.SerialDescriptor\nimport kotlinx.serialization.descriptors.buildClassSerialDescriptor\nimport kotlinx.serialization.descriptors.serialDescriptor\nimport kotlinx.serialization.encoding.CompositeDecoder\nimport kotlinx.serialization.encoding.Decoder\nimport kotlinx.serialization.encoding.Encoder\nimport kotlinx.serialization.encoding.decodeStructure\nimport kotlinx.serialization.json.Json\nimport org.junit.Assert.assertEquals\nimport org.junit.Test\n\nclass ThingSerializerTest {\n\n    @Test\n    fun `should deserialize to thing`() {\n        val thing: OptionalThing =\n            Json.decodeFromString(\n                OptionalThing.ThingSerializer,\n                &quot;&quot;&quot;{&quot;id&quot;:&quot;ABC1&quot;,&quot;status&quot;:&quot;A_STATUS&quot;}&quot;&quot;&quot;\n            )\n\n        assertEquals(OptionalThing.Thing(id = &quot;ABC1&quot;, status = &quot;A_STATUS&quot;), thing)\n    }\n\n    @Test\n    fun `should deserialize to empty`() {\n        val thing: OptionalThing =\n            Json.decodeFromString(OptionalThing.ThingSerializer, &quot;{}&quot;)\n\n        assertEquals(OptionalThing.Empty, thing)\n    }\n\n    sealed class OptionalThing {\n        data class Thing(val id: String = &quot;&quot;, val status: String = &quot;&quot;) : OptionalThing()\n        object Empty : OptionalThing()\n\n        object ThingSerializer : KSerializer&lt;OptionalThing&gt; {\n            override val descriptor: SerialDescriptor =\n                buildClassSerialDescriptor(&quot;your.app.package.OptionalThing&quot;) {\n                    element(&quot;id&quot;, serialDescriptor&lt;String&gt;(), isOptional = true)\n                    element(&quot;status&quot;, serialDescriptor&lt;String&gt;(), isOptional = true)\n                }\n\n            override fun deserialize(decoder: Decoder): OptionalThing {\n                decoder.decodeStructure(descriptor) {\n                    var id: String? = null\n                    var status: String? = null\n                    loop@ while (true) {\n                        when (val index = decodeElementIndex(descriptor)) {\n                            CompositeDecoder.DECODE_DONE -&gt; break@loop\n                            0 -&gt; id = decodeStringElement(descriptor, index = 0)\n                            1 -&gt; status = decodeStringElement(descriptor, index = 1)\n                            else -&gt; throw SerializationException(&quot;Unexpected index $index&quot;)\n                        }\n                    }\n                    return if (id != null &amp;&amp; status != null) Thing(id, status)\n                    else Empty\n                }\n            }\n\n            override fun serialize(encoder: Encoder, value: OptionalThing) {\n                TODO(&quot;Not implemented, not needed&quot;)\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>When 'Thing' is a field within json object:</p>\n<pre><code>  &quot;thing&quot;:{&quot;id&quot;:&quot;ABC1&quot;,&quot;status&quot;:&quot;A_STATUS&quot;} // could be {} \n</code></pre>\n<p>you can annotate property like that:</p>\n<pre><code>@Serializable(with = OptionalThing.ThingSerializer::class)\nval thing: OptionalThing\n\n</code></pre>\n<p>Tested for:</p>\n<ul>\n<li><code>classpath &quot;org.jetbrains.kotlin:kotlin-serialization:1.4.10&quot;</code></li>\n<li><code>implementation &quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.0.1&quot;</code></li>\n</ul>\n"}], "owner": {"reputation": 6064, "user_id": 1348379, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/56ae6d03b6827bb8fdf9b6fd6f025c21?s=128&d=identicon&r=PG", "display_name": "BrantApps", "link": "https://stackoverflow.com/users/1348379/brantapps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 869, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1611699863, "creation_date": 1560247257, "last_edit_date": 1560247589, "question_id": 56541201, "link": "https://stackoverflow.com/questions/56541201/parsing-empty-object-with-kotlinx-serialization", "title": "Parsing empty object with kotlinx.serialization", "body": "<p>I am struggling to understand how to parse an empty object <code>{}</code> with the experimental <code>kotlinx.serialization</code> library. The complication arises when in fact an API response can be one of;</p>\n\n<pre><code>{\n  \"id\": \"ABC1\",\n  \"status\": \"A_STATUS\"\n}\n</code></pre>\n\n<p><em>or</em></p>\n\n<pre><code>{}\n</code></pre>\n\n<p>The data structure I have used as my serializer is;</p>\n\n<pre><code>data class Thing(val id: String = \"\", val status: String = \"\")\n</code></pre>\n\n<p>This is annotated with <code>@kotlinx.serialization.Serializable</code> and used within an API client library to marshall between the raw API response and the data model. The default values tell the serialisation library that the field is optional and replaces the <code>@Optional</code> approach of pre-Kotlin 1.3.30.</p>\n\n<p>Finally, the <code>kotlinx.serialization.json.Json</code> parser I am using has the configuration applied by using the <code>nonstrict</code> template.</p>\n\n<p>How do I define a serializer that can parse both an empty object and the expected data type with <code>kotlinx.serialization</code>? Do I need to write my own <code>KSerialiser</code> or is there config I am missing. Ideally, the empty object should be ignored/parsed as a <code>null</code>?</p>\n\n<p>The error I get when parsing an empty object with my <code>Thing</code> data class is;</p>\n\n<pre><code>Field 'id' is required, but it was missing\n</code></pre>\n"}, {"tags": ["android", "kotlin", "view", "constructor", "android-custom-view"], "answers": [{"tags": [], "owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "is_accepted": true, "score": 1, "last_activity_date": 1560248659, "last_edit_date": 1560248659, "creation_date": 1560247832, "answer_id": 56541386, "question_id": 56540980, "link": "https://stackoverflow.com/questions/56540980/overriding-multiple-versions-of-constructor-in-kotlin/56541386#56541386", "title": "Overriding multiple versions of constructor in Kotlin", "body": "<p>This should work both programatically and statically :-   </p>\n\n<pre><code>class CustomView @JvmOverloads constructor(context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0) : View(context, attrs, defStyleAttr)\n</code></pre>\n\n<p>Programatically just call :-</p>\n\n<pre><code>CustomView(context) // passing other params to constructor is not mandatory..\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 1436679, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/kuVKe.jpg?s=128&g=1", "display_name": "Purfakt", "link": "https://stackoverflow.com/users/1436679/purfakt"}, "edited": false, "score": 1, "creation_date": 1560248672, "post_id": 56541569, "comment_id": 99664703, "body": "I can&#39;t comment on @santanu-sur answer, but in my opinion, it isn&#39;t exactly answering the question on how to overload several constructor. You&#39;re passing default value to the 3 arguments constructor, but that might not always be what we want. (Case of different constructor implementation.)"}], "tags": [], "owner": {"reputation": 69, "user_id": 1436679, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/kuVKe.jpg?s=128&g=1", "display_name": "Purfakt", "link": "https://stackoverflow.com/users/1436679/purfakt"}, "is_accepted": false, "score": 1, "last_activity_date": 1560248470, "creation_date": 1560248470, "answer_id": 56541569, "question_id": 56540980, "link": "https://stackoverflow.com/questions/56540980/overriding-multiple-versions-of-constructor-in-kotlin/56541569#56541569", "title": "Overriding multiple versions of constructor in Kotlin", "body": "<p>I created this code to recreate your issue: </p>\n\n<p><code>Test.java</code>:</p>\n\n<pre><code>public class Test {\n\n    private int i ;\n    private String name;\n\n    public Test(int i) {\n        this.i = i;\n        name = \"test\";\n    }\n\n    public Test(int i, String name) {\n        this.i = i;\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p><code>TestK.kt</code>:</p>\n\n<pre><code>class TestK : Test {\n    constructor(i: Int, name: String): super(i, name)\n    constructor(i: Int) : super(i)\n}\n</code></pre>\n\n<p>As you can see, I'm overloading the parents constructor with different parameter amounts.</p>\n"}], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 56541386, "answer_count": 2, "score": 0, "last_activity_date": 1560248659, "creation_date": 1560246550, "question_id": 56540980, "link": "https://stackoverflow.com/questions/56540980/overriding-multiple-versions-of-constructor-in-kotlin", "title": "Overriding multiple versions of constructor in Kotlin", "body": "<p>I was trying to implement <code>CustomView</code> in <code>Kotlin</code>, which is to be used both for programatically and for statically. Thus, I need to override both versions of constructors.</p>\n\n<p>For programatically I use version,</p>\n\n<pre><code>class CustomView @JvmOverloads constructor(\n   context: Context, \n) : View(context)\n</code></pre>\n\n<p>For statically I use version,</p>\n\n<pre><code>class CustomView @JvmOverloads constructor(\n  context: Context, \n  attrs: AttributeSet? = null,\n) : View(context, attrs)\n</code></pre>\n\n<p>How can I change it for overriding multiple versions under same class which then I can instantiate from static views as well as programatically?</p>\n\n<p>There are some post on constructors i.e. <a href=\"https://stackoverflow.com/q/19299525/1084174\">Kotlin secondary constructor</a> which does not help for overriding multiple versions of constructor.</p>\n"}, {"tags": ["android", "kotlin", "android-manifest", "android-fragmentactivity", "androidx"], "comments": [{"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1560245777, "post_id": 56540688, "comment_id": 99663094, "body": "can you add your manifest? have you added this activity in manifest?"}, {"owner": {"reputation": 260, "user_id": 4575146, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3642b925d745ec9c166e9f81fdbb42ea?s=128&d=identicon&r=PG&f=1", "display_name": "Amrit Chakradhari", "link": "https://stackoverflow.com/users/4575146/amrit-chakradhari"}, "reply_to_user": {"reputation": 2512, "user_id": 10635880, "user_type": "registered", "profile_image": "https://graph.facebook.com/961118704088155/picture?type=large", "display_name": "Vedprakash Wagh", "link": "https://stackoverflow.com/users/10635880/vedprakash-wagh"}, "edited": false, "score": 0, "creation_date": 1560246916, "post_id": 56540688, "comment_id": 99663719, "body": "@VedprakashWagh not working already tried what link you have added"}, {"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1560248792, "post_id": 56540688, "comment_id": 99664777, "body": "Manifest activity is <code>CameraActivity</code>. Exception about <code>CameraActivityKt</code>"}], "answers": [{"tags": [], "owner": {"reputation": 260, "user_id": 4575146, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3642b925d745ec9c166e9f81fdbb42ea?s=128&d=identicon&r=PG&f=1", "display_name": "Amrit Chakradhari", "link": "https://stackoverflow.com/users/4575146/amrit-chakradhari"}, "is_accepted": false, "score": 0, "last_activity_date": 1560424512, "creation_date": 1560424512, "answer_id": 56579220, "question_id": 56540688, "link": "https://stackoverflow.com/questions/56540688/migrate-to-androidx-android-content-activitynotfoundexception/56579220#56579220", "title": "Migrate to AndroidX :: android.content.ActivityNotFoundException:", "body": "<p><strong>I got the Solution Kotlin activity will called like this from a java class:</strong></p>\n\n<pre><code>  Intent intent = new Intent(this, CameraActivity.class);\n  intent.putExtra(IConstant.PATH, mCurrentPhotoPath);\n ((Activity) mContext).startActivityForResult(intent, actionCode);\n</code></pre>\n"}], "owner": {"reputation": 260, "user_id": 4575146, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3642b925d745ec9c166e9f81fdbb42ea?s=128&d=identicon&r=PG&f=1", "display_name": "Amrit Chakradhari", "link": "https://stackoverflow.com/users/4575146/amrit-chakradhari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "closed_date": 1560514641, "answer_count": 1, "score": 1, "last_activity_date": 1560424512, "creation_date": 1560245685, "last_edit_date": 1560246736, "question_id": 56540688, "link": "https://stackoverflow.com/questions/56540688/migrate-to-androidx-android-content-activitynotfoundexception", "closed_reason": "Duplicate", "title": "Migrate to AndroidX :: android.content.ActivityNotFoundException:", "body": "<pre><code>    //calling Activity written in kotlin but activity is \n    //not started and giving below-mentioned exception\n</code></pre>\n\n<blockquote>\n  <p>Exception: android.content.ActivityNotFoundException: \n         Unable to find explicit activity class \n         com.myApp.personal/com.myApp.personal.camera.CameraActivityKt\n         have you declared this activity in your AndroidManifest.xml?</p>\n</blockquote>\n\n<pre><code>    //while Registered in manifest file: \n   &lt;activity \n   android:name=\n   \".camera.CameraActivity\"android:screenOrientation=\"fullSensor\"/&gt;\n\n\n\n    try{ \n       File f = setUpPhotoFile(prefixString); mCurrentPhotoPath =\n       f.getAbsolutePath();\n       Intent intent = new Intent(this, CameraActivityKt.class);\n       intent.putExtra(IConstant.PATH, mCurrentPhotoPath);    \n       startActivityForResult(intent, actionCode); \n    } \n    catch(Exception ex) {\n       e.printStackTrace(); \n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-glide", "android-image"], "comments": [{"owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "edited": false, "score": 0, "creation_date": 1560244096, "post_id": 56540119, "comment_id": 99662110, "body": "do you enabled internet permission in manifest?"}, {"owner": {"reputation": 474, "user_id": 4597329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ALpD2.jpg?s=128&g=1", "display_name": "Hari N Jha", "link": "https://stackoverflow.com/users/4597329/hari-n-jha"}, "edited": false, "score": 0, "creation_date": 1560244133, "post_id": 56540119, "comment_id": 99662131, "body": "Please check if you have added INTERNET_PERMISSION in AndroidManifest.xml."}, {"owner": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "edited": false, "score": 0, "creation_date": 1560244370, "post_id": 56540119, "comment_id": 99662262, "body": "Yes, I&#39;m inside the app when trying to load the image."}, {"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1560244399, "post_id": 56540119, "comment_id": 99662279, "body": "Are you creating instance of glide?"}, {"owner": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "edited": false, "score": 0, "creation_date": 1560244480, "post_id": 56540119, "comment_id": 99662332, "body": "Yes, just edited the question :)"}, {"owner": {"reputation": 3188, "user_id": 7372771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sESuU.png?s=128&g=1", "display_name": "akshay_shahane", "link": "https://stackoverflow.com/users/7372771/akshay-shahane"}, "edited": false, "score": 0, "creation_date": 1560430798, "post_id": 56540119, "comment_id": 99739937, "body": "<a href=\"https://stackoverflow.com/questions/45662827/com-bumptech-glide-load-httpexception-forbidden\" title=\"com bumptech glide load httpexception forbidden\">stackoverflow.com/questions/45662827/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "edited": false, "score": 0, "creation_date": 1560254779, "post_id": 56540323, "comment_id": 99668253, "body": "The idea is to download the image synchronously. I don&#39;t wanna use a callback."}, {"owner": {"reputation": 544, "user_id": 11577815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1daaad3689f0c0242ef83915055024d7?s=128&d=identicon&r=PG&f=1", "display_name": "Prachi Singh", "link": "https://stackoverflow.com/users/11577815/prachi-singh"}, "reply_to_user": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "edited": false, "score": 0, "creation_date": 1560255161, "post_id": 56540323, "comment_id": 99668450, "body": "@ArbenMaloku you can add listener to glide for getting callbacks"}], "tags": [], "owner": {"reputation": 544, "user_id": 11577815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1daaad3689f0c0242ef83915055024d7?s=128&d=identicon&r=PG&f=1", "display_name": "Prachi Singh", "link": "https://stackoverflow.com/users/11577815/prachi-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1560255336, "last_edit_date": 1560255336, "creation_date": 1560244570, "answer_id": 56540323, "question_id": 56540119, "link": "https://stackoverflow.com/questions/56540119/glide-android-failed-to-load-resource-from-url/56540323#56540323", "title": "Glide Android - Failed to load resource from url", "body": "<p>try this..</p>\n\n<pre><code>    val options = RequestOptions()\n            .placeholder(R.drawable.your_placeholder_image)\n            .error(R.drawable.your_error_image)\n\n    Glide.with(this).load(image_url).apply(options).into(imageView)\n</code></pre>\n\n<p><strong>EDIT:-</strong> To get <code>Callbacks</code></p>\n\n<pre><code>Glide.with(this)\n        .load(url)\n        .listener(object : RequestListener&lt;Drawable&gt; {\n            override fun onLoadFailed(e: GlideException?, model: Any?, target: Target&lt;Drawable&gt;?, isFirstResource: Boolean): Boolean {\n                //TODO: something on exception\n            }\n            override fun onResourceReady(resource: Drawable?, model: Any?, target: Target&lt;Drawable&gt;?, dataSource: DataSource?, isFirstResource: Boolean): Boolean {\n                Log.d(TAG, \"OnResourceReady\")\n                //do something when picture already loaded\n                return false\n            }\n        })\n        .into(imgView)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 708, "user_id": 2703276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3d142cf7e29cfb465361a7966adf912a?s=128&d=identicon&r=PG&f=1", "display_name": "Pochmurnik", "link": "https://stackoverflow.com/users/2703276/pochmurnik"}, "edited": false, "score": 1, "creation_date": 1560251182, "post_id": 56541635, "comment_id": 99666201, "body": "Please explain in your post why this would help. Any explanation would be welcome."}], "tags": [], "owner": {"reputation": 1, "user_id": 8040150, "user_type": "registered", "profile_image": "https://graph.facebook.com/422944968078078/picture?type=large", "display_name": "Hashir Muhammed V", "link": "https://stackoverflow.com/users/8040150/hashir-muhammed-v"}, "is_accepted": false, "score": -2, "last_activity_date": 1560257015, "last_edit_date": 1560257015, "creation_date": 1560248713, "answer_id": 56541635, "question_id": 56540119, "link": "https://stackoverflow.com/questions/56540119/glide-android-failed-to-load-resource-from-url/56541635#56541635", "title": "Glide Android - Failed to load resource from url", "body": "<p>try this.... this will help you.</p>\n\n<pre><code>Glide.with(this)\n  .load(image_url)\n  .into(imageView)\n  .placeholder(R.drawable.your_placeholder_image)\n  .error(R.drawable.your_error_image)\n</code></pre>\n"}], "owner": {"reputation": 500, "user_id": 3809653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Ezd9I.png?s=128&g=1", "display_name": "ArbenMaloku", "link": "https://stackoverflow.com/users/3809653/arbenmaloku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1933, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1560430485, "creation_date": 1560243894, "last_edit_date": 1560430485, "question_id": 56540119, "link": "https://stackoverflow.com/questions/56540119/glide-android-failed-to-load-resource-from-url", "title": "Glide Android - Failed to load resource from url", "body": "<p>I'm trying to load an image from url async (On a background thread).</p>\n\n<p>Trying something like this:</p>\n\n<pre><code>  val futureTarget = glide\n    .asBitmap()\n    .load(\"https://dummyimage.com/300/09f/fff.png\")\n    .submit(300, 300)\n\n  val bitmap = futureTarget.get() \n</code></pre>\n\n<p>But it crashes the app when trying to load any image from URL, it works fine when loading local resources.</p>\n\n<p>Logcat</p>\n\n<pre><code>There was 1 cause:\n    com.bumptech.glide.load.HttpException(Not Found)\n     call GlideException#logRootCauses(String) for more detail\n        at com.bumptech.glide.request.RequestFutureTarget.doGet(RequestFutureTarget.java:205)\n        at com.bumptech.glide.request.RequestFutureTarget.get(RequestFutureTarget.java:108)\n        at com.....Notifier$sendNotificationTest$1.run(Notifier.kt:85)\n        at java.lang.Thread.run(Thread.java:764)\n     Caused by: com.bumptech.glide.load.engine.GlideException: Failed to load resource\n    There was 1 cause:\n    com.bumptech.glide.load.HttpException(Not Found)\n     call GlideException#logRootCauses(String) for more detail\n</code></pre>\n\n<p>I have added Internet permissions. </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p>Providing Glide using Dagger 2</p>\n\n<pre><code>@Provides\n@Singleton\nstatic RequestManager provideGlide(final Application application) {\n    return GlideApp.with(application);\n}\n</code></pre>\n\n<p>Any idea what I'm missing?</p>\n\n<p><strong>UPDATE</strong> </p>\n\n<blockquote>\n  <p>I figured out that there was an issue with some HttpInterceptors. This solution works downloading bitmaps synchronously. </p>\n</blockquote>\n"}, {"tags": ["kotlin", "data-class"], "answers": [{"tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": true, "score": 3, "last_activity_date": 1560249264, "last_edit_date": 1560249264, "creation_date": 1560248319, "answer_id": 56541521, "question_id": 56539928, "link": "https://stackoverflow.com/questions/56539928/kotlin-allows-defining-data-class-in-a-function-why/56541521#56541521", "title": "Kotlin allows defining data class in a function, why?", "body": "<p>This is called <strong>Local Classes</strong>. They are mentioned in the <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#local-declarations\" rel=\"nofollow noreferrer\">documentation</a> but only that they cannot have visibility modifiers.</p>\n\n<ul>\n<li>You cannot access local class anywhere outside of the function it was declared in.</li>\n<li>It can access any members, including private members, of the containing class.</li>\n<li>It can access any local variables or method parameters that are in the scope of the declaring function</li>\n</ul>\n\n<p>You can take a look at <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html\" rel=\"nofollow noreferrer\">Java's local classes</a> for more information. It should be basically the same.</p>\n\n<p>A typical use case is to have a throw-away implementation of some interface.</p>\n\n<pre><code>fun main() {\n    val f1 = f1()\n\n    println(f1.x)\n    println(f1.y)\n}\n\ninterface Data {\n    val x : Int\n    val y : Int\n}\n\nfun f1(): Data {\n    data class SpecificData(override val x: Int, override val y: Int) : Data\n\n    return SpecificData(5, 10)\n}\n</code></pre>\n"}], "owner": {"reputation": 464, "user_id": 4660145, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/61039b2e8fce93ae427a1173273cbeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Momh", "link": "https://stackoverflow.com/users/4660145/momh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 56541521, "answer_count": 1, "score": 1, "last_activity_date": 1560249264, "creation_date": 1560243190, "question_id": 56539928, "link": "https://stackoverflow.com/questions/56539928/kotlin-allows-defining-data-class-in-a-function-why", "title": "Kotlin allows defining data class in a function, why?", "body": "<p>In kotlin, this is legal:</p>\n\n<pre><code>\nfun f1(): Int {\n    data class Data(val i: Int)\n\n    val d = Data(0)\n\n    return d.i\n}\n</code></pre>\n\n<p>I wonder what are the consequenses of declaring a data class in a function. My best guess is that the data class is scoped to the function but I do not find anything in the doc mentionning that.</p>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560242433, "post_id": 56539636, "comment_id": 99661174, "body": "Do you have some more error message? With only this little information I&#39;m not able to help you"}, {"owner": {"reputation": 165, "user_id": 11629900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b97dc250e7ead9f0ab7145b7412e81e3?s=128&d=identicon&r=PG&f=1", "display_name": "2hardproblems", "link": "https://stackoverflow.com/users/11629900/2hardproblems"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560242834, "post_id": 56539636, "comment_id": 99661391, "body": "no just the imports in class files are all red because the dependencies are not loaded. &#39;./gradlew build&#39; completes successfully."}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560243263, "post_id": 56539636, "comment_id": 99661645, "body": "Which IntelliJ Version are you using?"}, {"owner": {"reputation": 165, "user_id": 11629900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b97dc250e7ead9f0ab7145b7412e81e3?s=128&d=identicon&r=PG&f=1", "display_name": "2hardproblems", "link": "https://stackoverflow.com/users/11629900/2hardproblems"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560243367, "post_id": 56539636, "comment_id": 99661707, "body": "Ultimate 2019.1"}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560243574, "post_id": 56539636, "comment_id": 99661822, "body": "I tried the same and have no issues. Maybe you should try again or ask the support <a href=\"https://intellij-support.jetbrains.com/hc/en-us/?intellij-idea\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/?intellij-idea</a>"}, {"owner": {"reputation": 165, "user_id": 11629900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b97dc250e7ead9f0ab7145b7412e81e3?s=128&d=identicon&r=PG&f=1", "display_name": "2hardproblems", "link": "https://stackoverflow.com/users/11629900/2hardproblems"}, "reply_to_user": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "edited": false, "score": 0, "creation_date": 1560243659, "post_id": 56539636, "comment_id": 99661874, "body": "Thanks, i&#39;ll try another computer."}, {"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1560285751, "post_id": 56539636, "comment_id": 99684514, "body": "Try to reinstall IDE from <a href=\"http://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download/index.html</a> and delete IDE folders to start with all the defaults (<a href=\"https://intellij-support.jetbrains.com/hc/articles/206544519\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/articles/206544519</a>)."}, {"owner": {"reputation": 427, "user_id": 7073537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04863fc5d5f2a3c1d25c2469bb102a10?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej Mo\u015bcicki", "link": "https://stackoverflow.com/users/7073537/maciej-mo%c5%9bcicki"}, "edited": false, "score": 0, "creation_date": 1567599354, "post_id": 56539636, "comment_id": 102009723, "body": "Had same issue. Restarting &amp; invalidating caches worked for me."}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1610097617, "post_id": 56539636, "comment_id": 116029493, "body": "I updated and restarted IntelliJ but this error is not going away. <a href=\"https://stackoverflow.com/questions/65626029/failed-to-load-script-defintions-by-org-jetbrains-kotlin-idea-core-script-gradle\" title=\"failed to load script defintions by org jetbrains kotlin idea core script gradle\">stackoverflow.com/questions/65626029/&hellip;</a>"}], "owner": {"reputation": 165, "user_id": 11629900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b97dc250e7ead9f0ab7145b7412e81e3?s=128&d=identicon&r=PG&f=1", "display_name": "2hardproblems", "link": "https://stackoverflow.com/users/11629900/2hardproblems"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1560242212, "creation_date": 1560242212, "question_id": 56539636, "link": "https://stackoverflow.com/questions/56539636/intellij-issue-failed-to-load-script-defintions-by-org-jetbrains-kotlin-idea-cor", "title": "Intellij issue Failed to load script defintions by org.jetbrains.kotlin.idea.core.script.GradleScriptDefintionsContributor", "body": "<p>I created a spring boot kotlin project on the spring boot generator page. When I install the project in Intellij none of the dependencies load and I see the error:</p>\n\n<pre><code>Failed to load script definitions by org.jetbrains.kotlin.idea.core.script.GradleScriptDefinitionsContributor\n</code></pre>\n\n<p>I have gradle and kotlin installed.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "edited": false, "score": 0, "creation_date": 1560322568, "post_id": 56540304, "comment_id": 99692946, "body": "Thanks for that! With your answer combined with a couple of hours of hitting random keys, it&#39;s all working  \ud83d\udc4d"}, {"owner": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "edited": false, "score": 1, "creation_date": 1560322743, "post_id": 56540304, "comment_id": 99693015, "body": "The question was about Kotlin though, and this is Java, and some of the code isn&#39;t totally clear what it&#39;s doing. Also <code>NotificationCompat.Builder</code> is deprecated. So I&#39;ve added another more minimal <a href=\"https://stackoverflow.com/a/56556138/979052\">answer</a>, in Kotlin in case anyone needs."}, {"owner": {"reputation": 695, "user_id": 2825816, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/57ff98711b9c254e57327a823e0ae30d?s=128&d=identicon&r=PG&f=1", "display_name": "hyena", "link": "https://stackoverflow.com/users/2825816/hyena"}, "edited": false, "score": 0, "creation_date": 1580163941, "post_id": 56540304, "comment_id": 106000717, "body": "probably the service should be set as a foreground service else it will be killed in 5 sec"}], "tags": [], "owner": {"reputation": 3749, "user_id": 4377954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3UDz.jpg?s=128&g=1", "display_name": "De\u02e3", "link": "https://stackoverflow.com/users/4377954/de%cb%a3"}, "is_accepted": true, "score": 6, "last_activity_date": 1560247340, "last_edit_date": 1560247340, "creation_date": 1560244516, "answer_id": 56540304, "question_id": 56539550, "link": "https://stackoverflow.com/questions/56539550/how-to-listen-for-power-connected-android-8/56540304#56540304", "title": "How to listen for power connected Android &gt; 8", "body": "<p>The question you have referred already has the answer.</p>\n\n<p>Use <code>ACTION_BOOT_COMPLETED</code> to start a foreground service after boot. This service should register <code>ACTION_POWER_CONNECTED</code> broadcast. You can also start this service in a separate process. As soon as the power is connected/disconnected, you will receive the broadcast in service class where you can run your required method.</p>\n\n<pre><code>public class MyService extends Service {\n    private String TAG = this.getClass().getSimpleName();\n\n    @Override\n    public void onCreate() {\n        Log.d(TAG, \"Inside onCreate() API\");\n        if (Build.VERSION.SDK_INT &gt;= 26) {\n            NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this);\n            mBuilder.setSmallIcon(R.drawable.ic_launcher);\n            mBuilder.setContentTitle(\"Notification Alert, Click Me!\");\n            mBuilder.setContentText(\"Hi, This is Android Notification Detail!\");\n            NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n            // notificationID allows you to update the notification later on.\n            mNotificationManager.notify(100, mBuilder.build());\n            startForeground(100, mBuilder.mNotification);\n\n            IntentFilter filter1=new IntentFilter();\n            filter1.addAction(Intent.ACTION_POWER_CONNECTED);\n            registerReceiver(myBroadcastReceiver,filter1);\n        }\n    }\n\n\n    @Override\n    public int onStartCommand(Intent resultIntent, int resultCode, int startId) {\n        Log.d(TAG, \"inside onStartCommand() API\");\n        return startId;\n    }\n\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        Log.d(TAG, \"inside onDestroy() API\");\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n       BroadcastReceiver myBroadcastReceiver =new BroadcastReceiver() {\n            @Override\n            public void onReceive(Context context, Intent intent) {\n                // call your method\n            }\n        };\n}\n</code></pre>\n\n<p>You can also register a <code>JobScheduler</code> with <code>setRequiresCharging</code> true. this will start the call JobScheduler's job when the power state is changed.</p>\n\n<pre><code>ComponentName serviceComponent = new ComponentName(context, TestJobService.class);\nJobInfo.Builder builder = new JobInfo.Builder(0, serviceComponent);\nbuilder.setMinimumLatency(1 * 1000); // wait at least\nbuilder.setOverrideDeadline(3 * 1000); // maximum delay\nbuilder.setRequiredNetworkType(JobInfo.NETWORK_TYPE_UNMETERED); \nbuilder.setRequiresDeviceIdle(true); \nbuilder.setRequiresCharging(true);\nJobScheduler jobScheduler = context.getSystemService(JobScheduler.class);\njobScheduler.schedule(builder.build());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1118, "user_id": 11555903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT4Ri.jpg?s=128&g=1", "display_name": "Ben Shmuel", "link": "https://stackoverflow.com/users/11555903/ben-shmuel"}, "is_accepted": false, "score": 2, "last_activity_date": 1560246101, "creation_date": 1560246101, "answer_id": 56540820, "question_id": 56539550, "link": "https://stackoverflow.com/questions/56539550/how-to-listen-for-power-connected-android-8/56540820#56540820", "title": "How to listen for power connected Android &gt; 8", "body": "<p>Starting from Android 8.0 (API level 26 and higher), you can't use static receivers to receive most Android system broadcasts <a href=\"https://developer.android.com/guide/components/broadcast-exceptions\" rel=\"nofollow noreferrer\">read here</a> ,</p>\n\n<p>A BroadcastReceiver is either a static receiver or a dynamic receiver, depending on how you register it:</p>\n\n<ul>\n<li><p>To register a receiver statically, use the <code>&lt;receiver&gt;</code> element in your \n<code>AndroidManifest.xml</code> file. Static receivers are also called manifest-declared receivers.</p></li>\n<li><p>To register a receiver dynamically, use the app context or activity context. The \nreceiver receives broadcasts as long as the registering context is valid, meaning as \nlong as the corresponding app or activity is running. Dynamic receivers are also called \ncontext-registered receivers.</p></li>\n</ul>\n\n<p>So you need to register your Receiver dynamically , go to <code>AndroidManifest.xml</code> and delete the <code>&lt;receiver&gt;</code> tag , and register it at your activity .</p>\n\n<p><code>private MyBatteryReceiver mReceiver = new MyBatterReceiver();</code></p>\n\n<p>Then use <code>IntentFilter</code> for the power actions :</p>\n\n<pre><code>IntentFilter filter = new IntentFilter();\nfilter.addAction(Intent.ACTION_POWER_DISCONNECTED);\nfilter.addAction(Intent.ACTION_POWER_CONNECTED)\n</code></pre>\n\n<p>All you have left is to register and dismiss your register</p>\n\n<pre><code>this.registerReceiver(mReceiver, filter); // using activity context.\nthis.unregisterReceiver(mReceiver); // implement on onDestroy().\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 893, "user_id": 1125449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4b258dce1f573b001ae4c64d1acdc859?s=128&d=identicon&r=PG", "display_name": "Juke", "link": "https://stackoverflow.com/users/1125449/juke"}, "edited": false, "score": 0, "creation_date": 1583237372, "post_id": 56556138, "comment_id": 107041399, "body": "What is the point of using a JobScheduler here? Why not start your service directly from your MainActivity? And I don&#39;t see your service being started as ForegroundService so it could be/will be killed after some or am I missing something?"}], "tags": [], "owner": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "is_accepted": false, "score": 3, "last_activity_date": 1560322047, "creation_date": 1560322047, "answer_id": 56556138, "question_id": 56539550, "link": "https://stackoverflow.com/questions/56539550/how-to-listen-for-power-connected-android-8/56556138#56556138", "title": "How to listen for power connected Android &gt; 8", "body": "<p>Thanks to @Derek's answer, plus a couple of changes I got this to work. Posting the working solution to here, in case it's any help to anyone else.</p>\n\n<p><strong>PowerConnectionReciever.kt</strong></p>\n\n<pre><code>import android.content.Intent\nimport android.content.BroadcastReceiver\nimport android.os.IBinder\nimport android.content.IntentFilter\nimport android.app.Service\nimport android.content.Context\n\nclass PowerConnectionService : Service() {\n\n    private var connectionChangedReceiver: BroadcastReceiver = \n        object : BroadcastReceiver() {\n        override fun onReceive(context: Context, intent: Intent) {\n            // This block gets run whenever the power connection state is changed\n            when {\n                intent.action == Intent.ACTION_POWER_CONNECTED -&gt;\n                    powerWasConnected()\n                intent.action == Intent.ACTION_POWER_DISCONNECTED -&gt;\n                    powerWasDisconnected()\n            }\n        }\n    }\n\n    override fun onCreate() {\n        val connectionChangedIntent = IntentFilter()\n        connectionChangedIntent.addAction(Intent.ACTION_POWER_CONNECTED)\n        connectionChangedIntent.addAction(Intent.ACTION_POWER_DISCONNECTED)\n        registerReceiver(connectionChangedReceiver, connectionChangedIntent)\n    }\n\n    override fun onStartCommand(\n        resultIntent: Intent, resultCode: Int, startId: Int): Int {\n        return startId\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        unregisterReceiver(connectionChangedReceiver)\n    }\n\n    override fun onBind(intent: Intent): IBinder? {\n        return null\n    }\n\n    private fun powerWasConnected() {\n        // Do whatever you need to do when the power is connected here\n    }\n    private fun powerWasDisconnected() {\n        // And here, do whatever you like when the power is disconnected\n    }\n}\n</code></pre>\n\n<p>Then within my <strong>MainActivity.kt</strong> file, added this function, which is called within the <code>onCreate</code> hook.</p>\n\n<pre><code>private fun startPowerConnectionListener() {\n        val serviceComponent = ComponentName(this, PowerConnectionService::class.java)\n        val builder = JobInfo.Builder(0, serviceComponent)\n        builder.setMinimumLatency((200)) // wait time\n        builder.setOverrideDeadline((200)) // maximum delay\n        val jobScheduler = this.getSystemService(JobScheduler::class.java)\n        jobScheduler.schedule(builder.build())\n    }\n</code></pre>\n\n<p>The only other changes that I needed, were in the <strong>AndroidMainifest.xml</strong></p>\n\n<p>A permission for the <code>FOREGROUND_SERVICE</code> is added as a first-level item:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.FOREGROUND_SERVICE\" /&gt;\n</code></pre>\n\n<p>And of course it's also required to register the new <code>PowerConnectionService</code>, this goes within the relevant <code>activity</code> node</p>\n\n<pre><code>&lt;service\n    android:name=\".PowerConnectionService\"\n    android:permission=\"android.permission.BIND_JOB_SERVICE\"\n    android:exported=\"true\"&gt;\n&lt;/service&gt;\n</code></pre>\n"}], "owner": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1800, "favorite_count": 1, "accepted_answer_id": 56540304, "answer_count": 3, "score": 4, "last_activity_date": 1560322047, "creation_date": 1560241882, "last_edit_date": 1560258319, "question_id": 56539550, "link": "https://stackoverflow.com/questions/56539550/how-to-listen-for-power-connected-android-8", "title": "How to listen for power connected Android &gt; 8", "body": "<p>I have a simple Android Kotlin app, and part of what it does is listen for when power is connected and disconnected and perform an action</p>\n\n<p>This is my old code, and it worked totally fine while targeting devices below Oreo.</p>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;receiver android:name=\".ChargingUtil$PlugInReceiver\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.ACTION_POWER_CONNECTED\" /&gt;\n        &lt;action android:name=\"android.intent.action.ACTION_POWER_DISCONNECTED\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p><strong>ChargingUtil.kt</strong></p>\n\n<pre><code>class ChargingUtil (context: Context){\n\n    /*... Some other charging-related functions here ... */\n\n    class PlugInReceiver : BroadcastReceiver() {\n\n        override fun onReceive(context: Context, intent: Intent) {\n            Log.d(\"thisistest\", \"Power was changed\")\n            // Here I do some logic with `intent.action`\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>There have been some changes to how to implement Broadcasts, in later Android versions: <a href=\"https://developer.android.com/guide/components/broadcasts\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/broadcasts</a></p>\n\n<p>What I've tried so far:</p>\n\n<ul>\n<li>I tried following <a href=\"https://developer.android.com/training/monitoring-device-state/battery-monitoring#MonitorChargeState\" rel=\"nofollow noreferrer\">this documentation</a>, but their implementation is actually the same as my current code (which only works below Android 8).</li>\n<li>I also found <a href=\"https://stackoverflow.com/questions/53437978/how-to-get-broadcast-action-power-connected-on-android-8/53438569\">this question</a>, but the only solution, was to periodically check if power is connected or not. I don't think that is  so viable for me, since my app needs to know instantly when the charging state is changed.</li>\n</ul>\n\n<hr>\n\n<p>So my question is:</p>\n\n<p><strong><em>How to call a function when power is connected/ disconnected?</strong> While taking account of the additional restrictions that systems running Android 8 or later impose on manifest-declared receivers.</em></p>\n\n<p>Note: I am using Kotlin, and would like to avoid the use of deprecated packages</p>\n\n<hr>\n\n<p>I am a bit of a noob when it comes to Android, so sorry if there is actually an obvious solution what I just missed. Thanks in advance for any help. </p>\n"}, {"tags": ["java", "android", "networking", "kotlin"], "comments": [{"owner": {"reputation": 3, "user_id": 11629756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565e3c12e95c4af1f4999a7563e5d628?s=128&d=identicon&r=PG&f=1", "display_name": "erikvdde", "link": "https://stackoverflow.com/users/11629756/erikvdde"}, "reply_to_user": {"reputation": 969, "user_id": 6281135, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O9HNURT726g/AAAAAAAAAAI/AAAAAAAAAPA/m6kFfF0di_c/photo.jpg?sz=128", "display_name": "Amr Berag", "link": "https://stackoverflow.com/users/6281135/amr-berag"}, "edited": false, "score": 0, "creation_date": 1560242434, "post_id": 56539273, "comment_id": 99661176, "body": "@AmrBerag Maybe I wasn&#39;t clear enough, previously I used it with an URL and not IP-address. In my previous project i did a request to &quot;<a href=\"http://data.goteborg.se/ParkingService/v2.1/help\" rel=\"nofollow noreferrer\">data.goteborg.se/ParkingService/v2.1/help</a>&quot; and I would like to do something similiar but with an IP-address."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1560256520, "post_id": 56539273, "comment_id": 99669272, "body": "URLs get resolved to IP addresses, so there should be no difference at all between the two. Do you get any errors?"}, {"owner": {"reputation": 969, "user_id": 6281135, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O9HNURT726g/AAAAAAAAAAI/AAAAAAAAAPA/m6kFfF0di_c/photo.jpg?sz=128", "display_name": "Amr Berag", "link": "https://stackoverflow.com/users/6281135/amr-berag"}, "edited": false, "score": 0, "creation_date": 1560368815, "post_id": 56539273, "comment_id": 99717859, "body": "@erikvdde Ok Sorry. Check my answer"}], "answers": [{"tags": [], "owner": {"reputation": 969, "user_id": 6281135, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O9HNURT726g/AAAAAAAAAAI/AAAAAAAAAPA/m6kFfF0di_c/photo.jpg?sz=128", "display_name": "Amr Berag", "link": "https://stackoverflow.com/users/6281135/amr-berag"}, "is_accepted": false, "score": 0, "last_activity_date": 1560369442, "last_edit_date": 1560369442, "creation_date": 1560368705, "answer_id": 56569387, "question_id": 56539273, "link": "https://stackoverflow.com/questions/56539273/is-there-a-way-to-send-get-requests-over-wifi-to-an-ip-address-instead-of-http/56569387#56569387", "title": "Is there a way to send GET request(s) over wifi to an ip-address instead of HttpUrlConnection", "body": "<p>Try starting your ip address with the protocol identifier \"http\" E.g.</p>\n\n<pre><code>http://192.168.1.20/api/users\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 11629756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565e3c12e95c4af1f4999a7563e5d628?s=128&d=identicon&r=PG&f=1", "display_name": "erikvdde", "link": "https://stackoverflow.com/users/11629756/erikvdde"}, "is_accepted": true, "score": 0, "last_activity_date": 1560505706, "last_edit_date": 1560505706, "creation_date": 1560505522, "answer_id": 56595585, "question_id": 56539273, "link": "https://stackoverflow.com/questions/56539273/is-there-a-way-to-send-get-requests-over-wifi-to-an-ip-address-instead-of-http/56595585#56595585", "title": "Is there a way to send GET request(s) over wifi to an ip-address instead of HttpUrlConnection", "body": "<p>It turned out I was unable to do an <code>HttpURLconnection</code> at all and I had to do it in another way.</p>\n"}], "owner": {"reputation": 3, "user_id": 11629756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565e3c12e95c4af1f4999a7563e5d628?s=128&d=identicon&r=PG&f=1", "display_name": "erikvdde", "link": "https://stackoverflow.com/users/11629756/erikvdde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 56595585, "answer_count": 2, "score": -2, "last_activity_date": 1560505706, "creation_date": 1560240913, "last_edit_date": 1560245012, "question_id": 56539273, "link": "https://stackoverflow.com/questions/56539273/is-there-a-way-to-send-get-requests-over-wifi-to-an-ip-address-instead-of-http", "title": "Is there a way to send GET request(s) over wifi to an ip-address instead of HttpUrlConnection", "body": "<p>So basically I'm creating an android application and I want to communicate with a device that's on the same local network. The point is to request XML files and recieve them on my phone. Is there a way to do this using IP-addresses? Previously I've only done it using HttpUrlConnection (like the example below) I would love if someone brighter could enlighten me in this subject, thanks. </p>\n\n<pre><code>HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(\"GET\");\n            conn.connect();\n            // read the response\n            InputStream in = new BufferedInputStream(conn.getInputStream());\n            response = convertStreamToString(in);\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "back-stack", "fragmentmanager"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1560309218, "post_id": 56539251, "comment_id": 99689417, "body": "What is this <code>fragments[]</code> array? I suspect that the problem is that you are &quot;re-using&quot; fragments rather than creating new ones each time."}, {"owner": {"reputation": 577, "user_id": 5687200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-qszuKgEWG4M/AAAAAAAAAAI/AAAAAAAAIKU/5sE7Nn6fuZM/photo.jpg?sz=128", "display_name": "Gabi", "link": "https://stackoverflow.com/users/5687200/gabi"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1560323538, "post_id": 56539251, "comment_id": 99693356, "body": "I need to re-use them, so that&#39;s why I&#39;m keeping them like this"}, {"owner": {"reputation": 947, "user_id": 3659213, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a3d1e9819e9628ffa6c03e8da98c05eb?s=128&d=identicon&r=PG&f=1", "display_name": "Roudi", "link": "https://stackoverflow.com/users/3659213/roudi"}, "edited": false, "score": 0, "creation_date": 1561506294, "post_id": 56539251, "comment_id": 100083630, "body": "Did you find a way to fix this without downgrading to 1.0.2 ?"}, {"owner": {"reputation": 577, "user_id": 5687200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-qszuKgEWG4M/AAAAAAAAAAI/AAAAAAAAIKU/5sE7Nn6fuZM/photo.jpg?sz=128", "display_name": "Gabi", "link": "https://stackoverflow.com/users/5687200/gabi"}, "edited": false, "score": 0, "creation_date": 1561527099, "post_id": 56539251, "comment_id": 100087720, "body": "Sadly, no. We will have to wait until new relesses"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1571759173, "post_id": 56539251, "comment_id": 103343823, "body": "It&#39;s probably because you are trying to use <code>replace</code> to add back a fragment that is currently <code>isRemoving</code>."}, {"owner": {"reputation": 516, "user_id": 2340813, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EbSuk.png?s=128&g=1", "display_name": "MikeOscarEcho", "link": "https://stackoverflow.com/users/2340813/mikeoscarecho"}, "edited": false, "score": 0, "creation_date": 1572377434, "post_id": 56539251, "comment_id": 103538314, "body": "I also had to downgrade back to androidx.appcompat:appcompat:1.0.2 in order to avoid this exception."}], "answers": [{"comments": [{"owner": {"reputation": 2363, "user_id": 1217998, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/536ab18f11a1222292ccfbc9d1cdda75?s=128&d=identicon&r=PG", "display_name": "Souradeep Nanda", "link": "https://stackoverflow.com/users/1217998/souradeep-nanda"}, "edited": false, "score": 1, "creation_date": 1560308889, "post_id": 56554010, "comment_id": 99689350, "body": "Could you explain why that might fix the problem?"}, {"owner": {"reputation": 577, "user_id": 5687200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-qszuKgEWG4M/AAAAAAAAAAI/AAAAAAAAIKU/5sE7Nn6fuZM/photo.jpg?sz=128", "display_name": "Gabi", "link": "https://stackoverflow.com/users/5687200/gabi"}, "edited": false, "score": 1, "creation_date": 1560323737, "post_id": 56554010, "comment_id": 99693442, "body": "I am already using <code>androidx.appcompat:appcompat:1.1.0-beta01</code> in my app"}], "tags": [], "owner": {"reputation": 46, "user_id": 6233150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IajqE5ePJ5o/AAAAAAAAAAI/AAAAAAAAEbU/neYkPnNOvN4/photo.jpg?sz=128", "display_name": "\uc9c4\ud64d\ube5b", "link": "https://stackoverflow.com/users/6233150/%ec%a7%84%ed%99%8d%eb%b9%9b"}, "is_accepted": true, "score": 3, "last_activity_date": 1560315724, "last_edit_date": 1560315724, "creation_date": 1560307659, "answer_id": 56554010, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/56554010#56554010", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p><del>If you're using 'androidx.core:core-ktx:1.0.2',\ntry changing to 1.0.1</del></p>\n\n<p>If you're using lifecycle(or rxFragment) and androidx_appcompat:alpha05, try changeing versio.<br>\nex) appcompat : 1.1.0-beta01 or 1.0.2</p>\n\n<p>I think's that it appears as an error when saving the state when the target fragment is reused (onPause-onResume).</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 8111521, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tigrIlNfQTM/AAAAAAAAAAI/AAAAAAAAAjE/g0MTVkvkjtI/photo.jpg?sz=128", "display_name": "Vlad Yatsenko", "link": "https://stackoverflow.com/users/8111521/vlad-yatsenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1561128823, "creation_date": 1561128823, "answer_id": 56705802, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/56705802#56705802", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>I changed implementation to api for androidx.appcompat:appcompat:1.0.2 and its worked for me </p>\n"}, {"comments": [{"owner": {"reputation": 947, "user_id": 3659213, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a3d1e9819e9628ffa6c03e8da98c05eb?s=128&d=identicon&r=PG&f=1", "display_name": "Roudi", "link": "https://stackoverflow.com/users/3659213/roudi"}, "edited": false, "score": 0, "creation_date": 1562801367, "post_id": 56783167, "comment_id": 100495484, "body": "Then what is the best way of handling this? I realised this happens when you begin a transaction while another transaction is already happening, so when the user opens a fragment and then hits back immediately it crashes."}, {"owner": {"reputation": 179, "user_id": 9595316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WwAlP.jpg?s=128&g=1", "display_name": "Drown Coder", "link": "https://stackoverflow.com/users/9595316/drown-coder"}, "reply_to_user": {"reputation": 947, "user_id": 3659213, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a3d1e9819e9628ffa6c03e8da98c05eb?s=128&d=identicon&r=PG&f=1", "display_name": "Roudi", "link": "https://stackoverflow.com/users/3659213/roudi"}, "edited": false, "score": 0, "creation_date": 1562811489, "post_id": 56783167, "comment_id": 100497248, "body": "@PampaZiya I have edited the answer, adding the solution"}, {"owner": {"reputation": 947, "user_id": 3659213, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a3d1e9819e9628ffa6c03e8da98c05eb?s=128&d=identicon&r=PG&f=1", "display_name": "Roudi", "link": "https://stackoverflow.com/users/3659213/roudi"}, "edited": false, "score": 2, "creation_date": 1562813009, "post_id": 56783167, "comment_id": 100497521, "body": "but what if you want to animate the removal and addition ?"}], "tags": [], "owner": {"reputation": 179, "user_id": 9595316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WwAlP.jpg?s=128&g=1", "display_name": "Drown Coder", "link": "https://stackoverflow.com/users/9595316/drown-coder"}, "is_accepted": false, "score": 9, "last_activity_date": 1562811372, "last_edit_date": 1562811372, "creation_date": 1561603095, "answer_id": 56783167, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/56783167#56783167", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>because the version <strong>1.0.0</strong> has not check the state, so it will not throw the exception,\nbut the version <strong>1.1.0</strong> changes the source code\uff0cso it throws the exception.</p>\n\n<p>this is the <strong>Fragment</strong> version-1.1.0 source code, it will invoke the method <code>performRestore</code></p>\n\n<pre><code>    void performCreate(Bundle savedInstanceState) {\n        if (mChildFragmentManager != null) {\n            mChildFragmentManager.noteStateNotSaved();\n        }\n        mState = CREATED;\n        mCalled = false;\n        mSavedStateRegistryController.performRestore(savedInstanceState);\n        onCreate(savedInstanceState);\n        mIsCreated = true;\n        if (!mCalled) {\n            throw new SuperNotCalledException(\"Fragment \" + this\n                    + \" did not call through to super.onCreate()\");\n        }\n        mLifecycleRegistry.handleLifecycleEvent(Lifecycle.Event.ON_CREATE);\n    }\n\n/**\nthe exception\n**/\npublic void performRestore(@Nullable Bundle savedState) {\n        Lifecycle lifecycle = mOwner.getLifecycle();\n        if (lifecycle.getCurrentState() != Lifecycle.State.INITIALIZED) {\n            throw new IllegalStateException(\"Restarter must be created only during \"\n                    + \"owner's initialization stage\");\n        }\n        lifecycle.addObserver(new Recreator(mOwner));\n        mRegistry.performRestore(lifecycle, savedState);\n    }\n</code></pre>\n\n<p>this is the version-1.0.0 source code\uff0cdid not invoke the <code>performRestore</code>,so will not throw the exception</p>\n\n<pre><code>void performCreate(Bundle savedInstanceState) {\n    if (mChildFragmentManager != null) {\n        mChildFragmentManager.noteStateNotSaved();\n    }\n    mState = CREATED;\n    mCalled = false;\n    onCreate(savedInstanceState);\n    mIsCreated = true;\n    if (!mCalled) {\n        throw new SuperNotCalledException(\"Fragment \" + this\n                + \" did not call through to super.onCreate()\");\n    }\n    mLifecycleRegistry.handleLifecycleEvent(Lifecycle.Event.ON_CREATE);\n}\n</code></pre>\n\n<p>There are <strong>two different solution</strong> which can handle this:<br>\n<strong>The first solution</strong> is to split the transaction\u3002<br>\nBecause we always use <code>replace</code> or merge <code>remove</code> and <code>add</code> into one Transaction.\nWe can split the transaction to two transaction like this:</p>\n\n<pre><code>FragmentTransaction ft = manager.beginTransaction();\n        Fragment prev = manager.findFragmentByTag(tag);\n        if (prev != null) {\n        //commit immediately\n            ft.remove(prev).commitAllowingStateLoss();\n        }\n        FragmentTransaction addTransaction = manager.beginTransaction();\n        addTransaction.addToBackStack(null);\n        addTransaction.add(layoutId, fragment,\n                tag).commitAllowingStateLoss();\n</code></pre>\n\n<p>because this two transaction will be two different Message which will be handled by Handler.<br>\n<strong>The second solution</strong> is check the state in advance.\nwe can follow the source code\uff0ccheck the state in advance</p>\n\n<pre><code>FragmentTransaction ft = manager.beginTransaction();\n        Fragment prev = manager.findFragmentByTag(tag);\n        if (prev != null) {\n        if (prev.getLifecycle().getCurrentState() != Lifecycle.State.INITIALIZED) {\n            return;\n        }\n            ft.remove(prev);\n        }\n\n</code></pre>\n\n<p>I recommend the first way,because the second way is folowing the source code,if the source\ncode change the code, it will be invalid\u3002</p>\n"}, {"comments": [{"owner": {"reputation": 947, "user_id": 3659213, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a3d1e9819e9628ffa6c03e8da98c05eb?s=128&d=identicon&r=PG&f=1", "display_name": "Roudi", "link": "https://stackoverflow.com/users/3659213/roudi"}, "edited": false, "score": 0, "creation_date": 1564102958, "post_id": 57207200, "comment_id": 100929562, "body": "I tried to update both and it did not work. If you hit back while animating to anew fragment (mid transaction), it just crashes for me. I&#39;m not using pop, I&#39;m just initiating a new replace transaction, which results in the same error"}, {"owner": {"reputation": 11, "user_id": 10317277, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XR9r5zK1NyI/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaODtV78ORnHgmdybwNe8rSOkOV52w/mo/photo.jpg?sz=128", "display_name": "Geoffrey Powell", "link": "https://stackoverflow.com/users/10317277/geoffrey-powell"}, "reply_to_user": {"reputation": 947, "user_id": 3659213, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a3d1e9819e9628ffa6c03e8da98c05eb?s=128&d=identicon&r=PG&f=1", "display_name": "Roudi", "link": "https://stackoverflow.com/users/3659213/roudi"}, "edited": false, "score": 0, "creation_date": 1564524204, "post_id": 57207200, "comment_id": 101057470, "body": "Yes thats correct this is still happening in certain cases in rc03 :("}, {"owner": {"reputation": 947, "user_id": 3659213, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a3d1e9819e9628ffa6c03e8da98c05eb?s=128&d=identicon&r=PG&f=1", "display_name": "Roudi", "link": "https://stackoverflow.com/users/3659213/roudi"}, "edited": false, "score": 0, "creation_date": 1565245903, "post_id": 57207200, "comment_id": 101293748, "body": "Yes this has not been fixed even with 1.2.0-alpha01. I wonder then what&#39;s the best way to approach this ?"}, {"owner": {"reputation": 673, "user_id": 3082338, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7a5035a3f0c16dc52184b2cf93c6b7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/3082338/dmitry"}, "reply_to_user": {"reputation": 947, "user_id": 3659213, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a3d1e9819e9628ffa6c03e8da98c05eb?s=128&d=identicon&r=PG&f=1", "display_name": "Roudi", "link": "https://stackoverflow.com/users/3659213/roudi"}, "edited": false, "score": 0, "creation_date": 1577170117, "post_id": 57207200, "comment_id": 105109881, "body": "@PampaZiya If you have a way to reproduce the problem, can you post a sample project in <a href=\"https://issuetracker.google.com/issues/136022199\" rel=\"nofollow noreferrer\">issues tracker</a>? Some of us see it only in Google Play tracker and it requires a perfect timing which is not reproducible."}, {"owner": {"reputation": 947, "user_id": 3659213, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a3d1e9819e9628ffa6c03e8da98c05eb?s=128&d=identicon&r=PG&f=1", "display_name": "Roudi", "link": "https://stackoverflow.com/users/3659213/roudi"}, "reply_to_user": {"reputation": 673, "user_id": 3082338, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7a5035a3f0c16dc52184b2cf93c6b7c8?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/3082338/dmitry"}, "edited": false, "score": 0, "creation_date": 1577179821, "post_id": 57207200, "comment_id": 105112906, "body": "@Dmitry You can reproduce by having animation between fragments and hitting the back button while the fragment is animating in."}], "tags": [], "owner": {"reputation": 11, "user_id": 10317277, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XR9r5zK1NyI/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaODtV78ORnHgmdybwNe8rSOkOV52w/mo/photo.jpg?sz=128", "display_name": "Geoffrey Powell", "link": "https://stackoverflow.com/users/10317277/geoffrey-powell"}, "is_accepted": false, "score": 1, "last_activity_date": 1564075177, "creation_date": 1564075177, "answer_id": 57207200, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/57207200#57207200", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>This bug seems to be resolved using androidx.appcompat:appcomat:1.1.0-rc01 and androidx.fragment:fragment:1.1.0-rc03</p>\n\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/fragment#1.1.0-rc03\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/fragment#1.1.0-rc03</a></p>\n"}, {"comments": [{"owner": {"reputation": 430, "user_id": 5906110, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yi1uiwuqY_8/AAAAAAAAAAI/AAAAAAAABMw/BXPCHT2jjAo/photo.jpg?sz=128", "display_name": "vinay kumar", "link": "https://stackoverflow.com/users/5906110/vinay-kumar"}, "edited": false, "score": 0, "creation_date": 1578522408, "post_id": 57790465, "comment_id": 105470478, "body": "I have the same problem the app crashes when I try to use animations is there any alternative to ft?.AddToBackStack(null) ??"}, {"owner": {"reputation": 490, "user_id": 8331157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9492a086ccafca8fdce841d33396cc5?s=128&d=identicon&r=PG&f=1", "display_name": "BenjyTec", "link": "https://stackoverflow.com/users/8331157/benjytec"}, "edited": false, "score": 0, "creation_date": 1582027096, "post_id": 57790465, "comment_id": 106627418, "body": "This was the only way to get it to work when using <code>setCustomAnimations()</code>! My app was crashing when a new FragmentTransaction was triggered before the previous animation wasn&#39;t finished. Spent hours on this, thanks. Still strange how and why this solves the problem."}, {"owner": {"reputation": 314, "user_id": 8524651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BLz1C.png?s=128&g=1", "display_name": "Hatzen", "link": "https://stackoverflow.com/users/8524651/hatzen"}, "edited": false, "score": 0, "creation_date": 1597009820, "post_id": 57790465, "comment_id": 111987767, "body": "Indeed this is also my only solution. But this would add a history entry for fragments added. Do i really have to override the onBackPress and finish the activity manually?"}], "tags": [], "owner": {"reputation": 67, "user_id": 12020367, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RJdbkIKnNaE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnXusmMY6NpVMpz2RmIXcYz7qSNA/photo.jpg?sz=128", "display_name": "Mako Storm", "link": "https://stackoverflow.com/users/12020367/mako-storm"}, "is_accepted": false, "score": 5, "last_activity_date": 1567610451, "last_edit_date": 1567610451, "creation_date": 1567606812, "answer_id": 57790465, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/57790465#57790465", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>I had the same problem.</p>\n\n<pre><code>val fragment = Account.activityAfterLogin\n        val ft = activity?.getSupportFragmentManager()?.beginTransaction()\n        //error\n        ft?.setCustomAnimations(android.R.anim.slide_in_left,android.R.anim.slide_out_right)0\n        ft?.replace(R.id.framelayout_account,fragment)\n        ft?.commit()\n</code></pre>\n\n<p>Changing the library version did not help.\nI solved this by adding the <code>ft?.AddToBackStack(null)</code> line after the <code>ft?.setCustomAnimations ()</code> method and that\u2019s it.\nAnimation works and there are no crashes.</p>\n"}, {"comments": [{"owner": {"reputation": 2903, "user_id": 665561, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b52f6f0134befbb1db5dad5b0d69db90?s=128&d=identicon&r=PG", "display_name": "Shashank Degloorkar", "link": "https://stackoverflow.com/users/665561/shashank-degloorkar"}, "edited": false, "score": 0, "creation_date": 1603085771, "post_id": 58158324, "comment_id": 113913593, "body": "I think adding to the backstack resolves the issue. Could not remove animation as I needed the animation as requirement. Thanks."}], "tags": [], "owner": {"reputation": 840, "user_id": 10109704, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zWCyCScB3rE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p4hCatPSuxdVqqfN1chrdrpE2OPQ/mo/photo.jpg?sz=128", "display_name": "Hadi Ahmadi", "link": "https://stackoverflow.com/users/10109704/hadi-ahmadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1569784171, "last_edit_date": 1569784171, "creation_date": 1569783788, "answer_id": 58158324, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/58158324#58158324", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>I have this issue when using <code>setCustomAnimations</code>.\nby removing <code>setCustomAnimations</code> solved my problem.\nalso I have no problem when I create new instance of fragment before showing it even using setCustomAnimation.</p>\n\n<p>EDIT: another way is adding fragment to backstack.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9337985, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DU_Jjyk1mQk/AAAAAAAAAAI/AAAAAAAAg5g/X_jdkl6gnx4/photo.jpg?sz=128", "display_name": "Jonathan Kely Kosi", "link": "https://stackoverflow.com/users/9337985/jonathan-kely-kosi"}, "is_accepted": false, "score": 2, "last_activity_date": 1572367141, "creation_date": 1572367141, "answer_id": 58611827, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/58611827#58611827", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>If it can help, I have encountered the same issue with a BottomNavigationView and setCustomAnimations, basically by switching quickly between Fragments, you may end up starting a FragmentTransaction while the previous one has not finished and then it crashes.</p>\n\n<p>To avoid that, I disable the Navigation Bar until the transition is finished. So I have created a method to enable/disable the BottomNavigationView items (disabling the BottomNavigationView itself does not disable the menu or I didn't find the way) and then I re-enable them once the transition is completed. </p>\n\n<p>To disable the items I call the following method right before starting a FragmentTransition:</p>\n\n<pre><code>public void toggleNavigationBarItems(boolean enabled) {\n   Menu navMenu = navigationView.getMenu();\n   for (int i = 0; i &lt; navMenu.size(); ++i) {\n       navMenu.getItem(i).setEnabled(enabled);\n   }\n}\n</code></pre>\n\n<p>To re-enable them, I have created an abstract Fragment class for the Fragments loaded from the BottomNavigationView. In this class, I overrides onCreateAnimator (if you use View Animation you should override onCreateAnimation) and I re-enable them onAnimationEnd. </p>\n\n<pre><code>@Nullable\n@Override\npublic Animator onCreateAnimator(int transit, boolean enter, int nextAnim) {\n    if(enter){ // check the note below\n        Animator animator = AnimatorInflater.loadAnimator(getContext(), nextAnim);\n        animator.addListener(new AnimatorListenerAdapter() {\n            @Override\n            public void onAnimationEnd(Animator animation) {\n                myActivity.toggleNavigationBarItems(true)\n            }\n        });\n        return animator;\n    }\n    return super.onCreateAnimator(transit, enter, nextAnim);\n}\n</code></pre>\n\n<p>Note: as my enter and exit animations have the same duration, I don't need to synchronise them as the enter animation starts after the exit one. That's why the <i>if (enter)</i> is sufficient.</p>\n"}, {"tags": [], "owner": {"reputation": 7024, "user_id": 419449, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/47d562442f1c57f3a81dd6dfa3c87d34?s=128&d=identicon&r=PG", "display_name": "simekadam", "link": "https://stackoverflow.com/users/419449/simekadam"}, "is_accepted": false, "score": 1, "last_activity_date": 1574692487, "creation_date": 1574692487, "answer_id": 59034160, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/59034160#59034160", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>I was able to fix this (hopefully \ud83d\ude03) by using <code>commitNow()</code> instead of <code>commit()</code> for all bottom nav fragment transactions. \nI like this approach better as it allows you to still use custom transitions between fragments.</p>\n\n<p>Note: This is a solution only if you don't want your bottom nav transactions to be added to backstack (which you should not be doing anyways).</p>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 7331042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e00db96e0c89df5a5c55729dce57ac?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Pavlukhin", "link": "https://stackoverflow.com/users/7331042/dmitriy-pavlukhin"}, "is_accepted": false, "score": 1, "last_activity_date": 1575483190, "creation_date": 1575483190, "answer_id": 59182386, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/59182386#59182386", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>Nothing worked except <a href=\"https://stackoverflow.com/a/56783167/7331042\"><em>Drown Coder's</em></a> solution, but it was still not perfect, because it adds transactions to backstack. So if you press all buttons in bottom navigation, you have at least 1 of every fragment in backstack. I slightly improved this solution, so you don't use <code>.replace()</code> that crashes app whith thansaction animations.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>if (getChildFragmentManager().getBackStackEntryCount() &gt; 0) {\n    getChildFragmentManager().popBackStack();\n}\n\nFragmentTransaction addTransaction = getChildFragmentManager().beginTransaction();\naddTransaction.setCustomAnimations(R.animator.fragment_fade_in, R.animator.fragment_fade_out);\naddTransaction.addToBackStack(null);\naddTransaction.add(R.id.frame, fragment, fragment.getClass().getName()).commitAllowingStateLoss();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 9829662, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Jd1yHHTzvBU/AAAAAAAAAAI/AAAAAAAAAFA/r8EJlkEufcM/photo.jpg?sz=128", "display_name": "Mahdi Zareei", "link": "https://stackoverflow.com/users/9829662/mahdi-zareei"}, "is_accepted": false, "score": 2, "last_activity_date": 1589447572, "creation_date": 1589447572, "answer_id": 61793557, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/61793557#61793557", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>I fixed this problem with add 'synchronized' into add fragment method</p>\n\n<p><strong>before</strong> : </p>\n\n<pre><code>public void addFragment(int contentFrameId, Fragment fragment, Bundle param, boolean addToStack) {\n    try {\n        if (!fragment.isAdded()) {\n            if (param != null) {\n                fragment.setArguments(param);\n            }\n\n            FragmentManager fragmentManager = getSupportFragmentManager();\n            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\n                    .add(contentFrameId, fragment)\n                    .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);\n\n            if (addToStack)\n                fragmentTransaction.addToBackStack(fragment.getClass().toString());\n\n            fragmentTransaction.commit();\n        }\n    } catch (IllegalStateException e) {\n        handleError(e.getMessage());\n    } catch (Exception e) {\n        handleError(e.getMessage());\n    }\n}\n</code></pre>\n\n<p><strong>after</strong> : </p>\n\n<pre><code>public synchronized void addFragment(int contentFrameId, Fragment fragment, Bundle param, boolean addToStack) {\n    try {\n        if (!fragment.isAdded()) {\n            if (param != null) {\n                fragment.setArguments(param);\n            }\n\n            FragmentManager fragmentManager = getSupportFragmentManager();\n            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\n                    .add(contentFrameId, fragment)\n                    .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);\n\n            if (addToStack)\n                fragmentTransaction.addToBackStack(fragment.getClass().toString());\n\n            fragmentTransaction.commit();\n        }\n    } catch (IllegalStateException e) {\n        handleError(e.getMessage());\n    } catch (Exception e) {\n        handleError(e.getMessage());\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 5829029, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FIIpPIpoRBQ/AAAAAAAAAAI/AAAAAAAAABE/46Rclw4VX4Q/photo.jpg?sz=128", "display_name": "Kumar Purushottam", "link": "https://stackoverflow.com/users/5829029/kumar-purushottam"}, "is_accepted": false, "score": 0, "last_activity_date": 1606991531, "last_edit_date": 1606991531, "creation_date": 1606990388, "answer_id": 65123915, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat/65123915#65123915", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>I found another way of creating this case.</p>\n<p><strong>CASE-1</strong></p>\n<ol>\n<li>Inflate a fragment in frame-layout at an activity</li>\n<li>start an API request (don't consume the api response when app in foreground)</li>\n<li>Keep your app in background</li>\n<li>Consume the API request (suppose you want to add another fragment on api response)</li>\n<li>Inflate another fragment using .replace() method on the same frame-layout</li>\n<li>You will be able to create the Crash</li>\n</ol>\n<p><strong>CASE-2</strong></p>\n<ol>\n<li>Inflate a fragment in frame-layout at an activity</li>\n<li>Start an API request</li>\n<li>Consume the api in foreground (suppose you want to add another fragment on api response, using .replace() method of fragment-manager)</li>\n<li>Put your app in background</li>\n<li>Recreate your application (you can do this using &quot;Don't keep activities&quot;, changing permission, changing system language)</li>\n<li>Come back to your application</li>\n<li>Your activity will start re-creating</li>\n<li>Activity will auto recreate its already inflated fragment suppose it is of (point-1)</li>\n<li>Make sure API is request again in on recreate case, after point-8</li>\n<li>Consume API response and inflate another fragment using .replace() method</li>\n<li>You will be able to create the Crash (As in this case, already a transition is running point-8, and you are adding another fragment at point-10)</li>\n</ol>\n"}], "owner": {"reputation": 577, "user_id": 5687200, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-qszuKgEWG4M/AAAAAAAAAAI/AAAAAAAAIKU/5sE7Nn6fuZM/photo.jpg?sz=128", "display_name": "Gabi", "link": "https://stackoverflow.com/users/5687200/gabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7786, "favorite_count": 3, "accepted_answer_id": 56554010, "answer_count": 11, "score": 24, "last_activity_date": 1606991531, "creation_date": 1560240826, "last_edit_date": 1574752927, "question_id": 56539251, "link": "https://stackoverflow.com/questions/56539251/backstack-management-restarter-must-be-created-only-during-owners-initializat", "title": "Backstack management : Restarter must be created only during owner&#39;s initialization stage", "body": "<p>I am using a bottom navigation bar in my MainActivity to handle some fragments. This is the code used for switching between them:</p>\n\n<pre><code>private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n    if (item.isChecked &amp;&amp;\n        supportFragmentManager.findFragmentById(R.id.act_main_fragment_container) != null\n    )\n        return@OnNavigationItemSelectedListener false\n    val fragment =\n        when (item.itemId) {\n            R.id.navigation_home      -&gt; fragments[0]\n            R.id.navigation_bookings  -&gt; fragments[1]\n            R.id.navigation_messages  -&gt; fragments[2]\n            R.id.navigation_dashboard -&gt; fragments[3]\n            R.id.navigation_profile   -&gt; fragments[4]\n            else                      -&gt; fragments[0]\n        }\n    this replaceWithNoBackStack fragment\n    return@OnNavigationItemSelectedListener true\n}\n</code></pre>\n\n<p>the method replaceWithNoBackstack is just a short-hand for this:</p>\n\n<pre><code>supportFragmentManager\n    ?.beginTransaction()\n    ?.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN)\n    ?.replace(containerId, fragment)\n    ?.commit()\n</code></pre>\n\n<p>The problem is that when i switch faster between them, my app crashes with the following exception: </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Restarter must be created only during owner's initialization stage\n          at androidx.savedstate.SavedStateRegistryController.performRestore(SavedStateRegistryController.java:59)\n          at androidx.fragment.app.Fragment.performCreate(Fragment.java:2580)\n          at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:837)\n          at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1237)\n          at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1302)\n          at androidx.fragment.app.BackStackRecord.executeOps(BackStackRecord.java:439)\n          at androidx.fragment.app.FragmentManagerImpl.executeOps(FragmentManagerImpl.java:2075)\n          at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1865)\n          at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1820)\n          at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1726)\n          at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150)\n          at android.os.Handler.handleCallback(Handler.java:789)\n          at android.os.Handler.dispatchMessage(Handler.java:98)\n          at android.os.Looper.loop(Looper.java:164)\n          at android.app.ActivityThread.main(ActivityThread.java:6709)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:769)\n  I've been searching a lot and couldn't find an answer.</p>\n</blockquote>\n\n<p>I also got this error if I do an API call, put the app in background, wait for the response, and at the time I go back to the app, the app crashes because I am trying to display a dialog fragment immediately (the reason I think this is happening is that the transaction of recreating the fragment when coming back from the background is still in progress at the time of displaying the dialog fragment). I solved this in a hacky way by setting a 500ms delay for the dialog because I couldn't figure out other solutions.</p>\n\n<p>Please ask if you need more details regarding this.\nThank you in advance!</p>\n\n<p><strong>POSSIBLE TEMP SOLUTIONS</strong></p>\n\n<p><strong>EDIT</strong>\nI solved this issue by downgrading the app compat depedency to <code>androidx.appcompat:appcompat:1.0.2</code> but this is just a temporary solution, since i will have to update it in future. I'm hoping someone will figure it out.</p>\n\n<p><strong>EDIT 2</strong>\nI solved the issue by removing setTransition() from fragment transactions. At least I know the reason why android apps does not have good transitions in general</p>\n\n<p><strong>EDIT 3</strong>\nMaybe the best solution to avoid this issue and also make things work smoothly is just to use ViewPager to handle bottom bar navigation</p>\n"}, {"tags": ["kotlin", "blockchain", "corda"], "answers": [{"comments": [{"owner": {"reputation": 448, "user_id": 11473160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c44ac99f2a9ef94d376a03f51c6b551?s=128&d=identicon&r=PG&f=1", "display_name": "kaiilim", "link": "https://stackoverflow.com/users/11473160/kaiilim"}, "edited": false, "score": 0, "creation_date": 1560500658, "post_id": 56539491, "comment_id": 99765131, "body": "Hi Roger, may I ask if my understanding is correct, the workaround is either: 1. create a wrapper flow for UpdateSettlementMethod flow, which is able to take String for the accountToPay parameter type, then this flow will reconstruct my inputs (eg: accountToPay/settlementMethod etc) as a serializable object and then invoke a subFlow of the original UpdateSettlementMethod with the newly serialized object as input, or 2. I can create a wrapper for String class to serialize my String input, which will then be used as the accountToPay parameter type  Is this correct, or am I completely wrong?"}], "tags": [], "owner": {"reputation": 1196, "user_id": 7511144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgOR6.png?s=128&g=1", "display_name": "Roger Willis", "link": "https://stackoverflow.com/users/7511144/roger-willis"}, "is_accepted": true, "score": 0, "last_activity_date": 1560241664, "creation_date": 1560241664, "answer_id": 56539491, "question_id": 56539241, "link": "https://stackoverflow.com/questions/56539241/unable-to-updatesettlementmethod-with-accounttopay-accountid-of-string-type/56539491#56539491", "title": "Unable to UpdateSettlementMethod with accountToPay (accountID) of String type", "body": "<p>Yes it's the same issue as described here: <a href=\"https://github.com/corda/corda-settler/issues/21\" rel=\"nofollow noreferrer\">https://github.com/corda/corda-settler/issues/21</a></p>\n\n<p>The workaround is to create your own wrapper flow which takes strings for the parameters which cannot be deserialised then construct those objects in your flow and pass them into the corda settler flows.</p>\n\n<p>Cheers</p>\n"}], "owner": {"reputation": 448, "user_id": 11473160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c44ac99f2a9ef94d376a03f51c6b551?s=128&d=identicon&r=PG&f=1", "display_name": "kaiilim", "link": "https://stackoverflow.com/users/11473160/kaiilim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 56539491, "answer_count": 1, "score": 1, "last_activity_date": 1560241664, "creation_date": 1560240781, "question_id": 56539241, "link": "https://stackoverflow.com/questions/56539241/unable-to-updatesettlementmethod-with-accounttopay-accountid-of-string-type", "title": "Unable to UpdateSettlementMethod with accountToPay (accountID) of String type", "body": "<p>I'm trying to create my own mock settlement rail using corda-settler but is facing an issue and I've been trying to resolve it for the past week, still I don't know what went wrong. I'm not sure if this issue is the same as the one raised by TAC911 <a href=\"https://github.com/corda/corda-settler/issues/21\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>This is the the command I'm running on the shell <code>start UpdateSettlementMethod linearId: 389b634d-2d4f-4f00-84e9-c903b0454e4d, settlementMethod: { accountToPay: dummyAccount001, settlementOracle: Oracle, _type: com.r3.corda.finance.dummy.types.DummySettlement }</code> and this is the errors:</p>\n\n<pre><code>Tue Jun 11 13:39:28 SGT 2019&gt;&gt;&gt; start UpdateSettlementMethod linearId: 389b634d-2d4f-4f00-84e9-c903b0454e4d, settlementMethod: { accountToPay: dummyAccount001, settlementOracle: Oracle, _type: com.r3.corda.finance.dummy.types.DummySettlement }\nNo matching constructor found:\n- [net.corda.core.contracts.UniqueIdentifier, com.r3.corda.finance.obligation.types.SettlementMethod]: Could not parse as a command: Could not resolve type id 'com.r3.corda.finance.dummy.types.DummySettlement' as a subtype of [simple type, class com.r3.corda.finance.obligation.types.SettlementMethod]: no such class found\n at [Source: UNKNOWN; line: -1, column: -1]\n</code></pre>\n\n<p>The followings are the classes I have created in my mock settlement module:\nDummyPayment:</p>\n\n<pre><code>package com.r3.corda.finance.dummy.types\n\nimport com.r3.corda.finance.obligation.types.Money\nimport com.r3.corda.finance.obligation.types.Payment\nimport com.r3.corda.finance.obligation.types.PaymentReference\nimport com.r3.corda.finance.obligation.types.PaymentStatus\nimport net.corda.core.contracts.Amount\n\ndata class DummyPayment&lt;T : Money&gt;(\n        override val paymentReference: PaymentReference,\n        override val amount: Amount&lt;T&gt;,\n        override var status: PaymentStatus = PaymentStatus.SENT\n) : Payment&lt;T&gt; {\n    override fun toString(): String {\n        return \"Amount: $amount, Dummy Reference: $paymentReference, Status: $status\"\n    }\n}\n</code></pre>\n\n<p>DummySettlement:</p>\n\n<pre><code>package com.r3.corda.finance.dummy.types\n\nimport com.r3.corda.finance.obligation.types.OffLedgerPayment\nimport com.r3.corda.finance.dummy.flows.MakeDummyPayment\nimport net.corda.core.identity.Party\n\ndata class DummySettlement(\n        override val accountToPay: String,\n        override val settlementOracle: Party,\n        override val paymentFlow: Class&lt;MakeDummyPayment&lt;*&gt;&gt; = MakeDummyPayment::class.java\n) : OffLedgerPayment&lt;MakeDummyPayment&lt;*&gt;&gt; {\n    override fun toString(): String {\n        return \"Pay to $accountToPay and use $settlementOracle as settlement Oracle.\"\n    }\n}\n</code></pre>\n\n<p>MakeDummyPayment:</p>\n\n<pre><code>package com.r3.corda.finance.dummy.flows\n\nimport co.paralleluniverse.fibers.Suspendable\nimport com.r3.corda.finance.dummy.types.DummyPayment\nimport com.r3.corda.finance.dummy.types.DummySettlement\nimport com.r3.corda.finance.obligation.client.flows.MakeOffLedgerPayment\nimport com.r3.corda.finance.obligation.states.Obligation\nimport com.r3.corda.finance.obligation.types.*\nimport net.corda.core.contracts.Amount\nimport net.corda.core.contracts.StateAndRef\nimport net.corda.core.flows.FlowException\nimport net.corda.core.utilities.ProgressTracker\nimport com.r3.corda.finance.dummy.types.*\n\nclass MakeDummyPayment&lt;T : Money&gt;(\n        amount: Amount&lt;T&gt;,\n        obligationStateAndRef: StateAndRef&lt;Obligation&lt;*&gt;&gt;,\n        settlementMethod: OffLedgerPayment&lt;*&gt;,\n        progressTracker: ProgressTracker\n) : MakeOffLedgerPayment&lt;T&gt;(amount, obligationStateAndRef, settlementMethod, progressTracker) {\n\n    @Suspendable\n    override fun setup() {\n    }\n\n    override fun checkBalance(requiredAmount: Amount&lt;*&gt;) {\n    }\n\n    @Suspendable\n    override fun makePayment(obligation: Obligation&lt;*&gt;, amount: Amount&lt;T&gt;): DummyPayment&lt;T&gt; {\n        if (amount.token !is FiatCurrency)\n            throw FlowException(\"Please only pay in FiatCurrency for now.\")\n        if (obligation.settlementMethod == null)\n            throw FlowException(\"Please update the SettlementMethod to DummySettlement for now.\")\n        if (obligation.settlementMethod !is DummySettlement)\n            throw FlowException(\"Please use only DummySettlement for now.\")\n\n        return DummyPayment((obligation.payments.size + 1).toString(), amount as Amount&lt;FiatCurrency&gt;, PaymentStatus.SENT) as DummyPayment&lt;T&gt;\n    }\n}\n</code></pre>\n\n<p>The command can be ran if it's being settled in XRP. I'm not sure if there is any relevance of the type of accountToPay (String type, in DummySettlement class) which might affect some other dependencies?</p>\n\n<p>Any help or insights would be much appreciated.</p>\n"}, {"tags": ["kotlin", "axon", "kotlin-maven-plugin"], "answers": [{"tags": [], "owner": {"reputation": 1339, "user_id": 6166627, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/d5OPW.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6166627/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1560607335, "last_edit_date": 1592644375, "creation_date": 1560236176, "answer_id": 56538132, "question_id": 56537496, "link": "https://stackoverflow.com/questions/56537496/how-to-exclude-an-annotation-from-kotlin-allopen-plugin/56538132#56538132", "title": "How to exclude an annotation from Kotlin AllOpen plugin?", "body": "<h1>workaround</h1>\n<p>According to the <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#spring-support\" rel=\"nofollow noreferrer\">documentation</a>, the <code>spring</code> plugin uses <code>all-open</code> under the hood by just listing Spring annotations, while supporting the meta-annotating. So, we do exactly that, but we don't specify list <code>@Component</code>, so in our code, we must use the stereotypes (repository, service, etc.). This way it doesn't pick up the <code>@Aggregate</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;compilerPlugins&gt;\n            &lt;!-- instead of 'spring' --&gt;\n            &lt;plugin&gt;all-open&lt;/plugin&gt;\n        &lt;/compilerPlugins&gt;\n        &lt;pluginOptions&gt;\n            &lt;!-- todo check up on https://stackoverflow.com/questions/56537496 --&gt;\n            &lt;!-- listing all spring annotations except @Component --&gt;\n            &lt;option&gt;all-open:annotation=org.springframework.stereotype.Service&lt;/option&gt;\n            &lt;option&gt;all-open:annotation=org.springframework.stereotype.Controller&lt;/option&gt;\n            &lt;option&gt;all-open:annotation=org.springframework.data.repository.Repository&lt;/option&gt;\n            &lt;option&gt;all-open:annotation=org.springframework.context.annotation.Configuration&lt;/option&gt;\n            &lt;option&gt;all-open:annotation=org.springframework.boot.test.context.SpringBootTest&lt;/option&gt;\n            &lt;option&gt;all-open:annotation=org.springframework.cache.annotation.Cacheable&lt;/option&gt;\n            &lt;option&gt;all-open:annotation=org.springframework.transaction.annotation.Transactional&lt;/option&gt;\n            &lt;option&gt;all-open:annotation=org.springframework.scheduling.annotation.Async&lt;/option&gt;\n        &lt;/pluginOptions&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}], "owner": {"reputation": 1339, "user_id": 6166627, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/d5OPW.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6166627/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560607335, "creation_date": 1560233439, "last_edit_date": 1560607300, "question_id": 56537496, "link": "https://stackoverflow.com/questions/56537496/how-to-exclude-an-annotation-from-kotlin-allopen-plugin", "title": "How to exclude an annotation from Kotlin AllOpen plugin?", "body": "<p>I am using Axon Framework, where I can annotate my <strong>domain</strong> classes with <code>@Aggregate</code> (which is meta-annotated with @Component from Spring). Then I have to apologize for every private method/field I have by marking them <code>final</code> explicitly. </p>\n\n<p>I think in my case I am good with just marking the class open, so I would like to do it manually while excluding <code>@Aggregate</code> from the <code>spring</code> plugin but I can't find a way to do so.</p>\n"}, {"tags": ["java", "android", "firebase", "kotlin", "firebase-cloud-messaging"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 10819028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddd40809b8481d6dd1f60f560ca63c9?s=128&d=identicon&r=PG&f=1", "display_name": "Rares", "link": "https://stackoverflow.com/users/10819028/rares"}, "edited": false, "score": 0, "creation_date": 1560232589, "post_id": 56537277, "comment_id": 99656660, "body": "I didn&#39;t do this. Could you be more explicit where should I put this code please?"}, {"owner": {"reputation": 231, "user_id": 1992895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29519e96726b0edf5d765bfdc4aa7b8e?s=128&d=identicon&r=PG", "display_name": "Ashish singh", "link": "https://stackoverflow.com/users/1992895/ashish-singh"}, "reply_to_user": {"reputation": 27, "user_id": 10819028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddd40809b8481d6dd1f60f560ca63c9?s=128&d=identicon&r=PG&f=1", "display_name": "Rares", "link": "https://stackoverflow.com/users/10819028/rares"}, "edited": false, "score": 0, "creation_date": 1560233717, "post_id": 56537277, "comment_id": 99657092, "body": "@Rares edited my answer .."}], "tags": [], "owner": {"reputation": 231, "user_id": 1992895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29519e96726b0edf5d765bfdc4aa7b8e?s=128&d=identicon&r=PG", "display_name": "Ashish singh", "link": "https://stackoverflow.com/users/1992895/ashish-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1560233666, "last_edit_date": 1560233666, "creation_date": 1560232298, "answer_id": 56537277, "question_id": 56537233, "link": "https://stackoverflow.com/questions/56537233/how-to-get-the-firebase-token/56537277#56537277", "title": "How to get the firebase token?", "body": "<p>Create application class for your app : </p>\n\n<pre><code>class MyApplication : Application() {\n\n\noverride fun onCreate() {\n    super.onCreate()\n    initFCM()\n}\n\n\nprivate fun initFCM(){\n    FirebaseInstanceId.getInstance().instanceId\n            .addOnCompleteListener(OnCompleteListener { task -&gt;\n                if (!task.isSuccessful) {\n                    return@OnCompleteListener\n                }\n                // Get new Instance ID token\n                val token = task.result?.token\n            })\n}}\n</code></pre>\n\n<p>In Androidmanifest.xml file ,in android:name tag add your custom application class name like this .</p>\n\n<pre><code>&lt;application\n    android:name=\".MyApplication \"\n    android:allowBackup=\"true\" \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1560232926, "post_id": 56537355, "comment_id": 99656781, "body": "<a href=\"https://stackoverflow.com/q/51125169/7666442\">I think <code>FirebaseInstanceId.getInstance().getToken()</code>  is  deprecated</a>"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1560232950, "post_id": 56537355, "comment_id": 99656793, "body": "@NileshRathod edited"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1560234479, "last_edit_date": 1560234479, "creation_date": 1560232657, "answer_id": 56537355, "question_id": 56537233, "link": "https://stackoverflow.com/questions/56537233/how-to-get-the-firebase-token/56537355#56537355", "title": "How to get the firebase token?", "body": "<p>Try with \n          <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceId.html#getInstanceId()\" rel=\"nofollow noreferrer\"><strong><code>FirebaseInstanceId</code></strong></a></p>\n\n<blockquote>\n  <p>Firebase Instance ID provides a unique identifier for each app\n  instance and a mechanism to authenticate and authorize actions</p>\n</blockquote>\n\n<p><kbd><strong>KOTLIN</strong></kbd> </p>\n\n<pre><code>        FirebaseInstanceId.getInstance().instanceId\n                .addOnSuccessListener(object : OnSuccessListener&lt;InstanceIdResult&gt; {\n                    override fun onSuccess(instanceIdResult: InstanceIdResult) {\n                        val token = instanceIdResult.token //Token\n\n                }\n              })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2051, "user_id": 1360930, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/53a3be72e42864f4754f67cb7003af83?s=128&d=identicon&r=PG", "display_name": "qkx", "link": "https://stackoverflow.com/users/1360930/qkx"}, "edited": false, "score": 0, "creation_date": 1597919978, "post_id": 56537367, "comment_id": 112292349, "body": "this is not correct answer (august 2020). There is no getInstanceId() anymore, and addOnSuccessListener must be called after subscribeToTopic() and also it has now different parameters. And they didnt even update their docs lol..."}], "tags": [], "owner": {"reputation": 5355, "user_id": 3738947, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/G2Hpi.jpg?s=128&g=1", "display_name": "Chirag Savsani", "link": "https://stackoverflow.com/users/3738947/chirag-savsani"}, "is_accepted": true, "score": 3, "last_activity_date": 1560232745, "creation_date": 1560232745, "answer_id": 56537367, "question_id": 56537233, "link": "https://stackoverflow.com/questions/56537233/how-to-get-the-firebase-token/56537367#56537367", "title": "How to get the firebase token?", "body": "<pre><code>//Get Firebase FCM token\n        FirebaseInstanceId.getInstance().getInstanceId().addOnSuccessListener(activity, new OnSuccessListener&lt;InstanceIdResult&gt;() {\n            @Override\n            public void onSuccess(InstanceIdResult instanceIdResult) {\n                String token = instanceIdResult.getToken();\n\n            }\n        });\n</code></pre>\n\n<p>Put this code in onCreate method of Your first activity to get FCM token. You can save it in Global Variable</p>\n"}], "owner": {"reputation": 27, "user_id": 10819028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ddd40809b8481d6dd1f60f560ca63c9?s=128&d=identicon&r=PG&f=1", "display_name": "Rares", "link": "https://stackoverflow.com/users/10819028/rares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4112, "favorite_count": 0, "closed_date": 1560232890, "accepted_answer_id": 56537367, "answer_count": 3, "score": 1, "last_activity_date": 1560234479, "creation_date": 1560232078, "last_edit_date": 1560233098, "question_id": 56537233, "link": "https://stackoverflow.com/questions/56537233/how-to-get-the-firebase-token", "closed_reason": "Duplicate", "title": "How to get the firebase token?", "body": "<p>I am developing a test app that uses notifications via FCM. I am using Volley to send data from the device to the server(WAMP) but the token is always an empty string/a default value that I've written. I searched the internet but I still don't know why the token is not stored/generated(I'm new at coding.)\nOne more thing: everytime I send the token, the toast shows me the \"good one\" text I've written there but it also gives me a lot of html code.\nHere are my files:\nMainActivity.kt</p>\n\n<pre><code>import android.content.Context\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport android.view.View\nimport android.widget.Button\nimport android.widget.Toast\nimport com.android.volley.AuthFailureError\nimport com.android.volley.Request\nimport com.android.volley.Response\nimport com.android.volley.toolbox.StringRequest\n\nclass MainActivity : AppCompatActivity() {\n    var url: String = \"......\"\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        var button: Button = findViewById(R.id.save_token)\n        button.setOnClickListener(object : View.OnClickListener{\n            override fun onClick(v: View?) {\n                val sharedPreferences =\n                    applicationContext.getSharedPreferences(getString(R.string.FCM_PREF), Context.MODE_PRIVATE)\n                var token: String = sharedPreferences.getString(getString(R.string.FCM_TOKEN),\"noToken\")\n//                var token: String = \"sss\";\n                val request = object : StringRequest(Request.Method.POST, url,\n                    Response.Listener { response -&gt;\n                        Toast.makeText(this@MainActivity, \"Good one $response\", Toast.LENGTH_SHORT).show()\n                        Log.i(\"My success\", \"\" + response)\n                    }, Response.ErrorListener { error -&gt;\n                        Toast.makeText(this@MainActivity, \"my error :$error\", Toast.LENGTH_LONG).show()\n                        Log.i(\"My error\", \"\" + error)\n//                        println(\"Error $error\")\n                    }) {\n                    @Throws(AuthFailureError::class)\n                    override fun getParams(): Map&lt;String, String&gt; {\n\n                        val params = HashMap&lt;String, String&gt;()\n                        params.put(\"fcm_token\", token)\n\n                        return params\n                    }\n                }\n                MySingleton.getmInstance(this@MainActivity).addToRequestQueue(request)\n            }\n        })\n\n    }\n}\n</code></pre>\n\n<p>FcmInstanceIdService.java</p>\n\n<pre><code>public class FcmInstanceIdService extends FirebaseMessagingService{\n    @Override\n    public void onNewToken(String s) {\n\n        String  recent_token = s;\n        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(getString(R.string.FCM_PREF),Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putString(getString(R.string.FCM_TOKEN), recent_token);\n        editor.commit();\n    }\n}\n</code></pre>\n\n<p>this is the log I get from the success toast:</p>\n\n<pre><code>2019-06-11 08:48:45.135 5684-5684/com.example.rares.firebaselast D/My\u00a0success: connection success&lt;br /&gt;\n    &lt;font size='1'&gt;&lt;table class='xdebug-error xe-notice' dir='ltr' border='1' cellspacing='0' cellpadding='1'&gt;\n    &lt;tr&gt;&lt;th align='left' bgcolor='#f57900' colspan=\"5\"&gt;&lt;span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'&gt;( ! )&lt;/span&gt; Notice: Undefined variable: mysqli_close in C:\\wamp64\\www\\firebase\\fcm_insert.php on line &lt;i&gt;7&lt;/i&gt;&lt;/th&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;th align='left' bgcolor='#e9b96e' colspan='5'&gt;Call Stack&lt;/th&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;th align='center' bgcolor='#eeeeec'&gt;#&lt;/th&gt;&lt;th align='left' bgcolor='#eeeeec'&gt;Time&lt;/th&gt;&lt;th align='left' bgcolor='#eeeeec'&gt;Memory&lt;/th&gt;&lt;th align='left' bgcolor='#eeeeec'&gt;Function&lt;/th&gt;&lt;th align='left' bgcolor='#eeeeec'&gt;Location&lt;/th&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;td bgcolor='#eeeeec' align='center'&gt;1&lt;/td&gt;&lt;td bgcolor='#eeeeec' align='center'&gt;0.0023&lt;/td&gt;&lt;td bgcolor='#eeeeec' align='right'&gt;402152&lt;/td&gt;&lt;td bgcolor='#eeeeec'&gt;{main}(  )&lt;/td&gt;&lt;td title='C:\\wamp64\\www\\firebase\\fcm_insert.php' bgcolor='#eeeeec'&gt;...\\fcm_insert.php&lt;b&gt;:&lt;/b&gt;0&lt;/td&gt;&lt;/tr&gt;\n    &lt;/table&gt;&lt;/font&gt;\n    &lt;br /&gt;\n    &lt;font size='1'&gt;&lt;table class='xdebug-error xe-uncaught-exception' dir='ltr' border='1' cellspacing='0' cellpadding='1'&gt;\n    &lt;tr&gt;&lt;th align='left' bgcolor='#f57900' colspan=\"5\"&gt;&lt;span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'&gt;( ! )&lt;/span&gt; Fatal error: Uncaught Error: Function name must be a string in C:\\wamp64\\www\\firebase\\fcm_insert.php on line &lt;i&gt;7&lt;/i&gt;&lt;/th&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;th align='left' bgcolor='#f57900' colspan=\"5\"&gt;&lt;span style='background-color: #cc0000; color: #fce94f; font-size: x-large;'&gt;( ! )&lt;/span&gt; Error: Function name must be a string in C:\\wamp64\\www\\firebase\\fcm_insert.php on line &lt;i&gt;7&lt;/i&gt;&lt;/th&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;th align='left' bgcolor='#e9b96e' colspan='5'&gt;Call Stack&lt;/th&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;th align='center' bgcolor='#eeeeec'&gt;#&lt;/th&gt;&lt;th align='left' bgcolor='#eeeeec'&gt;Time&lt;/th&gt;&lt;th align='left' bgcolor='#eeeeec'&gt;Memory&lt;/th&gt;&lt;th align='left' bgcolor='#eeeeec'&gt;Function&lt;/th&gt;&lt;th align='left' bgcolor='#eeeeec'&gt;Location&lt;/th&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;td bgcolor='#eeeeec' align='center'&gt;1&lt;/td&gt;&lt;td bgcolor='#eeeeec' align='center'&gt;0.0023&lt;/td&gt;&lt;td bgcolor='#eeeeec' align='right'&gt;402152&lt;/td&gt;&lt;td bgcolor='#eeeeec'&gt;{main}(  )&lt;/td&gt;&lt;td title='C:\\wamp64\\www\\firebase\\fcm_insert.php' bgcolor='#eeeeec'&gt;...\\fcm_insert.php&lt;b&gt;:&lt;/b&gt;0&lt;/td&gt;&lt;/tr&gt;\n    &lt;/table&gt;&lt;/font&gt;\n</code></pre>\n"}, {"tags": ["java", "node.js", "kotlin", "ed25519"], "owner": {"reputation": 79, "user_id": 1502114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f3782ee31be835b919addac8d14ebb4?s=128&d=identicon&r=PG", "display_name": "Pranav kirtani", "link": "https://stackoverflow.com/users/1502114/pranav-kirtani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1560224822, "creation_date": 1560223884, "last_edit_date": 1560224822, "question_id": 56536090, "link": "https://stackoverflow.com/questions/56536090/signing-a-message-in-javascript-and-verifying-signature-on-kotlin-java-backend-w", "title": "Signing a message in javascript and verifying signature on kotlin/java backend with ed25519 as our signature algorithm", "body": "<p>I have the code below which I am using to sign some payload in javascript using ed25519 signature algorithm</p>\n\n<pre><code>var nacl=require(\"tweetnacl\")\nvar keys=nacl.sign.keyPair()\nvar TextEncoder= require('util').TextEncoder;\nvar documentId = \"77ccbf5e-4ddd-4092-b813-ac06084a3eb0\"\nconst bs58 = require('bs58')\nvar bufferOutput=buf2hex(keys.publicKey.buffer)\nconst bytes = Buffer.from(bufferOutput, 'hex')\nconst pub = bs58.encode(bytes)\nconsole.log(\"public key\",pub)\nvar uri = \"77ccbf5e-4ddd-4092-b813-ac06084a3eb0#keys-1\"\nvar document = {\n     \"id\": documentId,\n      \"publicKey\": [\n {\n     \"id\": uri,\n     \"type\": \"Ed25519VerificationKey2018\",\n     \"controller\": documentId,\n     \"publicKeyBase58\": pub\n }\n ]\n}\nvar uint8array = new TextEncoder(\"utf-8\").encode(document);\nvar signature=nacl.sign(uint8array, keys.secretKey)\nconsole.log(\"signature\",bs58.encode(Buffer.from(buf2hex(signature),'hex')))\n</code></pre>\n\n<p>But when I try to verify the signature inside kotlin/java using <code>net.i2p.crypto.eddsa.spec.EdDSAPublicKeySpec</code> it says that my keyspec is unsupported.\nIs there any way to sign a package in javascript and verify in java/kotlin?</p>\n"}, {"tags": ["java", "android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 30613, "user_id": 3496570, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/fhSKV.jpg?s=128&g=1", "display_name": "AndroidGeek", "link": "https://stackoverflow.com/users/3496570/androidgeek"}, "edited": false, "score": 0, "creation_date": 1579784817, "post_id": 56535925, "comment_id": 105887798, "body": "<a href=\"https://medium.com/@zareahmer89/generic-adapter-using-kotlin-6aa3e57207\" rel=\"nofollow noreferrer\">medium.com/@zareahmer89/generic-adapter-using-kotlin-6aa3e57&zwnj;&#8203;207</a>"}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1560239259, "post_id": 56537340, "comment_id": 99659655, "body": "Another option is to add a <code>(View) -&gt; T</code> parameter to the constructor."}], "tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": false, "score": 2, "last_activity_date": 1560232612, "creation_date": 1560232612, "answer_id": 56537340, "question_id": 56535925, "link": "https://stackoverflow.com/questions/56535925/kotlin-generics-for-recyclerview-adapter/56537340#56537340", "title": "Kotlin Generics for RecyclerView Adapter", "body": "<p>Kotlin doesn't allow creating object of type that was identified in type parameters (unlike C# can).</p>\n\n<p>So in your case you can leave abstract class without <code>onCreateViewHolder</code> method realization. Or you can add another abstract method and call it in <code>onCreateViewHolder</code>.</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): T  {\n    val layout = LayoutInflater.from(parent.context).inflate(layoutResource, parent, false)\n    layout.setOnClickListener(onClickListener)\n    return createHolderInstance(layout)\n}\n\nabstract fun createHolderInstance(layout: View): T\n</code></pre>\n\n<p>In this way there should be less code in child classes. For example:</p>\n\n<pre><code>class UsersAdapter(...) : BaseAdapter&lt;UserHolder&gt;(...) {\n    override fun createHolderInstance(layout: View) = UserHolder(layout)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 989, "user_id": 8399299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-uSRfwE0sfxk/AAAAAAAAAAI/AAAAAAAAAB4/xpEwh2GDwiY/photo.jpg?sz=128", "display_name": "Zulqurnain Jutt", "link": "https://stackoverflow.com/users/8399299/zulqurnain-jutt"}, "edited": false, "score": 0, "creation_date": 1605163387, "post_id": 64071099, "comment_id": 114568388, "body": "I thought of a similar solution but we can decrease more params here"}], "tags": [], "owner": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "is_accepted": false, "score": 2, "last_activity_date": 1601067503, "last_edit_date": 1601067503, "creation_date": 1601066504, "answer_id": 64071099, "question_id": 56535925, "link": "https://stackoverflow.com/questions/56535925/kotlin-generics-for-recyclerview-adapter/64071099#64071099", "title": "Kotlin Generics for RecyclerView Adapter", "body": "<p>I use something like this for a generic this for ListAdapter (making use of <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">ViewBinding</a>)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class BaseListAdapter&lt;T&gt;(\n    private val inflate: (layoutInflater: LayoutInflater, parent: ViewGroup?, attachToParent: Boolean) -&gt; ViewBinding,\n    private val bind: (item: T, binding: ViewBinding) -&gt; Unit,\n    private val onClick: (item: T) -&gt; Unit,\n    compareItems: (old: T, new: T) -&gt; Boolean,\n    compareContents: (old: T, new: T) -&gt; Boolean\n) : ListAdapter&lt;T, RecyclerView.ViewHolder&gt;(DiffCallback(compareItems, compareContents)) {\n    var items = emptyList&lt;T&gt;()\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) =\n        ItemViewHolder(inflate(LayoutInflater.from(parent.context), parent, false))\n\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        bind(getItem(position), (holder as BaseListAdapter&lt;T&gt;.ItemViewHolder).binding)\n    }\n\n    internal fun setItems(items: List&lt;T&gt;) {\n        this.items = items\n        this.submitList(items)\n    }\n\n    inner class ItemViewHolder(val binding: ViewBinding) : RecyclerView.ViewHolder((binding).root) {\n        init {\n            binding.root.setOnClickListener { onClick(getItem(adapterPosition)) }\n        }\n    }\n\n    private class DiffCallback&lt;K&gt;(\n        private val compareItems: (old: K, new: K) -&gt; Boolean,\n        private val compareContents: (old: K, new: K) -&gt; Boolean\n    ) : DiffUtil.ItemCallback&lt;K&gt;() {\n        override fun areItemsTheSame(old: K, new: K) = compareItems(old, new)\n        override fun areContentsTheSame(old: K, new: K) = compareContents(old, new)\n    }\n}\n</code></pre>\n<p>then in the Fragment/Activity you can initiate it like this (for <code>Customer</code> and <code>RvCustomerBinding</code> as ViewBinding)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val adapter = BaseListAdapter&lt;Customer&gt;(\n    { li, parent, attach -&gt; RvCustomerBinding.inflate(li, parent, attach) },\n    { item, vb -&gt; (vb as RvCustomerBinding).tvName.text = item.name },\n    { item -&gt; displayToast(requireContext(), &quot;Customer: ${item.name}&quot;) },\n    { old, new -&gt; old.id == new.id },\n    { old, new -&gt; old == new }\n)\n</code></pre>\n"}], "owner": {"reputation": 2187, "user_id": 1077539, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ac36a35b456dd2b335b368d32ebd0f15?s=128&d=identicon&r=PG", "display_name": "sadat", "link": "https://stackoverflow.com/users/1077539/sadat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1732, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1601067503, "creation_date": 1560222320, "question_id": 56535925, "link": "https://stackoverflow.com/questions/56535925/kotlin-generics-for-recyclerview-adapter", "title": "Kotlin Generics for RecyclerView Adapter", "body": "<p>I am trying to write a generic recyclerview adapter. I found a few examples. However, still could not figure out how to achieve a generic adapter. The code I have written is,</p>\n\n<pre><code>open abstract class BaseAdapter&lt;T : RecyclerView.ViewHolder&gt;(private val onClickListener: View.OnClickListener, @LayoutRes private val layoutResource:Int) :\n        RecyclerView.Adapter&lt;T&gt;() {\n        var items: MutableList&lt;Item&gt; = mutableListOf()\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): T  {\n            val layout = LayoutInflater.from(parent.context).inflate(layoutResource, parent, false)\n            layout.setOnClickListener(onClickListener)\n            return T(layout)\n        }\n\n        override fun getItemCount(): Int {\n            return items.size\n        }\n    }\n</code></pre>\n\n<p>I am getting an error at line <code>return T(layout)</code>. The error is <code>Expression 'T' of type 'Int' cannot be invoked as a function. The function 'invoke()' is not found</code>. </p>\n"}, {"tags": ["gradle", "kotlin", "groovy"], "answers": [{"tags": [], "owner": {"reputation": 2072, "user_id": 2009145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8oSK0.jpg?s=128&g=1", "display_name": "skryvets", "link": "https://stackoverflow.com/users/2009145/skryvets"}, "is_accepted": true, "score": 10, "last_activity_date": 1560222575, "creation_date": 1560222575, "answer_id": 56535952, "question_id": 56535720, "link": "https://stackoverflow.com/questions/56535720/how-to-pass-command-line-argument-to-gradle-kotlin-dsl/56535952#56535952", "title": "How to pass command line argument to Gradle Kotlin DSL", "body": "<p>After some time found an answer:</p>\n\n<p><code>build.gradle.kts</code></p>\n\n<pre><code>val myArg: String by project // Command line argument is always a part of project\n\ntask(\"myTask\") {\n    doFirst {\n        if (project.hasProperty(\"myArg\")) {\n            println(myArg)\n        }\n    }\n}\n</code></pre>\n\n<p><code>Command line</code>:</p>\n\n<pre><code>gradle myTask -PmyArg=foo\n</code></pre>\n\n<p><code>Output</code>:</p>\n\n<pre><code>$ gradle myTask -PmyArg=foo\n\n&gt; Task :myTask\nfoo\n\nBUILD SUCCESSFUL in 1s\n1 actionable task: 1 executed\n</code></pre>\n\n<p>Related links:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/11696629/2009145\">How to pass arguments from command line to gradle</a></li>\n<li><a href=\"https://stackoverflow.com/questions/20410854/how-to-pass-parameters-or-arguments-into-a-gradle-task/48370451#48370451]\">How to pass parameters or arguments into a gradle task</a></li>\n<li><a href=\"https://stackoverflow.com/a/31302279/2009145\">Gradle task check if property is defined</a></li>\n</ul>\n"}], "owner": {"reputation": 2072, "user_id": 2009145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8oSK0.jpg?s=128&g=1", "display_name": "skryvets", "link": "https://stackoverflow.com/users/2009145/skryvets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3192, "favorite_count": 1, "accepted_answer_id": 56535952, "answer_count": 1, "score": 8, "last_activity_date": 1560222575, "creation_date": 1560220499, "question_id": 56535720, "link": "https://stackoverflow.com/questions/56535720/how-to-pass-command-line-argument-to-gradle-kotlin-dsl", "title": "How to pass command line argument to Gradle Kotlin DSL", "body": "<p>Here's an example from Groovy that represents exactly what I would like to achieve:</p>\n\n<p><code>Command line</code>:</p>\n\n<pre><code>./gradlew jib -PmyArg=hello\n</code></pre>\n\n<p><code>build.gradle.kts</code></p>\n\n<pre><code>task myTask {\n    doFirst {\n       println myArg\n       ... do what you want\n    }\n}\n</code></pre>\n\n<p>Source of this example is <a href=\"https://stackoverflow.com/questions/20410854/how-to-pass-parameters-or-arguments-into-a-gradle-task/48370451#48370451\">here - option 3</a>.</p>\n\n<p>How can I read pass and read <code>myArg</code> value in Kotlin DSL ?</p>\n"}, {"tags": ["android", "listview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 11628536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f498bc3e1eefccff5db040d6cde0e1f?s=128&d=identicon&r=PG&f=1", "display_name": "luchito", "link": "https://stackoverflow.com/users/11628536/luchito"}, "edited": false, "score": 0, "creation_date": 1560287343, "post_id": 56537432, "comment_id": 99685037, "body": "Thx for the answer! I think this will work, but i use Mutable List, I think it would be something like this:  <code>var dataList: MutableList&lt;My Pojo Class&gt; = ArrayList() var list1 = dataList.sortedWith(compareBy { it.name.startsWith(newText) }) var customAdptor = CustomAdapterBJCP(this@My Activty,list1) listView.adapter = customAdptor customAdptor.notifyDataSetChanged()</code>  but says :  <code>Type mismatch. Required: MutableList&lt;My Pojo Project&gt; Found: List&lt;My Pojo Project&gt;</code>"}, {"owner": {"reputation": 1131, "user_id": 6284448, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/af0Bu.jpg?s=128&g=1", "display_name": "GParekar", "link": "https://stackoverflow.com/users/6284448/gparekar"}, "reply_to_user": {"reputation": 105, "user_id": 11628536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f498bc3e1eefccff5db040d6cde0e1f?s=128&d=identicon&r=PG&f=1", "display_name": "luchito", "link": "https://stackoverflow.com/users/11628536/luchito"}, "edited": false, "score": 0, "creation_date": 1560314567, "post_id": 56537432, "comment_id": 99690468, "body": "can you please update your question with your POJO class and DataExample() method."}, {"owner": {"reputation": 1131, "user_id": 6284448, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/af0Bu.jpg?s=128&g=1", "display_name": "GParekar", "link": "https://stackoverflow.com/users/6284448/gparekar"}, "reply_to_user": {"reputation": 105, "user_id": 11628536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f498bc3e1eefccff5db040d6cde0e1f?s=128&d=identicon&r=PG&f=1", "display_name": "luchito", "link": "https://stackoverflow.com/users/11628536/luchito"}, "edited": false, "score": 0, "creation_date": 1560316210, "post_id": 56537432, "comment_id": 99690819, "body": "I updated my answer in adapter and onQueryTextChange() method, solved your error. if not works then please update your question with POJO class and Data Example() method."}], "tags": [], "owner": {"reputation": 1131, "user_id": 6284448, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/af0Bu.jpg?s=128&g=1", "display_name": "GParekar", "link": "https://stackoverflow.com/users/6284448/gparekar"}, "is_accepted": true, "score": 0, "last_activity_date": 1560316089, "last_edit_date": 1560316089, "creation_date": 1560233132, "answer_id": 56537432, "question_id": 56535633, "link": "https://stackoverflow.com/questions/56535633/search-in-a-custom-listview-from-the-toolbar-kotlin/56537432#56537432", "title": "Search in a Custom listView, from the toolbar - Kotlin", "body": "<p>I hope this will work for you</p>\n\n<p>In Activity on <code>Create()</code> method get data from local Database instead of in Adapter.</p>\n\n<p>so onCreate() method is:</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n            ...\n            setSupportActionBar(toolbar)\n            supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n\n            var db = DataBaseHandler(context)\n            var data = db.DataExample()  //this method must be return interms of your pojo class type.\n\n            var listView = findViewById&lt;ListView&gt;(R.id.listView)\n            val customAdptor = CustomAdapterBJCP(this,data)\n            listView.adapter=customAdptor\n        }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n\n            menuInflater.inflate(R.menu.menu_main,menu)\n            val searchItem = menu.findItem(R.id.action_search)\n            if(searchItem!=null){\n                val searchView=searchItem.actionView as SearchView\n               searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n                override fun onQueryTextSubmit(query: String?): Boolean {\n                    return true\n                }\n\n                override fun onQueryTextChange(newText: String?): Boolean {\n                    if (newText != null) {\n                   /* var dataList : List&lt;Your Pojo Class&gt; = list.filter { it.name.startsWith(newText) }\n                         .sortedBy { it.name }*/\n\n                      var dataList: MutableList&lt;Your Pojo Class&gt; = data.filter { it.name.startsWith(newText) }.toMutableList()  // data is list (i.e you get data from db)\n\n                      if (dataList.size.equals(0)) {\n                        Toast.makeText(this@MainActivity, \"No Record Found\", Toast.LENGTH_SHORT).show()   \n                      }\n\n                        for (item in dataList) {\n                            System.out.println(\"Searched Data: \" + item.name)\n                        }\n\n                       customAdptor = CustomAdapterBJCP(dataList , this@Your Activity)\n                       listView.adapter = customAdptor \n                       customAdptor?.notifyDataSetChanged\n\n                    }\n                    return true\n\n                }\n\n            })\n            }\n            return super.onCreateOptionsMenu(menu)\n        }\n</code></pre>\n\n<p>Modify your adapter </p>\n\n<pre><code>class CustomAdapterBJCP(private val context: Context, var data: MutableList&lt;Your Pojo Class&gt;)BaseAdapter(){\n\n  //  var db = DataBaseHandler(context)\n    //var data = db.DataExample()\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val inflater = context.layoutInflater\n        val view1 = inflater.inflate(R.layout.CustomList,null)\n        var fName= view1.findViewById&lt;TextView&gt;(R.id.txtOne)\n        var FDetail= view1.findViewById&lt;TextView&gt;(R.id.txtTwo)\n        var fCount = view1.findViewById&lt;TextView&gt;(R.id.txtThree)\n\n        fName.text = data.get(p0).name\n        FDetail.text = data.get(p0).detail\n        fCount .text= data.get(p0).count\n        return view1\n    }\n\n    override fun getItem(p0: Int): Any {\n        return data.get(p0).name\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return data.count()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 11628536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f498bc3e1eefccff5db040d6cde0e1f?s=128&d=identicon&r=PG&f=1", "display_name": "luchito", "link": "https://stackoverflow.com/users/11628536/luchito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 56537432, "answer_count": 1, "score": 0, "last_activity_date": 1568116111, "creation_date": 1560219698, "last_edit_date": 1568116111, "question_id": 56535633, "link": "https://stackoverflow.com/questions/56535633/search-in-a-custom-listview-from-the-toolbar-kotlin", "title": "Search in a Custom listView, from the toolbar - Kotlin", "body": "<p>I need to filter my listview while I write in the toolbar.</p>\n\n<p>CustomList: it's a layout with 3 textView.\nFullList: it's an activity with a <code>ListView</code></p>\n\n<p>I Populate FullList from an SQLite Table</p>\n\n<p>FullList.kt :</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        ...\n        setSupportActionBar(toolbar)\n        supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n\n        var listView = findViewById&lt;ListView&gt;(R.id.listView)\n        val customAdptor = CustomAdapterListView(this)\n        listView.adapter=customAdptor\n    }\n\nclass CustomAdapterBJCP(private val context: Activity): BaseAdapter(){\n\n    var db = DataBaseHandler(context)\n    var data = db.DataExample()\n\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val inflater = context.layoutInflater\n        val view1 = inflater.inflate(R.layout.CustomList,null)\n        var fName= view1.findViewById&lt;TextView&gt;(R.id.txtOne)\n        var FDetail= view1.findViewById&lt;TextView&gt;(R.id.txtTwo)\n        var fCount = view1.findViewById&lt;TextView&gt;(R.id.txtThree)\n\n        fName.text = data[p0].name\n        FDetail.text = data[p0].detail\n        fCount .text= data[p0].count\n        return view1\n    }\n\n    override fun getItem(p0: Int): Any {\n        return data.get(p0).name\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n        return data.size\n    }\n\n\n    }\n\n</code></pre>\n\n<p>to search the listView I implemented a menu Item :</p>\n\n<pre><code>&lt;menu...&gt;\n&lt;item android:id=\"@+id/action_search\"\n          android:title=\"Search\"\n          app:showAsAction=\"always|collapseActionView\"\n          android:icon=\"@android:drawable/ic_menu_search\"\n          app:actionViewClass=\"android.support.v7.widget.SearchView\"  /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>for this reason I have decided to create this function inside FullList.kt :</p>\n\n<pre><code>...\n override fun onCreateOptionsMenu(menu: Menu): Boolean {\n\n        menuInflater.inflate(R.menu.menu_main,menu)\n        val searchItem = menu.findItem(R.id.action_search)\n        if(searchItem!=null){\n            val searchView=searchItem.actionView as SearchView\n            searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener{\n                override fun onQueryTextSubmit(query: String?): Boolean {\n                    return true\n                }\n                override fun onQueryTextChange(newText: String?): Boolean {\n                    return true\n                }\n\n            })\n        }\n        return super.onCreateOptionsMenu(menu)\n    }\n...\n</code></pre>\n\n<p>Now I need to put a word inside the search toolbar and find the item in the ListView</p>\n\n<p>How can I do that in Kotlin?</p>\n"}, {"tags": ["android", "sockets", "kotlin", "tcp"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1560240278, "post_id": 56535473, "comment_id": 99660105, "body": "Welcome to SO! Could you please elaborate your question? You may also find this useful: <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>"}, {"owner": {"reputation": 51, "user_id": 11628481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/594a341062e8a3aa0a113ed29cc8ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "Tamer Ali", "link": "https://stackoverflow.com/users/11628481/tamer-ali"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1560288823, "post_id": 56535473, "comment_id": 99685508, "body": "@user2340612 Thanks , i&#39;m simply want to make a TCP Client using Kotlin, (connect to server , send and receive packets(in separated threads)) i can only connect and i didn&#39;t find a single post on SO showing how to do it in Kotlin all available codes are in Java"}, {"owner": {"reputation": 2928, "user_id": 7747942, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5jXKyAbmi_M/AAAAAAAAAAI/AAAAAAAAAFQ/AewmU0ev_68/photo.jpg?sz=128", "display_name": "Sylhare", "link": "https://stackoverflow.com/users/7747942/sylhare"}, "edited": false, "score": 0, "creation_date": 1605914947, "post_id": 56535473, "comment_id": 114808890, "body": "It works like java&#39;s <code>java.net.socket</code> for <a href=\"https://sylhare.github.io/2020/04/07/Kotlin-tcp-socket-example.html\" rel=\"nofollow noreferrer\">kotlin tcp</a>. Or you can use ktor."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 11628481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/594a341062e8a3aa0a113ed29cc8ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "Tamer Ali", "link": "https://stackoverflow.com/users/11628481/tamer-ali"}, "edited": false, "score": 0, "creation_date": 1560279512, "post_id": 56546186, "comment_id": 99682082, "body": "Thanks for your code , but this do the same as my code (connect and send packet)"}, {"owner": {"reputation": 146, "user_id": 10031641, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-noC4KUx4kvI/AAAAAAAAAAI/AAAAAAAAA6g/KxRh2AU7kxg/photo.jpg?sz=128", "display_name": "Maxim B&#238;rcu", "link": "https://stackoverflow.com/users/10031641/maxim-b%c3%aercu"}, "reply_to_user": {"reputation": 51, "user_id": 11628481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/594a341062e8a3aa0a113ed29cc8ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "Tamer Ali", "link": "https://stackoverflow.com/users/11628481/tamer-ali"}, "edited": false, "score": 2, "creation_date": 1560324733, "post_id": 56546186, "comment_id": 99693934, "body": "Sorry, maybe I didn&#39;t get your question right. Your question is &quot;How to send and receive strings through TCP connection using Kotlin&quot; In the code snippet that I sent you the client is sending a string (&quot;Hello from the client&quot;) the server which receives it and prints to the console.  Could you elaborate a bit on your question, such as I can update my code snippet?"}], "tags": [], "owner": {"reputation": 146, "user_id": 10031641, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-noC4KUx4kvI/AAAAAAAAAAI/AAAAAAAAA6g/KxRh2AU7kxg/photo.jpg?sz=128", "display_name": "Maxim B&#238;rcu", "link": "https://stackoverflow.com/users/10031641/maxim-b%c3%aercu"}, "is_accepted": false, "score": 10, "last_activity_date": 1560263870, "creation_date": 1560263870, "answer_id": 56546186, "question_id": 56535473, "link": "https://stackoverflow.com/questions/56535473/how-to-send-and-receive-strings-through-tcp-connection-using-kotlin/56546186#56546186", "title": "How to send and receive strings through TCP connection using kotlin", "body": "<p>You can check this simple example. Hope it'll help you!</p>\n\n<p><strong>Server:</strong></p>\n\n<pre><code>fun main() {\n    val server = ServerSocket(9999)\n    println(\"Server running on port ${server.localPort}\")\n    val client = server.accept()\n    println(\"Client connected : ${client.inetAddress.hostAddress}\")\n    val scanner = Scanner(client.inputStream)\n    while (scanner.hasNextLine()) {\n        println(scanner.nextLine())\n        break\n    }\n    server.close()\n}\n</code></pre>\n\n<p><strong>Client:</strong></p>\n\n<pre><code>fun main() {\n    val client = Socket(\"127.0.0.1\", 9999)\n    client.outputStream.write(\"Hello from the client!\".toByteArray())\n    client.close()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2331, "user_id": 981979, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/bnTXQ.png?s=128&g=1", "display_name": "Golden Thumb", "link": "https://stackoverflow.com/users/981979/golden-thumb"}, "is_accepted": false, "score": 0, "last_activity_date": 1607727601, "last_edit_date": 1607727601, "creation_date": 1607727100, "answer_id": 65259689, "question_id": 56535473, "link": "https://stackoverflow.com/questions/56535473/how-to-send-and-receive-strings-through-tcp-connection-using-kotlin/65259689#65259689", "title": "How to send and receive strings through TCP connection using kotlin", "body": "<p>There are 2 important things based on my experiment:</p>\n<ol>\n<li><p>get permission in AndroidManifest.xml</p>\n<p>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</p>\n</li>\n<li><p>create the socket from a background thread, the following works for me:</p>\n</li>\n</ol>\n<pre>\n    Executors.newSingleThreadExecutor().execute {\n        val socket = Socket(\"192.168.0.15\", 50000)\n        val scanner = Scanner(socket.getInputStream())\n        val printWriter = PrintWriter(socket.getOutputStream())\n        while (scanner.hasNextLine()) {\n            Log.d(TAG, \"${ scanner.nextLine() }\")\n        }\n    }\n</pre>\n<p>This is the <a href=\"https://github.com/zhijunsheng/chess-kotlin-andr\" rel=\"nofollow noreferrer\">source code in GitHub</a>.\nThere is a video of <a href=\"https://youtu.be/Peme9z4EIUo\" rel=\"nofollow noreferrer\">my experiment</a>.</p>\n"}], "owner": {"reputation": 51, "user_id": 11628481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/594a341062e8a3aa0a113ed29cc8ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "Tamer Ali", "link": "https://stackoverflow.com/users/11628481/tamer-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11113, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1607727601, "creation_date": 1560218296, "last_edit_date": 1578881332, "question_id": 56535473, "link": "https://stackoverflow.com/questions/56535473/how-to-send-and-receive-strings-through-tcp-connection-using-kotlin", "title": "How to send and receive strings through TCP connection using kotlin", "body": "<p>I have a TCP Server on Windows, and I want to send and receive text strings between the server and my Android device.</p>\n\n<p>I spent alot of time searching for an example using Kotlin but I didn't find any useful code, so I'm now only able to create the socket and connect.</p>\n\n<pre><code>fun connect() {\n    try{\n        val soc = Socket(\"192.168.1.5\", 1419)\n        val dout = DataOutputStream(soc.getOutputStream())\n        dout.writeUTF(\"1\")\n\n        dout.flush()\n        dout.close()\n        soc.close()\n    }\n    catch (e:Exception){\n        e.printStackTrace()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-intent", "kotlin", "android-jetpack"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560217932, "post_id": 56535379, "comment_id": 99653678, "body": "How would you have passed your <code>Winter</code> object via an Intent? What a Bundle accepts and what an Intent accepts are the same."}, {"owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560222110, "post_id": 56535379, "comment_id": 99654377, "body": "@ianhanniballake I edited my original question to show how I would handle it with intents. There doesn&#39;t seem to be a bundle.putExtra() function like with intents."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560222328, "post_id": 56535379, "comment_id": 99654408, "body": "What do you think the <code>put</code> methods of <code>Bundle</code> give you but the exact things you use with <code>putExtra</code>?"}, {"owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1560222515, "post_id": 56535379, "comment_id": 99654447, "body": "I do not understand your question."}], "answers": [{"comments": [{"owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "edited": false, "score": 0, "creation_date": 1560224317, "post_id": 56536037, "comment_id": 99654737, "body": "Are you telling me that I should not pass the object itself from A -&gt; B (which is what I was going for), but break it apart and pass all the value types from A -&gt; B? The winter object I posted has a bunch of properties stripped from it to make the example easier."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "edited": false, "score": 1, "creation_date": 1560227083, "post_id": 56536037, "comment_id": 99655273, "body": "Regular objects can&#39;t be put into a Bundle (or, by extension, an Intent). You can have your object implement <a href=\"https://developer.android.com/reference/android/os/Parcelable\" rel=\"nofollow noreferrer\">Parcelable</a>, which does allow it to be stored in a Bundle (there&#39;s the handy <a href=\"https://proandroiddev.com/parcelable-in-kotlin-here-comes-parcelize-b998d5a5fcac\" rel=\"nofollow noreferrer\">Parcelize Kotlin feature</a> that makes this a lot easier), but note that the amount of data you can put in a Bundle is <b>extremely limited</b>, so large objects and large lists shouldn&#39;t be put in Bundles (you should store them in a database and pass an id instead)."}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 3, "last_activity_date": 1560223313, "creation_date": 1560223313, "answer_id": 56536037, "question_id": 56535379, "link": "https://stackoverflow.com/questions/56535379/using-intent-to-pass-data-with-android-jetpack-navigation-graph/56536037#56536037", "title": "Using intent to pass data with Android jetpack navigation graph", "body": "<p>The Extras of an Intent are stored in a Bundle. For every type that is acceptable in <code>putExtra()</code> there is an equivalent method on Bundle that accepts that same type.</p>\n\n<p>For example, for a String, you'd use <code>putString</code>. Enum types are <code>Serializable</code>, so you'd use <code>putSerializable</code>. Similarly for every other type.</p>\n"}], "owner": {"reputation": 3029, "user_id": 4220994, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2b32f55cd8027464c404accbe200ba72?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/4220994/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 56536037, "answer_count": 1, "score": 1, "last_activity_date": 1571360677, "creation_date": 1560217189, "last_edit_date": 1560222014, "question_id": 56535379, "link": "https://stackoverflow.com/questions/56535379/using-intent-to-pass-data-with-android-jetpack-navigation-graph", "title": "Using intent to pass data with Android jetpack navigation graph", "body": "<p>I have finished implementing this new Android jetpack navigation graph into a project. I have a <code>ListView</code> that has a detailed view, defined in the nav graph.</p>\n\n<p>The transitions to &amp; from from view to view with this nav graph work great, however, I am stuck now trying to pass a data object from the <code>ListView</code> (View A, comprised of <code>Winter</code> objects) to the detailed view (View B). Before using Jetpack, this was quite simple with intents and <code>startActivity()</code></p>\n\n<p>Winter object:</p>\n\n<pre><code>class Winter(sportName:String, sportType: SportType, sportEquipment:ArrayList&lt;Equipment&gt; ) {\n\n    var sportName = \"\"\n    var sportType = WinterModel.SportType.board\n    var sportEquipment = arrayListOf&lt;Equipment&gt;()\n\n    enum class SportType(val type: String){\n        board(\"Board\"),\n        ski(\"Ski\"),\n        engine(\"Engine\")\n    }\n\n    init {\n        this.sportName = sportName\n        this.sportType = sportType\n        this.sportEquipment = sportEquipment\n    }\n\n}\n</code></pre>\n\n<p>I would like to be able to do something like:</p>\n\n<pre><code>val tappedSport = winterSport[position]\nval bundle = Bundle()\nbundle.putString(SPORT, tappedSport)\nNavigation.findNavController(view!!).navigate(R.id.winterSportDetails,bundle)\n</code></pre>\n\n<p><em>Obviously that won't work, because winterSport[position] is not a string...</em> </p>\n\n<p><strong>How can I pass the tapped Winter object to View B using jetpack navigation?</strong></p>\n\n<p><strong>Edit: Here's how I would have done it with intents.</strong></p>\n\n<p>View A (Sending)</p>\n\n<pre><code>listView.setOnItemClickListener { _, _, position, _ -&gt;\n\n    val tappedSport = winterSport[position]\n\n    val detailIntent = DetailActivity.newIntent(context, tappedSport)\n\n    startActivity(detailIntent)\n}\n</code></pre>\n\n<p>View B (Receiving)</p>\n\n<pre><code>companion object {\n\n    const val SPORT_NAME = \"SPORT_NAME\"\n    const val SPORT_TYPE = \"SPORT_TYPE\"\n    const val SPORT_EQUIPMENT = \"SPORT_EQUIPMENT\"\n\n    fun newIntent(context: Context, sport: WinterModel): Intent {\n        val detailIntent = Intent(context, DetailActivity::class.java)\n\n        detailIntent.putExtra(SPORT_NAME, sport.sportName)\n        detailIntent.putExtra(SPORT_TYPE, sport.sportType.type)\n        detailIntent.putExtra(SPORT_EQUIPMENT, sport.sportEquipment.gear)\n\n        return detailIntent\n    }\n}\n\n//.. Then just access the info in onViewCreated\n</code></pre>\n"}, {"tags": ["jpa", "kotlin", "enums"], "answers": [{"tags": [], "owner": {"reputation": 45036, "user_id": 20774, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3e32e31d4c24c1558abd6567f2ab60ba?s=128&d=identicon&r=PG", "display_name": "James McMahon", "link": "https://stackoverflow.com/users/20774/james-mcmahon"}, "is_accepted": false, "score": 2, "last_activity_date": 1560213973, "creation_date": 1560213973, "answer_id": 56535078, "question_id": 56535073, "link": "https://stackoverflow.com/questions/56535073/how-do-i-transition-an-entity-to-an-enum-in-jpa/56535078#56535078", "title": "How do I transition an entity to an enum in JPA?", "body": "<p>The same table can be used with the following mapping in the user entity class:</p>\n\n<pre><code>@ElementCollection(fetch = FetchType.EAGER, targetClass = Certificate::class)\n@CollectionTable(name = \"user_certificates\", joinColumns = [JoinColumn(name = \"user_id\")])\n@Column(name = \"certificate_id\")\n@Convert(converter = CertificateEnumConverter::class)\nvar certificates: List&lt;Certificate&gt; = listOf(),\n</code></pre>\n\n<p>The converter looks like,</p>\n\n<pre><code>class CertificateEnumConverter : AttributeConverter&lt;Certificate, Int&gt; {\n  override fun convertToDatabaseColumn(attribute: Certificate?) = attribute!!.id\n\n  override fun convertToEntityAttribute(dbData: Int?) = Certificate.fromId(dbData!!)\n}\n</code></pre>\n"}], "owner": {"reputation": 45036, "user_id": 20774, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3e32e31d4c24c1558abd6567f2ab60ba?s=128&d=identicon&r=PG", "display_name": "James McMahon", "link": "https://stackoverflow.com/users/20774/james-mcmahon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560214070, "creation_date": 1560213916, "last_edit_date": 1560214070, "question_id": 56535073, "link": "https://stackoverflow.com/questions/56535073/how-do-i-transition-an-entity-to-an-enum-in-jpa", "title": "How do I transition an entity to an enum in JPA?", "body": "<p>I have an entity in JPA that an I am interested in transitioning into an enum.</p>\n\n<p>The problem I am facing is that I have a relationship into this table that is mapped by a join table.</p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\ndata class User(\n    @ManyToMany\n    @JoinTable(\n        name = \"user_certificates\",\n        joinColumns = [JoinColumn(name = \"user_id\")],\n        inverseJoinColumns = [JoinColumn(name = \"certificate_id\")]\n    )\n    var certificates: List&lt;Certficate&gt; = listOf()\n)\n</code></pre>\n\n<p>And here is the enum I am interested in transitioning to,</p>\n\n<pre><code>enum class Certificate(val id: Int) {\n  FOO(1),\n  BAR(2),\n  BAZ(3)\n}\n</code></pre>\n\n<p>Is it possible to transition this into an enum that has an id and use the same <code>user_certificates</code> table to store the enums attached to the entity with the existing relationship?</p>\n"}, {"tags": ["android", "kotlin", "adapter", "recyclerview-layout"], "answers": [{"comments": [{"owner": {"reputation": 572, "user_id": 1593416, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/82c907e33544fd45761af717c3c182bf?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/1593416/frank"}, "edited": false, "score": 0, "creation_date": 1617309061, "post_id": 56674102, "comment_id": 118276058, "body": "is this working? i don&#39;t think so"}], "tags": [], "owner": {"reputation": 993, "user_id": 6051346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd2c97825125eab8907e3125cf0cfac?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Narvaez", "link": "https://stackoverflow.com/users/6051346/ivan-narvaez"}, "is_accepted": true, "score": 0, "last_activity_date": 1560970149, "creation_date": 1560970149, "answer_id": 56674102, "question_id": 56534552, "link": "https://stackoverflow.com/questions/56534552/how-can-i-prevent-losing-a-scratchviews-state-when-using-it-together-with-an-ad/56674102#56674102", "title": "How can I prevent losing a ScratchView&#39;s state when using it together with an adapter?", "body": "<p>What I ended up doing was changing the scratchoff library to this one:  'com.goibibo.libs:scratchcardview:0.1.6' ('com.jackpocket:scratchoff:1.3.0' had problems setting the listener inside the OnBindViewHolder method) and making a compromise to only save fully scratched views and not partially scratched ones. Here are the modifications I made:</p>\n\n<p>OnBindViewHolder:</p>\n\n<pre><code>override fun onBindViewHolder(@NonNull holder: ViewHolder, position: Int) {\n    holder.itemView.number.text = mData[position].number\n    var scratchRelativeLayoutView = holder.itemView.scratch_card\n    holder.setIsRecyclable(false)\n\n    if(mData[position].isScratched &amp;&amp; scratchRelativeLayoutView!=null) {\n        scratchRelativeLayoutView.visibility = View.GONE\n        holder.itemView.numberHidden.text = mData[position].number\n        holder.itemView.numberHidden.visibility = View.VISIBLE\n    }\n    else {\n        scratchRelativeLayoutView.setStrokeWidth(5)\n        scratchRelativeLayoutView.setScratchView(R.layout.lyt_scratch) // scratchable layout\n        scratchRelativeLayoutView.setRevealListener(object : ScratchRelativeLayoutView.IRevealListener {\n            override fun onRevealed(tv: ScratchRelativeLayoutView) {\n                mData[position].isScratched = true\n            }\n\n            override fun onRevealPercentChangedListener(siv: ScratchRelativeLayoutView, percent: Float) {\n                if (percent&gt;0.5) {\n                    siv.reveal()\n                }\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>scratch_off_game_item.xml</p>\n\n<pre><code>&lt;FrameLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/achievementItem\"\n    android:layout_width=\"90dp\"\n    android:layout_height=\"90dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/numberHidden\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:fontFamily=\"@font/zing_rust_demo_base\"\n        android:gravity=\"center\"\n        android:text=\"23\"\n        android:background=\"@color/white_scratch_off\"\n        android:textColor=\"@color/black\"\n        android:textSize=\"24sp\"\n        android:layout_gravity=\"center\"/&gt;\n\n    &lt;com.goibibo.libs.views.ScratchRelativeLayoutView\n        android:id=\"@+id/scratch_card\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@color/white_scratch_off\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/number\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:fontFamily=\"@font/zing_rust_demo_base\"\n            android:gravity=\"center\"\n            android:textColor=\"@color/black\"\n            android:textSize=\"24sp\"\n            android:layout_centerInParent=\"true\"/&gt;\n     &lt;/com.goibibo.libs.views.ScratchRelativeLayoutView&gt;\n &lt;/FrameLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 993, "user_id": 6051346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd2c97825125eab8907e3125cf0cfac?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Narvaez", "link": "https://stackoverflow.com/users/6051346/ivan-narvaez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 56674102, "answer_count": 1, "score": 0, "last_activity_date": 1560970149, "creation_date": 1560208198, "last_edit_date": 1560209886, "question_id": 56534552, "link": "https://stackoverflow.com/questions/56534552/how-can-i-prevent-losing-a-scratchviews-state-when-using-it-together-with-an-ad", "title": "How can I prevent losing a ScratchView&#39;s state when using it together with an adapter?", "body": "<p>I'm currently trying to make a scrollable grid of ScratchViews, but the views that have already been scratched by the user, are appearing as not scratched when the user scrolls down and back up again, because the adapter is repainting each of the views back to their original unscratched state.</p>\n\n<p>I've tried the solutions posted here: <a href=\"https://stackoverflow.com/questions/36313079/i-want-my-recyclerview-to-not-recycle-some-items\">I want my RecyclerView to not recycle some items</a>, but preventing the views from being recycled apparently doesn't prevent them from being redrawn.</p>\n\n<p>Here is my code:</p>\n\n<p>Fragment:</p>\n\n<pre><code>class ScratchOffGameFragment : Fragment() { \n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_scratch_off_game, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        var data = ArrayList&lt;ScratchOffGameItem&gt;()\n\n        for (i in 1..20) {\n            var aux = ScratchOffGameItem()\n            data.add(aux)\n        }\n\n        scratchOffGameRecycle.layoutManager = GridLayoutManager(context, 3)\n        val scratchOffGameAdapter = ScratchOffGameAdapter(activity!!,data)\n\n       scratchOffGameRecycle.recycledViewPool.setMaxRecycledViews(1,0);\n       scratchOffGameRecycle.adapter = scratchOffGameAdapter\n    }\n</code></pre>\n\n<p>Adapter:</p>\n\n<pre><code>class ScratchOffGameAdapter(var context: Context, private val mData: ArrayList&lt;ScratchOffGameItem&gt;) : RecyclerView.Adapter&lt;ScratchOffGameAdapter.ViewHolder&gt;() {\n\n    private val mInflater: LayoutInflater = LayoutInflater.from(context)\n    inner class ViewHolder internal constructor(itemView: View) : RecyclerView.ViewHolder(itemView)\n\n    @NonNull\n    override fun onCreateViewHolder(@NonNull parent: ViewGroup, viewType: Int): ViewHolder {\n        val view = mInflater.inflate(R.layout.scratch_off_game_item, parent, false)\n        return ViewHolder(view)\n    }\n\n\n    // binds the data to the TextView in each cell\n    override fun onBindViewHolder(@NonNull holder: ViewHolder, position: Int) {\n        holder.setIsRecyclable(false)\n    }\n\n    override fun onViewAttachedToWindow(holder: ViewHolder) {\n        super.onViewAttachedToWindow(holder)\n        ScratchoffController(context)\n            .setThresholdPercent(0.80)\n            .setTouchRadiusDip(context, 30)\n            .attach(holder.itemView.scratch_view, holder.itemView.scratch_view_behind)\n\n    }\n\n    // total number of cells\n    override fun getItemCount(): Int {\n        return mData.size\n    }\n\n\n    override fun getItemViewType(position: Int): Int {\n        return 1\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Item being painted by the adapter (scratch_off_game_item.xml):</p>\n\n<pre><code>&lt;FrameLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/achievementItem\"\n    android:layout_width=\"110dp\"\n    android:layout_height=\"90dp\"\n    android:layout_gravity=\"center_horizontal\"\n    android:layout_marginLeft=\"30dp\"\n    android:layout_marginTop=\"20dp\"\n    android:layout_marginRight=\"30dp\"\n    android:background=\"@drawable/achievements_border\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" &gt;\n\n        &lt;RelativeLayout\n            android:id=\"@+id/scratch_view_behind\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@color/white\" &gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:fontFamily=\"@font/zing_rust_demo_base\"\n                android:gravity=\"center\"\n                android:text=\"20\"\n                android:textColor=\"@color/black\"\n                android:textSize=\"24sp\"\n                android:layout_centerInParent=\"true\"/&gt;\n        &lt;/RelativeLayout&gt;\n\n        &lt;com.jackpocket.scratchoff.views.ScratchableLinearLayout\n            android:id=\"@+id/scratch_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:gravity=\"center\"\n            android:background=\"@color/gold\" &gt;\n            &lt;ImageView\n                android:layout_width=\"73dp\"\n                android:layout_height=\"42dp\"\n                android:src=\"@drawable/scratch_here_ic\" /&gt;\n        &lt;/com.jackpocket.scratchoff.views.ScratchableLinearLayout&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>And RecyclerView:</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/scratchOffGameRecycle\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_below=\"@id/youWin\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"10dp\"\n    android:layout_marginRight=\"50dp\"\n    android:layout_marginBottom=\"10dp\"\n    android:background=\"@drawable/bg_gold_rectangle\"\n    android:columnWidth=\"100dp\"\n    android:numColumns=\"3\" /&gt;\n</code></pre>\n\n<p>As additional information, the libraries that I've tried using are these: 'com.jackpocket:scratchoff:1.3.0', 'com.github.cooltechworks:ScratchView:v1.1'in conjuction with both recycler and grid views to no avail.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 6, "creation_date": 1560207983, "post_id": 56534513, "comment_id": 99652013, "body": "See <a href=\"https://stackoverflow.com/questions/41617042/how-to-access-activity-this-in-kotlin\">this question</a> for <code>this@MainActivity</code> and <a href=\"https://stackoverflow.com/questions/44773351/what-is-the-it-in-kotlin-lambda-body\">this question</a> for <code>it</code>. For general information on Kotlin, see <a href=\"https://kotlinlang.org/docs/reference/\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference</a>"}, {"owner": {"reputation": 4599, "user_id": 4269149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0Ccc.jpg?s=128&g=1", "display_name": "Sarthak Mittal", "link": "https://stackoverflow.com/users/4269149/sarthak-mittal"}, "edited": false, "score": 0, "creation_date": 1560338531, "post_id": 56534513, "comment_id": 99701454, "body": "I would suggest that you learn the technologies in this order: Java, Android, Kotlin"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6629824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd571a2c26eed7cd4a84a0b187749f0?s=128&d=identicon&r=PG&f=1", "display_name": "Soe Thiha", "link": "https://stackoverflow.com/users/6629824/soe-thiha"}, "is_accepted": false, "score": 1, "last_activity_date": 1560338630, "last_edit_date": 1560338630, "creation_date": 1560338420, "answer_id": 56560972, "question_id": 56534513, "link": "https://stackoverflow.com/questions/56534513/what-are-this-it-activity-in-kotlin-android-exactly/56560972#56560972", "title": "What are this, it, activity in kotlin android exactly?", "body": "<p><code>this</code> is like a <code>this</code> keyword from Java which is a reference to the current object. So, <code>this@MainActivity</code> in Kotlin is equivalent to <code>MainActivity.this</code> in Java. Can read more at <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"nofollow noreferrer\">it</a> is an implicit name of a single parameter in lambda function.</p>\n\n<p><code>activity</code> is like <code>getActivity()</code> when calling from a fragment. It returns the FragmentActivity this calling fragment is currently associated with.</p>\n"}], "owner": {"reputation": 789, "user_id": 8455110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065113883567abb9301a05c86219712f?s=128&d=identicon&r=PG&f=1", "display_name": "Akshdeep Singh", "link": "https://stackoverflow.com/users/8455110/akshdeep-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 389, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560338630, "creation_date": 1560207770, "question_id": 56534513, "link": "https://stackoverflow.com/questions/56534513/what-are-this-it-activity-in-kotlin-android-exactly", "title": "What are this, it, activity in kotlin android exactly?", "body": "<p>I am new to android and following the official Android guide.\nSometimes I can't understand some keywords in the example codes,\nlike <code>it</code>, <code>this</code>, and <code>activity</code>.</p>\n\n<p>Suppose I have to call a dialog like this:</p>\n\n<pre><code>SampleDialog().show(this@MainActivity.supportFragmentManager, null)\n</code></pre>\n\n<p>What does <code>this@Activity</code> mean?</p>\n"}, {"tags": ["android", "kotlin", "base64", "moshi"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560204550, "post_id": 56534089, "comment_id": 99651334, "body": "Where are you getting <code>Base64Utils</code> from? The Android SDK has a <code>Base64</code> class, but not <code>Base64Utils</code> AFAIK. I do not see that class as part of standard Kotlin, either."}, {"owner": {"reputation": 366, "user_id": 2434367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RCdhF.jpg?s=128&g=1", "display_name": "Dhruv Sangvikar", "link": "https://stackoverflow.com/users/2434367/dhruv-sangvikar"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560204697, "post_id": 56534089, "comment_id": 99651366, "body": "from <code>com.google.android.gms.common.util.Base64Utils</code>. It in turn is making a call to <code>Base64</code>"}, {"owner": {"reputation": 1329, "user_id": 786462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4aaf9b744189b30c7d6ee320120201?s=128&d=identicon&r=PG", "display_name": "DataDino", "link": "https://stackoverflow.com/users/786462/datadino"}, "edited": false, "score": 0, "creation_date": 1560206221, "post_id": 56534089, "comment_id": 99651648, "body": "Why are you Base64 encoding a string before it goes over the network? That&#39;s not as a security measure is it?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 1988349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ead8af969eadb65e57b3cb23d841d5a?s=128&d=identicon&r=PG", "display_name": "James Lan", "link": "https://stackoverflow.com/users/1988349/james-lan"}, "is_accepted": false, "score": 0, "last_activity_date": 1560206172, "creation_date": 1560206172, "answer_id": 56534324, "question_id": 56534089, "link": "https://stackoverflow.com/questions/56534089/base64utils-encode-does-not-produce-valid-base64-encoding/56534324#56534324", "title": "Base64Utils.encode does not produce valid base64 encoding", "body": "<p>Are there some line terminators in the encoded string?</p>\n\n<p>The <code>com.google.android.gms.common.util.Base64Utils#encode</code> passes flag <code>0</code> to the <code>Base64#encodeToString</code>. This means the result will be a multi-lined, padded, non url-safed string.</p>\n"}], "owner": {"reputation": 366, "user_id": 2434367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RCdhF.jpg?s=128&g=1", "display_name": "Dhruv Sangvikar", "link": "https://stackoverflow.com/users/2434367/dhruv-sangvikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560206172, "creation_date": 1560204301, "last_edit_date": 1560204931, "question_id": 56534089, "link": "https://stackoverflow.com/questions/56534089/base64utils-encode-does-not-produce-valid-base64-encoding", "title": "Base64Utils.encode does not produce valid base64 encoding", "body": "<p>I am trying to encode a byte array in base64 before sending it over the network. The output of the <code>encode()</code> function below is not a valid base64 because what I read from my research was that the length of the string needs to a multiple of 4. Also, the string is not padded with \"=\" if the length is not a multiple of 4. I am assuming since no one has had this problem before, is there something wrong in the code below which is making the base64 to not be a multiple of 4?</p>\n\n<pre><code>\n    private val messageAdapter = Moshi.Builder()\n        .add(KotlinJsonAdapterFactory())\n        .build()\n        .adapter(RealTimePayload::class.java)\n\n    fun encode(realTimePayload: RealTimePayload): String? {\n        val jsonPayload = messageAdapter.toJson(realTimePayload)\n        val compressedData = zip(jsonPayload)\n        return Base64Utils.encode(compressedData)\n    }\n\n    fun decode(encodedString: String): RealTimePayload? {\n        val gzippedData = Base64Utils.decode(encodedString)\n        val jsonData = unzip(gzippedData)\n        return messageAdapter.fromJson(jsonData)\n    }\n\n    private fun unzip(content: ByteArray): String =\n        GZIPInputStream(content.inputStream()).bufferedReader().use { it.readText() }\n\n    private fun zip(content: String): ByteArray {\n        val bos = ByteArrayOutputStream()\n        GZIPOutputStream(bos).bufferedWriter().use { it.write(content) }\n        return bos.toByteArray()\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong>: I should mention that the final encoded string has some trailing '='s but the length is still not a multiple of 4.\nLet me know if I should provide more information? Thanks.</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 7, "last_activity_date": 1560214798, "creation_date": 1560214798, "answer_id": 56535152, "question_id": 56533497, "link": "https://stackoverflow.com/questions/56533497/how-to-replace-blocking-code-for-reading-bytes-in-kotlin/56535152#56535152", "title": "How to replace blocking code for reading bytes in Kotlin", "body": "<p>Given the reputation of Ktor as a non-blocking, suspending IO framework, I was surprised that apparently for <code>FileItem</code> there is nothing else but the blocking <code>InputStream</code> API to retrieve it. Given that, your only option seems to be delegating to the IO dispatcher:</p>\n\n<pre><code>image = withContext(Dispatchers.IO) { part.streamProvider().readBytes() }\n</code></pre>\n"}], "owner": {"reputation": 1684, "user_id": 6856361, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-reTr7DecElc/AAAAAAAAAAI/AAAAAAAAAoc/tgkHGpJKIq0/photo.jpg?sz=128", "display_name": "Izbassar Tolegen", "link": "https://stackoverflow.com/users/6856361/izbassar-tolegen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2637, "favorite_count": 0, "accepted_answer_id": 56535152, "answer_count": 1, "score": 3, "last_activity_date": 1560214798, "creation_date": 1560200551, "question_id": 56533497, "link": "https://stackoverflow.com/questions/56533497/how-to-replace-blocking-code-for-reading-bytes-in-kotlin", "title": "How to replace blocking code for reading bytes in Kotlin", "body": "<p>I have <code>ktor</code> application which expects file from multipart in code like this:</p>\n\n<pre><code>multipart.forEachPart { part -&gt;\n  when (part) {\n    is PartData.FileItem -&gt; {\n      image = part.streamProvider().readAllBytes()\n    }\n    else -&gt; // irrelevant\n  }\n}    \n</code></pre>\n\n<p>The Intellij IDEA marks <code>readAllBytes()</code> as inappropriate blocking call since ktor operates on top of coroutines. How to replace this blocking call to the appropriate one?</p>\n"}, {"tags": ["kotlin", "parse-platform", "parse-android-sdk"], "comments": [{"owner": {"reputation": 131, "user_id": 6661043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ETmUQ.png?s=128&g=1", "display_name": "Deepak Joshi", "link": "https://stackoverflow.com/users/6661043/deepak-joshi"}, "edited": false, "score": 0, "creation_date": 1561619917, "post_id": 56533208, "comment_id": 100125841, "body": "In subscribe, I need to convert the <code>ParseObject</code> to a <b>subclass</b> of <code>ParseObject</code>. Do you have any info on that. I get a <code>ClassCastExpection</code> when I try to do that."}], "answers": [{"comments": [{"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1560272113, "post_id": 56548163, "comment_id": 99678737, "body": "Yes now it entered in the <code>subscribe</code> ! But I still need to cast it into a <code>List&lt;Lesson&gt;</code>. I already tried the following which is not working : <code>val list = lessons.filterIsInstance&lt;Lesson&gt;()                     if (list.size != lessons.size){                         Log.e(&quot;CAST&quot;, &quot;CAST FAILED&quot;)                     }</code>"}, {"owner": {"reputation": 4660, "user_id": 2797847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68581c16298dfecc62b2b0439573b18d?s=128&d=identicon&r=PG", "display_name": "minhazur", "link": "https://stackoverflow.com/users/2797847/minhazur"}, "reply_to_user": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1560272326, "post_id": 56548163, "comment_id": 99678838, "body": "Casting won&#39;t help inside subscribe, you need to return lessons from <code>getSessions</code> method. You can add that method in your answer so that I can check."}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1560272666, "post_id": 56548163, "comment_id": 99678994, "body": "the getSessions is on the server side and return automatically <code>ParseObject</code>"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1560272862, "post_id": 56548163, "comment_id": 99679070, "body": "But I&#39;m wondering something, why in the example I gave into my post (<code>averageRating</code>) it also returns a <code>ParseObject</code> but the <code>cast</code> to <code>Int</code> is working ?"}, {"owner": {"reputation": 4660, "user_id": 2797847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68581c16298dfecc62b2b0439573b18d?s=128&d=identicon&r=PG", "display_name": "minhazur", "link": "https://stackoverflow.com/users/2797847/minhazur"}, "reply_to_user": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1560275918, "post_id": 56548163, "comment_id": 99680494, "body": "I think that just works for primitives, not for objects. Please, check the answer for the update."}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 1, "creation_date": 1560276329, "post_id": 56548163, "comment_id": 99680659, "body": "Finally after some talk I understood that a <code>ParseObject</code> is like a <code>JSON</code> so I can read data like this : <code>name = parseObject.getString(&quot;name&quot;)</code>"}], "tags": [], "owner": {"reputation": 4660, "user_id": 2797847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68581c16298dfecc62b2b0439573b18d?s=128&d=identicon&r=PG", "display_name": "minhazur", "link": "https://stackoverflow.com/users/2797847/minhazur"}, "is_accepted": true, "score": 1, "last_activity_date": 1560275846, "last_edit_date": 1560275846, "creation_date": 1560270861, "answer_id": 56548163, "question_id": 56533208, "link": "https://stackoverflow.com/questions/56533208/kotlin-parse-com-parse-parseobject-cannot-be-cast-to/56548163#56548163", "title": "Kotlin/Parse : com.parse.ParseObject cannot be cast to", "body": "<p>The following method <code>getSessions</code> is returning a <code>ParseObject</code> instead of returning a <code>Lesson</code> type object. Try to check the type and return appropriate model from that.</p>\n\n<p>Change <code>getLessons</code> return type to this</p>\n\n<pre><code>   ParseObservable.callFunction&lt;List&lt;Any&gt;&gt;(\"getSessions\", params).singleOrError()\n</code></pre>\n\n<p>and treat like this to check return type.</p>\n\n<pre><code>disposables.add(repository.getLessons(false, lesson, dateSelected, position, distance.toDouble())\n                .observeOn(Schedulers.io())\n                .subscribe({ lessons -&gt;\n                    Log.e(\"LESSONS\", lessons.toString())\n                    //removeCanceledLessonsAndEmit(lessons)\n                }, Throwable::printStackTrace)\n        )\n</code></pre>\n\n<p>To get lessons in <code>com.mysapp.mys.common.model.Lesson</code> POJO you can do any of the followings</p>\n\n<ol>\n<li><p>Annotate <code>Lessons</code> class with <code>@ParseClassName(\"Lesson\")</code> <a href=\"https://stackoverflow.com/questions/54194064/com-parse-parseobject-cannot-be-cast-to\">See this answer for details</a></p></li>\n<li><p>Cast parse object to JSON and use gson to convert to Lesson POJO</p></li>\n</ol>\n\n<p>Finally, don't forget to do the necessary changes to this line <strong><em>ParseObservable.callFunction>(\"getSessions\", params).singleOrError()</em></strong></p>\n"}], "owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 56548163, "answer_count": 1, "score": 0, "last_activity_date": 1598051118, "creation_date": 1560199089, "last_edit_date": 1598051118, "question_id": 56533208, "link": "https://stackoverflow.com/questions/56533208/kotlin-parse-com-parse-parseobject-cannot-be-cast-to", "title": "Kotlin/Parse : com.parse.ParseObject cannot be cast to", "body": "<p>I'm trying to do a Parse request but I got this error :</p>\n\n<blockquote>\n  <p>com.parse.ParseObject cannot be cast to\n  com.mysapp.mys.common.model.Lesson</p>\n</blockquote>\n\n<p>but it doesn't enter inside the subscribe after the return of the request.\n<strong>The answer of the server is good because I have the log of it on real-time.</strong></p>\n\n<p>I believe I have a problem when I receive the answer and when I cast implicitly with the lambda. But I don't know how to achieve it in another way.</p>\n\n<pre><code>fun getLessons(coach: Boolean, lessonType: LessonType?, date: Date?, position: LatLng, distance: Double): Single&lt;List&lt;Lesson&gt;&gt; {\n        val params = hashMapOf&lt;String, Any?&gt;()\n        if (lessonType == null){\n            params[\"lessonType\"] = \"\"\n        }\n        else{\n\n        }\n        params[\"lessonType\"] = 12\n\n        params[\"date\"] = date\n        params[\"geoPoint\"] = ParseGeoPoint(44.557514, -0.86099)\n        params[\"within\"] = 4935.772\n        Log.e(\"params : \", \"lessonType: \" + params.get(\"lessonType\") + \"| date : \" + params.get(\"date\").toString()\n                + \" | geoPoint: \" + params.get(\"geoPoint\") + \" | within: \"+ params.get(\"within\"))\n        return ParseObservable.callFunction&lt;List&lt;Lesson&gt;&gt;(\"getSessions\", params).singleOrError()\n    }\n</code></pre>\n\n<p>how I treat it : </p>\n\n<pre><code>disposables.add(repository.getLessons(false, lesson, dateSelected, position, distance.toDouble())\n                .observeOn(Schedulers.io())\n                .subscribe({ lessons -&gt;\n                    Log.e(\"LESSONS\", lessons.toString())\n                    removeCanceledLessonsAndEmit(lessons)\n                }, Throwable::printStackTrace)\n        )\n</code></pre>\n\n<p>I don't know how Parse is working so that's why I have copied on this </p>\n\n<p>request who already exists in the project :</p>\n\n<pre><code>fun getAverageRating(coachId: String): Single&lt;HashMap&lt;String, Int&gt;&gt; {\n        val params = hashMapOf&lt;String, String&gt;()\n        params[\"coachId\"] = coachId\n        return ParseObservable.callFunction&lt;HashMap&lt;String, Int&gt;&gt;(\"getAverageRating\", params).singleOrError()\n    }\n</code></pre>\n\n<p>how it's treated :</p>\n\n<pre><code>disposables.add(repository.getAverageRating(coachId)\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ rating -&gt;\n                    if (rating &gt; 0) {\n                        ratingBar.visibility = View.VISIBLE\n                        ratingBar.rating = rating\n                    } else\n                        ratingBar.visibility = View.GONE\n\n                }, Throwable::printStackTrace)\n        )\n</code></pre>\n\n<p>If you need any details feel free to ask me.</p>\n"}, {"tags": ["kotlin", "lambda", "higher-order-functions"], "answers": [{"comments": [{"owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "edited": false, "score": 0, "creation_date": 1560198401, "post_id": 56533055, "comment_id": 99649460, "body": "is there a way to call <code>acceptor</code> without a parameter?"}, {"owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "edited": false, "score": 0, "creation_date": 1560198511, "post_id": 56533055, "comment_id": 99649489, "body": "btw thanks for understanding the question. Other people I ask keep thinking I am talking about passing a function as a parameter -- even Google searches found nothing."}], "tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": true, "score": 2, "last_activity_date": 1560200853, "last_edit_date": 1560200853, "creation_date": 1560198128, "answer_id": 56533055, "question_id": 56532832, "link": "https://stackoverflow.com/questions/56532832/calling-function-that-has-parameter-inside-lambda-in-kotlin/56533055#56533055", "title": "Calling function that has parameter inside lambda in Kotlin", "body": "<pre><code>class MyClass {\n\n    fun myFun(book:Book) {\n        ...\n    }\n\n    fun otherThatCallsAccept() {\n        /* other stuff */\n        acceptor(::myFun)\n    }\n}\n</code></pre>\n\n<p>Edit: you can't call <code>acceptor</code> without a parameter, but you can define a default empty lambda,</p>\n\n<pre><code>fun acceptor(task: (book:Book) -&gt; Unit = {}) {\n    /* body here */\n}\n</code></pre>\n"}], "owner": {"reputation": 737, "user_id": 8549166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ce5d0ac4f0d1d4a98871f90d51d4f662?s=128&d=identicon&r=PG&f=1", "display_name": "salyela", "link": "https://stackoverflow.com/users/8549166/salyela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 56533055, "answer_count": 1, "score": 0, "last_activity_date": 1560200853, "creation_date": 1560196888, "question_id": 56532832, "link": "https://stackoverflow.com/questions/56532832/calling-function-that-has-parameter-inside-lambda-in-kotlin", "title": "Calling function that has parameter inside lambda in Kotlin", "body": "<p>I have a Kotlin function <code>fun myFun(book:Book){...}</code>. How do I pass <code>myFun</code> to a function that accepts a lambda?</p>\n\n<p>fun acceptor(task: (book:Book) -> Unit){\n     var someBook = ...\n     ...\n     task(someBook)\n   }</p>\n"}, {"tags": ["java", "multithreading", "kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1560197144, "creation_date": 1560197144, "answer_id": 56532880, "question_id": 56532550, "link": "https://stackoverflow.com/questions/56532550/kotlin-coroutinedispatcher-creates-additional-thread-instead-of-rethrowing-rejec/56532880#56532880", "title": "Kotlin CoroutineDispatcher creates additional thread instead of rethrowing RejectedExecutionException", "body": "<p>A <code>Dispatcher</code> is not an <code>Executor</code> and has a very different contract and purpose. Especially, it is not an option to fail to dispatch the resumption of a coroutine. </p>\n\n<p>In analogy to Java threads, it would be equivalent to <code>Thread.destroy()</code>, which makes the thread disappear without a trace. No <code>finally</code> blocks get executed, no <code>synchronized</code> blocks get exited from, because the thread doesn't experience any exception that makes it complete. <code>Thread.destroy()</code> has been removed from Java for a very good reason.</p>\n\n<p>Note that there's no user code you can throw the <code>RejectedExecutionException</code> to. You have a very narrow special case where the coroutines don't suspend at all, they just get started. This is the only reason your analogy to task submission seems reasonable.</p>\n"}], "owner": {"reputation": 1078, "user_id": 1350552, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/52e045ba689753ed1814f0d62310a21c?s=128&d=identicon&r=PG", "display_name": "Victor", "link": "https://stackoverflow.com/users/1350552/victor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560197144, "creation_date": 1560195390, "question_id": 56532550, "link": "https://stackoverflow.com/questions/56532550/kotlin-coroutinedispatcher-creates-additional-thread-instead-of-rethrowing-rejec", "title": "Kotlin CoroutineDispatcher creates additional thread instead of rethrowing RejectedExecutionException", "body": "<p>Here's an example:</p>\n\n<pre><code>// max 1 pending task in queue\nval queue = LinkedBlockingQueue&lt;Runnable&gt;(1)\n// max 1 thread / 1 active task \nval executor = ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, queue)\n\nval start = System.currentTimeMillis()\nfun run() {\n    val millis = System.currentTimeMillis() - start\n    val thread = Thread.currentThread().name\n    println(\"executing after $millis ms on thread $thread\")\n    Thread.sleep(3000)\n}\n\nexecutor.execute { run() }\nexecutor.execute { run() }\n// executor.execute { run() } // RejectedExecutionException, ok\n\nThread.sleep(10_000)\n\nval job = SupervisorJob()\nval dispatcher = executor.asCoroutineDispatcher()\nval exceptionHandler = CoroutineExceptionHandler { _, _ -&gt;\n    println(\"never invoked\")\n}\n\nval scope = CoroutineScope(job + dispatcher + exceptionHandler)\n\nscope.launch { run() }\nscope.launch { run() }\nscope.launch { run() } // !\n</code></pre>\n\n<p>The last line causes a new thread to be created instead of throwing <code>RejectedExecutionException</code> (or invoking <code>exceptionHandler</code>):</p>\n\n<p>executing after 3 ms on thread pool-1-thread-1<br>\nexecuting after 3006 ms on thread pool-1-thread-1<br>\nexecuting after 10063 ms on thread pool-1-thread-1<br>\nexecuting after 10079 ms on thread kotlinx.coroutines.DefaultExecutor<br>\nexecuting after 13066 ms on thread pool-1-thread-1  </p>\n\n<p>The code above should fail in case the queue is full, but I see no way to implement it with Kotlin coroutines properly: using a custom <code>RejectedExecutionHandler</code> to throw a different exception helps to achieve the desired behavior but violates <code>Executor</code>/<code>RejectedExecutionHandler</code> contract and may just break other code instead.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1560195403, "post_id": 56532466, "comment_id": 99648374, "body": "Any two projects cannot have an app with the same application ID and SHA-1 hash.  The old one has to be deleted, or the new one must be different in some way."}, {"owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1560195579, "post_id": 56532466, "comment_id": 99648432, "body": "That&#39;s not the problem, i will update the question"}, {"owner": {"reputation": 2512, "user_id": 10635880, "user_type": "registered", "profile_image": "https://graph.facebook.com/961118704088155/picture?type=large", "display_name": "Vedprakash Wagh", "link": "https://stackoverflow.com/users/10635880/vedprakash-wagh"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 3, "creation_date": 1560196054, "post_id": 56532466, "comment_id": 99648622, "body": "@DougStevenson, well, he questioned at first, the duplicate ID wasn&#39;t a thing at first, I answered his first question, didn&#39;t solve anything, so we had a teamviewer session and we both checked the code for firebase connectivity like 10 times to see if there were any errors, there were none. And this point we both gave up and I told him to add new question. It has something to do with firebase itself, I don&#39;t know if it helps. His app is literally not connecting to firebase even after doing everything."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1560196179, "post_id": 56532466, "comment_id": 99648667, "body": "If you&#39;re expecting the Analytics stats to be updated instantly, that&#39;s not how it works.  It takes time to update the console.  If it really isn&#39;t updating at all after waiting a day, then contact Firebase support directly.  <a href=\"https://support.google.com/firebase/contact/support\" rel=\"nofollow noreferrer\">support.google.com/firebase/contact/support</a>"}, {"owner": {"reputation": 2512, "user_id": 10635880, "user_type": "registered", "profile_image": "https://graph.facebook.com/961118704088155/picture?type=large", "display_name": "Vedprakash Wagh", "link": "https://stackoverflow.com/users/10635880/vedprakash-wagh"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1560196379, "post_id": 56532466, "comment_id": 99648719, "body": "@DougStevenson Nope, it&#39;s not stats that&#39;s giving problem. Everything else is not getting connected to the app. Not receiving notifications from Firebase, I even checked the code for notifications, everything is correct. I wanted to add bounty, but can&#39;t do that for like 2 days."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1560196488, "post_id": 56532466, "comment_id": 99648780, "body": "Contact Firebase support."}, {"owner": {"reputation": 825, "user_id": 8244025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDlH7.jpg?s=128&g=1", "display_name": "dev.for.fun", "link": "https://stackoverflow.com/users/8244025/dev-for-fun"}, "edited": false, "score": 1, "creation_date": 1560367247, "post_id": 56532466, "comment_id": 99717173, "body": "Make sure that you&#39;re using updated SDK versions, your google-services.json file is updated and try running the app using a physical device. Those were the common items I&#39;ve done to solve that last step."}, {"owner": {"reputation": 1282, "user_id": 10003284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Fv0.jpg?s=128&g=1", "display_name": "milad salimi", "link": "https://stackoverflow.com/users/10003284/milad-salimi"}, "edited": false, "score": 0, "creation_date": 1589282445, "post_id": 56532466, "comment_id": 109225054, "body": "Did you solve your problem?"}, {"owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "edited": false, "score": 0, "creation_date": 1589294365, "post_id": 56532466, "comment_id": 109232421, "body": "yes, i was using the wrong .json file"}], "owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3165, "favorite_count": 0, "closed_date": 1560195295, "answer_count": 0, "score": 5, "last_activity_date": 1560195614, "creation_date": 1560195031, "last_edit_date": 1560195614, "question_id": 56532466, "link": "https://stackoverflow.com/questions/56532466/firebase-conectivity-issue-android", "closed_reason": "Duplicate", "title": "Firebase conectivity issue - Android", "body": "<p>I have a Firebase project that already has an iOS app. I have added an android app to the project. It gets stuck on this step:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xERA0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xERA0.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have <code>uninstalled/reinstalled/clean cache/rebuild/burn emulator, buy another one/I verified that the SHA-1 is correctly for the build variant that I have added to the console/etc.</code> it still remained stuck. I have also deleted the app from the project and added it again several times. </p>\n\n<p>With another account I have created another Firebase project, then I have created a new android app that I have added (<em>same steps as above</em>) to the new Firebase project and it worked (<em>for the new app with the new project</em>).</p>\n\n<p>But for the existing Firebase project with the existing android app that I have, no matter what I'ved done it keeps saying \"<em>Checking if the app has communicated with our servers. You may need to uninstall and reinstall your app.</em>\" </p>\n\n<p>In the end I have clicked <em>Skip this step</em></p>\n\n<p><strong>The problem is that the app it is not linked with the Firebase</strong>, when I look in the console I still see 0 active devices, but I should see 2 devices that I have tested on:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mNmJw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mNmJw.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have added the exactly versions from here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ERi5V.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ERi5V.png\" alt=\"enter image description here\"></a></p>\n\n<p>What should I look for, <strong>what can be the possible causes for that app not being connected with Firebase?</strong></p>\n"}, {"tags": ["kotlin", "proguard", "obfuscation", "decompiling"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1560243316, "post_id": 56532415, "comment_id": 99661675, "body": "I think any Java .jar/.class obfuscator should work.  However, you should note that that&#39;s likely to break or significantly impact anything that depends upon method, field, and (if you obfuscate those too) class names, including reflection, dependency injection, logs, stack traces, &amp;c.  And it can&#39;t stop people decompiling the code itself."}, {"owner": {"reputation": 88, "user_id": 1558070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8313b830799a0f8c2ca3fa62f916d9a?s=128&d=identicon&r=PG", "display_name": "user1558070", "link": "https://stackoverflow.com/users/1558070/user1558070"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1560259123, "post_id": 56532415, "comment_id": 99670944, "body": "Finally used R8 instead Proguard with same rules and it worked on dexing step, but same classes still have this annotation with class, method and parameters details. I think that&#39;s huge security gap in Kotlin language and should be fixed somehow. Not sure if this metadata are still in use, as real names are not longer used in code."}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1615390927, "post_id": 56532415, "comment_id": 117676884, "body": "We don&#39;t know what your R8/ProGuard rules are, e.g. if your <code>keep</code> rules are too broad."}, {"owner": {"reputation": 88, "user_id": 1558070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8313b830799a0f8c2ca3fa62f916d9a?s=128&d=identicon&r=PG", "display_name": "user1558070", "link": "https://stackoverflow.com/users/1558070/user1558070"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1616417834, "post_id": 56532415, "comment_id": 117987462, "body": "@Michael This is definitely not about <code>keep</code> rules.  As mentioned above - Metadata is removed in dexing step (part of apk build)."}], "answers": [{"tags": [], "owner": {"reputation": 968, "user_id": 2097259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284c592a8ec68b505650b48d3f1548a6?s=128&d=identicon&r=PG", "display_name": "Oliver Jonas", "link": "https://stackoverflow.com/users/2097259/oliver-jonas"}, "is_accepted": false, "score": 0, "last_activity_date": 1615386031, "creation_date": 1615386031, "answer_id": 66566619, "question_id": 56532415, "link": "https://stackoverflow.com/questions/56532415/kotlin-disable-metadata-annotation/66566619#66566619", "title": "Kotlin disable metadata annotation", "body": "<p>I\u2019ve created 'unmeta', an Android Gradle plug-in that removes all Kotlin <code>@Metadata</code> and <code>@DebugMetadata</code> annotations for release builds.</p>\n<p>You can find it here: <a href=\"https://github.com/oliver-jonas/unmeta\" rel=\"nofollow noreferrer\">https://github.com/oliver-jonas/unmeta</a></p>\n<p>It uses ASM and operates directly on the compiled bytecode.</p>\n"}], "owner": {"reputation": 88, "user_id": 1558070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8313b830799a0f8c2ca3fa62f916d9a?s=128&d=identicon&r=PG", "display_name": "user1558070", "link": "https://stackoverflow.com/users/1558070/user1558070"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1615386031, "creation_date": 1560194785, "last_edit_date": 1560249756, "question_id": 56532415, "link": "https://stackoverflow.com/questions/56532415/kotlin-disable-metadata-annotation", "title": "Kotlin disable metadata annotation", "body": "<p>Is there any way to disable Kotlin metadata or just obfuscate them? It's added during compilation.\nWhole code is well obfuscated but Kotlin library named \"kotlin-reflect.jar\" leaves method details like class name, method and parameters with type.</p>\n\n<blockquote>\n  <p>@Metadata(mv = {1, 1, 13}, bv = {1, 0, 3}, k = 1, d1 = \n  {\"\\000\\022\\n\\002\\030\\002\\n\\002\\030\\002\\n\\000\\n\\002\\020\\016\\n\\002\\b\\002\\030\\0002\\0020\\001B\\r\\022\\006\\020\\002\\032\\0020\\003?\\006\\002\\020\\004R\\016\\020\\002\\032\\0020\\003X?\\004?\\006\\002\\n\\000\ufffd\\006\\005\"}, \n  d2 = {\"Lcom/test/SomeException;\", \"Lcom/test/SomeException;\", \"errorMessage\", \"\", \"(Ljava/lang/String;)V\", \"build\"})\n  public final class SomeException extends Exception {\n    public SomeException(@NotNull String paramString) { super(paramString); this.errorMessage = paramString; }\n    private final String errorMessage;\n  }</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1759, "user_id": 974184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e2f97a8d3cae8511952cb3eda041027?s=128&d=identicon&r=PG", "display_name": "Rodrigo Queiroz", "link": "https://stackoverflow.com/users/974184/rodrigo-queiroz"}, "edited": false, "score": 0, "creation_date": 1560207349, "post_id": 56531647, "comment_id": 99651888, "body": "Have you tried using <code>runBlocking</code>? Coroutines are asynchronous!"}, {"owner": {"reputation": 707, "user_id": 7513683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJDnK.jpg?s=128&g=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/7513683/mitch"}, "reply_to_user": {"reputation": 1759, "user_id": 974184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e2f97a8d3cae8511952cb3eda041027?s=128&d=identicon&r=PG", "display_name": "Rodrigo Queiroz", "link": "https://stackoverflow.com/users/974184/rodrigo-queiroz"}, "edited": false, "score": 0, "creation_date": 1560277934, "post_id": 56531647, "comment_id": 99681364, "body": "I have yes. Still getting <code>Wanted but not invoked</code>. I think I need to properly handle the scope (instead of using globalScope) but alas I don&#39;t know what the proper way is."}], "answers": [{"comments": [{"owner": {"reputation": 707, "user_id": 7513683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJDnK.jpg?s=128&g=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/7513683/mitch"}, "edited": false, "score": 0, "creation_date": 1560277762, "post_id": 56546767, "comment_id": 99681293, "body": "Yes, I&#39;ve tried that.  That will block the thread for any suspend functions called, however, the function is within a launch so it doesn&#39;t work... :(  Still getting: <code>Wanted but not invoked</code>. If I put a delay before the verify it works, but I don&#39;t want to do that!"}], "tags": [], "owner": {"reputation": 146, "user_id": 10031641, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-noC4KUx4kvI/AAAAAAAAAAI/AAAAAAAAA6g/KxRh2AU7kxg/photo.jpg?sz=128", "display_name": "Maxim B&#238;rcu", "link": "https://stackoverflow.com/users/10031641/maxim-b%c3%aercu"}, "is_accepted": false, "score": 2, "last_activity_date": 1560265886, "creation_date": 1560265886, "answer_id": 56546767, "question_id": 56531647, "link": "https://stackoverflow.com/questions/56531647/android-kotlin-coroutine-unittesting/56546767#56546767", "title": "Android Kotlin Coroutine UnitTesting", "body": "<p>Yeah as Rodrigo Queiroz mentioned, run blocking will solve the issue.</p>\n\n<pre><code>@Test\nfun onReceive_ValidAlarm_StartsTriggerActivity() = runBlockingTest {\n    val alarm = Alarm().apply { id = 100 }\n    val intent: Intent = mock {\n        on { getIntExtra(any(), any()) }.thenReturn(alarm.id)\n    }\n\n    whenever(alarmRepository.getAlarmById(alarm.id)).thenReturn(alarm)\n\n    alarmBroadcastReceiver.onReceive(context, intent)\n\n    verify(context).startActivity(any())\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 707, "user_id": 7513683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJDnK.jpg?s=128&g=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/7513683/mitch"}, "edited": false, "score": 0, "creation_date": 1560281628, "post_id": 56550500, "comment_id": 99682942, "body": "So basically, you&#39;d inject your ContextProvider and use it as a threadPool. Fair play. Also, I tried doing the same - inject the dispatchers and use Unconfined in my tests and everything looks good! - Thanks!"}, {"owner": {"reputation": 1759, "user_id": 974184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e2f97a8d3cae8511952cb3eda041027?s=128&d=identicon&r=PG", "display_name": "Rodrigo Queiroz", "link": "https://stackoverflow.com/users/974184/rodrigo-queiroz"}, "reply_to_user": {"reputation": 707, "user_id": 7513683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJDnK.jpg?s=128&g=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/7513683/mitch"}, "edited": false, "score": 0, "creation_date": 1560281832, "post_id": 56550500, "comment_id": 99683026, "body": "I use <code>CoroutineScope</code> in my ViewModels so that I can control the lifecycle of the job and then use the CoroutineContext there whenever I make calls."}], "tags": [], "owner": {"reputation": 1759, "user_id": 974184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e2f97a8d3cae8511952cb3eda041027?s=128&d=identicon&r=PG", "display_name": "Rodrigo Queiroz", "link": "https://stackoverflow.com/users/974184/rodrigo-queiroz"}, "is_accepted": true, "score": 7, "last_activity_date": 1563232877, "last_edit_date": 1563232877, "creation_date": 1560281026, "answer_id": 56550500, "question_id": 56531647, "link": "https://stackoverflow.com/questions/56531647/android-kotlin-coroutine-unittesting/56550500#56550500", "title": "Android Kotlin Coroutine UnitTesting", "body": "<p>I see, You will have to use an <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-dispatchers/-unconfined.html\" rel=\"noreferrer\"><code>Unconfined</code></a> dispatcher:</p>\n\n<blockquote>\n  <p><code>val Unconfined: CoroutineDispatcher (source)</code></p>\n  \n  <p>A coroutine dispatcher that is not confined to any specific thread. It executes the initial continuation of a coroutine in the current call-frame and lets the coroutine resume in whatever thread that is used by the corresponding suspending function, without mandating any specific threading policy. Nested coroutines launched in this dispatcher form an event-loop to avoid stack overflows.</p>\n  \n  <p>Documentation sample:</p>\n  \n  <pre><code>withContext(Dispatcher.Unconfined) {\n   println(1)\n   withContext(Dispatcher.Unconfined) { // Nested unconfined\n       println(2)\n   }\n   println(3)\n}\nprintln(\"Done\")\n</code></pre>\n</blockquote>\n\n<p>For my ViewModel tests, I pass a coroutine context to the ViewModel constructor so that I can switch between <code>Unconfined</code> and other dispatchers e.g. <code>Dispatchers.Main</code> and <code>Dispatchers.IO</code>.</p>\n\n<p>Coroutine context for tests:</p>\n\n<pre><code>@ExperimentalCoroutinesApi\nclass TestContextProvider : CoroutineContextProvider() {\n    override val Main: CoroutineContext = Unconfined\n    override val IO: CoroutineContext = Unconfined\n}\n</code></pre>\n\n<p>Coroutine context for the actual ViewModel implementation:</p>\n\n<pre><code>open class CoroutineContextProvider {\n    open val Main: CoroutineContext by lazy { Dispatchers.Main }\n    open val IO: CoroutineContext by lazy { Dispatchers.IO }\n}\n</code></pre>\n\n<p>ViewModel:</p>\n\n<pre><code>@OpenForTesting\nclass SampleViewModel @Inject constructor(\n        val coroutineContextProvider: CoroutineContextProvider\n) : ViewModel(), CoroutineScope {\n\n    private val job = Job()\n\n    override val coroutineContext: CoroutineContext = job + coroutineContextProvider.Main\n    override fun onCleared() = job.cancel()\n\n    fun fetchData() {\n        launch {\n            val response = withContext(coroutineContextProvider.IO) {\n                repository.fetchData()\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<h3>Update</h3>\n\n<p>As of coroutine-core version <code>1.2.1</code> you can use <code>runBlockingTest</code>:</p>\n\n<p>Dependencies:</p>\n\n<pre><code>def coroutines_version = \"1.2.1\"\nimplementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines_version\"\ntestImplementation \"org.jetbrains.kotlinx:kotlinx-coroutines-test:$coroutines_version\"\n</code></pre>\n\n<p>e.g:</p>\n\n<pre><code>@Test\nfun `sendViewState() sends displayError`(): Unit = runBlockingTest {\n    Dispatchers.setMain(Dispatchers.Unconfined)\n    val apiResponse = ApiResponse.success(data)\n    whenever(repository.fetchData()).thenReturn(apiResponse) \n    viewModel.viewState.observeForever(observer)\n    viewModel.processData()\n    verify(observer).onChanged(expectedViewStateSubmitError)\n}\n</code></pre>\n"}], "owner": {"reputation": 707, "user_id": 7513683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dJDnK.jpg?s=128&g=1", "display_name": "Mitch", "link": "https://stackoverflow.com/users/7513683/mitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 2, "accepted_answer_id": 56550500, "answer_count": 2, "score": 2, "last_activity_date": 1563232877, "creation_date": 1560191002, "last_edit_date": 1560278075, "question_id": 56531647, "link": "https://stackoverflow.com/questions/56531647/android-kotlin-coroutine-unittesting", "title": "Android Kotlin Coroutine UnitTesting", "body": "<p>I've got a broadcastReceiver that starts a coroutine and I am trying to unit test that...</p>\n\n<p>The broadcast:</p>\n\n<pre><code>class AlarmBroadcastReceiver: BroadcastReceiver() {\n\noverride fun onReceive(context: Context?, intent: Intent?) {\n    Timber.d(\"Starting alarm from broadcast receiver\")\n    //inject(context) Don't worry about this, it's mocked out\n\n    GlobalScope.launch {\n        val alarm = getAlarm(intent)\n        startTriggerActivity(alarm, context)\n    }\n}\n\nprivate suspend fun getAlarm(intent: Intent?): Alarm {\n    val alarmId = intent?.getIntExtra(AndroidAlarmService.ALARM_ID_KEY, -1)\n    if (alarmId == null || alarmId &lt; 0) {\n        throw RuntimeException(\"Cannot start an alarm with an invalid ID.\")\n    }\n\n    return withContext(Dispatchers.IO) {\n        alarmRepository.getAlarmById(alarmId)\n    }\n}\n</code></pre>\n\n<p>And here's the test:</p>\n\n<pre><code>@Test\nfun onReceive_ValidAlarm_StartsTriggerActivity() {\n    val alarm = Alarm().apply { id = 100 }\n    val intent: Intent = mock {\n        on { getIntExtra(any(), any()) }.thenReturn(alarm.id)\n    }\n\n    whenever(alarmRepository.getAlarmById(alarm.id)).thenReturn(alarm)\n\n    alarmBroadcastReceiver.onReceive(context, intent)\n\n    verify(context).startActivity(any())\n}\n</code></pre>\n\n<p>What's happening is that the function I'm verifying is never being called. The test ends before the coroutine returns... I'm aware that <code>GlobalScope</code> is bad to use, but I'm not sure how else to do it. </p>\n\n<p>EDIT 1:\nIf I put a delay before the <code>verify</code>, it seems to work, as it allows time for the coroutine to finish and return, however, I don't want to have test relying on delay/sleep... I think the solution is to properly introduce a scope instead of using <code>GlobalScope</code> and control that in the test. Alas, I have no clue what is the convention for declaring coroutine scopes.</p>\n"}, {"tags": ["android", "node.js", "kotlin", "multer", "okhttp3"], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 10994665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13062583d15e7b2a6bcf5c96f7a30a78?s=128&d=identicon&r=PG&f=1", "display_name": "Rizki Rakasiwi", "link": "https://stackoverflow.com/users/10994665/rizki-rakasiwi"}, "is_accepted": false, "score": 0, "last_activity_date": 1564339831, "creation_date": 1564339831, "answer_id": 57244003, "question_id": 56531478, "link": "https://stackoverflow.com/questions/56531478/how-to-upload-image-file-from-imageview-to-nodejs-server-multer-using-okhttp/57244003#57244003", "title": "how to upload image file from ImageView to nodejs server (multer) using okhttp? Kotlin", "body": "<p>Hope this help</p>\n\n<pre><code>    val url = getString(R.string.urlUpload)\n    val MEDIA_TYPE_JPEG = MediaType.parse(\"image/jpeg\")\n\n    val bitmap = (img_register.drawable as BitmapDrawable).bitmap\n      val baos = ByteArrayOutputStream()\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, baos)\n   val bitmapByteArray = baos.toByteArray()\n  val file = Base64.encodeToString(bitmapByteArray,Base64.DEFAULT)\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 10994665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13062583d15e7b2a6bcf5c96f7a30a78?s=128&d=identicon&r=PG&f=1", "display_name": "Rizki Rakasiwi", "link": "https://stackoverflow.com/users/10994665/rizki-rakasiwi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564339831, "creation_date": 1560190327, "question_id": 56531478, "link": "https://stackoverflow.com/questions/56531478/how-to-upload-image-file-from-imageview-to-nodejs-server-multer-using-okhttp", "title": "how to upload image file from ImageView to nodejs server (multer) using okhttp? Kotlin", "body": "<p>I have written code to upload images to the server using okhttp and kotlin, that is, the user takes a picture through the camera then displays the image in the imageView when the user clicks the send button, I want the image from ImageView to be sent to the server, but I don't know how to change the image from ImageView be a file that can be sent to the server, please see my code for more details</p>\n\n<p>this is my kotlin code</p>\n\n<pre><code> fun uploadImage(url:String, image:File, imageName:String){\n    val MEDIA_TYPE_PNG = MediaType.parse(\"image/png\")\n    val client = OkHttpClient()\n\n    val requestBody = MultipartBody.Builder().setType(MultipartBody.FORM)\n        .addFormDataPart(\"file\", imageName, RequestBody.create(MEDIA_TYPE_PNG, image))\n        .build()\n\n    val request = Request.Builder()\n        .url(url)\n        .post(requestBody)\n        .build()\n\n    client.newCall(request).enqueue(object:Callback{\n        override fun onFailure(call: Call, e: IOException) {\n\n        }\n\n        override fun onResponse(call: Call, response: Response) {\n            Log.i(TAG,\"response ${response.body?.string()}\")\n        }\n    })\n}\n</code></pre>\n\n<p>the question is, how to convert image from imageView to \"image:File\" for uploadImage function?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1560185490, "post_id": 56530365, "comment_id": 99644240, "body": "You can only modify the content of <code>LiveData</code> objects within the class they reside it. Their difference only comes in play when we talk about encapsulation paradigm."}, {"owner": {"reputation": 966, "user_id": 5314844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yKmYOowCBCk/AAAAAAAAAAI/AAAAAAAARPo/sbJIwujRZk4/photo.jpg?sz=128", "display_name": "Bruno Diego Martins", "link": "https://stackoverflow.com/users/5314844/bruno-diego-martins"}, "reply_to_user": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1560185586, "post_id": 56530365, "comment_id": 99644285, "body": "Ok, but what&#39;s the difference? I know the reason for what it is used for."}, {"owner": {"reputation": 966, "user_id": 5314844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yKmYOowCBCk/AAAAAAAAAAI/AAAAAAAARPo/sbJIwujRZk4/photo.jpg?sz=128", "display_name": "Bruno Diego Martins", "link": "https://stackoverflow.com/users/5314844/bruno-diego-martins"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560185679, "post_id": 56530365, "comment_id": 99644324, "body": "@CommonsWare this is not duplicated"}, {"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1560185746, "post_id": 56530365, "comment_id": 99644354, "body": "<code>MutableLiveData</code> as the name suggests allows you to mutate its content. This exposes public get/set methods while the LiveData does not."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1560185948, "post_id": 56530365, "comment_id": 99644452, "body": "The question and answer from the duplicate certainly seem to cover what you are asking. If you have additional concerns, what are they?"}, {"owner": {"reputation": 966, "user_id": 5314844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yKmYOowCBCk/AAAAAAAAAAI/AAAAAAAARPo/sbJIwujRZk4/photo.jpg?sz=128", "display_name": "Bruno Diego Martins", "link": "https://stackoverflow.com/users/5314844/bruno-diego-martins"}, "edited": false, "score": 0, "creation_date": 1560185953, "post_id": 56530365, "comment_id": 99644456, "body": "Both approaches are attributing the value from a MutableLiveData to a LiveData, what I&#39;d like to know if there&#39;s any difference between both"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1560186727, "post_id": 56530365, "comment_id": 99644772, "body": "That is covered in the question and the answer from the duplicate. The question literally shows you the difference, in terms of the generated Java code. The answer explains the rationale behind the two approaches."}], "owner": {"reputation": 966, "user_id": 5314844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yKmYOowCBCk/AAAAAAAAAAI/AAAAAAAARPo/sbJIwujRZk4/photo.jpg?sz=128", "display_name": "Bruno Diego Martins", "link": "https://stackoverflow.com/users/5314844/bruno-diego-martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1560185353, "answer_count": 0, "score": 0, "last_activity_date": 1560185610, "creation_date": 1560185111, "last_edit_date": 1560185610, "question_id": 56530365, "link": "https://stackoverflow.com/questions/56530365/what-is-the-difference-between-both-approaches-to-expose-mutablelivedata", "closed_reason": "Duplicate", "title": "What is the difference between both approaches to expose MutableLiveData", "body": "<p>To avoid exposing the MutableLiveData from ViewModel, there's a pattern to avoid only exposing the LiveData object instead. My question is, what's the difference between both approaches?</p>\n\n<p>Attributing directly:</p>\n\n<pre><code>private val _value = MutableLiveData&lt;Any&gt;()\nval value: LiveData&lt;Any&gt; = _value\n</code></pre>\n\n<p>Using the get()</p>\n\n<pre><code>private val _value = MutableLiveData&lt;Any&gt;()\nval value: LiveData&lt;Any&gt;\n    get() = _value\n</code></pre>\n"}, {"tags": ["kotlin", "corda"], "comments": [{"owner": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "edited": false, "score": 1, "creation_date": 1560181471, "post_id": 56529487, "comment_id": 99642409, "body": "did you fat jar your contract jar? In that, all the dependencies it needs are built into the jar itself? This will make it larger but not require any other external jars. Funnily enough I was actually talking about this with my colleague the other day who proposed a different solution. I need to manually test the solution before I can confirm that it works."}, {"owner": {"reputation": 368, "user_id": 2099110, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8240808a96af3511497d74db78b9953f?s=128&d=identicon&r=PG", "display_name": "edward_wong", "link": "https://stackoverflow.com/users/2099110/edward-wong"}, "reply_to_user": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "edited": false, "score": 0, "creation_date": 1560181794, "post_id": 56529487, "comment_id": 99642571, "body": "no, I try to avoid having a fat jar for contracts and my contract module consists only of State and Contract... I guess I&#39;ll leave that as a last option, but I totally agree that that would work as far as Contract would have Validators inside its jar."}, {"owner": {"reputation": 368, "user_id": 2099110, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8240808a96af3511497d74db78b9953f?s=128&d=identicon&r=PG", "display_name": "edward_wong", "link": "https://stackoverflow.com/users/2099110/edward-wong"}, "reply_to_user": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "edited": false, "score": 0, "creation_date": 1560182070, "post_id": 56529487, "comment_id": 99642701, "body": "@DanNewton I guess the most dirtiest workaround would be to have a Dummy Contract in that Shared library ? :D"}, {"owner": {"reputation": 1105, "user_id": 8025412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1218b4152933db4e8574cf80927ea3?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Newton", "link": "https://stackoverflow.com/users/8025412/dan-newton"}, "edited": false, "score": 1, "creation_date": 1560182166, "post_id": 56529487, "comment_id": 99642755, "body": "This might help. But it is not a solution that I have tried myself. \u201cWhenever your contract code depends on some external library, the flow must explicitly attach that dependency to the transaction, and there must be a check in the contract code that ensures that a malicious party didn\u2019t attach an invalid dependency JAR that could compromise the verification logic.\u201d"}], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 2099110, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8240808a96af3511497d74db78b9953f?s=128&d=identicon&r=PG", "display_name": "edward_wong", "link": "https://stackoverflow.com/users/2099110/edward-wong"}, "edited": false, "score": 0, "creation_date": 1560240798, "post_id": 56537112, "comment_id": 99660334, "body": "I am using Corda v4.1-RC3 at this moment. Will try. Thank you, Ben!"}], "tags": [], "owner": {"reputation": 128, "user_id": 8787588, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/9bec68840abaeed90232e52f76161ab9?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Tan", "link": "https://stackoverflow.com/users/8787588/ben-tan"}, "is_accepted": false, "score": 1, "last_activity_date": 1560231342, "creation_date": 1560231342, "answer_id": 56537112, "question_id": 56529487, "link": "https://stackoverflow.com/questions/56529487/cordapp-dependencies-for-contract-verify-method/56537112#56537112", "title": "CorDapp dependencies for Contract verify() method", "body": "<p>Are you using Corda v4.0? I remember v4.1 made some changes to revert back to the class loader if you do not manually add the cordapp as an attachment. Can you try adding the Cordapp with your dependencies as an attachment and see if it works? \n<a href=\"https://docs.corda.net/head/cordapp-advanced-concepts.html?advanced-cordapp-concepts#code-samples-for-dependent-libraries-and-cordapps\" rel=\"nofollow noreferrer\">https://docs.corda.net/head/cordapp-advanced-concepts.html?advanced-cordapp-concepts#code-samples-for-dependent-libraries-and-cordapps</a> </p>\n"}, {"tags": [], "owner": {"reputation": 368, "user_id": 2099110, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8240808a96af3511497d74db78b9953f?s=128&d=identicon&r=PG", "display_name": "edward_wong", "link": "https://stackoverflow.com/users/2099110/edward-wong"}, "is_accepted": false, "score": 1, "last_activity_date": 1560242311, "creation_date": 1560242311, "answer_id": 56539667, "question_id": 56529487, "link": "https://stackoverflow.com/questions/56529487/cordapp-dependencies-for-contract-verify-method/56539667#56539667", "title": "CorDapp dependencies for Contract verify() method", "body": "<p>There are several options:</p>\n\n<ol>\n<li><p>The possible workaround is to add a DummyContract into the dependent helper module. Adding something like:</p>\n\n<pre><code>class DummyContract : Contract {\n    override fun verify(tx: LedgerTransaction)\n}\n</code></pre></li>\n</ol>\n\n<p>Will force Corda to upload Attachment on Corda Node's startup and during <strong><em>Verification</em></strong> stage, Corda will add missing attachments into the <em>transactionClassLoader</em></p>\n\n<ol start=\"2\">\n<li><p>There is always a possibility to create a <strong>fat - jar</strong>. The Contracts module may (and even should) have all the dependencies inside of it. If your Contract has any external dependencies, they are an inevitable part of the contract itself. Theoretically, if you release a new version of a dependent module, you would be required to initiate Contract upgrade flow.</p></li>\n<li><p>Probably one of the options is to avoid having the dependency at all if it is possible. One of the suggestions from R3 team was to not rely on: <strong>addMissingAttachments</strong> and avoid it, if it is possible.</p></li>\n<li><p>R3 Team will enhance the work with the dependencies in future versions of Corda. Probably in Corda 5.</p></li>\n</ol>\n\n<p>Kudos to Dan N, Stefano and Roger W.</p>\n"}], "owner": {"reputation": 368, "user_id": 2099110, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8240808a96af3511497d74db78b9953f?s=128&d=identicon&r=PG", "display_name": "edward_wong", "link": "https://stackoverflow.com/users/2099110/edward-wong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560242311, "creation_date": 1560181213, "question_id": 56529487, "link": "https://stackoverflow.com/questions/56529487/cordapp-dependencies-for-contract-verify-method", "title": "CorDapp dependencies for Contract verify() method", "body": "<p>I'm struggling to understand the cause of the issue that I'm facing. </p>\n\n<p>I have a module with Contracts and module with Validators. Some of the Validators are being used in Contracts' module. For example:</p>\n\n<pre><code>override fun verify(tx: LedgerTransaction){\n   validator.validate(tx.outputs)\n}\n</code></pre>\n\n<p>I start my flow and during Contract verification, I see: <strong>ClassNotFoundException</strong> so the Class from <strong><em>Validators</em></strong> module cannot be found in the classloader. Obviously, CorDapp with Validators exists in the node.</p>\n\n<p>While debugging Corda Framework, I can see that attachments will be uploaded into <code>AttachmentStorageInternal</code> during the start-up, but only those <strong>jar</strong> which includes Contracts. </p>\n\n<pre><code>private fun loadContractsIntoAttachmentStore(): Map&lt;SecureHash, URL&gt; =\n        cordapps.filter { !it.contractClassNames.isEmpty() }.map {\n            it.jarPath.openStream().use { stream -&gt; //some code}\n</code></pre>\n\n<p>Moreover, I can see that during a <strong><em>Verification</em></strong> stage, when <code>ClassNotFoundException</code> or <code>ClassNotDefFoundException</code> occurs, then Corda will try to load missing class, but it will try to find it only from Contract Attachments that were uploaded on the start-up of the Node.</p>\n\n<pre><code>fun AttachmentStorage.internalFindTrustedAttachmentForClass(className: String): Attachment? {\n    val allTrusted = queryAttachments(\n            AttachmentQueryCriteria.AttachmentsQueryCriteria().withUploader(Builder.`in`(TRUSTED_UPLOADERS)),\n            AttachmentSort(listOf(AttachmentSort.AttachmentSortColumn(AttachmentSort.AttachmentSortAttribute.VERSION, Sort.Direction.DESC))))\n\n    for (attId in allTrusted) {\n</code></pre>\n\n<ol>\n<li>Can someone point me out, how Corda will load helper classes that\nContract's <code>verify()</code> method might need in my implementation?</li>\n<li>Is it possible to use classes from other modules in Contacts' CorDapp?</li>\n</ol>\n"}]