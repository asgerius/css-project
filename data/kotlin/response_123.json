[{"tags": ["android", "android-studio", "kotlin", "android-databinding", "android-studio-3.0"], "comments": [{"owner": {"reputation": 1184, "user_id": 6275756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4a6d2e911e7a47db549e946fef4dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Vyacheslav Gerasimov", "link": "https://stackoverflow.com/users/6275756/vyacheslav-gerasimov"}, "edited": false, "score": 1, "creation_date": 1495059697, "post_id": 44035504, "comment_id": 75098025, "body": "Seems like a bug, created issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-17936\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-17936</a>"}, {"owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "edited": false, "score": 0, "creation_date": 1495272868, "post_id": 44035504, "comment_id": 75191195, "body": "This bug appear even without any data binding. You just use 1.1.2-4 version of kotlin and apply plugin: &#39;kotlin-kapt&#39;. Then you will get this error Error:Circular dependency between the following tasks: :app:compileDebugKotlin \\--- :app:kaptDebugKotlin      \\--- :app:compileDebugKotlin (<i>) (</i>) - details omitted (listed previously)"}, {"owner": {"reputation": 10172, "user_id": 15695, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d646df59b5dfb7aecde9ca950310943f?s=128&d=identicon&r=PG", "display_name": "BoD", "link": "https://stackoverflow.com/users/15695/bod"}, "edited": false, "score": 0, "creation_date": 1495289385, "post_id": 44035504, "comment_id": 75195786, "body": "Also related issue: <a href=\"https://issuetracker.google.com/issues/38471980\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/38471980</a>"}], "answers": [{"comments": [{"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "edited": false, "score": 0, "creation_date": 1495132203, "post_id": 44036101, "comment_id": 75135638, "body": "I believe you meant gradle.properties"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "edited": false, "score": 1, "creation_date": 1495142099, "post_id": 44036101, "comment_id": 75140730, "body": "@LeandroBorgesFerreira, you use can any of them, because Gradle detects and interprets the <code>local.properties</code> file in your projects as well. Well, maybe <code>local.properties</code> is more suitable for <i>local machine</i> properties."}, {"owner": {"reputation": 2092, "user_id": 2692747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62644b8949879b83c9f4ad00c4a929d9?s=128&d=identicon&r=PG&f=1", "display_name": "gderaco", "link": "https://stackoverflow.com/users/2692747/gderaco"}, "edited": false, "score": 1, "creation_date": 1495187060, "post_id": 44036101, "comment_id": 75157412, "body": "This leads to this error: <a href=\"http://stackoverflow.com/questions/44056104/gradle-3-0-0-alpha1-isnt-compatible-with-kotlin-android-plugin-1-1-2-3\" title=\"gradle 3 0 0 alpha1 isnt compatible with kotlin android plugin 1 1 2 3\">stackoverflow.com/questions/44056104/&hellip;</a>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 2092, "user_id": 2692747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62644b8949879b83c9f4ad00c4a929d9?s=128&d=identicon&r=PG&f=1", "display_name": "gderaco", "link": "https://stackoverflow.com/users/2692747/gderaco"}, "edited": false, "score": 0, "creation_date": 1495198478, "post_id": 44036101, "comment_id": 75165194, "body": "@gderaco, make sure you disable Kotlin incremental compilation. The error you mentioned is caused by the incompatibility of the incremental compilation code in 1.1.2 with the newer Android Gradle plugin."}, {"owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "edited": false, "score": 6, "creation_date": 1495273060, "post_id": 44036101, "comment_id": 75191242, "body": "Actually to revert to 1.1.2-3 also works fine. Same issue with Android Studio  2.3.2 and gradle 2.3.2 when using Kotlin 1.1.2-4 together with kotlin-kapt plugin"}, {"owner": {"reputation": 2671, "user_id": 958025, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bd938d17202eccdfaa0bd9a389a2627e?s=128&d=identicon&r=PG&f=1", "display_name": "Nimrod Dayan", "link": "https://stackoverflow.com/users/958025/nimrod-dayan"}, "edited": false, "score": 1, "creation_date": 1495652186, "post_id": 44036101, "comment_id": 75349197, "body": "@hotkey based on <a href=\"https://issuetracker.google.com/issues/38447344\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/38447344</a> this is an issue in the Android plugin, not kotlin gradle plugin. A fix was made and is planned to be released in the next 3.0.0 alpha release."}, {"owner": {"reputation": 65602, "user_id": 401025, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/VSVpF.jpg?s=128&g=1", "display_name": "Upvote", "link": "https://stackoverflow.com/users/401025/upvote"}, "reply_to_user": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "edited": false, "score": 0, "creation_date": 1496351153, "post_id": 44036101, "comment_id": 75639928, "body": "@Arsenius how you reverted? Did you switch to stable release of android studio?"}, {"owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "reply_to_user": {"reputation": 65602, "user_id": 401025, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/VSVpF.jpg?s=128&g=1", "display_name": "Upvote", "link": "https://stackoverflow.com/users/401025/upvote"}, "edited": false, "score": 0, "creation_date": 1496725850, "post_id": 44036101, "comment_id": 75763768, "body": "@LostinBielefeld just use classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; where kotlin_version 1.1.2-3 Yes I&#39;m using stable release 2.3.2"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 79, "last_activity_date": 1496764669, "last_edit_date": 1496764669, "creation_date": 1495062356, "answer_id": 44036101, "question_id": 44035504, "link": "https://stackoverflow.com/questions/44035504/how-to-use-data-binding-and-kotlin-in-android-studio-3-0-0/44036101#44036101", "title": "How to use Data Binding and Kotlin in Android Studio 3.0.0", "body": "<p><strong>UPD:</strong> This was fixed for Android Gradle plugin 3.0.0-alpha3, in yout project root <code>build.gradle</code>, change the <code>buildscript</code> <code>dependencies</code> to use</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.0.0-alpha3'\n</code></pre>\n\n<hr>\n\n<p>This is actually a bug in the Kotlin Gradle plugin 1.1.2-4 inter-operation with the Android Gradle plugin 3.0.0-alpha1, caused by how the inputs and outputs of the tasks are set (and thus how the tasks are connected with the depends-on relation).</p>\n\n<p>Thanks <a href=\"https://stackoverflow.com/users/6275756/vyacheslav-gerasimov\">@VyacheslavGerasimov</a> for creating the issue <a href=\"https://youtrack.jetbrains.com/issue/KT-17936\" rel=\"noreferrer\">KT-17936</a>.</p>\n\n<hr>\n\n<p>As a temporary workaround, you can try to revert to Kotlin Gradle plugin 1.1.2-2 and disable incremental compilation:</p>\n\n<p>In your project's root <code>build.gradle</code>, change the version of the Kotlin Gradle plugin:</p>\n\n<pre><code>buildscript {\n    ...\n    dependencies {\n        ...\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.2-2'\n    }\n}\n</code></pre>\n\n<p>Add <code>local.properties</code> to the project root, with the following line:</p>\n\n<pre><code>kotlin.incremental=false\n</code></pre>\n\n<p><sup>It is a <a href=\"https://youtrack.jetbrains.com/issue/KT-17642\" rel=\"noreferrer\">known issue</a> that the Kotlin Gradle plugin 1.1.2-2 and below crashes with the newest AGP versions, and disabling incremental compilation seems to fix that crash.</sup></p>\n"}, {"comments": [{"owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "edited": false, "score": 0, "creation_date": 1496725662, "post_id": 44345163, "comment_id": 75763709, "body": "How to fix this issue in Android Studio 2.3.2?"}, {"owner": {"reputation": 10664, "user_id": 2506025, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bvrX2.png?s=128&g=1", "display_name": "Prokash Sarkar", "link": "https://stackoverflow.com/users/2506025/prokash-sarkar"}, "reply_to_user": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "edited": false, "score": 0, "creation_date": 1496726275, "post_id": 44345163, "comment_id": 75763876, "body": "You can use an older version of Kotlin plugin with incremental false. Check the previous answer by &quot;hotkey&quot;"}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "edited": false, "score": 1, "creation_date": 1496910454, "post_id": 44345163, "comment_id": 75858637, "body": "No, <code>1.1.2-4</code> still doesn&#39;t work. One still has to use <code>1.1.2-2</code> and also add kapt &quot;com.android.databinding:compiler:3.0.0-alpha3&quot; to your build.gradle (module) or you will get Unresolved reference: databinding."}, {"owner": {"reputation": 547, "user_id": 1891812, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fd39f019465fc215395c811ff4b18b39?s=128&d=identicon&r=PG", "display_name": "Daivid", "link": "https://stackoverflow.com/users/1891812/daivid"}, "edited": false, "score": 0, "creation_date": 1497406313, "post_id": 44345163, "comment_id": 76059885, "body": "Not fixed on 1.1.2-5 as well"}], "tags": [], "owner": {"reputation": 10664, "user_id": 2506025, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/bvrX2.png?s=128&g=1", "display_name": "Prokash Sarkar", "link": "https://stackoverflow.com/users/2506025/prokash-sarkar"}, "is_accepted": false, "score": 17, "last_activity_date": 1496924196, "last_edit_date": 1496924196, "creation_date": 1496501447, "answer_id": 44345163, "question_id": 44035504, "link": "https://stackoverflow.com/questions/44035504/how-to-use-data-binding-and-kotlin-in-android-studio-3-0-0/44345163#44345163", "title": "How to use Data Binding and Kotlin in Android Studio 3.0.0", "body": "<p>For those still looking for a proper solution, Google has already fixed this issue in <a href=\"https://androidstudio.googleblog.com/2017/06/android-studio-30-canary-3-is-now.html\" rel=\"noreferrer\">Android Studio 3.0 Canary 3</a> build.</p>\n\n<p>Friday, June 2, 2017</p>\n\n<blockquote>\n  <p>We have just released Android Studio 3.0 Canary 3 to the Canary and\n  Dev Channels. The Android Gradle Plugin 3.0.0-alpha3 was also released\n  through maven.google.com. This release has fixes to <strong>Gradle</strong>, <strong>Kotlin</strong>,\n  and many other fixes. We continue to fix bugs in all areas of Studio\n  3.0 as we stabilize our features, so please continue to pass on feedback.</p>\n</blockquote>\n\n<p>Working gradle configuration:</p>\n\n<p><strong>build.gradle (project)</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com'\n        }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p><strong>build.gradle (module)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\n\nandroid {\n    dataBinding.enabled = true\n}\ndependencies {\n    kapt \"com.android.databinding:compiler:3.0.0-alpha3\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1915, "user_id": 2294560, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XBv6m.jpg?s=128&g=1", "display_name": "Imtiyaz Khalani", "link": "https://stackoverflow.com/users/2294560/imtiyaz-khalani"}, "is_accepted": false, "score": 3, "last_activity_date": 1506066422, "creation_date": 1506066422, "answer_id": 46359481, "question_id": 44035504, "link": "https://stackoverflow.com/questions/44035504/how-to-use-data-binding-and-kotlin-in-android-studio-3-0-0/46359481#46359481", "title": "How to use Data Binding and Kotlin in Android Studio 3.0.0", "body": "<p>I have recenly write Blog for Data Binding android with Kotlin <a href=\"https://androidteachers.com/kotlin-for-android/kotlin-data-binding-in-android/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Use Classpath</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.0.0-beta2'\n</code></pre>\n\n<p>Dependency</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    ...\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    ......\n    kapt 'com.android.databinding:compiler:2.3.1'\n}\n</code></pre>\n\n<p>for more detail check out this <a href=\"https://androidteachers.com/kotlin-for-android/kotlin-data-binding-in-android/\" rel=\"nofollow noreferrer\">post</a></p>\n"}, {"comments": [{"owner": {"reputation": 3529, "user_id": 331021, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6d6d8251f918a3dc2d544f98a8271a8d?s=128&d=identicon&r=PG", "display_name": "SpaceMonkey", "link": "https://stackoverflow.com/users/331021/spacemonkey"}, "edited": false, "score": 1, "creation_date": 1509284753, "post_id": 46429553, "comment_id": 80948332, "body": "This is the correct answer, to add kotlin-kapt and that dependency line. The top answer isn&#39;t relevant any more"}, {"owner": {"reputation": 2065, "user_id": 1761406, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af51e73ece8533b21d5c151159874031?s=128&d=identicon&r=PG", "display_name": "Shirane85", "link": "https://stackoverflow.com/users/1761406/shirane85"}, "edited": false, "score": 0, "creation_date": 1510837114, "post_id": 46429553, "comment_id": 81611220, "body": "Liked the use of the version variable"}, {"owner": {"reputation": 558, "user_id": 200293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051a4236af7a60e64fd43a597c8c4127?s=128&d=identicon&r=PG", "display_name": "Pavel Zaitsev", "link": "https://stackoverflow.com/users/200293/pavel-zaitsev"}, "edited": false, "score": 0, "creation_date": 1569214633, "post_id": 46429553, "comment_id": 102509194, "body": "I am getting: - with all versions  [kapt] An exception occurred: java.lang.NullPointerException"}, {"owner": {"reputation": 3056, "user_id": 1447071, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/f2e8cde14371d5e6c6b65545dccd4e39?s=128&d=identicon&r=PG", "display_name": "Rubber Duck", "link": "https://stackoverflow.com/users/1447071/rubber-duck"}, "reply_to_user": {"reputation": 558, "user_id": 200293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051a4236af7a60e64fd43a597c8c4127?s=128&d=identicon&r=PG", "display_name": "Pavel Zaitsev", "link": "https://stackoverflow.com/users/200293/pavel-zaitsev"}, "edited": false, "score": 0, "creation_date": 1569217977, "post_id": 46429553, "comment_id": 102510005, "body": "@PavelZaitsev I haven&#39;t used android studio in a while"}], "tags": [], "owner": {"reputation": 3056, "user_id": 1447071, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/f2e8cde14371d5e6c6b65545dccd4e39?s=128&d=identicon&r=PG", "display_name": "Rubber Duck", "link": "https://stackoverflow.com/users/1447071/rubber-duck"}, "is_accepted": true, "score": 26, "last_activity_date": 1506437025, "creation_date": 1506437025, "answer_id": 46429553, "question_id": 44035504, "link": "https://stackoverflow.com/questions/44035504/how-to-use-data-binding-and-kotlin-in-android-studio-3-0-0/46429553#46429553", "title": "How to use Data Binding and Kotlin in Android Studio 3.0.0", "body": "<p>It seems that you need 3 gradle entries in the app .gradle at module level to add data binding</p>\n\n<ol>\n<li><code>apply plugin: 'kotlin-kapt'</code></li>\n<li><code>android {\n...\n   dataBinding {\n       enabled = true\n   }\n }</code></li>\n<li><code>dependencies {\n    ......\n    kapt \"com.android.databinding:compiler:$compiler_version\"\n }\n</code></li>\n</ol>\n\n<p>Notice that I made compiler version a variable in the project level build gradle so it can be managed from a single place</p>\n\n<p>default was: <code>ext.kotlin_version = '1.1.3-2'</code></p>\n\n<p>I added with bracket syntax:</p>\n\n<pre><code>ext{\n    kotlin_version = '1.1.3-2'\n    compiler_version = '3.0.0-beta6'\n}\n</code></pre>\n"}], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24651, "favorite_count": 17, "accepted_answer_id": 46429553, "answer_count": 4, "score": 102, "last_activity_date": 1534507167, "creation_date": 1495058707, "last_edit_date": 1495715360, "question_id": 44035504, "link": "https://stackoverflow.com/questions/44035504/how-to-use-data-binding-and-kotlin-in-android-studio-3-0-0", "title": "How to use Data Binding and Kotlin in Android Studio 3.0.0", "body": "<p>I just started to use Android Studio 3.0.0, but every time I try to build my project I get this error:</p>\n\n<pre><code>Error:Circular dependency between the following tasks:\n:app:compileDebugKotlin\n+--- :app:dataBindingExportBuildInfoDebug\n|    \\--- :app:compileDebugKotlin (*)\n\\--- :app:kaptDebugKotlin\n     \\--- :app:dataBindingExportBuildInfoDebug (*)\n(*) - details omitted (listed previously)\n</code></pre>\n\n<p>I am using </p>\n\n<pre><code>kapt \"com.android.databinding:compiler:2.2.0\"\n</code></pre>\n\n<p>Before I was using </p>\n\n<pre><code>androidProcessor \"com.android.databinding:compiler:2.2.0\"\n</code></pre>\n\n<p>And it was working just fine... What I am doing wrong??</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 17430, "user_id": 355438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb132c7de803cf864996a922a073e5f2?s=128&d=identicon&r=PG", "display_name": "Lu55", "link": "https://stackoverflow.com/users/355438/lu55"}, "edited": false, "score": 1, "creation_date": 1549624185, "post_id": 44035263, "comment_id": 95978558, "body": "May be this would be helpful <a href=\"https://stackoverflow.com/questions/29268526/how-to-overcome-same-jvm-signature-error-when-implementing-a-java-interface/35471596\" title=\"how to overcome same jvm signature error when implementing a java interface\">stackoverflow.com/questions/29268526/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 5991493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a80594869af32aa62a442e25e1c1572?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Kulbaka", "link": "https://stackoverflow.com/users/5991493/karol-kulbaka"}, "edited": false, "score": 2, "creation_date": 1545130244, "post_id": 44035461, "comment_id": 94511095, "body": "Is this working with val properties inherited from interface? I mean for example interface with <code>val context: Context</code>?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 92, "last_activity_date": 1527210809, "last_edit_date": 1527210809, "creation_date": 1495058464, "answer_id": 44035461, "question_id": 44035263, "link": "https://stackoverflow.com/questions/44035263/accidental-override-the-following-declarations-have-the-same-jvm-signature/44035461#44035461", "title": "Accidental override: The following declarations have the same JVM signature", "body": "<p>This happens because the Kotlin compiler tries to generate a getter for <code>val context</code> declared in your class primary constructor, namely a method <code>getContext()</code>, but the base class <a href=\"https://github.com/android/platform_frameworks_base/blob/master/core/java/android/widget/ArrayAdapter.java#L338\" rel=\"noreferrer\"><code>ArrayAdapter&lt;T&gt;</code> already has such a method</a>.</p>\n\n<p>You can solve that by doing one of the following:</p>\n\n<ul>\n<li><p>Change your class' constructor parameter not to be a <code>val</code>. </p>\n\n<pre><code> class GitHubRepoAdapter(context: Context, ...\n</code></pre>\n\n<p>In this case, the getter won't be generated, and the conflict will be gone. </p>\n\n<p>This seems to be the preferrable solution in your case, because, even without redeclaration, <a href=\"https://stackoverflow.com/questions/37481017/kotlin-view-setenabled-function-missing/37481421#37481421\">there is already a synthetic property <code>context</code> inferred from the Java getter</a>.</p></li>\n<li><p>Use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-name/\" rel=\"noreferrer\"><code>@JvmName</code></a> annotation, <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">apply it to the <code>context</code> property getter</a>:</p>\n\n<pre><code> class GitHubRepoAdapter(@get:JvmName(\"getContext_\") private val context: Context, ...\n</code></pre>\n\n<p>This will make the compiler generate the getter with another JVM name (the one specified in the annotation), thus avoiding the conflict, but making accessing it from Java less intuitive (especially since there will be two similar functions). In Kotlin, you will still be able to use the property with its original name <code>context</code>.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 564, "user_id": 290853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5574f25a6272bc09cde2c26014d003b2?s=128&d=identicon&r=PG", "display_name": "withoutclass", "link": "https://stackoverflow.com/users/290853/withoutclass"}, "edited": false, "score": 0, "creation_date": 1501260927, "post_id": 45351041, "comment_id": 77718917, "body": "I think this version is actually more preferable to the accepted answer.  If my super class already has a property/getter/setter for a variable, why would I create a 2nd one at all?  Removing <code>val&#47;var</code> seems the slickest way to go for sure."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "reply_to_user": {"reputation": 564, "user_id": 290853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5574f25a6272bc09cde2c26014d003b2?s=128&d=identicon&r=PG", "display_name": "withoutclass", "link": "https://stackoverflow.com/users/290853/withoutclass"}, "edited": false, "score": 0, "creation_date": 1501271608, "post_id": 45351041, "comment_id": 77724407, "body": "@withoutclass - you misunderstand my answer, mine actually says you can keep the val or var and just change the name of the variable, which is useful when the super class already uses the first name you chose.  In the case where the super class uses the name for a property with an entirely different purpose than what you were planning for your variable, then a new property is appropriate using a different name.  I will update my answer to make it more clear."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 35, "last_activity_date": 1501272360, "last_edit_date": 1501272360, "creation_date": 1501159049, "answer_id": 45351041, "question_id": 44035263, "link": "https://stackoverflow.com/questions/44035263/accidental-override-the-following-declarations-have-the-same-jvm-signature/45351041#45351041", "title": "Accidental override: The following declarations have the same JVM signature", "body": "<p>In addition to the answer already given...</p>\n\n<ul>\n<li>Or, you can keep <code>val</code> (or <code>var</code>) but change the name of the parameter to something that doesn't collide with the super class declaration.</li>\n</ul>\n\n<p>In a class declaration, the parameters in the constructor declarations are often more than just parameters.  Using <code>val</code> or <code>var</code>, you are actually declaring property members (not just parameters).  And along with the property members come automatic \"getters\" (and \"setters\" in the case of <code>var</code>).  The automatic getter, in the OP's case, is called <code>getContext()</code> <strong>but</strong> the base class already has a getContext() (same signature).</p>\n\n<p>Most likely, the intent here was to just pass the <code>context</code> to the super, in which case, the other answer works best.  But, in the case where a new property is desired, but the name chosen collides with a differently purposed member of the super, changing the name is the alternative.</p>\n\n<p><strong>In short</strong>, changing the name applies when you <strong>do</strong> want a new member variable <strong>but</strong> a super class already exposes a different member by the same name.</p>\n"}, {"tags": [], "owner": {"reputation": 399, "user_id": 10022587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VS5B4.jpg?s=128&g=1", "display_name": "Hamdy Abd El Fattah", "link": "https://stackoverflow.com/users/10022587/hamdy-abd-el-fattah"}, "is_accepted": false, "score": 2, "last_activity_date": 1598634124, "creation_date": 1598634124, "answer_id": 63638118, "question_id": 44035263, "link": "https://stackoverflow.com/questions/44035263/accidental-override-the-following-declarations-have-the-same-jvm-signature/63638118#63638118", "title": "Accidental override: The following declarations have the same JVM signature", "body": "<p>Change variable name to myContext and will work with you without any problems.</p>\n"}], "owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30517, "favorite_count": 10, "accepted_answer_id": 44035461, "answer_count": 3, "score": 71, "last_activity_date": 1598634124, "creation_date": 1495057516, "last_edit_date": 1596272060, "question_id": 44035263, "link": "https://stackoverflow.com/questions/44035263/accidental-override-the-following-declarations-have-the-same-jvm-signature", "title": "Accidental override: The following declarations have the same JVM signature", "body": "<p>I'm getting error in Kotlin in this part:</p>\n<pre><code>class GitHubRepoAdapter(\n    private val context: Context,\n    private val values: List&lt;GithubRepo&gt;\n) : ArrayAdapter&lt;GithubRepo&gt;(\n    context, \n    R.layout.list_item,\n    values\n)\n</code></pre>\n<p><code>private val context: Context</code></p>\n<p>In the log it says:</p>\n<blockquote>\n<pre><code>Error:(14, 25) Accidental override: The following declarations have the same JVM signature\n(getContext()Landroid/content/Context;):  \n    fun &lt;get-context&gt;(): Context  \n    fun getContext(): Context!\n</code></pre>\n</blockquote>\n<p>I'm not able to see what is causing the problem.</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 844, "user_id": 6045289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KR7Eg.jpg?s=128&g=1", "display_name": "antonicg", "link": "https://stackoverflow.com/users/6045289/antonicg"}, "edited": false, "score": 0, "creation_date": 1495104637, "post_id": 44035402, "comment_id": 75116664, "body": "But you must to have in mind that if you call Java code from Kotlin, you will lost some Kotlin features, for instance, the Null-Safety, because every object in Java can be null."}, {"owner": {"reputation": 16705, "user_id": 336827, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/de979476f21ed488c4be02f10dd8e2cc?s=128&d=identicon&r=PG", "display_name": "freedev", "link": "https://stackoverflow.com/users/336827/freedev"}, "reply_to_user": {"reputation": 844, "user_id": 6045289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KR7Eg.jpg?s=128&g=1", "display_name": "antonicg", "link": "https://stackoverflow.com/users/6045289/antonicg"}, "edited": false, "score": 0, "creation_date": 1495111443, "post_id": 44035402, "comment_id": 75121494, "body": "@antonicg thanks for the suggestion I&#39;ve added a paragraph on <i>Null-Safety and Platform Types</i>"}], "tags": [], "owner": {"reputation": 16705, "user_id": 336827, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/de979476f21ed488c4be02f10dd8e2cc?s=128&d=identicon&r=PG", "display_name": "freedev", "link": "https://stackoverflow.com/users/336827/freedev"}, "is_accepted": true, "score": 11, "last_activity_date": 1495144639, "last_edit_date": 1495144639, "creation_date": 1495058202, "answer_id": 44035402, "question_id": 44035230, "link": "https://stackoverflow.com/questions/44035230/how-does-kotlin-interoperate-to-java-and-javascript/44035402#44035402", "title": "How does Kotlin interoperate to Java and JavaScript?", "body": "<blockquote>\n  <p>Kotlin is a statically-typed programming language that runs on the\n  Java Virtual Machine and also can be compiled to JavaScript source\n  code.</p>\n</blockquote>\n\n<p>This means that Kotlin has two compilers, the former produces bytecode that can be executed in the JVM and the latter produces just Javascript. </p>\n\n<p>This lets Kotlin to be interoperable with both the languages.</p>\n\n<h3>About Kotlin and Java</h3>\n\n<p>For example, when Java bytecode and Kotlin bytecode are running in the same JVM you can <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"noreferrer\">call Java from Kotlin</a> and/or <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"noreferrer\">call Kotlin from Java</a>.</p>\n\n<blockquote>\n  <p><strong><a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"noreferrer\">Calling Java code from Kotlin</a> and <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"noreferrer\">Calling Kotlin from Java</a></strong></p>\n  \n  <p>Kotlin is designed with Java Interoperability in mind. Existing Java\n  code can be called from Kotlin in a natural way, and Kotlin code can\n  be used from Java rather smoothly as well.</p>\n  \n  <p><strong>Null-Safety and Platform Types</strong></p>\n  \n  <p>Any reference in Java may be null, which makes Kotlin's requirements\n  of strict null-safety impractical for objects coming from Java. Types\n  of Java declarations are treated specially in Kotlin and called\n  platform types. Null-checks are relaxed for such types, so that safety\n  guarantees for them are the same as in Java</p>\n</blockquote>\n\n<h3>About Kotlin and Javascript</h3>\n\n<p>In the same way, when you use the Kotlin compiler that produces Javascript, you can have Kotlin running together with Javascript source in the same <a href=\"https://en.wikipedia.org/wiki/JavaScript_engine\" rel=\"noreferrer\">JavaScript engine</a>.\nSo you can <a href=\"https://kotlinlang.org/docs/reference/js-to-kotlin-interop.html\" rel=\"noreferrer\">call Kotlin from Javascript</a> and/or <a href=\"https://kotlinlang.org/docs/reference/js-interop.html\" rel=\"noreferrer\">call Javascript from Kotlin</a>.</p>\n\n<blockquote>\n  <p><strong><a href=\"https://kotlinlang.org/docs/reference/js-interop.html\" rel=\"noreferrer\">Calling JavaScript from Kotlin</a></strong></p>\n  \n  <p>Kotlin was designed for easy interoperation with Java platform. It\n  sees Java classes as Kotlin classes, and Java sees Kotlin classes as\n  Java classes. However, JavaScript is a dynamically-typed language,\n  which means it does not check types in compile-time. You can freely\n  talk to JavaScript from Kotlin via  dynamic\n  types, but if you want the full power of Kotlin type system, you can\n  create Kotlin headers for JavaScript libraries.</p>\n  \n  <p><strong><a href=\"https://kotlinlang.org/docs/reference/js-to-kotlin-interop.html\" rel=\"noreferrer\">Calling Kotlin from JavaScript</a></strong></p>\n  \n  <p>Kotlin compiler generates normal JavaScript classes, functions and\n  properties you can freely use from JavaScript code. Nevertheless,\n  there are some subtle things you should remember. To prevent spoiling the global > object, Kotlin creates an object that contains all Kotlin declarations\n  from the current module. So if you name your module as <code>myModule</code>, all > declarations are available to JavaScript\n  via <code>myModule</code> object.</p>\n</blockquote>\n\n<p>Regarding your question about Xamarin I would only say that Xamarin and Kotlin are two completely different things. You can compare Xamarin with Ionic or PhoneGap, because they are products that lets you able to create a multi-platform app. </p>\n\n<p>On the other hand, Kotlin is a Language that you can compile to run your programs on different environments and/or devices. </p>\n"}], "owner": {"reputation": 1575, "user_id": 3080959, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/80fad2a3e52b92c5db146524b3961e37?s=128&d=identicon&r=PG", "display_name": "lostAtSeaJoshua", "link": "https://stackoverflow.com/users/3080959/lostatseajoshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2755, "favorite_count": 2, "accepted_answer_id": 44035402, "answer_count": 1, "score": 6, "last_activity_date": 1495144639, "creation_date": 1495057395, "question_id": 44035230, "link": "https://stackoverflow.com/questions/44035230/how-does-kotlin-interoperate-to-java-and-javascript", "title": "How does Kotlin interoperate to Java and JavaScript?", "body": "<p>Kotlin website states:</p>\n\n<blockquote>\n  <p>Kotlin is 100% interoperable with Java. </p>\n</blockquote>\n\n<p>Is Kotlin a subset/superset of Java? </p>\n\n<p>Also the the documentation states that Kotlin is compatible with JavaScript so how is it compiled to support both? Is Kotlin a cross platform language like Xamarin?</p>\n\n<p>Does Java interpolate back to Kotlin?</p>\n"}, {"tags": ["android", "android-animation", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 50933, "user_id": 360211, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3baKW.png?s=128&g=1", "display_name": "weston", "link": "https://stackoverflow.com/users/360211/weston"}, "is_accepted": false, "score": 1, "last_activity_date": 1495072713, "creation_date": 1495072713, "answer_id": 44037363, "question_id": 44029547, "link": "https://stackoverflow.com/questions/44029547/animation-set-shake-effect/44037363#44037363", "title": "Animation set, shake effect", "body": "<p>You can extract some functions and fields to reduce the duplication:</p>\n\n<pre><code>private val linearInterpolator = LinearInterpolator()\n\nprivate fun shakeAnimator(propertyName: String) =\n        ObjectAnimator.ofFloat(shake, propertyName, -5f, 5f).apply {\n            repeatMode = ValueAnimator.REVERSE\n            repeatCount = ValueAnimator.INFINITE\n            duration = 70\n            interpolator = linearInterpolator\n        }\n</code></pre>\n\n<p>Then it will just look like:</p>\n\n<pre><code>start_shake.setOnClickListener {\n    AnimatorSet().apply {\n        play(shakeAnimator(\"rotation\")).with(shakeAnimator(\"translate\"))\n        start()\n    }\n}\n</code></pre>\n\n<p>The good method names have removed the need for intermediate variables which has shortened the code further.</p>\n"}], "owner": {"reputation": 205, "user_id": 7833421, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ca0847d1999c25567f4cf92b6b5ef479?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Surkov", "link": "https://stackoverflow.com/users/7833421/eugene-surkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495072713, "creation_date": 1495036208, "question_id": 44029547, "link": "https://stackoverflow.com/questions/44029547/animation-set-shake-effect", "title": "Animation set, shake effect", "body": "<p>I try to shake animation my view, i write this code, but It seems to me that it is possible to make it easier</p>\n\n<pre><code> var animatorSet = AnimatorSet()\n    var objectRotateAnimator = ObjectAnimator.ofFloat(shake, \"rotation\", -5f, 5f)\n    objectRotateAnimator.apply {\n        repeatMode = ValueAnimator.REVERSE\n        repeatCount = ValueAnimator.INFINITE\n        duration = 70\n        interpolator = LinearInterpolator()\n    }\n\n    var objectTranslateAnimator = ObjectAnimator.ofFloat(shake, \"translate\", -5f, 5f)\n    objectTranslateAnimator.apply {\n        repeatMode = ValueAnimator.REVERSE\n        repeatCount = ValueAnimator.INFINITE\n        duration = 70\n        interpolator = LinearInterpolator()\n    }\n\n    start_shake.setOnClickListener {\n        animatorSet.play(objectRotateAnimator).with(objectTranslateAnimator)\n        animatorSet.start()\n    }\n</code></pre>\n\n<p>How can i do it more simple?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1495052373, "post_id": 44028604, "comment_id": 75094845, "body": "I don&#39;t know what ORM you&#39;re using but chances are it&#39;s extending/implementing this abstract class/interface, so <code>parent</code> will be just another property. You better make <code>parent</code> an extension property if you want to supply any custom logic."}], "answers": [{"comments": [{"owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "edited": false, "score": 0, "creation_date": 1495051647, "post_id": 44028885, "comment_id": 75094435, "body": "so what would you actually do in my case? what would be the correct solution at this moment?"}, {"owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "edited": false, "score": 1, "creation_date": 1495160681, "post_id": 44028885, "comment_id": 75145805, "body": "In your case, you are not allowed to take advantage of the property feature of kotlin (because of said difference in nullability) and must actually define a getParent and setParent method signature explicitly. And invoke them the java way of .getParent() and .setParent(foo)."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 6, "last_activity_date": 1495034324, "creation_date": 1495034324, "answer_id": 44028885, "question_id": 44028604, "link": "https://stackoverflow.com/questions/44028604/nullable-field-with-non-nullable-getter/44028885#44028885", "title": "Nullable field with Non-nullable getter", "body": "<p>At this time it's not possible to define a property with different getter and setter types. There is an <a href=\"https://youtrack.jetbrains.com/issue/KT-4075\" rel=\"noreferrer\">open feature request</a> for this functionality, but it's not planned for any specific Kotlin version.</p>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1038, "favorite_count": 0, "accepted_answer_id": 44028885, "answer_count": 1, "score": 1, "last_activity_date": 1495051618, "creation_date": 1495033592, "last_edit_date": 1495051618, "question_id": 44028604, "link": "https://stackoverflow.com/questions/44028604/nullable-field-with-non-nullable-getter", "title": "Nullable field with Non-nullable getter", "body": "<p>I am trying to implement non-nullable getter with nullable setter and nullable field.</p>\n\n<ol>\n<li>Field <code>parent</code> can be null, which means that the parent is <code>this</code>. If parent is not null, the parent is the <code>parent</code> value.</li>\n<li>Getter is not-nullable as it either returns <code>this</code> or <code>parent</code></li>\n<li>Setter can set nullable value as it can remove the current parent.</li>\n</ol>\n\n<p>I tried this:</p>\n\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\n\n@JoinColumn(name = \"parent_id\")\nvar _parent: T? = null\nvar parent: T\n    get() = if (isParent) this as T else _parent!!\n    set(value) {\n        _parent = if (value == null) null else value.parent\n    }\n</code></pre>\n\n<p>I don't like the <code>_parent</code> variable, but also it doesn't help with the setter, because it is still not-nullable as the <code>parent: T</code>, so the solution does not work.</p>\n"}, {"tags": ["performance", "gradle", "garbage-collection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 762, "user_id": 1144395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/46901b51e062c401919d02fc5c5aca4c?s=128&d=identicon&r=PG", "display_name": "naki", "link": "https://stackoverflow.com/users/1144395/naki"}, "is_accepted": false, "score": 2, "last_activity_date": 1495014081, "creation_date": 1495014081, "answer_id": 44021143, "question_id": 44021142, "link": "https://stackoverflow.com/questions/44021142/why-is-gradle-build-of-kotlin-source-code-pausing-for-3-secs-forcing-system-gc/44021143#44021143", "title": "Why is Gradle build of Kotlin source code pausing for ~3 secs &quot;forcing System.gc()&quot;?", "body": "<p>I've looked into this, and this is a consequence of having Gradle's debug-level logging enabled <em>(eg. <code>gradle --debug assemble</code>)</em>. </p>\n\n<p>Run Gradle without debug logging enabled <em>(eg. <code>gradle --info assemble</code>)</em> and this should not occur anymore.</p>\n\n<p>References: <a href=\"https://github.com/JetBrains/kotlin/blob/e25060f8c9fd447ee22b0d6def9940ab4ff5a6a9/libraries/tools/kotlin-gradle-plugin/src/main/kotlin/org/jetbrains/kotlin/gradle/plugin/KotlinGradleBuildServices.kt#L166\" rel=\"nofollow noreferrer\">libraries/tools/kotlin-gradle-plugin/src/main/kotlin/org/jetbrains/kotlin/gradle/plugin/KotlinGradleBuildServices.kt</a></p>\n"}, {"comments": [{"owner": {"reputation": 762, "user_id": 1144395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/46901b51e062c401919d02fc5c5aca4c?s=128&d=identicon&r=PG", "display_name": "naki", "link": "https://stackoverflow.com/users/1144395/naki"}, "edited": false, "score": 0, "creation_date": 1495205417, "post_id": 44061085, "comment_id": 75170103, "body": "Thanks for pointing out a way in which they could achieve their debugging goals that doesn&#39;t bog down new Gradle users such as myself. Given that builds can be lengthy and that oftentimes the only way to find out why Gradle is making the decisions it makes is with <code>--debug</code>, I&#39;ve been dumping its output to disk and relying on it quite heavily for now. If they agree that they can live without memory diagnostics running on every user build, I&#39;d be 3 seconds happier. (voted for the YouTrack issue)"}], "tags": [], "owner": {"reputation": 11, "user_id": 2065811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aryS0.jpg?s=128&g=1", "display_name": "Alexey Tsvetkov", "link": "https://stackoverflow.com/users/2065811/alexey-tsvetkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1495165435, "creation_date": 1495165435, "answer_id": 44061085, "question_id": 44021142, "link": "https://stackoverflow.com/questions/44021142/why-is-gradle-build-of-kotlin-source-code-pausing-for-3-secs-forcing-system-gc/44061085#44061085", "title": "Why is Gradle build of Kotlin source code pausing for ~3 secs &quot;forcing System.gc()&quot;?", "body": "<p>Kotlin Gradle plugins calls <code>System.gc</code> before and after a build only when debug logging is enabled (Gradle is run with <code>-d</code> or <code>--debug</code> command line argument).\nUsers do not normally run Gradle with debug logging enabled because it is extremely noisy and slow, so forcing a GC is a relatively minor issue.</p>\n\n<p>Historically this behaviour was added to test against memory leaks when Gradle daemon is enabled. The idea was to log a difference of used memory before and after a build, run a few builds consequently in a test, and assert that the difference is not exceeding the threshold.</p>\n\n<p>I think calling <code>System.gc</code> should be avoided unless the test <code>KotlinGradleIT#testKotlinOnlyDaemonMemory</code> is running, so I've created an issue at Kotlin bugtracker <a href=\"https://youtrack.jetbrains.com/issue/KT-17960\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-17960</a></p>\n"}], "owner": {"reputation": 762, "user_id": 1144395, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/46901b51e062c401919d02fc5c5aca4c?s=128&d=identicon&r=PG", "display_name": "naki", "link": "https://stackoverflow.com/users/1144395/naki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1495165435, "creation_date": 1495014081, "question_id": 44021142, "link": "https://stackoverflow.com/questions/44021142/why-is-gradle-build-of-kotlin-source-code-pausing-for-3-secs-forcing-system-gc", "title": "Why is Gradle build of Kotlin source code pausing for ~3 secs &quot;forcing System.gc()&quot;?", "body": "<p>Every build takes an extra 3-4 seconds, pausing immediately after the log output prints the following.</p>\n\n<blockquote>\n  <p>[LIFECYCLE]\n  [org.jetbrains.kotlin.gradle.plugin.KotlinGradleBuildServices] Forcing\n  System.gc()</p>\n</blockquote>\n\n<p>Why is it \"forcing\" this? How do I avoid this and speed up my build?</p>\n"}, {"tags": ["java", "android", "realm", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2904, "user_id": 1990021, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/yN3lO.jpg?s=128&g=1", "display_name": "andrei", "link": "https://stackoverflow.com/users/1990021/andrei"}, "is_accepted": true, "score": 4, "last_activity_date": 1495009983, "creation_date": 1495009983, "answer_id": 44019564, "question_id": 44019524, "link": "https://stackoverflow.com/questions/44019524/unable-to-create-arraylist-inside-realmobject-subclass/44019564#44019564", "title": "unable to create ArrayList inside RealmObject subclass", "body": "<p>You can define the messages as a <code>RealmList</code>\nFrom the docs :</p>\n\n<blockquote>\n  <p>RealmList has two modes: A managed and unmanaged mode. In managed mode\n  all objects are persisted inside a Realm, in unmanaged mode it works\n  as a normal ArrayList.</p>\n</blockquote>\n\n<p><a href=\"https://realm.io/docs/java/latest/api/io/realm/RealmList.html\" rel=\"nofollow noreferrer\">https://realm.io/docs/java/latest/api/io/realm/RealmList.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1495010026, "creation_date": 1495010026, "answer_id": 44019582, "question_id": 44019524, "link": "https://stackoverflow.com/questions/44019524/unable-to-create-arraylist-inside-realmobject-subclass/44019582#44019582", "title": "unable to create ArrayList inside RealmObject subclass", "body": "<p><code>ArrayList</code> is not a supported field type for Realm objects. You can see the available types <a href=\"https://realm.io/docs/java/latest/#field-types\" rel=\"nofollow noreferrer\">here</a>, maybe a <code>RealmList</code> would fit your use case?</p>\n"}, {"tags": [], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "is_accepted": false, "score": 0, "last_activity_date": 1495013260, "creation_date": 1495013260, "answer_id": 44020803, "question_id": 44019524, "link": "https://stackoverflow.com/questions/44019524/unable-to-create-arraylist-inside-realmobject-subclass/44020803#44020803", "title": "unable to create ArrayList inside RealmObject subclass", "body": "<p>You cannot. Realm only accept <code>RealmList</code>. But you can use <code>RealmList</code> and write a custom jsonAdapter that will transform it into a <code>RealmList</code> and vice versa.</p>\n\n<pre><code>open class MessageContainerObject : RealmObject() {\n   @SerializedName(\"from\")\n   var from = \"\"\n   @SerializedName(\"messages\")\n   var messages = RealmList&lt;Test&gt;()\n}\nclass RealmListAdapter&lt;T : RealmModel&gt;(\n        val elementAdapter: JsonAdapter&lt;T&gt;) : JsonAdapter&lt;RealmList&lt;T&gt;&gt;() {\n\n    companion object {\n\n        val FACTORY: Factory = Factory { type, annotations, moshi -&gt;\n            val rawType: Class&lt;*&gt; = Types.getRawType(type)\n\n            if (rawType == RealmList::class.java) {\n                val elementType = Types.collectionElementType(type, RealmList::class.java)\n                val elementAdapter = moshi.adapter&lt;RealmModel&gt;(elementType)\n                return@Factory RealmListAdapter(elementAdapter).nullSafe()\n            }\n            null\n        }\n    }\n\n    override fun fromJson(reader: JsonReader): RealmList&lt;T&gt; {\n\n        val result = RealmList&lt;T&gt;()\n        reader.beginArray()\n        while (reader.hasNext()) {\n            result.add(elementAdapter.fromJson(reader))\n        }\n        reader.endArray()\n        return result\n    }\n\n    override fun toJson(writer: JsonWriter, value: RealmList&lt;T&gt;) {\n        writer.beginArray()\n        for (element in value) {\n            elementAdapter.toJson(writer, element)\n        }\n        writer.endArray()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 1, "accepted_answer_id": 44019564, "answer_count": 3, "score": 1, "last_activity_date": 1495013260, "creation_date": 1495009861, "question_id": 44019524, "link": "https://stackoverflow.com/questions/44019524/unable-to-create-arraylist-inside-realmobject-subclass", "title": "unable to create ArrayList inside RealmObject subclass", "body": "<p>I have a class which is subclass of RealmObject, and I want to create inside that class arraylist which will be deserialized by gson, when I'm starting building project compile time error appears that </p>\n\n<pre><code>Error:Type 'java.util.ArrayList&lt;my_package.MessageContainerObject.Test&gt;' of field 'messages' is not supported\n</code></pre>\n\n<p>here is my class</p>\n\n<pre><code>open class MessageContainerObject : RealmObject() {\n   @SerializedName(\"from\")\n   var from = \"\"\n   @SerializedName(\"messages\")\n   var messages = ArrayList&lt;Test&gt;()\n\n   class Test\n}\n</code></pre>\n\n<p>if I remove the parent class everything works fine</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "simple-xml-converter"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1495014148, "post_id": 44018300, "comment_id": 75069199, "body": "Have you tried using the <code>@Element</code> annotation?"}, {"owner": {"reputation": 11, "user_id": 6915246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5f31308b157fee77daa15bee9bb9d9f?s=128&d=identicon&r=PG&f=1", "display_name": "\ubc15\ud604\uae30", "link": "https://stackoverflow.com/users/6915246/%eb%b0%95%ed%98%84%ea%b8%b0"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1495014192, "post_id": 44018300, "comment_id": 75069233, "body": "Yes, I did. but not worked T^T"}], "owner": {"reputation": 11, "user_id": 6915246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5f31308b157fee77daa15bee9bb9d9f?s=128&d=identicon&r=PG&f=1", "display_name": "\ubc15\ud604\uae30", "link": "https://stackoverflow.com/users/6915246/%eb%b0%95%ed%98%84%ea%b8%b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495006171, "creation_date": 1495006171, "question_id": 44018300, "link": "https://stackoverflow.com/questions/44018300/android-retrofit-simplexmlconverter-with-empty-entity", "title": "Android Retrofit + SimpleXmlConverter with Empty entity", "body": "<p>I'm trying to request Restful api data from retrofit, with SimpleXmlConverter.</p>\n\n<p>But I got this error.</p>\n\n<pre><code>org.simpleframework.xml.core.ConstructorException: Parameter     'comMsgHeader' does not have a match in class     tylenol.common.model.retrofit.routelist.ServiceResult\n</code></pre>\n\n<p>Sample XML Request</p>\n\n<pre><code>&lt;ServiceResult&gt;\n&lt;comMsgHeader/&gt; &lt;-- This tag make me annoying --&gt;\n&lt;msgHeader&gt;\n    &lt;headerCd&gt;0&lt;/headerCd&gt;\n    &lt;headerMsg&gt;...&lt;/headerMsg&gt;\n    &lt;itemCount&gt;0&lt;/itemCount&gt;\n&lt;/msgHeader&gt;\n&lt;msgBody&gt;\n    &lt;itemList&gt;\n        ....\n    &lt;/itemList&gt;\n&lt;/msgBody&gt;\n</code></pre>\n\n<p></p>\n\n<p>And this is my data class written by kotlin.</p>\n\n<pre><code>data class ServiceResult(\n    val msgHeader: MsgHeader? = null,\n    val msgBody: MsgBody? = null,\n    val comMsgHeader: List&lt;ComMsgHeader&gt;? = null)\n</code></pre>\n\n<p>Sorry for bad english skills.</p>\n"}, {"tags": ["generics", "inheritance", "kotlin"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 1, "creation_date": 1495002242, "post_id": 44014267, "comment_id": 75061366, "body": "Is there any special constrain on <code>UserRetrofitApi::get</code>? You just need to change it into <code>fun get(id: Long): Observable&lt;IUser?&gt;</code> if there is none."}, {"owner": {"reputation": 17, "user_id": 714786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8810f5458d341ae8ec12e942437b088?s=128&d=identicon&r=PG", "display_name": "DeuS", "link": "https://stackoverflow.com/users/714786/deus"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1495008890, "post_id": 44014267, "comment_id": 75065404, "body": "@glee8e, see my respond below."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 714786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8810f5458d341ae8ec12e942437b088?s=128&d=identicon&r=PG", "display_name": "DeuS", "link": "https://stackoverflow.com/users/714786/deus"}, "edited": false, "score": 0, "creation_date": 1495008836, "post_id": 44018415, "comment_id": 75065380, "body": "I&#39;m using <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a> to interacting with the server api. From what I understand, the Retrofit object need to be a class with default constructor and it will help to perform the serialization and serialization from and to json object.  I&#39;ve updated the sample code to reflect the actual Retrofit interface."}], "tags": [], "owner": {"reputation": 127, "user_id": 3075210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P8L5W.jpg?s=128&g=1", "display_name": "kutsyk", "link": "https://stackoverflow.com/users/3075210/kutsyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1495006549, "creation_date": 1495006549, "answer_id": 44018415, "question_id": 44014267, "link": "https://stackoverflow.com/questions/44014267/kotlin-inheritance/44018415#44018415", "title": "Kotlin Inheritance", "body": "<p>If I understand you right you just need to change you return the result of <code>UserRetroFitApi.get</code> to <code>Observable&lt;IUser?&gt;</code>.</p>\n\n<pre><code>class UserRetrofitApi\n{\n    fun get(id: Long): Observable&lt;IUser?&gt; {\n        val user = User()\n        user.id = 1\n        user.name = \"User 1\"\n        return Observable.just(user)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 714786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8810f5458d341ae8ec12e942437b088?s=128&d=identicon&r=PG", "display_name": "DeuS", "link": "https://stackoverflow.com/users/714786/deus"}, "edited": false, "score": 0, "creation_date": 1495029046, "post_id": 44020994, "comment_id": 75079943, "body": "I&#39;ve read through the doc and it make a lot sense as compared to reading it the first time. I&#39;ve tried it out and it works.  A follow up question would be that the repository need to support CRUD operations and I cannot declare the <code>UserRepository</code> to be covariant. I&#39;ve read through the <b>use-site variance</b> and <b>type projections</b> but I not able to solve my own question as I&#39;m passing a single object rather than collection/array of objects as per example given."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 1, "last_activity_date": 1495013700, "creation_date": 1495013700, "answer_id": 44020994, "question_id": 44014267, "link": "https://stackoverflow.com/questions/44014267/kotlin-inheritance/44020994#44020994", "title": "Kotlin Inheritance", "body": "<p>Declare your <code>get</code> function in the base repository as follows:</p>\n\n<pre><code>fun get(id: Long): Observable&lt;out T?&gt;\n</code></pre>\n\n<p>and likewise change the <code>get</code> function in <code>UserRepository</code> to:</p>\n\n<pre><code>override fun get(id: Long): Observable&lt;out IUser?&gt; {\n    return _api.get(id)\n}\n</code></pre>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">the docs on variance</a> for more information.</p>\n"}], "owner": {"reputation": 17, "user_id": 714786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8810f5458d341ae8ec12e942437b088?s=128&d=identicon&r=PG", "display_name": "DeuS", "link": "https://stackoverflow.com/users/714786/deus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 44020994, "answer_count": 2, "score": 1, "last_activity_date": 1495013700, "creation_date": 1494986235, "last_edit_date": 1495008762, "question_id": 44014267, "link": "https://stackoverflow.com/questions/44014267/kotlin-inheritance", "title": "Kotlin Inheritance", "body": "<p>I'm currently learning to split my messy code into DDD (note, learning) paradigm. The entities (<code>IEntity</code>, <code>IUser</code>) is domain layer is made up of interface, which then implemented at the Data layer (<code>BaseEntity</code>, <code>User</code>). Access to data is through the repository pattern. But as I defined for <code>IUserRepository</code> to return <code>IUser</code>, at the data layer I have to manually cast it <code>User</code> back to <code>IUser</code> to match the return signature.</p>\n\n<p>How can I avoid the casting? Thank you.</p>\n\n<p><strong>Domain layer</strong></p>\n\n<pre><code>interface IEntity\n{\n    var id: Long?\n    var name: String?\n}\n\ninterface IUser : IEntity\n{\n}\n\ninterface IBaseRepository&lt;T: IUser&gt;\n{\n    fun get(id: Long): Observable&lt;T?&gt;\n}\n\ninterface IUserRepository : IBaseRepository&lt;IUser&gt;\n{\n}\n</code></pre>\n\n<p><strong>Data layer</strong></p>\n\n<pre><code>abstract class BaseEntity() : IEntity\n{\n    @SerializedName(\"id\")\n    override var id: Long? = null\n\n    @SerializedName(\"full_name\")\n    override var name: String? = null\n}\n\nclass User() : BaseEntity(), IUser\n{\n}\n\ninterface UserRetrofitApi\n{\n    @GET(\"user/{uuid}/\")\n    fun get(id: Long): Observable&lt;User?&gt;\n}\n\nclass UserRepository(private val _api: UserRetrofitApi) : IUserRepository\n{\n    override fun get(id: Long): Observable&lt;IUser?&gt; {\n        return _api.get(id) as Observable&lt;IUser?&gt; // How to avoid casting here without resorting to generic UserRepository&lt;T: IUser&gt;\n    }\n}\n</code></pre>\n"}, {"tags": ["templates", "dynamic", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11494, "user_id": 630136, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ef26490ce64f932af9ae6e9e554b036?s=128&d=identicon&r=PG", "display_name": "G_H", "link": "https://stackoverflow.com/users/630136/g-h"}, "edited": false, "score": 0, "creation_date": 1494992401, "post_id": 44009876, "comment_id": 75057859, "body": "A scripting engine for Kotlin itself sounds perfect. I wanted to avoid bringing JavaScript or JRuby into it when the the arguments operated on would be Kotlin ones."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 11494, "user_id": 630136, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ef26490ce64f932af9ae6e9e554b036?s=128&d=identicon&r=PG", "display_name": "G_H", "link": "https://stackoverflow.com/users/630136/g-h"}, "edited": false, "score": 0, "creation_date": 1495018722, "post_id": 44009876, "comment_id": 75072209, "body": "By the way, I&#39;ve just tried it for myself and found <a href=\"https://youtrack.jetbrains.com/issue/KT-17921\" rel=\"nofollow noreferrer\">a problem</a> with the 1.1.2 release of this tool, so if you encounter it too, then I&#39;d recommend using 1.1.1 until it&#39;s fixed."}, {"owner": {"reputation": 11494, "user_id": 630136, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ef26490ce64f932af9ae6e9e554b036?s=128&d=identicon&r=PG", "display_name": "G_H", "link": "https://stackoverflow.com/users/630136/g-h"}, "edited": false, "score": 0, "creation_date": 1495021945, "post_id": 44009876, "comment_id": 75074426, "body": "1.1.2 here, but after some experimenting I found that to access variables not declared in the script itself but passed in via bindings to the scripting engine, you have to us a construct <code>bindings[&quot;var_name&quot;] as Type</code>. Is that intentional and will it stay that way? In Rhino you can just do something like <code>var_name + 2</code> and it evaluates. In the end the requirements I need this for are probably gonna necessitate writing a parser anyway, but it was interesting to try."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 11494, "user_id": 630136, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ef26490ce64f932af9ae6e9e554b036?s=128&d=identicon&r=PG", "display_name": "G_H", "link": "https://stackoverflow.com/users/630136/g-h"}, "edited": false, "score": 1, "creation_date": 1495023267, "post_id": 44009876, "comment_id": 75075360, "body": "@G_H, I think you can work that around by binding a value first and then evaluating a code line that will declare it as a local variable in the script. Something like this: <a href=\"https://gist.github.com/h0tk3y/1966663456235e674c6971f5c1911db4\" rel=\"nofollow noreferrer\">(gist)</a>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 13, "last_activity_date": 1494962412, "creation_date": 1494962412, "answer_id": 44009876, "question_id": 44009515, "link": "https://stackoverflow.com/questions/44009515/dynamically-evaluating-templated-strings-in-kotlin/44009876#44009876", "title": "Dynamically evaluating templated Strings in Kotlin", "body": "<p>If you need to evaluate arbitrary expressions in this way, then yes, you need a scripting engine. Kotlin has a <a href=\"https://www.jcp.org/en/jsr/detail?id=223\" rel=\"noreferrer\">JSR 223</a> implementation that you can use, see the examples <a href=\"https://github.com/JetBrains/kotlin/tree/master/libraries/examples/\" rel=\"noreferrer\">here (the <code>kotlin-jsr223-*</code> projects)</a>.</p>\n\n<p>Here is a basic usage example:</p>\n\n<pre><code>val engine = ScriptEngineManager().getEngineByExtension(\"kts\")!!\nengine.eval(\"val x = 3\")\nval res = engine.eval(\"x + 2\")\nAssert.assertEquals(5, res)\n</code></pre>\n\n<p><sup>The code is taken from <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/examples/kotlin-jsr223-local-example/src/test/kotlin/org/jetbrains/kotlin/script/jsr223/KotlinJsr223ScriptEngineIT.kt#L68\" rel=\"noreferrer\"><code>KotlinJsr223ScriptEngineIT.kt</code></a>, and remember to <a href=\"https://github.com/JetBrains/kotlin/tree/master/libraries/examples/kotlin-jsr223-local-example/src/main/resources/META-INF/services\" rel=\"noreferrer\">configure the service via <code>META-INF</code></a></sup></p>\n"}, {"comments": [{"owner": {"reputation": 11494, "user_id": 630136, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ef26490ce64f932af9ae6e9e554b036?s=128&d=identicon&r=PG", "display_name": "G_H", "link": "https://stackoverflow.com/users/630136/g-h"}, "edited": false, "score": 0, "creation_date": 1494992166, "post_id": 44009906, "comment_id": 75057822, "body": "Formatting Strings does just that, it formats. Kotlin templates can contain expressions, such as arithmetic operations, boolean logic, method calls etc. That&#39;s more what I&#39;m after."}], "tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": false, "score": 1, "last_activity_date": 1494962533, "creation_date": 1494962533, "answer_id": 44009906, "question_id": 44009515, "link": "https://stackoverflow.com/questions/44009515/dynamically-evaluating-templated-strings-in-kotlin/44009906#44009906", "title": "Dynamically evaluating templated Strings in Kotlin", "body": "<blockquote>\n  <p>Is there some way to evaluate Strings that aren't in the source code with regards to templates in their current context?</p>\n</blockquote>\n\n<p>There are no template strings in your code sample and <code>a</code> is unused. Am I understanding correctly that you'd like to do something like <code>val evaluated = evalStringTemplate(template, arg1, arg2, ...)</code> with <code>template</code> being a <code>String</code> like <code>\"$a\"</code> and arg1, arg2, ... being arguments for the template? </p>\n\n<p>If so, there's no Kotlin-specific way to do this, but you can use the Java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a> class.</p>\n"}], "owner": {"reputation": 11494, "user_id": 630136, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ef26490ce64f932af9ae6e9e554b036?s=128&d=identicon&r=PG", "display_name": "G_H", "link": "https://stackoverflow.com/users/630136/g-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5625, "favorite_count": 3, "accepted_answer_id": 44009876, "answer_count": 2, "score": 4, "last_activity_date": 1494962533, "creation_date": 1494961233, "question_id": 44009515, "link": "https://stackoverflow.com/questions/44009515/dynamically-evaluating-templated-strings-in-kotlin", "title": "Dynamically evaluating templated Strings in Kotlin", "body": "<p>Suppose that I have the following piece of Kotlin code:</p>\n\n\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val a = \"test\"\n    println(args.first())\n}\n</code></pre>\n\n<p>If I pass in an argument <code>$a</code>, the output is going to be <code>$a</code>. As I understand it Kotlin takes care of String templates by generating the code for the output on compilation, presumably using a StringBuilder. Is there some way to evaluate Strings that aren't in the source code with regards to templates in their current context? String templates are very useful and it'd be great to be capable of evaluating expressions that come from a dynamic context, such as configuration files, but as far as I can tell this can't be done.</p>\n\n<p>Lacking that, what would be a good approach towards this? Invoking a scripting engine?</p>\n"}, {"tags": ["java", "intellij-idea", "version-control", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1495017654, "post_id": 44009135, "comment_id": 75071523, "body": "The bug causing this file to be generated for projects that don&#39;t use Kotlin is fixed in Kotlin 1.1.2, which is bundled in IntelliJ IDEA 2017.1.3."}], "answers": [{"comments": [{"owner": {"reputation": 1210, "user_id": 4708865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SHNuz.jpg?s=128&g=1", "display_name": "Kenneth Salomon", "link": "https://stackoverflow.com/users/4708865/kenneth-salomon"}, "edited": false, "score": 1, "creation_date": 1494960182, "post_id": 44009179, "comment_id": 75046635, "body": "Seconded, you should never commit to version controls something that can be generated by using the development tools, especially when the files in question will never be a part of the finished product. If you find new users pulling your repository and having trouble, then maybe you missed some files or might need to re-evaluate a few files you decided to not version control but otherwise, do not version it."}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 1, "creation_date": 1494960368, "post_id": 44009179, "comment_id": 75046727, "body": "+1. IMO, projects should not contain IDE dependencies unless the dependency is for some reason required."}, {"owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "edited": false, "score": 0, "creation_date": 1494961519, "post_id": 44009179, "comment_id": 75047362, "body": "Makes sense, devs should be able to choose their own IDE setup and let build tools handle all the metafiles. Thanks for the clarification @ answerer and previous commenters!"}, {"owner": {"reputation": 1651, "user_id": 1719285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759e8a2de737bf875a85d800c7cff36a?s=128&d=identicon&r=PG", "display_name": "NeverwinterMoon", "link": "https://stackoverflow.com/users/1719285/neverwintermoon"}, "edited": false, "score": 0, "creation_date": 1519220455, "post_id": 44009179, "comment_id": 84820587, "body": "I am not sure this is such a good suggestion. We&#39;ve been versioning some (notice that not all) files in the .idea folder - one very important one being &quot;codeStyleSettings.xml&quot;, as we want to have consistent code formatting in our team. Most of the other files are not worth versioning, sure, but it does make sense to have at least the aforementioned file under the version control."}, {"owner": {"reputation": 7897, "user_id": 5091346, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/MEVJT.jpg?s=128&g=1", "display_name": "Andrii Abramov", "link": "https://stackoverflow.com/users/5091346/andrii-abramov"}, "reply_to_user": {"reputation": 1651, "user_id": 1719285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759e8a2de737bf875a85d800c7cff36a?s=128&d=identicon&r=PG", "display_name": "NeverwinterMoon", "link": "https://stackoverflow.com/users/1719285/neverwintermoon"}, "edited": false, "score": 0, "creation_date": 1519224571, "post_id": 44009179, "comment_id": 84823560, "body": "@NeverwinterMoon what about just exporting code style?"}, {"owner": {"reputation": 1651, "user_id": 1719285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759e8a2de737bf875a85d800c7cff36a?s=128&d=identicon&r=PG", "display_name": "NeverwinterMoon", "link": "https://stackoverflow.com/users/1719285/neverwintermoon"}, "edited": false, "score": 0, "creation_date": 1519226178, "post_id": 44009179, "comment_id": 84824690, "body": "@AndriiAbramov Exporting surely works - but it means you have to import and, probably, re-import/re-export if the style changes. If you version that file, on the other hand, all the newly updated code formatting will automatically work (if you have selected Editor &gt; Code Style &gt; Scheme = Project in the settings). In addition to that file, we version settings for some of the IDEA 3rd-party plugins we use, they are stored in different *.xml files in the same folder. Exporting and importing all of those is a hustle for sure."}, {"owner": {"reputation": 2954, "user_id": 5652513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2bQCi.jpg?s=128&g=1", "display_name": "methodsignature", "link": "https://stackoverflow.com/users/5652513/methodsignature"}, "edited": false, "score": 0, "creation_date": 1523366461, "post_id": 44009179, "comment_id": 86524329, "body": "I&#39;m with NeverwinterMoon.  Sometimes IDE configuration files support team norms.  This answer gives a strong philosophical reasoning, but those sorts of rules should always be weighed against effective processes. The code style example is very important and shouldn&#39;t be dismissed.  Do you want your new team member to read a wiki about where to find the teams code styling file, or do you want code styling to be as automated as possible.  One more point on that example, allowing code styling to version against the codebase they govern is another value add."}, {"owner": {"reputation": 2954, "user_id": 5652513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2bQCi.jpg?s=128&g=1", "display_name": "methodsignature", "link": "https://stackoverflow.com/users/5652513/methodsignature"}, "edited": false, "score": 12, "creation_date": 1523366663, "post_id": 44009179, "comment_id": 86524493, "body": "This should not be the accepted answer.  It doesn&#39;t inform us as to why the file exists, how it works, and/or whether or not it is something that should be versioned along with the source code.  Instead, it provides an opinion about best practices in regards to a set of files that have a very wide range of reasons of existing."}, {"owner": {"reputation": 423, "user_id": 1571329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b251d1a0ca2eb260a204f2906f9e47b2?s=128&d=identicon&r=PG", "display_name": "Howard Swope", "link": "https://stackoverflow.com/users/1571329/howard-swope"}, "edited": false, "score": 3, "creation_date": 1537201735, "post_id": 44009179, "comment_id": 91688822, "body": "This should not be the accepted answer. There are particular development situations where you absolutely want project and ide files present. If your entire development team has settled on a given toolset and you want to share particular project specific files, why not? Obviously you don&#39;t want to store user specific configuration files but project wide files are fine."}, {"owner": {"reputation": 2340, "user_id": 3660290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3OdJq.png?s=128&g=1", "display_name": "G00fY", "link": "https://stackoverflow.com/users/3660290/g00fy"}, "edited": false, "score": 0, "creation_date": 1541176816, "post_id": 44009179, "comment_id": 93139767, "body": "Quote from Jetbrains documentation: &quot;we recommend sharing the .idea/codeStyles directory via VCS&quot; <a href=\"https://blog.jetbrains.com/kotlin/2018/09/kotlin-1-3-rc-is-here-migrate-your-coroutines/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2018/09/&hellip;</a>"}], "tags": [], "owner": {"reputation": 7897, "user_id": 5091346, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/MEVJT.jpg?s=128&g=1", "display_name": "Andrii Abramov", "link": "https://stackoverflow.com/users/5091346/andrii-abramov"}, "is_accepted": true, "score": 3, "last_activity_date": 1521558334, "last_edit_date": 1521558334, "creation_date": 1494959962, "answer_id": 44009179, "question_id": 44009135, "link": "https://stackoverflow.com/questions/44009135/can-should-i-add-kotlinc-xml-to-my-version-control-ignore-file/44009179#44009179", "title": "Can / Should I add kotlinc.xml to my version control ignore file?", "body": "<p>I have never submitted anything from <code>.idea</code> directory. </p>\n\n<p>If you use modern build system like <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\"><em>Gradle</em></a> or <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\"><em>Maven</em></a> there is no need to submit such metafiles because IDEs like Intellij IDEA or Eclipse can successfully extract such metadata from dependencies / properties.</p>\n\n<p>Mostly, IntelliJ will ask you to override existing properties in <code>.idea</code> folder.</p>\n\n<p>After importing Gradle / Maven project IntelliJ creates its own <code>.idea</code> directory with configurations and properties.</p>\n\n<p>I prefer to keep my project as clean as possible (sources, build (gradle, maven) files, CI, README). Fortunately, Java allows us to make <strong>portable</strong> sources / projects so we should not waste this chance :)</p>\n"}, {"tags": [], "owner": {"reputation": 1133, "user_id": 8876284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0afd0314f7b98407c79c3b65317e16d?s=128&d=identicon&r=PG&f=1", "display_name": "guglhupf", "link": "https://stackoverflow.com/users/8876284/guglhupf"}, "is_accepted": false, "score": 2, "last_activity_date": 1564583035, "last_edit_date": 1592644375, "creation_date": 1564579787, "answer_id": 57291966, "question_id": 44009135, "link": "https://stackoverflow.com/questions/44009135/can-should-i-add-kotlinc-xml-to-my-version-control-ignore-file/57291966#57291966", "title": "Can / Should I add kotlinc.xml to my version control ignore file?", "body": "<p>You should not add this file to your version control ignore file. We have this file checked in, as it contained relevant JVM target information. This is in line with the <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544839-How-to-manage-projects-under-Version-Control-Systems\" rel=\"nofollow noreferrer\">official Jetbrains sharing recommendation</a>, which states:</p>\n<blockquote>\n<p>Here is what you need to share:</p>\n<ul>\n<li>All the files under the .idea directory [...]</li>\n</ul>\n</blockquote>\n<p>kotlinc.xml is not stated as an exception to this rule.</p>\n<p>Additionally, the gitignore templates from <a href=\"https://github.com/github/gitignore/blob/master/Global/JetBrains.gitignore\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://www.gitignore.io/api/intellij\" rel=\"nofollow noreferrer\">gitignore.io</a> do not list this file, so it should be checked in.</p>\n"}], "owner": {"reputation": 3254, "user_id": 3169029, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0af57d5b6e070c3e08a536505210f610?s=128&d=identicon&r=PG", "display_name": "Erik", "link": "https://stackoverflow.com/users/3169029/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1661, "favorite_count": 0, "accepted_answer_id": 44009179, "answer_count": 2, "score": 8, "last_activity_date": 1564583035, "creation_date": 1494959754, "question_id": 44009135, "link": "https://stackoverflow.com/questions/44009135/can-should-i-add-kotlinc-xml-to-my-version-control-ignore-file", "title": "Can / Should I add kotlinc.xml to my version control ignore file?", "body": "<p>Somewhere in the process of setting up a Java project in IntelliJ IDEA (2017.1.2) a file in the <code>.idea/</code> directory called <code>kotlinc.xml</code> showed up. I do nothing with Kotlin, but the file is there with contents:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project version=\"4\"&gt;\n  &lt;component name=\"KotlinCommonCompilerArguments\"&gt;\n    &lt;option name=\"languageVersion\" value=\"1.1\" /&gt;\n    &lt;option name=\"apiVersion\" value=\"1.1\" /&gt;\n  &lt;/component&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>This seems some generic configuration, but I can imagine some project-specific (and not just my-local-IDEA-specific) configuration of Kotlin is stored there. So, in general, can this file be ignored when sharing the project under version control (e.g. Git), i.e., not committing it and publishing it somewhere online? Or should it be ignored?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1494940666, "post_id": 44002446, "comment_id": 75033472, "body": "What may happen if both of them is <code>null</code>? You are breaking the symmetric contract."}, {"owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1494940792, "post_id": 44002446, "comment_id": 75033586, "body": "That is a design problem, this is just an example, I am trying to solve a programming problem."}], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1494953418, "post_id": 44002791, "comment_id": 75042734, "body": "I think it can make sense to compare nullable properties, you might want to sort the instances that have them as <code>null</code> to one of the ends of a list, for example. If comparing two instances that both have it as <code>null</code>, obviously <code>0</code> should be returned (as you&#39;ve done in your example), and then it&#39;s all good and sensible."}], "tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": false, "score": 1, "last_activity_date": 1494941086, "creation_date": 1494941086, "answer_id": 44002791, "question_id": 44002446, "link": "https://stackoverflow.com/questions/44002446/comparing-two-optionals-in-kotlin/44002791#44002791", "title": "Comparing two optionals in Kotlin", "body": "<p>This is incorrect. If you have two instances with their ids set to <code>null</code>, both instances will return <code>-1</code> when you call <code>compareTo(other)</code> on them, while if one returns <code>-1</code> the other should return <code>1</code> in a correct implementation. I'm not sure if there are situations where it makes sense to implement <code>compareTo</code> based on nullable properties, but I can't imagine any. Maybe there's a better way for you too?</p>\n\n<p>Also, you should avoid non-null assertions (<code>!!</code>). Since you're using <code>var</code>s, other threads may change the value to null so that even if you did a null check  before, the value is now null and <code>!!</code> throws. Instead, you should store both ids in local variables and check these for <code>null</code> values.</p>\n\n<p>If you absolutely have to use <code>compareTo</code>, I'd do it like this:</p>\n\n<pre><code>override fun compareTo(other: T): Int {\n    val thisId = id\n    val otherId = other.id\n    if (thisId == null &amp;&amp; otherId == null) return 0\n    if (thisId == null &amp;&amp; otherId != null) return -1\n    if (thisId != null &amp;&amp; otherId == null) return 1\n\n    // thisId and otherId are now smart cast to Long\n    return thisId.compareTo(otherId)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": false, "score": 0, "last_activity_date": 1494942077, "last_edit_date": 1494942077, "creation_date": 1494941663, "answer_id": 44003017, "question_id": 44002446, "link": "https://stackoverflow.com/questions/44002446/comparing-two-optionals-in-kotlin/44003017#44003017", "title": "Comparing two optionals in Kotlin", "body": "<p>Here is a simple way:</p>\n\n<pre><code>override fun compareTo(other: T) :Int {\n    return id?.compareTo(other.id ?: return 1) ?: -1\n}\n</code></pre>\n\n<p>However this piece of code is very unfriendly to a novice kotlin programmer. It involves too much magic that make it look like scala. These 3 question marks make people puzzled, at least they must think for a minute or two before they could realize what is going on in this minimalistic one-liner. I still prefer your edition. It's more verbose, but clear.</p>\n\n<p>And I'm really worried about the symmetric problem. This matters, and isn't just a design problem. If you don't compare nullable properties, there won't be this programming puzzle. It will just be <code>override fun compareTo(other: T) = id.compareTo(other.id)</code>. Simple, clear, and no misleading.</p>\n\n<p>I would rather throw away all null checking code and just live with those null assertions. Because mostly you won't compare there things until it is fully initialized. If these assertion fails, it means something really bad has happens. </p>\n\n<p>Oh, BTW, I don't know about your project, and if it hits the rare cases that you have to compare nullable properties, I think you could write a special edition of <code>Comparator</code> that consider nulls instead of throwing NPEs. Don't mess with the natural order.</p>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 6, "last_activity_date": 1494942798, "creation_date": 1494942798, "answer_id": 44003446, "question_id": 44002446, "link": "https://stackoverflow.com/questions/44002446/comparing-two-optionals-in-kotlin/44003446#44003446", "title": "Comparing two optionals in Kotlin", "body": "<p>Check out the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/index.html\" rel=\"noreferrer\">kotlin.comparisons package</a>. e.g. You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/compare-values.html\" rel=\"noreferrer\"><code>compareValues</code></a>:</p>\n\n<pre><code>class IdableK&lt;T : IdableK&lt;T&gt;&gt; : Comparable&lt;T&gt; {\n    private var id: Long? = null\n\n    override fun compareTo(other: T) = compareValues(id, other.id)\n}\n</code></pre>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 44003446, "answer_count": 3, "score": 0, "last_activity_date": 1494942798, "creation_date": 1494940217, "question_id": 44002446, "link": "https://stackoverflow.com/questions/44002446/comparing-two-optionals-in-kotlin", "title": "Comparing two optionals in Kotlin", "body": "<p>Consider a class with id field which might be null until stored in database:</p>\n\n<pre><code>class IdableK&lt;T : IdableK&lt;T&gt;&gt; : Comparable&lt;T&gt; {    \n    private var id : Long? = null\n}\n</code></pre>\n\n<p>I am trying to implement a <code>compareTo</code> method as follows:</p>\n\n<pre><code>    override fun compareTo(other: T): Int {\n        if (id == null) {\n            return -1;\n        }\n\n        if (other.id == null) {\n            return 1;\n        }\n\n        return id!!.compareTo(other.id!!)\n    }\n</code></pre>\n\n<p>Is this a correct way of doing it? Would there be a simple way of doing it?</p>\n"}, {"tags": ["gradle", "groovy", "kotlin"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1494941442, "post_id": 44002344, "comment_id": 75034149, "body": "What&#39;s wrong with <code>properties[name]</code>? If Kotlin script would let you access variables not declared in the script itself, it would not be very safe. This is one of the reasons I&#39;d prefer Kotlin script over Groovy."}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 1070333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d917dc67549e40cdc38b2a7622a3ba5e?s=128&d=identicon&r=PG", "display_name": "Duncan Calvert", "link": "https://stackoverflow.com/users/1070333/duncan-calvert"}, "edited": false, "score": 0, "creation_date": 1500787117, "post_id": 44003445, "comment_id": 77486920, "body": "Problem here is that casting doesn&#39;t work with delegates. Any? is returned. To get a String you will need to call <code>answer as String</code>."}, {"owner": {"reputation": 1922, "user_id": 306047, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9036cb8dc5eafb78f197e3c446aeca7?s=128&d=identicon&r=PG", "display_name": "snorbi", "link": "https://stackoverflow.com/users/306047/snorbi"}, "edited": false, "score": 2, "creation_date": 1548953688, "post_id": 44003445, "comment_id": 95739049, "body": "Specify a concrete type: val answer:String by project"}], "tags": [], "owner": {"reputation": 1184, "user_id": 6275756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4a6d2e911e7a47db549e946fef4dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Vyacheslav Gerasimov", "link": "https://stackoverflow.com/users/6275756/vyacheslav-gerasimov"}, "is_accepted": false, "score": 4, "last_activity_date": 1494942794, "creation_date": 1494942794, "answer_id": 44003445, "question_id": 44002344, "link": "https://stackoverflow.com/questions/44002344/proper-way-to-get-properties-with-kotlin-script-config-for-gradle/44003445#44003445", "title": "Proper way to get properties with Kotlin-script config for Gradle", "body": "<p>Try <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegated property</a>, like this:</p>\n\n<pre><code>val answer by project\nprintln(\"answer is $answer\")\n</code></pre>\n\n<p>There is example in gradle script kotlin repo\n<a href=\"https://github.com/gradle/gradle-script-kotlin/tree/master/samples/project-properties\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle-script-kotlin/tree/master/samples/project-properties</a></p>\n"}], "owner": {"reputation": 1938, "user_id": 2572584, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/42567624047b36f1ef0922eea500c8a8?s=128&d=identicon&r=PG", "display_name": "awfun", "link": "https://stackoverflow.com/users/2572584/awfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3221, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1495292618, "creation_date": 1494939949, "last_edit_date": 1495292618, "question_id": 44002344, "link": "https://stackoverflow.com/questions/44002344/proper-way-to-get-properties-with-kotlin-script-config-for-gradle", "title": "Proper way to get properties with Kotlin-script config for Gradle", "body": "<p>I have a property in <code>gradle.properties</code>:</p>\n\n<pre><code>answer = 42\n</code></pre>\n\n<p>Which is used in <code>build.gradle</code>:</p>\n\n<pre><code>println \"answer is ${answer}\"\n</code></pre>\n\n<p>Now I want to replace Groovy with Kotlin-script for Gradle configuring. How to access properties in a proper way? What I'm doing now in <code>build.gradle.kts</code> is:</p>\n\n<pre><code>fun property(name: String) = properties[name] as String\n\nprintln(\"answer is \" + property(\"answer\"))\n</code></pre>\n\n<p>Which does not seem to be very convenient. Thanks!</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 879, "user_id": 7600634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a2189e1b52b82b3d791c99477e5d85?s=128&d=identicon&r=PG&f=1", "display_name": "John Tribe", "link": "https://stackoverflow.com/users/7600634/john-tribe"}, "edited": false, "score": 0, "creation_date": 1516747111, "post_id": 44000609, "comment_id": 83813816, "body": "seriously? 2018 and this is still not patched :("}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1494935843, "last_edit_date": 1494935843, "creation_date": 1494935235, "answer_id": 44000609, "question_id": 44000076, "link": "https://stackoverflow.com/questions/44000076/creating-kotlin-classes-in-android-studio-using-intention-actions/44000609#44000609", "title": "Creating Kotlin classes in Android Studio using intention actions", "body": "<p>This just happens to be the default behaviour in Kotlin because the restrictions on what you can put in a file are weaker.</p>\n\n<p>One fairly quick and painless solution to this is to immediately invoke intention actions on the newly created interface, and choose <code>Move 'MyInterface' to a separate file</code>. This moves it into a separate file within the same package/folder.</p>\n\n<p>If you want to move it to a different package, <kbd>F6</kbd> is the default shortcut for moving a class or interface to somewhere else, which you can also invoke when the cursor is on the new interface.</p>\n"}], "owner": {"reputation": 867, "user_id": 5500449, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/439709b90e57d0ba4f2d1f0b065bb16e?s=128&d=identicon&r=PG&f=1", "display_name": "Jefferson Tavares", "link": "https://stackoverflow.com/users/5500449/jefferson-tavares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494936929, "creation_date": 1494933615, "last_edit_date": 1494936929, "question_id": 44000076, "link": "https://stackoverflow.com/questions/44000076/creating-kotlin-classes-in-android-studio-using-intention-actions", "title": "Creating Kotlin classes in Android Studio using intention actions", "body": "<p>When using Java on Android Studio I must often don't have to create files, I just type the name of the class I want to use and use \"Intent Actions\" to solve the problem and create the necessary file. The problem is, when using Kotlin, if I need, lets say an Interface, when I hit the Intent Action, Android Studio creates that Interface in the same file I'm working on, instead of providing a dialog for package selection as it does for Java. Any thoughts on how to fix this?</p>\n"}, {"tags": ["android", "json", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1494918693, "post_id": 43994606, "comment_id": 75017897, "body": "Well, you have a list of images, but you only need a single one. I guess you just need to pick one in the list. Which one do you want?"}, {"owner": {"reputation": 532, "user_id": 3274299, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36fb3494dca1629f2a914f5851758cd7?s=128&d=identicon&r=PG&f=1", "display_name": "Tipok", "link": "https://stackoverflow.com/users/3274299/tipok"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1494918863, "post_id": 43994606, "comment_id": 75017984, "body": "@marstran I need to transformation objects from List&lt;ImageSingle&gt; to List&lt;Image&gt; and the function chooseRace return list type of Single&lt;List&lt;Image&gt;&gt;"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1494971673, "creation_date": 1494971673, "answer_id": 44012253, "question_id": 43994606, "link": "https://stackoverflow.com/questions/43994606/kotlin-transformation-of-objects-to-another-objects/44012253#44012253", "title": "Kotlin transformation of objects to another objects", "body": "<p>Considering your <em>images.json</em>, your <code>getImages()</code> should not return a <code>Single</code> of a <code>List</code>.</p>\n\n<pre><code>@GET(\"android/determinace/json/images.json\")\nfun getImages(): Single&lt;ImagesResponse&gt;\n</code></pre>\n\n<p>Then you could use the Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\"><code>List.map()</code></a> mapper to map the list.</p>\n\n<pre><code>imagesAdi.getImages()\n    .map { list -&gt; list.map { chooseRaceMapper.invoke(it) } }\n    .doOnSuccess { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "is_accepted": false, "score": 1, "last_activity_date": 1495014123, "creation_date": 1495014123, "answer_id": 44021160, "question_id": 43994606, "link": "https://stackoverflow.com/questions/43994606/kotlin-transformation-of-objects-to-another-objects/44021160#44021160", "title": "Kotlin transformation of objects to another objects", "body": "<p>The interface declaration is wrong:</p>\n\n<pre><code>interface ImagesAdi {\n    @GET(\"android/determinace/json/images.json\")\n    fun getImages(): Single&lt;List&lt;ImagesResponse&gt;&gt;\n}\n</code></pre>\n\n<p>It should be (according to your json):</p>\n\n<pre><code>interface ImagesAdi {\n    @GET(\"android/determinace/json/images.json\")\n    fun getImages(): Single&lt;ImagesResponse&gt;\n}\n</code></pre>\n\n<p>And for the mapping part, something like this will do:</p>\n\n<pre><code>imagesAdi.getImages().map { it.images }\n    .map { /* your mapper here */ }\n    ...\n</code></pre>\n"}], "owner": {"reputation": 532, "user_id": 3274299, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36fb3494dca1629f2a914f5851758cd7?s=128&d=identicon&r=PG&f=1", "display_name": "Tipok", "link": "https://stackoverflow.com/users/3274299/tipok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3878, "favorite_count": 1, "accepted_answer_id": 44012253, "answer_count": 2, "score": 4, "last_activity_date": 1518964617, "creation_date": 1494918370, "last_edit_date": 1518964617, "question_id": 43994606, "link": "https://stackoverflow.com/questions/43994606/kotlin-transformation-of-objects-to-another-objects", "title": "Kotlin transformation of objects to another objects", "body": "<p><a href=\"http://cm08323.tmweb.ru/android/determinace/json/images.json\" rel=\"nofollow noreferrer\">http://cm08323.tmweb.ru/android/determinace/json/images.json</a>\nI have some json to the server. </p>\n\n<p>My database class:</p>\n\n<pre><code>@Entity\ndata class Image(val url: String = \"\", val urlAnswer: String = \"\", val race: String = \"\") : DisplayableItem, Persistable\n</code></pre>\n\n<p>Interface for api:</p>\n\n<pre><code>interface ImagesAdi {\n    @GET(\"android/determinace/json/images.json\")\n    fun getImages(): Single&lt;List&lt;ImagesResponse&gt;&gt;\n}\n...\nclass ImagesResponse(\n        val images: List&lt;ImageSingle&gt;)\n\nclass ImageSingle(val url: String,\n            val url_answer: String,\n            val race: String)\n</code></pre>\n\n<p>My mapper for transformation <strong>ImagesResponse</strong> to <strong>Image</strong>:</p>\n\n<pre><code>@Singleton\nclass ChooseRaceMapper @Inject constructor() : (ImageSingle) -&gt; Image {\n    override fun invoke(response: ImageSingle): Image = Image(response.url, response.url_answer, response.race)\n}\n</code></pre>\n\n<p>How should look like transformer from <strong>List&lt; ImageSingle ></strong> to <strong>List&lt; Image ></strong>?</p>\n\n<p>I have trasformer for single objects, he looks like that:</p>\n\n<pre><code>fun chooseRace(): Single&lt;Image&gt; = imagesAdi.getSingleImage()\n        .map { chooseRaceMapper.invoke(it) }\n        .doOnSuccess {\n            database.addDetectedResult(it)\n                    .subscribeIgnoreResult()\n\n            requestImages()\n        }\n</code></pre>\n\n<p>Can you help me to write transformer for type \"<strong>List</strong>\"? I trying make it, but  it did not work out. Thanks. Sorry for my English. </p>\n\n<p>Or transformation from List to List should be better in class Mapper? (In method invoke)</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 881, "user_id": 3474018, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aac6c1cc56c57a4546cfaa7bb517abc4?s=128&d=identicon&r=PG&f=1", "display_name": "zt1983811", "link": "https://stackoverflow.com/users/3474018/zt1983811"}, "edited": false, "score": 0, "creation_date": 1548110997, "post_id": 43982958, "comment_id": 95418096, "body": "but the function is not return, if it is returning Boolean or Int as return type, it will have compiling issue"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "reply_to_user": {"reputation": 881, "user_id": 3474018, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aac6c1cc56c57a4546cfaa7bb517abc4?s=128&d=identicon&r=PG&f=1", "display_name": "zt1983811", "link": "https://stackoverflow.com/users/3474018/zt1983811"}, "edited": false, "score": 1, "creation_date": 1548149364, "post_id": 43982958, "comment_id": 95429938, "body": "Thank you @zt1983811, I&#39;ve added <code>return</code> statements."}, {"owner": {"reputation": 423, "user_id": 12621824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abbc877e2ebc4dadd05c8907f27bcb3c?s=128&d=identicon&r=PG&f=1", "display_name": "C96", "link": "https://stackoverflow.com/users/12621824/c96"}, "edited": false, "score": 0, "creation_date": 1599225521, "post_id": 43982958, "comment_id": 112716630, "body": "How can I call this method for Boolean?"}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": true, "score": 14, "last_activity_date": 1548189429, "last_edit_date": 1548189429, "creation_date": 1494861076, "answer_id": 43982958, "question_id": 43982750, "link": "https://stackoverflow.com/questions/43982750/a-function-with-generic-return-type/43982958#43982958", "title": "A function with generic return type", "body": "<p>You can use reified type to capture its class literal, like this:</p>\n\n<pre><code>inline fun &lt;reified T&gt; doSomething() : T {\n    return when (T::class.java) {\n        Boolean::class.java -&gt; somethingThatReturnsBoolean() as T\n        Int::class.java -&gt; somethingThatReturnsInt() as T\n        else -&gt; throw Exception(\"Unhandled return type\")\n    }\n}\n</code></pre>\n\n<p>But you also must convince the compiler that T is Boolean or T is Int, as in the example, with unchecked cast.</p>\n\n<p><code>reified</code> makes real T's type accessible, but works only inside inline functions. If you want a regular function, you can try:</p>\n\n<pre><code>inline fun &lt;reified T&gt; doSomething() : T = doSomething(T::class.java)\nfun &lt;T&gt; doSomething(klass: Class&lt;T&gt;): T {\n    return when (klass) { ... }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2063, "user_id": 3531558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kH9pf.jpg?s=128&g=1", "display_name": "Allen", "link": "https://stackoverflow.com/users/3531558/allen"}, "is_accepted": false, "score": 0, "last_activity_date": 1605191262, "creation_date": 1605191262, "answer_id": 64805813, "question_id": 43982750, "link": "https://stackoverflow.com/questions/43982750/a-function-with-generic-return-type/64805813#64805813", "title": "A function with generic return type", "body": "<p><code>Any</code> might be something you want to use. It's the root of Kotlin class hierarchy.</p>\n<p>Also optional is available for Any with the syntax <code>Any?</code></p>\n<pre><code>fun doSomething(key: Any): Any {\n    when {\n             key is Boolean -&gt; return true\n             key is Int -&gt; return 1\n             else -&gt; throw Exception(&quot;Unhandled return type&quot;)\n         }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1414, "user_id": 3757672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/miE8t.png?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/3757672/markus"}, "is_accepted": false, "score": 0, "last_activity_date": 1617630810, "last_edit_date": 1617630810, "creation_date": 1617556883, "answer_id": 66943944, "question_id": 43982750, "link": "https://stackoverflow.com/questions/43982750/a-function-with-generic-return-type/66943944#66943944", "title": "A function with generic return type", "body": "<p>You could also directly pass your functions like <code>somethingThatReturnsInt()</code> etc. to a generic function and infer the return type from the passed function itself. Here is an example for <code>Kotlin</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// This function takes any method you provide and infers the result-type\npublic fun&lt;T&gt; generic_function(passed_function: () -&gt; T): T? =\n    passed_function()\n\n\n// Pass your function. The return type will be inferred directly from somethingThatReturnsInt()'s return-type\nval res: Int? = generic_function(::somethingThatReturnsInt)\n\n// For the sake of completeness, this is valid as well\nval res: Int? = generic_function&lt;Int?&gt; { somethingThatReturnsInt() }\n</code></pre>\n<p>This way you don't have to deal with <code>when</code>-scenarios and your return-type is generic depending on the passed function.</p>\n"}], "owner": {"reputation": 6221, "user_id": 259288, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c018a1f0997014d4d8332b17bc392ef2?s=128&d=identicon&r=PG", "display_name": "Johnny", "link": "https://stackoverflow.com/users/259288/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4491, "favorite_count": 0, "accepted_answer_id": 43982958, "answer_count": 3, "score": 8, "last_activity_date": 1617630810, "creation_date": 1494860442, "last_edit_date": 1494871195, "question_id": 43982750, "link": "https://stackoverflow.com/questions/43982750/a-function-with-generic-return-type", "title": "A function with generic return type", "body": "<p>Is it possible to have a function that returns a generic type? Something like:</p>\n\n<pre><code>fun &lt;T&gt; doSomething() : T {\n    when {\n        T is Boolean -&gt; somethingThatReturnsBoolean()\n        T is Int -&gt; somethingThatReturnsInt()\n        else -&gt; throw Exception(\"Unhandled return type\")\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1495077990, "post_id": 43982630, "comment_id": 75102501, "body": "Note you are using erased types here by using a Class instead of a Type, most JSON parsers allow you to specify a Type, TypeRef, TypeReference or similar instead of Class, you should consider making that change if your library supports it otherwise the generic parameters are being ignored."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 12, "last_activity_date": 1494905831, "last_edit_date": 1495535475, "creation_date": 1494861209, "answer_id": 43983008, "question_id": 43982630, "link": "https://stackoverflow.com/questions/43982630/inferring-a-generic-type-of-map-in-kotlin/43983008#43983008", "title": "Inferring a generic type of Map in Kotlin", "body": "<p>Kotlin does not have anything like Java raw types (which were left in Java for backward compatibility), and the type system therefore does not allow this kind of unchecked assignment to be made implicitly (<a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"noreferrer\">star projections</a>, the closest concept to raw types in Kotlin, retain type safety).</p>\n\n<p>You can make an unchecked cast to <code>Map&lt;String, String&gt;</code>, thus expressing that you are aware of a possible type mismatch at runtime:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nval result = foo.readJson(Map::class.java) as Map&lt;String, String&gt;\n</code></pre>\n\n<p><sup>You can <a href=\"https://stackoverflow.com/questions/36221405/how-can-i-suppress-unchecked-cast-warnings\">suppress the unchecked cast warning</a> for a broader scope than just one statement.</sup></p>\n\n<p>A natural improvement of this solution is writing a util function to hide the unchecked cast in it:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\ninline fun &lt;reified T: Any&gt; JsonReader.readJson(): T {\n    val result = readJson(T::class.java)\n    return result as T\n}\n</code></pre>\n\n<p><sup>This solution uses an <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"noreferrer\">inline function with a reified type parameter</a>: the function is transformed and substituted at each of its call sites, with <code>T</code> replaced by the specified (or inferred) type at compile time .</sup></p>\n\n<p>Usage examples:</p>\n\n<pre><code>val map = jsonReader.readJson&lt;Map&lt;String, String&gt;&gt;()\n</code></pre>\n\n<p><sup></sup></p>\n\n<pre><code>fun processMap(map: Map&lt;String, String) { /* ... */ }\n\nprocessMap(jsonReader.readJson()) // Map&lt;String, String&gt; is inferred for this call\n</code></pre>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4971, "favorite_count": 2, "accepted_answer_id": 43983008, "answer_count": 1, "score": 10, "last_activity_date": 1494905831, "creation_date": 1494860102, "question_id": 43982630, "link": "https://stackoverflow.com/questions/43982630/inferring-a-generic-type-of-map-in-kotlin", "title": "Inferring a generic type of Map in Kotlin", "body": "<p>Consider a Java method which infers its type by Java class as follows:</p>\n\n<pre><code>public &lt;T&gt; T readJson(Class&lt;T&gt; c) throws IOException {\n</code></pre>\n\n<p>This allows doing something like this:</p>\n\n<pre><code>Map&lt;String, String&gt; map = foo.readJson(Map.class);\n</code></pre>\n\n<p>In java it will warn about unchecked cast, but it will work correctly. However in Kotlin, this will not be so easy, one could try using:</p>\n\n<pre><code>foo.readJson(Map::class.java)\n</code></pre>\n\n<p>However if <code>Map&lt;String, String&gt;</code> will be required, it will not work:</p>\n\n<pre><code>Type inference failed. Expected type mismatch.\nrequired Map&lt;String, String&gt;\nfound Map&lt;*, *&gt;!\n</code></pre>\n\n<p>I also tried defining an interface StringMap:</p>\n\n<pre><code>interface StringMap : Map&lt;String, String&gt;\n</code></pre>\n\n<p>However that does not work either, it will lead to exceptions like this:</p>\n\n<pre><code>Cannot cast ...LinkedTreeMap to ...StringMap\n</code></pre>\n\n<p>What would be a correct way of doing this? </p>\n"}, {"tags": ["java", "maven", "build", "interop", "kotlin"], "comments": [{"owner": {"reputation": 112, "user_id": 4815429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e712c76aad98245e42aac2aa950c3532?s=128&d=identicon&r=PG&f=1", "display_name": "ThrowingSpoon", "link": "https://stackoverflow.com/users/4815429/throwingspoon"}, "edited": false, "score": 1, "creation_date": 1494852986, "post_id": 43980110, "comment_id": 74989184, "body": "Please show us <code>MyClassLinkingKotlin.java</code> particularly line 100 (I think its [line,col])"}, {"owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "reply_to_user": {"reputation": 112, "user_id": 4815429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e712c76aad98245e42aac2aa950c3532?s=128&d=identicon&r=PG&f=1", "display_name": "ThrowingSpoon", "link": "https://stackoverflow.com/users/4815429/throwingspoon"}, "edited": false, "score": 0, "creation_date": 1494853106, "post_id": 43980110, "comment_id": 74989278, "body": "Added to the question."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1494889444, "post_id": 43980110, "comment_id": 75009226, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/43834360/error-trying-to-instantiate-a-kotlin-class-from-java\">Error trying to instantiate a Kotlin class from Java</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9488, "user_id": 1121497, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/lKl3g.jpg?s=128&g=1", "display_name": "Ferran Maylinch", "link": "https://stackoverflow.com/users/1121497/ferran-maylinch"}, "edited": false, "score": 3, "creation_date": 1579677689, "post_id": 43981979, "comment_id": 105841403, "body": "Thank you. So, unfortunately, it seems that intellij doesn&#39;t setup the pom file correctly when there is Java and Kotlin together. I had to do it manually by following the documentation."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 75, "last_activity_date": 1494858275, "creation_date": 1494858275, "answer_id": 43981979, "question_id": 43980110, "link": "https://stackoverflow.com/questions/43980110/using-kotlin-class-in-java-cannot-find-symbol/43981979#43981979", "title": "Using Kotlin class in Java: Cannot find symbol", "body": "<p>Your Maven configuration adds the Kotlin compiler plugin, but doesn't adjust the Java compiler plugin execution so that the Java compiler runs after the Kotlin compiler. Therefore, the Java compiler runs before Kotlin, and doesn't see Kotlin-compiled classes.</p>\n\n<p>Here's a snippet showing the correct configuration for a mixed-language project (taken from <a href=\"http://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"noreferrer\">the documentation</a>):</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;goals&gt; &lt;goal&gt;test-compile&lt;/goal&gt; &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirs&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\n                            &lt;sourceDir&gt;${project.basedir}/src/test/java&lt;/sourceDir&gt;\n                        &lt;/sourceDirs&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;!-- Replacing default-compile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;!-- Replacing default-testCompile as it is treated specially by maven --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-testCompile&lt;/id&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;java-test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt; &lt;goal&gt;testCompile&lt;/goal&gt; &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2276, "user_id": 915756, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/r0k4f.jpg?s=128&g=1", "display_name": "Michal Vician", "link": "https://stackoverflow.com/users/915756/michal-vician"}, "edited": false, "score": 0, "creation_date": 1617697815, "post_id": 44466470, "comment_id": 118369416, "body": "Just curious: why this works is that after Kotlin files are moved to <code>src&#47;main&#47;kotlin</code> they are compiled before Java files? That&#39;s how this works?"}], "tags": [], "owner": {"reputation": 1877, "user_id": 2479282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f00f79b7ae03f6d1d24df61d6cbc582?s=128&d=identicon&r=PG", "display_name": "Sean", "link": "https://stackoverflow.com/users/2479282/sean"}, "is_accepted": false, "score": 4, "last_activity_date": 1497041319, "creation_date": 1497041319, "answer_id": 44466470, "question_id": 43980110, "link": "https://stackoverflow.com/questions/43980110/using-kotlin-class-in-java-cannot-find-symbol/44466470#44466470", "title": "Using Kotlin class in Java: Cannot find symbol", "body": "<p>I ran into this same error, but had the correct pom setup. My issue was that I had just converted a Java class to a Kotlin class with Intellij, which left that Kotlin file in <code>src/main/java</code>.</p>\n\n<p>The solution for me was to create a <code>src/main/kotlin</code> and move my Kotlin class there, and leave my Java files in <code>src/main/java</code>. But you do definitely need the maven setup that @yole's answer shows.</p>\n"}, {"tags": [], "owner": {"reputation": 1739, "user_id": 2979955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gzC4g.jpg?s=128&g=1", "display_name": "Chris Sprague", "link": "https://stackoverflow.com/users/2979955/chris-sprague"}, "is_accepted": false, "score": 7, "last_activity_date": 1586382340, "creation_date": 1586382340, "answer_id": 61110556, "question_id": 43980110, "link": "https://stackoverflow.com/questions/43980110/using-kotlin-class-in-java-cannot-find-symbol/61110556#61110556", "title": "Using Kotlin class in Java: Cannot find symbol", "body": "<p>If you are using Android Studio and have already added the Kotlin plugins via Settings -> Plugins -> Kotlin, then it could be that you haven't setup the rest of Gradle to use Kotlin. Here's a snippet from <a href=\"https://medium.com/@elye.project/setup-kotlin-for-android-studio-1bffdf1362e8\" rel=\"noreferrer\">https://medium.com/@elye.project/setup-kotlin-for-android-studio-1bffdf1362e8</a>:</p>\n\n<p>Step 1: Setup the Kotlin Plugin in Android Studio</p>\n\n<blockquote>\n  <p>Android Studio \u2192 Preferences\u2026 \u2192Plugins \u2192 Browse Repository \u2192 type\n  \u201cKotlin\u201d in search box \u2192 install</p>\n</blockquote>\n\n<p>Step 2:  Add Kotlin classpath to project Build.Gradle</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = \"1.1.1\"\n    ext.supportLibVersion = \"25.3.0\"\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n\n<p>Step 3: Add Kotlin library and apply Kotlin Plugins in your module Build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    // ... various gradle setup\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile \"com.android.support:appcompat-v7:$supportLibVersion\"\n    compile \"com.android.support:recyclerview-v7:$supportLibVersion\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17330, "favorite_count": 8, "accepted_answer_id": 43981979, "answer_count": 3, "score": 36, "last_activity_date": 1613665586, "creation_date": 1494852845, "last_edit_date": 1495542879, "question_id": 43980110, "link": "https://stackoverflow.com/questions/43980110/using-kotlin-class-in-java-cannot-find-symbol", "title": "Using Kotlin class in Java: Cannot find symbol", "body": "<p>I have found <a href=\"https://stackoverflow.com/questions/37946305/how-to-solve-error-cannot-find-symbol-class-after-converting-java-class\">this</a> similar question regarding Android, but I am using plain Java with Maven as build tool. I think it is better to post a new question.</p>\n\n<p>I have created a Kotlin class to which I am trying to refer from Java class as <code>MyKotlinClass.class</code>. The Maven build fails, whereas compilation in IntelliJ Idea works fine. I have already added Kotlin plugin to maven:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;compile&lt;/id&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test-compile&lt;/id&gt;\n                    &lt;phase&gt;test-compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>However that does not help:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project app: Compilation failure\n[ERROR] MyClassLinkingKotlin.java:[100,40] error: cannot find symbol\n</code></pre>\n\n<p>The line/column exactly refers to symbol <code>MyKotlinClass.class</code>. It will fail even when using like this:</p>\n\n<pre><code>System.err.println(MyKotlinClass.class)\n</code></pre>\n"}, {"tags": ["android", "maven", "android-gradle-plugin", "kotlin", "maven-publish"], "answers": [{"tags": [], "owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "is_accepted": false, "score": 3, "last_activity_date": 1494852381, "last_edit_date": 1495540043, "creation_date": 1494852381, "answer_id": 43979947, "question_id": 43979348, "link": "https://stackoverflow.com/questions/43979348/kotlin-android-library-module-exported-with-gradle-maven-publish-plugin-not-addi/43979947#43979947", "title": "Kotlin Android Library Module exported with gradle maven-publish plugin not adding dependencies", "body": "<p>Ok, so keeping reading the answers on the linked <a href=\"https://stackoverflow.com/questions/26874498/maven-publish-android-library-with-aar-and-source-jar?noredirect=1&amp;lq=1\">question</a> I've implemented <a href=\"https://stackoverflow.com/a/42160584/7822962\">this</a> that solved my problem. My final publish.gradle is like: </p>\n\n<pre><code>apply plugin: 'maven-publish'\n\nProperties properties = new Properties()\nproperties.load(project.rootProject.file('local.properties').newDataInputStream())\n\next {\n    releaseRepository = \"s3://****/maven/releases\"\n    snapshotsRepository = \"s3://****/maven/snapshots\"\n    artifactRepository = \"$buildDir/outputs/aar/render-engine-release.aar\"\n\n    _version = properties.getProperty('lib.version')\n    _artifact = properties.getProperty('lib.name')\n    _group = properties.getProperty('lib.group')\n}\n\n\ntask sourceJar(type: Jar) {\n    from android.sourceSets.main.java.srcDirs\n    classifier \"source\"\n}\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n            groupId _group\n            artifactId _artifact\n            version _version\n            artifact(sourceJar)\n            artifact artifactRepository\n\n            pom.withXml {\n                def dependenciesNode = asNode().appendNode('dependencies')\n\n                configurations.compile.getAllDependencies().each { Dependency dep -&gt;\n                    if (dep.group == null || dep.version == null || dep.name == null || dep.name == \"unspecified\")\n                        return\n\n                    def dependencyNode = dependenciesNode.appendNode('dependency')\n                    dependencyNode.appendNode('groupId', dep.group)\n                    dependencyNode.appendNode('artifactId', dep.name)\n                    dependencyNode.appendNode('version', dep.version)\n\n                    if (!dep.transitive) {\n                        def exclusionNode = dependencyNode.appendNode('exclusions').appendNode('exclusion')\n                        exclusionNode.appendNode('groupId', '*')\n                        exclusionNode.appendNode('artifactId', '*')\n                    } else if (!dep.properties.excludeRules.empty) {\n                        def exclusionsNode = dependencyNode.appendNode('exclusions')\n                        dep.properties.excludeRules.each { ExcludeRule rule -&gt;\n                            def exclusionNode = exclusionsNode.appendNode('exclusion')\n                            exclusionNode.appendNode('groupId', rule.group ?: '*')\n                            exclusionNode.appendNode('artifactId', rule.module ?: '*')\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    repositories {\n        maven {\n            if (_version.endsWith('-SNAPSHOT')) {\n                url snapshotsRepository\n            } else {\n                url releaseRepository\n            }\n\n            credentials(AwsCredentials) {\n                accessKey AWS_ACCESS_KEY\n                secretKey AWS_SECRET_KEY\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 784, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1494852381, "creation_date": 1494850660, "last_edit_date": 1495541412, "question_id": 43979348, "link": "https://stackoverflow.com/questions/43979348/kotlin-android-library-module-exported-with-gradle-maven-publish-plugin-not-addi", "title": "Kotlin Android Library Module exported with gradle maven-publish plugin not adding dependencies", "body": "<p>I'm trying to export an Android Library Module developed in Kotlin using gradle's <code>maven-publish</code> <a href=\"https://docs.gradle.org/nightly/userguide/publishing_maven.html?_ga=2.40973730.1873863357.1494848000-339024189.1494445308\" rel=\"nofollow noreferrer\">plugin</a>. aar file is successfully generated and exported however no dependency is added to it - at all, not even Kotlin ones. Below is the plugin configuration based on <a href=\"https://stackoverflow.com/questions/26874498/maven-publish-android-library-with-aar-and-source-jar\">this</a> answer:</p>\n\n<pre><code>apply plugin: 'maven-publish'\n\nProperties properties = new Properties()\nproperties.load(project.rootProject.file('local.properties').newDataInputStream())\n\next {\n    releaseRepository = \"s3://****/maven/releases\"\n    snapshotsRepository = \"s3://****/maven/snapshots\"\n    artifactRepository = \"$buildDir/outputs/aar/render-engine-release.aar\"\n\n    _version = properties.getProperty('lib.version')\n    _artifact = properties.getProperty('lib.name')\n    _group = properties.getProperty('lib.group')\n}\n\n\ntask sourceJar(type: Jar) {\n    from android.sourceSets.main.java.srcDirs\n    classifier \"source\"\n}\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n            groupId _group\n            artifactId _artifact\n            version _version\n            artifact (sourceJar)\n            artifact artifactRepository\n\n            pom.withXml {\n                def dependenciesNode = asNode().appendNode('dependencies')\n\n                configurations.compile.allDependencies.each {\n                    if(_group != null &amp;&amp; (_artifact != null || \"unspecified\" == _artifact) &amp;&amp; _version != null) {\n                        def dependencyNode = dependenciesNode.appendNode('dependency')\n\n                        dependencyNode.appendNode('groupId', _group)\n                        dependencyNode.appendNode('artifactId', _artifact)\n                        dependencyNode.appendNode('version', _version)\n                    }\n                }\n            }\n        }\n    }\n\n    repositories {\n        maven {\n            if(_version.endsWith('-SNAPSHOT')) {\n                url snapshotsRepository\n            } else {\n                url releaseRepository\n            }\n\n           credentials(AwsCredentials) {\n                accessKey AWS_ACCESS_KEY\n                secretKey AWS_SECRET_KEY\n           }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "methods", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1494837088, "post_id": 43974079, "comment_id": 74979077, "body": "What do you want to achieve? Should the function return what it does only when the condition is true? If so, what should happen otherwise?"}, {"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1494837931, "post_id": 43974079, "comment_id": 74979561, "body": "@hotkey To be honest, I find it difficult to answer this question, the main task was to add this condition."}], "answers": [{"comments": [{"owner": {"reputation": 5308, "user_id": 4038191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ec10e81b5315fe2147c38bf3e15e9e?s=128&d=identicon&r=PG", "display_name": "EvilTak", "link": "https://stackoverflow.com/users/4038191/eviltak"}, "edited": false, "score": 0, "creation_date": 1494838612, "post_id": 43975095, "comment_id": 74979973, "body": "Or you could simply check whether the value is negative outside the method, no extra code required."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1494842388, "last_edit_date": 1494842388, "creation_date": 1494838364, "answer_id": 43975095, "question_id": 43974079, "link": "https://stackoverflow.com/questions/43974079/modified-method-with-new-condition/43975095#43975095", "title": "Modified method with new condition", "body": "<p>If the idea is that the result is meaningless when the condition is false, then you can transform the function to return a <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#nullable-types-and-non-null-types\" rel=\"nofollow noreferrer\">nullable value (<code>Long?</code>)</a>, and return <code>null</code> in that case:</p>\n\n<pre><code>fun getTimeFromLastPinInput(): Long? {\n    val now = DateTime.now().millis\n    val lastPinInputTime = PreferenceRepository.getLastPinInputTime()\n    return if (now &gt;= lastPinInputTime) now - lastPinInputTime else null\n}\n</code></pre>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 43975095, "answer_count": 1, "score": 0, "last_activity_date": 1494842388, "creation_date": 1494834758, "question_id": 43974079, "link": "https://stackoverflow.com/questions/43974079/modified-method-with-new-condition", "title": "Modified method with new condition", "body": "<p>I have a next method:</p>\n\n<pre><code>fun getTimeFromLastPinInput(): Long {\n    return DateTime.now().millis - PreferenceRepository.getLastPinInputTime()\n}\n</code></pre>\n\n<p>I want to add a next condition:</p>\n\n<pre><code>if (DateTime.now().millis &gt;= PreferenceRepository.getLastPinInputTime())\n</code></pre>\n\n<p>How i can modified my method correct?</p>\n"}, {"tags": ["inheritance", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1494798617, "post_id": 43969110, "comment_id": 74968186, "body": "If the <code>graph</code> property were not initialised, then the <code>graph.graph.size</code> would fail."}, {"owner": {"reputation": 695, "user_id": 3555136, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e6dcfdfbc04f0aa4a77dc44bda7063a7?s=128&d=identicon&r=PG&f=1", "display_name": "enitihas", "link": "https://stackoverflow.com/users/3555136/enitihas"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1494799100, "post_id": 43969110, "comment_id": 74968305, "body": "@OliverCharlesworth, Yes, I know that. But why is the graph property not being initialized."}], "answers": [{"comments": [{"owner": {"reputation": 695, "user_id": 3555136, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e6dcfdfbc04f0aa4a77dc44bda7063a7?s=128&d=identicon&r=PG&f=1", "display_name": "enitihas", "link": "https://stackoverflow.com/users/3555136/enitihas"}, "edited": false, "score": 0, "creation_date": 1494800050, "post_id": 43969241, "comment_id": 74968526, "body": "Thanks. It works now. I did try removing override only to get an error. I never thought of removing val as I needed n as a property in DGraph too. Now I understand it all better."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 1, "last_activity_date": 1494799475, "creation_date": 1494799475, "answer_id": 43969241, "question_id": 43969110, "link": "https://stackoverflow.com/questions/43969110/superclass-property-not-initialized-in-derived-class/43969241#43969241", "title": "Superclass property not initialized in Derived class", "body": "<p><strong>TL;DR</strong> Remove <code>override val</code> from the <code>DGraph</code> constructor param.</p>\n\n<p>Your code is secretly equivalent to the following Java pseudo-code:</p>\n\n<pre><code>class Graph {\n    private final int n;\n    private final List&lt;MutableSet&lt;Int&gt;&gt; graph;\n\n    Graph(int n) {\n        this.n = n;\n        this.graph = someStuffThatCreatesAList(getN());\n    }\n\n    int getN() { return n; }\n\n    // ...\n}\n\nclass DGraph extends Graph {\n    private final int n;\n\n    DGraph(int n) {\n        super(n);\n        this.n = n;\n    }\n\n    int getN() { return n; }\n\n    // ...\n}\n</code></pre>\n\n<p>So during the <code>Graph</code> constructor, the overriden <code>getN</code> gets called.  However, the sub-class members have not been initialised yet, so it returns the default value (<code>0</code>).</p>\n\n<p>By removing <code>override val</code>, you eliminate the override to <code>getN</code>.</p>\n"}], "owner": {"reputation": 695, "user_id": 3555136, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e6dcfdfbc04f0aa4a77dc44bda7063a7?s=128&d=identicon&r=PG&f=1", "display_name": "enitihas", "link": "https://stackoverflow.com/users/3555136/enitihas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 43969241, "answer_count": 1, "score": 0, "last_activity_date": 1494799710, "creation_date": 1494798417, "last_edit_date": 1494799710, "question_id": 43969110, "link": "https://stackoverflow.com/questions/43969110/superclass-property-not-initialized-in-derived-class", "title": "Superclass property not initialized in Derived class", "body": "<p>I have the following Kotlin Code:</p>\n\n<pre><code>import java.util.*\nimport kotlin.collections.HashSet\n\nopen class Graph(open val n: Int) {\n    val graph = List&lt;MutableSet&lt;Int&gt;&gt;(n) {HashSet&lt;Int&gt;()}\n\n    open fun addEdge(u: Int, v: Int) {\n        graph[u].add(v)\n        graph[v].add(u)\n    }\n\n    val numEdges: Int\n        get() {\n            return graph.asSequence()\n                    .map { it.size }\n                    .reduce { x, y -&gt; x + y }\n        }   \n\n    fun edgeSet() : HashSet&lt;Pair&lt;Int,Int&gt;&gt; {\n        val result = HashSet&lt;Pair&lt;Int,Int&gt;&gt;()\n        for (i in graph.indices) {\n            for(j in graph[i]) {\n                if(i&lt;j) result.add(i to j)\n                else result.add(j to i)\n            }\n        }\n        return result;\n    }\n\n    override fun toString(): String {\n        return \"Graph(n=$n, graph=$graph)\"\n    }\n}\n\nclass DGraph(override val n: Int) : Graph(n) {\n    override fun addEdge(u: Int, v: Int) {\n        graph[u].add(v)\n    }\n}\n</code></pre>\n\n<p>However, when i create an instance of DGraph, and use it in the following code:</p>\n\n<pre><code>val graph = DGraph(5)\nprintln(graph.graph.size)\ngraph.addEdge(0,1)\n</code></pre>\n\n<p>I find that the graph property is not initialized in the DGraph instance, and I get and IndexOutOfBoundsException. Why does this happen?</p>\n"}, {"tags": ["java", "jvm", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2350, "user_id": 4362486, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cMheZ6i8emM/AAAAAAAAAAI/AAAAAAAAAto/dH2m5KGddB0/photo.jpg?sz=128", "display_name": "Bor Laze", "link": "https://stackoverflow.com/users/4362486/bor-laze"}, "is_accepted": false, "score": -2, "last_activity_date": 1494717138, "creation_date": 1494717138, "answer_id": 43958841, "question_id": 43958725, "link": "https://stackoverflow.com/questions/43958725/kotlin-why-does-the-operator-generate-null-checks-when-compiling-for-the-jvm/43958841#43958841", "title": "Kotlin: Why does the !! operator generate null checks when compiling for the jvm?", "body": "<p>I see only one reason: string operations.</p>\n\n<pre><code>val s = null;\nval s2 = \"abc\" + s;     // abcnull\nval s3 = \"abc\" + s!!;   // NPE\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": false, "score": 1, "last_activity_date": 1494717763, "last_edit_date": 1494717763, "creation_date": 1494717296, "answer_id": 43958855, "question_id": 43958725, "link": "https://stackoverflow.com/questions/43958725/kotlin-why-does-the-operator-generate-null-checks-when-compiling-for-the-jvm/43958855#43958855", "title": "Kotlin: Why does the !! operator generate null checks when compiling for the jvm?", "body": "<p>The problem is that JVM can't throw NPE early enough. You don't always use the nonnull type immediately. Using null assertions can prevent null from propagating through your code too far to trace. Suppose you have this class</p>\n\n<pre><code>class Foo {\n    var bar : Bar = null\n    fun foo() {doSomethingWitNonNullBar(bar)}\n}\n</code></pre>\n\n<p>Here the bar is not immediately used after it's set in a <code>Foo</code>. If you accidentally wrote something like <code>foo.bar = null</code> and invoked <code>foo.foo()</code>later on a different thread, it will be really hard to know where this null come from. This may seems silly, but it will quickly become a real deal when your code is a mix of lots of nullable types and nonnull types. Without assertions you can't be confident if the type is not null.</p>\n"}, {"comments": [{"owner": {"reputation": 695, "user_id": 3555136, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e6dcfdfbc04f0aa4a77dc44bda7063a7?s=128&d=identicon&r=PG&f=1", "display_name": "enitihas", "link": "https://stackoverflow.com/users/3555136/enitihas"}, "edited": false, "score": 0, "creation_date": 1494760962, "post_id": 43961036, "comment_id": 74956804, "body": "Thanks. I now understand why the null check is generated. However, couldn&#39;t the null check be optimized away when it is coupled with a method call in the same line, like in the above example."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 695, "user_id": 3555136, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e6dcfdfbc04f0aa4a77dc44bda7063a7?s=128&d=identicon&r=PG&f=1", "display_name": "enitihas", "link": "https://stackoverflow.com/users/3555136/enitihas"}, "edited": false, "score": 0, "creation_date": 1494781589, "post_id": 43961036, "comment_id": 74963235, "body": "No, because the method call will not throw a <code>KotlinNullPointerException</code>."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 10, "last_activity_date": 1494743511, "creation_date": 1494743511, "answer_id": 43961036, "question_id": 43958725, "link": "https://stackoverflow.com/questions/43958725/kotlin-why-does-the-operator-generate-null-checks-when-compiling-for-the-jvm/43961036#43961036", "title": "Kotlin: Why does the !! operator generate null checks when compiling for the jvm?", "body": "<p>The semantics of the <code>!!</code> expression is that it performs a null check at the specific location where the <code>!!</code> operator is used, and throws a specific kind of exception (<code>KotlinNullPointerException</code>, a subclass of the standard <code>NullPointerException</code>) if the expression being checked is null. Throwing a specific exception subclass makes it clear that the exception is caused by a failure of a null check in the <code>!!</code> operator, and therefore makes it easier to track down the cause when it occurs in production.</p>\n\n<p>Even if Java did throw an NPE in a subsequent expression (which it may or may not do, depending on how you use the value to which you applied the <code>!!</code>), it would be a generic NPE, not a Kotlin-specific one. Also, the line number in the stacktrace could be different from the line number on which <code>!!</code> was used, making it harder to understand the problem.</p>\n"}], "owner": {"reputation": 695, "user_id": 3555136, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e6dcfdfbc04f0aa4a77dc44bda7063a7?s=128&d=identicon&r=PG&f=1", "display_name": "enitihas", "link": "https://stackoverflow.com/users/3555136/enitihas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 43961036, "answer_count": 3, "score": 1, "last_activity_date": 1494743511, "creation_date": 1494716061, "question_id": 43958725, "link": "https://stackoverflow.com/questions/43958725/kotlin-why-does-the-operator-generate-null-checks-when-compiling-for-the-jvm", "title": "Kotlin: Why does the !! operator generate null checks when compiling for the jvm?", "body": "<p>I am using <a href=\"https://javap.yawk.at/\" rel=\"nofollow noreferrer\">https://javap.yawk.at/</a> to inspect Kotlin generated bytecode. I found that whenever the !! operator is used , a corresponding null check is generated. For example, for the following kotlin code:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var a : Int? = null;\n    println(a!!+2)\n}\n</code></pre>\n\n<p>this code is generated:</p>\n\n<pre><code>public final class MainKt {\n    public static final void main(@NotNull final String[] args) {\n        Intrinsics.checkParameterIsNotNull((Object)args, \"args\");\n        final Integer n;\n        final Integer a = n = null;\n        if (n == null) {\n            Intrinsics.throwNpe();\n        }\n        System.out.println(((Number)n).intValue() + 2);\n    }\n}\n</code></pre>\n\n<p>My question is: Why does a null check need to be generated. Would'nt the JVM anyway throw a NPE whenever it encounters a method call on a null receiver? Why another redundant check is necessary?</p>\n"}, {"tags": ["java", "gradle", "kotlin", "spark-java"], "comments": [{"owner": {"reputation": 609, "user_id": 1795240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/973f06d22d385cf0cf2f69a3776e9aaf?s=128&d=identicon&r=PG", "display_name": "k.liakos", "link": "https://stackoverflow.com/users/1795240/k-liakos"}, "edited": false, "score": 1, "creation_date": 1495704760, "post_id": 43957256, "comment_id": 75368588, "body": "How about a properties file for each? For example <code>config-local.properties</code>, <code>config-production.properties</code>, etc"}, {"owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "reply_to_user": {"reputation": 609, "user_id": 1795240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/973f06d22d385cf0cf2f69a3776e9aaf?s=128&d=identicon&r=PG", "display_name": "k.liakos", "link": "https://stackoverflow.com/users/1795240/k-liakos"}, "edited": false, "score": 0, "creation_date": 1495990498, "post_id": 43957256, "comment_id": 75469537, "body": "@k.liakos Thanks for the tip :) I&#39;d already solved the issue by following the same path. I&#39;d given a detailed solution in my answer."}], "answers": [{"tags": [], "owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "is_accepted": true, "score": 0, "last_activity_date": 1495990367, "creation_date": 1495990367, "answer_id": 44229811, "question_id": 43957256, "link": "https://stackoverflow.com/questions/43957256/how-to-provide-dynamic-database-configuration-credentials-for-spark-java/44229811#44229811", "title": "How to provide dynamic database configuration credentials for Spark Java?", "body": "<p>I'd used <code>.properties</code> file to by following this sample github project <a href=\"https://github.com/IRus/kotlin-dev-proxy\" rel=\"nofollow noreferrer\">Kotlin-dev-proxy</a>.</p>\n\n<p>The server reads the  environmental variable called <code>app_environment</code> and uses the appropriate resource file.</p>\n\n<p><strong>Sample Code:</strong></p>\n\n<p><strong>DbConfig.kt</strong></p>\n\n<pre><code>data class DbConfig(\n        val dbHost: String,\n        val dbUsername: String,\n        val dbPassword: String,\n        val dbName: String,\n        val dbPort: Int)\n</code></pre>\n\n<p><strong>ServerSettings.kt</strong></p>\n\n<pre><code>class ServerSettings(settings: String) {\n    val resources = Properties()\n\n    init {\n        val fileUrl: URL = resources.javaClass.getResource(\"/$settings.properties\")\n                ?: throw FileNotFoundException(\"$settings.properties file not found\")\n        fileUrl.openStream().use { resources.load(it) }\n    }\n\n    fun printSettings() = resources.stringPropertyNames().forEach {\n        println(\"Property: $it has value: '${resources[it]}'\")\n    }\n\n    fun getString(key: String): String = resources[key]!! as String\n\n    fun getInt(key: String): Int = (resources[key]!! as String).toInt()\n}\n</code></pre>\n\n<p><strong>DbConfig.kt</strong></p>\n\n<pre><code>fun provideDbConfig(): DbConfig {\n        val settings = ServerSettings(System.getenv(\"app_environment\"))\n        settings.printSettings()\n\n        return DbConfig(\n                dbHost = settings.getString(\"dbHost\"),\n                dbUsername = settings.getString(\"dbUsername\"),\n                dbPassword = settings.getString(\"dbPassword\"),\n                dbName = settings.getString(\"dbName\"),\n                dbPort = settings.getInt(\"dbPort\")\n        )\n    }\n</code></pre>\n\n<p><strong>resources/develop.properties</strong></p>\n\n<pre><code># Local Db values\ndbHost=localhost\ndbUsername=postgresusername\ndbPassword=postgrespassword\ndbName=mydbname\ndbPort=5432\n</code></pre>\n\n<p>While deploying in Amazon EBS, goto software configuration and add the environmental variable appropriate(staging/production) for the environment.</p>\n"}], "owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 44229811, "answer_count": 1, "score": 0, "last_activity_date": 1495990402, "creation_date": 1494704088, "last_edit_date": 1495990402, "question_id": 43957256, "link": "https://stackoverflow.com/questions/43957256/how-to-provide-dynamic-database-configuration-credentials-for-spark-java", "title": "How to provide dynamic database configuration credentials for Spark Java?", "body": "<p>I'm building a simple REST API using spark java. The project uses <code>Postgres</code> DB for storage, <code>gradle</code> as the build system. The fat Jar is deployed on <code>AWS</code>.</p>\n\n<p>I have three environments <code>local</code>, <code>staging</code> &amp; <code>production</code>. For each fat jar creation, I wanna provide specific configuration like the below one used for local builds:</p>\n\n<pre><code>    dbHost = \"localhost\"\n    dbUsername = \"myusername\"\n    dbPassword = \"mypassword\"\n    database = \"mydb\"\n    dbPort = \"5432\"\n</code></pre>\n\n<p>How to provide these values dynamically based on fatJar build variant? </p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3728, "user_id": 1779504, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/K8LTB.png?s=128&g=1", "display_name": "csharpfolk", "link": "https://stackoverflow.com/users/1779504/csharpfolk"}, "is_accepted": false, "score": 1, "last_activity_date": 1494695923, "last_edit_date": 1494695923, "creation_date": 1494692797, "answer_id": 43955409, "question_id": 43955099, "link": "https://stackoverflow.com/questions/43955099/reconstruct-n-ary-tree-from-list/43955409#43955409", "title": "Reconstruct N-ary Tree from List", "body": "<p>Basic idea is to use stack to track parents on track from root to currently processed node:</p>\n\n<pre><code>        val input = \"\"\"\n0000 : A : 0\n0001 : B : 1\n0002 : C : 2\n0003 : D : 2\n0004 : E : 1\n0005 : F : 2\n0006 : G : 1\n0007 : H : 1\n0008 : I : 2\n\"\"\"\n        val parsedLines = input.split(\"\\n\")\n                .map { it.trim() }\n                .filter { it.isNotEmpty() }\n                .map { line -&gt;\n                    val parsedLine = line\n                            .split(\":\")\n                            .map { it.trim() }\n\n                    object {\n                        val preOrderIndex = parsedLine[0].toInt()\n                        val name = parsedLine[1]\n                        val height = parsedLine[2].toInt()\n                    }\n                }\n                .sortedBy { it.preOrderIndex }\n\n        parsedLines.forEach { println(\"${it.preOrderIndex} ${it.name} ${it.height}\") }\n\n        val map = HashMap&lt;Node,HashSet&lt;Node&gt;&gt;()\n        val parents = Stack&lt;Node&gt;()\n\n        for (nodeDesc in parsedLines) {\n            val newNode = Node(nodeDesc.preOrderIndex.toLong(), nodeDesc.name)\n            map[newNode] = HashSet&lt;Node&gt;()\n\n            while (parents.size &gt; nodeDesc.height)\n                parents.pop()\n\n            if (!parents.empty()) {\n                val tmp: HashSet&lt;Node&gt;? = map[parents.peek()]\n                tmp!!.add(newNode)\n            }\n\n            parents.push(newNode)\n        }\n\n        println(map)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 2, "last_activity_date": 1494853884, "last_edit_date": 1494853884, "creation_date": 1494726118, "answer_id": 43959599, "question_id": 43955099, "link": "https://stackoverflow.com/questions/43955099/reconstruct-n-ary-tree-from-list/43959599#43959599", "title": "Reconstruct N-ary Tree from List", "body": "<p>Given an <code>orderedList: List&lt;Triple&lt;Long, String, Int&gt;&gt;</code> you can iterate through the triples and keep track of the current parent at each depth so that you can rebuild the tree:</p>\n\n\n\n<pre><code>val tree = mutableMapOf&lt;Node, MutableSet&lt;Node&gt;&gt;()\nval parents = ArrayDeque&lt;Node&gt;()\nfor ((id, name, depth) in orderedList) {\n    val node = Node(id, name)\n    // pop any parents from this deque as deep or deeper than this node\n    while (parents.size &gt; depth) parents.pop()\n    // add node to tree\n    tree[node] = mutableSetOf()\n    // add node to parent's children if applicable\n    tree[parents.peek()]?.add(node)\n    // add node to parents stack\n    parents.push(node)\n}\n</code></pre>\n\n<p>And if you need to build <code>orderedList</code> from the string you have you can use the following (assuming the string is available as <code>input: String</code>):</p>\n\n<pre><code>val orderedList = input.trim().lines().map { line -&gt;\n    val components = line.split(\" : \")\n    val id = components.component1().toLong()\n    val name = components.component2()\n    val depth = components.component3().toInt()\n    Triple(id, name, depth)\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 2286903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c656c9a233f4c49d6252da38c144cc?s=128&d=identicon&r=PG", "display_name": "Daniel Douglas Soyka", "link": "https://stackoverflow.com/users/2286903/daniel-douglas-soyka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 43959599, "answer_count": 2, "score": 0, "last_activity_date": 1494853884, "creation_date": 1494690938, "question_id": 43955099, "link": "https://stackoverflow.com/questions/43955099/reconstruct-n-ary-tree-from-list", "title": "Reconstruct N-ary Tree from List", "body": "<pre><code>data class Node(val ID : Long, val name : String)\n</code></pre>\n\n<p>I have an ordered list of the following three values (in order of appearance): ID, Name and Depth. </p>\n\n<pre><code>0000 : A : 0\n0001 : B : 1\n0002 : C : 2\n0003 : D : 2\n0004 : E : 1\n0005 : F : 2\n0006 : G : 1\n0007 : H : 1\n0008 : I : 2\n</code></pre>\n\n<p>Using this data set I wish to reconstruct the original <em>N</em>-ary tree as a <code>Map&lt;Node, Set&lt;Node&gt;&gt;</code>, visualized below:</p>\n\n<pre><code>A - B - C\n      - D\n  - E - F\n  - G\n  - H - I\n</code></pre>\n\n<p>What is the best (most performant and/or most readable) way to accomplish this task?</p>\n"}, {"tags": ["java", "junit", "kotlin", "guice", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 4, "last_activity_date": 1494620035, "creation_date": 1494620035, "answer_id": 43945802, "question_id": 43945102, "link": "https://stackoverflow.com/questions/43945102/inject-constructor-and-companion-object/43945802#43945802", "title": "Inject constructor and companion object", "body": "<p>A companion object is a static object associated with a <strong>class</strong>, not with an instance of a class.</p>\n\n<pre><code>class Foo(val bar: Baz) {\n    companion object {}\n}\n</code></pre>\n\n<p>is similar to the following code in Java:</p>\n\n<pre><code>class Foo {\n    static class Companion { }\n    static final Foo.Companion Companion = new Foo.Companion();\n\n    final Baz bar;\n    Foo(Baz bar) { this.bar = bar; }\n}\n</code></pre>\n\n<p>This is why <code>x</code> is not in the variable scope of the companion object, just like you cannot access the <code>bar</code> field from the static class <code>Companion</code>. Your property <code>y</code> is actually a field in the <code>Test.Companion</code> class. </p>\n\n<p>I'm not sure what you're trying to do with the <code>BeforeClass</code> thing, since I'm not familiar with it. Hope my answer helps anyway.</p>\n"}], "owner": {"reputation": 359, "user_id": 2811244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w1NEw.jpg?s=128&g=1", "display_name": "Sharon", "link": "https://stackoverflow.com/users/2811244/sharon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2042, "favorite_count": 0, "accepted_answer_id": 43945802, "answer_count": 1, "score": 2, "last_activity_date": 1494620388, "creation_date": 1494617106, "last_edit_date": 1494620388, "question_id": 43945102, "link": "https://stackoverflow.com/questions/43945102/inject-constructor-and-companion-object", "title": "Inject constructor and companion object", "body": "<p>I'm kind of new to Kotlin and I'm trying to Inject a value (in this example it is just an Int but in the real code it is a Provider class)\nWhat am I doing wrong here? and why is x is an unresolved reference?</p>\n\n<pre><code>class Test\n@Inject constructor(private val x: Int) {\n\ncompanion object {\n    var y: Int = 0\n\n        @BeforeClass @JvmStatic\n        fun beforeClass() {\n            y = x * 2\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-library", "dagger-2", "kapt"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 2932961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4680c0b04aea4af0fa1df075741039?s=128&d=identicon&r=PG&f=1", "display_name": "bicicleteroNerd", "link": "https://stackoverflow.com/users/2932961/bicicleteronerd"}, "is_accepted": true, "score": 3, "last_activity_date": 1494617652, "creation_date": 1494617652, "answer_id": 43945240, "question_id": 43943716, "link": "https://stackoverflow.com/questions/43943716/android-library-kotlin-and-dagger2/43945240#43945240", "title": "Android Library, Kotlin and Dagger2", "body": "<p>The problem was that Gradle was not finding the Dagger generated files by <code>kapt</code>, so I solved the problem by adding <code>src/main/kapt</code> to my sourceSets configuration on my Core module (lib):</p>\n\n<p><strong>build.gradle (Core module)</strong></p>\n\n<pre><code>android {\n    ...\n    sourceSets {\n        main.java.srcDirs += ['src/main/kotlin', 'src/main/kapt']\n    }\n}\n</code></pre>\n\n<p><br>\nAfter that, the Core module started finding their Dagger 2 generated files.</p>\n"}, {"tags": [], "owner": {"reputation": 414, "user_id": 776388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b95e97a36a099404882a1c7ee439a01?s=128&d=identicon&r=PG", "display_name": "iscariot", "link": "https://stackoverflow.com/users/776388/iscariot"}, "is_accepted": false, "score": 1, "last_activity_date": 1562853322, "creation_date": 1562853322, "answer_id": 56990896, "question_id": 43943716, "link": "https://stackoverflow.com/questions/43943716/android-library-kotlin-and-dagger2/56990896#56990896", "title": "Android Library, Kotlin and Dagger2", "body": "<p>Java module should have</p>\n\n<pre><code>plugins {\n    id(\"java-library\")\n    id(\"kotlin\")\n    id(\"kotlin-kapt\")\n}\n\njava {\n    sourceSets {\n        main.java.srcDirs += ['build/generated/source/kapt/main']\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 2932961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a4680c0b04aea4af0fa1df075741039?s=128&d=identicon&r=PG&f=1", "display_name": "bicicleteroNerd", "link": "https://stackoverflow.com/users/2932961/bicicleteronerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 0, "accepted_answer_id": 43945240, "answer_count": 2, "score": 3, "last_activity_date": 1562853322, "creation_date": 1494611299, "question_id": 43943716, "link": "https://stackoverflow.com/questions/43943716/android-library-kotlin-and-dagger2", "title": "Android Library, Kotlin and Dagger2", "body": "<p>I'm building an application that have two modules: the Core module, that is an Android Library (com.android.library) and the Application module (com.android.application).</p>\n\n<p>After I converted the Java files to Kotlin, the project is not compiling, giving me an error that the generated Dagger 2 files were not found (unresolved reference). But those files currently being generated under:</p>\n\n<blockquote>\n  <p>...core\\build\\generated\\source\\kapt\\release{my\\core\\namespace}\\DaggerBaseComponent.java</p>\n</blockquote>\n\n<p><br>\nWhat I'm missing?</p>\n\n<p><br>\n<strong>build.gradle (Core module)</strong></p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\n...\n\nandroid {\n    ...\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    ...\n    // Dagger.\n    kapt \"com.google.dagger:dagger-compiler:2.10\"\n    compile 'com.google.dagger:dagger:2.10'\n    provided 'javax.annotation:jsr250-api:1.0'\n\n    // Kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p><br>\n<strong>build.gradle (Application module)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\n...\n\nandroid {\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    ...\n    // Dagger.\n    kapt \"com.google.dagger:dagger-compiler:2.10\"\n    compile 'com.google.dagger:dagger:2.10'\n    provided 'javax.annotation:jsr250-api:1.0'\n\n    // Kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p><br>\n<strong>build.gradle (Project)</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-3'\n    ...\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.2'\n\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p><br>\n<strong>ApplicationContext.kt (of my Core Module)</strong></p>\n\n<pre><code>class ApplicationContext : Application() {\n    var baseComponent: BaseComponent? = null\n        private set\n\n    override fun onCreate() {\n        super.onCreate()\n\n        initializeInjector()\n    }\n\n    private fun initializeInjector() {\n        // DaggerBaseComponent is and unresolved reference\n        baseComponent = DaggerBaseComponent.builder() \n                .appModule(AppModule(this))\n                .endpointModule(EndpointModule())\n                .build()\n    }\n\n    companion object {\n\n        operator fun get(context: Context): ApplicationContext {\n            return context.applicationContext as ApplicationContext\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1494612142, "post_id": 43943474, "comment_id": 74920478, "body": "Is <code>kotlin-stdlib-jre7</code> supposed to work on Android? AFAIK, Android build tools currently support only Java 6 platform, so you can try to use <code>org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version</code>, which is targeted for Java 6, and see if it works."}, {"owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1494613267, "post_id": 43943474, "comment_id": 74921098, "body": "I&#39;ve did the change and you saved my day. Thanks a lot! I&#39;m having another problem though which is, module aar is being generated without its dependencies, therefore, I&#39;m having to import they all on the application were I&#39;m importing it. (Please submit an answer so I can accept it)"}], "answers": [{"comments": [{"owner": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "edited": false, "score": 4, "creation_date": 1518037930, "post_id": 43944280, "comment_id": 84345030, "body": "I&#39;ve similar gradle file with same exception, changing stdlib did not work for my case. What else can cause this exception?"}, {"owner": {"reputation": 4231, "user_id": 2268466, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/SvQcm.png?s=128&g=1", "display_name": "blueware", "link": "https://stackoverflow.com/users/2268466/blueware"}, "reply_to_user": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "edited": false, "score": 0, "creation_date": 1526285787, "post_id": 43944280, "comment_id": 87667243, "body": "@dgngulcan, what is <code>$kotlin_version</code> here?  I am getting this error when syncing my project <code>Could not get unknown property &#39;kotlin_version&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDe&zwnj;&#8203;pendencyHandler.</code>"}, {"owner": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "reply_to_user": {"reputation": 4231, "user_id": 2268466, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/SvQcm.png?s=128&g=1", "display_name": "blueware", "link": "https://stackoverflow.com/users/2268466/blueware"}, "edited": false, "score": 1, "creation_date": 1526295087, "post_id": 43944280, "comment_id": 87672849, "body": "@blueware it is the <code>kotlin</code> version as a property. you can define it in your root <code>build.gradle</code> file as `   <code>project.ext{ kotlin_version = &#39;1.2.41&#39; }</code>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 29, "last_activity_date": 1494614963, "last_edit_date": 1494614963, "creation_date": 1494613447, "answer_id": 43944280, "question_id": 43943474, "link": "https://stackoverflow.com/questions/43943474/android-library-module-developed-in-kotlin-exported-to-java-application-causing/43944280#43944280", "title": "Android Library Module developed in Kotlin exported to Java Application causing Failed resolution of: Lkotlin/jvm/internal/Intrinsics", "body": "<p>The <code>kotlin-stdlib-jre7</code> artifact is not supposed to work on Android, which currently supports only Java 6 platform. When targeting Android, you should use <code>kotlin-stdlib</code>, which is built for JRE 6:</p>\n\n<pre><code>// KOTLIN\ncompile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3707, "user_id": 8875063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOmQ6.png?s=128&g=1", "display_name": "murgupluoglu", "link": "https://stackoverflow.com/users/8875063/murgupluoglu"}, "is_accepted": false, "score": 0, "last_activity_date": 1598117287, "creation_date": 1598117287, "answer_id": 63539107, "question_id": 43943474, "link": "https://stackoverflow.com/questions/43943474/android-library-module-developed-in-kotlin-exported-to-java-application-causing/63539107#63539107", "title": "Android Library Module developed in Kotlin exported to Java Application causing Failed resolution of: Lkotlin/jvm/internal/Intrinsics", "body": "<p>If you use libraries like Retrofit you must add this parameters to your build gradle file</p>\n<pre><code>android{\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = JavaVersion.VERSION_1_8.toString()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 130, "user_id": 14992418, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IHJZBnToUB0/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmwX7knz76R-4PdxlXlRJs64OEkvg/s96-c/photo.jpg?sz=128", "display_name": "linsock", "link": "https://stackoverflow.com/users/14992418/linsock"}, "is_accepted": false, "score": 1, "last_activity_date": 1617106619, "creation_date": 1617106619, "answer_id": 66870796, "question_id": 43943474, "link": "https://stackoverflow.com/questions/43943474/android-library-module-developed-in-kotlin-exported-to-java-application-causing/66870796#66870796", "title": "Android Library Module developed in Kotlin exported to Java Application causing Failed resolution of: Lkotlin/jvm/internal/Intrinsics", "body": "<h3>UPDATE 2020-21:</h3>\n<p>For anyone who still gets this error, it could rise up from the simple interaction of a compiled <strong>AAR library which contains Kotlin sources</strong> that interacts (for instance, parameters passing) with an already started android java project.</p>\n<p>If this is your case, just <strong>add Kotlin dependencies</strong> in your build.gradle (the one who refers to the application) to add the language support necessary to use the library.</p>\n<pre><code>dependencies {\n\n    //.....\n\n    implementation &quot;androidx.core:core-ktx:+&quot;\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n}\n</code></pre>\n<p>This could happen also using a Kotlin source file but, if you add a Kotlin source the Android Studio IDE has a good support that prompts you if you want to add Kotlin language support to your project, so it's more probably a problem that arises from an interaction with a third-party lib</p>\n"}], "owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12793, "favorite_count": 5, "accepted_answer_id": 43944280, "answer_count": 3, "score": 24, "last_activity_date": 1617106619, "creation_date": 1494610421, "question_id": 43943474, "link": "https://stackoverflow.com/questions/43943474/android-library-module-developed-in-kotlin-exported-to-java-application-causing", "title": "Android Library Module developed in Kotlin exported to Java Application causing Failed resolution of: Lkotlin/jvm/internal/Intrinsics", "body": "<p>I've developed an Android Library Module in Kotlin - tested it on a Kotlin project and it all works just fine. Using gradle's <code>maven-publishing</code> plugin, I've generated the <code>aar</code> files and uploaded them on a Maven Server, so latter I added the lib on a Android Java Application using <code>compile 'group:artifact:version'</code>.</p>\n\n<p>Library files seems to be recognized, however, when I attempt to start an activity existent on the Lib I get the following stacktrace:</p>\n\n<pre><code>05-12 14:21:48.221 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 182\n05-12 14:21:48.222 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 181\n05-12 14:21:48.222 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 181\n05-12 14:21:48.223 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Collect; annotation class 182\n05-12 14:21:48.224 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Collect; annotation class 180\n05-12 14:21:48.224 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Collect; annotation class 180\n05-12 14:21:48.224 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Collect; annotation class 179\n05-12 14:21:48.225 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Collect; annotation class 179\n05-12 14:21:48.225 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Collect; annotation class 180\n05-12 14:21:48.225 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Collect; annotation class 180\n05-12 14:21:48.225 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Collect; annotation class 179\n05-12 14:21:48.226 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Collect; annotation class 179\n05-12 14:21:48.226 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 180\n05-12 14:21:48.227 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 180\n05-12 14:21:48.227 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 179\n05-12 14:21:48.227 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 179\n05-12 14:21:48.227 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 180\n05-12 14:21:48.228 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 180\n05-12 14:21:48.228 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 179\n05-12 14:21:48.228 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 179\n05-12 14:21:48.229 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 179\n05-12 14:21:48.229 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/DataCollector; annotation class 179\n05-12 14:21:48.230 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Feedback; annotation class 182\n05-12 14:21:48.232 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Feedback; annotation class 181\n05-12 14:21:48.232 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Feedback; annotation class 181\n05-12 14:21:48.233 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Entry; annotation class 182\n05-12 14:21:48.233 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Entry; annotation class 180\n05-12 14:21:48.234 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Entry; annotation class 180\n05-12 14:21:48.234 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Entry; annotation class 180\n05-12 14:21:48.234 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Entry; annotation class 180\n05-12 14:21:48.235 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Feedback; annotation class 179\n05-12 14:21:48.235 11735-11735/*****.*****.dev W/art: Unable to resolve Lbr/com/**********/dataform/renderengine/core/model/Feedback; annotation class 179\n05-12 14:21:48.272 11735-11735/*****.*****.dev I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;br.com.**********.dataform.renderengine.presentation.feedback.PieChartFeedback&gt;: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/github/mikephil/charting/charts/PieChart;\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at java.lang.Object java.lang.Class.newInstance!() (Class.java:-2)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at android.app.Activity android.app.Instrumentation.newActivity(java.lang.ClassLoader, java.lang.String, android.content.Intent) (Instrumentation.java:1078)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at android.app.Activity android.app.ActivityThread.performLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent) (ActivityThread.java:2557)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.handleLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:2726)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.-wrap12(android.app.ActivityThread, android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:-1)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread$H.handleMessage(android.os.Message) (ActivityThread.java:1477)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.os.Handler.dispatchMessage(android.os.Message) (Handler.java:102)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.os.Looper.loop() (Looper.java:154)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.main(java.lang.String[]) (ActivityThread.java:6119)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at java.lang.Object java.lang.reflect.Method.invoke!(java.lang.Object, java.lang.Object[]) (Method.java:-2)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run() (ZygoteInit.java:886)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void com.android.internal.os.ZygoteInit.main(java.lang.String[]) (ZygoteInit.java:776)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art: Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.github.mikephil.charting.charts.PieChart\" on path: DexPathList[[zip file \"/data/app/*****.*****.dev-2/base.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_dependencies_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_0_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_1_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_2_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_3_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_4_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_5_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_6_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_7_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_8_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/*****.*****.dev-2/lib/x86, /system/lib, /vendor/lib]]\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at java.lang.Class dalvik.system.BaseDexClassLoader.findClass(java.lang.String) (BaseDexClassLoader.java:56)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String, boolean) (ClassLoader.java:380)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String) (ClassLoader.java:312)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at java.lang.Object java.lang.Class.newInstance!() (Class.java:-2)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at android.app.Activity android.app.Instrumentation.newActivity(java.lang.ClassLoader, java.lang.String, android.content.Intent) (Instrumentation.java:1078)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at android.app.Activity android.app.ActivityThread.performLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent) (ActivityThread.java:2557)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.handleLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:2726)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.-wrap12(android.app.ActivityThread, android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:-1)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread$H.handleMessage(android.os.Message) (ActivityThread.java:1477)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.os.Handler.dispatchMessage(android.os.Message) (Handler.java:102)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.os.Looper.loop() (Looper.java:154)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.main(java.lang.String[]) (ActivityThread.java:6119)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at java.lang.Object java.lang.reflect.Method.invoke!(java.lang.Object, java.lang.Object[]) (Method.java:-2)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run() (ZygoteInit.java:886)\n05-12 14:21:48.273 11735-11735/*****.*****.dev I/art:     at void com.android.internal.os.ZygoteInit.main(java.lang.String[]) (ZygoteInit.java:776)\n05-12 14:21:48.275 11735-11735/*****.*****.dev I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;br.com.**********.dataform.renderengine.presentation.FormActivity$assembleWizard$1&gt;: java.lang.NoClassDefFoundError: Failed resolution of: Lkotlin/jvm/internal/Lambda;\n05-12 14:21:48.275 11735-11735/*****.*****.dev I/art:     at java.lang.Object java.lang.Class.newInstance!() (Class.java:-2)\n05-12 14:21:48.275 11735-11735/*****.*****.dev I/art:     at android.app.Activity android.app.Instrumentation.newActivity(java.lang.ClassLoader, java.lang.String, android.content.Intent) (Instrumentation.java:1078)\n05-12 14:21:48.275 11735-11735/*****.*****.dev I/art:     at android.app.Activity android.app.ActivityThread.performLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent) (ActivityThread.java:2557)\n05-12 14:21:48.275 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.handleLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:2726)\n05-12 14:21:48.275 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.-wrap12(android.app.ActivityThread, android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:-1)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread$H.handleMessage(android.os.Message) (ActivityThread.java:1477)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.os.Handler.dispatchMessage(android.os.Message) (Handler.java:102)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.os.Looper.loop() (Looper.java:154)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.main(java.lang.String[]) (ActivityThread.java:6119)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at java.lang.Object java.lang.reflect.Method.invoke!(java.lang.Object, java.lang.Object[]) (Method.java:-2)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run() (ZygoteInit.java:886)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void com.android.internal.os.ZygoteInit.main(java.lang.String[]) (ZygoteInit.java:776)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art: Caused by: java.lang.ClassNotFoundException: Didn't find class \"kotlin.jvm.internal.Lambda\" on path: DexPathList[[zip file \"/data/app/*****.*****.dev-2/base.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_dependencies_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_0_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_1_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_2_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_3_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_4_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_5_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_6_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_7_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_8_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/*****.*****.dev-2/lib/x86, /system/lib, /vendor/lib]]\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at java.lang.Class dalvik.system.BaseDexClassLoader.findClass(java.lang.String) (BaseDexClassLoader.java:56)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String, boolean) (ClassLoader.java:380)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String) (ClassLoader.java:312)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at java.lang.Object java.lang.Class.newInstance!() (Class.java:-2)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at android.app.Activity android.app.Instrumentation.newActivity(java.lang.ClassLoader, java.lang.String, android.content.Intent) (Instrumentation.java:1078)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at android.app.Activity android.app.ActivityThread.performLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent) (ActivityThread.java:2557)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.handleLaunchActivity(android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:2726)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.-wrap12(android.app.ActivityThread, android.app.ActivityThread$ActivityClientRecord, android.content.Intent, java.lang.String) (ActivityThread.java:-1)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread$H.handleMessage(android.os.Message) (ActivityThread.java:1477)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.os.Handler.dispatchMessage(android.os.Message) (Handler.java:102)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.os.Looper.loop() (Looper.java:154)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void android.app.ActivityThread.main(java.lang.String[]) (ActivityThread.java:6119)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at java.lang.Object java.lang.reflect.Method.invoke!(java.lang.Object, java.lang.Object[]) (Method.java:-2)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run() (ZygoteInit.java:886)\n05-12 14:21:48.276 11735-11735/*****.*****.dev I/art:     at void com.android.internal.os.ZygoteInit.main(java.lang.String[]) (ZygoteInit.java:776)\n05-12 14:21:48.482 11735-11735/*****.*****.dev E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                 Process: *****.*****.dev, PID: 11735\n                                                                 java.lang.NoClassDefFoundError: Failed resolution of: Lkotlin/jvm/internal/Intrinsics;\n                                                                     at br.com.**********.dataform.renderengine.presentation.FormActivity.assembleWizard(FormActivity.kt:117)\n                                                                     at br.com.**********.dataform.renderengine.presentation.FormActivity.onCreate(FormActivity.kt:71)\n                                                                     at android.app.Activity.performCreate(Activity.java:6679)\n                                                                     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n                                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)\n                                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\n                                                                     at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                     at android.os.Looper.loop(Looper.java:154)\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:6119)\n                                                                     at java.lang.reflect.Method.invoke(Native Method)\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n                                                                  Caused by: java.lang.ClassNotFoundException: Didn't find class \"kotlin.jvm.internal.Intrinsics\" on path: DexPathList[[zip file \"/data/app/*****.*****.dev-2/base.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_dependencies_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_0_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_1_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_2_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_3_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_4_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_5_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_6_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_7_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_8_apk.apk\", zip file \"/data/app/*****.*****.dev-2/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/*****.*****.dev-2/lib/x86, /system/lib, /vendor/lib]]\n                                                                     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n                                                                     at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\n                                                                     at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n                                                                     at br.com.**********.dataform.renderengine.presentation.FormActivity.assembleWizard(FormActivity.kt:117)\u00a0\n                                                                     at br.com.**********.dataform.renderengine.presentation.FormActivity.onCreate(FormActivity.kt:71)\u00a0\n                                                                     at android.app.Activity.performCreate(Activity.java:6679)\u00a0\n                                                                     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\u00a0\n                                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)\u00a0\n                                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\u00a0\n                                                                     at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\u00a0\n                                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                     at android.os.Looper.loop(Looper.java:154)\u00a0\n                                                                     at android.app.ActivityThread.main(ActivityThread.java:6119)\u00a0\n                                                                     at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\u00a0\n                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\u00a0\n</code></pre>\n\n<p>This is my module's build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply from : 'publish.gradle'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.3\"\n\n    defaultConfig {\n        minSdkVersion 14\n        targetSdkVersion 25\n        versionCode 1\n        versionName libVersion\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n}\n\ndependencies {\n    // TEST\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n\n    // GOOGLE\n    compile 'com.google.code.gson:gson:2.8.0'\n    compile \"com.android.support:appcompat-v7:$appcompat\"\n    compile \"com.android.support:cardview-v7:$appcompat\"\n    compile \"com.android.support:design:$appcompat\"\n\n    // OTHER\n    compile('org.simpleframework:simple-xml:2.7.+') {\n        exclude module: 'stax'\n        exclude module: 'stax-api'\n        exclude module: 'xpp3'\n    }\n    compile 'com.github.PhilJay:MPAndroidChart:v3.0.2'\n    compile 'org.apache.commons:commons-io:1.3.2'\n\n    // RX ANDROID\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'io.reactivex.rxjava2:rxjava:2.0.1'\n\n    // KOTLIN\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    // ANKO\n    compile \"org.jetbrains.anko:anko-common:$anko_version\"\n    compile \"org.jetbrains.anko:anko-sdk15:$anko_version\"\n    compile \"org.jetbrains.anko:anko-support-v4:$anko_version\"\n    compile \"org.jetbrains.anko:anko-appcompat-v7:$anko_version\"\n}\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n    }\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n"}, {"tags": ["eclipse", "kotlin"], "comments": [{"owner": {"reputation": 149, "user_id": 8003911, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd057a7b2093fa6db229aa37ecf3f1e4?s=128&d=identicon&r=PG&f=1", "display_name": "niranjan", "link": "https://stackoverflow.com/users/8003911/niranjan"}, "edited": false, "score": 0, "creation_date": 1494607512, "post_id": 43942701, "comment_id": 74917881, "body": "other support like Cntrl+left-mouse-click to navigate seems to be unavailable!"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1494608550, "post_id": 43942701, "comment_id": 74918414, "body": "Did you install the Kotlin plugin?"}, {"owner": {"reputation": 149, "user_id": 8003911, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd057a7b2093fa6db229aa37ecf3f1e4?s=128&d=identicon&r=PG&f=1", "display_name": "niranjan", "link": "https://stackoverflow.com/users/8003911/niranjan"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1494662663, "post_id": 43942701, "comment_id": 74933301, "body": "yes , Marketplace window is clearly showing &quot;Kotlin plugin for Eclipse 0.8.2&quot; &quot;installed&quot;  , Am i missing something?"}, {"owner": {"reputation": 261, "user_id": 6123307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a08d7306c0549d112a6d8f4d5ee3cf87?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Zarechenskiy", "link": "https://stackoverflow.com/users/6123307/mikhail-zarechenskiy"}, "edited": false, "score": 0, "creation_date": 1494673128, "post_id": 43942701, "comment_id": 74936039, "body": "Are there any exceptions in the error log?"}, {"owner": {"reputation": 3728, "user_id": 1779504, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/K8LTB.png?s=128&g=1", "display_name": "csharpfolk", "link": "https://stackoverflow.com/users/1779504/csharpfolk"}, "edited": false, "score": 0, "creation_date": 1494693024, "post_id": 43942701, "comment_id": 74942103, "body": "Do yourself a favor and switch to IntelliJ Community edition if you think seriously about Kotlin development. IDE support for Kotlin is superb. Unfortunately IJ Community doesn&#39;t supports Spring development but with spring boot that has build in support for e.g. live reloading this shouldn&#39;t be an issue"}, {"owner": {"reputation": 149, "user_id": 8003911, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd057a7b2093fa6db229aa37ecf3f1e4?s=128&d=identicon&r=PG&f=1", "display_name": "niranjan", "link": "https://stackoverflow.com/users/8003911/niranjan"}, "reply_to_user": {"reputation": 261, "user_id": 6123307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a08d7306c0549d112a6d8f4d5ee3cf87?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Zarechenskiy", "link": "https://stackoverflow.com/users/6123307/mikhail-zarechenskiy"}, "edited": false, "score": 0, "creation_date": 1494838539, "post_id": 43942701, "comment_id": 74979929, "body": "@MikhailZarechenskiy no error but no auto-imports and no mouse click options to move around from one class location to another"}], "owner": {"reputation": 149, "user_id": 8003911, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bd057a7b2093fa6db229aa37ecf3f1e4?s=128&d=identicon&r=PG&f=1", "display_name": "niranjan", "link": "https://stackoverflow.com/users/8003911/niranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1161, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1494672956, "creation_date": 1494607362, "last_edit_date": 1494672956, "question_id": 43942701, "link": "https://stackoverflow.com/questions/43942701/auto-complete-support-for-kotlin-in-eclipse-neon", "title": "Auto-complete support for kotlin in Eclipse-neon", "body": "<p>I have imported a spring-boot + Kotlin project into Eclipse-Neon.</p>\n\n<p>When I try to do an <code>auto-import</code> or a <code>tool-tip</code> help for definitions used inside the application, it does not work.</p>\n\n<p>I have searched on and found this \n<a href=\"https://discuss.kotlinlang.org/t/eclipse-no-autocomplete-of-java-classes/1606\" rel=\"nofollow noreferrer\">link</a> and <a href=\"https://youtrack.jetbrains.com/issue/KT-11956\" rel=\"nofollow noreferrer\">this</a> \nsaying that no support is available.</p>\n"}, {"tags": ["kotlin", "bdd", "cucumber-jvm", "cucumber-java", "picocontainer"], "comments": [{"owner": {"reputation": 3728, "user_id": 1779504, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/K8LTB.png?s=128&g=1", "display_name": "csharpfolk", "link": "https://stackoverflow.com/users/1779504/csharpfolk"}, "edited": false, "score": 0, "creation_date": 1494693311, "post_id": 43938447, "comment_id": 74942197, "body": "From the exception stacktrace we may find out that cucumber is using Java reflection API to discover methods in tests. Kotlin compiler doesn&#39;t generate exactly the same code as javac so reflection API has troubles finding proper methods in your tests. Please try to compare generated bytecode in some decompiler to find out what exactly is causing the problem"}, {"owner": {"reputation": 16203, "user_id": 363592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QMipl.png?s=128&g=1", "display_name": "Lunivore", "link": "https://stackoverflow.com/users/363592/lunivore"}, "reply_to_user": {"reputation": 3728, "user_id": 1779504, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/K8LTB.png?s=128&g=1", "display_name": "csharpfolk", "link": "https://stackoverflow.com/users/1779504/csharpfolk"}, "edited": false, "score": 0, "creation_date": 1495022877, "post_id": 43938447, "comment_id": 75075083, "body": "This has now been raised as a bug against Cucumber-JVM: <a href=\"https://github.com/cucumber/cucumber-jvm/issues/1123\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/issues/1123</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6590, "user_id": 3945473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc7a840257b5609850cabee995c052c3?s=128&d=identicon&r=PG", "display_name": "M.P. Korstanje", "link": "https://stackoverflow.com/users/3945473/m-p-korstanje"}, "edited": false, "score": 0, "creation_date": 1496502687, "post_id": 43981507, "comment_id": 75693465, "body": "@tastapod we&#39;re already using ParameterizedType but it is not always available.  <a href=\"https://github.com/cucumber/cucumber-jvm/blob/master/java/src/main/java/cucumber/runtime/java/Java8StepDefinition.java#L49\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/blob/master/java/src/main/j&zwnj;&#8203;ava/&hellip;</a>"}], "tags": [], "owner": {"reputation": 361, "user_id": 632259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33cfb4d051a768c06f7fb380c7c2abe3?s=128&d=identicon&r=PG", "display_name": "Daniel Terhorst-North", "link": "https://stackoverflow.com/users/632259/daniel-terhorst-north"}, "is_accepted": true, "score": 12, "last_activity_date": 1494857325, "last_edit_date": 1494857325, "creation_date": 1494856897, "answer_id": 43981507, "question_id": 43938447, "link": "https://stackoverflow.com/questions/43938447/why-am-i-getting-an-arrayindexoutofboundsexception-running-this-particular-cucum/43981507#43981507", "title": "Why am I getting an ArrayIndexOutOfBoundsException running this particular Cucumber step in Kotlin?", "body": "<p>This seems to be an unfortunate interaction between an optimisation Kotlin makes compiling anonymous code blocks, an assumption Cucumber makes about how the JVM stores references to lambdas, and Cucumber's use of some JVM internals that it shouldn't be going near!</p>\n\n<p>Your <a href=\"https://github.com/lunivore/montecarluni/tree/master/src/scenarios/kotlin/com/lunivore/montecarluni/glue\" rel=\"noreferrer\">other Kotlin steps</a> don't trigger the bug for various (different) reasons.</p>\n\n<p>Briefly, if Kotlin can implement a block or lambda as a static singleton then it does, presumably for performance reasons. This interferes with some unconventional reflection magic Cucumber performs (details below).</p>\n\n<p><strong>The fix</strong> would be to add an additional check in the Cucumber code, although arguably a better fix would be to rewrite the Cucumber code to use <a href=\"/a/1901275/632259\">generics reflection properly</a>.</p>\n\n<p><strong>A workaround</strong> is to ensure Kotlin doesn't optimise the lambda by including a reference to the containing instance. Even something as simple as a reference to <code>this</code>:</p>\n\n<pre><code>When(\"^I import it into Montecarluni$\") {\n    this\n    // your code\n}\n</code></pre>\n\n<p>is enough to convince Kotlin not to perform the optimisation.</p>\n\n<h2>The details</h2>\n\n<p>When Cucumber adds a step definition with a lambda in e.g. <a href=\"https://cucumber.github.io/api/cucumber/jvm/javadoc/cucumber/api/java8/En.html\" rel=\"noreferrer\">cucumber.api.java8.En</a> it introspects the lambda for information about generics. </p>\n\n<p>The way it does this is to use an access hack to reach a <code>sun.reflect.ConstantPool</code> field in the lambda's class definition. This is a native type and is an implementation detail of the class, storing references to constants the class uses. Cucumber then iterates backwards through these looking for a constant that represents the lambda's constructor. It then uses <em>another</em> internal hack, a static method called <code>getArgumentTypes</code> on <code>jdk.internal.org.objectweb.asm.Type</code>, to figure out the lambda's signature.</p>\n\n<p>Running <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javap.html\" rel=\"noreferrer\">javap -v</a> against the generated classes, it appears that when Kotlin makes a lambda block into a static singleton it adds a constant field called <code>INSTANCE</code> which then appears in the class's constant pool. This field is an instance of an anonymous inner class with a name like <code>ClipboardSteps$1</code> rather than a lambda as such, so its internal typestring breaks the mini-parser inside <code>getArgumentTypes</code>, which is the error you are seeing.</p>\n\n<p>So the <strong>quick fix</strong> in Cucumber is to check that the constant pool member's name is <code>\"&lt;init&gt;\"</code>, which represents the lambda's constructor, and to ignore anything else, like our <code>INSTANCE</code> member.</p>\n\n<p>The <strong>proper fix</strong> would be to rewrite Cucumber's type introspection to not use the constant pool at all!</p>\n"}], "owner": {"reputation": 16203, "user_id": 363592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QMipl.png?s=128&g=1", "display_name": "Lunivore", "link": "https://stackoverflow.com/users/363592/lunivore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1419, "favorite_count": 0, "accepted_answer_id": 43981507, "answer_count": 1, "score": 4, "last_activity_date": 1494909896, "creation_date": 1494594100, "question_id": 43938447, "link": "https://stackoverflow.com/questions/43938447/why-am-i-getting-an-arrayindexoutofboundsexception-running-this-particular-cucum", "title": "Why am I getting an ArrayIndexOutOfBoundsException running this particular Cucumber step in Kotlin?", "body": "<p>I'm running with a Cucumber JVM feature file, using Java8 and PicoContainer. I've stripped these steps right down so they're empty, and I'm still getting an error. Here's my feature:</p>\n\n<pre><code>Feature: Full Journey\n\nScenario: Can load a typical JIRA csv and calculate the distribution from it\n\nGiven a typical JIRA export \"/closed_only_JIRA.csv\"\nWhen I import it into Montecarluni\nThen I should see the distribution\n\"\"\"\n6, 15, 3, 14, 2, 5, 6, 8, 5, 10, 15, 4, 2, 1\n\"\"\"\nWhen I copy it to the clipboard\nThen I should be able to paste it somewhere else\n</code></pre>\n\n<p>(Yes, this is a full journey rather than a BDD scenario.)</p>\n\n<p>For whatever reason, running this step in Kotlin causes an error:</p>\n\n<pre><code>import cucumber.api.java8.En\n\nclass ClipboardSteps(val world : World) : En {\n    init {\n        When(\"^I copy it to the clipboard$\", {\n            // Errors even without any code here \n        })\n    }\n}\n</code></pre>\n\n<p>While this Java class runs just fine:</p>\n\n<pre><code>import cucumber.api.java8.En;\n\npublic class JavaClipboardSteps implements En {\n\n    public JavaClipboardSteps(World world) {\n        When(\"^I copy it to the clipboard$\", () -&gt; {\n            // Works just fine with code or without\n        });\n    }\n}\n</code></pre>\n\n<p>I'm utterly bemused, not least because a \"Then\" in that Kotlin steps class is running perfectly, and this other step runs without error:</p>\n\n<pre><code>import cucumber.api.java8.En\n\nclass FileImportSteps(val world: World) : En {\n    init {\n        // There's a Given here\n\n        When(\"^I import it into Montecarluni$\", {\n            // There's some code here\n        })\n    }\n}\n</code></pre>\n\n<p>The Runner, for completion:</p>\n\n<pre><code>import cucumber.api.CucumberOptions\nimport cucumber.api.junit.Cucumber\nimport org.junit.runner.RunWith\n\n@RunWith(Cucumber::class)\n@CucumberOptions(\n    format = arrayOf(\"pretty\"),\n    glue = arrayOf(\"com.lunivore.montecarluni.glue\"),\n    features = arrayOf(\".\"))\nclass Runner {\n}\n</code></pre>\n\n<p>Stacktrace is:</p>\n\n<pre><code>cucumber.runtime.CucumberException: java.lang.ArrayIndexOutOfBoundsException: 52\n\nat cucumber.runtime.java.JavaBackend.addStepDefinition(JavaBackend.java:166)\nat cucumber.api.java8.En.Then(En.java:280)\nat com.lunivore.montecarluni.glue.DistributionSteps.&lt;init&gt;(DistributionSteps.kt:8)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.picocontainer.injectors.AbstractInjector.newInstance(AbstractInjector.java:145)\nat org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:342)\nat org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\nat org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\nat org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\nat org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\nat org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\nat org.picocontainer.DefaultPicoContainer.getInstance(DefaultPicoContainer.java:699)\nat org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:647)\nat org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:678)\nat cucumber.runtime.java.picocontainer.PicoFactory.getInstance(PicoFactory.java:40)\nat cucumber.runtime.java.JavaBackend.buildWorld(JavaBackend.java:131)\nat cucumber.runtime.Runtime.buildBackendWorlds(Runtime.java:141)\nat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:38)\nat cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:102)\nat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\nat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\nat cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\nat cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat cucumber.api.junit.Cucumber.run(Cucumber.java:100)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:51)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 52\nat jdk.internal.org.objectweb.asm.Type.getArgumentTypes(Type.java:358)\nat cucumber.runtime.java8.ConstantPoolTypeIntrospector.getGenericTypes(ConstantPoolTypeIntrospector.java:32)\nat cucumber.runtime.java.Java8StepDefinition.getParameterInfos(Java8StepDefinition.java:54)\nat cucumber.runtime.java.Java8StepDefinition.&lt;init&gt;(Java8StepDefinition.java:44)\nat cucumber.runtime.java.JavaBackend.addStepDefinition(JavaBackend.java:162)\n... 44 more\n</code></pre>\n\n<p>What's going on?</p>\n\n<p>All source code currently checked in with Kotlin step commented out, <a href=\"https://github.com/lunivore/montecarluni\" rel=\"nofollow noreferrer\">here</a>. (Please excuse the mess as I'm new to a lot of the stuff I'm using; refactoring from the initial spike is ongoing.)</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1494587356, "post_id": 43936195, "comment_id": 74904551, "body": "My goal is that compiled code will look as one line instead of switch"}], "tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": false, "score": 2, "last_activity_date": 1494586888, "creation_date": 1494586888, "answer_id": 43936195, "question_id": 43935325, "link": "https://stackoverflow.com/questions/43935325/correct-way-to-use-reified-generic-in-kotlin/43936195#43936195", "title": "Correct way to use reified generic in Kotlin", "body": "<p>Your first version is the correct and idiomatic way. Kotlin has smart cast, so you have <code>is Int -&gt; e.putInt(arg.first, s)</code> instead of <code>is Int -&gt; e.putInt(arg.first, s as Int)</code>. That is all kotlin can do for you.</p>\n"}, {"comments": [{"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1494589850, "post_id": 43936898, "comment_id": 74906113, "body": "Thanks for correct answer, but I&#39;m trying to learn generics) That&#39;s why question title is <code>Correct way to use reified generic</code>"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1494591648, "post_id": 43936898, "comment_id": 74907288, "body": "@DimaRostopira Please accept the answer if this was what you were looking for :)"}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1494591846, "post_id": 43936898, "comment_id": 74907445, "body": "I&#39;m waiting for solution with generics, will accept tomorrow if there are won&#39;t be better answer"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 1, "creation_date": 1494591951, "post_id": 43936898, "comment_id": 74907516, "body": "Holy... I of course also want to write like this, but it won&#39;t compile! The JVM erasure is the same! (<code>(Landroid&#47;content&#47;SharedPreferences, Lkotlin&#47;Pair)V</code>) If you really want to use overload, you should use <code>fun SharedPreferences.put(key: String, val: XXX)</code>."}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1494592248, "post_id": 43936898, "comment_id": 74907722, "body": "@glee8e add <code>@JvmName(&quot;putXXX&quot;)</code> for each func, not a big deal. <code>fun SharedPreferences.put(key: String, val: XXX)</code> looks then like <code>put(&quot;key&quot;, value)</code> but I prefer <code>put(&quot;key&quot; to value)</code> and even better <code>defaultSharedPreferences.set(&quot;key&quot; to true)</code>"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1494592367, "post_id": 43936898, "comment_id": 74907809, "body": "Ah, I forgot about those <code>JvmName</code>s. My fault."}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 2, "last_activity_date": 1494589062, "creation_date": 1494589062, "answer_id": 43936898, "question_id": 43935325, "link": "https://stackoverflow.com/questions/43935325/correct-way-to-use-reified-generic-in-kotlin/43936898#43936898", "title": "Correct way to use reified generic in Kotlin", "body": "<p>If you want to avoid the <code>when</code>-statement, you can create overloads for each type:</p>\n\n<pre><code>inline fun SharedPreferences.put(arg: Pair&lt;String, Int&gt;) {\n    edit().putInt(arg.first, arg.second).apply()\n}\n\ninline fun SharedPreferences.put(arg: Pair&lt;String, String&gt;) {\n    edit().putString(arg.first, arg.second).apply()\n}\n\ninline fun SharedPreferences.put(arg: Pair&lt;String, Boolean&gt;) {\n    edit().putBoolean(arg.first, arg.second).apply()\n}\n\ninline fun SharedPreferences.put(arg: Pair&lt;String, Long&gt;) {\n    edit().putLong(arg.first, arg.second).apply()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 11354766, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WqdQ96RoT9c/AAAAAAAAAAI/AAAAAAAAEfw/HVtSTT5f784/photo.jpg?sz=128", "display_name": "Sanush", "link": "https://stackoverflow.com/users/11354766/sanush"}, "is_accepted": false, "score": 0, "last_activity_date": 1600150988, "creation_date": 1600150988, "answer_id": 63896234, "question_id": 43935325, "link": "https://stackoverflow.com/questions/43935325/correct-way-to-use-reified-generic-in-kotlin/63896234#63896234", "title": "Correct way to use reified generic in Kotlin", "body": "<p><strong>This the way to implement generic shared preference functions.</strong>\nUse these two functions I mentioned in bellowed in your util class (whatever class that isolated from your activity or fragment)</p>\n<pre><code>    inline fun &lt;reified T&gt; SharedPreferences.get(key: String, defaultValue: T): T {\n    when (T::class) {\n        Boolean::class -&gt; return this.getBoolean(key, defaultValue as Boolean) as T\n        Float::class -&gt; return this.getFloat(key, defaultValue as Float) as T\n        Int::class -&gt; return this.getInt(key, defaultValue as Int) as T\n        Long::class -&gt; return this.getLong(key, defaultValue as Long) as T\n        String::class -&gt; return this.getString(key, defaultValue as String) as T\n        else -&gt; {\n            if (defaultValue is Set&lt;*&gt;) {\n                return this.getStringSet(key, defaultValue as Set&lt;String&gt;) as T\n            }\n        }\n    }\n\n    return defaultValue\n}\n\ninline fun &lt;reified T&gt; SharedPreferences.put(key: String, value: T) {\n    val editor = this.edit()\n\n    when (T::class) {\n        Boolean::class -&gt; editor.putBoolean(key, value as Boolean)\n        Float::class -&gt; editor.putFloat(key, value as Float)\n        Int::class -&gt; editor.putInt(key, value as Int)\n        Long::class -&gt; editor.putLong(key, value as Long)\n        String::class -&gt; editor.putString(key, value as String)\n        else -&gt; {\n            if (value is Set&lt;*&gt;) {\n                editor.putStringSet(key, value as Set&lt;String&gt;)\n            }\n        }\n    }\n\n    editor.apply()\n}\n</code></pre>\n<p>Now you can use these two functions in your activity/fragment</p>\n<p><strong>Activity</strong></p>\n<pre><code>val sharedPreferences = getSharedPreferences(prefKey, Context.MODE_PRIVATE) \nsharedPreferences.put(key, valueYouWantoStore) //value can be any type mentioned in put function\nval value = sharedPreferences.get(Enums.signInState, defaultvalue)\n</code></pre>\n<p><strong>Fragment</strong></p>\n<pre><code>val sharedPreferences = this.requireActivity().getSharedPreferences(prefKey, Context.MODE_PRIVATE)\nsharedPreferences.put(key, valueYouWantoStore) //value can be any type mentioned in put function\nval value = sharedPreferences.get(Enums.signInState, defaultvalue)\n</code></pre>\n"}], "owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 43936898, "answer_count": 3, "score": 0, "last_activity_date": 1600150988, "creation_date": 1494584448, "last_edit_date": 1494587633, "question_id": 43935325, "link": "https://stackoverflow.com/questions/43935325/correct-way-to-use-reified-generic-in-kotlin", "title": "Correct way to use reified generic in Kotlin", "body": "<p>I want to rewrite little extension function for <code>SharedPreferences</code>. Right now it looks like this</p>\n\n<pre><code>fun SharedPreferences.put(arg: Pair&lt;String, Any&gt;) {\n    val e = edit()\n    val s = arg.second\n    when (s) {\n        is Int -&gt; e.putInt(arg.first, s)\n        is String -&gt; e.putString(arg.first, s)\n        is Boolean -&gt; e.putBoolean(arg.first, s)\n        is Long -&gt; e.putLong(arg.first, s)\n        else -&gt; throw NotImplementedError(\"Extension not implemented for this type\")\n    }\n    e.apply()\n}\n</code></pre>\n\n<p>Is there are any idiomatic way to use generic with <code>when</code>?</p>\n\n<p>My first guess is </p>\n\n<pre><code>inline fun &lt;reified T&gt; SharedPreferences.put(arg: Pair&lt;String, T&gt;) {\n    val e = edit()\n    when (T::class) {\n        Int::class -&gt; e.putInt(arg.first, arg.second as Int)\n        String::class -&gt; e.putString(arg.first, arg.second as String)\n        Boolean::class -&gt; e.putBoolean(arg.first, arg.second as Boolean)\n        Long::class -&gt; e.putLong(arg.first, arg.second as Long)\n        else -&gt; throw NotImplementedError(\"Extension not implemented for this type\")\n    }\n    e.apply()\n}\n</code></pre>\n\n<p>But it's looking a bit creepy and not working</p>\n"}, {"tags": ["kotlin", "kotlin-reflect"], "answers": [{"tags": [], "owner": {"reputation": 4319, "user_id": 4874829, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cfECAGc8huU/AAAAAAAAAAI/AAAAAAAAAJk/Pebw5H-quLo/photo.jpg?sz=128", "display_name": "Yoav Sternberg", "link": "https://stackoverflow.com/users/4874829/yoav-sternberg"}, "is_accepted": false, "score": 3, "last_activity_date": 1494582856, "creation_date": 1494582856, "answer_id": 43934721, "question_id": 43933370, "link": "https://stackoverflow.com/questions/43933370/method-reference-to-property-setter/43934721#43934721", "title": "Method reference to property setter", "body": "<p>Use <code>this::value.setter</code> in order to get the setter reference.</p>\n"}, {"tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": false, "score": 4, "last_activity_date": 1494582857, "creation_date": 1494582857, "answer_id": 43934722, "question_id": 43933370, "link": "https://stackoverflow.com/questions/43933370/method-reference-to-property-setter/43934722#43934722", "title": "Method reference to property setter", "body": "<p><code>this::value</code> is a property reference. It returns a <code>KMutableProperty</code>. To get the setter you will need the <code>setter</code> field of <code>KMutableProperty</code>. So you will need this:</p>\n\n<pre><code>class C {\n    var field: Int = 1\n    fun getFieldSetter(): (Int) -&gt; Unit{\n        return this::field.setter\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 5437033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae8934ac0d0201fb7a2464c8756e521?s=128&d=identicon&r=PG&f=1", "display_name": "Chrispher", "link": "https://stackoverflow.com/users/5437033/chrispher"}, "edited": false, "score": 1, "creation_date": 1618419076, "post_id": 65923255, "comment_id": 118597738, "body": "This is the best answer because it doesn&#39;t require reflection."}], "tags": [], "owner": {"reputation": 415, "user_id": 2478977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B42HP.png?s=128&g=1", "display_name": "mrlem", "link": "https://stackoverflow.com/users/2478977/mrlem"}, "is_accepted": false, "score": 0, "last_activity_date": 1611764768, "creation_date": 1611764768, "answer_id": 65923255, "question_id": 43933370, "link": "https://stackoverflow.com/questions/43933370/method-reference-to-property-setter/65923255#65923255", "title": "Method reference to property setter", "body": "<p>Slightly shorter: just use <code>this::value::set</code></p>\n"}], "owner": {"reputation": 4405, "user_id": 631814, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4c8f02294f1d1e1c578542deff566367?s=128&d=identicon&r=PG", "display_name": "Stepango", "link": "https://stackoverflow.com/users/631814/stepango"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1611764768, "creation_date": 1494579045, "question_id": 43933370, "link": "https://stackoverflow.com/questions/43933370/method-reference-to-property-setter", "title": "Method reference to property setter", "body": "<p>How could I get method reference to property setter without using kotlin-reflect?</p>\n\n<p>Basically, if I'll write my code in java way it's super simple</p>\n\n<pre><code>fun setValue(i: Int) = Unit\nval a: (Int) -&gt; Unit = this::setValue\n</code></pre>\n\n<p>But for <code>var value: Int</code> I'm getting </p>\n\n<pre><code>var value = 1\nval a: KMutableProperty0&lt;Int&gt; = this::value\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 4916, "user_id": 969016, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/z0eok.png?s=128&g=1", "display_name": "Boy", "link": "https://stackoverflow.com/users/969016/boy"}, "edited": false, "score": 1, "creation_date": 1494834735, "post_id": 43929440, "comment_id": 74977769, "body": "Thanks, this is not clear at all from the error. How can I derive what to do, how did you find out?"}, {"owner": {"reputation": 722, "user_id": 455794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d2b7d0e84252b20e0bd4a1d97ecfd2d?s=128&d=identicon&r=PG", "display_name": "Swindler", "link": "https://stackoverflow.com/users/455794/swindler"}, "edited": false, "score": 0, "creation_date": 1500492201, "post_id": 43929440, "comment_id": 77365789, "body": "Brilliant! I&#39;ve been ignoring this warning for awhile now because I couldn&#39;t find how to do this."}, {"owner": {"reputation": 2241, "user_id": 2430217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33cb77ee4f9996a9e80fbb6982656c2b?s=128&d=identicon&r=PG", "display_name": "Ihab Shoully", "link": "https://stackoverflow.com/users/2430217/ihab-shoully"}, "edited": false, "score": 1, "creation_date": 1515536525, "post_id": 43929440, "comment_id": 83335136, "body": "For anyone like me, there are two &quot;build.gradle&quot; in your project, make sure you checked the project level file."}, {"owner": {"reputation": 10444, "user_id": 458668, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3RGgN.jpg?s=128&g=1", "display_name": "WindRider", "link": "https://stackoverflow.com/users/458668/windrider"}, "edited": false, "score": 0, "creation_date": 1523886801, "post_id": 43929440, "comment_id": 86732852, "body": "A better link: <a href=\"https://plugins.gradle.org/m2/org/jetbrains/kotlin/kotlin-gradle-plugin/\" rel=\"nofollow noreferrer\">plugins.gradle.org/m2/org/jetbrains/kotlin/kotlin-gradle-plu&zwnj;&#8203;gin</a>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 145, "last_activity_date": 1557067252, "last_edit_date": 1557067252, "creation_date": 1494564178, "answer_id": 43929440, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/43929440#43929440", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>You can update your Kotlin version in your project level <code>build.gradle</code> file. If you have it configured the usual way, you should have the following line in it around the top:</p>\n\n<pre><code>ext.kotlin_version = '1.1.2'\n</code></pre>\n\n<p>To upgrade to the version matching your plugin, simply change this line to:</p>\n\n<pre><code>ext.kotlin_version = '1.1.2-3'\n</code></pre>\n\n<hr>\n\n<p><strong>Edit</strong> (to respond to a question below):</p>\n\n<p>The error tells you that you need to upgrade your version, the question is where to find out that you have to put in <code>1.1.2-3</code> instead of saying, for example, <code>1.1.2-release-Studio2.3-3</code>.</p>\n\n<p>The best way to find out the latest version of Kotlin is by going to <a href=\"https://kotlinlang.org/\" rel=\"noreferrer\">kotlinlang.org</a> and looking for \"Latest version\". Should be right there on the front page.</p>\n\n<p>Another thing to do if the version number is non-trivial like this is to check the repositories where the versions are hosted. In the case of Android, you'll probably be getting it from jcenter, for which you can find the <a href=\"https://bintray.com/bintray/jcenter/org.jetbrains.kotlin%3Akotlin-gradle-plugin\" rel=\"noreferrer\">repository page</a>, which has all the available versions listed.</p>\n\n<p>You can also browse the raw maven repository of jcenter where the files are actually hosted by going <a href=\"https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-gradle-plugin/\" rel=\"noreferrer\">here</a>, or look up Kotlin either on <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib\" rel=\"noreferrer\">mvnrepository</a> or on <a href=\"https://search.maven.org/search?q=g:org.jetbrains.kotlin%20a:kotlin-gradle-plugin\" rel=\"noreferrer\">mavencentral</a> (raw version of the latter <a href=\"http://central.maven.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/\" rel=\"noreferrer\">here</a>).</p>\n"}, {"comments": [{"owner": {"reputation": 880, "user_id": 6559031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RJppD.jpg?s=128&g=1", "display_name": "Devil10", "link": "https://stackoverflow.com/users/6559031/devil10"}, "edited": false, "score": 0, "creation_date": 1498829881, "post_id": 44574638, "comment_id": 76676148, "body": "do kotlin plugin not support automatic plugin update?? it shows to update gradle manually"}, {"owner": {"reputation": 880, "user_id": 6559031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RJppD.jpg?s=128&g=1", "display_name": "Devil10", "link": "https://stackoverflow.com/users/6559031/devil10"}, "edited": false, "score": 4, "creation_date": 1498830069, "post_id": 44574638, "comment_id": 76676290, "body": "it shows     &quot;Your version of Kotlin runtime in &#39;kotlin-stdlib-1.1.2-5&#39; library is 1.1.2-5, while plugin version is 1.1.3-release-Studio2.3-1.Runtime library should be updated to avoid compatibility problems.&quot;  .... what should i supposed to do now."}, {"owner": {"reputation": 1298, "user_id": 6399490, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209923210702678/picture?type=large", "display_name": "Beatrice Lin", "link": "https://stackoverflow.com/users/6399490/beatrice-lin"}, "edited": false, "score": 0, "creation_date": 1508841536, "post_id": 44574638, "comment_id": 80763305, "body": "changing your ext.kotlin_version from &#39;1.1.2-5&#39;to ext.kotlin_version = &#39;1.1.3-1&#39;"}], "tags": [], "owner": {"reputation": 71, "user_id": 2390308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12fda9fac7b466a73a317c7c7303865?s=128&d=identicon&r=PG", "display_name": "Mauve Guava", "link": "https://stackoverflow.com/users/2390308/mauve-guava"}, "is_accepted": false, "score": 3, "last_activity_date": 1497551904, "creation_date": 1497551904, "answer_id": 44574638, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/44574638#44574638", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>changing your ext.kotlin_version from '1.1.2-4'to ext.kotlin_version = '1.1.2-5' solved the problem for me</p>\n"}, {"tags": [], "owner": {"reputation": 10351, "user_id": 517381, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9d3bebe088c64440ec8870918299d18f?s=128&d=identicon&r=PG", "display_name": "ViliusK", "link": "https://stackoverflow.com/users/517381/viliusk"}, "is_accepted": false, "score": -1, "last_activity_date": 1508339238, "creation_date": 1508339238, "answer_id": 46813462, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/46813462#46813462", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>I had faced this issue on latest Android Studio from Canary channel. You might want to consider downgrading Android Studio to stable version as well.</p>\n\n<p>It happened for me on Android Studio 3.0 RC1.</p>\n"}, {"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 11, "last_activity_date": 1514422103, "creation_date": 1514422103, "answer_id": 48000311, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/48000311#48000311", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>it complained (on Android Studio 3.0.1) ...most likely because of referenced libraries' dependencies:</p>\n\n<blockquote>\n  <p>Your version of Kotlin runtime in 'org.jetbrains.kotlin:kotlin-stdlib:1.1.3@jar' library is 1.1.3, while plugin version is 1.1.51-release-Studio3.0-1.</p>\n</blockquote>\n\n<p>then I've enforced building against the version it demanded, in the module level <code>build.gradle</code>:</p>\n\n<pre><code>configurations.all() {\n    resolutionStrategy.force 'org.jetbrains.kotlin:kotlin-stdlib:1.1.51'\n}\n</code></pre>\n\n<p>and the result is:</p>\n\n<pre><code>./gradlew app:dependencies | grep kotlin\nDownload https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-stdlib/1.1.51/kotlin-stdlib-1.1.51.pom\n |    |    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 -&gt; 1.1.51\n ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2396, "user_id": 1578867, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a04df04c51da9c785c5d21f04e4d5dc1?s=128&d=identicon&r=PG", "display_name": "auspicious99", "link": "https://stackoverflow.com/users/1578867/auspicious99"}, "edited": false, "score": 0, "creation_date": 1530776065, "post_id": 48334493, "comment_id": 89353241, "body": "The kotlin runtime and kotlin plugin are different. The question was asking about the error message that asks to update the kotlin runtime."}], "tags": [], "owner": {"reputation": 5077, "user_id": 5476209, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/SKMHP.jpg?s=128&g=1", "display_name": "TapanHP", "link": "https://stackoverflow.com/users/5476209/tapanhp"}, "is_accepted": false, "score": 1, "last_activity_date": 1516433803, "last_edit_date": 1516433803, "creation_date": 1516338942, "answer_id": 48334493, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/48334493#48334493", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>This issue comes when you update the kotlin plugin version popped up from android studio, but issue is current version of Android studio is not able to dynamically change the kotlin gradle plugin which is located in your <strong>project level Build.gradle</strong> file.</p>\n\n<pre><code>dependencies {\n     classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.10\"\n}\n</code></pre>\n\n<blockquote>\n  <p>How to solve this issue?</p>\n</blockquote>\n\n<p>So you need to manually change this version, You can find that <a href=\"https://bintray.com/bintray/jcenter/org.jetbrains.kotlin%3Akotlin-gradle-plugin\" rel=\"nofollow noreferrer\">Here</a></p>\n"}, {"comments": [{"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "edited": false, "score": 0, "creation_date": 1526448498, "post_id": 48446466, "comment_id": 87742300, "body": "Thank you helped me to update my Koltin plugin by doing Tools-&gt;Kotlin--&gt;Configure Kotlin Updates-&gt; Check for updates-&gt;Install."}, {"owner": {"reputation": 2460, "user_id": 4185813, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/wIebp.jpg?s=128&g=1", "display_name": "Ajay Kulkarni", "link": "https://stackoverflow.com/users/4185813/ajay-kulkarni"}, "edited": false, "score": 0, "creation_date": 1533124515, "post_id": 48446466, "comment_id": 90229385, "body": "This should be accepted answer!! I&#39;m using Android Studio 3.1.3, I had same issue like OP"}, {"owner": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "edited": false, "score": 0, "creation_date": 1559662324, "post_id": 48446466, "comment_id": 99487557, "body": "remember to use 1.3.31"}], "tags": [], "owner": {"reputation": 13421, "user_id": 2298241, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/kWH39.jpg?s=128&g=1", "display_name": "Ivo Stoyanov", "link": "https://stackoverflow.com/users/2298241/ivo-stoyanov"}, "is_accepted": false, "score": 144, "last_activity_date": 1547798629, "last_edit_date": 1547798629, "creation_date": 1516894219, "answer_id": 48446466, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/48446466#48446466", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>In your <code>(Project: [projectName])</code> <code>build.gradle</code> file find this:\n<code>ext.kotlin_version = 'x.x.x'</code> and replace x.x.x with the current version of your Kotlin plugin.\n<a href=\"https://i.stack.imgur.com/VDN8R.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VDN8R.png\" alt=\"enter image description here\"></a></p>\n\n<p>In order to check which is the current version of your Kotlin plugin:</p>\n\n<ol>\n<li><p>Go to: Tools -> Kotlin -> Confugure Kotlin Plugin Updates </p></li>\n<li><p>Click \"Check again\". After a second you will see the version of your Kotlin plugin. (If not up to date, your Kotlin plugin will be updated.)\n<a href=\"https://i.stack.imgur.com/H9wbn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/H9wbn.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/8yPd4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8yPd4.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n\n<p><strong>N.B.:</strong> Also check your <code>(Module: app)</code> <code>build.gradle</code> file and assure that you do not use:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:1.2.21\" \n</code></pre>\n\n<p>but</p>\n\n<pre><code>compile 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.40'\n</code></pre>\n\n<p>Note the difference \"...<strong>jre7</strong>...\" -> \"...<strong>jdk7</strong>...\". Also replace \"1.2.40\" with your current Kotlin plugin version.</p>\n"}, {"tags": [], "owner": {"reputation": 1175, "user_id": 819707, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f0f0e96f9880f54d9c6b86f901ccf11?s=128&d=identicon&r=PG&f=1", "display_name": "Sal Aldana", "link": "https://stackoverflow.com/users/819707/sal-aldana"}, "is_accepted": false, "score": 1, "last_activity_date": 1524850093, "creation_date": 1524850093, "answer_id": 50067466, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/50067466#50067466", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>I've run into this issue a few times in Android Studio and IDEA, found that if you go into your projects Gradle file and in your dependencies if you set the version of the <code>kotlin-gradle-plugin</code> to <code>$kotlin_version</code> then the warning message will tell you what version you need to set <code>ext.kotlin_version</code> to.   </p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.2.40'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.1.2'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/skTRw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/skTRw.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 2396, "user_id": 1578867, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a04df04c51da9c785c5d21f04e4d5dc1?s=128&d=identicon&r=PG", "display_name": "auspicious99", "link": "https://stackoverflow.com/users/1578867/auspicious99"}, "edited": false, "score": 0, "creation_date": 1530775994, "post_id": 50482217, "comment_id": 89353202, "body": "It is now 1.2.51 on July 5; see my answer for an easy way to see what the latest version is."}], "tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1527060138, "creation_date": 1527060138, "answer_id": 50482217, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/50482217#50482217", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>Kotlin newest version: </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.github.dcendents:android-maven-gradle-plugin:1.5'\n        classpath 'com.google.gms:google-services:1.5.0-beta2'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2396, "user_id": 1578867, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a04df04c51da9c785c5d21f04e4d5dc1?s=128&d=identicon&r=PG", "display_name": "auspicious99", "link": "https://stackoverflow.com/users/1578867/auspicious99"}, "edited": false, "score": 1, "creation_date": 1530775888, "post_id": 50753200, "comment_id": 89353140, "body": "It is now 1.2.51 on July 5; see my answer for an easy way to see what the latest version is."}], "tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": 2, "last_activity_date": 1528430699, "creation_date": 1528430699, "answer_id": 50753200, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/50753200#50753200", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<blockquote>\n  <p><strong>the latest version of kotlin is 1.2.41 use this and syn your project.</strong></p>\n</blockquote>\n\n<pre><code>buildscript {\next.kotlin_version = '1.2.41'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.1.2'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": 1, "last_activity_date": 1528960533, "last_edit_date": 1528960533, "creation_date": 1528959231, "answer_id": 50851306, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/50851306#50851306", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<pre><code>buildscript {\n    ext.kotlin_version = '1.2.50'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2396, "user_id": 1578867, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a04df04c51da9c785c5d21f04e4d5dc1?s=128&d=identicon&r=PG", "display_name": "auspicious99", "link": "https://stackoverflow.com/users/1578867/auspicious99"}, "is_accepted": false, "score": 6, "last_activity_date": 1530776118, "last_edit_date": 1530776118, "creation_date": 1530775757, "answer_id": 51185568, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/51185568#51185568", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>There are two pieces you may want to update:</p>\n\n<ol>\n<li>kotlin runtime for the project</li>\n<li>kotlin plugin</li>\n</ol>\n\n<p>The answer by Ivo Stoyanov shows how to do this using the android studio menus. When I got the error message and tried this (updating the kotlin plugin) alone, it still complained about the kotlin runtime. You can update that on a project by project basis, by adding the line on ext.kotlin_version to the project build gradle, as some of the other answers indicate. But you'll need to know the kotlin runtime version for that. Alternatively, you can also do it through the menus, as I show here below, with the bonus that android studio shows you the available versions, and you can pick the most recent.</p>\n\n<p><a href=\"https://i.stack.imgur.com/MSrVW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MSrVW.png\" alt=\"step 1\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/d1g7n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d1g7n.png\" alt=\"step 2\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/tzphA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tzphA.png\" alt=\"step 3\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/EYFVu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EYFVu.png\" alt=\"step 4\"></a></p>\n\n<p>And then android studio will add in the appropriate line in your project build gradle.</p>\n"}, {"tags": [], "owner": {"reputation": 3793, "user_id": 1023597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OIGyn.png?s=128&g=1", "display_name": "Vishal Pawar", "link": "https://stackoverflow.com/users/1023597/vishal-pawar"}, "is_accepted": false, "score": 0, "last_activity_date": 1531647516, "creation_date": 1531647516, "answer_id": 51347144, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/51347144#51347144", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>Bit annoying but studio acts like it some times. Below steps can fix the issue.  </p>\n\n<p>Go to </p>\n\n<p><strong>Settings -> Build, Execution, Development -> Gradle -> Use default gradle wrapper(recommended)</strong> </p>\n\n<p>change this to Use local and back to Use default. Studio will ask about updating gradle after closing the settings windows.  </p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 7752882, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UBsz_PJ8GqQ/AAAAAAAAAAI/AAAAAAAAACc/MMtbsi0NGTA/photo.jpg?sz=128", "display_name": "muhammad awais", "link": "https://stackoverflow.com/users/7752882/muhammad-awais"}, "is_accepted": false, "score": 1, "last_activity_date": 1547979089, "creation_date": 1547979089, "answer_id": 54275403, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/54275403#54275403", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>search for these two lines of code</p>\n\n<p><strong>ext.kotlin_version</strong> = '1.3.11'</p>\n\n<p><strong>classpath</strong> \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"</p>\n\n<p>replace $<strong>kotlin_version</strong> with actual value (here it's 1.3.11)</p>\n\n<p><strong>classpath</strong> \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.11\"</p>\n\n<p>after this your IDE will automatically suggest you the updated version</p>\n\n<p>happy coding :)</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 8229821, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9c1c6dc4dc4adfe5ac051bebae96c7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra.kr", "link": "https://stackoverflow.com/users/8229821/narendra-kr"}, "is_accepted": false, "score": 0, "last_activity_date": 1548142103, "creation_date": 1548142103, "answer_id": 54303200, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/54303200#54303200", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>I was facing same problem after updation my android studio from 3.0.1 to 3.2.1.My problem was solved after using this.</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.2.51'\nrepositories {\n    google()\n    jcenter()\n    mavenCentral()\n    maven { url \"https://jitpack.io\" }\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.2.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 9000, "user_id": 2851687, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/2wGfz.jpg?s=128&g=1", "display_name": "ralphgabb", "link": "https://stackoverflow.com/users/2851687/ralphgabb"}, "is_accepted": false, "score": 2, "last_activity_date": 1552021255, "creation_date": 1552021255, "answer_id": 55056990, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio/55056990#55056990", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>As of <strong>March 8, 2019</strong> the current kotlin version is <code>'1.3.21'</code></p>\n\n<p>Under <code>build.gradle</code> </p>\n\n<pre><code>buildscript {\n   ext.kotlin_version = '1.3.21'\n   repositories {\n      google()\n      jcenter()\n   }\n   dependencies {\n      classpath 'com.android.tools.build:gradle:3.3.2'\n      classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n</code></pre>\n\n<p>cheers</p>\n"}], "owner": {"reputation": 3029, "user_id": 3278271, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4bb5e87583adc567dccfcf71e32b606?s=128&d=identicon&r=PG&f=1", "display_name": "Arsenius", "link": "https://stackoverflow.com/users/3278271/arsenius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73125, "favorite_count": 21, "answer_count": 15, "score": 164, "last_activity_date": 1557067252, "creation_date": 1494554023, "last_edit_date": 1514422528, "question_id": 43928118, "link": "https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-in-android-studio", "title": "Outdated Kotlin Runtime warning in Android Studio", "body": "<p>After downloaded and installed latest Kotlin plugin I have <strong>Outdated Kotlin Runtime</strong> warning from Android Studio that telling me:</p>\n\n<blockquote>\n  <p>Your version of Kotlin runtime in 'kotlin-stdlib-1.1.2' library is\n  1.1.2, while plugin version is 1.1.2-release-Studio2.3-3. Runtime library should be updated to avoid compatibility problems.</p>\n</blockquote>\n\n<p>I tried to click <em>Update Runtime</em> button but getting another message:</p>\n\n<blockquote>\n  <p>Automatic library version update for Gradle projects is currently\n  unsupported. Please update your build.gradle manually.</p>\n</blockquote>\n\n<p>How to solve this issue?</p>\n"}, {"tags": ["collections", "kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 6, "creation_date": 1494529232, "post_id": 43923063, "comment_id": 74880254, "body": "<code>takeWhile</code> will stop once it encounters an element that does <i>not</i> satisfy the condition."}], "answers": [{"comments": [{"owner": {"reputation": 11193, "user_id": 21399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d80da33cc7d28b76bb5911bd0d1d056d?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/21399/nick"}, "edited": false, "score": 0, "creation_date": 1607682374, "post_id": 43923079, "comment_id": 115354810, "body": "Importantly, if you made an infinite sequence, <code>takeWhile</code> could limit it to a finite sequence whereas <code>filter</code> would never finish (as it&#39;d be looking forever for any later elements that might match)"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1611937872, "post_id": 43923079, "comment_id": 116619240, "body": "Can <code>takeWhile</code> be used on a String?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user961376"}, "is_accepted": false, "score": 33, "last_activity_date": 1494527296, "creation_date": 1494527296, "answer_id": 43923079, "question_id": 43923063, "link": "https://stackoverflow.com/questions/43923063/difference-between-takewhile-and-filter-method-in-kotlin/43923079#43923079", "title": "Difference between takeWhile() and filter() method in Kotlin", "body": "<p>The difference between both is <code>filter()</code> method returns a list with the elements that match an specific condition. And <code>takeWhile()</code> method also returns a list with the elements that match with the specific condition but just taking in account the firsts elements on the list.</p>\n\n<p>An example for that:</p>\n\n<pre><code>val numbers = arrayOf(3, 3, 3, 9, 1, 4, 5, 8, 96, 3, 66, 3, 3, 3)\n\nprintln(\"*** takeWhile()\")\nprintln(numbers.takeWhile { it == 3 })\nprintln(\"*** filter()\")\nprintln(numbers.filter { it -&gt; it == 3 })\n</code></pre>\n\n<p>That will give you:</p>\n\n<pre><code>*** takeWhile()\n[3, 3, 3]\n*** filter()\n[3, 3, 3, 3, 3, 3, 3]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3997, "user_id": 8305660, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/41rZg.jpg?s=128&g=1", "display_name": "pyd", "link": "https://stackoverflow.com/users/8305660/pyd"}, "is_accepted": false, "score": 1, "last_activity_date": 1599159036, "creation_date": 1599159036, "answer_id": 63729947, "question_id": 43923063, "link": "https://stackoverflow.com/questions/43923063/difference-between-takewhile-and-filter-method-in-kotlin/63729947#63729947", "title": "Difference between takeWhile() and filter() method in Kotlin", "body": "<blockquote>\n<p>filter will iterate through whole input iterator while takewhile will break once the predicate turn False,\nif you have an iterator with 1st element that false to predicate, takewhile will break at 1st iteration and return empty</p>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7997694"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3460, "favorite_count": 2, "answer_count": 2, "score": 13, "last_activity_date": 1599159036, "creation_date": 1494527235, "last_edit_date": 1494614173, "question_id": 43923063, "link": "https://stackoverflow.com/questions/43923063/difference-between-takewhile-and-filter-method-in-kotlin", "title": "Difference between takeWhile() and filter() method in Kotlin", "body": "<p>I was doing an exercise and I found I could get the same result using <code>takeWhile()</code> and <code>filter()</code> method, so I  would like to know when I have to use one or another.</p>\n\n<p>Thank you and any source you want to share with me will be welcome.</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1494678887, "creation_date": 1494678887, "answer_id": 43953220, "question_id": 43922705, "link": "https://stackoverflow.com/questions/43922705/cant-open-project-after-update-android-studio/43953220#43953220", "title": "Cant open project after update Android Studio", "body": "<p>You have installed plugins which are not compatible With Android Studio. You have to uninstall them.</p>\n\n<p>Please check if your Android Studio version is supported by your plugins that you have.</p>\n\n<p>It looks like problem in Kotlin Plugin.</p>\n"}, {"tags": [], "owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "is_accepted": true, "score": 0, "last_activity_date": 1494868706, "creation_date": 1494868706, "answer_id": 43985332, "question_id": 43922705, "link": "https://stackoverflow.com/questions/43922705/cant-open-project-after-update-android-studio/43985332#43985332", "title": "Cant open project after update Android Studio", "body": "<p>I have tu update the Kotlin plugin.\nFollow this steps.</p>\n\n<p>Step 1. Open the plugin options in android studio menu.\n<a href=\"https://i.stack.imgur.com/Xol9o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xol9o.png\" alt=\"enter image description here\"></a></p>\n\n<p>Step 2. Select Kotlin plugin and clic update.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AajuJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AajuJ.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 43985332, "answer_count": 2, "score": 0, "last_activity_date": 1494868706, "creation_date": 1494525991, "question_id": 43922705, "link": "https://stackoverflow.com/questions/43922705/cant-open-project-after-update-android-studio", "title": "Cant open project after update Android Studio", "body": "<p>I update android studio  and layer i can't open any project, the image is the message.</p>\n\n<ul>\n<li>It doesnt matter if the project use kotlin or not.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/u3YZz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3YZz.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1494510695, "post_id": 43917248, "comment_id": 74867928, "body": "...and <code>arrayOfNulls&lt;Something&gt;(x)</code> in Kotlin is equivalent of <code>new Something[x]</code> in Java."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1494510727, "post_id": 43917248, "comment_id": 74867947, "body": "Just to add to this, note that this way you will get an array of type <code>Array&lt;String?&gt;</code>, so every element you get from it will always be nullable. If you&#39;d like an <code>Array&lt;String&gt;</code>, you&#39;ll have to initialize all of its elements when you create the array."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user961376"}, "is_accepted": false, "score": 3, "last_activity_date": 1494510817, "last_edit_date": 1494510817, "creation_date": 1494510256, "answer_id": 43917248, "question_id": 43917241, "link": "https://stackoverflow.com/questions/43917241/what-represents-an-a-arrayofnulls-in-kotlin/43917248#43917248", "title": "What represents an a arrayOfNulls in Kotlin?", "body": "<p>Well, as the docs say: </p>\n\n<blockquote>\n  <p>It returns an array containing the specified elements.</p>\n</blockquote>\n\n<p>It means, you can create an array with null values depending in the size you specified\nFor instance,</p>\n\n<pre><code>val arrayOfNulls = kotlin.arrayOfNulls&lt;String&gt;(9)\nprintln (arrayOfNulls)\n</code></pre>\n\n<p>The result would be: </p>\n\n<blockquote>\n  <p>[null, null, null, null, null, null, null, null, null]</p>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7997694"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2875, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1494510817, "creation_date": 1494510235, "question_id": 43917241, "link": "https://stackoverflow.com/questions/43917241/what-represents-an-a-arrayofnulls-in-kotlin", "title": "What represents an a arrayOfNulls in Kotlin?", "body": "<p>I am new in Kotlin and I want to understand the use of <code>arrayOfNulls()</code> method</p>\n\n<p>Thanks in advance</p>\n"}]