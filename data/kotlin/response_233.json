[{"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5555, "user_id": 471191, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/83958d25accf9fb025bcdfc431d0ebb5?s=128&d=identicon&r=PG", "display_name": "Jason Axelrod", "link": "https://stackoverflow.com/users/471191/jason-axelrod"}, "edited": false, "score": 0, "creation_date": 1561603194, "post_id": 56782584, "comment_id": 100120912, "body": "Is there an easy way to convert my Activity to a Service?"}, {"owner": {"reputation": 172, "user_id": 2406925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c47e0a80eac7869985c2933edd44a28?s=128&d=identicon&r=PG", "display_name": "unzila", "link": "https://stackoverflow.com/users/2406925/unzila"}, "edited": false, "score": 0, "creation_date": 1561611741, "post_id": 56782584, "comment_id": 100122589, "body": "you have to make separate service for web socket connection and start this service inside of activity"}], "tags": [], "owner": {"reputation": 2164, "user_id": 4006222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uat4p.png?s=128&g=1", "display_name": "Seop Yoon", "link": "https://stackoverflow.com/users/4006222/seop-yoon"}, "is_accepted": false, "score": 2, "last_activity_date": 1561617328, "last_edit_date": 1561617328, "creation_date": 1561596495, "answer_id": 56782584, "question_id": 56782097, "link": "https://stackoverflow.com/questions/56782097/android-kotlin-webview-in-background/56782584#56782584", "title": "Android Kotlin Webview in Background?", "body": "<p>Do you have this in an <code>Activity</code> or in a <code>Service</code>.  If it is in an <code>Activity</code> class, when your phone goes to sleep, the activity is stopped, which could halt the web-socket connection.  </p>\n\n<p>If you really want to keep a process running even when your phone goes to sleep, it has to be served as a <code>Service</code>. Even services get destroyed though, but when you think of a music streaming app, they are kept alive. </p>\n\n<p>Please have a look at this link: <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/services</a> </p>\n\n<p>In short, if you want to keep running something even when the phone goes to sleep, it must be implemented as a foreground service. </p>\n"}], "owner": {"reputation": 5555, "user_id": 471191, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/83958d25accf9fb025bcdfc431d0ebb5?s=128&d=identicon&r=PG", "display_name": "Jason Axelrod", "link": "https://stackoverflow.com/users/471191/jason-axelrod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561617328, "creation_date": 1561591501, "question_id": 56782097, "link": "https://stackoverflow.com/questions/56782097/android-kotlin-webview-in-background", "title": "Android Kotlin Webview in Background?", "body": "<p>My application is basically a webview. The page it opens runs on web-sockets.</p>\n\n<p>However, when I lock my phone, the web-socket connection gets broken... since the application is no longer in focus. How can I keep this webview and it's web-sockets running in the background so that the connection isn't lost when the phone goes to sleep?</p>\n\n<pre><code>    webWindow = findViewById(R.id.webView)\n    webWindow.loadUrl(\"http://8wr.io/scoreboard/\")\n    webWindow.settings.javaScriptEnabled = true\n    webWindow.settings.userAgentString = \"com.ewr.scoreboardassistant\"\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "admob"], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "edited": false, "score": 0, "creation_date": 1561590469, "post_id": 56781954, "comment_id": 100118808, "body": "Thanks, i fixed it, but how can i show intertitial ad before load fragment?"}, {"owner": {"reputation": 395, "user_id": 1143454, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/F3b7Q.jpg?s=128&g=1", "display_name": "Gladi", "link": "https://stackoverflow.com/users/1143454/gladi"}, "reply_to_user": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "edited": false, "score": 0, "creation_date": 1561590579, "post_id": 56781954, "comment_id": 100118828, "body": "If i understand you in the right way, on the Activity which you make the transaction of the fragment, before you make commit(), show the ad, when ad is closed (onAdClosed) make the transaction / commit."}, {"owner": {"reputation": 395, "user_id": 1143454, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/F3b7Q.jpg?s=128&g=1", "display_name": "Gladi", "link": "https://stackoverflow.com/users/1143454/gladi"}, "reply_to_user": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "edited": false, "score": 0, "creation_date": 1561590619, "post_id": 56781954, "comment_id": 100118837, "body": "Or you can show in the fragment onViewCreated method."}, {"owner": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "edited": false, "score": 0, "creation_date": 1561592379, "post_id": 56781954, "comment_id": 100119197, "body": "{                     fragment = UserFragment().newInstance()                     interstitalAd()                     loadFragment(fragment)                     return@OnNavigationItemSelectedListener true                 }"}], "tags": [], "owner": {"reputation": 395, "user_id": 1143454, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/F3b7Q.jpg?s=128&g=1", "display_name": "Gladi", "link": "https://stackoverflow.com/users/1143454/gladi"}, "is_accepted": false, "score": 0, "last_activity_date": 1561590487, "last_edit_date": 1561590487, "creation_date": 1561590285, "answer_id": 56781954, "question_id": 56781788, "link": "https://stackoverflow.com/questions/56781788/displaying-interstital-ads-before-load-fragment/56781954#56781954", "title": "Displaying interstital ads before load fragment", "body": "<p><strong>Here you load ad when you close:</strong>  </p>\n\n<pre><code>          override fun onAdClosed() {\n            mInterstitialAd.loadAd(AdRequest.Builder().build())\n        }\n</code></pre>\n\n<p><strong>Here, when its loaded, you show again:</strong></p>\n\n<pre><code>               if (mInterstitialAd.isLoaded) {\n                mInterstitialAd.show()\n            }\n</code></pre>\n\n<p>this is endless.</p>\n\n<p>if you don't want it to show again and again, cancel one of the two.</p>\n"}], "owner": {"reputation": 155, "user_id": 10894148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22c9f9c4a3047c6ad150f949d69f4d54?s=128&d=identicon&r=PG&f=1", "display_name": "Bekzhan", "link": "https://stackoverflow.com/users/10894148/bekzhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561590487, "creation_date": 1561588944, "last_edit_date": 1561590399, "question_id": 56781788, "link": "https://stackoverflow.com/questions/56781788/displaying-interstital-ads-before-load-fragment", "title": "Displaying interstital ads before load fragment", "body": "<p>When i open fragment interstitial ad shows after some 4-5 seconds. How can i fix that interstitial ad shows before loaded fragment view</p>\n\n<pre><code>        mInterstitialAd.adUnitId = \"ca-app-pub-3940256099942544/1033173712\"\n        mInterstitialAd.loadAd(AdRequest.Builder().build())\n        mInterstitialAd.adListener = object : AdListener() {\n            override fun onAdLoaded() {\n                if (mInterstitialAd.isLoaded) {\n                    mInterstitialAd.show()\n                }\n            }\n        }\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "set", "hashset"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1561587611, "post_id": 56781607, "comment_id": 100118103, "body": "Are you altering the object after inserting it into the Set? You&#39;re  probably messing with the hash that it has stored."}, {"owner": {"reputation": 11342, "user_id": 4616087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kEud.png?s=128&g=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/4616087/marvin"}, "edited": false, "score": 0, "creation_date": 1561587718, "post_id": 56781607, "comment_id": 100118135, "body": "Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 367, "user_id": 3556590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89a5857f470b90eb7e5c7892e412cb04?s=128&d=identicon&r=PG&f=1", "display_name": "don11995", "link": "https://stackoverflow.com/users/3556590/don11995"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1561588436, "post_id": 56781607, "comment_id": 100118328, "body": "@Carcigenicate Hm, may be there one field changed. I&#39;ll check it tomorrow. Thanks for idea."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1561588882, "post_id": 56781607, "comment_id": 100118440, "body": "If that&#39;s the case, then you&#39;re likely violating requirements of the Set. In Java, you can&#39;t alter the keys of a HashMap (which HashSets are backed by). It&#39;s likely similar in Kotlin. When you insert the object, it hashes it and puts it in a slot depending on the hash. If you then alter the object, the hash will change, and when it hashes the object during the membership test, the hashes will be different, and the lookup with fail."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1561589008, "post_id": 56781607, "comment_id": 100118466, "body": "If you need the inserted objects to be mutable, consider using a HashMap instead, associating the object with some ID key, and doing lookups on the ID instead. It&#39;s OK if the values changes."}], "answers": [{"tags": [], "owner": {"reputation": 367, "user_id": 3556590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89a5857f470b90eb7e5c7892e412cb04?s=128&d=identicon&r=PG&f=1", "display_name": "don11995", "link": "https://stackoverflow.com/users/3556590/don11995"}, "is_accepted": true, "score": 0, "last_activity_date": 1561671624, "creation_date": 1561671624, "answer_id": 56798767, "question_id": 56781607, "link": "https://stackoverflow.com/questions/56781607/kotlin-hashset-wrong-behaviour-bug/56798767#56798767", "title": "Kotlin HashSet wrong behaviour (bug)", "body": "<p>Thanks to Carcigenicate and I post the given answer as correct. </p>\n\n<p>\"If that's the case, then you're likely violating requirements of the Set. In Java, you can't alter the keys of a HashMap (which HashSets are backed by). It's likely similar in Kotlin. When you insert the object, it hashes it and puts it in a slot depending on the hash. If you then alter the object, the hash will change, and when it hashes the object during the membership test, the hashes will be different, and the lookup with fail.\"</p>\n"}], "owner": {"reputation": 367, "user_id": 3556590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89a5857f470b90eb7e5c7892e412cb04?s=128&d=identicon&r=PG&f=1", "display_name": "don11995", "link": "https://stackoverflow.com/users/3556590/don11995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 56798767, "answer_count": 1, "score": 0, "last_activity_date": 1561671624, "creation_date": 1561587401, "question_id": 56781607, "link": "https://stackoverflow.com/questions/56781607/kotlin-hashset-wrong-behaviour-bug", "title": "Kotlin HashSet wrong behaviour (bug)", "body": "<p>I've got a strange behaviour of the <code>HashSet</code> class. I don't know why, but method <code>contains</code> returns wrong result. Here an image from debugger:</p>\n\n<p><a href=\"https://i.stack.imgur.com/T8QaF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T8QaF.png\" alt=\"Debugger\"></a>\n<code>rootElemetns</code> is a <code>HashSet</code> that contains some <code>FsEntries</code> that are represented by a simple data class (without any aditional methods, only fields). As You can see <code>fsEntry</code> that passed to the method  <code>contains</code> is the same element as the highlited element (address @8939 is the same).</p>\n\n<p>Why <code>contains</code> returns <code>false</code>, but <code>indexOf</code> is 5? Is this unknown Kotlin bug? Thanks in advance.</p>\n\n<p>Version of Kotlin plugin: 1.3.40</p>\n\n<p>P.S With other elements in this <code>Set</code> I've got the correct result.</p>\n\n<p>P.P.S. As You can see if I convert <code>rootElements</code> via <code>toArray()</code> method it also returns correct result</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1349, "user_id": 11702000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef8b88ecd35b05ea2f7fb273752bc62b?s=128&d=identicon&r=PG&f=1", "display_name": "Software Person", "link": "https://stackoverflow.com/users/11702000/software-person"}, "is_accepted": true, "score": 0, "last_activity_date": 1561585810, "creation_date": 1561585810, "answer_id": 56781374, "question_id": 56781190, "link": "https://stackoverflow.com/questions/56781190/why-to-use-newinstance-instead-of-the-keyword-new-in-kotlin-to-create-xmlp/56781374#56781374", "title": "Why to use &quot;newInstance()&quot; instead of the keyword &quot;new&quot; in kotlin to create xmlPullParserFactory?", "body": "<p>It is a design decision. Looking at the <a href=\"https://android.googlesource.com/platform/libcore/+/9edf43dfcc35c761d97eb9156ac4254152ddbc55/xml/src/main/java/org/xmlpull/v1/XmlPullParserFactory.java\" rel=\"nofollow noreferrer\">implementation of XMLPullParserFactory</a>, it doesn't really matter right now, but if at any point the implementation changes, your code might stop working and have strange side effects.</p>\n\n<p>Since the constructor is protected, you should not be able to use the new keyword anyway.</p>\n\n<p>Hope this clears things up</p>\n"}, {"tags": [], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "is_accepted": false, "score": 0, "last_activity_date": 1564495463, "creation_date": 1564495463, "answer_id": 57273610, "question_id": 56781190, "link": "https://stackoverflow.com/questions/56781190/why-to-use-newinstance-instead-of-the-keyword-new-in-kotlin-to-create-xmlp/57273610#57273610", "title": "Why to use &quot;newInstance()&quot; instead of the keyword &quot;new&quot; in kotlin to create xmlPullParserFactory?", "body": "<p>There is no <code>new</code> keyword in Kotlin.</p>\n\n<p>And the <code>newInstance</code> function is just a static method on the class <code>XmlPullParserFactory</code> for creating an instance of <code>XmlPullParser</code>, presumably to select the correct concrete type of <code>XmlPullParser</code> based on some configuration you provide to the <code>XmlPullParserFactory</code>.</p>\n"}], "owner": {"reputation": 51, "user_id": 11648020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SDIkkuU9xKI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcQhfoNGheyIzLA78C41rnGSl4qbg/mo/photo.jpg?sz=128", "display_name": "Ghassen Ben Hamida", "link": "https://stackoverflow.com/users/11648020/ghassen-ben-hamida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 56781374, "answer_count": 2, "score": 0, "last_activity_date": 1564495463, "creation_date": 1561584866, "last_edit_date": 1564494678, "question_id": 56781190, "link": "https://stackoverflow.com/questions/56781190/why-to-use-newinstance-instead-of-the-keyword-new-in-kotlin-to-create-xmlp", "title": "Why to use &quot;newInstance()&quot; instead of the keyword &quot;new&quot; in kotlin to create xmlPullParserFactory?", "body": "<p>Why should I use newInstance() instead of new keyword to create XmlPullParserFactory \nand by the way why to create XmlPullParserFactory, I know that the factory pattern is used when you have muliple subclasses to create and you don't know which one until the runtime so we use the factory class to deal with it</p>\n\n<pre><code>val factory = XmlPullParserFactory.newInstance()\nfactory.isNamespaceAware = true\nval xpp = factory.newPullParser()\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "edited": false, "score": 1, "creation_date": 1561583539, "post_id": 56780922, "comment_id": 100116891, "body": "You are missing a closing brace <code>}</code> so your code won&#39;t compile. What exactly are you trying to do? Also, your loop won&#39;t do anything since you&#39;re iterating over the elements of an empty list (which is exactly 0 loop iterations)."}, {"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1562133462, "post_id": 56780922, "comment_id": 100276463, "body": "Is there any reason why the <a href=\"https://stackoverflow.com/questions/tagged/kotlin-android-extensions\">kotlin-android-extensions</a> tag was added? I don&#39;t see any usage of Kotlin&#39;s Android Extensions."}], "answers": [{"tags": [], "owner": {"reputation": 10059, "user_id": 4819449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sbkk.png?s=128&g=1", "display_name": "FHTMitchell", "link": "https://stackoverflow.com/users/4819449/fhtmitchell"}, "is_accepted": true, "score": 1, "last_activity_date": 1561593059, "last_edit_date": 1561593059, "creation_date": 1561583893, "answer_id": 56781013, "question_id": 56780922, "link": "https://stackoverflow.com/questions/56780922/kotlin-unable-to-find-the-element-in-the-arrayliststring/56781013#56781013", "title": "Kotlin: Unable to find the element in the Arraylist&lt;String&gt;", "body": "<p>In order to enter elements into an <code>ArrayList</code> from user input, you need to do something like</p>\n\n<pre><code>val arrayList = arrayListOf&lt;String&gt;()\nprintln(\"Enter elements of array list\")\n\nwhile (true) {  // see bellow\n    arrayList.add(readLine()!!)\n    if (condition()) { // choose what this does\n        break\n    }\n}\n\nprintln(arrayList) // see what it looks like\n</code></pre>\n\n<p>Now what that <code>condition()</code> is is up to you. It could be a fixed number of enteries, or stop when an entry meets some condition.</p>\n\n<hr>\n\n<p>For example, keep adding enteries until enter is pressed with no entry</p>\n\n<pre><code>val arrayList = arrayListOf&lt;String&gt;()\nprintln(\"Enter elements of array list (or nothing to stop entering)\")\n\nwhile (true) {\n    val entry = readLine()!!\n    if (entry.length == 0) {\n        break\n    } else {\n        arrayList.add(entry)\n    }\n}\n\nprintln(arrayList)\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 11293403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-57qQlq9q6BQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfBd8Y_PMp125C5q_AYRCVmo_T-Vw/mo/photo.jpg?sz=128", "display_name": "plethorax", "link": "https://stackoverflow.com/users/11293403/plethorax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "accepted_answer_id": 56781013, "answer_count": 1, "score": 0, "last_activity_date": 1564065620, "creation_date": 1561583328, "last_edit_date": 1564065620, "question_id": 56780922, "link": "https://stackoverflow.com/questions/56780922/kotlin-unable-to-find-the-element-in-the-arrayliststring", "title": "Kotlin: Unable to find the element in the Arraylist&lt;String&gt;", "body": "<p>My problem is bifurcated into:\nIs this the correct syntax of entering the elements in the Arraylist? Is there any other alternative?\n Unable to find the element from the given code.</p>\n\n<pre><code>var arylst= arrayListOf&lt;String&gt;()\nprintln(\"enter the elements of arraylist\")\n\nfor(index in 0..arylst.size-1) {\narylst[index] = readLine()!!\nif (arylst.contains(\"Ritika\"))\nprintln(\"element found\")\nelse  \nprintln(\"not found\")\n</code></pre>\n"}, {"tags": ["javascript", "web", "canvas", "kotlin", "kotlin-js"], "comments": [{"owner": {"reputation": 1962, "user_id": 2789884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/264d7bb52024efe30d12845515de13ce?s=128&d=identicon&r=PG", "display_name": "Xesenix", "link": "https://stackoverflow.com/users/2789884/xesenix"}, "edited": false, "score": 0, "creation_date": 1561583235, "post_id": 56780786, "comment_id": 100116771, "body": "not sure what kotlin is but in js this <code>window.setInterval(draw(),10)</code> should be this <code>window.setInterval(draw,10)</code> or even better use <code>requestAnimationFrame</code>"}, {"owner": {"reputation": 15, "user_id": 6451731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MbkDdQWulmE/AAAAAAAAAAI/AAAAAAAAAAo/-HNNCHon5OA/photo.jpg?sz=128", "display_name": "luis lyra", "link": "https://stackoverflow.com/users/6451731/luis-lyra"}, "reply_to_user": {"reputation": 1962, "user_id": 2789884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/264d7bb52024efe30d12845515de13ce?s=128&d=identicon&r=PG", "display_name": "Xesenix", "link": "https://stackoverflow.com/users/2789884/xesenix"}, "edited": false, "score": 0, "creation_date": 1561646653, "post_id": 56780786, "comment_id": 100141640, "body": "@Xesenix I have tried using <code>setInterval(draw,10)</code> without the parenthesis, but intellij won&#39;t let me, warning me that &quot;function invocation draw() was expected&quot;."}, {"owner": {"reputation": 1962, "user_id": 2789884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/264d7bb52024efe30d12845515de13ce?s=128&d=identicon&r=PG", "display_name": "Xesenix", "link": "https://stackoverflow.com/users/2789884/xesenix"}, "edited": false, "score": 0, "creation_date": 1561648062, "post_id": 56780786, "comment_id": 100142558, "body": "it looks like kotlin has more complicated syntax than js in this case :)"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6451731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MbkDdQWulmE/AAAAAAAAAAI/AAAAAAAAAAo/-HNNCHon5OA/photo.jpg?sz=128", "display_name": "luis lyra", "link": "https://stackoverflow.com/users/6451731/luis-lyra"}, "edited": false, "score": 0, "creation_date": 1561646848, "post_id": 56781059, "comment_id": 100141777, "body": "That was it! Thank you a lot, I would not have figured that in years!"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 15, "user_id": 6451731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MbkDdQWulmE/AAAAAAAAAAI/AAAAAAAAAAo/-HNNCHon5OA/photo.jpg?sz=128", "display_name": "luis lyra", "link": "https://stackoverflow.com/users/6451731/luis-lyra"}, "edited": false, "score": 0, "creation_date": 1561649129, "post_id": 56781059, "comment_id": 100143181, "body": "No problem @luislyra - glad I could help!"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 1, "last_activity_date": 1561584100, "creation_date": 1561584100, "answer_id": 56781059, "question_id": 56780786, "link": "https://stackoverflow.com/questions/56780786/having-trouble-trying-to-make-an-circle-move-on-a-canvas-element-while-programm/56781059#56781059", "title": "Having trouble trying to make an circle move on a canvas element, while programming with JS compiled Kotlin", "body": "<blockquote>\n  <p>Wrapped into a reference object to be modified when captured in a\n  closure</p>\n</blockquote>\n\n<p>That merely means that you have to wrap the method you want to execute - <strong>draw</strong> - inside a closure. Without it will just invoked once.</p>\n\n<p>So simply change</p>\n\n<pre><code>window.setInterval(draw(), 10)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>window.setInterval( { draw() }, 10)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 6451731, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MbkDdQWulmE/AAAAAAAAAAI/AAAAAAAAAAo/-HNNCHon5OA/photo.jpg?sz=128", "display_name": "luis lyra", "link": "https://stackoverflow.com/users/6451731/luis-lyra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 56781059, "answer_count": 1, "score": 1, "last_activity_date": 1561584100, "creation_date": 1561582590, "question_id": 56780786, "link": "https://stackoverflow.com/questions/56780786/having-trouble-trying-to-make-an-circle-move-on-a-canvas-element-while-programm", "title": "Having trouble trying to make an circle move on a canvas element, while programming with JS compiled Kotlin", "body": "<p>I am building a very simple web-based 'breakout', and I have run into trouble when trying to make the ball move on the canvas element. I do have the game up and running in javascript. Thing is, I am now trying to port it to Kotlin(javascript compiled). Even after doing the adaptations I think were necessary, the ball won't move. </p>\n\n<p>I am also having trouble with types(thats why you will see those \"*1.0\" lying around), since I've not been able to convert from int to double, but I wouldn't say that's the issue here. Also, the IDE is showing a remark I am not familiar with. I talk about that on the section about error messages, but the message is as follows: \"Wrapped into a reference object to be modified  when captured in a closure\".</p>\n\n<p>I am not sure where exactly the problem lies, but so far I have tried:\n-Other signatures for my 'setInterval' call\n-Reformating the program so that my code is within main(), as to get rid of the return and 'val canvas = initializeCanvas()' call.</p>\n\n<pre><code>import org.w3c.dom.*\nimport kotlin.browser.*\nimport kotlin.math.*\n\n\nval canvas = initializeCanvas()\nfun initializeCanvas(): HTMLCanvasElement {\n    val canvas = document.createElement(\"canvas\") as HTMLCanvasElement\n    val ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D\n    ctx.canvas.width = 480\n    ctx.canvas.height = 320\n    document.body!!.appendChild(canvas)\n    var x = canvas.width/2\n    var y = canvas.height-30\n    val dx = 2\n    val dy = -2\n    fun drawBall(){\n        ctx.beginPath()\n        ctx.arc(x*1.0, y*1.0, 10.0, 0.0, PI*2)\n        ctx.fillStyle = \"#000000\"\n        ctx.fill()\n        ctx.closePath()\n    }\n    fun draw(){\n        ctx.clearRect(0.0, 0.0, canvas.width*1.0, canvas.height*1.0)\n        drawBall()\n        x += dx\n        y += dy\n    }\n    window.setInterval(draw(),10)\n    return canvas\n}\n</code></pre>\n\n<p>The expected output would be that of the ball moving towards the top-right of the canvas, and then vanishing into the wall, since I have not yet implemented collisions.</p>\n\n<p>The current output, as I stated, is of a static ball.</p>\n\n<p>As for error messages, there are none. But an \"IDE Note\" has been bothering me. on the code I provided, inside the draw function, I increment x and y. When I hover over them, intellij says that they are \"Wrapped into a reference object to be modified  when captured in a closure\". I have never seen such warning before and a web search has not been fruitful.</p>\n"}, {"tags": ["android", "kotlin", "memory-leaks", "garbage-collection"], "answers": [{"comments": [{"owner": {"reputation": 907, "user_id": 9670404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MTbaGXbTyis/AAAAAAAAAAI/AAAAAAAAABM/nFOb8sVRYTM/photo.jpg?sz=128", "display_name": "Hasan Kucuk", "link": "https://stackoverflow.com/users/9670404/hasan-kucuk"}, "edited": false, "score": 0, "creation_date": 1561580942, "post_id": 56780395, "comment_id": 100115877, "body": "Are the things that we avoid from memory leak in java valid for kotlin?  or does kotlin automatically regulate them?"}, {"owner": {"reputation": 412, "user_id": 5699461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1atzB.png?s=128&g=1", "display_name": "MrPNG", "link": "https://stackoverflow.com/users/5699461/mrpng"}, "edited": false, "score": 1, "creation_date": 1561581154, "post_id": 56780395, "comment_id": 100115973, "body": "Most of the Kotlin calls translate to traditional, valid Java calls. I say &quot;most&quot; because Kotlin compiler can take some shortcuts that are valid for the JVM, but not for the Java language as it is. That way, it is safe to assume that you need to be as careful with Kotlin as you should be when using plain-old Java."}, {"owner": {"reputation": 8351, "user_id": 1817031, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/MnimI.png?s=128&g=1", "display_name": "Steve M", "link": "https://stackoverflow.com/users/1817031/steve-m"}, "reply_to_user": {"reputation": 907, "user_id": 9670404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MTbaGXbTyis/AAAAAAAAAAI/AAAAAAAAABM/nFOb8sVRYTM/photo.jpg?sz=128", "display_name": "Hasan Kucuk", "link": "https://stackoverflow.com/users/9670404/hasan-kucuk"}, "edited": false, "score": 1, "creation_date": 1561581954, "post_id": 56780395, "comment_id": 100116276, "body": "@HasanKucuk There are instances where Kotlin will avoid holding references to the outer class, see <a href=\"https://proandroiddev.com/how-kotlin-helps-you-avoid-memory-leaks-e2680cf6e71e\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1888, "user_id": 6739012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/smqSL.png?s=128&g=1", "display_name": "Ratul Bin Tazul", "link": "https://stackoverflow.com/users/6739012/ratul-bin-tazul"}, "is_accepted": true, "score": 2, "last_activity_date": 1561580823, "creation_date": 1561580823, "answer_id": 56780395, "question_id": 56780195, "link": "https://stackoverflow.com/questions/56780195/is-there-a-garbage-collection-in-kotlin/56780395#56780395", "title": "Is there a garbage collection in Kotlin?", "body": "<p><strong>Short Answer:</strong> Yes</p>\n\n<p><strong>(Not so) Long explanation:</strong></p>\n\n<p>kotlin actually runs on JVM as well as Java. So java does not have any garbage collection. Java is just a programming language. The garbage collection part comes from Java Virtual Machine. Kotlin being an revolutionary language still depends on JVM. Actually any language depending on the JVM automatically have <em>Garbage Collection.</em></p>\n"}], "owner": {"reputation": 907, "user_id": 9670404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MTbaGXbTyis/AAAAAAAAAAI/AAAAAAAAABM/nFOb8sVRYTM/photo.jpg?sz=128", "display_name": "Hasan Kucuk", "link": "https://stackoverflow.com/users/9670404/hasan-kucuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 56780395, "answer_count": 1, "score": 0, "last_activity_date": 1561580984, "creation_date": 1561579921, "last_edit_date": 1561580984, "question_id": 56780195, "link": "https://stackoverflow.com/questions/56780195/is-there-a-garbage-collection-in-kotlin", "title": "Is there a garbage collection in Kotlin?", "body": "<p>Java has a Garbage Collection. But you should take precautions to avoid the memory leak.  Does that apply to kotlin?  Is there a memory leak in Kotlin?  Is there a Garbage Collection at Kotlin?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "is_accepted": true, "score": 2, "last_activity_date": 1561579675, "creation_date": 1561579675, "answer_id": 56780151, "question_id": 56780110, "link": "https://stackoverflow.com/questions/56780110/how-to-print-values-available-in-itemlist-in-kotlin/56780151#56780151", "title": "How to print values available in itemList in kotlin?", "body": "<p>You should split the list and loop it with a simple foreach:</p>\n\n<pre><code>var itemList= \"nice-lt,rice-pt\"\n\nitemList.split(\",\").forEach{println(it)}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>nice-lt\nrice-pt\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14537, "user_id": 7128034, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/T8aRg.jpg?s=128&g=1", "display_name": "Dami&#225;n Rafael Lattenero", "link": "https://stackoverflow.com/users/7128034/dami%c3%a1n-rafael-lattenero"}, "edited": false, "score": 1, "creation_date": 1561580889, "post_id": 56780259, "comment_id": 100115856, "body": "You could save the variable, but it&#39;s ok! plus one ;)"}], "tags": [], "owner": {"reputation": 10912, "user_id": 619673, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Jp5FC.jpg?s=128&g=1", "display_name": "deadfish", "link": "https://stackoverflow.com/users/619673/deadfish"}, "is_accepted": false, "score": 1, "last_activity_date": 1561580222, "creation_date": 1561580222, "answer_id": 56780259, "question_id": 56780110, "link": "https://stackoverflow.com/questions/56780110/how-to-print-values-available-in-itemlist-in-kotlin/56780259#56780259", "title": "How to print values available in itemList in kotlin?", "body": "<pre><code>val itemList = \"nice-lt,rice-pt\"\nval elements = itemList.split(\",\")\nelements.forEach {\n    println(it)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1561582437, "creation_date": 1561582437, "answer_id": 56780746, "question_id": 56780110, "link": "https://stackoverflow.com/questions/56780110/how-to-print-values-available-in-itemlist-in-kotlin/56780746#56780746", "title": "How to print values available in itemList in kotlin?", "body": "<p>Simple as this one:</p>\n\n<pre><code>itemList.split(\",\").forEach(::println)\n</code></pre>\n"}], "owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 56780151, "answer_count": 3, "score": 1, "last_activity_date": 1566211972, "creation_date": 1561579427, "last_edit_date": 1566211972, "question_id": 56780110, "link": "https://stackoverflow.com/questions/56780110/how-to-print-values-available-in-itemlist-in-kotlin", "title": "How to print values available in itemList in kotlin?", "body": "<p>I have below kotlin function where I need to print each item available in itemList one by one</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var itemList = \"nice-lt,rice-pt\"\n    listOf(itemList)?.let {\n        it.toString().split(\",\").forEach { line -&gt;\n            {\n                println(line)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>nice-rt\nrice-se\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-camera"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "edited": false, "score": 0, "creation_date": 1583488047, "post_id": 60333035, "comment_id": 107141959, "body": "Thank you so much for the answer. I, however, abandoned the project so I can&#39;t tell if it&#39;s correct or not."}], "tags": [], "owner": {"reputation": 11, "user_id": 12936727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NJbxg2b8hYw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdYb5dQPJrdZfuDqzWARpkOq2e1Ug/photo.jpg?sz=128", "display_name": "Tat Dat", "link": "https://stackoverflow.com/users/12936727/tat-dat"}, "is_accepted": false, "score": 1, "last_activity_date": 1582267210, "last_edit_date": 1582267210, "creation_date": 1582265478, "answer_id": 60333035, "question_id": 56779867, "link": "https://stackoverflow.com/questions/56779867/not-able-to-take-pictures-with-camerakit-in-kotlin/60333035#60333035", "title": "Not able to take pictures with CameraKit in Kotlin", "body": "<p>I think you should not use </p>\n\n<pre><code>cameraKitView.captureImage(object:CameraKitView.ImageCallback()\n</code></pre>\n\n<p>in fact because I don't know how to use it either. </p>\n\n<p>If possible, try the following method to get the captured image. It returns images bytearray style, and you can use it to do what you want!</p>\n\n<pre><code>btnLaunchCameraKit.setOnClickListener {\n    cameraKitView.captureImage { cameraKitView, bytes -&gt;\n        val bitmap = BitmapFactory.decodeByteArray(bytes,0,bytes.size) as Bitmap\n        cameraImage3.setImageBitmap(bitmap)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1582267210, "creation_date": 1561577567, "last_edit_date": 1592644375, "question_id": 56779867, "link": "https://stackoverflow.com/questions/56779867/not-able-to-take-pictures-with-camerakit-in-kotlin", "title": "Not able to take pictures with CameraKit in Kotlin", "body": "<p>I'm trying to use CameraKit in order to take a picture. So far, I've been able to implement CameraKit and get a preview stream from my camera.</p>\n<p>Here's my code:</p>\n<pre><code>package com.example.testapp\nimport com.camerakit.CameraKitView\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_camera_screen.*\n\n\nclass cameraScreen : AppCompatActivity() {\n\n    private lateinit var cameraKitView:CameraKitView\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_camera_screen)\n        cameraKitView = findViewById(R.id.camera)\n\n        photoButton.setOnClickListener{\n            cameraKitView.captureImage(object:CameraKitView.ImageCallback() {\n                 override fun onImage(cameraKitView:CameraKitView, capturedImage:ByteArray) {\n                    // capturedImage contains the image from the CameraKitView.\n                     Toast.makeText(applicationContext,&quot;Image Taken&quot;, Toast.LENGTH_SHORT).show()\n                 }\n            })\n        }\n\n    }\n\n    override fun onStart() {\n        super.onStart()\n        cameraKitView.onStart()\n\n    }\n\n    override fun onResume() {\n        super.onResume()\n        cameraKitView.onResume()\n\n    }\n\n    public override fun onPause() {\n        cameraKitView.onPause()\n        super.onPause()\n    }\n\n    override fun onStop() {\n        cameraKitView.onStop()\n        super.onStop()\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        cameraKitView.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    }\n}\n</code></pre>\n<p>Now according to the CameraKit Docs, this is what makes an image:</p>\n<pre><code>cameraKitView.captureImage(new  CameraKitView.ImageCallback() {\n    @Override\n    public void onImage(CameraKitView cameraKitView, final byte[] capturedImage) {\n        // capturedImage contains the image from the CameraKitView.\n    }\n})\n</code></pre>\n<p>As you can see, I've tried to convert this Java code into Kotlin above. However, on this line - <code>cameraKitView.captureImage(object:CameraKitView.ImageCallback() {</code> I keep getting an error</p>\n<blockquote>\n<p>This class does not have a constructor</p>\n</blockquote>\n<p>I am getting this error on ImageCallback(). I've tried numerous examples about how to capture an image from CameraKit but all of them are in Java and when I convert them, they all give me the same error.</p>\n<p>How do I resolve this?\nAdditionally, how do I preview the image once it's taken, until the user taps a button to save it ( or reject it, in which case I go back to the camera)?</p>\n<h1>Update</h1>\n<p>Removed the round braces from  the<code>cameraKitView.captureImage(object:CameraKitView.ImageCallback()</code> line. This made the error go away and showed the toast as well but there is no response from the app so I don't really know if the picture is being taken or not.</p>\n<p>The new line now is <code>cameraKitView.captureImage(object:CameraKitView.ImageCallback</code></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 1, "creation_date": 1561576749, "post_id": 56779662, "comment_id": 100114435, "body": "Why tag with java when you want to ask about kotlin. And I think kotlin follows similar naming conventions: variable names should start camelCase. UpperCase is for class names. Also note: the purpose of vertical spacing (empty lines) is to group things. You dont just throw out empty lines here or there because you can. Imagine how it would feel if your code was written ... like you cared about it?!"}, {"owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1561581453, "post_id": 56779662, "comment_id": 100116081, "body": "@GhostCat Thanks for the advices, i corrected it :)"}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "edited": false, "score": 1, "creation_date": 1561587700, "post_id": 56779662, "comment_id": 100118132, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46714396/how-to-find-cpu-load-of-any-android-device-programmatically\">How to find CPU load of any Android device programmatically</a>"}, {"owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "reply_to_user": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "edited": false, "score": 0, "creation_date": 1561593604, "post_id": 56779662, "comment_id": 100119414, "body": "@Divergence But i only want CPU load, and i in this awnser it returns a whole textview of info, can you give me an idea of what can i do in order to get just the CPU load using this code as base ?"}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "edited": false, "score": 0, "creation_date": 1561600096, "post_id": 56779662, "comment_id": 100120416, "body": "@WhySoBizarreCode then please attach a sample of what it returns."}, {"owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "reply_to_user": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "edited": false, "score": 0, "creation_date": 1561665847, "post_id": 56779662, "comment_id": 100150247, "body": "@Divergence I ReAsk the question, taking as a base all the info that you give me."}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "edited": false, "score": 0, "creation_date": 1561670520, "post_id": 56779662, "comment_id": 100151806, "body": "I&#39;ve discovered a SO post that provides you with exactly what you need. See my answer."}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "edited": false, "score": 0, "creation_date": 1561672784, "post_id": 56779662, "comment_id": 100152461, "body": "@WhySoBizarreCode updated my answer again. The Android O and above security problem cannot be resolved; It&#39;s <i>intentional</i>"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561671401, "post_id": 56798587, "comment_id": 100152071, "body": "You can not use /proc/stat file in andorid API27 or higer for security reasons. See <a href=\"https://stackoverflow.com/questions/52782894/error-reading-cpu-usage-proc-stat-permission-denied\" title=\"error reading cpu usage proc stat permission denied\">stackoverflow.com/questions/52782894/&hellip;</a>"}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "reply_to_user": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561671603, "post_id": 56798587, "comment_id": 100152136, "body": "Well, that&#39;s great. I&#39;ll keep digging."}, {"owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561676771, "post_id": 56798587, "comment_id": 100153353, "body": "However there are apps that shows the cpu usage, so i think that they are using frequency or another way in order to achieve that."}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "reply_to_user": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561687116, "post_id": 56798587, "comment_id": 100154909, "body": "Do they run Android O+?"}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "reply_to_user": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561687515, "post_id": 56798587, "comment_id": 100154971, "body": "Because if they don&#39;t, that could be the reason they run"}, {"owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561688923, "post_id": 56798587, "comment_id": 100155158, "body": "Yes they run in andorid o+"}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "reply_to_user": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561689099, "post_id": 56798587, "comment_id": 100155188, "body": "Hmm, do you know if CpuStatsCollector works on android O+? If you find that it does let me know and check this SO Post: <a href=\"https://stackoverflow.com/questions/31564610/detecting-memory-and-cpu-consumption-of-a-particluar-app\" title=\"detecting memory and cpu consumption of a particluar app\">stackoverflow.com/questions/31564610/&hellip;</a>"}, {"owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561689662, "post_id": 56798587, "comment_id": 100155246, "body": "<a href=\"https://github.com/takke/cpustats\" rel=\"nofollow noreferrer\">github.com/takke/cpustats</a> he for example get the cpu usage with the frequency but i don&#39;t know how, because the same function it always returns me the same number that current frequency like -1000 both so it doesn&#39;t make any sense"}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "reply_to_user": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561690807, "post_id": 56798587, "comment_id": 100155442, "body": "Found this: <a href=\"https://github.com/kamgurgul/cpu-info\" rel=\"nofollow noreferrer\">github.com/kamgurgul/cpu-info</a>. Its an app to track CPU/RAM usage and other Hardware properties. I&#39;m currently finding the method to retrieve it."}, {"owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561692050, "post_id": 56798587, "comment_id": 100155611, "body": "i would like to try with CpuStatsCollector but i dont really get how it works, i mean i have to add some library ?"}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "reply_to_user": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561693567, "post_id": 56798587, "comment_id": 100155872, "body": "All of the other CPU info apps I see targeting Android O+ use libraries, and I don&#39;t really see any other way..."}, {"owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561693845, "post_id": 56798587, "comment_id": 100155919, "body": "but can you give me an example of how to use CpuStatCollector ? and so i can mark your awnser like the correct too."}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "reply_to_user": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "edited": false, "score": 0, "creation_date": 1561696203, "post_id": 56798587, "comment_id": 100156258, "body": "@WhySoBizarreCode I&#39;ve made my own example off of github.com/kamgurgul/cpu-info as you mentioned. Please check the latest edit."}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "edited": false, "score": 0, "creation_date": 1580253998, "post_id": 56798587, "comment_id": 106035678, "body": "Can you not just check <code>&#47;sys&#47;devices&#47;system&#47;cpu&#47;present</code> to get the number of cores? For example, <code>cat &#47;sys&#47;devices&#47;system&#47;cpu&#47;present</code> will give something like <code>0-3</code>. Or maybe <code>possible</code>?"}, {"owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "edited": false, "score": 0, "creation_date": 1585858412, "post_id": 56798587, "comment_id": 107920245, "body": "The OP wants the CPU usage, not the number of cores."}], "tags": [], "owner": {"reputation": 958, "user_id": 10008731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZF3bk.jpg?s=128&g=1", "display_name": "SnakeException", "link": "https://stackoverflow.com/users/10008731/snakeexception"}, "is_accepted": true, "score": 1, "last_activity_date": 1561696474, "last_edit_date": 1561696474, "creation_date": 1561670362, "answer_id": 56798587, "question_id": 56779662, "link": "https://stackoverflow.com/questions/56779662/how-to-get-cpu-usage-programmatically-with-the-cores-frequency/56798587#56798587", "title": "How to Get CPU usage programmatically (With the cores frequency)", "body": "<p>You should see <a href=\"https://stackoverflow.com/questions/22405403/android-cpu-cores-reported-in-proc-stat\">this SO post here</a>.\nBasically, you want to use the <code>RandomAccessFile</code> class to parse the <code>/proc/stat</code> file.</p>\n\n<p><strong>EDIT:</strong> The above solution won't work for Android O and above. <a href=\"https://www.reddit.com/r/Android/comments/6fdglt/apparent_android_o_proc_permissions_changes/\" rel=\"nofollow noreferrer\">See this link for more information</a>. The Reddit user fornwall filed a report to Google about this and got: </p>\n\n<blockquote>\n  <p>Status: Won't Fix (Intended Behavior) Thank you for filing this bug\n  report.</p>\n  \n  <p>The removal of /proc/stat was intentional. /proc/stat leaks side\n  channel information about applications which could allow one\n  application to infer the state of other applications on the device.\n  See\n  <a href=\"https://www.cl.cam.ac.uk/~lmrs2/publications/interrupts_pets16.pdf%20for%20example.\" rel=\"nofollow noreferrer\">https://www.cl.cam.ac.uk/~lmrs2/publications/interrupts_pets16.pdf</a>\n  for example.</p>\n</blockquote>\n\n<p><strong>EDIT2:</strong> I've prepared an example (not using CpuStasCollector)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.k3.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileFilter;\nimport java.io.FileInputStream;\nimport java.io.InputStreamReader;\nimport java.util.regex.Pattern;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static int sLastCpuCoreCount = -1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView textView = findViewById(R.id.txtv);\n        textView.setText(\"\");\n        for (int i = 0; i &lt; calcCpuCoreCount(); i++) {\n            textView.append(takeCurrentCpuFreq(i) +\"\\n\");\n        }\n    }\n\n    private static int readIntegerFile(String filePath) {\n\n        try {\n            final BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(new FileInputStream(filePath)), 1000);\n            final String line = reader.readLine();\n            reader.close();\n\n            return Integer.parseInt(line);\n        } catch (Exception e) {\n            return 0;\n        }\n    }\n\n    private static int takeCurrentCpuFreq(int coreIndex) {\n        return readIntegerFile(\"/sys/devices/system/cpu/cpu\" + coreIndex + \"/cpufreq/scaling_cur_freq\");\n    }\n\n    public static int calcCpuCoreCount() {\n\n        if (sLastCpuCoreCount &gt;= 1) {\n            // \u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u305b\u308b\n            return sLastCpuCoreCount;\n        }\n\n        try {\n            // Get directory containing CPU info\n            final File dir = new File(\"/sys/devices/system/cpu/\");\n            // Filter to only list the devices we care about\n            final File[] files = dir.listFiles(new FileFilter() {\n\n                public boolean accept(File pathname) {\n                    //Check if filename is \"cpu\", followed by a single digit number\n                    if (Pattern.matches(\"cpu[0-9]\", pathname.getName())) {\n                        return true;\n                    }\n                    return false;\n                }\n            });\n\n            // Return the number of cores (virtual CPU devices)\n            sLastCpuCoreCount = files.length;\n\n        } catch(Exception e) {\n            sLastCpuCoreCount = Runtime.getRuntime().availableProcessors();\n        }\n\n        return sLastCpuCoreCount;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 8599406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMXqq.png?s=128&g=1", "display_name": "WhySoBizarreCode", "link": "https://stackoverflow.com/users/8599406/whysobizarrecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5148, "favorite_count": 1, "accepted_answer_id": 56798587, "answer_count": 1, "score": 2, "last_activity_date": 1561696474, "creation_date": 1561576498, "last_edit_date": 1561665802, "question_id": 56779662, "link": "https://stackoverflow.com/questions/56779662/how-to-get-cpu-usage-programmatically-with-the-cores-frequency", "title": "How to Get CPU usage programmatically (With the cores frequency)", "body": "<p>I want to get an approach of CPU usage (of all cores)</p>\n\n<p>Currenlty i can't get the info of \"/proc/stat\" (since API 27)</p>\n\n<p>so i think of getting the info with the frequency or similar:</p>\n\n<p>Working with all the previous answers i get close to what i want, but not enough</p>\n\n<p><strong>Main Func</strong></p>\n\n<pre><code>  private fun ReadCpu3():String{\n\n        val sb = StringBuffer();\n        sb.append(\"abi: \").append(Build.CPU_ABI).append(\"\\n\");\n\n        if (File(\"/proc/cpuinfo\").exists()) {\n            try {\n                //val br =  BufferedReader(FileReader(File(\"/proc/cpuinfo\")));\n                val file = File(\"/proc/cpuinfo\")\n\n                file.bufferedReader().forEachLine {\n                    sb.append(it+\"\\n\");\n                }\n\n            } catch (e: IOException) {\n                e.printStackTrace();\n            }\n        }\n        return sb.toString();\n    }\n</code></pre>\n\n<p><strong>My results</strong></p>\n\n<pre><code>\n    processor       : 0\n    vendor_id       : GenuineIntel\n    cpu family      : 6\n    model           : 45\n    model name      : Intel(R) Xeon(R) CPU E5-2660 0 @ 2.20GHz\n    stepping        : 6\n    microcode       : 1561\n    cpu MHz         : 600.000\n    cache size      : 20480 KB\n    physical id     : 0\n    siblings        : 16\n    core id         : 0\n    cpu cores       : 8\n    apicid          : 0\n    initial apicid  : 0\n    fpu             : yes\n    fpu_exception   : yes\n    cpuid level     : 13\n    wp              : yes\n    flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good xtopology nonstop_tsc aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic popcnt tsc_deadline_timer aes xsave avx lahf_lm ida arat epb pln pts dtherm tpr_shadow vnmi flexpriority ept vpid xsaveopt\n    bogomips        : 4399.93\n    clflush size    : 64\n    cache_alignment : 64\n    address sizes   : 46 bits physical, 48 bits virtual\n    power management:\n</code></pre>\n\n<p>So i get all the info of the CPU but not the actual load or usage. I do not know if with the current info i can manage to get a proximity of the cpu usage and how exactly.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "edited": false, "score": 0, "creation_date": 1561572377, "post_id": 56778455, "comment_id": 100112544, "body": "Are you getting success response?"}, {"owner": {"reputation": 356, "user_id": 4019521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/810492709/picture?type=large", "display_name": "Josh90", "link": "https://stackoverflow.com/users/4019521/josh90"}, "reply_to_user": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "edited": false, "score": 0, "creation_date": 1561573140, "post_id": 56778455, "comment_id": 100112883, "body": "Yeah, so the i have looked in a little further and the issues seems to be with using the transition from the activity to the next, if i remove the transition it works fine."}, {"owner": {"reputation": 356, "user_id": 4019521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/810492709/picture?type=large", "display_name": "Josh90", "link": "https://stackoverflow.com/users/4019521/josh90"}, "reply_to_user": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "edited": false, "score": 0, "creation_date": 1561573157, "post_id": 56778455, "comment_id": 100112894, "body": "However, i test the animation just on a normal on click listener and it works fine too!"}, {"owner": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "edited": false, "score": 0, "creation_date": 1561573308, "post_id": 56778455, "comment_id": 100112960, "body": "Follow activity transition docs.  It will work fine. Cheers!"}, {"owner": {"reputation": 356, "user_id": 4019521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/810492709/picture?type=large", "display_name": "Josh90", "link": "https://stackoverflow.com/users/4019521/josh90"}, "reply_to_user": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "edited": false, "score": 0, "creation_date": 1561573373, "post_id": 56778455, "comment_id": 100112993, "body": "The activity transition works fine if i just attach it to a onclicklistener, it doesnt work when i add it into the success though."}, {"owner": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "edited": false, "score": 0, "creation_date": 1561573451, "post_id": 56778455, "comment_id": 100113036, "body": "Lemme get something for ya"}], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 4019521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/810492709/picture?type=large", "display_name": "Josh90", "link": "https://stackoverflow.com/users/4019521/josh90"}, "edited": false, "score": 0, "creation_date": 1561574738, "post_id": 56779007, "comment_id": 100113621, "body": "Hey, Thanks for this... What is seeming to happen is that the activity is changing but for some reason the login activity is still staying on top of the new activity... (I can click the buttons on the new activity even though I can&#39;t see them and then the new activity will display)"}], "tags": [], "owner": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "is_accepted": false, "score": 1, "last_activity_date": 1561573589, "creation_date": 1561573589, "answer_id": 56779007, "question_id": 56778455, "link": "https://stackoverflow.com/questions/56778455/android-changing-activity-when-the-google-sign-in-is-complete/56779007#56779007", "title": "Android: Changing activity when the google sign in is complete", "body": "<p>Try this for the transition -</p>\n\n<pre><code>Bundle bundle = ActivityOptions.makeSceneTransitionAnimation(this).toBundle();\nthis.startActivity(intent,bundle);\n</code></pre>\n"}], "owner": {"reputation": 356, "user_id": 4019521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/810492709/picture?type=large", "display_name": "Josh90", "link": "https://stackoverflow.com/users/4019521/josh90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561580678, "creation_date": 1561571136, "last_edit_date": 1561580678, "question_id": 56778455, "link": "https://stackoverflow.com/questions/56778455/android-changing-activity-when-the-google-sign-in-is-complete", "title": "Android: Changing activity when the google sign in is complete", "body": "<p>So I've just added google sign in to my android application and coded so when the login is successful the app will change activity.</p>\n\n<p>However, it just seems to stick on the login activity and not move to the other activity.</p>\n\n<p>If I then go off the app and back onto it, it has moved over to the activity...</p>\n\n<p>Any ideas?</p>\n\n<p>Heres my code fo the handle sign in:</p>\n\n<pre><code>private fun handleSignInResult(signInResult: GoogleSignInResult) {\n    if(signInResult.isSuccess) {\n\n\n        val intent = Intent(this, MainActivity::class.java)\n        val options = ActivityOptions.makeSceneTransitionAnimation(this, Pair.create(mMainLogoImage, \"mainLogoTransition\"))\n        startActivity(intent, options.toBundle())\n        Toast.makeText(this, \"Why isnt this working\", Toast.LENGTH_LONG).show()\n\n    } else {\n\n        Toast.makeText(this, \"Failed to log in, please try again later.\", Toast.LENGTH_LONG).show()\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-viewpager", "fragmentmanager", "fragmentpageradapter"], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 4921704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zOXg.jpg?s=128&g=1", "display_name": "Asad Mukhtar", "link": "https://stackoverflow.com/users/4921704/asad-mukhtar"}, "edited": false, "score": 8, "creation_date": 1575401308, "post_id": 56778143, "comment_id": 104552185, "body": "Why i need this after add this  @SuppressLint(&quot;WrongConstant&quot;) after adding this in constructor FragmentPagerAdapter.BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 390, "user_id": 4921704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zOXg.jpg?s=128&g=1", "display_name": "Asad Mukhtar", "link": "https://stackoverflow.com/users/4921704/asad-mukhtar"}, "edited": false, "score": 1, "creation_date": 1575414269, "post_id": 56778143, "comment_id": 104557047, "body": "@AsadMukhtar: I do not know, sorry. You might consider asking a separate Stack Overflow question, where you can provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing what you are trying and where you needed to apply that annotation."}, {"owner": {"reputation": 266, "user_id": 2128028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6447f8005d211cc76d78a05e85d531da?s=128&d=identicon&r=PG", "display_name": "Everett", "link": "https://stackoverflow.com/users/2128028/everett"}, "edited": false, "score": 0, "creation_date": 1590449687, "post_id": 56778143, "comment_id": 109678373, "body": "I get the same problem with the constructor, it&#39;s supposed to get a LifeCycle parameter I guess."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 134, "last_activity_date": 1561569813, "creation_date": 1561569813, "answer_id": 56778143, "question_id": 56778106, "link": "https://stackoverflow.com/questions/56778106/fragmentpageradapter-deprecated/56778143#56778143", "title": "FragmentPagerAdapter deprecated", "body": "<p>Replace:</p>\n\n<pre><code>class MyViewPagerAdapter(manager: FragmentManager) : FragmentPagerAdapter(manager)\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>class MyViewPagerAdapter(manager: FragmentManager) : FragmentPagerAdapter(manager, FragmentPagerAdapter.BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT)\n</code></pre>\n\n<p>(assuming that <code>MyViewPagerAdapter</code> does not need this value to be configurable)</p>\n"}, {"comments": [{"owner": {"reputation": 14791, "user_id": 1919013, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/dc64045b6e0d5f043fbac23203aff377?s=128&d=identicon&r=PG", "display_name": "Neoh", "link": "https://stackoverflow.com/users/1919013/neoh"}, "edited": false, "score": 3, "creation_date": 1586433111, "post_id": 60782796, "comment_id": 108129112, "body": "This solution does not work if you want to extend ViewPager because <code>ViewPager2</code> is <code>public final</code>."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 7, "last_activity_date": 1584746157, "creation_date": 1584746157, "answer_id": 60782796, "question_id": 56778106, "link": "https://stackoverflow.com/questions/56778106/fragmentpageradapter-deprecated/60782796#60782796", "title": "FragmentPagerAdapter deprecated", "body": "<p>The javadocs actually has the following deprecation notice on <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentPagerAdapter\" rel=\"noreferrer\"><code>FragmentPagerAdapter</code></a>:</p>\n\n<hr>\n\n<p><strong>This class is deprecated.</strong></p>\n\n<p>Switch to <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2\" rel=\"noreferrer\">ViewPager2</a> and use <a href=\"https://developer.android.com/reference/androidx/viewpager2/adapter/FragmentStateAdapter\" rel=\"noreferrer\">FragmentStateAdapter</a> instead. </p>\n\n<hr>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14042004, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhanHqSAQVMXYr69CaYS5SIvJIeH-FJty4WCG3tVw=k-s128", "display_name": "Bruno Serralheiro", "link": "https://stackoverflow.com/users/14042004/bruno-serralheiro"}, "is_accepted": false, "score": 1, "last_activity_date": 1616429524, "last_edit_date": 1616429524, "creation_date": 1596459927, "answer_id": 63230008, "question_id": 56778106, "link": "https://stackoverflow.com/questions/56778106/fragmentpageradapter-deprecated/63230008#63230008", "title": "FragmentPagerAdapter deprecated", "body": "<p>It seems like not only the constructor without behavior, but the class <code>FragmentPagerAdapter</code> (which can consume a good amount of memory by keeping Fragments in memory), and <code>FragmentStatePagerAdapter</code> are both in deprecation stage.\nI wonder what can be used to extend abstract class <code>PagerAdapter</code> to extend codebase lifespan.</p>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33077, "favorite_count": 8, "accepted_answer_id": 56778143, "answer_count": 3, "score": 65, "last_activity_date": 1616429524, "creation_date": 1561569623, "last_edit_date": 1584745689, "question_id": 56778106, "link": "https://stackoverflow.com/questions/56778106/fragmentpageradapter-deprecated", "title": "FragmentPagerAdapter deprecated", "body": "<p>Since API 27 <code>FragmentPagerAdapter</code> is deprecated. What's the best alternative to use for this?</p>\n\n<p>In my case, I understand something like <code>super(fragmentManager, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT)</code> would need to be used, but I don't know where within my code this needs to go.</p>\n\n<p>I got these imports in my class:</p>\n\n<pre><code>import androidx.fragment.app.FragmentManager\nimport androidx.fragment.app.FragmentPagerAdapter\n</code></pre>\n\n<p>but <code>FragmentPagerAdapter</code> in <code>class MyViewPagerAdapter(manager: FragmentManager) : FragmentPagerAdapter(manager){</code> is crossed out.</p>\n\n<pre><code>class MyViewPagerAdapter(manager: FragmentManager) : FragmentPagerAdapter(manager){\n        private val fragmentList : MutableList&lt;androidx.fragment.app.Fragment&gt; = ArrayList()\n        private val titleList : MutableList&lt;String&gt; = ArrayList()\n\n        override fun getItem(position: Int): androidx.fragment.app.Fragment {\n            return fragmentList[position]\n        }\n\n        override fun getCount(): Int {\n            return fragmentList.size\n        }\n\n        fun addFragment(fragment: androidx.fragment.app.Fragment, title: String){\n            fragmentList.add(fragment)\n            titleList.add(title)\n        }\n\n        override fun getPageTitle(position: Int): CharSequence? {\n            return titleList[position]\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "global-variables"], "comments": [{"owner": {"reputation": 2062, "user_id": 7065839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gknK.jpg?s=128&g=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/7065839/kai"}, "edited": false, "score": 0, "creation_date": 1561582092, "post_id": 56778071, "comment_id": 100116339, "body": "This is not the proper way to start an activity. If you just want to store some data in some sort of globally-accessible object, don&#39;t use an activity class for that. But you may want to think about why you want to do this in the first place. Do you really need a global variable? If there is no other way to get around it, this might be an acceptable use case for SharedPreferences, but normally what you&#39;re trying should not be necessary"}, {"owner": {"reputation": 1, "user_id": 6875430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1ec814454bd5ac473051b1f9d3d8d7?s=128&d=identicon&r=PG&f=1", "display_name": "Kaito", "link": "https://stackoverflow.com/users/6875430/kaito"}, "reply_to_user": {"reputation": 2062, "user_id": 7065839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gknK.jpg?s=128&g=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/7065839/kai"}, "edited": false, "score": 0, "creation_date": 1561653362, "post_id": 56778071, "comment_id": 100145326, "body": "I am using activity classes because each activity corresponds to a different page with different code (there is a necessity for me to to do this) it&#39;s just that I don&#39;t see it relevant to explain the whole project I&#39;m working on here and simply substituted what I had with simple code. I will look into SharedPrefernces and see if that solves my problem"}], "owner": {"reputation": 1, "user_id": 6875430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1ec814454bd5ac473051b1f9d3d8d7?s=128&d=identicon&r=PG&f=1", "display_name": "Kaito", "link": "https://stackoverflow.com/users/6875430/kaito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 495, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561569502, "creation_date": 1561569502, "question_id": 56778071, "link": "https://stackoverflow.com/questions/56778071/global-variable-in-kotlin-android-studio-initialized-in-one-activity-remains-a", "title": "Global variable in Kotlin (android studio) initialized in one activity remains at initialized value in other activities", "body": "<p>I would like to implement a global variable that updates its value when going from one activity to another (and back). To explain in better detail, let's say my variable is called globalVar, and globalVar is initialized in activity A as \"\", then within activity A, when a couple of buttons are pressed, the value is updated to a new string. When going from activity A to activity B, globalVar at activity B should be equal to the updated string in activity A in addition to some value. In other words, globaVar should be keepin track of its updates. </p>\n\n<p>The problem is that when I'm going from one activity to another, the value of my global variable is resetting itself to its initialized value.</p>\n\n<p>I have already tried making the initialization private, and implementing a public function that updates the value but that didn't work. Below is the code that I have. </p>\n\n<p>public class Speak : AppCompatActivity(){</p>\n\n<pre><code>private var globalVar= \"\"\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_speak)\n\n    val pplMom= findViewById&lt;ImageButton&gt;(R.id.pplMom)\n     globalVar= \"mom\" \n\n   pplMom.setOnClickListener{\n\n    intent= Intent(this, People::class.java)\n    startActivity(intent)}} \n\npublic fun setVar (globalVar :String) {\n\n    this.globalVar= globalVar\n    Toast.makeText(this, globalVar, Toast.LENGTH_LONG).show()\n\n}\npublic fun getVar(): String {\n\n    return globalVar\n}\n</code></pre>\n\n<p>}</p>\n\n<p>=========================================</p>\n\n<p>class People: AppCompatActivity(),  {</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_people)\n\n\n    var mApp= Speak()\n    var globalVar= mApp.getVar()\n    globalVar= globalVar + \"testtest\"\n\n    Toast.makeText(this, globalVar, Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>}}</p>\n\n<p>What I have printed is \"testtest\" instead of \"Hellotesttest\"</p>\n"}, {"tags": ["android", "kotlin", "moshi"], "answers": [{"comments": [{"owner": {"reputation": 386, "user_id": 4903534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5edecd252e99c75d40197325c9c4c6?s=128&d=identicon&r=PG&f=1", "display_name": "Lazar", "link": "https://stackoverflow.com/users/4903534/lazar"}, "edited": false, "score": 0, "creation_date": 1561625621, "post_id": 56781993, "comment_id": 100128936, "body": "In the Factory&#39;s <code>onCreate</code> method, did you mean to write <code>nextAnnotations.isEmpty()</code> instead of <code>!nextAnnotations.isEmpty()</code>?"}, {"owner": {"reputation": 386, "user_id": 4903534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5edecd252e99c75d40197325c9c4c6?s=128&d=identicon&r=PG&f=1", "display_name": "Lazar", "link": "https://stackoverflow.com/users/4903534/lazar"}, "edited": false, "score": 0, "creation_date": 1561626333, "post_id": 56781993, "comment_id": 100129360, "body": "I see now that the program is failing when I change the code to the <code>nextAnnotations.isEmpty()</code> instead of how you wrote it."}, {"owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "reply_to_user": {"reputation": 386, "user_id": 4903534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5edecd252e99c75d40197325c9c4c6?s=128&d=identicon&r=PG&f=1", "display_name": "Lazar", "link": "https://stackoverflow.com/users/4903534/lazar"}, "edited": false, "score": 0, "creation_date": 1561627177, "post_id": 56781993, "comment_id": 100129812, "body": "<code>Types#nextAnnotations</code> returns the subset of annotations without jsonQualifier, or null if annotations does not contain jsonQualifier"}], "tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": true, "score": 1, "last_activity_date": 1561590564, "creation_date": 1561590564, "answer_id": 56781993, "question_id": 56777668, "link": "https://stackoverflow.com/questions/56777668/how-to-encode-a-field-of-an-object-as-stringifed-json-instead-of-nested-json-obj/56781993#56781993", "title": "How to encode a field of an object as stringifed JSON instead of nested JSON object in Moshi?", "body": "<p>You can create your own custom <code>JsonAdapter</code>:</p>\n\n<pre><code>@Retention(AnnotationRetention.RUNTIME)\n@JsonQualifier\nannotation class AsString\n\n/////////////////////\n\nclass AsStringAdapter&lt;T&gt;(\n    private val originAdapter: JsonAdapter&lt;T&gt;,\n    private val stringAdapter: JsonAdapter&lt;String&gt;\n) : JsonAdapter&lt;T&gt;() {\n\n    companion object {\n\n        var FACTORY: JsonAdapter.Factory = object : Factory {\n            override fun create(\n                type: Type,\n                annotations: MutableSet&lt;out Annotation&gt;,\n                moshi: Moshi\n            ): JsonAdapter&lt;*&gt;? {\n                val nextAnnotations = Types.nextAnnotations(annotations, AsString::class.java)\n                return if (nextAnnotations == null || !nextAnnotations.isEmpty())\n                    null else {\n                    AsStringAdapter(\n                        moshi.nextAdapter&lt;Any&gt;(this, type, nextAnnotations),\n                        moshi.nextAdapter&lt;String&gt;(this, String::class.java, Util.NO_ANNOTATIONS)\n                    )\n                }\n            }\n        }\n    }\n\n    override fun toJson(writer: JsonWriter, value: T?) {\n        val jsonValue = originAdapter.toJsonValue(value)\n        val jsonStr = JSONObject(jsonValue as Map&lt;*, *&gt;).toString()\n        stringAdapter.toJson(writer, jsonStr)\n    }\n\n    override fun fromJson(reader: JsonReader): T? {\n        throw UnsupportedOperationException()\n    }\n}\n\n/////////////////////\n\nclass Auth(@AsString val payload: Token)\n\n/////////////////////\n\n.add(AsStringAdapter.FACTORY)\n.add(KotlinJsonAdapterFactory())\n.build()\n</code></pre>\n"}], "owner": {"reputation": 386, "user_id": 4903534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d5edecd252e99c75d40197325c9c4c6?s=128&d=identicon&r=PG&f=1", "display_name": "Lazar", "link": "https://stackoverflow.com/users/4903534/lazar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 56781993, "answer_count": 1, "score": 1, "last_activity_date": 1561624826, "creation_date": 1561567906, "last_edit_date": 1561624826, "question_id": 56777668, "link": "https://stackoverflow.com/questions/56777668/how-to-encode-a-field-of-an-object-as-stringifed-json-instead-of-nested-json-obj", "title": "How to encode a field of an object as stringifed JSON instead of nested JSON object in Moshi?", "body": "<p>I have a sealed class <code>WebSocketMessage</code> which has some subclasses. The <code>WebSocketMessage</code> has a field named <code>type</code> which is used for differentiating between subclasses.</p>\n\n<p>All of the subclasses have their own field named <code>payload</code> which is of different type for each subclass.</p>\n\n<p>Currently I am using Moshi's <code>PolymorphicJsonAdapterFactory</code> so that these classes can be parsed from JSON and encoded to JSON.</p>\n\n<p>This all works, but what I need is to encode the the <code>payload</code> field to stringified JSON instead of JSON object.</p>\n\n<p>Is there any possibility to write a custom adapter class to help me with this problem? Or is there any other solution so that I will not have to do this stringification manually?</p>\n\n<p>I have tried looking into custom adapters but I can't find how I could pass moshi instance to adapter so that I can encode the given field to JSON and then stringify it, nor did I find anything else that could help me.</p>\n\n<p>The <code>WebSocketMessage</code> class with its subclasses: </p>\n\n<pre><code>\nsealed class WebSocketMessage(\n    val type: Type\n) {\n    enum class Type(val type: String) {\n        AUTH(\"AUTH\"),\n        PING(\"PING\"),\n        FLOW_INITIALIZATION(\"FLOW_INITIALIZATION\")\n    }\n\n    class Ping : WebSocketMessage(Type.PING)\n    class InitFlow(payload: InitFlowMessage) : WebSocketMessage(Type.FLOW_INITIALIZATION)\n    class Auth(payload: Token) : WebSocketMessage(Type.AUTH)\n}\n\n</code></pre>\n\n<p>The Moshi instance with <code>PolymorphicJsonAdapterFactory</code>:</p>\n\n<pre><code>val moshi = Moshi.Builder().add(\n                    PolymorphicJsonAdapterFactory.of(WebSocketMessage::class.java, \"type\")\n                        .withSubtype(WebSocketMessage.Ping::class.java, WebSocketMessage.Type.PING.type)\n                        .withSubtype(\n                            WebSocketMessage.InitFlow::class.java,\n                            WebSocketMessage.Type.FLOW_INITIALIZATION.type\n                        )                        \n                        .withSubtype(WebSocketMessage.Auth::class.java, WebSocketMessage.Type.AUTH.type)\n                )\n                // Must be added last\n                .add(KotlinJsonAdapterFactory())\n                .build()\n</code></pre>\n\n<p>How I encode to JSON:</p>\n\n<pre><code>moshi.adapter(WebSocketMessage::class.java).toJson(WebSocketMessage.Auth(fetchToken()))\n</code></pre>\n\n<p>I currently get the JSON in the next format:</p>\n\n<pre><code>{  \n   \"type\":\"AUTH\",\n   \"payload\":{  \n      \"jwt\":\"some_token\"\n   }\n}\n</code></pre>\n\n<p>What I would like to get: </p>\n\n<pre><code>{  \n   \"type\":\"AUTH\",\n   \"payload\":\"{\\\"jwt\\\":\\\"some_token\\\"}\"\n}\n</code></pre>\n\n<p>In the second example the payload is a stringified JSON object, which is exactly what I need.</p>\n"}, {"tags": ["kotlin", "tdd", "mockk"], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 10497708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/goG0z.jpg?s=128&g=1", "display_name": "Crash1hd", "link": "https://stackoverflow.com/users/10497708/crash1hd"}, "edited": false, "score": 0, "creation_date": 1561570411, "post_id": 56777967, "comment_id": 100111703, "body": "Are you suggesting something like         verify(timeout = 3000) { loginViewModel.login(loginCredentials) }"}, {"owner": {"reputation": 487, "user_id": 10497708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/goG0z.jpg?s=128&g=1", "display_name": "Crash1hd", "link": "https://stackoverflow.com/users/10497708/crash1hd"}, "edited": false, "score": 0, "creation_date": 1561570622, "post_id": 56777967, "comment_id": 100111809, "body": "By adding that it causes it to crash every time"}, {"owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "reply_to_user": {"reputation": 487, "user_id": 10497708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/goG0z.jpg?s=128&g=1", "display_name": "Crash1hd", "link": "https://stackoverflow.com/users/10497708/crash1hd"}, "edited": false, "score": 0, "creation_date": 1561576990, "post_id": 56777967, "comment_id": 100114527, "body": "Try to submit github issue with all info for this case when you enable timeout"}], "tags": [], "owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "is_accepted": false, "score": 0, "last_activity_date": 1561576943, "last_edit_date": 1561576943, "creation_date": 1561569051, "answer_id": 56777967, "question_id": 56777479, "link": "https://stackoverflow.com/questions/56777479/random-test-crash-tdd-kotlin/56777967#56777967", "title": "Random Test Crash TDD Kotlin", "body": "<p>Check <code>timeout</code> feature in docs or on medium about advanced features(again link is on <a href=\"https://mockk.io\" rel=\"nofollow noreferrer\">https://mockk.io</a>)</p>\n"}], "owner": {"reputation": 487, "user_id": 10497708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/goG0z.jpg?s=128&g=1", "display_name": "Crash1hd", "link": "https://stackoverflow.com/users/10497708/crash1hd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561576943, "creation_date": 1561567095, "question_id": 56777479, "link": "https://stackoverflow.com/questions/56777479/random-test-crash-tdd-kotlin", "title": "Random Test Crash TDD Kotlin", "body": "<p>The following test below causes a random crash.   I am at a loss most of the time it works fine.</p>\n\n<pre><code>&gt; @Test fun `perform login without a previously saved user`() =\n&gt; runBlocking {\n&gt;     testSavedUser1LiveData = MutableLiveData()\n&gt; \n&gt;     coEvery { userDao.getCurrentUserLiveData() } returns testSavedUser1LiveData\n&gt;     coEvery { userDao.upsert(any()) } returns Unit\n&gt; \n&gt;     coEvery { userAPIDataSource.fetchLoginUser(loginCredentials) } returns Unit\n&gt;     coEvery { userAPIDataSource.getLoginUserResults } returns testUser1ResponseLiveDataOfJsonElement\n&gt; \n&gt;     loginRepository = LoginRepositoryImpl(userDao, companyDao, userAPIDataSource)\n&gt;     loginViewModel = LoginViewModel(dispatchers, validator, loginRepository)\n&gt; \n&gt;     loginViewModel.loginLiveData().observeForever(loginLiveDataObserver)\n&gt;     loginViewModel.login(loginCredentials)\n&gt; \n&gt;     coVerifyOrder {\n&gt;         loginLiveDataObserver.onChanged(enableLoading)\n&gt;         loginLiveDataObserver.onChanged(loginResults)\n&gt;         loginLiveDataObserver.onChanged(disableLoading)\n&gt;     } }\n</code></pre>\n\n<p>The code that accompanies this is\n    fun login(credentials: LoginCredentials) {\n        _loginLiveData.value = LoginResult.Loading(true)</p>\n\n<pre><code>    if(validator.validate(credentials)) {\n        triggerLogin(credentials)\n    } else {\n        _loginLiveData.value = LoginResult.Failure(\"Incorrect Credentials\")\n        _loginLiveData.value = LoginResult.Loading(false)\n    }\n}\n\nprivate fun triggerLogin(credentials: LoginCredentials) {\n    launch(dispatchers.background) {\n        loginRepository.performLogin(credentials)\n\n        withContext(dispatchers.ui) {\n            _loginLiveData.value = loginRepository.getLoginUserResults\n            _loginLiveData.value = LoginResult.Loading(false)\n        }\n    }\n}\n</code></pre>\n\n<p>the crash is:</p>\n\n<blockquote>\n  <p>java.lang.AssertionError: Verification failed: less calls happened\n  then demanded by order verification sequence. </p>\n  \n  <p>Matchers:  Observer(#94).onChanged(eq(Loading(value=true))))\n  Observer(#94).onChanged(eq(Success(user=Current User Response: 1:\n  testUserName1  )))) Observer(#94).onChanged(eq(Loading(value=false))))</p>\n  \n  <p>Calls: 1) Observer(#94).onChanged(Loading(value=true)) 2)\n  Observer(#94).onChanged(Success(user=Current User Response: 1:\n  testUserName1  ))</p>\n  \n  <p>Stack traces: 1)<br>\n  io.mockk.impl.InternalPlatform.captureStackTrace<br>\n  (InternalPlatform.kt:114)<br>\n                                                                                   io.mockk.impl.stub.MockKStub.handleInvocation<br>\n  (MockKStub.kt:256)<br>\n                                                 io.mockk.impl.instantiation.JvmMockFactoryHelper$mockHandler$1.invocation\n  (JvmMockFactoryHelper.kt:25)<br>\n                                                                          io.mockk.proxy.jvm.advice.Interceptor.call<br>\n  (Interceptor.kt:20)<br>\n                                                                           io.mockk.proxy.jvm.advice.BaseAdvice.handle<br>\n  (BaseAdvice.kt:42)<br>\n                                                         io.mockk.proxy.jvm.advice.jvm.JvmMockKProxyInterceptor.interceptNoSuper\n  (JvmMockKProxyInterceptor.java:45)<br>\n                                                                         androidx.lifecycle.Observer$Subclass18.onChanged<br>\n  (-:-1)<br>\n                                                                                    androidx.lifecycle.LiveData.considerNotify<br>\n  (LiveData.java:131)<br>\n                                                                                    androidx.lifecycle.LiveData.dispatchingValue<br>\n  (LiveData.java:149)<br>\n                                                                                    androidx.lifecycle.LiveData.setValue<br>\n  (LiveData.java:307)<br>\n                                                                             androidx.lifecycle.MutableLiveData.setValue<br>\n  (MutableLiveData.java:50)<br>\n                                                                   com.test.testapp.ui.login.LoginViewModel.login<br>\n  (LoginViewModel.kt:84)<br>\n  com.test.testapp.featureTests.login.LoginFeatureShould$perform\n  login without a previously saved user$1.invokeSuspend<br>\n  (LoginFeatureShould.kt:102)<br>\n                                                            kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith<br>\n  (ContinuationImpl.kt:32)<br>\n                                                                              kotlinx.coroutines.DispatchedTask.run<br>\n  (Dispatched.kt:233)<br>\n                                                                           kotlinx.coroutines.EventLoopImplBase.processNextEvent<br>\n  (EventLoop.kt:116)<br>\n                                                                           kotlinx.coroutines.BlockingCoroutine.joinBlocking<br>\n  (Builders.kt:76)<br>\n                                                                      kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking<br>\n  (Builders.kt:53)<br>\n                                                                                  kotlinx.coroutines.BuildersKt.runBlocking<br>\n  (-:1)<br>\n                                                                      kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default<br>\n  (Builders.kt:35)<br>\n                                                                                  kotlinx.coroutines.BuildersKt.runBlocking$default<br>\n  (-:1)<br>\n                                                     com.test.testapp.featureTests.login.LoginFeatureShould.perform\n  login without a previously saved user (LoginFeatureShould.kt:89)      </p>\n\n<pre><code>                                                                     sun.reflect.NativeMethodAccessorImpl.invoke0                          \n</code></pre>\n  \n  <p>(NativeMethodAccessorImpl.java:-2)N<br>\n                                                                           sun.reflect.NativeMethodAccessorImpl.invoke<br>\n  (NativeMethodAccessorImpl.java:62)<br>\n                                                                       sun.reflect.DelegatingMethodAccessorImpl.invoke<br>\n  (DelegatingMethodAccessorImpl.java:43)<br>\n                                                                                       java.lang.reflect.Method.invoke<br>\n  (Method.java:498)<br>\n                                                                org.junit.platform.commons.util.ReflectionUtils.invokeMethod<br>\n  (ReflectionUtils.java:628)<br>\n                                                           org.junit.jupiter.engine.execution.ExecutableInvoker.invoke<br>\n  (ExecutableInvoker.java:117)<br>\n                                                   org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7\n  (TestMethodTestDescriptor.java:184)<br>\n                                              org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute\n  (ThrowableCollector.java:73)<br>\n                                                   org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod\n  (TestMethodTestDescriptor.java:180)<br>\n                                                   org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute<br>\n  (TestMethodTestDescriptor.java:127)<br>\n                                                   org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute<br>\n  (TestMethodTestDescriptor.java:68)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5\n  (NodeTestTask.java:135)<br>\n                                              org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute\n  (ThrowableCollector.java:73)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7\n  (NodeTestTask.java:125)<br>\n                                                            org.junit.platform.engine.support.hierarchical.Node.around<br>\n  (Node.java:135)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8\n  (NodeTestTask.java:123)<br>\n                                              org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute\n  (ThrowableCollector.java:73)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively\n  (NodeTestTask.java:122)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.execute<br>\n  (NodeTestTask.java:80)<br>\n                                                                                            java.util.ArrayList.forEach<br>\n  (ArrayList.java:1251)<br>\n                       org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll\n  (SameThreadHierarchicalTestExecutorService.java:38)\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5\n  (NodeTestTask.java:139)<br>\n                                              org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute\n  (ThrowableCollector.java:73)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7\n  (NodeTestTask.java:125)<br>\n                                                            org.junit.platform.engine.support.hierarchical.Node.around<br>\n  (Node.java:135)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8\n  (NodeTestTask.java:123)<br>\n                                              org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute\n  (ThrowableCollector.java:73)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively\n  (NodeTestTask.java:122)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.execute<br>\n  (NodeTestTask.java:80)<br>\n                                                                                            java.util.ArrayList.forEach<br>\n  (ArrayList.java:1251)<br>\n                       org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll\n  (SameThreadHierarchicalTestExecutorService.java:38)\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5\n  (NodeTestTask.java:139)<br>\n                                              org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute\n  (ThrowableCollector.java:73)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7\n  (NodeTestTask.java:125)<br>\n                                                            org.junit.platform.engine.support.hierarchical.Node.around<br>\n  (Node.java:135)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8\n  (NodeTestTask.java:123)<br>\n                                              org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute\n  (ThrowableCollector.java:73)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively\n  (NodeTestTask.java:122)<br>\n                                                    org.junit.platform.engine.support.hierarchical.NodeTestTask.execute<br>\n  (NodeTestTask.java:80)<br>\n                       org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit\n  (SameThreadHierarchicalTestExecutorService.java:32)\n                                        org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute\n  (HierarchicalTestExecutor.java:57)<br>\n                                          org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute\n  (HierarchicalTestEngine.java:51)<br>\n                                                               org.junit.platform.launcher.core.DefaultLauncher.execute<br>\n  (DefaultLauncher.java:229)<br>\n                                                               org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6<br>\n  (DefaultLauncher.java:197)<br>\n                                                               org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams\n  (DefaultLauncher.java:211)<br>\n                                                               org.junit.platform.launcher.core.DefaultLauncher.execute<br>\n  (DefaultLauncher.java:191)<br>\n                                                               org.junit.platform.launcher.core.DefaultLauncher.execute<br>\n  (DefaultLauncher.java:128)<br>\n                                                                       com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs<br>\n  (JUnit5IdeaTestRunner.java:74)<br>\n                                                        com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs\n  (IdeaTestRunner.java:47)<br>\n                                                                   com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart<br>\n  (JUnitStarter.java:242)<br>\n                                                                   com.intellij.rt.execution.junit.JUnitStarter.main<br>\n  (JUnitStarter.java:70)                             </p>\n  \n  <p>2)<br>\n  io.mockk.impl.InternalPlatform.captureStackTrace<br>\n  (InternalPlatform.kt:114)<br>\n                                       io.mockk.impl.stub.MockKStub.handleInvocation<br>\n  (MockKStub.kt:256)<br>\n  io.mockk.impl.instantiation.JvmMockFactoryHelper$mockHandler$1.invocation\n  (JvmMockFactoryHelper.kt:25)<br>\n                              io.mockk.proxy.jvm.advice.Interceptor.call                      (Interceptor.kt:20)<br>\n                               io.mockk.proxy.jvm.advice.BaseAdvice.handle<br>\n  (BaseAdvice.kt:42)<br>\n             io.mockk.proxy.jvm.advice.jvm.JvmMockKProxyInterceptor.interceptNoSuper\n  (JvmMockKProxyInterceptor.java:45)\n                             androidx.lifecycle.Observer$Subclass18.onChanged<br>\n  (-:-1)<br>\n                                        androidx.lifecycle.LiveData.considerNotify<br>\n  (LiveData.java:131)<br>\n                                        androidx.lifecycle.LiveData.dispatchingValue<br>\n  (LiveData.java:149)<br>\n                                        androidx.lifecycle.LiveData.setValue<br>\n  (LiveData.java:307)<br>\n                                 androidx.lifecycle.MutableLiveData.setValue<br>\n  (MutableLiveData.java:50)<br>\n      com.test.testapp.ui.login.LoginViewModel$triggerLogin$1$1.invokeSuspend\n  (LoginViewModel.kt:99)<br>\n      com.test.testapp.ui.login.LoginViewModel$triggerLogin$1$1.invoke<br>\n  (LoginViewModel.kt:-1)<br>\n                       kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn\n  (Undispatched.kt:91)<br>\n                   kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext<br>\n  (Builders.common.kt:146)<br>\n                                      kotlinx.coroutines.BuildersKt.withContext               (-:1)         </p>\n\n<pre><code>  com.test.testapp.ui.login.LoginViewModel$triggerLogin$1.invokeSuspend\n</code></pre>\n  \n  <p>(LoginViewModel.kt:98)<br>\n                kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith<br>\n  (ContinuationImpl.kt:32)<br>\n                                  kotlinx.coroutines.DispatchedTask.run                       (Dispatched.kt:233)<br>\n                   kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely<br>\n  (CoroutineScheduler.kt:594)<br>\n                   kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely<br>\n  (CoroutineScheduler.kt:60)<br>\n            kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run                       (CoroutineScheduler.kt:742)       </p>\n  \n  <p>at\n  io.mockk.impl.recording.states.VerifyingState.failIfNotPassed(VerifyingState.kt:66)\n    at\n  io.mockk.impl.recording.states.VerifyingState.recordingDone(VerifyingState.kt:42)\n    at\n  io.mockk.impl.recording.CommonCallRecorder.done(CommonCallRecorder.kt:48)\n    at\n  io.mockk.impl.eval.RecordedBlockEvaluator.record(RecordedBlockEvaluator.kt:60)\n    at\n  io.mockk.impl.eval.VerifyBlockEvaluator.verify(VerifyBlockEvaluator.kt:27)\n    at io.mockk.MockKDsl.internalCoVerify(API.kt:143)   at\n  io.mockk.MockKDsl.internalCoVerify$default(API.kt:134)    at\n  io.mockk.MockKDsl.internalCoVerifyOrder(API.kt:212)   at\n  io.mockk.MockKKt.coVerifyOrder(MockK.kt:264)  at\n  io.mockk.MockKKt.coVerifyOrder$default(MockK.kt:261)  at\n  com.test.testapp.featureTests.login.LoginFeatureShould$perform\n  login without a previously saved\n  user$1.invokeSuspend(LoginFeatureShould.kt:104)   at\n  kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:32)\n    at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:233)     at\n  kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.kt:116)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:76)\n    at\n  kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:53)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)    at\n  kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:35)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at com.test.testapp.featureTests.login.LoginFeatureShould.perform\n  login without a previously saved user(LoginFeatureShould.kt:89)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:628)\n    at\n  org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:117)\n    at\n  org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:184)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:180)\n    at\n  org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:127)\n    at\n  org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at\n  org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.util.ArrayList.forEach(ArrayList.java:1251)     at\n  org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at\n  org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.util.ArrayList.forEach(ArrayList.java:1251)     at\n  org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at\n  org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at\n  org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at\n  org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at\n  org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at\n  org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at\n  org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\n    at\n  org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at\n  com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:74)\n    at\n  com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at\n  com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at\n  com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "android-animation"], "answers": [{"tags": [], "owner": {"reputation": 10325, "user_id": 1372866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb12cb068802938b40b8b36ea0c43ecd?s=128&d=identicon&r=PG", "display_name": "ashakirov", "link": "https://stackoverflow.com/users/1372866/ashakirov"}, "is_accepted": true, "score": 2, "last_activity_date": 1561639605, "creation_date": 1561639605, "answer_id": 56791348, "question_id": 56777313, "link": "https://stackoverflow.com/questions/56777313/android-animating-layout-using-align-parent-kotlin/56791348#56791348", "title": "Android - Animating layout using align-parent (Kotlin)", "body": "<p>This kind of animations can be done via <code>Transition API</code> which is now available in <code>androix</code> package.</p>\n\n<p>Here is example where <code>Button</code> is <code>centerVertical</code> in <code>RelativeLayout</code>. <code>TextView</code> aligned to be below <code>Button</code>. After button click I remove <code>centerVertical</code> rule and add <code>alignParentTop</code> rule to <code>Button</code>. All animations can be done in almost 1 line.</p>\n\n<pre><code>import androidx.transition.AutoTransition;\nimport androidx.transition.TransitionManager;\n....\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ....\n    View button = findViewById(R.id.button);\n    button.setOnClickListener(btn -&gt; {\n        animate(btn);\n    });\n}\n\nprivate void animate(View button) {\n    RelativeLayout parent = findViewById(R.id.relativeLayout);\n\n    RelativeLayout.LayoutParams lp = (RelativeLayout.LayoutParams) button.getLayoutParams();\n    lp.addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE);\n    lp.removeRule(RelativeLayout.CENTER_VERTICAL);\n\n    AutoTransition transition = new AutoTransition();\n    transition.setDuration(2000);\n    TransitionManager.beginDelayedTransition(parent, transition);\n    button.setLayoutParams(lp);\n}\n</code></pre>\n\n<p>layout:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/relativeLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_centerVertical=\"true\"\n        android:text=\"Button\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/bottom\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/button\"\n        android:layout_centerHorizontal=\"true\"\n        android:text=\"bottom text\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nuOoU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nuOoU.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2246, "user_id": 1195473, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PjmQQ.png?s=128&g=1", "display_name": "svguerin3", "link": "https://stackoverflow.com/users/1195473/svguerin3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 56791348, "answer_count": 1, "score": 0, "last_activity_date": 1561639605, "creation_date": 1561566431, "last_edit_date": 1561578825, "question_id": 56777313, "link": "https://stackoverflow.com/questions/56777313/android-animating-layout-using-align-parent-kotlin", "title": "Android - Animating layout using align-parent (Kotlin)", "body": "<p>I am needing to animate a layout from bottom to the top of the screen when the user taps on an EditText within that layout.  Here is my code for doing this:</p>\n\n<pre><code>myEditText.setOnFocusChangeListener() { _, focused -&gt;\n    if (focused) {\n        val animation = object: Animation() {\n            override fun applyTransformation(interpolatedTime: Float, t: Transformation?) {\n                val params = myLayout.getLayoutParams() as RelativeLayout.LayoutParams\n                params.addRule(RelativeLayout.ALIGN_PARENT_TOP, RelativeLayout.TRUE)\n                myLayout.setLayoutParams(params)\n            }\n        }\n        animation.duration = 1000\n        myEditText.startAnimation(animation)\n    }\n}\n</code></pre>\n\n<p>When I tap on the EditText, the \"myLayout\" properly goes to the top of the screen.  However, two issues:</p>\n\n<p>1) There is no animation, it just jumps to the top.  I am wanting it to \"slide\" up to the top.</p>\n\n<p>2) More importantly, the views that are set to be \"below\" and relative to the myLayout do not go up with it.  I know those are set properly, since when I add in the top alignment in the XML, they go up with it.  But programatically it seems they stay down below the screen, still hidden.</p>\n\n<p>I tried a different approach using ObjectAnimator, manually moving all the views up:</p>\n\n<pre><code>val anims = AnimatorSet();\nval anim1 = ObjectAnimator.ofFloat(myLayout, View.TRANSLATION_Y, -1000f)\nval anim2 = ObjectAnimator.ofFloat(layoutBelow, View.TRANSLATION_Y, -1000f)\nval anim3 = ObjectAnimator.ofFloat(layoutBelowBelow, View.TRANSLATION_Y, -1000f)\nanims.playTogether(anim1, anim2, anim3)\nanims.start()\n</code></pre>\n\n<p>Doing that makes the animation work, but the views below \"myLayout\" are still invisible!  I'm curious if it makes a difference that they are off-screen initially (?)</p>\n\n<p>Thoughts on what I may be missing?  If there's a better way to handle this, I'm open to different approaches as well.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 650, "user_id": 3316842, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/27a97d409966980c6c4799dbf12d1903?s=128&d=identicon&r=PG&f=1", "display_name": "baskInEminence", "link": "https://stackoverflow.com/users/3316842/baskineminence"}, "edited": false, "score": 0, "creation_date": 1600575600, "post_id": 56777296, "comment_id": 113128563, "body": "Following Android&#39;s newer docs, they reference passing data with fragment navigation xml but that&#39;s not applicable in this scenario. This answer was definitely helpful - thank you!"}], "tags": [], "owner": {"reputation": 713, "user_id": 7782316, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/wMCgH.png?s=128&g=1", "display_name": "Sz-Nika Janos", "link": "https://stackoverflow.com/users/7782316/sz-nika-janos"}, "is_accepted": false, "score": 2, "last_activity_date": 1593416174, "last_edit_date": 1593416174, "creation_date": 1561566367, "answer_id": 56777296, "question_id": 56777160, "link": "https://stackoverflow.com/questions/56777160/how-to-pass-data-from-pageadapter-to-fragment/56777296#56777296", "title": "How to pass data from PageAdapter to Fragment?", "body": "<p>Bundle way:</p>\n<pre><code>class CouponFragment:Fragment(){\n\n\n  ...\n\n\ncompanion object {\n    const val DATA_KEY= &quot;name&quot;\n\n    fun newInstance(imageId: Int): CouponFragment{\n        val fragment = CouponFragment().apply{\n\n       arguments =  Bundle().apply {\n            putInt(DATA_KEY, imageId)\n        }\n\n     }\n\n        return fragment\n    }\n}\n\n    ...\n\n\n \n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val yourAwesomeImage = arguments?.getInt(DATA_KEY)\n    // ...\n}\n</code></pre>\n<p>How to use it:</p>\n<pre><code> when (position) {\n        0 -&gt; return HowToUseFragment()\n        1 -&gt; return CouponFragment.newInstance(R.id.you_awesome_image)\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 118, "user_id": 8302877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d5503de9872537257e1df5744053690?s=128&d=identicon&r=PG&f=1", "display_name": "Kashish-Chugh", "link": "https://stackoverflow.com/users/8302877/kashish-chugh"}, "is_accepted": false, "score": 0, "last_activity_date": 1561571933, "creation_date": 1561571933, "answer_id": 56778620, "question_id": 56777160, "link": "https://stackoverflow.com/questions/56777160/how-to-pass-data-from-pageadapter-to-fragment/56778620#56778620", "title": "How to pass data from PageAdapter to Fragment?", "body": "<p>You can use appSession to save data while the app is running. So make an AppSession class to save the image resource.</p>\n\n<pre><code>class AppSession {\n\nprivate var instance: AppSession? = null\n@Synchronized\nfun getInstance(): AppSession {\n    if (instance == null) {\n        instance = AppSession()\n    }\n    return instance as AppSession\n}\n\nfun setInstance(instance: AppSession) {\n    AppSession().instance = instance\n}\npublic var imageUrl:String?=null\n//use this to save the image resource as per your code }\n</code></pre>\n\n<p>You can call <code>AppSession().getInstance().imageUrl</code> to set image resource in your adapter and then call <code>AppSession().getInstance().imageUrl</code> to get the url in your fragment.</p>\n"}], "owner": {"reputation": 292, "user_id": 10551887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dff76320f9f9a5faaac6537881c724e?s=128&d=identicon&r=PG&f=1", "display_name": "szakes1", "link": "https://stackoverflow.com/users/10551887/szakes1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 802, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1593416174, "creation_date": 1561565741, "last_edit_date": 1561566087, "question_id": 56777160, "link": "https://stackoverflow.com/questions/56777160/how-to-pass-data-from-pageadapter-to-fragment", "title": "How to pass data from PageAdapter to Fragment?", "body": "<p>I'm writing a very simple application in Android, but I have a problem with passing data to a fragment.</p>\n\n<p>I have a TabLayout with ViewPager. </p>\n\n<p>This TabLayout displays two fragements. One fragment is static and hard coded as I intented it to be. Second fragment contains an ImageView, which displays a coupon image.</p>\n\n<p>I'd like my CouponFragemnt to display an image I pass from PagerAdapter to this fragment, but I do not know how to do it. </p>\n\n<p>What to use and how? Bundle, Extras? </p>\n\n<p>I don't have much reputation to post images on StackOverflow, but you can look here: <a href=\"https://i.imgur.com/Dc27bQM.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/Dc27bQM.png</a></p>\n\n<h2>PageAdapter()</h2>\n\n<pre><code>class ViewPagerAdapter( fm: FragmentManager, private val numberOfFrags: Int) : FragmentStatePagerAdapter(fm) {\n    override fun getItem(position: Int): Fragment? {\n        when (position) {\n            0 -&gt; return HowToUseFragment()\n            1 -&gt; return CouponFragment() // I want to pass data, which tells fragment what image to display.\n        }\n        return null\n    }\n\n    override fun getCount(): Int {\n        return numberOfFrags\n    }\n\n    override fun getPageTitle(position: Int): CharSequence? {\n        when (position) {\n            0 -&gt; return \"Jak u\u017cywa\u0107?\"\n            1 -&gt; return \"Hamburger\"\n        }\n        return super.getPageTitle(position)\n    }\n}\n</code></pre>\n\n<h2>CouponFragment()</h2>\n\n<pre><code>class CouponFragment : Fragment() {\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        // Inflate the layout for this fragment\n        val viewOfLayout = inflater.inflate(R.layout.fragment_coupon, container, false)\n\n        if (Build.VERSION.SDK_INT &gt;= 21) {\n            viewOfLayout.coupon_IMGV.setImageDrawable(resources.getDrawable(R.drawable.coupon_hamburger, null))\n        }\n        else {\n            viewOfLayout.coupon_IMGV.setImageDrawable(resources.getDrawable(R.drawable.coupon_hamburger))\n        }\n        return viewOfLayout\n    }\n}\n\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11704180, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GLFlP-Py7uU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIkK_CI9lT829yesYqfayElLw0ng/photo.jpg?sz=128", "display_name": "Tomas Tosas", "link": "https://stackoverflow.com/users/11704180/tomas-tosas"}, "edited": false, "score": 0, "creation_date": 1561630444, "post_id": 56777094, "comment_id": 100131770, "body": "Hello, and hank you ! For my problem @forpas solution was good enough, but I also used your idea to move all logic to background thread, this helped a lot!"}], "tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": false, "score": 1, "last_activity_date": 1561565490, "creation_date": 1561565490, "answer_id": 56777094, "question_id": 56776952, "link": "https://stackoverflow.com/questions/56776952/list-items-iteration-speed-too-slow-when-having-another-loop-inside/56777094#56777094", "title": "List items iteration speed too slow when having another loop inside", "body": "<p>You can speed it up a bit by not using <code>forEach</code>, which uses an interator and instead use a for loop. You can also break once you locate your <code>id</code>, assuming they are unique</p>\n\n<pre><code>for (i in 0 until devicesList.size) {\n    val device = devicesList[i]\n    for (j in 0 until items.size) {\n         val item = items[j]\n         if (item.id == device.id) {\n             device.selected = true\n             break\n         }\n     }\n}\n</code></pre>\n\n<p>Assuming your <code>id</code>s are unique, you could also make a duplicate of the <code>items</code> list and drop those that have been located, so each loop is shorter, like this</p>\n\n<pre><code>val copy = items.toMutableList()\nfor (i in 0 until devicesList.size) {\n    val device = devicesList[i]\n    for (j in 0 until copy.size) {\n        val item = copy[j]\n        if (item.id == device.id) {\n            device.selected = true\n            copy.remove(item)\n            break\n        }\n    }\n}\n</code></pre>\n\n<p>You could also consider creating a map where the <code>key</code> is your <code>id</code> so you do not have to loop and instead you retrieve the item by <code>id</code> directly. You have to weight the cost of creating the map in the first place.</p>\n\n<pre><code>val map = items.associateBy { it.id }\nfor (i in 0 until devicesList.size) {\n    val device = devicesList[i]\n    device.selected = map[device.id] != null\n}\n</code></pre>\n\n<p>Besides this, you should also move your logic to a background thread and wait for it to complete.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11704180, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GLFlP-Py7uU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIkK_CI9lT829yesYqfayElLw0ng/photo.jpg?sz=128", "display_name": "Tomas Tosas", "link": "https://stackoverflow.com/users/11704180/tomas-tosas"}, "edited": false, "score": 0, "creation_date": 1561630322, "post_id": 56777222, "comment_id": 100131693, "body": "Hello, very nice solution! Thank you ! Also, I combined this with @Frencesc suggestion move this logic to background task and it&#39;s work like a charm, thank you again!"}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 0, "last_activity_date": 1561566014, "creation_date": 1561566014, "answer_id": 56777222, "question_id": 56776952, "link": "https://stackoverflow.com/questions/56776952/list-items-iteration-speed-too-slow-when-having-another-loop-inside/56777222#56777222", "title": "List items iteration speed too slow when having another loop inside", "body": "<p>If all you need is make <code>selected = true</code> if a device's <code>id</code> exists in the list <code>items</code>, you can get all the ids of <code>items</code> like this:</p>\n\n<pre><code>val ids = items.map { it.id }\n</code></pre>\n\n<p>and then loop through <code>devices</code>:</p>\n\n<pre><code>devicesList.forEach { it.selected = it.id in ids }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11704180, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GLFlP-Py7uU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIkK_CI9lT829yesYqfayElLw0ng/photo.jpg?sz=128", "display_name": "Tomas Tosas", "link": "https://stackoverflow.com/users/11704180/tomas-tosas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56777222, "answer_count": 2, "score": 0, "last_activity_date": 1561566014, "creation_date": 1561564999, "question_id": 56776952, "link": "https://stackoverflow.com/questions/56776952/list-items-iteration-speed-too-slow-when-having-another-loop-inside", "title": "List items iteration speed too slow when having another loop inside", "body": "<p>I have two list, one with all possible devices and another with just few devices. I need pass final list with this condition:\nif  full list == one of the items in smaller list, make this item \"active\" too true, else leave it false.</p>\n\n<p>I have no problem when working with full list >500 devices and small list >50, but when I have for example 2000 devices everything start to be too slow (on Google Pixel 2XL I need to wait about 6 seconds to job finish). </p>\n\n<p>Question: how can I increase this loop speed?</p>\n\n<p>What I have done so far:</p>\n\n<pre><code>devicesList.forEach { device -&gt;\n\n            device.selected = false\n\n            items.forEach { it -&gt;\n                if(it.id == device.id){\n                    device.selected = true\n                }\n            }\n</code></pre>\n\n<p>But this is too slow for larger data</p>\n"}, {"tags": ["sorting", "kotlin", "comparator"], "comments": [{"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 2, "creation_date": 1561565338, "post_id": 56776827, "comment_id": 100109405, "body": "Your question is too broad. Please tell us exactly what it is you don&#39;t understand."}, {"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "reply_to_user": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 0, "creation_date": 1561565702, "post_id": 56776827, "comment_id": 100109598, "body": "I want them to work using <code>Comparator</code>."}, {"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 2, "creation_date": 1561566152, "post_id": 56776827, "comment_id": 100109799, "body": "They already are using Comparator. Comparator is a functional interface and a lambda defines the compare() method. See also <a href=\"https://stackoverflow.com/questions/40160489/kotlin-whats-does-return-mean\">What does return@ mean?</a>. What I don&#39;t understand is that it seems the lambda has two arguments and both of them are identical: <code>(_, word), (_, word)</code>. Are you sure both are called <code>word</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1561597089, "post_id": 56782450, "comment_id": 100119976, "body": "I see... So, <code>return@Collections</code> doesn&#39;t mean anything, right?"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 1, "creation_date": 1561603161, "post_id": 56782450, "comment_id": 100120903, "body": "Probably <code>return@Collections.sort</code> is result of an incorrect Java-to-Kotlin conversion and was intended to return the value 0, 1 or -1 from the lambda function. The correct syntax of this labelled return would be <code>return@Comparator 0</code>. Here <code>Comparator</code> before lambda function body gives an implicit label with the same name to that lambda. See <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/returns.html#return-at-labels</a> for the further reference."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 2, "last_activity_date": 1561595014, "creation_date": 1561595014, "answer_id": 56782450, "question_id": 56776827, "link": "https://stackoverflow.com/questions/56776827/kotlin-comparator-after-converting-from-java-comparator/56782450#56782450", "title": "Kotlin Comparator after converting from Java Comparator", "body": "<p><code>Comparator</code> is a SAM (single abstract method) interface in Java. An implementation of such interface can be instantiated in Kotlin using SAM-conversion technique, so instead of writing an anonymous object implementing <code>Comparator</code> like this:</p>\n\n<pre><code>val comparator = object : Comparator&lt;WordItem&gt; {\n    override fun compare(item1: WordItem, item2: WordItem): Int {\n        val size1 = item1.word.length\n        val size2 = item2.word.length\n        ...\n    }\n}\n</code></pre>\n\n<p>you can write</p>\n\n<pre><code>val comparator = Comparator&lt;WordItem&gt; { item1, item2 -&gt; \n    val size1 = item1.word.length\n    val size2 = item2.word.length\n    ...\n}\n</code></pre>\n\n<p>Here I assume that each <code>WordItem</code> has the <code>word</code> property.</p>\n\n<p>It seems that you're comparing items by word length. In that case you can simplify such comparator even more with <code>compareBy</code> function:</p>\n\n<pre><code>wordItems.sortWith(compareBy { it.word.length })\n</code></pre>\n\n<p>or <code>sortBy</code> function</p>\n\n<pre><code>wordItems.sortBy { it.word.length }\n</code></pre>\n"}], "owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561595014, "creation_date": 1561564574, "question_id": 56776827, "link": "https://stackoverflow.com/questions/56776827/kotlin-comparator-after-converting-from-java-comparator", "title": "Kotlin Comparator after converting from Java Comparator", "body": "<p>I converted my Java files to Kotlin. And I fixed most of them. However, I don't understand this part using <code>Comparator</code>.</p>\n\n<pre><code>wordItems.sortWith(Comparator { (_, word), (_, word) -&gt;\n    val size1 = word!!.length\n    val size2 = word.length\n    if (size1 &lt; size2) {\n        return@Collections.sort - 1\n    } else if (size1 == size2) {\n        return@Collections.sort 0\n    } else {\n        return@Collections.sort 1\n    }\n})\n</code></pre>\n\n<p>And this one also, I don't understand.</p>\n\n<pre><code>Collections.sort(wordItems) { (_, word), (_, word) -&gt;\n    val size1 = word!!.length\n    val size2 = word.length\n    if (size1 &lt; size2) {\n        return@Collections.sort - 1\n    } else if (size1 == size2) {\n        return@Collections.sort 0\n    } else {\n        return@Collections.sort 1\n    }\n}\n</code></pre>\n\n<p>How can I change this to make it work?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1, "user_id": 11704026, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ztBQb0Rqi0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1dzebmew8A7Cpt0AVXLuf9mEv0A/photo.jpg?sz=128", "display_name": "Joe", "link": "https://stackoverflow.com/users/11704026/joe"}, "edited": false, "score": 0, "creation_date": 1561563153, "post_id": 56776329, "comment_id": 100108185, "body": "Please note I am very new to android studio/kotlin"}, {"owner": {"reputation": 107, "user_id": 8564324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b18b6757b355e5f9f1cce1c3ebef282?s=128&d=identicon&r=PG&f=1", "display_name": "ExtinctSpecie", "link": "https://stackoverflow.com/users/8564324/extinctspecie"}, "edited": false, "score": 0, "creation_date": 1561565436, "post_id": 56776329, "comment_id": 100109455, "body": "nothing is wrong with the text view, unless something else stands on top of it and blocks it in the first activity, or somewhere in your code you either make it invisible or gone. if you want more details i need to see more of the xml views. is the button showing correctly?(because of text depending on it) try wrap_content in height"}, {"owner": {"reputation": 1, "user_id": 11704026, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ztBQb0Rqi0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1dzebmew8A7Cpt0AVXLuf9mEv0A/photo.jpg?sz=128", "display_name": "Joe", "link": "https://stackoverflow.com/users/11704026/joe"}, "reply_to_user": {"reputation": 107, "user_id": 8564324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b18b6757b355e5f9f1cce1c3ebef282?s=128&d=identicon&r=PG&f=1", "display_name": "ExtinctSpecie", "link": "https://stackoverflow.com/users/8564324/extinctspecie"}, "edited": false, "score": 0, "creation_date": 1561566573, "post_id": 56776329, "comment_id": 100110008, "body": "I&#39;ve edited the question to include picture links, the only code i&#39;ve made is to change the activity and its the same for the other activity (which shows the textView). Yes the button shows fine"}, {"owner": {"reputation": 1, "user_id": 11704026, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ztBQb0Rqi0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1dzebmew8A7Cpt0AVXLuf9mEv0A/photo.jpg?sz=128", "display_name": "Joe", "link": "https://stackoverflow.com/users/11704026/joe"}, "reply_to_user": {"reputation": 107, "user_id": 8564324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b18b6757b355e5f9f1cce1c3ebef282?s=128&d=identicon&r=PG&f=1", "display_name": "ExtinctSpecie", "link": "https://stackoverflow.com/users/8564324/extinctspecie"}, "edited": false, "score": 0, "creation_date": 1561566725, "post_id": 56776329, "comment_id": 100110082, "body": "So using wrap content worked to display the textView, but is this something I&#39;ll have to do every time? Why didn&#39;t I have to do it for the other activity?"}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 8805150, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tc2I3vusb2k/AAAAAAAAAAI/AAAAAAAAH-c/--RSm60P-9o/photo.jpg?sz=128", "display_name": "Dr BigKitkat", "link": "https://stackoverflow.com/users/8805150/dr-bigkitkat"}, "is_accepted": false, "score": 0, "last_activity_date": 1561623406, "creation_date": 1561623406, "answer_id": 56786786, "question_id": 56776329, "link": "https://stackoverflow.com/questions/56776329/textview-not-showing-in-emulator-for-one-activity-but-same-xml-makes-visible-in/56786786#56786786", "title": "textView not showing in emulator for one activity but same xml makes visible in another", "body": "<p>Try changing height to <code>wrap_content</code> and set the <code>android:textColor=\"@android:color/black\"</code> and see if that works</p>\n"}], "owner": {"reputation": 1, "user_id": 11704026, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1ztBQb0Rqi0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd1dzebmew8A7Cpt0AVXLuf9mEv0A/photo.jpg?sz=128", "display_name": "Joe", "link": "https://stackoverflow.com/users/11704026/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561623406, "creation_date": 1561562945, "last_edit_date": 1561567227, "question_id": 56776329, "link": "https://stackoverflow.com/questions/56776329/textview-not-showing-in-emulator-for-one-activity-but-same-xml-makes-visible-in", "title": "textView not showing in emulator for one activity but same xml makes visible in another", "body": "<p>I have 2 identical textViews on 2 different activities but the first textView is invisible in the emulator, despite the second being visible (on the other activity). Both are visible in the preview.</p>\n\n<p>I copy and pasted the xml code from the first activity to the second and changed the id accordingly so all of the attributes are exactly the same for both</p>\n\n<pre><code>//Textview in first activity (not visible in emulator)\n\n&lt;TextView\n            android:layout_width=\"134dp\"\n            android:layout_height=\"0dp\"\n            android:text=\"1st Activity\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" \napp:layout_constraintVertical_bias=\"0.207\"\n            android:id=\"@+id/textView\" android:textSize=\"24sp\" \nandroid:textAlignment=\"center\" android:gravity=\"center\"\n            android:layout_marginTop=\"141dp\" \nandroid:layout_marginBottom=\"279dp\"\n            app:layout_constraintBottom_toTopOf=\"@+id/button\"/&gt;\n\n//textView in second activity (visible in emulator)\n\n&lt;TextView\n            android:layout_width=\"134dp\"\n            android:layout_height=\"0dp\"\n            android:text=\"2nd Activity\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" \napp:layout_constraintVertical_bias=\"0.207\"\n            android:id=\"@+id/textView2\" android:textSize=\"24sp\" \nandroid:textAlignment=\"center\" android:gravity=\"center\"\n            android:layout_marginTop=\"141dp\" \nandroid:layout_marginBottom=\"279dp\"\n            app:layout_constraintBottom_toTopOf=\"@+id/button\"/&gt;\n</code></pre>\n\n<p>Everything else in both activities is exactly the same so both should be visible</p>\n\n<p><a href=\"https://i.stack.imgur.com/FXDoM.jpg\" rel=\"nofollow noreferrer\">design view of the problem activity</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/vew44.jpg\" rel=\"nofollow noreferrer\">emulator view of problem activity</a></p>\n"}, {"tags": ["kotlin", "lambda"], "answers": [{"comments": [{"owner": {"reputation": 608, "user_id": 8005819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HotHm.jpg?s=128&g=1", "display_name": "\u0412\u044f\u0447\u0435\u0441\u043b\u0430\u0432 \u0427\u0435\u0440\u043d\u044b\u0448\u043e\u0432", "link": "https://stackoverflow.com/users/8005819/%d0%92%d1%8f%d1%87%d0%b5%d1%81%d0%bb%d0%b0%d0%b2-%d0%a7%d0%b5%d1%80%d0%bd%d1%8b%d1%88%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1561566692, "post_id": 56775628, "comment_id": 100110066, "body": "but if I want to continue to process expression result after check, like in updfated example?"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1561561154, "last_edit_date": 1561561154, "creation_date": 1561560744, "answer_id": 56775628, "question_id": 56775593, "link": "https://stackoverflow.com/questions/56775593/kotlin-lambda-run-alternative-scenario/56775628#56775628", "title": "Kotlin: lambda run alternative scenario", "body": "<p>You are pretty close actually :)! What you could do is:</p>\n\n<pre><code>userDto.programs.sortedBy { it.created }.findLast { it.actual } ?: throw RuntimeException()\n</code></pre>\n\n<p>Or if you're trying to actually avoid throwing an error(couldn't really tell with the way question is asked), you could just do an error check like this:</p>\n\n<pre><code>userDto.programs.sortedBy { it.created }.findLast { it.actual }?.let{\n//rest of your code goes here\n}\n</code></pre>\n\n<p>Hope this helps, cheers!</p>\n"}], "owner": {"reputation": 608, "user_id": 8005819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HotHm.jpg?s=128&g=1", "display_name": "\u0412\u044f\u0447\u0435\u0441\u043b\u0430\u0432 \u0427\u0435\u0440\u043d\u044b\u0448\u043e\u0432", "link": "https://stackoverflow.com/users/8005819/%d0%92%d1%8f%d1%87%d0%b5%d1%81%d0%bb%d0%b0%d0%b2-%d0%a7%d0%b5%d1%80%d0%bd%d1%8b%d1%88%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561566623, "creation_date": 1561560616, "last_edit_date": 1561566623, "question_id": 56775593, "link": "https://stackoverflow.com/questions/56775593/kotlin-lambda-run-alternative-scenario", "title": "Kotlin: lambda run alternative scenario", "body": "<p>I have userDto, contains <code>programs</code>, which contains <code>actual</code> field. Actual program can be only one. I need to get it. Than, I run this:</p>\n\n<pre><code>userDto.programs.sortedBy { it.created }.findLast { it.actual }?\n</code></pre>\n\n<p>Okay, but I want to foresee case, when <code>findLast</code> returns null, &amp; throw exception. Please, advice, how to do it?</p>\n\n<p>UPD:</p>\n\n<pre><code>ProgramType.valueOf(userDto.programs\n                                .sortedBy { it.created }\n                                .findLast { it.actual }\n                        //check here\n                        !!.programType!!).percentage\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-camera", "android-camera2"], "comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1561560810, "post_id": 56775251, "comment_id": 100106786, "body": "what does <code>activity_main</code> look like?"}, {"owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "reply_to_user": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 0, "creation_date": 1561561043, "post_id": 56775251, "comment_id": 100106945, "body": "@Zun nothing much, just a button that links points to the cameraScreen activity"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "edited": false, "score": 0, "creation_date": 1561560021, "post_id": 56775365, "comment_id": 100106261, "body": "I did put the line there. Still getting the same error"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 1, "creation_date": 1561560115, "post_id": 56775365, "comment_id": 100106315, "body": "You also need to declare it as <code>lateinit var</code>."}, {"owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1561560292, "post_id": 56775365, "comment_id": 100106439, "body": "Tried that @tynn in combination with the answer. I am now getting a black screen. I granted the app permission to use the camera as well"}], "tags": [], "owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "is_accepted": false, "score": 1, "last_activity_date": 1561560223, "last_edit_date": 1561560223, "creation_date": 1561559929, "answer_id": 56775365, "question_id": 56775251, "link": "https://stackoverflow.com/questions/56775251/app-crashing-while-using-camerakit-with-kotlin/56775365#56775365", "title": "App crashing while using CameraKit with Kotlin", "body": "<p>You are missing the </p>\n\n<pre><code>cameraKitView = findViewById(R.id.camera);\n</code></pre>\n\n<p>part of the code. You should either do that or use synthetics.</p>\n\n<p>You need to also change <code>var cameraKitView</code> to <code>lateinit var cameraKitView</code></p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "edited": false, "score": 0, "creation_date": 1561560561, "post_id": 56775471, "comment_id": 100106626, "body": "I didn&#39;t understand the <code>var cameraKitView: CameraKitView = cv_camerkit</code> part. What goes after the = ? Also, is it necessary to include the rest of the lifecycle?"}, {"owner": {"reputation": 246, "user_id": 7534304, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212074498637863/picture?type=large", "display_name": "Joshua Best", "link": "https://stackoverflow.com/users/7534304/joshua-best"}, "reply_to_user": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "edited": false, "score": 0, "creation_date": 1561560617, "post_id": 56775471, "comment_id": 100106669, "body": "Yes for this library it is otherwise it will give you a black screen when you resume the view. I edited my answer as I didnt mean to add the var in the second time."}, {"owner": {"reputation": 246, "user_id": 7534304, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212074498637863/picture?type=large", "display_name": "Joshua Best", "link": "https://stackoverflow.com/users/7534304/joshua-best"}, "reply_to_user": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "edited": false, "score": 0, "creation_date": 1561560714, "post_id": 56775471, "comment_id": 100106730, "body": "Also i&#39;m using androidx so I dont have to intialise my views in my class for example with: findViewById(R.id.camera);  I can just refer to the views name"}, {"owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "edited": false, "score": 0, "creation_date": 1561561355, "post_id": 56775471, "comment_id": 100107149, "body": "As you suggested, on including the whole lifecycle the camera worked. However, if I press the back button to go back to the main activity and then go to the camera activity again, I get a black screen. Note that I have not included the line <code>cameraKitView = cv_camerkit</code> as I do not know what to put after the <code>=</code> sign. My XML reads <code>android:id=&quot;@+id&#47;camera&quot;</code>"}, {"owner": {"reputation": 246, "user_id": 7534304, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212074498637863/picture?type=large", "display_name": "Joshua Best", "link": "https://stackoverflow.com/users/7534304/joshua-best"}, "reply_to_user": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "edited": false, "score": 0, "creation_date": 1561562919, "post_id": 56775471, "comment_id": 100108058, "body": "Possibly add cameraKitView.stop() in to your onbackpressed function. also instead of cv_camerakit you would then just use camera"}, {"owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "edited": false, "score": 0, "creation_date": 1561581738, "post_id": 56775471, "comment_id": 100116191, "body": "I tried doing <code>onBackPressed(cameraKitView.stop())</code> but I&#39;m getting this error  &gt;Too many arguments for public open fun onBackPressed(): Unit defined in com.example.testapp.cameraScree"}], "tags": [], "owner": {"reputation": 246, "user_id": 7534304, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212074498637863/picture?type=large", "display_name": "Joshua Best", "link": "https://stackoverflow.com/users/7534304/joshua-best"}, "is_accepted": false, "score": 1, "last_activity_date": 1561560660, "last_edit_date": 1561560660, "creation_date": 1561560244, "answer_id": 56775471, "question_id": 56775251, "link": "https://stackoverflow.com/questions/56775251/app-crashing-while-using-camerakit-with-kotlin/56775471#56775471", "title": "App crashing while using CameraKit with Kotlin", "body": "<p>You need to initialise the the camera kit view.</p>\n\n<p>doing this in kotlin:</p>\n\n<pre><code>var string : String\n</code></pre>\n\n<p>Isn't me initialising a string, its just strongly typing or defining the variable.</p>\n\n<p>You need to tell your cameraKitView what its referring to.</p>\n\n<p>For example if your XML looks like this:</p>\n\n<pre><code>&lt;com.camerakit.CameraKitView\n        android:id=\"@+id/cv_cameraview\"\n        android:keepScreenOn=\"true\"\n        app:camera_facing=\"back\"\n        app:camera_flash=\"auto\"\n        app:camera_focus=\"continuous\"\n        app:camera_permissions=\"camera\"&gt;\n&lt;/com.camerakit.CameraKitView&gt;\n</code></pre>\n\n<p>In your class you need to do this in your oncreate: </p>\n\n<p>also from my personal experience don't forget the rest of the lifecycle:</p>\n\n<pre><code>private lateinit var cameraKitView: CameraKitView\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_punch)\n\n    cameraKitView = cv_camerkit\n\n}\n\noverride fun onStart() {\n    super.onStart()\n    cameraKitView.onStart()\n\n}\n\noverride fun onResume() {\n    super.onResume()\n    cameraKitView.onResume()\n\n}\n\npublic override fun onPause() {\n    cameraKitView.onPause()\n    super.onPause()\n}\n\noverride fun onStop() {\n    cameraKitView.onStop()\n    super.onStop()\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 7525187, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/QCjF0.jpg?s=128&g=1", "display_name": "YaddyVirus", "link": "https://stackoverflow.com/users/7525187/yaddyvirus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1561560660, "creation_date": 1561559543, "last_edit_date": 1561560124, "question_id": 56775251, "link": "https://stackoverflow.com/questions/56775251/app-crashing-while-using-camerakit-with-kotlin", "title": "App crashing while using CameraKit with Kotlin", "body": "<p>I've been trying to implement CameraKit in my app using Kotlin. I was following <a href=\"https://medium.com/camerakit/getting-started-with-camerakit-v1-0-0-beta1-3fee6d108e5f\" rel=\"nofollow noreferrer\">this</a> tutorial. It's written in Java so I was converting it to Kotlin.</p>\n\n<p>Here's the main_activity.java from the tutorial:</p>\n\n<pre><code>import com.camerakit.CameraKitView;\npublic class MainActivity extends AppCompatActivity {\n\n    private CameraKitView cameraKitView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        cameraKitView = findViewById(R.id.camera);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        cameraKitView.onResume();\n    }\n\n    @Override\n    protected void onPause() {\n        cameraKitView.onPause();\n        super.onPause();\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        cameraKitView.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n}\n</code></pre>\n\n<p>Here's my cameraScreen.kt file, the Kotlin equivalent to above code:</p>\n\n<pre><code>package com.example.testapp\nimport com.camerakit.CameraKitView\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\n\n\nclass cameraScreen : AppCompatActivity() {\n\n    private var cameraKitView:CameraKitView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_camera_screen)\n        cameraKitView = findViewById(R.id.camera)\n    }\n\n    override fun onResume() {\n        super.onResume()\n        cameraKitView.onResume()\n    }\n\n    override fun onPause() {\n        super.onPause()\n        cameraKitView.onPause()\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        cameraKitView.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    }\n}\n</code></pre>\n\n<p>I'm getting this error on my <code>private var cameraKitView:CameraKitView</code> line</p>\n\n<blockquote>\n  <p>Property must be initialised or be abstract</p>\n</blockquote>\n\n<p>Here's what I've tried so far</p>\n\n<ul>\n<li>Tried using <code>lateinit</code> - app crashed</li>\n<li>Tried using <code>abstract</code> - app crashed</li>\n<li>Tried putting the line in an <code>init{...}</code> block. Then the lower functions can't see it.</li>\n</ul>\n\n<p>Keep in mind that all this camera stuff is in another activity which I'm linking to my main activity using a button. If I remove everything in the cameraScreen.kt file, the activity switches fine, so I don't think the issue is there.</p>\n\n<p>How do I solve this?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "rx-java2", "okhttp3"], "answers": [{"comments": [{"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1561563228, "post_id": 56775510, "comment_id": 100108237, "body": "Thx for your answer which is working but I still have a problem if you could see my EDIT, please :)"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1561564179, "post_id": 56775510, "comment_id": 100108802, "body": "it would be interesting to check why the first solution gives you a 400 Bad Request, but that would require debugging or at least adding an interceptor to log your request. My guess is that you may have forgotten a <code>@Body</code> annotation just before the argument in <code>getUserLogin</code> method (where you had <code>@Field</code> in your previous example), as that will tell Retrofit to use that parameter as the request body for your call. I wouldn&#39;t bet money on that, though :-)"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1561564550, "post_id": 56775510, "comment_id": 100108967, "body": "Nop. I already have put <code>@Body</code> before my argument :) Check the new EDIT"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 1, "creation_date": 1561564808, "post_id": 56775510, "comment_id": 100109115, "body": "I have debugged and I have <code>Content-Type: text&#47;plain; charset=utf-8</code> for my body. How can I change it as <code>application&#47;json</code> ? I already have put for my <code>header</code> but it doesn&#39;t affect the <code>Body</code>."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1561565643, "post_id": 56775510, "comment_id": 100109565, "body": "The reason why you get <code>text&#47;plain; charset=utf-8</code> is that your method accepts a <code>String</code> and it gets converted to a <code>RequestBody</code> (i.e., the only thing the library understands and can send as a request payload) by the default <code>ScalarConverter</code>. That converts Strings and primitive types to text and sets that specific content type, regardless of your annotation. Solution is to either create/use a custom converter (e.g., GsonConverter) or directly create a <code>RequestBody</code> as you did. Note that converter creates a <code>RequestBody</code> anyway under the hood, so the second solution would be easier"}, {"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 1, "creation_date": 1561565814, "post_id": 56775510, "comment_id": 100109640, "body": "Ok so I will keep that haha thank you for the explanation and unblocked me!"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 2, "last_activity_date": 1561560380, "creation_date": 1561560380, "answer_id": 56775510, "question_id": 56774986, "link": "https://stackoverflow.com/questions/56774986/android-kotlin-retrofit2-adapter-rxjava2-httpexception-http-415-unsupported-med/56775510#56775510", "title": "Android/Kotlin retrofit2.adapter.rxjava2.HttpException: HTTP 415 Unsupported Media Type", "body": "<p>Status code 4xx means that there's an error in the request sent by the client; in this specific case 415 means that the Content-Type of your request is not supported by the server.</p>\n\n<p>Checking the URL you provided in your code, the server is expecting an <code>application/json-patch+json</code> MIME type, but you're providing <code>application/x-www-form-urlencoded</code> instead (that's what the <code>@FormUrlEncoded</code> annotation is for).</p>\n\n<p>To fix the issue you should change <code>getUserLogin</code> method to use the appropriate Content-Type (see <a href=\"https://stackoverflow.com/a/35765674/2340612\">this answer</a>) and to send the appropriate JSON payload (see <a href=\"https://stackoverflow.com/questions/50027472/retrofit-sending-json\">this answer</a>, which also tells you how to set a custom header).</p>\n"}], "owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1431, "favorite_count": 0, "accepted_answer_id": 56775510, "answer_count": 1, "score": 0, "last_activity_date": 1561564493, "creation_date": 1561558671, "last_edit_date": 1561564493, "question_id": 56774986, "link": "https://stackoverflow.com/questions/56774986/android-kotlin-retrofit2-adapter-rxjava2-httpexception-http-415-unsupported-med", "title": "Android/Kotlin retrofit2.adapter.rxjava2.HttpException: HTTP 415 Unsupported Media Type", "body": "<p>I'm just beginning with <code>Retrofit</code> and I got this error when I'm just trying to make a simple <code>POST request</code></p>\n\n<blockquote>\n  <p>retrofit2.adapter.rxjava2.HttpException: HTTP 415 Unsupported Media\n  Type</p>\n</blockquote>\n\n<p>I don't know at all where is the mistake.<br>\nI have followed this <a href=\"https://www.androidhive.info/RxJava/android-rxjava-networking-with-retrofit-gson-notes-app/\" rel=\"nofollow noreferrer\">tutorial</a> to implement <code>Retrofit</code> and <code>RxJava</code>.  </p>\n\n<p>There is my <code>RetrofitClient</code> implementing my <code>OkHttpClient</code>:  </p>\n\n<pre><code>object RetrofitClient {\n\n    private const val CONNECTION_TIMEOUT: Long = 60\n    private val BASE_URL = \"https://pictalio-dev.azurewebsites.net/api/\"\n\n    private var retrofit: Retrofit? = null\n\n\n    fun getClient(token: String): Retrofit {\n        if (retrofit == null) {\n            retrofit = Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .client(getOkHttpClient(token))\n                    .build()\n        }\n        return retrofit!!\n    }\n\n    private fun getOkHttpClient(token: String): OkHttpClient {\n        val okClientBuilder = OkHttpClient.Builder()\n        val httpLoggingInterceptor = HttpLoggingInterceptor()\n        okClientBuilder.addInterceptor { chain -&gt;\n            val original = chain.request()\n\n            val requestBuilder = original.newBuilder()\n                    .header(\"Authorization\", token)\n\n            val request = requestBuilder.build()\n            chain.proceed(request)\n        }\n        httpLoggingInterceptor.level = HttpLoggingInterceptor.Level.BASIC\n        okClientBuilder.addInterceptor(httpLoggingInterceptor)\n        okClientBuilder.connectTimeout(CONNECTION_TIMEOUT, TimeUnit.SECONDS)\n        okClientBuilder.readTimeout(CONNECTION_TIMEOUT, TimeUnit.SECONDS)\n        okClientBuilder.writeTimeout(CONNECTION_TIMEOUT, TimeUnit.SECONDS)\n        return okClientBuilder.build()\n    }\n}\n</code></pre>\n\n<p>There is my <code>ApiService</code>:  </p>\n\n<pre><code>interface ApiService {\n    @FormUrlEncoded\n    @POST(\"account/login\")\n    fun getUserLogin(\n            @Field(\"email\") email: String,\n            @Field(\"password\") password: String\n    ): Single&lt;User&gt;\n}\n</code></pre>\n\n<p>There is how I call and treat my request's return:  </p>\n\n<pre><code>class SignInActivity : AppCompatActivity(), View.OnClickListener, RequestSignIn.sendDataResponse, RequestGetUser.sendDataResponse {\n\n    private var user: User? = null\n    private var pDialog: SweetAlertDialog? = null\n    lateinit var emailEditText: EditText\n    lateinit var passwordEditText: EditText\n    var persistentUser: PersistentUser? = null\n    //Initialization of disposable\n    private val disposable = CompositeDisposable()\n\n    private lateinit var apiService: ApiService\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.signin_activity)\n\n        emailEditText = findViewById(R.id.email)\n        passwordEditText = findViewById(R.id.password)\n        //Initialization of apiService\n        apiService = RetrofitClient.getClient(\"\").create(ApiService::class.java)\n    }\n\n    override fun onClick(v: View) {\n        val email: EditText\n        val password: EditText\n\n        email = findViewById(R.id.email)\n        password = findViewById(R.id.password)\n            R.id.login -&gt; {\n                if (Tools.isValidEmail(email.text.toString())) {\n          disposable.add(apiService.getUserLogin(email.text.toString(), password.text.toString())\n                            .subscribeOn(Schedulers.io())\n                            .observeOn(AndroidSchedulers.mainThread())\n                            .subscribe({ user -&gt;\n                                pDialog!!.dismissWithAnimation()\n                                Log.e(\"USER\", \"token: \" + user.token)\n\n                            }, Throwable::printStackTrace)\n                    )\n                } else {\n                    Toast.makeText(this@SignInActivity, getString(R.string.enter_valid_email), Toast.LENGTH_SHORT).show()\n                    //emailnotvalid\n                }\n            }\n        }\n\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        disposable.dispose()\n    }\n}\n</code></pre>\n\n<p>Any kind of help would be appreciated.</p>\n\n<p><strong>EDIT :</strong><br>\nI have removed <code>@FormUrlEncoded</code> and add <code>.header(\"Content-Type\", \"application/json\")</code><br>\nand I'm sending now a <code>JSONObject</code> as <code>Body</code> as follows :  </p>\n\n<pre><code>disposable.add(apiService.getUserLogin(JSONObject(map)))  \n</code></pre>\n\n<p>But I have a <code>400 BAD REQUEST</code> from my server.<br>\nI even added <code>ScalarsConverter</code> to my <code>RetrofitClient</code>. </p>\n\n<pre><code>.addConverterFactory(ScalarsConverterFactory.create())\n</code></pre>\n\n<p>So I have tried with a <code>RequestBody</code> as follows  </p>\n\n<pre><code>fun getUserLogin(@Body requestBody: String): Single&lt;User&gt;\ndisposable.add(apiService.getUserLogin(RequestBody.create(MediaType.parse(\"application/json\"), JSONObject(map).toString())) . \n</code></pre>\n\n<p>and it worked as well! How can I simply send a <code>JSONObject</code> instead of every time create a <code>RequestBody</code>?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1561558010, "post_id": 56774721, "comment_id": 100104927, "body": "probably duplicated: <a href=\"https://stackoverflow.com/questions/43814616/kotlin-difference-between-object-and-companion-object-in-a-class\" title=\"kotlin difference between object and companion object in a class\">stackoverflow.com/questions/43814616/&hellip;</a>"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1561558177, "post_id": 56774721, "comment_id": 100105037, "body": "Also, learn how to read the bytecode, and therefore observe the differences between each: <a href=\"https://stackoverflow.com/a/35538539/2684\">stackoverflow.com/a/35538539/2684</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": true, "score": 2, "last_activity_date": 1561558072, "creation_date": 1561558072, "answer_id": 56774792, "question_id": 56774721, "link": "https://stackoverflow.com/questions/56774721/which-is-static-and-which-is-singleton-in-kotlin/56774792#56774792", "title": "Which is static and which is singleton in kotlin?", "body": "<p>From official Kotlin <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><strong>Object declarations</strong></p>\n  \n  <p>If you need a singleton - a class that only has got one instance - you\n  can declare the class in the usual way, but use the object keyword\n  instead of class</p>\n  \n  <p><strong>Companion objects</strong></p>\n  \n  <p>If you need a function or a property to be tied to a class rather than\n  to instances of it (similar to @staticmethod in Python), you can\n  declare it inside a companion object</p>\n</blockquote>\n"}], "owner": {"reputation": 787, "user_id": 3500826, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/0afc29a0713d84183ea3594f21717101?s=128&d=identicon&r=PG&f=1", "display_name": "Star", "link": "https://stackoverflow.com/users/3500826/star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 56774792, "answer_count": 1, "score": 0, "last_activity_date": 1561558224, "creation_date": 1561557855, "last_edit_date": 1561558224, "question_id": 56774721, "link": "https://stackoverflow.com/questions/56774721/which-is-static-and-which-is-singleton-in-kotlin", "title": "Which is static and which is singleton in kotlin?", "body": "<p>Type 1: </p>\n\n<pre><code>class TestExample {\n      object Bell {\n       fun  add(){\n\n       }\n   }\n\n Class B{\n  TestExample.Bell.add()\n}\n</code></pre>\n\n<p>Type 2:</p>\n\n<pre><code>class TestExample {\n      companion object Bell {\n       fun  add(){\n\n       }\n   }\n\n\n\nClass B{\nTestExample.add()\n }\n</code></pre>\n\n<p>In this type 1 and type 2, which is static example and which is singleton example? Both behaves similar behavior right? </p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 1, "user_id": 11705684, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IXaI4G7TFrc/AAAAAAAAAAI/AAAAAAAAAA0/tK7rHVJzuos/photo.jpg?sz=128", "display_name": "Sierra Obryan", "link": "https://stackoverflow.com/users/11705684/sierra-obryan"}, "edited": false, "score": 0, "creation_date": 1561591427, "post_id": 56774602, "comment_id": 100119002, "body": "<a href=\"https://stackoverflow.com/questions/14733566/how-to-run-kotlin-class-from-the-command-line\" title=\"how to run kotlin class from the command line\">stackoverflow.com/questions/14733566/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 11705684, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IXaI4G7TFrc/AAAAAAAAAAI/AAAAAAAAAA0/tK7rHVJzuos/photo.jpg?sz=128", "display_name": "Sierra Obryan", "link": "https://stackoverflow.com/users/11705684/sierra-obryan"}, "edited": false, "score": 0, "creation_date": 1561591506, "post_id": 56774602, "comment_id": 100119024, "body": "Check out this link: <a href=\"https://stackoverflow.com/questions/14733566/how-to-run-kotlin-class-from-the-command-line\" title=\"how to run kotlin class from the command line\">stackoverflow.com/questions/14733566/&hellip;</a>"}, {"owner": {"reputation": 2928, "user_id": 7747942, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5jXKyAbmi_M/AAAAAAAAAAI/AAAAAAAAAFQ/AewmU0ev_68/photo.jpg?sz=128", "display_name": "Sylhare", "link": "https://stackoverflow.com/users/7747942/sylhare"}, "edited": false, "score": 0, "creation_date": 1587582424, "post_id": 56774602, "comment_id": 108571706, "body": "Example <code>build.gradle.kts</code> to build your <code>.jar</code> with gradle: <a href=\"https://stackoverflow.com/a/61373175/7747942\">stackoverflow.com/a/61373175/7747942</a>"}], "owner": {"reputation": 4250, "user_id": 2804362, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/MVxXV.jpg?s=128&g=1", "display_name": "iam batman", "link": "https://stackoverflow.com/users/2804362/iam-batman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "closed_date": 1587722055, "answer_count": 0, "score": 1, "last_activity_date": 1561557500, "creation_date": 1561557500, "question_id": 56774602, "link": "https://stackoverflow.com/questions/56774602/kotlinno-main-manifest-attribute-in-sample-jar", "closed_reason": "Duplicate", "title": "Kotlin:no main manifest attribute, in sample.jar", "body": "<p>I am just started to learn kotlin from the official doc</p>\n\n<p>1.created a file named sample.kt with the following</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){  \n    println(\"test\")\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>In order to execute</p>\n\n<p>kotlinc sample.kt -include-runtime -d sample.jar &amp;&amp; java -jar sample.jar</p></li>\n</ol>\n\n<p>But I am getting an error like this</p>\n\n<blockquote>\n  <p>no main manifest attribute, in sample.jar</p>\n</blockquote>\n\n<p>I found similar issues related to this but I can't find anything related to kotlin all of them related to java </p>\n"}, {"tags": ["android", "kotlin", "androidx", "android-jetpack", "android-jetpack-navigation"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 11, "last_activity_date": 1561557953, "creation_date": 1561557953, "answer_id": 56774757, "question_id": 56774596, "link": "https://stackoverflow.com/questions/56774596/androidx-navigation-fragment-navhostfragment-is-not-accessible-from-xml-file/56774757#56774757", "title": "androidx.navigation.fragment.NavHostFragment is not accessible from xml file", "body": "<p>The error is in <code>@navigation/mobile_navigation</code>. You have to define a fragment as <code>app:startDestination</code> on your <code>&lt;navigation&gt;</code>.</p>\n\n<blockquote>\n<pre><code>Caused by: java.lang.IllegalStateException: no start destination defined via app:startDestination for com.example.upgrade:id/mobile_navigation\n</code></pre>\n</blockquote>\n\n<pre><code>&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/mobile_navigation\"\n    app:startDestination=\"@id/rootFragment\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/rootFragment\"\n        .../&gt;\n&lt;/navigation&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15131978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhTEsInZr0sZh0SGRcD2yU5wY2iomKuVNnGiJi9_A=k-s128", "display_name": "Rajan Vishwakarma", "link": "https://stackoverflow.com/users/15131978/rajan-vishwakarma"}, "is_accepted": false, "score": 0, "last_activity_date": 1612290971, "last_edit_date": 1612290971, "creation_date": 1612286929, "answer_id": 66014673, "question_id": 56774596, "link": "https://stackoverflow.com/questions/56774596/androidx-navigation-fragment-navhostfragment-is-not-accessible-from-xml-file/66014673#66014673", "title": "androidx.navigation.fragment.NavHostFragment is not accessible from xml file", "body": "<p><strong><code>NavHostFragment</code></strong> is not accessible?</p>\n<pre><code>android:name=&quot;androidx.navigation.fragment.NavHostFragment\n</code></pre>\n<p>So in your <code>build.gradle</code>, just add this two dependencies -</p>\n<p>For Java:-</p>\n<pre><code>dependencies {\ndef nav_version = &quot;2.3.0&quot;\n\nimplementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\nimplementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n\n}\n</code></pre>\n<p>For Kotlin:-</p>\n<pre><code>dependencies {\ndef nav_version = &quot;2.3.0&quot;\n\nimplementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\nimplementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n}\n</code></pre>\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/navigation\" rel=\"nofollow noreferrer\">Reference Link</a></p>\n"}], "owner": {"reputation": 21, "user_id": 11703495, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kDIkGVNlSKw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcUS7To_tNcpOIENVsrhgPt4V0BUw/photo.jpg?sz=128", "display_name": "\u0410\u0437\u0430\u043c\u0430\u0442 \u0410\u043b\u043c\u0430\u0437\u0431\u0435\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/11703495/%d0%90%d0%b7%d0%b0%d0%bc%d0%b0%d1%82-%d0%90%d0%bb%d0%bc%d0%b0%d0%b7%d0%b1%d0%b5%d0%ba%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6107, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1612290971, "creation_date": 1561557485, "last_edit_date": 1572961098, "question_id": 56774596, "link": "https://stackoverflow.com/questions/56774596/androidx-navigation-fragment-navhostfragment-is-not-accessible-from-xml-file", "title": "androidx.navigation.fragment.NavHostFragment is not accessible from xml file", "body": "<p>I am trying to use androidx navigation with bottom navigation view.So when i put fragment with android:name = \"androidx.navigation.fragment.NavHostFragment\" in xml file it gives me an error. I guess that xml doesn't see this library or this Fragment</p>\n\n<pre><code>Here is xml file :\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".weather.WeatherActivity\"\n        android:orientation=\"vertical\"\n        android:weightSum=\"10\"\n&gt;\n    &lt;androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/w_toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/colorPrimary\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\"\n            android:theme=\"@style/ToolbarColoredBackArrow\"\n    /&gt;\n        &lt;fragment\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"\n                android:layout_weight=\"9.6\"\n                android:id=\"@+id/nav_host_fragment\"\n                app:defaultNavHost = \"true\"\n                app:navGraph = \"@navigation/mobile_navigation\"\n                android:name=\"androidx.navigation.fragment.NavHostFragment\"\n                  /&gt;\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n                android:id=\"@+id/bottom_nav\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"0.4\"\n                app:menu=\"@menu/bottom_nav\"\n        &gt;\n\n        &lt;/com.google.android.material.bottomnavigation.BottomNavigationView&gt;\n\n&lt;/LinearLayout&gt;\n\n\nActivity class:\nclass WeatherActivity : AppCompatActivity() {\n    private lateinit var navController: NavController\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(com.example.upgrade.R.layout.activity_weather)\n        val toolbar: Toolbar = findViewById(com.example.upgrade.R.id.w_toolbar)\n        setSupportActionBar(toolbar)\n\n        navController = Navigation.findNavController(this, com.example.upgrade.R.id.nav_host_fragment)\n        bottom_nav.setupWithNavController(navController)\n        NavigationUI.setupActionBarWithNavController(this,navController)\n\n    }\n\n    override fun onSupportNavigateUp(): Boolean {\n        return NavigationUI.navigateUp(null,navController)\n    }\n}\n</code></pre>\n\n<p>Navigation xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n            android:id=\"@+id/mobile_navigation\"\n            xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n    &lt;fragment\n            android:id=\"@+id/tab1\"\n            android:name=\"com.example.upgrade.weather.current_weather.CurrentWeatherFragment\"\n            android:label=\"Today's weather\"\n            tools:layout=\"@layout/current_weather_fragment\"&gt;\n    &lt;/fragment&gt;\n\n\n\n    &lt;fragment\n            android:id=\"@+id/tab2\"\n            android:name=\"com.example.upgrade.weather.future_weather.list.FutureWeatherFragment\"\n            android:label=\"Forecast For Seven Days\"\n            tools:layout=\"@layout/future_weather_fragment\"/&gt;\n\n    &lt;fragment\n            android:id=\"@+id/tab3\"\n            android:name=\"com.example.upgrade.weather.settings.WeatherSettings\"\n            android:label=\"Settings\"\n            tools:layout=\"@layout/weather_settings_fragment\"/&gt;\n&lt;/navigation&gt;\n\nso it gives an error like this:\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.upgrade, PID: 19046\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.upgrade/com.example.upgrade.weather.WeatherActivity}: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class fragment\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2747)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2808)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1541)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:165)\n        at android.app.ActivityThread.main(ActivityThread.java:6375)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:802)\n     Caused by: android.view.InflateException: Binary XML file line #20: Binary XML file line #20: Error inflating class fragment\n     Caused by: android.view.InflateException: Binary XML file line #20: Error inflating class fragment\n     Caused by: java.lang.IllegalStateException: no start destination defined via app:startDestination for com.example.upgrade:id/mobile_navigation\n        at androidx.navigation.NavGraphNavigator.navigate(NavGraphNavigator.java:59)\n        at androidx.navigation.NavGraphNavigator.navigate(NavGraphNavigator.java:28)\n        at androidx.navigation.NavDestination.navigate(NavDestination.java:341)\n        at androidx.navigation.NavController.onGraphCreated(NavController.java:412)\n        at androidx.navigation.NavController.setGraph(NavController.java:376)\n        at androidx.navigation.fragment.NavHostFragment.onCreate(NavHostFragment.java:216)\n        at androidx.fragment.app.Fragment.performCreate(Fragment.java:2414)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1418)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1684)\n        at androidx.fragment.app.FragmentManagerImpl.addFragment(FragmentManager.java:1930)\n        at androidx.fragment.app.FragmentManagerImpl.onCreateView(FragmentManager.java:3745)\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:120)\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:405)\n        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:387)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:802)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:752)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:883)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:846)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:522)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:430)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:377)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:469)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:140)\n        at com.example.upgrade.weather.WeatherActivity.onCreate(WeatherActivity.kt:22)\n        at android.app.Activity.performCreate(Activity.java:6845)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1119)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2700)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2808)\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1541)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:165)\n        at android.app.ActivityThread.main(ActivityThread.java:6375)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)\n        at \n</code></pre>\n\n<p>com.android.internal.os.ZygoteInit.main(ZygoteInit.java:802)</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "answers": [{"tags": [], "owner": {"reputation": 2367, "user_id": 3100601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf267dc04bdbe5b7d8359e54e8fa8ea?s=128&d=identicon&r=PG&f=1", "display_name": "ror", "link": "https://stackoverflow.com/users/3100601/ror"}, "is_accepted": false, "score": 0, "last_activity_date": 1562049048, "creation_date": 1562049048, "answer_id": 56846554, "question_id": 56773284, "link": "https://stackoverflow.com/questions/56773284/room-query-find-within-list-is-always-returning-null/56846554#56846554", "title": "Room Query: find within list is always returning null", "body": "<p>Just by reviewing your code, I think you're doing <code>userDao.getForPost(id)</code> but likely you should be doing <code>userDao.getForPost(\"%\"+id+\"%\")</code></p>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 1725347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D7VoR.jpg?s=128&g=1", "display_name": "wax911", "link": "https://stackoverflow.com/users/1725347/wax911"}, "is_accepted": false, "score": 1, "last_activity_date": 1567422042, "creation_date": 1567422042, "answer_id": 57755793, "question_id": 56773284, "link": "https://stackoverflow.com/questions/56773284/room-query-find-within-list-is-always-returning-null/57755793#57755793", "title": "Room Query: find within list is always returning null", "body": "<p>From what I can tell you seem to be using the <strong><code>LIKE</code></strong><em>(wildcard search)</em> instead of <strong><code>=</code></strong><em>(exact match)</em> operator:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Dao\n    interface UserDao {\n\n        @Query(\"SELECT * FROM user WHERE postsIds = :id\")\n        fun getForPost(id: String): List&lt;User&gt;\n\n        // some other queries\n    }\n</code></pre>\n\n<p>Now I'm sure you have your own use cases for doing that. When using <strong>Room 1.1.1+</strong> you need to add a wildcard <strong>%</strong> to your <strong><code>LIKE</code></strong> operator as follows otherwise it might not work:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Dao\n    interface UserDao {\n\n        @Query(\"SELECT * FROM user WHERE postsIds LIKE `%` || :id || `%`\")\n        fun getForPost(id: String): List&lt;User&gt;\n\n        // some other queries\n    }\n</code></pre>\n\n<blockquote>\n  <p><strong>N.B:</strong> <code>|| is concatenation operator</code> and <code>% wildcard</code> read up on\n  <a href=\"https://www.javatpoint.com/sqlite-like-clause\" rel=\"nofollow noreferrer\">SQLite wildcards</a></p>\n  \n  <p>This would result in a search for anything that matches the provided <code>id</code>\n   <strong>a.k.a</strong>: <a href=\"http://infocenter.sybase.com/help/topic/com.sybase.help.sqlanywhere.12.0.1/dbusage/full-text-search-what-is-it.html\" rel=\"nofollow noreferrer\">Full Text Search</a>, if you only want to match anything starting with <code>id</code> then you'd do the following:</p>\n  \n  <pre class=\"lang-java prettyprint-override\"><code>   @Dao\n   interface UserDao {\n\n       @Query(\"SELECT * FROM user WHERE postsIds LIKE :id || `%`\")\n       fun getForPost(id: String): List&lt;User&gt;\n\n       // some other queries\n}\n</code></pre>\n</blockquote>\n\n<p>Just another hint, if you really want to use <strong>Full Text Search</strong> with Room then i'd suggest you update to <strong>v2.1</strong> which added <a href=\"https://developer.android.com/reference/androidx/room/Fts4\" rel=\"nofollow noreferrer\">FTS4</a> support, and here's a nice detailed read on <a href=\"https://medium.com/@sienatime/enabling-sqlite-fts-in-room-2-1-75e17d0f0ff8\" rel=\"nofollow noreferrer\">Medium</a> </p>\n"}], "owner": {"reputation": 599, "user_id": 4809922, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MzPAPTL5unc/AAAAAAAAAAI/AAAAAAAAI1M/Mb1F9-SlVe8/photo.jpg?sz=128", "display_name": "Eliza Camber", "link": "https://stackoverflow.com/users/4809922/eliza-camber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1567422042, "creation_date": 1561553489, "last_edit_date": 1561560782, "question_id": 56773284, "link": "https://stackoverflow.com/questions/56773284/room-query-find-within-list-is-always-returning-null", "title": "Room Query: find within list is always returning null", "body": "<p>I have an entity where one of the fields is a MutableList. I want to return all the user ids that contain the given ID in that list. The query always return an empty list. If I open the database though I can see that the fields are stored properly and that there are user IDs to be returned. What am I doing wrong?  </p>\n\n<p>Data class:</p>\n\n<pre><code>@Entity\ndata class User(\n  @PrimaryKey\n  @SerializedName(\"id\")\n  @ColumnInfo(name = \"userId\")\n  var userId: String,\n  @SerializedName(\"username\")\n  var userName: String = \"\",\n  var city: String = \"\",\n  var postsIds: MutableList&lt;String&gt;\n)\n</code></pre>\n\n<p>Dao: </p>\n\n<pre><code>@Dao\ninterface UserDao {\n   @Query(\"SELECT * FROM user WHERE postsIds LIKE :id\")\n   fun getForPost(id: String): List&lt;User&gt;\n\n// some other queries\n}\n</code></pre>\n\n<p>Repository: </p>\n\n<pre><code>fun getUsersForPost(id: String): LiveData&lt;List&lt;User&gt;&gt; {\n        val data = MutableLiveData&lt;List&lt;User&gt;&gt;()\n        GlobalScope.launch {\n            val query = async(Dispatchers.IO) { userDao.getForPost(id) }\n            val result = query.await()\n            if (result.isNullOrEmpty()) {\n                // todo fetch from the API\n            } else {\n                data.postValue(result)\n            }\n        }\n        return data\n    }\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>ViewModel: \n\nfun getPost(id: String): Post {\n  val post = repository.getPost(id)\n  _postEditors.value = repository.getUsersForPost(id).value\n  return post\n}\n\nFragment: \n\nviewModel.postEditors.observe(this, Observer { \n  Log.d(TAG, $it)\n})\n\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 486, "user_id": 7522720, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/4LHp6.jpg?s=128&g=1", "display_name": "007", "link": "https://stackoverflow.com/users/7522720/007"}, "edited": false, "score": 0, "creation_date": 1561553401, "post_id": 56773238, "comment_id": 100101961, "body": "elaborate.... your question"}, {"owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "edited": false, "score": 1, "creation_date": 1561553560, "post_id": 56773238, "comment_id": 100102045, "body": "This shows no intent and research at all."}], "answers": [{"tags": [], "owner": {"reputation": 486, "user_id": 7522720, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/4LHp6.jpg?s=128&g=1", "display_name": "007", "link": "https://stackoverflow.com/users/7522720/007"}, "is_accepted": false, "score": 4, "last_activity_date": 1561554539, "last_edit_date": 1561554539, "creation_date": 1561553516, "answer_id": 56773292, "question_id": 56773238, "link": "https://stackoverflow.com/questions/56773238/how-to-make-my-mainactivity-appear-only-for-the-first-installation-in-kotlin/56773292#56773292", "title": "how to make my mainactivity appear only for the first installation in kotlin?", "body": "<p>Use Sharedprefernce and change the Sharedprefernce data after the first time appear. And bypass the activity or splash screen according to you need</p>\n\n<p>Eg :- save Boolean variable as <strong>false</strong> into <strong>Sharedpreference by default</strong>.\nAs soon as first time your splash screen runs change the Boolean to <strong>true</strong> and make  if else statement according to that Boolean. If Boolean contains true then bypass the splash screen or if Boolean contains false show the splash screen and change the Boolean to <strong>true</strong></p>\n\n<p>splashscreen.java</p>\n\n<p>into your onCreate method</p>\n\n<pre><code>   SharedPreferences prefs = getSharedPreferences(\"splash_screen_prefernce\", MODE_PRIVATE);\n        if(prefs.getBoolean(\"bypass_boolean\", false)){\n            Intent intent=new Intent(SplashScreen.this,MainActivity.class);\n            startActivity(intent);\n\n        }\n</code></pre>\n\n<p>write this line when your splash screen is completed \nand you want to move to next screen or activity</p>\n\n<pre><code>    SharedPreferences.Editor editor = getSharedPreferences(\"splash_screen_prefernce\", MODE_PRIVATE).edit();\n    editor.putBoolean(\"bypass_boolean\", true);\n    editor.apply();\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10767697, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T3WCKc2OEcE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jSnh3KXv16AdjCkbvwlZkVexF-3g/mo/photo.jpg?sz=128", "display_name": "Mhothasim ali", "link": "https://stackoverflow.com/users/10767697/mhothasim-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1561554539, "creation_date": 1561553332, "last_edit_date": 1561553736, "question_id": 56773238, "link": "https://stackoverflow.com/questions/56773238/how-to-make-my-mainactivity-appear-only-for-the-first-installation-in-kotlin", "title": "how to make my mainactivity appear only for the first installation in kotlin?", "body": "<p>I have some code to run in my main activity as a splashscreen how do I let that appear only for the first opening after installation</p>\n"}, {"tags": ["java", "android", "facebook", "android-intent", "kotlin"], "owner": {"reputation": 118, "user_id": 8302877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d5503de9872537257e1df5744053690?s=128&d=identicon&r=PG&f=1", "display_name": "Kashish-Chugh", "link": "https://stackoverflow.com/users/8302877/kashish-chugh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 379, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1561561078, "creation_date": 1561552029, "last_edit_date": 1561561078, "question_id": 56772813, "link": "https://stackoverflow.com/questions/56772813/open-complete-facebook-page-from-android-app-in-facebook-app", "title": "Open complete facebook page from android app in facebook app", "body": "<p>I want to open a Facebook page in Facebook app from my android app. The page is opening but does not look like complete Facebook page like it normally looks. It is not showing the profile image and cover image.</p>\n\n<p>I am using the following code to open the page.</p>\n\n<pre><code>        var uri = Uri.parse(url)\n        try {\n            val applicationInfo = pm.getApplicationInfo(\"com.facebook.katana\", 0)\n            if (applicationInfo.enabled) {\n                // http://stackoverflow.com/a/24547437/1048340\n                uri = Uri.parse(\"fb://facewebmodal/f?href=$url\")\n            }\n        } catch (ignored: PackageManager.NameNotFoundException) {\n        }\n\n        return Intent(Intent.ACTION_VIEW, uri)\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "onclick"], "comments": [{"owner": {"reputation": 434, "user_id": 10770362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xFAcC1LzLA0/AAAAAAAAAAI/AAAAAAAAd88/eL0piAnwp6I/photo.jpg?sz=128", "display_name": "Ensar Bayhan", "link": "https://stackoverflow.com/users/10770362/ensar-bayhan"}, "edited": false, "score": 0, "creation_date": 1561551632, "post_id": 56772508, "comment_id": 100100772, "body": "Your button doesn&#39;t have any id. Are you sure you&#39;re assign onClick listener to right button ?"}, {"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "reply_to_user": {"reputation": 434, "user_id": 10770362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xFAcC1LzLA0/AAAAAAAAAAI/AAAAAAAAd88/eL0piAnwp6I/photo.jpg?sz=128", "display_name": "Ensar Bayhan", "link": "https://stackoverflow.com/users/10770362/ensar-bayhan"}, "edited": false, "score": 0, "creation_date": 1561551737, "post_id": 56772508, "comment_id": 100100841, "body": "buttonVasko is the id (for now), I&#39;m assigning the onClick directly."}, {"owner": {"reputation": 1542, "user_id": 3580952, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PbPmU.jpg?s=128&g=1", "display_name": "parohy", "link": "https://stackoverflow.com/users/3580952/parohy"}, "edited": false, "score": 0, "creation_date": 1561551744, "post_id": 56772508, "comment_id": 100100850, "body": "This is a fragment or activity? Because on summary you say onCreate, but in code block you have onCreateView"}, {"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1561551811, "post_id": 56772508, "comment_id": 100100883, "body": "Yes it is a fragment. My mistake in the wording there. Will change it."}, {"owner": {"reputation": 434, "user_id": 10770362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xFAcC1LzLA0/AAAAAAAAAAI/AAAAAAAAd88/eL0piAnwp6I/photo.jpg?sz=128", "display_name": "Ensar Bayhan", "link": "https://stackoverflow.com/users/10770362/ensar-bayhan"}, "edited": false, "score": 0, "creation_date": 1561551880, "post_id": 56772508, "comment_id": 100100924, "body": "Can you try to assign onClick listener in onViewCreated function?"}, {"owner": {"reputation": 1542, "user_id": 3580952, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PbPmU.jpg?s=128&g=1", "display_name": "parohy", "link": "https://stackoverflow.com/users/3580952/parohy"}, "edited": false, "score": 0, "creation_date": 1561551907, "post_id": 56772508, "comment_id": 100100940, "body": "Ok. you need to look for the button on the fragment view. Its not same as activity which creates your bindings after you setContentView. So you have the <code>inflatedView.buttonVasko.setOnClickListener</code>"}, {"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1561552008, "post_id": 56772508, "comment_id": 100101016, "body": "There is no onViewCreated function. inflatedView is an unresloved reference."}, {"owner": {"reputation": 434, "user_id": 10770362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xFAcC1LzLA0/AAAAAAAAAAI/AAAAAAAAd88/eL0piAnwp6I/photo.jpg?sz=128", "display_name": "Ensar Bayhan", "link": "https://stackoverflow.com/users/10770362/ensar-bayhan"}, "edited": false, "score": 0, "creation_date": 1561552034, "post_id": 56772508, "comment_id": 100101038, "body": "Can you add your all fragment class?"}, {"owner": {"reputation": 3188, "user_id": 7372771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sESuU.png?s=128&g=1", "display_name": "akshay_shahane", "link": "https://stackoverflow.com/users/7372771/akshay-shahane"}, "edited": false, "score": 0, "creation_date": 1561552280, "post_id": 56772508, "comment_id": 100101211, "body": "you have not inflated layout"}, {"owner": {"reputation": 1542, "user_id": 3580952, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PbPmU.jpg?s=128&g=1", "display_name": "parohy", "link": "https://stackoverflow.com/users/3580952/parohy"}, "edited": false, "score": 0, "creation_date": 1561552281, "post_id": 56772508, "comment_id": 100101212, "body": "@VaskoVasilev I have edited my answer, please have a look"}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1561552474, "post_id": 56772508, "comment_id": 100101337, "body": "If nothing worked already I think it&#39;s better to paste your entire fragment code"}, {"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1561552593, "post_id": 56772508, "comment_id": 100101411, "body": "Entire fragment code is to share in a post. What is the best way to upload it as a file?"}, {"owner": {"reputation": 434, "user_id": 10770362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xFAcC1LzLA0/AAAAAAAAAAI/AAAAAAAAd88/eL0piAnwp6I/photo.jpg?sz=128", "display_name": "Ensar Bayhan", "link": "https://stackoverflow.com/users/10770362/ensar-bayhan"}, "edited": false, "score": 0, "creation_date": 1561552712, "post_id": 56772508, "comment_id": 100101500, "body": "You can just copy and paste"}, {"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1561552767, "post_id": 56772508, "comment_id": 100101542, "body": "It goes over the maximum character limit."}, {"owner": {"reputation": 434, "user_id": 10770362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xFAcC1LzLA0/AAAAAAAAAAI/AAAAAAAAd88/eL0piAnwp6I/photo.jpg?sz=128", "display_name": "Ensar Bayhan", "link": "https://stackoverflow.com/users/10770362/ensar-bayhan"}, "edited": false, "score": 0, "creation_date": 1561552885, "post_id": 56772508, "comment_id": 100101623, "body": "How long is your Fragment? :D You can shorten some parts."}], "answers": [{"comments": [{"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1561551571, "post_id": 56772588, "comment_id": 100100731, "body": "The same problem appears with this as well."}], "tags": [], "owner": {"reputation": 3188, "user_id": 7372771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sESuU.png?s=128&g=1", "display_name": "akshay_shahane", "link": "https://stackoverflow.com/users/7372771/akshay-shahane"}, "is_accepted": false, "score": 0, "last_activity_date": 1561551321, "creation_date": 1561551321, "answer_id": 56772588, "question_id": 56772508, "link": "https://stackoverflow.com/questions/56772508/cannot-assign-onclick-to-a-button-in-kotlin/56772588#56772588", "title": "Cannot assign onClick to a button in kotlin", "body": "<p>do it like this</p>\n\n<pre><code>    buttonVasko.setOnClickListener {\n       // your code\nToast.makeText(context,\"WORK!!!\", Toast.LENGTH_LONG).show()\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1561551459, "post_id": 56772607, "comment_id": 100100656, "body": "how does the second option differ from mine?"}, {"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1561551608, "post_id": 56772607, "comment_id": 100100758, "body": "This is wrong. You cannot override onClick inside a lambda"}, {"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1561552638, "post_id": 56772607, "comment_id": 100101444, "body": "This does not crash anymore, but the toast does not appear."}], "tags": [], "owner": {"reputation": 1542, "user_id": 3580952, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PbPmU.jpg?s=128&g=1", "display_name": "parohy", "link": "https://stackoverflow.com/users/3580952/parohy"}, "is_accepted": false, "score": -1, "last_activity_date": 1561552228, "last_edit_date": 1561552228, "creation_date": 1561551369, "answer_id": 56772607, "question_id": 56772508, "link": "https://stackoverflow.com/questions/56772508/cannot-assign-onclick-to-a-button-in-kotlin/56772607#56772607", "title": "Cannot assign onClick to a button in kotlin", "body": "<p>As from discussion and comments, I can see that you are using a fragment. Fragment does not behave same as activity, it does not bind views by id like activity does when you <code>setContentView</code>. In your <code>onCreateView</code> when you inflate your fragment view, you need to look for views within that view:</p>\n\n<pre><code> override fun onCreateView(\n    inflater: LayoutInflater,\n    container: ViewGroup?, savedInstanceState: Bundle?\n): View? {\n    val view = inflater.inflate(R.layout.fragment_view, container, false)\n    view.buttonVasko.setOnClickListener {\n        Toast.makeText(context, \"WORK!!!\", Toast.LENGTH_LONG).show()\n    }\n    return view\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1561553982, "post_id": 56773348, "comment_id": 100102312, "body": "Yup, this is what was needed. I didn&#39;t delete     import kotlinx.android.synthetic.main.folio_page_fragment.view.*. as it gave me an error."}], "tags": [], "owner": {"reputation": 434, "user_id": 10770362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xFAcC1LzLA0/AAAAAAAAAAI/AAAAAAAAd88/eL0piAnwp6I/photo.jpg?sz=128", "display_name": "Ensar Bayhan", "link": "https://stackoverflow.com/users/10770362/ensar-bayhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1561553704, "creation_date": 1561553704, "answer_id": 56773348, "question_id": 56772508, "link": "https://stackoverflow.com/questions/56772508/cannot-assign-onclick-to-a-button-in-kotlin/56773348#56773348", "title": "Cannot assign onClick to a button in kotlin", "body": "<p>You've already inflate your fragment as mRootView. You can set your onClick listener in onViewCreated. Here is the code</p>\n\n<pre><code> override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    view.findViewById&lt;Button&gt;(R.id.buttonVasko).setOnClickListener {\n\n    }\n}\n</code></pre>\n\n<p>And you should delete this static view imports.</p>\n\n<pre><code>import kotlinx.android.synthetic.main.folio_page_fragment.*\nimport kotlinx.android.synthetic.main.folio_page_fragment.view.*\n</code></pre>\n\n<p>Hope it will work.</p>\n"}], "owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 56773348, "answer_count": 3, "score": 0, "last_activity_date": 1561553704, "creation_date": 1561551056, "last_edit_date": 1561553176, "question_id": 56772508, "link": "https://stackoverflow.com/questions/56772508/cannot-assign-onclick-to-a-button-in-kotlin", "title": "Cannot assign onClick to a button in kotlin", "body": "<p>I am working on an android studio project which is partially built in kotlin and the rest in in java. I have never worked with kotlin before this project and currently I have found myself spending hours trying to implement a simple onclick to a button. I know this question has been asked a lot but most of the solutions I have tried do not work. </p>\n\n<p>here is my xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/folioPageFragment\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;FrameLayout\n    android:id=\"@+id/webViewLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_above=\"@+id/indicatorLayout\"&gt;\n\n    &lt;com.folioreader.ui.view.WebViewPager\n        android:id=\"@+id/webViewPager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;com.folioreader.ui.view.FolioWebView\n        android:id=\"@+id/folioWebView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/FrameLayout&gt;\n\n&lt;com.folioreader.ui.view.LoadingView\n    android:id=\"@+id/loadingView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:maxVisibleDuration=\"10000\"\n    tools:visibility=\"invisible\" &gt;\n&lt;/com.folioreader.ui.view.LoadingView&gt;\n\n&lt;com.folioreader.ui.view.VerticalSeekbar\n    android:id=\"@+id/scrollSeekbar\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:layout_above=\"@+id/indicatorLayout\"\n    android:layout_alignParentRight=\"true\"\n    android:layout_marginRight=\"2dp\"\n    android:animateLayoutChanges=\"true\"\n    android:thumb=\"@drawable/thumb\"\n    android:visibility=\"invisible\" /&gt;\n\n&lt;Button\n        android:text=\"Button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" tools:layout_editor_absoluteY=\"655dp\"\n        tools:layout_editor_absoluteX=\"161dp\"\n        android:id=\"@+id/buttonVasko\"\n        android:layout_marginTop=\"530dp\"\n        android:layout_marginLeft=\"150dp\"\n\n        android:layout_alignParentTop=\"true\" \n        android:layout_alignParentStart=\"true\"\n        android:layout_marginStart=\"0dp\"\n\n/&gt;\n&lt;LinearLayout\n    android:id=\"@+id/indicatorLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    android:gravity=\"center\"\n    android:orientation=\"horizontal\"\n    android:paddingTop=\"2dp\"\n    android:paddingBottom=\"2dp\"\n    android:visibility=\"gone\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/minutesLeft\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textColor=\"#888888\"\n        android:textSize=\"7sp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/pagesLeft\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textColor=\"#bbbbbb\"\n        android:textSize=\"8sp\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>this is the beginning of the onCreateView function: </p>\n\n<pre><code> override fun onCreateView(\n    inflater: LayoutInflater,\n    container: ViewGroup?, savedInstanceState: Bundle?\n): View? {\n\n    buttonVasko.setOnClickListener(object:View.OnClickListener {\n        override fun onClick(view:View) {\n            Toast.makeText(context,\"WORK!!!\", Toast.LENGTH_LONG).show()\n        }// end onClick\n    })\n</code></pre>\n\n<p>this is the error I receive when running the code:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.folioreader.android.sample, PID: 3862\njava.lang.IllegalStateException: Could not find method zoko(View) in a \nparent or ancestor Context for android:onClick attribute defined on view \nclass androidx.appcompat.widget.AppCompatButton with id 'buttonVasko'\n</code></pre>\n\n<p>I also tried placing the setOnClickListener at the very end in the onCreateView function in case there was a line of code that needed to be written before the setOnClickListener but the result is the same.</p>\n\n<p>Full FolioPageFragment is here:\n<a href=\"https://codeshare.io/5PlwDw\" rel=\"nofollow noreferrer\">https://codeshare.io/5PlwDw</a></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "adapter"], "comments": [{"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1561550004, "post_id": 56772077, "comment_id": 100099797, "body": "you should have a parameter in your api response to be able to differentiate"}, {"owner": {"reputation": 21, "user_id": 3112545, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001977218303/picture?type=large", "display_name": "user3112545", "link": "https://stackoverflow.com/users/3112545/user3112545"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1561550501, "post_id": 56772077, "comment_id": 100100053, "body": "but my json comes like: [ {group1: items: [ ], groupName: &quot;first&quot;}, { group2: items[], groupName: &quot;second&quot;}, ....] It&#39;s nested"}, {"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1561550790, "post_id": 56772077, "comment_id": 100100241, "body": "If it doesn&#39;t have the parameter, then ask with your api developer how to differentiate"}], "owner": {"reputation": 21, "user_id": 3112545, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001977218303/picture?type=large", "display_name": "user3112545", "link": "https://stackoverflow.com/users/3112545/user3112545"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1561556328, "creation_date": 1561549650, "last_edit_date": 1561556328, "question_id": 56772077, "link": "https://stackoverflow.com/questions/56772077/recyclerviewadapter-with-list-inside-of-list-grouping", "title": "RecyclerViewAdapter with list inside of list (grouping)", "body": "<p>(Kotlin-Android) \nI have a data class which is</p>\n\n<pre><code>data class ModelGroup(var teams: List&lt;Model&gt;, var groupName: String?)\n\ndata class Model(\n    var cook: Cook?\n)\n</code></pre>\n\n<p>I have a RecyclerView (gridLayoutManager) and each grid has a header (groupName).\nThose grids are the ModelGroups and those groups comes from a REST API.\nMy adapter receives a List.</p>\n\n<p>I also have two viewholders (1 for Header, 1 for Cook).</p>\n\n<p>The problem is how to know if its an header or an cook object  in getItemViewType and how to bind the cook object that is inside of a list.</p>\n\n<p>PS: I don't want to use any libraries!</p>\n\n<pre><code>class ModelGroupAdapter(\n    private val context: Context?,\n    private var modelGroups: List&lt;ModelGroup&gt;\n) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\nprivate var selectedItem: Int = -1\n\ncompanion object {\n    private const val HEADER_VIEW_TYPE = 0\n    private const val COOK_VIEW_TYPE = 1\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n    val headerViewHolder =\n        HeaderViewholder(LayoutInflater.from(parent.context).inflate(R.layout.item_shield_header, parent, false))\n    val shieldViewHolder =\n        CookViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.item_cook, parent, false))\n    return when (viewType) {\n        HEADER_VIEW_TYPE -&gt; headerViewHolder\n        COOK_VIEW_TYPE -&gt; cookViewHolder\n        else -&gt; headerViewHolder\n    }\n}\n\noverride fun getItemCount(): Int {\n    var count = 0\n    for (group in teamGroups) {\n        count += group.teams.size\n    }\n    return count + teamGroups.size\n}\n\noverride fun getItemViewType(position: Int): Int {\n    // how to know if its a header or a group.team.cook\n}\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    if (holder is CookViewHolder) {\n        context?.let {\n            holder.bind(\n                it,\n                position,\n                // how to get the current cook object by position?\n            )\n        }\n    } else if (holder is HeaderViewholder) {\n        context?.let { holder.bind(getHeaderText(position)) }\n    }\n}\n\n\ninner class HeaderViewholder(view: View) : RecyclerView.ViewHolder(view) {\n    private val title = view.findViewById&lt;TextView&gt;(R.id.item_shield_header_title)\n\n    fun bind(groupName: String) {\n        title.text = groupName\n    }\n}\n\ninner class CookViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n    private val image = view.findViewById&lt;ImageView&gt;(R.id.image_cook)\n\n    fun bind(context: Context, position: Int, cook: Cook?) {\n\n        }\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 116, "user_id": 10591056, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bNmO7Mmw9aM/AAAAAAAAAAI/AAAAAAAAAAo/PitACaeoM2Y/photo.jpg?sz=128", "display_name": "Ali Shahzil", "link": "https://stackoverflow.com/users/10591056/ali-shahzil"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1561563478, "post_id": 56771888, "comment_id": 100108373, "body": "hahahahah i&#39;m just want to know how to use stack overflow"}], "answers": [{"tags": [], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "is_accepted": true, "score": 1, "last_activity_date": 1561551357, "creation_date": 1561551357, "answer_id": 56772600, "question_id": 56771888, "link": "https://stackoverflow.com/questions/56771888/how-to-return-a-generic-data-type-temple-from-class-function/56772600#56772600", "title": "how to return a generic data type (Temple) from class function", "body": "<p>well, you are simply using wrong syntax</p>\n\n<pre><code>class di&lt;T&gt;(crea:T){\n    var h:T=crea\n    init{\n        println(\"your class is ready\")\n    }\n    fun diplay(): T{\n        return h\n    }\n}\nfun main (args:Array&lt;String&gt;){\n    var he2 =di(23)\n    println(he2.diplay())\n}\n</code></pre>\n"}], "owner": {"reputation": 116, "user_id": 10591056, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bNmO7Mmw9aM/AAAAAAAAAAI/AAAAAAAAAAo/PitACaeoM2Y/photo.jpg?sz=128", "display_name": "Ali Shahzil", "link": "https://stackoverflow.com/users/10591056/ali-shahzil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 56772600, "answer_count": 1, "score": 0, "last_activity_date": 1561553320, "creation_date": 1561548904, "last_edit_date": 1561553320, "question_id": 56771888, "link": "https://stackoverflow.com/questions/56771888/how-to-return-a-generic-data-type-temple-from-class-function", "title": "how to return a generic data type (Temple) from class function", "body": "<p>I want to return a value from class variable through a function using generic data type such temple but I don't know how to do that. </p>\n\n<p>i'm trying to use a template data type in function and return this value from function.</p>\n\n<pre><code>class di&lt;T&gt;(crea:T){\n    var h:T=crea\n    init{\n        println(\"your class is ready\")\n    }\n    fun diplay:&lt;T&gt;{\n        return h\n     }\n}\nfun main (args:Array&lt;String&gt;){\n    var he2 =di&lt;Int&gt;(23)\n    println(he.diplay())\n\n}\n</code></pre>\n\n<p>These type of errors are occurring.\nError:(6, 15) Kotlin: Expecting '('\nError:(7, 16) Kotlin: Type mismatch: inferred type is T but Unit was expected</p>\n"}, {"tags": ["android", "json", "parsing", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1561549195, "post_id": 56771957, "comment_id": 100099294, "body": "But I need to parse it into model object. How do I do that?"}, {"owner": {"reputation": 79, "user_id": 5165326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfbEt.png?s=128&g=1", "display_name": "Nikola Djokic", "link": "https://stackoverflow.com/users/5165326/nikola-djokic"}, "reply_to_user": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1561549377, "post_id": 56771957, "comment_id": 100099421, "body": "Do you need a solution that will work in both cases? One case where only the city name is in json and other when it can be a whole city object? Or you just want to make it work for json2?"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1561549516, "post_id": 56771957, "comment_id": 100099497, "body": "I want to parse json2 using Gson library so that address object will be assigned to address field of Model as a string."}], "tags": [], "owner": {"reputation": 79, "user_id": 5165326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfbEt.png?s=128&g=1", "display_name": "Nikola Djokic", "link": "https://stackoverflow.com/users/5165326/nikola-djokic"}, "is_accepted": false, "score": -1, "last_activity_date": 1561549262, "last_edit_date": 1561549262, "creation_date": 1561549129, "answer_id": 56771957, "question_id": 56771784, "link": "https://stackoverflow.com/questions/56771784/gson-how-to-parse-partial-json-in-kotlin/56771957#56771957", "title": "Gson - How to parse partial json in Kotlin", "body": "<p>If address is a valid json by it self then you can do this:</p>\n\n<pre><code>val jsonObject = JSONObject(jsonString)\nval address = jsonObject.optJSONObject(\"address\").toString()\n</code></pre>\n\n<p>If it is a string then </p>\n\n<pre><code>val address = jsonObject.optString(\"address\").toString()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 716, "user_id": 10456375, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_KmVRDXk2ss/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWJQr3beyv1mxpux2Cr02mkORqUDw/mo/photo.jpg?sz=128", "display_name": "Harsh Panchal", "link": "https://stackoverflow.com/users/10456375/harsh-panchal"}, "is_accepted": false, "score": 3, "last_activity_date": 1561550935, "creation_date": 1561550935, "answer_id": 56772473, "question_id": 56771784, "link": "https://stackoverflow.com/questions/56771784/gson-how-to-parse-partial-json-in-kotlin/56772473#56772473", "title": "Gson - How to parse partial json in Kotlin", "body": "<p>Did you try with the <code>Any</code>?</p>\n\n<pre><code>data class Model(var name: String? = null, var address: Any? = null) {\n\n    override fun toString(): String {\n        return \"name: $name address: $address\"\n    }\n}\n</code></pre>\n\n<p>Try with this, it will work.</p>\n\n<p>Have a good day. :)</p>\n"}, {"comments": [{"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1561644588, "post_id": 56779407, "comment_id": 100140329, "body": "Thanks a lot. It helps."}], "tags": [], "owner": {"reputation": 412, "user_id": 5699461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1atzB.png?s=128&g=1", "display_name": "MrPNG", "link": "https://stackoverflow.com/users/5699461/mrpng"}, "is_accepted": true, "score": 2, "last_activity_date": 1561575369, "creation_date": 1561575369, "answer_id": 56779407, "question_id": 56771784, "link": "https://stackoverflow.com/questions/56771784/gson-how-to-parse-partial-json-in-kotlin/56779407#56779407", "title": "Gson - How to parse partial json in Kotlin", "body": "<p>You may use a <code>JsonDeserializer</code> specialized for your <code>Model</code> class, like so:</p>\n\n<pre><code>fun main() {\n    val json1 = \"{ \\\"name\\\": \\\"Alex\\\", \\\"address\\\": \\\"rome, 1000\\\" }\"\n    val json2 = \"{ \\\"name\\\": \\\"Alex\\\", \\\"address\\\": {\\\"city\\\": \\\"rome\\\", \\\"post\\\": \\\"1000\\\" } }\"\n\n    val gson = GsonBuilder().registerTypeAdapter(Model::class.java, ModelDeserializer()).create()\n\n    println(gson.fromJson(json1, Model::class.java))\n    println(gson.fromJson(json2, Model::class.java))\n}\n\ndata class Model(val name: String, val address: String)\n\nclass ModelDeserializer : JsonDeserializer&lt;Model&gt; {\n\n    override fun deserialize(json: JsonElement, typeOfT: Type, context:     JsonDeserializationContext): Model {\n        json as JsonObject\n\n        val name = json.get(\"name\").asString\n\n        val addressJson = json.get(\"address\")\n        val address = if (addressJson.isJsonObject) addressJson.asJsonObject.toString() else addressJson.asString\n\n        return Model(name, address)\n    }\n}\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>Model(name=Alex, address=rome, 1000)\nModel(name=Alex, address={\"city\":\"rome\",\"post\":\"1000\"})\n</code></pre>\n\n<p>If you use the Kotson library, which seems you are, things get even better:</p>\n\n<pre><code>val gson = GsonBuilder()\n        .registerTypeAdapter&lt;Model&gt; {\n            deserialize {\n                val json = it.json.asJsonObject\n\n                val name = json[\"name\"].asString\n\n                val addressJson = json[\"address\"]\n                val address = if (addressJson.isJsonObject) addressJson.asJsonObject.toString() else addressJson.asString\n\n                Model(name, address)\n            }\n        }\n        .create()\n\nprintln(gson.fromJson&lt;Model&gt;(json1))\nprintln(gson.fromJson&lt;Model&gt;(json2))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11951310, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AH_poHb5kO8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdhW-_2CAavoe5JyL4V0ValYzE9QA/photo.jpg?sz=128", "display_name": "Kruti Kamani", "link": "https://stackoverflow.com/users/11951310/kruti-kamani"}, "is_accepted": false, "score": 1, "last_activity_date": 1566300769, "creation_date": 1566300769, "answer_id": 57572699, "question_id": 56771784, "link": "https://stackoverflow.com/questions/56771784/gson-how-to-parse-partial-json-in-kotlin/57572699#57572699", "title": "Gson - How to parse partial json in Kotlin", "body": "<p>Please try with <code>Any</code>, it should work.</p>\n\n<pre><code>var address: String? = null\n</code></pre>\n"}], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 0, "accepted_answer_id": 56779407, "answer_count": 4, "score": 1, "last_activity_date": 1566300769, "creation_date": 1561548580, "last_edit_date": 1561550115, "question_id": 56771784, "link": "https://stackoverflow.com/questions/56771784/gson-how-to-parse-partial-json-in-kotlin", "title": "Gson - How to parse partial json in Kotlin", "body": "<p>I have a <code>data class</code> called <code>Model</code>,</p>\n\n<pre><code>data class Model(var name: String? = null, var address: String? = null) {\n\n    override fun toString(): String {\n        return \"name: $name address: $address\"\n    }\n}\n</code></pre>\n\n<p>I have two <code>json</code> strings,</p>\n\n<pre><code>val json1 = \"{ \\\"name\\\": \\\"Alex\\\", \\\"address\\\": \\\"rome, 1000\\\" }\"\nval json2 = \"{ \\\"name\\\": \\\"Alex\\\", \\\"address\\\": {\\\"city\\\": \\\"rome\\\", \\\"post\\\": \\\"1000\\\" } }\"\n</code></pre>\n\n<p>Below conversion is working fine,</p>\n\n<pre><code>val model1 = Gson().fromJson&lt;Model&gt;(json1, Model::class.java)\n</code></pre>\n\n<p>But, this version does not work. Giving an exception.</p>\n\n<pre><code>val model2 = Gson().fromJson&lt;Model&gt;(json2, Model::class.java)\n</code></pre>\n\n<h3>Exception:</h3>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.achellies.kotlin, PID: 11211\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.achellies.kotlin/com.achellies.kotlin.MainActivity}: com.google.gson.JsonSyntaxException: com.google.gson.stream.MalformedJsonException: Unterminated object at line 1 column 40 path $.address\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3086)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3229)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1926)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:214)\n    at\n</code></pre>\n\n<p>How can i parse <code>json2</code> so that <code>address</code> field will be holding the string value of the inner address json data? For example after parsing <code>address</code> should be equal to </p>\n\n<pre><code>{\"city\": \"rome\", \"post\": \"1000\"}\n</code></pre>\n"}, {"tags": ["kotlin", "retrofit", "moshi"], "owner": {"reputation": 103, "user_id": 8106713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a09331ae650c0709f77c96c3e45fba0?s=128&d=identicon&r=PG&f=1", "display_name": "Beuz", "link": "https://stackoverflow.com/users/8106713/beuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561549199, "creation_date": 1561548370, "last_edit_date": 1561549199, "question_id": 56771722, "link": "https://stackoverflow.com/questions/56771722/how-to-handle-mapstring-entity-and-custom-error-response-from-api", "title": "How to handle Map&lt;String, Entity&gt; and custom error response from api", "body": "<p>I am doing a GET on an API that returns the following:\nOn success: <code>Map&lt;String, Light&gt;</code>\nOn error: <code>CustomErrorResponse</code></p>\n\n<p>I have no idea how to parse both of these results to the same model. I use Moshi in Kotlin to parse the incoming json to a model. </p>\n\n<p>I've tried creating a LightResponse model which has both the success and error response types as a property. But since the response is a Map, Moshi does not know it has to map that response to the property of the model I provide. I've also tried to extend the Map interface in my model, but that felt way to hacky.</p>\n\n<p>Example success response:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n\"1\": {\n        \"state\": {\n            \"isOn\": false,\n            \"bri\": 1\n        }\n    },\n\"2\": {\n        \"state\": {\n            \"isOn\": true,\n            \"bri\": 100\n        }\n    }\n}\n</code></pre>\n\n<p>Example error response:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{  \n   \"error\":{  \n      \"type\":1,\n      \"description\":\"not allowed\"\n   }\n}\n</code></pre>\n\n<p>My model so far:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class LightResponse(\n        val lights: Map&lt;String, Light&gt;,\n        @field:Json(name = \"error\") val error: ResponseError? = null\n)\n</code></pre>\n\n<p>The error is mapped correctly. But when I do get the Map from the api it's not mapped to the lights property of my model.I know it's because the json response directly returns a map and thus Moshi needs to know it needs to map it to the property of the model I provide. But I have no idea how to solve this.</p>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1561548054, "post_id": 56771553, "comment_id": 100098604, "body": "Have you tried replacing <code>A&lt;Any&gt;</code> with <code>A&lt;*&gt;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1561548832, "creation_date": 1561548832, "answer_id": 56771858, "question_id": 56771553, "link": "https://stackoverflow.com/questions/56771553/generic-type-param-in-interface/56771858#56771858", "title": "Generic type param in interface", "body": "<p>You can try using <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"nofollow noreferrer\">star projection</a> in place of <code>Any</code>:</p>\n\n<pre><code>private fun process(l: A&lt;*&gt;) { }\n</code></pre>\n"}], "owner": {"reputation": 561, "user_id": 1699253, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3b35c7305de3b04b2fca88bbbf6b70a8?s=128&d=identicon&r=PG", "display_name": "Sivakumar S", "link": "https://stackoverflow.com/users/1699253/sivakumar-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 56771858, "answer_count": 1, "score": -1, "last_activity_date": 1561548832, "creation_date": 1561547689, "question_id": 56771553, "link": "https://stackoverflow.com/questions/56771553/generic-type-param-in-interface", "title": "Generic type param in interface", "body": "<p>I have an interface,</p>\n\n<pre><code>    interface A&lt;in T&gt; {\n        fun onSuccess(response: T)\n\n        fun onFailure() \n    }\n</code></pre>\n\n<p>And accessing it in a call in methods,</p>\n\n<p>A utility method where i want to do something common for all methods,</p>\n\n<pre><code>private fun process(l:A&lt;Any&gt;){}\n</code></pre>\n\n<p>and few other methods</p>\n\n<pre><code>private fun method1(l:A&lt;B_CLASS&gt;){\n   process(l)\n}\n\nprivate fun method2(l:A&lt;C_CLASS&gt;){\n   process(l)\n}\n</code></pre>\n\n<p>But <code>B_CLASS</code> is not compatible type of <code>Any</code>.</p>\n\n<p>How do i solve this? </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1561546244, "last_edit_date": 1561546244, "creation_date": 1561545425, "answer_id": 56770815, "question_id": 56770670, "link": "https://stackoverflow.com/questions/56770670/type-inference-failed-not-enough-information-to-infer-parameter-t-kotlin/56770815#56770815", "title": "Type inference failed: Not enough information to infer parameter T Kotlin", "body": "<p>In this line <code>State.error( e.message ?: \"Unknown Error\",  e  )</code> the compiler does not know what <code>T</code> should be. If you compare it with <code>success</code>, you will see that you explicitly provide an argument of <code>T</code> which the compiler uses to infer the type. \nYou can specify it like this when calling error:</p>\n\n<pre><code>State.error&lt;TYPE_OF_SCHEDULE_REMINDER_LIST&gt;( e.message ?: \"Unknown Error\",  e  )\n</code></pre>\n\n<p>Since you're not using <code>T</code> in <code>Error</code>, you probably want to consider removing it entirely from the sealed class and only use it where it makes sense.</p>\n\n<pre><code>sealed class State {\n\n    object Loading : State()\n    data class Error(val errorMessage: String?, val error: Throwable) : State()\n    data class Success&lt;T&gt;(var data: T) : State()\n\n    companion object {\n        fun loading(): State = Loading\n\n        fun error(errorMessage: String, error: Throwable): Error =\n            Error(errorMessage, error)\n\n        fun &lt;T&gt; success(data: T): Success&lt;T&gt; = Success(data)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 2, "last_activity_date": 1561545462, "creation_date": 1561545462, "answer_id": 56770829, "question_id": 56770670, "link": "https://stackoverflow.com/questions/56770670/type-inference-failed-not-enough-information-to-infer-parameter-t-kotlin/56770829#56770829", "title": "Type inference failed: Not enough information to infer parameter T Kotlin", "body": "<p>The <code>Error</code> data class defines the <code>T</code> type parameter but does not use it in any way. Therefore, when you create an <code>Error</code> instance, there is no way for the compiler to infer what type should be used for T.</p>\n\n<p>To fix this, change the definition of <code>State</code> and <code>Error</code> so that they don't have a type parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 1560, "user_id": 4758618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f04c304d3c41dcc6f9b721cbe22d4f0?s=128&d=identicon&r=PG&f=1", "display_name": "V-master", "link": "https://stackoverflow.com/users/4758618/v-master"}, "edited": false, "score": 0, "creation_date": 1561649405, "post_id": 56794332, "comment_id": 100143357, "body": "As an additional benefit, you may try to skip the companion object and use constructors directly"}], "tags": [], "owner": {"reputation": 1560, "user_id": 4758618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f04c304d3c41dcc6f9b721cbe22d4f0?s=128&d=identicon&r=PG&f=1", "display_name": "V-master", "link": "https://stackoverflow.com/users/4758618/v-master"}, "is_accepted": false, "score": 1, "last_activity_date": 1561649165, "creation_date": 1561649165, "answer_id": 56794332, "question_id": 56770670, "link": "https://stackoverflow.com/questions/56770670/type-inference-failed-not-enough-information-to-infer-parameter-t-kotlin/56794332#56794332", "title": "Type inference failed: Not enough information to infer parameter T Kotlin", "body": "<p>In oposition to <a href=\"https://stackoverflow.com/a/56770815/4758618\">@s1m0nw1 answer</a>, if you want to keep the type parameter in the <code>State</code> model (so that return values are nice looking and type-safe) you could consider marking <code>T</code> as <code>out</code> and use <code>Nothing</code> in sub-classes that do not use it</p>\n\n<pre><code>sealed class State&lt;out T&gt; {\n\n    object Loading: State&lt;Nothing&gt;()\n    data class Error(val errorMessage: String?, val error: Throwable): State&lt;Nothing&gt;()\n    data class Success&lt;T&gt;(var data: T): State&lt;T&gt;()\n\n    companion object {\n        fun &lt;T&gt; loading(): State&lt;T&gt; = Loading\n\n        fun &lt;T&gt; error(errorMessage: String, error: Throwable): State&lt;T&gt; = Error(errorMessage, error)\n\n        fun &lt;T&gt; success(data: T): State&lt;T&gt; = Success(data)\n    }\n}\n</code></pre>\n\n<p>that way your example method will stay the same nad you do not need to perform unsafe casts</p>\n"}], "owner": {"reputation": 3877, "user_id": 1129205, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0fe1D.jpg?s=128&g=1", "display_name": "Jackson Chengalai", "link": "https://stackoverflow.com/users/1129205/jackson-chengalai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7141, "favorite_count": 0, "accepted_answer_id": 56770815, "answer_count": 3, "score": 3, "last_activity_date": 1561649165, "creation_date": 1561545015, "question_id": 56770670, "link": "https://stackoverflow.com/questions/56770670/type-inference-failed-not-enough-information-to-infer-parameter-t-kotlin", "title": "Type inference failed: Not enough information to infer parameter T Kotlin", "body": "<p>I am using a sealed class to return data from network. but when i am building the project i am getting the following error   </p>\n\n<blockquote>\n  <p>Type inference failed: Not enough information to infer parameter T in fun  error(errorMessage: String, error: Throwable): State\n  Please specify it explicitly.   </p>\n</blockquote>\n\n<p>What am i missing here?</p>\n\n<p>Here is the code</p>\n\n<pre><code>suspend fun getdataFromApi(context: Context?, token: String?): State&lt;ScheduleReminderListResponse&gt; =\n    withContext(schedulerProvider.io)\n    {\n\n            try {\n                val list = network.getScheduleReminderList(token).await()\n                schedeleReminderListLocalDao.insertAll(list)\n                return@withContext State.success(list)\n            } catch (e: Exception) {\n                return@withContext State.error( e.message ?: \"Unknown Error\",  e  )\n            }\n\n\n        }\n\n\n\n\n\n\nsealed class State&lt;T&gt; {\n\nclass Loading&lt;T&gt;: State&lt;T&gt;()\ndata class Error&lt;T&gt;(val errorMessage: String?, val error: Throwable): State&lt;T&gt;()\ndata class Success&lt;T&gt;(var data: T) : State&lt;T&gt;()\n\ncompanion object {\n    fun &lt;T&gt; loading(): State&lt;T&gt; =\n        Loading()\n\n    fun &lt;T&gt; error(errorMessage: String, error: Throwable): State&lt;T&gt; =\n        Error(errorMessage, error)\n\n    fun &lt;T&gt; success(data: T): State&lt;T&gt; =\n        Success(data)\n\n   }\n }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1346, "user_id": 4762767, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0IULzhgtmJs/AAAAAAAAAAI/AAAAAAAAADw/xAVDK9carFA/photo.jpg?sz=128", "display_name": "Akshay Katariya", "link": "https://stackoverflow.com/users/4762767/akshay-katariya"}, "edited": false, "score": 0, "creation_date": 1561544370, "post_id": 56770420, "comment_id": 100096381, "body": "why don&#39;t you set your click listeners after sorting?"}], "answers": [{"comments": [{"owner": {"reputation": 1431, "user_id": 8531215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30b6f1842cca99191b2e148564e4cc53?s=128&d=identicon&r=PG&f=1", "display_name": "TaQuangTu", "link": "https://stackoverflow.com/users/8531215/taquangtu"}, "reply_to_user": {"reputation": 91, "user_id": 11617984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jl8g4kJOvc4/AAAAAAAAAAI/AAAAAAAAAB0/X8hxMBPpgWE/photo.jpg?sz=128", "display_name": "Fatih T&#252;z", "link": "https://stackoverflow.com/users/11617984/fatih-t%c3%bcz"}, "edited": false, "score": 0, "creation_date": 1561545926, "post_id": 56770712, "comment_id": 100097344, "body": "@FarukAcar wait me a few minutes"}, {"owner": {"reputation": 91, "user_id": 11617984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jl8g4kJOvc4/AAAAAAAAAAI/AAAAAAAAAB0/X8hxMBPpgWE/photo.jpg?sz=128", "display_name": "Fatih T&#252;z", "link": "https://stackoverflow.com/users/11617984/fatih-t%c3%bcz"}, "edited": false, "score": 0, "creation_date": 1561548101, "post_id": 56770712, "comment_id": 100098624, "body": "I got the right result when I edited the code by myself thank you"}, {"owner": {"reputation": 91, "user_id": 11617984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jl8g4kJOvc4/AAAAAAAAAAI/AAAAAAAAAB0/X8hxMBPpgWE/photo.jpg?sz=128", "display_name": "Fatih T&#252;z", "link": "https://stackoverflow.com/users/11617984/fatih-t%c3%bcz"}, "edited": false, "score": 0, "creation_date": 1561548453, "post_id": 56770712, "comment_id": 100098850, "body": "I edited the post, if you have suggestion on this you can tell me."}], "tags": [], "owner": {"reputation": 1431, "user_id": 8531215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30b6f1842cca99191b2e148564e4cc53?s=128&d=identicon&r=PG&f=1", "display_name": "TaQuangTu", "link": "https://stackoverflow.com/users/8531215/taquangtu"}, "is_accepted": true, "score": 0, "last_activity_date": 1561547424, "last_edit_date": 1561547424, "creation_date": 1561545119, "answer_id": 56770712, "question_id": 56770420, "link": "https://stackoverflow.com/questions/56770420/how-to-set-imageview-to-be-clickable-or-non-clickable/56770712#56770712", "title": "How to set &quot;ImageView&quot; to be clickable or non-clickable", "body": "<p>To programmatically disable clicking listener, use <code>image.setEnabled(false);</code>. However, as you described I think your sorting function is intensive computation so it take along time and it can block UI thread if the time is a few seconds. Therefor you must run the sorting function on a new thread. Assuming you have a button <code>buttonStartSorting</code> in your activity.</p>\n\n<pre><code>final Handler handler = new Handler();\nbuttonStartSorting.setOnClickListener(new View.OnClickListener() {\n    //disalbe listener for images\n    for(imv in imageViews){\n        imv.isEnable = false;\n    }\n    //do sort images on new thread\n    Thread(Runnable {\n        yourSortImagesMethod(imageViews);\n        handler.post(Runable{\n          //enable listener for images\n          for(imv in imageViews){\n             imv.isEnable = true;\n          }\n        })\n    }).start()\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1306, "user_id": 7016022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84121a616931867f6f7ce9b83d2e829d?s=128&d=identicon&r=PG", "display_name": "Raimo", "link": "https://stackoverflow.com/users/7016022/raimo"}, "is_accepted": false, "score": 0, "last_activity_date": 1561545461, "creation_date": 1561545461, "answer_id": 56770828, "question_id": 56770420, "link": "https://stackoverflow.com/questions/56770420/how-to-set-imageview-to-be-clickable-or-non-clickable/56770828#56770828", "title": "How to set &quot;ImageView&quot; to be clickable or non-clickable", "body": "<p>There is actually a <code>setClickable(boolean clickable)</code> method as you can see here: <a href=\"https://developer.android.com/reference/android/view/View.html#setClickable(boolean)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/View.html#setClickable(boolean)</a></p>\n"}, {"tags": [], "owner": {"reputation": 474, "user_id": 4597329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ALpD2.jpg?s=128&g=1", "display_name": "Hari N Jha", "link": "https://stackoverflow.com/users/4597329/hari-n-jha"}, "is_accepted": false, "score": 0, "last_activity_date": 1561545530, "creation_date": 1561545530, "answer_id": 56770852, "question_id": 56770420, "link": "https://stackoverflow.com/questions/56770420/how-to-set-imageview-to-be-clickable-or-non-clickable/56770852#56770852", "title": "How to set &quot;ImageView&quot; to be clickable or non-clickable", "body": "<p>You can simply add setOnClickListener() on imageview and take a flag to make it clickabe or non clickable based on flag state.</p>\n\n<pre><code>private boolean isSorted = false;\n</code></pre>\n\n<p>somewhere in your code where you are adding view for image list, use click listener-</p>\n\n<pre><code>holder.borrar.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        if(isSorted) {\n            //do what you want to do after it is sorted.\n        }\n    }\n});\n</code></pre>\n\n<p>So in this way onClick will do anything only if the images are sorted. Now somewhere in your code there should be a condition in your class so that the state of the flag will be changed. So it would be something like--</p>\n\n<pre><code>...\n//Updating flag based on condition\nif(condition) {\n    isSorted = true;\n}\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 907, "user_id": 9670404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MTbaGXbTyis/AAAAAAAAAAI/AAAAAAAAABM/nFOb8sVRYTM/photo.jpg?sz=128", "display_name": "Hasan Kucuk", "link": "https://stackoverflow.com/users/9670404/hasan-kucuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1561547139, "creation_date": 1561547139, "answer_id": 56771387, "question_id": 56770420, "link": "https://stackoverflow.com/questions/56770420/how-to-set-imageview-to-be-clickable-or-non-clickable/56771387#56771387", "title": "How to set &quot;ImageView&quot; to be clickable or non-clickable", "body": "<p>This block of code allows you to enable or disable all views in the layout layout.</p>\n\n<pre><code>fun enableDisableViewGroup(viewGroup: ViewGroup, enabled: Boolean) {\n            val childCount = viewGroup.childCount\n            for (i in 0 until childCount) {\n                val view = viewGroup.getChildAt(i) \n                    view.isEnabled = enabled \n                if (view is ViewGroup) {\n                    enableDisableViewGroup(view, enabled)\n                }\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 11617984, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jl8g4kJOvc4/AAAAAAAAAAI/AAAAAAAAAB0/X8hxMBPpgWE/photo.jpg?sz=128", "display_name": "Fatih T&#252;z", "link": "https://stackoverflow.com/users/11617984/fatih-t%c3%bcz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 56770712, "answer_count": 4, "score": 2, "last_activity_date": 1561548313, "creation_date": 1561544303, "last_edit_date": 1561548313, "question_id": 56770420, "link": "https://stackoverflow.com/questions/56770420/how-to-set-imageview-to-be-clickable-or-non-clickable", "title": "How to set &quot;ImageView&quot; to be clickable or non-clickable", "body": "<p>I am making a simple memory game. It basically, some <code>ImageView</code> come up and after that user should click <code>ImageView</code> according to order. However, <code>ImageView</code> can also be clickable while sorting.\nSo, I want the <code>ImageView</code>to be non-clickable while sorting is not finish and then I want <code>ImageView</code>can be clickable when the sorting is finished. How can I do that?</p>\n\n<p>-edit 1\nAfter your solutions, i tried <code>image.setEnable = false</code> method in kotlin and i have the result.  </p>\n\n<p><strong>here related section</strong>\n<code>kotlin</code></p>\n\n<pre><code>fun orderImages() {\n    index=0\n    Collections.shuffle(controlArray)\n    println(controlArray)\n    runnable = object : Runnable {\n        override fun run() {\n            for (image in imageArray) {\n                image.visibility = View.INVISIBLE\n                image.isEnabled = false\n            }\n            if (index &lt; controlArray.size) {\n                imageArray[controlArray[index]].visibility = View.VISIBLE\n                index++\n            } else {\n                handler.removeCallbacks(runnable)\n                for (image in imageArray) {\n                    image.visibility = View.VISIBLE\n                    image.isEnabled = true\n\n                }\n            }\n            handler.postDelayed(runnable, 1000)\n        }\n    }\n    handler.post(runnable)\n    userArray.clear()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "jvm", "micronaut"], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "is_accepted": false, "score": 0, "last_activity_date": 1561553375, "creation_date": 1561553375, "answer_id": 56773253, "question_id": 56769848, "link": "https://stackoverflow.com/questions/56769848/how-to-set-base-url-for-all-controllers-in-micronaut-through-application-yml-o/56773253#56773253", "title": "How to set base url for all controllers in micronaut ? through application.yml or any configuration", "body": "<p>No such feature is available off the shelf at the moment \nhave to specify custom properties in application.yml and refer them from controller</p>\n\n<p>eg:</p>\n\n<pre><code>@Controller(\u201c${my.config:/api}/foo\u201d))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2270, "user_id": 8112217, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xFFPv.jpg?s=128&g=1", "display_name": "tsarenkotxt", "link": "https://stackoverflow.com/users/8112217/tsarenkotxt"}, "is_accepted": true, "score": 2, "last_activity_date": 1561600341, "last_edit_date": 1561600341, "creation_date": 1561599614, "answer_id": 56782836, "question_id": 56769848, "link": "https://stackoverflow.com/questions/56769848/how-to-set-base-url-for-all-controllers-in-micronaut-through-application-yml-o/56782836#56782836", "title": "How to set base url for all controllers in micronaut ? through application.yml or any configuration", "body": "<p>You can configure once <a href=\"https://docs.micronaut.io/1.2.0.RC1/api/io/micronaut/web/router/RouteBuilder.UriNamingStrategy.html\" rel=\"nofollow noreferrer\">RouteBuilder.UriNamingStrategy</a> (default implementation <a href=\"https://docs.micronaut.io/1.2.0.RC1/api/io/micronaut/web/router/naming/HyphenatedUriNamingStrategy.html\" rel=\"nofollow noreferrer\">HyphenatedUriNamingStrategy</a>)</p>\n\n<ol>\n<li>add some custom property <strong>micronaut.context-path</strong>, <code>application.yml</code>: </li>\n</ol>\n\n<pre><code>micronaut:\n  context-path: /someApiPath\n</code></pre>\n\n<ol start=\"2\">\n<li>create <code>ConfigurableUriNamingStrategy</code> and expand <code>HyphenatedUriNamingStrategy</code>:</li>\n</ol>\n\n<pre><code>@Singleton\n@Replaces(HyphenatedUriNamingStrategy::class)\nclass ConfigurableUriNamingStrategy : HyphenatedUriNamingStrategy() {\n\n    @Value(\"\\${micronaut.context-path}\")\n    var contextPath: String? = null\n\n    override fun resolveUri(type: Class&lt;*&gt;?): String {\n        return contextPath ?: \"\" + super.resolveUri(type)\n    }\n\n    override fun resolveUri(beanDefinition: BeanDefinition&lt;*&gt;?): String {\n        return contextPath ?: \"\" + super.resolveUri(beanDefinition)\n    }\n\n    override fun resolveUri(property: String?): String {\n        return contextPath ?: \"\" + super.resolveUri(property)\n    }\n\n    override fun resolveUri(type: Class&lt;*&gt;?, id: PropertyConvention?): String {\n        return contextPath ?: \"\" + super.resolveUri(type, id)\n    }\n}\n</code></pre>\n\n<p>This configurations will be applied for all controllers,\n for your <code>HelloController</code> URI path will be <code>/someApiPath/greet</code>, if the property <code>micronaut.context-path</code> is missing then <code>/greet</code>:</p>\n\n<pre><code>@Controller\nclass HelloController {\n\n   @Get(\"/greet\")\n   fun greet(){\n\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 1, "accepted_answer_id": 56782836, "answer_count": 2, "score": 0, "last_activity_date": 1561600341, "creation_date": 1561542529, "question_id": 56769848, "link": "https://stackoverflow.com/questions/56769848/how-to-set-base-url-for-all-controllers-in-micronaut-through-application-yml-o", "title": "How to set base url for all controllers in micronaut ? through application.yml or any configuration", "body": "<p>How to set base url for all controllers </p>\n\n<pre><code> @Controller(\"/api/hello\")\nclass HelloController{\n\n    @Get(\"/greet\")\n   fun greet(){\n\n   }\n}\n</code></pre>\n\n<p>Instead of writing /api on each controller is there a way to write it as base url in configuration for all rest controller endpoints</p>\n"}, {"tags": ["kotlin", "lambda", "group-by"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1561543602, "post_id": 56769822, "comment_id": 100095949, "body": "something like <code>data.asIterable().groupBy { ... }</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 1359660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbc314f97b428e79652586e6ce7edb0?s=128&d=identicon&r=PG", "display_name": "user1359660", "link": "https://stackoverflow.com/users/1359660/user1359660"}, "edited": false, "score": 1, "creation_date": 1561544570, "post_id": 56770282, "comment_id": 100096533, "body": "This code does exactly what I want. Thank you very much"}, {"owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "reply_to_user": {"reputation": 49, "user_id": 1359660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbc314f97b428e79652586e6ce7edb0?s=128&d=identicon&r=PG", "display_name": "user1359660", "link": "https://stackoverflow.com/users/1359660/user1359660"}, "edited": false, "score": 0, "creation_date": 1561545401, "post_id": 56770282, "comment_id": 100097066, "body": "@user1359660 if the answer solves your problem, you might consider <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accepting</a> it :)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1561544274, "last_edit_date": 1561544274, "creation_date": 1561543873, "answer_id": 56770282, "question_id": 56769822, "link": "https://stackoverflow.com/questions/56769822/group-pairs-by-a-second-value-and-map-it-where-the-key-is-the-second-element-an/56770282#56770282", "title": "Group pairs by a second value, and map it where the key is the second element and a value is a list of first elements associated with the second", "body": "<p>According to your given example, the expected result is </p>\n\n<blockquote>\n  <p>{b1=[a1, a2], b2=[a1, a5], b3=[a1], b4=[a1], b5=[a1], b7=[a2, a3, a4], b8=[a2, a3, a4], b9=[a2, a3, a4, a5], b10=[a2, a3], b6=[a3, a4, a5], b11=[a4], b12=[a5], b13=[a5]}</p>\n</blockquote>\n\n<p>You could expand the given data structure in a way that every element from your second element is being associated to the first element. But be aware that this results in additional space. Grouping becomes easier then:</p>\n\n<pre><code>data.entries\n    .flatMap { (k, v) -&gt; v.map { k to it } }\n    .groupBy(keySelector = Pair&lt;*, *&gt;::second, valueTransform = Pair&lt;*, *&gt;::first) //group by list element, only add key to group\n</code></pre>\n\n<p>The iterative approach can be simplified to:</p>\n\n<pre><code>val map = mutableMapOf&lt;String, List&lt;String&gt;&gt;().withDefault { listOf() }\n\nfor ((k, v) in data) {\n    for (e in v) map[e] = map.getValue(e) + k\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 1359660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbc314f97b428e79652586e6ce7edb0?s=128&d=identicon&r=PG", "display_name": "user1359660", "link": "https://stackoverflow.com/users/1359660/user1359660"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1561544274, "creation_date": 1561542466, "question_id": 56769822, "link": "https://stackoverflow.com/questions/56769822/group-pairs-by-a-second-value-and-map-it-where-the-key-is-the-second-element-an", "title": "Group pairs by a second value, and map it where the key is the second element and a value is a list of first elements associated with the second", "body": "<p>As I mentioned in the title. I would like to group List of Pairs by the second value.\nI came up with a code below that works fine, but I'm wondering if there is a possibility to do it more elegant using lambdas.</p>\n\n<pre><code>val data = mapOf(\n        Pair(\"a1\", listOf(\"b1\", \"b2\", \"b3\", \"b4\", \"b5\")),\n        Pair(\"a2\", listOf(\"b1\", \"b7\", \"b8\", \"b9\", \"b10\")),\n        Pair(\"a3\", listOf(\"b6\", \"b7\", \"b8\", \"b9\", \"b10\")),\n        Pair(\"a4\", listOf(\"b6\", \"b7\", \"b8\", \"b9\", \"b11\")),\n        Pair(\"a5\", listOf(\"b6\", \"b2\", \"b12\", \"b9\", \"b13\"))\n)\n\nval map = mutableMapOf&lt;String, MutableList&lt;String&gt;&gt;()\n\ndata.forEach { (k, v) -&gt;\n    v.forEach {\n        if (map.containsKey(it)) {\n            map[it]?.add(k)\n        } else {\n            map[it] = mutableListOf(k)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "fragment", "deprecated"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1561544133, "post_id": 56769586, "comment_id": 100096237, "body": "<i>but will it be an issue in future</i> - theoretically yes, but google does not exactly have a habit of actually removing deprecated apis so if you can&#39;t find the proper fix I wouldn&#39;t worry too much for now."}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1561558925, "post_id": 56769586, "comment_id": 100105565, "body": "@TimCastelijns Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "is_accepted": true, "score": 12, "last_activity_date": 1561564981, "creation_date": 1561564981, "answer_id": 56776946, "question_id": 56769586, "link": "https://stackoverflow.com/questions/56769586/invalidateoptionsmenu-deprecated/56776946#56776946", "title": "invalidateOptionsMenu() deprecated", "body": "<p>They're deprecating this method in favor of calling <code>invalidateOptionsMenu</code> directly on the Activity (which this method actually does, internally). In order to replace it, you can do something like <code>requireActivity().invalidateOptionsMenu()</code>.</p>\n"}], "owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1249, "favorite_count": 0, "accepted_answer_id": 56776946, "answer_count": 1, "score": 9, "last_activity_date": 1561564981, "creation_date": 1561541693, "last_edit_date": 1561564299, "question_id": 56769586, "link": "https://stackoverflow.com/questions/56769586/invalidateoptionsmenu-deprecated", "title": "invalidateOptionsMenu() deprecated", "body": "<p>In one of my fragment class, I using <code>invalidateOptionsMenu()</code> as below</p>\n\n<pre><code>invalidateOptionsMenu(activity)\n</code></pre>\n\n<p>but it is deprecated</p>\n\n<blockquote>\n  <p>'invalidateOptionsMenu(Activity!): Boolean' is deprecated. Deprecated\n  in Java</p>\n</blockquote>\n\n<p>What can be used to replace <code>invalidateOptionsMenu(Activity activity)</code> ?</p>\n\n<p><strong><em>P/S:This method still can be used, but will it be an issue in future?</em></strong></p>\n"}, {"tags": ["android", "kotlin", "android-room", "androidx"], "answers": [{"comments": [{"owner": {"reputation": 1120, "user_id": 8926845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0eea0b64a929342f83e186ee01daad?s=128&d=identicon&r=PG&f=1", "display_name": "yuvrajsinh", "link": "https://stackoverflow.com/users/8926845/yuvrajsinh"}, "reply_to_user": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "edited": false, "score": 0, "creation_date": 1561543098, "post_id": 56769298, "comment_id": 100095652, "body": "have you also added  in build gradle maven {         url &quot;<a href=\"https://maven.google.com\" rel=\"nofollow noreferrer\">maven.google.com</a>&quot;     }"}], "tags": [], "owner": {"reputation": 1120, "user_id": 8926845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0eea0b64a929342f83e186ee01daad?s=128&d=identicon&r=PG&f=1", "display_name": "yuvrajsinh", "link": "https://stackoverflow.com/users/8926845/yuvrajsinh"}, "is_accepted": false, "score": 0, "last_activity_date": 1561540755, "last_edit_date": 1561540755, "creation_date": 1561540670, "answer_id": 56769298, "question_id": 56768842, "link": "https://stackoverflow.com/questions/56768842/cannot-implement-room-library-after-migrating-to-androidx/56769298#56769298", "title": "Cannot implement Room library after migrating to AndroidX", "body": "<p>Try to add below line in your gradle.properties(project proprrties)</p>\n\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561540755, "creation_date": 1561539096, "question_id": 56768842, "link": "https://stackoverflow.com/questions/56768842/cannot-implement-room-library-after-migrating-to-androidx", "title": "Cannot implement Room library after migrating to AndroidX", "body": "<p>Whole gradle file is here:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'io.fabric'\napply plugin: 'com.google.gms.google-services'\n\nbuildscript {\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.28.1'\n    }\n\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n    }\n}\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n}\n\nandroid {\n    compileSdkVersion compile_sdk_version\n\n    defaultConfig {\n        applicationId \"...\"\n        minSdkVersion min_sdk_version\n        targetSdkVersion target_sdk_version\n        versionCode ...\n        versionName \"...\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    flavorDimensions \"...\"\n\n    productFlavors {\n        x {\n            dimension \"...\"\n            applicationId \"...\"\n            versionCode ..\n            versionName \"...\"\n        }\n    }\n\n    sourceSets {\n        main {\n            manifest.srcFile 'manifest/main/AndroidManifest.xml'\n            java.srcDirs = ['src/main/java']\n            resources.srcDirs = ['src/main/java']\n            aidl.srcDirs = ['src/main/java']\n            renderscript.srcDirs = ['src/main/java']\n            res.srcDirs = ['res/main']\n            assets.srcDirs = ['assets']\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation project(path: ':...')\n    implementation project(path: ':...'\n\n    implementation(\n            \"com.google.android.gms:play-services-maps:$google_play_services_version\",\n            \"com.google.android.gms:play-services-location:$google_play_services_version\",\n            \"com.google.android.gms:play-services-gcm:$google_play_services_version\",\n            \"com.google.android.gms:play-services-vision:17.0.2\",\n            \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\",\n            \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\",\n            \"com.google.android.material:material:1.0.0\",\n            \"androidx.appcompat:appcompat:1.1.0-alpha01\",\n            \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.0.1\",\n            \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.1\",\n            \"com.jakewharton.retrofit:retrofit2-kotlin-coroutines-adapter:0.9.2\",\n            \"androidx.constraintlayout:constraintlayout:1.1.3\",\n            \"androidx.lifecycle:lifecycle-extensions:2.0.0\",\n            \"androidx.navigation:navigation-ui-ktx:2.0.0-rc02\",\n            \"androidx.navigation:navigation-fragment:2.0.0-rc02\",\n            ...\n    )\n\n    androidTestImplementation(\n            \"androidx.test:runner:1.1.0\",\n            \"androidx.test.espresso:espresso-core:3.1.0\"\n    )\n\n    testImplementation(\n            \"junit:junit:4.12\",\n            \"org.mockito:mockito-core:1.10.19\"\n    )\n\n    implementation('com.google.maps:google-maps-services:0.1.17') {\n        exclude module: 'joda-time'\n    }\n\n    implementation('com.crashlytics.sdk.android:crashlytics:2.9.5@aar') {\n        transitive = true\n    }\n\n    implementation 'androidx.room:room-runtime:2.1.0'\n    kapt 'androidx.room:room-compiler:2.1.0'\n}\n</code></pre>\n\n<p>Gradle sync is successful and installing app as well, but it crashes with the following error:</p>\n\n<pre><code>FATAL EXCEPTION: main\njava.lang.RuntimeException: Unable to create application ...MyApp:java.lang.RuntimeException: cannot find implementation for com.x.logs.XDatabase. XDatabase_Impl does not exist at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5743)\n</code></pre>\n\n<p>..and XDatabase file imports are:</p>\n\n<pre><code>import androidx.room.Database\nimport androidx.room.Room\nimport androidx.room.RoomDatabase\nimport androidx.room.TypeConverters\nimport android.content.Context\nimport android.util.Log\n</code></pre>\n\n<p>this happened right after I migrated whole project and it's sub-modules to android-x. Any idea what's missing?\nIs there anything that I can do to get more precise error of what's wrong? </p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2", "rx-android"], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 8495710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1dc8f329189932491a996e01ef3deca?s=128&d=identicon&r=PG", "display_name": "Arslan Shoukat", "link": "https://stackoverflow.com/users/8495710/arslan-shoukat"}, "edited": false, "score": 0, "creation_date": 1561538481, "post_id": 56768508, "comment_id": 100092965, "body": "Thanks Tynn. This does complete the chain and onComplete() callback is received when buffer list is empty but there is still one extra api call in flatMap()."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 382, "user_id": 8495710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1dc8f329189932491a996e01ef3deca?s=128&d=identicon&r=PG", "display_name": "Arslan Shoukat", "link": "https://stackoverflow.com/users/8495710/arslan-shoukat"}, "edited": false, "score": 1, "creation_date": 1561538919, "post_id": 56768508, "comment_id": 100093204, "body": "You&#39;re right. Actually <code>takeWhile</code> with negation might be better."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1561538884, "last_edit_date": 1561538884, "creation_date": 1561537882, "answer_id": 56768508, "question_id": 56767407, "link": "https://stackoverflow.com/questions/56767407/how-to-stop-emission-from-publishsubject-when-buffer-is-empty/56768508#56768508", "title": "How to stop emission from PublishSubject when buffer is empty", "body": "<p>You could use the <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Observable.html#takeWhile-io.reactivex.functions.Predicate-\" rel=\"nofollow noreferrer\"><code>takeWhile</code></a> operation:</p>\n\n<blockquote>\n  <p>Returns an <code>Observable</code> that emits items emitted by the source <code>ObservableSource</code> so long as each item satisfied a specified condition, and then completes as soon as this condition is not satisfied.</p>\n</blockquote>\n\n<pre><code>pubSubject.buffer(1, TimeUnit.SECONDS, 10)\n          .observeOn(Schedulers.io())\n          .takeWhile { idsBatch -&gt; idsBatch.isNotEmpty() }\n          .flatMap { idsBatch -&gt; downloadByIds(idsBatch) }\n          .subscribe(\n              /* onNext */ { apiResponse -&gt; handleResponse() },\n              /* onError */ { handleError(it) },\n              /* onComplete*/ { hideProgressBar() }\n           )\n</code></pre>\n"}], "owner": {"reputation": 382, "user_id": 8495710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1dc8f329189932491a996e01ef3deca?s=128&d=identicon&r=PG", "display_name": "Arslan Shoukat", "link": "https://stackoverflow.com/users/8495710/arslan-shoukat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 56768508, "answer_count": 1, "score": 0, "last_activity_date": 1561538884, "creation_date": 1561533960, "last_edit_date": 1561537611, "question_id": 56767407, "link": "https://stackoverflow.com/questions/56767407/how-to-stop-emission-from-publishsubject-when-buffer-is-empty", "title": "How to stop emission from PublishSubject when buffer is empty", "body": "<p>I'm trying to create a sequential download service using RxJava.\nUser can add items in batch (20, 30 etc) or individual item. These items will be added to queue and then, downloaded sequentially in batches of 10.\nFor that I am using PublishSubject:</p>\n\n<pre><code>PublishSubject&lt;Int&gt; pubSubject = PublishSubject.create();\n</code></pre>\n\n<p>which emits item (ids) added by user, and then apply buffer operator to batch items. Using these ids, items are downloaded in flatMap and return in onNext of subscription.</p>\n\n<pre><code>  pubSubject.buffer(1, TimeUnit.SECONDS, 10)\n            .observeOn(Schedulers.io())\n            .flatMap { idsBatch -&gt; downloadByIds(idsBatch) }\n            .subscribe(\n                /* onNext */ { apiResponse -&gt; handleResponse() },\n                /* onError */ { handleError(it) },\n                /* onComplete*/ { hideProgressBar() }\n             )\n</code></pre>\n\n<p>Code is mostly working as expected. Items are batched and downloaded successfully but even after all items are emitted, buffer still calls flatMap with empty list and onComplete() is never called.</p>\n\n<p>I want  to know if there is any method or way in RxJava to get onComplete callback when there are no more items in buffer. Because else my download service never terminates.</p>\n"}, {"tags": ["java", "kotlin", "multipartform-data", "spring-webflux"], "comments": [{"owner": {"reputation": 6419, "user_id": 1840146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/846e219cba64c80b7b0398b239cd4db9?s=128&d=identicon&r=PG", "display_name": "Toerktumlare", "link": "https://stackoverflow.com/users/1840146/toerktumlare"}, "edited": false, "score": 0, "creation_date": 1561601555, "post_id": 56766820, "comment_id": 100120635, "body": "im not that good at reading Kotlin, but after reading some documentation i don&#39;t think <code>request.multipartData()</code> is the way to go. Documentation states: <code>ServerWebExchange exposes the following method for access to multipart data:  Mono&lt;MultiValueMap&lt;String, Part&gt;&gt; getMultipartData(); The DefaultServerWebExchange uses the configured HttpMessageReader&lt;MultiValueMap&lt;String, Part&gt;&gt; to parse multipart&#47;form-data content into a MultiValueMap.</code>  i can&#39;t see how you access the request object but maybe try the <code>ServerWebExchange#getMultipartData()</code>"}, {"owner": {"reputation": 669, "user_id": 4519499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb58bb1eef0ac101be03e13391d2405e?s=128&d=identicon&r=PG&f=1", "display_name": "Squeez", "link": "https://stackoverflow.com/users/4519499/squeez"}, "reply_to_user": {"reputation": 6419, "user_id": 1840146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/846e219cba64c80b7b0398b239cd4db9?s=128&d=identicon&r=PG", "display_name": "Toerktumlare", "link": "https://stackoverflow.com/users/1840146/toerktumlare"}, "edited": false, "score": 0, "creation_date": 1561624775, "post_id": 56766820, "comment_id": 100128378, "body": "@ThomasAndolf I am accessing request here by calling <code>request.multipartData()</code> where request is instance of <code>ServerRequest</code>."}], "answers": [{"tags": [], "owner": {"reputation": 669, "user_id": 4519499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb58bb1eef0ac101be03e13391d2405e?s=128&d=identicon&r=PG&f=1", "display_name": "Squeez", "link": "https://stackoverflow.com/users/4519499/squeez"}, "is_accepted": false, "score": 4, "last_activity_date": 1561624916, "creation_date": 1561624916, "answer_id": 56787212, "question_id": 56766820, "link": "https://stackoverflow.com/questions/56766820/spring-webflux-proxy-multipart-data/56787212#56787212", "title": "Spring webflux proxy multipart data", "body": "<p>Found the way to do it. I am proxying multipart data not as <code>Part</code> which <code>MultipartHttpReader</code> created, but as <code>ByteArray</code>.</p>\n\n<pre><code>  val builder = MultipartBodyBuilder()\n  multipart\n      .toSingleValueMap()\n      .forEach {\n        builder.asyncPart(it.key, it.value.content(), DataBuffer::class.java)\n            .headers { httpHeaders -&gt; it.value.headers().forEach { httpHeaders[it.key] = it.value } }\n      }\n  BodyInserters.fromMultipartData(builder.build())\n</code></pre>\n\n<p>Headers are needed to save content-type and filename displayed in <code>Content-Disposition</code> header.</p>\n"}], "owner": {"reputation": 669, "user_id": 4519499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb58bb1eef0ac101be03e13391d2405e?s=128&d=identicon&r=PG&f=1", "display_name": "Squeez", "link": "https://stackoverflow.com/users/4519499/squeez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1249, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561624916, "creation_date": 1561531898, "question_id": 56766820, "link": "https://stackoverflow.com/questions/56766820/spring-webflux-proxy-multipart-data", "title": "Spring webflux proxy multipart data", "body": "<p>I have component that get <code>ServerRequest</code> then converts it to <code>WebClient</code> and proxy it to the destination. \nContent-Type of the request is <code>multipart/form-data</code></p>\n\n<pre><code>return getBody(request)\n    .flatMap { body -&gt;\n      WebClient.builder()\n          .baseUrl(path)\n          .defaultCookies { x -&gt;\n            request.cookies()\n                .forEach { (k, v) -&gt; x[k] = v.map { it.value } }\n          }\n          .defaultHeaders { x -&gt;\n            request.headers().asHttpHeaders()\n                .forEach { (k, v) -&gt; x[k] = v }\n          }\n          .defaultUriVariables(request.queryParams())\n          .build()\n          .method(request.method() ?: HttpMethod.GET)\n          .body(body)\n          .exchange()\n    }\n\n  private fun getBody(request: ServerRequest): Mono&lt;BodyInserter&lt;*, in ClientHttpRequest&gt;&gt; {\n    return request.multipartData()\n        .filter { it.isNotEmpty() }\n        .map&lt;BodyInserter&lt;*, in ClientHttpRequest&gt;&gt; { multipart -&gt;\n          BodyInserters.fromMultipartData(multipart)\n        }\n        .switchIfEmpty(Mono.fromCallable {\n          val body = request.bodyToMono(String::class.java)\n          BodyInserters.fromPublisher(body, String::class.java)\n        })\n  }\n</code></pre>\n\n<p>I have a problem with multipart requests: it failing when trying to create body with multipart to send it to destination. </p>\n\n<p>I have the following config: </p>\n\n<pre><code>@Configuration\nopen class SwitcherMultipartConfigurer : WebFluxConfigurer {\n\n  override fun configureHttpMessageCodecs(configurer: ServerCodecConfigurer) {\n    configurer.customCodecs().reader(\n        MultipartHttpMessageReader(SynchronossPartHttpMessageReader())\n    )\n    configurer.customCodecs().writer(\n        MultipartHttpMessageWriter(\n\n        )\n    )\n  }\n}\n</code></pre>\n\n<p>What it can be? The error is: </p>\n\n<pre><code> observed an error org.springframework.core.codec.CodecException: No suitable writer found for part: file\n      | 2019-06-25T13:33:49.069006743Z  at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.encodePart(MultipartHttpMessageWriter.java:300)\n      | 2019-06-25T13:33:49.069013261Z  at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$encodePartValues$4(MultipartHttpMessageWriter.java:253)\n      | 2019-06-25T13:33:49.069018616Z  at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n      | 2019-06-25T13:33:49.069023613Z  at java.util.LinkedList$LLSpliterator.forEachRemaining(LinkedList.java:1235)\n      | 2019-06-25T13:33:49.069028522Z  at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n      | 2019-06-25T13:33:49.069033432Z  at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n      | 2019-06-25T13:33:49.069038361Z  at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n      | 2019-06-25T13:33:49.069043368Z  at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n      | 2019-06-25T13:33:49.069048212Z  at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n      | 2019-06-25T13:33:49.069053089Z  at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.encodePartValues(MultipartHttpMessageWriter.java:253)\n      | 2019-06-25T13:33:49.069058115Z  at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$writeMultipart$3(MultipartHttpMessageWriter.java:234)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561531033, "post_id": 56766553, "comment_id": 100089233, "body": "Is there any output before the stack trace?"}, {"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1561531159, "post_id": 56766553, "comment_id": 100089285, "body": "check the logs and share the error.."}, {"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1561531214, "post_id": 56766553, "comment_id": 100089308, "body": "try Build-&gt; rebuild project and if that does not work, file-&gt;invalidate caches and restart"}, {"owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "edited": false, "score": 0, "creation_date": 1561531270, "post_id": 56766553, "comment_id": 100089334, "body": "I have had similar issues when xml&#180;s have double <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code> tag at the begining of the file."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561531397, "post_id": 56766553, "comment_id": 100089395, "body": "@Slaw I&#39;ve edited the question to show what I see. I&#39;m not sure what you mean, does this answer your question? If not please tell me what you need and I&#39;ll get it."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1561531481, "post_id": 56766553, "comment_id": 100089423, "body": "@ShivamOberoi honestly, I never really got what the logs are? I&#39;m a beginner of course. I always thought that what I&#39;ve attached ARE the build logs. If not, where are the logs? The logcat shows nothing relevant as far as I can tell."}, {"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1561531667, "post_id": 56766553, "comment_id": 100089506, "body": "Not logcat might be error in eevent log check that.."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1561532230, "post_id": 56766553, "comment_id": 100089769, "body": "@ShivamOberoi I&#39;ve updated my question to show the eventLog, it doesn&#39;t really show any information. Is there something I need to click to see this information? Tried to click the different errors in the build output but t remains the same"}, {"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1561532290, "post_id": 56766553, "comment_id": 100089792, "body": "It generally says change your java version nothing else try rebuilding the project after checking whole project has java 1.8"}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1561532430, "post_id": 56766553, "comment_id": 100089859, "body": "@ShivamOberoi where else should I be looking for the java 1.8? As you can see in the image I&#39;ve attached my gradle is already set to build with 1.8, and in my settings in Kotlin compiler the Target JVM version is also set to 1.8"}, {"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1561532611, "post_id": 56766553, "comment_id": 100089972, "body": "try this <a href=\"https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target\" title=\"why kotlin gradle plugin cannot build with 1 8 target\">stackoverflow.com/questions/48601549/&hellip;</a>"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561532770, "post_id": 56766553, "comment_id": 100090053, "body": "I was actually looking for the &quot;raw&quot; output from Gradle. In IntelliJ IDEA, this would be displayed in the &quot;Run&quot; tab when executed through a run configuration. Android Studio may do things slightly differently. Anyway, your images show multiple &quot;<i>Calls to static methods in Java interfaces are prohibited in JVM target 1.6. Recompile with &#39;-jvm-target 1.8&#39;</i>&quot; errors. The link given by Shivam may help you."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1561533235, "post_id": 56766553, "comment_id": 100090279, "body": "I added some code based on the answer in the thread Shivam suggested. Now the error had changed, or actually reverted to an error I had about an hour or so ago that suddenly disappeared. Guess it&#39;s still there. Going down the rabbit hole. I&#39;ve added the details in the question"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561538054, "post_id": 56766553, "comment_id": 100092728, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48601549/why-kotlin-gradle-plugin-cannot-build-with-1-8-target\">Why kotlin gradle plugin cannot build with 1.8 target?</a>"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1561538239, "post_id": 56766553, "comment_id": 100092827, "body": "Regarding your new (or not-so-new) error, consider asking a new question if you can&#39;t find a solution. However, there appears <a href=\"https://stackoverflow.com/search?q=%5Bandroid%5D++is%3Aquestion+More+than+one+file+was+found+with+OS+independent+path\">to be a decent number of questions</a> with similar errors."}], "answers": [{"comments": [{"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1561531885, "post_id": 56766649, "comment_id": 100089615, "body": "It didn&#39;t help unfortunatly"}], "tags": [], "owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "is_accepted": false, "score": 0, "last_activity_date": 1561531275, "creation_date": 1561531275, "answer_id": 56766649, "question_id": 56766553, "link": "https://stackoverflow.com/questions/56766553/build-compilation-error-but-the-inspector-picks-up-nothing/56766649#56766649", "title": "Build &quot;compilation error&quot; but the inspector picks up nothing", "body": "<p>Try Build-> rebuild project and if that does not work, File->invalidate caches and restart</p>\n\n<p>sometimes android studio gets stuck stupidly on such things</p>\n"}, {"comments": [{"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1561532295, "post_id": 56766919, "comment_id": 100089795, "body": "I&#39;m not quite sure exactly what you mean, and it sounds a bit risky for me as a beginner to play with. If you could be more clear that would help."}, {"owner": {"reputation": 103, "user_id": 11603386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-reG2KvwuVlg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfI6X_RCZbXEqxkkB_Iqi0tUUfKpw/mo/photo.jpg?sz=128", "display_name": "Hitech P", "link": "https://stackoverflow.com/users/11603386/hitech-p"}, "reply_to_user": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1561532546, "post_id": 56766919, "comment_id": 100089927, "body": "Just show image and remove i selected folder in i already gave image and run your app"}], "tags": [], "owner": {"reputation": 103, "user_id": 11603386, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-reG2KvwuVlg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfI6X_RCZbXEqxkkB_Iqi0tUUfKpw/mo/photo.jpg?sz=128", "display_name": "Hitech P", "link": "https://stackoverflow.com/users/11603386/hitech-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1561532498, "last_edit_date": 1561532498, "creation_date": 1561532224, "answer_id": 56766919, "question_id": 56766553, "link": "https://stackoverflow.com/questions/56766553/build-compilation-error-but-the-inspector-picks-up-nothing/56766919#56766919", "title": "Build &quot;compilation error&quot; but the inspector picks up nothing", "body": "<p>Remove Project level .gradle folder , .idea folder and in app folder build folder delete and click on Make Project (Ctrl + F9).</p>\n\n<p>Show in Image</p>\n\n<p><a href=\"https://i.stack.imgur.com/KM7tp.png\" rel=\"nofollow noreferrer\">Show this image</a></p>\n"}, {"tags": [], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "is_accepted": false, "score": 0, "last_activity_date": 1561534272, "creation_date": 1561534272, "answer_id": 56767499, "question_id": 56766553, "link": "https://stackoverflow.com/questions/56766553/build-compilation-error-but-the-inspector-picks-up-nothing/56767499#56767499", "title": "Build &quot;compilation error&quot; but the inspector picks up nothing", "body": "<p>I ended up finding this:</p>\n\n<pre><code>   packagingOptions {\n        exclude 'META-INF/*.kotlin_module'\n    }\n</code></pre>\n\n<p>in this <a href=\"https://proandroiddev.com/current-issues-with-kotlin-multiplatform-and-how-to-fix-them-5ae62822a546\" rel=\"nofollow noreferrer\">article</a> and it fixxed it. Not sure here this even came from but I'm happy it's done..</p>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1561551976, "creation_date": 1561530794, "last_edit_date": 1561551976, "question_id": 56766553, "link": "https://stackoverflow.com/questions/56766553/build-compilation-error-but-the-inspector-picks-up-nothing", "title": "Build &quot;compilation error&quot; but the inspector picks up nothing", "body": "<p>I've been stuck for a few hours, and can't get it released.</p>\n\n<p>It gives me the regular <code>Compilation error. See log for more details</code>\nUsually I'd be finding an error in the code somewhere, or just run the inspector on the <code>app</code> module and it picks up the error, and after it's fixed, the build works.</p>\n\n<p>This time, neither I or the inspector pick up any errors in the code.</p>\n\n<p>It happened after I tried to integrate Algolia. But I've tried to revert all the I've done and the error persists. How to I get out of it?</p>\n\n<p>Edit: I see now the kotlin compiler gives me errors. It says for a few functions:\n<code>Calls to static methods in Java interfaces are prohibited in JVM target 1.6. Recompile with '-jvm-target 1.8'</code></p>\n\n<p>In my settings kotlin is set to compile wit 1.8 and in my app gradle I have these:</p>\n\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n\n<p>After building the eventLog shows this (even though it failed)</p>\n\n<pre><code>26-Jun-19\n16:53   Executing tasks: [:app:assembleDebug]\n\n16:53   Gradle build finished in 11 s 543 ms\n</code></pre>\n\n<p>Edit: After adding this to my gradle</p>\n\n<pre><code>android {\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n</code></pre>\n\n<p>thanks to an answer in a thread suggested by Shivam, the error now changed to the following:</p>\n\n<p><code>com.android.builder.merge.DuplicateRelativeFileException: More than one file was found with OS independent path 'META-INF/ktor-client-serialization.kotlin_module'</code></p>\n\n<p>This error actually existed about an hour ago, and then it disappeared. Now it's back. It feels like Android Studio keeps changing what bothers it in the code.\nI will try to look more into this error now.</p>\n\n<p>This is how it looks\n<a href=\"https://i.stack.imgur.com/s2pxr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2pxr.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/w7SGL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w7SGL.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>org.gradle.api.GradleException: Compilation error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:14)\n    at org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.run(GradleKotlinCompilerWork.kt:121)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runCompilerAsync(GradleKotlinCompilerRunner.kt:144)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runCompilerAsync(GradleKotlinCompilerRunner.kt:139)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runJvmCompilerAsync(GradleKotlinCompilerRunner.kt:79)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompilerAsync$kotlin_gradle_plugin(Tasks.kt:449)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompilerAsync$kotlin_gradle_plugin(Tasks.kt:359)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.executeImpl(Tasks.kt:316)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:288)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:73)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:41)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$4.run(ExecuteActionsTaskExecuter.java:337)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:326)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:311)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:75)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:158)\n    at org.gradle.internal.execution.impl.steps.ExecuteStep.execute(ExecuteStep.java:46)\n    at org.gradle.internal.execution.impl.steps.CancelExecutionStep.execute(CancelExecutionStep.java:34)\n    at org.gradle.internal.execution.impl.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:69)\n    at org.gradle.internal.execution.impl.steps.TimeoutStep.execute(TimeoutStep.java:49)\n    at org.gradle.internal.execution.impl.steps.CatchExceptionStep.execute(CatchExceptionStep.java:34)\n    at org.gradle.internal.execution.impl.steps.CreateOutputsStep.execute(CreateOutputsStep.java:49)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:42)\n    at org.gradle.internal.execution.impl.steps.SnapshotOutputStep.execute(SnapshotOutputStep.java:28)\n    at org.gradle.internal.execution.impl.steps.CacheStep.executeWithoutCache(CacheStep.java:136)\n    at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:60)\n    at org.gradle.internal.execution.impl.steps.CacheStep.execute(CacheStep.java:37)\n    at org.gradle.internal.execution.impl.steps.PrepareCachingStep.execute(PrepareCachingStep.java:33)\n    at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:38)\n    at org.gradle.internal.execution.impl.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:23)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:95)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:88)\n    at java.util.Optional.map(Optional.java:215)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:52)\n    at org.gradle.internal.execution.impl.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:36)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:34)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:109)\n    at org.gradle.api.internal.tasks.execution.ResolveIncrementalChangesTaskExecuter.execute(ResolveIncrementalChangesTaskExecuter.java:84)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:92)\n    at org.gradle.api.internal.tasks.execution.ResolveBeforeExecutionStateTaskExecuter.execute(ResolveBeforeExecutionStateTaskExecuter.java:75)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:110)\n    at org.gradle.api.internal.tasks.execution.ResolveBeforeExecutionOutputsTaskExecuter.execute(ResolveBeforeExecutionOutputsTaskExecuter.java:67)\n    at org.gradle.api.internal.tasks.execution.ResolveAfterPreviousExecutionStateTaskExecuter.execute(ResolveAfterPreviousExecutionStateTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:94)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:95)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:63)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:46)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "android-gradle-plugin", "kapt"], "comments": [{"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1584294488, "post_id": 56765491, "comment_id": 107386454, "body": "Did you find a solution to this?  I am wondering the same."}, {"owner": {"reputation": 11721, "user_id": 1541188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0a05a09fcfd23c6dedbd9e407a788f3?s=128&d=identicon&r=PG", "display_name": "urSus", "link": "https://stackoverflow.com/users/1541188/ursus"}, "reply_to_user": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1584325426, "post_id": 56765491, "comment_id": 107393979, "body": "Im not sure. I moved to newer versions of everything and I dont see it as often"}], "owner": {"reputation": 11721, "user_id": 1541188, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c0a05a09fcfd23c6dedbd9e407a788f3?s=128&d=identicon&r=PG", "display_name": "urSus", "link": "https://stackoverflow.com/users/1541188/ursus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2062, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1561525325, "creation_date": 1561525325, "question_id": 56765491, "link": "https://stackoverflow.com/questions/56765491/gradle-properties-kapt-incremental-apt-true-breaks-build", "title": "gradle.properties kapt.incremental.apt=true breaks build", "body": "<p>guys anybody had issus with incremental apt?\nI turn it on via <code>kapt.incremental.apt=true</code></p>\n\n<p>but then gradle breaks with</p>\n\n<pre><code>* What went wrong:\nExecution failed for task ':core:kaptDebugKotlin'.\n&gt; Could not resolve all files for configuration ':core:_classStructurekaptDebugKotlin'.\n   &gt; Failed to transform file 'classes.jar' to match attributes {artifactType=class-structure, org.gradle.usage=java-runtime-jars}\n      &gt; Execution failed for StructureArtifactTransform: C:\\Users\\ursus\\.gradle\\caches\\transforms-2\\files-2.1\\d17b7c88a03f1112fe0ba327a2d0eee6\\jars\\classes.jar.\n         &gt; java.lang.IllegalArgumentException (no error message)\n   &gt; Failed to transform file 'runtime-jvm-1.1.3.jar' to match attributes {artifactType=class-structure, org.gradle.usage=java-runtime-jars}\n      &gt; Execution failed for StructureArtifactTransform: C:\\Users\\ursus\\.gradle\\caches\\modules-2\\files-2.1\\com.squareup.sqldelight\\runtime-jvm\\1.1.3\\133500e0dcd9092c8f376d5add6ad7c4afb7177e\\runtime-jvm-1.1.3.jar.\n         &gt; java.lang.IllegalArgumentException (no error message)\n   &gt; Failed to transform file 'kotlin-stdlib-jdk7-1.3.40.jar' to match attributes {artifactType=class-structure, org.gradle.usage=java-runtime-jars}\n      &gt; Execution failed for StructureArtifactTransform: C:\\Users\\ursus\\.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-stdlib-jdk7\\1.3.40\\2995de8f68444ad47f29e7b59962ac31e6301d7e\\kotlin-stdlib-jdk7-1.3.40.jar.\n         &gt; java.lang.IllegalArgumentException (no error message)\n</code></pre>\n\n<p>.... truncated, same error but different dependency</p>\n\n<p>running with --stacktrace gives more of the same, only this looks promising </p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException\n        at org.jetbrains.org.objectweb.asm.ClassVisitor.&lt;init&gt;(ClassVisitor.java:79)\n        at org.jetbrains.kotlin.gradle.internal.kapt.incremental.ClassAbiExtractor.&lt;init&gt;(ClassAbiExtractor.kt:12)\n        at org.jetbrains.kotlin.gradle.internal.kapt.incremental.ClasspathAnalyzerKt.analyzeInputStream(ClasspathAnalyzer.kt:70)\n        at org.jetbrains.kotlin.gradle.internal.kapt.incremental.ClasspathAnalyzerKt.visitJar(ClasspathAnalyzer.kt:61)\n        at org.jetbrains.kotlin.gradle.internal.kapt.incremental.ClasspathAnalyzerKt.access$visitJar(ClasspathAnalyzer.kt:1)\n        at org.jetbrains.kotlin.gradle.internal.kapt.incremental.StructureArtifactTransform.transform(ClasspathAnalyzer.kt:23)\n        at org.gradle.api.internal.artifacts.transform.LegacyTransformer.transform(LegacyTransformer.java:76)\n        at org.gradle.api.internal.artifacts.transform.DefaultTransformerInvoker$TransformerExecution.execute(DefaultTransformerInvoker.java:274)\n        at org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:33)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\n        at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:58)\n        at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:35)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:33)\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:39)\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\n        at org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:35)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n        at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:45)\n        at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:31)\n        at org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:201)\n        at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:70)\n        at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:45)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\n        at org.gradle.internal.execution.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:43)\n        at org.gradle.internal.execution.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:32)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:96)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:89)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:54)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:77)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:90)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:48)\n        at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\n        at org.gradle.api.internal.artifacts.transform.DefaultTransformerInvoker.lambda$invoke$2(DefaultTransformerInvoker.java:148)\n        ... 39 more\n\n</code></pre>\n\n<pre><code>org.gradle.jvmargs=-Xmx1536m\norg.gradle.parallel=true\nkotlin.code.style=official\nkotlin.parallel.tasks.in.project=true\nkapt.include.compile.classpath=false\nkapt.incremental.apt=true &lt;----\nkapt.use.worker.api=true\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>gradle 5.1.1; agp 3.4.1, kotlin 1.3.40</p>\n"}, {"tags": ["android", "sql", "database", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1561523910, "post_id": 56765123, "comment_id": 100086781, "body": "You can use <a href=\"http://www.sqlitetutorial.net/sqlite-in/\" rel=\"nofollow noreferrer\"><code>SQLite IN</code></a>."}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1561524022, "post_id": 56765123, "comment_id": 100086810, "body": "@ADM could you explain in the answer a little bit more with syntax? Thanks"}, {"owner": {"reputation": 704, "user_id": 7451779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9312bc877dd61d3a3b15e25eea522b3a?s=128&d=identicon&r=PG&f=1", "display_name": "Haider Malik", "link": "https://stackoverflow.com/users/7451779/haider-malik"}, "edited": false, "score": 0, "creation_date": 1561524184, "post_id": 56765123, "comment_id": 100086849, "body": "Are you loading into a list view? Why not use a cursor adapter?"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1561524222, "post_id": 56765123, "comment_id": 100086862, "body": "<a href=\"https://stackoverflow.com/questions/16295432/sqlite-in-operator-in-query\">Here</a> is an example ."}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 704, "user_id": 7451779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9312bc877dd61d3a3b15e25eea522b3a?s=128&d=identicon&r=PG&f=1", "display_name": "Haider Malik", "link": "https://stackoverflow.com/users/7451779/haider-malik"}, "edited": false, "score": 0, "creation_date": 1561524244, "post_id": 56765123, "comment_id": 100086869, "body": "@HaiderMalik No I don&#39;t need show in UI. Only to load and process."}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1561524292, "post_id": 56765123, "comment_id": 100086881, "body": "@ADM Thanks a lot. I still need a loop to prepare the sanitized arguments from ids right?"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1561524738, "post_id": 56765123, "comment_id": 100087005, "body": "@ADM please see my updated post"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1561644505, "post_id": 56765123, "comment_id": 100140276, "body": "@ADM your clue solves my problem. You can post it in answer so that i can select as correct answer."}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1561872105, "post_id": 56765123, "comment_id": 100197878, "body": "Please Answer your own question and mark it accepted.."}], "answers": [{"tags": [], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "is_accepted": true, "score": 0, "last_activity_date": 1561948704, "creation_date": 1561948704, "answer_id": 56829463, "question_id": 56765123, "link": "https://stackoverflow.com/questions/56765123/sqlite-how-to-efficiently-load-data-which-contains-in-id-list/56829463#56829463", "title": "SQLite - How to efficiently load data which contains in id list", "body": "<p>As per @ADM s clue in the comment, it is possible to use <code>IN</code> operation in <code>SQLite</code> database.\nHere is an example,</p>\n\n<pre><code>val args = arrayOf(\"1\", \"2\") // static\nval cursor = db.query(\"records\", null, \"_ID in (?, ?)\", args, null, null)\n</code></pre>\n\n<p>Most of the times you need to prepare args from a variable length of list. In that case you can apply below trick. Let's say <code>ids</code> is a list of string IDs with whom database IDs need to be matched.</p>\n\n<pre><code>val selection = \"_ID IN (${ids.joinToString { \"\\\"$it\\\"\" }})\"  // dynamic\nval cursor = db.query(\"records\", null, selection, null, null, null)\n</code></pre>\n"}], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 56829463, "answer_count": 1, "score": 0, "last_activity_date": 1561948797, "creation_date": 1561522855, "last_edit_date": 1592644375, "question_id": 56765123, "link": "https://stackoverflow.com/questions/56765123/sqlite-how-to-efficiently-load-data-which-contains-in-id-list", "title": "SQLite - How to efficiently load data which contains in id list", "body": "<p>Let's consider below function,</p>\n<pre><code>data class ModelData(var id: String?, var name: String?) {\n\n}\n\nfun loadData(ids: List&lt;String&gt;): List&lt;ModelData&gt; {\n\n    // Here, I have to return list of model data which matches with ids\n\n}\n</code></pre>\n<p>I can do it with a loop which seems very inefficient.</p>\n<pre><code>fun loadData(ids: List&lt;String&gt;): List&lt;ModelData&gt; {\n    val list = List&lt;ModelData&gt;\n    val selection = DBKeys.MODEL_ID + &quot; LIKE ?&quot;\n    val selectionArgs = arrayOf&lt;String&gt;(&quot;&quot;)\n    for (id in ids) {\n        val selectionArg = arrayOf&lt;String&gt;(id)\n        val cursor = DBManager.query(TABLE_RECORD, selection, selectionArgs, null, null, null)\n        // prepare model 'data' from cursor\n        list.add(data)\n    }\n    return list\n}\n</code></pre>\n<p><strong>I wonder is there any other efficient way?</strong> It would be better if there were SQLite selection query with contains operation.</p>\n<h3>Update</h3>\n<p>From the suggested post by ADM, I found example,</p>\n<pre><code>String[] args = new String[]{A,B} // if A, B are variables\nString[] args = new String[]{&quot;A&quot;,&quot;B&quot;}    \nCursor cur = db.query(&quot;tab1&quot;, null, &quot;name in (?,?)&quot;, args, null, null, null);  \n</code></pre>\n<p>I wonder if the variables are from list, is there any way to prepare sanitized input it without using loop?</p>\n"}, {"tags": ["android", "android-fragments", "android-intent", "kotlin", "android-contextmenu"], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 7451779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9312bc877dd61d3a3b15e25eea522b3a?s=128&d=identicon&r=PG&f=1", "display_name": "Haider Malik", "link": "https://stackoverflow.com/users/7451779/haider-malik"}, "is_accepted": true, "score": 0, "last_activity_date": 1561520061, "creation_date": 1561520061, "answer_id": 56764800, "question_id": 56764475, "link": "https://stackoverflow.com/questions/56764475/how-do-i-start-an-intent-from-context-menu/56764800#56764800", "title": "How do I start an Intent from context Menu", "body": "<p>I don't know much about kotlin but I know in java it would be:</p>\n\n<pre><code>@Override\npublic boolean onContextItemSelected(MenuItem item) {\n\n    if (item.getTitle() == getResources().getString(R.string.context_add_content_title)) {\n        // do whatever\n    }else {\n        return  false;\n    }\n    return true;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 563, "user_id": 6721828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zqZn9.jpg?s=128&g=1", "display_name": "Edgar Khimich", "link": "https://stackoverflow.com/users/6721828/edgar-khimich"}, "is_accepted": false, "score": 0, "last_activity_date": 1561520177, "creation_date": 1561520177, "answer_id": 56764810, "question_id": 56764475, "link": "https://stackoverflow.com/questions/56764475/how-do-i-start-an-intent-from-context-menu/56764810#56764810", "title": "How do I start an Intent from context Menu", "body": "<p>The problem was because your didn't add menu items to your context menu.</p>\n\n<p>This one will work: </p>\n\n<pre><code>class MainActivity : Activity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    registerForContextMenu(inc_btn)\n}\n\noverride fun onCreateContextMenu(\n    menu: ContextMenu, v: View,\n    menuInfo: ContextMenuInfo?) {\n    super.onCreateContextMenu(menu, v, menuInfo)\n    val inflater = menuInflater\n    inflater.inflate(R.menu.sample_menu, menu)\n}\n\noverride fun onContextItemSelected(item: MenuItem): Boolean {\n        Log.d(\"mlogs\", \"click\")\n        if (item.title == \"Save\") {\n            Log.d(\"mlogs\", \"SAVE\")\n        } else {\n            return false\n        }\n        return true\n    }\n}\n</code></pre>\n\n<p>And don't forget add your menu items in menu.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:id=\"@+id/new_game\"\n        android:title=\"First\"\n        app:showAsAction=\"ifRoom\" /&gt;\n    &lt;item android:id=\"@+id/help\"\n        android:title=\"Second\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5291426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74bdfb29649a72ef221112e44ebe9fd6?s=128&d=identicon&r=PG", "display_name": "Kennan Obura", "link": "https://stackoverflow.com/users/5291426/kennan-obura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 56764800, "answer_count": 2, "score": 0, "last_activity_date": 1561520177, "creation_date": 1561517146, "question_id": 56764475, "link": "https://stackoverflow.com/questions/56764475/how-do-i-start-an-intent-from-context-menu", "title": "How do I start an Intent from context Menu", "body": "<p>I have a contextMenu with a single item inside my fragment. I want to start another Intent but seems the item is unable to detect click</p>\n\n<pre><code> override fun onCreateContextMenu(menu: ContextMenu?, v: View?, menuInfo: ContextMenu.ContextMenuInfo?) {\n        super.onCreateContextMenu(menu, v, menuInfo)\n        menu?.setHeaderTitle(\"Menu\");\n        menu?.add(0, 1000, 0, R.string.context_add_content_title)\n\n    }\n</code></pre>\n\n<pre><code> override fun onContextItemSelected(item: MenuItem?): Boolean {\n\n\n            when(item?.itemId){\n                1000 -&gt;  startManageContentActivity()\n            }\n\n        Log.e(\"Clicked\", \"Yes at $item\")\n        return super.onContextItemSelected(item)\n    }\n\n    private fun startManageContentActivity() {\n        val intent: Intent = Intent(activity, ManageContentActivity::class.java)\n        startActivity(intent)\n    }\n</code></pre>\n\n<p>Can someone help me with this</p>\n"}, {"tags": ["kotlin", "null"], "comments": [{"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1561544605, "post_id": 56764419, "comment_id": 100096554, "body": "What&#39;s wrong with <code>if(A != null &amp;&amp; B != null)</code>?"}, {"owner": {"reputation": 119, "user_id": 9214779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adec0a2bb7c7d089797a0ea3650e593?s=128&d=identicon&r=PG&f=1", "display_name": "user9214779", "link": "https://stackoverflow.com/users/9214779/user9214779"}, "reply_to_user": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1561623413, "post_id": 56764419, "comment_id": 100127598, "body": "when A is a field , not a localVariable. It does&#39;t work.  Now, I edit the question again, the B is the nullable field of the A."}], "answers": [{"tags": [], "owner": {"reputation": 737, "user_id": 10715642, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QRLDtnm1-IE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ipSlUb1x7ARbIjnOaLC_Y9VX2jNQ/mo/photo.jpg?sz=128", "display_name": "Damon Baker", "link": "https://stackoverflow.com/users/10715642/damon-baker"}, "is_accepted": false, "score": 3, "last_activity_date": 1561524589, "last_edit_date": 1561524589, "creation_date": 1561519574, "answer_id": 56764741, "question_id": 56764419, "link": "https://stackoverflow.com/questions/56764419/how-to-avoid-nest-null-check-by-let/56764741#56764741", "title": "How to avoid nest \u300cnull check\u300dby &quot;?.let&quot;?", "body": "<p>There are extension functions out there to achieve what you're looking for, you can find them in this thread <a href=\"https://discuss.kotlinlang.org/t/kotlin-null-check-for-multiple-nullable-vars/1946\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/kotlin-null-check-for-multiple-nullable-vars/1946</a></p>\n\n<p>But honestly, you're probably better of just using a basic if check here, if the variable is mutable you can assign it to a <code>val</code> first.</p>\n\n<pre><code>val _a = a\nval _b = b\nif (_a != null &amp;&amp; _b != null) {\n\n}\n</code></pre>\n\n<p>Edit: If you still really want to use let though, for this case you could create a pair and use <code>takeIf</code></p>\n\n<pre><code>(a to b)\n    .takeIf { (a, b) -&gt;\n        a != null &amp;&amp; b != null\n    }\n    ?.let { (a, b) -&gt;\n\n    }\n</code></pre>\n\n<p>However the compiler won't smartcast the values as non-null, so you will still have to perform a non-null (!!) assertion on them.</p>\n"}, {"comments": [{"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1561522694, "post_id": 56764829, "comment_id": 100086490, "body": "This seems to me like the poster child use case for !!"}, {"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1561545284, "post_id": 56764829, "comment_id": 100097015, "body": "Assuming B is not a property of A then this <code>A?.B?.let</code> doesn&#39;t even compile"}], "tags": [], "owner": {"reputation": 2702, "user_id": 7254873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jfQVFidpSlo/AAAAAAAAAAI/AAAAAAAAAFM/DBb8C8t0w64/photo.jpg?sz=128", "display_name": "Sumit Shukla", "link": "https://stackoverflow.com/users/7254873/sumit-shukla"}, "is_accepted": false, "score": 2, "last_activity_date": 1564807894, "last_edit_date": 1564807894, "creation_date": 1561520344, "answer_id": 56764829, "question_id": 56764419, "link": "https://stackoverflow.com/questions/56764419/how-to-avoid-nest-null-check-by-let/56764829#56764829", "title": "How to avoid nest \u300cnull check\u300dby &quot;?.let&quot;?", "body": "<p>By default Kotlin avoids <code>null</code> values and for <code>Null Safety</code> it provides:  </p>\n\n<p><em>1) Safe Call Operator( ?. )<br>\n2) Not-Null Assertion( !! )<br>\n3) Elvis Opeartor( ?: )<br>\n4) Safe Call with let ( ?.let{...} )</em></p>\n\n<ul>\n<li><p><strong>Safe Call Operator( ?. )</strong>:Checks if the property is not null before                       performing any operations.</p></li>\n<li><p><strong>Not-Null Assertion( !! )</strong> : Explicitly tells the compiler that the property is not null and if it\u2019s null, please throw a null pointer exception (NPE)</p></li>\n<li><p><strong>Elvis Opeartor( ?: )</strong>: It's like ternary operator in java. If property is not null then left expression is returned otherwise right.</p></li>\n<li><p><strong>Safe Call with let ( ?.let{...} )</strong>: It will execute the let block only if property is not null</p></li>\n</ul>\n\n<blockquote>\n  <p>Example with Not Null Value inside property:</p>\n</blockquote>\n\n<pre><code>    fun main() {\n      val name: String? = \"Sumit\"\n      println(\"Safe Call operator: ${name?.length}\")\n      name?.let {\n          println(\"Safe Call wih let operator: ${name.length}\")\n      }\n      val length = name?.length ?: 0\n      println(\"Elvis operator : $length\")\n      println(\"Not Null Assertion Operator : ${name!!.length}\")\n   }  \n</code></pre>\n\n<p><strong>Output (With Not Null Value inside property)</strong><br>\n    Safe Call operator: 5<br>\n    Safe Call wih let operator: 5<br>\n    Elvis operator : 5<br>\n    Not Null Assertion Operator : 5</p>\n\n<p><strong>Output (With Null Value inside property)(val name: String? = null)</strong></p>\n\n<pre><code>Safe Call operator: null\nElvis operator : 0\nException in thread \"main\" kotlin.KotlinNullPointerException\n  at HelloKt.main(Hello.kt:14)\n  at HelloKt.main(Hello.kt)\n</code></pre>\n\n<p>Here, safe call with let is not executed!! And Not-Null assertion operator throws null pointer exception.</p>\n\n<p><strong>Your problem can use not-null assertion operator:</strong></p>\n\n<blockquote>\n<pre><code>A?.B?.let {   \n    // If A and B are not null then only this block will be executed.  \n      A.someMethod()  \n      B.someMethod()\n}\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 2, "last_activity_date": 1561534523, "creation_date": 1561534523, "answer_id": 56767575, "question_id": 56764419, "link": "https://stackoverflow.com/questions/56764419/how-to-avoid-nest-null-check-by-let/56767575#56767575", "title": "How to avoid nest \u300cnull check\u300dby &quot;?.let&quot;?", "body": "<p>You could implement it like a <em>Swift</em> guard with an elvis operator <code>?:</code></p>\n\n<pre><code>fun doSomething() {\n    val a = A ?: return\n    val b = B ?: return\n    doSomethingWith(a, b)\n}\n</code></pre>\n\n<p>Here <code>a</code> and <code>b</code> are non-nullable references to the data you hold in In this case you'd just return from your function.</p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 6875319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M5clW.jpg?s=128&g=1", "display_name": "Tyler Turnbull", "link": "https://stackoverflow.com/users/6875319/tyler-turnbull"}, "is_accepted": false, "score": 0, "last_activity_date": 1599771667, "creation_date": 1599771667, "answer_id": 63837622, "question_id": 56764419, "link": "https://stackoverflow.com/questions/56764419/how-to-avoid-nest-null-check-by-let/63837622#63837622", "title": "How to avoid nest \u300cnull check\u300dby &quot;?.let&quot;?", "body": "<p>Another option could be to write something like this</p>\n<pre><code>fun &lt;A, B&gt; A?.and(that: B?, block: (A, B) -&gt; Unit) {\n    this?.let { a -&gt; that?.let { b -&gt; block(a, b) } }\n}\n</code></pre>\n<p>and then use it like this</p>\n<pre><code>var first: Int?\nvar second: Int?\n\nfirst.and(second) { f, s -&gt; someFunction(f,s) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6181868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f84984f6ebe564400c891608ed17ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6181868/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1600495312, "creation_date": 1600495312, "answer_id": 63965732, "question_id": 56764419, "link": "https://stackoverflow.com/questions/56764419/how-to-avoid-nest-null-check-by-let/63965732#63965732", "title": "How to avoid nest \u300cnull check\u300dby &quot;?.let&quot;?", "body": "<p>You can use when as an or statement for multiple variables</p>\n<pre><code>when(null) {\n  a, b -&gt; return  //for your case of nested properties try something like &quot;obj.a, obj?.a?.b&quot;\n  else -&gt; doSomethingWhenAAndBAreNotNull()\n}\n//or do something when a and b are not null here so you don't need to nest\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 9214779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adec0a2bb7c7d089797a0ea3650e593?s=128&d=identicon&r=PG&f=1", "display_name": "user9214779", "link": "https://stackoverflow.com/users/9214779/user9214779"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1600495312, "creation_date": 1561516685, "last_edit_date": 1561623226, "question_id": 56764419, "link": "https://stackoverflow.com/questions/56764419/how-to-avoid-nest-null-check-by-let", "title": "How to avoid nest \u300cnull check\u300dby &quot;?.let&quot;?", "body": "<p>let in kotlin help me avoid some if(null?) doSomething.</p>\n\n<p>But I have a problem.</p>\n\n<p>A is the field of the object, And B is the field of Object A. they can be nullbale. </p>\n\n<p>They in code like this.</p>\n\n<pre><code>class Obj {\n   var a : A?\n}\n\nclass A {\n   var b : B?\n}\n</code></pre>\n\n<p>I knew I can do it by double let:</p>\n\n<pre><code>A?.let { \n   it.B.let {\n      // a must nonnull\n   }\n}\n</code></pre>\n\n<pre><code>A?.B?.let {\n  // how to use A ,without null check again? \n}\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1561518619, "post_id": 56764255, "comment_id": 100085726, "body": "I&#39;ll offer an aside here to broaden the perspective a bit.  One of my good friends is a Scala fanatic,  We can&#39;t talk languages any more, at least not JVM languages, because he gets so religious about Scala.  As I say below, my company and I went with Kotlin.  My only reason for saying this is that my friend is also a Big Time Spring fan.  I don&#39;t know the details, but he builds great projects with Spring and Scala.  So just because Spring Initializr doesn&#39;t support a particular alternative JVM language doesn&#39;t mean it isn&#39;t a valid option."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1561546380, "post_id": 56764255, "comment_id": 100097602, "body": "One of the thing to be aware of is that Kotlin compiler doesn&#39;t force you catching/declaring checked exceptions, so you need to pay extra attention to <code>@Transactional</code> methods as rollback is <i>not</i> executed for checked exceptions. That is easier to &quot;remember&quot; in Java, where you are forced to either handle them or declare them in the method&#39;s signature"}], "answers": [{"tags": [], "owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "is_accepted": false, "score": 1, "last_activity_date": 1561517457, "last_edit_date": 1561517457, "creation_date": 1561516179, "answer_id": 56764356, "question_id": 56764255, "link": "https://stackoverflow.com/questions/56764255/what-are-the-differences-using-spring-boot-with-kotlin-and-with-java/56764356#56764356", "title": "What are the differences using spring boot with Kotlin and with Java?", "body": "<p>The main difference is: with Kotlin, you're programming in Kotlin...with Java, you're programming in Java.  Spring makes use of some languages features exclusive to Kotlin to streamline certain operations, but I wouldn't think you'd want to choose one language over the other just because of those few additional benefits.  For the most part, there is no difference.  Spring supports both languages well.</p>\n\n<p>UPDATE: I guess I should add that Kotlin does introduce a few minor problems into the whole Spring thing, just because Spring is actually written in Java and was originally designed to be utilized via Java.  But just like the pros you get with Spring and Kotlin, these minor negatives should likewise not dictate your choice as to which language to use.</p>\n\n<p>I think what you should be asking is \"which language should I use leaving Spring out of it?\".  My company is coding new modules in Kotlin because we consider it a significantly better language than Java.  But we have lots of legacy Java code, and we've chosen to for the most part not mix languages within a single module, so we still code in Java too.  You have to make your own decision.  Decide what language you want to program in based on the language itself, and on your existing codebase, but not on how Spring works with it.  Spring will work great with either.</p>\n\n<p>There are many articles and blogs out there comparing the two languages, listing their relative pros and cons.  I'd suggest that you read everything you can.  There's no \"right\" answer here. (...which is why I know this question is going to be closed as being opinion-based).  Try Kotlin.  Heck, try Groovy and Scala too.  \"live\" the pros and cons for yourself, and then decide what will work best for you.</p>\n\n<p>BTW, you list \"Risk to have Java moving faster than Kotlin\" as a Con of Kotlin.  I think the risk is in the other direction.  Java moves very slowly compared to Kotlin and other alternative languages.  That's why you see it playing catch-up...finally introducing features into the language that have been in the alternative languages for many years.</p>\n"}, {"comments": [{"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 0, "creation_date": 1561517376, "post_id": 56764477, "comment_id": 100085505, "body": "I can&#39;t disagree with anything you say here.  Kotlin Rocks!"}, {"owner": {"reputation": 15297, "user_id": 7631480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcBMm.png?s=128&g=1", "display_name": "CryptoFool", "link": "https://stackoverflow.com/users/7631480/cryptofool"}, "edited": false, "score": 1, "creation_date": 1561518034, "post_id": 56764477, "comment_id": 100085630, "body": "I&#39;ll put this comment here because you mention JetBrains.  A VERY serious thing that Kotlin has going for it is that it is coming out of JetBrains.  JetBrains&#39; IntelliJ is, Hands Down, THE development environment for the JVM.  Eclipse is nice.  It even does some things IntelliJ doesn&#39;t do.  But it&#39;s &quot;the other guy&quot;.  IntelliJ, like Kotlin, Rocks!  You can&#39;t go wrong sticking with anything coming out of JetBrains!  (PyCharm&#39;s an amazing tool as well).  The combo of IntelliJ and Kotlin is an awesome 1 2 punch that can&#39;t be ignored if your main goal is productivity."}, {"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561750881, "post_id": 56764477, "comment_id": 100179005, "body": "Thank you both. I am pretty convinced with Kotlin but I have trouble convincing my new team to try it."}], "tags": [], "owner": {"reputation": 2173, "user_id": 5435216, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166960923332076/picture?type=large", "display_name": "Tahir Hussain Mir", "link": "https://stackoverflow.com/users/5435216/tahir-hussain-mir"}, "is_accepted": true, "score": 4, "last_activity_date": 1561517155, "creation_date": 1561517155, "answer_id": 56764477, "question_id": 56764255, "link": "https://stackoverflow.com/questions/56764255/what-are-the-differences-using-spring-boot-with-kotlin-and-with-java/56764477#56764477", "title": "What are the differences using spring boot with Kotlin and with Java?", "body": "<p>Since Kotlin is simply a dependency and plugin for Maven (that's it!). It's such a nice, compact, easy-to-grok language that removes all the syntactic fat (opposed to syntactic sugar) that Java provides.</p>\n\n<p>From 5.0.0 onward Kotlin has first-class support from Spring, which effectively means it has all the same guarantees as Java in terms of code working correctly.</p>\n\n<p>Kotlin itself has a ton of interoperability features to smoothly integrate with any already existing Java library, which means you have the same freedom of choice.</p>\n\n<p>Kotlin's Java interop is amazing, and was by no means an afterthought by Jet Brains. Thus Kotlin works nicely with Spring, which provides a lot of the boilerplate functionality for web applications, especially Spring Boot.</p>\n\n<p>These are some points which You already mentioned but I will still have a say about it. Kotlin has a much more compact syntax and its type system allows for much more robust code through null-safety, sealed classes, and immutable/mutable collection distinction, which together significantly reduce development time on any project.</p>\n"}], "owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3283, "favorite_count": 1, "accepted_answer_id": 56764477, "answer_count": 2, "score": 4, "last_activity_date": 1561517457, "creation_date": 1561515322, "question_id": 56764255, "link": "https://stackoverflow.com/questions/56764255/what-are-the-differences-using-spring-boot-with-kotlin-and-with-java", "title": "What are the differences using spring boot with Kotlin and with Java?", "body": "<p>What are the differences using spring boot with Kotlin and with Java?</p>\n\n<p>Kotlin is among the three languages you could choose to start your app with <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a>. So it's supported by the spring boot team. I used it to develop some microservices and as far as I know everything went fine at the end but I would like to have some feedback from other developers because I try to convince my new team to start our new microservices in Kotlin.</p>\n\n<p>Pros:</p>\n\n<ul>\n<li>Null safety </li>\n<li>Clearer code</li>\n<li>Val over var</li>\n</ul>\n\n<p>Cons:</p>\n\n<ul>\n<li>Mockito not Kotlin friendly (I switched to mockk) </li>\n<li>Code coverage was not out of the box (we had to develop our own plugin) </li>\n<li>Risk to have Java moving faster than Kotlin</li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1561508184, "post_id": 56763450, "comment_id": 100083956, "body": "instead of <code>runBlocking</code> try <code>GlobalScope.launch(Dispatchers.Main)</code>"}, {"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1561508248, "post_id": 56763450, "comment_id": 100083969, "body": "I tried that also :("}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1561508936, "post_id": 56763450, "comment_id": 100084076, "body": "What happens? Also - what is this <code>result</code> variable? At this moment your <code>async</code> task returns nothing. Why do you declare <code>fun rApi()</code> instead of <code>val rApi</code>?"}, {"owner": {"reputation": 482, "user_id": 1568148, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbd40be6fef48b11c08489d924b01970?s=128&d=identicon&r=PG", "display_name": "Turvy", "link": "https://stackoverflow.com/users/1568148/turvy"}, "edited": false, "score": 0, "creation_date": 1561509062, "post_id": 56763450, "comment_id": 100084094, "body": "otherwise, you can create a new Thread T, call your API and manage callback inside, and wait the end with T.join()"}, {"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1561510691, "post_id": 56763450, "comment_id": 100084377, "body": "@Pawel I just edited the question to show you the error"}, {"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1561510765, "post_id": 56763450, "comment_id": 100084384, "body": "@Pawel: What do I have to do with the <code>GlobalScope</code>?"}, {"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561512449, "post_id": 56763450, "comment_id": 100084621, "body": "And GlobalScope.launch seems to be working!!! Thanks a lot!!! I&#39;ll do some more tests and let you know"}], "answers": [{"comments": [{"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561513911, "post_id": 56764043, "comment_id": 100084886, "body": "I tried this and got <code>java.lang.IllegalStateException: Module with the Main dispatcher is missing. Add dependency providing the Main dispatcher, e.g. &#39;kotlinx-coroutines-android&#39;</code>"}, {"owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "reply_to_user": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561514257, "post_id": 56764043, "comment_id": 100084959, "body": "Try to use <code>coroutine</code> by add dependency : <code>implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.1&quot;</code>"}, {"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561514288, "post_id": 56764043, "comment_id": 100084962, "body": "OK, I added that dependency (I thought I had it), now I got <code>java.lang.IllegalStateException: Module with the Main dispatcher had failed to initialize</code>"}, {"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561514330, "post_id": 56764043, "comment_id": 100084976, "body": "I had the one you mentioned, I had to add <code>&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.1&quot;</code> also"}, {"owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "reply_to_user": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561514780, "post_id": 56764043, "comment_id": 100085056, "body": "I update my answer that might solve the error, suggest use the latest <code>coroutines-core</code> version."}, {"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561515283, "post_id": 56764043, "comment_id": 100085136, "body": "It worked! Just needed to use 1.1.0 as they say here: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/932\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/issues/932</a>"}, {"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561515359, "post_id": 56764043, "comment_id": 100085154, "body": "I have <code>&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.1.0&quot;</code> and <code>&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.1&quot;</code>"}, {"owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "reply_to_user": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561515685, "post_id": 56764043, "comment_id": 100085213, "body": "That&#39;s interesting, never thought that we might need to downgrade. Can you please consider mark my answer as accepted :) ?"}, {"owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "edited": false, "score": 0, "creation_date": 1561519816, "post_id": 56764043, "comment_id": 100085930, "body": "Sure, sorry I left the office without marking the question. Thanks a lot. I tried the GlobalScope early in the morning, but the withContext() made the trick"}], "tags": [], "owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "is_accepted": true, "score": 5, "last_activity_date": 1561514737, "last_edit_date": 1561514737, "creation_date": 1561513264, "answer_id": 56764043, "question_id": 56763450, "link": "https://stackoverflow.com/questions/56763450/kotlin-how-to-perform-an-async-function-and-wait-for-it-to-finish/56764043#56764043", "title": "Kotlin: How to perform an async function and wait for it to finish?", "body": "<p>Since you want to use <code>coroutine</code>-<code>async</code> ways, you must tell main thread to waiting for you. you need to use <code>suspend</code> function or block to do this.</p>\n\n<pre><code>GlobalScope.launch {\n    suspend {\n        Log.d(\"coroutineScope\", \"#runs on ${Thread.currentThread().name}\")\n        delay(10000)\n        withContext(Dispatchers.Main) {\n            Log.d(\"coroutineScope\", \"#runs on ${Thread.currentThread().name}\")\n        }\n    }.invoke()\n}\n</code></pre>\n\n<p>result log</p>\n\n<pre><code>09:36:09.500 D/: #runs on DefaultDispatcher-worker-1\n// 10 seconds later\n09:36:19.678 D/: #runs on main \n</code></pre>\n\n<p>I think this should do the trick.</p>\n\n<p>However I suggest you to understand how to use OkHttp/Volley by passing callbacks(with onSuccess and onFail or something) into that.\nOr <code>Retrofit2</code> with <code>RxJava</code>to handle many of these issues.</p>\n\n<p><strong>EDIT</strong>\nFor the <code>Module with the Main dispatcher had failed to initialize</code> error, replace the <code>withContext()</code> line with this</p>\n\n<pre><code>withContext(Handler(Looper.getMainLooper()).asCoroutineDispatcher())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "is_accepted": false, "score": 0, "last_activity_date": 1574838165, "creation_date": 1574838165, "answer_id": 59064735, "question_id": 56763450, "link": "https://stackoverflow.com/questions/56763450/kotlin-how-to-perform-an-async-function-and-wait-for-it-to-finish/59064735#59064735", "title": "Kotlin: How to perform an async function and wait for it to finish?", "body": "<p>In Kotlin you can convert callbacks to coroutines as described in this codelab <a href=\"https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#6\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#6</a></p>\n"}], "owner": {"reputation": 1282, "user_id": 1305886, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5add4d668f4e8052de625652f578f64a?s=128&d=identicon&r=PG", "display_name": "luisfer", "link": "https://stackoverflow.com/users/1305886/luisfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9777, "favorite_count": 0, "accepted_answer_id": 56764043, "answer_count": 2, "score": 5, "last_activity_date": 1574838165, "creation_date": 1561507019, "last_edit_date": 1561510657, "question_id": 56763450, "link": "https://stackoverflow.com/questions/56763450/kotlin-how-to-perform-an-async-function-and-wait-for-it-to-finish", "title": "Kotlin: How to perform an async function and wait for it to finish?", "body": "<p>I'm writting my first app in Kotlin, so I'm pretty new to this. One of the functions it performs is to read something from an API, and then update the screen based on the result.</p>\n\n<p>I have tried lots of things with the coroutines, but nothing seems to work.</p>\n\n<p>For example, I have something like this:</p>\n\n<pre><code>private fun readAPI() {\n    runBlocking {\n        fun rAPI() = async {\n            val api = \"...\"\n            result = URL(api).readText()\n        }\n        println(tag, \"Result: \" + rAPI().await())\n    }\n}\n</code></pre>\n\n<p>And lots of different approaches. Nothing seems to work. In the above case I'm getting an exception \"android.os.NetworkOnMainThreadException\".</p>\n\n<p>The only thig that has worked so far, is something using OkHttp3 as described here: <a href=\"https://rstopup.com/como-hacer-una-solicitud-a-la-api-de-kotlin.html\" rel=\"noreferrer\">https://rstopup.com/como-hacer-una-solicitud-a-la-api-de-kotlin.html</a> (it's in Spanish, but you'll get the idea), and this works, it brings the API response, I parse it, fill in my sqlite3 database and so on. But, since I don't know when the API ends, I can't update the screen controls. And if I try to do it serially, I get an exception that only the thread which started the activity is the one that can update the activity or something like that.</p>\n\n<p>I've seen, and follow LOTS of tutorials that talks about suspend functions, launch, etc., and they try to mimick an API call with <code>delay()</code>, those tutorials work perfectly, until I try to do a real API call.</p>\n\n<p>So, can you point me to a full example on how to call an API with Kotlin, and then update some screen elements?</p>\n\n<p>EDIT\nI'm editing changing the fun by val:</p>\n\n<pre><code>runBlocking {\n  val rAPI = async {\n    val api = \"...\"\n    URL(api).readText()\n  }\n  Log.w(tag, rAPI.await())\n}\n</code></pre>\n\n<p>I got the \"android.os.NetworkOnMainThreadException\" exception.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 11133438, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S24ULybNxFA/AAAAAAAAAAI/AAAAAAAACWs/Ey1ZdqZz13s/photo.jpg?sz=128", "display_name": "Ahmed Jamal", "link": "https://stackoverflow.com/users/11133438/ahmed-jamal"}, "is_accepted": false, "score": 1, "last_activity_date": 1561510329, "creation_date": 1561510329, "answer_id": 56763763, "question_id": 56762499, "link": "https://stackoverflow.com/questions/56762499/access-nested-json-value-first-element/56763763#56763763", "title": "Access nested JSON value first element", "body": "<p>I think this way will work </p>\n\n<pre><code>    val message = JsonParser().parse(it.response().errorBody()?.string())\n                       .asJsonObject[\"errors\"][\"error_one\"]\n                       .asString\n</code></pre>\n\n<p>but its better to use converting library like Gson here is <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GitHub Link</a> </p>\n"}, {"tags": [], "owner": {"reputation": 487, "user_id": 10235119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d83812db68034ed33c21b1a5a553bc6?s=128&d=identicon&r=PG&f=1", "display_name": "Wilson Sim", "link": "https://stackoverflow.com/users/10235119/wilson-sim"}, "is_accepted": false, "score": 1, "last_activity_date": 1561514093, "creation_date": 1561514093, "answer_id": 56764120, "question_id": 56762499, "link": "https://stackoverflow.com/questions/56762499/access-nested-json-value-first-element/56764120#56764120", "title": "Access nested JSON value first element", "body": "<p>Try this?</p>\n\n<pre><code>val obj = JSONObject(\"ur Json string\")\nval error1 = obj.getJSONObject(\"errors\").getString(\"error_one\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1997, "user_id": 540771, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lsQwN.jpg?s=128&g=1", "display_name": "Gayan Hewa", "link": "https://stackoverflow.com/users/540771/gayan-hewa"}, "edited": false, "score": 0, "creation_date": 1561532675, "post_id": 56765743, "comment_id": 100090002, "body": "Thank&#39;s, but the catch is that the key would be different every single time. Is there any way to pick the first key by index or something. For now, as a workaround, I am doing the same steps as you described, but then get all the keys iterator and use the first key and get the value."}, {"owner": {"reputation": 704, "user_id": 7451779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9312bc877dd61d3a3b15e25eea522b3a?s=128&d=identicon&r=PG&f=1", "display_name": "Haider Malik", "link": "https://stackoverflow.com/users/7451779/haider-malik"}, "reply_to_user": {"reputation": 1997, "user_id": 540771, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lsQwN.jpg?s=128&g=1", "display_name": "Gayan Hewa", "link": "https://stackoverflow.com/users/540771/gayan-hewa"}, "edited": false, "score": 0, "creation_date": 1561533338, "post_id": 56765743, "comment_id": 100090336, "body": "@GayanHewa you will need to iterate through the keys of json object and then query the first key to get the location string"}], "tags": [], "owner": {"reputation": 704, "user_id": 7451779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9312bc877dd61d3a3b15e25eea522b3a?s=128&d=identicon&r=PG&f=1", "display_name": "Haider Malik", "link": "https://stackoverflow.com/users/7451779/haider-malik"}, "is_accepted": false, "score": 1, "last_activity_date": 1561598284, "last_edit_date": 1561598284, "creation_date": 1561526673, "answer_id": 56765743, "question_id": 56762499, "link": "https://stackoverflow.com/questions/56762499/access-nested-json-value-first-element/56765743#56765743", "title": "Access nested JSON value first element", "body": "<pre><code>//the whole json object\nval baseJsonResponse = JSONObject(\"JSON response\")\n//the error json object\nval errorObject = baseJsonResponse.getJSONObject(\"error\")\n\n//get the string\nval location = errorObject.getString(\"error_one\")\n</code></pre>\n\n<p><strong>edit:</strong> \nsince you need the first element of the base object you will need to iterate through the keys to get the 1st key. In java it would be:</p>\n\n<pre><code>String keyForFirstJsonbject = errorObject.keySet().iterator().next();\n</code></pre>\n\n<p>im guessing in Kotlin it will be:</p>\n\n<pre><code>val keyForFirstJsonbject = errorObject.keys.elementAt(0)\n</code></pre>\n\n<p>then finish off with:</p>\n\n<pre><code>//get the string\nval location = errorObject.getString(keyForFirstJsonbject)\n</code></pre>\n"}], "owner": {"reputation": 1997, "user_id": 540771, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lsQwN.jpg?s=128&g=1", "display_name": "Gayan Hewa", "link": "https://stackoverflow.com/users/540771/gayan-hewa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1561598284, "creation_date": 1561499421, "last_edit_date": 1561552205, "question_id": 56762499, "link": "https://stackoverflow.com/questions/56762499/access-nested-json-value-first-element", "title": "Access nested JSON value first element", "body": "<p>I am trying to figure out how to access a nested JSON attributes, first element. Basically, my data looks like the following:</p>\n\n<pre><code>{ \n  \"message\": \"Error scenario\",\n  \"errors\": {\n   \"error_one\": \"error_one_message\",\n   \"error_two\": \"error_two\"\n  }\n}\n</code></pre>\n\n<p>Within my code, I am doing something like:</p>\n\n<pre><code>// it is an instance of HttpException\nval message = JsonParser().parse(it.response().errorBody()?.string())\n                           .asJsonOject[\"message\"]\n                           .asString\n</code></pre>\n\n<p>What should I change in my code to make the variable <code>message</code> have the value <code>error_one_message</code>  </p>\n"}, {"tags": ["android", "sqlite", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 16285, "user_id": 4860513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNzBp.jpg?s=128&g=1", "display_name": "W0rmH0le", "link": "https://stackoverflow.com/users/4860513/w0rmh0le"}, "edited": false, "score": 0, "creation_date": 1561503904, "post_id": 56762417, "comment_id": 100083146, "body": "You should add/remove items in the Adapter&#39;s list (the same list read during getView). After updating the list, call notifyDataSetChanged() or notifyItemChanged(position) if you know which position was changed"}, {"owner": {"reputation": 165, "user_id": 11291740, "user_type": "registered", "profile_image": "https://graph.facebook.com/1572603219466814/picture?type=large", "display_name": "Andre Andriole", "link": "https://stackoverflow.com/users/11291740/andre-andriole"}, "reply_to_user": {"reputation": 16285, "user_id": 4860513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zNzBp.jpg?s=128&g=1", "display_name": "W0rmH0le", "link": "https://stackoverflow.com/users/4860513/w0rmh0le"}, "edited": false, "score": 0, "creation_date": 1561504171, "post_id": 56762417, "comment_id": 100083196, "body": "You mean update the adapterList and notifyDataSetChanged() ? that is not working"}, {"owner": {"reputation": 75, "user_id": 10599027, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5eseMBIXkcU/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB1L8_ZnXaqPSeXcH9AkAZmyZkR4w/mo/photo.jpg?sz=128", "display_name": "adam yong", "link": "https://stackoverflow.com/users/10599027/adam-yong"}, "edited": false, "score": 0, "creation_date": 1561517152, "post_id": 56762417, "comment_id": 100085476, "body": "You should only store the list in the adapter, the activity then retrieves the list from there to display to the recycler view. Adapters are supposed to have data for the view to display if you store the list in the activity then there is no point"}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 11291740, "user_type": "registered", "profile_image": "https://graph.facebook.com/1572603219466814/picture?type=large", "display_name": "Andre Andriole", "link": "https://stackoverflow.com/users/11291740/andre-andriole"}, "is_accepted": true, "score": 0, "last_activity_date": 1561838691, "creation_date": 1561838691, "answer_id": 56820538, "question_id": 56762417, "link": "https://stackoverflow.com/questions/56762417/update-recyclerview-from-the-adapter/56820538#56820538", "title": "Update recyclerview from the adapter", "body": "<p>I solved it as  adam yong suggested in the comments. I stored the list in the adapter.</p>\n\n<p>At first i didnt know how to do that but i discovered somewhere that i had to call the list to the database thought the adapter like this :</p>\n\n<p>In the main activity:</p>\n\n<p>\"'Kotlin\nadapter.list.addAll( dbHandler!!.cursor())\n\"'</p>\n"}], "owner": {"reputation": 165, "user_id": 11291740, "user_type": "registered", "profile_image": "https://graph.facebook.com/1572603219466814/picture?type=large", "display_name": "Andre Andriole", "link": "https://stackoverflow.com/users/11291740/andre-andriole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 56820538, "answer_count": 1, "score": 1, "last_activity_date": 1561838691, "creation_date": 1561499013, "last_edit_date": 1561504392, "question_id": 56762417, "link": "https://stackoverflow.com/questions/56762417/update-recyclerview-from-the-adapter", "title": "Update recyclerview from the adapter", "body": "<p>I am trying to update data in the recyclerview from the adapter, a function inside the adapter to do the update.</p>\n\n<p>It is working properly and data is being added to the database but it is not updating the views, I need to restart the app so that it runs the cursor to get data from the database and load the views.</p>\n\n<p>I figured out that the main problem is the different lists in the adapter and in the main activity. The list from the main activity is controlling the views so that when i update the list in the adapter nothing happens.</p>\n\n<p>'''kotlin</p>\n\n<pre><code>private val adapter = Padapter (mainActivityList)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>class adapter(private val adapterList:ArrayList)\n</code></pre>\n\n<p>'''\nHow can I do it ? Should i try to call a function in the main activity ? </p>\n\n<p>I really appreciate any help or suggestions you can provide.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": true, "score": 1, "last_activity_date": 1561514087, "creation_date": 1561514087, "answer_id": 56764117, "question_id": 56762040, "link": "https://stackoverflow.com/questions/56762040/how-do-i-initialize-a-videoview-globally-outside-of-the-oncreate-kotlin/56764117#56764117", "title": "How do I initialize a VideoView globally? (outside of the onCreate) Kotlin", "body": "<p>Use <code>lateinit</code> to promise Kotlin you're gonna initialize the variable before accessing it for the first time:</p>\n\n<pre><code>class MainActivity {\n\n  private lateinit var videoBGGlobal: VideoView\n\n  override fun onCreate() {\n    super.onCreate()\n    videoBG = findViewById&lt;VideoView&gt;(R.id.videoView)\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1561526839, "creation_date": 1561526839, "answer_id": 56765779, "question_id": 56762040, "link": "https://stackoverflow.com/questions/56762040/how-do-i-initialize-a-videoview-globally-outside-of-the-oncreate-kotlin/56765779#56765779", "title": "How do I initialize a VideoView globally? (outside of the onCreate) Kotlin", "body": "<p>The correct version of all your attempts is:</p>\n\n<pre><code>var videoBGGlobal: VideoView? = null\n</code></pre>\n\n<p>But as Egor's answer says, this is the use-case for <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\"><code>lateinit</code></a>:</p>\n\n<blockquote>\n  <p>Normally, properties declared as having a non-null type must be initialized in the constructor. However, fairly often this is not convenient. For example, properties can be initialized through dependency injection, or in the setup method of a unit test. In this case, you cannot supply a non-null initializer in the constructor, but you still want to avoid null checks when referencing the property inside the body of a class.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 208, "user_id": 6737438, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sNKGMi2BUEk/AAAAAAAAAAI/AAAAAAAACjE/ND4c_iParRg/photo.jpg?sz=128", "display_name": "Rahul ShaRma", "link": "https://stackoverflow.com/users/6737438/rahul-sharma"}, "is_accepted": false, "score": 2, "last_activity_date": 1561537608, "creation_date": 1561537608, "answer_id": 56768419, "question_id": 56762040, "link": "https://stackoverflow.com/questions/56762040/how-do-i-initialize-a-videoview-globally-outside-of-the-oncreate-kotlin/56768419#56768419", "title": "How do I initialize a VideoView globally? (outside of the onCreate) Kotlin", "body": "<p>you need to define videoview by lateinit var like </p>\n\n<pre><code>lateinit var mVideoView: VideoView\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11699429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0866ec8153f8659a4e0852bab1a0063d?s=128&d=identicon&r=PG&f=1", "display_name": "cholguin", "link": "https://stackoverflow.com/users/11699429/cholguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 56764117, "answer_count": 3, "score": 0, "last_activity_date": 1561537608, "creation_date": 1561496985, "question_id": 56762040, "link": "https://stackoverflow.com/questions/56762040/how-do-i-initialize-a-videoview-globally-outside-of-the-oncreate-kotlin", "title": "How do I initialize a VideoView globally? (outside of the onCreate) Kotlin", "body": "<p>I'm trying to create a video background in my sign in/login activity (similar to Spotify and other apps). I followed this video, <a href=\"https://www.youtube.com/watch?v=WLwQ3SJjWfY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=WLwQ3SJjWfY</a></p>\n\n<p>but I had to initialize my video background (VideoView) within my onCreate, because I couldn't figure out how to do declare it globally.</p>\n\n<p>Therefore my onPause and onDestroy methods can't access it.</p>\n\n<p>I can declare it certain ways inside my onCreate but once I do it globally I get an initiation error.</p>\n\n<p>This is the way I'm doing it in my onCreate and it works fine\n    var videoBG = findViewById(R.id.videoView)</p>\n\n<p>I've tried to do these globally:</p>\n\n<pre><code>var videoBGGlobal:VideoView\nvar videoBGGlobal = VideoView(this)\nvar videoBGGlobal: VideoView = VideoView(this)\nvar videoBGGlobal: VideoView? = VideoView(this)\nvar videoBGGlobal: VideoView = null as VideoView\nvar videoBGGlobal = null //and then tried to assign videoBGGlobal = \n//videoBG within the onCreate but it says VideoView isn't type Nothing?\n</code></pre>\n\n<p>and I've tried more but I forgot the rest.</p>\n\n<pre><code>package ...\nimports ...\n\nclass MainActivity {\n\n//Global variables\nvar videoBGGlobal: VideoView = VideoView(this) //this just doesn't\nvar mMediaPlayer: MediaPlayer? = MediaPlayer() //this works\nvar mCurrentVideoPosition: Int? = 0 //this works\n\noverride fun onCreate() {\n     var videoBG = findViewById&lt;VideoView&gt;(R.id.videoView) //here it //works\n     }\n override fun onPause(){\n    //need to access videoBGGlobal here\n }\n}\n</code></pre>\n"}, {"tags": ["java", "mysql", "hibernate", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "is_accepted": true, "score": 2, "last_activity_date": 1561494371, "creation_date": 1561494371, "answer_id": 56761543, "question_id": 56761457, "link": "https://stackoverflow.com/questions/56761457/java-lang-classcastexception-why/56761543#56761543", "title": "java.lang.ClassCastException Why?", "body": "<p>Perhaps specify the target class as the second argument to <code>createNativeQuery</code>:</p>\n\n<pre><code>val query = entityManager.createNativeQuery(sql, Resume.class)\n</code></pre>\n\n<p>Without that each row is represented as an <code>Object[]</code>, so the return type of <code>getResultList</code> would be <code>List&lt;Object[]&gt;</code>.</p>\n"}], "owner": {"reputation": 63, "user_id": 10882849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5934fb552024aa54ea26e409c8be7241?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0417\u0435\u043c\u0446\u043e\u0432", "link": "https://stackoverflow.com/users/10882849/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b5%d0%b9-%d0%97%d0%b5%d0%bc%d1%86%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 56761543, "answer_count": 1, "score": 0, "last_activity_date": 1561494371, "creation_date": 1561493987, "question_id": 56761457, "link": "https://stackoverflow.com/questions/56761457/java-lang-classcastexception-why", "title": "java.lang.ClassCastException Why?", "body": "<p>I get this error as far as I understand it because of the type mismatch. After I receive objects from the database, I send them to another collection, and when implemented on a servlet, this error occurs ...</p>\n\n<p>Does anyone have at least some assumptions why this error occurs?</p>\n\n<pre><code>[ERROR] 2019-06-25 23:09:30.807 [http-nio-8080-exec-1] [dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to com.chessman.work.database.entity.Resume] with root cause\njava.lang.ClassCastException: [Ljava.lang.Object; cannot be cast to com.chessman.work.database.entity.Resume\n    at com.chessman.work.objects.CollectionResume.&lt;init&gt;(CollectionResume.kt:8) ~[classes/:?]\n    at com.chessman.work.database.service.ServiceResume.findAll(ServiceResume.kt:70) ~[classes/:?]\n    at com.chessman.work.controller.resume.ControllerSearchResume.searchResume(ControllerSearchResume.kt:34) ~[classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_212]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_212]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_212]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_212]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.access.channel.ChannelProcessingFilter.doFilter(ChannelProcessingFilter.java:157) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.4.RELEASE.jar:5.1.4.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.16.jar:9.0.16]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]\n</code></pre>\n\n<p>This function for search in database</p>\n\n<pre><code>fun findAllCustomQuery(maxWage: Double? = null, workType: String? = null, education: String? = null, experienceDays: Int? = null): List&lt;Resume&gt; {\n        val separator = Separator()\n        var sql = \"SELECT r.* FROM resume r\"\n        if (maxWage != null) sql += \" JOIN wage w ON r.wage_id = w.id\"\n        if (workType != null) sql += \" JOIN work_type wt ON r.work_type_id = wt.id\"\n        if (education != null) sql += \" JOIN education e ON r.education_id = e.id\"\n        if (maxWage != null) sql += separator.get() + \" (w.count &lt;= \"+maxWage+\" OR w.count IS NULL)\"\n        if (workType != null) sql += separator.get() + \" wt.name LIKE '%\"+workType+\"%'\"\n        if (education != null) sql += separator.get() + \" e.name LIKE '%\"+education+\"%'\"\n        if (experienceDays != null) sql += separator.get() + \" r.experience &gt;= \"+ experienceDays\n        val query = entityManager!!.createNativeQuery(sql)\n        val list = query.getResultList() as ArrayList&lt;Resume&gt;\n        return LinkedList&lt;Resume&gt;(list)\n    }\n\nfun findAll(): CollectionResume {\n\n        val page = (if (request != null &amp;&amp; request!!.getParameter(\"page\") != null) request!!.getParameter(\"page\").toInt() else CUSTOM_PAGE) as Int\n        val size = (if (request != null &amp;&amp; request!!.getParameter(\"size\") != null) request!!.getParameter(\"size\").toInt() else CUSTOM_SIZE) as Int\n        val fieldSort = (if (request != null &amp;&amp; request!!.getParameter(\"field_sort\") != null) request!!.getParameter(\"field_sort\").toString() else CUSTOM_SORT) as String\n        val order = (if (request != null &amp;&amp; request!!.getParameter(\"order\") != null &amp;&amp; request!!.getParameter(\"order\")!!.equals(\"increase\")) Sort.Direction.ASC else Sort.Direction.DESC) as Sort.Direction\n\n        val pageable: Pageable = PageRequest.of(page, size, Sort.by(order, fieldSort))\n\n        val list: List&lt;Resume&gt; = findAllCustomQuery(60000.00,\"\u043f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c\", \"\u0432\u044b\u0441\u0448\u0435\u0435\", 365)\n        return CollectionResume(list)\n        //return CollectionResume(repoResume.findAll(pageable))\n    }\n</code></pre>\n\n<p>This collection class:</p>\n\n<pre><code>class CollectionResume(): LinkedHashMap&lt;Long, Resume&gt;() {\n\n    constructor(iterable: Iterable&lt;Resume&gt;): this() {\n        for (r:Resume in iterable) { //ERROR\n            super.put(r.id!!, r)\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "algorithm", "kotlin", "maze"], "comments": [{"owner": {"reputation": 21891, "user_id": 1243762, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b9b83cf6ca76699d7abfbba07f4675a3?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Coder", "link": "https://stackoverflow.com/users/1243762/guy-coder"}, "edited": false, "score": 0, "creation_date": 1561492774, "post_id": 56761159, "comment_id": 100079822, "body": "I would not think of it as a seed but a conical representation of a maze that is filtered down into a single integer, i.e the value does not generate a maze, but defines a maze. The values do not have to be consecutive, but they have to be unique and have a one to one correspondence with a unique maze."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1561498962, "post_id": 56761159, "comment_id": 100081984, "body": "For starters, look up the <code>seed</code> specification function of your <code>random</code> package.  How does that work when you use it?  This is exactly its specified purpose: reproducible sequences."}], "answers": [{"tags": [], "owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "is_accepted": true, "score": 2, "last_activity_date": 1561494480, "creation_date": 1561494480, "answer_id": 56761567, "question_id": 56761159, "link": "https://stackoverflow.com/questions/56761159/generate-the-same-maze-with-a-seed/56761567#56761567", "title": "Generate the same maze with a seed", "body": "<p>If you want to pass a seed to create the maze, then you have to make sure that all of the players are using the same random number generator. Which means you have to supply your own random number generator implementation.</p>\n\n<p>The application would seed the random number generator with the value you pass, and then it should deterministically generate the same sequence of random numbers for each client.</p>\n\n<p>Note also that you can't ever change the random number generator implementation unless you can prove that the new implementation will generate exactly the same sequence of numbers that the original did.</p>\n"}], "owner": {"reputation": 171, "user_id": 3663235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c3d76ec6c9e119b0dbd81c487fe61f?s=128&d=identicon&r=PG&f=1", "display_name": "Joaco", "link": "https://stackoverflow.com/users/3663235/joaco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 56761567, "answer_count": 1, "score": 0, "last_activity_date": 1561494480, "creation_date": 1561492512, "question_id": 56761159, "link": "https://stackoverflow.com/questions/56761159/generate-the-same-maze-with-a-seed", "title": "Generate the same maze with a seed", "body": "<p>Im followed a tutorial to create a maze with Recursive Backtracking and it works great.</p>\n\n<p>Im trying to create a game where people get on the same maze, and if someone wins, it creates a new maze and everyones current maze gets updated.</p>\n\n<p>So what i was thinking is to have a seed to create the same maze and pass that seed to all the players so they can have the same maze.</p>\n\n<p>Is there a way to modify it so i can give the maze a seed and it creates always the same maze?</p>\n\n<p>This is what i have now:</p>\n\n<p>It uses a Cell class (posx,posy)</p>\n\n<pre><code>class Cell(var col:Int = 0, var row: Int = 0){\n    var topWall = true\n    var leftWall = true\n    var bottomWall = true\n    var rightWall = true\n    var visited = false\n}\n    fun createMaze(){\n    var stack = Stack&lt;Cell&gt;()\n    var current:Cell\n    var next:Cell?\n\n\n    for(x in 0 until COLS){\n        for(y in 0 until ROWS){\n\n            cells[x][y] = Cell(x,y)\n        }\n    }\n\n    player = cells[0][0]\n    exit = cells [COLS-1][ROWS-1]\n\n\n    current = cells[0][0]\n    current.visited = true\n\n    do{\n        next = getNeighbour(current)\n        if(next != null) {\n            removeWall(current, next)\n            stack.push(current)\n            current = next\n            current.visited = true\n        }else{\n            current = stack.pop()\n        }\n    }while (!stack.empty())\n\n}\nfun getNeighbour(cell:Cell): Cell? {\n    var vecinos: ArrayList&lt;Cell&gt; = ArrayList()\n    //vecino izquierda\n    if(cell.col &gt; 0) {\n        if (!cells[cell.col - 1][cell.row].visited) {\n            vecinos.add(cells[cell.col - 1][cell.row])\n        }\n    }\n    //vecino derecha\n    if(cell.col &lt; COLS - 1) {\n        if (!cells[cell.col + 1][cell.row].visited) {\n            vecinos.add(cells[cell.col + 1][cell.row])\n        }\n    }\n    //vecino arriba\n    if(cell.row &gt; 0) {\n        if (!cells[cell.col][cell.row - 1].visited) {\n            vecinos.add(cells[cell.col ][cell.row - 1])\n        }\n    }\n    //vecino abajo\n    if(cell.row &lt; ROWS - 1) {\n        if (!cells[cell.col][cell.row + 1].visited) {\n            vecinos.add(cells[cell.col][cell.row + 1])\n        }\n    }\n    if (vecinos.size &gt; 0) {\n        var index = random.nextInt(vecinos.size)\n        return vecinos[index]\n    }else {\n        return null\n    }\n}\n\nfun removeWall(current:Cell,next:Cell){\n    if (current.col == next.col &amp;&amp; current.row == next.row +1){\n        current.topWall = false\n        next.bottomWall = false\n    }\n    if (current.col == next.col &amp;&amp; current.row == next.row -1){\n        current.bottomWall = false\n        next.topWall = false\n    }\n    if (current.col == next.col + 1 &amp;&amp; current.row == next.row){\n        current.leftWall = false\n        next.rightWall = false\n    }\n    if (current.col == next.col - 1 &amp;&amp; current.row == next.row){\n        current.rightWall = false\n        next.leftWall = false\n    }\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "kotlin-multiplatform", "kotlin-native"], "comments": [{"owner": {"reputation": 14168, "user_id": 227313, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58d1281770fe55a05a96600244ec8341?s=128&d=identicon&r=PG", "display_name": "Kevin Galligan", "link": "https://stackoverflow.com/users/227313/kevin-galligan"}, "edited": false, "score": 1, "creation_date": 1561491545, "post_id": 56760825, "comment_id": 100079324, "body": "Can you expand on this &quot;However, the actual class implementation is identical for each target (iOS, JVM, and MacOS)&quot;. If they&#39;re identical, why are you doing expect/actual? I can see iOS and MacOS being the same, but all three?"}, {"owner": {"reputation": 1455, "user_id": 5050863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205087533363171/picture?type=large", "display_name": "sschilli", "link": "https://stackoverflow.com/users/5050863/sschilli"}, "reply_to_user": {"reputation": 14168, "user_id": 227313, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58d1281770fe55a05a96600244ec8341?s=128&d=identicon&r=PG", "display_name": "Kevin Galligan", "link": "https://stackoverflow.com/users/227313/kevin-galligan"}, "edited": false, "score": 0, "creation_date": 1561497305, "post_id": 56760825, "comment_id": 100081451, "body": "@KevinGalligan edited with clarification. You are correct, iOS and macOS are the same but JVM is different."}], "answers": [{"comments": [{"owner": {"reputation": 1455, "user_id": 5050863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205087533363171/picture?type=large", "display_name": "sschilli", "link": "https://stackoverflow.com/users/5050863/sschilli"}, "edited": false, "score": 0, "creation_date": 1561497476, "post_id": 56761797, "comment_id": 100081507, "body": "I originally misspoke. I meant to say the iOS and macOS target implementations are identical. JVM is different. I want to use an atomic integer which I can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.native.concurrent/-atomic-int/index.html\" rel=\"nofollow noreferrer\">AtomicInt</a> for iOS and macOS but need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a> for JVM"}], "tags": [], "owner": {"reputation": 465, "user_id": 9269337, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wGWB16L6hdk/AAAAAAAAAAI/AAAAAAAAMJU/817P8SAxQFU/photo.jpg?sz=128", "display_name": "Carson Graham", "link": "https://stackoverflow.com/users/9269337/carson-graham"}, "is_accepted": false, "score": 0, "last_activity_date": 1561495709, "creation_date": 1561495709, "answer_id": 56761797, "question_id": 56760825, "link": "https://stackoverflow.com/questions/56760825/kotlin-multiplatform-sharing-actual-class-implementation-for-multiple-targets/56761797#56761797", "title": "Kotlin Multiplatform: sharing actual class implementation for multiple targets (iOS, macOS)", "body": "<p>If all three implementations are identical, just put that code in <code>common</code>. <code>expect/actual</code> is only used for things that are <em>different</em> on different platforms</p>\n"}, {"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": false, "score": 2, "last_activity_date": 1561514394, "creation_date": 1561514394, "answer_id": 56764143, "question_id": 56760825, "link": "https://stackoverflow.com/questions/56760825/kotlin-multiplatform-sharing-actual-class-implementation-for-multiple-targets/56764143#56764143", "title": "Kotlin Multiplatform: sharing actual class implementation for multiple targets (iOS, macOS)", "body": "<p>In <a href=\"https://github.com/square/okio\" rel=\"nofollow noreferrer\">Okio</a>, we declare two additional source sets, <code>nativeMain</code> and <code>nativeTest</code>, and configure the built in native source sets to depend on them:</p>\n\n<pre><code>apply plugin: 'org.jetbrains.kotlin.multiplatform'\n\nkotlin {\n  iosX64()\n  iosArm64()\n  linuxX64()\n  macosX64()\n  mingwX64('winX64')\n  sourceSets {\n    nativeMain {\n      dependsOn commonMain\n    }\n    nativeTest {\n      dependsOn commonTest\n    }\n\n    configure([iosX64Main, iosArm64Main, linuxX64Main, macosX64Main, winX64Main]) {\n      dependsOn nativeMain\n    }\n    configure([iosX64Test, iosArm64Test, linuxX64Test, macosX64Test, winX64Test]) {\n      dependsOn nativeTest\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14168, "user_id": 227313, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58d1281770fe55a05a96600244ec8341?s=128&d=identicon&r=PG", "display_name": "Kevin Galligan", "link": "https://stackoverflow.com/users/227313/kevin-galligan"}, "is_accepted": false, "score": 4, "last_activity_date": 1561551330, "creation_date": 1561551330, "answer_id": 56772592, "question_id": 56760825, "link": "https://stackoverflow.com/questions/56760825/kotlin-multiplatform-sharing-actual-class-implementation-for-multiple-targets/56772592#56772592", "title": "Kotlin Multiplatform: sharing actual class implementation for multiple targets (iOS, macOS)", "body": "<p>Stately has a fairly involved config. iOS and Macos share all of the same code.</p>\n\n<p>To structure the project, there's <code>commonMain</code>, <code>nativeCommonMain</code> depends on that, and actually <code>appleMain</code> which depends on <code>nativeCommonMain</code>.</p>\n\n<pre><code>commonMain {\n    dependencies {\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-common'\n    }\n}\n\njvmMain {\n    dependsOn commonMain\n    dependencies {\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'\n    }\n}\n\nnativeCommonMain {\n    dependsOn commonMain\n}\n\nappleMain {\n    dependsOn nativeCommonMain\n}\n\nconfigure([iosX64Main, iosArm64Main, macosMain, iosArm32Main]) {\n    dependsOn appleMain\n}\n\n</code></pre>\n\n<p>That structure is probably deeper than you need, but we needed something for linux and windows that was different. Egor's answer above is easier to follow I think.</p>\n\n<p>We actually define multiplatform atomics in Stately, so you can use them as inspiration or actually just use the library itself.</p>\n\n<p><a href=\"https://github.com/touchlab/Stately\" rel=\"nofollow noreferrer\">https://github.com/touchlab/Stately</a></p>\n\n<h2>Common</h2>\n\n<pre><code>expect class AtomicInt(initialValue: Int) {\n  fun get(): Int\n  fun set(newValue: Int)\n  fun incrementAndGet(): Int\n  fun decrementAndGet(): Int\n\n  fun addAndGet(delta: Int): Int\n  fun compareAndSet(expected: Int, new: Int): Boolean\n}\n</code></pre>\n\n<h3>JVM</h3>\n\n<pre><code>actual typealias AtomicInt = AtomicInteger\n</code></pre>\n\n<h3>Native</h3>\n\n<pre><code>actual class AtomicInt actual constructor(initialValue:Int){\n  private val atom = AtomicInt(initialValue)\n\n  actual fun get(): Int = atom.value\n\n  actual fun set(newValue: Int) {\n    atom.value = newValue\n  }\n\n  actual fun incrementAndGet(): Int = atom.addAndGet(1)\n\n  actual fun decrementAndGet(): Int = atom.addAndGet(-1)\n\n  actual fun addAndGet(delta: Int): Int = atom.addAndGet(delta)\n\n  actual fun compareAndSet(expected: Int, new: Int): Boolean = atom.compareAndSet(expected, new)\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1455, "user_id": 5050863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205087533363171/picture?type=large", "display_name": "sschilli", "link": "https://stackoverflow.com/users/5050863/sschilli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1561551330, "creation_date": 1561491003, "last_edit_date": 1561498012, "question_id": 56760825, "link": "https://stackoverflow.com/questions/56760825/kotlin-multiplatform-sharing-actual-class-implementation-for-multiple-targets", "title": "Kotlin Multiplatform: sharing actual class implementation for multiple targets (iOS, macOS)", "body": "<p>I am working on a Kotlin/Native Multiplatform project that supports JVM, iOS, and macOS. My setup has the following modules:</p>\n\n<pre><code>- common\n- ios\n- jvm\n- macos\n</code></pre>\n\n<p>I want to use some native code as an <code>actual</code> class and put an <code>expected</code> class in <code>common</code>. However, the actual class implementation is identical for multiple targets (iOS and macOS). Is there a way I can set up my sources (maybe in Gradle) so that I don't have to maintain 2 identical copies of the actual class?</p>\n"}, {"tags": ["android", "kotlin", "material-design", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 704, "user_id": 7451779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9312bc877dd61d3a3b15e25eea522b3a?s=128&d=identicon&r=PG&f=1", "display_name": "Haider Malik", "link": "https://stackoverflow.com/users/7451779/haider-malik"}, "edited": false, "score": 0, "creation_date": 1561531749, "post_id": 56760778, "comment_id": 100089548, "body": "are you housing fragments in an activity and using the bottom bar or navigation to switch between the fragments?"}, {"owner": {"reputation": 31, "user_id": 3976440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kra7L.png?s=128&g=1", "display_name": "Javier Diaz", "link": "https://stackoverflow.com/users/3976440/javier-diaz"}, "reply_to_user": {"reputation": 704, "user_id": 7451779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9312bc877dd61d3a3b15e25eea522b3a?s=128&d=identicon&r=PG&f=1", "display_name": "Haider Malik", "link": "https://stackoverflow.com/users/7451779/haider-malik"}, "edited": false, "score": 0, "creation_date": 1561572669, "post_id": 56760778, "comment_id": 100112669, "body": "No, just an an activity."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 3976440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kra7L.png?s=128&g=1", "display_name": "Javier Diaz", "link": "https://stackoverflow.com/users/3976440/javier-diaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1561572790, "creation_date": 1561572790, "answer_id": 56778808, "question_id": 56760778, "link": "https://stackoverflow.com/questions/56760778/navigationdrawer-not-working-with-bottomappbar/56778808#56778808", "title": "NavigationDrawer not working with BottomAppBar", "body": "<p>I just change the order in the xml and it works. </p>\n\n<p>activity_home.xml: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/coordinatorLayout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;include layout=\"@layout/content_main\" /&gt;\n\n\n&lt;com.google.android.material.bottomappbar.BottomAppBar\nandroid:id=\"@+id/bottom_app_bar\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_gravity=\"bottom\"\napp:backgroundTint=\"@color/colorPrimary\"\napp:fabAlignmentMode=\"center\"\napp:navigationIcon=\"@drawable/ic_menu\"\napp:hideOnScroll=\"true\"\napp:layout_scrollFlags=\"scroll|enterAlways\"/&gt;\n\n&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\nandroid:id=\"@+id/fab\"\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\nandroid:src=\"@drawable/ic_anadir\"\napp:tint=\"@null\"\napp:layout_anchor=\"@id/bottom_app_bar\" /&gt;\n\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>content_main.xml: </p>\n\n<pre><code>&lt;RelativeLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@android:color/background_light\"\nandroid:fitsSystemWindows=\"true\"&gt;\n\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@android:color/background_light\"\nandroid:fitsSystemWindows=\"true\"&gt;\n\n\n&lt;com.google.android.material.appbar.AppBarLayout\nandroid:id=\"@+id/main.appbar\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"200dp\"\nandroid:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\nandroid:fitsSystemWindows=\"true\"\nandroid:background=\"@drawable/shape_coordinator\"\n&gt;\n\n&lt;com.google.android.material.appbar.CollapsingToolbarLayout\nandroid:id=\"@+id/main.collapsing\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"300dp\"\napp:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\nandroid:fitsSystemWindows=\"true\"\napp:contentScrim=\"?attr/colorPrimary\"\napp:expandedTitleMarginStart=\"48dp\"\napp:expandedTitleMarginEnd=\"64dp\"&gt;\n\n\n\n\n&lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;androidx.core.widget.NestedScrollView\n\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\"\nandroid:id=\"@+id/nestedScrollView\"\ntools:ignore=\"PrivateResource\"\napp:layout_behavior=\"\"&gt;\n\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\nandroid:id=\"@+id/coordinatorLayout2\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\" &gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nandroid:id=\"@+id/constraintLayout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n&lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 31, "user_id": 3976440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kra7L.png?s=128&g=1", "display_name": "Javier Diaz", "link": "https://stackoverflow.com/users/3976440/javier-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 56778808, "answer_count": 1, "score": 0, "last_activity_date": 1561572790, "creation_date": 1561490721, "question_id": 56760778, "link": "https://stackoverflow.com/questions/56760778/navigationdrawer-not-working-with-bottomappbar", "title": "NavigationDrawer not working with BottomAppBar", "body": "<p>I am trying to use a BottomAppBar, but when I try to show the NavigationView it does not work. I have read about showing NavigationView in BottomAppBar and there are 3 main steps: </p>\n\n<p>1- setSupportActionBar() - In the Activity/Oncreate method</p>\n\n<p>2- set up your menu in  onCreateOptionsMenu</p>\n\n<p>3- catch the listener and show the menu in onOptionsItemSelected(item: MenuItem?)</p>\n\n<p>Here is my Activity Code: </p>\n\n<p>class HomeActivity : AppCompatActivity(), View.OnClickListener {</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_home)\n    setSupportActionBar(bottom_app_bar)\n\n}\n\noverride fun onClick(view: View?) {\n    when(view!!.id){\n\n    }\n}\n\noverride fun onCreateOptionsMenu(menu: Menu): Boolean {\n      val inflater = menuInflater\n      inflater.inflate(R.menu.navigation_menu, menu)\n      return true\n}\n\noverride fun onOptionsItemSelected(item: MenuItem?): Boolean {\n    when (item!!.itemId) {\n        android.R.id.home -&gt; {\n            val bottomNavDrawerFragment = BottomNavigationDrawerFragment()\n            bottomNavDrawerFragment.show(supportFragmentManager, bottomNavDrawerFragment.tag)\n        }\n    }\n    return true\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And Fragment menu code: </p>\n\n<p>class BottomNavigationDrawerFragment : BottomSheetDialogFragment() {</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_bottom_navigation_drawer, container, false)\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    navigation_view.setNavigationItemSelectedListener { menuItem -&gt;\n        // Bottom Navigation Drawer menu item clicks\n        when (menuItem.itemId) {\n            // R.id.nav1 -&gt; context!!.toast(getString(R.string.nav1_clicked))\n        }\n        // Add code here to update the UI based on the item selected\n        // For example, swap UI fragments here\n        true\n    }\n    close_imageview.setOnClickListener {\n        this.dismiss()\n    }\n\n    disableNavigationViewScrollbars(navigation_view)\n}\n\noverride fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n    val dialog = super.onCreateDialog(savedInstanceState) as BottomSheetDialog\n\n    dialog.setOnShowListener { dialog -&gt;\n        val d = dialog as BottomSheetDialog\n\n        val bottomSheet = d.findViewById&lt;View&gt;(R.id.design_bottom_sheet) as FrameLayout?\n        val bottomSheetBehavior = BottomSheetBehavior.from(bottomSheet!!)\n        bottomSheetBehavior.setBottomSheetCallback(object: BottomSheetBehavior.BottomSheetCallback() {\n            override fun onSlide(bottomSheet: View, slideOffset: Float) {\n                if (slideOffset &gt; 0.5) {\n                    close_imageview.visibility = View.VISIBLE\n                } else {\n                    close_imageview.visibility = View.GONE\n                }\n            }\n\n            override fun onStateChanged(bottomSheet: View, newState: Int) {\n                when (newState) {\n                }\n            }\n        })\n    }\n\n    return dialog\n}\n\nprivate fun disableNavigationViewScrollbars(navigationView: NavigationView?) {\n    val navigationMenuView = navigationView?.getChildAt(0) as NavigationMenuView\n    navigationMenuView.isVerticalScrollBarEnabled = false\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Anybody have any idea of what's wrong?</p>\n"}, {"tags": ["android", "arrays", "json", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 1346, "user_id": 2534612, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80092c09953205432249cc4ab1003e14?s=128&d=identicon&r=PG", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/2534612/jarvis"}, "edited": false, "score": 0, "creation_date": 1561490632, "post_id": 56760693, "comment_id": 100078968, "body": "This you are processing after converting JSON into a model. I want is it something at GsonBuilder level."}], "tags": [], "owner": {"reputation": 62, "user_id": 11130032, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--puh87fEWt0/AAAAAAAAAAI/AAAAAAAABbE/P0DFkDo-wl4/photo.jpg?sz=128", "display_name": "Alireza Haji gholamreza", "link": "https://stackoverflow.com/users/11130032/alireza-haji-gholamreza"}, "is_accepted": false, "score": 1, "last_activity_date": 1561490224, "creation_date": 1561490224, "answer_id": 56760693, "question_id": 56760465, "link": "https://stackoverflow.com/questions/56760465/remove-empty-object-from-json-array-using-gson/56760693#56760693", "title": "Remove empty object from json array using GSON", "body": "<p>simple code : it worked for me !</p>\n\n<pre><code>Type type = new TypeToken&lt;Map&lt;String, Object&gt;&gt;() {}.getType();\nMap&lt;String, Object&gt; data = new Gson().fromJson(jsonString, type);\n\nfor (Iterator&lt;Map.Entry&lt;String, Object&gt;&gt; it = data.entrySet().iterator(); \nit.hasNext();) {\nMap.Entry&lt;String, Object&gt; entry = it.next();\nif (entry.getValue() == null) {\n    it.remove();\n} else if (entry.getValue().getClass().equals(ArrayList.class)) {\n    if (((ArrayList&lt;?&gt;) entry.getValue()).size() == 0) {\n        it.remove();\n    }\n }\n}\n\nString json = new GsonBuilder().setPrettyPrinting().create().toJson(data);\nSystem.out.println(json);\n</code></pre>\n"}], "owner": {"reputation": 1346, "user_id": 2534612, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/80092c09953205432249cc4ab1003e14?s=128&d=identicon&r=PG", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/2534612/jarvis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561490224, "creation_date": 1561489160, "question_id": 56760465, "link": "https://stackoverflow.com/questions/56760465/remove-empty-object-from-json-array-using-gson", "title": "Remove empty object from json array using GSON", "body": "<pre><code>{\n  \"ChangeRequests\": [\n    {}\n  ]\n}\n</code></pre>\n\n<p>Remove the empty model from JSON array using Gson. \nBecause of it create the one model inside the list in the model all value is null using Gson </p>\n\n<pre><code>data class TestRequest(\n@SerializedName(\"ChangeRequests\")\nval changeRequests: List&lt;ChangeRequest&gt;\n</code></pre>\n\n<p>)</p>\n\n<pre><code>val result = Gson().fromJson(jsonString,TestRequest::class.java)\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin", "gson", "retrofit"], "answers": [{"tags": [], "owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1561540851, "creation_date": 1561540851, "answer_id": 56769342, "question_id": 56759605, "link": "https://stackoverflow.com/questions/56759605/cannot-round-gson-doubles-to-longs-using-retrofit-typeadapter-in-kotlin/56769342#56769342", "title": "Cannot round Gson Doubles to Longs using Retrofit TypeAdapter in Kotlin", "body": "<p>Ok I figured this out, it is confusing because there are several options. \nFirst of all, the Gson implementation I am providing was not used in the converter factory for Retrofit:</p>\n\n<pre><code>@Provides\n@Singleton\nfun provideRetrofit(@Named(\"baseUrlv1\") baseUrl: String, okHttpClient: OkHttpClient, gson: Gson): Retrofit {\n    return Retrofit.Builder()\n            .baseUrl(baseUrl)\n            .client(okHttpClient)\n            .addConverterFactory(GsonConverterFactory.create(gson))\n            .addCallAdapterFactory(LiveDataCallAdapterFactory&lt;Any&gt;())\n            .build()\n}\n</code></pre>\n\n<p>Secondly, I am only interested in the Long in this Orders object, so instead of having the type adapter look at every single Long, I am using a <code>JsonDeserializer</code> (<a href=\"https://futurestud.io/tutorials/gson-advanced-customizing-de-serialization-and-adding-instance-creators-via-jsonadapter\" rel=\"nofollow noreferrer\">more info here</a>):</p>\n\n<pre><code>@Module\nclass CoreModule {\n\n    @Provides\n    internal fun provideGson(): Gson {\n        val gson = GsonBuilder()\n\n        gson.registerTypeAdapter(OrdersResponse.Orders::class.java, OrdersDeserializer())\n\n        return gson.create()\n    }\n}\n\nclass OrdersDeserializer : JsonDeserializer&lt;OrdersResponse.Orders&gt; {\n    override fun deserialize(json: JsonElement, typeOfT: Type, context: JsonDeserializationContext): OrdersResponse.Orders {\n        val jsonObject = json.asJsonObject\n\n        val total = jsonObject.get(\"total\").asNumber.toLong()\n        jsonObject.add(\"total\", JsonPrimitive(total))\n\n        return Gson().fromJson(jsonObject, OrdersResponse.Orders::class.java)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561540851, "creation_date": 1561485324, "last_edit_date": 1561498867, "question_id": 56759605, "link": "https://stackoverflow.com/questions/56759605/cannot-round-gson-doubles-to-longs-using-retrofit-typeadapter-in-kotlin", "title": "Cannot round Gson Doubles to Longs using Retrofit TypeAdapter in Kotlin", "body": "<p>Okay my API is giving me a stray <code>245.00000003</code> from long ago when it was supposed to only send down whole numbers. I want to make sure I only parse that as a Long with the value of <code>245</code>, and make sure if the back end guys do that again I just round it down and then go yell at them.</p>\n\n<p>I have tried numerous type adapters, including the <code>@JsonAdapter</code> annotation and the <code>registerHierarchyTypeAdapter</code> function and none of them seem to have any effect whatsoever. What am I doing wrong?</p>\n\n<pre><code>@Module\nclass CoreModule {\n\n    @Provides\n    internal fun provideGson(): Gson {\n        return GsonBuilder().registerTypeAdapter(Long::class.java, LongTypeAdapter()).create()\n    }\n}\n\nclass LongTypeAdapter : TypeAdapter&lt;Long&gt;() {\n    @Throws(IOException::class)\n    override fun read(reader: JsonReader): Long? {\n        if (reader.peek() === JsonToken.NULL) {\n            reader.nextNull()\n            return null\n        }\n        val stringValue = reader.nextString()\n\n        return try {\n            stringValue.toLong()\n        } catch (e: NumberFormatException) {\n            try { stringValue.toDouble().toLong() }\n            catch (e: java.lang.NumberFormatException){ 0L }\n        }\n    }\n\n    @Throws(IOException::class)\n    override fun write(out: JsonWriter, value: Long?) {\n        if (value == null) {\n            out.nullValue()\n            return\n        }\n        out.value(value)\n    }\n}\n</code></pre>\n\n<p>I assume that code is supposed to examine any Long in my POJO, and when it comes time to matching it to its JSON content, it will return null if it's null, a Long if it can be <code>toLong()'d</code>, a Long if it can be <code>toDouble().toLong()'d</code>, and 0 otherwise.</p>\n\n<p>POJO:</p>\n\n<pre><code>data class OrdersResponse(\n    @SerializedName(\"error\") val error: Boolean,\n    @SerializedName(\"message\") val message: String,\n    @SerializedName(\"total\") val total: Int,\n    @SerializedName(\"orders\") val orders: List&lt;Orders&gt;\n) {\n\n    data class Orders(\n        @SerializedName(\"id\") val id: Long,\n        @SerializedName(\"status\") val status: String,\n        @SerializedName(\"completion_time\") val completionTime: Long?,\n        @SerializedName(\"total\") val total: Long // This is the dodgy value\n    ) {}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1561528079, "post_id": 56758362, "comment_id": 100088020, "body": "You may want to read <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html</a> if you haven&#39;t yet."}], "answers": [{"tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1561480071, "creation_date": 1561480071, "answer_id": 56758389, "question_id": 56758362, "link": "https://stackoverflow.com/questions/56758362/accessing-the-argument-which-was-passed-to-the-callback-function/56758389#56758389", "title": "Accessing the argument which was passed to the callback function", "body": "<pre><code>Async(\n    {\n        workload()\n    },\n    { response -&gt;\n      Log.d(\"foo\", \"The response is: $response\")\n    }\n).execute( \"\" )\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 8166291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8655760bd9e23243742766923c161f?s=128&d=identicon&r=PG&f=1", "display_name": "Kristian", "link": "https://stackoverflow.com/users/8166291/kristian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 56758389, "answer_count": 1, "score": 0, "last_activity_date": 1561480071, "creation_date": 1561479948, "question_id": 56758362, "link": "https://stackoverflow.com/questions/56758362/accessing-the-argument-which-was-passed-to-the-callback-function", "title": "Accessing the argument which was passed to the callback function", "body": "<p>I have a simple class which implements the AsyncTask:</p>\n\n<pre><code>class Async( private val workload: () -&gt; String,\n             private val callback: ( httpResponse : String ) -&gt; Unit\n) : AsyncTask&lt;String, String, String&gt;()\n{\n    override fun doInBackground( vararg params: String? ): String?\n    {\n        return workload()\n    }\n\n    override fun onPostExecute( result: String )\n    {\n        callback( result ) // &lt;-- argument being passed to the callback\n        super.onPostExecute( result )\n    }\n}\n</code></pre>\n\n<p>I pass two arguments to this class, which are:</p>\n\n<pre><code>string workload() - function which takes long time to execute and returns a string\ncallback( string ) - the callback function to which I want to pass the value, which was returned by the workload()\n</code></pre>\n\n<p>Everything works fine, except that I can't seem to be able to find a way how to access the argument within the callback function: </p>\n\n<pre><code>Async(\n    {\n        workload()\n    },\n    {\n        // how to \"receive\" the \"test\" string returned by the workload()? \n        Log.d( \"myapp\", ???_argumentPassedToCallback_??? );\n    }\n).execute( \"\" )\n\n\nfun workload() : String\n{\n    Thread.sleep( 1000 )     \n    return \"test\";\n}\n</code></pre>\n\n<p>Any suggestions please? Thank you!</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "edited": false, "score": 0, "creation_date": 1561481473, "post_id": 56758351, "comment_id": 100074922, "body": "My personal suggestion is that a lazy approach would be the most fictional programming style which is considered kotlin idiomatic by my understanding, where the new list is a lazy wrapper around the old and only accesses the original lists element if it actually is asked for. Like a java stream. This assumes the original list is immutable. I can&#39;t code right now so this is not a full answer more a suggestion."}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1561484642, "post_id": 56758457, "comment_id": 100076310, "body": "I&#39;d add use of <code>plus</code> as an operator."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 5, "last_activity_date": 1561486390, "last_edit_date": 1561486390, "creation_date": 1561480362, "answer_id": 56758457, "question_id": 56758351, "link": "https://stackoverflow.com/questions/56758351/idiomatic-way-in-kotlin-to-transform-append-to-a-list/56758457#56758457", "title": "Idiomatic way in kotlin to transform/append to a list?", "body": "<p>While your solution is quite readable, it copies all of the items of the original <code>List&lt;Int&gt;</code> on every iteration of the <code>for</code>-loop, as <code>+=</code> on a <code>var newList: List&lt;Int&gt;</code> will create a new list each time. The computational complexity of the worst case is O(n\u00b2), which can be improved to O(n).</p>\n\n<hr>\n\n<p>For this particular case when you just want to append a continuous range to a list, a one-line function like this will work:</p>\n\n<pre><code>fun List&lt;Int&gt;.padWithIndices(newLength: Int): List&lt;Int&gt; = \n    plus(size until newLength)\n</code></pre>\n\n<p><sup><a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjMxIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IlNhbXBsZUlucHV0MSBTYW1wbGVJbnB1dDIiLCJqc0NvZGUiOiIiLCJub25lTWFya2VycyI6dHJ1ZSwidGhlbWUiOiJpZGVhIiwiZm9sZGVkQnV0dG9uIjp0cnVlLCJyZWFkT25seSI6ZmFsc2UsImNvZGUiOiJmdW4gTGlzdDxJbnQ+LnBhZFdpdGhJbmRpY2VzKG5ld0xlbmd0aDogSW50KTogTGlzdDxJbnQ+ID0gXG4gICAgcGx1cyhzaXplIHVudGlsIG5ld0xlbmd0aClcblxuZnVuIG1haW4oKSB7XG4gICAgdmFsIGxpc3QgPSBsaXN0T2YoLTEsIC0yLCAtMylcbiAgICBwcmludGxuKGxpc3QucGFkV2l0aEluZGljZXMoMikpIC8vIFstMSwgLTIsIC0zXVxuICAgIHByaW50bG4obGlzdC5wYWRXaXRoSW5kaWNlcygzKSkgLy8gWy0xLCAtMiwgLTNdXG4gICAgcHJpbnRsbihsaXN0LnBhZFdpdGhJbmRpY2VzKDQpKSAvLyBbLTEsIC0yLCAtMywgM11cbiAgICBwcmludGxuKGxpc3QucGFkV2l0aEluZGljZXMoNikpIC8vIFstMSwgLTIsIC0zLCAzLCA0LCA1XVxufSIsInRvIjoiIiwiZnJvbSI6IiJ9\" rel=\"nofollow noreferrer\">(runnable sample)</a></sup></p>\n\n<p>It calls the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/plus.html\" rel=\"nofollow noreferrer\"><code>plus</code></a> function on the receiver list, producing a new list with the items from the argument appended.</p>\n\n<p>You can also call <code>plus</code> as the <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#arithmetic\" rel=\"nofollow noreferrer\">operator <code>+</code></a>, replacing the line with <code>this + (size until newLength)</code>.</p>\n\n<hr>\n\n<p>For use cases with more complex logic for computing the items that you append to the list, you can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list.html\" rel=\"nofollow noreferrer\"><code>List(n) { ... }</code> factory function</a>, which accepts a lambda providing the list items and thus ensures that each list item is only computed once:</p>\n\n<pre><code>fun List&lt;Int&gt;.padWithIndices(newLength: Int): List&lt;Int&gt; = \n    List(newLength) { index -&gt; getOrNull(index) ?: index }\n</code></pre>\n\n<p><sup><a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjMxIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IlNhbXBsZUlucHV0MSBTYW1wbGVJbnB1dDIiLCJqc0NvZGUiOiIiLCJub25lTWFya2VycyI6dHJ1ZSwidGhlbWUiOiJpZGVhIiwiZm9sZGVkQnV0dG9uIjp0cnVlLCJyZWFkT25seSI6ZmFsc2UsImNvZGUiOiJmdW4gTGlzdDxJbnQ+LnBhZFdpdGhJbmRpY2VzKG5ld0xlbmd0aDogSW50KTogTGlzdDxJbnQ+ID0gXG4gICAgTGlzdChuZXdMZW5ndGgpIHsgaW5kZXggLT4gZ2V0T3JOdWxsKGluZGV4KSA/OiBpbmRleCB9XG5cbmZ1biBtYWluKCkge1xuICAgIHZhbCBsaXN0ID0gbGlzdE9mKC0xLCAtMiwgLTMpXG4gICAgcHJpbnRsbihsaXN0LnBhZFdpdGhJbmRpY2VzKDIpKSAvLyBbLTEsIC0yLCAtM11cbiAgICBwcmludGxuKGxpc3QucGFkV2l0aEluZGljZXMoNikpIC8vIFstMSwgLTIsIC0zLCAzLCA0LCA1XVxufSIsInRvIjoiIiwiZnJvbSI6IiJ9\" rel=\"nofollow noreferrer\">(runnable sample)</a></sup></p>\n\n<p>The function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/get-or-null.html\" rel=\"nofollow noreferrer\"><code>getOrNull(index)</code></a> returns the item at the specified index or <code>null</code> if the index is out of bounds. The latter is handled by <code>?: index</code>. </p>\n\n<hr>\n\n<p>Alternatively, rewrite your solution and use a mutable list inside the function implementation, appending the items to it, then return it as a read-only <code>List&lt;Int&gt;</code>:</p>\n\n<pre><code>fun List&lt;Int&gt;.padWithIndices(newLength: Int): List&lt;Int&gt; =\n    toMutableList().apply {\n        addAll(size until newLength)\n    }\n</code></pre>\n\n<p><sup><a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjMxIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IlNhbXBsZUlucHV0MSBTYW1wbGVJbnB1dDIiLCJqc0NvZGUiOiIiLCJub25lTWFya2VycyI6dHJ1ZSwidGhlbWUiOiJpZGVhIiwiZm9sZGVkQnV0dG9uIjp0cnVlLCJyZWFkT25seSI6ZmFsc2UsImNvZGUiOiJmdW4gTGlzdDxJbnQ+LnBhZFdpdGhJbmRpY2VzKG5ld0xlbmd0aDogSW50KTogTGlzdDxJbnQ+ID1cbiAgICB0b011dGFibGVMaXN0KCkuYXBwbHkgeyBhZGRBbGwoc2l6ZSB1bnRpbCBuZXdMZW5ndGgpIH1cblxuZnVuIG1haW4oKSB7XG4gICAgdmFsIGxpc3QgPSBsaXN0T2YoLTEsIC0yLCAtMylcbiAgICBwcmludGxuKGxpc3QucGFkV2l0aEluZGljZXMoMikpIC8vIFstMSwgLTIsIC0zXVxuICAgIHByaW50bG4obGlzdC5wYWRXaXRoSW5kaWNlcyg2KSkgLy8gWy0xLCAtMiwgLTMsIDMsIDQsIDVdXG59IiwidG8iOiIiLCJmcm9tIjoiIn0=\" rel=\"nofollow noreferrer\">(runnable sample)</a></sup></p>\n"}, {"tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": false, "score": 0, "last_activity_date": 1561480457, "creation_date": 1561480457, "answer_id": 56758487, "question_id": 56758351, "link": "https://stackoverflow.com/questions/56758351/idiomatic-way-in-kotlin-to-transform-append-to-a-list/56758487#56758487", "title": "Idiomatic way in kotlin to transform/append to a list?", "body": "<p>That works, but you are appending to the list on the loop, so that may trigger a reallocation in the list.</p>\n\n<p>This is more efficient as the list gets initialized with the right size first:</p>\n\n<pre><code>fun List&lt;Int&gt;.padWithIndices(newLength: Int): List&lt;Int&gt; = List(newLength) { index -&gt;\n    if (index &lt; size) {\n        get(index)\n    } else {\n        index\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1825, "user_id": 521571, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/xfSlc.jpg?s=128&g=1", "display_name": "Vladimir Lagunov", "link": "https://stackoverflow.com/users/521571/vladimir-lagunov"}, "is_accepted": false, "score": 0, "last_activity_date": 1561482536, "creation_date": 1561482536, "answer_id": 56758945, "question_id": 56758351, "link": "https://stackoverflow.com/questions/56758351/idiomatic-way-in-kotlin-to-transform-append-to-a-list/56758945#56758945", "title": "Idiomatic way in kotlin to transform/append to a list?", "body": "<p>One-liner:</p>\n\n<pre><code>fun List&lt;Int&gt;.padWithIndices(newLength: Int): List&lt;Int&gt; =\n  toMutableList().apply { addAll(size until newLength) }\n</code></pre>\n\n<p>Convert initial list to <code>MutableList&lt;Int&gt;</code> (backed by ArrayList in JVM), then create <code>IntRange</code> from size of copied list until <code>newLength</code>, call <code>MutableList&lt;Int&gt;.addAll(Iterable&lt;Int&gt;)</code> and finaly downcast to <code>List&lt;Int&gt;</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 1636815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8f3770a47737779f5d7fae493e5b0db?s=128&d=identicon&r=PG", "display_name": "user1636815", "link": "https://stackoverflow.com/users/1636815/user1636815"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1561486390, "creation_date": 1561479888, "question_id": 56758351, "link": "https://stackoverflow.com/questions/56758351/idiomatic-way-in-kotlin-to-transform-append-to-a-list", "title": "Idiomatic way in kotlin to transform/append to a list?", "body": "<p>Say I'm trying to implement some function:</p>\n\n<pre><code>private fun List&lt;Int&gt;.padWithIndices(newLength: Int): List&lt;Int&gt;\n</code></pre>\n\n<p>It takes a list and returns a list, with some appended values, where for each new value this[i] = i.</p>\n\n<p>Kotlin gives us tons of nice ways to append to lists, to concatenate two different lists, to create mutable lists, etc. So many that I don't know which is best in this scenario, and I don't know if there are any hidden pitfalls. This is my original for-loop based solution, are there more efficient/idiomatic solutions?</p>\n\n<pre><code>fun List&lt;Int&gt;.padWithIndices(newLength: Int): List&lt;Int&gt; {\n    var newList = this\n    for (x in size until newLength) {\n        newList += x\n    }\n    return newList\n}\n</code></pre>\n"}, {"tags": ["kotlin", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 0, "creation_date": 1561477107, "post_id": 56756876, "comment_id": 100072841, "body": "are you sure that it doesn&#39;t wait until it finishes? perhaps the string you&#39;re trying to print is empty."}, {"owner": {"reputation": 846, "user_id": 6582127, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ijqtr.png?s=128&g=1", "display_name": "Luis Cardoza Bird", "link": "https://stackoverflow.com/users/6582127/luis-cardoza-bird"}, "reply_to_user": {"reputation": 1493, "user_id": 7122274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whywW.png?s=128&g=1", "display_name": "r2rek", "link": "https://stackoverflow.com/users/7122274/r2rek"}, "edited": false, "score": 1, "creation_date": 1561478814, "post_id": 56756876, "comment_id": 100073667, "body": "yeah, i don&#39;t know why it goes straight to the next request without handling the first one, the weird thing is if i ommit the second request it goes fine"}, {"owner": {"reputation": 4441, "user_id": 1716487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cb7969a127a12e8707cfa9fb95431d58?s=128&d=identicon&r=PG", "display_name": "morpheus05", "link": "https://stackoverflow.com/users/1716487/morpheus05"}, "edited": false, "score": 1, "creation_date": 1561480229, "post_id": 56756876, "comment_id": 100074337, "body": "IDK if this would help, but <code>registrationCoroutine</code> could be a suspend function could it not? It would at least make the code more logical. If not, then at least make it an extension function of <code>CoroutineScope</code>, but I don&#39;t see why <code>registrationCoroutine</code> needs to do another <code>launch</code>"}, {"owner": {"reputation": 846, "user_id": 6582127, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ijqtr.png?s=128&g=1", "display_name": "Luis Cardoza Bird", "link": "https://stackoverflow.com/users/6582127/luis-cardoza-bird"}, "edited": false, "score": 1, "creation_date": 1561482713, "post_id": 56756876, "comment_id": 100075515, "body": "I think i know what are you talking, the issue seems to goes well with that, so if you can please add it as an answer :) so i can check it as correct."}], "owner": {"reputation": 846, "user_id": 6582127, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ijqtr.png?s=128&g=1", "display_name": "Luis Cardoza Bird", "link": "https://stackoverflow.com/users/6582127/luis-cardoza-bird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561475187, "creation_date": 1561474609, "last_edit_date": 1561475187, "question_id": 56756876, "link": "https://stackoverflow.com/questions/56756876/kotlin-coroutine-request-wont-wait-till-first-request-finish", "title": "Kotlin -Coroutine request won&#39;t wait till first request finish", "body": "<p>I have 2 requests: <strong>SIGNUP</strong> and <strong>SIGNUP_UPLOAD_AVATAR</strong></p>\n\n<pre><code>@POST(SIGNUP)\nfun registerUser(@QueryMap(encoded = true) userCredentials: HashMap&lt;String, Any&gt;): Deferred&lt;Response&lt;UserResponse&gt;&gt;\n\n\n@Multipart\n@POST(SIGNUP_UPLOAD_AVATAR) //SHOULD BE A PUT, DUE TO ONLY SEND FILE.\nfun uploadAvatar(@Part file: MultipartBody.Part): Deferred&lt;Response&lt;ResponseBody&gt;&gt;\n</code></pre>\n\n<p>currently i decided to change for the use of <strong>COROUTINES</strong> however im having an issue, that is when the first post <strong>SIGNUP_UPLOAD_AVATAR</strong> start his request, i need to wait till it finish to go with the <strong>SIGNUP</strong> process. However the second coroutine start immediately, without asking if the first request finish or is still working.</p>\n\n<p>This is my function:</p>\n\n<pre><code>fun getImageUrlCoRoutine(){\n        val requestFile = RequestBody.create(MediaType.parse(\"multipart/form-data\"), profilePicture)\n        val body = MultipartBody.Part.createFormData(\"file\", \"android.${getFileExtension(profilePicture)}\", requestFile)\n\n        val service = APIService.create()\n        val request = service.uploadAvatar(body)\n        try {\n            GlobalScope.launch(Dispatchers.Main) {\n                val response = CoroutineUtil().retryIO (times = 3){ request.await() }\n                val responseCode = StatusCode(response.code()).description\n                when(responseCode){\n                    StatusCode.Status.OK -&gt; {\n                        response.body()?.let {\n                            it.let {\n                                println(\"RESULT: \" + it.string())\n                                avatarUrl = it.string()\n\n                                println(\"Avatar: \" + avatarUrl)\n                                registrationCoroutine(this)  &lt;- here goes for the second request(registration)\n                            }\n                        }\n                    }\n                    else -&gt; {}\n                }\n            }\n        }catch (e: HttpException){\n            val responseCode = StatusCode(e.code()).description\n            when(responseCode){\n                StatusCode.Status.NotAcceptable -&gt; {\n                }\n                else -&gt; {\n                }\n            }\n        }catch (e: Throwable){\n            println(\"Houston we got a Coroutine Problem\")\n            println(e)\n        }\n    }\n\n\n\nfun registrationCoroutine(suspended: CoroutineScope) {\n        val service = APIService.create()\n        val data = HashMap&lt;String, Any&gt;()\n        data[\"email\"] = email\n        data[\"phone\"] = phoneNumber\n        data[\"username\"] = email\n        data[\"password\"] = password\n        data[\"fullName\"] = fullname\n        data[\"token\"] = \"\"\n        data[\"appName\"] = BuildConfig.APP_NAME\n        data[\"avatarUrl\"] = avatarUrl\n        data[\"deviceType\"] = BuildConfig.PLATFORM\n        data[\"needsVerify\"] = false\n\n            suspended.launch {\n                val request = service.registerUser(data)\n                try {\n                    val response = CoroutineUtil().retryIO(times = 3) { request.await() }\n                    val responseCode = StatusCode(response.code()).description\n                    when(responseCode){\n                        StatusCode.Status.OK -&gt; {\n                            response.body()?.let {\n                                it.let {\n                                    println(it)\n                                }\n                            }\n                        }\n                        else -&gt; {}\n                    }\n                } catch (e: HttpException) {\n                    val responseCode = StatusCode(e.code()).description\n                    when(responseCode){\n                        StatusCode.Status.NotAcceptable -&gt; {}\n                        else -&gt; {}\n                    }\n                } catch (e: Throwable) {\n                    println(\"Houston we have a coroutine problem\")\n                    println(e)\n                }\n        }\n    }\n</code></pre>\n\n<p>and the responses that i get...</p>\n\n<blockquote>\n  <p>2019-06-25 08:41:28.858 19886-19886/com.multirequest.development\n  I/System.out: RESULT:  </p>\n  \n  <p>2019-06-25 08:41:28.859 19886-19886/com.multirequest.development\n  I/System.out: Avatar:  </p>\n  \n  <p>2019-06-25 08:41:28.880 19886-20735/com.multirequest.development\n  D/OkHttp: --> POST\n  <a href=\"http://myCustomURL.com/signup?deviceType=ANDROID&amp;password=demdemdem&amp;needsVerify=false&amp;phone=+1123456789&amp;avatarUrl=&amp;appName=DEMO&amp;fullName=demmmm&amp;email=demm@gmail.com&amp;username=demm@gmail.com&amp;token=\" rel=\"nofollow noreferrer\">http://myCustomURL.com/signup?deviceType=ANDROID&amp;password=demdemdem&amp;needsVerify=false&amp;phone=+1123456789&amp;avatarUrl=&amp;appName=DEMO&amp;fullName=demmmm&amp;email=demm@gmail.com&amp;username=demm@gmail.com&amp;token=</a>\n  201</p>\n</blockquote>\n\n<p>And i need that when i get the AvatarURL the signup process begin...</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["android", "kotlin", "layout", "dynamic"], "answers": [{"tags": [], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "is_accepted": false, "score": 0, "last_activity_date": 1567173852, "last_edit_date": 1567173852, "creation_date": 1561501729, "answer_id": 56762813, "question_id": 56756677, "link": "https://stackoverflow.com/questions/56756677/why-a-programatically-absolute-view-position-is-not-absolute/56762813#56762813", "title": "Why a programatically absolute view position is not absolute?", "body": "<p>I have discovered the solution for my misery. It is something almost crazy \nand very little addressed on the <em>Internet</em>. There is nothing to to with my program. It's not related if is coded in <em>Java</em> or <em>Kotlin</em>. </p>\n\n<p>My project had a style in <code>styles.xml</code> (<code>app/res/values</code> in <em>Android project structure</em>) to rid of status bar with program title at top:</p>\n\n<pre><code>&lt;style name=\"AppTheme.NoActionBar\"&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>And in <code>AndroidManifest.xml</code> (<code>app/Manifest</code> in <em>Android project structure</em>) I've replate the previous theme setting  for below line, under <code>application</code> tag</p>\n\n<pre><code>android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n</code></pre>\n\n<p>When I was reprogramming my project in <em>Java</em> (maybe to submit to the community) and run, I've noticed that the program title has appearead again at top and therefore my button disappears below.</p>\n\n<p>Ok, no problem. I was back in <em>Kotlin</em> project and made that above changes in my new <em>Java</em> project.</p>\n\n<p>So the button appears, but it appeared cutted, in the same way of my original project in <em>Kotlin</em>.</p>\n\n<p>However, I guessed: It will be that my cutting problem is related with this stuff?</p>\n\n<p>I search again for how to take out title bar in apps and I've found <a href=\"https://stackoverflow.com/questions/55610855/layout-height-appcompat-not-full-screen\">this post</a> in <em>Stack Overflow</em>. </p>\n\n<p>The post shows 2 news lines that I  never saw before. Maybe...\nSo I've added in <code>NoActionBar</code> styles 2 additional lines.</p>\n\n<pre><code>    &lt;item name=\"android:windowFullscreen\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n</code></pre>\n\n<p>In fact, this <code>windowFullScreen</code> flag solves my original question totally!!! \nWhat changes have there been? The small green top bar status with battery level, phone signal and other stuff disappears from my screen. This is the effect of full screen setting</p>\n\n<p><a href=\"https://i.stack.imgur.com/oLgNY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oLgNY.png\" alt=\"Now it&#39;s ok!\"></a></p>\n"}], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567173852, "creation_date": 1561473960, "last_edit_date": 1561505336, "question_id": 56756677, "link": "https://stackoverflow.com/questions/56756677/why-a-programatically-absolute-view-position-is-not-absolute", "title": "Why a programatically absolute view position is not absolute?", "body": "<p>My source code is in <em>Kotlin</em> (fully interoperable with <em>Java</em>) with <em>Android Studio 3.4.1</em>.</p>\n\n<p>I have a serious error problem in absolute positioning of dynamic created views. My relative layout is empty, with no view. I've read all <em>Stack Overflow</em> question related to this, but there is no help for me.</p>\n\n<p>I've reduced my code to a minimum, just for show my pain for the community:</p>\n\n<p>My <em>activity</em> code is</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val mt = this.resources.displayMetrics\n        wScreen = mt.widthPixels    // 1080 pixels \n        hScreen = mt.heightPixels   // 1920 pixels\n        bt =  Button(this)\n        myLayout.addView(bt) // MyLayoit is relative layout ID\n        bt.id = View.generateViewId()\n        bt.setBackgroundColor(Color.RED)\n\n         // % view height is 6,3% of screen heigth  \n        bt.layoutParams = RelativeLayout.LayoutParams   \n              (round(0.1786* wScreen).toInt(),   //193 pixels\n               round(0.0633*hScreen).toInt())    // 122 pixels\n\n       // top button is 92,7% of height screen\n         bt.x = 0.0179F * wScreen //  Left position: 19 pixels\n        bt.y = 0.927F * hScreen   //  Top position: 1780 pixels\n    }  // On Create\n}  // Main Activity\n</code></pre>\n\n<p>My relative layout XML is empty:</p>\n\n\n\n<pre><code>&lt;RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/myLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\n          \"br.com.greatsolutions.paulo.yourcalcs.MainActivity\"&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>The emulator has dimensions 2392x1440 shows 30% height cut more\na small margin below the button. I know that because I put the same button in different position.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XuUMK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XuUMK.png\" alt=\"Nexus 6 API 25\"></a></p>\n\n<p>My cell phone dimension is 1920x1080. It shows the same screen</p>\n\n<p>It will be very nice if someone could help me. I need a precise dynamic positioning in my app...</p>\n\n<p><strong>Update 1:</strong> I try to run using <em>Frame Layout</em> instead <em>Relative Layout</em>. No success.</p>\n\n<p><strong>Update 2:</strong> I've discovered a solution. It's different that I've expected, but it works. Persistence is the mother of invention. I did not have noticed the small green top bar... </p>\n"}, {"tags": ["java", "spring-boot", "kotlin", "neo4j", "spring-data-neo4j"], "comments": [{"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561472559, "post_id": 56756107, "comment_id": 100070143, "body": "What error did you get with the @Converter? Did you use @Converter(LocalDateParser.class)"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561472740, "post_id": 56756107, "comment_id": 100070272, "body": "yes I tried and he didn&#39;t wanted to compile, I even had a Intellij internal error ..."}, {"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561472771, "post_id": 56756107, "comment_id": 100070282, "body": "what kind of compile error did you get?"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561473330, "post_id": 56756107, "comment_id": 100070636, "body": "I&#39;ve editied the post"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561474892, "post_id": 56756107, "comment_id": 100071566, "body": "@XavierBouclet do you have an idea ?"}, {"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 1, "creation_date": 1561475077, "post_id": 56756107, "comment_id": 100071660, "body": "Try using ::class.java instead of .class"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561475183, "post_id": 56756107, "comment_id": 100071717, "body": "@XavierBouclet it compiles now but still java.time.format.DateTimeParseException: Text &#39;2018-10-09&#39; could not be parsed at index 4"}, {"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561475350, "post_id": 56756107, "comment_id": 100071794, "body": "override fun toEntityAttribute(value: String?): LocalDate {         return LocalDate.parse(value);     } Why don&#39;t you use your formatter? You use LocalDate. parse without telling it the input format"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561475525, "post_id": 56756107, "comment_id": 100071904, "body": "@XavierBouclet <a href=\"https://www.mkyong.com/java8/java-8-how-to-convert-string-to-localdate/\" rel=\"nofollow noreferrer\">mkyong.com/java8/java-8-how-to-convert-string-to-localdate</a> it should be fine like that :"}, {"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 1, "creation_date": 1561475554, "post_id": 56756107, "comment_id": 100071923, "body": "You should do LocalDate.parse(date, formatter);"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561475601, "post_id": 56756107, "comment_id": 100071950, "body": "Not according to Mkyong"}, {"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 1, "creation_date": 1561476520, "post_id": 56756107, "comment_id": 100072508, "body": "Ok but could you try it. May be it&#39;s a locale pb"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561529548, "post_id": 56756107, "comment_id": 100088578, "body": "@XavierBouclet same result, I&#39;ve added a breakpoint inside the converter and he hasn&#39;t been triggered"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1561997683, "post_id": 56756107, "comment_id": 100230423, "body": "just curious: what did your code look like in Java (where it probably worked)?"}, {"owner": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 0, "creation_date": 1562179611, "post_id": 56756107, "comment_id": 100301092, "body": "Would it be possible for you to provide this problem in form of a small github project?"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "reply_to_user": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 0, "creation_date": 1562750174, "post_id": 56756107, "comment_id": 100471624, "body": "Will be complicate because of ownership of the code to a company :/ @second"}], "answers": [{"comments": [{"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "edited": false, "score": 0, "creation_date": 1562749697, "post_id": 56877360, "comment_id": 100471336, "body": "I&#39;ll try that asap"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "edited": false, "score": 0, "creation_date": 1562749949, "post_id": 56877360, "comment_id": 100471486, "body": "Fromatter come from where ? @Cepr0 ?"}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "edited": false, "score": 0, "creation_date": 1562750242, "post_id": 56877360, "comment_id": 100471660, "body": "because I&#39;ve no Types arguments expected for class Formatter"}, {"owner": {"reputation": 20034, "user_id": 5380322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-6cs1r0Ov08I/AAAAAAAAAAI/AAAAAAAACBI/rQyZyFwtZmE/photo.jpg?sz=128", "display_name": "Cepr0", "link": "https://stackoverflow.com/users/5380322/cepr0"}, "reply_to_user": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "edited": false, "score": 1, "creation_date": 1562761747, "post_id": 56877360, "comment_id": 100477916, "body": "@GillesBodart it&#39;s <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/format/Formatter.html\" rel=\"nofollow noreferrer\">Spring Formatter</a>. Please check the answer - I&#39;ve updated it..."}, {"owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "edited": false, "score": 0, "creation_date": 1564475060, "post_id": 56877360, "comment_id": 101033119, "body": "I&#39;ll try asap and come back"}], "tags": [], "owner": {"reputation": 20034, "user_id": 5380322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-6cs1r0Ov08I/AAAAAAAAAAI/AAAAAAAACBI/rQyZyFwtZmE/photo.jpg?sz=128", "display_name": "Cepr0", "link": "https://stackoverflow.com/users/5380322/cepr0"}, "is_accepted": false, "score": 0, "last_activity_date": 1562829058, "last_edit_date": 1562829058, "creation_date": 1562184971, "answer_id": 56877360, "question_id": 56756107, "link": "https://stackoverflow.com/questions/56756107/date-converter-on-spring-data-neo4j-kotlin/56877360#56877360", "title": "Date converter on Spring data Neo4j + Kotlin", "body": "<p>Just try to add the following <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/format/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a> bean to your project:</p>\n\n<pre><code>@Component\nclass LocalDateFormatter : Formatter&lt;LocalDate&gt; {\n    override fun parse(text: String, locale: Locale): LocalDate {\n        return LocalDate.parse(text, DateTimeFormatter.ISO_LOCAL_DATE)\n    }\n\n    override fun print(obj: LocalDate, locale: Locale): String {\n        return DateTimeFormatter.ISO_LOCAL_DATE.format(obj)\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The above code works if you have <code>spring-boot-starter-web</code> dependency in your project. But if you don't - you can add <code>FormattingConversionServiceFactoryBean</code> to the project and register your Formatter manually (then you can remove <code>@Component</code> annotation from it):</p>\n\n<pre><code>@Bean\nfun formattingConversionServiceFactoryBean(): FormattingConversionServiceFactoryBean {\n    val factoryBean = FormattingConversionServiceFactoryBean()\n    factoryBean.setFormatters(setOf(LocalDateFormatter()))\n    return factoryBean\n}\n</code></pre>\n\n<p><a href=\"https://github.com/Cepr0/sb-neo4j-demo\" rel=\"nofollow noreferrer\">Working demo</a> in Java.</p>\n"}], "owner": {"reputation": 547, "user_id": 4563992, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-IKHQGVU-R7E/AAAAAAAAAAI/AAAAAAAAADY/WYLX4ONWQsA/photo.jpg?sz=128", "display_name": "Gilles Bodart", "link": "https://stackoverflow.com/users/4563992/gilles-bodart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 548, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1562829058, "creation_date": 1561472101, "last_edit_date": 1561475078, "question_id": 56756107, "link": "https://stackoverflow.com/questions/56756107/date-converter-on-spring-data-neo4j-kotlin", "title": "Date converter on Spring data Neo4j + Kotlin", "body": "<p>I'm switching from Java to Kotlin for a simple project but I'm figuring one conversion issue. I've on the database : </p>\n\n<pre><code>CREATE (:Meeting {on: '2018-10-09', location: \"Oracle's offices\"})\n</code></pre>\n\n<p>and in kotlin (with SpringBoot + Spring Data neo4J) </p>\n\n<pre><code>@NodeEntity\ndata class Meeting(\n    @Id @GeneratedValue var id: Long?,\n    @DateString(\"yyyy-MM-dd\") var on: LocalDate?,\n    var location: String?,\n    @Relationship(value = \"ON\") var topics: List&lt;Topic&gt; = ArrayList(),\n    @Relationship(value = \"IN\", direction = Relationship.INCOMING) var \nparticipants: List&lt;Person&gt; = ArrayList(),\n    @Relationship(value = \"ON\") var event: Event?\n) : Comparable&lt;Meeting&gt; {\n    override fun compareTo(other: Meeting): Int {\n        return this.on!!.compareTo(other.on)\n    }\n}\n</code></pre>\n\n<p>but when I execute a simple meetingRepository.findAll(), I have that exception</p>\n\n<pre><code>java.time.format.DateTimeParseException: Text '2018-10-09' could not be parsed at index 4\nat java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949) ~[na:1.8.0_171]\nat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851) ~[na:1.8.0_171]\nat java.time.LocalDate.parse(LocalDate.java:400) ~[na:1.8.0_171]\nat org.springframework.format.datetime.standard.TemporalAccessorParser.parse(TemporalAccessorParser.java:69) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.format.datetime.standard.TemporalAccessorParser.parse(TemporalAccessorParser.java:46) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.format.support.FormattingConversionService$ParserConverter.convert(FormattingConversionService.java:200) ~[spring-context-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41) ~[spring-core-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:191) ~[spring-core-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:174) ~[spring-core-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.neo4j.conversion.Neo4jOgmEntityInstantiatorAdapter$Neo4jPropertyValueProvider.getParameterValue(Neo4jOgmEntityInstantiatorAdapter.java:89) ~[spring-data-neo4j-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.data.convert.KotlinClassGeneratingEntityInstantiator$DefaultingKotlinClassInstantiatorAdapter.extractInvocationArguments(KotlinClassGeneratingEntityInstantiator.java:230) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.convert.KotlinClassGeneratingEntityInstantiator$DefaultingKotlinClassInstantiatorAdapter.createInstance(KotlinClassGeneratingEntityInstantiator.java:204) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.convert.ClassGeneratingEntityInstantiator.createInstance(ClassGeneratingEntityInstantiator.java:84) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.neo4j.conversion.Neo4jOgmEntityInstantiatorAdapter.createInstance(Neo4jOgmEntityInstantiatorAdapter.java:61) ~[spring-data-neo4j-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.neo4j.ogm.metadata.reflect.EntityFactory.instantiate(EntityFactory.java:126) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.metadata.reflect.EntityFactory.newObject(EntityFactory.java:95) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.context.GraphEntityMapper.mapNodes(GraphEntityMapper.java:237) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.context.GraphEntityMapper.mapEntities(GraphEntityMapper.java:212) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.context.GraphEntityMapper.map(GraphEntityMapper.java:138) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.context.GraphEntityMapper.map(GraphEntityMapper.java:94) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.session.delegates.LoadByTypeDelegate.lambda$loadAll$0(LoadByTypeDelegate.java:107) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.session.Neo4jSession.doInTransaction(Neo4jSession.java:574) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.session.Neo4jSession.doInTransaction(Neo4jSession.java:558) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.session.delegates.LoadByTypeDelegate.loadAll(LoadByTypeDelegate.java:94) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.session.delegates.LoadByTypeDelegate.loadAll(LoadByTypeDelegate.java:118) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat org.neo4j.ogm.session.Neo4jSession.loadAll(Neo4jSession.java:192) ~[neo4j-ogm-core-3.1.9.jar:3.1.9]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]\nat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) ~[spring-core-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.lambda$invoke$0(SharedSessionCreator.java:108) ~[spring-data-neo4j-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invokeInTransaction(SharedSessionCreator.java:139) ~[spring-data-neo4j-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.data.neo4j.transaction.SharedSessionCreator$SharedSessionInvocationHandler.invoke(SharedSessionCreator.java:110) ~[spring-data-neo4j-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat com.sun.proxy.$Proxy101.loadAll(Unknown Source) ~[na:na]\nat org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.findAll(SimpleNeo4jRepository.java:154) ~[spring-data-neo4j-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat org.springframework.data.neo4j.repository.support.SimpleNeo4jRepository.findAll(SimpleNeo4jRepository.java:149) ~[spring-data-neo4j-5.1.8.RELEASE.jar:5.1.8.RELEASE]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_171]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_171]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_171]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_171]\nat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:359) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:200) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:644) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:608) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$invoke$3(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:595) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:59) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:295) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:99) ~[spring-data-commons-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.1.7.RELEASE.jar:5.1.7.RELEASE]\nat com.sun.proxy.$Proxy105.findAll(Unknown Source) ~[na:na]\nat be.namuco.dynanetwork.manager.InfoManager.getAllMeetings(InfoManager.kt:80) ~[classes/:na]\nat be.namuco.dynanetwork.controller.InfoController.getAllMeetings(InfoController.kt:51) ~[classes/:na]\n</code></pre>\n\n<p>I've then tried with the annotation @Converter with a custom converter like that </p>\n\n<pre><code>class LocalDateParser : AttributeConverter&lt;LocalDate, String&gt; {\n\n    val formatter: DateTimeFormatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\")\n\n\n    override fun toGraphProperty(value: LocalDate): String? {\n        return formatter.format(value)\n    }\n\n    override fun toEntityAttribute(value: String?): LocalDate {\n        return LocalDate.parse(value);\n    }\n}\n</code></pre>\n\n<p>without any success</p>\n\n<p><a href=\"https://i.stack.imgur.com/AcLdh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AcLdh.png\" alt=\"compile error\"></a></p>\n\n<p>------------------EDIT------------------------ </p>\n\n<p>Thx @Xavier</p>\n\n<p><a href=\"https://i.stack.imgur.com/3Qtuh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Qtuh.png\" alt=\"enter image description here\"></a></p>\n\n<p>------------------EDIT------------------------</p>\n\n<p>when I look with the debugger I can see that the parser is looking for a pattern </p>\n\n<pre><code>MM/dd/yy\n</code></pre>\n\n<p>Can someone help me ?</p>\n\n<p>config : </p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-neo4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n     &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n     &lt;artifactId&gt;neo4j-ogm-http-driver&lt;/artifactId&gt;\n     &lt;version&gt;3.1.11&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n     &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n     &lt;artifactId&gt;neo4j-ogm-bolt-driver&lt;/artifactId&gt;\n     &lt;version&gt;3.1.11&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "is_accepted": true, "score": 0, "last_activity_date": 1562065878, "last_edit_date": 1562065878, "creation_date": 1561819755, "answer_id": 56818474, "question_id": 56755839, "link": "https://stackoverflow.com/questions/56755839/executing-a-kotlin-script-kts-with-a-dependency-from-github/56818474#56818474", "title": "Executing a kotlin -script.kts with a dependency from github", "body": "<p>I was not able to find a method of requesting the dependency from the repository or the direct url of a jar file.</p>\n\n<p>I was however able to use jitpack on top of my regular github repository. Unfortunately, pointing to the master branch did not work for me, but creating a release seem to work just fine.</p>\n\n<p>The resulting boilerplate looks like this:</p>\n\n<pre><code>#!/usr/bin/env kscript\n\n@file:MavenRepository(\"com.github.username:repo:1.0.0\", \"https://jitpack.io\")\n@file:DependsOn(\"com.github.username:repo:1.0.0\")\n\nimport repo.MyLibrary\n\nfun useLibrary(){\n    val library = MyLibrary()\n    library.use()\n}\n</code></pre>\n\n<p>Where <code>com.github.username</code> is the personal github account, <code>repo</code> is the repository and <code>1.0.0</code> is the release version tag.</p>\n"}], "owner": {"reputation": 1009, "user_id": 5335776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/056181b59d600c35e656c8d412df7bed?s=128&d=identicon&r=PG&f=1", "display_name": "PaulB", "link": "https://stackoverflow.com/users/5335776/paulb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 56818474, "answer_count": 1, "score": 2, "last_activity_date": 1562065878, "creation_date": 1561471233, "question_id": 56755839, "link": "https://stackoverflow.com/questions/56755839/executing-a-kotlin-script-kts-with-a-dependency-from-github", "title": "Executing a kotlin -script.kts with a dependency from github", "body": "<p>I am aware that *.kts scripts can include a dependency like this:</p>\n\n<pre><code>#!/usr/bin/env kscript\n@file:DependsOn(\"com.domain.project:name:1.0-SNAPSHOT\")\n</code></pre>\n\n<p>I created a small library to process different text snippets and uploaded it on github.</p>\n\n<p>Is it possible to use this library as a dependency within a kotlin script without going through mvnRepository or something similar?</p>\n\n<p>something like this for example:</p>\n\n<pre><code> #!/usr/bin/env kscript\n @file:DependsOn(\"com.github.username.project\")\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-animation"], "answers": [{"comments": [{"owner": {"reputation": 1529, "user_id": 1319619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/933a9c6331460ecb826d7a8e1c22735a?s=128&d=identicon&r=PG&f=1", "display_name": "hellotli", "link": "https://stackoverflow.com/users/1319619/hellotli"}, "edited": false, "score": 0, "creation_date": 1561515272, "post_id": 56756021, "comment_id": 100085132, "body": "Thanks, I&#39;ve updated my code by adding <code>setAnimationListener</code> with <code>onAnimationEnd</code> to make the confetti disappear."}, {"owner": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "reply_to_user": {"reputation": 1529, "user_id": 1319619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/933a9c6331460ecb826d7a8e1c22735a?s=128&d=identicon&r=PG&f=1", "display_name": "hellotli", "link": "https://stackoverflow.com/users/1319619/hellotli"}, "edited": false, "score": 0, "creation_date": 1561515327, "post_id": 56756021, "comment_id": 100085145, "body": "Nice.  Happy coding!!"}, {"owner": {"reputation": 1529, "user_id": 1319619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/933a9c6331460ecb826d7a8e1c22735a?s=128&d=identicon&r=PG&f=1", "display_name": "hellotli", "link": "https://stackoverflow.com/users/1319619/hellotli"}, "edited": false, "score": 1, "creation_date": 1561515619, "post_id": 56756021, "comment_id": 100085201, "body": "Yeah, I&#39;m still figuring out how to make the confetti drops only through the jelly beans&#39; area."}], "tags": [], "owner": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "is_accepted": false, "score": 1, "last_activity_date": 1561471856, "creation_date": 1561471856, "answer_id": 56756021, "question_id": 56755786, "link": "https://stackoverflow.com/questions/56755786/how-do-make-android-confetti-by-picture-drop-from-top-animation/56756021#56756021", "title": "How do make Android confetti by picture drop from top animation?", "body": "<p>Use this animation for disappearing -</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:interpolator=\"@android:anim/linear_interpolator\"&gt;\n   &lt;alpha\n        android:duration=\"2000\"\n        android:fromAlpha=\"1.0\"\n        android:toAlpha=\"0.0\" &gt;\n   &lt;/alpha&gt;\n &lt;/set&gt;\n</code></pre>\n"}], "owner": {"reputation": 1529, "user_id": 1319619, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/933a9c6331460ecb826d7a8e1c22735a?s=128&d=identicon&r=PG&f=1", "display_name": "hellotli", "link": "https://stackoverflow.com/users/1319619/hellotli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561516643, "creation_date": 1561471051, "last_edit_date": 1561516643, "question_id": 56755786, "link": "https://stackoverflow.com/questions/56755786/how-do-make-android-confetti-by-picture-drop-from-top-animation", "title": "How do make Android confetti by picture drop from top animation?", "body": "<p>I want to make an animation animation on clicking the button as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VwnU9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VwnU9.png\" alt=\"expected\"></a></p>\n\n<p>But I don't know how to make it disappear when it touch the bottom read line.</p>\n\n<p>I want to upload a gif file, but it seems that stackoverflow doesn't support gif at this moment.</p>\n\n<p>The code of <code>MainActivity.kt</code>:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.imglst)\n\n        val btn: Button = findViewById(R.id.button)\n\n        btn.setOnClickListener {\n            val animation = AnimationUtils.loadAnimation(this@MainActivity, R.anim.drop_down)\n            val confetti: ImageView = findViewById(R.id.place_holder_animation)\n            val resId = R.drawable.confetti\n\n            animation.setAnimationListener(object : Animation.AnimationListener {\n                override fun onAnimationRepeat(animation: Animation?) {\n                }\n\n                override fun onAnimationEnd(animation: Animation?) {\n                    confetti.visibility = View.GONE\n                }\n\n                override fun onAnimationStart(animation: Animation?) {\n                }\n            })\n\n            confetti.setImageDrawable(resources.getDrawable(resId))\n            confetti.startAnimation(animation)\n        }\n    }\n}\n</code></pre>\n\n<p>With the <code>drop_down.xml</code> for the animation description:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     &gt;\n    &lt;translate android:fromYDelta=\"-80%p\" android:toYDelta=\"10%p\" android:duration=\"2000\"/&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>The layout file is just a RelativeLayout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"&gt;\n\n    &lt;ImageView\n            android:id=\"@+id/place_holder_animation\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"/&gt;\n\n    &lt;ImageView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:src=\"@drawable/jbean\"\n            android:id=\"@+id/imageView2\"/&gt;\n\n    &lt;ImageView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:src=\"@drawable/jbean\"\n            android:id=\"@+id/imageView3\"\n            android:layout_toEndOf=\"@+id/imageView2\"\n            android:layout_marginStart=\"20dp\"/&gt;\n\n    &lt;ImageView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:src=\"@drawable/jbean\"\n            android:layout_toEndOf=\"@+id/imageView3\"\n            android:id=\"@+id/imageView4\"\n            android:layout_marginStart=\"20dp\"/&gt;\n    &lt;Button\n            android:id=\"@+id/button\"\n            android:text=\"Show\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"100dp\"\n            android:layout_below=\"@+id/imageView3\"\n            android:layout_alignStart=\"@+id/imageView3\"/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 3, "last_activity_date": 1567940553, "last_edit_date": 1567940553, "creation_date": 1561471422, "answer_id": 56755893, "question_id": 56755626, "link": "https://stackoverflow.com/questions/56755626/onsuccesstask-vs-addonsuccesslistener/56755893#56755893", "title": "onSuccessTask vs addOnSuccessListener?", "body": "<p>There are three flavours of Task's <code>addOnSuccessListener()</code> method which are:</p>\n\n<ul>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task.html#addOnSuccessListener(java.util.concurrent.Executor,%20com.google.android.gms.tasks.OnSuccessListener%3C?%20super%20TResult%3E)\" rel=\"nofollow noreferrer\">addOnSuccessListener(Executor executor, OnSuccessListener listener)</a>:</li>\n</ul>\n\n<blockquote>\n  <p>Adds a listener that is called if the Task completes successfully.</p>\n</blockquote>\n\n<ul>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task.html#addOnSuccessListener(com.google.android.gms.tasks.OnSuccessListener%3C?%20super%20TResult%3E)\" rel=\"nofollow noreferrer\">addOnSuccessListener(OnSuccessListener listener)</a>:</li>\n</ul>\n\n<blockquote>\n  <p>Adds a listener that is called if the Task completes successfully.</p>\n</blockquote>\n\n<ul>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task.html#addOnSuccessListener(android.app.Activity,%20com.google.android.gms.tasks.OnSuccessListener%3C?%20super%20TResult%3E)\" rel=\"nofollow noreferrer\">addOnSuccessListener(Activity activity, OnSuccessListener listener)</a>:</li>\n</ul>\n\n<blockquote>\n  <p>Adds an Activity-scoped listener that is called if the Task completes successfully.</p>\n</blockquote>\n\n<p>And two flavours of Task's <code>onSuccessTask()</code> method whic are:</p>\n\n<ul>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task.html#onSuccessTask(java.util.concurrent.Executor,%20com.google.android.gms.tasks.SuccessContinuation%3CTResult,%20TContinuationResult%3E)\" rel=\"nofollow noreferrer\">onSuccessTask(Executor executor, SuccessContinuation successContinuation)</a>:</li>\n</ul>\n\n<blockquote>\n  <p>Returns a new Task that will be completed with the result of applying the specified SuccessContinuation to this Task when this Task completes successfully.</p>\n</blockquote>\n\n<ul>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task.html#onSuccessTask(com.google.android.gms.tasks.SuccessContinuation%3CTResult,%20TContinuationResult%3E)\" rel=\"nofollow noreferrer\">onSuccessTask(SuccessContinuation successContinuation)</a>:</li>\n</ul>\n\n<blockquote>\n  <p>Returns a new Task that will be completed with the result of applying the specified SuccessContinuation to this Task when this Task completes successfully.</p>\n</blockquote>\n\n<p>As you can probably see, the main difference is that, in case of <code>addOnSuccessListener()</code> the object that is returned is of type <code>abstract Task&lt;TResult&gt;</code>, so everytime you use it, you'll need to provide an implementation for that while when using <code>onSuccessTask()</code> method, the type of object that is returned is <code>&lt;TContinuationResult&gt; Task&lt;TContinuationResult&gt;</code> (which is not abstract).</p>\n"}, {"tags": [], "owner": {"reputation": 1459, "user_id": 9521509, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-L3hKwxoz_Fo/AAAAAAAAAAI/AAAAAAAAG3c/0_vyT6qoCfE/photo.jpg?sz=128", "display_name": "Pat Lee", "link": "https://stackoverflow.com/users/9521509/pat-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1605118363, "creation_date": 1605118363, "answer_id": 64791888, "question_id": 56755626, "link": "https://stackoverflow.com/questions/56755626/onsuccesstask-vs-addonsuccesslistener/64791888#64791888", "title": "onSuccessTask vs addOnSuccessListener?", "body": "<p>Basically, you would use <code>addOnSuccessListener</code> when you just want to work with the result, while <code>onSuccessTask</code> can be used with other methods such as <code>continueWith</code> or <code>continueWithTask</code> in order to chain tasks.</p>\n<p>Here's <a href=\"https://firebase.googleblog.com/2016/09/become-a-firebase-taskmaster-part-3_29.html\" rel=\"nofollow noreferrer\">an article about chaining tasks</a>.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1343, "favorite_count": 0, "accepted_answer_id": 56755893, "answer_count": 2, "score": 2, "last_activity_date": 1605118363, "creation_date": 1561470597, "question_id": 56755626, "link": "https://stackoverflow.com/questions/56755626/onsuccesstask-vs-addonsuccesslistener", "title": "onSuccessTask vs addOnSuccessListener?", "body": "<p>I'm using <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data\" rel=\"nofollow noreferrer\">Google Firestore</a> for by Android database and want to know the different between <code>onSuccessTask</code> and <code>addOnSuccessListener</code>. </p>\n\n<p>For example, here is me updating a Firestore document:</p>\n\n<pre><code>val doc = db.collection(\"books\").document(book).update(data)\n</code></pre>\n\n<p>For the above, to take action when the update completes,  I can do either:</p>\n\n<pre><code>.onSuccessTask { } or .addOnSuccessListener { }\n</code></pre>\n\n<p>which to me, yields the exact same result. </p>\n\n<p>Can someone clear up what the difference is and which one should be used?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1561468569, "post_id": 56754930, "comment_id": 100067535, "body": "Is your <code>Login Successful</code> message tosted successfully?"}, {"owner": {"reputation": 13, "user_id": 11697705, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-G7O5ITqug-U/AAAAAAAAAAI/AAAAAAAAAnI/J6lrj0nFIOo/photo.jpg?sz=128", "display_name": "Shafiqur Rahman", "link": "https://stackoverflow.com/users/11697705/shafiqur-rahman"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1561468711, "post_id": 56754930, "comment_id": 100067618, "body": "@AlexMamo Yes it is tosted sucessfully"}, {"owner": {"reputation": 800, "user_id": 5758240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3pHD.jpg?s=128&g=1", "display_name": "Juanje", "link": "https://stackoverflow.com/users/5758240/juanje"}, "edited": false, "score": 0, "creation_date": 1561468866, "post_id": 56754930, "comment_id": 100067730, "body": "Could you post the complete code for both activities?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1561469435, "post_id": 56754930, "comment_id": 100068136, "body": "Hvae you tried to add a complete listener to the <code>setValue()</code> method?"}, {"owner": {"reputation": 13, "user_id": 11697705, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-G7O5ITqug-U/AAAAAAAAAAI/AAAAAAAAAnI/J6lrj0nFIOo/photo.jpg?sz=128", "display_name": "Shafiqur Rahman", "link": "https://stackoverflow.com/users/11697705/shafiqur-rahman"}, "reply_to_user": {"reputation": 800, "user_id": 5758240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W3pHD.jpg?s=128&g=1", "display_name": "Juanje", "link": "https://stackoverflow.com/users/5758240/juanje"}, "edited": false, "score": 0, "creation_date": 1561469677, "post_id": 56754930, "comment_id": 100068280, "body": "@Juanje I have added the complete code"}, {"owner": {"reputation": 13, "user_id": 11697705, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-G7O5ITqug-U/AAAAAAAAAAI/AAAAAAAAAnI/J6lrj0nFIOo/photo.jpg?sz=128", "display_name": "Shafiqur Rahman", "link": "https://stackoverflow.com/users/11697705/shafiqur-rahman"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1561469797, "post_id": 56754930, "comment_id": 100068351, "body": "@AlexMamo no I did not add it, may i know the details of it because i am new to programming"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1561469955, "post_id": 56754930, "comment_id": 100068465, "body": "@ShafiqurRahman To the message that is coming from the Task, to see if you have proper permissions."}, {"owner": {"reputation": 13, "user_id": 11697705, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-G7O5ITqug-U/AAAAAAAAAAI/AAAAAAAAAnI/J6lrj0nFIOo/photo.jpg?sz=128", "display_name": "Shafiqur Rahman", "link": "https://stackoverflow.com/users/11697705/shafiqur-rahman"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1561470590, "post_id": 56754930, "comment_id": 100068878, "body": "@AlexMamo kindly provide me the code to check it"}, {"owner": {"reputation": 13, "user_id": 11697705, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-G7O5ITqug-U/AAAAAAAAAAI/AAAAAAAAAnI/J6lrj0nFIOo/photo.jpg?sz=128", "display_name": "Shafiqur Rahman", "link": "https://stackoverflow.com/users/11697705/shafiqur-rahman"}, "edited": false, "score": 0, "creation_date": 1562510984, "post_id": 56754930, "comment_id": 100388600, "body": "How can I check whether i have the permission for accessing database ?"}], "owner": {"reputation": 13, "user_id": 11697705, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-G7O5ITqug-U/AAAAAAAAAAI/AAAAAAAAAnI/J6lrj0nFIOo/photo.jpg?sz=128", "display_name": "Shafiqur Rahman", "link": "https://stackoverflow.com/users/11697705/shafiqur-rahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561470729, "creation_date": 1561468373, "last_edit_date": 1561470729, "question_id": 56754930, "link": "https://stackoverflow.com/questions/56754930/why-firebase-realtime-database-is-not-working", "title": "Why Firebase Realtime database is not working", "body": "<p>I have written the code in Kotlin language<br>\nI need the firebase realtime database to add a child with user's UID with email as it's value under the users column when the user signs up. The Login is successful and then it passes to the main activity .The users details is listed in Authentication-> Users but the realtime database is not working and also when I click the back button it opens the main activity again and again ,after a number of clicks it goes back the login page and exits,maybe this is because it could not connect to the database.</p>\n\n<p>Please help me with necessary changes. \nHere is the code</p>\n\n<p>MAIN ACTIVITY</p>\n\n<pre><code>\nprivate var mFirebaseAnalytics: FirebaseAnalytics?=null\n\nclass MainActivity : AppCompatActivity() {\n\n    var listofContacts = ArrayList&lt;Contacts&gt;()\n    var adapter: ContactsAdapter? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        mFirebaseAnalytics= FirebaseAnalytics.getInstance(this)\n        listofContacts.add(Contacts(\"NAME\", 123456789))\n\n        adapter = ContactsAdapter(this, listofContacts)\n        listview.adapter=adapter\n    }\n\n    inner class ContactsAdapter : BaseAdapter {\n\n        var contactslist = ArrayList&lt;Contacts&gt;()\n        var context: Context? = null\n\n        constructor(context: Context, contactslist: ArrayList&lt;Contacts&gt;) : super() {\n            this.contactslist = contactslist\n            this.context = context\n        }\n\n        override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n            val contact = contactslist[position]\n            val inflater = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n            val myView = inflater.inflate(R.layout.contact_view, null)\n            myView.name.text = contact.name!!\n            myView.num.text = contact.num.toString()!!\n            myView.setOnClickListener {\n                val intent= Intent(context,ContactInfo::class.java!!)\n                intent.putExtra(\"name\",contact.name!!)\n                intent.putExtra(\"num\",contact.num!!)\n                context!!.startActivity(intent)\n            }\n            return myView\n        }\n\n        override fun getItem(position: Int): Any {\n            return contactslist[position]\n        }\n\n        override fun getItemId(position: Int): Long {\n            return position.toLong()\n        }\n\n        override fun getCount(): Int {\n            return contactslist.size\n        }\n\n    }\n}\n</code></pre>\n\n<p>LOGIN</p>\n\n<pre><code>    private var mAuth:FirebaseAuth?=null\n\n        var database=FirebaseDatabase.getInstance()\n        var myRef=database.reference\n\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_login)\n            mAuth = FirebaseAuth.getInstance()\n        }\n\n        fun loginevent(view: View){\n           login(etun.text.toString(),pw.text.toString())\n        }\n\n        fun login(email:String,password:String){\n            mAuth!!.createUserWithEmailAndPassword(email,password)\n                .addOnCompleteListener(this){task -&gt;\n                    if(task.isSuccessful){\n\n                        Toast.makeText(applicationContext,\"Login Successful\", Toast.LENGTH_LONG).show()\n                        LoadMain()\n                    }\n                    else\n                        Toast.makeText(applicationContext,\"Login Failed\", Toast.LENGTH_LONG).show()\n                }\n\n        }\n\n        override fun onStart() {\n            super.onStart()\n            LoadMain()\n        }\n\n        fun LoadMain(){\n            var currentuser=mAuth!!.currentUser\n            if(currentuser!=null) {            \n           myRef.child(\"Users\").child(currentuser.uid).setValue(currentuser.email)\n                val intent = Intent(this, MainActivity::class.java)\n                intent.putExtra(\"email\", currentuser.email)\n                intent.putExtra(\"uid\", currentuser.uid)\n                startActivity(intent)\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-webview"], "comments": [{"owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "edited": false, "score": 1, "creation_date": 1561467847, "post_id": 56754731, "comment_id": 100067049, "body": "Very difficult to say without code."}, {"owner": {"reputation": 2001, "user_id": 6808478, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/819b668328bda2e76042b147293524f9?s=128&d=identicon&r=PG&f=1", "display_name": "Yyy", "link": "https://stackoverflow.com/users/6808478/yyy"}, "edited": false, "score": 0, "creation_date": 1561467998, "post_id": 56754731, "comment_id": 100067152, "body": "Have you added webview in fragment or Activity?"}, {"owner": {"reputation": 445, "user_id": 4833070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZ0d5.png?s=128&g=1", "display_name": "markonius", "link": "https://stackoverflow.com/users/4833070/markonius"}, "edited": false, "score": 0, "creation_date": 1561468090, "post_id": 56754731, "comment_id": 100067221, "body": "Added almost my entire app code :D"}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 8085421, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MIh0Tqnk__c/AAAAAAAAAAI/AAAAAAAAA8o/vA2zJ5V0HcM/photo.jpg?sz=128", "display_name": "Usama K. Zafar", "link": "https://stackoverflow.com/users/8085421/usama-k-zafar"}, "is_accepted": true, "score": 2, "last_activity_date": 1561469011, "creation_date": 1561469011, "answer_id": 56755119, "question_id": 56754731, "link": "https://stackoverflow.com/questions/56754731/webview-resets-when-app-is-launched-from-launcher/56755119#56755119", "title": "WebView resets when app is launched from launcher", "body": "<p>Try adding <code>android:launchMode=\"singleTask\"</code> to your <strong>AndroidManifest.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;activity android:name=\".activity.MainActivity\"\n            android:launchMode=\"singleTask\"\n            /&gt;\n</code></pre>\n"}], "owner": {"reputation": 445, "user_id": 4833070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZ0d5.png?s=128&g=1", "display_name": "markonius", "link": "https://stackoverflow.com/users/4833070/markonius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 56755119, "answer_count": 1, "score": 0, "last_activity_date": 1561469011, "creation_date": 1561467724, "last_edit_date": 1561468997, "question_id": 56754731, "link": "https://stackoverflow.com/questions/56754731/webview-resets-when-app-is-launched-from-launcher", "title": "WebView resets when app is launched from launcher", "body": "<p>I load a web page in a WebView. The state of the page changes via JavaScript. If I put the app in the background, and then return to it using the task switcher, the state of the web page is preserved. If I send it to background and then open it from the launcher, the web page is reset.\nWhat can I do to preserve its state when launched from the launcher?</p>\n\n<pre><code>class MainActivity : Activity() {\n    private var webView: WebView? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        requestWindowFeature(Window.FEATURE_NO_TITLE)\n        setContentView(R.layout.activity_main)\n\n        webView = findViewById(R.id.webView)\n        webView?.webViewClient = OzvenaWebViewClient(this)\n        CookieManager.getInstance().setAcceptThirdPartyCookies(webView, true)\n        webView?.settings?.javaScriptEnabled = true\n        if (savedInstanceState != null)\n            webView?.restoreState(savedInstanceState)\n        else\n            webView?.loadUrl(\"https://markonius.gitlab.io/ozvena/ozvena.html\")\n    }\n\n    override fun onSaveInstanceState(outState: Bundle) {\n        super.onSaveInstanceState(outState)\n        webView?.saveState(outState)\n    }\n\n    override fun onRestoreInstanceState(savedInstanceState: Bundle) {\n        super.onRestoreInstanceState(savedInstanceState)\n        webView?.restoreState(savedInstanceState)\n    }\n\n    override fun onBackPressed() {\n        moveTaskToBack(true)\n    }\n}\n</code></pre>\n\n<p>EDIT: I overrode the wrong <code>onSaveInstanceState</code>, I fixed it now. One issue I can see now is that <code>savedInstanceState</code> in <code>onCreate</code> is always <code>null</code>, even after <code>onSaveInstanceState</code> is invoked.</p>\n"}, {"tags": ["kotlin", "micronaut", "kotlintest"], "comments": [{"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561469018, "post_id": 56754723, "comment_id": 100067849, "body": "Try var if you write your code like this. What do you mean the no args constructor doesn&#39;t work?"}, {"owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "edited": false, "score": 0, "creation_date": 1561469174, "post_id": 56754723, "comment_id": 100067972, "body": "Are the @Inject micronaut annotations or spring ?"}], "answers": [{"tags": [], "owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "is_accepted": false, "score": 0, "last_activity_date": 1561469490, "creation_date": 1561469490, "answer_id": 56755271, "question_id": 56754723, "link": "https://stackoverflow.com/questions/56754723/how-to-use-micronauttest-with-kotlintest-to-inject-beans-while-testing-in-kotl/56755271#56755271", "title": "How to use MicronautTest with Kotlintest to inject beans while testing ? in Kotlin", "body": "<p>Have you tried to write your code like this ?</p>\n\n<pre><code>@MicronautTest\nclass ApplicationTest:StringSpec() {\n\n    val embeddedServer:EmbeddedServer\n\n    val dataSource:DataSource\n\n\n    @Inject\n    ApplicationTest(embeddedServer:EmbeddedServer, dataSource:DataSource) {\n      this.embeddedServer = embeddedServer\n       this.dataSource = dataSource\n    }\n\n    init{\n        \"test something\"{\n            //arrange act assert\n        }\n    }\n}\n</code></pre>\n\n<p>This should work.</p>\n"}, {"comments": [{"owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "edited": false, "score": 0, "creation_date": 1561528803, "post_id": 56765074, "comment_id": 100088278, "body": "Its given in the documentation but I am getting  java.lang.IllegalArgumentException: Class should have a single no-arg constructor"}], "tags": [], "owner": {"reputation": 11498, "user_id": 1264846, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/87e2978960ad82ab77fcd409e0dd72d6?s=128&d=identicon&r=PG", "display_name": "James Kleeh", "link": "https://stackoverflow.com/users/1264846/james-kleeh"}, "is_accepted": false, "score": 1, "last_activity_date": 1561522368, "creation_date": 1561522368, "answer_id": 56765074, "question_id": 56754723, "link": "https://stackoverflow.com/questions/56754723/how-to-use-micronauttest-with-kotlintest-to-inject-beans-while-testing-in-kotl/56765074#56765074", "title": "How to use MicronautTest with Kotlintest to inject beans while testing ? in Kotlin", "body": "<p>Because the test cases are passed like a lambda to the parent class constructor, you have to use constructor injection</p>\n\n<pre><code>@MicronautTest\nclass ApplicationTest(\n    private val embeddedServer: EmbeddedServer,\n    private val dataSource: DataSource\n): StringSpec({\n\n    \"test something\"{\n        //arrange act assert\n    }\n\n})\n</code></pre>\n\n<p>You can look at any of the tests in the project for a running example. <a href=\"https://github.com/micronaut-projects/micronaut-test/blob/master/test-kotlintest/src/test/kotlin\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-test/blob/master/test-kotlintest/src/test/kotlin</a></p>\n"}, {"tags": [], "owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "is_accepted": true, "score": 2, "last_activity_date": 1563757986, "last_edit_date": 1563757986, "creation_date": 1561536663, "answer_id": 56768153, "question_id": 56754723, "link": "https://stackoverflow.com/questions/56754723/how-to-use-micronauttest-with-kotlintest-to-inject-beans-while-testing-in-kotl/56768153#56768153", "title": "How to use MicronautTest with Kotlintest to inject beans while testing ? in Kotlin", "body": "<p>You need to specify Project config by creating an object that is derived from AbstractProjectConfig, name this object ProjectConfig and place it in a package called io.kotlintest.provided. KotlinTest will detect it's presence and use any configuration defined there when executing tests.\nas per the documentation\n<a href=\"https://github.com/kotlintest/kotlintest/blob/master/doc/reference.md#project-config\" rel=\"nofollow noreferrer\">https://github.com/kotlintest/kotlintest/blob/master/doc/reference.md#project-config</a></p>\n\n<pre><code>object ProjectConfig :AbstractProjectConfig() {\noverride fun listeners() = listOf(MicornautKotlinTestExtension)\noverride fun extensions() = listOf(MicornautKotlinTestExtension)\n}\n</code></pre>\n"}], "owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 56768153, "answer_count": 3, "score": 1, "last_activity_date": 1563757986, "creation_date": 1561467704, "last_edit_date": 1561467813, "question_id": 56754723, "link": "https://stackoverflow.com/questions/56754723/how-to-use-micronauttest-with-kotlintest-to-inject-beans-while-testing-in-kotl", "title": "How to use MicronautTest with Kotlintest to inject beans while testing ? in Kotlin", "body": "<p>How to inject the following into Test, as no constructor args are allowed\nand its failed to initialise the injected beans</p>\n\n<pre><code>@MicronautTest\nclass ApplicationTest:StringSpec() {\n\n    @Inject\n    lateinit val embeddedServer:EmbeddedServer;\n\n    @Inject\n    lateinit val dataSource:DataSource\n\n    init{\n        \"test something\"{\n            //arrange act assert\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "static"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1561467378, "post_id": 56754283, "comment_id": 100066714, "body": "Having <code>private var value: T?</code> in the companion object would be the same as having <code>private static final T value;</code> in Java. That doesn&#39;t work in either of the languages."}], "answers": [{"tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": false, "score": 0, "last_activity_date": 1561467297, "creation_date": 1561467297, "answer_id": 56754598, "question_id": 56754283, "link": "https://stackoverflow.com/questions/56754283/how-to-make-a-kotlin-generic-method-static/56754598#56754598", "title": "How to make a Kotlin generic method static?", "body": "<p>You just need to specify the generic type parameter of the function. It doesn't matter where the function is, be it a class, a file, a companion object, etc.<br>\nExample with companion object:</p>\n\n<pre><code>companion object {\n    fun &lt;T&gt; generic(t: T) {\n        // do something generic\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 2, "last_activity_date": 1561467367, "creation_date": 1561467367, "answer_id": 56754621, "question_id": 56754283, "link": "https://stackoverflow.com/questions/56754283/how-to-make-a-kotlin-generic-method-static/56754621#56754621", "title": "How to make a Kotlin generic method static?", "body": "<p>For Kotlin, there's no difference between static (top-level, companion) and instance functions/methods. So, the same generic function/method</p>\n\n<pre><code>fun &lt;T&gt; something() {\n    // TODO\n}\n</code></pre>\n\n<p>is valid both within a class body, on top-level, and in companion or object declaration.</p>\n"}, {"tags": [], "owner": {"reputation": 867, "user_id": 4233693, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/adf131751fe3c0c58138d86c31d1080a?s=128&d=identicon&r=PG", "display_name": "Stanislaw Baranski", "link": "https://stackoverflow.com/users/4233693/stanislaw-baranski"}, "is_accepted": true, "score": 7, "last_activity_date": 1561467521, "creation_date": 1561467521, "answer_id": 56754669, "question_id": 56754283, "link": "https://stackoverflow.com/questions/56754283/how-to-make-a-kotlin-generic-method-static/56754669#56754669", "title": "How to make a Kotlin generic method static?", "body": "<p><code>companion object</code> is not method. It's, in fact, an <code>object</code> that is companion to the <code>Wrapper</code> class, therefore it cannot be aware of the generic type of parent class.\nSame thing applies to Java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Wrapper&lt;T&gt; {\n    public static T value; //ERROR\n}\n</code></pre>\n\n<p>Within this <code>companion object</code> you can declare methods and fields that will be <code>static</code> in java world.</p>\n\n<pre><code>class Wrapper&lt;T&gt;\n{\n    companion object\n    {\n        fun &lt;T&gt; genericMethod(){\n\n        }\n    }\n}\n</code></pre>\n\n<p>But keep in mind that type of <code>Wrapper&lt;T&gt;</code> is not connected with type <code>T</code> in <code>fun &lt;T&gt; genericMethod()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 15841, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 0, "last_activity_date": 1611963984, "last_edit_date": 1611963984, "creation_date": 1611961516, "answer_id": 65962888, "question_id": 56754283, "link": "https://stackoverflow.com/questions/56754283/how-to-make-a-kotlin-generic-method-static/65962888#65962888", "title": "How to make a Kotlin generic method static?", "body": "<h2>Companion object is a singleton</h2>\n<p>Generic type parameters of the class are not allowed inside the companion objects. The reason for this is that a single <code>companion object</code> is shared across all the instances of that class. This is true also for the different parameterized types of the same class. So, for example, the <code>companion object</code> is the same for whether it is a <code>Wrapper&lt;String&gt;</code> or a <code>Wrapper&lt;Int&gt;</code>. In other words, the <code>T</code> of the enclosing class cannot take different forms <code>String</code> or <code>Int</code> inside the <code>companion object</code>.</p>\n<p>The type parameters can only be used with the member functions and member properties of the class. The <code>value</code> property in your example is not the member of the <code>Wrapper</code> class, it is a member of the <code>companion object</code>.</p>\n<p>This is the same thing as saying:</p>\n<pre><code>class Wrapper&lt;T&gt; {\n    class SomeOtherClass&lt;T&gt; {\n        private var value: T? = null\n        // implement some methods\n    }\n}\n</code></pre>\n<p>The difference is just a single object vs multiple objects of <code>SomeOtherClass</code>. The <code>T</code>s are independent for <code>Wrapper</code> and <code>SomeOtherClass</code>.</p>\n<hr />\n<p>That's it! Hope that points you in the right direction for the actual problem you are trying to solve.</p>\n"}], "owner": {"reputation": 462, "user_id": 9723204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwPwM.png?s=128&g=1", "display_name": "Hawklike", "link": "https://stackoverflow.com/users/9723204/hawklike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1248, "favorite_count": 0, "accepted_answer_id": 56754669, "answer_count": 4, "score": 1, "last_activity_date": 1611963984, "creation_date": 1561466302, "question_id": 56754283, "link": "https://stackoverflow.com/questions/56754283/how-to-make-a-kotlin-generic-method-static", "title": "How to make a Kotlin generic method static?", "body": "<p>I know that it is possible to write a static generic method in Java. </p>\n\n<p>I tried to implement my own solution in Kotlin but I failed.</p>\n\n<pre><code>class Wrapper&lt;T&gt;\n{\n    companion object &lt;T&gt; // error: Type parameters are not allowed for objects.\n    {\n        private var value: T? = null\n\n        // implement some methods\n    }\n}\n</code></pre>\n\n<p>Is there any way how to implement a static generic method in Kotlin?</p>\n"}, {"tags": ["android", "android-activity", "kotlin", "pid", "kill-process"], "comments": [{"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1561472909, "post_id": 56753766, "comment_id": 100070374, "body": "Short answer to your question is &quot;no&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "is_accepted": false, "score": 1, "last_activity_date": 1561468719, "creation_date": 1561468719, "answer_id": 56755029, "question_id": 56753766, "link": "https://stackoverflow.com/questions/56753766/how-to-kill-another-application-or-activity-programmatically-without-being-root/56755029#56755029", "title": "How to kill another Application or Activity programmatically without being root", "body": "<p>You can't kill another app for security reasons. As a user, i don't want to install an app that close my apps without a good reason and without I even know about it, it would be pretty weird. That being said, it's possible to close background process from another app's, I didn't test it by myself but here is:</p>\n\n<pre><code>ActivityManager manager = (ActivityManager)getSystemService(Activity.ACTIVITY_SERVICE);\nmanager.killBackgroundProcesses(packageName);\n</code></pre>\n\n<p>You'll need to put this on your Manifest as well:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.KILL_BACKGROUND_PROCESSES\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11697248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24465a6645537abe8a839250c23eab5b?s=128&d=identicon&r=PG&f=1", "display_name": "Krueppelmuecke", "link": "https://stackoverflow.com/users/11697248/krueppelmuecke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1369, "favorite_count": 0, "closed_date": 1561472868, "answer_count": 1, "score": 0, "last_activity_date": 1561468719, "creation_date": 1561464696, "last_edit_date": 1561468232, "question_id": 56753766, "link": "https://stackoverflow.com/questions/56753766/how-to-kill-another-application-or-activity-programmatically-without-being-root", "closed_reason": "Duplicate", "title": "How to kill another Application or Activity programmatically without being root", "body": "<p>I want to kill another app from my Application once the other app comes into foreground.</p>\n\n<p>I am already capturing if my app is in foreground or background. When my app gets to background, I want to filter for the right process by it's name and use its <strong>pid</strong> to kill it. I'm using <code>ActivityManager.getRunningAppProcesses()</code> and filtering the processes for the wanted name, but only processes related to my app are shown. That's the first problem, because I cannot access the pid of the other apps processes.</p>\n\n<p>The next problem is that, even by using the current <strong>pid</strong> (from adb) of the other apps process, my code which should kill it does not work (the other app keeps running).</p>\n\n<p>I am using\n <code>&lt;uses-permission android:name=\"android.permission.KILL_BACKGROUND_PROCESSES\" /&gt;</code> and  <code>&lt;uses-permission android:name=\"android.permission.GET_TASKS\" /&gt;</code>.</p>\n\n<p>I assume that I would need be root to kill other apps, so also something like <code>Runtime.getRuntime().exec(arrayOf&lt;String&gt;(\"su\", \"-c\", \"kill 24043\"))</code> does not work.</p>\n\n<pre><code>\nval amg = getSystemService(ACTIVITY_SERVICE) as ActivityManager\nvar processes = amg.getRunningAppProcesses();\nfor (info in processes) {\n    if (info.processName.equals(otherAppName)) {\n        val process = Runtime.getRuntime().exec(arrayOf&lt;String&gt;(\"su\", \"-c\", \"kill $pid\"))\n\n        android.os.Process.killProcess(info.pid)\n        android.os.Process.sendSignal(info.pid, android.os.Process.SIGNAL_KILL)\n        amg.killBackgroundProcesses(info.processName)\n    }\n}\n</code></pre>\n\n<p>The last three lines result in the signal being send, but nothing happening and the one before obviously leads to <code>java.io.IOException: Cannot run program \"su\": error=13, Permission denied</code>.</p>\n\n<p>Is there another way to kill another app, that doesn't require to be root?</p>\n"}, {"tags": ["android", "sorting", "arraylist", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5578, "user_id": 2037304, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/7NBRc.jpg?s=128&g=1", "display_name": "Niccol&#242; Passolunghi", "link": "https://stackoverflow.com/users/2037304/niccol%c3%b2-passolunghi"}, "is_accepted": false, "score": 1, "last_activity_date": 1561472108, "creation_date": 1561472108, "answer_id": 56756110, "question_id": 56753255, "link": "https://stackoverflow.com/questions/56753255/sort-an-arraylist-using-multiple-conditions-comparing-item-s-field-with-an-exter/56756110#56756110", "title": "Sort an arraylist using multiple conditions comparing item\u2019s field with an external field", "body": "<p>Maybe, instead of using <code>sortWith</code> and <code>thenBy</code>, you could take advantage of another extension function on <code>Collections</code> called <code>partition</code>.</p>\n\n<p>This function takes a predicate and creates a <code>Pair&lt;List&lt;T&gt;, List&lt;T&gt;&gt;</code> where the first list contains elements that match the predicate and the second list all the other elements.</p>\n\n<p>Let's see an example:</p>\n\n<pre><code>val cities = [\"Berlin\", \"London\", \"Paris\", \"Rome\", \"Budapest\", \"Barcelona\"]\n\n// Here we apply a predicate to create the first partition\nval searchQuery = \"B\"\nval (matchingElements, nonMatchingElements) \n     = cities.partition { it == searchQuery } //([], [\"Berlin\", \"London\", \"Paris\", \"Rome\", \"Budapest\", \"Barcelona\"]\n\n// Now potentially we could create another partition from the nonMatchingElements list\nval (startingWithQuery, others) = nonMatchingElements\n    .partition { it.startsWith(searchQuery) }\n\nprintln(matchingElements) // []\nprintln(startingWithQuery) // [\"Berlin\", \"Budapest\", \"Barcelona\"]\nprintln(others) // [\"London\", \"Paris\", \"Rome\"]\n</code></pre>\n\n<p>After having created all the partitions you need, you can now generate a list from all the partitions you need in the right order or show those different lists with some separator.</p>\n"}], "owner": {"reputation": 7173, "user_id": 3753273, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5135b28f6bb4bf11bc932641a0362fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Android Developer", "link": "https://stackoverflow.com/users/3753273/android-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561472108, "creation_date": 1561462798, "last_edit_date": 1561463216, "question_id": 56753255, "link": "https://stackoverflow.com/questions/56753255/sort-an-arraylist-using-multiple-conditions-comparing-item-s-field-with-an-exter", "title": "Sort an arraylist using multiple conditions comparing item\u2019s field with an external field", "body": "<p>I want to sort an arraylist in below order-</p>\n\n<p>1.On top show items with the Code exactly matching with the searched text.</p>\n\n<p>2.Below that show items with the Name exactly matching with searched text.</p>\n\n<p>3.Below that show items with the Code starting with the searched text.</p>\n\n<p>4.Below that show items with the Name starting with the searched text.</p>\n\n<ol start=\"5\">\n<li>Below that show items with the Name containing the searched text.</li>\n</ol>\n\n<p>I used below code for this-</p>\n\n<pre><code>xyzArrayList.sortWith(compareBy&lt;XYZ&gt;{it.code==searchedText}.thenBy{it.name==searchedText}.thenBy {it.code?.startsWith(searchedText)}.thenBy{it.name?.startsWith(searchedText)}.thenBy { it.name?.contains(searchedText) })\n</code></pre>\n\n<p>But the above code doesn\u2019t sort the list.Where am I going wrong and how can I achieve my requirement?</p>\n"}, {"tags": ["kotlin", "junit", "noclassdeffounderror"], "comments": [{"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561470016, "post_id": 56752784, "comment_id": 100068507, "body": "Seems class path related but it&#39;s weird that it started to work again. Have you done some kind of modification in your dependency management (Kotlin version, jdk version) ?"}, {"owner": {"reputation": 8094, "user_id": 61298, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3d862d8abf5af14d78f09808d841a9f?s=128&d=identicon&r=PG", "display_name": "Matt R", "link": "https://stackoverflow.com/users/61298/matt-r"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561473855, "post_id": 56752784, "comment_id": 100070906, "body": "The failures happen with the same Kotlin version, built/run using the same <code>openjdk</code> Docker image as when it passes. I guess it&#39;s conceivably a classpath ordering problem, I&#39;m struggling to think of what else would give these symptoms..."}], "owner": {"reputation": 8094, "user_id": 61298, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3d862d8abf5af14d78f09808d841a9f?s=128&d=identicon&r=PG", "display_name": "Matt R", "link": "https://stackoverflow.com/users/61298/matt-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561461114, "creation_date": 1561461114, "question_id": 56752784, "link": "https://stackoverflow.com/questions/56752784/intermittent-noclassdeffounderror-for-kotlin-class-protobufenumentryorbuilder", "title": "Intermittent NoClassDefFoundError for Kotlin class ProtoBuf$EnumEntryOrBuilder", "body": "<p>In a run of our Kotlin JUnit tests on CI, we had a number of failures that errored with:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: kotlin/reflect/jvm/internal/impl/metadata/ProtoBuf$EnumEntryOrBuilder\n</code></pre>\n\n<p>With nothing else in the logs to indicate what the problem might be.</p>\n\n<p>The tests all started passing again on the next build from the same Git version, but it's a bit worrying as it's not clear why this might happen intermittently, and whether it might happen in production code. Wondered if anyone had any theories on what might be the cause?</p>\n\n<p>We're using Kotlin 1.3.31 and JUnit 5.1.0.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1561461309, "post_id": 56752634, "comment_id": 100063088, "body": "You can try to remove <code>interactor.getTest()</code> from <code>flatMap</code> and create separate <code>fun</code>. Then call it one by one instead of adding to query"}], "answers": [{"comments": [{"owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "edited": false, "score": 0, "creation_date": 1561461944, "post_id": 56752846, "comment_id": 100063449, "body": "@\u041f\u0430\u0432\u0435\u043b-\u0424\u0438\u043b\u0438\u043c\u043e\u043d\u043e\u0432 hope it helps you"}], "tags": [], "owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "is_accepted": false, "score": 0, "last_activity_date": 1561483889, "last_edit_date": 1561483889, "creation_date": 1561461346, "answer_id": 56752846, "question_id": 56752634, "link": "https://stackoverflow.com/questions/56752634/how-to-make-two-requests-in-one-request-with-rxjava2/56752846#56752846", "title": "How to make two requests in one request with rxJava2", "body": "<blockquote>\n  <p>Zip combine the emissions of multiple Observables together via a\n  specified function </p>\n</blockquote>\n\n<p>You can use <strong>Zip (rx Java)</strong> <a href=\"http://reactivex.io/documentation/operators/zip.html\" rel=\"nofollow noreferrer\">http://reactivex.io/documentation/operators/zip.html</a>, some sudo code will be like this - </p>\n\n<pre><code>val firstApiObserver = apIs.hitFirstApiFunction(//api parameters)\nval secondApiObserver = apIs.hitSecondApiFunction(//api parameters)\n\nval zip: Single&lt;SubscriptionsZipper&gt;//SubscriptionsZipper is the main model which contains first&amp; second api response model ,\nzip = Single.zip(firstApiObserver, secondApiObserver, BiFunction { firstApiResponseModel,secondApiResponseModel -&gt; SubscriptionsZipper(firstApiResponseModelObjectInstance, secondApiResponseModelObjectInstance) })\n\nzip.observeOn(AndroidSchedulers.mainThread())\n        .subscribeOn(Schedulers.io())\n        .subscribe(object : SingleObserver&lt;SubscriptionsZipper&gt; {\n            override fun onSubscribe(d: Disposable) {\n                compositeDisposable.add(d)\n            }\n\n            override fun onSuccess(subscriptionsZipper: SubscriptionsZipper) {\n                Utils.hideProgressDialog()\n               //here you will get both api response together\n            }\n\n            override fun onError(e: Throwable) {\n                Utils.hideProgressDialog()\n            }\n        })\n</code></pre>\n\n<p>Hope it helps you .</p>\n"}, {"tags": [], "owner": {"reputation": 3975, "user_id": 6183113, "user_type": "registered", "profile_image": "https://graph.facebook.com/1248564385154034/picture?type=large", "display_name": "Chanaka Weerasinghe", "link": "https://stackoverflow.com/users/6183113/chanaka-weerasinghe"}, "is_accepted": false, "score": 0, "last_activity_date": 1561461392, "creation_date": 1561461392, "answer_id": 56752854, "question_id": 56752634, "link": "https://stackoverflow.com/questions/56752634/how-to-make-two-requests-in-one-request-with-rxjava2/56752854#56752854", "title": "How to make two requests in one request with rxJava2", "body": "<p><strong>Combining observable results of multiple async http requests with rxjava's Observable.zip.</strong></p>\n\n<pre><code>public class Statistics {\n\n    public static void main(String[] args) {\n\n        List&lt;Observable&lt;ObservableHttpResponse&gt;&gt; observableRequests = Arrays.asList(\n                Http.getAsync(\"http://localhost:3001/stream\"),\n                Http.getAsync(\"http://localhost:3002/stream\"),\n                Http.getAsync(\"http://localhost:3003/stream\"),\n                Http.getAsync(\"http://localhost:3004/stream\"));\n\n        List&lt;Observable&lt;Stats&gt;&gt; observableStats = observableRequests.stream()\n                .map(observableRequest -&gt;\n                        observableRequest.flatMap(response -&gt;\n                                response.getContent()\n                                        .map(new EventStreamJsonMapper&lt;&gt;(Stats.class))))\n                .collect(toList());\n\n        Observable&lt;List&lt;Stats&gt;&gt; joinedObservables = Observable.zip(\n                observableStats.get(0),\n                observableStats.get(1),\n                observableStats.get(2),\n                observableStats.get(3),\n                Arrays::asList);\n\n        // This does not work, as FuncN accepts (Object...) https://github.com/Netflix/RxJava/blob/master/rxjava-core/src/main/java/rx/functions/FuncN.java#L19\n        // Observable&lt;List&lt;Stats&gt;&gt; joinedObservables = Observable.zip(observableStats, Arrays::asList);\n\n        joinedObservables\n                .take(10)\n                .subscribe(\n                        (List&lt;Stats&gt; statslist) -&gt; {\n                            System.out.println(statslist);\n\n                            double average = statslist.stream()\n                                    .mapToInt(stats -&gt; stats.ongoingRequests)\n                                    .average()\n                                    .getAsDouble();\n\n                            System.out.println(\"avg: \" + average);\n                        },\n                        System.err::println,\n                        Http::shutdown);\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "is_accepted": false, "score": 0, "last_activity_date": 1561466989, "creation_date": 1561466989, "answer_id": 56754488, "question_id": 56752634, "link": "https://stackoverflow.com/questions/56752634/how-to-make-two-requests-in-one-request-with-rxjava2/56754488#56754488", "title": "How to make two requests in one request with rxJava2", "body": "<p>you can do it by simple operation zip like</p>\n\n<pre><code>private fun callRxJava() {\n\n    RetrofitBase.getClient(context).create(Services::class.java).getApiName()\n        .subscribeOn(Schedulers.single())\n        .observeOn(AndroidSchedulers.mainThread())\n    getObservable()\n        .flatMap(object : io.reactivex.functions.Function&lt;List&lt;User&gt;, Observable&lt;User&gt;&gt; {\n            override fun apply(t: List&lt;User&gt;): Observable&lt;User&gt; {\n                return Observable.fromIterable(t); // returning user one by one from usersList.\n            } // flatMap - to return users one by one\n\n        })\n\n\n        .subscribe(object : Observer&lt;User&gt; {\n            override fun onSubscribe(d: Disposable) {\n                showProgressbar()\n\n            }\n\n            override fun onNext(t: User) {\n                userList.add(t)\n                hideProgressBar()\n            }\n\n            override fun onError(e: Throwable) {\n                Log.e(\"Error---\", e.message)\n                hideProgressBar()\n            }\n\n            override fun onComplete() {\n                userAdapter.notifyDataSetChanged()\n            }\n\n\n        })\n\n}\n</code></pre>\n\n<hr>\n\n<p>this function combines your response from 2 queries</p>\n\n<pre><code>private fun getObservable(): Observable&lt;List&lt;User&gt;&gt; {\n    return Observable.zip(\n        getCricketFansObservable(),\n        getFootlaballFansObservable(),\n        object : BiFunction&lt;List&lt;User&gt;, List&lt;User&gt;, List&lt;User&gt;&gt; {\n            override fun apply(t1: List&lt;User&gt;, t2: List&lt;User&gt;): List&lt;User&gt; {\n                val userList = ArrayList&lt;User&gt;()\n                userList.addAll(t1)\n                userList.addAll(t2)\n                return userList\n            }\n\n        })\n}\n</code></pre>\n\n<hr>\n\n<p>here is example of first observable</p>\n\n<pre><code>fun getCricketFansObservable(): Observable&lt;List&lt;User&gt;&gt; {\n    return RetrofitBase.getClient(context).create(Services::class.java).getCricketers().subscribeOn(Schedulers.io())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 8810162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b1396a2c584e66485b5e7939bc02e15?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim", "link": "https://stackoverflow.com/users/8810162/vadim"}, "is_accepted": false, "score": 0, "last_activity_date": 1561471014, "creation_date": 1561471014, "answer_id": 56755774, "question_id": 56752634, "link": "https://stackoverflow.com/questions/56752634/how-to-make-two-requests-in-one-request-with-rxjava2/56755774#56755774", "title": "How to make two requests in one request with rxJava2", "body": "<p>If both observables return the same data type and you don't mind mixing of both sources data - consider using <a href=\"http://reactivex.io/documentation/operators/merge.html\" rel=\"nofollow noreferrer\">Observable.merge()</a></p>\n\n<p>For example:</p>\n\n<pre><code> Observable.merge(interactor.getColleagues(), interactor.getTest())\n                .subscribeOn(Schedulers.io())\n                .subscribe(\n                    (n) -&gt; {/*do on next*/ },\n                    (e) -&gt; { /*do on error*/ });\n</code></pre>\n\n<p>Note, that <code>.merge()</code> operator doesn't care about emissions order.</p>\n"}], "owner": {"reputation": 21, "user_id": 10782686, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w0JTY5NpW48/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i4uhx_9fi7vR_1jtmpuaGFLeVKgw/mo/photo.jpg?sz=128", "display_name": "\u041f\u0430\u0432\u0435\u043b \u0424\u0438\u043b\u0438\u043c\u043e\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/10782686/%d0%9f%d0%b0%d0%b2%d0%b5%d0%bb-%d0%a4%d0%b8%d0%bb%d0%b8%d0%bc%d0%be%d0%bd%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 846, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1561483889, "creation_date": 1561460653, "last_edit_date": 1561461742, "question_id": 56752634, "link": "https://stackoverflow.com/questions/56752634/how-to-make-two-requests-in-one-request-with-rxjava2", "title": "How to make two requests in one request with rxJava2", "body": "<p>I am accessing the server in my Android app. I want to get a list of my friends and a list of friend requests in different queries. They have to come at the same time. Then I want to show this data on the screen.</p>\n\n<p>I tried to get data from two queries at using flatMap.\n<code>interactor.getColleagues()</code> and <code>interactor.getTest()</code> returns the data type <code>Observable&lt;List&lt;Colleagues&gt;&gt;</code></p>\n\n<pre><code>private fun loadColleaguesEmployer() {\n        if (disposable?.isDisposed == true) disposable?.dispose()\n        //\u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0440\u0443\u0437\u0435\u0439\n        interactor.getColleagues(view.getIdUser() ?: preferences.userId)\n            .subscribeOn(Schedulers.io())\n            .flatMap {\n                interactor.getTest().subscribeOn(Schedulers.io())\n                    .doOnNext {\n                            result-&gt; view.showTest(mapper.map(result))\n                    }\n            }\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribeBy(\n                onNext = { result1 -&gt;\n                    //\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u043e\u043b\u043b\u0435\u0433 \u0440\u0430\u0431\u043e\u0442\u043e\u0434\u0430\u0442\u0435\u043b\u0435\u0439\n                    view.showColleagues(mapper.map(result1.filter { data -&gt; data.typeFriend == \"\u0420\u0430\u0431\u043e\u0442\u043e\u0434\u0430\u0442\u0435\u043b\u044c\" }))\n                },\n                onError = { it.printStackTrace() }\n            )\n    }\n</code></pre>\n\n<p>I want to get and process data from different queries at the same time.</p>\n"}, {"tags": ["generics", "kotlin", "jackson", "yaml"], "comments": [{"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561470131, "post_id": 56752508, "comment_id": 100068571, "body": "try replacing reader with it objectMapper.readValue&lt;List&lt;R&gt;&gt;(it) without the lambda"}, {"owner": {"reputation": 1116, "user_id": 6452817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3d1bc268f49b2396c35faed4669de01?s=128&d=identicon&r=PG&f=1", "display_name": "Silverclaw", "link": "https://stackoverflow.com/users/6452817/silverclaw"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1561539823, "post_id": 56752508, "comment_id": 100093772, "body": "I tried. Doesn&#39;t change anything. But I would have been more confused if it did."}], "answers": [{"comments": [{"owner": {"reputation": 1116, "user_id": 6452817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3d1bc268f49b2396c35faed4669de01?s=128&d=identicon&r=PG&f=1", "display_name": "Silverclaw", "link": "https://stackoverflow.com/users/6452817/silverclaw"}, "edited": false, "score": 0, "creation_date": 1561485788, "post_id": 56757546, "comment_id": 100076870, "body": "I assumed that, too. But shouldn&#39;t my first solution fail for the same reason?"}, {"owner": {"reputation": 77, "user_id": 1022566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f47b8697f8fbe831823b07f981b6f81?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey.Efimov", "link": "https://stackoverflow.com/users/1022566/alexey-efimov"}, "reply_to_user": {"reputation": 1116, "user_id": 6452817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3d1bc268f49b2396c35faed4669de01?s=128&d=identicon&r=PG&f=1", "display_name": "Silverclaw", "link": "https://stackoverflow.com/users/6452817/silverclaw"}, "edited": false, "score": 0, "creation_date": 1561486917, "post_id": 56757546, "comment_id": 100077376, "body": "No, first solution works because you have type information (Skill.class) in bytecode and Jackson uses it for deserialization. With generics you don&#39;t have such information."}, {"owner": {"reputation": 1116, "user_id": 6452817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3d1bc268f49b2396c35faed4669de01?s=128&d=identicon&r=PG&f=1", "display_name": "Silverclaw", "link": "https://stackoverflow.com/users/6452817/silverclaw"}, "edited": false, "score": 0, "creation_date": 1561539916, "post_id": 56757546, "comment_id": 100093820, "body": "But... aren&#39;t both solutions effectively using the same generics?"}, {"owner": {"reputation": 77, "user_id": 1022566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f47b8697f8fbe831823b07f981b6f81?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey.Efimov", "link": "https://stackoverflow.com/users/1022566/alexey-efimov"}, "reply_to_user": {"reputation": 1116, "user_id": 6452817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3d1bc268f49b2396c35faed4669de01?s=128&d=identicon&r=PG&f=1", "display_name": "Silverclaw", "link": "https://stackoverflow.com/users/6452817/silverclaw"}, "edited": false, "score": 0, "creation_date": 1561542689, "post_id": 56757546, "comment_id": 100095401, "body": "Oh you mean first solution with generics does work? I understood that only non-generic solution works (and I&#39;ve tried it). Only it should work without providing additional type info to objectMapper&#39;s readValue method."}, {"owner": {"reputation": 1116, "user_id": 6452817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3d1bc268f49b2396c35faed4669de01?s=128&d=identicon&r=PG&f=1", "display_name": "Silverclaw", "link": "https://stackoverflow.com/users/6452817/silverclaw"}, "edited": false, "score": 0, "creation_date": 1561548055, "post_id": 56757546, "comment_id": 100098605, "body": "I might have to make it clearer, but yes, the first method which uses &lt;Skill&gt; as generic does work. And I assumed reifiying R would essentially do the same."}, {"owner": {"reputation": 77, "user_id": 1022566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f47b8697f8fbe831823b07f981b6f81?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey.Efimov", "link": "https://stackoverflow.com/users/1022566/alexey-efimov"}, "reply_to_user": {"reputation": 1116, "user_id": 6452817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3d1bc268f49b2396c35faed4669de01?s=128&d=identicon&r=PG&f=1", "display_name": "Silverclaw", "link": "https://stackoverflow.com/users/6452817/silverclaw"}, "edited": false, "score": 0, "creation_date": 1561559280, "post_id": 56757546, "comment_id": 100105793, "body": "In fact this is interesting question, because readValue from kotlin module is inline function with reified type parameter:  inline fun &lt;reified T&gt; ObjectMapper.readValue(src: Reader): T = readValue(src, jacksonTypeRef&lt;T&gt;()). So it is expected to work as you assumed, but in fact it does not. I need a little bit more investigation on this, but it looks like reified type parameters do not pass to nested inline functions."}, {"owner": {"reputation": 77, "user_id": 1022566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f47b8697f8fbe831823b07f981b6f81?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey.Efimov", "link": "https://stackoverflow.com/users/1022566/alexey-efimov"}, "reply_to_user": {"reputation": 1116, "user_id": 6452817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3d1bc268f49b2396c35faed4669de01?s=128&d=identicon&r=PG&f=1", "display_name": "Silverclaw", "link": "https://stackoverflow.com/users/6452817/silverclaw"}, "edited": false, "score": 0, "creation_date": 1561587855, "post_id": 56757546, "comment_id": 100118164, "body": "After a little investigation it turned out that if you have nested generic class or interface passed to readValue from jackson-kotlin-module, information about nested type parameter is getting erased and we just get java.util.List&lt;? extends T&gt; type  which results in calling jackson&#39;s readValue with this type and produces List of hashmaps as output. You can actually debug this method to see whats happening in details, but it looks like a restriction (or bug?) of jackson-kotlin-module. So atm to achieve your goal you need to calculate type manually and pass it to readValue method from java lib."}], "tags": [], "owner": {"reputation": 77, "user_id": 1022566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f47b8697f8fbe831823b07f981b6f81?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey.Efimov", "link": "https://stackoverflow.com/users/1022566/alexey-efimov"}, "is_accepted": false, "score": 1, "last_activity_date": 1561588388, "last_edit_date": 1561588388, "creation_date": 1561476789, "answer_id": 56757546, "question_id": 56752508, "link": "https://stackoverflow.com/questions/56752508/using-generic-function-does-not-work-for-loading-yaml-list-with-jackson/56757546#56757546", "title": "Using generic function does not work for loading YAML list with jackson", "body": "<p>Since all generic type information does not exist at runtime, you need to provide it to Jackson somehow. Reified type keeps that information, but AFAIK Jackson does not use it so you have to do it manually. For example, like this:</p>\n\n<pre><code>inline fun &lt;reified T&gt; loadSkills(path: String): List&lt;T&gt; {\n\n    val resource: URL = javaClass.classLoader.getResource(path)\n    val type = objectMapper.typeFactory.constructParametricType(List::class.java, T::class.java)\n    val items: List&lt;T&gt; = resource.openStream()\n                .bufferedReader().use { reader -&gt;\n                    objectMapper.readValue(reader, type)\n                }\n\n    return items\n}\n</code></pre>\n\n<p><strong>EDIT</strong>: It turns out that there is a restriction in jackson-kotlin-module for automatic calculation of nested generic types. \nIf you try to parse yaml (or whatever else) for single Skill (without list) it will work properly even inside generic function, but once you want to have nesting like List&lt; Skill >, it fails to recognise type properly and produces List of HashMaps</p>\n"}], "owner": {"reputation": 1116, "user_id": 6452817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3d1bc268f49b2396c35faed4669de01?s=128&d=identicon&r=PG&f=1", "display_name": "Silverclaw", "link": "https://stackoverflow.com/users/6452817/silverclaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561588388, "creation_date": 1561460231, "last_edit_date": 1561547937, "question_id": 56752508, "link": "https://stackoverflow.com/questions/56752508/using-generic-function-does-not-work-for-loading-yaml-list-with-jackson", "title": "Using generic function does not work for loading YAML list with jackson", "body": "<p>I just recently started trying out Kotlin and I'm mostly amazed with it so far. However, I can't quite wrap my head around how the generics work here.</p>\n\n<p>I want to read a YAML file that looks like this:</p>\n\n<pre><code>- id: acrobatics\n  name: Akrobatik\n  description:\n  ...\n</code></pre>\n\n<p>A simple data class to map this to:</p>\n\n<pre><code>data class Skill (\n    val id: String,\n    val name: String,\n    val description: String\n)\n</code></pre>\n\n<p>Now, on to the interesting part. <strong>Apparently, it does work with generics!</strong>\nI started with this function, which does its job as intended:</p>\n\n<pre><code>fun loadSkills(): List&lt;Skill&gt; {\n\n    val resource: URL = classLoader.getResource(\"rulebook/skills.yml\")!!\n\n    val items: List&lt;Skill&gt; = resource.openStream()\n        .bufferedReader().use() { reader -&gt;\n            objectMapper.readValue&lt;List&lt;Skill&gt;&gt;(reader)\n        }\n\n    return items\n}\n</code></pre>\n\n<p>However, I want to reuse this, so I tried creating a generic function:</p>\n\n<pre><code>protected fun &lt;R: Any&gt; loadList(path: String): List&lt;R&gt; {\n\n    val resource: URL = classLoader.getResource(path)!!\n\n    val items: List&lt;R&gt; = resource.openStream()\n        .bufferedReader().use() { reader -&gt;\n            objectMapper.readValue&lt;List&lt;R&gt;&gt;(reader)\n        }\n\n    return items\n}\n</code></pre>\n\n<p>And my original function just calls:</p>\n\n<pre><code>return loadList&lt;Skill&gt;(\"rulebook/skills.yml\")\n</code></pre>\n\n<p>And now my tests fail because I get a List of LinkedHashMaps, which seems to be the default datatype used by the YAML parser to map objects.\nI read a little more and tried changing my method signature to an inline function with a reified type parameter:</p>\n\n<pre><code>protected inline fun &lt;reified R: Any&gt; loadList(path: String): List&lt;R&gt;\n</code></pre>\n\n<p>But that doesn't seem to change anything.\nIs there any way to make this work elegantly?</p>\n"}, {"tags": ["java", "mysql", "gradle", "jdbc", "kotlin"], "comments": [{"owner": {"reputation": 354, "user_id": 7681242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/66ohw.jpg?s=128&g=1", "display_name": "Jerry B. no.1 intern", "link": "https://stackoverflow.com/users/7681242/jerry-b-no-1-intern"}, "edited": false, "score": 0, "creation_date": 1561468256, "post_id": 56752382, "comment_id": 100067329, "body": "<b>Update</b> downgrading to Connector/j 5.1 gets it working, but I still don&#39;t know why version 8 won&#39;t work."}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 2, "creation_date": 1561468261, "post_id": 56752382, "comment_id": 100067333, "body": "You shouldn&#39;t use JDBC drivers from Android, and - judging by the error - the MySQL Connector/J 8 driver relies on Java 8 features not present in Android, so it will not even work on Android."}, {"owner": {"reputation": 354, "user_id": 7681242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/66ohw.jpg?s=128&g=1", "display_name": "Jerry B. no.1 intern", "link": "https://stackoverflow.com/users/7681242/jerry-b-no-1-intern"}, "reply_to_user": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1561468409, "post_id": 56752382, "comment_id": 100067419, "body": "Is there a better driver I should be using? (I know the proper architecture is to have a web service in between client and DB, but I&#39;m just mucking around at the moment)"}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1561468556, "post_id": 56752382, "comment_id": 100067525, "body": "Not that I&#39;m aware of."}], "owner": {"reputation": 354, "user_id": 7681242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/66ohw.jpg?s=128&g=1", "display_name": "Jerry B. no.1 intern", "link": "https://stackoverflow.com/users/7681242/jerry-b-no-1-intern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561459891, "creation_date": 1561459891, "question_id": 56752382, "link": "https://stackoverflow.com/questions/56752382/kotlin-class-forname-fails-for-mysql-connector-j-driver-with-nosuchmethoderror", "title": "Kotlin Class.forName fails for Mysql connector/j driver with NoSuchMethodError", "body": "<p>I've added the my Connector/j 8.0 <code>mysql-connector-java-8.0.16.jar</code> file to my <code>libs</code> folder and added an entry in my app module <code>build.gradle</code> file.</p>\n\n<p>But I get a <code>java.lang.NoSuchMethodError</code> exception when i try to <code>Class.forName(\"com.mysql.cj.jdbc.Driver\").newInstance()</code> which is below:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.testmate.hscmate, PID: 10196\n    java.lang.NoSuchMethodError: No static method metafactory(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite; in class Ljava/lang/invoke/LambdaMetafactory; or its super classes (declaration of 'java.lang.invoke.LambdaMetafactory' appears in /apex/com.android.runtime/javalib/core-oj.jar)\n        at com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.&lt;clinit&gt;(AbandonedConnectionCleanupThread.java:58)\n        at java.lang.Class.classForName(Native Method)\n        at java.lang.Class.forName(Class.java:454)\n        at java.lang.Class.forName(Class.java:379)\n        at com.mysql.cj.jdbc.NonRegisteringDriver.&lt;clinit&gt;(NonRegisteringDriver.java:99)\n        at java.lang.Class.classForName(Native Method)\n        at java.lang.Class.forName(Class.java:454)\n        at java.lang.Class.forName(Class.java:379)\n        at com.testmate.hscmate.MainActivity$onNavigationItemSelectedListener$1.onNavigationItemSelected(MainActivity.kt:24)\n        at com.google.android.material.bottomnavigation.BottomNavigationView$1.onMenuItemSelected(BottomNavigationView.java:204)\n        at androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:840)\n        at androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:158)\n        at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:991)\n        at com.google.android.material.bottomnavigation.BottomNavigationMenuView$1.onClick(BottomNavigationMenuView.java:115)\n        at android.view.View.performClick(View.java:7125)\n        at android.view.View.performClickInternal(View.java:7102)\n        at android.view.View.access$3400(View.java:801)\n        at android.view.View$PerformClick.run(View.java:27301)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7319)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:934)\n</code></pre>\n\n<p>here is my build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.0\"\n    defaultConfig {\n        applicationId \"com.testmate.hscmate\"\n        minSdkVersion 26\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.core:core-ktx:1.0.2'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation files('libs/mysql-connector-java-8.0.16.jar')\n}\n</code></pre>\n\n<p>As far as I can tell, kotlin is finding the .jar, because otherwise it would be a <code>ClassNotFoundException</code> but it seems my SDK or JRE is missing this \"static method metafactory\" or something.</p>\n\n<p>Connector/j 8.0 requires java 1.8.x which I believe I'm running with my compileSdkVersion and targetSdkVersion. I tried downloading sdkVersion 27 to build the app in a lower version but the app doesn't build.</p>\n\n<p>I have no idea why my driver can't seem to find the things it needs.</p>\n"}, {"tags": ["android", "android-fragments", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 1598, "user_id": 2078315, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/tjQiZ.png?s=128&g=1", "display_name": "Akarsh M", "link": "https://stackoverflow.com/users/2078315/akarsh-m"}, "edited": false, "score": 2, "creation_date": 1561458671, "post_id": 56751979, "comment_id": 100061552, "body": "startActivity(Intent(activty, HelpCenterActivity::class.java))"}], "answers": [{"comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1561460454, "post_id": 56752034, "comment_id": 100062627, "body": "Please avoid using <code>!!</code>. <code>activity</code> can be <code>null</code>, so do a proper nullcheck!"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1561561447, "post_id": 56752034, "comment_id": 100107209, "body": "I downvoted this, because it encourages bad programming habits that go against Kotlin code conventions. As mentioned in my previous comment, proper nullchecks should be favored over <code>!!</code>. Moreover, <code>activity</code> is of an optional type for a very good reason, thus a nullcheck here is a <i>must</i>. Therefore, I think of this as of an incorrect answer, which I downvoted. It is my opinion, and I have no problem removing the downvote, once the code conforms to the good practices of Kotlin conventions."}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1561616682, "post_id": 56752034, "comment_id": 100124217, "body": "@Maro\u0161\u0160eleng <code>once the code conforms to the good practices of Kotlin conventions</code>. Check edited answer. Hope this good practice. Learn from last mistake."}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 4, "last_activity_date": 1561617265, "last_edit_date": 1561617265, "creation_date": 1561458750, "answer_id": 56752034, "question_id": 56751979, "link": "https://stackoverflow.com/questions/56751979/how-can-i-call-an-activity-from-fragment-kt-file/56752034#56752034", "title": "How can I call an Activity from Fragment.kt file?", "body": "<p>You should use <strong><code>activity!!</code></strong> instead of <strong><s>this</s></strong> here.</p>\n\n<p>For Fragment use -> <kbd><strong>activity!!</strong></kbd></p>\n\n<pre><code> activity!!.startActivity(Intent(activity!!, HelpCenterActivity::class.java))\n finish()\n</code></pre>\n\n<p><strong>2nd Approach</strong></p>\n\n<pre><code>   (activity as MainActivityName)?.let{\n       val intent = Intent (it, HelpCenterActivity::class.java)\n       it.startActivity(intent)\n       finish()\n    }\n</code></pre>\n\n<blockquote>\n  <p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\"><strong><code>let</code></strong></a>->takes the object it is invoked upon as the parameter and returns\n  the result of the lambda expression.</p>\n  \n  <p><strong><code>it</code></strong>->keyword contains the copy of the property inside <strong><code>let</code></strong>.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "is_accepted": false, "score": 0, "last_activity_date": 1561513730, "creation_date": 1561513730, "answer_id": 56764082, "question_id": 56751979, "link": "https://stackoverflow.com/questions/56751979/how-can-i-call-an-activity-from-fragment-kt-file/56764082#56764082", "title": "How can I call an Activity from Fragment.kt file?", "body": "<ol>\n<li><p>Call the parent Activity:</p>\n\n<p>val intent = Intent (getActivity(), Main::class.java)\n getActivity().startActivity(intent)</p>\n\n<ol start=\"2\">\n<li>or do like this</li>\n</ol>\n\n<p>activity?.let{\n    val intent = Intent (it, Main::class.java)\n    it.startActivity(intent)\n}</p></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 11675839, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-N9HuD6Q6yQc/AAAAAAAAAAI/AAAAAAAA0VI/SvWy2AH4aMU/photo.jpg?sz=128", "display_name": "Digant", "link": "https://stackoverflow.com/users/11675839/digant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 805, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1561617265, "creation_date": 1561458557, "last_edit_date": 1561458713, "question_id": 56751979, "link": "https://stackoverflow.com/questions/56751979/how-can-i-call-an-activity-from-fragment-kt-file", "title": "How can I call an Activity from Fragment.kt file?", "body": "<pre><code>class ProfileFragment : Fragment() {\n    private lateinit var tvhelpcenter: TextView\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        return inflater.inflate(R.layout.fragment_profile, container, false)\n        /*  val view = inflater?.inflate(\n              R.layout.fragment_home,\n              container, false\n          )*/\n        /*val tv_help_center: TextView? = view?.findViewById(R.id.tv_help_center)\n        tv_help_center!!.setOnClickListener {\n            requireActivity().run {\n                startActivity(Intent(this, HelpCenterActivity::class.java))\n                finish()\n            }\n        }*/\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-constraintlayout"], "comments": [{"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1561475188, "post_id": 56751886, "comment_id": 100071720, "body": "You are creating a <i>LinearLayout</i> in code but need a <i>ConstraintLayout</i> which is what you have in the XML."}, {"owner": {"reputation": 784, "user_id": 1958693, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9bf1f231b7b279298ccd9ac3646230e?s=128&d=identicon&r=PG", "display_name": "tufekoi", "link": "https://stackoverflow.com/users/1958693/tufekoi"}, "reply_to_user": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1561640831, "post_id": 56751886, "comment_id": 100137816, "body": "My bad, I did try with a <code>ConstraintLayout </code> it&#39;s a wrong copy/paste. I&#39;ll edit the post to fix that mistake"}], "answers": [{"tags": [], "owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "is_accepted": false, "score": 1, "last_activity_date": 1561654335, "creation_date": 1561654335, "answer_id": 56795595, "question_id": 56751886, "link": "https://stackoverflow.com/questions/56751886/how-to-set-weight-dynamically-in-a-constraint-layout/56795595#56795595", "title": "How to set weight dynamically in a constraint layout", "body": "<p>The code is almost correct. You don't specify a start constraint to the <em>SeekBar</em> so it vanishes along with everything else. Try the following:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(createLayout())\n        supportActionBar?.setTitle(\"\")\n\n    }\n\n    fun createLayout(): ConstraintLayout {\n\n        val layout = ConstraintLayout(this).apply {\n            id = View.generateViewId()\n            layoutParams = ConstraintLayout.LayoutParams(\n                ConstraintLayout.LayoutParams.MATCH_PARENT,\n                ConstraintLayout.LayoutParams.WRAP_CONTENT\n            )\n        }\n\n        val dimLevelView = LayoutInflater.from(this).inflate(R.layout.seekbar_widget, layout, false)\n        val onView = LayoutInflater.from(this).inflate(R.layout.switch_widget, layout, false)\n\n        layout.addView(dimLevelView)\n        layout.addView(onView)\n\n        val set = ConstraintSet()\n        set.clone(layout)\n\n        set.connect(\n            dimLevelView.id,\n            ConstraintSet.START,\n            ConstraintSet.PARENT_ID,\n            ConstraintSet.START\n        )\n\n        set.connect(\n            dimLevelView.id,\n            ConstraintSet.START,\n            ConstraintSet.PARENT_ID,\n            ConstraintSet.START\n        )\n        set.connect(dimLevelView.id, ConstraintSet.END, onView.id, ConstraintSet.START)\n        set.connect(dimLevelView.id, ConstraintSet.TOP, ConstraintSet.PARENT_ID, ConstraintSet.TOP)\n        set.centerVertically(dimLevelView.id, ConstraintSet.PARENT_ID)\n        set.setHorizontalWeight(dimLevelView.id, 1.toFloat())\n\n        set.connect(onView.id, ConstraintSet.START, dimLevelView.id, ConstraintSet.END)\n        set.connect(onView.id, ConstraintSet.END, ConstraintSet.PARENT_ID, ConstraintSet.END)\n        set.connect(onView.id, ConstraintSet.TOP, ConstraintSet.PARENT_ID, ConstraintSet.TOP)\n        set.centerVertically(onView.id, ConstraintSet.PARENT_ID)\n\n        set.applyTo(layout)\n        return layout\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 1958693, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9bf1f231b7b279298ccd9ac3646230e?s=128&d=identicon&r=PG", "display_name": "tufekoi", "link": "https://stackoverflow.com/users/1958693/tufekoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1561654335, "creation_date": 1561458294, "last_edit_date": 1561640928, "question_id": 56751886, "link": "https://stackoverflow.com/questions/56751886/how-to-set-weight-dynamically-in-a-constraint-layout", "title": "How to set weight dynamically in a constraint layout", "body": "<p>I need to implement the equivalent of the following layout dynamically. The code I have tried works correctly for positions, the elements are align as I want, but the weight value does not change anything. I have not figured out how to make the seek bar shrink its width to give enough space to the switch button instead of pushing it on the side.</p>\n\n<p>Xml equivalent of what I want to code dynamically :</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;no.beiningbogen.snute.common.view.TouchAwareSeekBar\n        android:id=\"@+id/touchAwareSeekBar\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:dsb_indicatorColor=\"@color/discrete_seek_bar\"\n        app:dsb_progressColor=\"@color/discrete_seek_bar\"\n        app:dsb_scrubberHeight=\"5dp\"\n        app:dsb_thumbSize=\"20dp\"\n        app:dsb_trackColor=\"@color/colorMaterialGray300\"\n        app:dsb_trackHeight=\"5dp\"\n        app:layout_constraintEnd_toStartOf=\"@+id/device_switch\"\n        app:layout_constraintHorizontal_weight=\"1\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;androidx.appcompat.widget.SwitchCompat\n        android:id=\"@+id/device_switch\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"0dp\"\n        android:background=\"@null\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toEndOf=\"@+id/touchAwareSeekBar\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>This is the code I implemented : </p>\n\n<pre><code>val layout = ConstraintLayout(context).apply {\n        id = View.generateViewId()\n        layoutParams = ConstraintLayout.LayoutParams(\n            ConstraintLayout.LayoutParams.MATCH_PARENT,\n            ConstraintLayout.LayoutParams.WRAP_CONTENT\n        )\n    }\n\nval dimLevelView = map[DeviceAttributeType.dimLevel]\nval onView = map[DeviceAttributeType.on]\n\nlayout.addView(dimLevelView)\nlayout.addView(onOffView)\n\nval set = ConstraintSet()\nset.clone(layout)\n\nset.connect(dimLevelView.id, ConstraintSet.START, ConstraintSet.PARENT_ID, ConstraintSet.START)\nset.connect(dimLevelView.id, ConstraintSet.END, onView.id, ConstraintSet.START)\nset.connect(dimLevelView.id, ConstraintSet.TOP, ConstraintSet.PARENT_ID, ConstraintSet.TOP)\nset.centerVertically(dimLevelView.id, ConstraintSet.PARENT_ID)\nset.setHorizontalWeight(dimLevelView.id, 1.toFloat())\n\nset.connect(onView.id, ConstraintSet.START, dimLevelView.id, ConstraintSet.END)\nset.connect(onView.id, ConstraintSet.END, ConstraintSet.PARENT_ID, ConstraintSet.END)\nset.connect(onView.id, ConstraintSet.TOP, ConstraintSet.PARENT_ID, ConstraintSet.TOP)\nset.centerVertically(onView.id, ConstraintSet.PARENT_ID)\n\nset.applyTo(layout)\n</code></pre>\n\n<p>I get the dim and onOff views from xml :</p>\n\n<pre><code>&lt;!-- one file to define this --&gt;\n&lt;no.beiningbogen.snute.common.view.TouchAwareSeekBar\n    android:id=\"@+id/touchAwareSeekBar\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    app:dsb_indicatorColor=\"@color/discrete_seek_bar\"\n    app:dsb_progressColor=\"@color/discrete_seek_bar\"\n    app:dsb_scrubberHeight=\"5dp\"\n    app:dsb_thumbSize=\"20dp\"\n    app:dsb_trackColor=\"@color/colorMaterialGray300\"\n    app:dsb_trackHeight=\"5dp\" /&gt;\n\n&lt;!-- in another file --&gt;\n&lt;androidx.appcompat.widget.SwitchCompat\n    android:id=\"@+id/device_switch\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@null\" /&gt;\n</code></pre>\n\n<p>What do i need to modify to force the seek bar to take the remaining space next to the switch instead of pushing it ?</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "owner": {"reputation": 449, "user_id": 11696949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114e57ccd2017cc41009044eea60d12e?s=128&d=identicon&r=PG&f=1", "display_name": "Zeeshan Fareed", "link": "https://stackoverflow.com/users/11696949/zeeshan-fareed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1064, "favorite_count": 0, "closed_date": 1561651945, "answer_count": 0, "score": 1, "last_activity_date": 1561458865, "creation_date": 1561457171, "last_edit_date": 1561458865, "question_id": 56751556, "link": "https://stackoverflow.com/questions/56751556/following-apis-are-greylisted-and-google-can-t-guarantee-that-they-will-work-on", "closed_reason": "Duplicate", "title": "Following APIs are greylisted and Google can\u2019t guarantee that they will work on existing versions of Android", "body": "<p>Before the Launch of app, I got the following warnings, anyone knows how to fix these?</p>\n\n<pre><code>API Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V\n10 occurrences identified. Only unique stack traces are shown.\n\nAPI Landroid/graphics/FontFamily;-&gt;&lt;init&gt;()V\n2 occurrences identified. Only unique stack traces are shown.\n\nAPI Landroid/graphics/FontFamily;-&gt;abortCreation()V\n2 occurrences identified. Only unique stack traces are shown.\n\nAPI Landroid/graphics/FontFamily;-&gt;addFontFromAssetManager(Landroid/content/res/AssetManager;Ljava/lang/String;IZIII[Landroid/graphics/fonts/FontVariationAxis;)Z\n2 occurrences identified. Only unique stack traces are shown.\n\nAPI Landroid/graphics/FontFamily;-&gt;addFontFromBuffer(Ljava/nio/ByteBuffer;I[Landroid/graphics/fonts/FontVariationAxis;II)Z\n2 occurrences identified. Only unique stack traces are shown.\n\nAPI Landroid/graphics/FontFamily;-&gt;freeze()Z\n2 occurrences identified. Only unique stack traces are shown.\n\nAPI Landroid/graphics/Typeface;-&gt;createFromFamiliesWithDefault([Landroid/graphics/FontFamily;Ljava/lang/String;IILandroid/graphics/Typeface;\n2 occurrences identified. Only unique stack traces are shown.\n\nAPI Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z\n2 occurrences identified. Only unique stack traces are shown.\n\nAPI Landroid/content/Context;-&gt;bindServiceAsUser(Landroid/content/Intent;Landroid/content/ServiceConnection;ILandroid/os/Handler;Landroid/os/UserHandle;)Z\n1 occurrence identified\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-date", "android-timer"], "answers": [{"tags": [], "owner": {"reputation": 381, "user_id": 4450089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0528e03b86009fc291d6a6ebe80d6d15?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Rathore", "link": "https://stackoverflow.com/users/4450089/neha-rathore"}, "is_accepted": false, "score": 0, "last_activity_date": 1561456633, "last_edit_date": 1561456633, "creation_date": 1561456549, "answer_id": 56751323, "question_id": 56751196, "link": "https://stackoverflow.com/questions/56751196/countdowntimer-is-not-working-as-intended-wrong-time/56751323#56751323", "title": "CountdownTimer is not working as intended (wrong time)", "body": "<p>Here you have to specify timer time for how long <strong>(2 hour from now = 2*60*60*1000 millis)</strong> you want to run\n    if you convert date in millis its not gonna work the way you want as it return date in millis,       </p>\n\n<pre><code>remainingTimer = object : CountDownTimer(2*60*60*1000, 1000) {\n                override fun onTick(millisUntilFinished: Long) {\n                    remTime = millisUntilFinished\n                    notifyChanged(PAYLOAD_UPDATE_REM_TIME)\n                }\n\n                override fun onFinish() {\n                    swapTimers()\n                }\n\n            }.start()\n\n    val hours = ((remTime / (1000 * 60 * 60)).rem(24))\n</code></pre>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561456633, "creation_date": 1561456123, "question_id": 56751196, "link": "https://stackoverflow.com/questions/56751196/countdowntimer-is-not-working-as-intended-wrong-time", "title": "CountdownTimer is not working as intended (wrong time)", "body": "<p>I'm using <code>CountdownTimer</code> in my app to display remaining time until specific <code>Date</code>. But <code>Date</code> is only 2 hours from current time, but if I convert <code>millisUntilFinished</code> to hours, it says 9 hours. <code>Date</code> is in UTC format.</p>\n\n<pre><code>remainingTimer = object : CountDownTimer(dateTime.time, 1000) {\n            override fun onTick(millisUntilFinished: Long) {\n                remTime = millisUntilFinished\n                notifyChanged(PAYLOAD_UPDATE_REM_TIME)\n            }\n\n            override fun onFinish() {\n                swapTimers()\n            }\n\n        }.start()\n\nval hours = ((remTime / (1000 * 60 * 60)).rem(24))\n</code></pre>\n"}, {"tags": ["swift", "kotlin", "interface", "protocols", "swift-protocols"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 3, "last_activity_date": 1561458056, "creation_date": 1561458056, "answer_id": 56751810, "question_id": 56751180, "link": "https://stackoverflow.com/questions/56751180/is-there-a-way-to-do-swifts-protocol-composition-in-kotlin/56751810#56751810", "title": "Is there a way to do Swift&#39;s Protocol Composition in Kotlin", "body": "<p>From the function side you'd be able to handle it with generic functions using a <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\"><code>where</code>-clause</a>:</p>\n\n<pre><code>fun &lt;T&gt; foo(obj: T) where T: Fooable, T: Barable {\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "is_accepted": true, "score": 5, "last_activity_date": 1561458109, "creation_date": 1561458109, "answer_id": 56751831, "question_id": 56751180, "link": "https://stackoverflow.com/questions/56751180/is-there-a-way-to-do-swifts-protocol-composition-in-kotlin/56751831#56751831", "title": "Is there a way to do Swift&#39;s Protocol Composition in Kotlin", "body": "<p>Please check the below code:</p>\n\n<pre><code>interface A{\n\n}\n\ninterface B{\n\n}\n\nfun &lt;T&gt; check(variable: T) where T : A, T: B{\n    print(\"Hello\");\n}\n</code></pre>\n\n<p>the above gives you compile time error if you try to pass a variable which doesn't confirm to both of them</p>\n"}], "owner": {"reputation": 3829, "user_id": 5928180, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/MHaJM.png?s=128&g=1", "display_name": "Zonily Jame", "link": "https://stackoverflow.com/users/5928180/zonily-jame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 2, "accepted_answer_id": 56751831, "answer_count": 2, "score": 4, "last_activity_date": 1561464527, "creation_date": 1561456068, "last_edit_date": 1561462004, "question_id": 56751180, "link": "https://stackoverflow.com/questions/56751180/is-there-a-way-to-do-swifts-protocol-composition-in-kotlin", "title": "Is there a way to do Swift&#39;s Protocol Composition in Kotlin", "body": "<p>So for Swift we can create new types or pass to a method as a parameters using the <code>&amp;</code> operator.</p>\n\n<p>Example Swift Code:</p>\n\n<pre><code>protocol Fooable {}\nprotocol Barable {}\n\n// the new protocol\ntypealias FooBarable = Fooable &amp; Barable\n\n// method parameter \nfunc doSomethingFor(object: Fooable &amp; Barable) { ... }\n</code></pre>\n\n<p>Is there a way to do this in Kotlin's Interfaces?</p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/interfaces.html\" rel=\"nofollow noreferrer\">Kotlin Interfaces Documentation</a></li>\n<li><a href=\"https://docs.swift.org/swift-book/LanguageGuide/Protocols.html#\" rel=\"nofollow noreferrer\">Swift Protocols Documentation</a></li>\n</ul>\n"}, {"tags": ["android", "kotlin", "junit4", "android-testing"], "owner": {"reputation": 2944, "user_id": 1773831, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/26563bc5396c8cde8649ddfa3f08ade7?s=128&d=identicon&r=PG", "display_name": "Ove Stoerholt", "link": "https://stackoverflow.com/users/1773831/ove-stoerholt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561494072, "creation_date": 1561455591, "last_edit_date": 1561494072, "question_id": 56751050, "link": "https://stackoverflow.com/questions/56751050/why-are-robolectric-involved-when-specifying-runwithandroidjunit4class-as-m", "title": "Why are Robolectric involved when specifying @RunWith(AndroidJUnit4::class) as my testrunner?", "body": "<pre><code>    private static String getRunnerClassName() {\n    String runnerClassName = System.getProperty(\"android.junit.runner\", null);\n    if (runnerClassName == null) {\n      // TODO: remove this logic when nitrogen is hooked up to always pass this property\n      if (System.getProperty(\"java.runtime.name\").toLowerCase().contains(\"android\")) {\n        return \"androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner\";\n      } else {\n        return \"org.robolectric.RobolectricTestRunner\";\n      }\n    }\n    return runnerClassName;\n  }\n</code></pre>\n\n<p>The above code is taken from the AndroidJUnit class, and tells me that it android.junit.runner is not specified and java.runtime.name does not contain 'android' it defaults to Robolectric.</p>\n\n<p>It should not matter, but my tests are written in Kotlin.</p>\n\n<p>Please tell me where or how to specify android.junit.runner (thought the annotation did this) or java.runtime.name?</p>\n\n<p>Thanks, Ove</p>\n"}, {"tags": ["android", "kotlin", "http-headers", "android-webview"], "answers": [{"comments": [{"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "edited": false, "score": 1, "creation_date": 1561454751, "post_id": 56750718, "comment_id": 100059351, "body": "it didn&#39;t help me :( I sent  -  authorization=Bearer token, but I have to send Authorization: Bearer token"}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "reply_to_user": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "edited": false, "score": 0, "creation_date": 1561454998, "post_id": 56750718, "comment_id": 100059509, "body": "Can you verify that your data from <code>SharedPreferences</code> is working ok?"}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "reply_to_user": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "edited": false, "score": 0, "creation_date": 1561455225, "post_id": 56750718, "comment_id": 100059645, "body": "I recommend you to check this one : <a href=\"https://stackoverflow.com/questions/41440736/send-authorization-header-with-every-request-in-webview-using-okhttp-in-android/41442806\" title=\"send authorization header with every request in webview using okhttp in android\">stackoverflow.com/questions/41440736/&hellip;</a>"}, {"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "edited": false, "score": 0, "creation_date": 1561455449, "post_id": 56750718, "comment_id": 100059762, "body": "my data from <code>SharedPreferences</code> is working ok, and I don&#39;t receive any errors in log cat, I also saw this question, but I think that maybe I can reach appropriate result with current solution?"}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "reply_to_user": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "edited": false, "score": 0, "creation_date": 1561455742, "post_id": 56750718, "comment_id": 100059921, "body": "Also you tried to print headerMap and you realized that the output is in lowercase and not getting the accessToken correctly?"}, {"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "edited": false, "score": 0, "creation_date": 1561455932, "post_id": 56750718, "comment_id": 100060041, "body": "here is my output of headermap - Authorization=Bearer token, I have to add two dots and remove equality, and also at web view I think I will receive all at lowercase and I don&#39;t understand why ;("}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "reply_to_user": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "edited": false, "score": 0, "creation_date": 1561456254, "post_id": 56750718, "comment_id": 100060217, "body": "Can you please provide how do you see this text? And the changes you did into your code?"}, {"owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "reply_to_user": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1561456284, "post_id": 56750718, "comment_id": 100060233, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/195497/discussion-between-andrew-goroshko-and-skizo-oziks\">continue this discussion in chat</a>."}, {"owner": {"reputation": 771, "user_id": 4965949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5n9s.png?s=128&g=1", "display_name": "Mahmoud Mabrok", "link": "https://stackoverflow.com/users/4965949/mahmoud-mabrok"}, "edited": false, "score": 0, "creation_date": 1613560071, "post_id": 56750718, "comment_id": 117109954, "body": "it worked for me thnaks"}], "tags": [], "owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "is_accepted": true, "score": 4, "last_activity_date": 1561454799, "last_edit_date": 1561454799, "creation_date": 1561454519, "answer_id": 56750718, "question_id": 56750553, "link": "https://stackoverflow.com/questions/56750553/how-to-add-authorization-bearer-header-to-webview-android/56750718#56750718", "title": "How to add authorization bearer header to webview android?", "body": "<p>Can you try to do it this way </p>\n\n<pre><code>val bearer = \"Bearer \" + context!!.getSharedPreferences(\"app_data\", 0).getString(\"access_token\", \"\")!!\n\nval headerMap = HashMap&lt;String,String&gt;()\nheaderMap[\"Authorization\"] = bearer\nwebView.loadUrl(link, headerMap)\n</code></pre>\n\n<p>You need to think, you are using a <code>HashMap</code> so, means it has a <code>Key</code> and a <code>Value</code>, <code>Key</code> is the <a href=\"https://www.ibm.com/support/knowledgecenter/en/SS6PEW_9.4.0/com.ibm.help.custom.restapis.doc/c_SpecifyingHTTPHeaders.html\" rel=\"nofollow noreferrer\"><code>Header name</code></a> and then the <code>Value</code> is the value of that <code>Header name</code> so in this case is :</p>\n\n<p>Header name --> <code>Authorization</code></p>\n\n<p>Header value --> <code>Bearer &lt;your_access_token&gt;</code></p>\n"}], "owner": {"reputation": 1404, "user_id": 9363441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d35c7fa72cae0a189c4fb090de3b87?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9363441/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1544, "favorite_count": 0, "accepted_answer_id": 56750718, "answer_count": 1, "score": 0, "last_activity_date": 1561454799, "creation_date": 1561453981, "last_edit_date": 1561454335, "question_id": 56750553, "link": "https://stackoverflow.com/questions/56750553/how-to-add-authorization-bearer-header-to-webview-android", "title": "How to add authorization bearer header to webview android?", "body": "<p>I have to send bearer at headers. I saw that I have to add hashMap with values:</p>\n\n<pre><code>val headerMap = HashMap&lt;String, String&gt;()\nheaderMap[\"Authorization: Bearer \"] = context!!.getSharedPreferences(\"app_data\", 0).getString(\"access_token\", \"\")!!\n</code></pre>\n\n<p>and then send data with url:</p>\n\n<pre><code>webView.loadUrl(link, headerMap)\n</code></pre>\n\n<p>but as a result I see that I send the wrong format of this token:</p>\n\n<pre><code>authorization=bearer :token\n</code></pre>\n\n<p>How I can fix it because with that token I can't get data from page?</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1561455250, "post_id": 56750407, "comment_id": 100059660, "body": "Is your extension defined in the companion object or in the class?"}, {"owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 0, "creation_date": 1561455769, "post_id": 56750407, "comment_id": 100059941, "body": "I edited to add the missing brace. If misplaced, please re-edit."}, {"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "reply_to_user": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "edited": false, "score": 1, "creation_date": 1561455818, "post_id": 56750407, "comment_id": 100059974, "body": "@Joffrey in companion object"}], "answers": [{"tags": [], "owner": {"reputation": 12218, "user_id": 1540818, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oZ1EX.jpg?s=128&g=1", "display_name": "Joffrey", "link": "https://stackoverflow.com/users/1540818/joffrey"}, "is_accepted": false, "score": 3, "last_activity_date": 1561457251, "last_edit_date": 1561457251, "creation_date": 1561455023, "answer_id": 56750879, "question_id": 56750407, "link": "https://stackoverflow.com/questions/56750407/extension-property-inside-class-unresolved-reference-errorresponse/56750879#56750879", "title": "Extension property inside class: Unresolved reference: errorResponse", "body": "<p>This is because the <code>errorResponse</code> extension is only available in the context of the companion object of <code>TransportService</code> when you define it there.</p>\n\n<p>If your extension function doesn't need the companion's properties or methods, there is no real reason to put the extension there. Don't be afraid of polluting the global scope. Technically, you're only defining this extension on your <code>Response</code> object.</p>\n\n<p>That being said, if you really need the companion object's context for your extension function (e.g. if the body of your extension property uses some methods or properties of the companion), you can manually provide the context on the usage site this way:</p>\n\n<pre><code>val errorResponse = with(TransportService.Companion) { response.errorResponse }\n</code></pre>\n\n<p>This is not limited to companion objects, you just need to provide an instance of the class that contains the extension to <code>with(instance)</code>.</p>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 895, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561457251, "creation_date": 1561453427, "last_edit_date": 1561455742, "question_id": 56750407, "link": "https://stackoverflow.com/questions/56750407/extension-property-inside-class-unresolved-reference-errorresponse", "title": "Extension property inside class: Unresolved reference: errorResponse", "body": "<p>In my android project:</p>\n\n<pre><code>// Extension Properties\nval Response&lt;*&gt;.errorResponse: ErrorResponse\n    get() = ErrorUtils.parseError(this)\n\nclass TransportService {\n    companion object {\n        private val SERVICE_UNAVAILABLE_CODE = 503\n        private val traderMonitorRestClient = RestClientFactory.createRestClient(TraderMonitorRestClient::class.java)\n        private val serviceUnavailableErrorResponse: Response&lt;*&gt;\n\n\n}\n</code></pre>\n\n<p>and here use extension property</p>\n\n<pre><code>class TradersViewModel(application: Application) : AndroidViewModel(application) {\n\n  val errorResponse = response.errorResponse\n\n}\n</code></pre>\n\n<p>nice it's work,</p>\n\n<p>But if I move <code>errorResponse</code> inside class:</p>\n\n<pre><code>class TransportService {\n    companion object {\n        private val SERVICE_UNAVAILABLE_CODE = 503\n        private val traderMonitorRestClient = RestClientFactory.createRestClient(TraderMonitorRestClient::class.java)\n        private val serviceUnavailableErrorResponse: Response&lt;*&gt;\n\n        private val TAG = TransportService::class.java.name\n\n        val Response&lt;*&gt;.errorResponse: ErrorResponse\n            get() = ErrorUtils.parseError(this)\n    }\n}\n</code></pre>\n\n<p>then I get compile error in use place:</p>\n\n<pre><code>val errorResponse = response.errorResponse\n</code></pre>\n\n<p>error: </p>\n\n<pre><code>Unresolved reference: errorResponse\n</code></pre>\n"}, {"tags": ["kotlin", "command-line", "micronaut"], "answers": [{"tags": [], "owner": {"reputation": 846, "user_id": 1631606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f465a8eb2a03e6832a95354bf6dc1577?s=128&d=identicon&r=PG", "display_name": "Iv&#225;n L&#243;pez", "link": "https://stackoverflow.com/users/1631606/iv%c3%a1n-l%c3%b3pez"}, "is_accepted": true, "score": 2, "last_activity_date": 1561454719, "creation_date": 1561454719, "answer_id": 56750785, "question_id": 56750268, "link": "https://stackoverflow.com/questions/56750268/kotlin-incompatible-when-creating-micronaut-command-line-applications/56750785#56750785", "title": "Kotlin incompatible when creating Micronaut command line applications", "body": "<p>For selecting the language (java, groovy or kotlin) it is better to use the <code>--lang</code> flag instead of <code>--features</code>.\nDoing:</p>\n\n<pre><code>$ mn create-cli-app mycli --lang=kotlin\n| Generating Kotlin project...\n| Application created at /tmp/mycli\n</code></pre>\n\n<p>Works as expected.</p>\n"}], "owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56750785, "answer_count": 1, "score": 0, "last_activity_date": 1561454719, "creation_date": 1561452958, "question_id": 56750268, "link": "https://stackoverflow.com/questions/56750268/kotlin-incompatible-when-creating-micronaut-command-line-applications", "title": "Kotlin incompatible when creating Micronaut command line applications", "body": "<p>Whenever I attempt to create a command line app with Micronaut and Kotlin using:</p>\n\n<p><code>mn create-cli-app cli2 --features kotlin</code></p>\n\n<p>I get the following warning:</p>\n\n<p><code>| Warning The following features are incompatible with other feature selections and have been removed from the project\n| kotlin</code></p>\n\n<p>The generated project has fallen back to Java, which is very graceful.</p>\n\n<p>Is this a \"bug\" or current expected behaviour?</p>\n"}, {"tags": ["kotlin", "enums"], "comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1562248689, "post_id": 56749752, "comment_id": 100325946, "body": "Also look at a discussion in Java: <a href=\"https://stackoverflow.com/questions/35650045/how-to-enable-enum-inheritance\" title=\"how to enable enum inheritance\">stackoverflow.com/questions/35650045/&hellip;</a>."}], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 11234746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24406e3aaf5f6bbbf9ddf010c211e3?s=128&d=identicon&r=PG&f=1", "display_name": "Noam Silverstein", "link": "https://stackoverflow.com/users/11234746/noam-silverstein"}, "edited": false, "score": 1, "creation_date": 1561535440, "post_id": 56750287, "comment_id": 100091414, "body": "does NfcError has INTERNET_ERROR, BLUETOOTH_ERROR &amp; TEMP_ERROR as well?"}, {"owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "reply_to_user": {"reputation": 459, "user_id": 11234746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24406e3aaf5f6bbbf9ddf010c211e3?s=128&d=identicon&r=PG&f=1", "display_name": "Noam Silverstein", "link": "https://stackoverflow.com/users/11234746/noam-silverstein"}, "edited": false, "score": 1, "creation_date": 1561539719, "post_id": 56750287, "comment_id": 100093723, "body": "No. To consumer it will look like values of a single enum but the provider has to access values through their specific enums."}], "tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": false, "score": 12, "last_activity_date": 1561453355, "last_edit_date": 1561453355, "creation_date": 1561453010, "answer_id": 56750287, "question_id": 56749752, "link": "https://stackoverflow.com/questions/56749752/how-to-extend-enums-in-kotlin/56750287#56750287", "title": "How to extend enums in Kotlin?", "body": "<p>You can extend an Enum. Kind of. But not with inheritance. Enums can <a href=\"https://kotlinlang.org/docs/reference/enum-classes.html#implementing-interfaces-in-enum-classes\" rel=\"noreferrer\">implement an interface</a>. That means to extend it you would simply add another enum implementing the same interface.</p>\n\n<p>Lets say you have an error. This error has an error code. Default error are implemented as DefaultError enum and can be extended by adding aditional enums implementing the Error interface.</p>\n\n<pre><code>interface Error {\n    fun code(): Int\n}\n\nenum class DefaultError(private val code: Int) : Error {\n    INTERNET_ERROR(1001),\n    BLUETOOTH_ERROR(1002),\n    TEMPERATURE_ERROR(1003);\n\n    override fun code(): Int {\n        return this.code\n    }\n}\n\nenum class NfcError(private val code: Int) : Error {\n    NFC_ERROR(2001);\n\n    override fun code(): Int {\n        return this.code\n    }\n}\n\nenum class KameraError(private val code: Int) : Error {\n    CAM_ERROR(3001);\n\n    override fun code(): Int {\n        return this.code\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 5945310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K7QhD.png?s=128&g=1", "display_name": "Khathuluu", "link": "https://stackoverflow.com/users/5945310/khathuluu"}, "is_accepted": false, "score": 1, "last_activity_date": 1561556624, "last_edit_date": 1561556624, "creation_date": 1561538793, "answer_id": 56768756, "question_id": 56749752, "link": "https://stackoverflow.com/questions/56749752/how-to-extend-enums-in-kotlin/56768756#56768756", "title": "How to extend enums in Kotlin?", "body": "<p>The simple answer is that you can't extend enums in Kotlin the way you would want to.</p>\n\n<p>I have to agree with Miha_x64's comment stating that inheritance is \"evil\" and should only be used when it legitimately makes sense (yes, there are still situations when inheritance is the way to go). I believe that instead of actually trying to work around the design of enums in Kotlin, why don't we design our solution differently? I mean: Why do you think you need such an enum hierarchy, to begin with? What's the benefit? Why not simply have some \"common errors\" instead and specific errors for whichever concrete area needs very specific errors? Why even use enums?</p>\n\n<p>If you are dead set on using enums, then Januson's solution might be your best bet, but do please use meaningful error codes because using \"1001\", \"1002\", \"233245\" is so 1980s and utterly horrible to read and work with. I find \"INTERNET_ERROR\" and \"BLUETOOTH_ERROR\", etc. just as cryptic... can we really not do any better and be more specific about what went wrong so that whoever reads the error code CAN actually understand what is wrong without needing to dig through the internet or through some hefty documentation for the next many minutes/hours? (except, of course, if there are some legitimate reasons why the code needs to be as small as possible - e.g. message size limitations, bandwidth limitations, etc.)</p>\n\n<p>In case you are not dead set on using enums, then you could consider the following:</p>\n\n<pre><code>data class ErrorCode(\n    val code: String,\n    val localeKey: String,\n    val defaultMessageTemplate: String\n)\n</code></pre>\n\n<pre><code>val TENANT_ACCESS_FORBIDDEN = ErrorCode(\n    \"TENANT_ACCESS_FORBIDDEN\",\n    \"CommonErrorCodes.TENANT_ACCESS_FORBIDDEN\",\n    \"Not enough permissions to access tenant ''{0}''.\"\n)\n</code></pre>\n\n<pre><code>val NO_INTERNET_CONNETION = ErrorCode(\n    \"NO_INTERNET_CONNETION\",\n    \"DeviceErrorCodes.NO_INTERNET_CONNETION\",\n    \"No internet connection.\"\n)\nval NO_BLUETOOTH_CONNECTION = ErrorCode(\n    \"NO_BLUETOOTH_CONNECTION\",\n    \"DeviceErrorCodes.NO_BLUETOOTH_CONNECTION\",\n    \"No bluetooth connection.\"\n)\nval TEMPERATURE_THRESHOLD_EXCEEDED = ErrorCode(\n    \"TEMPERATURE_THRESHOLD_EXCEEDED\",\n    \"DeviceErrorCodes.TEMPERATURE_THRESHOLD_EXCEEDED\",\n    \"Temperature ''{0}'' exceeds the maximum threshold value of ''{1}''.\"\n)\n</code></pre>\n\n<p>Because all the above codes, in essence, act as static constants, comparing against them is as easy as comparing enums (e.g.: <code>if (yourException.errorCode == NO_INTERNET_CONNECTION) { // do something }</code>).</p>\n\n<p>Inheritance is really not needed, what you really need is a clear separation between common and non-common error codes.</p>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1562251315, "post_id": 56771284, "comment_id": 100327288, "body": "Thanks! Sealed classes cannot be extended in other files, so their benefit is low."}], "tags": [], "owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "is_accepted": false, "score": 16, "last_activity_date": 1606992400, "last_edit_date": 1606992400, "creation_date": 1561546762, "answer_id": 56771284, "question_id": 56749752, "link": "https://stackoverflow.com/questions/56749752/how-to-extend-enums-in-kotlin/56771284#56771284", "title": "How to extend enums in Kotlin?", "body": "<p>There is more to the reason why enum inheritance is not supported than &quot;inheritance is evil&quot;. In fact, a very practical reason:</p>\n<pre><code>enum class BaseColor { BLUE, GREEN, RED }\n\nval x: BaseColor = ... // must be one of the 3 enums, right?\n// e.g. when {} can be done exhaustively with BLUE, GREEN, RED\n\nenum class DerivedColor : BaseColor { YELLOW }\n\nval y: BaseColor = ... // now, it can also be YELLOW\n// here, you lose the guarantee that it's a value in a limited set\n// and thus the main advantage of enums\n</code></pre>\n<hr />\n<p>There are multiple options to achieve what you like:</p>\n<p><strong>1. Different enums implement a common interface</strong></p>\n<p>I would refer you to <a href=\"https://stackoverflow.com/a/56750287/5427663\">this answer</a>.</p>\n<p>Interfaces are a very flexible solution and allow you to derive an unlimited number of enums. If this is what you need, go for it.</p>\n<p><strong>2. <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"noreferrer\">Sealed classes</a></strong></p>\n<p>In Kotlin, sealed classes are a generalization of enums, that allows you to retain state in each value. All derived classes of a sealed class must be known up-front and declared in the same file. The advantage compared to interfaces is that you can limit the sealed class to a fixed set of possible types. This allows you to omit the <code>else</code> branch in <code>when</code>, for example. The drawback is that it's not possible to add types outside the <code>sealed class</code> by design.</p>\n<p>Semantically, you have an enum of enums: the first level determines which <code>enum class</code> type is used, and the second level determines which enumerator (constant) inside that <code>enum class</code> is used.</p>\n<pre><code>enum class DefaultError { INTERNET_ERROR, BLUETOOTH_ERROR, TEMPERATURE_ERROR }\nenum class NfcError { NFC_ERROR }\nenum class CameraError { CAM_ERROR }\n\nsealed class Error {\n    data class Default(val error: DefaultError) : Error()\n    data class Nfc(val error: NfcError) : Error()\n    data class Camera(val error: CameraError) : Error()\n}\n\nfun test() {\n    // Note: you can use Error as the abstract base type\n    val e: Error = Error.Default(DefaultError.BLUETOOTH_ERROR)\n\n    val str: String = when (e) {\n        is Error.Default -&gt; e.error.toString()\n        is Error.Nfc -&gt; e.error.toString()\n        is Error.Camera -&gt; e.error.toString()\n        // no else!\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 11234746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c24406e3aaf5f6bbbf9ddf010c211e3?s=128&d=identicon&r=PG&f=1", "display_name": "Noam Silverstein", "link": "https://stackoverflow.com/users/11234746/noam-silverstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12586, "favorite_count": 2, "answer_count": 3, "score": 10, "last_activity_date": 1606992400, "creation_date": 1561451005, "question_id": 56749752, "link": "https://stackoverflow.com/questions/56749752/how-to-extend-enums-in-kotlin", "title": "How to extend enums in Kotlin?", "body": "<p>In my Kotlin project, I have a DefaultError enum</p>\n\n<pre><code>enum class DefaultError {\n    INTERNET_ERROR,\n    BLUETOOTH_ERROR,\n    TEMPERATURE_ERROR\n}\n</code></pre>\n\n<p>I would like to extend them so that I have </p>\n\n<pre><code>enum class NfcAndDefaultError : DefaultError {\n    //DefaultError inherited plus\n    NFC_ERROR\n}\n</code></pre>\n\n<p>and another enum </p>\n\n<pre><code>enum class KameraAndDefaultError : DefaultError {\n    //DefaultError inherited plus\n    CAM_ERROR\n}\n</code></pre>\n\n<p>Now, I have </p>\n\n<pre><code>enum class NfcDefaultError {\n    INTERNET_ERROR,\n    BLUETOOTH_ERROR,\n    TEMPERATURE_ERROR,\n    NFC_ERROR\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>enum class KameraAndDefaultError {\n    INTERNET_ERROR,\n    BLUETOOTH_ERROR,\n    TEMPERATURE_ERROR,,\n    CAM_ERROR\n}\n</code></pre>\n\n<p><strong>I bet Kotlin has a nice way there?</strong></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1561451607, "post_id": 56749821, "comment_id": 100057670, "body": "You&#39;re right. I guess you can&#39;t rely entirely on the copy/paste from Java to Kotlin. I pasted the Java version from a stackoverflow solution. Mind you, I like the shorter version better. There&#39;s also no need to add the question marks to indicate nullable."}], "tags": [], "owner": {"reputation": 4660, "user_id": 2797847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68581c16298dfecc62b2b0439573b18d?s=128&d=identicon&r=PG", "display_name": "minhazur", "link": "https://stackoverflow.com/users/2797847/minhazur"}, "is_accepted": true, "score": 1, "last_activity_date": 1561451279, "creation_date": 1561451279, "answer_id": 56749821, "question_id": 56749689, "link": "https://stackoverflow.com/questions/56749689/two-similar-code-constructs-but-one-does-not-work/56749821#56749821", "title": "Two similar code constructs but one does not work", "body": "<p>Change the second example with this</p>\n\n<pre><code>this.setOnEditorActionListener(object : TextView.OnEditorActionListener {\n      override fun onEditorAction(v: TextView?, actionId: Int, event: KeyEvent?): Boolean {\n             return true;\n      }\n })\n</code></pre>\n\n<p>Basically, you have wrong arguments type for v and event both <code>v</code> &amp; <code>event</code> are nullable.</p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1007, "favorite_count": 0, "accepted_answer_id": 56749821, "answer_count": 1, "score": 0, "last_activity_date": 1561451279, "creation_date": 1561450801, "question_id": 56749689, "link": "https://stackoverflow.com/questions/56749689/two-similar-code-constructs-but-one-does-not-work", "title": "Two similar code constructs but one does not work", "body": "<p>The following are two blocks of code that should essentially do the same thing. But the second one does not execute the onEditorAction while the first one does. What is it about the second one that is different that prevents it from executing the code? NOTE: Only one of these is present in the code and not both.</p>\n\n<pre><code>// This one works    \nthis.setOnEditorActionListener { v, actionId, event -&gt;\n        if(actionId == EditorInfo.IME_ACTION_SEARCH){\n            mOnRunSearchCallback()\n            true\n        } else {\n            false\n        }\n    }\n\n// This one does not work\n    this.setOnEditorActionListener(object : TextView.OnEditorActionListener {\n        override fun onEditorAction(v: TextView, actionId: Int, event: KeyEvent): Boolean {\n            if (actionId == EditorInfo.IME_ACTION_SEARCH) {\n                mOnRunSearchCallback()\n                return true\n            }\n            return false\n        }\n})\n</code></pre>\n"}, {"tags": ["android", "kotlin", "data-class"], "comments": [{"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1561450799, "post_id": 56749644, "comment_id": 100057240, "body": "You sure it&#39;s not just because you have a duplicate <code>myKey</code> property name?"}, {"owner": {"reputation": 327, "user_id": 6043117, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3f77569acff886e9b8fbc5fe65956e83?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/6043117/piyush"}, "reply_to_user": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1561450836, "post_id": 56749644, "comment_id": 100057262, "body": "Yes Sir I m sure.. I have applied different variable name too"}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1561450940, "post_id": 56749644, "comment_id": 100057320, "body": "When you are assinging it to <code>false</code> as <b>Default</b> why do u need null safety ?"}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1561450971, "post_id": 56749644, "comment_id": 100057341, "body": "Compiles fine for me. Are you getting a compilation error or a runtime error?"}, {"owner": {"reputation": 327, "user_id": 6043117, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3f77569acff886e9b8fbc5fe65956e83?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/6043117/piyush"}, "edited": false, "score": 0, "creation_date": 1561451081, "post_id": 56749644, "comment_id": 100057395, "body": "Compile time Sir. <i>Caused by: org.gradle.api.GradleException: Compilation error. See log for more details...   org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:compileDebugKotlin&#39;. \tat</i>"}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1561451438, "post_id": 56749644, "comment_id": 100057595, "body": "And have you? Checked the log for more details?"}, {"owner": {"reputation": 327, "user_id": 6043117, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3f77569acff886e9b8fbc5fe65956e83?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/6043117/piyush"}, "edited": false, "score": 0, "creation_date": 1561451506, "post_id": 56749644, "comment_id": 100057630, "body": "Sir <i>var isAllow: Any? = &quot;&quot;</i> is this right?"}, {"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1561452024, "post_id": 56749644, "comment_id": 100057883, "body": "Can you post your full data class please?"}], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 7339867, "user_type": "registered", "profile_image": "https://graph.facebook.com/1863062090606910/picture?type=large", "display_name": "Dio Lantief Widoyoko", "link": "https://stackoverflow.com/users/7339867/dio-lantief-widoyoko"}, "is_accepted": false, "score": -1, "last_activity_date": 1614330135, "creation_date": 1614330135, "answer_id": 66382888, "question_id": 56749644, "link": "https://stackoverflow.com/questions/56749644/any-data-type-not-working-in-data-class-kotlin/66382888#66382888", "title": "Any data type not working in data class kotlin", "body": "<p>try from</p>\n<pre><code>@SerializedName(&quot;myKey&quot;)\nval myKey: Boolean? = false\n</code></pre>\n<p>into</p>\n<pre><code>@SerializedName(&quot;myKey&quot;)\nval myKey: any? = false\n</code></pre>\n<p>example:</p>\n<pre><code>data class UserModel(\n\n    @SerializedName(&quot;Id&quot;)\n    val id: Int = 0,\n\n\n    @SerializedName(&quot;myKey&quot;)\n    val myKey: any? = false\n\n)\n</code></pre>\n<p>make sure to do some type check and cast when accessing the data class such as</p>\n<pre><code>val userModel = UserModel()\nwhen(userModel.myKey){\n    is Boolean -&gt; {\n        // do stuff when myKey type of Boolean\n        if(userModel.myKey) println(&quot;key is false&quot;)\n        else println(&quot;key is true&quot;)\n    }\n    is String -&gt; {\n        // do stuff when myKey type of String\n        println(userModel.myKey)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 6043117, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/3f77569acff886e9b8fbc5fe65956e83?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/6043117/piyush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1614330135, "creation_date": 1561450614, "question_id": 56749644, "link": "https://stackoverflow.com/questions/56749644/any-data-type-not-working-in-data-class-kotlin", "title": "Any data type not working in data class kotlin", "body": "<p>I just started to learn kotlin.</p>\n\n<p>This is my data class.</p>\n\n<pre><code>data class UserModel(\n\n    @SerializedName(\"Id\")\n    val id: Int = 0,\n\n    @SerializedName(\"myKey\")\n    val myKey: Boolean? = false\n    //var myKey: Any?\n</code></pre>\n\n<p>While I use simple as <code>val myKey: Boolean? = false</code> then my app is working and able to run . But when i use <code>var myKey: Any?</code> and run the app it give me compilation error. I have checked by commenting the code for every line. I found the issue occurs because of this <code>var myKey: Any?</code></p>\n\n<p>So kindly, if any one knows about this. Advanced help would be appreciated !</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 907, "user_id": 9670404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MTbaGXbTyis/AAAAAAAAAAI/AAAAAAAAABM/nFOb8sVRYTM/photo.jpg?sz=128", "display_name": "Hasan Kucuk", "link": "https://stackoverflow.com/users/9670404/hasan-kucuk"}, "edited": false, "score": 0, "creation_date": 1561719583, "post_id": 56749471, "comment_id": 100165371, "body": "i still cant find what i am looking for."}], "answers": [{"comments": [{"owner": {"reputation": 907, "user_id": 9670404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MTbaGXbTyis/AAAAAAAAAAI/AAAAAAAAABM/nFOb8sVRYTM/photo.jpg?sz=128", "display_name": "Hasan Kucuk", "link": "https://stackoverflow.com/users/9670404/hasan-kucuk"}, "edited": false, "score": 0, "creation_date": 1561450886, "post_id": 56749602, "comment_id": 100057281, "body": "binding.btnFive.setOnClickListener { MyLog.log(&quot;five&quot;) }         btnFour.setOnClickListener { MyLog.log(&quot;four&quot;) } Click the process what I can do.I want to do this with switch or when. Sounds like bad code writing individual setOnClickListener."}, {"owner": {"reputation": 1598, "user_id": 2078315, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/tjQiZ.png?s=128&g=1", "display_name": "Akarsh M", "link": "https://stackoverflow.com/users/2078315/akarsh-m"}, "reply_to_user": {"reputation": 907, "user_id": 9670404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MTbaGXbTyis/AAAAAAAAAAI/AAAAAAAAABM/nFOb8sVRYTM/photo.jpg?sz=128", "display_name": "Hasan Kucuk", "link": "https://stackoverflow.com/users/9670404/hasan-kucuk"}, "edited": false, "score": 0, "creation_date": 1561458422, "post_id": 56749602, "comment_id": 100061434, "body": "No need to declare setOnClickListener  for each, Just use onClick tag in XML."}], "tags": [], "owner": {"reputation": 1598, "user_id": 2078315, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/tjQiZ.png?s=128&g=1", "display_name": "Akarsh M", "link": "https://stackoverflow.com/users/2078315/akarsh-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1561450464, "creation_date": 1561450464, "answer_id": 56749602, "question_id": 56749471, "link": "https://stackoverflow.com/questions/56749471/how-to-use-data-binding-with-when-onclicklistener-in-kotlin/56749602#56749602", "title": "How to use data binding with &quot;when&quot; onClickListener in Kotlin", "body": "<p>Just same as without butterknife onClick code snippet</p>\n\n<hr>\n\n<p>android {\n    ...\n    dataBinding {\n        enabled = true\n    }\n}</p>\n\n<hr>\n\n<p>Only change </p>\n\n<h2>setContentView(layout_id) to  DataBindingUtil.setContentView(this, layout_id)</h2>\n\n<p>and in xml \n\nPut your xml  in this tag \n</p>\n\n<p><a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/data-binding</a></p>\n"}, {"comments": [{"owner": {"reputation": 907, "user_id": 9670404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MTbaGXbTyis/AAAAAAAAAAI/AAAAAAAAABM/nFOb8sVRYTM/photo.jpg?sz=128", "display_name": "Hasan Kucuk", "link": "https://stackoverflow.com/users/9670404/hasan-kucuk"}, "edited": false, "score": 0, "creation_date": 1561450905, "post_id": 56749611, "comment_id": 100057297, "body": "binding.btnFive.setOnClickListener { MyLog.log(&quot;five&quot;) } btnFour.setOnClickListener { MyLog.log(&quot;four&quot;) } Click the process what I can do. I want to do this with switch or when. Sounds like bad code writing individual setOnClickListener."}], "tags": [], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "is_accepted": false, "score": 2, "last_activity_date": 1561450486, "creation_date": 1561450486, "answer_id": 56749611, "question_id": 56749471, "link": "https://stackoverflow.com/questions/56749471/how-to-use-data-binding-with-when-onclicklistener-in-kotlin/56749611#56749611", "title": "How to use data binding with &quot;when&quot; onClickListener in Kotlin", "body": "<p>To get <code>View</code> id you have to call <code>binding.btn.id</code>. But data binding suggests to use <code>ViewModel</code> and and handling on click inside layout.xml</p>\n\n<pre><code>&lt;Button\n  .....\n  android:onClick=\"@{()-&gt; viewModel.btnClick()}\"\n  ..../&gt;\n</code></pre>\n\n<p>You can find explanation at <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">developer docs</a></p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 6760359, "user_type": "registered", "profile_image": "https://graph.facebook.com/1212458012150422/picture?type=large", "display_name": "Brijesh Lukhi", "link": "https://stackoverflow.com/users/6760359/brijesh-lukhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1561453940, "creation_date": 1561453940, "answer_id": 56750540, "question_id": 56749471, "link": "https://stackoverflow.com/questions/56749471/how-to-use-data-binding-with-when-onclicklistener-in-kotlin/56750540#56750540", "title": "How to use data binding with &quot;when&quot; onClickListener in Kotlin", "body": "<p>first at kotlin you don't need any assigning view from layout you can use direct id as view which setcontentview.</p>\n"}], "owner": {"reputation": 907, "user_id": 9670404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MTbaGXbTyis/AAAAAAAAAAI/AAAAAAAAABM/nFOb8sVRYTM/photo.jpg?sz=128", "display_name": "Hasan Kucuk", "link": "https://stackoverflow.com/users/9670404/hasan-kucuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1736, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1561453940, "creation_date": 1561449883, "last_edit_date": 1561451899, "question_id": 56749471, "link": "https://stackoverflow.com/questions/56749471/how-to-use-data-binding-with-when-onclicklistener-in-kotlin", "title": "How to use data binding with &quot;when&quot; onClickListener in Kotlin", "body": "<p>I use earlier ButterKnife library. This is how I used the click event on multiple objects.</p>\n\n<pre><code>@OnClick({ R.id.door1, R.id.door2, R.id.door3 })\npublic void pickDoor(DoorView door) {\n  if (door.hasPrizeBehind()) {\n    Toast.makeText(this, \"You win!\", LENGTH_SHORT).show();\n  } else {\n    Toast.makeText(this, \"Try again\", LENGTH_SHORT).show();\n  }\n}\n</code></pre>\n\n<p>Without ButterKnife;</p>\n\n<pre><code> override fun onClick(v: View?) {\n        when (v!!.id) {\n            R.id.tv -&gt; {\n                Toast.makeText(this, \"You are click textview\", Toast.LENGTH_SHORT).show()\n            }\n            R.id.btn -&gt; {\n                Toast.makeText(this, \"You are click button.\", Toast.LENGTH_SHORT).show()\n            }\n            else -&gt; {\n            }\n        }\n    }\n</code></pre>\n\n<p>Click the process what I can do. I want to do this with switch or when. Sounds like bad code writing individual setOnClickListener.</p>\n\n<pre><code>   binding.btnFive.setOnClickListener { MyLog.log(\"five\") }\n//or\n        btnFour.setOnClickListener { MyLog.log(\"four\") }\n</code></pre>\n\n<p>But i use now data binding. How do I do this with data binding?</p>\n\n<p>What I was looking for;</p>\n\n<pre><code>when(binding){ //of course, this doesn't work. exemplary.\nbtnFirst-&gt;{}\nbtnSecond-&gt;{}\n}\n</code></pre>\n\n<p>So I don't want to have to write <code>setOnClickListener{}</code> so consistently. How do I do this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 2, "creation_date": 1561450037, "post_id": 56749461, "comment_id": 100056882, "body": "You are missing a <code>setContentView</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 1, "creation_date": 1561450249, "post_id": 56749484, "comment_id": 100056992, "body": "If someone is downvoting, please add a reason :)"}, {"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 1, "creation_date": 1561450340, "post_id": 56749484, "comment_id": 100057031, "body": "This worked, this line of code:     setContentView(R.layout.folio_activity) was a bit below in the onCreate method. I just placed your code below it and it worked."}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1561455951, "post_id": 56749484, "comment_id": 100060057, "body": "@Skizo-oz\u1d09\u029eS reason for downvote : context has nothing to with his error. there is problem with <code>setContentView(R.layout.folio_activity)</code>and better use <code>Toast.LENGTH_LONG</code> without importing another package."}], "tags": [], "owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "is_accepted": true, "score": 0, "last_activity_date": 1561456263, "last_edit_date": 1561456263, "creation_date": 1561449924, "answer_id": 56749484, "question_id": 56749461, "link": "https://stackoverflow.com/questions/56749461/how-to-set-an-onclicklistener-to-a-button-in-kotlin/56749484#56749484", "title": "How to set an onClickListener to a button in kotlin", "body": "<p>That's because of the <code>this</code> here, you should do the <code>onClickListener</code> like this </p>\n\n<pre><code>buttonBookmarks.setOnClickListener({ v -&gt; \n  Toast.makeText(v.getContext(), \"Works\", Toast.LENGTH_LONG).show() \n})\n</code></pre>\n\n<p>Another alternative could be create a <code>var mContext : Context</code> and then assign it in <code>onCreate()</code> or something doing <code>mContext = this</code> then instead of <code>this</code> you can use <code>mContext</code> and it should work.</p>\n\n<p>Also this error </p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to start activity \n  ComponentInfo{com.folioreader.android.sample/com.folioreader.ui.activity.FolioActivity}:</p>\n</blockquote>\n\n<p>Says that your activity is not loaded correctly, do you have something like this? </p>\n\n<pre><code>class FolioActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.folio_activity) &lt;-- this one\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15987, "user_id": 4385913, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ijSum.png?s=128&g=1", "display_name": "Skizo-oz\u1d09\u029eS", "link": "https://stackoverflow.com/users/4385913/skizo-oz%e1%b4%89%ca%9es"}, "edited": false, "score": 0, "creation_date": 1561450408, "post_id": 56749553, "comment_id": 100057064, "body": "That&#39;s a good one too, but doesn&#39;t really answer the question it&#39;s like a &quot;tip&quot;, anyways well explained"}, {"owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "edited": false, "score": 0, "creation_date": 1561450596, "post_id": 56749553, "comment_id": 100057149, "body": "This works also, but doesn&#39;t really solve the problem. Going to take the tip and remove the findViewByID() method."}, {"owner": {"reputation": 2631, "user_id": 8342718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vm7um.jpg?s=128&g=1", "display_name": "Jasurbek", "link": "https://stackoverflow.com/users/8342718/jasurbek"}, "edited": false, "score": 0, "creation_date": 1561451633, "post_id": 56749553, "comment_id": 100057682, "body": "Post your activity_main.xml"}], "tags": [], "owner": {"reputation": 2631, "user_id": 8342718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vm7um.jpg?s=128&g=1", "display_name": "Jasurbek", "link": "https://stackoverflow.com/users/8342718/jasurbek"}, "is_accepted": false, "score": 3, "last_activity_date": 1561450454, "last_edit_date": 1561450454, "creation_date": 1561450284, "answer_id": 56749553, "question_id": 56749461, "link": "https://stackoverflow.com/questions/56749461/how-to-set-an-onclicklistener-to-a-button-in-kotlin/56749553#56749553", "title": "How to set an onClickListener to a button in kotlin", "body": "<p>In Kotlin you do not need <code>findViewById</code>.</p>\n\n<pre><code>btn_bookmarks.setOnClickListener {\n        Toast.makeText(this, \"Works\", LENGTH_LONG).show()\n    }\n</code></pre>\n\n<p>Should work fine by the help of <code>kotlin-synthetic</code> if still error then you should look the ID and make sure <strong>they are matched</strong>.</p>\n\n<p>Note: To use <code>kotlin-synthetic</code> you should apply plugins like following</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>For more info about extension visit <a href=\"https://medium.com/@temidjoy/findviewbyid-vs-android-kotlin-extensions-7db3c6cc1d0a\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1561455815, "post_id": 56749802, "comment_id": 100059972, "body": "isn&#39;t it possible if he removes var from findviewbyid ? and just provide ContentView layout name to his activity ?"}, {"owner": {"reputation": 532, "user_id": 5165107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759ba9b349d471a8f55e9a9fc5d42719?s=128&d=identicon&r=PG&f=1", "display_name": "CodeWithVikas", "link": "https://stackoverflow.com/users/5165107/codewithvikas"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1561467462, "post_id": 56749802, "comment_id": 100066771, "body": "yes you can remove var and directly call setOnClickListener on findViewById&lt;Button&gt;(R.id.btn_bookmarks)"}], "tags": [], "owner": {"reputation": 532, "user_id": 5165107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759ba9b349d471a8f55e9a9fc5d42719?s=128&d=identicon&r=PG&f=1", "display_name": "CodeWithVikas", "link": "https://stackoverflow.com/users/5165107/codewithvikas"}, "is_accepted": false, "score": 0, "last_activity_date": 1561456890, "last_edit_date": 1561456890, "creation_date": 1561451221, "answer_id": 56749802, "question_id": 56749461, "link": "https://stackoverflow.com/questions/56749461/how-to-set-an-onclicklistener-to-a-button-in-kotlin/56749802#56749802", "title": "How to set an onClickListener to a button in kotlin", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        private var buttonBookmarks: Button? = null\n\n        //these two are in onCreate\n        var buttonBookmarks = findViewById&lt;Button&gt;(R.id.btn_bookmarks)\n\n        buttonBookmarks.setOnClickListener {\n            Toast.makeText(this, \"Works\", LENGTH_LONG).show()\n        }\n    }\n}\n</code></pre>\n\n<p>I just tried your code. It works perfectly. Your syntax seems correct, By seeing your Error </p>\n\n<p><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference</code> </p>\n\n<p>only thing is your <code>buttonBookmarks</code> is null reason may be you are either missing the button in your activity's XML file or you are referencing the wrong element.</p>\n\n<ul>\n<li>Comment <code>private var buttonBookmarks: Button? = null</code> too.\nHope It helps \nThanks</li>\n</ul>\n"}], "owner": {"reputation": 511, "user_id": 11370733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9a9886742b5cb7c335e3e846040545?s=128&d=identicon&r=PG&f=1", "display_name": "Vasko Vasilev", "link": "https://stackoverflow.com/users/11370733/vasko-vasilev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5103, "favorite_count": 0, "closed_date": 1561455711, "accepted_answer_id": 56749484, "answer_count": 3, "score": 1, "last_activity_date": 1561456890, "creation_date": 1561449823, "last_edit_date": 1561450791, "question_id": 56749461, "link": "https://stackoverflow.com/questions/56749461/how-to-set-an-onclicklistener-to-a-button-in-kotlin", "closed_reason": "Duplicate", "title": "How to set an onClickListener to a button in kotlin", "body": "<p>I am working on a android studio project which is a hybrid of kotlin and java. I am trying to set an onClickListener to a button, however I keep running into compile time errors like the following:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity \nComponentInfo{com.folioreader.android.sample/com.folioreader.ui.activity.FolioActivity}:\n\njava.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code> private var buttonBookmarks: Button? = null\n\n //these two are in onCreate\n var buttonBookmarks = findViewById&lt;Button&gt;(R.id.btn_bookmarks)\n\n buttonBookmarks.setOnClickListener {\n        Toast.makeText(this, \"Works\", LENGTH_LONG).show()\n    }\n</code></pre>\n\n<p>I know that this is an easy question, however, I did not have any experience with Kotlin before starting to work on this so I find it a bit confusing. Some online solutions I have tried did not work so I am asking the question here. What is wrong with my code?</p>\n"}, {"tags": ["kotlin", "webview", "android-webview"], "answers": [{"tags": [], "owner": {"reputation": 1736, "user_id": 4403871, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/590b56e9b5cbb9289d54f0af3f3c9d12?s=128&d=identicon&r=PG&f=1", "display_name": "S.P.", "link": "https://stackoverflow.com/users/4403871/s-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1561453321, "creation_date": 1561453321, "answer_id": 56750382, "question_id": 56749444, "link": "https://stackoverflow.com/questions/56749444/how-to-take-a-snapshot-of-webview-with-kotlin/56750382#56750382", "title": "How to take a snapshot of webview with Kotlin", "body": "<p>I've found the solution....</p>\n\n<p>Inside of onPageFinished in your WebViewClient put this method and create the snapshot of the website</p>\n\n<pre><code>private fun getPreviewWebview(view: WebView): Bitmap{\n        val bitmap = Bitmap.createBitmap(view.width, 1500, Bitmap.Config.ARGB_8888)\n        val canvas = Canvas(bitmap)\n        view.draw(canvas)\n\n        return bitmap\n    }\n</code></pre>\n"}], "owner": {"reputation": 1736, "user_id": 4403871, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/590b56e9b5cbb9289d54f0af3f3c9d12?s=128&d=identicon&r=PG&f=1", "display_name": "S.P.", "link": "https://stackoverflow.com/users/4403871/s-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561805186, "creation_date": 1561449745, "last_edit_date": 1561805186, "question_id": 56749444, "link": "https://stackoverflow.com/questions/56749444/how-to-take-a-snapshot-of-webview-with-kotlin", "title": "How to take a snapshot of webview with Kotlin", "body": "<p>I have a webview in Kotlin and is working fine. That I want to achieve is can get a snapshop (preview image) of the website that you are loading. I've search and I only find some deprecated examples in Java code. Someone can point me how to do this in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "service"], "owner": {"reputation": 176, "user_id": 3003519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7899edd853af572ee37edadc3a87ffd4?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay Patole", "link": "https://stackoverflow.com/users/3003519/vijay-patole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1561446852, "creation_date": 1561446852, "question_id": 56748666, "link": "https://stackoverflow.com/questions/56748666/receiving-ontaskremoved-callback-two-time-in-android-service", "title": "Receiving onTaskRemoved() callback two time in Android Service", "body": "<p>I have created a START_NOT_STICKY Service while the app is running in foreground/background. When I kill the application from the recent list for the first time I am getting the callback only once and from onTaskRemoved(rootIntent: Intent?) callback, I am calling stopSelf(). </p>\n\n<p>After that when I am relaunching the app the Service is restarted but again when remove/kill the application from the recent apps I am receiving the onTaskRemoved(rootIntent: Intent?) twice. Could anybody help me understand how this is possible?</p>\n\n<pre><code>2019-06-25 12:38:49.840 E/BluetoothService: onTaskRemoved\n2019-06-25 12:38:49.845 E/BluetoothService: onTaskRemoved\n2019-06-25 12:38:49.852 I/BluetoothService: Service onDestroy\n</code></pre>\n"}, {"tags": ["android", "kotlin", "navigation", "fragment", "navigationcontroller"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1561883655, "post_id": 56748636, "comment_id": 100199610, "body": "Are you sure you have <code>A</code> in your stack, when you navigate to it? Your configuration is correctly setup and works as you want it to."}, {"owner": {"reputation": 871, "user_id": 1884196, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UGVia.png?s=128&g=1", "display_name": "Fung LAM", "link": "https://stackoverflow.com/users/1884196/fung-lam"}, "edited": false, "score": 0, "creation_date": 1562221833, "post_id": 56748636, "comment_id": 100311517, "body": "I understand what you want to do. But you should implement &quot;Up&quot; navigation, not &quot;Back&quot; in this case. User should be expecting back as back, not back as up."}], "answers": [{"comments": [{"owner": {"reputation": 346, "user_id": 14016240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VjuEu.jpg?s=128&g=1", "display_name": "Sychi Singh", "link": "https://stackoverflow.com/users/14016240/sychi-singh"}, "edited": false, "score": 0, "creation_date": 1614619154, "post_id": 56826966, "comment_id": 117434108, "body": "not working val action = CheckoutFragmentDirections.actionCheckoutFragmentToProductFr&zwnj;&#8203;agment()         findNavController().navigate(action)"}], "tags": [], "owner": {"reputation": 480, "user_id": 9844561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee645d27b14ef237c0daad0ecfc7a3dc?s=128&d=identicon&r=PG&f=1", "display_name": "Alex H", "link": "https://stackoverflow.com/users/9844561/alex-h"}, "is_accepted": true, "score": 9, "last_activity_date": 1561917859, "creation_date": 1561917859, "answer_id": 56826966, "question_id": 56748636, "link": "https://stackoverflow.com/questions/56748636/kill-fragment-in-navigation-controller/56826966#56826966", "title": "Kill fragment in navigation controller", "body": "<p>Why not pop up to fragment A? You could just call <code>findNavController().popBackStack(R.id.fragmentA, false)</code> instead of navigating with an action. </p>\n"}, {"tags": [], "owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "is_accepted": false, "score": 0, "last_activity_date": 1562104755, "creation_date": 1562104755, "answer_id": 56860526, "question_id": 56748636, "link": "https://stackoverflow.com/questions/56748636/kill-fragment-in-navigation-controller/56860526#56860526", "title": "Kill fragment in navigation controller", "body": "<p>try to look at my complete solution with removing/killing fragment from backstack. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/51856988/navigation-component-set-transition-animation-programmatically\">Navigation Component set transition animation programmatically</a></p>\n"}, {"tags": [], "owner": {"reputation": 871, "user_id": 1884196, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/UGVia.png?s=128&g=1", "display_name": "Fung LAM", "link": "https://stackoverflow.com/users/1884196/fung-lam"}, "is_accepted": false, "score": 0, "last_activity_date": 1562221981, "creation_date": 1562221981, "answer_id": 56881871, "question_id": 56748636, "link": "https://stackoverflow.com/questions/56748636/kill-fragment-in-navigation-controller/56881871#56881871", "title": "Kill fragment in navigation controller", "body": "<p>You can override the back button behavior to do this.\n<a href=\"https://developer.android.com/guide/navigation/navigation-custom-back\" rel=\"nofollow noreferrer\">Provide custom back navigation</a></p>\n"}, {"tags": [], "owner": {"reputation": 346, "user_id": 14016240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VjuEu.jpg?s=128&g=1", "display_name": "Sychi Singh", "link": "https://stackoverflow.com/users/14016240/sychi-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1614620833, "creation_date": 1614620833, "answer_id": 66427033, "question_id": 56748636, "link": "https://stackoverflow.com/questions/56748636/kill-fragment-in-navigation-controller/66427033#66427033", "title": "Kill fragment in navigation controller", "body": "<p>Add this inside nav_graph inside action tag</p>\n<pre><code>app:popUpTo=&quot;@id/homeFragment&quot;\n</code></pre>\n<p>See: <a href=\"https://stackoverflow.com/questions/66426685/not-able-to-destroy-fragment-from-nav-controller-in-android/66427020#66427020\">Not able to destroy fragment from Nav Controller in Android</a></p>\n"}], "owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1910, "favorite_count": 3, "accepted_answer_id": 56826966, "answer_count": 4, "score": 4, "last_activity_date": 1614620833, "creation_date": 1561446752, "question_id": 56748636, "link": "https://stackoverflow.com/questions/56748636/kill-fragment-in-navigation-controller", "title": "Kill fragment in navigation controller", "body": "<p>My flow of fragment is like this</p>\n\n<pre><code>Main -&gt; A -&gt; B -&gt; C -&gt;A\n</code></pre>\n\n<p>In fragment c, it has a submit button which will return to A. \nWhen I press back button in A, I want it back to Main. But it return to fragment c instead.</p>\n\n<p>In fragment C, I use this</p>\n\n<pre><code> findNavController().navigate(R.id.action_c_to_a)\n</code></pre>\n\n<p><strong>nav_graph.xml</strong></p>\n\n<pre><code> &lt;fragment\n        android:id=\"@+id/fragmentC\"\n        android:name=\"xxx\"\n        android:label=\"xxx\"&gt;\n        &lt;action\n            app:launchSingleTop=\"true\"\n            app:popUpTo=\"@+id/fragmentA\"\n            app:popUpToInclusive=\"true\"\n            android:id=\"@+id/action_c_to_a\"\n            app:destination=\"@id/fragmentA\" /&gt;\n    &lt;/fragment&gt;\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin", "corda"], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 2646142, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84616244abcfd2acfdfba84ceb12e3ee?s=128&d=identicon&r=PG", "display_name": "florian", "link": "https://stackoverflow.com/users/2646142/florian"}, "is_accepted": true, "score": 1, "last_activity_date": 1561460038, "creation_date": 1561460038, "answer_id": 56752430, "question_id": 56748183, "link": "https://stackoverflow.com/questions/56748183/re-establishing-an-rpc-connection-in-spring/56752430#56752430", "title": "Re-establishing an RPC connection in spring", "body": "<p>This is discussed to some degree in the <a href=\"https://docs.corda.net/clientrpc.html#reconnecting-rpc-clients\" rel=\"nofollow noreferrer\">Reconnecting RPC Clients</a> section of the docs on interacting with a node. </p>\n\n<blockquote>\n  <p>In the current version of Corda the RPC connection and all the\n  observervables that are created by a client will just throw exceptions\n  and die when the node or TCP connection become unavailable.</p>\n  \n  <p>It is the client\u2019s responsibility to handle these errors and reconnect\n  once the node is running again. Running RPC commands against a stopped\n  node will just throw exceptions. Previously created Observables will\n  not emit any events after the node restarts. The client must\n  explicitly re-run the command and re-subscribe to receive more events.</p>\n  \n  <p>RPCs which have a side effect, such as starting flows, may have\n  executed on the node even if the return value is not received by the\n  client. The only way to confirm is to perform a business-level query\n  and retry accordingly. The sample runFlowWithLogicalRetry helps with\n  this.</p>\n  \n  <p>In case users require such a functionality to write a resilient RPC\n  client we have a sample that showcases how this can be implemented and\n  also a thorough test that demonstrates it works as expected.</p>\n</blockquote>\n\n<p>There is currently a dead link to <code>ReconnectingCordaRPCOPs</code> which has been moved <a href=\"https://github.com/corda/corda/blob/master/client/rpc/src/main/kotlin/net/corda/client/rpc/internal/ReconnectingCordaRPCOps.kt\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 79, "user_id": 1502114, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7f3782ee31be835b919addac8d14ebb4?s=128&d=identicon&r=PG", "display_name": "Pranav kirtani", "link": "https://stackoverflow.com/users/1502114/pranav-kirtani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 56752430, "answer_count": 1, "score": 1, "last_activity_date": 1561460038, "creation_date": 1561444913, "question_id": 56748183, "link": "https://stackoverflow.com/questions/56748183/re-establishing-an-rpc-connection-in-spring", "title": "Re-establishing an RPC connection in spring", "body": "<p>I am running a spring server which connects to a corda node via RPC , currently I am initializing the connection when we initialize the server. what is the best practice in terms of being able to reconnect to rpc if rpc node goes down ? do I just poll and check if the rpc is diconnected?</p>\n"}, {"tags": ["android", "inheritance", "kotlin", "extension-methods", "dependency-properties"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1561445033, "post_id": 56748176, "comment_id": 100054468, "body": "Your issue can be resolved by providing getter method to your variable like : <code>val Any.classTag: String     get() {         return this::class.java.simpleName     }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 2077907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xs5Kf.jpg?s=128&g=1", "display_name": "Jian Astrero", "link": "https://stackoverflow.com/users/2077907/jian-astrero"}, "is_accepted": false, "score": 3, "last_activity_date": 1561445350, "creation_date": 1561445350, "answer_id": 56748286, "question_id": 56748176, "link": "https://stackoverflow.com/questions/56748176/how-to-declare-an-extension-val-for-any-type-in-kotlin/56748286#56748286", "title": "How to declare an extension val for Any type in Kotlin", "body": "<p>You are creating an extension property as if it's a function. The right way to create an extension property is to define the properties' get and set methods. here is what you should've done:</p>\n\n<pre><code>val Any.classTag: String\n    get() = this::class.java.simpleName\n</code></pre>\n\n<p><a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjQwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsImpzQ29kZSI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiLyoqXG4gKiBZb3UgY2FuIGVkaXQsIHJ1biwgYW5kIHNoYXJlIHRoaXMgY29kZS4gXG4gKiBwbGF5LmtvdGxpbmxhbmcub3JnIFxuICovXG5cbmZ1biBtYWluKCkge1xuICAgIHZhbCB4ID0gMTAwZlxuICAgIHByaW50bG4oeC5jbGFzc1RhZylcbn1cblxudmFsIEFueS5jbGFzc1RhZzogU3RyaW5nXG4gZ2V0KCkgPSB0aGlzOjpjbGFzcy5qYXZhLnNpbXBsZU5hbWUifQ==\" rel=\"nofollow noreferrer\">Kotlin Playground Example</a></p>\n"}, {"comments": [{"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1561446255, "post_id": 56748313, "comment_id": 100055045, "body": "So what are difference between <code>val Any.classTag: String get() = this::class.java.simpleName</code> and <code>val Any.classTag: String get() { return  this::class.java.simpleName}</code>?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 1, "creation_date": 1561446764, "post_id": 56748313, "comment_id": 100055286, "body": "Actually there&#39;s none. The assignment expression for functions is just a shorthand. So even shorter: <code>val Any.classTag get() = this::class.java.simpleName</code>. You could even skip the return type then."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 3, "last_activity_date": 1561445463, "creation_date": 1561445463, "answer_id": 56748313, "question_id": 56748176, "link": "https://stackoverflow.com/questions/56748176/how-to-declare-an-extension-val-for-any-type-in-kotlin/56748313#56748313", "title": "How to declare an extension val for Any type in Kotlin", "body": "<p>You'll have several errors in this one line:</p>\n\n<pre><code>Error:(1, 0) Extension property must have accessors or be abstract\nError:(1, 23) Property getter or setter expected\nError:(1, 24) Expecting a top level declaration\nError:(1, 25) Function declaration must have a name\nError:(1, 34) 'this' is not defined in this context\n</code></pre>\n\n<p>This is, because you didn't declare the accessors properly:</p>\n\n<pre><code>val Any.classTag: String get() { return this::class.java.simpleName }\n</code></pre>\n\n<p>You only need to add the <code>get()</code> accessor just before your block.</p>\n"}, {"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 2, "last_activity_date": 1561445629, "creation_date": 1561445629, "answer_id": 56748366, "question_id": 56748176, "link": "https://stackoverflow.com/questions/56748176/how-to-declare-an-extension-val-for-any-type-in-kotlin/56748366#56748366", "title": "How to declare an extension val for Any type in Kotlin", "body": "<blockquote>\n  <p>According to <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-properties\" rel=\"nofollow noreferrer\">Kotlin Docs</a>, Initializers are not allowed for\n  extension properties.</p>\n</blockquote>\n\n<p>So, only way to provide value to extension property is by explicitly providing <strong>getters/setters</strong>.</p>\n\n<p>In your case, it should be like below :</p>\n\n<pre><code>val Any.classTag: String \n    get() { \n        return this::class.java.simpleName\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": false, "score": 1, "last_activity_date": 1561446102, "creation_date": 1561446102, "answer_id": 56748476, "question_id": 56748176, "link": "https://stackoverflow.com/questions/56748176/how-to-declare-an-extension-val-for-any-type-in-kotlin/56748476#56748476", "title": "How to declare an extension val for Any type in Kotlin", "body": "<p>Check this<a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-properties\" rel=\"nofollow noreferrer\">Extension Properties</a></p>\n\n<blockquote>\n  <p>Note that, since extensions do not actually insert members into classes, there's no efficient way for an extension property to have a backing field. This is why initializers are not allowed for extension properties. Their behavior can only be defined by explicitly providing getters/setters.</p>\n</blockquote>\n\n<pre><code>val Any.classTag: String  get() = this::class.java.simpleName\n</code></pre>\n"}], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "accepted_answer_id": 56748313, "answer_count": 4, "score": 0, "last_activity_date": 1561446102, "creation_date": 1561444860, "last_edit_date": 1561445456, "question_id": 56748176, "link": "https://stackoverflow.com/questions/56748176/how-to-declare-an-extension-val-for-any-type-in-kotlin", "title": "How to declare an extension val for Any type in Kotlin", "body": "<p>As I know type <code>Any</code> in <code>Kotlin</code> is similar to <code>Object</code> in <code>java</code> which by default is implemented by any class we declare. I want to extend the class name into a new <code>val</code> <code>classTag</code>. Thus,</p>\n\n<p>When I extend a function it works fine,</p>\n\n<pre><code>fun Any.getClassTag(): String { return this::class.java.simpleName }\n</code></pre>\n\n<p>But I found compilers error in case when I extend a <code>val</code> type. </p>\n\n<pre><code>val Any.classTag: String { return this::class.java.simpleName }\n</code></pre>\n\n<blockquote>\n  <p>Function declaration must have a name</p>\n</blockquote>\n\n<p>How to deal with that?</p>\n"}, {"tags": ["android", "kotlin", "android-bluetooth"], "comments": [{"owner": {"reputation": 95, "user_id": 1845021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e43a81f6d8196a9979b0638ff76b84d?s=128&d=identicon&r=PG", "display_name": "javisilox", "link": "https://stackoverflow.com/users/1845021/javisilox"}, "edited": false, "score": 0, "creation_date": 1576495094, "post_id": 56748171, "comment_id": 104905697, "body": "hi, did you find any solution?"}, {"owner": {"reputation": 135, "user_id": 2984019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJ3uG.jpg?s=128&g=1", "display_name": "maiklahoz", "link": "https://stackoverflow.com/users/2984019/maiklahoz"}, "edited": false, "score": 0, "creation_date": 1579600992, "post_id": 56748171, "comment_id": 105811443, "body": "Has someone got a solution for this?? I have seen that the &quot;m.invoke(device, (Object[]) null) &quot;returns false but I can&#39;t figure out how to unpair devices with Xiaomi."}, {"owner": {"reputation": 516, "user_id": 2046324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8dc0f002ccc977c0e3e39455c86f9bf?s=128&d=identicon&r=PG", "display_name": "Vishal Sharma", "link": "https://stackoverflow.com/users/2046324/vishal-sharma"}, "edited": false, "score": 1, "creation_date": 1579665905, "post_id": 56748171, "comment_id": 105837986, "body": "Got to know one more thing about Xiaomi devices, unpair is only working with this method if earlier, both pairing and unpairing is done using the same application.(First pair and then upair)"}], "owner": {"reputation": 516, "user_id": 2046324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8dc0f002ccc977c0e3e39455c86f9bf?s=128&d=identicon&r=PG", "display_name": "Vishal Sharma", "link": "https://stackoverflow.com/users/2046324/vishal-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 615, "favorite_count": 3, "answer_count": 0, "score": 6, "last_activity_date": 1561451323, "creation_date": 1561444848, "last_edit_date": 1561451323, "question_id": 56748171, "link": "https://stackoverflow.com/questions/56748171/unpairing-paired-bluetooth-device-using-reflection-and-calling-removebond-meth", "title": "Unpairing paired Bluetooth Device using reflection and calling &quot;removeBond&quot; method not working", "body": "<p>I am using removeBond method from BluetoothDevice class to unpair the device since a long time. But in most of the xiaomi devices, this is not working.</p>\n\n<p>Check below code I am using:</p>\n\n<pre><code>            Set&lt;BluetoothDevice&gt; devices = mBluetoothAdapter.getBondedDevices();\n        for (BluetoothDevice device : devices) {\n            Log.i(\"DeletePairedDeviceByNm\", \"Found Device:\" +\n                    device.getName() + \", Looking for:\" + BDName + \"\\n\");\n             if ((device.getName().trim().equals(BDName.trim()))) {\n\n                Method m = device.getClass().getMethod(\"removeBond\", (Class[]) null);\n\n                Object value=m.invoke(device, (Object[]) null);\n                if((boolean)value){\n                    numberPairedDevicesDeleted++;\n                }\n            }\n      }\n</code></pre>\n\n<p>And as per my knowledge, this is the only method available to \"unpair\" connected device.</p>\n\n<p>Is there something else that can be used? Please provide me with some valuable feedback.</p>\n\n<p>Thanks in advance!</p>\n\n<p>Some tested devices are:</p>\n\n<ul>\n<li>Xiaomi Mi Mix 3 </li>\n<li>Xiaomi Redmi Note 7</li>\n<li>Xiaomi Redmi 6A</li>\n<li>Xiaomi Mi Max 2</li>\n</ul>\n"}, {"tags": ["android", "file", "kotlin"], "comments": [{"owner": {"reputation": 1025, "user_id": 2979171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pz0rp.jpg?s=128&g=1", "display_name": "lvl4fi4", "link": "https://stackoverflow.com/users/2979171/lvl4fi4"}, "edited": false, "score": 0, "creation_date": 1561442052, "post_id": 56747618, "comment_id": 100053299, "body": "dos it through Exception ? did you put permission in manifest?"}, {"owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "reply_to_user": {"reputation": 1025, "user_id": 2979171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pz0rp.jpg?s=128&g=1", "display_name": "lvl4fi4", "link": "https://stackoverflow.com/users/2979171/lvl4fi4"}, "edited": false, "score": 0, "creation_date": 1561442079, "post_id": 56747618, "comment_id": 100053307, "body": "i added permission in manifest too ."}, {"owner": {"reputation": 1025, "user_id": 2979171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pz0rp.jpg?s=128&g=1", "display_name": "lvl4fi4", "link": "https://stackoverflow.com/users/2979171/lvl4fi4"}, "edited": false, "score": 0, "creation_date": 1561442104, "post_id": 56747618, "comment_id": 100053318, "body": "what about Exceptions?"}, {"owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "reply_to_user": {"reputation": 1025, "user_id": 2979171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pz0rp.jpg?s=128&g=1", "display_name": "lvl4fi4", "link": "https://stackoverflow.com/users/2979171/lvl4fi4"}, "edited": false, "score": 0, "creation_date": 1561442166, "post_id": 56747618, "comment_id": 100053333, "body": "there are no exception and files creates but it converts as 0B"}, {"owner": {"reputation": 1025, "user_id": 2979171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pz0rp.jpg?s=128&g=1", "display_name": "lvl4fi4", "link": "https://stackoverflow.com/users/2979171/lvl4fi4"}, "edited": false, "score": 0, "creation_date": 1561442237, "post_id": 56747618, "comment_id": 100053363, "body": "where <code>imageByteArray</code> come from? did you check this byte array? dos it have data in it?"}, {"owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "reply_to_user": {"reputation": 1025, "user_id": 2979171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pz0rp.jpg?s=128&g=1", "display_name": "lvl4fi4", "link": "https://stackoverflow.com/users/2979171/lvl4fi4"}, "edited": false, "score": 0, "creation_date": 1561442399, "post_id": 56747618, "comment_id": 100053424, "body": "imageByteArray came from webservice and it have data , using it i can load image in imageview too"}], "answers": [{"tags": [], "owner": {"reputation": 1025, "user_id": 2979171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/pz0rp.jpg?s=128&g=1", "display_name": "lvl4fi4", "link": "https://stackoverflow.com/users/2979171/lvl4fi4"}, "is_accepted": true, "score": 0, "last_activity_date": 1561442660, "creation_date": 1561442660, "answer_id": 56747740, "question_id": 56747618, "link": "https://stackoverflow.com/questions/56747618/when-try-to-write-bytearray-into-file-it-converts-0b-png-file-cant-get-valid/56747740#56747740", "title": "when try to write byteArray into file it converts 0B png file , can&#39;t get valid file", "body": "<p>I'm using following code to save avatar of user in <code>sdcard</code>.\nyou can change the code to suit your needs:</p>\n\n<pre><code> public static String copyToAppDirectory(Context c, Uri uri, String personID) throws IOException {\n\n    File src = new File(uri.getPath());\n    File mediaStorageDir = new File(Environment.getExternalStorageDirectory(), BaseConst.AppDir);\n    mediaStorageDir = new File(mediaStorageDir, BaseConst.ImageFolder);\n\n    File dst = new File(mediaStorageDir, personID + \".JPG\");\n    if (!mediaStorageDir.exists()) {\n        if (!mediaStorageDir.mkdirs()) {\n            throw new IOException(\"Cannot create Directory!\");\n        }\n    }\n    InputStream in;\n    try {\n        in = c.getContentResolver().openInputStream(uri);\n    } catch (Exception ex) {\n        in = new FileInputStream(src);\n    }\n\n    try {\n        OutputStream out = new FileOutputStream(dst);\n        try {\n            byte[] buf = new byte[1024];\n            int len;\n            while ((len = in.read(buf)) &gt; 0) {\n                out.write(buf, 0, len);\n            }\n        } finally {\n            out.close();\n        }\n    } finally {\n        in.close();\n    }\n    return dst.getPath();\n}\n</code></pre>\n\n<p>I hope it helps you </p>\n"}], "owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "accepted_answer_id": 56747740, "answer_count": 1, "score": 1, "last_activity_date": 1561442660, "creation_date": 1561441960, "question_id": 56747618, "link": "https://stackoverflow.com/questions/56747618/when-try-to-write-bytearray-into-file-it-converts-0b-png-file-cant-get-valid", "title": "when try to write byteArray into file it converts 0B png file , can&#39;t get valid file", "body": "<blockquote>\n  <p>val downloadDir = File(\n                  Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES),\n                  getString(R.string.app_name)\n              )</p>\n\n<pre><code>        if (!downloadDir.isDirectory) {\n            //Creates directory named by this file\n            downloadDir.mkdirs()\n        }\n\n        val file = File(downloadDir, fileName)\n\n        try {\n            val ostream = FileOutputStream(file)\n            ostream.write(imageByteArray)\n            ostream.flush()\n            ostream.close() }\n</code></pre>\n</blockquote>\n"}, {"tags": ["java", "android", "android-layout", "kotlin", "android-alertdialog"], "comments": [{"owner": {"reputation": 2054, "user_id": 8867002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6vVST.png?s=128&g=1", "display_name": "Jyoti JK", "link": "https://stackoverflow.com/users/8867002/jyoti-jk"}, "edited": false, "score": 0, "creation_date": 1561442355, "post_id": 56747440, "comment_id": 100053406, "body": "use listener(OnCancelListener) for dialog. On cancel, hide navigationbar."}], "answers": [{"comments": [{"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1561441777, "post_id": 56747565, "comment_id": 100053213, "body": "I want to show status bar(transparent) and hide the control bar."}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1561441872, "post_id": 56747565, "comment_id": 100053246, "body": "this code hides status bar and control bar. Change UI flags to only hide control bar and you will have what you want."}, {"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1561441996, "post_id": 56747565, "comment_id": 100053283, "body": "Where can I get <code>DisplayUtil</code>?"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1561442102, "post_id": 56747565, "comment_id": 100053315, "body": "please read whole answer or just use your code that hides control bar instead DisplayUtil.hideStatusBar(activity)"}, {"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1561442192, "post_id": 56747565, "comment_id": 100053343, "body": "No, I don&#39;t have <code>DisplayUtil</code> class. Do I have to use some extra library? What is it?"}, {"owner": {"reputation": 2463, "user_id": 5773044, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/c01ee1c1b1d6a3f7baafe54c92ce1e18?s=128&d=identicon&r=PG&f=1", "display_name": "Anupam", "link": "https://stackoverflow.com/users/5773044/anupam"}, "edited": false, "score": 0, "creation_date": 1561442311, "post_id": 56747565, "comment_id": 100053388, "body": "Use the above answer and let me know if it works fine."}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "edited": false, "score": 1, "creation_date": 1561442391, "post_id": 56747565, "comment_id": 100053419, "body": "I updated the answer to be more clear what is DisplayUtil"}, {"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1561443041, "post_id": 56747565, "comment_id": 100053643, "body": "It works better and cleaner but not perfectly. When a dialog pops up, the control bar shows up for a second(while dialog is shown). If there&#39;s better solution, it&#39;d be great."}], "tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": false, "score": 1, "last_activity_date": 1561442327, "last_edit_date": 1561442327, "creation_date": 1561441605, "answer_id": 56747565, "question_id": 56747440, "link": "https://stackoverflow.com/questions/56747440/how-to-keep-the-bottom-control-bar-being-hid-always-even-after-dialog-shows-up/56747565#56747565", "title": "How to keep the bottom control bar being hid always, even after dialog shows up and closes?", "body": "<p>I only managed to achieve it on all APIs and devices using <code>SystemUiVisibilityChangeListener</code> when listening ui changes and applying flags again. Here is example code in Kotlin:</p>\n\n<pre><code>fun hideStatusBar() {\n        DisplayUtil.hideStatusBar(activity)\n        activity?.window?.decorView?.setOnSystemUiVisibilityChangeListener { visibility -&gt;\n            if (visibility and View.SYSTEM_UI_FLAG_FULLSCREEN == 0) {\n                DisplayUtil.hideStatusBar(activity)\n            }\n        }\n    }\n</code></pre>\n\n<p>and  <code>DisplayUtil.hideStatusBar(activity)</code> :</p>\n\n<pre><code>object DisplayUtil {\n fun hideStatusBar(activity: Activity?) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n                activity?.window?.decorView?.systemUiVisibility = (\n                        View.SYSTEM_UI_FLAG_IMMERSIVE\n                                or View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                                or View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                                or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                                or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                                or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                                or View.SYSTEM_UI_FLAG_FULLSCREEN)\n            } else {\n                activity?.window?.decorView?.systemUiVisibility = (\n                        View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                                or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                                or View.SYSTEM_UI_FLAG_FULLSCREEN)\n            }\n        }\n}\n\n</code></pre>\n\n<p>Also don't forget to remove listener when it is not needed.</p>\n"}, {"tags": [], "owner": {"reputation": 737, "user_id": 10715642, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QRLDtnm1-IE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ipSlUb1x7ARbIjnOaLC_Y9VX2jNQ/mo/photo.jpg?sz=128", "display_name": "Damon Baker", "link": "https://stackoverflow.com/users/10715642/damon-baker"}, "is_accepted": false, "score": 0, "last_activity_date": 1561444192, "creation_date": 1561444192, "answer_id": 56748040, "question_id": 56747440, "link": "https://stackoverflow.com/questions/56747440/how-to-keep-the-bottom-control-bar-being-hid-always-even-after-dialog-shows-up/56748040#56748040", "title": "How to keep the bottom control bar being hid always, even after dialog shows up and closes?", "body": "<p>To maintain immersive mode, you need to set <code>FLAG_NOT_FOCUSABLE</code> to the dialog's layout params before you show it. However this will also prevent the user from interacting with the dialog so you need to clear this flag after you call <code>show()</code>.</p>\n\n<pre><code>private fun showMyDialog() {\n        noticeUrlDialog = Dialog(this)\n        noticeUrlDialog!!.setContentView(R.layout.dialog_my)\n\n        val btnClose = myDialog!!.btn_close\n\n        btnX.setOnClickListener {\n            myDialog!!.dismiss()\n            setDefaultUi(null)\n        }\n\n        myDialog.window?.setFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE, WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE)\n        myDialog!!.show()\n        myDialog!!.window?.clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE)\n\n        setDefaultUi(myDialog)\n    }\n</code></pre>\n"}], "owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561444192, "creation_date": 1561440988, "question_id": 56747440, "link": "https://stackoverflow.com/questions/56747440/how-to-keep-the-bottom-control-bar-being-hid-always-even-after-dialog-shows-up", "title": "How to keep the bottom control bar being hid always, even after dialog shows up and closes?", "body": "<p>What I implemented is like this.</p>\n\n<p>I set it in the activity.</p>\n\n<pre><code>window.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN)\n</code></pre>\n\n<p>Status bar should not be hid, but just control bar.</p>\n\n<p>And then when I open a dialog and dismiss it I call this method below:</p>\n\n<pre><code>    private fun setDefaultUi(dialog: Dialog?) {\n        var decorView: View? = null\n        if (dialog == null) {\n            decorView = this.window.decorView\n        } else {\n            decorView = dialog!!.window.decorView\n        }\n        decorView.systemUiVisibility = (\n                View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR\n                        or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION // hide nav bar\n                        or View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY // hide status bar and nav bar after a short delay, or if the user interacts with the middle of the screen\n                )\n    }\n</code></pre>\n\n<p>something Like this:</p>\n\n<pre><code>    private fun showMyDialog() {\n        noticeUrlDialog = Dialog(this)\n        noticeUrlDialog!!.setContentView(R.layout.dialog_my)\n\n        val btnClose = myDialog!!.btn_close\n\n        btnX.setOnClickListener {\n            myDialog!!.dismiss()\n            setDefaultUi(null)\n        }\n        myDialog!!.show()\n        setDefaultUi(myDialog)\n    }\n</code></pre>\n\n<p>In this way, I can hide the bottom control bar which comes up after a dialog pops up and closes.</p>\n\n<p>But I don't think it is a proper way. I need to call the method many times And also, the control bar is shown for a second before <code>setDefaultUi()</code>. So, I'd like to know if there's better way?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1561440601, "post_id": 56747283, "comment_id": 100052860, "body": "@Raghunandan can you please post an answer for that,"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1561440678, "post_id": 56747283, "comment_id": 100052889, "body": "Not able to figure out where you want to put <b>else condition</b>? inside <b>takeIf</b> block or after that operation?"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1561440756, "post_id": 56747283, "comment_id": 100052906, "body": "@JeelVankhede I want to convert the old if else to the new kotlin type <code>takeif</code>, i have posted my condition above"}], "answers": [{"comments": [{"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1561441903, "post_id": 56747338, "comment_id": 100053260, "body": "i was not able to add braces after ?: which causes mismatch unit/boolean"}, {"owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1561455791, "post_id": 56747338, "comment_id": 100059956, "body": "Well this is the only disadvantage.. You&#39;d have to wrap it in a function..."}], "tags": [], "owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "is_accepted": false, "score": 9, "last_activity_date": 1561440835, "last_edit_date": 1561440835, "creation_date": 1561440431, "answer_id": 56747338, "question_id": 56747283, "link": "https://stackoverflow.com/questions/56747283/how-to-add-else-condition-to-takeif-in-kotlin/56747338#56747338", "title": "How to add else condition to takeIf in kotlin?", "body": "<p>You can add an Elvis Operator..</p>\n\n<pre><code>storesList?.takeIf { it.isNotEmpty() }?.apply {\n    //it.isNotEmpty() is true\n} ?: //it.isNotEmpty() is false\n</code></pre>\n\n<p>So if <code>it.isNotEmpty()</code> is true, <code>takeIf</code> returns a non-null value and the apply block will be called.</p>\n\n<p>If false, the expression is null and the elvis operator will execute the expression behind it. The elvis operator is a bit like <code>if (expression before == null)</code> -> execute statement after elvis operator.</p>\n\n<p>For more information, have a look at the docs: <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator</a></p>\n"}, {"tags": [], "owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "is_accepted": false, "score": 4, "last_activity_date": 1561447663, "last_edit_date": 1561447663, "creation_date": 1561441019, "answer_id": 56747451, "question_id": 56747283, "link": "https://stackoverflow.com/questions/56747283/how-to-add-else-condition-to-takeif-in-kotlin/56747451#56747451", "title": "How to add else condition to takeIf in kotlin?", "body": "<blockquote>\n  <p>Use Elvis Operator</p>\n</blockquote>\n\n<p>eg.)   <code>a ?: b // here if</code>a<code>is not null value =a else value=</code>b </p>\n\n<p>in your case - </p>\n\n<pre><code>storesList?.takeIf { it.isNotEmpty() }?.apply {\n    //it.isNotEmpty() is true\n} ?: run{} //`else condition goes here`\n</code></pre>\n\n<p>for more check here - <a href=\"https://en.wikipedia.org/wiki/Elvis_operator\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Elvis_operator</a></p>\n"}, {"comments": [{"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1561441628, "post_id": 56747528, "comment_id": 100053163, "body": "?: // Else condition here when i add braces here, i&#39;m getting mismatch unit/boolean"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 1, "creation_date": 1561441724, "post_id": 56747528, "comment_id": 100053199, "body": "You can put <code>run { }</code> block there."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1561447938, "post_id": 56747528, "comment_id": 100055827, "body": "The null-coalescing operator (<a href=\"https://en.wikipedia.org/wiki/Null_coalescing_operator\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Null_coalescing_operator</a>) in Kotlin is <code>?:</code>, not <code>?.</code>."}], "tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": true, "score": 10, "last_activity_date": 1561448561, "last_edit_date": 1561448561, "creation_date": 1561441408, "answer_id": 56747528, "question_id": 56747283, "link": "https://stackoverflow.com/questions/56747283/how-to-add-else-condition-to-takeif-in-kotlin/56747528#56747528", "title": "How to add else condition to takeIf in kotlin?", "body": "<p>In Kotlin way, you can use <strong>safe call operator</strong> ('<strong>?</strong>') to do stuffs on nullable objects without crash or even making it inside <code>if (obj!=null)</code> block.</p>\n\n<p>So, some object like</p>\n\n<pre><code>if (someObj != null )\n    someObj.someOperation() //just doing some operation\n</code></pre>\n\n<p>is the same thing by calling like : <code>someObj?.someOperation()</code>.</p>\n\n<hr>\n\n<p>So, if you want to check emptiness of list without <strong>if-else condition</strong>, you can use like below <em>(Which you've already done)</em>.</p>\n\n<pre><code>storesList?.takeIf { it.isNotEmpty() }?.apply { \n    // Provides you list if not empty\n}\n</code></pre>\n\n<p>But what about else condition here?</p>\n\n<p>For that, you can use <strong>elvis operator</strong> to satisfy condition. What this operator do is if left hand-side of operation is null or doesn't satisfy specific condition then take right hand-side of operand.</p>\n\n<p>So, final code should look like:</p>\n\n<pre><code>storesList?.takeIf { it.isNotEmpty() }?.apply { \n// Provides you list if not empty\n} ?: run {\n// Else condition here\n}\n</code></pre>\n\n<p>Explanation: if <code>storesList</code> is <strong>empty or null</strong> it goes to else part <em>(that is after elvis)</em> otherwise goes to <strong>apply block</strong>.</p>\n"}], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3693, "favorite_count": 0, "accepted_answer_id": 56747528, "answer_count": 3, "score": 9, "last_activity_date": 1561448561, "creation_date": 1561440114, "question_id": 56747283, "link": "https://stackoverflow.com/questions/56747283/how-to-add-else-condition-to-takeif-in-kotlin", "title": "How to add else condition to takeIf in kotlin?", "body": "<p>I know that for checking </p>\n\n<pre><code> if(storesList!=null &amp;&amp; storesList.isNotEmpty()){\n    // do this \n    } else {\n  //else do this\n    }\n</code></pre>\n\n<p>we can write like this,</p>\n\n<pre><code>storesList?.takeIf { it.isNotEmpty() }.apply {//do this\n  }\n</code></pre>\n\n<p>How can i add an else condition to this, I'm not taking about <code>takeUnless</code></p>\n"}]