[{"tags": ["android", "android-intent", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1470843770, "post_id": 38877952, "comment_id": 65117216, "body": "this is a problem with your build. Please post your gradle.build"}, {"owner": {"reputation": 1411, "user_id": 3825816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JXMz.png?s=128&g=1", "display_name": "Yvgen", "link": "https://stackoverflow.com/users/3825816/yvgen"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1470865425, "post_id": 38877952, "comment_id": 65128925, "body": "@voddan so can you please provide link to answer in SO I can&#39;t find it. Thanks in advance!"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1470900171, "post_id": 38877952, "comment_id": 65139624, "body": "now I realised the answer I was thinking about was out of date. Sorry for misleading"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1470900302, "post_id": 38877952, "comment_id": 65139702, "body": "Your build looks fine to me, but that exception usually appears when Gradle plugins are misconfigured"}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 3, "last_activity_date": 1470900616, "creation_date": 1470900616, "answer_id": 38890004, "question_id": 38877952, "link": "https://stackoverflow.com/questions/38877952/start-kotlin-activity-kt-from-java-activity-java/38890004#38890004", "title": "Start kotlin activity *.kt from java activity *.java?", "body": "<p>There is no real difference between classes produced by Java and Kotlin. If your code is statically resolved by Android Studio (as it should), then it must run unless Gradle is misconfigured.</p>\n"}, {"tags": [], "owner": {"reputation": 1411, "user_id": 3825816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JXMz.png?s=128&g=1", "display_name": "Yvgen", "link": "https://stackoverflow.com/users/3825816/yvgen"}, "is_accepted": true, "score": 6, "last_activity_date": 1487063896, "creation_date": 1487063896, "answer_id": 42222103, "question_id": 38877952, "link": "https://stackoverflow.com/questions/38877952/start-kotlin-activity-kt-from-java-activity-java/42222103#42222103", "title": "Start kotlin activity *.kt from java activity *.java?", "body": "<p>File -> Invalidate Caches/ restart...</p>\n"}, {"tags": [], "owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "is_accepted": false, "score": 6, "last_activity_date": 1523502502, "creation_date": 1523502502, "answer_id": 49787345, "question_id": 38877952, "link": "https://stackoverflow.com/questions/38877952/start-kotlin-activity-kt-from-java-activity-java/49787345#49787345", "title": "Start kotlin activity *.kt from java activity *.java?", "body": "<p>In my case, I forgot to add </p>\n\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n</code></pre>\n\n<p>and </p>\n\n<pre><code>apply plugin: 'kotlin-android'\n...\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n</code></pre>\n\n<p>to <code>build.gradle</code></p>\n\n<p><strong>Example</strong></p>\n\n<p>project <code>build.gradle</code></p>\n\n<pre><code>...\nbuildscript {\n  ext.kotlin_version = '1.1.51'\n  dependencies {\n    classpath 'com.android.tools.build:gradle:3.0.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    ...\n  }\n}\n\nallprojects {\n  repositories {\n    jcenter()\n    google()\n  }\n}\n</code></pre>\n\n<p>app build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n...\n\ndependencies {\n  ...\n  compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1626, "user_id": 753827, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MnL1O.jpg?s=128&g=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/753827/dominik"}, "is_accepted": false, "score": 3, "last_activity_date": 1560954577, "creation_date": 1560954577, "answer_id": 56670128, "question_id": 38877952, "link": "https://stackoverflow.com/questions/38877952/start-kotlin-activity-kt-from-java-activity-java/56670128#56670128", "title": "Start kotlin activity *.kt from java activity *.java?", "body": "<p>You just do it like \"normally\" in Java:</p>\n\n<pre><code>Intent intent = new Intent(getActivity(), KotlinActivity.class);\nstartActivity(intent);\n</code></pre>\n\n<p>Just don't forget to add Kotlin to your project fist (in the gradle files). Otherwise it won't work.</p>\n"}], "owner": {"reputation": 1411, "user_id": 3825816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1JXMz.png?s=128&g=1", "display_name": "Yvgen", "link": "https://stackoverflow.com/users/3825816/yvgen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7305, "favorite_count": 1, "accepted_answer_id": 42222103, "answer_count": 4, "score": 13, "last_activity_date": 1560954577, "creation_date": 1470843528, "last_edit_date": 1470901335, "question_id": 38877952, "link": "https://stackoverflow.com/questions/38877952/start-kotlin-activity-kt-from-java-activity-java", "title": "Start kotlin activity *.kt from java activity *.java?", "body": "<p><strong><em>Invalidate Caches/ restart... helps me!</em></strong></p>\n\n<p>My code in java class is:<br></p>\n\n<pre><code>Intent intent = new Intent(view.getActivity(), AddPaymentActivity.class);\nview.getActivity().startActivity(intent);\n</code></pre>\n\n<p>AddPaymentActivity has kotlin extention <code>.kt</code><br>\nGot error <strong>java.lang.NoClassDefFoundError</strong><br><br></p>\n"}, {"tags": ["android", "null", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1470841875, "post_id": 38868625, "comment_id": 65115833, "body": "You don&#39;t show the stack trace, maybe it is another method further up the chain when something calls back to Kotlin which then checks the parameter nullability."}], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1470841916, "post_id": 38868626, "comment_id": 65115865, "body": "Kotlin likely would catch it if the error was where the question assumes it is.  The full stack trace likely shows the error happening elsewhere, maybe a callback to Kotlin which has a non nullable variable of same name?"}], "tags": [], "owner": {"reputation": 12789, "user_id": 2670547, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000614350937/picture?type=large", "display_name": "Petr Syrov", "link": "https://stackoverflow.com/users/2670547/petr-syrov"}, "is_accepted": false, "score": 1, "last_activity_date": 1470819419, "creation_date": 1470819419, "answer_id": 38868626, "question_id": 38868625, "link": "https://stackoverflow.com/questions/38868625/checkparameterisnotnull-error-in-login-activity-sample/38868626#38868626", "title": "checkParameterIsNotNull error in Login Activity sample", "body": "<p>The answer is pretty simple, just replace <code>null</code> to empty <code>Bundle()</code>:</p>\n\n<pre><code>loaderManager.initLoader(0, Bundle(), this)\n</code></pre>\n\n<p>But I can't understand why kotlin doesn't catch this on-the-fly.</p>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 3, "last_activity_date": 1477311077, "last_edit_date": 1477311077, "creation_date": 1470841072, "answer_id": 38876987, "question_id": 38868625, "link": "https://stackoverflow.com/questions/38868625/checkparameterisnotnull-error-in-login-activity-sample/38876987#38876987", "title": "checkParameterIsNotNull error in Login Activity sample", "body": "<p>As <a href=\"https://developer.android.com/reference/android/app/LoaderManager.html#initLoader(int,%20android.os.Bundle,%20android.app.LoaderManager.LoaderCallbacks%3CD%3E)\" rel=\"nofollow\"><code>LoaderManager.initLoader(int, Bundle, LoaderManager.LoaderCallbacks)</code></a> is Java code, Kotlin views its parameters as <code>Int, Bundle!, LoaderManager.LoaderCallbacks&lt;D!&gt;!)</code>. Those exclamation marks are Kotlin's <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#notation-for-platform-types\" rel=\"nofollow\">notation for platform types</a>. <code>Bundle!</code> means \"<code>Bundle</code> or <code>Bundle?</code>\". i.e. It is Kotlin's way of stating that it doesn't know whether a parameter is non-null or nullable.</p>\n\n<p>Android has Java <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#nullability-annotations\" rel=\"nofollow\">nullability annotations</a> (namely <a href=\"https://developer.android.com/reference/android/support/annotation/NonNull.html\" rel=\"nofollow\"><code>@NonNull</code></a> and <a href=\"https://developer.android.com/reference/android/support/annotation/Nullable.html\" rel=\"nofollow\"><code>@Nullable</code></a>) that can be used to specify this for compilers, etc. to leverage but they have not been used here. If they were, Kotlin would infer that type is either <code>Bundle</code> or <code>Bundle?</code> depending on which annotation is present.</p>\n\n<p>Android's documentation for <code>args: Bundle!</code> states that it is optional, i.e. <code>args: Bundle?</code> (but the Kotlin compiler cannot infer this because it is lacking a <code>@NonNull</code> annotation).\nIf you inspect the full stack trace of the thrown exception I suspect you will find a Kotlin function that receives <code>args: Bundle</code> but should receive <code>args: Bundle?</code>.</p>\n\n<p>i.e. If you have something like</p>\n\n<pre><code>override fun onCreateLoader(id: Int, args: Bundle): Loader&lt;Cursor&gt; = TODO()\n</code></pre>\n\n<p>then it should instead be</p>\n\n<pre><code>override fun onCreateLoader(id: Int, args: Bundle?): Loader&lt;Cursor&gt; = TODO()\n</code></pre>\n\n<p>because the Kotlin compiler inserts a not-null check for the former but not the latter.</p>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow\">Null-Safety and Platform Types - Calling Java from Kotlin - Kotlin Programming Language</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 7102750, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aq4CC96_Fj0/AAAAAAAAAAI/AAAAAAAAAAA/wTdP8VPSoSI/photo.jpg?sz=128", "display_name": "DemoJameson", "link": "https://stackoverflow.com/users/7102750/demojameson"}, "is_accepted": false, "score": 0, "last_activity_date": 1495266696, "creation_date": 1495266696, "answer_id": 44083320, "question_id": 38868625, "link": "https://stackoverflow.com/questions/38868625/checkparameterisnotnull-error-in-login-activity-sample/44083320#44083320", "title": "checkParameterIsNotNull error in Login Activity sample", "body": "<p>The exact answer is modify the onCreateLoader function</p>\n\n<p><code>override fun onCreateLoader(i: Int, bundle: Bundle?): Loader&lt;Cursor&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 1954, "user_id": 1593067, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/40966cb83fd16515a4d60863b9fb17b1?s=128&d=identicon&r=PG", "display_name": "Beto Caldas", "link": "https://stackoverflow.com/users/1593067/beto-caldas"}, "is_accepted": false, "score": 0, "last_activity_date": 1498784675, "creation_date": 1498784675, "answer_id": 44837122, "question_id": 38868625, "link": "https://stackoverflow.com/questions/38868625/checkparameterisnotnull-error-in-login-activity-sample/44837122#44837122", "title": "checkParameterIsNotNull error in Login Activity sample", "body": "<pre><code>loaderManager.initLoader(0,myBundle ?: Bundle(),this)\n</code></pre>\n\n<p>If <strong>myBundle</strong> is null <em>loadermanager</em> will use Bundle()</p>\n"}], "owner": {"reputation": 12789, "user_id": 2670547, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000614350937/picture?type=large", "display_name": "Petr Syrov", "link": "https://stackoverflow.com/users/2670547/petr-syrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2276, "favorite_count": 0, "accepted_answer_id": 38876987, "answer_count": 4, "score": 0, "last_activity_date": 1498784675, "creation_date": 1470819419, "question_id": 38868625, "link": "https://stackoverflow.com/questions/38868625/checkparameterisnotnull-error-in-login-activity-sample", "title": "checkParameterIsNotNull error in Login Activity sample", "body": "<p>I'm trying to start kotlin with a standard sample in Android Studio. First of all I create new project with Login Activity template, then convert it to use kotlin. But I have <strong>runtime</strong> (not compile) error in this string:</p>\n\n<pre><code>loaderManager.initLoader(0, null, this)\n</code></pre>\n\n<p>Error listing:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter bundle\n</code></pre>\n"}, {"tags": ["generics", "inline", "kotlin", "reification"], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1470773703, "post_id": 38859036, "comment_id": 65083382, "body": "<code>as T</code> can be applied to the whole <code>when</code> at the very end of <code>uninitialized </code>"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 8, "last_activity_date": 1470771253, "creation_date": 1470771253, "answer_id": 38859036, "question_id": 38858672, "link": "https://stackoverflow.com/questions/38858672/kotlin-reified-type-parameter-doesnt-smart-cast/38859036#38859036", "title": "Kotlin reified type parameter doesn&#39;t smart cast", "body": "<p>A smart cast is applied to a specific object after you use <code>is</code> to check its type or compare it with <code>null</code>. In your example, there is no specific object for which you check the type, and nothing to apply the smart cast to.</p>\n\n<p>However, you can apply manual casts to <code>T</code>, which will work as expected. Here's a working version of your sample function, updated to handle the peculiarities of Kotlin's reflection library which will be fixed in 1.1:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; uninitialized(): T = when (T::class.java) {\n  Long::class.javaPrimitiveType, Long::class.javaObjectType -&gt; -1L as T      \n  String::class.java -&gt; \"\" as T\n  // and so on...\n  else -&gt; throw UnsupportedOperationException(\"No uninitialized value defined for \" + T::class)\n}\n\ndata class Thing(\n    var id: Long = uninitialized(),\n    var name: String = uninitialized() // and so on...\n)\n\nfun main(args: Array&lt;String&gt;) {\n    val t = Thing()\n    println(t.id)\n}\n</code></pre>\n"}], "owner": {"reputation": 1085, "user_id": 189211, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d0dba6c11ce7c2959325de7ede8e351e?s=128&d=identicon&r=PG", "display_name": "Jason Dunkelberger", "link": "https://stackoverflow.com/users/189211/jason-dunkelberger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1317, "favorite_count": 0, "accepted_answer_id": 38859036, "answer_count": 1, "score": 9, "last_activity_date": 1470771253, "creation_date": 1470769815, "question_id": 38858672, "link": "https://stackoverflow.com/questions/38858672/kotlin-reified-type-parameter-doesnt-smart-cast", "title": "Kotlin reified type parameter doesn&#39;t smart cast", "body": "<p>I was experimenting with setting <em>uninitialized</em> values and was trying to get the following to work. This is mostly a curiosity in the power (and limitations) of reified generics.</p>\n\n<p>I was attempting to provide default values for optional parameters of data classes.</p>\n\n<pre><code>inline fun &lt;reified T&gt; uninitialized(): T = when (T::class) {\n  Long::class -&gt; -1L // Type mismatch. Required: T  Found: Long\n  String::class -&gt; \"\" // Type mismatch. Required: T  Found: String\n  // and so on...\n  else -&gt; throw UnsupportedOperationException(\"No uninitialized value defined for \" + T::class)\n}\n\ndata class Thing(\n    var id: Long = uninitialized(),\n    var name: String = uninitialized() // and so on...\n)\n</code></pre>\n\n<p>When <code>when</code> includes <code>is Type</code> clauses, Kotlin has <em>smart casting</em>. In this example, smart casting isn't kicking in so this will not compile.</p>\n\n<p>Any ideas to accomplish something similar?</p>\n"}, {"tags": ["oop", "inheritance", "lambda", "abstract", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1470764999, "post_id": 38853860, "comment_id": 65078887, "body": "in fact, the code looks much cleaner and less puzzling ;)"}, {"owner": {"reputation": 5494, "user_id": 342947, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a737f13056e480e90f1b8bb943bc3cb1?s=128&d=identicon&r=PG", "display_name": "Fabian Zeindl", "link": "https://stackoverflow.com/users/342947/fabian-zeindl"}, "edited": false, "score": 0, "creation_date": 1470813687, "post_id": 38853860, "comment_id": 65096218, "body": "I&#39;ll accept this answer, but I hoped to get more information about OOP and refactorization instead of practical (documentation &amp; performance) issues\u2026"}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 3, "last_activity_date": 1470753669, "creation_date": 1470753669, "answer_id": 38853860, "question_id": 38846255, "link": "https://stackoverflow.com/questions/38846255/abstract-class-vs-lambda-parameters/38853860#38853860", "title": "Abstract Class vs. Lambda parameters", "body": "<ol>\n<li>In your example, each instance of <code>OrderListScreen</code> will create its own <code>filterators</code> instance of function type <code>(T) -&gt; Set&lt;String&gt;</code>. This has additional run-time overhead in both memory and performance when compared with abstract functions and their overrides which are stored in the type definition at compile-time.</li>\n<li><p>The default filterators can be stored in a property to reduce this run-time overhead:</p>\n\n<pre><code>class OrderListScreen : AbstractListScreen&lt;Data&gt;(data = setOf(),\n                                                 filterators = defaultFilterators\n) {\n    companion object {\n        val defaultFilterators: (Data) -&gt; Set&lt;String&gt; = { setOf(it.toString()) }\n    }\n\n    fun someEvent() {\n        /* ...*/\n    }\n}\n</code></pre>\n\n<p>However, each instance of <code>OrderListScreen</code> will still have its own reference to <code>defaultFilterators</code> which is still additional run-time overhead (although marginal unless you have many instances of these types).</p></li>\n<li><p><a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-types\" rel=\"nofollow\">Function types</a> such as <code>(T) -&gt; Set&lt;String&gt;</code> may have named parameters (e.g. <code>(element: T) -&gt; Set&lt;String&gt;</code>) but currently IDEs such as IntelliJ IDEA do not use those named parameters in generated documentation or code stubs so such information is lost when subclassing, etc. IDEs do use named parameters in generated documentation and code stubs for abstract functions.</p></li>\n<li><p>You cannot (currently) associate documentation directly with the function type parameter which you can do with abstract functions.</p></li>\n</ol>\n\n<p>When attempting to account for the run-time overhead the code doesn't look much different when using abstract functions, the run-time overhead is eliminated, and current IDE support for generated code stubs, documentation, etc. is improved:</p>\n\n<pre><code>abstract class AbstractListScreen&lt;T&gt;(val data: Set&lt;T&gt;) {\n    abstract fun filterators(element: T): Set&lt;String&gt;\n\n    fun open() {\n        /* ... */\n    }\n}\n\nclass OrderListScreen : AbstractListScreen&lt;Data&gt;(data = setOf()) {\n    override fun filterators(element: Data): Set&lt;String&gt; = setOf(element.toString())\n\n    fun someEvent() {\n        /* ...*/\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5494, "user_id": 342947, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a737f13056e480e90f1b8bb943bc3cb1?s=128&d=identicon&r=PG", "display_name": "Fabian Zeindl", "link": "https://stackoverflow.com/users/342947/fabian-zeindl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 38853860, "answer_count": 1, "score": 1, "last_activity_date": 1470753669, "creation_date": 1470733029, "last_edit_date": 1470738771, "question_id": 38846255, "link": "https://stackoverflow.com/questions/38846255/abstract-class-vs-lambda-parameters", "title": "Abstract Class vs. Lambda parameters", "body": "<p>Since kotlin has such good support for lambdas, I started to use lambdas as constructor parameters for <code>abstract</code> classes instead of declaring <code>abstract val/fun</code>.</p>\n\n<p>It's more concise in my opinion, especially because <code>val</code> type get's inferred.</p>\n\n<p>What are the downsides to this?</p>\n\n<pre><code>abstract class AbstractListScreen&lt;T&gt; (\n    val data: Set&lt;T&gt;,\n    val filterators: (T) -&gt; Set&lt;String&gt;\n) {\n\n    fun open() {\n        /* ... */\n    }\n}\n\nclass OrderListScreen : AbstractListScreen&lt;Data&gt;(data = setOf(),\n                                                 filterators = { setOf(it.toString()) }\n) {\n\n    fun someEvent() {\n        /* ...*/\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1470707856, "post_id": 38833242, "comment_id": 65047403, "body": "What does it say when you try to build the app?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5543258"}, "reply_to_user": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "edited": false, "score": 0, "creation_date": 1470728069, "post_id": 38833242, "comment_id": 65054298, "body": "I have updated my question"}, {"owner": {"reputation": 1864, "user_id": 4656400, "user_type": "registered", "accept_rate": 36, "profile_image": "https://lh6.googleusercontent.com/-IDixEc9j9gU/AAAAAAAAAAI/AAAAAAAADAo/yQ0BYFbDP8A/photo.jpg?sz=128", "display_name": "AlexKost", "link": "https://stackoverflow.com/users/4656400/alexkost"}, "edited": false, "score": 0, "creation_date": 1476618260, "post_id": 38833242, "comment_id": 67413093, "body": "@user5543258 did you solve your issue? I have the same problem."}, {"owner": {"reputation": 764, "user_id": 5613246, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68e57d509198303dce2361d3a8325a54?s=128&d=identicon&r=PG&f=1", "display_name": "LMaker", "link": "https://stackoverflow.com/users/5613246/lmaker"}, "edited": false, "score": 0, "creation_date": 1536246955, "post_id": 38833242, "comment_id": 91363786, "body": "nothing working here, did you find a solution?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5543258"}, "edited": false, "score": 0, "creation_date": 1470733829, "post_id": 38846301, "comment_id": 65057728, "body": "<a href=\"https://github.com/developer--/Where_is_WIFI/blob/master/app/build.gradle\" rel=\"nofollow noreferrer\">github.com/developer--/Where_is_WIFI/blob/master/app/&hellip;</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1470733929, "post_id": 38846301, "comment_id": 65057796, "body": "What happens if you remove android-apt plugin?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1470734190, "post_id": 38846301, "comment_id": 65058007, "body": "I&#39;m not sure what&#39;s wrong then :( but please check <a href=\"https://github.com/damianpetla/kotlin-dagger-example\" rel=\"nofollow noreferrer\">this example</a> and see if there&#39;s any difference and if the &quot;known limitations&quot; here match your issue"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1506849871, "last_edit_date": 1506849871, "creation_date": 1470733158, "answer_id": 38846301, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/38846301#38846301", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>Please try adding this to your <code>build.gradle</code></p>\n\n<pre><code>android {\n    dexOptions {\n        incremental false\n    }\n</code></pre>\n\n<p>EDIT: apparently a year later this can happen if you don't apply <code>kotlin-kapt</code> plugin. Also make sure you use <code>kapt</code>instead of <code>annotationProcessor</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 621, "user_id": 6784984, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/a77a8e9611d8f6ef51a39d42ecaeccf7?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/6784984/anonymous"}, "edited": false, "score": 0, "creation_date": 1515190356, "post_id": 38856054, "comment_id": 83220729, "body": "What about Java version??"}], "tags": [], "owner": {"reputation": 13934, "user_id": 4096987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9b66edfbc16fa01f3f45d764a3fa01bb?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEx", "link": "https://stackoverflow.com/users/4096987/androidex"}, "is_accepted": false, "score": 27, "last_activity_date": 1470760120, "creation_date": 1470760120, "answer_id": 38856054, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/38856054#38856054", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>Please try enabling <a href=\"https://blog.jetbrains.com/kotlin/2015/06/better-annotation-processing-supporting-stubs-in-kapt/\" rel=\"noreferrer\">stubs generation</a>, this might be the reason why the class is not visible at this stage of the build process. In your <code>build.gradle</code> file, top level:</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "is_accepted": false, "score": 5, "last_activity_date": 1472157290, "creation_date": 1472157290, "answer_id": 39154315, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/39154315#39154315", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>I've already downloaded your Github project. Thanks for sharing!</p>\n\n<p><strong>The answer for your issue is pretty simple:</strong></p>\n\n<pre><code>Build -&gt; Rebuild project\n</code></pre>\n\n<p>Dagger dependencies files will be recreated and app after would launched with any problem. </p>\n\n<p>I checked already this with Android Studio 2.1.2 version. It works</p>\n"}, {"comments": [{"owner": {"reputation": 212, "user_id": 2024658, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sXeBU.png?s=128&g=1", "display_name": "Jelil Adesina", "link": "https://stackoverflow.com/users/2024658/jelil-adesina"}, "edited": false, "score": 2, "creation_date": 1496622425, "post_id": 41837658, "comment_id": 75722164, "body": "This save my live."}, {"owner": {"reputation": 478, "user_id": 8030546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/haVbb.jpg?s=128&g=1", "display_name": "Ankit Dubey", "link": "https://stackoverflow.com/users/8030546/ankit-dubey"}, "edited": false, "score": 0, "creation_date": 1588586411, "post_id": 41837658, "comment_id": 108944869, "body": "Seriously I was stuck for last one day, unfortunately didn&#39;t searched. It helped me a lot."}], "tags": [], "owner": {"reputation": 1884, "user_id": 1779540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93a60fcac6f520a1959b144f54eda16f?s=128&d=identicon&r=PG", "display_name": "Pauland", "link": "https://stackoverflow.com/users/1779540/pauland"}, "is_accepted": false, "score": 50, "last_activity_date": 1485287205, "creation_date": 1485287205, "answer_id": 41837658, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/41837658#41837658", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>my solution is to add</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>and remove</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 778, "user_id": 4539582, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4ZeQW.jpg?s=128&g=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4539582/newbie"}, "edited": false, "score": 0, "creation_date": 1615449721, "post_id": 46510959, "comment_id": 117695340, "body": "I think you should remove <code>generateStubs = true</code>"}], "tags": [], "owner": {"reputation": 2963, "user_id": 4856245, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/y62au.jpg?s=128&g=1", "display_name": "Jeffrey Rajan", "link": "https://stackoverflow.com/users/4856245/jeffrey-rajan"}, "is_accepted": false, "score": 42, "last_activity_date": 1506849618, "creation_date": 1506849618, "answer_id": 46510959, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/46510959#46510959", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>This helped me to fix this issue</p>\n\n<p>Add this in the top of the <code>build.gradle</code></p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>Inside <code>android</code> tag add </p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>And then replace</p>\n\n<pre><code>annotationProcessor 'com.google.dagger:dagger-compiler:2.11'\n</code></pre>\n\n<p>to </p>\n\n<pre><code>kapt 'com.google.dagger:dagger-compiler:2.11'\n</code></pre>\n\n<p>Now <code>Rebuild</code> the project by </p>\n\n<pre><code>Build -&gt; Rebuild project\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1027, "user_id": 3211935, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/tULLE.jpg?s=128&g=1", "display_name": "ediBersh", "link": "https://stackoverflow.com/users/3211935/edibersh"}, "is_accepted": false, "score": 5, "last_activity_date": 1510588623, "creation_date": 1510588623, "answer_id": 47268430, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/47268430#47268430", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>you should remove </p>\n\n<pre><code>kapt {\ngenerateStubs = true}\n</code></pre>\n\n<p>and add to the top of application gradle file</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>then Dagger will take care of the rest :)</p>\n"}, {"comments": [{"owner": {"reputation": 739, "user_id": 5018844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s2BQbfxKwWs/AAAAAAAAAAI/AAAAAAAAABE/ZtlzGlf1dSQ/photo.jpg?sz=128", "display_name": "Mubashar Javed", "link": "https://stackoverflow.com/users/5018844/mubashar-javed"}, "edited": false, "score": 0, "creation_date": 1546735784, "post_id": 48641210, "comment_id": 94949288, "body": "This is perfect solution"}], "tags": [], "owner": {"reputation": 417, "user_id": 5558300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sjQ2R.jpg?s=128&g=1", "display_name": "otoloye", "link": "https://stackoverflow.com/users/5558300/otoloye"}, "is_accepted": false, "score": 2, "last_activity_date": 1517914279, "creation_date": 1517914279, "answer_id": 48641210, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/48641210#48641210", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>Also for Java users, the solution is simply to <strong>Rebuild</strong> your project. </p>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 3303894, "user_type": "registered", "profile_image": "https://graph.facebook.com/1518360508/picture?type=large", "display_name": "tugbacevizci", "link": "https://stackoverflow.com/users/3303894/tugbacevizci"}, "is_accepted": false, "score": 1, "last_activity_date": 1518178600, "creation_date": 1518178600, "answer_id": 48705654, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/48705654#48705654", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>Answer is simple :</p>\n\n<p><code>Build -&gt; Rebuild project</code></p>\n\n<p>It works for me.</p>\n"}, {"tags": [], "owner": {"reputation": 1822, "user_id": 2298357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f898eb5594944e5733a0881fd3d30342?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Kant Patel", "link": "https://stackoverflow.com/users/2298357/pankaj-kant-patel"}, "is_accepted": false, "score": 2, "last_activity_date": 1523193909, "creation_date": 1523193909, "answer_id": 49718330, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/49718330#49718330", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>In my case missing kapt compiler dependency. Please make sure to have below dependency too. </p>\n\n<pre><code>kapt 'com.google.dagger:dagger-compiler:2.15'\n</code></pre>\n\n<p>app build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-kapt'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"com.usb.utility\"\n        minSdkVersion 14\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.google.dagger:dagger-android:2.15'\n    compile 'com.google.dagger:dagger-android-support:2.15' // if you use the support libraries\n    kapt 'com.google.dagger:dagger-android-processor:2.15'\n    kapt 'com.google.dagger:dagger-compiler:2.15'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1353, "user_id": 765507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1617aba9f51d3fd0ee8debbbcff4cdb4?s=128&d=identicon&r=PG", "display_name": "Meanman", "link": "https://stackoverflow.com/users/765507/meanman"}, "is_accepted": false, "score": 2, "last_activity_date": 1524404253, "creation_date": 1524404253, "answer_id": 49966525, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/49966525#49966525", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>Only two steps should be required for mixed Java/Kotlin projects:</p>\n\n<ol>\n<li>Add <code>apply plugin: 'kotlin-kapt'</code> to the top of the build file</li>\n<li>Replace <code>annotationProcessor 'com.google.dagger:dagger-compiler:2.14.1'</code> with <code>kapt 'com.google.dagger:dagger-compiler:2.14.1'</code></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 11373583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIWt2.jpg?s=128&g=1", "display_name": "revati raman", "link": "https://stackoverflow.com/users/11373583/revati-raman"}, "is_accepted": false, "score": 3, "last_activity_date": 1557912341, "creation_date": 1557912341, "answer_id": 56145882, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/56145882#56145882", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>Add this on Top of build.gradlle </p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>Add this in Dependencies </p>\n\n<pre><code>kapt 'com.google.dagger:dagger-compiler:2.15'\nkapt 'com.google.dagger:dagger-android-processor:2.15'\n</code></pre>\n\n<p>After that rebuild your project . i hope it will work.\nThanks</p>\n"}, {"tags": [], "owner": {"reputation": 5944, "user_id": 7232295, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cXzw4.jpg?s=128&g=1", "display_name": "Uddhav Gautam", "link": "https://stackoverflow.com/users/7232295/uddhav-gautam"}, "is_accepted": false, "score": -1, "last_activity_date": 1585549507, "last_edit_date": 1585549507, "creation_date": 1585538358, "answer_id": 60923562, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/60923562#60923562", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>This must solve your problem: </p>\n\n<h2>Update (March 29, 2020)</h2>\n\n<p>Inside your <strong>app-level</strong> <code>build.gradle</code> inside <code>dependencies</code> block, add these lines:</p>\n\n<pre><code>     //dagger2\n     api 'com.google.dagger:dagger:2.24'\n     api 'com.google.dagger:dagger-android:2.24'\n     api 'com.google.dagger:dagger-android-support:2.24'\n\n     annotationProcessor 'com.google.dagger:dagger-compiler:2.24'\n     kapt 'com.google.dagger:dagger-compiler:2.24'\n\n     annotationProcessor 'com.google.dagger:dagger-android-processor:2.24'\n     kapt 'com.google.dagger:dagger-android-processor:2.24'\n\n     compileOnly 'javax.annotation:jsr250-api:1.0'\n     implementation 'javax.inject:javax.inject:1'\n</code></pre>\n\n<p>Inside <code>android</code> block of <strong>app-level</strong> <code>build.gradle</code>, </p>\n\n<pre><code>kapt {\n        generateStubs = true\n    }\n</code></pre>\n\n<p>At the <strong>top</strong> of the <strong>app-level</strong> <code>build.gradle</code>, Do this in <strong>exactly below order</strong>.</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>Finally, You need to configure Annotation Process as provided in the screenshot below. You can do this <code>File&gt;Other Settings&gt;Settings for New Projects&gt;</code>search<code>\"Annotation processor\"</code>\n<a href=\"https://i.stack.imgur.com/qYrwf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qYrwf.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After this, do from Menu <code>Build &gt; Rebuild</code>. You are done!</p>\n\n<p><strong>Test:</strong></p>\n\n<pre><code>@Component\npublic interface ApplicationComponent {\n\n}\n</code></pre>\n\n<p>Now, you can use <code>DaggerApplicationComponent</code> that was generated at compile-time for your Applicati<code>o</code>nComponent interface.</p>\n\n<pre><code>public class MyApplication extends Application {\n\n    ApplicationComponent applicationComponent = DaggerApplicationComponent.create();\n\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4200, "user_id": 10699119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aYUPn.jpg?s=128&g=1", "display_name": "sana ebadi", "link": "https://stackoverflow.com/users/10699119/sana-ebadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1592746301, "creation_date": 1592746301, "answer_id": 62499253, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent/62499253#62499253", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>In my case, I did everything in al answers but did not fix it!</p>\n<p><strong>my solution:</strong> go to Directory path of your project and delete</p>\n<p><code>build</code>, <code>app&gt;build</code>, <code>.idea</code> , <code>.Gradle</code></p>\n<p>and go back to the android studio and <code>rebuild</code> the project and Done!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5543258"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27552, "favorite_count": 5, "answer_count": 13, "score": 42, "last_activity_date": 1592746301, "creation_date": 1470670369, "last_edit_date": 1470728613, "question_id": 38833242, "link": "https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent", "title": "Unresolved reference DaggerApplicationComponent", "body": "<p>I'm trying to create my app component, but Dagger does not generate my app component.\nhere is <strong>MyApplication</strong> class </p>\n\n<pre><code>class MyApplication : Application() {\n\ncompanion object {\n    @JvmStatic lateinit var graph: ApplicationComponent\n}\n@Inject\nlateinit var locationManager : LocationManager\n\noverride fun onCreate() {\n    super.onCreate()\n    graph = DaggerApplicationComponent.builder().appModule(AppModule(this)).build()\n    graph.inject(this)\n  }\n}\n</code></pre>\n\n<p>and here is my <strong>AppComponent</strong> class</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class))\ninterface ApplicationComponent {\n    fun inject(application: MyApplication)\n}\n</code></pre>\n\n<p>here is screenshot\n<a href=\"https://i.stack.imgur.com/AxXDQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AxXDQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>this is my <a href=\"https://github.com/developer--/Where_is_WIFI\" rel=\"noreferrer\">project</a> on <strong>github</strong></p>\n\n<p>here is error log</p>\n\n<pre><code>Error:(7, 48) Unresolved reference: DaggerApplicationComponent\nError:(28, 17) Unresolved reference: DaggerApplicationComponent\nError:Execution failed for task ':app:compileDebugKotlin'.\n&gt; Compilation error. See log for more details\nInformation:BUILD FAILED\nInformation:Total time: 21.184 secs\nError:e: .../MyApplication.kt: (7, 48): Unresolved reference: DaggerApplicationComponent\ne: Unresolved reference: DaggerApplicationComponent\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nInformation:4 errors\nInformation:0 warnings\nInformation:See complete output in console\n</code></pre>\n"}, {"tags": ["java", "embedded-resource", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1470669685, "post_id": 38832960, "comment_id": 65031299, "body": "it might also need to be prefixed with <code>&#47;</code> as <code>&#47;accounts.json</code> because it is not in the same package as ToolView (then again I don&#39;t know what package ToolView is in).  Or use the system classloader instead."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1470670182, "post_id": 38832960, "comment_id": 65031633, "body": "@JaysonMinard I believe it&#39;s required when <code>getResourceAsStream</code> is called on a <code>Class</code> instance which resolves the name of the resource relative to its package. And here <code>getResourceAsStream</code> is invoked on a <code>ClassLoader</code>. But anyway, thanks for clarification."}, {"owner": {"reputation": 694, "user_id": 3680672, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kEVyp.png?s=128&g=1", "display_name": "Martacus", "link": "https://stackoverflow.com/users/3680672/martacus"}, "edited": false, "score": 0, "creation_date": 1470671480, "post_id": 38832960, "comment_id": 65032446, "body": "Thanks! It works! But would this also apply for the WriteFile? Since I didnt change that I did get the error when writing. Atlough i dont see a stream.writer() method."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 694, "user_id": 3680672, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kEVyp.png?s=128&g=1", "display_name": "Martacus", "link": "https://stackoverflow.com/users/3680672/martacus"}, "edited": false, "score": 0, "creation_date": 1470672252, "post_id": 38832960, "comment_id": 65032906, "body": "@Martacus resources are for bundling read-only data into a jar, so you couldn&#39;t write content to a resource. See this related question: <a href=\"http://stackoverflow.com/q/5052311/869184\">stackoverflow.com/q/5052311/869184</a>"}, {"owner": {"reputation": 163297, "user_id": 418556, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/yOfDr.png?s=128&g=1", "display_name": "Andrew Thompson", "link": "https://stackoverflow.com/users/418556/andrew-thompson"}, "edited": false, "score": 0, "creation_date": 1470733230, "post_id": 38832960, "comment_id": 65057284, "body": "<i>&quot;But would this also apply for the WriteFile?&quot;</i> See <a href=\"http://stackoverflow.com/questions/5052311/how-can-an-app-use-files-inside-the-jar-for-read-and-write/\">How can an app use files inside the JAR for read and write?</a>"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 10, "last_activity_date": 1470670263, "last_edit_date": 1470670263, "creation_date": 1470669578, "answer_id": 38832960, "question_id": 38831866, "link": "https://stackoverflow.com/questions/38831866/the-filename-directory-name-or-volume-label-syntax-is-incorrect-kotlin-mave/38832960#38832960", "title": "The filename, directory name or volume label syntax is incorrect - Kotlin - Maven", "body": "<p>When a resource is packed into a jar, it is not available as a file in filesystem anymore. Therefore you cannot use standard API for working with filesystem as <code>File()</code> or <code>FileReader()</code> to access the contents of the resource.</p>\n\n<p>Instead you should open resource stream with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"noreferrer\"><code>Class.getResourceAsStream</code></a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getSystemResourceAsStream(java.lang.String)\" rel=\"noreferrer\"><code>ClassLoader.getResourceAsStream</code></a> methods and read the content from that stream: </p>\n\n<pre><code>val stream = ToolView::class.java.classLoader.getResourceAsStream(\"accounts.json\")\n\nstream.reader().use {\n    println(it.readText())\n}\n</code></pre>\n"}], "owner": {"reputation": 694, "user_id": 3680672, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kEVyp.png?s=128&g=1", "display_name": "Martacus", "link": "https://stackoverflow.com/users/3680672/martacus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3280, "favorite_count": 0, "accepted_answer_id": 38832960, "answer_count": 1, "score": 5, "last_activity_date": 1470733104, "creation_date": 1470666558, "last_edit_date": 1470733104, "question_id": 38831866, "link": "https://stackoverflow.com/questions/38831866/the-filename-directory-name-or-volume-label-syntax-is-incorrect-kotlin-mave", "title": "The filename, directory name or volume label syntax is incorrect - Kotlin - Maven", "body": "<p>I get this error when I start my packaged jar. When I run it from my IDE it does not give the error and run.</p>\n\n<pre><code>java.io.FileNotFoundException: file:\\C:\\Development\\Kotlin\\AccountTool\\target\\AccountTool-1.0-SNAPSHOT-jar-with-dependencies.jar!\\accounts.json (The filename, directory name or volume label syntax is incorrect)\n    at java.io.FileInputStream.open0(Native Method)\n    at java.io.FileInputStream.open(Unknown Source)\n    at java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n    at java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n    at java.io.FileReader.&lt;init&gt;(Unknown Source)\n    at com.martacus.accounttool.ToolView$handler.readData(Tool.kt:41)\n    at com.martacus.accounttool.ToolView.&lt;init&gt;(Tool.kt:56)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at java.lang.Class.newInstance(Unknown Source)\n    at tornadofx.FXKt.find(FX.kt:238)\n    at tornadofx.App.start(App.kt:27)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$159(Unknown Source)\n    at com.sun.javafx.application.LauncherImpl$$Lambda$52/31866147.run(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$172(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl$$Lambda$45/2900468.run(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl.lambda$null$170(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl$$Lambda$48/4210449.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$171(Unknown Source)\n    at com.sun.javafx.application.PlatformImpl$$Lambda$47/24077489.run(Unknown Source)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(Unknown Source)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$145(Unknown Source)\n    at com.sun.glass.ui.win.WinApplication$$Lambda$36/1828305.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Code and file hierarchy in the ide:\n<a href=\"https://i.stack.imgur.com/bqKKM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bqKKM.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>fun readData(){\n    accounts.clear()\n    var readFile = ToolView::class.java.classLoader.getResource(\"accounts.json\").file\n    println(readFile)\n    FileReader(readFile).use{\n        var account = gson.fromJson(it, Array&lt;Account&gt;::class.java) ?: return\n        for(i in account){\n            accounts.add(i)\n        }\n    }\n\n}\n</code></pre>\n\n<p>.jar root:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LORtd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LORtd.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have no idea what is going wrong and why it is giving me the error. Searching on stackoverflow and google didnt provide me with the right answer. I hope someone here can help me, if you need any more info please say so.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 1, "last_activity_date": 1470662063, "last_edit_date": 1470662063, "creation_date": 1470661677, "answer_id": 38830055, "question_id": 38829617, "link": "https://stackoverflow.com/questions/38829617/using-condition-to-select-the-sorting-property-in-kotlin/38830055#38830055", "title": "Using condition to select the sorting property in Kotlin", "body": "<p>The <code>sortedBy</code> expects <strong>any</strong> function of type <code>(T) -&gt; R</code> as its parameter. A property is a corner case of that.</p>\n\n<p>Which means you can do this:</p>\n\n<pre><code>val sortedList = list\n    .sortedBy { if (sortingOrder == WordSortingOrder.BY_ALPHA) it.word.value else it.createdAt}\n</code></pre>\n\n<p>Or, if you need something more OOP-ish:</p>\n\n<pre><code>enum class WordSortingOrder(val transform: (MyObject) -&gt; Int) {\n    BY_ALPHA({it.word.value}), \n    BY_ALPHA_REVERSED({-1 * it.word.value}),\n    DEFAULT({it.createdAt})\n}\n\nval sortedList = list.sortedBy { sortingOrder.transform(it)}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2786, "user_id": 1073826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17930848f07370b7aaddbbc6398d15bc?s=128&d=identicon&r=PG", "display_name": "Jon Peterson", "link": "https://stackoverflow.com/users/1073826/jon-peterson"}, "is_accepted": false, "score": 0, "last_activity_date": 1470661807, "creation_date": 1470661807, "answer_id": 38830091, "question_id": 38829617, "link": "https://stackoverflow.com/questions/38829617/using-condition-to-select-the-sorting-property-in-kotlin/38830091#38830091", "title": "Using condition to select the sorting property in Kotlin", "body": "<p>You can do something like:</p>\n\n<pre><code>list.sortedBy { item -&gt;\n    when(sortingOrder) {\n        WordSortingOrder.BY_ALPHA -&gt; item.word.value\n        else                      -&gt; item.createdAt\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1890, "user_id": 251369, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e85d79c4d7bbe9f7e51305b100351cf?s=128&d=identicon&r=PG", "display_name": "k_shil", "link": "https://stackoverflow.com/users/251369/k-shil"}, "edited": false, "score": 0, "creation_date": 1470665576, "post_id": 38831282, "comment_id": 65028289, "body": "For me the latter code shows an compiler error: <code>inferred type Any is not a subtype of Comparable&lt;Any&gt;</code> I guess this happens because  <code>it.word.value</code> and <code>it.createdAt</code> have different return types"}, {"owner": {"reputation": 1890, "user_id": 251369, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e85d79c4d7bbe9f7e51305b100351cf?s=128&d=identicon&r=PG", "display_name": "k_shil", "link": "https://stackoverflow.com/users/251369/k-shil"}, "edited": false, "score": 0, "creation_date": 1470667179, "post_id": 38831282, "comment_id": 65029472, "body": "Since the properties have different types casting the return values inside to <code>Comparable&lt;Any&gt;</code> is required in order to avoid compiler errors. With the casting it doesn&#39;t look that nice anymore so probably having the code as in the question is a better solution. Also it allows to easily switch between ascending and descending orders."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 1890, "user_id": 251369, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e85d79c4d7bbe9f7e51305b100351cf?s=128&d=identicon&r=PG", "display_name": "k_shil", "link": "https://stackoverflow.com/users/251369/k-shil"}, "edited": false, "score": 0, "creation_date": 1470669000, "post_id": 38831282, "comment_id": 65030841, "body": "Good point @Zzokk. I did not consider that before. I&#39;ve added another example which uses <code>run</code>. You can basically wrap any group of operations in a <code>let</code> or <code>run</code> block and continue chaining after it."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 0, "last_activity_date": 1470668925, "last_edit_date": 1470668925, "creation_date": 1470664964, "answer_id": 38831282, "question_id": 38829617, "link": "https://stackoverflow.com/questions/38829617/using-condition-to-select-the-sorting-property-in-kotlin/38831282#38831282", "title": "Using condition to select the sorting property in Kotlin", "body": "<p>You can make the lambda argument passed to <code>sortedBy</code> conditional: </p>\n\n<pre><code>list.sortedBy(if (sortingOrder == WordSortingOrder.BY_ALPHA) {\n    { it: MyType -&gt; it.word.value }\n} else {\n    { it: MyType -&gt; it.createdAt }\n})\n</code></pre>\n\n<p>You may find using <code>when</code> instead of <code>if</code> more readable in this scenario:</p>\n\n<pre><code>list.sortedBy(when (sortingOrder) {\n    WordSortingOrder.BY_ALPHA -&gt; { it: MyType -&gt; it.word.value }\n    else -&gt; { it: MyType -&gt; it.createdAt }\n})\n</code></pre>\n\n<p>If your selectors have different return types then you can simply wrap your existing code within <code>list.let { list -&gt; ... }</code> or use <code>run</code>:</p>\n\n<pre><code>list.run {\n    if (sortingOrder == WordSortingOrder.BY_ALPHA) {\n        sortedBy { it.word.value }\n    } else {\n        sortedBy { it.createdAt }\n    }\n}\n</code></pre>\n\n<p>You can then continue chainging calls after the <code>let</code>/<code>run</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 5, "last_activity_date": 1470667132, "creation_date": 1470667132, "answer_id": 38832091, "question_id": 38829617, "link": "https://stackoverflow.com/questions/38829617/using-condition-to-select-the-sorting-property-in-kotlin/38832091#38832091", "title": "Using condition to select the sorting property in Kotlin", "body": "<p>If your properties are of different types you won't be able to select one of them based on some condition as a result for <code>sortedBy</code>, as their common supertype would be inferred as <code>Any</code> and it is not a subtype of <code>Comparable&lt;R&gt;</code> as <code>sortedBy</code> expects.</p>\n\n<p>Instead you can utilize <code>sortedWith</code> method, which takes a <code>Comparator</code>, and provide a comparator depending on the condition:</p>\n\n<pre><code>list.sortedWith(\n    if (sortingOrder == WordSortingOrder.BY_ALPHA)\n        compareBy { it.word.value }\n    else\n        compareBy { it.createdAt }\n)\n</code></pre>\n\n<p>Comparators for different properties are created here with the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.comparisons/compare-by.html\" rel=\"noreferrer\"><code>kotlin.comparisons.compareBy</code></a> function.</p>\n\n<p>You can then extract the logic which selects comparator based on sorting order to a function:</p>\n\n<pre><code>list.sortedWith(comparatorFor(sortingOrder))\n\nfun comparatorFor(sortingOrder: WordSortingOrder): Comparator&lt;MyType&gt; = ...\n</code></pre>\n"}], "owner": {"reputation": 1890, "user_id": 251369, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5e85d79c4d7bbe9f7e51305b100351cf?s=128&d=identicon&r=PG", "display_name": "k_shil", "link": "https://stackoverflow.com/users/251369/k-shil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1212, "favorite_count": 1, "accepted_answer_id": 38832091, "answer_count": 4, "score": 4, "last_activity_date": 1470668925, "creation_date": 1470660363, "last_edit_date": 1470660790, "question_id": 38829617, "link": "https://stackoverflow.com/questions/38829617/using-condition-to-select-the-sorting-property-in-kotlin", "title": "Using condition to select the sorting property in Kotlin", "body": "<p>I am using <code>sortedBy()</code> to perform sorting on the collection of objects.</p>\n\n<p>Since the order may change depending on the user choice, I've ended up with the following code </p>\n\n<pre><code>val sortedList = if (sortingOrder == WordSortingOrder.BY_ALPHA) {\n                    list.sortedBy { it.word.value }\n                } else {\n                    list.sortedBy { it.createdAt }\n                }\n</code></pre>\n\n<p>Then I perform further actions on the sorted collection.\nI realize that <code>sortedBy()</code> method expects a property to be returned.\nI wonder if there is a way to embed the sorting condition in one chain of collection methods.</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 33737, "user_id": 284538, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/cd78d1a6d2ac9be107a49198e268eb8d?s=128&d=identicon&r=PG", "display_name": "Mike Thomsen", "link": "https://stackoverflow.com/users/284538/mike-thomsen"}, "edited": false, "score": 1, "creation_date": 1470660698, "post_id": 38829609, "comment_id": 65024879, "body": "Whoever voted my comment down, why don&#39;t you provide a better response. You should know damn well that Java cannot in-line Kotlin code like that and expect it to compile and that this is closest approach to getting that the Java compiler supports."}], "tags": [], "owner": {"reputation": 33737, "user_id": 284538, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/cd78d1a6d2ac9be107a49198e268eb8d?s=128&d=identicon&r=PG", "display_name": "Mike Thomsen", "link": "https://stackoverflow.com/users/284538/mike-thomsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1470660343, "last_edit_date": 1495542175, "creation_date": 1470660343, "answer_id": 38829609, "question_id": 38829394, "link": "https://stackoverflow.com/questions/38829394/kotlin-integration-in-java-code/38829609#38829609", "title": "Kotlin integration in Java Code?", "body": "<p>I am a Groovy developer, not a Kotlin developer, but it looks like Kotlin <a href=\"https://stackoverflow.com/questions/34974039/how-can-i-run-kotlin-script-kts-files-from-within-kotlin-java\">provides a scripting</a> API. Groovy, JavaScript and JRuby can all be called from within a Java class using the standard Java ScriptEngine API. You would want something like that to approximate inlining Kotlin within a Java class. I say approximate because it wouldn't be run directly like that assembly example, but would be passed through a ScriptEngine-compliant Kotlin implementation.</p>\n"}, {"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 5, "last_activity_date": 1470661445, "creation_date": 1470661445, "answer_id": 38829968, "question_id": 38829394, "link": "https://stackoverflow.com/questions/38829394/kotlin-integration-in-java-code/38829968#38829968", "title": "Kotlin integration in Java Code?", "body": "<p>Java does not provide any syntax for including snippets of code in Kotlin or any other language into a Java file. However, this is not necessary to accomplish your task. You can simply define the constructor you need as a factory function in a separate Kotlin file:</p>\n\n<pre><code>fun MyAlreadyExistingJavaClass() = MyAlreadyExistingJavaClass(0)\n</code></pre>\n\n<p>If you want to define a new method, rather than a constructor, you can use <a href=\"https://kotlinlang.org/docs/reference/extensions.html\">extension functions</a>.</p>\n"}], "owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 2, "accepted_answer_id": 38829968, "answer_count": 2, "score": 0, "last_activity_date": 1470661445, "creation_date": 1470659710, "last_edit_date": 1470661274, "question_id": 38829394, "link": "https://stackoverflow.com/questions/38829394/kotlin-integration-in-java-code", "title": "Kotlin integration in Java Code?", "body": "<p><strong>Example:</strong>\nIn C-code it is possible to call parts of assembler code, like:</p>\n\n<pre><code>int main()\n{\n   //... stuff\n   __asm\n   {\n      lea ebx, hal\n      mov ecx, [ebx]hal.same_name ;\n      mov esi, [ebx].weasel       ;\n   }\n   // .. further stuff\n   return 0;\n}\n</code></pre>\n\n<p><strong>Is such a code integration possible for Kotlin code in Java (*.java) files?</strong></p>\n\n<p>(I am not talkin about JNI or C/C++ in Java!) \nI would like to extend already existing (AndroidStudio-) Java-Source-Code with Kotlin language.</p>\n\n<pre><code>//.. this is *.java file\npublic class MyAlreadyExistingJavaClass {\n\nprivate int memberVar;\n\npublic MyAlreadyExistingJavaClass()\n{\n\n}\n\n// this is Kotlin within *.java file\n// extend this Java file with this constuctor in KOTLIN ?\n// would make above default constructor unneccessary.\nclass MyAlreadyExistingJavaClass(number: Int = 0)\n{\n  memberVar = number;\n}\n\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 4, "creation_date": 1470661288, "post_id": 38827414, "comment_id": 65025258, "body": "<code>inline fun test(noinline f)</code> will inline the body of the function <code>test</code>, but will not inline <code>f</code>. So the snippets above are not identical. Please correct that"}, {"owner": {"reputation": 4342, "user_id": 4191629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c23fe6635504cf8a1894ff1e520e76d?s=128&d=identicon&r=PG&f=1", "display_name": "maciekjanusz", "link": "https://stackoverflow.com/users/4191629/maciekjanusz"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1470661770, "post_id": 38827414, "comment_id": 65025575, "body": "@voddan you&#39;re right, I forgot to mention that and it was misleading, thanks!"}, {"owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "edited": false, "score": 0, "creation_date": 1470730141, "post_id": 38827414, "comment_id": 65055425, "body": "If I understand this right: crossinline will inline the lambda where it&#39;s called (but prevent non-local control flow) while noinline will not inline it at all (and therefore encapsulate the lambda into a Function object)."}, {"owner": {"reputation": 4342, "user_id": 4191629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c23fe6635504cf8a1894ff1e520e76d?s=128&d=identicon&r=PG&f=1", "display_name": "maciekjanusz", "link": "https://stackoverflow.com/users/4191629/maciekjanusz"}, "reply_to_user": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "edited": false, "score": 0, "creation_date": 1471697127, "post_id": 38827414, "comment_id": 65457680, "body": "@SalomonBRYS yes, although the crossinline will also result in inlining the body of the method itself, not only the passed lambda."}, {"owner": {"reputation": 25718, "user_id": 590083, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e996de859f50f94a5d3ef754a0dee431?s=128&d=identicon&r=PG", "display_name": "Lai Yu-Hsuan", "link": "https://stackoverflow.com/users/590083/lai-yu-hsuan"}, "edited": false, "score": 0, "creation_date": 1493494801, "post_id": 38827414, "comment_id": 74444475, "body": "Sorry for replying this old answer, but what&#39;s &quot;non-local control flow&quot;? Why is <code>thread(block = f)</code> is control flow at all?"}, {"owner": {"reputation": 4342, "user_id": 4191629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c23fe6635504cf8a1894ff1e520e76d?s=128&d=identicon&r=PG&f=1", "display_name": "maciekjanusz", "link": "https://stackoverflow.com/users/4191629/maciekjanusz"}, "reply_to_user": {"reputation": 25718, "user_id": 590083, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e996de859f50f94a5d3ef754a0dee431?s=128&d=identicon&r=PG", "display_name": "Lai Yu-Hsuan", "link": "https://stackoverflow.com/users/590083/lai-yu-hsuan"}, "edited": false, "score": 2, "creation_date": 1494196217, "post_id": 38827414, "comment_id": 74711224, "body": "@LaiYu-Hsuan in the expression <code>block = f</code>, the <code>block</code> variable is not local to the <code>test</code> function, it exists outside of the method&#39;s scope, hence &#39;non-local control flow&#39;. Frankly it just means &#39;accesses non-local values&#39; here."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1568383777, "post_id": 38827414, "comment_id": 102267932, "body": "<code>crossinline</code> has nothing to do with preventing you from writing <code>block = f</code>. If you replace <code>crossinline</code> with <code>inline</code>, you&#39;ll get the same error. &quot;Non-local control flow&quot; actually pertains to a statement within the block that directly transfers control to outside the block. Examples are a <code>break</code> to a label outside the block, <code>return</code> from the calling function etc. These statements are allowed for <code>inline</code> but not <code>crossinline</code> lambdas. Furthermore, <code>crossinline</code> doesn&#39;t stop you from &quot;accessing non-local variables&quot;."}], "tags": [], "owner": {"reputation": 4342, "user_id": 4191629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c23fe6635504cf8a1894ff1e520e76d?s=128&d=identicon&r=PG&f=1", "display_name": "maciekjanusz", "link": "https://stackoverflow.com/users/4191629/maciekjanusz"}, "is_accepted": true, "score": 43, "last_activity_date": 1494196476, "last_edit_date": 1494196476, "creation_date": 1470653814, "answer_id": 38827414, "question_id": 38827186, "link": "https://stackoverflow.com/questions/38827186/what-is-the-difference-between-crossinline-and-noinline-in-kotlin/38827414#38827414", "title": "What is the difference between crossinline and noinline in Kotlin?", "body": "<p>From the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"noreferrer\">inline functions reference</a>:</p>\n\n<blockquote>\n  <p>Note that some inline functions may call the lambdas passed to them as parameters not directly from the function body, but from another execution context, such as a local object or a nested function. In such cases, non-local control flow is also not allowed in the lambdas. To indicate that, the lambda parameter needs to be marked with the crossinline modifier</p>\n</blockquote>\n\n<p>Hence, example 2. doesn't compile, since <code>crossinline</code> enforces only local control flow, and the expression <code>block = f</code> violates that. Example 1 compiles, since <code>noinline</code> doesn't require such behavior (obviously, since it's an ordinary function parameter).</p>\n\n<p>Examples 1 and 3 do not generate any performance improvements, since the only lambda parameter is marked <code>noinline</code>, rendering the <code>inline</code> modifier of the function useless and redundant - the compiler would like to inline something, but everything that could be has been marked not to be inlined.</p>\n\n<p>Consider two functions, <strong>A</strong> and <strong>B</strong></p>\n\n<h3>A</h3>\n\n<pre><code>inline fun test(noinline f: () -&gt; Unit) {\n    thread { f() }\n}\n</code></pre>\n\n<h3>B</h3>\n\n<pre><code>fun test(f: () -&gt; Unit) {\n    thread { f() }\n}\n</code></pre>\n\n<p>Function <strong>A</strong> behaves like function <strong>B</strong> in the sense that the parameter <code>f</code> will not be inlined (the <strong>B</strong> function doesn't inline the body of <code>test</code> whereas in the <strong>A</strong> function, the body: <code>thread { f() }</code> still gets inlined).</p>\n\n<p>Now, this is not true in the example 4, since the <code>crossinline f: () -&gt; Unit</code> parameter <strong>can</strong> be inlined, it just cannot violate the aforementioned non-local control flow rule (like assigning new value to a global variable). And if it can be inlined, the compiler assumes performance improvements and does not warn like in the example 3.</p>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 2941291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DBBwq.jpg?s=128&g=1", "display_name": "Daniel Ben", "link": "https://stackoverflow.com/users/2941291/daniel-ben"}, "is_accepted": false, "score": 8, "last_activity_date": 1502209124, "last_edit_date": 1502209124, "creation_date": 1502200288, "answer_id": 45570220, "question_id": 38827186, "link": "https://stackoverflow.com/questions/38827186/what-is-the-difference-between-crossinline-and-noinline-in-kotlin/45570220#45570220", "title": "What is the difference between crossinline and noinline in Kotlin?", "body": "<blockquote>\n  <p>Q1: How come (2) does not compile but (4) does?</p>\n</blockquote>\n\n<p>From their doc:</p>\n\n<blockquote>\n  <p>Inlinable lambdas can only be called inside the inline functions or passed as inlinable arguments...</p>\n</blockquote>\n\n<p>Answer:</p>\n\n<p>The method <code>thread(...)</code> is not an <code>inline</code> method so you won't be able to pass <code>f</code> as an argument.</p>\n\n<blockquote>\n  <p>Q2: What exactly is the difference between noinline and crossinline?</p>\n</blockquote>\n\n<p>Answer:</p>\n\n<p><code>noinline</code> will prevent the inlining of lambdas. This becomes useful when you have multiple lambda arguments and you want only some of the lambdas passed to an inline function to be inlined.</p>\n\n<p><code>crossinline</code> is used to mark lambdas that mustn't allow non-local returns, especially when such lambda is passed to another execution context. In other words, you won't be able to do a use a <code>return</code> in such lambdas. Using your example:</p>\n\n<pre><code>inline fun test(crossinline f: () -&gt; Unit) {\n    thread { f() }\n}\n\n//another method in the class\nfun foo() {\n\n    test{ \n\n       //Error! return is not allowed here.\n       return\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Q3: If (3) does not generates a no performance improvements, why would (4) do?</p>\n</blockquote>\n\n<p>Answer:</p>\n\n<p>That is because the only lambda you have in (3) has been marked with <code>noinline</code> which means you'll have the overhead cost of creating the <code>Function</code> object to house the body of your lamda. For (4) the lambda is still inlined (performance improvement) only that it won't allow non-local returns.</p>\n"}, {"tags": [], "owner": {"reputation": 495, "user_id": 1241709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abba16a30edc1f7d228c8e225d90cbf3?s=128&d=identicon&r=PG", "display_name": "minsk", "link": "https://stackoverflow.com/users/1241709/minsk"}, "is_accepted": false, "score": 2, "last_activity_date": 1509670917, "last_edit_date": 1509670917, "creation_date": 1509663178, "answer_id": 47085870, "question_id": 38827186, "link": "https://stackoverflow.com/questions/38827186/what-is-the-difference-between-crossinline-and-noinline-in-kotlin/47085870#47085870", "title": "What is the difference between crossinline and noinline in Kotlin?", "body": "<p>To the first and second question</p>\n\n<blockquote>\n  <p>How come (2) does not compile but (4) does?.. difference between <code>noinline</code> and <code>crossinline</code></p>\n</blockquote>\n\n<pre><code>2. inline fun test(crossinline f: () -&gt; Unit) {\n    thread(block = f)\n}\n\n4. inline fun test(crossinline f: () -&gt; Unit) {\n    thread { f() }\n}\n</code></pre>\n\n<p>Both cases have <code>inline</code> modifier instructing to inline both the function <code>test</code> and its argument lambda <code>f</code>. From kotlin reference:</p>\n\n<blockquote>\n  <p>The inline modifier affects both the function itself and the lambdas\n  passed to it: all of those will be inlined into the call site.</p>\n</blockquote>\n\n<p>So the compiler is instructed to place the code (inline) instead of constructing and invoking a function object for <code>f</code>. <code>crossinline</code> modifier is only for inlined things: it just says that the passed lambda (in <code>f</code> parameter) should not have non-local returns (which \"normal\" inlined lambdas may have).  <code>crossinline</code> can be thought of as something like this (instruction to the compiler ): \u201c do inline but there is a restriction that it is crossing the invoker context and so make sure the lambda does not have non-local returns.</p>\n\n<p>On a side note, <code>thread</code> seems like a conceptually illustrative example for <code>crossinline</code> because obviously returning from some code (passed in <code>f</code>) later on a different thread cannot possibly affect the return from <code>test</code>, which continues to execute on the caller thread independently from what it spawned (<code>f</code> goes on to execute independently).. </p>\n\n<p>In case #4, there is a lambda (curly braces) invoking <code>f()</code>. In case #2, <code>f</code> is passed directly as an argument to <code>thread</code> </p>\n\n<p>So in #4, call <code>f()</code> can be inlined and the compiler can guarantee there is no non-local return. To elaborate, the compiler would replace <code>f()</code> with its definition and that code is then \u201cwrapped\u201d inside the enclosing lambda, in other words, <code>{ //code for f() }</code> is sort of another (wrapper) lambda and it itself is further passed as a function object reference (to <code>thread</code>).</p>\n\n<p>In case #2, the compiler error simply says it cannot inline <code>f</code> because it is being passed as a reference into an \u201cunknown\u201d (non-inlined) place. <code>crossinline</code> becomes out of place and irrelevant in this case because it could be applied only if <code>f</code> were inlined.</p>\n\n<p>To sum up, case 2 and 4 are not the same by comparing to the example from the kotlin reference (see \"Higher-Order Functions and Lambdas\"): below invocations are equivalent, where curly braces (lambda expression) \"replace\" the wrapper function <code>toBeSynchronized</code> </p>\n\n<pre><code>//want to pass `sharedResource.operation()` to lock body\nfun &lt;T&gt; lock(lock: Lock, body: () -&gt; T): T {...}\n//pass a function\nfun toBeSynchronized() = sharedResource.operation()\nval result = lock(lock, ::toBeSynchronized) \n//or pass a lambda expression\nval result = lock(lock, { sharedResource.operation() })\n</code></pre>\n\n<p>Case #2 and #4 in the question are not equivalent because there is no \"wrapper\" invoking <code>f</code> in #2  </p>\n"}, {"comments": [{"owner": {"reputation": 332, "user_id": 4460535, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2MF7U.jpg?s=128&g=1", "display_name": "Yogesh Seralia", "link": "https://stackoverflow.com/users/4460535/yogesh-seralia"}, "edited": false, "score": 0, "creation_date": 1580390262, "post_id": 51113423, "comment_id": 106087120, "body": "A suggestion for edit -   &quot;Whenever you declare an inline fun with only <code>noinline</code> lambdas, inlining itself has lost its purpose. The compiler warns you about it.&quot;"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 17, "last_activity_date": 1583925920, "last_edit_date": 1583925920, "creation_date": 1530349254, "answer_id": 51113423, "question_id": 38827186, "link": "https://stackoverflow.com/questions/38827186/what-is-the-difference-between-crossinline-and-noinline-in-kotlin/51113423#51113423", "title": "What is the difference between crossinline and noinline in Kotlin?", "body": "<p>Let me try to explain this by example: I'll go through each of your examples and describe what it orders the compiler to do. First, here's some code that uses your function:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    test { \n        println(\"start\")\n        println(\"stop\")\n    }\n}\n</code></pre>\n\n<p>Now let's go through your variants. I'll call the functions from your examples <code>test1</code>..<code>test4</code> and I'll show in pseudocode what the above <code>main</code> function would compile into.</p>\n\n<h3>1. <code>noinline</code>, <code>block = f</code></h3>\n\n<pre><code>inline fun test1(noinline f: () -&gt; Unit) {\n    thread(block = f)\n}\n\nfun compiledMain1() {\n    val myBlock = {\n        println(\"start\")\n        println(\"stop\")\n    }\n    thread(block = myBlock)\n}\n</code></pre>\n\n<p>First, note there's no evidence of <code>inline fun test1</code> even existing. Inline functions aren't really \"called\": it's as if the code of <code>test1</code> was written inside <code>main()</code>. On the other hand, the <code>noinline</code> lambda parameter behaves same as without inlining: you create a lambda object and pass it to the <code>thread</code> function.</p>\n\n<h3>2. <code>crossinline</code>, <code>block = f</code></h3>\n\n<pre><code>inline fun test2(crossinline f: () -&gt; Unit) {\n    thread(block = f)\n}\n\nfun compiledMain2() {\n    thread(block =\n        println(\"start\")\n        println(\"stop\")\n    )\n}\n</code></pre>\n\n<p>I hope I managed to conjure what happens here: you requested to copy-paste the code of the block into a place that expects a value. It's just syntactic garbage. Reason: with or without <code>crossinline</code> you request that the block be copy-pasted into the place where it's used. This modifier just restricts what you can write inside the block (no <code>return</code>s etc.)</p>\n\n<h3>3. <code>noinline</code>, <code>{ f() }</code></h3>\n\n<pre><code>inline fun test3(noinline f: () -&gt; Unit) {\n    thread { f() }\n}\n\nfun compiledMain3() {\n    val myBlock = {\n        println(\"start\")\n        println(\"stop\")\n    }\n    thread { myBlock() }\n}\n</code></pre>\n\n<p>We're back to <code>noinline</code> here so things are straightforward again. You create a regular lambda object <code>myBlock</code>, then you create another regular lambda object that delegates to it: <code>{ myBlock() }</code>, then you pass this to <code>thread()</code>.</p>\n\n<h3>4. <code>crossinline</code>, <code>{ f() }</code></h3>\n\n<pre><code>inline fun test4(crossinline f: () -&gt; Unit) {\n    thread { f() }\n}\n\nfun compiledMain4() {\n    thread {\n        println(\"start\")\n        println(\"stop\")\n    }\n}\n</code></pre>\n\n<p>Finally this example demonstrates what <code>crossinline</code> is for. The code of <code>test4</code> is inlined into <code>main</code>, the code of the block is inlined into the place where it's used. But, since it's used inside the definition of a regular lambda object, it can't contain non-local control flow.</p>\n\n<h3>About the Performance Impact</h3>\n\n<p>The Kotlin team wants you to use the inlining feature sensibly. With inlining the size of the compiled code can explode dramatically and even hit the JVM limits of up to 64K bytecode instructions per method. The main use case is higher-order functions that avoid the cost of creating an actual lambda object, only to discard it right after a single function call which happens right away.</p>\n\n<p>Whenever you declare an <code>inline fun</code> without any inline lambdas, inlining itself has lost its purpose. The compiler warns you about it.</p>\n"}], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10918, "favorite_count": 15, "accepted_answer_id": 38827414, "answer_count": 4, "score": 72, "last_activity_date": 1583925920, "creation_date": 1470653137, "question_id": 38827186, "link": "https://stackoverflow.com/questions/38827186/what-is-the-difference-between-crossinline-and-noinline-in-kotlin", "title": "What is the difference between crossinline and noinline in Kotlin?", "body": "<ol>\n<li><p>This code <strong>compiles with a warning</strong> (<em>insignificant performance impact</em>):</p>\n\n<pre><code>inline fun test(noinline f: () -&gt; Unit) {\n    thread(block = f)\n}\n</code></pre></li>\n<li><p>This code <strong>does not compile</strong> (<em>illegal usage of inline-parameter</em>):</p>\n\n<pre><code>inline fun test(crossinline f: () -&gt; Unit) {\n    thread(block = f)\n}\n</code></pre></li>\n<li><p>This code <strong>compiles with a warning</strong> (<em>insignificant performance impact</em>):</p>\n\n<pre><code>inline fun test(noinline f: () -&gt; Unit) {\n    thread { f() }\n}\n</code></pre></li>\n<li><p>This code <strong>compiles with no warning or error</strong>:</p>\n\n<pre><code>inline fun test(crossinline f: () -&gt; Unit) {\n    thread { f() }\n}\n</code></pre></li>\n</ol>\n\n<p>Here are my questions:</p>\n\n<ul>\n<li>How come (2) does not compile but (4) does?</li>\n<li>What exactly is the difference between <code>noinline</code> and <code>crossinline</code>?</li>\n<li>If (3) does not generates a no performance improvements, why would (4) do?</li>\n</ul>\n"}, {"tags": ["kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 1, "creation_date": 1470685682, "post_id": 38824712, "comment_id": 65040298, "body": "A quick note on syntax :) TornadoFX has a builder for ContextMenu so Instead of <code>contextMenu = ContextMenu().apply{</code> simply write <code>contextmenu {</code>."}], "answers": [{"tags": [], "owner": {"reputation": 694, "user_id": 3680672, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kEVyp.png?s=128&g=1", "display_name": "Martacus", "link": "https://stackoverflow.com/users/3680672/martacus"}, "is_accepted": false, "score": 1, "last_activity_date": 1470651297, "creation_date": 1470651297, "answer_id": 38826583, "question_id": 38824712, "link": "https://stackoverflow.com/questions/38824712/tornadofx-remove-item-with-contextmenu-right-click-option/38826583#38826583", "title": "TornadoFX - remove item with ContextMenu right click option", "body": "<p><code>selectedItem</code> is the item you have selected/rightclicked. \nThen you can use <code>arraylist.remove(selectedItem)</code></p>\n"}, {"comments": [{"owner": {"reputation": 694, "user_id": 3680672, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kEVyp.png?s=128&g=1", "display_name": "Martacus", "link": "https://stackoverflow.com/users/3680672/martacus"}, "edited": false, "score": 0, "creation_date": 1470673054, "post_id": 38834012, "comment_id": 65033356, "body": "Thanks for clarifying :)"}], "tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": true, "score": 2, "last_activity_date": 1470685214, "last_edit_date": 1470685214, "creation_date": 1470672834, "answer_id": 38834012, "question_id": 38824712, "link": "https://stackoverflow.com/questions/38824712/tornadofx-remove-item-with-contextmenu-right-click-option/38834012#38834012", "title": "TornadoFX - remove item with ContextMenu right click option", "body": "<p>To clarify @Martacus's answer, in your case you only need to replace <code>// HERE IS WHERE THE ITEM DELETE CODE SHOULD BE</code> with <code>accounts.remove(this)</code> and you're in business.</p>\n\n<p>You could also replace the line</p>\n\n<pre><code>selectedItem?.apply{ accounts.remove(this) }\n</code></pre>\n\n<p>with</p>\n\n<pre><code>selectedItem?.let{ accounts.remove(it) }\n</code></pre>\n\n<p>From my experience, <code>let</code> is more common than <code>apply</code> when you are just using a value instead of setting up a receiver.</p>\n\n<hr>\n\n<p>Note that the process will be different if the <code>accounts</code> list is constructed asynchronously and copied in, which is the default behavior of <code>asyncItems { accounts }</code>.</p>\n"}], "owner": {"reputation": 694, "user_id": 3680672, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kEVyp.png?s=128&g=1", "display_name": "Martacus", "link": "https://stackoverflow.com/users/3680672/martacus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 907, "favorite_count": 0, "accepted_answer_id": 38834012, "answer_count": 2, "score": 0, "last_activity_date": 1470685214, "creation_date": 1470645748, "question_id": 38824712, "link": "https://stackoverflow.com/questions/38824712/tornadofx-remove-item-with-contextmenu-right-click-option", "title": "TornadoFX - remove item with ContextMenu right click option", "body": "<p>So I have a table view that displays an <code>observedArrayList</code> of Accounts<code>Account(name, login, pass)</code>, those are data classes. When I right click a cell there pops an option of delete. What I want to do is delete that <code>Account</code> from the <code>observedArrayList</code> </p>\n\n<p>Only I can not find any way to do this. I am not experienced with JavaFX or TornadoFX and I also can't find the answer with google or in the TornadoFX guides and docs.</p>\n\n<p>This is my code:</p>\n\n<pre><code>class ToolView : View() {\n    override val root = VBox()\n\n\n    companion object handler {\n\n        //val account1 = Account(\"Google\", \"martvdham@gmail.com\", \"kkk\")\n        //val account2 = Account(\"Google\", \"martvdham@gmail.com\", \"Password\")\n        var accounts = FXCollections.observableArrayList&lt;Account&gt;(\n\n        )\n        var gson = GsonBuilder().setPrettyPrinting().create()\n        val ggson = Gson()\n\n        fun writeData(){\n            FileWriter(\"accounts.json\").use {\n                ggson.toJson(accounts, it)\n            }\n        }\n\n        fun readData(){\n            accounts.clear()\n            FileReader(\"accounts.json\").use{\n                var account = gson.fromJson(it, Array&lt;Account&gt;::class.java)\n                if(account == null){return}\n                for(i in account){\n                    accounts.add(i)\n                }\n            }\n\n        }\n    }\n\n\n    init {\n        readData()\n        borderpane {\n            center {\n                tableview&lt;Account&gt;{\n                    items = accounts\n\n                    column(\"Name\", Account::name)\n                    column(\"Login\", Account::login)\n                    column(\"Password\", Account::password)\n\n                    contextMenu = ContextMenu().apply{\n                        menuitem(\"Delete\"){\n                            selectedItem?.apply{// HERE IS WHERE THE ITEM DELETE CODE SHOULD BE}\n                        }\n                    }\n                }\n            }\n            bottom{\n                button(\"Add account\").setOnAction{\n                    replaceWith(AddView::class, ViewTransition.SlideIn)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "android-runonuithread"], "answers": [{"tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": true, "score": 8, "last_activity_date": 1470663441, "creation_date": 1470663441, "answer_id": 38830701, "question_id": 38823793, "link": "https://stackoverflow.com/questions/38823793/how-to-unit-test-code-wrapped-in-runonuithread/38830701#38830701", "title": "How to unit test code wrapped in `runOnUiThread`?", "body": "<p>Manage to find a way to perform the test using <code>ArgumentCaptor</code>. Capture the <code>Runnable</code> in the <code>runOnUiThread()</code> function, and then trigger the run through <code>runOnUiArgCaptor.value.run()</code></p>\n\n<pre><code>import com.nhaarman.mockito_kotlin.argumentCaptor\nimport com.nhaarman.mockito_kotlin.verify\nimport com.nhaarman.mockito_kotlin.whenever\nimport org.junit.Before\nimport org.junit.Test\nimport org.mockito.Mock\n\n@Mock lateinit var activity: Activity\n@Mock lateinit var view: MyView\n@Mock lateinit var myObject: MyObject\n\n@Before\nfun setUp() {\n    MockitoAnnotations.initMocks(this)\n}\n\n@Test\nfun my_test_function() {\n    whenever(view.getActivity()).thenReturn(activity)\n\n    val runOnUiArgCaptor = argumentCaptor&lt;Runnable&gt;()\n    val myTestObject = TestObject()\n\n    myTestObject.myFunction(myObject, view)\n    verify(activity).runOnUiThread(runOnUiArgCaptor.capture())\n    runOnUiArgCaptor.value.run()\n\n    verify(myObject).myObjectFunction()\n\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1419, "favorite_count": 0, "accepted_answer_id": 38830701, "answer_count": 1, "score": 7, "last_activity_date": 1470663441, "creation_date": 1470642463, "question_id": 38823793, "link": "https://stackoverflow.com/questions/38823793/how-to-unit-test-code-wrapped-in-runonuithread", "title": "How to unit test code wrapped in `runOnUiThread`?", "body": "<p>I have a function that calls <code>runOnUiThread</code> as below</p>\n\n<pre><code>fun myFunction(myObject: MyClass, view: MyView) {\n    // Do something\n    view.getActivity().runOnUiThread {\n        myObject.myObjectFunction()\n    }\n}\n</code></pre>\n\n<p>I want to UnitTest <code>myFunction</code> to ensure the <code>myObject</code> has call <code>myObjectFunction</code>. But given that it is wrap in <code>runOnUiThread</code>, I can't get to it.</p>\n\n<p>How could I unit test to ensure codes within <code>runOnUiThread</code> is called?</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 1, "creation_date": 1471255394, "post_id": 38820556, "comment_id": 65260018, "body": "Hi, I don&#39;t think that you need to unit-test these functions. First, gets color from android resources and not depends on yours application code. The second one shows errorDialog, why don&#39;t you use Espresso or Robotium or another UI test framework to check if it&#39;s properly displayed?"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 1, "creation_date": 1471266403, "post_id": 38820556, "comment_id": 65265167, "body": "Thanks piotrek. The code is just for example. The main gist of the question is to explore how can unit test be done on the Extension function, in the event if there&#39;s some logic within that is needed to be tested. Is this something un-achievable, or I miss out something? Thanks."}, {"owner": {"reputation": 796, "user_id": 3797642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1634273839/picture?type=large", "display_name": "elsennov", "link": "https://stackoverflow.com/users/3797642/elsennov"}, "edited": false, "score": 0, "creation_date": 1483545068, "post_id": 38820556, "comment_id": 70141303, "body": "I am looking for it as well. Have you found it @Elye ?"}, {"owner": {"reputation": 10424, "user_id": 2715054, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/7XqTo.png?s=128&g=1", "display_name": "phnmnn", "link": "https://stackoverflow.com/users/2715054/phnmnn"}, "edited": false, "score": 0, "creation_date": 1488467060, "post_id": 38820556, "comment_id": 72252035, "body": "<a href=\"http://stackoverflow.com/questions/42379450/how-should-i-test-kotlin-extension-functions\" title=\"how should i test kotlin extension functions\">stackoverflow.com/questions/42379450/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3033, "user_id": 304266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2Iiva.jpg?s=128&g=1", "display_name": "ubuntudroid", "link": "https://stackoverflow.com/users/304266/ubuntudroid"}, "is_accepted": false, "score": 3, "last_activity_date": 1488466746, "last_edit_date": 1488466746, "creation_date": 1488466412, "answer_id": 42558667, "question_id": 38820556, "link": "https://stackoverflow.com/questions/38820556/unit-test-on-kotlin-extension-function-on-android-sdk-classes/42558667#42558667", "title": "Unit test on Kotlin Extension Function on Android SDK Classes", "body": "<p>The way I'm testing extension functions on Android classes at the moment is by mocking the Android class. I know, this is not an optimal solution as it mocks the class under test and requires certain knowledge about how the function works (as it is always the case when mocking), but as extension functions are internally implemented as static functions I guess it's acceptable until someone comes up with something better.</p>\n\n<p>As an example consider the <code>JsonArray</code> class. We've defined an extension function for receiving the last item's index:</p>\n\n<pre><code>fun JSONArray.lastIndex() = length() - 1\n</code></pre>\n\n<p>The according test (using the <a href=\"http://spekframework.org/\" rel=\"nofollow noreferrer\">Spek</a> test framework and <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">mockito-kotlin</a>) looks like this.</p>\n\n<pre><code>@RunWith(JUnitPlatform::class)\nobject JsonExtensionTestSpec : Spek({\n\n    given(\"a JSON array with three entries\") {\n        val jsonArray = mock&lt;JSONArray&gt; {\n            on { length() } doReturn 3\n        }\n\n        on(\"getting the index of the last item\") {\n            val lastIndex = jsonArray.lastIndex()\n\n            it(\"should be 2\") {\n                lastIndex shouldBe 2\n            }\n        }\n    }\n\n    given(\"a JSON array with no entries\") {\n        val jsonArray = mock&lt;JSONArray&gt;({\n            on { length() } doReturn 0\n        })\n\n        on(\"getting the index of the last item\") {\n            val lastIndex = jsonArray.lastIndex()\n\n            it(\"should be -1\") {\n                lastIndex shouldBe -1\n            }\n        }\n    }\n})\n</code></pre>\n\n<p>The difficulty with your functions is, that they also use Android classes internally. Unfortunately I don't have a solution for this right now.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1571, "favorite_count": 4, "answer_count": 1, "score": 16, "last_activity_date": 1488466746, "creation_date": 1470623743, "question_id": 38820556, "link": "https://stackoverflow.com/questions/38820556/unit-test-on-kotlin-extension-function-on-android-sdk-classes", "title": "Unit test on Kotlin Extension Function on Android SDK Classes", "body": "<p>Kotlin extension function is great. But how could I perform unit test on them? Especially those that is of Android SDK provided class (e.g. Context, Dialog).</p>\n\n<p>I provide two examples below, and if anyone could share how I could unit test them, or if I need to write them differently if I really want to unit test them.</p>\n\n<pre><code>fun Context.getColorById(colorId: Int): Int {\n    if (Build.VERSION.SDK_INT &gt;= 23)\n        return ContextCompat.getColor(this, colorId)\n    else return resources.getColor(colorId)\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>fun Dialog.setupErrorDialog(body : String, onOkFunc: () -&gt; Unit = {}): Dialog {\n    window.requestFeature(Window.FEATURE_NO_TITLE)\n    this.setContentView(R.layout.dialog_error_layout)\n\n    (findViewById(R.id.txt_body) as TextView).text = body\n    (findViewById(R.id.txt_header) as TextView).text = context.getString(R.string.dialog_title_error)\n    (findViewById(R.id.txt_okay)).setOnClickListener{\n        onOkFunc()\n        dismiss()\n    }\n    return this\n}\n</code></pre>\n\n<p>Any suggestion would help. Thanks!</p>\n"}, {"tags": ["android", "cookies", "jsoup", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1470744300, "post_id": 38818416, "comment_id": 65064726, "body": "Based on comments, it is likely not a Kotlin issue at all and instead that the page does not return cookies from the server, but rather later via JavaScript.    Turn off JavaScript in your web browser and see if you still get a cookie in the web browser.  I don&#39;t think we could do more without knowing the page you are trying to access.  But then we would be debugging your page for you instead of answering this question."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 3502100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1230bfd0cdb1214355566463274e5de5?s=128&d=identicon&r=PG", "display_name": "dcao", "link": "https://stackoverflow.com/users/3502100/dcao"}, "edited": false, "score": 0, "creation_date": 1470675785, "post_id": 38832372, "comment_id": 65034942, "body": "I&#39;ve tried both your code solution and using OkHttp for making the requests, but no dice on either... I&#39;ve also tried adding another GET request to a protected resource after my form POST to see if the correct cookies were being set after the fact, but that also hasn&#39;t worked; I can only assume the server is doing something bizarre with its handling of cookies"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 81, "user_id": 3502100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1230bfd0cdb1214355566463274e5de5?s=128&d=identicon&r=PG", "display_name": "dcao", "link": "https://stackoverflow.com/users/3502100/dcao"}, "edited": false, "score": 0, "creation_date": 1470744149, "post_id": 38832372, "comment_id": 65064630, "body": "If they are cookies from the server, you&#39;d see them in JSoup in one way or another.  It does nothing to filter and just shoves them in the response.  Therefore they could be JavaScript added cookies.  You might need to use a server-side scraping system that uses a full browser to process requests and return final page after all scripts complete.  That&#39;s a whole different thing...."}, {"owner": {"reputation": 81, "user_id": 3502100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1230bfd0cdb1214355566463274e5de5?s=128&d=identicon&r=PG", "display_name": "dcao", "link": "https://stackoverflow.com/users/3502100/dcao"}, "edited": false, "score": 0, "creation_date": 1470775463, "post_id": 38832372, "comment_id": 65084214, "body": "I tried logging into the page with NoScript and it worked perfectly... I&#39;m at a  complete loss at this point, so I&#39;ll try out Selendroid (or may just use a WebView). Thanks for the help, though!"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 81, "user_id": 3502100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1230bfd0cdb1214355566463274e5de5?s=128&d=identicon&r=PG", "display_name": "dcao", "link": "https://stackoverflow.com/users/3502100/dcao"}, "edited": false, "score": 0, "creation_date": 1470841699, "post_id": 38832372, "comment_id": 65115711, "body": "@cmdd check the headers coming back when using Chrome or a browser debugging window that lets you see such things and see what headers are coming back.  It&#39;ll be a clue.  The same for the headers coming back from your app to see if they differ.  Maybe the site blocks if something else isn&#39;t &quot;right&quot; to it?"}, {"owner": {"reputation": 81, "user_id": 3502100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1230bfd0cdb1214355566463274e5de5?s=128&d=identicon&r=PG", "display_name": "dcao", "link": "https://stackoverflow.com/users/3502100/dcao"}, "edited": false, "score": 0, "creation_date": 1471670988, "post_id": 38832372, "comment_id": 65450956, "body": "Update: For curiosity&#39;s sake, I&#39;ve tried using <a href=\"https://www.getpostman.com/\" rel=\"nofollow noreferrer\">Postman</a> to send a post request to the site in question, using its Interceptor extension to capture the exact request parameters as when logging in on a browser normally. After making the request, I was still getting the same session errors. (side note: I noticed that logging in through a browser redirected me through another page before leaving me at the &quot;logged in home page,&quot; however I tried setting <code>.followRequests(true)</code> on my Jsoup request and no dice..."}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 1, "last_activity_date": 1470668922, "last_edit_date": 1470668922, "creation_date": 1470667923, "answer_id": 38832372, "question_id": 38818416, "link": "https://stackoverflow.com/questions/38818416/session-cookie-not-persisting-with-jsoup/38832372#38832372", "title": "Session cookie not persisting with JSoup", "body": "<p>Your code looks correct assuming the cookies are set by the server and not via JavaScript later.  Assuming no missing code the cookies should be going into the second request.  It could be that you misinterpret how the site works and how it uses the cookies, and maybe that it does not assign a valid cookie until login and always complains about \"session expired\" on any non-logged in cookie.   Maybe not a code bug at all, but a logic problem.</p>\n\n<p>But your full code <em>could</em> also be wrong if you don't take something into account the following:</p>\n\n<p>You need to remember, that the Jsoup library only returns cookies for a request when that specific request receives a <code>Set-Cookie</code> header from the server.  It does <em>not</em> return the list of \"all known cookies\".  Therefore you have to maintain a map that is an ongoing accumulation of each cookie response.  </p>\n\n<p>Think of the <code>response.cookies()</code> method as actually being <code>response.newCookiesAddedFromThisRequest()</code>. The code pattern is:</p>\n\n\n\n<pre><code>val cookies = mutableMapOf&lt;String, String&gt;()\n\nval initialResponse = Jsoup.connect(\"http://www.whatarecookies.com/cookietest.asp\")\n    .method(Connection.Method.GET)\n    .cookies(cookies)\n    .execute()\ncookies.putAll(initialResponse.cookies())\n\nval secondResponse = Jsoup.connect(\"http://www.whatarecookies.com/cookietest.asp\")\n    .method(Connection.Method.GET)\n    .cookies(cookies)\n    .execute()\ncookies.putAll(secondResponse.cookies()) \n\n// `cookies` now contains all cookies added accumulatively\n</code></pre>\n\n<p>In this code, the returned new cookies are added each time to a managed Map of cookies, and the totality of all cookies are sent each request.  </p>\n\n<p><strong>Also note:</strong>  Jsoup does not process cookies in header order therefore sometimes the wrong value is set for a cookie.  It also can sometimes leave cookie values as null on accident.  You should check the <a href=\"https://github.com/jhy/jsoup/issues?utf8=%E2%9C%93&amp;q=is%3Aissue%20is%3Aopen%20cookie\" rel=\"nofollow\">known cookie issues</a> for Jsoup.  An alternative is to use something like <a href=\"http://square.github.io/okhttp/\" rel=\"nofollow\">OkHttp</a> to do the retrieval of the document, and then parse it using Jsoup.  Jsoup does not have a focus on the HTTP protocol as much as they do on the HTML parsing and manipulation.</p>\n"}], "owner": {"reputation": 81, "user_id": 3502100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1230bfd0cdb1214355566463274e5de5?s=128&d=identicon&r=PG", "display_name": "dcao", "link": "https://stackoverflow.com/users/3502100/dcao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1470668922, "creation_date": 1470602905, "last_edit_date": 1470613999, "question_id": 38818416, "link": "https://stackoverflow.com/questions/38818416/session-cookie-not-persisting-with-jsoup", "title": "Session cookie not persisting with JSoup", "body": "<p>I've been creating an Android app which logs into and scrapes a website. Unfortunately, I've been having problems with JSoup and persisting session cookies.</p>\n\n<p>Whenever I try to make a POST request, the website will complain that the session has expired. I've isolated the cause of the problem to the <code>JSESSIONID</code> cookie (since deleting it on a browser while trying to log in gives the same result). However, even if I include all previous cookies using the <code>.cookies()</code> method, the website will still complain that the session has expired.</p>\n\n<p>I am wondering if I am making any obvious mistakes that are stopping my app from maintaining a session properly.</p>\n\n<p>The relevant portion of my code so far <em>(note: I'm using Kotlin for this project)</em>:</p>\n\n<pre><code>val url = \"omitted here\"\nval username = \"user\"\nval password = \"hunter2\"\n\nval initial = Jsoup.connect(url)\n            .method(Connection.Method.GET).execute()\n\nval cookies = initial.cookies()\n\nval login = Jsoup.connect(url)\n            .userAgent(\"Mozilla\")\n            .data(\"login_name\", username)\n            .data(\"password\", password)\n            .cookies(cookies)\n            .post()\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["gradle", "build.gradle", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1470562585, "post_id": 38811106, "comment_id": 64993073, "body": "what is the full name of the package?"}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1470569518, "post_id": 38811106, "comment_id": 64994628, "body": "<code>kotlin.jvm.internal</code> ....haha :x"}], "answers": [{"comments": [{"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "edited": false, "score": 0, "creation_date": 1470565310, "post_id": 38812848, "comment_id": 64993674, "body": "Hi voddan, thanks for the answer..but I don&#39;t think it&#39;s accurate. The currently available kotlin compiler provides the option <code>-Xallow-kotlin-package</code> which disables the kotlin package check (if you have the kotlin compiler, run this command: <code>kotlinc -X</code> to see a description of the option). also, the java compiler doesn&#39;t prevent us from declaring classes in the <code>java</code> package. I&#39;ve just tested compiling a class in the kotlin package with the kotlin compiler and compiling java with the java package just now to make sure"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "edited": false, "score": 0, "creation_date": 1470570686, "post_id": 38812848, "comment_id": 64994916, "body": "Hm, interesting, because I checked that too for java and got <code>java.lang.SecurityException: Prohibited package name: java.test1</code>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "edited": false, "score": 0, "creation_date": 1470570845, "post_id": 38812848, "comment_id": 64994956, "body": "I know about the compiler option, but you absolutely should NOT use it unless you are on the Kotlin development team. Classes in the kotlin package some cases compile differently from all others. DO  NOT  USE THIS  FOR  DEVELOPMENT!"}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "edited": false, "score": 0, "creation_date": 1470572116, "post_id": 38812848, "comment_id": 64995266, "body": "You&#39;re right. That exception occurs when trying to run a main function in the java package..but it is possible to declare a class in a java package and then use the class from another package...The reason why I&#39;m trying to declare things in the kotlin package is because I&#39;m programing for a third party JVM meant for a specific embedded system...this JVM&#39;s &quot;standard library&quot; is doesn&#39;t have all the classes that exist in a standard JVM...which makes including kotlin&#39;s runtime library get unresolved symbols...so I wanted to try and see if I could fix it although I think I&#39;ll most likely fail"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "edited": false, "score": 1, "creation_date": 1470576008, "post_id": 38812848, "comment_id": 64996295, "body": "I think this is a problem worth discussing with the Kotlin team. File an issue on <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a> and they will help with a workaround."}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "edited": false, "score": 0, "creation_date": 1470692032, "post_id": 38812848, "comment_id": 65043317, "body": "Hi voddan, thanks for the suggestion. I&#39;ve finally filed an issue:  <a href=\"https://youtrack.jetbrains.com/issue/KT-13391\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-13391</a>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 6546, "user_id": 1347816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/k5aTp.jpg?s=128&g=1", "display_name": "LEMUEL  ADANE", "link": "https://stackoverflow.com/users/1347816/lemuel-adane"}, "edited": false, "score": 0, "creation_date": 1472100391, "post_id": 38812848, "comment_id": 65618409, "body": "@LemuelAdane how supporting a new platform configuration is a bug to you?"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 2, "last_activity_date": 1470562885, "creation_date": 1470562885, "answer_id": 38812848, "question_id": 38811106, "link": "https://stackoverflow.com/questions/38811106/disable-check-for-using-kotlin-package-in-gradle/38812848#38812848", "title": "Disable check for using &#39;kotlin&#39; package in Gradle", "body": "<p>The error has nothing to do with Gradle. The Kotlin compiler won't compile code in a <code>kotlin</code> package unless you are developing the Kotlin itself.</p>\n\n<p>This was done for the same reason you can't write code in a <code>java</code> package.</p>\n"}, {"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1470591071, "creation_date": 1470591071, "answer_id": 38816758, "question_id": 38811106, "link": "https://stackoverflow.com/questions/38811106/disable-check-for-using-kotlin-package-in-gradle/38816758#38816758", "title": "Disable check for using &#39;kotlin&#39; package in Gradle", "body": "<p>If the Kotlin standard library is incompatible with the JVM that you're using, it sounds like what you should actually do is fork Kotlin, make the changes required for compatibility with your JVM, and then use the standard <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/pom.xml\" rel=\"nofollow\">Maven build script</a> to build your fork. The script already provides the option to allow compiling files in the <code>kotlin</code> package.</p>\n"}], "owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1653, "favorite_count": 1, "accepted_answer_id": 38816758, "answer_count": 2, "score": 1, "last_activity_date": 1470591071, "creation_date": 1470546788, "last_edit_date": 1470568990, "question_id": 38811106, "link": "https://stackoverflow.com/questions/38811106/disable-check-for-using-kotlin-package-in-gradle", "title": "Disable check for using &#39;kotlin&#39; package in Gradle", "body": "<p>When I try to <code>gradlew build</code> my project, I receive an error message from the <code>compileKotlin</code> task:</p>\n\n<pre><code>F:\\IdeaProjects\\walp.tinykotlintest&gt;gradlew build\n:compileKotlin\n...\nOnly the Kotlin standard library is allowed to use the 'kotlin' package\n...\n\nBUILD FAILED \n\nTotal time: 6.214 secs\n</code></pre>\n\n<p>This happens because I've declared a class in a package that starts with: <code>kotlin</code>...</p>\n\n<p><strong>Is there a way to dissable this check by configuring my <code>build.gradle</code> script?</strong></p>\n\n<p>EDIT: I know for sure this is possible if I compile with the bare kotlin compiler...<a href=\"https://github.com/ericytsang/question.compilekotlinpackage\" rel=\"nofollow\">here is an example</a> of using the kotlin compiler to compile a class in the kotlin package...So I think there should to be a way to do it in gradle too!....I hope...</p>\n\n<h1>What I've tried so far:</h1>\n\n<ol>\n<li><p>I tried to configure the <code>gradle.build</code> by configuring the KotlinCompile task:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\ntasks.withType(KotlinCompile) {\n    it.kotlinOptions.allowKotlinPackage = true\n}\n</code></pre>\n\n<p>The gradle script runs fine with these changes...<a href=\"https://github.com/JetBrains/kotlin/blob/1.0.3/libraries/tools/kotlin-gradle-plugin-core/src/main/kotlin/org/jetbrains/kotlin/gradle/tasks/Tasks.kt#L196-L205\" rel=\"nofollow\">but it seems like this is getting ignored</a>...and I still encounter the error.</p></li>\n<li><p>I tried to subclass the <code>KotlinCompile</code> class and override its <a href=\"https://github.com/JetBrains/kotlin/blob/1.0.3/libraries/tools/kotlin-gradle-plugin-core/src/main/kotlin/org/jetbrains/kotlin/gradle/tasks/Tasks.kt#L62-L63\" rel=\"nofollow\"><code>beforeCompileHook()</code></a> and replace the existing <code>compileKotlin</code> task with my version:</p>\n\n<pre><code>import org.jetbrains.kotlin.cli.common.arguments.K2JVMCompilerArguments\nimport org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nclass MyKotlinCompile extends KotlinCompile {\n    @Override\n    public void beforeCompileHook(K2JVMCompilerArguments args) {\n        args.allowKotlinPackage = true\n        throw new RuntimeException(\"HELLO\") // added to see if hook is run\n    }\n}\n\ntasks.create(name: \"compileKotlin\", type: MyKotlinCompile, overwrite: true)\n</code></pre>\n\n<p><a href=\"https://github.com/JetBrains/kotlin/blob/1.0.3/libraries/tools/kotlin-gradle-plugin-core/src/main/kotlin/org/jetbrains/kotlin/gradle/tasks/Tasks.kt#L104-L114\" rel=\"nofollow\">Studying the source code...I was fairly certain this would work</a> but evidently it didn't. I tried with and without throwing the <code>RuntimeException</code> but I always get the following error when I tried to <code>gradle build</code> again:</p>\n\n<pre><code>F:\\IdeaProjects\\walp.tinykotlintest&gt;gradlew build --stacktrace\n:compileKotlin UP-TO-DATE                                                        \n:compileJava UP-TO-DATE     \n:processResources UP-TO-DATE      \n:classes UP-TO-DATE      \n:jar UP-TO-DATE      \n:sourcesJar UP-TO-DATE      \n:assemble UP-TO-DATE      \n:compileTestKotlin FAILED                                                  \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileTestKotlin'.\n&gt; java.lang.NullPointerException (no error message)\n\n* Try:        \nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileTestKotlin'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n                        .\n                        .\n                        .\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:129)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nCaused by: java.lang.NullPointerException\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile$populateTargetSpecificArgs$2.invoke(Tasks.kt:215)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.populateTargetSpecificArgs(Tasks.kt:222)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.populateTargetSpecificArgs(Tasks.kt:148)\n        at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:105)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.doExecute(AnnotationProcessingTaskFactory.java:243)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:219)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$IncrementalTaskAction.execute(AnnotationProcessingTaskFactory.java:230)\n        at org.gradle.api.internal.project.taskfactory.AnnotationProcessingTaskFactory$StandardTaskAction.execute(AnnotationProcessingTaskFactory.java:208)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\n        ... 60 more\n</code></pre></li>\n</ol>\n\n<p><em>I probably shouldn't be doing this anyways...but I really want to try it out.</em></p>\n\n<p>thank you!</p>\n"}, {"tags": ["inheritance", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 180, "user_id": 3941845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13f35c36220aa24e76c60fac68e9527c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Person", "link": "https://stackoverflow.com/users/3941845/anonymous-person"}, "edited": false, "score": 0, "creation_date": 1470490087, "post_id": 38801379, "comment_id": 64978363, "body": "That&#39;s what I figured. Not to worry, I devised a workaround that works for my purposes anyways. Keep a boolean indicating if the var has already been set. In the set method, check the boolean. If it is false, then modify the var and set it to true. Otherwise, ignore it and don&#39;t set anything. Then, no further modifications can be made."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 180, "user_id": 3941845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13f35c36220aa24e76c60fac68e9527c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Person", "link": "https://stackoverflow.com/users/3941845/anonymous-person"}, "edited": false, "score": 0, "creation_date": 1470493585, "post_id": 38801379, "comment_id": 64979346, "body": "Hm, that does not look like the initial question, but anyway. Take a look at <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegated properties</a>. What you need is very similar to <code>Delegates.notNull()</code> with a slight modification."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 180, "user_id": 3941845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13f35c36220aa24e76c60fac68e9527c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Person", "link": "https://stackoverflow.com/users/3941845/anonymous-person"}, "edited": false, "score": 0, "creation_date": 1470493618, "post_id": 38801379, "comment_id": 64979352, "body": "You may take an implementation of this from here: <a href=\"https://youtrack.jetbrains.com/issue/KT-7180\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-7180</a>. Don&#39;t forget to vote ;)"}, {"owner": {"reputation": 180, "user_id": 3941845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13f35c36220aa24e76c60fac68e9527c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Person", "link": "https://stackoverflow.com/users/3941845/anonymous-person"}, "edited": false, "score": 0, "creation_date": 1470519017, "post_id": 38801379, "comment_id": 64985924, "body": "Thanks! For your help, I entrust you with one vote. :D"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 180, "user_id": 3941845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13f35c36220aa24e76c60fac68e9527c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Person", "link": "https://stackoverflow.com/users/3941845/anonymous-person"}, "edited": false, "score": 0, "creation_date": 1470547038, "post_id": 38801379, "comment_id": 64990139, "body": "Vote not for me, but on the issue i gave you a link to. That will help to put it into stdlib"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 3, "last_activity_date": 1470478349, "last_edit_date": 1470478349, "creation_date": 1470465886, "answer_id": 38801379, "question_id": 38799785, "link": "https://stackoverflow.com/questions/38799785/can-var-be-overriden-with-val-with-inherited-class-in-kotlin/38801379#38801379", "title": "Can var be overriden with val with inherited class in Kotlin?", "body": "<p>It is possible to override <code>val</code> with <code>var</code> because the later has <strong>more</strong> information than the former. </p>\n\n<p>A <code>var</code> property encapsulates a <code>get</code> and a <code>set</code>, while a <code>val</code> contains only a <code>get</code>. That way <code>var</code> overrides the <code>get</code> of the <code>val</code> and add its <code>set</code> (because why not).</p>\n\n<p>The other way around is obviously not true.</p>\n"}], "owner": {"reputation": 180, "user_id": 3941845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13f35c36220aa24e76c60fac68e9527c?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous Person", "link": "https://stackoverflow.com/users/3941845/anonymous-person"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 38801379, "answer_count": 1, "score": 2, "last_activity_date": 1470478349, "creation_date": 1470447390, "last_edit_date": 1495540849, "question_id": 38799785, "link": "https://stackoverflow.com/questions/38799785/can-var-be-overriden-with-val-with-inherited-class-in-kotlin", "title": "Can var be overriden with val with inherited class in Kotlin?", "body": "<p>I am new to Kotlin and am still trying to find my way around. I know from <a href=\"https://stackoverflow.com/questions/22820505/bug-or-feature-kotlin-allows-to-change-val-to-var-in-inheritance\">this question</a> that val can be overriden with var in a class that inherits it, but is this true the other way around? If it isn't, is there any workaround that might be available?</p>\n"}, {"tags": ["android", "realm", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 20, "last_activity_date": 1470751244, "last_edit_date": 1470751244, "creation_date": 1470421630, "answer_id": 38795671, "question_id": 38794502, "link": "https://stackoverflow.com/questions/38794502/kotlin-lazy-usage/38795671#38795671", "title": "Kotlin lazy usage", "body": "<ol>\n<li><p>There is a bug in your current implementation. If <code>Realm.getDefaultInstance()</code> throws then <code>usedRealm</code> will be set to <code>true</code> but the lazy won't actually be initialized (intialization would have failed). You can fix this by only calling <code>usedRealm = true</code> <em>after</em> calling <code>Realm.getDefaultInstance()</code>:</p>\n\n<pre><code>protected val realm: Realm by lazy {\n    val realm = Realm.getDefaultInstance()\n    usedRealm = true\n    realm\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>protected val realm: Realm by lazy {\n    Realm.getDefaultInstance().apply { usedRealm = true }\n}\n</code></pre></li>\n<li><p>You can accomplish the same without the extra flag by keeping a reference to the raw <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-lazy/\" rel=\"noreferrer\"><code>Lazy</code></a> object itself:</p>\n\n<pre><code>private val lazyRealm = lazy { Realm.getDefaultInstance() }\n\nprotected val realm by lazyRealm\n\noverride fun onDestroy() {\n    super.onDestroy()\n\n    if (lazyRealm.isInitialized()) {\n        realm.close()\n    }\n}\n</code></pre>\n\n<p>This still requires an additional field but you no longer have to maintain the initialization state yourself.</p></li>\n<li><p>You can also use <code>Lazy</code> directly instead of <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"noreferrer\">as a delegate</a>:</p>\n\n<pre><code>protected val lazyRealm = lazy { Realm.getDefaultInstance() }\n\noverride fun onDestroy() {\n    super.onDestroy()\n\n    if (lazyRealm.isInitialized()) {\n        lazyRealm.value.close()\n    }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>protected val lazyRealm = lazy { Realm.getDefaultInstance() }\n\noverride fun onDestroy() {\n    super.onDestroy()\n\n    with(lazyRealm) {\n        if (isInitialized()) {\n            value.close()\n        }\n    }\n}\n</code></pre>\n\n<p>This makes it so that there is no extra property but <code>Lazy</code> is now part of your API and everywhere where you would have simply referenced <code>realm</code> you now have to reference <code>lazyRealm.value</code>. You get to weigh the pros and cons. :-)</p></li>\n</ol>\n"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1762, "favorite_count": 1, "accepted_answer_id": 38795671, "answer_count": 1, "score": 10, "last_activity_date": 1470751244, "creation_date": 1470416835, "question_id": 38794502, "link": "https://stackoverflow.com/questions/38794502/kotlin-lazy-usage", "title": "Kotlin lazy usage", "body": "<p>I'm currently using Realm in my application, and to make sure i manage Realm instances correctly, i introduced in my base Activity a variable like this:</p>\n\n<pre><code>protected val realm: Realm by lazy {\n        Realm.getDefaultInstance()\n}\n</code></pre>\n\n<p>And then in onDestroy i do this:</p>\n\n<pre><code>override fun onDestroy() {\n    super.onDestroy()\n    realm.close()\n}\n</code></pre>\n\n<p>And then i realised this is a waste. If the current activity doesn't use realm, it will open and immediately close in <code>onDestroy</code>.</p>\n\n<p>So i updated to this:</p>\n\n<pre><code>    private var usedRealm = false\n\n    protected val realm: Realm by lazy {\n        usedRealm = true\n        Realm.getDefaultInstance()\n    }\n\noverride fun onDestroy() {\n        super.onDestroy()\n\n        if (usedRealm) {\n            realm.close()\n        }\n    }\n</code></pre>\n\n<p>Is there any way to accomplish the same, without the extra flag?</p>\n"}, {"tags": ["lambda", "kotlin", "decompiling", "jvm-bytecode"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1470388423, "post_id": 38784939, "comment_id": 64941324, "body": "Which solution is better depends on what you&#39;re trying to achieve or optimize for?"}, {"owner": {"reputation": 310, "user_id": 2215634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50e0a5b19df24dd16716d52a85ee5d8?s=128&d=identicon&r=PG", "display_name": "Pawe\u0142 Byszewski", "link": "https://stackoverflow.com/users/2215634/pawe%c5%82-byszewski"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 1, "creation_date": 1470390473, "post_id": 38784939, "comment_id": 64942681, "body": "I would not like to have unnecessary, empty instances. I know the easiest solution is to have nullable lambda but that implies ugly constructions <code>action?.invoke()</code>."}, {"owner": {"reputation": 6181, "user_id": 647381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/75821c39029992767a54f3016dbd7b93?s=128&d=identicon&r=PG", "display_name": "ruX", "link": "https://stackoverflow.com/users/647381/rux"}, "edited": false, "score": 0, "creation_date": 1470394801, "post_id": 38784939, "comment_id": 64945191, "body": "@Pawe\u0142Byszewski what are your concerns about <code>class Test1(val action: () -&gt; Unit = {})</code>?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1470402896, "post_id": 38784939, "comment_id": 64950504, "body": "You asked for opinion between two subjective answers.  Therefore the answer is your question:  use null if you like dealing with nulls, or use empty if you want to have empty behavior when the value is missing.  The same question could be asked about &quot;should I have a null list or empty list?&quot; and the answer is the same &quot;it depends on you&quot;"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1470405848, "post_id": 38784939, "comment_id": 64952575, "body": "Both solutions look smelly to me. Why not have two separate types: one with an action and one without? You may need to use inheritance and/or delegation to reuse some code. You might even make <code>action</code> an abstract function instead of a property. I suspect that your code will be cleaner."}, {"owner": {"reputation": 310, "user_id": 2215634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50e0a5b19df24dd16716d52a85ee5d8?s=128&d=identicon&r=PG", "display_name": "Pawe\u0142 Byszewski", "link": "https://stackoverflow.com/users/2215634/pawe%c5%82-byszewski"}, "edited": false, "score": 0, "creation_date": 1470410106, "post_id": 38784939, "comment_id": 64955476, "body": "You may have right but I suppose there are cases where that approach is reasonable. For example DSL or example dialog window builder that follow patter well known thought a framework. Anyway questions how does Kotlin work still is waiting for answer"}], "answers": [{"comments": [{"owner": {"reputation": 406, "user_id": 2093032, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/0bc89fff23e0b0fa310c24c86e555522?s=128&d=identicon&r=PG&f=1", "display_name": "Sunstrike", "link": "https://stackoverflow.com/users/2093032/sunstrike"}, "edited": false, "score": 4, "creation_date": 1503324312, "post_id": 38793639, "comment_id": 78556084, "body": "How to check if lambda is empty?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 406, "user_id": 2093032, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/0bc89fff23e0b0fa310c24c86e555522?s=128&d=identicon&r=PG&f=1", "display_name": "Sunstrike", "link": "https://stackoverflow.com/users/2093032/sunstrike"}, "edited": false, "score": 0, "creation_date": 1503337936, "post_id": 38793639, "comment_id": 78563891, "body": "@Sunstrike There is no way to do that. Why do you think you need that?"}, {"owner": {"reputation": 406, "user_id": 2093032, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/0bc89fff23e0b0fa310c24c86e555522?s=128&d=identicon&r=PG&f=1", "display_name": "Sunstrike", "link": "https://stackoverflow.com/users/2093032/sunstrike"}, "edited": false, "score": 1, "creation_date": 1503338129, "post_id": 38793639, "comment_id": 78563966, "body": "Opened a question <a href=\"https://stackoverflow.com/questions/45799825/how-to-check-lambda-emptiness-in-kotlin\" title=\"how to check lambda emptiness in kotlin\">stackoverflow.com/questions/45799825/&hellip;</a>  and probably got solution"}, {"owner": {"reputation": 4936, "user_id": 7408927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3014b6a57c88143a2a0784fb9c2708e8?s=128&d=identicon&r=PG&f=1", "display_name": "Sevastyan Savanyuk", "link": "https://stackoverflow.com/users/7408927/sevastyan-savanyuk"}, "edited": false, "score": 0, "creation_date": 1506350878, "post_id": 38793639, "comment_id": 79773735, "body": "Kotlin newbie here. Is it stupid to set an empty lambda (to a variable that holds lambda stuff) &quot;just because to release resources&quot; after I&#39;m done with the lambda?"}, {"owner": {"reputation": 1582, "user_id": 3917943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02a49efb020fbd54a04e980faeaf053?s=128&d=identicon&r=PG&f=1", "display_name": "Mathias Henze", "link": "https://stackoverflow.com/users/3917943/mathias-henze"}, "edited": false, "score": 0, "creation_date": 1589115686, "post_id": 38793639, "comment_id": 109158950, "body": "&quot;<i>It is definitely more idiomatic to pass an empty lambda</i>&quot; - I disagree. Since in kotlin nullability is a first class citizen and the clear indication of a missing value, I would pass null as the default argument. It also has the upside, that it can be easily checked and handled and you don&#39;t expect that the lambda does something useful - especially for lambdas with a return value."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 15, "last_activity_date": 1470413491, "creation_date": 1470413491, "answer_id": 38793639, "question_id": 38784939, "link": "https://stackoverflow.com/questions/38784939/null-or-empty-lambda-as-default-value/38793639#38793639", "title": "null or empty lambda as default value", "body": "<p>It is definitely more idiomatic to pass an empty lambda rather than null as a default value for a lambda parameter.</p>\n\n<p>The decompiler used in IntelliJ IDEA does not always handle Kotlin bytecode particularly well, so what you see in its output in this case does not reflect what actually happens. In reality, the empty lambda will be compiled to a singleton nested class implementing the corresponding <code>FunctionN</code> interface with an empty body, and the singleton instance will be used as the default value.</p>\n\n<p>See <a href=\"http://www.slideshare.net/intelliyole/kotlin-bytecode-generation-and-runtime-performance\" rel=\"noreferrer\">my talk slides</a> for more information on how default parameters are implemented in Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 1467, "user_id": 4095993, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SAnXz.jpg?s=128&g=1", "display_name": "Catluc", "link": "https://stackoverflow.com/users/4095993/catluc"}, "is_accepted": false, "score": 8, "last_activity_date": 1528879262, "creation_date": 1528879262, "answer_id": 50832739, "question_id": 38784939, "link": "https://stackoverflow.com/questions/38784939/null-or-empty-lambda-as-default-value/50832739#50832739", "title": "null or empty lambda as default value", "body": "<p>Look the last paremter of the exposed function:</p>\n\n<pre><code>internal fun showDialog(title: String, message:String?= null, okButtonAction: () -&gt; Unit, koButtonAction:() -&gt; Unit = {}){ //do things.....}\n</code></pre>\n"}], "owner": {"reputation": 310, "user_id": 2215634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50e0a5b19df24dd16716d52a85ee5d8?s=128&d=identicon&r=PG", "display_name": "Pawe\u0142 Byszewski", "link": "https://stackoverflow.com/users/2215634/pawe%c5%82-byszewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14148, "favorite_count": 5, "accepted_answer_id": 38793639, "answer_count": 2, "score": 17, "last_activity_date": 1528879262, "creation_date": 1470386601, "last_edit_date": 1470390572, "question_id": 38784939, "link": "https://stackoverflow.com/questions/38784939/null-or-empty-lambda-as-default-value", "title": "null or empty lambda as default value", "body": "<p>which solution is better? use nullable lambda or  pass empty lambda as default parameter? would kotlin optimize somehow empty lambda ? or create new instance that do nothing?</p>\n\n<p><code>class Test1(val action: () -&gt; Unit = {})</code></p>\n\n<p>Unfortunately I do not understand generated byte code. Lets analyze </p>\n\n<p><code>val test11 = Test1()</code></p>\n\n<p>after decompilation gives us</p>\n\n<p><code>private static final Test1 test11 = new Test1((Function0)null, 1, (DefaultConstructorMarker)null);</code></p>\n\n<p>and finally as a lambda is passed something like this</p>\n\n<p><code>var1 = (Function0)null.INSTANCE;</code></p>\n\n<p>edit:\nthe hidden questions is: How does Kotlin treat empty lambda as default value?</p>\n"}, {"tags": ["java", "javafx", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 2, "creation_date": 1470376984, "post_id": 38782137, "comment_id": 64935102, "body": "this does not compile either since <code>currentHourIndex</code> is already an <code>Int</code>"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1470376903, "creation_date": 1470376903, "answer_id": 38782137, "question_id": 38779666, "link": "https://stackoverflow.com/questions/38779666/how-to-fix-overload-resolution-ambiguity-in-kotlin-no-lambda/38782137#38782137", "title": "How to fix Overload Resolution Ambiguity in Kotlin (no lambda)?", "body": "<p>Try casting to <code>Int</code>:</p>\n\n<pre><code>departureHourChoice!!.selectionModel.select(currentHourIndex as Int)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 15, "last_activity_date": 1470376945, "last_edit_date": 1495542786, "creation_date": 1470376945, "answer_id": 38782152, "question_id": 38779666, "link": "https://stackoverflow.com/questions/38779666/how-to-fix-overload-resolution-ambiguity-in-kotlin-no-lambda/38782152#38782152", "title": "How to fix Overload Resolution Ambiguity in Kotlin (no lambda)?", "body": "<p>It seems that you are hit by <a href=\"https://youtrack.jetbrains.com/issue/KT-11440\" rel=\"noreferrer\">this bug</a> as a workaround you can :</p>\n\n<ul>\n<li><p>box the <code>currentHourIndex</code>:</p>\n\n<pre><code>lateinit var departureHourChoice: ChoiceBox&lt;Int&gt;\n...\nval currentHourIndex = 1\ndepartureHourChoice.selectionModel.select(currentHourIndex as Int?)\n</code></pre></li>\n<li><p>or change declaration of <code>ChoiceBox</code> to use <code>java.lang.Integer</code> instead of Kotlin's <code>Int</code>:</p>\n\n<pre><code>lateinit var departureHourChoice: ChoiceBox&lt;java.lang.Integer&gt;\n...\nval currentHourIndex = 1\ndepartureHourChoice.selectionModel.select(currentHourIndex)\n</code></pre></li>\n</ul>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/37625983/why-is-integer-parameter-of-java-method-mapped-to-int-and-not-platform-type\">Why is Integer parameter of Java method mapped to Int and not platform type?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37625599/kotlin-what-can-i-do-when-a-java-library-has-an-overload-of-both-primitive-and/37625834#37625834\">Kotlin: What can I do when a Java library has an overload of both primitive and boxed type?</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 5208205, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10153498190017246/picture?type=large", "display_name": "Rowan Gontier", "link": "https://stackoverflow.com/users/5208205/rowan-gontier"}, "is_accepted": false, "score": 0, "last_activity_date": 1542773414, "creation_date": 1542773414, "answer_id": 53405142, "question_id": 38779666, "link": "https://stackoverflow.com/questions/38779666/how-to-fix-overload-resolution-ambiguity-in-kotlin-no-lambda/53405142#53405142", "title": "How to fix Overload Resolution Ambiguity in Kotlin (no lambda)?", "body": "<p>The solution for me in similar situation is to define in your import for example:\nimport kotlin.math.sqrt as kotsqrt</p>\n\n<p>then use as:\nval a = kotsqrt(2.3)</p>\n"}], "owner": {"reputation": 1556, "user_id": 5572258, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1e163a91fc8834d9a02d7031af26e615?s=128&d=identicon&r=PG&f=1", "display_name": "Berry", "link": "https://stackoverflow.com/users/5572258/berry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14136, "favorite_count": 2, "accepted_answer_id": 38782152, "answer_count": 3, "score": 18, "last_activity_date": 1542773414, "creation_date": 1470359412, "last_edit_date": 1504144288, "question_id": 38779666, "link": "https://stackoverflow.com/questions/38779666/how-to-fix-overload-resolution-ambiguity-in-kotlin-no-lambda", "title": "How to fix Overload Resolution Ambiguity in Kotlin (no lambda)?", "body": "<p>I am having Overload Resolution Ambiguity error in this line:</p>\n\n<p><code>departureHourChoice!!.selectionModel.select(currentHourIndex)</code></p>\n\n<p>For Reference:</p>\n\n<ul>\n<li><p><code>departureHourChoice</code> is a <code>ChoiceBox&lt;Int&gt;</code>, which is from <code>java.scene.control</code></p></li>\n<li><p><code>currentHourIndex</code> is an <code>Int</code></p></li>\n<li><p>The Overload Resolution Ambiguity happens in the <code>.select()</code> method; It is overloaded and can accept two kinds of parameters: <code>(T obj)</code> or <code>(int index)</code>. </p></li>\n<li><p>The <code>.select()</code> method allows for an item in a <code>ChoiceBox</code> to be selected, and you can determine which one can be selected by referencing to that item or to it's index. In this case, I want it to be selected by Index (<code>int</code>).</p></li>\n<li><p>Here is a photo of the error<a href=\"https://i.stack.imgur.com/08IRx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/08IRx.png\" alt=\"enter image description here\"></a></p></li>\n</ul>\n\n<p>How would one resolve the Overload Resolution Ambiguity?</p>\n"}, {"tags": ["function", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13739, "user_id": 38333, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e2ea7c27233a9019a1f91a821726a4d4?s=128&d=identicon&r=PG", "display_name": "cd1", "link": "https://stackoverflow.com/users/38333/cd1"}, "edited": false, "score": 0, "creation_date": 1500571695, "post_id": 38779122, "comment_id": 77409146, "body": "Really? From <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/visibility-modifiers.html</a>, I read:  Functions, properties and classes, objects and interfaces can be declared on the &quot;top-level&quot;, i.e. directly inside a package: ... If you do not specify any visibility modifier, public is used by default, which means that your declarations will be visible everywhere;"}, {"owner": {"reputation": 644, "user_id": 5326062, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-wyQqFvVdnKo/AAAAAAAAAAI/AAAAAAAAAwY/atuvPb80mWU/photo.jpg?sz=128", "display_name": "Ivan Temchenko", "link": "https://stackoverflow.com/users/5326062/ivan-temchenko"}, "edited": false, "score": 1, "creation_date": 1506708076, "post_id": 38779122, "comment_id": 79943545, "body": "weirdly enough this thing is working for me only if I&#39;m doing this in IntelliJ IDEA. If I&#39;ll run same code from kotlinc <code>kotlinc main.kt -include-runtime -d main.jar &amp;&amp; java -jar main.jar</code> I&#39;m getting <b>unresolved reference</b> error."}, {"owner": {"reputation": 379, "user_id": 8033562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d75ce61d36f838e3fca5e12ad5b8678?s=128&d=identicon&r=PG", "display_name": "Geoff Langenderfer", "link": "https://stackoverflow.com/users/8033562/geoff-langenderfer"}, "reply_to_user": {"reputation": 644, "user_id": 5326062, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-wyQqFvVdnKo/AAAAAAAAAAI/AAAAAAAAAwY/atuvPb80mWU/photo.jpg?sz=128", "display_name": "Ivan Temchenko", "link": "https://stackoverflow.com/users/5326062/ivan-temchenko"}, "edited": false, "score": 0, "creation_date": 1589687355, "post_id": 38779122, "comment_id": 109389981, "body": "@IvanTemchenko I&#39;m having the same issue. Any resolution?"}], "tags": [], "owner": {"reputation": 1615, "user_id": 2884225, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Eaihe.png?s=128&g=1", "display_name": "Ryan Hilbert", "link": "https://stackoverflow.com/users/2884225/ryan-hilbert"}, "is_accepted": true, "score": 22, "last_activity_date": 1470354764, "creation_date": 1470354764, "answer_id": 38779122, "question_id": 38778882, "link": "https://stackoverflow.com/questions/38778882/how-to-create-package-level-functions/38779122#38779122", "title": "How to create package-level functions?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/packages.html\" rel=\"noreferrer\">From the reference:</a></p>\n\n<blockquote>\n  <p>All the contents (such as classes and functions) of the source file are contained by the package declared.</p>\n</blockquote>\n\n<p>So simply by creating a source file like so:</p>\n\n<pre><code>package my.pkg\n\nfun f0()=0\nfun f1()=1\n</code></pre>\n\n<p>We can declare functions named <code>f0</code> and <code>f1</code> directly visible to the <code>my.pkg</code> package. These functions may then be imported and used similarly to classes:</p>\n\n<pre><code>import my.pkg.f0\nimport my.pkg.f1\n</code></pre>\n\n<p>Alternatively, using the <code>*</code> syntax:</p>\n\n<pre><code>import my.pkg.*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 0, "last_activity_date": 1613131498, "creation_date": 1613131498, "answer_id": 66171563, "question_id": 38778882, "link": "https://stackoverflow.com/questions/38778882/how-to-create-package-level-functions/66171563#66171563", "title": "How to create package-level functions?", "body": "<h2>Package-level functions</h2>\n<p>Package-level functions are also known as top-level functions. They are declared directly inside a file without creating any class for them. They are often utility functions independent of any class:</p>\n<p><strong>UserUtils.kt</strong></p>\n<pre><code>package com.app.user\n\nfun getAllUsers() { }\n\nfun getProfileFor(userId: String) { }\n</code></pre>\n<p>Usage:</p>\n<pre><code>import com.app.user.getProfileFor\n\nval userProfile = getProfileFor(&quot;34&quot;)\n</code></pre>\n<p>You don't need to manually write the <code>import</code> statement, just type the function name and the auto-import will do its job.</p>\n<hr />\n<h2>Package-level functions with a class</h2>\n<p>When the functions are somewhat related to a class, define them just above the class, in the same file:</p>\n<p><strong>User.kt</strong></p>\n<pre><code>package com.app.user   \n\nfun getAllUsers() { }\n\nfun getProfileFor(userId: String) { }\n\ndata class User(val id: String, val name: String)\n</code></pre>\n<p>Usage:</p>\n<pre><code>import com.app.user.getAllUsers\n\nval userList = getAllUsers()\n</code></pre>\n<hr />\n<h2><code>companion object</code></h2>\n<p>When the functions are closely related to a class, define them inside a <code>companion object</code>:</p>\n<p><strong>User.kt</strong></p>\n<pre><code>data class User(val id: String, val name: String) {\n\n    companion object {\n\n        fun getAll() { }\n\n        fun profileFor(userId: String) { }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>import com.app.user.User\n\nval userProfile = User.profileFor(&quot;34&quot;)\n</code></pre>\n<hr />\n<p>That's it!</p>\n"}], "owner": {"reputation": 1556, "user_id": 5572258, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1e163a91fc8834d9a02d7031af26e615?s=128&d=identicon&r=PG&f=1", "display_name": "Berry", "link": "https://stackoverflow.com/users/5572258/berry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6420, "favorite_count": 1, "accepted_answer_id": 38779122, "answer_count": 2, "score": 16, "last_activity_date": 1613131498, "creation_date": 1470353088, "question_id": 38778882, "link": "https://stackoverflow.com/questions/38778882/how-to-create-package-level-functions", "title": "How to create package-level functions?", "body": "<p>I was reading <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"noreferrer\">the Kotlin Reference Guide</a> and one part said:</p>\n\n<blockquote>\n  <p>In Kotlin, unlike Java or C#, classes do not have static methods. In most cases, it\u2019s recommended to simply use package-level functions instead.</p>\n</blockquote>\n\n<p>How does one create a package-level function?</p>\n"}, {"tags": ["java-8", "kotlin", "optional"], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 9, "creation_date": 1473791026, "post_id": 38767769, "comment_id": 66272521, "body": "kotlin-stdlib has &quot;or-null&quot; functions (e.g. <code>firstOrNull</code>, <code>lastOrNull</code>, etc.). You might consider using &quot;orNull` instead of &quot;unwrap&quot;."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 35, "last_activity_date": 1470422592, "last_edit_date": 1470422592, "creation_date": 1470314824, "answer_id": 38767769, "question_id": 38767376, "link": "https://stackoverflow.com/questions/38767376/how-to-map-java-util-optionalsomething-to-something-in-kotlin/38767769#38767769", "title": "How to map java.util.Optional&lt;Something&gt; to Something? in Kotlin", "body": "<p>Extend the java API with a method to unwrap <code>Optional</code>:</p>\n\n<pre><code>fun &lt;T&gt; Optional&lt;T&gt;.unwrap(): T? = orElse(null)\n</code></pre>\n\n<p>Then use it like you wanted:</p>\n\n<pre><code>val msg: Something? = optional.unwrap()  // the type is enforced\n</code></pre>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/extensions.html</a> for details.</p>\n"}, {"comments": [{"owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "edited": false, "score": 0, "creation_date": 1554920008, "post_id": 45294506, "comment_id": 97931005, "body": "Where did you find <code>orNull</code> method?"}, {"owner": {"reputation": 9780, "user_id": 749786, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0fd7e5c09a0d7fe15aaa45cfec2ee859?s=128&d=identicon&r=PG", "display_name": "Jake Lin", "link": "https://stackoverflow.com/users/749786/jake-lin"}, "reply_to_user": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "edited": false, "score": 0, "creation_date": 1557817964, "post_id": 45294506, "comment_id": 98881714, "body": "Using the auto-suggestion in Android Studio."}, {"owner": {"reputation": 10402, "user_id": 1849837, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/CDnLh.jpg?s=128&g=1", "display_name": "Bartosz Bilicki", "link": "https://stackoverflow.com/users/1849837/bartosz-bilicki"}, "edited": false, "score": 0, "creation_date": 1599061537, "post_id": 45294506, "comment_id": 112658777, "body": "this is good for com.google.common.base.Optional from Guava.  java.util.Optional does not have orNull() method."}], "tags": [], "owner": {"reputation": 9780, "user_id": 749786, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0fd7e5c09a0d7fe15aaa45cfec2ee859?s=128&d=identicon&r=PG", "display_name": "Jake Lin", "link": "https://stackoverflow.com/users/749786/jake-lin"}, "is_accepted": false, "score": 7, "last_activity_date": 1599061489, "last_edit_date": 1599061489, "creation_date": 1500960086, "answer_id": 45294506, "question_id": 38767376, "link": "https://stackoverflow.com/questions/38767376/how-to-map-java-util-optionalsomething-to-something-in-kotlin/45294506#45294506", "title": "How to map java.util.Optional&lt;Something&gt; to Something? in Kotlin", "body": "<p>If you use <code>com.google.common.base.Optional</code> (Guava library) then  <code>orNull()</code> is better.</p>\n<p>For example,</p>\n<pre><code>// Java\npublic class JavaClass\n  public Optional&lt;String&gt; getOptionalString() {\n    return Optional.absent();\n  }\n}\n\n// Kotlin\nval optionalString = JavaClass().getOptionalString().orNull()\n</code></pre>\n<p>The definition of <code>orNull()</code></p>\n<pre><code>/**\n * Returns the contained instance if it is present; {@code null} otherwise. If the instance is\n * known to be present, use {@link #get()} instead.\n *\n * &lt;p&gt;&lt;b&gt;Comparison to {@code java.util.Optional}:&lt;/b&gt; this method is equivalent to Java 8's\n * {@code Optional.orElse(null)}.\n */\n@Nullable\npublic abstract T orNull();\n</code></pre>\n"}], "owner": {"reputation": 10402, "user_id": 1849837, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/CDnLh.jpg?s=128&g=1", "display_name": "Bartosz Bilicki", "link": "https://stackoverflow.com/users/1849837/bartosz-bilicki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8871, "favorite_count": 4, "accepted_answer_id": 38767769, "answer_count": 2, "score": 18, "last_activity_date": 1599061489, "creation_date": 1470313721, "last_edit_date": 1470320149, "question_id": 38767376, "link": "https://stackoverflow.com/questions/38767376/how-to-map-java-util-optionalsomething-to-something-in-kotlin", "title": "How to map java.util.Optional&lt;Something&gt; to Something? in Kotlin", "body": "<p>I have a method that returns <code>java.util.Optional&lt;Something&gt;</code>.\nI want to use that method from Kotlin, and I want my result to be <code>Something?</code>, not <code>Optional&lt;Something&gt;</code></p>\n\n<p>How to do that in Kotlin, in idiomatic way? </p>\n\n<p>calling <code>.orElse(null)</code> on <code>Optional</code> gives me <code>Something?</code> indeed, but it does not look good. Kotlin does not complain if I write  <code>val msg: Something = optional.orElse(null).</code> (<code>msg</code> is declared as  <code>Something</code>, not <code>Something?</code>- I loose compile-type check).</p>\n\n<p>I use Kotlin 1.0.3</p>\n"}, {"tags": ["android", "annotations", "kotlin", "lint"], "comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1470308813, "post_id": 38765619, "comment_id": 64902663, "body": "I would assume so ( <a href=\"https://kotlinlang.org/docs/reference/annotations.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/annotations.html</a> ) but maybe kotlin for Android is a bit different; or: lint simply doesn&#39;t know about that."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1470309532, "post_id": 38765619, "comment_id": 64903094, "body": "The lint check you mentioned might haven&#39;t been implemented yet for Kotlin: only subset of those has been ported, though all are planned."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1470313277, "post_id": 38765619, "comment_id": 64905473, "body": "Also, can you share code of where you used the annotation?  If on a property, what annotation target did you set?  (for example <a href=\"http://stackoverflow.com/questions/35361162/what-is-the-default-target-for-an-annotation-when-annotating-property-in-kotlin\" title=\"what is the default target for an annotation when annotating property in kotlin\">stackoverflow.com/questions/35361162/&hellip;</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "edited": false, "score": 0, "creation_date": 1470432664, "post_id": 38793683, "comment_id": 64966415, "body": "thanks for the explanation. It is the lint check that i miss the most, because its easy to write R.color.xxx instead of resolved color res"}, {"owner": {"reputation": 13935, "user_id": 11015, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zKg6n.jpg?s=128&g=1", "display_name": "miguel", "link": "https://stackoverflow.com/users/11015/miguel"}, "edited": false, "score": 0, "creation_date": 1562186651, "post_id": 38793683, "comment_id": 100303903, "body": "Three years later and it still doesn&#39;t work. Came here after wasting two hours trying to figure out why my <code>setBackgroundColor(R.color.white)</code> looked blue."}, {"owner": {"reputation": 606, "user_id": 5525590, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a1176fab6a672d44d7eef80d17d2500b?s=128&d=identicon&r=PG&f=1", "display_name": "kolboc", "link": "https://stackoverflow.com/users/5525590/kolboc"}, "edited": false, "score": 0, "creation_date": 1578053603, "post_id": 38793683, "comment_id": 105323054, "body": "@yole can you point direction where can I contribute and maybe write that :) ? We use that in our project, and to keep things clean and for Kotlin advantage I would really like to support that."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 10, "last_activity_date": 1470413663, "creation_date": 1470413663, "answer_id": 38793683, "question_id": 38765619, "link": "https://stackoverflow.com/questions/38765619/kotlin-support-for-colorint-java-annotation/38793683#38793683", "title": "Kotlin support for @ColorInt Java Annotation", "body": "<p>The Kotlin language definitely supports all Java annotations. The Lint checks you're talking about are not part of either the Java language or the Kotlin language, but rather a feature of Android Studio and the Android plugin for IntelliJ IDEA. That feature is currently supported only for Java, and we plan to support it for Kotlin in a future update of the Kotlin plugin.</p>\n"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1855, "favorite_count": 2, "accepted_answer_id": 38793683, "answer_count": 1, "score": 7, "last_activity_date": 1499090203, "creation_date": 1470308719, "last_edit_date": 1499090203, "question_id": 38765619, "link": "https://stackoverflow.com/questions/38765619/kotlin-support-for-colorint-java-annotation", "title": "Kotlin support for @ColorInt Java Annotation", "body": "<p>Does Kotlin support java annotations like <code>@ColorInt</code>, because i cannot get it to work. I can annotate a color with <code>@ColorInt</code>, but don't actually get the lint checks for that annotation.</p>\n\n<p>Example</p>\n\n<pre><code>    fun setStatusBarColor(@ColorInt color){\n        window.setStatusBarColor(color)\n    }\n</code></pre>\n\n<p>When passing <code>R.color.colorPrimary</code>, no lint is shown. Should show lint with <code>R.color.colorPrimary</code> and don't show with <code>resources.getColor(R.color.colorPrimary)</code></p>\n"}, {"tags": ["android", "rx-java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8923, "user_id": 591482, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2bdfddda0c3b0e56456e6050c818947?s=128&d=identicon&r=PG", "display_name": "apouche", "link": "https://stackoverflow.com/users/591482/apouche"}, "edited": false, "score": 0, "creation_date": 1470316173, "post_id": 38765403, "comment_id": 64907614, "body": "thanks @dwursteisen and this is exactly what I thought but I never had those issues with RxSwift at all. It works a little differently though as you can cancel the request through the use of an <code>AnonymousDisposable</code>."}], "tags": [], "owner": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "is_accepted": true, "score": 1, "last_activity_date": 1506187406, "last_edit_date": 1506187406, "creation_date": 1470308110, "answer_id": 38765403, "question_id": 38764633, "link": "https://stackoverflow.com/questions/38764633/android-rxjava-onnext-called-even-when-observer-is-unsubscribed/38765403#38765403", "title": "Android RxJava onNext called even when observer is unsubscribed", "body": "<p>In the worst case : You perform a http call. Then, if the text change, you unsubscribe from the previous subscription, then perform another http call. But, the response from the first http call just spawn.</p>\n\n<p>That's why you've got this sort of log orders. As you have unsubscribre from your <code>Observable</code>, it should not emit a new value. For this, you can add a simple <code>if</code> before the <code>onNext</code> / <code>oncompleted</code> block : </p>\n\n<pre><code>request.enqueue(object : Callback&lt;MyClass&gt;() {\n        override fun onSuccess(result: MyClass) {\n\n            if(!observer.isUnsubscribed()) {\n                  Log.v(\"TEST\", \"is unsubscribed ${observer.isUnsubscribed} for query $query\")\n                  observer.onNext(result)\n                  observer.onCompleted()\n             }\n        }\n\n        override fun onError(error: APIError) {\n            if(!observer.isUnsubscribed()) {\n                  observer.onError(error)\n            }\n        }\n    })\n</code></pre>\n\n<p>Like this, you avoid to emit a value that won't be latter processed (as you unsubscribe from it)</p>\n\n<p>Please note that you're using <code>Observable.create</code> : you may avoid using it as you'll have to manage a lot of things, like Rx Contract, unscubsccription, backpressure. So you may use <code>RxJavaCallAdapterFactory</code> as you have suggested, or give it a try to <code>Observable.fromAsync</code>.</p>\n"}], "owner": {"reputation": 8923, "user_id": 591482, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b2bdfddda0c3b0e56456e6050c818947?s=128&d=identicon&r=PG", "display_name": "apouche", "link": "https://stackoverflow.com/users/591482/apouche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "accepted_answer_id": 38765403, "answer_count": 1, "score": 0, "last_activity_date": 1506187406, "creation_date": 1470305916, "question_id": 38764633, "link": "https://stackoverflow.com/questions/38764633/android-rxjava-onnext-called-even-when-observer-is-unsubscribed", "title": "Android RxJava onNext called even when observer is unsubscribed", "body": "<p>first of I'm new to Android, but going from the iOS world I used RxSwift extensively and found a behavior which I find very odd.</p>\n\n<p>I encapsulate a retrofit call into a RxJava <code>Observable</code> (I'm not using the <code>RxJavaCallAdapterFactory</code> but I really don't think that's the issue here).</p>\n\n<pre><code>fun SearchService.rx_myObjects(query: String?): Observable&lt;List&lt;MyClass&gt;&gt; {\n    return Observable.create { observer -&gt;\n        val request = getMyObjects(query = query)\n        request.enqueue(object : Callback&lt;MyClass&gt;() {\n            override fun onSuccess(result: MyClass) {\n                Log.v(\"TEST\", \"is unsubscribed ${observer.isUnsubscribed} for query $query\")\n                observer.onNext(result)\n                observer.onCompleted()\n            }\n\n            override fun onError(error: APIError) {\n                observer.onError(error)\n            }\n        })\n    }\n}\n</code></pre>\n\n<p>And while I suspect the <code>onNext</code> <strong>NOT</strong> to be called when that observer is unsubscribed this doesn't appear to be the case</p>\n\n<pre><code>08-04 11:50:39.767 5107-5107/com.mydomain.myapp V/TEST: is unsubscribed false for query par\n08-04 11:50:44.264 5107-5107/com.mydomain.myapp V/TEST: is unsubscribed true for query pari\n08-04 11:50:44.653 5107-5107/com.mydomain.myapp V/TEST: is unsubscribed false for query par\n08-04 11:50:46.358 5107-5107/com.mydomain.myapp V/TEST: is unsubscribed false for query pari\n08-04 11:50:47.990 5107-5107/com.mydomain.myapp V/TEST: is unsubscribed false for query pari\n08-04 11:50:48.033 5107-5107/com.mydomain.myapp V/TEST: is unsubscribed true for query par\n</code></pre>\n\n<p>as you can see the last call is unsubscribed and (that you can't see here but it's happening because I have the <code>par</code> results instead of the <code>pari</code> ones) the <code>doOnNext</code> closure is executed on my observable even if it's unsubscribed.</p>\n\n<p>I've digged into the internet and found <a href=\"https://github.com/ReactiveX/RxJava/issues/1590\" rel=\"nofollow\">this</a> which seems to describe the same issue except i'm not using the <code>cache</code> at all.</p>\n\n<p>Here's my subscription call:</p>\n\n<pre><code>private fun retrieveMyObjects(query: String?) {\n        subscription = service.rx_myObjects(query = query)\n            .doOnError { showError(it) }\n            .doOnNext { this.airports = it }\n            .subscribe()\n    }\n</code></pre>\n\n<p>and the objects call is triggered on a textView update</p>\n\n<pre><code>search_view.setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n    override fun onQueryTextChange(newText: String?): Boolean {\n        subscription?.unsubscribe()\n        retrieveMyObjects(newText)\n\n        return true\n    }\n})\n</code></pre>\n\n<p>Any advice ? Am I missing something here ?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 654, "user_id": 3585850, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2lWh2.jpg?s=128&g=1", "display_name": "androholic", "link": "https://stackoverflow.com/users/3585850/androholic"}, "edited": false, "score": 1, "creation_date": 1535965406, "post_id": 38765295, "comment_id": 91242563, "body": "It is returning 0 for the first time.On scrolling it is returning values.Is there any way out?"}, {"owner": {"reputation": 2276, "user_id": 915756, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/r0k4f.jpg?s=128&g=1", "display_name": "Michal Vician", "link": "https://stackoverflow.com/users/915756/michal-vician"}, "edited": false, "score": 14, "creation_date": 1565962919, "post_id": 38765295, "comment_id": 101517834, "body": "How you know the <code>recyclerViewWidth</code> in <code>onBindViewHolder</code>?"}], "tags": [], "owner": {"reputation": 5148, "user_id": 1880263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9b9e8dfe5107ca34dd29c6b1aab6b95?s=128&d=identicon&r=PG", "display_name": "Eyal Biran", "link": "https://stackoverflow.com/users/1880263/eyal-biran"}, "is_accepted": true, "score": 44, "last_activity_date": 1470307784, "creation_date": 1470307784, "answer_id": 38765295, "question_id": 38764254, "link": "https://stackoverflow.com/questions/38764254/how-to-get-the-height-of-recyclerview-item-in-onbindviewholder/38765295#38765295", "title": "How to get the height of recyclerview item in &quot;onBindViewHolder&quot;", "body": "<p><strong>Short</strong></p>\n\n<p>Measure the View manually</p>\n\n<pre><code>view.measure(\n             View.MeasureSpec.makeMeasureSpec(recyclerViewWidth, View.MeasureSpec.EXACTLY),\n             View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n</code></pre>\n\n<p>and get the height with <code>view.getMeasuredHeight()</code></p>\n\n<p><strong>Background</strong></p>\n\n<p>A view will return a valid value for <code>View.getHeight()</code>only after it has been measured. The measuring itself will automatically happen by the system when the view is about to be displayed on screen.</p>\n\n<p>When Android wants to display the layout, it will recursively call the <code>view.layout()</code> function for each view in the view tree. Each Parent tells its children the constraints they might have (width/height) and ask them to <code>view.measure()</code> themselves. As a result, the view will store the measured values <em>BASED</em> on the constraints in designated members (MeasuredHeight/Width). Note that at this point <code>view.getMeasuredHeight()</code> will hold the value while <code>view.getHeight()</code> will still be invalid. <code>view.getHeight()</code> will only return a valid value once the view has an actual height in the UI hierarchy.</p>\n\n<p><strong>Recap</strong></p>\n\n<p>So, to know the height of a view element, before it has been measured and laid out by the system, we will need to invoke the <code>view.measure()</code> function manually.</p>\n\n<p>The measure function expects 2 parameters which derived from the view LayoutParams + the parent constraints.</p>\n\n<p>In the above code sample, we are measuring the view forcing its width to be <strong>EXACTLY</strong> the width of the parent (the RecycleView), and the height is not limited.</p>\n"}, {"comments": [{"owner": {"reputation": 1889, "user_id": 3110587, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Nj1VW.jpg?s=128&g=1", "display_name": "ImMathan", "link": "https://stackoverflow.com/users/3110587/immathan"}, "edited": false, "score": 0, "creation_date": 1555947957, "post_id": 38765419, "comment_id": 98263067, "body": "ViewHolder does not have <code>getMeasuredHeight()</code> or <code>getMeasuredWidth()</code> methods."}, {"owner": {"reputation": 1121, "user_id": 3561450, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bcefd147a156cfbd6c48263b2fdeceda?s=128&d=identicon&r=PG", "display_name": "rion18", "link": "https://stackoverflow.com/users/3561450/rion18"}, "edited": false, "score": 2, "creation_date": 1561563438, "post_id": 38765419, "comment_id": 100108345, "body": "He probably means viewholder.itemView"}], "tags": [], "owner": {"reputation": 10456, "user_id": 235123, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/N9D2y.jpg?s=128&g=1", "display_name": "Mina Samy", "link": "https://stackoverflow.com/users/235123/mina-samy"}, "is_accepted": false, "score": 15, "last_activity_date": 1566466420, "last_edit_date": 1566466420, "creation_date": 1470308153, "answer_id": 38765419, "question_id": 38764254, "link": "https://stackoverflow.com/questions/38764254/how-to-get-the-height-of-recyclerview-item-in-onbindviewholder/38765419#38765419", "title": "How to get the height of recyclerview item in &quot;onBindViewHolder&quot;", "body": "<p>I suggest that you define multiple layout files with the expected heights and inflate them according to some criteria in your data set.</p>\n\n<pre><code>ViewHolder onCreateViewHolder (ViewGroup parent, int viewType){\n  if(some condition){\n    //inflate layout 1\n  }else{\n    //inflate layout 2\n }\n</code></pre>\n\n<p>or as answered <a href=\"https://stackoverflow.com/questions/8200896/how-to-find-the-width-of-the-a-view-before-the-view-is-displayed\">here</a>: you can get the measurements while initializing the view holder</p>\n\n<pre><code>itemView.measure(View.MeasureSpec.UNSPECIFIED, View.MeasureSpec.UNSPECIFIED);\nint width = itemView.getMeasuredWidth();\nint height = itemView.getMeasuredHeight();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 7797957, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QhdkHkoiujw/AAAAAAAAAAI/AAAAAAAAAic/9kcKueodP-A/photo.jpg?sz=128", "display_name": "Oleg Shevchenko", "link": "https://stackoverflow.com/users/7797957/oleg-shevchenko"}, "is_accepted": false, "score": 5, "last_activity_date": 1529743486, "creation_date": 1529743486, "answer_id": 50999492, "question_id": 38764254, "link": "https://stackoverflow.com/questions/38764254/how-to-get-the-height-of-recyclerview-item-in-onbindviewholder/50999492#50999492", "title": "How to get the height of recyclerview item in &quot;onBindViewHolder&quot;", "body": "<p>How about this:</p>\n\n<pre><code>view.post(() -&gt; {\n   int width = view.getMeasuredWidth();\n   int height = view.getMeasuredHeight();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 1965344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47c104a1dcf314587395ad089d4bb8dd?s=128&d=identicon&r=PG", "display_name": "Tinfu", "link": "https://stackoverflow.com/users/1965344/tinfu"}, "is_accepted": false, "score": 1, "last_activity_date": 1542369795, "creation_date": 1542369795, "answer_id": 53337533, "question_id": 38764254, "link": "https://stackoverflow.com/questions/38764254/how-to-get-the-height-of-recyclerview-item-in-onbindviewholder/53337533#53337533", "title": "How to get the height of recyclerview item in &quot;onBindViewHolder&quot;", "body": "<p>using this code to get recycler view's item height:</p>\n\n<pre><code>view.getViewTreeObserver().addOnGlobalLayoutListener(new \n         ViewTreeObserver.OnGlobalLayoutListener() {\n    @Override\n    public void onGlobalLayout() {\n        //don't forget remove this listener\n        view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n        //get item height here\n        int itemHeight = v.getHeight();\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 0, "last_activity_date": 1616172199, "last_edit_date": 1616172199, "creation_date": 1567703046, "answer_id": 57810079, "question_id": 38764254, "link": "https://stackoverflow.com/questions/38764254/how-to-get-the-height-of-recyclerview-item-in-onbindviewholder/57810079#57810079", "title": "How to get the height of recyclerview item in &quot;onBindViewHolder&quot;", "body": "<h2>MyViewHolder.kt</h2>\n<p>With the <code>addOnGlobalLayoutListener()</code> method, the height value is obtained before the TextView is drawn. And then save it in a member variable.</p>\n<p>The key is to <strong>modify the UI inside and outside the implementation of the listener</strong> so that there are no rendering problems (when the views are redrawn).</p>\n<p>That is, you shoud use the getter inside the listener and; the setter inside and outside the listener.</p>\n<pre><code>companion object {\n\n    var maxHeight: Int = 0\n   \n    fun create(mContext: Context): MyViewHolder {\n        val view = LayoutInflater.from(mContext).inflate(R.layout.item_answer, null)\n\n        updateLayout(view)\n\n        view.viewTreeObserver.addOnGlobalLayoutListener {\n\n            if (view.myTextView.height &gt; maxHeight)\n                maxHeight = view.myTextView.height\n\n            updateLayout(view)\n\n        }\n\n        return MyViewHolder(mContext, view).apply {\n            setIsRecyclable(false)\n        }\n    }\n\n    fun updateLayout(view: View) {\n        if (maxHeight != 0 &amp;&amp; view.myTextView.height != maxHeight) \n            view.myTextView.height = maxHeight\n    }\n    \n\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/10134260/5279996\">Source</a></p>\n"}], "owner": {"reputation": 1176, "user_id": 5259310, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RwPX5.png?s=128&g=1", "display_name": "zys", "link": "https://stackoverflow.com/users/5259310/zys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36701, "favorite_count": 8, "accepted_answer_id": 38765295, "answer_count": 5, "score": 27, "last_activity_date": 1616172199, "creation_date": 1470304912, "last_edit_date": 1569851093, "question_id": 38764254, "link": "https://stackoverflow.com/questions/38764254/how-to-get-the-height-of-recyclerview-item-in-onbindviewholder", "title": "How to get the height of recyclerview item in &quot;onBindViewHolder&quot;", "body": "<p>The height of RecyclerView item is <strong>not fixed</strong>,i need to set the background image for every item,so I want to get the  height of recyclerview's item to resize the Image,but the  <code>itemView.getHeight()</code> always return 0 in <code>onBindViewHolder</code>.</p>\n\n<p>I have try to search many questions or articles,but i still cant get a good soluation.</p>\n"}, {"tags": ["initialization", "kotlin", "primitive"], "answers": [{"comments": [{"owner": {"reputation": 490, "user_id": 6282033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41d6a1c9035ba56afd67776054e088a7?s=128&d=identicon&r=PG&f=1", "display_name": "Little Mike", "link": "https://stackoverflow.com/users/6282033/little-mike"}, "edited": false, "score": 0, "creation_date": 1581099511, "post_id": 38762276, "comment_id": 106329780, "body": "I think this is slightly misleading. It suggests the <i>only</i> reason for needing lateinit is to give a hint to the compiler when it&#39;s not smart enough to figure out if a property is initialized. Another totally valid use case (which would be especially useful for primitives) is to ensure that a descriptive exception is eagerly thrown if client code tries to access a value before it has been initialized/calculated, rather than silently doing the wrong thing based on a default value of 0 or false."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 8, "last_activity_date": 1470300951, "last_edit_date": 1470300951, "creation_date": 1470299473, "answer_id": 38762276, "question_id": 38761294, "link": "https://stackoverflow.com/questions/38761294/why-doesnt-kotlin-allow-to-use-lateinit-with-primitive-types/38762276#38762276", "title": "Why doesn&#39;t Kotlin allow to use lateinit with primitive types?", "body": "<p>A short answer is that with primitives you can always use <code>0</code> as the default, and with nullable types <code>null</code> as a default. Only non-nullable non-primitive types may need <code>lateinit</code> to work around the type safety system.</p>\n\n<p>Actually, there is no need for initializing a variable in Kotlin as long as it has a value <strong>before</strong> the first access and it can be <strong>statically</strong> proved. Which means this code is perfectly valid:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var x: Int\n    val y: Double\n\n    x = 0\n    y = x + 0.1\n\n    println(\"$x, $y\") \n}\n</code></pre>\n\n<p>But there are (rare) cases when the initialisation cannot be statically proved. The most common case is a class field which uses any form of dependency injection:</p>\n\n<pre><code>class Window {\n    @Inject lateinit parent: Parent\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 48, "creation_date": 1470334393, "post_id": 38769161, "comment_id": 64920572, "body": "Could you clarify in the answer, why <code>lateinit Int</code> couldn&#39;t be represented with the <code>Integer</code> type in runtime, which is able to hold <code>null</code> value while it hasn&#39;t been initialized?"}, {"owner": {"reputation": 636, "user_id": 1091440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/816c4617c2f52b6ecb6e910525879ee0?s=128&d=identicon&r=PG", "display_name": "Gustavo Maciel", "link": "https://stackoverflow.com/users/1091440/gustavo-maciel"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1508667560, "post_id": 38769161, "comment_id": 80692970, "body": "@Ilya because an <code>Integer</code> is not an <code>int</code>. It is a boxed type, and it matters when setting stuff natively or through reflection."}, {"owner": {"reputation": 629, "user_id": 4268119, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e54da3990a7516667cd8690f940cdf4?s=128&d=identicon&r=PG&f=1", "display_name": "Yao", "link": "https://stackoverflow.com/users/4268119/yao"}, "edited": false, "score": 4, "creation_date": 1509387171, "post_id": 38769161, "comment_id": 80990263, "body": "So, I think Kotlin wraps up the primitive types to object(for example int to Int). However, why can&#39;t Int hold null as it is an object ? Also, why can&#39;t we declare a parameter as nullable and lateinit it ? (var x: Int?)"}, {"owner": {"reputation": 1308, "user_id": 2581809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33afb2c1d879183a3b1e0f9418dd3195?s=128&d=identicon&r=PG", "display_name": "Ekeko", "link": "https://stackoverflow.com/users/2581809/ekeko"}, "reply_to_user": {"reputation": 629, "user_id": 4268119, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e54da3990a7516667cd8690f940cdf4?s=128&d=identicon&r=PG&f=1", "display_name": "Yao", "link": "https://stackoverflow.com/users/4268119/yao"}, "edited": false, "score": 2, "creation_date": 1517750941, "post_id": 38769161, "comment_id": 84213429, "body": "@Yao for the same reason explained by yole. Basically, you need an unused value that can be used to flag the fact that the var is not inited. As explained, there is no such value for primitives (all values that can be hold by a primitive var are valid). The same problem holds for nullable vars: all values, included null, are valid (you can init a nullable var with null). So no unused value remains to mark the var as not inited."}, {"owner": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "reply_to_user": {"reputation": 636, "user_id": 1091440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/816c4617c2f52b6ecb6e910525879ee0?s=128&d=identicon&r=PG", "display_name": "Gustavo Maciel", "link": "https://stackoverflow.com/users/1091440/gustavo-maciel"}, "edited": false, "score": 3, "creation_date": 1526152421, "post_id": 38769161, "comment_id": 87635553, "body": "@GustavoMaciel but if I say <code>lateinit var int: Int?</code> then I don&#39;t see why that wouldn&#39;t work, since Kotlin is already representing <code>Int?</code> with <code>Integer</code> ..."}, {"owner": {"reputation": 636, "user_id": 1091440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/816c4617c2f52b6ecb6e910525879ee0?s=128&d=identicon&r=PG", "display_name": "Gustavo Maciel", "link": "https://stackoverflow.com/users/1091440/gustavo-maciel"}, "reply_to_user": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "edited": false, "score": 2, "creation_date": 1526257647, "post_id": 38769161, "comment_id": 87659379, "body": "@forresthopkinsa Because <code>lateinit</code> and <code>?</code> are conflicting. The former says you have a variable that will always have some value after being initialized, the latter says you have a variable that may or may not have some value. You shouldn&#39;t need to <code>?.</code> or ever check for nullity on a <code>lateinit</code> var."}, {"owner": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "reply_to_user": {"reputation": 636, "user_id": 1091440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/816c4617c2f52b6ecb6e910525879ee0?s=128&d=identicon&r=PG", "display_name": "Gustavo Maciel", "link": "https://stackoverflow.com/users/1091440/gustavo-maciel"}, "edited": false, "score": 0, "creation_date": 1526315557, "post_id": 38769161, "comment_id": 87686287, "body": "@GustavoMaciel that makes sense"}, {"owner": {"reputation": 837, "user_id": 5784051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/smjWQ.jpg?s=128&g=1", "display_name": "Xwtek", "link": "https://stackoverflow.com/users/5784051/xwtek"}, "reply_to_user": {"reputation": 636, "user_id": 1091440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/816c4617c2f52b6ecb6e910525879ee0?s=128&d=identicon&r=PG", "display_name": "Gustavo Maciel", "link": "https://stackoverflow.com/users/1091440/gustavo-maciel"}, "edited": false, "score": 0, "creation_date": 1569852283, "post_id": 38769161, "comment_id": 102720403, "body": "@GustavoMaciel sometimes, you need to distinguish the variable initialized as a null and uninitialized variable."}, {"owner": {"reputation": 30812, "user_id": 589329, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7badf6e89094b134dd4eb65792b7f734?s=128&d=identicon&r=PG", "display_name": "Vampire", "link": "https://stackoverflow.com/users/589329/vampire"}, "edited": false, "score": 0, "creation_date": 1597444158, "post_id": 38769161, "comment_id": 112144968, "body": "The difference between <code>Int</code> and <code>Int?</code> is, that the first can have all numbers as value, the second can have all numbers and <code>null</code> as value. So why can&#39;t we have a <code>lateinit Int</code> that has <code>null</code> as marker value for not yet initialized? :-/"}, {"owner": {"reputation": 3778, "user_id": 1631197, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Y28vX.jpg?s=128&g=1", "display_name": "codingjeremy", "link": "https://stackoverflow.com/users/1631197/codingjeremy"}, "edited": false, "score": 0, "creation_date": 1603756673, "post_id": 38769161, "comment_id": 114132172, "body": "So what is the recommendation for primitives, just keep them as <code>var</code> and initialize them to zero (even though it isn&#39;t a valid value)?"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 59, "last_activity_date": 1594048555, "last_edit_date": 1594048555, "creation_date": 1470318379, "answer_id": 38769161, "question_id": 38761294, "link": "https://stackoverflow.com/questions/38761294/why-doesnt-kotlin-allow-to-use-lateinit-with-primitive-types/38769161#38769161", "title": "Why doesn&#39;t Kotlin allow to use lateinit with primitive types?", "body": "<p>For (non-nullable) object types, Kotlin uses the <code>null</code> value to mark that a <code>lateinit</code> property has not been initialized and to throw the appropriate exception when the property is accessed.</p>\n<p>For primitive types, there is no such value, so there is no way to mark a property as non-initialized and to provide the diagnostics that <code>lateinit</code> needs to provide. (We could try to use a separate marker of some kind, but that marker would not be updated when initializing the field through reflection, which is a major use case of <code>lateinit</code>).</p>\n<p>Therefore, <code>lateinit</code> is supported for properties of object types only.</p>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 5063338, "user_type": "registered", "profile_image": "https://graph.facebook.com/920485957993662/picture?type=large", "display_name": "Artur Ex", "link": "https://stackoverflow.com/users/5063338/artur-ex"}, "is_accepted": false, "score": -2, "last_activity_date": 1557141934, "creation_date": 1557141934, "answer_id": 56004260, "question_id": 38761294, "link": "https://stackoverflow.com/questions/38761294/why-doesnt-kotlin-allow-to-use-lateinit-with-primitive-types/56004260#56004260", "title": "Why doesn&#39;t Kotlin allow to use lateinit with primitive types?", "body": "<p>I think that in case of primitives it's less resources taking to simply initialise it to let me say 0 and hold the simple value in memory rather than store extra information about the object nullability which is used by lateinit mechanism.</p>\n\n<p>Correct me if it's not the case.</p>\n"}], "owner": {"reputation": 5027, "user_id": 515029, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4597810918606d43af2081d0fd768ab0?s=128&d=identicon&r=PG", "display_name": "Kallja", "link": "https://stackoverflow.com/users/515029/kallja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18151, "favorite_count": 8, "accepted_answer_id": 38769161, "answer_count": 3, "score": 63, "last_activity_date": 1594048555, "creation_date": 1470296442, "question_id": 38761294, "link": "https://stackoverflow.com/questions/38761294/why-doesnt-kotlin-allow-to-use-lateinit-with-primitive-types", "title": "Why doesn&#39;t Kotlin allow to use lateinit with primitive types?", "body": "<p>In the Kotlin language we, by default, have to initialize each variable when it is introduced. To avoid this, the <code>lateinit</code> keyword can be used. Referring to a <code>lateinit</code> variable before it has been initialized results in a runtime exception.</p>\n\n<p><code>lateinit</code> can not, however, be used with the primitive types. Why is it so?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1522857856, "post_id": 38761021, "comment_id": 86320175, "body": "Does <b>Any</b> support generics?"}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1470298964, "post_id": 38761552, "comment_id": 64895974, "body": "e.i. consult this one: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html#mapped-types</a>"}, {"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "edited": false, "score": 1, "creation_date": 1470333250, "post_id": 38761552, "comment_id": 64919973, "body": "can you explain the difference between them and why does java class of any is object?"}, {"owner": {"reputation": 342, "user_id": 2756353, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1787922616/picture?type=large", "display_name": "Ashish Krishnan", "link": "https://stackoverflow.com/users/2756353/ashish-krishnan"}, "edited": false, "score": 0, "creation_date": 1529170477, "post_id": 38761552, "comment_id": 88781448, "body": "<code>Kotlin generates to prevent nulls from propagating</code>   propagting to?"}], "tags": [], "owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "is_accepted": true, "score": 33, "last_activity_date": 1470357592, "last_edit_date": 1470357592, "creation_date": 1470297276, "answer_id": 38761552, "question_id": 38761021, "link": "https://stackoverflow.com/questions/38761021/does-any-object/38761552#38761552", "title": "does Any == Object", "body": "<p>No.</p>\n\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"noreferrer\">Kotlin docs</a>\n(Emphasis mine)</p>\n\n<blockquote>\n  <p>All classes in Kotlin have a common superclass <code>Any</code>, that is a default \n  super for a class with no supertypes declared:</p>\n  \n  <p><code>class Example // Implicitly inherits from Any</code></p>\n  \n  <p><strong><code>Any</code> is not <code>java.lang.Object</code></strong>; in particular, it does not have any \n  members other than <code>equals()</code>, <code>hashCode()</code> and <code>toString()</code>. Please \n  consult the Java interoperability section for more details.</p>\n</blockquote>\n\n<p>Further, from the section on mapped types we find:</p>\n\n<blockquote>\n  <p>Kotlin treats some Java types specially. Such types are not loaded from \n  Java \u201cas is\u201d, but are mapped to corresponding Kotlin types. The mapping \n  only matters at compile time, the runtime representation remains \n  unchanged. Java\u2019s primitive types are mapped to corresponding Kotlin \n  types (keeping platform types in mind):</p>\n  \n  <p>...</p>\n  \n  <p><code>java.lang.Object</code>    <code>kotlin.Any!</code></p>\n</blockquote>\n\n<p>This says that at <strong>runtime</strong> <code>java.lang.Object</code> and <code>kotlin.Any!</code> are treated the same. But the <code>!</code> also means that the type is a platform type, which has implication with respect to disabling null checks etc.</p>\n\n<blockquote>\n  <p>Any reference in Java may be null, which makes Kotlin\u2019s requirements of \n  strict null-safety impractical for objects coming from Java. Types of \n  Java declarations are treated specially in Kotlin and called platform \n  types. Null-checks are relaxed for such types, so that safety guarantees \n  for them are the same as in Java (see more below).</p>\n  \n  <p>...</p>\n  \n  <p>When we call methods on variables of platform types, Kotlin does not \n  issue nullability errors at compile time, but the call may fail at \n  runtime, because of a null-pointer exception or an assertion that Kotlin \n  generates to prevent nulls from propagating:</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2781, "user_id": 4342124, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0d9b755a683ac3bd687b10c61759585f?s=128&d=identicon&r=PG&f=1", "display_name": "dkarmazi", "link": "https://stackoverflow.com/users/4342124/dkarmazi"}, "edited": false, "score": 1, "creation_date": 1498177281, "post_id": 38774471, "comment_id": 76405261, "body": "Any does not declare wait(), notify(), notifyAll() which makes it impossible to use as a lock as opposed to a regular Java object."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 2781, "user_id": 4342124, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0d9b755a683ac3bd687b10c61759585f?s=128&d=identicon&r=PG&f=1", "display_name": "dkarmazi", "link": "https://stackoverflow.com/users/4342124/dkarmazi"}, "edited": false, "score": 1, "creation_date": 1498216977, "post_id": 38774471, "comment_id": 76422492, "body": "@dkarmazi You can cast it to <code>java.lang.Object</code>, and then you&#39;ll be able to call these methods on it."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 12, "last_activity_date": 1506473339, "last_edit_date": 1506473339, "creation_date": 1470334085, "answer_id": 38774471, "question_id": 38761021, "link": "https://stackoverflow.com/questions/38761021/does-any-object/38774471#38774471", "title": "does Any == Object", "body": "<p>Kotlin compiler treats <code>kotlin.Any</code> and <code>java.lang.Object</code> as two different <em>types</em>, but at runtime they are represented with the same <code>java.lang.Object</code> <em>class</em>.</p>\n\n<p><code>javaClass</code> property returns the runtime class of an instance, so that's why you get the same <code>java.lang.Object</code> class in both cases.</p>\n\n<p>There are also other types which are different at compile time, but the same at runtime; they are listed in the <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"noreferrer\">Mapped types</a> section of the documentation.</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1522858187, "post_id": 46528451, "comment_id": 86320377, "body": "You can also cast to <b>Any</b> to <b>Object</b>"}], "tags": [], "owner": {"reputation": 51, "user_id": 5798427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0458a42e359778254fb1d6f52097680b?s=128&d=identicon&r=PG&f=1", "display_name": "Wizard Z.", "link": "https://stackoverflow.com/users/5798427/wizard-z"}, "is_accepted": false, "score": 1, "last_activity_date": 1506957330, "creation_date": 1506957330, "answer_id": 46528451, "question_id": 38761021, "link": "https://stackoverflow.com/questions/38761021/does-any-object/46528451#46528451", "title": "does Any == Object", "body": "<p>In fact, there is no <code>java.lang.Object</code> in aspect of Kotlin lang, so you certainly cannot say <code>Any</code> is <code>Object</code>. You can only say <code>Any</code> takes the place of <code>Object</code> in Kotlin.</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1522858204, "post_id": 48324138, "comment_id": 86320385, "body": "In what way is it an <code>analogue</code>?  It is a bit different at compile time..."}], "tags": [], "owner": {"reputation": 721, "user_id": 6893685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pc8f4.jpg?s=128&g=1", "display_name": "Gulzar Bhat", "link": "https://stackoverflow.com/users/6893685/gulzar-bhat"}, "is_accepted": false, "score": 0, "last_activity_date": 1516287294, "creation_date": 1516287294, "answer_id": 48324138, "question_id": 38761021, "link": "https://stackoverflow.com/questions/38761021/does-any-object/48324138#48324138", "title": "does Any == Object", "body": "<p><code>\"Any\"</code> is the analogue of <code>java.lang.Object</code>: a superclass of all classes in Kotlin.</p>\n"}], "owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11919, "favorite_count": 1, "accepted_answer_id": 38761552, "answer_count": 4, "score": 39, "last_activity_date": 1516287294, "creation_date": 1470295675, "question_id": 38761021, "link": "https://stackoverflow.com/questions/38761021/does-any-object", "title": "does Any == Object", "body": "<p>The following code in kotlin:</p>\n\n<pre><code>Any().javaClass\n</code></pre>\n\n<p>Has value of <code>java.lang.Object</code>. Does that mean <code>Any</code> and <code>Object</code> are the same class? What are their relations?</p>\n"}]