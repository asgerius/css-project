[{"tags": ["android", "kotlin", "dart", "flutter"], "comments": [{"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1528360439, "post_id": 50730976, "comment_id": 88480550, "body": "Have you tried <code>flutter clean</code>?"}, {"owner": {"reputation": 1628, "user_id": 6115336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oZqNVt7xZH4/AAAAAAAAAAI/AAAAAAAAAVY/s2pn_HnuvKc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6115336/lucas"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1528395571, "post_id": 50730976, "comment_id": 88503106, "body": "That seems to have done the trick! Never would have tried it..."}, {"owner": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1528395629, "post_id": 50730976, "comment_id": 88503130, "body": "It&#39;s a known issue and required quite often, especially for release builds but also for debug builds when you think that changes in your code don&#39;t take effect in the app."}, {"owner": {"reputation": 5923, "user_id": 2554745, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5ee46494446c0d7e28f65dc1e00db187?s=128&d=identicon&r=PG", "display_name": "Harsh Bhikadia", "link": "https://stackoverflow.com/users/2554745/harsh-bhikadia"}, "reply_to_user": {"reputation": 483706, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1610422912, "post_id": 50730976, "comment_id": 116121564, "body": "@G&#252;nterZ&#246;chbauer Is there any explanation for this issue? any issue filed on github over it?"}], "answers": [{"comments": [{"owner": {"reputation": 5923, "user_id": 2554745, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5ee46494446c0d7e28f65dc1e00db187?s=128&d=identicon&r=PG", "display_name": "Harsh Bhikadia", "link": "https://stackoverflow.com/users/2554745/harsh-bhikadia"}, "edited": false, "score": 0, "creation_date": 1610423640, "post_id": 50747804, "comment_id": 116121684, "body": "Did you find any explanation for it. I am facing this issue in 2021!"}], "tags": [], "owner": {"reputation": 1628, "user_id": 6115336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oZqNVt7xZH4/AAAAAAAAAAI/AAAAAAAAAVY/s2pn_HnuvKc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6115336/lucas"}, "is_accepted": false, "score": 1, "last_activity_date": 1528395615, "creation_date": 1528395615, "answer_id": 50747804, "question_id": 50730976, "link": "https://stackoverflow.com/questions/50730976/smi-is-not-a-subtype-of-type-bool-flutter-methodchannel/50747804#50747804", "title": "&#39;_Smi&#39; is not a subtype of type &#39;bool&#39; - Flutter MethodChannel", "body": "<p>Running <code>flutter clean</code> seems to have fixed this. Make sure to do it before every release build, I guess!</p>\n"}], "owner": {"reputation": 1628, "user_id": 6115336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oZqNVt7xZH4/AAAAAAAAAAI/AAAAAAAAAVY/s2pn_HnuvKc/photo.jpg?sz=128", "display_name": "Lucas", "link": "https://stackoverflow.com/users/6115336/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1449, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1528395615, "creation_date": 1528327482, "last_edit_date": 1528327888, "question_id": 50730976, "link": "https://stackoverflow.com/questions/50730976/smi-is-not-a-subtype-of-type-bool-flutter-methodchannel", "title": "&#39;_Smi&#39; is not a subtype of type &#39;bool&#39; - Flutter MethodChannel", "body": "<p>Getting this strange error. Seems like the MethodChannel is converting to an int instead of a bool?</p>\n\n<pre><code>06-07 00:16:26.589  3678  4993 E flutter : [ERROR:topaz/lib/tonic/logging/dart_error.cc(16)] Unhandled exception:\n06-07 00:16:26.589  3678  4993 E flutter : type '_Smi' is not a subtype of type 'bool' where\n06-07 00:16:26.589  3678  4993 E flutter :   _Smi is from dart:core\n06-07 00:16:26.589  3678  4993 E flutter :   bool is from dart:core\n06-07 00:16:26.589  3678  4993 E flutter :\n06-07 00:16:26.589  3678  4993 E flutter : #0  ...\n</code></pre>\n\n<p>Relevant code:</p>\n\n<pre><code>//the line in question\nbool permission = await platform.invokeMethod(\"askStoragePermission\"); \n\n//the following is the native kotlin that is called.\n//The device previously had received permission so it should be going to \n//the 'else' section (and no permission request dialogue appeared)\n\"askStoragePermission\" -&gt; {\n  if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n    ActivityCompat.requestPermissions(this, arrayOf(android.Manifest.permission.READ_EXTERNAL_STORAGE), 35)\n    currentResult = result\n  } else {\n    result.success(true)\n  }\n}\n</code></pre>\n\n<p>No idea what could be causing this. It seems to be working in debug mode in the emulator (this error is release apk on a real device).</p>\n"}, {"tags": ["java", "android", "functional-programming", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 7178093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wGad1.jpg?s=128&g=1", "display_name": "Mert Kahraman", "link": "https://stackoverflow.com/users/7178093/mert-kahraman"}, "edited": false, "score": 0, "creation_date": 1610803258, "post_id": 50730642, "comment_id": 116249836, "body": "Thank you for your elegant solution. Saved lots of time!"}], "tags": [], "owner": {"reputation": 5680, "user_id": 569421, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/035ee764cc5af4181a0113b455fa3fde?s=128&d=identicon&r=PG", "display_name": "Jin", "link": "https://stackoverflow.com/users/569421/jin"}, "is_accepted": true, "score": 6, "last_activity_date": 1528325113, "creation_date": 1528325113, "answer_id": 50730642, "question_id": 50730484, "link": "https://stackoverflow.com/questions/50730484/call-kotlin-completion-in-java/50730642#50730642", "title": "Call kotlin completion in java", "body": "<p>Assuming that you are using java 8 syntax.</p>\n\n<pre><code>new FuelHelper().fetchLocks(locks -&gt; {\n    ...\n});\n</code></pre>\n\n<p>Or without lambda</p>\n\n<pre><code>new FuelHelper().fetchLocks(new Function1&lt;Lock[], Unit&gt;() {\n        @Override\n        public Unit invoke(Lock[] locks) {\n            return null;\n        }\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 4, "last_activity_date": 1528353202, "last_edit_date": 1528353202, "creation_date": 1528325129, "answer_id": 50730644, "question_id": 50730484, "link": "https://stackoverflow.com/questions/50730484/call-kotlin-completion-in-java/50730644#50730644", "title": "Call kotlin completion in java", "body": "<p>It's exactly what it says - You have to pass an object implementing interface <code>Function1</code> (source from generated file <code>Functions.kt</code>):</p>\n\n<pre><code>/** A function that takes 1 argument. */\npublic interface Function1&lt;in P1, out R&gt; : Function&lt;R&gt; {\n    /** Invokes the function with the specified argument. */\n    public operator fun invoke(p1: P1): R\n}\n</code></pre>\n\n<p>In your case you create an anonymous class the same way you do for all small listeners like onClicks etc.:</p>\n\n<pre><code>    new FuelHelper().fetchLocks(new Function1&lt;Lock[], Unit&gt;() {\n        @Override\n        public Unit invoke(Lock[] locks) {\n            // handle locks\n            return null;\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 217, "user_id": 6055346, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/766cecb359fe859b731d3d7b08b6d47f?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Calkins", "link": "https://stackoverflow.com/users/6055346/sean-calkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "accepted_answer_id": 50730642, "answer_count": 2, "score": 2, "last_activity_date": 1528353202, "creation_date": 1528323898, "question_id": 50730484, "link": "https://stackoverflow.com/questions/50730484/call-kotlin-completion-in-java", "title": "Call kotlin completion in java", "body": "<p>I have a kotlin web request method that takes a function as a parameter.\nDue to how one of my classes is set up, I need to keep it as a java class but I need to call the web request method from the java class.</p>\n\n<p>I have a class called <code>Lock</code> that I am fetching from my database using <code>Fuel</code></p>\n\n<p>My kotlin method is as follows</p>\n\n<pre><code>fun fetchLocks(completion: (Array&lt;Lock&gt;) -&gt; Unit) {\n  // asynchronous api calls that aren't relevant.\n  completion(locks)\n}\n</code></pre>\n\n<p>I know that this method works and am able to call it from a kotlin file</p>\n\n<pre><code>FuelHelper().fetchLocks { locks -&gt;\n  Do stuff with my locks\n}\n</code></pre>\n\n<p>The issue I am having is getting the proper syntax in order to call this method in java.</p>\n\n<pre><code>new FuelHelper().fetchLocks();\n</code></pre>\n\n<p>The parameter java expects is <code>(Function1&lt;?super Lock[], Unit&gt;)</code></p>\n\n<p>I have tried for a while now and am unable to get past this. Any help would be appreciated.</p>\n"}, {"tags": ["java", "spring", "rest", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1599673773, "post_id": 63814875, "comment_id": 112848851, "body": "Yes, this has been added recently after a very long github issue discussion, thanks for mentioning"}, {"owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "edited": false, "score": 0, "creation_date": 1599675281, "post_id": 63814875, "comment_id": 112849487, "body": "I am not sure this one works as <code>addCustomResolver</code> needs <code>org.springframework.messaging.handler.invocation.reactive.Ha&zwnj;&#8203;ndlerMethodArgumentR&zwnj;&#8203;esolver</code> but <code>ReactivePageableHandlerMethodArgumentResolver</code> is <code>org.springframework.web.reactive.result.method.HandlerMethod&zwnj;&#8203;ArgumentResolver</code>"}], "tags": [], "owner": {"reputation": 301, "user_id": 10983605, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i1fq1NFJOvI/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPlZOGzUMSKnxdkRLmBorc0EcZk-g/mo/photo.jpg?sz=128", "display_name": "\u0421\u0442\u0430\u043d\u0438\u0441\u043b\u0430\u0432 \u041b\u0438\u0441\u0442\u0440\u0430\u0442\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/10983605/%d0%a1%d1%82%d0%b0%d0%bd%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%9b%d0%b8%d1%81%d1%82%d1%80%d0%b0%d1%82%d0%b5%d0%bd%d0%ba%d0%be"}, "is_accepted": false, "score": 1, "last_activity_date": 1599666334, "last_edit_date": 1599666334, "creation_date": 1599665367, "answer_id": 63814875, "question_id": 50730446, "link": "https://stackoverflow.com/questions/50730446/resolving-pageable-in-webflux/63814875#63814875", "title": "Resolving Pageable in Webflux", "body": "<p>See <a href=\"https://docs.spring.io/spring-data/data-commons/docs/current-SNAPSHOT/api/org/springframework/data/web/ReactivePageableHandlerMethodArgumentResolver.html\" rel=\"nofollow noreferrer\">ReactivePageableHandlerMethodArgumentResolver</a> class</p>\n<p>Example with <code>WebFluxConfigure</code>:</p>\n<pre><code>@Configuration\n@ConditionalOnClass(EnableWebFlux.class)\n@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.REACTIVE)\npublic class WebfluxConfig implements WebFluxConfigurer {\n    @Override\n    public void configureArgumentResolvers(ArgumentResolverConfigurer configurer) {\n        configurer.addCustomResolver(new ReactivePageableHandlerMethodArgumentResolver());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1595, "user_id": 1309331, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tOBIQ.jpg?s=128&g=1", "display_name": "navid_gh", "link": "https://stackoverflow.com/users/1309331/navid-gh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1599666334, "creation_date": 1528323635, "last_edit_date": 1545744837, "question_id": 50730446, "link": "https://stackoverflow.com/questions/50730446/resolving-pageable-in-webflux", "title": "Resolving Pageable in Webflux", "body": "<p>I spent a lot of time to find a solution about Pageable in Webflux, unfortunately, at the time of writing this, Webflux does not support Pageable so I came up with a solution and this is what I have implemented. It is a hacky solution to resolve Pageable and Sort type in Webflux controller/resource in Spring Boot.</p>\n\n<p>Here is the solution: (I know it might be ugly but you can use it till Spring team fix the problem, there are on-going efforts for that. <a href=\"https://jira.spring.io/browse/DATACMNS-1211\" rel=\"nofollow noreferrer\">Spring Jira</a></p>\n\n<p>Also, the gist is here: <a href=\"https://gist.github.com/ghahramani/12694474d300b72bb5c7f8bd6e61beb8\" rel=\"nofollow noreferrer\">Github</a></p>\n\n<p>Update 1: You can find the article <a href=\"https://medium.com/@ghahremani/pageable-and-sort-in-webflux-c6f6c598537a\" rel=\"nofollow noreferrer\">here in medium</a> as well</p>\n\n<p>Versions:</p>\n\n<pre><code>Spring Boot: 2.0.2.RELEASE\nGradle Kotlin: 1.2.41\n</code></pre>\n\n<p>Feel free to give me hint to improve it. (Code is Kotlin)</p>\n\n<pre><code>@Configuration\nclass PageableSerializer {\n\n@Bean\n@ConditionalOnMissingBean\nfun pageableCustomizer(properties: SpringDataWebProperties): PageableHandlerMethodArgumentResolverCustomizer {\n    return PageableHandlerMethodArgumentResolverCustomizer { resolver -&gt;\n        val pageable = properties.pageable\n\n        resolver.setPageParameterName(pageable.pageParameter)\n        resolver.setSizeParameterName(pageable.sizeParameter)\n        resolver.setOneIndexedParameters(pageable.isOneIndexedParameters)\n        resolver.setPrefix(pageable.prefix)\n        resolver.setQualifierDelimiter(pageable.qualifierDelimiter)\n        resolver.setFallbackPageable(PageRequest.of(0, pageable.defaultPageSize))\n        resolver.setMaxPageSize(pageable.maxPageSize)\n\n    }\n}\n\n@Bean\n@ConditionalOnMissingBean\nfun sortCustomizer(properties: SpringDataWebProperties): SortHandlerMethodArgumentResolverCustomizer {\n    return SortHandlerMethodArgumentResolverCustomizer { resolver -&gt;\n        resolver.setSortParameter(properties.sort.sortParameter)\n    }\n}\n\n@Bean\nfun pageableHandler(pageableResolver: Optional&lt;PageableHandlerMethodArgumentResolverCustomizer&gt;, sortHandler: SortHandlerMethodArgumentResolver, reactiveAdapterRegistry: ReactiveAdapterRegistry): PageableHandlerMethodArgumentResolver {\n    val handler = PageableHandlerMethodArgumentResolver(sortHandler)\n    pageableResolver.ifPresent { c -&gt; c.customize(handler) }\n    return handler\n}\n\n@Bean\nfun sortHandler(sortResolver: Optional&lt;SortHandlerMethodArgumentResolverCustomizer&gt;): SortHandlerMethodArgumentResolver {\n    val handler = SortHandlerMethodArgumentResolver()\n    sortResolver.ifPresent { c -&gt; c.customize(handler) }\n    return handler\n}\n\n}\n</code></pre>\n\n<p>And to register handler:</p>\n\n<pre><code>@Component\nclass PageableResolver(registry: ReactiveAdapterRegistry, private val resolver: PageableHandlerMethodArgumentResolver) : HandlerMethodArgumentResolverSupport(registry) {\n\n    override fun resolveArgument(parameter: MethodParameter, bindingContext: BindingContext, exchange: ServerWebExchange): Mono&lt;Any&gt; {\n        return Mono.just(resolver.resolveArgument(parameter, null, MockNative(exchange.request.queryParams), null))\n    }\n\n    override fun supportsParameter(parameter: MethodParameter): Boolean {\n        return this.resolver.supportsParameter(parameter)\n    }\n\n    private class MockNative(private val parameters: MultiValueMap&lt;String, String&gt;) : NativeWebRequest {\n        override fun getParameter(paramName: String): String? {\n            return this.parameters.getFirst(paramName)\n        }\n\n        override fun getParameterValues(paramName: String): Array&lt;String&gt;? {\n            return this.parameters[paramName]?.toTypedArray()\n        }\n\n        override fun isUserInRole(role: String): Boolean {\n            return false\n        }\n\n        override fun getRemoteUser(): String? {\n            return null\n        }\n\n        override fun getLocale(): Locale {\n            return Locale.getDefault()\n        }\n\n        override fun getParameterMap(): MutableMap&lt;String, Array&lt;String&gt;&gt; {\n            return mutableMapOf()\n        }\n\n        override fun getSessionId(): String {\n            return \"\"\n        }\n\n        override fun getAttributeNames(scope: Int): Array&lt;String&gt; {\n            return arrayOf()\n        }\n\n        override fun registerDestructionCallback(name: String, callback: Runnable, scope: Int) {\n\n        }\n\n        override fun resolveReference(key: String): Any? {\n            return null\n        }\n\n        override fun getHeaderValues(headerName: String): Array&lt;String&gt;? {\n            return null\n        }\n\n        override fun getUserPrincipal(): Principal? {\n            return null\n        }\n\n        override fun getDescription(includeClientInfo: Boolean): String {\n            return \"\"\n        }\n\n        override fun getSessionMutex(): Any {\n            return \"\"\n        }\n\n        override fun getNativeResponse(): Any? {\n            return null\n        }\n\n        override fun &lt;T : Any?&gt; getNativeResponse(requiredType: Class&lt;T&gt;?): T? {\n            return null\n        }\n\n        override fun getParameterNames(): MutableIterator&lt;String&gt; {\n            return mutableListOf&lt;String&gt;().iterator()\n        }\n\n        override fun getNativeRequest(): Any {\n            return \"\"\n        }\n\n        override fun &lt;T : Any?&gt; getNativeRequest(requiredType: Class&lt;T&gt;?): T? {\n            return null\n        }\n\n        override fun removeAttribute(name: String, scope: Int) {\n\n        }\n\n        override fun getHeader(headerName: String): String? {\n            return null\n        }\n\n        override fun getContextPath(): String {\n            return \"\"\n        }\n\n        override fun checkNotModified(lastModifiedTimestamp: Long): Boolean {\n            return false\n        }\n\n        override fun checkNotModified(etag: String): Boolean {\n            return false\n        }\n\n        override fun checkNotModified(etag: String?, lastModifiedTimestamp: Long): Boolean {\n            return false\n        }\n\n        override fun getHeaderNames(): MutableIterator&lt;String&gt; {\n            return mutableListOf&lt;String&gt;().iterator()\n        }\n\n        override fun getAttribute(name: String, scope: Int): Any? {\n            return null\n        }\n\n        override fun setAttribute(name: String, value: Any, scope: Int) {\n        }\n\n        override fun isSecure(): Boolean {\n            return false\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1528332548, "post_id": 50730367, "comment_id": 88470844, "body": "Can you define a derived property from <code>value</code> but is non-nullable, and do <code>NullableExample::NonNullableValue</code> when calling <code>wrap</code>? Of course you&#39;ll need to deal with what happens when <code>value</code> is <code>null</code>, but you&#39;ll need to deal with that somewhere anyway, right?"}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1528379092, "last_edit_date": 1528379092, "creation_date": 1528355270, "answer_id": 50734922, "question_id": 50730367, "link": "https://stackoverflow.com/questions/50730367/kotlin-get-the-non-nullable-inference-of-a-nullable-generic-type-inference/50734922#50734922", "title": "Kotlin - get the non-nullable inference of a nullable generic type inference", "body": "<blockquote>\n  <p>So basically what I want is, regardless of <code>P</code> being nullable or non-nullable, <code>P</code> of <code>Wrapper&lt;P&gt;</code> should always be the non-nullable form of <code>P</code>.</p>\n</blockquote>\n\n<p>That doesn't quite make sense as stated: there is just one <code>P</code>, not a separate one in <code>Wrapper&lt;P&gt;</code> and <code>KProperty1&lt;O, P&gt;</code>. So if you want them to be different, you can't use <code>P</code> for both.</p>\n\n<p>But <code>KProperty1</code> is covariant in the result type, so a <code>KProperty1&lt;O, P&gt;</code> is also a <code>KProperty1&lt;O, P?&gt;</code>. So if you change the signature to</p>\n\n<pre><code>fun &lt;O, P : Any&gt; wrap(property: KProperty1&lt;O, P?&gt;, wrapper: Wrapper&lt;P&gt;): Unit\n</code></pre>\n\n<p>it will accept both nullable and non-nullable properties:</p>\n\n<pre><code>wrap(NonNullableExample::value, StringWrapper())\nwrap(NullableExample::value, StringWrapper())\n// both compile\n</code></pre>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 50734922, "answer_count": 1, "score": 2, "last_activity_date": 1528379092, "creation_date": 1528323067, "question_id": 50730367, "link": "https://stackoverflow.com/questions/50730367/kotlin-get-the-non-nullable-inference-of-a-nullable-generic-type-inference", "title": "Kotlin - get the non-nullable inference of a nullable generic type inference", "body": "<p>I want to know whether it's possible to force kotlin to infer the non-nullable of a given type inference. Consider the following example:</p>\n\n<pre><code>abstract class Wrapper&lt;T&gt;\nclass StringWrapper : Wrapper&lt;String&gt;()\n\nfun &lt;O, P&gt; wrap(property: KProperty1&lt;O, P&gt;, wrapper: Wrapper&lt;P&gt;) {\n\n}\n</code></pre>\n\n<p>When I call <code>wrap</code> on a non-nullable property, everything works fine:</p>\n\n<pre><code>data class NonNullableExample(val value: String)\nwrap(NonNullableExample::value, StringWrapper())\n</code></pre>\n\n<p>But when I call <code>wrap</code> on a nullable property, I get a compiler error, because the inference of <code>P</code> is nullable, whereas <code>StringWrapper</code> isn't:</p>\n\n<pre><code>data class NullableExample(val value: String?)\nwrap(NullableExample::value, StringWrapper())\n</code></pre>\n\n<blockquote>\n  <p>Type inference failed: Cannot infer type parameter <code>P</code> in </p>\n  \n  <p><code>fun &lt;O, P&gt; wrap(property: KProperty1&lt;O, P&gt;, wrapper: Wrapper&lt;P&gt;): Unit</code></p>\n  \n  <p>None of the following substitutions</p>\n  \n  <p><code>(KProperty1&lt;NullableExample, String&gt;, Wrapper&lt;String&gt;)</code> </p>\n  \n  <p><code>(KProperty1&lt;NullableExample, String?&gt;, Wrapper&lt;String?&gt;)</code></p>\n  \n  <p>can be applied to</p>\n  \n  <p><code>(KProperty1&lt;NullableExample, String?&gt;, StringWrapper)</code></p>\n</blockquote>\n\n<p>So basically what I want is, regardless of <code>P</code> being nullable or non-nullable, <code>P</code> of <code>Wrapper&lt;P&gt;</code> should always be the non-nullable form of <code>P</code>. Is this possible?</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1528354582, "post_id": 50730162, "comment_id": 88477226, "body": "<code>@Throws</code> isn&#39;t necessary, and you should add <code>override</code> to <code>fun authenticate</code>."}, {"owner": {"reputation": 21, "user_id": 9883012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc785f4b93de92fd2dbdad3df29de6c?s=128&d=identicon&r=PG&f=1", "display_name": "companyn", "link": "https://stackoverflow.com/users/9883012/companyn"}, "edited": false, "score": 0, "creation_date": 1528360647, "post_id": 50730162, "comment_id": 88480674, "body": "i got underline by AndroidStudio this object:Authenticator with &quot;too many  arguments for public open fun authenticator()&quot;"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1528361341, "post_id": 50730162, "comment_id": 88481135, "body": "1. <code>authenticator</code> or <code>Authenticator</code>? 2. Try to go to the definition and see what AS thinks it&#39;s referring to."}], "tags": [], "owner": {"reputation": 41, "user_id": 4646823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af811a0584f3b247c3a3c98306cd713c?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Hall", "link": "https://stackoverflow.com/users/4646823/randy-hall"}, "is_accepted": false, "score": 3, "last_activity_date": 1537788917, "last_edit_date": 1537788917, "creation_date": 1528321975, "answer_id": 50730162, "question_id": 50729533, "link": "https://stackoverflow.com/questions/50729533/authenticator-incorrect-translate-java-to-kotlin/50730162#50730162", "title": "Authenticator, incorrect translate Java to Kotlin", "body": "<p>Your Kotlin code should be like this:</p>\n\n<pre><code>client.authenticator(object:Authenticator {\n  @Throws(IOException::class)\n  fun authenticate(route:Route, response:Response):Request {\n    if (responseCount(response) &gt;= 3)\n    {\n      return null // If we've failed 3 times, give up. - in real life, never give up!!\n    }\n    val credential = Credentials.basic(\"name\", \"password\")\n    return response.request().newBuilder().header(\"Authorization\", \ncredential).build()\n  }\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 9883012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc785f4b93de92fd2dbdad3df29de6c?s=128&d=identicon&r=PG&f=1", "display_name": "companyn", "link": "https://stackoverflow.com/users/9883012/companyn"}, "edited": false, "score": 0, "creation_date": 1528360821, "post_id": 50734715, "comment_id": 88480784, "body": "i have anonymous class like in Randy asnwer and still have this error"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1528354474, "creation_date": 1528354474, "answer_id": 50734715, "question_id": 50729533, "link": "https://stackoverflow.com/questions/50729533/authenticator-incorrect-translate-java-to-kotlin/50734715#50734715", "title": "Authenticator, incorrect translate Java to Kotlin", "body": "<p>No, by itself this is a correct translation, you can see examples in <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM Conversions</a> documentation. Judging from the error, you may have something else in scope also called <code>Authenticator</code>, so you should be more explicit and use an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">anonymous object</a> as in Randy Hall's answer.</p>\n"}], "owner": {"reputation": 21, "user_id": 9883012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc785f4b93de92fd2dbdad3df29de6c?s=128&d=identicon&r=PG&f=1", "display_name": "companyn", "link": "https://stackoverflow.com/users/9883012/companyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1537788917, "creation_date": 1528318899, "question_id": 50729533, "link": "https://stackoverflow.com/questions/50729533/authenticator-incorrect-translate-java-to-kotlin", "title": "Authenticator, incorrect translate Java to Kotlin", "body": "<p>I'm trying to convert a lot of code Java into Kotlin.   </p>\n\n<p>I found on stack how to set authentication with OkHttp:</p>\n\n<pre><code> client.authenticator(new Authenticator() {\n        @Override\n        public Request authenticate(Route route, Response response) throws IOException {\n            if (responseCount(response) &gt;= 3) {\n                return null; // If we've failed 3 times, give up. - in real life, never give up!!\n            }\n            String credential = Credentials.basic(\"name\", \"password\");\n            return response.request().newBuilder().header(\"Authorization\", credential).build();\n        }\n    });\n</code></pre>\n\n<p>It's look simple, but AndroidStudio translate this wrong, something like:</p>\n\n<pre><code>   client.authenticator(Authenticator { route, response -&gt;\n            if (responseCount(response) &gt;= 3) {\n                return@Authenticator null // If we've failed 3 times, give up. - in real life, never give up!!\n            }\n            val credential = Credentials.basic(\"name\", \"password\")\n            response.request().newBuilder().header(\"Authorization\", credential).build()\n        })\n</code></pre>\n\n<p>and I get error \"too many arguments for public open fun Authenticator()\"</p>\n\n<p>What is wrong here ? How to fix it ? In my opinion, this should look different in Kotlin.</p>\n"}, {"tags": ["java", "android", "android-studio", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 2059, "user_id": 7949696, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206392642867400/picture?type=large", "display_name": "James Poag", "link": "https://stackoverflow.com/users/7949696/james-poag"}, "edited": false, "score": 0, "creation_date": 1528314296, "post_id": 50728211, "comment_id": 88464733, "body": "Bluestacks?  Otherwise, find a cross platform framework to rewrite everything."}], "answers": [{"tags": [], "owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "is_accepted": false, "score": 3, "last_activity_date": 1528314182, "creation_date": 1528314182, "answer_id": 50728344, "question_id": 50728211, "link": "https://stackoverflow.com/questions/50728211/migrating-android-studio-project-to-desktop-application/50728344#50728344", "title": "Migrating Android Studio Project to Desktop Application", "body": "<p>No.  Totally different OSes, different APIs for everything.  YOu can keep some business logic, but anything referencing UIs or hardware will be a total rewrite.</p>\n"}], "owner": {"reputation": 114, "user_id": 5755376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1253cd01203d0fb07300e8e645d678d?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Gonz&#225;lez", "link": "https://stackoverflow.com/users/5755376/luis-gonz%c3%a1lez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528314182, "creation_date": 1528313613, "question_id": 50728211, "link": "https://stackoverflow.com/questions/50728211/migrating-android-studio-project-to-desktop-application", "title": "Migrating Android Studio Project to Desktop Application", "body": "<p>My question is very simple. Is there a straight forward way to migrate an Android Studio project, which uses Bluetooth, to a Desktop application project (Windows or Linux)? </p>\n"}, {"tags": ["android", "kotlin", "android-alertdialog", "centering"], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 1122667, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nLr4B.jpg?s=128&g=1", "display_name": "Destabilizator", "link": "https://stackoverflow.com/users/1122667/destabilizator"}, "edited": false, "score": 0, "creation_date": 1528314992, "post_id": 50728478, "comment_id": 88465082, "body": "That&#39;s it! Thanks!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1528351964, "post_id": 50728478, "comment_id": 88475853, "body": "Are there any other known ids for further custimization of the alert dialog, like the buttons or the layout itself?"}, {"owner": {"reputation": 1837, "user_id": 7427240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15834bbff2e83029f077c76622bd3c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Vladim&#237;r Bielen&#253;", "link": "https://stackoverflow.com/users/7427240/vladim%c3%adr-bielen%c3%bd"}, "edited": false, "score": 0, "creation_date": 1528353820, "post_id": 50728478, "comment_id": 88476783, "body": "@mTak You can get the icon with <code>android.R.id.icon</code>, but if you want buttons, there is a method in AlertDialog for it called <a href=\"https://developer.android.com/reference/android/app/AlertDialog#getButton(int)\" rel=\"nofollow noreferrer\">getButton</a> <code>dialog.getButton(AlertDialog.BUTTON_POSITIVE)</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1528354567, "post_id": 50728478, "comment_id": 88477218, "body": "That will do. Thanks"}], "tags": [], "owner": {"reputation": 1837, "user_id": 7427240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15834bbff2e83029f077c76622bd3c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Vladim&#237;r Bielen&#253;", "link": "https://stackoverflow.com/users/7427240/vladim%c3%adr-bielen%c3%bd"}, "is_accepted": true, "score": 2, "last_activity_date": 1528314670, "creation_date": 1528314670, "answer_id": 50728478, "question_id": 50728055, "link": "https://stackoverflow.com/questions/50728055/kotlin-center-message-in-alertdialog/50728478#50728478", "title": "Kotlin - Center message in AlertDialog", "body": "<p>Change <code>R.id.message</code> to <code>android.R.id.message</code> since you want a view that was declared in the android package.</p>\n\n<pre><code>val mw = alertDialog.findViewById&lt;TextView&gt;(android.R.id.message)\nmw.gravity = Gravity.CENTER\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 1122667, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nLr4B.jpg?s=128&g=1", "display_name": "Destabilizator", "link": "https://stackoverflow.com/users/1122667/destabilizator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1211, "favorite_count": 1, "accepted_answer_id": 50728478, "answer_count": 1, "score": 0, "last_activity_date": 1528314670, "creation_date": 1528312856, "question_id": 50728055, "link": "https://stackoverflow.com/questions/50728055/kotlin-center-message-in-alertdialog", "title": "Kotlin - Center message in AlertDialog", "body": "<p>I'm trying to center the message of AlertDialog without adding custom view like I did for title. I have tried some of the older answers on SO, but I get <code>null</code> into <code>mw</code>. </p>\n\n<p>Is this approach simply not possible and custom TextView as message is the only way?</p>\n\n<pre><code>val alertDialog = AlertDialog.Builder(this).create()\nalertDialog.setMessage(\"boop\")\nval title = TextView(this)\ntitle.setText(R.string.myresource)\ntitle.setPadding(10, 10, 10, 10)\ntitle.gravity = Gravity.CENTER\ntitle.textSize = 20F\nalertDialog.setCustomTitle(title)\n\nalertDialog.show()\n\nval mw = alertDialog.findViewById&lt;TextView&gt;(R.id.message)\nmw.gravity = Gravity.CENTER\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 1679, "user_id": 267874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007a9c64b82a001443ff463ef326366b?s=128&d=identicon&r=PG", "display_name": "Paul-Sebastian Manole", "link": "https://stackoverflow.com/users/267874/paul-sebastian-manole"}, "edited": false, "score": 0, "creation_date": 1541505064, "post_id": 50727681, "comment_id": 93232284, "body": "Same problem here. I&#39;ve checked the actual paths in the jar file and they are correct. It just can&#39;t find the class which makes me thing that the class path is wrong.  I&#39;m using the Kotlin DSL for gradle. <a href=\"https://gist.github.com/brokenthorn/307d02dd648be97c6c64769425309bbc\" rel=\"nofollow noreferrer\">Here is a gist of the config</a>."}, {"owner": {"reputation": 55, "user_id": 2302902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kf8sz.jpg?s=128&g=1", "display_name": "vturlington", "link": "https://stackoverflow.com/users/2302902/vturlington"}, "reply_to_user": {"reputation": 1679, "user_id": 267874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007a9c64b82a001443ff463ef326366b?s=128&d=identicon&r=PG", "display_name": "Paul-Sebastian Manole", "link": "https://stackoverflow.com/users/267874/paul-sebastian-manole"}, "edited": false, "score": 0, "creation_date": 1541532956, "post_id": 50727681, "comment_id": 93247618, "body": "@brokenthorn sorry, I never did solve this. I eventually gave up."}, {"owner": {"reputation": 1679, "user_id": 267874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007a9c64b82a001443ff463ef326366b?s=128&d=identicon&r=PG", "display_name": "Paul-Sebastian Manole", "link": "https://stackoverflow.com/users/267874/paul-sebastian-manole"}, "edited": false, "score": 0, "creation_date": 1541596684, "post_id": 50727681, "comment_id": 93269274, "body": "I used gradle&#39;s <code>application</code> plugin that creates a bundle called a distribution in <code>build\\distributions</code> which is packaged correctly such that all dependencies are provided, plus there are two scripts in a packaged <code>bin</code> folder, one for Windows and one for *nixes which can be used to launch the app from a command line. Pretty neat! It even makes <a href=\"https://github.com/brokenthorn/stockwebservice/blob/ad5239240b7a8c42c7de07c282d736ec085aaaa2/build.gradle.kts#L14\" rel=\"nofollow noreferrer\">deploying to Docker easier</a> because you only need to add <code>ADD &quot;.&#47;build&#47;distributions&#47;packagename-0.1.tar&quot; &#47;app</code> to your <code>Dockerfile</code>."}, {"owner": {"reputation": 1679, "user_id": 267874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007a9c64b82a001443ff463ef326366b?s=128&d=identicon&r=PG", "display_name": "Paul-Sebastian Manole", "link": "https://stackoverflow.com/users/267874/paul-sebastian-manole"}, "edited": false, "score": 0, "creation_date": 1541596975, "post_id": 50727681, "comment_id": 93269415, "body": "I couldn&#39;t write more text in my last comment, but the <code>ADD</code> line in a <code>Dockerfile</code> automatically extracts a tarball to the specified container path."}], "owner": {"reputation": 55, "user_id": 2302902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kf8sz.jpg?s=128&g=1", "display_name": "vturlington", "link": "https://stackoverflow.com/users/2302902/vturlington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 416, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1528311408, "creation_date": 1528311408, "question_id": 50727681, "link": "https://stackoverflow.com/questions/50727681/kotlingradle-runnable-jar-dependency-causing-could-not-find-or-load-main-cla", "title": "Kotlin+Gradle runnable jar - dependency causing &quot;Could not find or load main class&quot;", "body": "<p>Gradle build file:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\ngroup 'com.anivive'\nversion '0.1'\n\napply plugin: 'kotlin'\n\nsourceSets {\n    main.java.srcDirs += 'src/main/kotlin/'\n    test.java.srcDirs += 'src/test/kotlin/'\n}\n\nrepositories {\n    mavenLocal()\n    maven {\n        url \"https://packagecloud.io/anivive/anivive/maven2\"\n    }\n    mavenCentral()\n}\n\ndependencies {\n    compile 'anivive:Import_Utils:1.2.44'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\njar {\n    baseName = 'XMLModelBuilder'\n    version = '0.1'\n    manifest {\n        attributes 'Main-Class': 'com.anivive.Main'\n    }\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>File structure:</p>\n\n<pre><code>src\n - main\n   - kotlin\n     - com\n       - anivive\n          - Main.kt\n</code></pre>\n\n<p>Main.kt:</p>\n\n<pre><code>package com.anivive\n\nimport com.anivive.util.ExampleClass\n\nobject Main {\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        ExampleClass.exampleMethod()\n    }\n}\n</code></pre>\n\n<p>So, I'm trying to build a runnable jar file that will call a single method from a class in the dependency 'anivive:Import_Utils:1.2.44'.</p>\n\n<p>If I remove the dependency, and change my main method to just <code>println(\"Test\")</code>, the jar will run fine via <code>java -jar build/libs/jarFile.jar</code> and it will print out <code>Test</code>.</p>\n\n<p>However, with the dependency included and when trying to call a function from it, I will get <code>Error: Could not find or load main class com.anivive.Main</code> whenever I try to run the Jar file. I suspect it has something to do with hosting the jar file on packagecloud, but I'm surprised this is a problem, considering I can run the program just fine from IntelliJ.</p>\n\n<p>What gives?</p>\n"}, {"tags": ["android", "button", "kotlin", "textview", "custom-font"], "comments": [{"owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "edited": false, "score": 0, "creation_date": 1528303931, "post_id": 50725651, "comment_id": 88459509, "body": "Isn&#39;t Button bold by default? you don&#39;t provide a bold style with your font"}, {"owner": {"reputation": 23, "user_id": 8009736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w29o1.jpg?s=128&g=1", "display_name": "Fabio Katz", "link": "https://stackoverflow.com/users/8009736/fabio-katz"}, "reply_to_user": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "edited": false, "score": 0, "creation_date": 1528304272, "post_id": 50725651, "comment_id": 88459691, "body": "@SamuelEminet According to the <a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/fonts-in-xml\" rel=\"nofollow noreferrer\">Fonts documentation</a> I can only set <code>fontStyle</code> to <code>normal</code> or <code>italic</code>"}, {"owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "edited": false, "score": 0, "creation_date": 1528304451, "post_id": 50725651, "comment_id": 88459794, "body": "To add a bold style add a font with a weight around 700 <code>android:fontWeight=&quot;700&quot;</code>"}, {"owner": {"reputation": 23, "user_id": 8009736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w29o1.jpg?s=128&g=1", "display_name": "Fabio Katz", "link": "https://stackoverflow.com/users/8009736/fabio-katz"}, "reply_to_user": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "edited": false, "score": 0, "creation_date": 1528304583, "post_id": 50725651, "comment_id": 88459866, "body": "Thanks @SamuelEminet but I am not trying to make it bold, just to use my custom font.  If I use the standard font for a Button it displays it with normal weight."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8009736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w29o1.jpg?s=128&g=1", "display_name": "Fabio Katz", "link": "https://stackoverflow.com/users/8009736/fabio-katz"}, "edited": false, "score": 0, "creation_date": 1528310953, "post_id": 50727299, "comment_id": 88463190, "body": "Plus your response gave me a hint: if I just add <code>android:textAllCaps=&quot;false&quot;</code> to my button it does work. I guess Buttons default to using all caps, and I have only mapped lower case characters so far. So in summary: although using a style works and could be useful to specify attributes once for many buttons, custom fonts do work for buttons."}, {"owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "reply_to_user": {"reputation": 23, "user_id": 8009736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w29o1.jpg?s=128&g=1", "display_name": "Fabio Katz", "link": "https://stackoverflow.com/users/8009736/fabio-katz"}, "edited": false, "score": 0, "creation_date": 1528312785, "post_id": 50727299, "comment_id": 88464037, "body": "@FabioKatz Perfect! I like using styles cause there is less copying and pasting then when reusing the same style! I&#39;m glad it helped you"}], "tags": [], "owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "is_accepted": true, "score": 1, "last_activity_date": 1528310023, "creation_date": 1528310023, "answer_id": 50727299, "question_id": 50725651, "link": "https://stackoverflow.com/questions/50725651/android-custom-font-works-for-textview-not-for-button/50727299#50727299", "title": "Android: Custom font works for TextView, not for Button", "body": "<p>Add a style to your button:</p>\n\n<p>Create a new style under <code>styles.xml</code> :</p>\n\n<pre><code>&lt;style name=\"main_button\"&gt;\n    &lt;item name=\"android:fontFamily\"&gt;@font/my-custom-font&lt;/item&gt;\n    &lt;item name=\"android:background\"&gt;@drawable/btn_blue&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;#FFFF&lt;/item&gt;\n    &lt;item name=\"android:textAllCaps\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:foreground\"&gt;?attr/selectableItemBackground&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>enter whatever values you want. Make sure to include the <code>fontFamily:</code></p>\n\n<p>Then on your button, add the style:</p>\n\n<pre><code>&lt;Button\n    android:id=\"@+id/id\"\n    style=\"@style/main_button\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16876, "user_id": 467509, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/YLpEd.jpg?s=128&g=1", "display_name": "georgiecasey", "link": "https://stackoverflow.com/users/467509/georgiecasey"}, "is_accepted": false, "score": -1, "last_activity_date": 1559898716, "creation_date": 1559898716, "answer_id": 56491366, "question_id": 50725651, "link": "https://stackoverflow.com/questions/50725651/android-custom-font-works-for-textview-not-for-button/56491366#56491366", "title": "Android: Custom font works for TextView, not for Button", "body": "<p>Use <code>app:fontFamily=\"@font/my-custom-font\"</code> in your style, not <code>android:fontFamily=\"@font/my-custom-font\"</code></p>\n"}], "owner": {"reputation": 23, "user_id": 8009736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w29o1.jpg?s=128&g=1", "display_name": "Fabio Katz", "link": "https://stackoverflow.com/users/8009736/fabio-katz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1024, "favorite_count": 0, "accepted_answer_id": 50727299, "answer_count": 2, "score": 2, "last_activity_date": 1559898716, "creation_date": 1528303814, "last_edit_date": 1528307825, "question_id": 50725651, "link": "https://stackoverflow.com/questions/50725651/android-custom-font-works-for-textview-not-for-button", "title": "Android: Custom font works for TextView, not for Button", "body": "<p>I cannot get a Button to use my custom font.\nIt works fine with a TextView, not with a Button (which is a subclass of TextView).</p>\n\n<p>I am using Android Studio 3.1.2 with minSdkVersion 26 and Kotlin.</p>\n\n<p><em>res/font/font.xml</em></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;font-family xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;font\n        android:fontStyle=\"normal\"\n        android:fontWeight=\"400\"\n        android:font=\"@font/my-custom-font\" /&gt;\n&lt;/font-family&gt;\n</code></pre>\n\n<p><em>res/layout/fragment.xml</em></p>\n\n<pre><code>...\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/myButton\"\n    android:maxWidth=\"30dp\"\n    android:minWidth=\"30dp\"\n    android:maxHeight=\"40dp\"\n    android:minHeight=\"40dp\"\n    android:fontFamily=\"@font/my-custom-font\"\n    android:textSize=\"20dp\"\n    android:text=\"a\" /&gt;\n...\n</code></pre>\n\n<p>The above works. Replace TextView with Button and it stops working.</p>\n\n<p>Edit: I want to use a custom font to hold the icons for our Buttons, instead of using images and ImageButtons.  We find a custom font is easier to manage than images.</p>\n"}, {"tags": ["android", "kotlin", "android-sharedpreferences"], "answers": [{"tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": true, "score": 2, "last_activity_date": 1528356361, "creation_date": 1528356361, "answer_id": 50735248, "question_id": 50724923, "link": "https://stackoverflow.com/questions/50724923/array-of-images-to-store-in-cache/50735248#50735248", "title": "Array of images to store in cache?", "body": "<p>Android <code>Bitmap</code> objects are not good candidates for storing in Java arrays - they are very large objects so you run the risk of an <code>OutOfMemoryException</code>. It is easy to create a memory leak if you are not careful.</p>\n\n<p>If you have to get some photos from the gallery as <code>Bitmap</code> and retain them in your app, one of the patterns that is normally used is writing the <code>Bitmap</code> to the app's internal storage (covered <a href=\"https://developer.android.com/training/data-storage/files\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>If you need a reference to the stored photo, you can save the filename or a <code>Uri</code> that represents the photo or image.</p>\n\n<p>Then the problem of loading <code>Bitmap</code>s etc. into an <code>ImageView</code> is solved with libraries like <a href=\"http://square.github.io/picasso/\" rel=\"nofollow noreferrer\">Picasso</a> or <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a>. You can use these to load from the local file system, or from online.</p>\n"}], "owner": {"reputation": 750, "user_id": 2919828, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c90bb50b7ae94b26e5360fc1a4bfdab9?s=128&d=identicon&r=PG&f=1", "display_name": "Anna-Lischen", "link": "https://stackoverflow.com/users/2919828/anna-lischen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 50735248, "answer_count": 1, "score": 1, "last_activity_date": 1528356361, "creation_date": 1528301243, "question_id": 50724923, "link": "https://stackoverflow.com/questions/50724923/array-of-images-to-store-in-cache", "title": "Array of images to store in cache?", "body": "<p>I am working with the <code>cards</code> (<a href=\"https://developer.android.com/guide/topics/ui/layout/cardview\" rel=\"nofollow noreferrer\">cardView</a>) and trying to store the images inside the array (array to string; store that in cache and when required unpack back to array). My question is: what is the most convenient way to store the images in an array?</p>\n\n<p>Store the bitmaps (bitmapToString etc)? Turn the bitmaps (I get the images from the gallery and camera) into URIs? Absolute paths?</p>\n\n<p>The number of images is small (3-4), so, I guess, there's no need in a DB.</p>\n"}, {"tags": ["android", "android-intent", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 2217, "user_id": 5064636, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/anIk2.jpg?s=128&g=1", "display_name": "Anand Jain", "link": "https://stackoverflow.com/users/5064636/anand-jain"}, "edited": false, "score": 1, "creation_date": 1528300450, "post_id": 50724598, "comment_id": 88457678, "body": "So what is your question?"}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "reply_to_user": {"reputation": 2217, "user_id": 5064636, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/anIk2.jpg?s=128&g=1", "display_name": "Anand Jain", "link": "https://stackoverflow.com/users/5064636/anand-jain"}, "edited": false, "score": 0, "creation_date": 1528300717, "post_id": 50724598, "comment_id": 88457827, "body": "What&#39;s wrong with second approach? Why nobody is using it"}, {"owner": {"reputation": 4295, "user_id": 3086818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zafUI.jpg?s=128&g=1", "display_name": "Gennadii Saprykin", "link": "https://stackoverflow.com/users/3086818/gennadii-saprykin"}, "edited": false, "score": 0, "creation_date": 1528301348, "post_id": 50724598, "comment_id": 88458172, "body": "Looks like this is more like a hypothetical question :) Is it actually &quot;not working&quot;? It looks fine, I don&#39;t see any issue with it. It can also be improved, I think. Since you are not binding any data with your views and not passing anything to the activity, there is no need to create a listener every time in onBindViewHolder. In this case you can do it only once in onCreateViewHolder while inflating the layout. Although this is a very subtle improvement and will not make a big difference. Your approach looks totally fine."}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 1, "creation_date": 1528301520, "post_id": 50724598, "comment_id": 88458270, "body": "I believe that&#39;s because starting an activity inside the adapter isn&#39;t very &quot;pretty&quot;. People like to keep activity stuff within the activity."}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "reply_to_user": {"reputation": 4295, "user_id": 3086818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zafUI.jpg?s=128&g=1", "display_name": "Gennadii Saprykin", "link": "https://stackoverflow.com/users/3086818/gennadii-saprykin"}, "edited": false, "score": 0, "creation_date": 1528301807, "post_id": 50724598, "comment_id": 88458406, "body": "@GennadiiSaprykin it does work, just want to know the reason people don&#39;t use this simpler approach more often"}], "answers": [{"tags": [], "owner": {"reputation": 2217, "user_id": 5064636, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/anIk2.jpg?s=128&g=1", "display_name": "Anand Jain", "link": "https://stackoverflow.com/users/5064636/anand-jain"}, "is_accepted": true, "score": 2, "last_activity_date": 1528302071, "creation_date": 1528302071, "answer_id": 50725153, "question_id": 50724598, "link": "https://stackoverflow.com/questions/50724598/recyclerview-click-listener-why-this-simpler-approach-is-not-used-more-often/50725153#50725153", "title": "RecyclerView click listener, why this simpler approach is not used more often", "body": "<p>Nothing wrong with your approach and many people use it. Usually first approach used most of time because calling method using interface is good practice. When we create a project using certain architecture like MVP or MVVM or any other we need to call all method using interface. Currently in your project you just need to start a activity but many times we to perform longer and difficult task so it better to perform in relate activity. Through we can collect all method in same place. </p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 50725153, "answer_count": 1, "score": 0, "last_activity_date": 1528302071, "creation_date": 1528300241, "last_edit_date": 1528301939, "question_id": 50724598, "link": "https://stackoverflow.com/questions/50724598/recyclerview-click-listener-why-this-simpler-approach-is-not-used-more-often", "title": "RecyclerView click listener, why this simpler approach is not used more often", "body": "<p>New to Android development here. I am creating a <code>RecyclerView</code> that presents a new activity when certain items are clicked. I searched online and all of them would define a click listener interface, pass the listener to view holders, and ultimately call <code>startActivity</code> from the main activity. </p>\n\n<p>Alternatively, I came up with the following. Since nobody is using this approach, what's wrong with it? It is just a few lines of code in the adapter class and seems to work equally well</p>\n\n<pre><code>override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        when (holder) {\n            is certainViewHolder -&gt; {\n                holder.itemView.setOnClickListener {\n                    val intent = Intent(holder.itemView.context, DetailedActivity::class.java)\n                    holder.itemView.context.startActivity(intent)\n                }\n            }\n            else -&gt; ...\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11475, "user_id": 471955, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/51a3a4349309b3ba7a448fa600503807?s=128&d=identicon&r=PG", "display_name": "Dave Moten", "link": "https://stackoverflow.com/users/471955/dave-moten"}, "edited": false, "score": 0, "creation_date": 1603401829, "post_id": 50725405, "comment_id": 114034756, "body": "Note that relying on the throwing of an Exception for this use case has a performance penalty (building stack traces is expensive). I wouldn&#39;t recommend it for this reason."}], "tags": [], "owner": {"reputation": 4609, "user_id": 1699956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oBr6e.jpg?s=128&g=1", "display_name": "Mangat Rai Modi", "link": "https://stackoverflow.com/users/1699956/mangat-rai-modi"}, "is_accepted": false, "score": 2, "last_activity_date": 1528315310, "last_edit_date": 1528315310, "creation_date": 1528302980, "answer_id": 50725405, "question_id": 50724513, "link": "https://stackoverflow.com/questions/50724513/rxjava-maybe-any-neat-way-to-handle-empty-case/50725405#50725405", "title": "RxJava Maybe: Any neat way to handle Empty case?", "body": "<p>I did the following which is neater than any I wrote in the question:-</p>\n\n<pre><code>fun &lt;T&gt; Maybe&lt;T&gt;.subscribeWithEmptyHandler(onSuccess: (T) -&gt; Unit, onError: (Throwable) -&gt; Unit, onEmpty: () -&gt; Unit) {\n    this.toSingle()\n        .subscribe(\n            { onSuccess(it) },\n            { if (it is NoSuchElementException) onEmpty() else onError(it) }\n        )\n}\n</code></pre>\n\n<p>Here it subscribes only once and doesn't involve creating new default values. Still not sure if this is the best way.</p>\n"}, {"comments": [{"owner": {"reputation": 4609, "user_id": 1699956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oBr6e.jpg?s=128&g=1", "display_name": "Mangat Rai Modi", "link": "https://stackoverflow.com/users/1699956/mangat-rai-modi"}, "edited": false, "score": 0, "creation_date": 1528362453, "post_id": 50731185, "comment_id": 88481907, "body": "Hey Dave, it worked, I had no idea that Success and Complete are mutually exclusive events. In that case do you think we can use .doOnComplete too?"}, {"owner": {"reputation": 4609, "user_id": 1699956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oBr6e.jpg?s=128&g=1", "display_name": "Mangat Rai Modi", "link": "https://stackoverflow.com/users/1699956/mangat-rai-modi"}, "edited": false, "score": 0, "creation_date": 1528363064, "post_id": 50731185, "comment_id": 88482356, "body": "with doOnComplete, we will not require null check?"}], "tags": [], "owner": {"reputation": 11475, "user_id": 471955, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/51a3a4349309b3ba7a448fa600503807?s=128&d=identicon&r=PG", "display_name": "Dave Moten", "link": "https://stackoverflow.com/users/471955/dave-moten"}, "is_accepted": true, "score": 7, "last_activity_date": 1528329137, "creation_date": 1528329137, "answer_id": 50731185, "question_id": 50724513, "link": "https://stackoverflow.com/questions/50724513/rxjava-maybe-any-neat-way-to-handle-empty-case/50731185#50731185", "title": "RxJava Maybe: Any neat way to handle Empty case?", "body": "<p>Use <code>Maybe.doOnEvent</code> (java example):</p>\n\n<pre><code>Maybe\n .empty()\n .doOnEvent((value, error)-&gt; {\n    if (value==null &amp;&amp; error == null) {\n      System.out.println(\"empty!\");\n    }})\n .subscribe();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 3183202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9b4192b65c0e0b3e686caae76914aa?s=128&d=identicon&r=PG&f=1", "display_name": "guest", "link": "https://stackoverflow.com/users/3183202/guest"}, "is_accepted": false, "score": 0, "last_activity_date": 1615762190, "last_edit_date": 1615762190, "creation_date": 1615761317, "answer_id": 66630240, "question_id": 50724513, "link": "https://stackoverflow.com/questions/50724513/rxjava-maybe-any-neat-way-to-handle-empty-case/66630240#66630240", "title": "RxJava Maybe: Any neat way to handle Empty case?", "body": "<p>There is a solution using flatMap</p>\n<pre><code>return Maybe.just&lt;String&gt;(smth)\n                .flatMap(\n                    Function {\n                        Maybe.just(it) // onSuccess\n                    },\n                    Function {\n                        Maybe.error(it) // onError\n                    },\n                    Callable { // onComplete\n                        Maybe.just(&quot;Empty&quot;)\n                    }\n                )\n</code></pre>\n<p>Or</p>\n<pre><code>return Maybe.just&lt;String&gt;(smth)\n                .flatMap(\n                    {\n                        Maybe.just&lt;String&gt;(it) // onSuccess\n                    },\n                    {\n                        Maybe.error(it) // onError\n                    },\n                    {\n                        Maybe.just(&quot;Empty&quot;) // onComplete\n                    }\n                )\n</code></pre>\n"}], "owner": {"reputation": 4609, "user_id": 1699956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oBr6e.jpg?s=128&g=1", "display_name": "Mangat Rai Modi", "link": "https://stackoverflow.com/users/1699956/mangat-rai-modi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7914, "favorite_count": 0, "accepted_answer_id": 50731185, "answer_count": 3, "score": 5, "last_activity_date": 1615762190, "creation_date": 1528299968, "last_edit_date": 1547810625, "question_id": 50724513, "link": "https://stackoverflow.com/questions/50724513/rxjava-maybe-any-neat-way-to-handle-empty-case", "title": "RxJava Maybe: Any neat way to handle Empty case?", "body": "<p>I am stuck at this problem, which should be fairly simple. I need subscriber to execute a code block when the <code>Maybe</code> has completed as an <code>Empty Maybe</code>. I found that </p>\n\n<ol>\n<li>we can pass default Maybe value or use switchIfEmpty but I feel both are hacky. </li>\n<li>Also there is a subscribe function which takes onComplete function (along with handlers for other two events), but onComplete does not take any argument which can be used to find if maybe was completed empty.</li>\n<li>Another way could be <code>Maybe.isEmpty.blockingGet()</code>, but it is dirty too.</li>\n</ol>\n\n<p>I have tried following (<em>Kotlin Syntax</em>):-</p>\n\n<pre><code>fun &lt;T&gt; Maybe&lt;T&gt;.subscribeWithEmptyHandler(onSuccess: (T) -&gt; Unit, onError: (Throwable) -&gt; Unit, onEmpty: () -&gt; Unit) {\n    this.isEmpty.subscribe({ if (it) onEmpty() }, { onError(it) })\n    this.subscribe({ onSuccess(it) }, { onError(it) })\n}\n</code></pre>\n\n<p>But as expected it is running subscription twice, tested here:-</p>\n\n<pre><code>Maybe.create&lt;Int&gt; {\n    println(\"subscribing\")\n    //Remove line below to create Empty Maybe\n    it.onSuccess(5)\n    it.onComplete()\n}\n    .subscribeWithEmptyHandler({println(\"success\")},{println(\"error\")},{println(\"empty\")})\n</code></pre>\n\n<p>Could somebody please suggest neater way to solve this?</p>\n"}, {"tags": ["android", "firebase", "serialization", "kotlin", "data-class"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1528297159, "post_id": 50723051, "comment_id": 88455441, "body": "What is the error that you get?"}, {"owner": {"reputation": 155, "user_id": 4320211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RuuwogTI6kk/AAAAAAAAAAI/AAAAAAAAF48/nCbbn-6uLKM/photo.jpg?sz=128", "display_name": "aidan8181", "link": "https://stackoverflow.com/users/4320211/aidan8181"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1528297246, "post_id": 50723051, "comment_id": 88455496, "body": "Sorry the above code works but its just messy, if I try deserializing using  getValue(User::class.java) i get the error:  User does not define a no-argument constructor  If i add a second constructor then i&#39;m unable to use the keys for the values because i&#39;m unable to annotate the second constructor"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1528297336, "post_id": 50723051, "comment_id": 88455550, "body": "Why do say is messy? It isn&#39;t."}, {"owner": {"reputation": 155, "user_id": 4320211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RuuwogTI6kk/AAAAAAAAAAI/AAAAAAAAF48/nCbbn-6uLKM/photo.jpg?sz=128", "display_name": "aidan8181", "link": "https://stackoverflow.com/users/4320211/aidan8181"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1528297645, "post_id": 50723051, "comment_id": 88455768, "body": "I&#39;m used to C# and using Newtonsoft library which allows me to annotate my properties for my data classes and I was hoping i could find a similar solution"}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 4320211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RuuwogTI6kk/AAAAAAAAAAI/AAAAAAAAF48/nCbbn-6uLKM/photo.jpg?sz=128", "display_name": "aidan8181", "link": "https://stackoverflow.com/users/4320211/aidan8181"}, "edited": false, "score": 0, "creation_date": 1528307078, "post_id": 50724843, "comment_id": 88461230, "body": "Hi thanks for getting back to me the only problem I have with this solution is when I call p0.getValue(User::class.java) the json for display name and account picture url does not deserialize into the object because there names on the database do not match the names of the properties, any idea how to get around this without having to rename the database nodes?"}, {"owner": {"reputation": 155, "user_id": 4320211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RuuwogTI6kk/AAAAAAAAAAI/AAAAAAAAF48/nCbbn-6uLKM/photo.jpg?sz=128", "display_name": "aidan8181", "link": "https://stackoverflow.com/users/4320211/aidan8181"}, "edited": false, "score": 1, "creation_date": 1528309338, "post_id": 50724843, "comment_id": 88462389, "body": "Thanks man i forgot about var and val so that&#39;s why i was having trouble worked perfectly thanks!!"}, {"owner": {"reputation": 5351, "user_id": 5096562, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/W288l.jpg?s=128&g=1", "display_name": "MetaSnarf", "link": "https://stackoverflow.com/users/5096562/metasnarf"}, "edited": false, "score": 0, "creation_date": 1548917928, "post_id": 50724843, "comment_id": 95718024, "body": "Hi, @LeviMoreira, can I ask you for some  help on my question, its here: <a href=\"https://stackoverflow.com/questions/54454616/kotlin-firebase-datasnapshot-getvalue-does-not-set-properties-on-init-body\" title=\"kotlin firebase datasnapshot getvalue does not set properties on init body\">stackoverflow.com/questions/54454616/&hellip;</a>"}], "tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 23, "last_activity_date": 1528307754, "last_edit_date": 1528307754, "creation_date": 1528300983, "answer_id": 50724843, "question_id": 50723051, "link": "https://stackoverflow.com/questions/50723051/deserialize-a-firebase-data-snapshot-to-a-kotlin-data-class/50724843#50724843", "title": "Deserialize a Firebase Data-Snapshot to a Kotlin data class", "body": "<p>Firebase needs an empty constructor to be able to deserialize the objects:</p>\n\n<pre><code>data class User(\n        @Exclude val gUser: Boolean,\n        @Exclude val uid: String,\n        @PropertyName(\"display_name\") val displayName: String,\n        @PropertyName(\"email\") val email: String,\n        @PropertyName(\"account_picture_url\") val accountPicUrl: String,\n        @PropertyName(\"provider\") val provider: String\n) {\n    constructor() : this(false, \"\", \"\", \"\", \"\", \"\")\n}\n</code></pre>\n\n<p>You can either declare it like so and provide some default values to be able to call the primary constructor or you can declare default values for all your parameters:</p>\n\n<pre><code>data class User (\n        @Exclude val gUser: Boolean = false,\n        @Exclude val uid: String = \"\",\n        @PropertyName(\"display_name\") val displayName: String = \"\",\n        @PropertyName(\"email\") val email: String = \"\",\n        @PropertyName(\"account_picture_url\") val accountPicUrl: String = \"\",\n        @PropertyName(\"provider\") val provider: String = \"\"\n)\n</code></pre>\n\n<p>Then various constructors will be created for you, including an empty constructor.</p>\n\n<p>If there's a problem with serialization there might be because of the getters and setters generated by the ide, try reinforcing them with @get and @set annotations:</p>\n\n<pre><code>data class User (\n        @Exclude val gUser: Boolean = false,\n        @Exclude val uid: String = \"\",\n        @set:PropertyName(\"display_name\") \n        @get:PropertyName(\"display_name\")\n        var displayName: String = \"\",\n        @PropertyName(\"email\") val email: String = \"\",\n        @set:PropertyName(\"account_picture_url\")\n        @get:PropertyName(\"account_picture_url\")\n        var accountPicUrl: String = \"\",\n        @PropertyName(\"provider\") val provider: String = \"\"\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15329273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gg-HvGgIjeybp07CLU3vbH7nb2VZOkqHfDDuxuz=k-s128", "display_name": "Vladimir Svity", "link": "https://stackoverflow.com/users/15329273/vladimir-svity"}, "is_accepted": false, "score": 0, "last_activity_date": 1614866484, "creation_date": 1614866484, "answer_id": 66476592, "question_id": 50723051, "link": "https://stackoverflow.com/questions/50723051/deserialize-a-firebase-data-snapshot-to-a-kotlin-data-class/66476592#66476592", "title": "Deserialize a Firebase Data-Snapshot to a Kotlin data class", "body": "<p>In Android Studio (kotlin)\nuse this (only <strong>var</strong> and getter and setter):</p>\n<ul>\n<li>@set:PropertyName(&quot;email&quot;) @get:PropertyName(&quot;email&quot;) <strong>var</strong> emailPerson: String = &quot;&quot;</li>\n</ul>\n<p>None of this works:</p>\n<ul>\n<li>@PropertyName(&quot;email&quot;) var emailPerson: String = &quot;&quot;</li>\n<li>@PropertyName(&quot;email&quot;) <strong>val</strong> emailPerson: String = &quot;&quot;</li>\n<li>@get:PropertyName(&quot;email&quot;) <strong>val</strong> emailPerson: String = &quot;&quot;</li>\n</ul>\n<p><em>Android Studio 4.1.2.  Gradle: com.google.firebase:firebase-database:19.6.0</em></p>\n"}], "owner": {"reputation": 155, "user_id": 4320211, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RuuwogTI6kk/AAAAAAAAAAI/AAAAAAAAF48/nCbbn-6uLKM/photo.jpg?sz=128", "display_name": "aidan8181", "link": "https://stackoverflow.com/users/4320211/aidan8181"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6134, "favorite_count": 4, "accepted_answer_id": 50724843, "answer_count": 2, "score": 10, "last_activity_date": 1614866484, "creation_date": 1528295668, "question_id": 50723051, "link": "https://stackoverflow.com/questions/50723051/deserialize-a-firebase-data-snapshot-to-a-kotlin-data-class", "title": "Deserialize a Firebase Data-Snapshot to a Kotlin data class", "body": "<p>Hi I have a Kotlin data class as follows</p>\n\n<pre><code>data class User (\n        @get:Exclude val gUser: Boolean,\n        @get:Exclude val uid: String,\n        @get:PropertyName(\"display_name\") val displayName: String,\n        @get:PropertyName(\"email\") val email: String,\n        @get:PropertyName(\"account_picture_url\") val accountPicUrl: String,\n        @get:PropertyName(\"provider\") val provider: String\n)\n</code></pre>\n\n<p>I am able to serialize the object without an issues. But i'm having trouble deserializing the object when doing a firebase query. Currently this is what i'm doing to get the data</p>\n\n<pre><code>_firebaseReference.child(getString(R.string.firebase_users_key)).child(user.uid)\n        .setValue(user).addOnCompleteListener{\n    _firebaseReference.child(\"users\").child(user.uid)\n            .addListenerForSingleValueEvent(object : ValueEventListener {\n        override fun onCancelled(p0: DatabaseError) {\n\n        }\n\n        override fun onDataChange(p0: DataSnapshot) {\n            if (p0.exists()) {\n                val userHash = p0.value as HashMap&lt;*, *&gt;\n                var currentUser: User\n                if (userHash[getString(R.string.provider_key)]\n                        != getString(R.string.provider_google)) {\n                    currentUser = User(false, p0.key!!, \n                            userHash[\"display_name\"].toString(), \n                            userHash[\"email\"].toString(),\n                            userHash[\"account_picture_url\"].toString(), \n                            userHash[\"provider\"].toString())\n                } else {\n                    currentUser = User(true, p0.key!!, \n                            userHash[\"display_name\"].toString(), \n                            userHash[\"email\"].toString(), \n                            userHash[\"account_picture_url\"].toString(), \n                            userHash[\"provider\"].toString())\n                }\n            }\n        }\n\n    })\n}\n</code></pre>\n\n<p>This is only a test project that i'm working on to practice my Kotlin, but this is something I would like to figure out.</p>\n\n<p>If i'm doing it completely wrong please let me know, any advise would be greatly appreciated</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1528295493, "post_id": 50722755, "comment_id": 88454310, "body": "You mean like <code>fromIterable</code> followed by <code>toMap</code> with a value selector performing the split + toList?"}], "answers": [{"tags": [], "owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "is_accepted": true, "score": 3, "last_activity_date": 1528296210, "creation_date": 1528296210, "answer_id": 50723231, "question_id": 50722755, "link": "https://stackoverflow.com/questions/50722755/create-observable-for-each-item-in-list-and-combine-their-results/50723231#50723231", "title": "Create observable for each item in list and combine their results", "body": "<pre><code>getStrings()\n       .flattenAsFlowable { it }\n       .flatMapSingle { s -&gt; getStringParts(s).map { parts -&gt; s to parts } }\n       .toMap({ it.first }, { it.second })\n</code></pre>\n\n<p>This returns type <code>Single&lt;MutableMap&lt;String, List&lt;String&gt;&gt;&gt;</code>.</p>\n\n<p>I hope everything is clear but if you have some doubts feel free to ask.</p>\n"}, {"comments": [{"owner": {"reputation": 923, "user_id": 940731, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/333c4a17da8def9add5bab106e43779e?s=128&d=identicon&r=PG", "display_name": "Gustav Karlsson", "link": "https://stackoverflow.com/users/940731/gustav-karlsson"}, "reply_to_user": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1528390846, "post_id": 50723405, "comment_id": 88500797, "body": "Yeah. Looks like we came up with the same answer :) I guess that gives it some extra merit!"}], "tags": [], "owner": {"reputation": 923, "user_id": 940731, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/333c4a17da8def9add5bab106e43779e?s=128&d=identicon&r=PG", "display_name": "Gustav Karlsson", "link": "https://stackoverflow.com/users/940731/gustav-karlsson"}, "is_accepted": false, "score": 3, "last_activity_date": 1528297070, "last_edit_date": 1528297070, "creation_date": 1528296730, "answer_id": 50723405, "question_id": 50722755, "link": "https://stackoverflow.com/questions/50722755/create-observable-for-each-item-in-list-and-combine-their-results/50723405#50723405", "title": "Create observable for each item in list and combine their results", "body": "<pre><code>val result = getStrings()\n    .flattenAsObservable { it }         // Turn the list into a stream of items\n    .flatMapSingle { key -&gt;             // Take each item\n        getStringParts(key)             // Get its parts\n            .map { value -&gt;\n                key to value            // Combine key and value\n            }\n    }                                   // You now have a stream of pairs\n    .toMap({ it.first }, { it.second }) // Build the map\n    .blockingGet()\n\nprintln(result)                         // {a=[a], a.b=[a, b], a.b.c=[a, b, c]}\n</code></pre>\n"}], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "accepted_answer_id": 50723231, "answer_count": 2, "score": 0, "last_activity_date": 1528297070, "creation_date": 1528294771, "question_id": 50722755, "link": "https://stackoverflow.com/questions/50722755/create-observable-for-each-item-in-list-and-combine-their-results", "title": "Create observable for each item in list and combine their results", "body": "<p>I have the following two <code>Single</code> functions: </p>\n\n<pre><code>fun getStrings(): Single&lt;List&lt;String&gt;&gt; {\n    return Single.just(listOf(\"a\", \"a.b\", \"a.b.c\"))\n}\n\nfun getStringParts(s: String): Single&lt;List&lt;String&gt;&gt; {\n    return Single.just(s.split(\".\"))\n}\n</code></pre>\n\n<p>I want to combine them in a way that results in a <code>Map&lt;String, List&lt;String&gt;</code> where the <code>key</code> is the result of the first function and the <code>value</code> is the result of the second function for each <code>String</code>, so</p>\n\n<pre><code>[\"a\":[\"a\"], \"a.b\":[\"a\", \"b\"], \"a.b.c\":[\"a\", \"b\", \"c\"]]\n</code></pre>\n\n<p>I use the first function, receive a <code>List</code> of <code>String</code>s, but can't wrap my head around </p>\n\n<ul>\n<li>how to create an observable for each String in the <code>List</code></li>\n<li>combine them</li>\n<li>combine their results into a <code>Map</code></li>\n</ul>\n"}, {"tags": ["android-studio", "intellij-idea", "plugins", "kotlin", "intellij-plugin"], "answers": [{"comments": [{"owner": {"reputation": 132, "user_id": 7557362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPXXz.jpg?s=128&g=1", "display_name": "Saba Khutuashvili", "link": "https://stackoverflow.com/users/7557362/saba-khutuashvili"}, "edited": false, "score": 0, "creation_date": 1528379632, "post_id": 50739924, "comment_id": 88493591, "body": "Can you give us one implementation of <code>FileTemplateUtil.createFromTemplate()</code> method to create one basic kotlin class? There is not much resources about it, Thank you in advance."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 132, "user_id": 7557362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPXXz.jpg?s=128&g=1", "display_name": "Saba Khutuashvili", "link": "https://stackoverflow.com/users/7557362/saba-khutuashvili"}, "edited": false, "score": 2, "creation_date": 1528448735, "post_id": 50739924, "comment_id": 88521774, "body": "See edited answer. I haven&#39;t tested it but it should work."}, {"owner": {"reputation": 132, "user_id": 7557362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPXXz.jpg?s=128&g=1", "display_name": "Saba Khutuashvili", "link": "https://stackoverflow.com/users/7557362/saba-khutuashvili"}, "edited": false, "score": 0, "creation_date": 1528987924, "post_id": 50739924, "comment_id": 88723203, "body": "Thanks for your answer, you did lot for me))"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 2, "last_activity_date": 1528448718, "last_edit_date": 1528448718, "creation_date": 1528370456, "answer_id": 50739924, "question_id": 50720475, "link": "https://stackoverflow.com/questions/50720475/how-to-create-kotlin-class-when-developing-intellij-idea-plugin/50739924#50739924", "title": "how to create kotlin class when developing intellij idea plugin?", "body": "<p>You can use <code>FileTemplateUtil.createFromTemplate()</code> to create a file of any type from a template, including a Kotlin class.</p>\n\n<pre><code>val fileTemplate = FileTemplateManager.getInstance().getTemplate(\"Kotlin Class\")\nFileTemplateUtil.createFromTemplate(template, fileName, null, psiDirectory)\n</code></pre>\n"}], "owner": {"reputation": 132, "user_id": 7557362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iPXXz.jpg?s=128&g=1", "display_name": "Saba Khutuashvili", "link": "https://stackoverflow.com/users/7557362/saba-khutuashvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 50739924, "answer_count": 1, "score": 0, "last_activity_date": 1528448718, "creation_date": 1528288275, "question_id": 50720475, "link": "https://stackoverflow.com/questions/50720475/how-to-create-kotlin-class-when-developing-intellij-idea-plugin", "title": "how to create kotlin class when developing intellij idea plugin?", "body": "<p>When developing <strong>Intellij Idea</strong> plugin creating <strong>java</strong> classes can be done with <code>JavaDirectoryService</code> which creates <code>PsiClasses</code> according to file templates. Is there any way to create <strong>kotlin</strong> classes with similar method? </p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 3, "last_activity_date": 1528290621, "last_edit_date": 1528290621, "creation_date": 1528287046, "answer_id": 50720068, "question_id": 50719978, "link": "https://stackoverflow.com/questions/50719978/simplifying-return-from-multiple-nested-blocks-in-kotlin/50720068#50720068", "title": "Simplifying return from multiple nested blocks in Kotlin", "body": "<p>You can omit <code>return</code> when a lambda only contain a single expression. Since your function also only contains a single expression, you can write the function body after a <code>=</code> to omit the return here too. You can therefore shorten your code to this:</p>\n\n<pre><code>fun get(context: Context, s: String): MyObjectDb? = context.database.use {\n    select(MyObjectDb.TABLE_NAME, *MyObjectDb.PROJECTION)\n        .whereArgs(\"${MyObjectDb.COLUMN_S} = {s}\", \"s\" to s)\n        .exec { getOne(MyObjectDb::fromCursor) }\n}\n</code></pre>\n"}], "owner": {"reputation": 1371, "user_id": 936780, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/e445862ff648e18c3f60de90d1dfa4e2?s=128&d=identicon&r=PG", "display_name": "sposnjak", "link": "https://stackoverflow.com/users/936780/sposnjak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 50720068, "answer_count": 1, "score": 0, "last_activity_date": 1528290621, "creation_date": 1528286684, "question_id": 50719978, "link": "https://stackoverflow.com/questions/50719978/simplifying-return-from-multiple-nested-blocks-in-kotlin", "title": "Simplifying return from multiple nested blocks in Kotlin", "body": "<p>The code in question is as:</p>\n\n<pre><code>fun get(context: Context, s: String): MyObjectDb? {\n    return context.database.use {\n        return@use select(MyObjectDb.TABLE_NAME, *MyObjectDb.PROJECTION)\n                    .whereArgs(\"${MyObjectDb.COLUMN_S} = {s}\", \"s\" to s)\n                        .exec {\n                            return@exec getOne(MyObjectDb::fromCursor)\n                        }\n    }\n}\n</code></pre>\n\n<p>When I check this for code style (sonar with Kotlin plugin that uses detekt) I get a warning that I should \"Restrict the number of return statements in methods.\"</p>\n\n<p>Is there a way to only return in return@exec or to write the code in more Kotlinized way - without so many returns.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528286390, "post_id": 50719867, "comment_id": 88448117, "body": "use <code>val properties</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "edited": false, "score": 0, "creation_date": 1528287957, "post_id": 50720281, "comment_id": 88449161, "body": "Its actual definition is nullable."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "edited": false, "score": 0, "creation_date": 1528288577, "post_id": 50720281, "comment_id": 88449563, "body": "Edited my answer."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1528288570, "last_edit_date": 1528288570, "creation_date": 1528287698, "answer_id": 50720281, "question_id": 50719867, "link": "https://stackoverflow.com/questions/50719867/kotlin-how-to-get-rid-of-this-compiler-error/50720281#50720281", "title": "Kotlin - how to get rid of this compiler error?", "body": "<p>You only need the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">safe call operator <code>?.</code></a> if the left side is a nullable type. In this case, <code>properties</code> is non-nullable (its type is <code>Properties</code> and not <code>Properties?</code>), so you can just leave the operator off, and access the <code>readModeOnly</code> property directly:</p>\n\n<pre><code>var properties = Properties()\n\nif (properties.readModeOnly) {\n\n}\n</code></pre>\n\n<hr>\n\n<p>Update as per the comment below:</p>\n\n<p>If <code>properties</code> <em>is</em> nullable, then <code>properties?.readModeOnly</code> will return a <code>Boolean?</code> (since it will return <code>null</code> if <code>properties</code> itself is <code>null</code>). This means the expression can evaluate to three values now: <code>true</code>, <code>false</code>, or <code>null</code>.</p>\n\n<p>If you consider <code>null</code> to be <code>false</code>, you can use this <code>if</code> check:</p>\n\n<pre><code>if (properties?.readModeOnly == true) {\n\n}\n</code></pre>\n\n<p>Or if <code>null</code> is considered <code>true</code>, although this seems counter-intuitive:</p>\n\n<pre><code>if (properties?.readModeOnly != false) {\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8516626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/786998e40872be271d3d9304916d518c?s=128&d=identicon&r=PG&f=1", "display_name": "Saudaggel", "link": "https://stackoverflow.com/users/8516626/saudaggel"}, "is_accepted": false, "score": 0, "last_activity_date": 1528298483, "creation_date": 1528298483, "answer_id": 50724039, "question_id": 50719867, "link": "https://stackoverflow.com/questions/50719867/kotlin-how-to-get-rid-of-this-compiler-error/50724039#50724039", "title": "Kotlin - how to get rid of this compiler error?", "body": "<p>Try using <code>?.let{}</code></p>\n\n<pre><code>properties?.let {\n    val readModeOnly = it.readModeOnly\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 50720281, "answer_count": 2, "score": -1, "last_activity_date": 1528298483, "creation_date": 1528286296, "question_id": 50719867, "link": "https://stackoverflow.com/questions/50719867/kotlin-how-to-get-rid-of-this-compiler-error", "title": "Kotlin - how to get rid of this compiler error?", "body": "<p>I have this class </p>\n\n<pre><code>data class Properties( val actionBarColor : Int , val fileName : String) : \n Serializable{\nvar title : String = \"\"\nvar readModeOnly : Boolean = false\n}\n</code></pre>\n\n<p>and this if condition</p>\n\n<pre><code>var properties = Properties()\n\nif(properties?.readModeOnly){\n\n}\n</code></pre>\n\n<p>But the compiler says , required <code>Boolean</code> found <code>Boolean?</code> . What should i do to make this work? I don't want it to be nullable.</p>\n"}, {"tags": ["kotlin", "simple-framework"], "answers": [{"tags": [], "owner": {"reputation": 412, "user_id": 6498438, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/OFuAw.png?s=128&g=1", "display_name": "trashgenerator", "link": "https://stackoverflow.com/users/6498438/trashgenerator"}, "is_accepted": false, "score": 1, "last_activity_date": 1528294808, "creation_date": 1528294808, "answer_id": 50722768, "question_id": 50718382, "link": "https://stackoverflow.com/questions/50718382/simplexml-kotlin-array-of-elements/50722768#50722768", "title": "SimpleXML Kotlin - array of elements", "body": "<p>and\nso I found a solution. For XMLs of this type:</p>\n\n<pre><code>&lt;WSDConfig&gt;\n    &lt;file&gt;NewQuoteAPI.xml&lt;/file&gt;\n    &lt;file&gt;tratata.xml&lt;/file&gt;\n&lt;/WSDConfig&gt;\n</code></pre>\n\n<p>I just need to create one class like</p>\n\n<pre><code>@Root (name=\"WSDConfig\")\ndata class WSDConfigDAO(@field:ElementList (entry=\"file\", inline=true, required=false) var files : List&lt;String&gt;) {\n    constructor() : this(mutableListOf&lt;String&gt;())\n}\n</code></pre>\n\n<p>All in attribute <strong>entry</strong>!</p>\n"}], "owner": {"reputation": 412, "user_id": 6498438, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/OFuAw.png?s=128&g=1", "display_name": "trashgenerator", "link": "https://stackoverflow.com/users/6498438/trashgenerator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1528294808, "creation_date": 1528281712, "last_edit_date": 1528291351, "question_id": 50718382, "link": "https://stackoverflow.com/questions/50718382/simplexml-kotlin-array-of-elements", "title": "SimpleXML Kotlin - array of elements", "body": "<p>I've got an XML:</p>\n\n<pre><code>&lt;WSDConfig&gt;\n    &lt;files&gt;\n        &lt;file&gt;NewQuoteAPI.xml&lt;/file&gt;\n        &lt;file&gt;tratata.xml&lt;/file&gt;\n    &lt;/files&gt;\n&lt;/WSDConfig&gt;\n</code></pre>\n\n<p>and want to parse it to List. So I have this classes:</p>\n\n<pre><code>@Root (name=\"files\")\ndata class WSDFileDAO(@field:Element (name=\"file\") var file : String) {\n    constructor() : this(\"\")\n}\n\n@Root (name=\"WSDConfig\")\ndata class WSDConfigDAO(@field:ElementList (name=\"files\", inline=true, required=false) var files : List&lt;WSDFileDAO&gt;) {\n    constructor() : this(mutableListOf&lt;WSDFileDAO&gt;())\n}\n\nPersister().read(WSDConfigDAO::class.java, File(wsDescFileName))\n</code></pre>\n\n<p>I play with annotations and types a lot of times and now I've got an Exception:</p>\n\n<blockquote>\n  <p>org.simpleframework.xml.core.PersistenceException: Element 'file' is already used with @org.simpleframework.xml.Element(name=file, type=void, data=false, required=true) on field 'file' private java.lang.String util.xml.dao.wsdesc.WSDFileDAO.file</p>\n</blockquote>\n\n<p>Tell me please, what I'm doing wrong ?</p>\n\n<p><strong>EDIT:</strong>\nAnd if I change class WSDFileDAO to:</p>\n\n<pre><code>@Root (name=\"files\")\ndata class WSDFileDAO(var file : String) {\n    constructor() : this(\"\") {}\n}\n</code></pre>\n\n<p>The exception is:</p>\n\n<blockquote>\n  <p>org.simpleframework.xml.core.ElementException: Element 'file' does not have a match in class util.xml.dao.wsdesc.WSDFileDAO</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 977, "user_id": 1041722, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/OXuJe.jpg?s=128&g=1", "display_name": "Saskia", "link": "https://stackoverflow.com/users/1041722/saskia"}, "is_accepted": false, "score": 1, "last_activity_date": 1528282216, "creation_date": 1528282216, "answer_id": 50718538, "question_id": 50718369, "link": "https://stackoverflow.com/questions/50718369/split-directory-from-string-in-kotlin/50718538#50718538", "title": "Split directory from string in Kotlin", "body": "<p>Because you have a trailing <code>/</code> in your string. The empty element is what follows the last <code>/</code>, which is nothing.</p>\n\n<p>To drop the last item in a list you can use </p>\n\n<pre><code>val dropped = listOfDirectory.dropLast(1)\n</code></pre>\n\n<p>Also, you don't need the <code>.toRegex()</code> call in split in this example.</p>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 4265477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0744bd99e2b788ed43affd321ea0bfc?s=128&d=identicon&r=PG", "display_name": "chehonte", "link": "https://stackoverflow.com/users/4265477/chehonte"}, "is_accepted": true, "score": 2, "last_activity_date": 1528282948, "creation_date": 1528282948, "answer_id": 50718792, "question_id": 50718369, "link": "https://stackoverflow.com/questions/50718369/split-directory-from-string-in-kotlin/50718792#50718792", "title": "Split directory from string in Kotlin", "body": "<p>The empty string is there because you've got \"/\" after \"holiday\".\nYou can skip empty elements using 'filter' extension function like this:</p>\n\n<pre><code>val listOfDirectory = pwd.split(\"/\").filter { it.isNotEmpty() }\n</code></pre>\n"}], "owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 50718792, "answer_count": 2, "score": 0, "last_activity_date": 1528282948, "creation_date": 1528281679, "question_id": 50718369, "link": "https://stackoverflow.com/questions/50718369/split-directory-from-string-in-kotlin", "title": "Split directory from string in Kotlin", "body": "<p>I guys,</p>\n\n<p>I'm trying to split the directory of string like this:</p>\n\n<pre><code>val pwd = \"travel/holiday/\"\nval listOfDirectory = pwd.split(\"/\".toRegex())\n\noutput: \"travel\",\"holiday\",\"\"\n</code></pre>\n\n<p>Why is created a blank space in the last position? Also, How can I remove that?</p>\n"}, {"tags": ["java", "kotlin", "google-bigquery"], "answers": [{"comments": [{"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 0, "creation_date": 1528286366, "post_id": 50718242, "comment_id": 88448105, "body": "Yep, I didn&#39;t know they were called &quot;repeated&quot; thanks a lot!"}, {"owner": {"reputation": 25696, "user_id": 6253347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1387a55798cae58a3a836dcbcd6e1951?s=128&d=identicon&r=PG&f=1", "display_name": "Elliott Brossard", "link": "https://stackoverflow.com/users/6253347/elliott-brossard"}, "edited": false, "score": 0, "creation_date": 1528306846, "post_id": 50718242, "comment_id": 88461100, "body": "Note that another (potentially easier) option is to execute a <code>CREATE TABLE</code> statement; see the <a href=\"https://cloud.google.com/bigquery/docs/data-definition-language\" rel=\"nofollow noreferrer\">DDL documentation</a> for more information."}], "tags": [], "owner": {"reputation": 615, "user_id": 9354495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dbf4fffcc347aec0b0ce3a55407a2cc?s=128&d=identicon&r=PG&f=1", "display_name": "yuppie-flu", "link": "https://stackoverflow.com/users/9354495/yuppie-flu"}, "is_accepted": true, "score": 3, "last_activity_date": 1528281248, "creation_date": 1528281248, "answer_id": 50718242, "question_id": 50717198, "link": "https://stackoverflow.com/questions/50717198/bigquery-how-to-define-array-like-field-programmatically/50718242#50718242", "title": "BigQuery, how to define array like field programmatically?", "body": "<p>To define array in BigQuery schema you need to use <code>Field.Mode.REPEATED</code> modifier. Check <a href=\"https://cloud.google.com/bigquery/docs/nested-repeated\" rel=\"nofollow noreferrer\">official docs</a>.</p>\n\n<p>Your code will look something like this:</p>\n\n<pre><code>val arrayField = Field.newBuilder(\"user_properties\", LegacySQLTypeName.RECORD, FieldList.of(&lt;record nested fields here&gt;))\n        .setMode(Field.Mode.REPEATED).build()\n</code></pre>\n"}], "owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 50718242, "answer_count": 1, "score": 0, "last_activity_date": 1528281248, "creation_date": 1528278317, "question_id": 50717198, "link": "https://stackoverflow.com/questions/50717198/bigquery-how-to-define-array-like-field-programmatically", "title": "BigQuery, how to define array like field programmatically?", "body": "<p>I'm trying to start a datawarehouse project, this is what I would like my schema to look like:</p>\n\n<p>table: event_log\nschema:</p>\n\n<pre><code> -&gt; info\n    -&gt; user_id: \"xyz\"\n    -&gt; user_properties // &lt;- I want this to be array like\n       -&gt; 0\n          -&gt; key: \"name\n          -&gt; value\n             -&gt; int_value: null\n             -&gt; string_value: \"osp\"\n             ...\n       -&gt; 1 // and it goes on\n</code></pre>\n\n<p>The problem is I don't know how to programatically define this array like structure.</p>\n\n<p>I took the idea from here:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=pxNrkjBeHpw\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=pxNrkjBeHpw</a></p>\n\n<p>here is my code (kotlin using the java google cloud library) so far:</p>\n\n<pre><code>    val tableId = TableId.of(datasetName, tableName)\n\n    // First part, general field\n    val generalInfoFields = ArrayList&lt;Field&gt;()\n    generalInfoFields.add(Field.of(\"user_id\", LegacySQLTypeName.STRING))\n\n\n    generalInfoFields.add(Field.of(\"user_properties\", {ARRAY LIKE TYPE??}))\n\n    val general_info = Field.of(\"general_info\", LegacySQLTypeName.RECORD, FieldList.of(generalInfoFields))\n\n\n    // Combine fields and create table\n    val tableSchema = Schema.of(general_info)\n    val tableDefinition = StandardTableDefinition.of(tableSchema)\n    val tableInfo = TableInfo.newBuilder(tableId, tableDefinition).build()\n    val table = bigquery.create(tableInfo)\n\n\n\n    log.info(\"dataset created \" + dataset.datasetId.dataset)\n</code></pre>\n\n<p>Any help would be greatly appreciated</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 6, "creation_date": 1528276170, "post_id": 50716294, "comment_id": 88441380, "body": "You&#39;re accessing it by dereferencing it: <code>!!</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 3, "creation_date": 1578353680, "post_id": 50716367, "comment_id": 105404080, "body": "Starting from Kotlin 1.4, the exception will be <code>NullPointerException</code> instead (a different type), see <a href=\"https://blog.jetbrains.com/kotlin/2019/08/kotlin-1-3-50-released/\" rel=\"nofollow noreferrer\">here</a>. So if any code catches explicitly <code>KotlinNullPointerException</code> -- which is discouraged -- then upgrading to 1.4 will be a <b>breaking change</b>."}], "tags": [], "owner": {"reputation": 1538, "user_id": 8253837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c03c33b33037fc48092113fe72ed45a8?s=128&d=identicon&r=PG&f=1", "display_name": "Daria Pydorenko", "link": "https://stackoverflow.com/users/8253837/daria-pydorenko"}, "is_accepted": false, "score": 6, "last_activity_date": 1528275907, "creation_date": 1528275907, "answer_id": 50716367, "question_id": 50716294, "link": "https://stackoverflow.com/questions/50716294/kotlin-why-do-i-get-a-kotlinnullpointerexception/50716367#50716367", "title": "Kotlin - why do I get a KotlinNullPointerException", "body": "<p>Operator <code>!!</code> throws an <code>KotlinNullPointerException</code> if <code>message</code> is null.</p>\n\n<p>You can read about it here:\n<a href=\"https://kotlinlang.org/docs/reference/null-safety.html#the--operator\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html#the--operator</a></p>\n"}, {"tags": [], "owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "is_accepted": false, "score": 1, "last_activity_date": 1528275981, "creation_date": 1528275981, "answer_id": 50716397, "question_id": 50716294, "link": "https://stackoverflow.com/questions/50716294/kotlin-why-do-i-get-a-kotlinnullpointerexception/50716397#50716397", "title": "Kotlin - why do I get a KotlinNullPointerException", "body": "<p>From <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#the--operator\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p><strong>The !! Operator</strong>\n  <br><br>The third option is for NPE-lovers: the not-null\n  assertion operator (<code>!!</code>) converts any value to a non-null type and\n  throws an exception if the value is null. We can write <code>b!!</code>, and this\n  will return a non-null value of <code>b</code> (e.g., a <code>String</code> in our example) or\n  throw an NPE if <code>b</code> is null:</p>\n  \n  <p><code>val l = b!!.length</code><br><br> Thus, if you want an NPE, you can have it, but you\n  have to ask for it explicitly, and it does not appear out of the blue.</p>\n</blockquote>\n\n<p>So regardless of whether your function uses the parameter or not, by using <code>message!!</code>, you are explicitly asking for a NPE.</p>\n"}, {"comments": [{"owner": {"reputation": 379, "user_id": 8033562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d75ce61d36f838e3fca5e12ad5b8678?s=128&d=identicon&r=PG", "display_name": "Geoff Langenderfer", "link": "https://stackoverflow.com/users/8033562/geoff-langenderfer"}, "edited": false, "score": 0, "creation_date": 1589476945, "post_id": 50716645, "comment_id": 109317289, "body": "if <code>message == null</code>, the <code>let</code> block is not executed?"}, {"owner": {"reputation": 4562, "user_id": 4511639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba7608645e50c465c62ab160a139c13?s=128&d=identicon&r=PG", "display_name": "d.felber", "link": "https://stackoverflow.com/users/4511639/d-felber"}, "reply_to_user": {"reputation": 379, "user_id": 8033562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d75ce61d36f838e3fca5e12ad5b8678?s=128&d=identicon&r=PG", "display_name": "Geoff Langenderfer", "link": "https://stackoverflow.com/users/8033562/geoff-langenderfer"}, "edited": false, "score": 1, "creation_date": 1589477260, "post_id": 50716645, "comment_id": 109317438, "body": "@GeoffLangenderfer correct! see <a href=\"https://kotlinlang.org/docs/reference/scope-functions.html#let\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/scope-functions.html#let</a> for more info"}], "tags": [], "owner": {"reputation": 4562, "user_id": 4511639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba7608645e50c465c62ab160a139c13?s=128&d=identicon&r=PG", "display_name": "d.felber", "link": "https://stackoverflow.com/users/4511639/d-felber"}, "is_accepted": true, "score": 22, "last_activity_date": 1574809457, "last_edit_date": 1574809457, "creation_date": 1528276720, "answer_id": 50716645, "question_id": 50716294, "link": "https://stackoverflow.com/questions/50716294/kotlin-why-do-i-get-a-kotlinnullpointerexception/50716645#50716645", "title": "Kotlin - why do I get a KotlinNullPointerException", "body": "<p><code>message: String?</code> is indicating that <code>message</code> may or may not be <code>null</code>.  </p>\n\n<p>Since your function <code>maybeWriteMessage</code> has a default value of <code>null</code> for <code>message</code> and you are calling <code>maybeWriteMessage()</code> without specifying <code>message</code> - the default value (<code>null</code>) will be used when calling <code>writeMessage(message!!)</code>.</p>\n\n<p>As written in the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#the--operator\" rel=\"noreferrer\">documentation</a> the <code>!!</code>-operator throws an exception when the value is <code>null</code>.</p>\n\n<p>One way to trigger <code>writeMessage</code> safely would be to use <code>.let</code>:</p>\n\n<pre><code>fun maybeWriteMessage(message: String? = null) {\n    message?.let { \n      writeMessage(it)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1547113066, "last_edit_date": 1547113066, "creation_date": 1528277171, "answer_id": 50716787, "question_id": 50716294, "link": "https://stackoverflow.com/questions/50716294/kotlin-why-do-i-get-a-kotlinnullpointerexception/50716787#50716787", "title": "Kotlin - why do I get a KotlinNullPointerException", "body": "<p>In the following code:</p>\n\n<pre><code>fun maybeWriteMessage(message: String? = null) {\n    writeMessage(message!!)\n}\n</code></pre>\n\n<p>you're asserting that the nullable parameter <code>message</code> is not null by using <code>!!</code> (the not-null assertion operator). If <code>message</code> is null though, this will throw a null pointer.</p>\n\n<p>TL;DR: Do not use <code>!!</code> unless you exactly know what you're doing. There's almost always a better way.</p>\n\n<blockquote>\n  <p><strong>The !! Operator</strong></p>\n  \n  <p>The third option is for <strong>NPE-lovers</strong>: the <strong>not-null assertion operator</strong>\n  (!!) converts any value to a non-null type and throws an exception if\n  the value is null. We can write b!!, and this will return a non-null\n  value of b (e.g., a String in our example) or throw an NPE if b is\n  null:</p>\n  \n  <p><code>val l = b!!.length</code></p>\n  \n  <p>Thus, <em>if you want an NPE</em>, you can have it, but you have to ask for it\n  explicitly, and it does not appear out of the blue.</p>\n</blockquote>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23536, "favorite_count": 0, "accepted_answer_id": 50716645, "answer_count": 4, "score": 11, "last_activity_date": 1574809457, "creation_date": 1528275657, "question_id": 50716294, "link": "https://stackoverflow.com/questions/50716294/kotlin-why-do-i-get-a-kotlinnullpointerexception", "title": "Kotlin - why do I get a KotlinNullPointerException", "body": "<p>Consider the following code:</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    maybeWriteMessage()\n}\n\nfun maybeWriteMessage(message: String? = null) {\n    writeMessage(message!!)\n}\n\nfun writeMessage(message: String) {\n    println(\"Hello World\")\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<blockquote>\n  <p>Exception in thread \"main\" kotlin.KotlinNullPointerException  at\n  com.series0ne.ApplicationKt.maybeWriteMessage(Application.kt:8)   at\n  com.series0ne.ApplicationKt.maybeWriteMessage$default(Application.kt:7)\n    at com.series0ne.ApplicationKt.main(Application.kt:4)</p>\n</blockquote>\n\n<p>This is because I'm passing <code>message!!</code> (null, damn it!) to a non-nullable parameter, however the parameter is never accessed.</p>\n\n<p><strong>Question</strong></p>\n\n<p>Why does Kotlin forcibly throw <code>KotlinNullPointerException</code> even when the null reference isn't accessed?</p>\n"}, {"tags": ["android", "kotlin", "dialog"], "answers": [{"tags": [], "owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "is_accepted": true, "score": 9, "last_activity_date": 1528275520, "creation_date": 1528275520, "answer_id": 50716246, "question_id": 50716054, "link": "https://stackoverflow.com/questions/50716054/kotlin-custom-dialog/50716246#50716246", "title": "Kotlin custom Dialog", "body": "<p>By default parameters in <code>Kotlin</code> are non-null. If your parameter could be null then you should add <code>?</code> to it's type. </p>\n\n<p>As per your exception</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState</p>\n</blockquote>\n\n<p><code>savedInstanceState</code> is null. Use following to correct it.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    ...\n    ...\n</code></pre>\n"}], "owner": {"reputation": 1259, "user_id": 4596099, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/gm0bO.jpg?s=128&g=1", "display_name": "SHIDHIN.T.S", "link": "https://stackoverflow.com/users/4596099/shidhin-t-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4352, "favorite_count": 0, "closed_date": 1529498439, "accepted_answer_id": 50716246, "answer_count": 1, "score": 0, "last_activity_date": 1528275520, "creation_date": 1528274975, "last_edit_date": 1528275166, "question_id": 50716054, "link": "https://stackoverflow.com/questions/50716054/kotlin-custom-dialog", "closed_reason": "Duplicate", "title": "Kotlin custom Dialog", "body": "<p>I am new to kotlin, On my application I want to create a custom dialog. I want to show a common dialog. when I call my Dialog,</p>\n\n<pre><code> InfoMessageDialog(activity, \"Test Title\", \"Test desctiption of the dialog.\").show();\n</code></pre>\n\n<p>I am getting an error like, </p>\n\n<pre><code>FATAL EXCEPTION: main\nProcess: com.bmates.testApp, PID: 4350\njava.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n    at com.bmates.testApp.Dialogs.InfoMessageDialog.onCreate(Unknown Source:4)\n    at android.app.Dialog.dispatchOnCreate(Dialog.java:413)\n    at android.app.Dialog.show(Dialog.java:308)\n    at com.bmates.testApp.Fragments.HomeFragment.writeReviewClick$app_debug(HomeFragment.kt:143)\n    at com.bmates.testApp.Fragments.HomeFragment_ViewBinding$3.doClick(HomeFragment_ViewBinding.java:61)\n    at butterknife.internal.DebouncingOnClickListener.onClick(DebouncingOnClickListener.java:22)\n    at android.view.View.performClick(View.java:6320)\n    at android.view.View$PerformClick.run(View.java:25087)\n    at android.os.Handler.handleCallback(Handler.java:869)\n    at android.os.Handler.dispatchMessage(Handler.java:101)\n    at android.os.Looper.loop(Looper.java:206)\n    at android.app.ActivityThread.main(ActivityThread.java:6733)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:845)\n</code></pre>\n\n<p>Here is my kotlin code,</p>\n\n<pre><code>class InfoMessageDialog(context: Context, private var title : String, private var message : String)  : Dialog(context) {\n\n    override fun onCreate(savedInstanceState: Bundle) {\n        super.onCreate(savedInstanceState)\n        requestWindowFeature(Window.FEATURE_NO_TITLE)\n        setContentView(R.layout.info_dialog)\n        window!!.setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.WRAP_CONTENT)\n        setCanceledOnTouchOutside(true)\n\n        var txtTitle = findViewById&lt;TextView&gt;(R.id.txtTitle)\n        var txtMessage  = findViewById&lt;TextView&gt;(R.id.txtMessage)\n        var btnOK  = findViewById&lt;Button&gt;(R.id.btnOK)\n\n        txtTitle.setText(title)\n        txtMessage.setText(message)\n\n        btnOK.setOnClickListener(View.OnClickListener {\n            dismiss()\n        })\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "java-8", "kotlin", "jacoco"], "comments": [{"owner": {"reputation": 1942, "user_id": 5458344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c732ce4032f4b690f5b4e33e5031ec?s=128&d=identicon&r=PG&f=1", "display_name": "E.Abdel", "link": "https://stackoverflow.com/users/5458344/e-abdel"}, "edited": false, "score": 0, "creation_date": 1528271663, "post_id": 50714637, "comment_id": 88438675, "body": "did you tried by adding Java 8 compatibility? <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/java8-support</a>"}, {"owner": {"reputation": 13239, "user_id": 5305962, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9YbROXbfbBw/AAAAAAAAAAI/AAAAAAAAAEg/v4eIW0Y-eO0/photo.jpg?sz=128", "display_name": "Dinesh Balasubramanian", "link": "https://stackoverflow.com/users/5305962/dinesh-balasubramanian"}, "reply_to_user": {"reputation": 1942, "user_id": 5458344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c732ce4032f4b690f5b4e33e5031ec?s=128&d=identicon&r=PG&f=1", "display_name": "E.Abdel", "link": "https://stackoverflow.com/users/5458344/e-abdel"}, "edited": false, "score": 0, "creation_date": 1528273978, "post_id": 50714637, "comment_id": 88440055, "body": "Yes we have done that"}], "answers": [{"tags": [], "owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "is_accepted": false, "score": 3, "last_activity_date": 1530615480, "last_edit_date": 1592644375, "creation_date": 1529717610, "answer_id": 50997230, "question_id": 50714637, "link": "https://stackoverflow.com/questions/50714637/java-8-interface-with-default-methods-not-working-when-jacoco-enabled/50997230#50997230", "title": "Java 8 Interface with default Methods not working when Jacoco Enabled", "body": "<p>This problem can occur if you want to invoke the <code>default</code> implementation of a method that hasn't a <code>default</code> implementation in the <code>interface</code> that your class explicitly <code>implements</code> it. (But has a <code>default</code> implementation in a <strong><em>base (parent, super)</em> <code>interface</code></strong> of that <code>interface</code>).</p>\n<p>Example: Suppose these defenitions:</p>\n<pre><code>class A implements DerivedInterface /*, ...*/ {\n    @Override public void methodFromBaseInterface() {\n        DerivedInterface.super.methodFromBaseInterface(); // Error:\n            // NoSuchMethodError: No static method methodFromBaseInterface\n    }\n    // ...\n}\n\ninterface DerivedInterface extends BaseInterface {\n    // ... \n    // `methodFromBaseInterface` hasn't overriden here.\n}\n\ninterface BaseInterface {\n    default void methodFromBaseInterface() { /* ...*/ }\n    // ...\n}\n</code></pre>\n<p>Then execute:</p>\n<pre><code>A a = new A();\na.methodFromBaseInterface(); // This cause above error!\n</code></pre>\n<p>And you get an error at mentioned point!</p>\n<p><sup><em>(Marginal note: You may need to define at least one method in <code>DerivedInterface</code> to avoid getting <code>NoClassDefFoundError</code> at runtime!)</em></sup></p>\n<hr />\n<p>This is similar to a bug! <em>We used <code>super</code> keyword. Why expected <strong><code>static</code></strong> method?!!</em> Another point is that the above code hasn't any problem and you can run it in any Java 8 compatible environment without any problem!</p>\n<p><em>I think the problem is related to <strong>incomplete support of Java 8 language APIs in Android platform</strong>:</em></p>\n<blockquote>\n<p>Android Studio 3.0 and later supports all Java 7 language features and <strong>a subset of Java 8 language features that vary by platform version</strong>.</p>\n</blockquote>\n<p>Specially see <em><strong>Java 8 Language API</strong> and <strong>Compatible minSdkVersion</strong></em> table in <a href=\"https://developer.android.com/studio/write/java8-support#supported_features\" rel=\"nofollow noreferrer\">that page</a>:</p>\n<blockquote>\n<p><code>java.lang.FunctionalInterface</code> : API level 24 or higher.</p>\n</blockquote>\n<hr />\n<h1>Workarounds I found:</h1>\n<ol>\n<li><p>If you have access to the definition of <code>DerivedInterface</code> simply override <code>methodFromBaseInterface</code> and explicitly delegates it to its <code>super</code> interface:</p>\n<pre><code>interface DerivedInterface extends BaseInterface {\n    @Override default void methodFromBaseInterface() {\n        BaseInterface.super.methodFromBaseInterface();\n    }\n    // ...\n}\n</code></pre>\n</li>\n<li><p>Define a middle <code>class</code> that implements <code>BaseInterface</code> and derive <code>A</code> from it. Then run <code>methodFromBaseInterface</code> indirectly throw the middle <code>class</code>:</p>\n<pre><code>class MiddleClass /*extends B*/ implements BaseInterface {}\n\nclass A extends MiddleClass implements DerivedInterface {\n    @Override public void methodFromBaseInterface() {\n        super.methodFromBaseInterface(); // Indirectly from `MiddleClass`\n    }\n    // ...\n}\n</code></pre>\n<p>Note: Uncomment <code>/*extends B*/</code> if your <code>A</code> class previously has a <code>super</code> named <code>B</code>.</p>\n</li>\n</ol>\n"}], "owner": {"reputation": 13239, "user_id": 5305962, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9YbROXbfbBw/AAAAAAAAAAI/AAAAAAAAAEg/v4eIW0Y-eO0/photo.jpg?sz=128", "display_name": "Dinesh Balasubramanian", "link": "https://stackoverflow.com/users/5305962/dinesh-balasubramanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1275, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1530615480, "creation_date": 1528270263, "question_id": 50714637, "link": "https://stackoverflow.com/questions/50714637/java-8-interface-with-default-methods-not-working-when-jacoco-enabled", "title": "Java 8 Interface with default Methods not working when Jacoco Enabled", "body": "<p>We are having an interface with <strong>default methods</strong> and we implemented that interface in both <code>Java</code> and <code>Kotlin</code> classes and we provided the implementation for the non default methods.</p>\n\n<p>When we run in debug mode (which doesn't have testCoverageEnabled = true) and the app works as expected. But when we run in different config with testCoverageEnabled = true, the app is crashing with below error</p>\n\n<pre><code>java.lang.NoSuchMethodError: No static method $$triggerInterfaceInit()V in class Lcom/ui/viewholders/CAViewContract$$CC; or its super classes (declaration of 'ui.viewholders.CAViewContract$$CC' appears in /data/app/SMCXbiLYvHb1Kk08Kee__g==/base.apk)\n    at home.c.CCFragment.&lt;clinit&gt;(Unknown Source:0)\n    at home.HomePageCardProvider.getFragment(HomePageCardProvider.java:17)\n    at home.HomeFragment.handleCardFragment(HomeFragment.java:172)\n</code></pre>\n\n<p><strong>Note:</strong>\n1. JaCoCo version: \"0.8.0\"\n2. Operating system: Android with minSdk 21</p>\n\n<p>If we change the minSdk to 24, with <code>testCoverageEnabled = true</code> itself, it is working. We are not able to figure out the exact problem.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "edited": false, "score": 0, "creation_date": 1528267254, "post_id": 50713714, "comment_id": 88436137, "body": "Yes I am using Gson. So... actually I should have declared all fields optional?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "edited": false, "score": 0, "creation_date": 1528267406, "post_id": 50713714, "comment_id": 88436205, "body": "That&#39;s the only way to match what GSON is about to do with them. And provide no other default but <code>null</code>. As a workaround you can build such a &quot;raw&quot; object for deserialization only, and then create your real domain object by passing the raw one in, and then apply all the logic of copying the data."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 8, "last_activity_date": 1528267074, "creation_date": 1528267074, "answer_id": 50713714, "question_id": 50713593, "link": "https://stackoverflow.com/questions/50713593/a-field-not-declared-optional-accepted-null-as-the-value/50713714#50713714", "title": "A field not declared optional accepted null as the value", "body": "<p>You're using a JSON deserialization library (GSON?) that creates your objects by completely sidestepping the initialization you built into them. Most probably it uses a low-level, non-JDK call <code>sun.misc.Unsafe.allocateObject()</code> to allocate a raw data block for your object and then proceeds to populate it from parsed JSON.</p>\n\n<p>The only way to truly fix this is using such a JSON library that understands Kotlin and can replicate its object initialization rules.</p>\n\n<p>BTW your specific JSON example, which explicitly assigns <code>null</code> to a non-null property, should not use the default value, but throw a validation exception.</p>\n"}], "owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 50713714, "answer_count": 1, "score": 1, "last_activity_date": 1528267365, "creation_date": 1528266652, "question_id": 50713593, "link": "https://stackoverflow.com/questions/50713593/a-field-not-declared-optional-accepted-null-as-the-value", "title": "A field not declared optional accepted null as the value", "body": "<p>I have a data class</p>\n\n<pre><code>data class Bean {\n\n    var value: String = \"\"\n\n}\n</code></pre>\n\n<p>I got a Json from server:</p>\n\n<pre><code>{\n    \"value\":null\n}\n</code></pre>\n\n<p>What I expect is since <code>value</code> is not optional, so the null cannot be assigned and <code>value</code> will remain as <code>\"\"</code>. But using the debugger I found that <code>value</code> is null, and therefore some method I called on it throws the below exception:</p>\n\n<pre><code>fun matches(stringToMatch: String): Boolean {\n    return this.value.toLowerCase() == stringToMatch.toLowerCase()\n}\n</code></pre>\n\n<p><code>kotlin.TypeCastException: null cannot be cast to non-null type java.lang.String</code></p>\n\n<p>How can I make <code>value</code> remains <code>\"\"</code>?</p>\n"}, {"tags": ["android", "post", "kotlin"], "comments": [{"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1528266972, "post_id": 50713579, "comment_id": 88435985, "body": "used retrofit 2.0 for ws calling it is easy."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1528267411, "post_id": 50713579, "comment_id": 88436209, "body": "how is your <code>hashMap</code> defined?"}, {"owner": {"reputation": 13, "user_id": 9901384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7_hKMcsGCg4/AAAAAAAAAAI/AAAAAAAAAY0/HcJE3Ly8i1A/photo.jpg?sz=128", "display_name": "Pallavi Sharma", "link": "https://stackoverflow.com/users/9901384/pallavi-sharma"}, "edited": false, "score": 0, "creation_date": 1528269984, "post_id": 50713579, "comment_id": 88437742, "body": "var hashMap = java.util.HashMap&lt;String, MyParams&gt;()"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9901384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7_hKMcsGCg4/AAAAAAAAAAI/AAAAAAAAAY0/HcJE3Ly8i1A/photo.jpg?sz=128", "display_name": "Pallavi Sharma", "link": "https://stackoverflow.com/users/9901384/pallavi-sharma"}, "edited": false, "score": 0, "creation_date": 1528271331, "post_id": 50714683, "comment_id": 88438485, "body": "I did that but then it gives error in this line &quot;hashMap[&quot;latuitude&quot;] = latuitude&quot; it says - Type inference failed: Cannot infer type parameter V in inline operator fun &lt;K, V&gt; MutableMap&lt;K, V&gt;.set(key: K, value: V): Unit None of the following substitutions receiver: MutableMap&lt;String, String&gt;  arguments: (String,String) receiver: MutableMap&lt;String, Float&gt;  arguments: (String,Float) can be applied to receiver: HashMap&lt;String, String&gt;  arguments: (String,Float)"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 13, "user_id": 9901384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7_hKMcsGCg4/AAAAAAAAAAI/AAAAAAAAAY0/HcJE3Ly8i1A/photo.jpg?sz=128", "display_name": "Pallavi Sharma", "link": "https://stackoverflow.com/users/9901384/pallavi-sharma"}, "edited": false, "score": 0, "creation_date": 1528274343, "post_id": 50714683, "comment_id": 88440263, "body": "What is <code>httpParse</code>&#39;s type? From which library is it from? I found another question using the same class (no link to the library, though), and there the <code>postRequest</code> method was accepting a <code>Map&lt;String, String&gt;</code> as a parameter, so it means that you need to convert your <code>latitude</code> and <code>longitude</code> to <code>String</code>, e.g., by calling <code>toString()</code> on them (but it depends on how the server expects input parameters to be formatted)"}, {"owner": {"reputation": 13, "user_id": 9901384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7_hKMcsGCg4/AAAAAAAAAAI/AAAAAAAAAY0/HcJE3Ly8i1A/photo.jpg?sz=128", "display_name": "Pallavi Sharma", "link": "https://stackoverflow.com/users/9901384/pallavi-sharma"}, "edited": false, "score": 0, "creation_date": 1528278950, "post_id": 50714683, "comment_id": 88443350, "body": "For latitude and longitude server expects input in Float."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 13, "user_id": 9901384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7_hKMcsGCg4/AAAAAAAAAAI/AAAAAAAAAY0/HcJE3Ly8i1A/photo.jpg?sz=128", "display_name": "Pallavi Sharma", "link": "https://stackoverflow.com/users/9901384/pallavi-sharma"}, "edited": false, "score": 0, "creation_date": 1528279067, "post_id": 50714683, "comment_id": 88443432, "body": "ok, but I guess they should be passed as strings, since it&#39;s an HTTP request. Try to call <code>latitude.toString()</code> when adding it to your <code>Map&lt;String, String&gt;</code>, it should work"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 1, "last_activity_date": 1528270778, "last_edit_date": 1528270778, "creation_date": 1528270433, "answer_id": 50714683, "question_id": 50713579, "link": "https://stackoverflow.com/questions/50713579/send-different-types-of-post-parameters-in-api-in-kotlin/50714683#50714683", "title": "send different types of post parameters in api in kotlin", "body": "<p>As you said, you declared <code>hashMap</code> as a variable of type <code>HashMap&lt;String, MyParams&gt;</code>, while you're trying to <code>put</code> a <code>String</code>, and <code>String</code> \"is not\" <code>MyParams</code>.</p>\n\n<p>To solve the issue, you should either change <code>MyParams</code> to <code>String</code> (i.e., <code>val hashMap = HashMap&lt;String, String&gt;()</code>, which I guess is what you really want), or insert the correct value inside the map (i.e., <code>hashMap[\"name\"] = params[0]</code>).</p>\n\n<p>By the way, <code>var paramlatitude: Float = 0.toFloat()</code> could be simplified to <code>var paramLatitude = 0F</code></p>\n"}, {"tags": [], "owner": {"reputation": 3132, "user_id": 5364583, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/67aed09085b954ecc27caed47ae20969?s=128&d=identicon&r=PG", "display_name": "J&#233;w&#244;m&#39;", "link": "https://stackoverflow.com/users/5364583/j%c3%a9w%c3%b4m"}, "is_accepted": false, "score": 0, "last_activity_date": 1528270770, "creation_date": 1528270770, "answer_id": 50714791, "question_id": 50713579, "link": "https://stackoverflow.com/questions/50713579/send-different-types-of-post-parameters-in-api-in-kotlin/50714791#50714791", "title": "send different types of post parameters in api in kotlin", "body": "<p><code>var name = params[0].paramName</code> is a String</p>\n\n<p><code>var address = params[0].paramaddress</code> is a String</p>\n\n<p>So when you do :</p>\n\n<pre><code>hashMap[\"name\"] = name\nhashMap[\"address\"] = address\n</code></pre>\n\n<p>using a Hashmap like this <code>var hashMap = java.util.HashMap&lt;String, MyParams&gt;()</code> it suppose you have to make an HashMap like HashMap and not HashMap.</p>\n\n<p>Change the type of your Hashmap or send a type MyParams in the values of your Hashmap.</p>\n"}], "owner": {"reputation": 13, "user_id": 9901384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7_hKMcsGCg4/AAAAAAAAAAI/AAAAAAAAAY0/HcJE3Ly8i1A/photo.jpg?sz=128", "display_name": "Pallavi Sharma", "link": "https://stackoverflow.com/users/9901384/pallavi-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1047, "favorite_count": 0, "accepted_answer_id": 50714683, "answer_count": 2, "score": 1, "last_activity_date": 1528274943, "creation_date": 1528266615, "last_edit_date": 1528274943, "question_id": 50713579, "link": "https://stackoverflow.com/questions/50713579/send-different-types-of-post-parameters-in-api-in-kotlin", "title": "send different types of post parameters in api in kotlin", "body": "<p>I try to send different types of post parameters in api but it did not work correctly. Any idea why?</p>\n\n<p>Here is my code.</p>\n\n<p>Firstly I wrap my parameters in a simple container and pass that as a parameter to AsyncTask, like this: </p>\n\n<pre><code>class MyParams {\n    var paramName: String = \"\"\n    var paramaddress: String = \"\"\n    var paramlatitude: Float = 0.toFloat()\n    var paramlongitude: Float = 0.toFloat()\n\n    constructor(funName: String, funAddress: String, funLatitude: Float, funLongitude: Float) {\n        this.paramName = funName\n        this.paramaddress = funAddress\n        this.paramlatitude = funLatitude\n        this.paramlongitude = funLongitude\n    }\n}\n\nclass myClass : AsyncTask&lt;MyParams, Void, String&gt;() {\n\n    override fun onPreExecute() {\n        super.onPreExecute()\n    }\n\n    override fun onPostExecute(httpResponseMsg: String) {\n        super.onPostExecute(httpResponseMsg)\n        ...\n    }\n\n    override fun doInBackground(vararg params: MyParams): String {\n        var name = params[0].paramName\n        var address = params[0].paramaddress\n        var latuitude = params[0].paramlatitude\n        var longitude  = params[0].paramlongitude\n        hashMap[\"name\"] = name\n        hashMap[\"address\"] = address\n        hashMap[\"latuitude\"] = latuitude\n        hashMap[\"longitude\"] = longitude\n\n        finalResult = httpParse.postRequest(hashMap, HttpURL)\n\n        println(\"responseeeeeeeee-----=\"+finalResult)\n        return finalResult\n    }\n\n\n}\n\nval params = MyParams(funName,funAddress,funLatitude,funLongitude)\nval myTask = myClass()\nmyTask.execute(params)\n</code></pre>\n\n<p>But in this line <code>hashMap[\"name\"] = name</code> I got the following error:</p>\n\n<blockquote>\n  <p>Type inference failed: Cannot infer type parameter V in inline\n      operator fun  MutableMap.set(key: K, value: V): Unit None\n      of the following substitutions receiver: MutableMap \n      arguments: (String,Params) receiver: MutableMap \n      arguments: (String,String) can be applied to receiver: HashMap  arguments: (String,String)</p>\n</blockquote>\n"}, {"tags": ["android", "webview", "kotlin"], "comments": [{"owner": {"reputation": 361, "user_id": 1690697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87bf612f203070f6516cb8d151da6b39?s=128&d=identicon&r=PG", "display_name": "Muhammad Sheraz", "link": "https://stackoverflow.com/users/1690697/muhammad-sheraz"}, "edited": false, "score": 0, "creation_date": 1567060051, "post_id": 50713010, "comment_id": 101851156, "body": "Please add your code snippets to elaborate your question, as this will help to identify the issue. Are you loading webpages using webview.loadUrl() method ?"}], "answers": [{"comments": [{"owner": {"reputation": 1800, "user_id": 2105339, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/82187386ca4f2616d0770cbc9e2ab3f1?s=128&d=identicon&r=PG", "display_name": "sliders_alpha", "link": "https://stackoverflow.com/users/2105339/sliders-alpha"}, "edited": false, "score": 0, "creation_date": 1539768266, "post_id": 50713011, "comment_id": 92618407, "body": "&quot;Error parsing a meta element&#39;s content: &#39;;&#39; blablabla&quot;, when you look in the page source code there is indeed a &quot;;&quot; in the meta tag. because of this the webview is blank."}], "tags": [], "owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "is_accepted": true, "score": -1, "last_activity_date": 1528264132, "creation_date": 1528264132, "answer_id": 50713011, "question_id": 50713010, "link": "https://stackoverflow.com/questions/50713010/webview-is-failing-to-load-some-webpages/50713011#50713011", "title": "WebView is failing to load some webpages", "body": "<p>I was able to solve this issue by implementing the below code:</p>\n\n<pre><code>webView_courseLesson.settings.javaScriptEnabled = true\nwebView_courseLesson.settings.loadWithOverviewMode = true\nwebView_courseLesson.settings.useWideViewPort = true\n</code></pre>\n\n<p>By default the javaScript support is turned off by the Android framework. Though you can check documentation here <a href=\"http://developer.android.com/guide/practices/security.html\" rel=\"nofollow noreferrer\">http://developer.android.com/guide/practices/security.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 389, "user_id": 4463807, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-SpU2fmo8d8A/AAAAAAAAAAI/AAAAAAAAAEk/AjwrNwyxTnU/photo.jpg?sz=128", "display_name": "Mitab Shrestha", "link": "https://stackoverflow.com/users/4463807/mitab-shrestha"}, "edited": false, "score": 0, "creation_date": 1595125460, "post_id": 57703955, "comment_id": 111365079, "body": "I have the same scenario but the website is not my website and cannot change its source code. How to handle in that case? Most mobile browser loads without a problem."}], "tags": [], "owner": {"reputation": 361, "user_id": 1690697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87bf612f203070f6516cb8d151da6b39?s=128&d=identicon&r=PG", "display_name": "Muhammad Sheraz", "link": "https://stackoverflow.com/users/1690697/muhammad-sheraz"}, "is_accepted": false, "score": 3, "last_activity_date": 1567060649, "last_edit_date": 1567060649, "creation_date": 1567058914, "answer_id": 57703955, "question_id": 50713010, "link": "https://stackoverflow.com/questions/50713010/webview-is-failing-to-load-some-webpages/57703955#57703955", "title": "WebView is failing to load some webpages", "body": "<p>If you are using webview.loadUrl() method to load a web page make sure that elements in the <strong>content</strong> attribute in <strong>meta</strong> tag (of web page's html) should have its elements comma \",\" separated neither semi-colon \";\" nor blank space, for example:</p>\n\n<p><strong>Like this:</strong></p>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"key1=value1,key2=value2,key3=value3\"&gt; //best practice\n</code></pre>\n\n<p><strong>Not even this, though supported but not recommended:</strong></p>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"key1=value1;key2=value2;key3=value3\"&gt; \n</code></pre>\n\n<p><strong>Not even this, though supported but not recommended:</strong></p>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"key1=value1;key2=value2;key3=value3\"&gt;\n</code></pre>\n\n<p>So, see <strong>meta</strong> tag in your html's <strong>head</strong> tag having <strong>name=\"viewport\"</strong>, it should have it elements (i.e. key=values) comma separated in its <strong>content</strong> attribute, so after fixing it should like this:</p>\n\n<pre><code>&lt;head&gt;\n...\n&lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1,maximum-scale=1\"&gt;\n....\n&lt;/head&gt;\n</code></pre>\n\n<p>Ref: <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Mobile/Viewport_meta_tag\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Mozilla/Mobile/Viewport_meta_tag</a></p>\n\n<p>Also see this similar thread: <a href=\"https://stackoverflow.com/questions/33000646/android-webview-scale-image-to-fit-screen-properly-with-one-loadurl\">Android Webview - Scale image to fit screen properly with one loadUrl</a></p>\n"}], "owner": {"reputation": 1929, "user_id": 5744323, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HPeWt.png?s=128&g=1", "display_name": "Anirudha Mahale", "link": "https://stackoverflow.com/users/5744323/anirudha-mahale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2513, "favorite_count": 0, "accepted_answer_id": 50713011, "answer_count": 2, "score": 2, "last_activity_date": 1567060649, "creation_date": 1528264132, "question_id": 50713010, "link": "https://stackoverflow.com/questions/50713010/webview-is-failing-to-load-some-webpages", "title": "WebView is failing to load some webpages", "body": "<p>I getting the below error when trying to load some webpages</p>\n\n<blockquote>\n  <p>Error parsing a meta element's content: ';' is not a valid key-value pair separator. Please use ',' instead.</p>\n</blockquote>\n\n<p>How do I solve it?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1528261586, "post_id": 50712498, "comment_id": 88434001, "body": "That&#39;s rather weird, that <code>sortedWith</code> call works for me. Is your Kotlin plugin in IntelliJ also up-to-date? You can check by going to <code>Tools -&gt; Kotlin -&gt; Configure Kotlin Plugin Updates -&gt; Check for updates now</code>."}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1528261771, "post_id": 50712498, "comment_id": 88434068, "body": "@zsmb13 It\u2019s up-to-date with the latest stable version I posted above"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1528261910, "post_id": 50712498, "comment_id": 88434112, "body": "If your Kotlin version set in <code>build.gradle</code> is also the same, this should be working fine. Perhaps try <code>File -&gt; Invalidate Caches &#47; Restart</code>."}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1528262011, "post_id": 50712498, "comment_id": 88434138, "body": "@zsmb13 Same minor version, but the plugin has a build number. Will try invalidating cache"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1528262722, "post_id": 50712498, "comment_id": 88434359, "body": "@zsmb13 Invalidating cache didn&#39;t help."}, {"owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 1, "creation_date": 1528275988, "post_id": 50712498, "comment_id": 88441278, "body": "It works for me as well. Can you paste the whole code, i.e. how you build list of pairs?"}, {"owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1528362284, "post_id": 50712498, "comment_id": 88481809, "body": "I copy-pasted your code, just adding <code>val edges: Iterable&lt;Edge&gt; = listOf()</code> and it compiles and runs just fine. And I&#39;m using the same Kotlin version"}, {"owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1528363312, "post_id": 50712498, "comment_id": 88482536, "body": "Maybe somehow you have two Kotlin runtimes in the project? You could also try to specify type explicitly like <code>compareBy&lt;Pair&lt;Int,Int&gt;&gt;</code>"}], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528336904, "creation_date": 1528260934, "last_edit_date": 1528336904, "question_id": 50712498, "link": "https://stackoverflow.com/questions/50712498/kotlin-comparator-compilation-error-in-intellij", "title": "Kotlin Comparator Compilation Error in IntelliJ", "body": "<p>Using Kotlin 1.2.41-release and given a <code>List&lt;Pair&lt;Int, Int&gt;&gt;</code>, the following code generates a compilation error in Intellij, although Gradle command line build works.\n<code>\nsortedWith(compareBy({ it.first }, { it.second }))\n</code></p>\n\n<pre><code>Cannot choose among the following candidates without completing type inference.\npublic fun &lt;T&gt; compareBy(vararg selectors: (???) -&gt; Comparable&lt;*&gt;?): kotlin.Comparator&lt;???&gt; defined in kotlin.comparisons\npublic fun &lt;T&gt; compareBy(vararg selectors: (Pair&lt;Int, Int&gt;) -&gt; Comparable&lt;*&gt;?): kotlin.Comparator&lt;Pair&lt;Int, Int&gt;&gt; defined in kotlin.comparisons\n</code></pre>\n\n<p>How can I fix this?</p>\n\n<p><strong>Edit</strong>:</p>\n\n<pre><code>edges\n  .map {\n      it.either.run {\n          val p = this\n          val q = it.other(this)\n          val min = min(p, q)\n          if (min == p) p to q else q to p\n      }\n  }\n  .sortedWith(compareBy({ it.first }, { it.second }))\n  .toList()\n</code></pre>\n\n<p>where, <code>edges</code> is <code>Iterable&lt;Edge&gt;</code></p>\n\n<pre><code>class Edge(private val v: Int, private val w: Int, val weight: Double) : Comparable&lt;Edge&gt; {\n    val either: Int\n        get() = v\n\n    fun other(vertex: Int): Int {\n        return if (v == vertex) w else v\n    }\n\n    override fun compareTo(other: Edge): Int {\n        return weight.compareTo(other.weight)\n    }\n\n    override fun toString(): String {\n        return \"Edge(v=$v, w=$w, weight=$weight)\"\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 471, "user_id": 820374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3957f4a72c621f4bf471d0ab0d41033?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/820374/ken"}, "edited": false, "score": 0, "creation_date": 1528261597, "post_id": 50712558, "comment_id": 88434007, "body": "When I add &quot;override&quot; to GetWelcomeMessageHandler&#39;s handleAPIGatewayRequest method, I get the following error: Modifier &#39;override&#39; is not applicable to &#39;top level function&#39;"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 471, "user_id": 820374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3957f4a72c621f4bf471d0ab0d41033?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/820374/ken"}, "edited": false, "score": 0, "creation_date": 1528261982, "post_id": 50712558, "comment_id": 88434132, "body": "Oh, I just realised you&#39;re also missing a <code>{</code> after the end of the <code>GetWelcomeMessageHandler</code> declaration. See the edit in my answer above."}, {"owner": {"reputation": 471, "user_id": 820374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3957f4a72c621f4bf471d0ab0d41033?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/820374/ken"}, "edited": false, "score": 0, "creation_date": 1528265510, "post_id": 50712558, "comment_id": 88435350, "body": "That fixed the issue, allowed me to add override to the method.  Thanks!   The error message was very misleading"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 471, "user_id": 820374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3957f4a72c621f4bf471d0ab0d41033?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/820374/ken"}, "edited": false, "score": 0, "creation_date": 1528268447, "post_id": 50712558, "comment_id": 88436842, "body": "Indeed, the one about a top level function was a much better one."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1528261997, "last_edit_date": 1528261997, "creation_date": 1528261368, "answer_id": 50712558, "question_id": 50712491, "link": "https://stackoverflow.com/questions/50712491/class-is-not-abstract-and-does-not-implement-abstract-base-class-member/50712558#50712558", "title": "Class is not abstract and does not implement abstract base class member", "body": "<p>I think you're just missing some <a href=\"https://kotlinlang.org/docs/reference/classes.html#overriding-methods\" rel=\"noreferrer\"><code>override</code></a> keywords. Namely, your abstract class should have it on the <code>handleRequest</code> method:</p>\n\n<pre><code>public abstract class APIGatewayRequestHandler&lt;T&gt; public constructor() : com.amazonaws.services.lambda.runtime.RequestHandler&lt;com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent, T&gt; {\n    public abstract fun handleAPIGatewayRequest(input: com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent, context: com.amazonaws.services.lambda.runtime.Context?): T\n\n    public override fun handleRequest(input: com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent?, context: com.amazonaws.services.lambda.runtime.Context?): T {\n        /* compiled code */\n    }\n}\n</code></pre>\n\n<p>And then your <code>GetWelcomeMessageHandler</code> should have it on its <code>handleAPIGatewayRequest</code> method:</p>\n\n<pre><code>class GetWelcomeMessageHandler : APIGatewayRequestHandler&lt;WelcomeMessage&gt;() { // &lt;-- This curly brace was also missing\n    override fun handleAPIGatewayRequest(input: com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent, context: com.amazonaws.services.lambda.runtime.Context?): WelcomeMessage {\n        return WelcomeMessage()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 820374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3957f4a72c621f4bf471d0ab0d41033?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/820374/ken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11040, "favorite_count": 0, "accepted_answer_id": 50712558, "answer_count": 1, "score": 8, "last_activity_date": 1528261997, "creation_date": 1528260895, "question_id": 50712491, "link": "https://stackoverflow.com/questions/50712491/class-is-not-abstract-and-does-not-implement-abstract-base-class-member", "title": "Class is not abstract and does not implement abstract base class member", "body": "<p>I'm confused by this Kotlin error associated with providing an implementation for an abstract class that has been imported from a maven package.</p>\n\n<p>I have a maven library that is written in Kotlin and exposes an abstract class called APIGatewayRequestHandler.  In my app that imports the library, I provide an implementation of the abstract class:</p>\n\n<pre><code>class GetWelcomeMessageHandler : APIGatewayRequestHandler&lt;WelcomeMessage&gt;()\n    fun handleAPIGatewayRequest(input: com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent, context: com.amazonaws.services.lambda.runtime.Context?): WelcomeMessage {\n        return WelcomeMessage()\n    }\n}\n</code></pre>\n\n<p>The decompiled abstract class from the library looks like this:</p>\n\n<pre><code>public abstract class APIGatewayRequestHandler&lt;T&gt; public constructor() : com.amazonaws.services.lambda.runtime.RequestHandler&lt;com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent, T&gt; {\n    public abstract fun handleAPIGatewayRequest(input: com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent, context: com.amazonaws.services.lambda.runtime.Context?): T\n\n    public open fun handleRequest(input: com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent?, context: com.amazonaws.services.lambda.runtime.Context?): T {\n        /* compiled code */\n    }\n}\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Class 'GetWelcomeMessageHandler' is not abstract and does not implement abstract base class member\npublic abstract fun handleAPIGatewayRequest(input: APIGatewayProxyRequestEvent, context: Context?): WelcomeMessage\n</code></pre>\n"}, {"tags": ["algorithm", "data-structures", "tree", "kotlin", "binary-search-tree"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 1, "creation_date": 1528256328, "post_id": 50711002, "comment_id": 88432628, "body": "It&#39;s recommended to use <code>filterNotNull</code> instead of <code>filter(Objects::nonNull)</code>, which will prevent you from using <code>!!</code> operator in the next map operation."}], "answers": [{"comments": [{"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1528258092, "post_id": 50712011, "comment_id": 88433038, "body": "Your code won&#39;t compile since the variable <code>node</code> in <code>generateSequence</code> isn&#39;t defined."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1528262716, "post_id": 50712011, "comment_id": 88434356, "body": "@AbhijitSarkar Fixed"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1528263100, "post_id": 50712011, "comment_id": 88434481, "body": "Your code isn&#39;t the same logic as mine and fails the traversal test. I suggest running it before suggesting further (incorrect) solutions."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1528263271, "post_id": 50712011, "comment_id": 88434522, "body": "Because I don&#39;t know how <code>peek</code>, <code>enqueue</code> and <code>dequeue</code> are implemented. I guess <code>dequeue</code> is <code>pop</code> and <code>enqueue</code> is <code>add</code> and wrote the code above. Edited a little"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1528263358, "last_edit_date": 1528263358, "creation_date": 1528257116, "answer_id": 50712011, "question_id": 50711002, "link": "https://stackoverflow.com/questions/50711002/idiomatic-kotlin-for-level-order-traversal-of-bst/50712011#50712011", "title": "Idiomatic Kotlin for Level Order Traversal of BST", "body": "<p>Yes you can, by using a <code>sequence</code> (say, <code>generateSequence</code>):</p>\n\n<pre><code>fun levelOrder(): Iterable&lt;Pair&lt;Key, Int&gt;&gt; {\n    class InternalNode(val node: Node&lt;Key&gt;, val level: Int)\n\n    val yetToVisit = emptyQueue&lt;InternalNode&gt;()\n    val visited = emptyQueue&lt;Pair&lt;Key, Int&gt;&gt;()\n    fun peek() = yetToVisit.dequeue()\n            .also { visited.enqueue(it.node.key to it.level) }\n\n    root?.also { yetToVisit.enqueue(InternalNode(it, 1)) }\n    if (yetToVisit.isEmpty) return visited\n    generateSequence(peek()) { node -&gt;\n        if (!yetToVisit.isEmpty &amp;&amp; yetToVisit.peek().level == node.level) peek()\n        else null\n    }.forEach { node -&gt;\n        listOfNotNull(node.node.left, node.node.right)\n                .map { InternalNode(it, node.level + 1) }\n                .forEach(yetToVisit::enqueue)\n    }\n\n    return visited\n}\n</code></pre>\n\n<p>And BTW you may use <code>listOfNotNull</code> or <code>listOf().filterNotNull</code> to replace <code>filter(Objects::nonNull)</code>.</p>\n\n<p>Note I've just syntaxically refactored your code but since I cannot compile your code I can't verify the correctness of it. If it's not working as expected please leave a comment.</p>\n"}], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1528263358, "creation_date": 1528248056, "question_id": 50711002, "link": "https://stackoverflow.com/questions/50711002/idiomatic-kotlin-for-level-order-traversal-of-bst", "title": "Idiomatic Kotlin for Level Order Traversal of BST", "body": "<p>Following is my implementation of Level Order Traversal of a BST:</p>\n\n<pre><code>fun levelOrder(): Iterable&lt;Pair&lt;Key, Int&gt;&gt; {\n    class InternalNode(val node: Node&lt;Key&gt;, val level: Int)\n\n    val yetToVisit = emptyQueue&lt;InternalNode&gt;()\n    val visited = emptyQueue&lt;Pair&lt;Key, Int&gt;&gt;()\n\n    root?.also { yetToVisit.enqueue(InternalNode(it, 1)) }\n\n    while (!yetToVisit.isEmpty) {\n        do {\n            val node = yetToVisit.dequeue().also { visited.enqueue(it.node.key to it.level) }\n            listOf(node.node.left, node.node.right)\n                    .filter(Objects::nonNull)\n                    .map { InternalNode(it!!, node.level + 1) }\n                    .forEach(yetToVisit::enqueue)\n        } while (!yetToVisit.isEmpty &amp;&amp; yetToVisit.peek().level == node.level)\n    }\n\n    return visited\n}\n</code></pre>\n\n<p>I'm wondering if the above can be implemented in a more idiomatic/functional manner without using <code>while</code> and <code>do-while</code>. Ideas? </p>\n"}, {"tags": ["android", "timer", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "edited": false, "score": 0, "creation_date": 1528330862, "post_id": 50711162, "comment_id": 88470455, "body": "I went with the second method to make it less verbose and it works perfectly. Thank you. Can you explain how it decides to use  WordChanger(4, 15000) over WordChanger(0, 3000)? Does it inherently know that 15 comes before 3 and thus executes sequentially?"}, {"owner": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "edited": false, "score": 0, "creation_date": 1528333958, "post_id": 50711162, "comment_id": 88471130, "body": "Never mind, they all execute at once with different timer duration."}, {"owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "reply_to_user": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "edited": false, "score": 0, "creation_date": 1528344362, "post_id": 50711162, "comment_id": 88473341, "body": "Yeah you got it. They all execute at once. Please accept the answer if it&#39;s correct and worked for you"}], "tags": [], "owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "is_accepted": true, "score": 2, "last_activity_date": 1528249564, "creation_date": 1528249564, "answer_id": 50711162, "question_id": 50710708, "link": "https://stackoverflow.com/questions/50710708/androidusing-timer-to-update-views-dynamically-with-kotlin/50711162#50711162", "title": "Android:Using Timer to Update Views Dynamically With Kotlin", "body": "<p>This is because you are starting all the timers at once and not one by one like you want to. There are a few ways that you can do this</p>\n\n<ol>\n<li><p>Just use one single <code>CountDownTimer</code> and update the data inside <code>onTick</code> method based on how much time has elapsed</p>\n\n<pre><code>fun WordChanger(num: Int) {\n\ncountDownTimer = object : CountDownTimer(3000 * &lt;number of words&gt;, 1000) { // starts at 3 seconds\n\n    override fun onTick(secondsUntilDone: Long) {\n        if (secondsUntilDone &gt; 9000) {\n            Log.i(\"We're done!\", \"No more countdown\")\n            changingWord.text = titleShift[0]\n            println(titleShift[0])\n        } else if (secondsUntilDone &gt; 6000) {\n            Log.i(\"We're done!\", \"No more countdown\")\n            changingWord.text = titleShift[1]\n            println(titleShift[1])\n        }\n        .\n        .\n        .\n        etc\n    }\n\n    override fun onFinish() {\n    }\n}.start()}\n</code></pre></li>\n<li><p>If you still insist on using the above approach than what you need to do is provide the time as an input as well. So your code would look like this</p>\n\n<pre><code>fun WordChanger(num: Int, time: Long) {\n\nval countDownTimer = object : CountDownTimer(time, 1000) { // starts at 3 seconds\n\n    override fun onTick(secondsUntilDone: Long) {\n\n    }\n\n    override fun onFinish() {\n        Log.i(\"We're done!\", \"No more countdown\")\n        changingWord.text = titleShift[num]\n        println(titleShift[num])\n    }\n}.start()}\n\n WordChanger(0, 3000) \n WordChanger(1, 6000) \n WordChanger(2, 9000) \n WordChanger(3, 12000) \n WordChanger(4, 15000)\n</code></pre></li>\n</ol>\n\n<p>Let me know if you need any explanation</p>\n"}], "owner": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1929, "favorite_count": 0, "accepted_answer_id": 50711162, "answer_count": 1, "score": 1, "last_activity_date": 1528249564, "creation_date": 1528245076, "question_id": 50710708, "link": "https://stackoverflow.com/questions/50710708/androidusing-timer-to-update-views-dynamically-with-kotlin", "title": "Android:Using Timer to Update Views Dynamically With Kotlin", "body": "<p>I am trying to use a timer to update a text view using a list of strings. Using this timer I am able to print the items in the list 1 by 1, however the text view jumps straight to the last item. Can anyone indicate the correct method for updating a text view using a timer such that each update shows independantly when the app is run?</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n\n    val changingWord = findViewById&lt;TextView&gt;(R.id.changingWordTextView)\n    var countDownTimer: CountDownTimer\n\n    val titleShift = mutableListOf&lt;String&gt;(\"_____\", \"Words\", \"Verse\", \"Haiku\", \"Dream\", \"World\", \"Smile\", \"Story\", \"Glory\", \"Birth\", \"Plant\", \"Truth\", \"Voice\", \"Value\", \"Sound\", \"Human\")\n\n    fun WordChanger(num: Int) {\n\n        countDownTimer = object : CountDownTimer(3000, 1000) { // starts at 3 seconds\n\n            override fun onTick(secondsUntilDone: Long) {\n\n            }\n\n            override fun onFinish() {\n                Log.i(\"We're done!\", \"No more countdown\")\n                changingWord.text = titleShift[num]\n                println(titleShift[num])\n            }\n        }.start()\n\n    }\n\n    WordChanger(0)\n    WordChanger(1)\n    WordChanger(2)\n    WordChanger(3)\n    WordChanger(4)\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here is the XML:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@android:color/holo_green_light\"\ntools:context=\".MainActivity\"&gt;\n\n&lt;TextView\n    android:id=\"@+id/changingWordTextView\"\n    android:layout_width=\"222dp\"\n    android:layout_height=\"96dp\"\n    android:fontFamily=\"@font/architects_daughter\"\n    android:text=\"______\"\n    android:textAppearance=\"@style/TextAppearance.AppCompat.Display2\"\n    android:textColor=\"@android:color/black\"\n    android:textSize=\"30sp\"\n    android:textStyle=\"bold\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.169\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintVertical_bias=\"0.24\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView2\"\n    android:layout_width=\"151dp\"\n    android:layout_height=\"22dp\"\n    android:layout_marginBottom=\"90dp\"\n    android:layout_marginEnd=\"7dp\"\n    android:layout_marginStart=\"93dp\"\n    android:fontFamily=\"@font/architects_daughter\"\n    android:textColor=\"@android:color/black\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toEndOf=\"@+id/textView\"\n    app:layout_constraintTop_toBottomOf=\"@+id/haikusButton\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/quotesButton\"\n    style=\"@android:style/Widget.Button.Inset\"\n    android:layout_width=\"90dp\"\n    android:layout_height=\"44dp\"\n    android:layout_marginBottom=\"7dp\"\n    android:layout_marginStart=\"45dp\"\n    android:layout_marginTop=\"276dp\"\n    android:text=\"Quotes\"\n    android:textColor=\"#000000\"\n    app:layout_constraintBottom_toTopOf=\"@+id/textView\"\n    app:layout_constraintEnd_toStartOf=\"@+id/haikusButton\"\n    app:layout_constraintHorizontal_bias=\"0.4\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/changingWordTextView\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/poemsButton\"\n    style=\"@android:style/Widget.Button.Inset\"\n    android:layout_width=\"140dp\"\n    android:layout_height=\"53dp\"\n    android:layout_marginBottom=\"158dp\"\n    android:layout_marginEnd=\"136dp\"\n    android:layout_marginStart=\"135dp\"\n    android:layout_marginTop=\"121dp\"\n    android:text=\"Poems\"\n    android:textColor=\"#000000\"\n    app:layout_constraintBottom_toTopOf=\"@+id/textView2\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"1.0\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/changingWordTextView\"\n    app:layout_constraintVertical_bias=\"0.0\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/titleTextView\"\n    android:layout_width=\"222dp\"\n    android:layout_height=\"96dp\"\n    android:fontFamily=\"@font/architects_daughter\"\n    android:text=\"Of The Day\"\n    android:textAppearance=\"@style/TextAppearance.AppCompat.Display2\"\n    android:textColor=\"@android:color/black\"\n    android:textSize=\"35sp\"\n    android:textStyle=\"bold\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.915\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintVertical_bias=\"0.224\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/haikusButton\"\n    style=\"@android:style/Widget.Button.Inset\"\n    android:layout_width=\"90dp\"\n    android:layout_height=\"44dp\"\n    android:layout_marginBottom=\"7dp\"\n    android:layout_marginEnd=\"46dp\"\n    android:layout_marginStart=\"140dp\"\n    android:layout_marginTop=\"286dp\"\n    android:text=\"Haikus\"\n    android:textColor=\"#000000\"\n    app:layout_constraintBottom_toTopOf=\"@+id/textView2\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toEndOf=\"@+id/quotesButton\"\n    app:layout_constraintTop_toBottomOf=\"@+id/titleTextView\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView\"\n    android:layout_width=\"141dp\"\n    android:layout_height=\"22dp\"\n    android:layout_marginBottom=\"90dp\"\n    android:layout_marginStart=\"20dp\"\n    android:fontFamily=\"@font/architects_daughter\"\n    android:textColor=\"@android:color/black\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toStartOf=\"@+id/textView2\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/quotesButton\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>Here is the manifest.</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.dnarial.blankoftheday\"&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;meta-data\n        android:name=\"preloaded_fonts\"\n        android:resource=\"@array/preloaded_fonts\" /&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-button"], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 3186888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710bb9818ec78d1e98f43a6123bbf035?s=128&d=identicon&r=PG&f=1", "display_name": "Shashwat", "link": "https://stackoverflow.com/users/3186888/shashwat"}, "edited": false, "score": 0, "creation_date": 1528247090, "post_id": 50710715, "comment_id": 88430779, "body": "If my answer helped you, can you please mark it as correct?"}], "tags": [], "owner": {"reputation": 164, "user_id": 3186888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/710bb9818ec78d1e98f43a6123bbf035?s=128&d=identicon&r=PG&f=1", "display_name": "Shashwat", "link": "https://stackoverflow.com/users/3186888/shashwat"}, "is_accepted": false, "score": 1, "last_activity_date": 1528245128, "creation_date": 1528245128, "answer_id": 50710715, "question_id": 50710648, "link": "https://stackoverflow.com/questions/50710648/prevent-button-from-becoming-transparent-when-selected/50710715#50710715", "title": "Prevent button from becoming transparent when selected", "body": "<p>From your code, these lines are causing the problem</p>\n\n<pre><code>    notifyItemChanged(selectedPosition)\n    selectedPosition = holder.layoutPosition\n    notifyItemChanged(selectedPosition)\n</code></pre>\n\n<p>The previously selected button is blinking because you're calling <code>notifyItemChanged()</code> on it to unselect it and the adapter recreates it from scratch to update it.\nThen, the same thing is happening with the currently selected button, being recreated from scratch to update changes on UI.</p>\n\n<p>You can try implementing TabLayout because a layout like this would work best if you use tabs instead of RecylerView.</p>\n"}, {"tags": [], "owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "is_accepted": true, "score": 0, "last_activity_date": 1528246655, "creation_date": 1528246655, "answer_id": 50710865, "question_id": 50710648, "link": "https://stackoverflow.com/questions/50710648/prevent-button-from-becoming-transparent-when-selected/50710865#50710865", "title": "Prevent button from becoming transparent when selected", "body": "<p>After reading @Shashwat's answer, I solved the problem by changing the background color of the <code>recyclerview</code> to the same color as the buttons.</p>\n\n<p>This means that even if the adapter recreates the button from scratch, there is no fading in and out. </p>\n"}], "owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 50710865, "answer_count": 2, "score": 0, "last_activity_date": 1528246655, "creation_date": 1528244514, "question_id": 50710648, "link": "https://stackoverflow.com/questions/50710648/prevent-button-from-becoming-transparent-when-selected", "title": "Prevent button from becoming transparent when selected", "body": "<p>I have a <code>recyclerview</code> that has a  row of buttons. My objective is to make the currently selected button have text that is teal-colored, while the rest have text that is grey colored. </p>\n\n<p>To do that, I have the following code in my <code>TabAdapter</code> class:</p>\n\n<pre><code>class TabAdapter(private val items: ArrayList&lt;Pair&lt;String, ArrayList&lt;String&gt;&gt;&gt;, private val context: Context) : RecyclerView.Adapter&lt;TabViewHolder&gt;() {\nprivate var selectedPosition: Int = RecyclerView.NO_POSITION\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TabViewHolder {\n    return TabViewHolder(LayoutInflater.from(context).inflate(R.layout.tabrecycler_item_column, parent, false))\n}\n\noverride fun getItemCount(): Int {\n    return items.size\n}\n\noverride fun onBindViewHolder(holder: TabViewHolder, position: Int) {\n\n    context as AnimeFaceKeyboard\n\n    holder.itemView.isSelected = selectedPosition == position\n\n    if (holder.itemView.isSelected) {\n        holder.button.setTextColor(ContextCompat.getColor(context, R.color.material_deep_teal_200))\n    } else {\n        holder.button.setTextColor(ContextCompat.getColor(context, R.color.material_grey_600))\n    }\n\n\n    //This code sets the widths of the buttons to, at minimum,\n    //occupy the entire width of the screen combined \n    val displayMetrics = Resources.getSystem().displayMetrics\n\n    if (itemCount * (120 * displayMetrics.density) &lt; displayMetrics.widthPixels) {\n        holder.button.width = displayMetrics.widthPixels / itemCount\n    }\n\n\n    holder.button.text = items[position].first\n    holder.button.setOnClickListener {\n\n        //TODO - Figure out how this code works\n        notifyItemChanged(selectedPosition)\n        selectedPosition = holder.layoutPosition\n        notifyItemChanged(selectedPosition)\n\n        //This code updates a different recyclerview. \n        context.isFavoritesTabSelected = position == items.lastIndex\n        context.updateCurrentImageLayout(items[position].second)\n    }\n}\n\n}\nclass TabViewHolder(view: View) : RecyclerView.ViewHolder(view) {\nval button: Button = view.tabButton\n\n}\n</code></pre>\n\n<p>The relevant lines are in the <code>onBindViewHolder</code> method. Specifically this line</p>\n\n<pre><code>holder.itemView.isSelected = selectedPosition == position\n</code></pre>\n\n<p>and this code inside the <code>onClick</code> method for the buttons</p>\n\n<pre><code>        notifyItemChanged(selectedPosition)\n        selectedPosition = holder.layoutPosition\n        notifyItemChanged(selectedPosition)\n</code></pre>\n\n<p>Also here is the layout for the buttons in the <code>recyclerview</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/tabButton\"\n        android:layout_width=\"match_parent\"\n        android:minWidth=\"120dp\"\n        android:layout_height=\"match_parent\"\n        android:text=\"Unset-Button-Text\"\n        android:background=\"@color/darkshade\"\n        style=\"@style/Widget.AppCompat.Button.Borderless\"/&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>The behavior of my <code>recyclerView</code> is partially function. The text of the currently selected button, is in fact, teal colored.</p>\n\n<p>However, there are two issues</p>\n\n<p>1] The buttons turn partially transparent when they are tapped. Something must be wrong with the on-tap ripple animation</p>\n\n<p>and </p>\n\n<p>2] The ripple animation is only supposed to play for the current button that is selected, but, it also plays for the previously selected button.</p>\n\n<p>Here is a GIF from my phone to demonstrate:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PVWP2.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PVWP2.gif\" alt=\"Video_Of_Phone\"></a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3331, "user_id": 1305745, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/7s1oD.jpg?s=128&g=1", "display_name": "cavpollo", "link": "https://stackoverflow.com/users/1305745/cavpollo"}, "edited": false, "score": 1, "creation_date": 1528239294, "post_id": 50709995, "comment_id": 88429053, "body": "What is the exception reported in the console?"}, {"owner": {"reputation": 332, "user_id": 9310648, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-mrk6qs_4IjU/AAAAAAAAAAI/AAAAAAAAATw/wcJ8xXZp14I/photo.jpg?sz=128", "display_name": "CodingM", "link": "https://stackoverflow.com/users/9310648/codingm"}, "edited": false, "score": 2, "creation_date": 1528247143, "post_id": 50709995, "comment_id": 88430796, "body": "Post your logcat by editing this post . The error should be there."}, {"owner": {"reputation": 687, "user_id": 5216127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-WDr3Cpl_Bck/AAAAAAAAAAI/AAAAAAAABWc/UBslToHKo1s/photo.jpg?sz=128", "display_name": "Pallavi Tapkir", "link": "https://stackoverflow.com/users/5216127/pallavi-tapkir"}, "edited": false, "score": 0, "creation_date": 1528259584, "post_id": 50709995, "comment_id": 88433423, "body": "For fun use loginlinkLabelonClick(view : View)  instead of context : Context"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 1, "creation_date": 1528281906, "post_id": 50709995, "comment_id": 88445196, "body": "Yep, the problem is exactly what&#39;s mentioned in my answer. You need a method whose sole argument is a view instance :)"}], "answers": [{"tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 4, "last_activity_date": 1528239319, "creation_date": 1528239319, "answer_id": 50710022, "question_id": 50709995, "link": "https://stackoverflow.com/questions/50709995/app-crashes-when-i-press-the-textview/50710022#50710022", "title": "App crashes when I press the textview", "body": "<p>Usually when you have a click method in the xml, the argument for the method in kotlin is a view instance, see more <a href=\"https://developer.android.com/guide/topics/ui/controls/button#HandlingEvents\" rel=\"nofollow noreferrer\">here</a>. So your method should look like this:</p>\n\n<pre><code>fun loginlinkLabelonClick(view:View)\n{\n\n}\n</code></pre>\n"}], "owner": {"reputation": 36, "user_id": 4857852, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204318238376190/picture?type=large", "display_name": "Elias Tsaki", "link": "https://stackoverflow.com/users/4857852/elias-tsaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 50710022, "answer_count": 1, "score": 0, "last_activity_date": 1528276231, "creation_date": 1528239095, "last_edit_date": 1528276231, "question_id": 50709995, "link": "https://stackoverflow.com/questions/50709995/app-crashes-when-i-press-the-textview", "title": "App crashes when I press the textview", "body": "<p>I have the following TextView</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/LoginlinkLabel\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center_vertical center_horizontal\"\n    android:autoSizeMaxTextSize=\"45sp\"\n    android:autoSizeMinTextSize=\"15sp\"\n    android:autoSizeStepGranularity=\"2sp\"\n    android:text=\"@string/Loginlink\"\n    android:textAlignment=\"center\"\n    android:textSize=\"15sp\"\n    android:onClick=\"loginlinkLabelonClick\"\n    android:clickable=\"true\"/&gt;\n</code></pre>\n\n<p>And this function</p>\n\n<pre><code>fun loginlinkLabelonClick(context:Context)\n{\n    val urlString=\"http://www.google.gr\"\n    val intent = Intent(Intent.ACTION_VIEW,Uri.parse(urlString)) intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n    intent.`package`=\"com.android.chrome\"\n    try\n    {\n        context.startActivity(intent)\n    }\n    catch(ex:ActivityNotFoundException)\n    {\n        intent.`package`= null\n        context.startActivity(intent)\n    }\n}\n</code></pre>\n\n<p>The error message:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n                    Process: com.reviewer.reviewer, PID: 27809\n                    java.lang.IllegalStateException: Could not find method loginlinkLabelonClick(View) in a parent or ancestor Context for\n  android:onClick attribute defined on view class\n  android.support.v7.widget.AppCompatTextView with id 'LoginlinkLabel'\n                        at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.resolveMethod(AppCompatViewInflater.java:423)\n                        at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:380)\n                        at android.view.View.performClick(View.java:6291)\n                        at android.view.View$PerformClick.run(View.java:24931)\n                        at android.os.Handler.handleCallback(Handler.java:808)\n                        at android.os.Handler.dispatchMessage(Handler.java:101)\n                        at android.os.Looper.loop(Looper.java:166)\n                        at android.app.ActivityThread.main(ActivityThread.java:7425)\n                        at java.lang.reflect.Method.invoke(Native Method)\n                        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:245)\n                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:921)</p>\n</blockquote>\n\n<p>But as soon as I tap the textview the application crashes and I can't seem to find what's wrong.\nI'm new to Java, kotlin and Android studio.\nI had a previous experience with visual studio and c# and Java / kotlin feels a bit strange</p>\n\n<p>Now I'm really trying to figure out how to open urls, but I'm having trouble getting it to work</p>\n"}, {"tags": ["kotlin", "console", "passwords"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1528261181, "post_id": 50709495, "comment_id": 88433867, "body": "Why System.console() returns null: <a href=\"https://stackoverflow.com/q/4203646/869184\">stackoverflow.com/q/4203646/869184</a>"}], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 4083820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5a9a5f9469a566fe4a0574ef86101?s=128&d=identicon&r=PG&f=1", "display_name": "C.A.B.", "link": "https://stackoverflow.com/users/4083820/c-a-b"}, "edited": false, "score": 0, "creation_date": 1528252697, "post_id": 50709579, "comment_id": 88431891, "body": "Added to the question"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1528276000, "post_id": 50709579, "comment_id": 88441283, "body": "Had to downvote as neither this doesn&#39;t even compile nor it solves the problem"}], "tags": [], "owner": {"reputation": 1, "user_id": 7782181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11e8ef63845bca16d6a6c3c8f9aece19?s=128&d=identicon&r=PG&f=1", "display_name": "Rick Mkl", "link": "https://stackoverflow.com/users/7782181/rick-mkl"}, "is_accepted": false, "score": -3, "last_activity_date": 1528236221, "creation_date": 1528236221, "answer_id": 50709579, "question_id": 50709495, "link": "https://stackoverflow.com/questions/50709495/read-password-from-console-in-kotlin/50709579#50709579", "title": "Read password from console in Kotlin", "body": "<p>Maybe you can start with creating this:</p>\n\n<pre><code>val console : Console? = System.console()\nval password = console.readPassword(\"Enter password\")\n</code></pre>\n\n<p>Worked for me</p>\n"}, {"tags": [], "owner": {"reputation": 403, "user_id": 4083820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5a9a5f9469a566fe4a0574ef86101?s=128&d=identicon&r=PG&f=1", "display_name": "C.A.B.", "link": "https://stackoverflow.com/users/4083820/c-a-b"}, "is_accepted": false, "score": 4, "last_activity_date": 1528305654, "creation_date": 1528305654, "answer_id": 50726110, "question_id": 50709495, "link": "https://stackoverflow.com/questions/50709495/read-password-from-console-in-kotlin/50726110#50726110", "title": "Read password from console in Kotlin", "body": "<p>Apparently this is an IDE problem (see <a href=\"https://stackoverflow.com/questions/4203646/system-console-returns-null\">System.console() returns null</a>).</p>\n\n<p>So the only solution recommended: read from System.in if there is no console.</p>\n\n<pre><code>val pw = System.console()?.readPassword() ?: readLine()\n</code></pre>\n\n<p>This will show your password while debugging from IDE, but will hide if started from console.</p>\n"}], "owner": {"reputation": 403, "user_id": 4083820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5a9a5f9469a566fe4a0574ef86101?s=128&d=identicon&r=PG&f=1", "display_name": "C.A.B.", "link": "https://stackoverflow.com/users/4083820/c-a-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1123, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1528305654, "creation_date": 1528235726, "last_edit_date": 1528248152, "question_id": 50709495, "link": "https://stackoverflow.com/questions/50709495/read-password-from-console-in-kotlin", "title": "Read password from console in Kotlin", "body": "<p>In Java the <code>System</code> static method <code>console()</code> returns the object allowing to read from terminal. The <code>Console</code> instance returned by that method provides method <code>readLine()</code> and <code>readPassword()</code>. First one echoing input to the console, but second -- doesn't.</p>\n\n<p>In KotlinJVM application provides top level function <code>readLine()</code> to read input from the console, but there is no one to <code>readPassword()</code>. Also the <code>System.console()</code> returns null.</p>\n\n<p>How I can read password (without echoing) from KotlinJVM application?</p>\n\n<p>I just tried these and got NPE</p>\n\n<pre><code>package com.helpchoice.kotlin.fuel.dsl\n\nfun main(args: Array&lt;String&gt;) {\n    try {\n        System.console().readPassword(\"pw:\")\n    } catch (e: Throwable) {\n        println(e::class.java.name)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit", "retrofit2"], "comments": [{"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1528236412, "post_id": 50709163, "comment_id": 88428283, "body": "please post the entire log message"}, {"owner": {"reputation": 193, "user_id": 4061331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fcc9a25d39ca58d323118db6b7ebeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Feltimo", "link": "https://stackoverflow.com/users/4061331/joshua-feltimo"}, "reply_to_user": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1528240875, "post_id": 50709163, "comment_id": 88429458, "body": "@dazza5000 done"}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 1, "creation_date": 1528269815, "post_id": 50709163, "comment_id": 88437635, "body": "Can you try running <code>.&#47;gradlew --refresh-dependencies</code> and then doing an <code>Invalidate caches&#47;Restart</code> ?"}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 0, "creation_date": 1528272951, "post_id": 50709163, "comment_id": 88439418, "body": "add a backslash at the end in your URL like: <code>&quot;https:&#47;&#47;gitlab.com&#47;oauth&#47;&quot;</code>. Let me know if this fixes your issue. Also can you update the question with the endpoint you specified in the interface ?"}], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 8570547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/185b25b64367ea6889827248ddb8f71c?s=128&d=identicon&r=PG&f=1", "display_name": "stefato", "link": "https://stackoverflow.com/users/8570547/stefato"}, "is_accepted": false, "score": 0, "last_activity_date": 1528834668, "creation_date": 1528834668, "answer_id": 50825235, "question_id": 50709163, "link": "https://stackoverflow.com/questions/50709163/unresolved-reference-retrofit2/50825235#50825235", "title": "Unresolved reference retrofit2", "body": "<p>Same problem here. The only thing that helped was a gradle build tools downgrade to stable 3.1.3\n<br/>\n<br/></p>\n\n<p>project: build.gradle</p>\n\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11856423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9c46d30938ec7dc8f3ea95e2e19979a?s=128&d=identicon&r=PG&f=1", "display_name": "Poorix", "link": "https://stackoverflow.com/users/11856423/poorix"}, "is_accepted": false, "score": 0, "last_activity_date": 1603124428, "creation_date": 1603124428, "answer_id": 64431392, "question_id": 50709163, "link": "https://stackoverflow.com/questions/50709163/unresolved-reference-retrofit2/64431392#64431392", "title": "Unresolved reference retrofit2", "body": "<p>Sometimes Gradle might not be able to sync properly for some reason, including download timeout or other possible weird stuff, a way around it might be to set another version (hopefully more recent), then resync the Gradle</p>\n<ul>\n<li>For Retrofit, you can try a version from the <a href=\"https://github.com/square/retrofit/releases\" rel=\"nofollow noreferrer\">GitHub Version/Releases List</a></li>\n</ul>\n<p>Although if the problem persists, other causes can be internet/access to repositories issues, or IDE not being able to access valid catches for some reasons (like file permission changes, hardware problems, etc)</p>\n<ul>\n<li>One thing that has happened many times for me which is not a bad idea to look up, is to check proxy stuff, both from the IDE's settings, and also Properties'/Settings' files (that not sure if it's fixed now or not yet, but from personal experience, sometimes changing IDE's settings alone doesn't remove the settings from some properties files)</li>\n<li>One in a million chance also this might do something too: Files -&gt; Invalidate Catches / Restart</li>\n</ul>\n"}], "owner": {"reputation": 193, "user_id": 4061331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fcc9a25d39ca58d323118db6b7ebeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Feltimo", "link": "https://stackoverflow.com/users/4061331/joshua-feltimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3651, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1603124428, "creation_date": 1528233910, "last_edit_date": 1528240850, "question_id": 50709163, "link": "https://stackoverflow.com/questions/50709163/unresolved-reference-retrofit2", "title": "Unresolved reference retrofit2", "body": "<p>Started a new project today targeting API28 using androidx libraries. When attempting to use either Retrofit or OkHTTP3 in my project, <code>gradle sync</code> runs fine, but when attempting to run on device, the kotlin compiler complains \"Unresolved reference to retrofit2/okhttp\".</p>\n\n<p>build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\n//apply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 'android-P'\n    defaultConfig {\n        applicationId \"com.opticalgenesis.lbp.ktlab\"\n        minSdkVersion 21\n        targetSdkVersion \"P\"\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-alpha1'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.0'\n    implementation 'androidx.browser:browser:1.0.0-alpha1'\n    implementation 'com.google.android.material:material:1.0.0-alpha1'\n    implementation 'androidx.core:core-ktx:1.0.0-alpha1'\n    implementation 'com.android.volley:volley:1.1.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'\n    implementation 'com.squareup.okhttp3:okhttp:3.10.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha3'\n}\n</code></pre>\n\n<p>Relevant kotlin code</p>\n\n<pre><code>import android.content.Context\nimport android.content.Intent\nimport android.net.Uri\nimport android.os.Bundle\nimport android.util.Log\nimport androidx.appcompat.app.AppCompatActivity\n\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Retrofit\nimport retrofit2.Response\nimport retrofit2.converter.gson.GsonConverterFactory\n\nclass LoginConfirmActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        val i = intent\n        val data = i.data\n\n        val u = Uri.parse(data.toString())\n        val code = u.getQueryParameter(\"code\")\n        val state = u.getQueryParameter(\"state\")\n\n        val generatedState = getSharedPreferences(MainActivity.PREFS_KEY, Context.MODE_PRIVATE).getString(MainActivity.STATE_KEY, \"\")\n\n        if (state == generatedState) {\n            Log.d(\"OAUTH\", code)\n            val r = Retrofit.Builder().apply {\n                baseUrl(\"https://gitlab.com/oauth\")\n                addConverterFactory(GsonConverterFactory.create())\n            }.build()\n            val authApi = r.create(GitLabAuthApi::class.java)\n            val codeResponse = authApi.getAccessToken(\n                    Keys.appId,\n                    Keys.secret,\n                    code,\n                    \"authorization_code\",\n                    Keys.redirectUri)\n            codeResponse.enqueue(object : Callback&lt;CodeResponse&gt; {\n                override fun onResponse(call: Call&lt;CodeResponse&gt;?, response: Response&lt;CodeResponse&gt;) {\n                    if (response.isSuccessful) {\n                        parseAndStoreCodeResults(response.body()!!)\n                    } else {\n                        Log.e(\"AUTH_TAG\", \"Attempt to get code resulted in error ${response.errorBody()}\")\n                    }\n                }\n\n                override fun onFailure(call: Call&lt;CodeResponse&gt;?, t: Throwable?) {\n                    t?.printStackTrace()\n                }\n            })\n        } else {\n            Log.e(\"AUTH_TAG\", \"States don't match.\")\n        }\n    }\n}\n</code></pre>\n\n<p>Error message\n<a href=\"https://i.stack.imgur.com/1sJdV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1sJdV.png\" alt=\"errors\"></a></p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1528233322, "post_id": 50708419, "comment_id": 88427163, "body": "Most property delegates do not use reflection. <code>KProperty</code> is just a plain object used to provide information about the delegated property such as its name."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528243634, "post_id": 50708419, "comment_id": 88430089, "body": "This question could help: <a href=\"https://www.reddit.com/r/androiddev/comments/8b7aaf/eli5_delegation_in_kotlin/\" rel=\"nofollow noreferrer\">reddit.com/r/androiddev/comments/8b7aaf/&hellip;</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528273741, "post_id": 50708419, "comment_id": 88439911, "body": "Be careful not to mix <i>reflective member lookup</i> (slow) with <i>reflective member access</i> (very fast)."}], "owner": {"reputation": 261, "user_id": 2854478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87090f4c79dc6978041825c55e82619c?s=128&d=identicon&r=PG&f=1", "display_name": "ragdroid", "link": "https://stackoverflow.com/users/2854478/ragdroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528273451, "creation_date": 1528230360, "last_edit_date": 1528273451, "question_id": 50708419, "link": "https://stackoverflow.com/questions/50708419/when-to-use-property-delegation-in-kotlin", "title": "When to use Property Delegation in Kotlin?", "body": "<p>I saw this great talk by Lisa Wray sometime back <a href=\"https://youtu.be/0cjr4K0tqs4?t=493\" rel=\"nofollow noreferrer\">https://youtu.be/0cjr4K0tqs4?t=493</a> which inspired me to create different Property delegates for all my ViewBindings like <code>BindActivity(layoutId)</code>, <code>BindFragment</code>, <code>BindViewGroup</code>, etc.\nMy colleague had created extension functions for the same like <code>Activity.bind(layoutId)</code>, <code>View.bind()</code>, <code>ViewGroup.bind()</code>, etc. which made me wonder which should be preferred over here. I tried decompiling the kotlin byte code and it :</p>\n\n<ol>\n<li>Property Delegation would create a new object like <code>private final BindActivity binding$delegate = new BindActivity(2131361819);</code></li>\n<li><p>It seems to be using Reflection, something like the following to initialize <code>KProperty</code> :</p>\n\n<p><code>static final KProperty[] $$delegatedProperties = new KProperty[]{(KProperty)Reflection.property1(new PropertyReference1Impl(Reflection.getOrCreateKotlinClass(MainActivity.class), \"binding\", \"getBinding()Lcom/abcd/package/databinding/ActivityMainBinding;\")), \u2026 another lazy delegated property};</code></p></li>\n</ol>\n\n<p><code>(ActivityMainBinding)this.binding$delegate.getValue((Activity)this, $$delegatedProperties[0])</code></p>\n\n<p>Question 1: If property delegation uses reflection, what is the use-case to use them? </p>\n\n<p>Questions 2: Also, kotlin\u2019s <code>Reflection</code> class seems to be using some reflection factory <code>kotlin.reflect.jvm.internal.ReflectionFactoryImpl</code> so does it mean that the reflection could be not as slow in kotlin as in java?</p>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 2770111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sWleR.jpg?s=128&g=1", "display_name": "echoes", "link": "https://stackoverflow.com/users/2770111/echoes"}, "edited": false, "score": 0, "creation_date": 1528396642, "post_id": 50725807, "comment_id": 88503689, "body": "Sorry I didn&#39;t give you enought detail. I have edited my question now."}, {"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "reply_to_user": {"reputation": 53, "user_id": 2770111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sWleR.jpg?s=128&g=1", "display_name": "echoes", "link": "https://stackoverflow.com/users/2770111/echoes"}, "edited": false, "score": 0, "creation_date": 1528629835, "post_id": 50725807, "comment_id": 88572848, "body": "So basically you are looking for optional authentication? I have just contacted the ktor team to hear about this feature but seems like it&#39;s not functional yet. Anyway the reason that your second route does not get any auth is that it is not wrapped in any <code>authenticate</code> block."}, {"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "reply_to_user": {"reputation": 53, "user_id": 2770111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sWleR.jpg?s=128&g=1", "display_name": "echoes", "link": "https://stackoverflow.com/users/2770111/echoes"}, "edited": false, "score": 0, "creation_date": 1533629985, "post_id": 50725807, "comment_id": 90404481, "body": "I have added code for the new optional auth feature available in version 0.9.3."}, {"owner": {"reputation": 53, "user_id": 2770111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sWleR.jpg?s=128&g=1", "display_name": "echoes", "link": "https://stackoverflow.com/users/2770111/echoes"}, "edited": false, "score": 0, "creation_date": 1534339406, "post_id": 50725807, "comment_id": 90671260, "body": "Thank you Andreas!"}, {"owner": {"reputation": 711, "user_id": 1232726, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Bg5nq.jpg?s=128&g=1", "display_name": "filthy_wizard", "link": "https://stackoverflow.com/users/1232726/filthy-wizard"}, "edited": false, "score": 0, "creation_date": 1576274453, "post_id": 50725807, "comment_id": 104859964, "body": "wouldnt this create a new token in the user every time you validate?"}], "tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": true, "score": 3, "last_activity_date": 1533629927, "last_edit_date": 1533629927, "creation_date": 1528304471, "answer_id": 50725807, "question_id": 50708255, "link": "https://stackoverflow.com/questions/50708255/ktor-how-to-check-authentication-inside-a-route-handler/50725807#50725807", "title": "Ktor: How to check authentication inside a route handler?", "body": "<p>What version of ktor are you using?\nCan you show us your auth setup?</p>\n\n<p>You should have something like this (0.9.2):</p>\n\n<pre><code>install(Authentication) {\n        jwt {\n            verifier(JwtConfig.verifier)\n            realm = JwtConfig.realm\n            validate {\n                val email = it.payload.getClaim(\"email\").toString()\n                userRepository.findUser(email)?.let { user -&gt;\n                    val token = JwtConfig.makeToken(user)\n                    user.copy(token = token)\n                }\n            }\n        }\n\n}\n</code></pre>\n\n<p>If the auth process is successful, the user will be available via principal.</p>\n\n<p>Here is the updated code for 0.9.3.\nStarting off with a test to verify behavior. \nSimply add the <code>optional</code> flag.</p>\n\n<pre><code>class KtorTest {\n\n    @Test fun server() {\n        withTestApplication({ myApp() }) {\n            val userId = 918354853\n            val token = JwtConfig.makeToken(User(userId))\n            // The protected route\n            handleRequest {\n                uri = \"/protected\"\n                addHeader(\"Authorization\", \"Bearer $token\")\n            }.let {\n                it.requestHandled shouldBe true\n                it.response.content.shouldNotBeNullOrBlank() shouldContain userId.toString()\n            }\n\n            // Optional route without token\n            handleRequest {}.let {\n                it.requestHandled shouldBe true\n                it.response.content.shouldNotBeNullOrBlank() shouldBeEqualTo \"Not Logged User\"\n            }\n\n            // Optional route with token\n            handleRequest {\n                addHeader(\"Authorization\", \"Bearer $token\")\n            }.let {\n                it.requestHandled shouldBe true\n                it.response.content.shouldNotBeNullOrBlank() shouldBeEqualTo \"Logged User\"\n            }\n        }\n    }\n\n}\n\ndata class User(val userId: Int) : Principal\n\nfun Application.myApp() {\n    install(Authentication) {\n        jwt {\n            verifier(JwtConfig.verifier)\n            validate { credential -&gt;\n                val userId = credential.payload.getClaim(\"userId\").asInt()\n                when {\n                    userId &gt; 0 -&gt; User(userId)\n                    else -&gt; null\n                }\n            }\n        }\n    }\n    install(DefaultHeaders)\n    install(CallLogging)\n    install(ContentNegotiation) { jackson { } }\n    install(Routing) {\n        authenticate {\n            get(\"/protected\") {\n                // This works fine!!\n                val user = call.authentication.principal&lt;User&gt;()!!\n                call.respond(user)\n            }\n        }\n\n        authenticate(optional = true) {\n            get(\"/\") {\n                val user = call.authentication.principal&lt;User&gt;() // -&gt; User is always null here\n                if (user == null) {\n                    call.respondText(\"Not Logged User\")\n                } else {\n                    call.respondText(\"Logged User\")\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 2770111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sWleR.jpg?s=128&g=1", "display_name": "echoes", "link": "https://stackoverflow.com/users/2770111/echoes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2859, "favorite_count": 1, "accepted_answer_id": 50725807, "answer_count": 1, "score": 3, "last_activity_date": 1533629927, "creation_date": 1528229705, "last_edit_date": 1528396507, "question_id": 50708255, "link": "https://stackoverflow.com/questions/50708255/ktor-how-to-check-authentication-inside-a-route-handler", "title": "Ktor: How to check authentication inside a route handler?", "body": "<p>I'm using ktor v0.9.2 and I want to send diferent content for the same route, based if the user is authenticated or not.</p>\n\n<p>The problem I'm having is that I'm not being able to access the principal outside the <code>authenticate { }</code> block.</p>\n\n<p>My setup is like this:</p>\n\n<pre><code>data class User(\n    val userId: Int\n) : io.ktor.auth.Principal\n\nfun Application.myApp() {\n    install(Authentication) {\n        jwt {\n            verifier(JwtConfig.verifier)\n            validate { credential -&gt;\n                val userId = credential.payload.getClaim(\"userId\").asInt()\n                when {\n                    userId &gt; 0 -&gt; User(userId)\n                    else -&gt; null\n                }\n            }\n        }\n    }\n    install(DefaultHeaders)\n    install(CallLogging)\n    install(ContentNegotiation) {\n        jackson { }\n    }\n    install(Routing) {\n        authenticate {\n            get(\"/protected\") {\n                // This works fine!!\n                val user = call.authentication.principal&lt;User&gt;()\n                call.respond(user)\n            }\n        }\n\n        get(\"/\") {\n            val user = call.authentication.principal&lt;User&gt;() // -&gt; User is always null here\n            if (user == null) {\n                call.respondText(\"Not Logged User\")\n            } else {\n                call.respondText(\"Logged User\")\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>/protected</code> route works fine, but in the <code>/</code> route the principal is always null. I thinks this is some pipeline thing, but I am a little lost. Could someone give some insights? Thanks!</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "edited": false, "score": 0, "creation_date": 1528295927, "post_id": 50720081, "comment_id": 88454615, "body": "I removed the <code>runBlocking { job.join() }</code> as it was causing confusion. This test is just a simple example, but my real implementation uses <code>launch</code> because I have no need to <code>.await()</code> on the result.  I want to ensure exceptions crash my application.  And for tests, I want to ensure that exceptions fail the test if they occur before the test method completes"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "edited": false, "score": 0, "creation_date": 1528297572, "post_id": 50720081, "comment_id": 88455706, "body": "Just like with threads, if you want exceptions to crash your application, then you should use a custom exception handler (coroutine exception handler for coroutines, uncaught exception handler for threads)."}, {"owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "edited": false, "score": 0, "creation_date": 1536777820, "post_id": 50720081, "comment_id": 91550927, "body": "Makes sense. I came up with a JUnit <code>TestRule</code> for this - but is there a better solution though? <a href=\"https://stackoverflow.com/a/52301537/891242\">stackoverflow.com/a/52301537/891242</a>"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 8, "last_activity_date": 1539423264, "last_edit_date": 1539423264, "creation_date": 1528287077, "answer_id": 50720081, "question_id": 50707785, "link": "https://stackoverflow.com/questions/50707785/why-does-launch-swallow-exceptions-in-kotlin-coroutines/50720081#50720081", "title": "Why does launch swallow exceptions in kotlin coroutines?", "body": "<p>Compare your test with the following one that does not use any coroutines, but starts a new thread instead:</p>\n\n<pre><code>@Test\nfun why_does_this_test_pass() {\n    val job = thread { // &lt;-- NOTE: Changed here\n        throw IllegalStateException(\"why does this exception not fail the test?\")\n    }\n    // NOTE: No need for runBlocking any more\n    job.join() // ensures exception is thrown before test function completes\n}\n</code></pre>\n\n<p>What happens here? Just like the test with <code>launch</code>, this test <em>passes</em> if you run it, but the exception gets printed on the console. </p>\n\n<p>So, using <code>launch</code> to start a new coroutine is very much like using <code>thread</code> to start a new thread. If it fails, the error gets handled by uncaught exception handler in <code>thread</code> and by <code>CoroutineExceptionHandler</code> (see it in the docs) by <code>launch</code>. Exceptions in launch are not <em>swallowed</em>, but are <em>handled</em> by the coroutine exception handler.</p>\n\n<p>If you want exception to propagate to the test, you shall replace <code>launch</code> with <code>async</code> and replace <code>join</code> with <code>await</code> in your code. See also this question: <a href=\"https://stackoverflow.com/questions/46226518/what-is-the-difference-between-launch-join-and-async-await-in-kotlin-coroutines\">What is the difference between launch/join and async/await in Kotlin coroutines</a></p>\n\n<p><strong>UPDATE</strong>: Kotlin coroutines had recently introduced the concept of \"Structured Concurrency\" to avoid this kind of exception loss. The code in this question does not compile anymore. To compile it, you'd have to either explicitly say <code>GlobalScope.launch</code> (as in \"I confirm that it Ok to loose my exceptions, here is my signature\") or wrap the test into <code>runBlocking { ... }</code>, in which case exception is not lost. </p>\n"}, {"comments": [{"owner": {"reputation": 374, "user_id": 1622788, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PIqdt.jpg?s=128&g=1", "display_name": "David Whitman", "link": "https://stackoverflow.com/users/1622788/david-whitman"}, "edited": false, "score": 0, "creation_date": 1532634332, "post_id": 50723171, "comment_id": 90060574, "body": "Were you able to find a more robust approach? This behavior is very frustrating and the biggest thing I miss from RxJava."}, {"owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "reply_to_user": {"reputation": 374, "user_id": 1622788, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PIqdt.jpg?s=128&g=1", "display_name": "David Whitman", "link": "https://stackoverflow.com/users/1622788/david-whitman"}, "edited": false, "score": 0, "creation_date": 1536723474, "post_id": 50723171, "comment_id": 91522077, "body": "so far, my thoughts are that the best way to address this issue is a test rule that generates a error catching coroutine context, and then in tearDown you go and check if that coroutine caught any errors and fail the test accordingly  I feel like there should be a better way though"}], "tags": [], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "is_accepted": false, "score": 2, "last_activity_date": 1528296584, "last_edit_date": 1528296584, "creation_date": 1528296011, "answer_id": 50723171, "question_id": 50707785, "link": "https://stackoverflow.com/questions/50707785/why-does-launch-swallow-exceptions-in-kotlin-coroutines/50723171#50723171", "title": "Why does launch swallow exceptions in kotlin coroutines?", "body": "<p>I was able to create an exception throwing <code>CoroutineContext</code> for tests.</p>\n\n<pre><code>val coroutineContext = Unconfined + CoroutineExceptionHandler { _, throwable -&gt;\n        throw throwable\n    }\n</code></pre>\n\n<p>Though this would probably not be suitable for production. Maybe need to catch cancellation exceptions or something, I'm not sure</p>\n"}, {"tags": [], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "is_accepted": false, "score": 0, "last_activity_date": 1585940093, "last_edit_date": 1585940093, "creation_date": 1536777629, "answer_id": 52301537, "question_id": 50707785, "link": "https://stackoverflow.com/questions/50707785/why-does-launch-swallow-exceptions-in-kotlin-coroutines/52301537#52301537", "title": "Why does launch swallow exceptions in kotlin coroutines?", "body": "<p>A custom test rule so far seems to be the best solution.</p>\n\n<pre><code>/**\n * Coroutines can throw exceptions that can go unnoticed by the JUnit Test Runner which will pass\n * a test that should have failed. This rule will ensure the test fails, provided that you use the\n * [CoroutineContext] provided by [dispatcher].\n */\nclass CoroutineExceptionRule : TestWatcher(), TestRule {\n\n    private val exceptions = Collections.synchronizedList(mutableListOf&lt;Throwable&gt;())\n\n    val dispatcher: CoroutineContext\n        get() = Unconfined + CoroutineExceptionHandler { _, throwable -&gt;\n            // I want to hook into test lifecycle and fail test immediately here\n            exceptions.add(throwable)\n            // this throw will not always fail the test. this does print the stacktrace at least\n            throw throwable \n        }\n\n    override fun starting(description: Description) {\n        // exceptions from a previous test execution should not fail this test\n        exceptions.clear()\n    }\n\n    override fun finished(description: Description) {\n        // instead of waiting for test to finish to fail it\n        exceptions.forEach { throw AssertionError(it) }\n    }\n}\n</code></pre>\n\n<p>I'm hoping to improve it via this <a href=\"https://stackoverflow.com/questions/52301404/how-can-i-fail-a-junit-test-from-within-a-test-rule\">post</a> though</p>\n\n<p>UPDATE: just use <code>runBlocking</code> - like Roman suggests.</p>\n"}], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1653, "favorite_count": 1, "accepted_answer_id": 50720081, "answer_count": 3, "score": 6, "last_activity_date": 1585940093, "creation_date": 1528227703, "last_edit_date": 1552981841, "question_id": 50707785, "link": "https://stackoverflow.com/questions/50707785/why-does-launch-swallow-exceptions-in-kotlin-coroutines", "title": "Why does launch swallow exceptions in kotlin coroutines?", "body": "<p>The following test succeeds with <code>Process finished with exit code 0</code>. Note, this test does print the exception to the logs, but does not fail the test (which is the behavior I want).</p>\n\n<pre><code>@Test\nfun why_does_this_test_pass() {\n    val job = launch(Unconfined) {\n        throw IllegalStateException(\"why does this exception not fail the test?\")\n    }\n\n    // because of `Unconfined` dispatcher, exception is thrown before test function completes\n}\n</code></pre>\n\n<p>As expected, this test fails with <code>Process finished with exit code 255</code></p>\n\n<pre><code>@Test\nfun as_expected_this_test_fails() {\n    throw IllegalStateException(\"this exception fails the test\")\n}\n</code></pre>\n\n<p>Why do these tests not behave the same way?</p>\n"}, {"tags": ["sql", "kotlin", "jooq"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 7545938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3fec9556bd8ceacf44f0498c62f4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Aharon Bar-El", "link": "https://stackoverflow.com/users/7545938/aharon-bar-el"}, "edited": false, "score": 0, "creation_date": 1528413436, "post_id": 50717690, "comment_id": 88510530, "body": "thank you for your advice and the fully answered question. I can understand better now the power of JOOQ code generation and its importance."}, {"owner": {"reputation": 9308, "user_id": 1038182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0lPeX.jpg?s=128&g=1", "display_name": "Ori Popowski", "link": "https://stackoverflow.com/users/1038182/ori-popowski"}, "edited": false, "score": 0, "creation_date": 1528778483, "post_id": 50717690, "comment_id": 88624261, "body": "@LukasEder what would be a way to solve the problem without code generation? Doing a <code>.as(\u2026)</code> with a qualified name in the <code>on</code> clause doesn&#39;t work because it places backticks around the aliased names."}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "reply_to_user": {"reputation": 9308, "user_id": 1038182, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0lPeX.jpg?s=128&g=1", "display_name": "Ori Popowski", "link": "https://stackoverflow.com/users/1038182/ori-popowski"}, "edited": false, "score": 0, "creation_date": 1528790497, "post_id": 50717690, "comment_id": 88629441, "body": "@OriPopowski: Can you please ask a new question with more details?"}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "edited": false, "score": 0, "creation_date": 1535926695, "post_id": 50717690, "comment_id": 91232541, "body": "@LukasEder sorry to hijack through comment. I saw you are very well familiarized with jooq. I really want to master it through maven plugin usage, flyway execution first all based using spring boot. Can you share/recommend any training course, video or manual to learn it? I find the official documentation kinda annoying to use and navigate. Thanks a lot in advance"}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "reply_to_user": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "edited": false, "score": 0, "creation_date": 1535959703, "post_id": 50717690, "comment_id": 91239698, "body": "@FedericoPiazza: Thanks for your message. It&#39;s not really related to this question or answer here, though. Feel free to send a message with some details about what you&#39;re looking for / what value that would add to your learning / what you find annoying in particular to the jOOQ mailing list: <a href=\"https://groups.google.com/d/forum/jooq-user\" rel=\"nofollow noreferrer\">groups.google.com/d/forum/jooq-user</a>"}], "tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": true, "score": 14, "last_activity_date": 1528292638, "last_edit_date": 1528292638, "creation_date": 1528279563, "answer_id": 50717690, "question_id": 50706556, "link": "https://stackoverflow.com/questions/50706556/kotlin-with-jooq-and-write-table-models-manually-without-code-generation/50717690#50717690", "title": "kotlin with jooq and write table models manually without code generation", "body": "<h3>First off, some word of advice on your reluctance to use code generation:</h3>\n\n<blockquote>\n  <p>i seems too complex, and eventually impossible to maintain.\n  so, i decided to create my own table models (similar to how hibernate works).</p>\n</blockquote>\n\n<p>You're (probably) going down a long path of pain and suffering. First off, you will already now need to think of database migrations, which are best done using your database's DDL language. This means, your database model of your data should be more important to you in the long run, than your client model. In fact, your client model is a copy of your database model, not something you'd like to maintain independently. With this mindset, it is more reasonable to have a code generator generate your client model from the database model, not vice versa.</p>\n\n<p>Sure, Hibernate makes the client first approach easy as well, when you start a project. Yet, once you go to production, you <em>will</em> have to migrate your database, and then this model will break. You're back to database first, and it's worth setting up everything already now.</p>\n\n<p>So, no. Code generation might introduce some complexity <em>now</em>, but it will be <em>much more easy to maintain</em> down the road, than you creating your own table models.</p>\n\n<p><a href=\"https://blog.jooq.org/2018/06/06/truth-first-or-why-you-should-mostly-implement-database-first-designs/\" rel=\"noreferrer\">I've written up a longer blog post about this topic, here</a>.</p>\n\n<h3>Regarding your specific questions:</h3>\n\n<blockquote>\n<pre><code>return dsl.select().from(u.TABLE)\n          .rightJoin(f.TABLE).on(u.ID.eq(f.FOLLOWER_ID))\n          .where(u.ID.eq(id)).fetch().into(User::class.java)\n</code></pre>\n  \n  <p>the expected statement from this code is: [...]</p>\n</blockquote>\n\n<p>Well, that depends on what <code>u</code> and <code>f</code> are. You cannot just rename your Kotlin references to your table and expect jOOQ to know what they mean. I.e. you probably created the references as follows:</p>\n\n<pre><code>val u = User.TABLE;\nval f = Follower.TABLE;\n</code></pre>\n\n<p>If that's how you created the reference, then the two things are the <em>same thing</em> by identity. jOOQ doesn't magically reverse engineer your Kotlin code to find out that you meant to <em>alias</em> your table. You have to tell jOOQ:</p>\n\n<pre><code>val u = User.TABLE.as(\"u\");\nval f = Follower.TABLE.as(\"f\");\n</code></pre>\n\n<p>But now you're not done. You constructed the <code>User.TABLE</code> reference using the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"noreferrer\">plain SQL API</a>, which means that jOOQ's runtime has no idea about the columns in that table. You cannot reference those columns anymore from the aliased table, because the type of the aliased table for plain SQL tables is <code>Table&lt;?&gt;</code>, not <code>User</code>.</p>\n\n<p>You could, of course, create <code>TableImpl</code> instances and register all columns inside of your <code>TableImpl</code> instance - just like the code generator does. In that case, you would have tables <em>and</em> columns associated with them, and could use them type safely even with aliased tables.</p>\n\n<p>All of this stuff is handled automatically by generated code, which again, I recommend you use with jOOQ. The main reason why anyone would not use the code generator with jOOQ is because the data model is dynamic, i.e. not known at compile time. Otherwise, you're just going to repeat tons of work that the code generator already does for you, automatically. And, as mentioned before, you will have much more work later on, when you start migrating your schema.</p>\n"}], "owner": {"reputation": 135, "user_id": 7545938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3fec9556bd8ceacf44f0498c62f4d5?s=128&d=identicon&r=PG&f=1", "display_name": "Aharon Bar-El", "link": "https://stackoverflow.com/users/7545938/aharon-bar-el"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3367, "favorite_count": 3, "accepted_answer_id": 50717690, "answer_count": 1, "score": 8, "last_activity_date": 1528370512, "creation_date": 1528222697, "last_edit_date": 1528370512, "question_id": 50706556, "link": "https://stackoverflow.com/questions/50706556/kotlin-with-jooq-and-write-table-models-manually-without-code-generation", "title": "kotlin with jooq and write table models manually without code generation", "body": "<p>I'm experimenting with jOOQ and Kotlin and seen some tutorials and docs and it looks really nice.  </p>\n\n<p>But if there is something very annoying with jOOQ is the code generation. It seems too complex, and eventually impossible to maintain. I decided to create my own table models (similar to how hibernate works).</p>\n\n<p>I created two table models:</p>\n\n<p><strong>User</strong></p>\n\n<pre><code>data class User(\n    val id: String = UUID.randomUUID().toString(),\n    val name: String,\n    val email: String,\n    val password: String? = null\n) {\n    companion object {\n        val TABLE: Table&lt;Record&gt; = DSL.table(\"user\")\n        val ID: Field&lt;String&gt; = DSL.field(\"id\", String::class.java)\n        val USER_NAME: Field&lt;String&gt; = DSL.field(\"user_name\", String::class.java)\n        val EMAIL: Field&lt;String&gt; = DSL.field(\"email\", String::class.java)\n        val PASSWORD: Field&lt;String&gt; = DSL.field(\"password\", String::class.java)\n    }\n}\n</code></pre>\n\n<p><strong>Followers</strong></p>\n\n<pre><code>data class Followers(\n    val id: String,\n    val followerId: String,\n    val userId: String\n) {\n    companion object {\n        val TABLE: Table&lt;Record&gt; = DSL.table(\"followers\")\n        val ID: Field&lt;String&gt; = DSL.field(\"id\", String::class.java)\n        val FOLLOWER_ID: Field&lt;String&gt; = DSL.field(\"follower_id\", String::class.java)\n        val USER_ID: Field&lt;String&gt; = DSL.field(\"user_id\", String::class.java)\n    }\n}\n</code></pre>\n\n<p>When I did some trivial SQL statements and it worked perfectly, but when I tried the next statement, I'm getting exception.</p>\n\n<pre><code>return dsl.select().from(u.TABLE)\n            .rightJoin(f.TABLE).on(u.ID.eq(f.FOLLOWER_ID))\n            .where(u.ID.eq(id)).fetch().into(User::class.java)\n</code></pre>\n\n<p>The expected statement from this code is:</p>\n\n<pre><code>select *\nfrom user u\nright outer join followers f\non u.id = f.follower_id\nwhere u.id = 'e30919bf-5f76-11e8-8c96-701ce7e27f83';\n</code></pre>\n\n<p>But the statement I got from this code is:</p>\n\n<pre><code>select *\nfrom user\n  right outer join followers\n  on id = follower_id\nwhere id = 'e30919bf-5f76-11e8-8c96-701ce7e27f83'\n</code></pre>\n\n<p>And of course, this givse me (rightfully) the error  <strong>Column 'id' in where clause is ambiguous</strong></p>\n\n<p>It raises a few questions:</p>\n\n<ol>\n<li>Is there a better way to declare table model without code generation.</li>\n<li>Why the DSL <code>select</code> does not transform to proper SQL statement? What I'm doing wrong?</li>\n</ol>\n"}, {"tags": ["kotlin", "scheduler", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 0, "last_activity_date": 1528220347, "creation_date": 1528220347, "answer_id": 50705965, "question_id": 50705857, "link": "https://stackoverflow.com/questions/50705857/subscribe-function-is-not-working/50705965#50705965", "title": "subscribe function is not working", "body": "<p><code>Observable.create { object :ObservableOnSubscribe&lt;Book&gt;{</code> - This essentially creates a <code>ObservableOnSubscribe</code> within a <code>ObservableOnSubscribe</code>. The object declaration is redundant or you can remove the lambda definition. (<code>Observable.create(object : ETC)</code>)</p>\n"}], "owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528278208, "creation_date": 1528219868, "last_edit_date": 1528278208, "question_id": 50705857, "link": "https://stackoverflow.com/questions/50705857/subscribe-function-is-not-working", "title": "subscribe function is not working", "body": "<p>I am trying the basics of RxJava2. </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_vogella)\n        setSupportActionBar(toolbar)\n\n        val todoObserverable= createObservable();\n\n\n        try {\n            todoObserverable\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe ({ t-&gt; Log.e(TAG,t.title)}, {e-&gt; Log.e(TAG,e.localizedMessage)})\n\n        }catch (e:Exception){\n            e.printStackTrace()\n        }\n\n            }\n</code></pre>\n\n<p>get observable function:</p>\n\n<pre><code> fun createObservable():Observable&lt;Book&gt;{\n\n        val bookObservable: Observable&lt;Book&gt; = Observable.create { object :ObservableOnSubscribe&lt;Book&gt;{\n\n            override fun subscribe(emitter: ObservableEmitter&lt;Book&gt;) {\n\n                Log.e(TAG,\"anc\")\n\n                try {\n                    val bookArrayList:ArrayList&lt;Book&gt; = ArrayList()\n                    val bookOne= Book(\"XYZ\")\n                    val bookTwo= Book(\"ANC\")\n                    val bookThree= Book(\"3ewrXYZ\")\n                    val bookFour= Book(\"XwerweYZ\")\n\n                    bookArrayList.add(bookOne)\n                    bookArrayList.add(bookTwo)\n                    bookArrayList.add(bookThree)\n                    bookArrayList.add(bookFour)\n\n                    for (todo in bookArrayList){\n                        emitter.onNext(todo)\n                        Log.e(TAG,\"on next\")\n                    }\n                    emitter.onComplete()\n\n\n                }catch (e:Exception){\n                    e.printStackTrace()\n                }\n            }\n\n        }\n        }\n\n        return bookObservable;\n\n    }\n</code></pre>\n\n<p>But I am unable to print the title of the book. It is not giving me any kind of error or exception. \nI tried to debug the createObservable() but curser is not going inside the subscribe function. \nAny hint will be helpful. </p>\n"}, {"tags": ["kotlin", "kotlin-generics"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 1, "creation_date": 1528225621, "post_id": 50705653, "comment_id": 88423618, "body": "<code>I</code> being derived from <code>ViewIntent</code> isn&#39;t <i>enough</i> to make that a valid cast.  In fact, <code>ViewIntent</code> has to be derived from <code>I</code> to make the thing you&#39;re describing work."}], "answers": [{"tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": true, "score": 5, "last_activity_date": 1528222348, "creation_date": 1528222348, "answer_id": 50706461, "question_id": 50705653, "link": "https://stackoverflow.com/questions/50705653/why-cant-kotlin-smart-cast-between-an-interface-and-the-generic-type-that-is-de/50706461#50706461", "title": "Why can&#39;t Kotlin smart cast between an interface and the generic type that is derived from it?", "body": "<p>It's just because \"I\" is NOT necessarily derived from ViewIntent, but exactly ViewIntent class.</p>\n\n<p>You can fix it like this:</p>\n\n<pre><code>abstract class PresenterActivity&lt;S : ViewState, I : ViewIntent&gt; : AppCompatActivity() { \n    open fun initViewIntent(): ViewIntent {\n        return object : ViewIntent{} \n    }\n}\n</code></pre>\n\n<p>Doing it your way is really unsafe.</p>\n\n<p>To understand why, I guess you should start reading this:</p>\n\n<p><a href=\"https://blog.kotlin-academy.com/kotlin-generics-variance-modifiers-36b82c7caa39\" rel=\"noreferrer\">https://blog.kotlin-academy.com/kotlin-generics-variance-modifiers-36b82c7caa39</a></p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a></p>\n\n<p><a href=\"https://proandroiddev.com/understanding-generics-and-variance-in-kotlin-714c14564c47\" rel=\"noreferrer\">https://proandroiddev.com/understanding-generics-and-variance-in-kotlin-714c14564c47</a></p>\n"}, {"tags": [], "owner": {"reputation": 14074, "user_id": 1348215, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/iEZX8.jpg?s=128&g=1", "display_name": "Egor Neliuba", "link": "https://stackoverflow.com/users/1348215/egor-neliuba"}, "is_accepted": false, "score": 8, "last_activity_date": 1528222454, "creation_date": 1528222454, "answer_id": 50706491, "question_id": 50705653, "link": "https://stackoverflow.com/questions/50705653/why-cant-kotlin-smart-cast-between-an-interface-and-the-generic-type-that-is-de/50706491#50706491", "title": "Why can&#39;t Kotlin smart cast between an interface and the generic type that is derived from it?", "body": "<p>That's because <code>ViewIntent</code> isn't <code>I</code>. See example:</p>\n\n<pre><code>class MyViewIntent : ViewIntent\n\nclass MyPresenterActivity : PresenterActivity&lt;..., MyViewIntent&gt;() {\n    // inherited from PresenterActivity\n    open fun initViewIntent(): ViewIntent {\n        return object : ViewIntent{} as MyViewIntent // you see where this breaks\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "is_accepted": false, "score": 1, "last_activity_date": 1548365972, "creation_date": 1548365972, "answer_id": 54355698, "question_id": 50705653, "link": "https://stackoverflow.com/questions/50705653/why-cant-kotlin-smart-cast-between-an-interface-and-the-generic-type-that-is-de/54355698#54355698", "title": "Why can&#39;t Kotlin smart cast between an interface and the generic type that is derived from it?", "body": "<p>Basically, the reason why what you're doing doesn't work is because whatever <code>I</code> is is a subclass of <code>ViewIntent</code>. Your object is also a subclass <code>ViewIntent</code>. It's a completely different subclass. The cast you're doing is like trying to cast <code>StringBuilder</code> into a <code>String</code>.</p>\n\n<p>Now let's discuss what I think you \"want\" to do and why that doesn't work either. In order to really get the result you want, you need to create the <code>I</code> type directly, like this:</p>\n\n<pre><code>return object : I {}\n</code></pre>\n\n<p>And in we replaced that <code>I</code> with an actual class,</p>\n\n<pre><code>return object : SomeClass {}\n</code></pre>\n\n<p>this would certainly fail, too. <code>SomeClass</code>'s constructor needs to be called, and you're not doing it. And there's no way to know what to pass into that constructor when using the generic type.</p>\n"}], "owner": {"reputation": 2969, "user_id": 832397, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/425e9028c6dc4b993dfe7de93a4d083d?s=128&d=identicon&r=PG", "display_name": "S-K&#39;", "link": "https://stackoverflow.com/users/832397/s-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 50706461, "answer_count": 3, "score": 2, "last_activity_date": 1548365972, "creation_date": 1528219161, "question_id": 50705653, "link": "https://stackoverflow.com/questions/50705653/why-cant-kotlin-smart-cast-between-an-interface-and-the-generic-type-that-is-de", "title": "Why can&#39;t Kotlin smart cast between an interface and the generic type that is derived from it?", "body": "<p>I have the following class:</p>\n\n<pre><code>abstract class PresenterActivity&lt;S : ViewState, I : ViewIntent&gt; : AppCompatActivity() { \n    open fun initViewIntent(): I {\n        return object : ViewIntent{} // type mismatch on this line\n    }\n}\n</code></pre>\n\n<p>I receive a pre-compilation error stating:</p>\n\n<pre><code>Type mismatch\nRequired: I\nFound: &lt;S, I&gt;\n</code></pre>\n\n<p>To fix this pre-compilation error I am casting the ViewIntent object to I:</p>\n\n<pre><code>abstract class PresenterActivity&lt;S : ViewState, I : ViewIntent&gt; : AppCompatActivity() { \n    open fun initViewIntent(): I {\n        @Suppress(\"UNCHECKED_CAST\")\n        return object : ViewIntent{} as I\n    }\n}\n</code></pre>\n\n<p>But why can't Kotlin detect that <code>I</code> must be derived from <code>ViewIntent</code> and smart cast it?</p>\n"}, {"tags": ["java", "collections", "kotlin"], "comments": [{"owner": {"reputation": 1506, "user_id": 8344882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfd0e3663a654220da3dd92c42974646?s=128&d=identicon&r=PG&f=1", "display_name": "gagan singh", "link": "https://stackoverflow.com/users/8344882/gagan-singh"}, "edited": false, "score": 1, "creation_date": 1528221319, "post_id": 50705618, "comment_id": 88421522, "body": "Collections$EmptyList is immutable"}], "answers": [{"comments": [{"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1528244766, "post_id": 50710227, "comment_id": 88430315, "body": "Thanks you are right, I was calling the InsectAdapter from Java. So calling kotlin from Java I should use a List&lt;&gt; instead because it&#39;s used by both languages. However, I thought kotlin used Java collection classes under the hood."}, {"owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "reply_to_user": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 1, "creation_date": 1528296670, "post_id": 50710227, "comment_id": 88455126, "body": "You could think about Kotlin collections as enhanced Java collections - enhanced with more types (immutable, mutable) and more functions. Just remember that Java has no knowledge about these enhancements and you should be more careful at the boundary of those two langauges."}], "tags": [], "owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "is_accepted": true, "score": 2, "last_activity_date": 1528241446, "last_edit_date": 1528241446, "creation_date": 1528241035, "answer_id": 50710227, "question_id": 50705618, "link": "https://stackoverflow.com/questions/50705618/getting-a-unsupported-exception-when-trying-to-addall-to-a-mutablelist/50710227#50710227", "title": "Getting a unsupported exception when trying to AddAll to a MutableList", "body": "<p>You didn't show how you initialize <code>InsectAdapter</code> but it seems like you are doing it from Java code with <code>new InsectAdapter(Collections.emptyList())</code>.</p>\n\n<p>This issue is that Java doesn't have mutable and immutable collections the same way that Kotlin has. </p>\n\n<p>For Kotlin code your class constructor looks like this:</p>\n\n<pre><code>class InsectAdapter(private var insectList: MutableList&lt;InsectDataModel&gt;) \n</code></pre>\n\n<p>But for Java its signature is:</p>\n\n<pre><code>InsectAdapter(@NotNull List&lt;Integer&gt; insectList) {..}\n</code></pre>\n\n<p>So nothing protects you from passing wrong collection type - immutable vs mutable - from Java code to Kotlin code. And that's exactly what's happening here.</p>\n\n<p>You are (probably) passing <code>emptyList()</code> which, as the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#emptyList()\" rel=\"nofollow noreferrer\">docs</a> say:</p>\n\n<blockquote>\n  <p>Returns the empty list (<strong>immutable</strong>).</p>\n</blockquote>\n\n<p>And when you try to add something to it, it throws exception.</p>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 50710227, "answer_count": 1, "score": 1, "last_activity_date": 1528241446, "creation_date": 1528219015, "question_id": 50705618, "link": "https://stackoverflow.com/questions/50705618/getting-a-unsupported-exception-when-trying-to-addall-to-a-mutablelist", "title": "Getting a unsupported exception when trying to AddAll to a MutableList", "body": "<pre><code>Android Studio 3.2\nkotlin_version 1.2.41 \n</code></pre>\n\n<p>I am getting a UnsupportedOperationException mutablelist addAll.</p>\n\n<p>I am passing a MutableList so not sure why I would get this runtime time exeception.</p>\n\n<p>When I print the names of the classes I get the following collection classes</p>\n\n<pre><code>I/System.out: class java.util.ArrayList\nI/System.out: class java.util.Collections$EmptyList\n</code></pre>\n\n<p>This is the mapper method that return a MutableList</p>\n\n<pre><code>override fun map(cursor: Cursor): MutableList&lt;InsectDataModel&gt; {\n        val insectDataModelList: MutableList&lt;InsectDataModel&gt; = mutableListOf()\n\n        cursor.moveToFirst()\n        while(cursor.moveToNext()) {\n            InsectDataModel().let {\n                it.friendlyName = cursor.getString(cursor.getColumnIndexOrThrow(InsectContract.COLUMN_FRIENDLY_NAME))\n                it.scientificName = cursor.getString(cursor.getColumnIndexOrThrow(InsectContract.COLUMN_SCIENTIFIC_NAME))\n                it.dangerLevel = cursor.getInt(cursor.getColumnIndexOrThrow(InsectContract.COLUMN_DANGER_LEVEL))\n\n                insectDataModelList.add(it)\n            }\n        }\n\n        cursor.close()\n        return insectDataModelList\n    }\n</code></pre>\n\n<p>Adapter class that will load the list using addAll    </p>\n\n<pre><code>class InsectAdapter(private var insectList: MutableList&lt;InsectDataModel&gt;): RecyclerView.Adapter&lt;InsectAdapter.CustomInsectHolder&gt;() {\n    fun loadInsects(insectList: MutableList&lt;InsectDataModel&gt;) {\n        println(insectList.javaClass)\n        println(this.insectList.javaClass)\n\n        this.insectList.addAll(insectList) /* Unsupported Exception here */\n\n        notifyDataSetChanged()\n    }\n}\n</code></pre>\n\n<p>Calling insectAdapter</p>\n\n<pre><code>public void loadAllInsects(final Cursor cursor) {\n    insectInteractorMapper = new InsectInteractorMapperImp();\n    insectAdapter.loadInsects(insectInteractorMapper.map(cursor));\n}\n</code></pre>\n"}, {"tags": ["android", "listview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1394, "user_id": 5967703, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/r1HsG.jpg?s=128&g=1", "display_name": "Jigar Patel", "link": "https://stackoverflow.com/users/5967703/jigar-patel"}, "edited": false, "score": 0, "creation_date": 1528260786, "post_id": 50705545, "comment_id": 88433744, "body": "Thanks. &#39;convertView: View?&#39;"}, {"owner": {"reputation": 1394, "user_id": 5967703, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/r1HsG.jpg?s=128&g=1", "display_name": "Jigar Patel", "link": "https://stackoverflow.com/users/5967703/jigar-patel"}, "edited": false, "score": 0, "creation_date": 1528260870, "post_id": 50705545, "comment_id": 88433770, "body": "convertview is updated as non null   <code>convertView!!</code>"}], "tags": [], "owner": {"reputation": 1320, "user_id": 1779222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0f8a29a51d47bf7066267a9d3e0b20?s=128&d=identicon&r=PG", "display_name": "egoldx", "link": "https://stackoverflow.com/users/1779222/egoldx"}, "is_accepted": true, "score": 13, "last_activity_date": 1528218714, "creation_date": 1528218714, "answer_id": 50705545, "question_id": 50705466, "link": "https://stackoverflow.com/questions/50705466/illegalargumentexception-on-parameter-convertview-at-adapter-getview-kotlin-andr/50705545#50705545", "title": "IllegalArgumentException on parameter convertView at Adapter.getView Kotlin android", "body": "<p><code>convertView</code> can be null if no view has been created yet. Fix parametr declaration:</p>\n\n<pre><code>override fun getView(position: Int, convertView: View?, parent: \n     ViewGroup): View? {\n...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 9717646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QGiwek9I4hc/AAAAAAAAAAI/AAAAAAAAABI/Tc__nebA2B8/photo.jpg?sz=128", "display_name": "Chris Fodor", "link": "https://stackoverflow.com/users/9717646/chris-fodor"}, "is_accepted": false, "score": 0, "last_activity_date": 1528218863, "creation_date": 1528218863, "answer_id": 50705584, "question_id": 50705466, "link": "https://stackoverflow.com/questions/50705466/illegalargumentexception-on-parameter-convertview-at-adapter-getview-kotlin-andr/50705584#50705584", "title": "IllegalArgumentException on parameter convertView at Adapter.getView Kotlin android", "body": "<p>I had similar issues with Asynctasks, not sure if this will help you, but if you just execute the asynctask (without the <code>.get()</code> ). Your code after calling asynctask will run, but the element is still NULL as the Asynctask didnt execute yet, and when it did it was already too late. Try adding <code>.get()</code> after execute (it will freeze the UI, but the postExecute method will be called in time). Or another approach is to set a boolean variable false and make it true when post executed was executed then check every second or so (Timer, Thread) if the variable is true and then execute the rest of the code. For better UI experience add progressdialog between <code>preExecute</code> and <code>postExecute</code>. </p>\n\n<p>Or you can also set the view to be NULL but I dont think that fixes your problem as you dont want it to be NULL.</p>\n"}], "owner": {"reputation": 1394, "user_id": 5967703, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/r1HsG.jpg?s=128&g=1", "display_name": "Jigar Patel", "link": "https://stackoverflow.com/users/5967703/jigar-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 0, "accepted_answer_id": 50705545, "answer_count": 2, "score": 4, "last_activity_date": 1528218863, "creation_date": 1528218353, "question_id": 50705466, "link": "https://stackoverflow.com/questions/50705466/illegalargumentexception-on-parameter-convertview-at-adapter-getview-kotlin-andr", "title": "IllegalArgumentException on parameter convertView at Adapter.getView Kotlin android", "body": "<pre><code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter convertView\nAdapter.getView\n at android.widget.AbsListView.obtainView(AbsListView.java:2346)\n        at android.widget.ListView.makeAndAddView(ListView.java:1876)\n        at android.widget.ListView.fillDown(ListView.java:702)\n        at android.widget.ListView.fillFromTop(ListView.java:763)\n        at android.widget.ListView.layoutChildren(ListView.java:1671)\n        at android.widget.AbsListView.onLayout(AbsListView.java:2148)\n</code></pre>\n\n<p>This is logcat of android.\nI tried with java it's working fine base adapter something wrong in Adapter or other.\nI tried with the <code>public constructor</code> and also array list count 3 found i checked it. Alway it's crash at <code>getView</code></p>\n\n<p>MyAdapter Code::</p>\n\n<pre><code>   inner class MyAppAdapter constructor(private val parkingList: ArrayList&lt;App&gt;, private val mContext: Context) : BaseAdapter() {\n\n        override fun getCount(): Int {\n            return this.parkingList.size\n        }\n\n        override fun getItem(position: Int): Any {\n            return position\n        }\n\n        override fun getItemId(position: Int): Long {\n            return position.toLong()\n        }\n\n        override fun getView(position: Int, convertView: View, parent: ViewGroup): View? {\n            val viewHolder: ViewHolder\n            var rowView: View? = convertView\n            if (rowView == null) {\n                rowView = LayoutInflater.from(mContext).inflate(R.layout.item_more_apps, parent, false)\n                viewHolder = ViewHolder()\n                viewHolder.appIcon = rowView.findViewById(R.id.appIcon)\n                viewHolder.appName = rowView.findViewById(R.id.appName)\n                viewHolder.appDescription = rowView.findViewById(R.id.appDescription)\n                rowView.tag = viewHolder\n            } else {\n                viewHolder = convertView.tag as ViewHolder\n            }\n            viewHolder.appName!!.text = String.format(\"%s\", this.parkingList[position].name)\n            viewHolder.appDescription!!.text = String.format(\"%s\", this.parkingList[position].description)\n            Glide.with(applicationContext).load(this.parkingList[position].icon).into(viewHolder.appIcon!!)\n            rowView?.setOnClickListener {\n                try {\n                    startActivity(Intent(\"android.intent.action.VIEW\", Uri.parse(\"market://details?id=\" + this@MyAppAdapter.parkingList[position].link)))\n                } catch (e: ActivityNotFoundException) {\n                    startActivity(Intent(\"android.intent.action.VIEW\", Uri.parse(\"http://play.google.com/store/apps/details?id=\" + this@MyAppAdapter.parkingList[position].link)))\n                }\n            }\n            return rowView\n        }\n\n        inner class ViewHolder {\n            var appDescription: TextView? = null\n            var appIcon: ImageView? = null\n            var appName: TextView? = null\n        }\n    }\n</code></pre>\n\n<p>Used at <code>AsyncTask</code> -> <code>onPostExecute</code></p>\n\n<pre><code>  myAppAdapter = MyAppAdapter(appArrayList, applicationContext)\n            lvPoses!!.adapter = myAppAdapter\n</code></pre>\n\n<p>Variable Decleared like this</p>\n\n<pre><code>   lateinit var myAppAdapter: MyAppAdapter\n    private val appArrayList = ArrayList&lt;App&gt;()\n    private var lvPoses: ListView? = null\n</code></pre>\n"}, {"tags": ["kotlin", "concatenation"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 5, "creation_date": 1528217154, "post_id": 50705127, "comment_id": 88419566, "body": "You can hit Alt + Enter and make IDEA automatically do it."}], "answers": [{"tags": [], "owner": {"reputation": 2059, "user_id": 6950859, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/034851bd177962980fdc2f79b08c7639?s=128&d=identicon&r=PG&f=1", "display_name": "cela", "link": "https://stackoverflow.com/users/6950859/cela"}, "is_accepted": true, "score": 27, "last_activity_date": 1602255553, "last_edit_date": 1602255553, "creation_date": 1528217763, "answer_id": 50705329, "question_id": 50705127, "link": "https://stackoverflow.com/questions/50705127/how-to-convert-concatenation-to-template-in-kotlin/50705329#50705329", "title": "How to convert concatenation to template in Kotlin", "body": "<p>In Kotlin, you can use string templates to remove all the concatenation symbols in your code. They always start with a <code>$</code>.</p>\n<p>For example in your code, you could have done this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>println(&quot;$cont + $result&quot;)\n</code></pre>\n<p>This would print the same result as your original code, just more concise and readable. This can even be done on arbitrary expressions you just have to wrap it in curly braces.</p>\n<p>For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val cont = &quot;ALEC&quot;\nprintln(&quot;Hi ${cont.toLowerCase()}&quot;) //prints Hi alec\n</code></pre>\n<p>As mentioned in the comments, IntelliJ will do this automagically by hitting <code>ALT + Enter</code> when the hint is suggested.</p>\n"}], "owner": {"reputation": 143, "user_id": 9898874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UFXXS.jpg?s=128&g=1", "display_name": "RS.Chamroeun", "link": "https://stackoverflow.com/users/9898874/rs-chamroeun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4721, "favorite_count": 4, "accepted_answer_id": 50705329, "answer_count": 1, "score": 14, "last_activity_date": 1602255553, "creation_date": 1528216983, "last_edit_date": 1528231511, "question_id": 50705127, "link": "https://stackoverflow.com/questions/50705127/how-to-convert-concatenation-to-template-in-kotlin", "title": "How to convert concatenation to template in Kotlin", "body": "<p>I am new to programming. Recently, I started learning Kotlin.\nI got a suggestion with this code:</p>\n\n<pre><code>var  cont = \"N\"\nvar result:Int?\nresult = 45\nprintln (cont + \" + \" + result)\n</code></pre>\n\n<p>It suggests converting this <code>{\" + \"}</code> to a template, but I do not know how?</p>\n"}, {"tags": ["kotlin", "readline"], "answers": [{"comments": [{"owner": {"reputation": 1186, "user_id": 1434047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaa451e2b93ad55c9ff5107be30b5a1?s=128&d=identicon&r=PG", "display_name": "Bink", "link": "https://stackoverflow.com/users/1434047/bink"}, "edited": false, "score": 0, "creation_date": 1528221100, "post_id": 50705171, "comment_id": 88421395, "body": "Thanks David.  If the console there is truly limited, I guess I\u2019ll have to work with this."}], "tags": [], "owner": {"reputation": 196, "user_id": 9749048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWDus.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/9749048/david"}, "is_accepted": false, "score": 2, "last_activity_date": 1528217172, "creation_date": 1528217172, "answer_id": 50705171, "question_id": 50704890, "link": "https://stackoverflow.com/questions/50704890/readline-and-try-kotlinlang-org/50705171#50705171", "title": "readLine and try.kotlinlang.org", "body": "<p>I don't think the output console can take keyboard input. If you use:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n  val txt = args[0]\n  println(\"$txt\")\n}\n</code></pre>\n\n<p>and give it a program argument of <code>\"Bob\"</code>, it will print that out.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1528217294, "creation_date": 1528217294, "answer_id": 50705203, "question_id": 50704890, "link": "https://stackoverflow.com/questions/50704890/readline-and-try-kotlinlang-org/50705203#50705203", "title": "readLine and try.kotlinlang.org", "body": "<p>Just try this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    print(\"enter text:\")\n    val txt = readLine()\n    if (txt != null) println(\"$txt\")\n}\n</code></pre>\n\n<p>position the cursor after the prompt,type anything you want and press Enter.</p>\n"}], "owner": {"reputation": 1186, "user_id": 1434047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaa451e2b93ad55c9ff5107be30b5a1?s=128&d=identicon&r=PG", "display_name": "Bink", "link": "https://stackoverflow.com/users/1434047/bink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1528217294, "creation_date": 1528216118, "question_id": 50704890, "link": "https://stackoverflow.com/questions/50704890/readline-and-try-kotlinlang-org", "title": "readLine and try.kotlinlang.org", "body": "<p>Learning a little Kotlin and using try.kotlinlang.org before installing the full IDE.  I tried the following code, but there doesn\u2019t appear to be a prompt for me enter text:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n  val txt = readLine()\n  if (txt != null) println(\"$txt\")\n}\n</code></pre>\n\n<p>There are no errors.  What am I missing?  Is this a limitation of try.kotlinlang.org?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 3450318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/186aa88b43adab0b1ee5e77fc4a992b7?s=128&d=identicon&r=PG&f=1", "display_name": "gcx11", "link": "https://stackoverflow.com/users/3450318/gcx11"}, "is_accepted": false, "score": 3, "last_activity_date": 1592551949, "last_edit_date": 1592551949, "creation_date": 1528238249, "answer_id": 50709887, "question_id": 50704499, "link": "https://stackoverflow.com/questions/50704499/referencing-kotlin-gradle-script-varaibles-in-plugins-block/50709887#50709887", "title": "Referencing kotlin gradle script varaibles in plugins block", "body": "<p>See documentation: <a href=\"https://docs.gradle.org/current/userguide/plugins.html#sec:constrained_syntax\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/plugins.html#sec:constrained_syntax</a>\nBasically, it states that plugin version must be constant, literal, string.</p>\n\n<p>It is achieved by DslMaker: <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html#scope-control-dslmarker-since-11\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/type-safe-builders.html#scope-control-dslmarker-since-11</a></p>\n\n<p>If you want to reuse variable elsewhere, you could use this:</p>\n\n<pre><code>buildscript {\n    var kotlinVersion: String by extra { \"1.2.41\" }\n\n    repositories {\n        jcenter()\n    }\n\n    dependencies {\n        classpath(kotlin(\"gradle-plugin\", kotlinVersion))\n    }\n}\n\nplugins {\n    application\n}\n\napplication {\n    mainClassName = \"samples.HelloWorldKt\"\n}\n\napply {\n    plugin(\"kotlin\")\n    plugin(\"application\")\n}\n\nval kotlinVersion: String by extra\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile(kotlin(\"stdlib-jdk8\", kotlinVersion))\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>If you don't need that, you can simply inline content of variable <code>kotlin_version</code></p>\n"}], "owner": {"reputation": 1915, "user_id": 1902896, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0839a5f542caa87bf9283ea25997006a?s=128&d=identicon&r=PG", "display_name": "wheeler", "link": "https://stackoverflow.com/users/1902896/wheeler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1592551949, "creation_date": 1528214637, "question_id": 50704499, "link": "https://stackoverflow.com/questions/50704499/referencing-kotlin-gradle-script-varaibles-in-plugins-block", "title": "Referencing kotlin gradle script varaibles in plugins block", "body": "<p>I've been writing Gradle plugins in several languages using their usual Groovy build script DSL for some time. As of recently I wanted to learn how to use their Kotlin build script DSL but I can't quite figured out some things. </p>\n\n<p>I have an example below:</p>\n\n<pre><code>val kotlin_version = \"1.2.41\"\n\nplugins {\n    application\n    kotlin(\"jvm\").version(kotlin_version)\n}\n\napplication {\n    mainClassName = \"samples.HelloWorldKt\"\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\"))\n}\n\nrepositories {\n    jcenter()\n}\n</code></pre>\n\n<p>However, when I run a simple task like 'clean', I get the following error:</p>\n\n<pre><code>* What went wrong:\nScript compilation error:\n\n  Line 5:     kotlin(\"jvm\") version kotlin_version\n                                    ^ Unresolved reference: kotlin_version\n</code></pre>\n\n<p>However, if I replace <code>kotlin_version</code> with a string literal, it works fine:</p>\n\n<pre><code>val kotlin_version = \"1.2.41\"\n\nplugins {\n    application\n//    kotlin(\"jvm\").version(kotlin_version)\n    kotlin(\"jvm\").version(\"1.2.41\")\n}\n\napplication {\n    mainClassName = \"samples.HelloWorldKt\"\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\"))\n}\n\nrepositories {\n    jcenter()\n}\n</code></pre>\n\n<p>However, if I parameterize the <code>dependencies</code> block with my <code>kotlin_version</code>, it works perfectly fine:</p>\n\n<pre><code>dependencies {\n    compile(kotlin(\"stdlib\", kotlin_version))\n}\n</code></pre>\n\n<p>Why can't variables be referenced inside of the <code>plugins</code> block?</p>\n"}, {"tags": ["kotlin", "nullable"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1528214390, "post_id": 50704376, "comment_id": 88418007, "body": "What if the provided list is empty?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1528214468, "post_id": 50704376, "comment_id": 88418057, "body": "This entire function can be replaced with <code>return dataArray.minBy { it.level }</code>. You still need to take care of the empty list case."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1528214496, "post_id": 50704376, "comment_id": 88418068, "body": "this sample is for showing the &#39;!!&#39; issue, assuming dataArray is not empty."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528214581, "post_id": 50704376, "comment_id": 88418121, "body": "The type system isn&#39;t assuming anything, you are. So no, <code>!!</code> is the way to go"}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1528214679, "post_id": 50704376, "comment_id": 88418179, "body": "@yole, thx! the sample may be replaced with <code>dataArray.minBy { it.level }</code>,  but it is trying to show in some case it has to use <code>var d: Data?</code> then it will force to use &#39;!!&#39; later."}], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 0, "last_activity_date": 1528215983, "creation_date": 1528215983, "answer_id": 50704851, "question_id": 50704376, "link": "https://stackoverflow.com/questions/50704376/how-to-avoid-in-a-function-which-returns-a-non-nullable/50704851#50704851", "title": "How to avoid !! in a function which returns a non-nullable", "body": "<h1>How to do the same check, and cover the empty case</h1>\n\n<pre><code>fun testGetLowest(dataArray: List&lt;Data&gt;) \n    = dataArray.minBy { it.level } ?: throw AssertionError(\"List was empty\")\n</code></pre>\n\n<p>This uses the <code>?:</code> operator to either get the minimum, or if the minimum is null (the list is empty) throws an error instead.</p>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 9749048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWDus.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/9749048/david"}, "is_accepted": false, "score": 1, "last_activity_date": 1528273336, "last_edit_date": 1528273336, "creation_date": 1528216847, "answer_id": 50705088, "question_id": 50704376, "link": "https://stackoverflow.com/questions/50704376/how-to-avoid-in-a-function-which-returns-a-non-nullable/50705088#50705088", "title": "How to avoid !! in a function which returns a non-nullable", "body": "<p>Even if you were to convert it to an <code>Option</code>, you would still have to deal with the case when <code>dataArray</code> is empty and so the value returned is undefined. </p>\n\n<p>If you wanted to make this a complete function instead of throwing an exception, you can return an <code>Option&lt;Data&gt;</code> instead of a <code>Data</code> so that the case of an empty <code>dataArray</code> would return a <code>None</code> and leave it up to the caller to deal with how to handle the sad path.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1528224132, "creation_date": 1528224132, "answer_id": 50706932, "question_id": 50704376, "link": "https://stackoverflow.com/questions/50704376/how-to-avoid-in-a-function-which-returns-a-non-nullable/50706932#50706932", "title": "How to avoid !! in a function which returns a non-nullable", "body": "<p>If you don't like <code>!!</code> then supply a default value for it. You'll realize you can only supply the default value if the list is not empty, but, as you said, the list is already known to be non-empty. The good part of this story is that the type system doesn't track list size so when you say <code>dataArray[0]</code>, it will take your word for it.</p>\n\n<pre><code>fun testGetLowest(dataArray: List&lt;Data&gt;) : Data {\n    var d: Data = dataArray[0]\n    for (i in 1 until dataArray.size) {\n        if (d.level &lt; dataArray[i].level) {\n            d = dataArray[i]\n        }\n    }\n    return d\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": false, "score": 1, "last_activity_date": 1528272076, "last_edit_date": 1528272076, "creation_date": 1528271080, "answer_id": 50714867, "question_id": 50704376, "link": "https://stackoverflow.com/questions/50704376/how-to-avoid-in-a-function-which-returns-a-non-nullable/50714867#50714867", "title": "How to avoid !! in a function which returns a non-nullable", "body": "<p>Normally, you can and should lean on the compiler to infer nullability. This is not always possible, and in the contrived example if the inner loop runs but once <code>d</code> is non-null. This is guaranteed to happen if <code>dataArray</code> has at least one member.</p>\n\n<p>Using this knowledge you could refactor the code slightly using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/require.html\" rel=\"nofollow noreferrer\">require</a> to check the arguments (for at least one member of the array) and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/check-not-null.html\" rel=\"nofollow noreferrer\">checkNotNull</a> to assert the state of the <code>dataArray</code> as a post-condition.</p>\n\n<pre><code>fun testGetLowest (dataArray: List&lt;Data&gt;) : Data {\n   require(dataArray.size &gt; 0, { \"Expected dataArray to have size of at least 1: $dataArray\")\n   var d: Data? = null\n   for (i in dataArray.indecs) {\n\n       if (d == null) {// first run\n           d = dataArray[i]\n       } else if {\n           d.level &lt; dataArray[i].level\n           d = dataArray[i]\n       }\n    }\n    return checkNotNull(d, { \"Expected d to be non-null through dataArray having at least one element and d being assigned in first iteration of loop\" })\n}\n</code></pre>\n\n<p>Remember you can return the result of a <code>checkNotNull</code> (and similar operators):</p>\n\n<pre><code>val checkedD = checkNotNull(d)\n</code></pre>\n\n<p>See Google Guava's <a href=\"https://github.com/google/guava/wiki/PreconditionsExplained\" rel=\"nofollow noreferrer\">Preconditions</a> for something similar.</p>\n"}, {"tags": [], "owner": {"reputation": 317, "user_id": 6268503, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88982ef57104e465e41be8d9b0e1255a?s=128&d=identicon&r=PG&f=1", "display_name": "Mordag", "link": "https://stackoverflow.com/users/6268503/mordag"}, "is_accepted": false, "score": 0, "last_activity_date": 1528306366, "creation_date": 1528306366, "answer_id": 50726311, "question_id": 50704376, "link": "https://stackoverflow.com/questions/50704376/how-to-avoid-in-a-function-which-returns-a-non-nullable/50726311#50726311", "title": "How to avoid !! in a function which returns a non-nullable", "body": "<p>The accepted answer is completly fine but just to mentioned another way to solve your problem by changing one line in your code: <code>return d ?: dataArray[0]</code></p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 50706932, "answer_count": 5, "score": 0, "last_activity_date": 1528306366, "creation_date": 1528214245, "last_edit_date": 1528273191, "question_id": 50704376, "link": "https://stackoverflow.com/questions/50704376/how-to-avoid-in-a-function-which-returns-a-non-nullable", "title": "How to avoid !! in a function which returns a non-nullable", "body": "<p>In the sample below,  the function should return a non-null data.\nSince the data could be changed in the process, it needs to be var, and can only be nullable to start with.</p>\n\n<p>I can't use <code>lateinit</code> because the first call of <code>if (d == null)</code> will throw.</p>\n\n<p>After the process it will be assigned a non-null data, but the return has to use the <code>!!</code> (double bang or non-null assertion operator).</p>\n\n<p>What is the best approach to avoid the <code>!!</code>?</p>\n\n<pre><code>fun testGetLowest (dataArray: List&lt;Data&gt;) : Data {\n   var d: Data? = null\n   for (i in dataArray.indecs) {\n\n       if (d == null) {// first run\n           d = dataArray[i]\n       } else if {\n           d.level &lt; dataArray[i].level\n           d = dataArray[i]\n       }\n    }\n    return d!!\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "textview"], "answers": [{"tags": [], "owner": {"reputation": 627, "user_id": 8422138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/637153fad19c67e37fc28c1cb797bc0b?s=128&d=identicon&r=PG", "display_name": "Eddiel Lopez", "link": "https://stackoverflow.com/users/8422138/eddiel-lopez"}, "is_accepted": false, "score": 1, "last_activity_date": 1528211806, "creation_date": 1528211806, "answer_id": 50703555, "question_id": 50703151, "link": "https://stackoverflow.com/questions/50703151/custom-textview-text-not-visible/50703555#50703555", "title": "Custom TextView text not visible", "body": "<p>You are drawing your rectangle on top of the base class content.</p>\n"}, {"comments": [{"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1528213717, "post_id": 50703594, "comment_id": 88417612, "body": "Thanks, I moved the <code>super.onDraw</code> to the bottom, and it worked"}], "tags": [], "owner": {"reputation": 3600, "user_id": 1494902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y088H.jpg?s=128&g=1", "display_name": "Piotr Aleksander Chmielowski", "link": "https://stackoverflow.com/users/1494902/piotr-aleksander-chmielowski"}, "is_accepted": true, "score": 2, "last_activity_date": 1528211927, "creation_date": 1528211927, "answer_id": 50703594, "question_id": 50703151, "link": "https://stackoverflow.com/questions/50703151/custom-textview-text-not-visible/50703594#50703594", "title": "Custom TextView text not visible", "body": "<p>You have to call <code>super.onDraw</code> after drawing the rectangle.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10806947, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_fkm3liy6Dw/AAAAAAAAAAI/AAAAAAAAAB0/TfnxaIe-Nss/photo.jpg?sz=128", "display_name": "Avijit Acharjee", "link": "https://stackoverflow.com/users/10806947/avijit-acharjee"}, "is_accepted": false, "score": 0, "last_activity_date": 1610289088, "creation_date": 1610289088, "answer_id": 65654373, "question_id": 50703151, "link": "https://stackoverflow.com/questions/50703151/custom-textview-text-not-visible/65654373#65654373", "title": "Custom TextView text not visible", "body": "<p>You have to call super.onDraw inside the onDraw method of the custom textView.</p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 50703594, "answer_count": 3, "score": 0, "last_activity_date": 1610289088, "creation_date": 1528210620, "question_id": 50703151, "link": "https://stackoverflow.com/questions/50703151/custom-textview-text-not-visible", "title": "Custom TextView text not visible", "body": "<p>I have a simple custom <code>TextView</code> that adds background color with rounded corners. However, the text is not visible, as you can see from the green little square. I tried setting the text and textColor in XML file as well, same thing. Where did I do wrong? </p>\n\n<p><a href=\"https://i.stack.imgur.com/2wHWN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2wHWN.png\" alt=\"enter image description here\"></a> </p>\n\n<pre><code>class StatusRectView(context: Context, attrs: AttributeSet) : TextView(context, attrs) {\n\n    private var cornerRadius = 0.8f\n    private val paint = Paint()\n    private var size = 0  \n\n    init {\n        paint.isAntiAlias = true\n        gravity = Gravity.CENTER\n        setTextColor(Color.WHITE)\n        text = \"D\"\n    }\n\n    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec)\n\n        size = Math.min(measuredWidth, measuredHeight)\n        setMeasuredDimension(size, size)\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        super.onDraw(canvas)\n\n        paint.color = Color.GREEN\n        paint.style = Paint.Style.FILL\n\n        val rectF = RectF(0f,  0f, size * 1f, size * 1f)\n        canvas.drawRoundRect(rectF, cornerRadius, cornerRadius, paint)\n    }\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1528318481, "post_id": 50703079, "comment_id": 88466642, "body": "No ideas on why it&#39;s not working. I&#39;d dig into KotlinTest and what it uses to run the tests. Is it JUnit4 or Unit Jupiter based? Perhaps something changed in the IDE. Or try clearing caches and restarting IntelliJ. Perhaps it messed something up in an index. Also, Gradle CLI supports filtering tests using <code>--tests</code> parameter so if nothing else, can run individual tests from CLI. <code>-- tests &quot;*MyTest*&quot;</code> or <code>--tests &quot;*MyTest.verifySomeFunction*&quot;</code> is the idea"}, {"owner": {"reputation": 1407, "user_id": 4760884, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UFSBb.jpg?s=128&g=1", "display_name": "Horatio", "link": "https://stackoverflow.com/users/4760884/horatio"}, "edited": false, "score": 0, "creation_date": 1531168942, "post_id": 50703079, "comment_id": 89486381, "body": "Have you tried uninstalling and reinstalling your kotlin plugin?"}, {"owner": {"reputation": 14965, "user_id": 2048448, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9875a5906274bc61f9e3106537a601fc?s=128&d=identicon&r=PG", "display_name": "sksamuel", "link": "https://stackoverflow.com/users/2048448/sksamuel"}, "edited": false, "score": 0, "creation_date": 1531711156, "post_id": 50703079, "comment_id": 89680787, "body": "What version of kotlintest?"}, {"owner": {"reputation": 7342, "user_id": 325900, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e6841b36a831d0295b74017513961e02?s=128&d=identicon&r=PG", "display_name": "DaveyDaveDave", "link": "https://stackoverflow.com/users/325900/daveydavedave"}, "edited": false, "score": 0, "creation_date": 1531899827, "post_id": 50703079, "comment_id": 89763682, "body": "I&#39;ve just created a very similar question - could be a duplicate by maybe not? <a href=\"https://stackoverflow.com/questions/51396253/running-tests-suddenly-started-failing-silently-in-a-single-java-project\" title=\"running tests suddenly started failing silently in a single java project\">stackoverflow.com/questions/51396253/&hellip;</a>"}, {"owner": {"reputation": 2128, "user_id": 2695298, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uhY2Y.jpg?s=128&g=1", "display_name": "Ivan Gerasimenko", "link": "https://stackoverflow.com/users/2695298/ivan-gerasimenko"}, "edited": false, "score": 0, "creation_date": 1554732659, "post_id": 50703079, "comment_id": 97849657, "body": "The same problem with Intellij Idea 2019.1: &quot;Nothing here&quot; sign appears when clicking &quot;Run Test&quot; green triangle on the left side to the method&#39;s name"}, {"owner": {"reputation": 2128, "user_id": 2695298, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/uhY2Y.jpg?s=128&g=1", "display_name": "Ivan Gerasimenko", "link": "https://stackoverflow.com/users/2695298/ivan-gerasimenko"}, "edited": false, "score": 0, "creation_date": 1554734316, "post_id": 50703079, "comment_id": 97850704, "body": "Switched back to 2018.3.6 - still experienced this problem. Than switched to 2018.2.8 - and tests are running great again!"}, {"owner": {"reputation": 2230, "user_id": 646996, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc4704cd8c3001f4b10fadeac8182c47?s=128&d=identicon&r=PG", "display_name": "avanwieringen", "link": "https://stackoverflow.com/users/646996/avanwieringen"}, "edited": false, "score": 0, "creation_date": 1554794992, "post_id": 50703079, "comment_id": 97871740, "body": "Yeah, but you are running an old version now..."}], "owner": {"reputation": 2230, "user_id": 646996, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc4704cd8c3001f4b10fadeac8182c47?s=128&d=identicon&r=PG", "display_name": "avanwieringen", "link": "https://stackoverflow.com/users/646996/avanwieringen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 863, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1531898460, "creation_date": 1528210399, "last_edit_date": 1531898460, "question_id": 50703079, "link": "https://stackoverflow.com/questions/50703079/all-of-a-sudden-not-possible-to-run-kotlin-tests-in-intellij-anymore", "title": "All of a sudden not possible to run Kotlin tests in IntelliJ anymore", "body": "<p>I have a big Kotlin project with about 2500 unit tests written for KotlinTest. The project is a gradle project and I am able to run all the tests from a Gradle task, but normally I run them from the editor. I was able to run individual tests from the editor by clicking the Run Icon.</p>\n\n<p>Yesterday this worked fine, today it doesn't. Nothing changed. Absolutely nothing. When I hover on the icon it says \"Nothing Here\". When I add a main function I can execute the main function, but not the tests. The test folder is marked as Test Sources Root.</p>\n\n<p>This is extremely frustrating, because for every time I change something I want to test an individual Unit test and not having to test the 2500 others....</p>\n\n<p>IntelliJ is up to date. Kotlin plugin is the latest.</p>\n\n<p>EDIT:\nI found out that it works if I add a <code>fun main(args: Array&lt;String&gt;)</code> to the top of the file. Weird!?</p>\n"}, {"tags": ["android", "unit-testing", "junit", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1528210794, "post_id": 50703029, "comment_id": 88415796, "body": "It seems everything is correct with your test. Can you show some more code, especially the code messing with threads?"}, {"owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "reply_to_user": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1528211133, "post_id": 50703029, "comment_id": 88415999, "body": "I just noticed that it is caused by using MutableLiveData in my viewModel (and test). Is there any workaround for this as well?"}], "answers": [{"tags": [], "owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "is_accepted": true, "score": 2, "last_activity_date": 1528212096, "creation_date": 1528212096, "answer_id": 50703659, "question_id": 50703029, "link": "https://stackoverflow.com/questions/50703029/unit-testing-with-rxjava2-and-mutablelivedata/50703659#50703659", "title": "Unit testing with RxJava2 and MutableLiveData", "body": "<p>Your RxJava is configured correctly and for testing <code>MutableLiveData</code> you need to set the rule in your tests:</p>\n\n<pre><code>@Rule\n@JvmField\nval rule = InstantTaskExecutorRule()\n</code></pre>\n\n<p>where <a href=\"https://developer.android.com/reference/android/arch/core/executor/testing/InstantTaskExecutorRule\" rel=\"nofollow noreferrer\"><code>InstantTaskExecutorRule</code></a> comes from module <code>android.arch.core:core-testing</code> (soon to be moved to AndroidX) - as for now the latest version is 1.1.1. </p>\n"}], "owner": {"reputation": 6632, "user_id": 1262024, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21669aa0deaa22912115eb6f0e281256?s=128&d=identicon&r=PG", "display_name": "Smajl", "link": "https://stackoverflow.com/users/1262024/smajl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 50703659, "answer_count": 1, "score": 2, "last_activity_date": 1528232296, "creation_date": 1528210264, "last_edit_date": 1528232296, "question_id": 50703029, "link": "https://stackoverflow.com/questions/50703029/unit-testing-with-rxjava2-and-mutablelivedata", "title": "Unit testing with RxJava2 and MutableLiveData", "body": "<p>I am trying to unit test some Android/Kotlin code that uses RxJava2. The code looks roughly as follows:</p>\n\n<pre><code>val temperature = MutableLiveData&lt;Double&gt;()\n\nfun save(): Single&lt;Result&lt;ClassifyResponse&gt;&gt; {\n    val temp = temperature.value\n    ...\n    return repository.classify(request)\n        .flatMap { response-&gt;\n                val result: Result&lt;ClassifyResponse&gt; = Result.Success(response)\n                Single.just(result)\n        }.onErrorReturn {\n                Result.Error(it)\n        }\n}\n</code></pre>\n\n<p>However, I am getting the following exception:</p>\n\n<pre><code>java.lang.RuntimeException: Method getMainLooper in android.os.Looper not mocked. See http://g.co/androidstudio/not-mocked for details.\n</code></pre>\n\n<p>every time I run my unit test. I read a lot of <a href=\"https://android.jlelse.eu/complete-example-of-testing-mvp-architecture-with-kotlin-and-rxjava-part-2-ca150c688ab1\" rel=\"nofollow noreferrer\">tutorials</a> and <a href=\"https://stackoverflow.com/questions/43356314/android-rxjava-2-junit-test-getmainlooper-in-android-os-looper-not-mocked-runt\">SO answers</a> but even after using the RxJavaPlugins, I still can't seem to be able to mock the main thread scheduler and the same exception prevails.</p>\n\n<p>Could someone take a look at my unit test class and suggest what am I missing here?</p>\n\n<pre><code>class MyViewModelTest() {\n\n    private val repository = mock(MyRepository::class.java)\n\n    private val immediateScheduler = object : Scheduler() {\n        override fun createWorker(): Worker {\n            return ExecutorScheduler.ExecutorWorker(Executor { it.run() })\n        }\n    }\n\n    @Before\n    fun setUp() {\n        RxJavaPlugins.setInitIoSchedulerHandler { immediateScheduler }\n        RxJavaPlugins.setComputationSchedulerHandler { immediateScheduler }\n        RxAndroidPlugins.setInitMainThreadSchedulerHandler { immediateScheduler }\n        RxAndroidPlugins.setInitMainThreadSchedulerHandler { immediateScheduler }\n    }\n\n    @Test\n    fun test() {\n        // given temperature view model\n        val viewModel = MyViewModel(repository)\n        ...\n\n        val classifyResponse = ClassifyResponse(...)\n        `when`(repository.classify(any(ClassifyRequest::class.java))).then { Single.just(classifyResponse) }\n\n        // when sending request\n        val result = viewModel.save()\n\n        // then verify result\n        val expected = Result.success(classifyResponse)\n\n        assertEquals(expected, result)\n    }\n}\n</code></pre>\n\n<p>EDIT: I noticed that it is failing due to using <code>MutableLiveData</code>. When I try to access <code>temperature.value</code>, it complains about the MainLooper thread.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "adapter"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "edited": false, "score": 0, "creation_date": 1528226354, "post_id": 50703708, "comment_id": 88423971, "body": "I missing under stand some of code im just being in kotlin can you show me how all cod will look like ? As you can edit that code im just posted"}, {"owner": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "edited": false, "score": 1, "creation_date": 1528227246, "post_id": 50703708, "comment_id": 88424386, "body": "Thank you it work now but i was miss to add the isCheked value in the array"}], "tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": true, "score": 1, "last_activity_date": 1528212207, "creation_date": 1528212207, "answer_id": 50703708, "question_id": 50702758, "link": "https://stackoverflow.com/questions/50702758/kotlinradio-button-single-check-control/50703708#50703708", "title": "kotlin:Radio button single check control", "body": "<p>It is simple.</p>\n\n<p><strong>Step 1.</strong> Use <code>CheckBox</code> instead <code>RadioButton</code> because they can't be unchecked as does say the documentation </p>\n\n<blockquote>\n  <p>However, contrary to a CheckBox, a radio button cannot be unchecked by the user once checked.</p>\n</blockquote>\n\n<p><strong>Step 2.</strong> Create the property <code>var isChecked: Boolean = false</code> on your class <code>StoresModeling</code></p>\n\n<p><strong>Step 3.</strong> Erase all body of your <code>ViewHolder</code>(you are using it wrong), write just it</p>\n\n<pre><code>class ViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView)\n</code></pre>\n\n<p>And populate your <code>StoresModeling</code> inside your <code>onBindViewHolder</code></p>\n\n<p><strong>Step 4.</strong> Change state (inside your <code>onBindViewHolder</code>) of your <code>isChecked</code>, uncheck all others and notify the your adapter by follow code:</p>\n\n<pre><code>checkBox.setOnCheckedChangeListener { buttonView, isChecked -&gt;\n      if (isChecked) {\n             data.isChecked = true\n             listOfData.forEach {\n                    if (!it.equals(data)) it.isChecked = false\n             }\n             notifyDataSetChanged()\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 0, "accepted_answer_id": 50703708, "answer_count": 1, "score": 0, "last_activity_date": 1528212207, "creation_date": 1528209372, "question_id": 50702758, "link": "https://stackoverflow.com/questions/50702758/kotlinradio-button-single-check-control", "title": "kotlin:Radio button single check control", "body": "<p>i have a simple app that started with RecyclerView fragment and every row have RadioButton but the problem is i cant make only one radio button checked i need it if i check ont after one the old one uncheck automatic \nhere is my adapter </p>\n\n<pre><code>class StoresAdapter constructor(private val activety: MainActivity, private var listOfData: ArrayList&lt;StoresModeling&gt;,\n                            val listener: ContentListener) : RecyclerView.Adapter&lt;StoresAdapter.ViewHolder&gt;() {\n\n\n\noverride fun getItemCount(): Int = listOfData.size\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    //var inf = ViewHolder(LayoutInflater.from(parent!!.context).inflate(R.layout.min_mark_modling, parent, false))\n\n    return ViewHolder(LayoutInflater.from(parent!!.context).inflate(R.layout.stores_tick, parent, false),getItemViewType(transition_position))\n\n}\nvar selectedPosition:Int = 0\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.bind(listOfData[position], listener, listOfData)\n\n}\n\ninner class ViewHolder(itemView: View?,position: Int) : RecyclerView.ViewHolder(itemView) {\n\n    fun bind(Data: StoresModeling, listener: ContentListener, listOfData: ArrayList&lt;StoresModeling&gt;) {\n\n        val dataListin2 = listOfData[adapterPosition]\n\n        var titlein = dataListin2.title\n        var cityin = dataListin2.city\n        var codein = dataListin2.code\n\n\n        itemView.title.text = titlein\n        itemView.city.text = cityin\n        itemView.code.text = codein\n        /////// my radioButton /////\n        itemView.RB\n\n\n\n    }\n}\n\n\ninterface ContentListener {\n    fun onItemClicked(Data: StoresModeling) {\n\n\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "kotlin", "kotlin-extension", "extension-function"], "comments": [{"owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1528211168, "post_id": 50702478, "comment_id": 88416025, "body": "Can you write more about your use case? Then it&#39;s much easier to give any recommendations."}], "answers": [{"comments": [{"owner": {"reputation": 673, "user_id": 1861769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/as7Ol.jpg?s=128&g=1", "display_name": "JavierSA", "link": "https://stackoverflow.com/users/1861769/javiersa"}, "edited": false, "score": 0, "creation_date": 1528290314, "post_id": 50704884, "comment_id": 88450665, "body": "Oh, we can actually test them! This code compiles because the type of the function <code>{ int = &quot;blah&quot;.foo() }</code> is <code>SubClass1.() -&gt; Unit</code> and it works as if the block code was evaluated inside <code>SubClass1</code>, which is the receiver of the function. More info about receivers in Kotlin in <a href=\"https://stackoverflow.com/a/45875492/1861769\">stackoverflow.com/a/45875492/1861769</a>."}, {"owner": {"reputation": 219, "user_id": 10334519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dccca37f2ab2bd05a5a47d63d16032ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jevon", "link": "https://stackoverflow.com/users/10334519/jevon"}, "edited": false, "score": 0, "creation_date": 1596005186, "post_id": 50704884, "comment_id": 111666115, "body": "What if the override function has parameters? How would you include the parameters?"}], "tags": [], "owner": {"reputation": 196, "user_id": 9749048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWDus.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/9749048/david"}, "is_accepted": true, "score": 11, "last_activity_date": 1528216100, "creation_date": 1528216100, "answer_id": 50704884, "question_id": 50702478, "link": "https://stackoverflow.com/questions/50702478/testing-extension-functions-inside-classes/50704884#50704884", "title": "Testing extension functions inside classes", "body": "<p>Since tests should be written from the client's perspective, I'm not sure it would be a valid test. But I did come up with one way to test it.</p>\n\n<pre><code>@Test\nfun `test extension function`() {\n    var int = 0\n\n    SubClass1().apply {\n        int = \"blah\".foo()\n    }\n\n    assertThat(int, `is`(1))\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 673, "user_id": 1861769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/as7Ol.jpg?s=128&g=1", "display_name": "JavierSA", "link": "https://stackoverflow.com/users/1861769/javiersa"}, "edited": false, "score": 1, "creation_date": 1528290277, "post_id": 50715032, "comment_id": 88450636, "body": "Thanks for your answer and the references. To sum up, we shouldn&#39;t abuse extension functions."}], "tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": false, "score": 1, "last_activity_date": 1528272190, "last_edit_date": 1528272190, "creation_date": 1528271599, "answer_id": 50715032, "question_id": 50702478, "link": "https://stackoverflow.com/questions/50702478/testing-extension-functions-inside-classes/50715032#50715032", "title": "Testing extension functions inside classes", "body": "<p>Extension methods are great and they enable beautiful fluent syntax like that in LINQ, Android KTX.</p>\n\n<p>However, extension methods do not work well with subclassing. This is because extension are essentially <a href=\"https://stackoverflow.com/questions/1802380/are-extension-methods-an-object-oriented-feature-of-c#1802465\">non-object-oriented</a>. They resemble the static methods in Java that can be hidden but not overridden in subclasses. </p>\n\n<p>If you have some code you expect to change in a subclass, don't write an extension method as you will face the barriers to testing you have experienced yourself in your question and <a href=\"http://misko.hevery.com/2008/12/15/static-methods-are-death-to-testability/\" rel=\"nofollow noreferrer\">all of the disadvantages that static methods brings to testability</a>. </p>\n\n<p>There is absolutely nothing wrong with your first example and no good reason to insist on extension methods there:</p>\n\n<pre><code>abstract class AbstractClass&lt;T&gt; {\n    fun doStuff(): T = foo(\"Hello\")\n\n    abstract fun foo(string: String): T\n}\n\nclass SubClass1: AbstractClass&lt;Int&gt;() {\n    override fun foo(string: String): Int = 1\n}\n</code></pre>\n"}], "owner": {"reputation": 673, "user_id": 1861769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/as7Ol.jpg?s=128&g=1", "display_name": "JavierSA", "link": "https://stackoverflow.com/users/1861769/javiersa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2029, "favorite_count": 0, "accepted_answer_id": 50704884, "answer_count": 2, "score": 7, "last_activity_date": 1534547335, "creation_date": 1528208476, "last_edit_date": 1534547335, "question_id": 50702478, "link": "https://stackoverflow.com/questions/50702478/testing-extension-functions-inside-classes", "title": "Testing extension functions inside classes", "body": "<p>If we want to test an extension function on a type, we can create an instance of this type, call the function and check the returned value. But what about testing extension functions defined inside classes?</p>\n\n<pre><code>abstract class AbstractClass&lt;T&gt; {\n    fun doStuff(): T = \"Hello\".foo()\n\n    abstract fun String.foo(): T\n}\n\nclass SubClass1: AbstractClass&lt;Int&gt;() {\n    override fun String.foo(): Int = 1\n}\n\nclass SubClass2: AbstractClass&lt;Boolean&gt;() {\n    override fun String.foo(): Boolean = true\n}\n</code></pre>\n\n<p>How do we test the logic of the methods <code>foo()</code> in classes <code>SubClass1</code> and <code>SubClass2</code>? Is it even possible?</p>\n\n<p>I know I can change the design to test it. Two possibilities have occurred to me:</p>\n\n<ol>\n<li><p>Don't use extension functions. \u00af\\_(\u30c4)_/\u00af</p>\n\n<pre><code>abstract class AbstractClass&lt;T&gt; {\n    fun doStuff(): T = foo(\"Hello\")\n\n    abstract fun foo(string: String): T\n}\n\nclass SubClass1: AbstractClass&lt;Int&gt;() {\n    override fun foo(string: String): Int = 1\n}\n</code></pre>\n\n<p>Then we can create an object <code>SubClass1</code>, call <code>foo()</code> and check the returned value.</p></li>\n<li><p>Create additional extension functions with <code>internal</code> visibility just to test the logic.</p>\n\n<pre><code>class SubClass1: AbstractClass&lt;Int&gt;() {\n    override fun String.foo(): Int = internalFoo()\n}\n\ninternal fun String.internalFoo(): Int = 1\n</code></pre>\n\n<p>Then we can create an object <code>String</code>, call <code>internalFoo()</code> and check the returned value. However, I don't like this solution because we could change the body of <code>override fun String.foo(): Int</code> and our test would pass.</p></li>\n</ol>\n\n<p>So, <strong>is it possible to test extension functions inside classes</strong>? If not, how would you change your design in order to test their logic?</p>\n"}, {"tags": ["functional-programming", "kotlin", "list-comprehension", "arrow-kt"], "answers": [{"comments": [{"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1528497975, "post_id": 50744517, "comment_id": 88546090, "body": "Nice question and answer here!"}, {"owner": {"reputation": 16905, "user_id": 1266326, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dcbc6c3587f5c62e877500ac4061b8b1?s=128&d=identicon&r=PG&f=1", "display_name": "MLProgrammer-CiM", "link": "https://stackoverflow.com/users/1266326/mlprogrammer-cim"}, "edited": false, "score": 0, "creation_date": 1533653365, "post_id": 50744517, "comment_id": 90420056, "body": "We should be shipping soonish"}], "tags": [], "owner": {"reputation": 196, "user_id": 9749048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWDus.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/9749048/david"}, "is_accepted": true, "score": 2, "last_activity_date": 1534780435, "last_edit_date": 1534780435, "creation_date": 1528383813, "answer_id": 50744517, "question_id": 50702402, "link": "https://stackoverflow.com/questions/50702402/classcastexception-when-using-arrow-kts-list-comprehension/50744517#50744517", "title": "ClassCastException when using arrow-kt&#39;s list comprehension", "body": "<p>According to <a href=\"https://github.com/pakoito\" rel=\"nofollow noreferrer\">pacoito</a>, this is a known issue with Arrow that should be resolved with Arrow 0.7.4:</p>\n\n<p><a href=\"https://github.com/arrow-kt/arrow/issues/834\" rel=\"nofollow noreferrer\">ClassCastException when using state transformer with ListK #834</a></p>\n\n<p>Update: This was fixed in version 0.7.3.</p>\n"}], "owner": {"reputation": 196, "user_id": 9749048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KWDus.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/9749048/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 50744517, "answer_count": 1, "score": 1, "last_activity_date": 1534780435, "creation_date": 1528208238, "last_edit_date": 1528209063, "question_id": 50702402, "link": "https://stackoverflow.com/questions/50702402/classcastexception-when-using-arrow-kts-list-comprehension", "title": "ClassCastException when using arrow-kt&#39;s list comprehension", "body": "<p>I am trying to use a list comprehension with a guard in Kotlin. When I run the following code, I get a <code>ClassCastException</code> where none seems to be relevant.</p>\n\n<pre><code>data class CharWrapper(val value: Char)\n\n@Test\nfun `isolate bug`() {\n    val wrappedChars = listOf(CharWrapper('Y'), CharWrapper('K'))\n    val chars = listOf('Y')\n\n    val result: List&lt;Pair&lt;Char, CharWrapper&gt;&gt; = ListK.monadFilter().bindingFilter {\n        val wrappedChar = wrappedChars.k().bind()\n        val char = chars.k().bindWithFilter { it == wrappedChar.value }\n        char to wrappedChar\n    }.fix().list\n\n    assertThat(result, hasItem('Y' to CharWrapper('Y')))\n}\n</code></pre>\n\n<p>This is the stacktrace:</p>\n\n<pre><code>java.lang.ClassCastException: ArrowTest$CharWrapper cannot be cast to arrow.mtl.typeclasses.MonadFilterContinuation\n\nat ArrowTest$isolate bug$result$1.doResume(ArrowTest.kt:20)\nat kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:54)\nat arrow.typeclasses.MonadContinuation$bind$$inlined$suspendCoroutineOrReturn$lambda$1.invoke(MonadContinuations.kt:59)\nat arrow.typeclasses.MonadContinuation$bind$$inlined$suspendCoroutineOrReturn$lambda$1.invoke(MonadContinuations.kt:14)\n</code></pre>\n\n<p>Line 20 is the one that begins <code>val result</code>.</p>\n\n<p>How can I get this comprehension to work?</p>\n\n<p>I am using Kotlin 1.2.41 and Arrow-Kt 0.7.2 on Java 1.8.0_131.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-viewpager", "viewmodel"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1528223123, "post_id": 50702007, "comment_id": 88422430, "body": "see <code>ViewModel Overview</code>, section: <code>Share data between fragments</code>"}, {"owner": {"reputation": 59, "user_id": 7496611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YkyRG.jpg?s=128&g=1", "display_name": "Ismail ackerboy", "link": "https://stackoverflow.com/users/7496611/ismail-ackerboy"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1528237638, "post_id": 50702007, "comment_id": 88428616, "body": "thanks man you help me a lot"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1528250287, "post_id": 50702007, "comment_id": 88431403, "body": "sure, you are welcome"}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 7496611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YkyRG.jpg?s=128&g=1", "display_name": "Ismail ackerboy", "link": "https://stackoverflow.com/users/7496611/ismail-ackerboy"}, "is_accepted": true, "score": 1, "last_activity_date": 1528237861, "creation_date": 1528237861, "answer_id": 50709837, "question_id": 50702007, "link": "https://stackoverflow.com/questions/50702007/communicating-with-other-fragments-using-viewmodal/50709837#50709837", "title": "Communicating with Other Fragments using viewModal", "body": "<p>ok I find it here in the documents\n<a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">viewModal overview</a>\n    3rd section: Share data between fragments</p>\n"}], "owner": {"reputation": 59, "user_id": 7496611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YkyRG.jpg?s=128&g=1", "display_name": "Ismail ackerboy", "link": "https://stackoverflow.com/users/7496611/ismail-ackerboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 50709837, "answer_count": 1, "score": -2, "last_activity_date": 1528237861, "creation_date": 1528207132, "question_id": 50702007, "link": "https://stackoverflow.com/questions/50702007/communicating-with-other-fragments-using-viewmodal", "title": "Communicating with Other Fragments using viewModal", "body": "<p>I'm using FragmentPagerAdapter and i want to pass data between fragment activity so after i google it I find this in docs but I don't know how to do it \nfrom <a href=\"https://developer.android.com/training/basics/fragments/communicating\" rel=\"nofollow noreferrer\">Docs</a></p>\n\n<blockquote>\n  <p>Often you will want one Fragment to communicate with another, for example to change the content based on a user event. All Fragment-to-Fragment communication is done either through a shared ViewModel or through the associated Activity. Two Fragments should never communicate directly.</p>\n</blockquote>\n\n<p>please if you know a better way it will be better \nits the same java or Kotlin but I prefer Kotlin\nthanks in advance.</p>\n"}, {"tags": ["java", "android", "functional-programming", "kotlin", "higher-order-functions"], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528210140, "post_id": 50702429, "comment_id": 88415350, "body": "Didn&#39;t understand really. if there is only single method, then how does this work differently? I&#39;m not really a functional programmer. Can you please explain in detail?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1528211976, "post_id": 50702429, "comment_id": 88416564, "body": "You don&#39;t need to be a functional programmer for this, you just need to know how lambda expressions work - either in Kotlin or in Java"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528218930, "post_id": 50702429, "comment_id": 88420436, "body": "I tried to make it even more explicit in the updated answer."}, {"owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528292932, "post_id": 50702429, "comment_id": 88452557, "body": "ok, so, if you specify with braces, then does it return the click listener?"}, {"owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528292997, "post_id": 50702429, "comment_id": 88452611, "body": "and is there any explanation about inline?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528351700, "post_id": 50702429, "comment_id": 88475743, "body": "<code>inline</code> doesn&#39;t change any semantics. The function&#39;s return value doesn&#39;t change."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528352169, "post_id": 50702429, "comment_id": 88475972, "body": "<code>if you specify with braces</code>---specify <i>what</i> with braces? In my answer I deal with the case where you specify the entire listener within a pair of braces and discuss its meaning."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1528355122, "last_edit_date": 1528355122, "creation_date": 1528208320, "answer_id": 50702429, "question_id": 50701778, "link": "https://stackoverflow.com/questions/50701778/weird-behaviour-of-higher-order-functions-and-sam-conversion-in-kotlin/50702429#50702429", "title": "Weird behaviour of higher order functions and SAM conversion in Kotlin", "body": "<pre><code>view.setOnClickListener {modifiedClick { login() }}\n</code></pre>\n\n<p>Here you wrote a shorthand for this (I'm paraphrasing the type/function names):</p>\n\n<pre><code>view.setOnClickListener(object : OnClickListener() {\n    override fun onClick(e: ClickEvent) {\n        modifiedClick { login() }\n    }\n})\n</code></pre>\n\n<p>It's a listener that, on click, calls your <code>modifiedClick</code> method, which creates and returns the modified listener. The listener it returns is simply ignored and no observable effect happens.</p>\n\n<p>As opposed to that, when you wrote</p>\n\n<pre><code>view.setOnClickListener(modifiedClick { login() })\n</code></pre>\n\n<p>you simply called <code>modifiedClick { login() }</code> and passed its return value to <code>setOnClickListener</code> &mdash; which is what you wanted to do.</p>\n"}], "owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528355122, "creation_date": 1528206513, "question_id": 50701778, "link": "https://stackoverflow.com/questions/50701778/weird-behaviour-of-higher-order-functions-and-sam-conversion-in-kotlin", "title": "Weird behaviour of higher order functions and SAM conversion in Kotlin", "body": "<p>This question relates to my previous question : <a href=\"https://stackoverflow.com/questions/50693148\">Modifying an anonymous function to invoke another anonymous function in Kotlin</a></p>\n\n<p>I wrote a function that will modify the click listener as given in the answers:</p>\n\n<pre><code>fun modifiedClick( onClick: (View) -&gt; Unit): (View) -&gt; Unit {\n        return {\n            //hide keyboard and invoke click only if there is a gap between frequent clicks\n            hideKeyBoard(it)\n            if (!isClickDisabled) {\n                onClick(it)\n            }\n        }\n    }\n</code></pre>\n\n<p>Now if I call it like below:</p>\n\n<pre><code>view.setOnClickListener {modifiedClick { login() }}\n</code></pre>\n\n<p>It does not invoke <code>login()</code></p>\n\n<p>But If I change SAM conversion to normal like below:</p>\n\n<pre><code>view.setOnClickListener (modifiedClick { login() })\n</code></pre>\n\n<p>It works!</p>\n\n<p>Also, if I inline the function like below:</p>\n\n<pre><code>inline fun modifiedClick(crossline onClick: (View) -&gt; Unit): (View) -&gt; Unit {\n            return {\n                //hide keyboard and invoke click only if there is a gap between frequent clicks\n                hideKeyBoard(it)\n                if (!isClickDisabled) {\n                    onClick(it)\n                }\n            }\n        }\n</code></pre>\n\n<p>and call like below:</p>\n\n<pre><code>view.setOnClickListener {modifiedClick { login() }}\n</code></pre>\n\n<p>It isn't even invoking <code>modifiedClick</code>.</p>\n\n<p>Changing it to </p>\n\n<pre><code>view.setOnClickListener (modifiedClick { login() })\n</code></pre>\n\n<p>is invoking both <code>modifiedClick()</code> and then <code>login()</code> functions.</p>\n\n<p>Can anyone help me to understand what's going on?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4816585, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4h05RwDp4Cc/AAAAAAAAAAI/AAAAAAAATBQ/o1svuTVbxyE/photo.jpg?sz=128", "display_name": "androidas", "link": "https://stackoverflow.com/users/4816585/androidas"}, "edited": false, "score": 0, "creation_date": 1528198568, "post_id": 50698904, "comment_id": 88407325, "body": "Wow, thank you. Any idea as to why it doesn&#39;t reset when calling directly?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 0, "last_activity_date": 1528198420, "last_edit_date": 1528198420, "creation_date": 1528197880, "answer_id": 50698904, "question_id": 50698402, "link": "https://stackoverflow.com/questions/50698402/calendarview-doesnt-reset-after-getdate/50698904#50698904", "title": "CalendarView doesn&#39;t reset after getDate()", "body": "<p>Add this declaration <code>var dateString: String = Date().toString()</code> before onCreate().</p>\n\n<p>Add this code in onCreate():</p>\n\n<pre><code>clvMain.setOnDateChangeListener { view, year, month, dayOfMonth -&gt;\n    dateString = \"$year/$month/$dayOfMonth\"\n}\n</code></pre>\n\n<p>and use dateString instead of (clvMain.date).toString()</p>\n"}], "owner": {"reputation": 15, "user_id": 4816585, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4h05RwDp4Cc/AAAAAAAAAAI/AAAAAAAATBQ/o1svuTVbxyE/photo.jpg?sz=128", "display_name": "androidas", "link": "https://stackoverflow.com/users/4816585/androidas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 50698904, "answer_count": 1, "score": 1, "last_activity_date": 1528198420, "creation_date": 1528196303, "last_edit_date": 1528196841, "question_id": 50698402, "link": "https://stackoverflow.com/questions/50698402/calendarview-doesnt-reset-after-getdate", "title": "CalendarView doesn&#39;t reset after getDate()", "body": "<p>I am trying to get the numerical value of a date out of a CalendarView, which should be possible by using <code>calendarView.date</code>. I have attached this function to a button that displays the <code>long calendarView.date</code> in a TextView. It works fine the first time I press the button but doesn't update the TextView when I select a new date and press the button again.</p>\n\n<p>Here's my MainActivity.kt:</p>\n\n<pre><code>package com.androidas.mindscape\n\nimport android.app.Activity\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.view.Menu\nimport android.view.MenuItem\nimport android.view.View\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    setSupportActionBar(findViewById(R.id.tlbMain))\n}\n\noverride fun onCreateOptionsMenu(menu:Menu):Boolean {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    menuInflater.inflate(R.menu.toolmenu, menu)\n    return true\n}\n\noverride fun onOptionsItemSelected(item: MenuItem) = when (item.itemId) {\n\n    R.id.actAdd -&gt; {\n        textView2.text = \"reset\" //my idea was to reset the text first, but this didn't work.\n        textView2.text = (clvMain.date).toString()\n        true\n    }\n\n    R.id.actPersonalities -&gt; {\n        // User chose the \"Favorite\" action, mark the current item\n        // as a favorite...\n        true\n    }\n\n    R.id.actList -&gt; {\n\n        true\n    }\n\n    else -&gt; {\n        // If we got here, the user's action was not recognized.\n        // Invoke the superclass to handle it.\n        super.onOptionsItemSelected(item)\n    }\n}\n\n}\n</code></pre>\n\n<p>Where <code>R.id.actAdd</code> is an item in the overflow menu of the action bar.</p>\n\n<p>The way I see it, the TextView should update with the newly selected date as soon as I press the button. Any ideas? Maybe it's simple, but I can't figure it out.\nCheers!</p>\n"}, {"tags": ["android", "kotlin", "navigation-drawer", "android-architecture-components"], "comments": [{"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1528257008, "post_id": 50697982, "comment_id": 88432766, "body": "can you please add the code"}], "answers": [{"comments": [{"owner": {"reputation": 433, "user_id": 2113042, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/068470cd06daf9e361b59fe72faa450a?s=128&d=identicon&r=PG", "display_name": "TeKo", "link": "https://stackoverflow.com/users/2113042/teko"}, "edited": false, "score": 0, "creation_date": 1528348534, "post_id": 50702290, "comment_id": 88474492, "body": "Im using setupWithNavController. (Added the code above)"}], "tags": [], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "is_accepted": false, "score": 0, "last_activity_date": 1528207913, "creation_date": 1528207913, "answer_id": 50702290, "question_id": 50697982, "link": "https://stackoverflow.com/questions/50697982/nav-drawer-with-navigation-items-and-normal-items/50702290#50702290", "title": "Nav Drawer with Navigation Items and normal Items", "body": "<p><strong>You don't puted your code here, for this, I presume that</strong> you have an implementation of <code>NavigationItemSelectedListener</code> on your <code>Activity</code>. If yes, try pass the listener on your <code>navView</code> as follow:</p>\n\n<p>instead it:</p>\n\n<pre><code>    navigationView.setNavigationItemSelectedListener(this);\n</code></pre>\n\n<p>try it:</p>\n\n<pre><code>    navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            //use just itens that \"navigate\"\n            return false;\n        }\n    });\n</code></pre>\n\n<p>Try update your ask with some code</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5219690, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W_m5_wP2cxo/AAAAAAAAAAI/AAAAAAAAA_U/s4e6YYnoxdM/photo.jpg?sz=128", "display_name": "ni032mas", "link": "https://stackoverflow.com/users/5219690/ni032mas"}, "is_accepted": false, "score": 0, "last_activity_date": 1530338641, "creation_date": 1530338641, "answer_id": 51112204, "question_id": 50697982, "link": "https://stackoverflow.com/questions/50697982/nav-drawer-with-navigation-items-and-normal-items/51112204#51112204", "title": "Nav Drawer with Navigation Items and normal Items", "body": "<p>I have same problem. I use <code>navigationView.menu.getItem(3).setOnMenuItemClickListener</code> or <code>navigationView.menu.findItem(R.id.action_delete_and_load).setOnMenuItemClickListener</code></p>\n"}, {"tags": [], "owner": {"reputation": 1391, "user_id": 4308897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X67wO4XjVAE/AAAAAAAAAAI/AAAAAAAAADw/NacwJv67gHI/photo.jpg?sz=128", "display_name": "Ercan", "link": "https://stackoverflow.com/users/4308897/ercan"}, "is_accepted": false, "score": 1, "last_activity_date": 1574770061, "creation_date": 1574770061, "answer_id": 59050649, "question_id": 50697982, "link": "https://stackoverflow.com/questions/50697982/nav-drawer-with-navigation-items-and-normal-items/59050649#59050649", "title": "Nav Drawer with Navigation Items and normal Items", "body": "<p>If you want to add an item with action but without layout, you can add your item to <strong>activity_main_drawer.xml</strong> file as below.</p>\n\n<pre><code>     &lt;item android:id=\"@+id/nav_test\"\n            android:icon=\"@drawable/ic_menu_test\"\n            android:title=\"Test\" /&gt;\n</code></pre>\n\n<p>and in <strong>MainActivity.kt</strong> you can find item based on its id and set clickListener</p>\n\n<pre><code> navView.menu.findItem(R.id.nav_test).setOnMenuItemClickListener {\n            Log.d(\"MainActivity\", \"nav test clicked\")\n            return@setOnMenuItemClickListener true\n        }\n</code></pre>\n\n<p>PS: Do not need to add the action/layout or item to <strong>mobile_navigation.xml</strong> file.</p>\n\n<p>Happy coding :)</p>\n"}], "owner": {"reputation": 433, "user_id": 2113042, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/068470cd06daf9e361b59fe72faa450a?s=128&d=identicon&r=PG", "display_name": "TeKo", "link": "https://stackoverflow.com/users/2113042/teko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1574770061, "creation_date": 1528194971, "last_edit_date": 1528350022, "question_id": 50697982, "link": "https://stackoverflow.com/questions/50697982/nav-drawer-with-navigation-items-and-normal-items", "title": "Nav Drawer with Navigation Items and normal Items", "body": "<p>I have a Nav Drawer with a few items that I use with the new Navigation Architecture Component to navigate to different fragments.\nNow I have one item that should trigger an action (no navigation) but since the NavigationUI is already using the NavigationItemSelectedListener I can't add a second one.</p>\n\n<pre><code>NavigationUI.setupWithNavController(navView, findNavController(navHostFragment))\n</code></pre>\n\n<p>How can I handle the click of items that dont \"navigate\".</p>\n\n<p>This seems to work without breaking the navigation:</p>\n\n<pre><code>navView.menu[3].setOnMenuItemClickListener\n</code></pre>\n"}, {"tags": ["android", "kotlin", "realm", "realm-mobile-platform", "realm-list"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528194043, "post_id": 50697595, "comment_id": 88404416, "body": "Realm 3.x, 4.x or 5.x?"}, {"owner": {"reputation": 1330, "user_id": 5322236, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VaFGf.jpg?s=128&g=1", "display_name": "Kyryl Zotov", "link": "https://stackoverflow.com/users/5322236/kyryl-zotov"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1528194261, "post_id": 50697595, "comment_id": 88404574, "body": "@EpicPandaForce classpath &quot;io.realm:realm-gradle-plugin:4.3.1&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1330, "user_id": 5322236, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VaFGf.jpg?s=128&g=1", "display_name": "Kyryl Zotov", "link": "https://stackoverflow.com/users/5322236/kyryl-zotov"}, "edited": false, "score": 1, "creation_date": 1528195046, "post_id": 50697758, "comment_id": 88405049, "body": "Maybe some solution to handle it not in ViewHolder but in this particular onChange listener?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 1330, "user_id": 5322236, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VaFGf.jpg?s=128&g=1", "display_name": "Kyryl Zotov", "link": "https://stackoverflow.com/users/5322236/kyryl-zotov"}, "edited": false, "score": 2, "creation_date": 1528195268, "post_id": 50697758, "comment_id": 88405180, "body": "No, I&#39;m pretty sure there is no reliable way to do that. It might also make sense to remove/add the object change listener in <code>onViewDetachedFromWindow</code> and <code>onViewAttachedToWindow</code> in ViewHolder."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 3, "last_activity_date": 1528195175, "last_edit_date": 1528195175, "creation_date": 1528194169, "answer_id": 50697758, "question_id": 50697595, "link": "https://stackoverflow.com/questions/50697595/determine-realm-changeset-fields/50697758#50697758", "title": "Determine realm changeSet fields", "body": "<p>You can refer to the official <code>realm-android-adapters</code> to know how to put it together:</p>\n\n<pre><code>private OrderedRealmCollectionChangeListener createListener() {\n    return new OrderedRealmCollectionChangeListener() {\n        @Override\n        public void onChange(Object collection, OrderedCollectionChangeSet changeSet) {\n            if (changeSet.getState() == OrderedCollectionChangeSet.State.INITIAL) { // before Realm 5.0, this is `changeSet == null`\n                notifyDataSetChanged();\n                return;\n            }\n            // For deletions, the adapter has to be notified in reverse order.\n            OrderedCollectionChangeSet.Range[] deletions = changeSet.getDeletionRanges();\n            for (int i = deletions.length - 1; i &gt;= 0; i--) {\n                OrderedCollectionChangeSet.Range range = deletions[i];\n                notifyItemRangeRemoved(range.startIndex, range.length);\n            }\n\n            OrderedCollectionChangeSet.Range[] insertions = changeSet.getInsertionRanges();\n            for (OrderedCollectionChangeSet.Range range : insertions) {\n                notifyItemRangeInserted(range.startIndex, range.length);\n            }\n\n            if (!updateOnModification) {\n                return;\n            }\n\n            OrderedCollectionChangeSet.Range[] modifications = changeSet.getChangeRanges();\n            for (OrderedCollectionChangeSet.Range range : modifications) {\n                notifyItemRangeChanged(range.startIndex, range.length);\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>If you need Field-level changes, then the RealmObject needs to have its own change listener using <code>RealmObjectChangeListener</code>, and <code>updateOnModification</code> should be false (as you want to handle it in the view holder itself).</p>\n"}], "owner": {"reputation": 1330, "user_id": 5322236, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/VaFGf.jpg?s=128&g=1", "display_name": "Kyryl Zotov", "link": "https://stackoverflow.com/users/5322236/kyryl-zotov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 1, "accepted_answer_id": 50697758, "answer_count": 1, "score": 1, "last_activity_date": 1528195175, "creation_date": 1528193684, "question_id": 50697595, "link": "https://stackoverflow.com/questions/50697595/determine-realm-changeset-fields", "title": "Determine realm changeSet fields", "body": "<p>How to determine what fields changed at RealmObject update with the basic realm adapter listener approach?</p>\n\n<p>Need do have both ranges info and changed entity fields info.</p>\n\n<pre><code>fun notifyRecyclerViewOfChanges(changeSet: ChangeSet?) { \n   // ?\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1528188609, "post_id": 50695093, "comment_id": 88401061, "body": "I don&#39;t understand. Can you get some examples?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528191354, "post_id": 50695093, "comment_id": 88402728, "body": "You want what you&#39;ve shown, but without the help of the <code>Expr</code> type. Right?"}, {"owner": {"reputation": 5197, "user_id": 425524, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f78bf316efbcd18d09ec3761fcc17226?s=128&d=identicon&r=PG", "display_name": "canni", "link": "https://stackoverflow.com/users/425524/canni"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528191768, "post_id": 50695093, "comment_id": 88403006, "body": "@MarkoTopolnik I want to achieve similar behaviour, the example code doesn&#39;t compile"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528192270, "post_id": 50695093, "comment_id": 88403343, "body": "Your question misses that entire part, the problem statement. From all I can see, you&#39;re fine with the code you have."}, {"owner": {"reputation": 5197, "user_id": 425524, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f78bf316efbcd18d09ec3761fcc17226?s=128&d=identicon&r=PG", "display_name": "canni", "link": "https://stackoverflow.com/users/425524/canni"}, "edited": false, "score": 0, "creation_date": 1528196418, "post_id": 50695093, "comment_id": 88405972, "body": "Yeah if it only compile :)"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1528201102, "post_id": 50695093, "comment_id": 88409094, "body": "Your problem is not &quot;how to differentiate null from omitted parameter&quot; -- you got that part sorted out already. Your problem is adjusting this to make it compile. So you&#39;re entirely missing the actual problem statement."}], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 0, "last_activity_date": 1528196529, "creation_date": 1528196529, "answer_id": 50698470, "question_id": 50695093, "link": "https://stackoverflow.com/questions/50695093/how-to-differentiate-explicit-null-from-omitted-parameter/50698470#50698470", "title": "How to differentiate explicit null from omitted parameter", "body": "<p>What you can do it, not using <code>null</code>, but a custom private instance like:</p>\n\n<pre><code>/* inside a class */\nprivate val EMPTY = Expr()\nfun filter(v1: Expr&lt;Int&gt;? = EMPTY, v2: Expr&lt;String&gt;? = EMPTY): Collection&lt;T&gt; {\n    if (v1 === EMPTY) {\n        // parameter not defined by user\n    } else {\n        // parameter defined by user\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5197, "user_id": 425524, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f78bf316efbcd18d09ec3761fcc17226?s=128&d=identicon&r=PG", "display_name": "canni", "link": "https://stackoverflow.com/users/425524/canni"}, "edited": false, "score": 0, "creation_date": 1528202506, "post_id": 50698760, "comment_id": 88409951, "body": "Thanks! that led me to what I wanted to achieve, see edited question"}], "tags": [], "owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "is_accepted": true, "score": 0, "last_activity_date": 1528197438, "creation_date": 1528197438, "answer_id": 50698760, "question_id": 50695093, "link": "https://stackoverflow.com/questions/50695093/how-to-differentiate-explicit-null-from-omitted-parameter/50698760#50698760", "title": "How to differentiate explicit null from omitted parameter", "body": "<p>There are a few issues with provided code, mainly with generics. But I think that what was your main point of the questions was <strong>exhaustive <code>when</code></strong>. If you want to match by type you write </p>\n\n<ul>\n<li><code>is SomeClass</code> for classes</li>\n<li><code>Object</code> for objects</li>\n<li><code>null</code> for null</li>\n</ul>\n\n<p>So your <code>when</code> should look like this:</p>\n\n<pre><code>when (v1) {\n    is HasValue&lt;*&gt; -&gt; /* Filter collection elements that have some attr set to given value */\n    IsNull -&gt; /* filter collection elements that have some attr set to null */\n    null -&gt; /* do nothing, return all elements */\n}\n</code></pre>\n\n<p>and the whole code:</p>\n\n<pre><code>sealed class Expr {\n    data class HasValue&lt;out T&gt;(val value: T) : Expr()\n    object IsNull: Expr()\n}\n\nprivate fun &lt;T&gt; filter(v1: Expr? = null, v2: Expr? = null): Collection&lt;T&gt; {\n    when (v1) {\n        is HasValue&lt;*&gt; -&gt; /* Filter collection elements that have some attr set to given value */\n        IsNull -&gt; /* filter collection elements that have some attr set to null */\n        null -&gt; /* do nothing, return all elements */\n    }\n    // matching with v2\n}\n\n/* call site */\nfilter&lt;Int&gt;(v1=IsNull, v2=HasValue(\"string\"))\n</code></pre>\n"}], "owner": {"reputation": 5197, "user_id": 425524, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f78bf316efbcd18d09ec3761fcc17226?s=128&d=identicon&r=PG", "display_name": "canni", "link": "https://stackoverflow.com/users/425524/canni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 50698760, "answer_count": 2, "score": 0, "last_activity_date": 1528202474, "creation_date": 1528185749, "last_edit_date": 1528202474, "question_id": 50695093, "link": "https://stackoverflow.com/questions/50695093/how-to-differentiate-explicit-null-from-omitted-parameter", "title": "How to differentiate explicit null from omitted parameter", "body": "<p>I'd like to achieve something like this, basically differentiate from omitted parameter from explicitly set as <code>null</code>:</p>\n\n<pre><code>sealed class Expr\ndata class HasValue&lt;out T&gt;(val value: T)\nobject IsNull: Expr()\n\n/* inside a class */\nfun filter(v1: Expr&lt;Int&gt;? = null, v2: Expr&lt;String&gt;? = null): Collection&lt;T&gt; {\n    when (v1) {\n        is HasValue -&gt; /* Filter collection elements that have some attr set to given value */\n        is IsNull -&gt; /* filter collection elements that have some attr set to null */\n        is null -&gt; /* do nothing, return all elements */\n    }\n\n    when (v2) /* so on */\n}\n\n/* call site */\nmyObj.filter(v1=IsNull&lt;Int&gt;(), v2=HasValue&lt;String&gt;(\"string\"))\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Working solution:</p>\n\n<pre><code>sealed class Expr&lt;out T&gt; {\n    abstract val value: T?\n}\ndata class WithValue&lt;out T&gt;(override val value: T?) : Expr&lt;T&gt;()\n\n/* usage */\nfun filter(v1: Expr&lt;Int&gt;? = null) {\n    when (v1) {\n        is WithValue -&gt; println(if ((v1.value ?: 0) &gt; 10) \"10 and above\" else \"less\") /* Type safe, explicit null handling */\n        null -&gt; println(\"isNull\") /* parameter was omitted */\n    }\n}\nfilter(WithValue&lt;Int&gt;(null)) /* will match explicit null elements */\nfilter() /* will ignore v1 from filtering */\n</code></pre>\n"}, {"tags": ["android", "kotlin", "obfuscation"], "comments": [{"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1528184691, "post_id": 50694580, "comment_id": 88398783, "body": "Did you check <a href=\"https://stackoverflow.com/questions/33547643/how-to-use-kotlin-with-proguard\">this question</a>"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1528199225, "post_id": 50694580, "comment_id": 88407757, "body": "Proguard might remove the kotlin meta data. The class name should not matter."}], "owner": {"reputation": 11, "user_id": 9896091, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216178206473713/picture?type=large", "display_name": "Islam Mohamady", "link": "https://stackoverflow.com/users/9896091/islam-mohamady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 552, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528184128, "creation_date": 1528184128, "question_id": 50694580, "link": "https://stackoverflow.com/questions/50694580/inner-companion-object-is-renamed-on-obfuscation-and-it-is-not-accessible-from-o", "title": "Inner companion object is renamed on obfuscation and it is not accessible from other modules", "body": "<p>When obfuscating kotlin module the inner companion objects are renamed and are not accessible from other module though in mapping file i can see that the output object has the same name as the original one</p>\n\n<p><code>com.test.example.OuterClass$Configuration -&gt; com.test.example.OuterClass$Configuration:\n</code></p>\n"}, {"tags": ["spring", "postgresql", "spring-boot", "kotlin", "spring-data"], "comments": [{"owner": {"reputation": 928, "user_id": 446029, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/636935bc46cca1aa96ee8aefa540dac9?s=128&d=identicon&r=PG", "display_name": "Kuldeep Singh", "link": "https://stackoverflow.com/users/446029/kuldeep-singh"}, "edited": false, "score": 0, "creation_date": 1528183999, "post_id": 50694467, "comment_id": 88398382, "body": "Have you tried without adding quotes around &#39;?1&#39; and &#39;?2&#39; ? Did it work that way or show some different error?"}, {"owner": {"reputation": 189, "user_id": 8525484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11baa9f11c5e6d8f80bc82c3e704428?s=128&d=identicon&r=PG&f=1", "display_name": "Noah13", "link": "https://stackoverflow.com/users/8525484/noah13"}, "reply_to_user": {"reputation": 928, "user_id": 446029, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/636935bc46cca1aa96ee8aefa540dac9?s=128&d=identicon&r=PG", "display_name": "Kuldeep Singh", "link": "https://stackoverflow.com/users/446029/kuldeep-singh"}, "edited": false, "score": 0, "creation_date": 1528184901, "post_id": 50694467, "comment_id": 88398913, "body": "@KuldeepSidhu yes I did  but single quote are necessary; this is the error I get : <code>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;created_at&quot;   Position: 132</code>"}, {"owner": {"reputation": 20034, "user_id": 5380322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-6cs1r0Ov08I/AAAAAAAAAAI/AAAAAAAACBI/rQyZyFwtZmE/photo.jpg?sz=128", "display_name": "Cepr0", "link": "https://stackoverflow.com/users/5380322/cepr0"}, "edited": false, "score": 0, "creation_date": 1528186237, "post_id": 50694467, "comment_id": 88399679, "body": "Did you try to use the query without any casting (&#39;::date&#39; etc)? And why do you use it??"}, {"owner": {"reputation": 189, "user_id": 8525484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11baa9f11c5e6d8f80bc82c3e704428?s=128&d=identicon&r=PG&f=1", "display_name": "Noah13", "link": "https://stackoverflow.com/users/8525484/noah13"}, "reply_to_user": {"reputation": 20034, "user_id": 5380322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-6cs1r0Ov08I/AAAAAAAAAAI/AAAAAAAACBI/rQyZyFwtZmE/photo.jpg?sz=128", "display_name": "Cepr0", "link": "https://stackoverflow.com/users/5380322/cepr0"}, "edited": false, "score": 0, "creation_date": 1528194833, "post_id": 50694467, "comment_id": 88404918, "body": "@Cepr0 that&#39;s postgres way of casting. I&#39;m using this query because it&#39;s the solution for my problem."}, {"owner": {"reputation": 20034, "user_id": 5380322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-6cs1r0Ov08I/AAAAAAAAAAI/AAAAAAAACBI/rQyZyFwtZmE/photo.jpg?sz=128", "display_name": "Cepr0", "link": "https://stackoverflow.com/users/5380322/cepr0"}, "edited": false, "score": 0, "creation_date": 1528194990, "post_id": 50694467, "comment_id": 88405016, "body": "I&#39;m also using postgres and use casting only for jsonb fields. Then did you try to exclude casting from this query?"}, {"owner": {"reputation": 189, "user_id": 8525484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11baa9f11c5e6d8f80bc82c3e704428?s=128&d=identicon&r=PG&f=1", "display_name": "Noah13", "link": "https://stackoverflow.com/users/8525484/noah13"}, "edited": false, "score": 0, "creation_date": 1528195133, "post_id": 50694467, "comment_id": 88405097, "body": "I need to show only date not timestamp that&#39;s why I&#39;m casting to date. the issue here is spring can&#39;t really detect paramters when they are inside single quote they aren&#39;t replaced by variable&#39;s values and are executed like a normal text &#39;?1&#39;"}, {"owner": {"reputation": 1437, "user_id": 3667825, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/1TH2L.jpg?s=128&g=1", "display_name": "Manas Pratim Chamuah", "link": "https://stackoverflow.com/users/3667825/manas-pratim-chamuah"}, "edited": false, "score": 0, "creation_date": 1575021597, "post_id": 50694467, "comment_id": 104437323, "body": "@Noah13 did you find a solution for this , I am facing the same issue"}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 8525484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11baa9f11c5e6d8f80bc82c3e704428?s=128&d=identicon&r=PG&f=1", "display_name": "Noah13", "link": "https://stackoverflow.com/users/8525484/noah13"}, "edited": false, "score": 0, "creation_date": 1528309168, "post_id": 50707988, "comment_id": 88462305, "body": "still ?1 and ?2 are not inside single quote this query won&#39;t work."}], "tags": [], "owner": {"reputation": 20034, "user_id": 5380322, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-6cs1r0Ov08I/AAAAAAAAAAI/AAAAAAAACBI/rQyZyFwtZmE/photo.jpg?sz=128", "display_name": "Cepr0", "link": "https://stackoverflow.com/users/5380322/cepr0"}, "is_accepted": false, "score": 2, "last_activity_date": 1528228616, "creation_date": 1528228616, "answer_id": 50707988, "question_id": 50694467, "link": "https://stackoverflow.com/questions/50694467/query-not-recognizing-parameters-if-they-are-inside-single-quote-in-spring-fram/50707988#50707988", "title": "@Query not recognizing parameters if they are inside single quote in Spring Framework", "body": "<p>Try to simply use the classic SQL <a href=\"https://www.w3schools.com/sql/func_sqlserver_cast.asp\" rel=\"nofollow noreferrer\">cast</a> function:</p>\n\n<pre><code>@Query(value = \"\" + \n    \"select \" +\n    \"  cast(a.created_at as date) as createdAt, \" +\n    \"  count(*) as quantity \" + \n    \"from \" + \n    \"  absence a \" + \n    \"where \" + \n    \"  cast(a.created_at as date) between ?1 and ?2 \" + \n    \"group \" + \n    \"  cast(a.created_at as date)\" + \n    \"\", nativeQuery = true)\nfun getAbsenceCount(beginDate: String, endDate: String): List&lt;AbsenceCount&gt;\n</code></pre>\n\n<p>where <code>AbsenceCount</code> is a projection like this (java):</p>\n\n<pre><code>public interface AbsenceCount {\n    LocalDate getCreatedAt();\n    Long getQuantity();\n}\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 8525484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11baa9f11c5e6d8f80bc82c3e704428?s=128&d=identicon&r=PG&f=1", "display_name": "Noah13", "link": "https://stackoverflow.com/users/8525484/noah13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1528228616, "creation_date": 1528183734, "question_id": 50694467, "link": "https://stackoverflow.com/questions/50694467/query-not-recognizing-parameters-if-they-are-inside-single-quote-in-spring-fram", "title": "@Query not recognizing parameters if they are inside single quote in Spring Framework", "body": "<p>I have a big problem with Spring Data in @Query.</p>\n\n<p>I have the following query : </p>\n\n<pre><code>SELECT created_at::DATE \"date\",\ncount(*)\nFROM\nabsence\nWHERE\ncreated_at::DATE between '2018-05-27' AND  '2018-05-31'\nGROUP BY created_at::DATE;\n</code></pre>\n\n<p>this query works in postgres without any problem now in spring to use it : </p>\n\n<pre><code>  @Query(\"SELECT created_at\\\\:\\\\:DATE \\\"date\\\",count(*) FROM absence \" +\n            \"WHERE created_at\\\\:\\\\:DATE between '?1' AND '?2' \" +\n            \"GROUP created_at\\\\:\\\\:DATE\", nativeQuery = true)\n    fun getAbsenceCount(beginDate: String,endDate: String): List&lt;AbsenceCount&gt;\n</code></pre>\n\n<p>This query doesn't work at all, the problem is that spring can't recognize the parather beginDate (?1) &amp; endDate (?2).\nI tried a lot of solution from stackoverflow like <a href=\"https://stackoverflow.com/questions/28955273/spring-boot-query-annotation-with-nativequery-doesnt-work-in-postgresql?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">solution</a> and <a href=\"https://stackoverflow.com/questions/30342298/how-to-set-query-parameters-with-single-quotes\">solution 2</a> but I can't get rid of this problem.\nI don't know if it's intented or it's a bug in spring.</p>\n"}, {"tags": ["android", "kotlin", "boolean"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1528184042, "post_id": 50694423, "comment_id": 88398407, "body": "Depends on what you wana return when arguments is null"}, {"owner": {"reputation": 551, "user_id": 5437001, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tyiBO.png?s=128&g=1", "display_name": "Laurens V", "link": "https://stackoverflow.com/users/5437001/laurens-v"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1528184250, "post_id": 50694423, "comment_id": 88398528, "body": "@Selvin A false boolean"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 3, "creation_date": 1528184307, "post_id": 50694423, "comment_id": 88398558, "body": "Then what stopping you from doing a null check and if it&#39;s true then return false and in other case return same value as you are returning now"}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 1, "creation_date": 1528184775, "post_id": 50694423, "comment_id": 88398838, "body": "Could you not do <code>arguments?.getBoolean(IS_LANDING_UPLOAD_PAGE, false) ?: false</code>"}, {"owner": {"reputation": 551, "user_id": 5437001, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tyiBO.png?s=128&g=1", "display_name": "Laurens V", "link": "https://stackoverflow.com/users/5437001/laurens-v"}, "reply_to_user": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1528185628, "post_id": 50694423, "comment_id": 88399308, "body": "Thanks! It works @DavidRawson"}], "answers": [{"tags": [], "owner": {"reputation": 19418, "user_id": 436938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72902e381169328186e2b089032aeee1?s=128&d=identicon&r=PG", "display_name": "Sergey Glotov", "link": "https://stackoverflow.com/users/436938/sergey-glotov"}, "is_accepted": true, "score": 3, "last_activity_date": 1528186623, "last_edit_date": 1528186623, "creation_date": 1528185384, "answer_id": 50694987, "question_id": 50694423, "link": "https://stackoverflow.com/questions/50694423/bundle-getboolean-null-object-reference/50694987#50694987", "title": "Bundle.getBoolean Null object reference", "body": "<p>Looks like <code>arguments</code> Bundle can be null. Check it for null and return what you need. </p>\n\n<pre><code>get() = arguments?.getBoolean(IS_LANDING_UPLOAD_PAGE, false) ?: false\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 5437001, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tyiBO.png?s=128&g=1", "display_name": "Laurens V", "link": "https://stackoverflow.com/users/5437001/laurens-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "accepted_answer_id": 50694987, "answer_count": 1, "score": 0, "last_activity_date": 1528186623, "creation_date": 1528183598, "question_id": 50694423, "link": "https://stackoverflow.com/questions/50694423/bundle-getboolean-null-object-reference", "title": "Bundle.getBoolean Null object reference", "body": "<p>I have this piece of code:</p>\n\n<pre><code>  override var shouldShowUpload: Boolean\n    get() = arguments.getBoolean(IS_LANDING_UPLOAD_PAGE, false)\n    set(value) {\n        value.let { arguments?.putBoolean(IS_LANDING_UPLOAD_PAGE, it) }\n    }\n</code></pre>\n\n<p>But I get this error:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.os.Bundle.getBoolean(java.lang.String, boolean)' on a null object reference\n</code></pre>\n\n<p>I don't want <code>shouldShowUpload</code> a nullable boolean. But what can I do to fix this?</p>\n"}, {"tags": ["android", "kotlin", "android-adapter"], "comments": [{"owner": {"reputation": 2402, "user_id": 4585226, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/881a0905a462b83fbb047fe96173c0ed?s=128&d=identicon&r=PG&f=1", "display_name": "476rick", "link": "https://stackoverflow.com/users/4585226/476rick"}, "edited": false, "score": 0, "creation_date": 1528183460, "post_id": 50694209, "comment_id": 88398073, "body": "Take a look at this: <a href=\"https://stackoverflow.com/a/45453125/4585226\">stackoverflow.com/a/45453125/4585226</a>. Add the adapter to the recyclerview: recyclerView.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)         recyclerView.adapter = obj_adapter"}, {"owner": {"reputation": 115, "user_id": 8632205, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/ea2cad04400c6bc74b6b14b2e3a6d3ed?s=128&d=identicon&r=PG&f=1", "display_name": "Degisim", "link": "https://stackoverflow.com/users/8632205/degisim"}, "reply_to_user": {"reputation": 2402, "user_id": 4585226, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/881a0905a462b83fbb047fe96173c0ed?s=128&d=identicon&r=PG&f=1", "display_name": "476rick", "link": "https://stackoverflow.com/users/4585226/476rick"}, "edited": false, "score": 0, "creation_date": 1528188855, "post_id": 50694209, "comment_id": 88401204, "body": "@476rick thanks for your reply.  I did not get any results"}], "answers": [{"tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": false, "score": 0, "last_activity_date": 1528189696, "creation_date": 1528189696, "answer_id": 50696282, "question_id": 50694209, "link": "https://stackoverflow.com/questions/50694209/cant-connect-an-adapter-to-a-function-in-the-fragment/50696282#50696282", "title": "Can&#39;t connect an adapter to a function in the fragment", "body": "<p>As I understand you want to modify fragments <code>RecyclerView</code> content in <code>onActivityResult</code> method. Right?</p>\n\n<p>And in your invocation you are looking for <code>RecyclerView</code> with id <code>R.id.ADISYONLISTESIRECYCLE</code> in your actvity - not in fragment. Guess here is your error:</p>\n\n<pre><code>activity?.findViewById&lt;RecyclerView&gt;(R.id.ADISYONLISTESIRECYCLE)...\n</code></pre>\n\n<p>May be fragment is not attached to activity at the moment, may be activity just can't find this id. Any way you need to search <code>RecyclerView</code> in fragments view.</p>\n"}], "owner": {"reputation": 115, "user_id": 8632205, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/ea2cad04400c6bc74b6b14b2e3a6d3ed?s=128&d=identicon&r=PG&f=1", "display_name": "Degisim", "link": "https://stackoverflow.com/users/8632205/degisim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528189696, "creation_date": 1528182890, "last_edit_date": 1528183331, "question_id": 50694209, "link": "https://stackoverflow.com/questions/50694209/cant-connect-an-adapter-to-a-function-in-the-fragment", "title": "Can&#39;t connect an adapter to a function in the fragment", "body": "<p>I select properties of a product that I log in from FragmentA in another activity. And I keep the FragmentA data when I close the activity. Then I can successfully send the function found in FragmentA to the function found in FragmentB. But I can not show it here with a RecycleView Adapter. It gives me this error <code>No adapter attached; skipping layout</code>\nI share my codes\nFragmentB is name 'MasaAdisyon'</p>\n\n<p><strong>FragmentA:</strong></p>\n\n<pre><code>var ADISYONLISTESI = ArrayList&lt;AdisyonListesiBilgileri&gt;()\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n        if(requestCode == 1){\n            var gecici = AdisyonListesiBilgileri(\n                    data?.extras!!.getDouble(\"MIKTAR\"),\n                    data?.extras!!.getDouble(\"PORSIYON\"),\n                    data?.extras!!.getSerializable(\"URUNANABILGILERI\") as UrunBilgileri,\n                    data?.extras!!.getSerializable(\"SECILENOZELLIKLER\") as ArrayList&lt;secilenOzellikler&gt;,\n                    data?.extras!!.getSerializable(\"OZELLIKLISTESI\") as ArrayList&lt;UrunOzellikBilgileri&gt;,\n                    0,\n                    0,\n                    null,\n                    null,\n                    null\n            )\n            ADISYONLISTESI.add(gecici)\n            var bundle = Bundle()\n            bundle.putSerializable(\"ADISYONLISTESI\",ADISYONLISTESI)\n            var masaAdisyon = MasaAdisyon()\n            masaAdisyon.arguments = bundle\n            var fragmentManager = getFragmentManager()\n            fragmentManager?.beginTransaction()?.replace(R.id.masaAdisyonFrame, MasaAdisyon())?.commit()\n            masaAdisyon.adisyonlariListele()\n\n        }\n}\n</code></pre>\n\n<p><strong>FragmentB</strong></p>\n\n<pre><code>class MasaAdisyon : Fragment() {\n\nvar IPADRES : String? = null\nvar FIYATTIPI : String? = null\nvar KASATIPI : String? = null\nvar adapter : MasaAdisyonListesiAdapter? = null\ncompanion object {\n    fun newInstance(IPADRES: String?, FIYATTIPI: String?, KASATIPI: String?): MasaAdisyon{\n        val fragment = MasaAdisyon()\n        var bundle = Bundle()\n        bundle.putString(\"IPADRES\",IPADRES)\n        bundle.putString(\"FIYATTIPI\",FIYATTIPI)\n        bundle.putString(\"KASATIPI\",KASATIPI)\n        fragment.arguments = bundle\n        return fragment\n    }\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_masa_adisyon, container, false)\n}\n\nvar activity : Activity? = null\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    activity = context as Activity\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    IPADRES = arguments?.getString(\"IPADRES\")\n    FIYATTIPI = arguments?.getString(\"FIYATTIPI\")\n    KASATIPI = arguments?.getString(\"KASATIPI\")\n\n}\n\nvar ADISYONLISTESI = ArrayList&lt;AdisyonListesiBilgileri&gt;()\nfun adisyonlariListele(){\n    var args = arguments\n    this.ADISYONLISTESI = args?.getSerializable(\"ADISYONLISTESI\") as ArrayList&lt;AdisyonListesiBilgileri&gt;\n    this.adapter = MasaAdisyonListesiAdapter(this.ADISYONLISTESI)\n    var layoutManager = LinearLayoutManager(activity, LinearLayoutManager.VERTICAL, false)\n    activity?.findViewById&lt;RecyclerView&gt;(R.id.ADISYONLISTESIRECYCLE)?.layoutManager = layoutManager\n    activity?.findViewById&lt;RecyclerView&gt;(R.id.ADISYONLISTESIRECYCLE)?.adapter = this.adapter\n}}\n</code></pre>\n\n<p>getItemCount gives me 0. However, the array in FragmentB is not empty.\nWhich way do I have to follow?</p>\n"}, {"tags": ["java", "android", "functional-programming", "kotlin", "higher-order-functions"], "comments": [{"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1528179654, "post_id": 50693148, "comment_id": 88396055, "body": "Can you edit the <code>setOnClickListener</code>?"}, {"owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "reply_to_user": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1528179776, "post_id": 50693148, "comment_id": 88396098, "body": "@Sweeper No it is the part of Android framework"}], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528180650, "post_id": 50693474, "comment_id": 88396510, "body": "why does this function return?"}, {"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "reply_to_user": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528180957, "post_id": 50693474, "comment_id": 88396656, "body": "@agile1 added usage example."}, {"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "reply_to_user": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528183788, "post_id": 50693474, "comment_id": 88398268, "body": "@agile1 The function will return another function. The returned function will call <code>hideKeyboard</code> and the parameter passed in. So you can pass the return value of <code>addCallTo</code> to <code>setOnClickListener</code>. Which part confuses you?"}, {"owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528202361, "post_id": 50693474, "comment_id": 88409858, "body": "I am confused with why did you return the function. Can&#39;t we just return unit?"}, {"owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528202379, "post_id": 50693474, "comment_id": 88409873, "body": "or maybe an extension function"}, {"owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528204177, "post_id": 50693474, "comment_id": 88411065, "body": "should I inline it?"}, {"owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1528205669, "post_id": 50693474, "comment_id": 88412190, "body": "It isn&#39;t invoking lambda"}, {"owner": {"reputation": 6020, "user_id": 1965189, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kQn7F.jpg?s=128&g=1", "display_name": "Victor Laerte", "link": "https://stackoverflow.com/users/1965189/victor-laerte"}, "reply_to_user": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "edited": false, "score": 0, "creation_date": 1555893516, "post_id": 50693474, "comment_id": 98246169, "body": "@krupal.agile sure you should inline"}], "tags": [], "owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "is_accepted": true, "score": 3, "last_activity_date": 1528183807, "last_edit_date": 1528183807, "creation_date": 1528180243, "answer_id": 50693474, "question_id": 50693148, "link": "https://stackoverflow.com/questions/50693148/modifying-an-anonymous-function-to-invoke-another-anonymous-function-in-kotlin/50693474#50693474", "title": "Modifying an anonymous function to invoke another anonymous function in Kotlin", "body": "<p>I'm not sure I understand fully what you mean, but maybe something like this:</p>\n\n<pre><code>fun addCallTo(lambda: (View) -&gt; Unit): (View) -&gt; Unit {\n  return { \n    hideKeyboard(it)\n    lambda(it)\n  }\n}\n\n// usage:\ntvLogin.setOnClickListener(addCallTo { view -&gt; login() })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "is_accepted": false, "score": 2, "last_activity_date": 1528180475, "creation_date": 1528180475, "answer_id": 50693535, "question_id": 50693148, "link": "https://stackoverflow.com/questions/50693148/modifying-an-anonymous-function-to-invoke-another-anonymous-function-in-kotlin/50693535#50693535", "title": "Modifying an anonymous function to invoke another anonymous function in Kotlin", "body": "<p>You can extend <code>View.OnClickListener</code> and pass lambda to it:</p>\n\n<pre><code>inner class HideKeyboardClickListener(private val lambda: () -&gt; Unit) : View.OnClickListener {\n    override fun onClick(v: View) {\n        hideKeyboard(v)\n        lambda()\n    }\n}\n</code></pre>\n\n<p>And then set it like this:</p>\n\n<pre><code>tvForgotPassword.setOnClickListener(HideKeyboardClickListener {\n    navigateToForgetPassword()\n})\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 7809145, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8b4831fc604f6362cc4cc253ccdf4065?s=128&d=identicon&r=PG&f=1", "display_name": "krupal.agile", "link": "https://stackoverflow.com/users/7809145/krupal-agile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 50693474, "answer_count": 2, "score": 1, "last_activity_date": 1528183807, "creation_date": 1528178976, "question_id": 50693148, "link": "https://stackoverflow.com/questions/50693148/modifying-an-anonymous-function-to-invoke-another-anonymous-function-in-kotlin", "title": "Modifying an anonymous function to invoke another anonymous function in Kotlin", "body": "<p>I have few click listeners in my code like below:</p>\n\n<pre><code>tvLogin.setOnClickListener {\n    hideKeyBoard(it)\n    login()\n}\n\ntvForgotPassword.setOnClickListener {\n    hideKeyBoard(it)\n    navigateToForgetPassword()\n}\n</code></pre>\n\n<p>I want to modify the passed block of code to always invoke <code>hideKeyBoard(view)</code> and then my function.</p>\n\n<p>Is there a way to create a higher order function that would modify a block of code and invoke passed function?</p>\n\n<p>I have tried something like below:</p>\n\n<pre><code>val clickListener: (View,()-&gt;Unit) -&gt; Unit \n</code></pre>\n\n<p>But not sure how it would work.</p>\n\n<p>Can anyone please help how to achieve?</p>\n"}, {"tags": ["java", "kotlin", "rx-java", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 11475, "user_id": 471955, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/51a3a4349309b3ba7a448fa600503807?s=128&d=identicon&r=PG", "display_name": "Dave Moten", "link": "https://stackoverflow.com/users/471955/dave-moten"}, "is_accepted": false, "score": 2, "last_activity_date": 1528179457, "creation_date": 1528179457, "answer_id": 50693271, "question_id": 50691647, "link": "https://stackoverflow.com/questions/50691647/how-to-implement-chain-lock-in-rxjava/50693271#50693271", "title": "How to implement chain lock in RxJava", "body": "<p>To serialize access to <code>demoDao.get()</code>, there are a few ways of achieving this but try hard not to use a lock to do it as that can stuff up a reactive stream with deadlocks for starters (as you have found out).</p>\n\n<p>If you do want to use a lock you should ensure that no lock is held across a stream signal like an emission to downstream or request to upstream. In that situation you can use a lock (shortlived). </p>\n\n<p>One approach is to combine the actions of the two streams into one (with say <code>merge</code>) and  do the <code>demoDao</code> stuff on that one stream. </p>\n\n<p>Another approach is to create a <code>PublisheSubject</code> using <code>PublishSubject.create().serialized()</code> which does the <code>demoDao.get()</code> stuff downstream and subscribe to it once only. Then the two sources you have mentioned can <code>.doOnNext(x -&gt; subject.onNext())</code>. Depends if each source must know about failure independently or if it is acceptable that the <code>PublishSubject</code> subscription is the only spot where the failure is notified.</p>\n"}, {"tags": [], "owner": {"reputation": 12389, "user_id": 1206301, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/NMBDq.jpg?s=128&g=1", "display_name": "Alexei Kaigorodov", "link": "https://stackoverflow.com/users/1206301/alexei-kaigorodov"}, "is_accepted": false, "score": 0, "last_activity_date": 1528394098, "creation_date": 1528394098, "answer_id": 50747415, "question_id": 50691647, "link": "https://stackoverflow.com/questions/50691647/how-to-implement-chain-lock-in-rxjava/50747415#50747415", "title": "How to implement chain lock in RxJava", "body": "<p>in asynchronous world, using of locks is strongly discouraged. Instead, locking is modelled by serialized execution of an actor or a serial executor. In turn, actor can be modelled by an <code>Obserever</code> and serial executor by <code>Schedulers.single()</code>, though more experienced RxJava programmers can make more advice.</p>\n"}], "owner": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528394098, "creation_date": 1528170029, "question_id": 50691647, "link": "https://stackoverflow.com/questions/50691647/how-to-implement-chain-lock-in-rxjava", "title": "How to implement chain lock in RxJava", "body": "<p>I want to implement lock in my application to let only one chain fragment execute at the time and any other to wait each other.</p>\n\n<p>For example:</p>\n\n<pre><code>    val demoDao = DemoDao() // data that must be accessed only by one rx-chain fragment at one time\n\n    Observable.range(0, 150)\n            .subscribeOn(Schedulers.io())\n            .flatMapCompletable {\n                dataLockManager.lock(\"action\") { // fragment-start\n                    demoDao.get()\n                        .flatMapCompletable { data -&gt;\n                            demoDao.set(...)\n                        }\n                }                                // fragment-end\n            }\n            .subscribe()\n\n    Observable.range(0, 100)\n            .subscribeOn(Schedulers.io())\n            .flatMapCompletable {\n                dataLockManager.lock(\"action\") { // fragment-start\n                    demoDao.get()\n                            .flatMapCompletable { data -&gt;\n                                demoDao.set(...)\n                            }\n                }                                // fragment-end\n            }\n            .subscribe()\n</code></pre>\n\n<p>I tried to implement it via custom <code>Completable.create</code> with <code>CountDownLatch</code> but it may lead to deadlock.</p>\n\n<p>And I suck at this point. What can you recommend me?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1528168939, "post_id": 50691346, "comment_id": 88392668, "body": "Do the toolbar components have click event, or the toolbar has <code>android:clickable=&quot;true&quot;</code> defined in xml?"}, {"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "reply_to_user": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1528170121, "post_id": 50691346, "comment_id": 88392923, "body": "Yes, it has click events but no, it doesn&#39;t have android:clickable=&quot;true&quot;. I updated the question with the toolbar layout."}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1528170419, "post_id": 50691346, "comment_id": 88392998, "body": "So try to add <code>android:clickable=&quot;true&quot;</code> to the toolbar to see if it consumes the touch event, moreover, you should create a new custom layout for the crayons bar, don&#39;t wrap it with <code>Toolbar</code> because I think <code>Toolbar</code> is not designed for that kind of purpose"}, {"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "reply_to_user": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1528174629, "post_id": 50691346, "comment_id": 88394095, "body": "unfortunately, it didn&#39;t work. Still keeps sliding up and down when clicking the toolbar itself."}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1528178033, "post_id": 50691346, "comment_id": 88395284, "body": "Where do you define <code>dispatchTouchEvent</code>, in <code>Activity</code>?"}, {"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "reply_to_user": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1528181392, "post_id": 50691346, "comment_id": 88396905, "body": "Yes, in Activity."}, {"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1528181477, "post_id": 50691346, "comment_id": 88396949, "body": "So think you should catch touch event in the custom <code>FlipView</code> instead, since <code>Activity</code> will receive every touch event on every components include the <code>Toolbar</code>"}, {"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "reply_to_user": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1528183065, "post_id": 50691346, "comment_id": 88397832, "body": "Yes, actually, I think you are right and I am looking at the wrong place. I&#39;m trying it out on the Flipview, instead."}], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528170060, "creation_date": 1528167318, "last_edit_date": 1528170060, "question_id": 50691346, "link": "https://stackoverflow.com/questions/50691346/identify-view-being-touched", "title": "Identify view being touched", "body": "<p>I have a layout that looks something like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/main_read_container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;com.project.books.flipview.FlipView\n        android:id=\"@+id/flip_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@color/color_black\"\n        app:orientation=\"horizontal\"\n        tools:context=\".ReadActivity\" &gt;\n    &lt;/com.project.books.flipview.FlipView&gt;\n\n    &lt;include\n        android:id=\"@+id/readingtoolbar\"\n        android:visibility=\"invisible\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        layout=\"@layout/readingbar_layout\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>The <strong>FlipView</strong> is a custom Framelayout that has a page turn animation like a book. The user is also able to pinch zoom on each page spread.</p>\n\n<p>The <strong>Toolbar</strong> below has a selection of crayons. Once a user clicks on a color, an invisible fragment is launched and the user is able to draw on top of the page spread.</p>\n\n<p>This is the toolbar Layout</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/readbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?android:attr/actionBarSize\"\n    android:background=\"@color/defaultdark_color\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    android:elevation=\"4dp\"&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n\n        &lt;ImageView\n            android:id=\"@+id/tabtools\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"16dp\"\n            android:src=\"@drawable/icontools\"\n            android:scaleType=\"fitXY\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/tabdictionary\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:scaleType=\"fitXY\"\n            android:layout_marginStart=\"16dp\"\n            android:src=\"@drawable/icondictionary\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@id/tabtools\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/tabassessment\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"16dp\"\n            android:alpha=\"0.3\"\n            android:scaleType=\"fitXY\"\n            android:src=\"@drawable/iconassesment\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@id/tabdictionary\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/tabexit\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:scaleType=\"fitXY\"\n            android:src=\"@drawable/iconclose\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n\n        &lt;ImageView\n            android:id=\"@+id/eraser\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginTop=\"4dp\"\n            android:src=\"@drawable/drawingeraser\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/guide_eraser\"\n            app:layout_constraintBottom_toBottomOf=\"parent\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/crayon_black\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:onClick=\"buttonClicked\"\n            android:src=\"@drawable/drawingblack\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            android:layout_marginTop=\"4dp\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/crayon_blue\"\n            app:layout_constraintStart_toEndOf=\"@+id/guide_eraser\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/crayon_blue\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:onClick=\"buttonClicked\"\n            android:src=\"@drawable/drawingblue\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            android:layout_marginTop=\"4dp\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/crayon_green\"\n            app:layout_constraintStart_toEndOf=\"@+id/crayon_black\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/crayon_green\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:onClick=\"buttonClicked\"\n            android:src=\"@drawable/drawinggreen\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            android:layout_marginTop=\"4dp\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/crayon_orange\"\n            app:layout_constraintStart_toEndOf=\"@+id/crayon_blue\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/crayon_orange\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:onClick=\"buttonClicked\"\n            android:src=\"@drawable/drawingorange\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            android:layout_marginTop=\"4dp\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/crayon_pink\"\n            app:layout_constraintStart_toEndOf=\"@+id/crayon_green\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/crayon_pink\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:onClick=\"buttonClicked\"\n            android:src=\"@drawable/drawingpink\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            android:layout_marginTop=\"4dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/crayon_red\"\n            app:layout_constraintStart_toEndOf=\"@+id/crayon_orange\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/crayon_red\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:onClick=\"buttonClicked\"\n            android:src=\"@drawable/drawingred\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            android:layout_marginTop=\"4dp\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/crayon_violet\"\n            app:layout_constraintStart_toEndOf=\"@+id/crayon_pink\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/crayon_violet\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:onClick=\"buttonClicked\"\n            android:src=\"@drawable/drawingviolet\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            android:layout_marginTop=\"4dp\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/crayon_white\"\n            app:layout_constraintStart_toEndOf=\"@+id/crayon_red\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/crayon_white\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:onClick=\"buttonClicked\"\n            android:src=\"@drawable/drawingwhite\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            android:layout_marginTop=\"4dp\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@id/crayon_yellow\"\n            app:layout_constraintStart_toEndOf=\"@+id/crayon_violet\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/crayon_yellow\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_marginStart=\"8dp\"\n            android:onClick=\"buttonClicked\"\n            android:scaleType=\"fitXY\"\n            android:visibility=\"gone\"\n            android:layout_marginTop=\"4dp\"\n            android:src=\"@drawable/drawingyellow\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@id/crayon_white\"\n            app:layout_constraintEnd_toStartOf=\"@id/guide_center\"/&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/clear\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:src=\"@drawable/iconreset\"\n            android:visibility=\"gone\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@+id/guide_center\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/share\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_margin=\"8dp\"\n            android:visibility=\"gone\"\n            android:actionProviderClass=\"android.widget.ShareActionProvider\"\n            android:showAsAction=\"ifRoom\"\n            android:src=\"@drawable/iconshare\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toStartOf=\"@+id/tabexit2\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/tabexit2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:visibility=\"gone\"\n            android:src=\"@drawable/iconclose\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;android.support.constraint.Guideline\n            android:id=\"@+id/guide_eraser\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"\n            app:layout_constraintGuide_percent=\"0.1\"/&gt;\n\n        &lt;android.support.constraint.Guideline\n            android:id=\"@+id/guide_center\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"\n            app:layout_constraintGuide_percent=\"0.6\"/&gt;\n\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>The toolbar initially starts out as invisible. If you click anywhere on the page, it should slide out from the bottom. I am able to capture the click event by using the dispatchTouchEvent</p>\n\n<pre><code>override fun dispatchTouchEvent(ev: MotionEvent?): Boolean {\n\nif (ev!!.action == MotionEvent.ACTION_DOWN) {\n    startX = ev.x\n    startY = ev.y\n}\nif (ev.action == MotionEvent.ACTION_UP){\n    val endX = ev.x\n    val endY = ev.y\n    if (isAClick(startX, endX, startY, endY)) {\n        onSlideViewButtonClick(reading_toolbar!!)\n        return true\n    } else {\n        return super.dispatchTouchEvent(ev)\n    }\n}\nreturn super.dispatchTouchEvent(ev)\n}\n</code></pre>\n\n<p>So the toolbar slides out but if I click on any crayon on the toolbar, it slides back down which it isn't supposed to do. Basically, what I want is that if the user clicks anywhere else EXCEPT on the toolbar itself, then it should slide back down.</p>\n\n<p>I tried using onTouch so I can pass the view instead of dispatchTouchEvent but I can't seem to capture clicks even with the same logic. I can capture a drag event, though.</p>\n\n<pre><code>class ReadActivity : Activity(), FlipViewAdapter.Callback, FlipView.OnFlipListener, FlipView.OnOverFlipListener, View.OnTouchListener {\n...\n}\n</code></pre>\n\n<p>setting</p>\n\n<pre><code>flip_view.setOnTouchListener(this)\n</code></pre>\n\n<p>testing the click here</p>\n\n<pre><code>override fun onTouch(v: View?, ev: MotionEvent?): Boolean {\n    println(\"clicking\")\n    // put actual clicking logic\n    return true\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 19610, "user_id": 5050667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/3WJfP.jpg?s=128&g=1", "display_name": "Yassin Hajaj", "link": "https://stackoverflow.com/users/5050667/yassin-hajaj"}, "edited": false, "score": 0, "creation_date": 1528166314, "post_id": 50691205, "comment_id": 88392177, "body": "Hi and welcome. Have you tried reading the doc ? <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html</a>"}, {"owner": {"reputation": 1522, "user_id": 6907055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0055675e50553e91d6ef292f7a5a21e4?s=128&d=identicon&r=PG&f=1", "display_name": "CampbellMG", "link": "https://stackoverflow.com/users/6907055/campbellmg"}, "reply_to_user": {"reputation": 19610, "user_id": 5050667, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/3WJfP.jpg?s=128&g=1", "display_name": "Yassin Hajaj", "link": "https://stackoverflow.com/users/5050667/yassin-hajaj"}, "edited": false, "score": 2, "creation_date": 1528166612, "post_id": 50691205, "comment_id": 88392227, "body": "Thanks! I have, it gives a good overview of how to use the null variables within the language and suggests that they can be avoided entirely but I am unsure on how to actually do that. How do I write my code snippet in Kotlin? Should I add a nullable variable? Should I rewrite the system somehow to avoid adding testing for null?"}, {"owner": {"reputation": 94, "user_id": 9838143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c608695a6bca220d5bdbf0661445388d?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Ngo", "link": "https://stackoverflow.com/users/9838143/johnny-ngo"}, "edited": false, "score": 0, "creation_date": 1528166640, "post_id": 50691205, "comment_id": 88392234, "body": "I&#39;m not sure the way to do in kotlin but you should try this way:  <code>Object smObj = null;</code>  <code>smObj.toString();</code>"}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528167175, "post_id": 50691205, "comment_id": 88392315, "body": "This depends on the circumstances under which <code>account</code> can actually be null.  Does it only &quot;start out&quot; null?  Can it ever be null if there hasn&#39;t been an error?"}, {"owner": {"reputation": 1522, "user_id": 6907055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0055675e50553e91d6ef292f7a5a21e4?s=128&d=identicon&r=PG&f=1", "display_name": "CampbellMG", "link": "https://stackoverflow.com/users/6907055/campbellmg"}, "edited": false, "score": 0, "creation_date": 1528167741, "post_id": 50691205, "comment_id": 88392419, "body": "So in this circumstance, the user opens the app and has no account so in Java it would be null and that is an expected state. Is this okay to replicate in Kotlin or should I add some other check to avoid the possibility of a null account? What I am trying to avoid is applying a logic from Java to Kotlin where there may be a more effective, native method."}], "answers": [{"tags": [], "owner": {"reputation": 377, "user_id": 3236840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c21923f3bc07e0d0c3531f9c93824e0c?s=128&d=identicon&r=PG&f=1", "display_name": "Julieta", "link": "https://stackoverflow.com/users/3236840/julieta"}, "is_accepted": false, "score": 5, "last_activity_date": 1528168673, "creation_date": 1528168673, "answer_id": 50691502, "question_id": 50691205, "link": "https://stackoverflow.com/questions/50691205/best-practice-for-null-safety-in-kotlin/50691502#50691502", "title": "Best practice for null safety in Kotlin", "body": "<p>Likely this material can be useful: <a href=\"http://www.baeldung.com/kotlin-null-safety\" rel=\"noreferrer\">http://www.baeldung.com/kotlin-null-safety</a></p>\n\n<p>You can search for let() and run() methods.</p>\n\n<blockquote>\n  <p><strong>The let() method</strong> </p>\n  \n  <p>To execute an action only when a reference holds a\n  non-nullable value, we can use a let operator.</p>\n  \n  <p>Let\u2019s say that we have a list of values and there is also a null value\n  in that list:</p>\n</blockquote>\n\n<pre><code>val firstName = \"Tom\"\nval secondName = \"Michael\" val names:\nList&lt;String?&gt; = listOf(firstName, null, secondName)\n</code></pre>\n\n<blockquote>\n  <p>Next, we can execute an action on every non-nullable element of the names list by using a let function:</p>\n</blockquote>\n\n<pre><code>var res = listOf&lt;String?&gt;() for (item in names) {\n     item?.let { res = res.plus(it) } }   \nassertEquals(2, res.size)\nassertTrue { res.contains(firstName) } \nassertTrue { res.contains(secondName) }\n</code></pre>\n\n<blockquote>\n  <p><strong>The run() method</strong></p>\n  \n  <p>Kotlin has a run() method to execute some operation\n  on a nullable reference. It is very similar to let() but inside of a\n  function body, the run() method operates on this reference instead of\n  a function parameter:</p>\n</blockquote>\n\n<pre><code>var res = listOf&lt;String?&gt;()\nfor (item in names) {\n    item?.run{res = res.plus(this)}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1554878390, "last_edit_date": 1554878390, "creation_date": 1528178995, "answer_id": 50693151, "question_id": 50691205, "link": "https://stackoverflow.com/questions/50691205/best-practice-for-null-safety-in-kotlin/50693151#50693151", "title": "Best practice for null safety in Kotlin", "body": "<blockquote>\n  <p>I understand I can replicate this in Kotlin but it seems as though the language is designed to avoid practice like this.</p>\n</blockquote>\n\n<p>Please note the distinction between a language <em>without nulls</em> and a <em>null-safe</em> language. Kotlin is the latter, which means it welcomes and embraces the <code>null</code> value, but, as opposed to a language like Java, puts a leash on it.</p>\n\n<p>Kotlin offers you syntax to handle nullable types in a concise, readable and safe manner. For your example,</p>\n\n<pre><code>if (account == null){\n    openLogin();\n}\n</code></pre>\n\n<p>you can use this idiom:</p>\n\n<pre><code>account ?: openLogin()\n</code></pre>\n\n<p>At other moments you'll want to either act upon a non-null <code>account</code> or just skip that part of the code if it's <code>null</code>. Then you can use the optional derefence <code>?.</code>:</p>\n\n<pre><code>account?.userName?.also { println(\"Username is $it\") }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1528181561, "last_edit_date": 1528181561, "creation_date": 1528180469, "answer_id": 50693531, "question_id": 50691205, "link": "https://stackoverflow.com/questions/50691205/best-practice-for-null-safety-in-kotlin/50693531#50693531", "title": "Best practice for null safety in Kotlin", "body": "<blockquote>\n  <p>I understand I can replicate this in Kotlin but it seems as though the language is designed to avoid practice like this. </p>\n</blockquote>\n\n<p>I'd say just the opposite, it's designed to support it. E.g. if you have</p>\n\n<pre><code>val account: UserAccount? = ...\n\nif (account == null){\n    openLogin()\n} else {\n    ...\n}\n</code></pre>\n\n<p>the compiler knows <code>account</code> isn't <code>null</code> in the <code>else</code> branch, and it can effectively have non-nullable <code>UserAccount</code> type there. (Small caveat: in your case <code>account</code> is more likely to be a <code>var</code>, which puts some limitations on smart casts.)</p>\n\n<blockquote>\n  <p>How would I go about implementing this system through Kotlin, should I be adding a nullable variable?</p>\n</blockquote>\n\n<p>You don't <em>add</em> a variable, you specify that <code>account</code> is nullable in its type. </p>\n\n<p>Though for this specific case it may be better to use <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\"><code>lateinit</code></a>, depending on your requirements:</p>\n\n<pre><code>lateinit var account: UserAccount\n\n...\nif (!::account.isInitialized) {\n    openLogin()\n}\n</code></pre>\n"}], "owner": {"reputation": 1522, "user_id": 6907055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0055675e50553e91d6ef292f7a5a21e4?s=128&d=identicon&r=PG&f=1", "display_name": "CampbellMG", "link": "https://stackoverflow.com/users/6907055/campbellmg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3530, "favorite_count": 0, "accepted_answer_id": 50693151, "answer_count": 3, "score": 2, "last_activity_date": 1554878390, "creation_date": 1528166046, "last_edit_date": 1528185370, "question_id": 50691205, "link": "https://stackoverflow.com/questions/50691205/best-practice-for-null-safety-in-kotlin", "title": "Best practice for null safety in Kotlin", "body": "<p>I am currently in the process of learning Kotlin to replace Java in my android applications but am struggling with null safety. </p>\n\n<p>I am getting familiar with the process of the handling null and non-null variables, however, I am still unsure of \"best practice\" in terms of the implementation null/non-null variables in Kotlin.</p>\n\n<p>For example, in Java I would have written something like:</p>\n\n<pre><code>UserAccount account;\n\nif (account == null) {\n    openLogin();\n}\n</code></pre>\n\n<p>I understand I can replicate this in Kotlin but it seems as though the language is designed to avoid practice like this. How would I go about implementing this system through Kotlin, should I be adding a nullable variable?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1653, "user_id": 3627898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e9c70c600f580321319a54b15d416b3?s=128&d=identicon&r=PG", "display_name": "Tam Huynh", "link": "https://stackoverflow.com/users/3627898/tam-huynh"}, "edited": false, "score": 0, "creation_date": 1528171652, "post_id": 50691137, "comment_id": 88393269, "body": "<code>AlertDialog</code> will automatically close itself on built-in button clicked like Positive, Neutral or Negative buttons. So 2 options: 1/ Custom a <code>Dialog</code> with your desired layout and logic. 2/ Manage the buttons separately without using built-in <code>AlertDialog</code> buttons"}], "answers": [{"tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": true, "score": 2, "last_activity_date": 1528174071, "creation_date": 1528174071, "answer_id": 50692234, "question_id": 50691137, "link": "https://stackoverflow.com/questions/50691137/how-to-return-to-input-ui-when-i-input-error-password-when-i-use-alertdialog-in/50692234#50692234", "title": "How to return to input UI when I input error password when I use AlertDialog in Kotlin?", "body": "<p>If you handle the onclick listener for positive button inside alertDialog.onShowlistener , then you can avoid the dialog closing flow.Please find the modified code below.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_main)      \n        showInputPasswordDialog()\n    }  \n\n\n    private fun showInputPasswordDialog {    \n        val editText = EditText(this)\n        val inputDialog = AlertDialog.Builder(this)\n        inputDialog.setTitle(\"Input\")\n                   .setView(editText)\n                   .setCancelable(false)\n                   .setNegativeButton(\"Cancel\", DialogInterface.OnClickListener { dialog, which -&gt;\n                           finish();\n                   })\n\n        inputDialog.setPositiveButton(\"OK\",null)\n\n       // modified code starts here\n        val mAlertDialog = inputDialog.create()\n\n        mAlertDialog.setOnShowListener(DialogInterface.OnShowListener {\n        val b = mAlertDialog.getButton(AlertDialog.BUTTON_POSITIVE)\n        b.setOnClickListener(View.OnClickListener {\n\n          val password= editText.text.toString()\n                if (password==\"aa\"){\n                    mAlertDialog.dismiss();\n                    //close the dialog\n                }else{\n                    toast(\"Password error\")\n                    //Return for input again\n                }\n\n        })\n    })\n\n    mAlertDialog.show() \n\n    }\n</code></pre>\n\n<p>ref: <a href=\"https://stackoverflow.com/questions/2620444/how-to-prevent-a-dialog-from-closing-when-a-button-is-clicked\">How to prevent a dialog from closing when a button is clicked</a> </p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 50692234, "answer_count": 1, "score": 1, "last_activity_date": 1528174071, "creation_date": 1528165394, "question_id": 50691137, "link": "https://stackoverflow.com/questions/50691137/how-to-return-to-input-ui-when-i-input-error-password-when-i-use-alertdialog-in", "title": "How to return to input UI when I input error password when I use AlertDialog in Kotlin?", "body": "<p>I hope to a password input dialog box is opened when I start an APP.</p>\n\n<p>If I input the correct password, the dialog will close and display main UI.</p>\n\n<p>If I input the error password, the dialog will keep open and require a user input again.</p>\n\n<p>How can I do it? Thanks!</p>\n\n<p>At present, the dialog is always closed no matter I input correct or error password.</p>\n\n<pre><code>  override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_main)      \n        showInputPasswordDialog()\n    }  \n\n\n    private fun showInputPasswordDialog {    \n        val editText = EditText(this)\n        val inputDialog = AlertDialog.Builder(this)\n        inputDialog.setTitle(\"Input\")\n                   .setView(editText)\n                   .setCancelable(false)\n                   .setNegativeButton(\"Cancel\", DialogInterface.OnClickListener { dialog, which -&gt;\n                           finish();\n                   })\n\n        inputDialog.setPositiveButton(\"OK\",\n                DialogInterface.OnClickListener { dialog, which -&gt;\n                    val password= editText.text.toString()\n                    if (password==\"aa\"){\n                        //close the dialog\n                    }else{\n                        toast(\"Password error\")\n                        //Return for input again\n                    }\n                }).show()\n    }\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "slider"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9860450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c541c74e85838c4df5ad88ed0536e16?s=128&d=identicon&r=PG&f=1", "display_name": "jkells", "link": "https://stackoverflow.com/users/9860450/jkells"}, "edited": false, "score": 0, "creation_date": 1528215896, "post_id": 50700780, "comment_id": 88418888, "body": "Sorry, but this is still way out there for me. Can you break it down and which compenents go where? Im still learning app development."}, {"owner": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "reply_to_user": {"reputation": 19, "user_id": 9860450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c541c74e85838c4df5ad88ed0536e16?s=128&d=identicon&r=PG&f=1", "display_name": "jkells", "link": "https://stackoverflow.com/users/9860450/jkells"}, "edited": false, "score": 0, "creation_date": 1528234850, "post_id": 50700780, "comment_id": 88427774, "body": "sorry, i read question again, and uderstand, that my answer is not correct answer. May you should to use <a href=\"https://android-arsenal.com/tag/138?sort=created\" rel=\"nofollow noreferrer\">android-arsenal.com/tag/138?sort=created</a> ? This site has a lot of good small library. Check it)"}], "tags": [], "owner": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "is_accepted": false, "score": 0, "last_activity_date": 1528203760, "creation_date": 1528203760, "answer_id": 50700780, "question_id": 50691111, "link": "https://stackoverflow.com/questions/50691111/android-app-development-slider-menu-pop-up-need-assistance/50700780#50700780", "title": "Android App Development Slider Menu/Pop Up ----- Need assistance", "body": "<p>I create programmatical keyboard in my masters. It look, like (letters on picture are not English, but i think, you understand this):\n<a href=\"https://i.stack.imgur.com/8OLlF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8OLlF.png\" alt=\"enter image description here\"></a> May, you find it helpful. </p>\n\n<p>Keyboard is the horizontal recyclerView. Look at this. (you can simplify it)\n<strong>Adapter</strong></p>\n\n<pre><code>class KeyboardAdapter(context: Context, private var listener: PressKeyboardButton) : RecyclerView.Adapter&lt;ItemKeyboardViewHolder&gt;() {\n    private var keyboard: ArrayList&lt;KeyBtn&gt; = ArrayList()\n    private var inflater: LayoutInflater = LayoutInflater.from(context)\n\n    init {\n        initKeyboard()\n    }\n\n    override fun onBindViewHolder(holder: ItemKeyboardViewHolder, position: Int) {\n        holder.bindTo(keyboard[position])\n    }\n\n    override fun onCreateViewHolder(viewGroup: ViewGroup, viewType: Int): ItemKeyboardViewHolder {\n        return ItemKeyboardViewHolder.create(inflater, viewGroup, listener)\n    }\n\n    override fun getItemCount(): Int {\n        return keyboard.size\n    }\n\n    fun initKeyboard(){\n        keyboard.clear()\n        keyboard.add(KeyBtn(\"dote\", \".\", KeyBtn.ADD))\n        keyboard.add(KeyBtn(\"0\", \"0\", KeyBtn.ADD))\n        keyboard.add(KeyBtn(\"1\", \"1\", KeyBtn.ADD))\n        keyboard.add(KeyBtn(\"backspace\", \"backspace\", KeyBtn.BACKSPACE))\n        keyboard.add(KeyBtn(\"delete\", \"delete\", KeyBtn.DELETE))\n\n        this.notifyDataSetChanged()\n    }\n\n    fun initKeyboard(numbers: ArrayList&lt;CustomNumber&gt;) {\n        initKeyboard()\n\n        // additional buttons\n        for (number in numbers)      // Conversation format to Summation format (0.000000.000 -&gt; 00.000000.000)\n            keyboard.add(KeyBtn(number.comment, number.numberString, KeyBtn.REINIT))\n\n        this.notifyDataSetChanged()\n    }\n\n\n    @SuppressLint(\"SetTextI18n\")\n    fun updateTextEdit(keyBtn: KeyBtn, numberField: EditText?, comment: TextView?, context: Context) {\n        if(numberField != null) {\n            val start = Math.max(numberField.selectionStart, 0)\n            val end = Math.max(numberField.selectionEnd, 0)\n            val length = numberField.text.toString().length\n\n            when (keyBtn.typeButton) {\n                KeyBtn.REINIT -&gt; {\n                    numberField.setText(keyBtn.data)\n                    if (comment != null)\n                        comment.text = \"// ${keyBtn.text}\"\n                }\n                KeyBtn.ADD -&gt; {\n                    numberField.text.replace(Math.min(start, end), Math.max(start, end),\n                            keyBtn.data, 0, keyBtn.data.length)\n                }\n                KeyBtn.BACKSPACE -&gt; {\n                    numberField.text.replace(Math.max(0, start - 1), end, \"\", 0, 0)\n                }\n                KeyBtn.DELETE -&gt; {\n                    numberField.text.replace(start, Math.min(length, end + 1), \"\", 0, 0)\n                }\n            }\n\n            val vibrator = context.getSystemService(Context.VIBRATOR_SERVICE) as Vibrator\n            if(Build.VERSION.SDK_INT &lt; 26)\n                oldVibrate(vibrator)\n            else\n                newVibrate(vibrator)\n        }\n    }\n\n    @Suppress(\"DEPRECATION\")\n    private fun oldVibrate(vibrator: Vibrator){\n        if(Build.VERSION.SDK_INT &lt; 26)\n            vibrator.vibrate(27)\n    }\n\n    private fun newVibrate(vibrator: Vibrator){\n        if(Build.VERSION.SDK_INT &gt;= 26) {\n            val effect = VibrationEffect.createOneShot(27, VibrationEffect.DEFAULT_AMPLITUDE)\n            vibrator.vibrate(effect)\n        }\n    }\n}\n\n\ninterface PressKeyboardButton {\n    fun simpleClick(keyBtn: KeyBtn, context: Context)\n}\n</code></pre>\n\n<p>And so it <strong>ViewHolder</strong>:</p>\n\n<pre><code>class ItemKeyboardViewHolder private constructor(private val view: View,\n                                                 private val listener: PressKeyboardButton) :\n        RecyclerView.ViewHolder(view), View.OnTouchListener {\n    val itemKeyboard = view.itemKeyboard!!\n\n    companion object {\n        fun create(inflater: LayoutInflater,\n                   parent: ViewGroup,\n                   listener: PressKeyboardButton\n        ): ItemKeyboardViewHolder {\n            return ItemKeyboardViewHolder(\n                    inflater.inflate(R.layout.item_keyboard, parent, false),\n                    listener)\n        }\n    }\n\n    @SuppressLint(\"SetTextI18n\")\n    fun bindTo(keyBtn: KeyBtn) {\n        itemKeyboard.text = keyBtn.text\n        view.setOnClickListener { listener.simpleClick(keyBtn, view.context) }\n        view.setOnTouchListener(this)\n    }\n\n    override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n        when (event?.action) {\n            MotionEvent.ACTION_DOWN -&gt; itemKeyboard.isSelected = true\n            MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; itemKeyboard.isSelected = false\n        }\n\n        return false\n    }\n}\n</code></pre>\n\n<p>And so layouts:</p>\n\n<p><strong>ViewHolder</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/itemLayout\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@drawable/border\"\n    android:padding=\"16dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/itemKeyboard\"\n        style=\"@style/main\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"16sp\"\n\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        tools:text=\"A\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>Recycler View</strong></p>\n\n<pre><code> &lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/keyboard\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"60dp\"\n    android:background=\"@drawable/sign_in_gradient\"\n    android:orientation=\"horizontal\"\n    android:visibility=\"gone\"\n    app:layout_constraintBottom_toTopOf=\"@+id/bottomSpacer\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n</code></pre>\n\n<p>And the finishing init adapters:</p>\n\n<pre><code>// a custom simple keyboard\nkeyboardAdapter = KeyboardAdapter(this, object : PressKeyboardButton {\n    override fun simpleClick(keyBtn: KeyBtn, context: Context) {\n        val numberField: EditText? = currentFragment.recyclerViewAdapter?.getFocusedEditText()\n        val commentField: TextView? = currentFragment.recyclerViewAdapter?.getFocusedCommentField()\n        keyboardAdapter.updateTextEdit(keyBtn, numberField, commentField, context)\n    }\n})\nval horizontalLayoutManager = LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false)\nkeyboard.layoutManager = horizontalLayoutManager\nkeyboard.adapter = keyboardAdapter\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 9860450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c541c74e85838c4df5ad88ed0536e16?s=128&d=identicon&r=PG&f=1", "display_name": "jkells", "link": "https://stackoverflow.com/users/9860450/jkells"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528203760, "creation_date": 1528165176, "last_edit_date": 1528201102, "question_id": 50691111, "link": "https://stackoverflow.com/questions/50691111/android-app-development-slider-menu-pop-up-need-assistance", "title": "Android App Development Slider Menu/Pop Up ----- Need assistance", "body": "<p>I'm trying to create a slider menu that slides in from the right and allows me to select an item from a list of buttons. Upon selecting that item, that slider disappears and the new slider with all the information in that section displays. Example. If the side menu buttons display food and the next drink. If I select food, it will display a Food Menu with various items. If I select Pizza it will have that menu disappear and slide out a new menu displaying everything about pizza. Sorry, new to Android app development. This is what I have so far... I need all the help possible. And I'm working only with Kotlin right now.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n            xmlns:tools=\"http://schemas.android.com/tools\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            tools:context=\".menu\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/food\"\n        android:layout_width=\"34dp\"\n        android:layout_height=\"257dp\"\n        android:text=\"Food\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/drinks\"\n        tools:layout_editor_absoluteX=\"2dp\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/drinks\"\n        android:layout_width=\"34dp\"\n        android:layout_height=\"257dp\"\n        android:text=\"Drinks\"\n        app:layout_constraintBottom_toTopOf=\"@+id/food\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        tools:layout_editor_absoluteX=\"2dp\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "button", "kotlin", "softkeys"], "answers": [{"tags": [], "owner": {"reputation": 421, "user_id": 5161381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nMtJP.png?s=128&g=1", "display_name": "BlueSeph", "link": "https://stackoverflow.com/users/5161381/blueseph"}, "is_accepted": true, "score": 0, "last_activity_date": 1528214058, "creation_date": 1528214058, "answer_id": 50704310, "question_id": 50689936, "link": "https://stackoverflow.com/questions/50689936/invisible-soft-navigation-bar-on-some-devices/50704310#50704310", "title": "Invisible soft navigation bar on some devices", "body": "<p>I found the answer.</p>\n\n<p>There are some functions in stackOverflow that doesn't work, but this worked.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/14853039/how-to-tell-whether-an-android-device-has-hard-keys/14871974#14871974\">How to tell whether an android device has hard keys\n</a></p>\n\n<pre><code>fun hasSoftKeys(windowManager: WindowManager): Boolean {\n        var hasSoftwareKeys = true\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n            val d = context.getWindowManager().getDefaultDisplay()\n\n            val realDisplayMetrics = DisplayMetrics()\n            d.getRealMetrics(realDisplayMetrics)\n\n            val realHeight = realDisplayMetrics.heightPixels\n            val realWidth = realDisplayMetrics.widthPixels\n\n            val displayMetrics = DisplayMetrics()\n            d.getMetrics(displayMetrics)\n\n            val displayHeight = displayMetrics.heightPixels\n            val displayWidth = displayMetrics.widthPixels\n\n            hasSoftwareKeys = realWidth - displayWidth &gt; 0 || realHeight - displayHeight &gt; 0x&lt;\n        } else {\n            val hasMenuKey = ViewConfiguration.get(context).hasPermanentMenuKey()\n            val hasBackKey = KeyCharacterMap.deviceHasKey(KeyEvent.KEYCODE_BACK)\n            hasSoftwareKeys = !hasMenuKey &amp;&amp; !hasBackKey\n        }\n        return hasSoftwareKeys\n    }\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 5161381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nMtJP.png?s=128&g=1", "display_name": "BlueSeph", "link": "https://stackoverflow.com/users/5161381/blueseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 50704310, "answer_count": 1, "score": 0, "last_activity_date": 1528214058, "creation_date": 1528153665, "last_edit_date": 1528164987, "question_id": 50689936, "link": "https://stackoverflow.com/questions/50689936/invisible-soft-navigation-bar-on-some-devices", "title": "Invisible soft navigation bar on some devices", "body": "<p>I want to know if a device has a soft navigation bar. I use the following code for this purpose:</p>\n\n<pre><code>        val hasNavBar = resources.getIdentifier(\"config_showNavigationBar\", \"bool\", \"android\")\n        if(hasNavBar &gt; 0 &amp;&amp; resources.getBoolean(hasNavBar)){\n\n            val resourceId = resources.getIdentifier(\"navigation_bar_height\", \"dimen\", \"android\")\n            if (resourceId &gt; 0) {\n                ApiHelper.navHeight = resources.getDimensionPixelSize(resourceId)\n            }\n        }\n</code></pre>\n\n<p>But on some devices that have no soft navigation bar, <code>resources.getDimensionPixelSize(resourceId)</code> gives some height and <code>hasNavBar</code> is true.</p>\n\n<p>The device with this problem is a Redmi Note 4 Pro. I don't know if other devices have the same problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fWPBg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fWPBg.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "json", "kotlin", "retrofit", "gson"], "comments": [{"owner": {"reputation": 3963, "user_id": 3979479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7e93379146d6dc695cb880c34f3879a?s=128&d=identicon&r=PG&f=1", "display_name": "mbo", "link": "https://stackoverflow.com/users/3979479/mbo"}, "edited": false, "score": 0, "creation_date": 1528298103, "post_id": 50689882, "comment_id": 88456088, "body": "I don&#39;t see anything in your code which is related to Retrofit/GSON... where is your network call?"}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "reply_to_user": {"reputation": 3963, "user_id": 3979479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7e93379146d6dc695cb880c34f3879a?s=128&d=identicon&r=PG&f=1", "display_name": "mbo", "link": "https://stackoverflow.com/users/3979479/mbo"}, "edited": false, "score": 0, "creation_date": 1528349393, "post_id": 50689882, "comment_id": 88474833, "body": "You don&#39;t see anything because &quot;...I haven&#39;t done this before&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1528430788, "post_id": 50746969, "comment_id": 88514334, "body": "Do you mind explaining the code in the <code>interface</code> block?"}, {"owner": {"reputation": 1344, "user_id": 4864852, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EY50Djl9mIM/AAAAAAAAAAI/AAAAAAAAnOk/Q3Zjw_8RKWA/photo.jpg?sz=128", "display_name": "Islam Abdalla", "link": "https://stackoverflow.com/users/4864852/islam-abdalla"}, "reply_to_user": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1528450238, "post_id": 50746969, "comment_id": 88522649, "body": "This is the standard Retrofit way to implement network calls. As per the documentation: &quot;Retrofit turns your HTTP API into a Java interface.&quot; and &quot;The Retrofit class generates an implementation of the [..] interface.&quot;.  Link: <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">square.github.io/retrofit</a> Basically, you define your calls in an interface, and put Retrofit annotations on the methods, such as <code>@POST</code> and <code>@GET</code>."}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1530461914, "post_id": 50746969, "comment_id": 89234899, "body": "Where do you make the <code>object RetrofitServer</code> and where do you make the call?"}], "tags": [], "owner": {"reputation": 1344, "user_id": 4864852, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EY50Djl9mIM/AAAAAAAAAAI/AAAAAAAAnOk/Q3Zjw_8RKWA/photo.jpg?sz=128", "display_name": "Islam Abdalla", "link": "https://stackoverflow.com/users/4864852/islam-abdalla"}, "is_accepted": true, "score": 1, "last_activity_date": 1528392223, "creation_date": 1528392223, "answer_id": 50746969, "question_id": 50689882, "link": "https://stackoverflow.com/questions/50689882/how-to-implement-retrofit-and-gson/50746969#50746969", "title": "How to implement Retrofit and GSON?", "body": "<p>Here is a simple code snippits for how you can setup Retrofit with Kotlin. \nFirst, the api interface where you will define your network calls. For example:</p>\n\n<pre><code>interface ServerAPI {\n\n    @FormUrlEncoded\n    @POST(\"/api/v1/login\")\n    fun login(@Header(\"Authorization\") authorization: String): Call&lt;LoginResponse&gt;\n}\n</code></pre>\n\n<p>Then, create Retrofit instance. Personally, I prefer to make a <code>kotlin</code> object and intialize it with <code>by lazy</code>. Also, notice the <code>GsonConverterFactory</code></p>\n\n<pre><code>object RetrofitServer {\n\n    val client: ServerAPI by lazy {\n\n        val client = OkHttpClient.Builder()\n                .build()\n        val retrofit = Retrofit.Builder()\n                .baseUrl(\"http://127.0.0.1/\")\n                // For Gson\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(client)\n                .build()\n        retrofit.create(ServerAPI::class.java)\n    }\n}\n</code></pre>\n\n<p>Then that's it. To make a call, simply </p>\n\n<pre><code>RetrofitServer.client.login(\"Auth header\").enqueue(object: Callback&lt;BalanceResponse&gt; {\n    override fun onFailure(call: Call&lt;BalanceResponse&gt;?, t: Throwable?) {\n\n    }\n\n    override fun onResponse(call: Call&lt;BalanceResponse&gt;?, t: Response&lt;BalanceResponse&gt;?) {\n\n    }\n}\n)\n</code></pre>\n"}], "owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 50746969, "answer_count": 1, "score": 0, "last_activity_date": 1528392223, "creation_date": 1528153176, "last_edit_date": 1549310398, "question_id": 50689882, "link": "https://stackoverflow.com/questions/50689882/how-to-implement-retrofit-and-gson", "title": "How to implement Retrofit and GSON?", "body": "<p>I'm a novice Android developer.  I'm trying to build a movie database app using tmdb.  For this, I am using the Kotlin language and chose to use Retrofit and GSON for my JSON parsing and HTTP calls.  However, I haven't done this before.  I went through multiple tutorials but one is different than the other and my A.D.D. doesn't really help when it comes to deriving the concepts.  </p>\n\n<p>For now, this is my code.  All it does is take a placeholder image and display it in a 3 column recyclerview grid layout 300x (random number because I don't have a list size yet):</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity() : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.recycler_view);\n        recyclerView.layoutManager = LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false);\n        recyclerView.layoutManager = GridLayoutManager(this, 3);\n        recyclerView.adapter = PosterAdapter()\n    }\n}\n</code></pre>\n\n<p>PosterAdapter.kt</p>\n\n<pre><code>class PosterAdapter() : RecyclerView.Adapter&lt;PosterHolder&gt;(){\n\n    override fun getItemCount(): Int { return 300}\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PosterHolder{\n        val layoutInflater = LayoutInflater.from(parent.context)\n        val listItem = layoutInflater.inflate(R.layout.list_item, parent, false)\n        return PosterHolder(listItem)\n    }\n\n    override fun onBindViewHolder(holder: PosterHolder, position: Int) {\n        holder.view.movie_poster?.setImageResource(R.mipmap.beauty_and_the_beast_ver3)\n        holder.view.movie_poster?.scaleType = ImageView.ScaleType.FIT_XY\n    }\n}\n\nclass PosterHolder(val view: View) : RecyclerView.ViewHolder(view), View.OnClickListener {\n    var imageView: ImageView? = null\n\n    fun PosterHolder(view: View){ this.imageView = view.findViewById&lt;View&gt;(R.id.movie_poster) as ImageView }\n\n    override fun onClick(p0: View?) {}\n}\n</code></pre>\n\n<p>I don't want someone to cook the code for me.  I can't learn that way.  I would appreciate a simple step-by-step explanation on how to implement both libraries in my app.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-architecture-components", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 3588, "user_id": 1121139, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/c8ZRU.jpg?s=128&g=1", "display_name": "guisantogui", "link": "https://stackoverflow.com/users/1121139/guisantogui"}, "edited": false, "score": 0, "creation_date": 1528148980, "post_id": 50689206, "comment_id": 88388209, "body": "I&#39;m afraid you&#39;ll have to handle it mannually"}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1528149899, "post_id": 50689206, "comment_id": 88388544, "body": "What are you trying to do?"}, {"owner": {"reputation": 1062, "user_id": 3401968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6d20e52edc76a4f68d84d0b21e522b6?s=128&d=identicon&r=PG&f=1", "display_name": "BenjaminBihr", "link": "https://stackoverflow.com/users/3401968/benjaminbihr"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1528150204, "post_id": 50689206, "comment_id": 88388644, "body": "@ianhanniballake My host Activity need references to communicate with its fragments"}], "answers": [{"comments": [{"owner": {"reputation": 1471, "user_id": 1791282, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0bb84f5e1624890e36cc67a0fe023f8c?s=128&d=identicon&r=PG", "display_name": "Sever", "link": "https://stackoverflow.com/users/1791282/sever"}, "edited": false, "score": 7, "creation_date": 1555524000, "post_id": 50689587, "comment_id": 98145527, "body": "All links show how to communicate between fragments. But how we can call fragment method from activity if navigation does not provide any mechanism for getting the implementation of the current destination?"}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 1471, "user_id": 1791282, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0bb84f5e1624890e36cc67a0fe023f8c?s=128&d=identicon&r=PG", "display_name": "Sever", "link": "https://stackoverflow.com/users/1791282/sever"}, "edited": false, "score": 8, "creation_date": 1555524196, "post_id": 50689587, "comment_id": 98145621, "body": "@Sever - see <a href=\"https://issuetracker.google.com/issues/119800853\" rel=\"nofollow noreferrer\">this issue</a> and how to use <code>getPrimaryNavigationFragment()</code> to retrieve the current Fragment."}, {"owner": {"reputation": 1471, "user_id": 1791282, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0bb84f5e1624890e36cc67a0fe023f8c?s=128&d=identicon&r=PG", "display_name": "Sever", "link": "https://stackoverflow.com/users/1791282/sever"}, "edited": false, "score": 5, "creation_date": 1555525514, "post_id": 50689587, "comment_id": 98146180, "body": "Big thanks. It works.  val navHostFragment = supportFragmentManager.primaryNavigationFragment as NavHostFragment  val yourFragment = currentFragmentClassName.childFragmentManager.primaryNavigat&zwnj;&#8203;ionFragment as YourFragment"}, {"owner": {"reputation": 3179, "user_id": 753575, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5d5192cee6a6f5c5043cdb51eac9334c?s=128&d=identicon&r=PG", "display_name": "isabsent", "link": "https://stackoverflow.com/users/753575/isabsent"}, "edited": false, "score": 0, "creation_date": 1576045023, "post_id": 50689587, "comment_id": 104766215, "body": "@ianhanniballake: Sorry, I didn&#39;t understand is there a way to get the foreground fragment by means of <code>getPrimaryNavigationFragment()</code> now or they are  going to provide such opportunity in the future only!?"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1618766320, "post_id": 50689587, "comment_id": 118696128, "body": "Well, to share ViewModel between two fragments, one of them must be its owner. And the other one must find that owner in order to fetch that ViewModel. So\u2026 just never use Navigation, it&#39;s retarded."}, {"owner": {"reputation": 483, "user_id": 1048465, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/iGfXq.png?s=128&g=1", "display_name": "carl", "link": "https://stackoverflow.com/users/1048465/carl"}, "edited": false, "score": 0, "creation_date": 1618997987, "post_id": 50689587, "comment_id": 118769567, "body": "It is incomprehensible why Navigation does not maintain a list of fragments, for example needed when MainActivity wants to call a method in a child fragment. In consequence, you need to use the &quot;good old ways&quot; for that, and then, whats the point of introducing a Navigation system? I don@t get it."}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": false, "score": 41, "last_activity_date": 1528151118, "creation_date": 1528151118, "answer_id": 50689587, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment/50689587#50689587", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>Navigation does not provide any mechanism for getting the implementation (i.e., the Fragment itself) of the current destination.</p>\n\n<p>As per the <a href=\"https://developer.android.com/guide/components/fragments#EventCallbacks\" rel=\"noreferrer\">Creating event callbacks to the activity</a>, you should either communicate with your Fragment by</p>\n\n<ul>\n<li>Having the Fragment register a callback in its <code>onAttach</code> method, casting your Activity to an instance of an interface you provide</li>\n<li><a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel#sharing\" rel=\"noreferrer\">Use a shared <code>ViewModel</code></a> that your Activity and Fragment use to communicate.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 7138, "user_id": 4415642, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/253d1dc6571ed728099ff96b693f5b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Ziobro", "link": "https://stackoverflow.com/users/4415642/micha%c5%82-ziobro"}, "is_accepted": false, "score": 29, "last_activity_date": 1534925883, "creation_date": 1534925883, "answer_id": 51962582, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment/51962582#51962582", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>You can do something like this: </p>\n\n<pre><code>  override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n\n        val navHostFragment = supportFragmentManager.fragments.first() as? NavHostFragment\n        if(navHostFragment != null) {\n            val childFragments = navHostFragment.childFragmentManager.fragments\n            childFragments.forEach { fragment -&gt;\n                fragment.onActivityResult(requestCode, resultCode, data)\n            }\n        }\n    }\n</code></pre>\n\n<p>But for more advanced communication <strong>Listeners with callback methods</strong> registered in <strong>Fragment.onAttach()</strong> (<code>Fragment -&gt; Activity rather one direction communication</code>) and <strong>SharedViewModel</strong> (<code>bidirectional</code>, important to have <code>ViewModelProviders, and Lifecycle owner that is scoped to getActivity()</code> rather)  </p>\n"}, {"comments": [{"owner": {"reputation": 342, "user_id": 1563787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf5f553295a45158d318c30b2b77829a?s=128&d=identicon&r=PG", "display_name": "drdaanger", "link": "https://stackoverflow.com/users/1563787/drdaanger"}, "edited": false, "score": 2, "creation_date": 1573249206, "post_id": 53330785, "comment_id": 103834206, "body": "You can squish this down to <code>inline fun &lt;reified T : Fragment&gt; FragmentManager.findFragmentByClass(): T? =         fragments.firstOrNull { it is T } as T?</code>"}, {"owner": {"reputation": 135, "user_id": 9128185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99ceb8725a391d9ca4cbce7f6c992c10?s=128&d=identicon&r=PG&f=1", "display_name": "Emin Turk", "link": "https://stackoverflow.com/users/9128185/emin-turk"}, "edited": false, "score": 0, "creation_date": 1609423633, "post_id": 53330785, "comment_id": 115840567, "body": "Thank you! Saved my day"}], "tags": [], "owner": {"reputation": 1522, "user_id": 6907055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0055675e50553e91d6ef292f7a5a21e4?s=128&d=identicon&r=PG&f=1", "display_name": "CampbellMG", "link": "https://stackoverflow.com/users/6907055/campbellmg"}, "is_accepted": false, "score": 6, "last_activity_date": 1542337075, "creation_date": 1542337075, "answer_id": 53330785, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment/53330785#53330785", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>Using Michal's answer I wrote this extension function for testing:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nfun &lt;F : Fragment&gt; AppCompatActivity.getFragment(fragmentClass: Class&lt;F&gt;): F? {\n    val navHostFragment = this.supportFragmentManager.fragments.first() as NavHostFragment\n\n    navHostFragment.childFragmentManager.fragments.forEach {\n        if (fragmentClass.isAssignableFrom(it.javaClass)) {\n            return it as F\n        }\n    }\n\n    return null\n}\n</code></pre>\n\n<p>Used like this:</p>\n\n<pre><code>val myFragment = activity.getFragment(MyFragment::class.java)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3179, "user_id": 753575, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5d5192cee6a6f5c5043cdb51eac9334c?s=128&d=identicon&r=PG", "display_name": "isabsent", "link": "https://stackoverflow.com/users/753575/isabsent"}, "is_accepted": true, "score": 26, "last_activity_date": 1576044707, "last_edit_date": 1576044707, "creation_date": 1576044389, "answer_id": 59279744, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment/59279744#59279744", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>Reference to the displayed fragment (AndroidX): </p>\n\n<pre><code>public Fragment getForegroundFragment(){\n    Fragment navHostFragment = getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n    return navHostFragment == null ? null : navHostFragment.getChildFragmentManager().getFragments().get(0);\n}\n</code></pre>\n\n<p>Here <code>nav_host_fragment</code> is an ID \n of the <code>fragment</code> tag in your <code>activity_main.xml</code> with <code>android:name=\"androidx.navigation.fragment.NavHostFragment\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 1702, "user_id": 11982611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/788ea000769e6f8d28015264df758393?s=128&d=identicon&r=PG&f=1", "display_name": "Eren T&#252;fek&#231;i", "link": "https://stackoverflow.com/users/11982611/eren-t%c3%bcfek%c3%a7i"}, "is_accepted": false, "score": 9, "last_activity_date": 1577832636, "creation_date": 1577832636, "answer_id": 59548966, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment/59548966#59548966", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>Based on other answers </p>\n\n<pre><code>Fragment navHostFragment = getSupportFragmentManager().getPrimaryNavigationFragment();\nFragment fragment = navHostFragment.getChildFragmentManager().getFragments().get(0);\n\n((Your Fragment Class) fragment).(public method inside the fragment)\n</code></pre>\n\n<p>worked for me </p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 12964380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45c60ffa20ade359ba444346fcd3822c?s=128&d=identicon&r=PG&f=1", "display_name": "Coder", "link": "https://stackoverflow.com/users/12964380/coder"}, "is_accepted": false, "score": 1, "last_activity_date": 1590937791, "last_edit_date": 1590937791, "creation_date": 1589732139, "answer_id": 61854966, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment/61854966#61854966", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>From an Activity which has NavHostFragment, below code snippet can be used to retrieve the instance of the Active Fragment.</p>\n\n<p>kotlin</p>\n\n<p>val currentFragment \n           = mNavHostFragment?.childFragmentManager?.primaryNavigationFragment</p>\n\n<p>java</p>\n\n<pre><code>Fragment navHostFragment = getSupportFragmentManager().getPrimaryNavigationFragment();\nFragment currentFragment = navHostFragment.getChildFragmentManager().getFragments().get(0);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1064, "user_id": 5645541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQcpL.jpg?s=128&g=1", "display_name": "Soumen Das", "link": "https://stackoverflow.com/users/5645541/soumen-das"}, "is_accepted": false, "score": 2, "last_activity_date": 1591683411, "creation_date": 1591683411, "answer_id": 62276204, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment/62276204#62276204", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>@Override\n    public void onBackPressed() {\n        super.onBackPressed();</p>\n\n<pre><code>    NavController navController = Navigation.findNavController(this, R.id.fragment);\n    int id=navController.getCurrentDestination().getId();\n  if(id==R.id.startGameFragment ){\n      selectedPosition(0);\n\n  }else if(id==R.id.gameFragment ){\n      selectedPosition(1);\n\n  }else if(id==R.id.endGameFragment ){\n      selectedPosition(2);\n\n  }\n\n}enter code here\n\nprivate void selectedPosition(int pos){\n    for (int i = 0; i &gt;=nav_view.getMenu().size(); i++) {\n        nav_view.getMenu().getItem(pos).setChecked(false);\n\n    }\n    nav_view.getMenu().getItem(pos).setChecked(true);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2246, "user_id": 2326640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cce94cdbd60a4429c2320c26dd49f0c?s=128&d=identicon&r=PG&f=1", "display_name": "Zhar", "link": "https://stackoverflow.com/users/2326640/zhar"}, "is_accepted": false, "score": 1, "last_activity_date": 1597230672, "creation_date": 1597230672, "answer_id": 63375294, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment/63375294#63375294", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>I post my complete answer with androidx. <strong>Care : in my case i needed to retrieve one of the child fragment</strong> (could not be the first).</p>\n<p>In <em>MainActivity</em> you should have something like :</p>\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        DrawerLayout drawer = findViewById(R.id.drawer_layout);\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                 R.id.mytest, R.id.nav_help)\n                .setDrawerLayout(drawer)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n...\n</code></pre>\n<p>Then you have to create a method to retrieve the good fragment.</p>\n<pre><code> private MyTestFragment getMyTestFragment(){\n        MyTestFragment resultFragment = null;\n        Fragment navHostFragment = getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n        if(navHostFragment != null &amp;&amp; navHostFragment.getChildFragmentManager() != null) {\n            List&lt;Fragment&gt; fragmentList = navHostFragment.getChildFragmentManager().getFragments();\n            for (Fragment fragment : fragmentList) {\n                if (fragment instanceof MyTest) {\n                    resultFragment = (MyTest) fragment;\n                    break;\n                }\n            }\n        }\n        return resultFragment;\n    }\n</code></pre>\n<p>Finally you get it.</p>\n"}, {"tags": [], "owner": {"reputation": 2247, "user_id": 862382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iu3Ui.jpg?s=128&g=1", "display_name": "Droid Chris", "link": "https://stackoverflow.com/users/862382/droid-chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1610036122, "creation_date": 1610036122, "answer_id": 65616038, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment/65616038#65616038", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>Really the best and correct way to handle this is to use an interface. View models should really be used for passing data between the activity and fragments. Here is how I solved this problem:</p>\n<p>Create interface</p>\n<pre><code>interface NavigationInterface {\n    fun referenceCourseListFragment(fragment: CourseListFragment)\n    fun referenceCouseDetailFragment(fragment: CourseDetailInfoFragment)\n}\n</code></pre>\n<p>Make sure activity implements interface</p>\n<pre><code>class NotesActivity : AppCompatActivity(), NavigationInterface {}\n</code></pre>\n<p>Make sure to create lateinit var for each fragment you need to reference and then</p>\n<pre><code>private lateinit var courseListFragment: CourseListFragment\nprivate lateinit var courseDetailInfoFragment: CourseDetailInfoFragment\n</code></pre>\n<p>Now in each fragment in the onCreateView method, make sure to create the interface listener and passback the fragment with the interface</p>\n<pre><code>private lateinit var navigationInterface: NavigationInterface\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    //establish interface communication\n    activity?.let {\n        instantiateNavigationInterface(it)\n    }\n    // Inflate the layout for this fragment\n    fragmentView = inflater.inflate(R.layout.fragment_course_list, container, \n    false)\n    navigationInterface.referenceCourseListFragment(this)\n    return fragmentView\n}\n</code></pre>\n<p>Now back in the activity, you should be able to instantiate your fragment objects for reference via interface callback</p>\n<pre><code>override fun referenceCourseListFragment(fragment: CourseListFragment) {\n    courseListFragment = fragment\n}\n\noverride fun referenceCouseDetailFragment(fragment: CourseDetailInfoFragment) \n{\n    courseDetailInfoFragment = fragment\n}\n</code></pre>\n"}], "owner": {"reputation": 1062, "user_id": 3401968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6d20e52edc76a4f68d84d0b21e522b6?s=128&d=identicon&r=PG&f=1", "display_name": "BenjaminBihr", "link": "https://stackoverflow.com/users/3401968/benjaminbihr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34826, "favorite_count": 6, "accepted_answer_id": 59279744, "answer_count": 9, "score": 42, "last_activity_date": 1610036122, "creation_date": 1528148793, "last_edit_date": 1528150018, "question_id": 50689206, "link": "https://stackoverflow.com/questions/50689206/how-i-can-retrieve-current-fragment-in-navhostfragment", "title": "How I can retrieve current fragment in NavHostFragment?", "body": "<p>I tried to find a method in the new Navigation components but I didn't find anything about that. </p>\n\n<p>I have the current destination with :</p>\n\n<pre><code>mainHostFragment.findNavController().currentDestination\n</code></pre>\n\n<p>But I can't get any reference to the displayed fragment.</p>\n"}, {"tags": ["android", "webview", "kotlin", "android-webview"], "comments": [{"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1528142909, "post_id": 50687761, "comment_id": 88385802, "body": "That looks like a folder on your development machine. Unreachable for an Android app on an Android device far away from home. Which language/ide are you programming in?"}, {"owner": {"reputation": 2802, "user_id": 3334375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7ea497db44ae233839e211fdcf141f10?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3334375/david"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1528143486, "post_id": 50687761, "comment_id": 88386061, "body": "@greenapps Thanks for the comment I&#39;m using Android Studio with Kotlin"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1528143712, "post_id": 50687761, "comment_id": 88386152, "body": "Please post all code as text. You make it impossible for us to copy paste something."}, {"owner": {"reputation": 3043, "user_id": 5885018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSTgu.jpg?s=128&g=1", "display_name": "statosdotcom", "link": "https://stackoverflow.com/users/5885018/statosdotcom"}, "edited": false, "score": 0, "creation_date": 1528146269, "post_id": 50687761, "comment_id": 88387225, "body": "Seems a matter with the paths you&#39;re using on your html. Certify youself they are this way &#39;&lt;img src=&quot;img/test.png&quot;&gt;&#39; css/... and js/..."}, {"owner": {"reputation": 2802, "user_id": 3334375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7ea497db44ae233839e211fdcf141f10?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3334375/david"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1528178983, "post_id": 50687761, "comment_id": 88395735, "body": "@greenapps I updated my question, please take a look"}, {"owner": {"reputation": 2802, "user_id": 3334375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7ea497db44ae233839e211fdcf141f10?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3334375/david"}, "reply_to_user": {"reputation": 3043, "user_id": 5885018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSTgu.jpg?s=128&g=1", "display_name": "statosdotcom", "link": "https://stackoverflow.com/users/5885018/statosdotcom"}, "edited": false, "score": 0, "creation_date": 1528179159, "post_id": 50687761, "comment_id": 88395826, "body": "@statosdotcom my paths are correct, please take a look at my updated question"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1528179444, "post_id": 50687761, "comment_id": 88395953, "body": "What is the value of fileName? And what does that reader.readFileContext(fileName)?"}, {"owner": {"reputation": 2802, "user_id": 3334375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7ea497db44ae233839e211fdcf141f10?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3334375/david"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1528179572, "post_id": 50687761, "comment_id": 88396008, "body": "@greenapps the value of <code>file.readFIleContext(fileName)</code> is html content that posted in my question"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1528179690, "post_id": 50687761, "comment_id": 88396072, "body": "??? I would expect you were loading a html file from your files directory using the path variable. Then what is in that html file? Please give complete code as you let us guess what you are doing. And you did not tell the value of fileName."}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1528180217, "post_id": 50687761, "comment_id": 88396301, "body": "You should just use loadUrl() instead."}, {"owner": {"reputation": 2802, "user_id": 3334375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7ea497db44ae233839e211fdcf141f10?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3334375/david"}, "reply_to_user": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1528180289, "post_id": 50687761, "comment_id": 88396330, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/172472/discussion-between-david-and-greenapps\">continue this discussion in chat</a>."}, {"owner": {"reputation": 250, "user_id": 9876410, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Aqua Freshka", "link": "https://stackoverflow.com/users/9876410/aqua-freshka"}, "edited": false, "score": 0, "creation_date": 1583334025, "post_id": 50687761, "comment_id": 107081584, "body": "Hi i want to display an html file available on my device in internal storage on a webview. Did you manage to do it ? And how did you manager to see internal memory as file in your first image?"}], "owner": {"reputation": 2802, "user_id": 3334375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7ea497db44ae233839e211fdcf141f10?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/3334375/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1583369258, "creation_date": 1528141535, "last_edit_date": 1583369258, "question_id": 50687761, "link": "https://stackoverflow.com/questions/50687761/android-show-webview-content-from-device-internal-memory", "title": "Android show webview content from device internal memory", "body": "<p>I have a folder that is saved to device internal memory and I want to display <code>html</code> content (with images, <code>.css</code> styles and other things that we found on regular websites but <strong>not using any internet connection</strong>). So all the necessary resources exist in that folder (images in img folder styles in css folder and so on...) Here's how the content of folder looks like\n <a href=\"https://i.stack.imgur.com/w9wE8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w9wE8.png\" alt=\"enter image description here\"></a> </p>\n\n<p>and here how I load data to <code>webview</code></p>\n\n<pre><code>fun showWebsite(fileName: String) {\n        post { loadDataWithBaseURL(path, reader.readFileContext(fileName), \"text/html\", \"UTF-8\", null) }\n    }\n</code></pre>\n\n<p>Here how I get <code>path</code></p>\n\n<pre><code> private val ref = WeakReference(context)\n        var path: String? = null\n\n        init {\n            path = ref.get()?.filesDir?.absolutePath + File.separator\n        }\n</code></pre>\n\n<p>Here's path value <code>/data/user/0/com.web.webdemo/files/</code></p>\n\n<p>I load data to webview using <code>loadDataWithBaseURL</code> method and I pass the path to web folder in internal storage. The thing is that I can see the content of specific <code>html</code> file except for images and styles. So why is that? What I'm doing wrong?</p>\n\n<p><strong>EDIT1</strong> </p>\n\n<p>here's my html content</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n  &lt;script src=\"js/lib.js\"&gt;&lt;/script&gt;\n  &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/theme.css\"&gt;\n\n&lt;/head&gt;\n\n\n&lt;body&gt;\n\n  Hello Start\n  &lt;img src=\"img/test.png\" alt=\"super image\"&gt;\n\n\n  &lt;button onclick=\"next()\"&gt;Press me&lt;/button&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>EDIT2</strong></p>\n\n<p>OK, so I solved one part of problem. Now my <code>css</code> styles are loaded. I added <strong>\"file://\"</strong> to <code>baseUrl</code> Full code </p>\n\n<pre><code>loadDataWithBaseURL(\"file://\" + reader.path, reader.readFileContext(fileName), \"text/html\", \"UTF-8\", null)\n</code></pre>\n\n<p>But images is still missing :/</p>\n"}, {"tags": ["android-recyclerview", "kotlin", "android-cardview"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1528144879, "post_id": 50687722, "comment_id": 88386649, "body": "I&#39;d turn it around and add the image as a decoration on top of the item, giving it a positive offset"}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1528146257, "post_id": 50687722, "comment_id": 88387217, "body": "I don&#39;t see how setting a positive offset could create overlap effect. Do you mind share some code and post as an answer? Thanks a lot!"}, {"owner": {"reputation": 1511, "user_id": 1397299, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b97440e120594fdeda3417ce16f25e81?s=128&d=identicon&r=PG", "display_name": "traninho", "link": "https://stackoverflow.com/users/1397299/traninho"}, "edited": false, "score": 0, "creation_date": 1592465264, "post_id": 50687722, "comment_id": 110436020, "body": "Have you managed to solve this issue? I have the same issue."}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1561756016, "creation_date": 1528141369, "question_id": 50687722, "link": "https://stackoverflow.com/questions/50687722/negative-offset-causes-recyclerview-item-to-disappear", "title": "Negative offset causes RecyclerView item to disappear", "body": "<p>In my <code>RecyclerView</code>, I have a header image for each group of <code>CardView</code>. The image extends below the first card view to create a nice visual effect. I achieved this by creating an image header view holder, and set the offset of the first <code>CardView</code> in each group to be negative (using <code>ItemDecoration</code>). However, as you can see at the bottom of the screen, the <code>CardView</code> disappears before it goes completely offscreen. </p>\n\n<p><a href=\"https://i.stack.imgur.com/AAAxc.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AAAxc.gif\" alt=\"enter image description here\"></a></p>\n\n<p>My custom item decoration</p>\n\n<pre><code>class OffsetItemDecoration(val offset: Int, val itemPositions: Array&lt;Int&gt;) : RecyclerView.ItemDecoration() {\n\n    override fun getItemOffsets(outRect: Rect, view: View, parent: RecyclerView, state: RecyclerView.State?) {\n        super.getItemOffsets(outRect, view, parent, state)\n\n        val position = parent.getChildAdapterPosition(view)\n        val layoutManager = parent.layoutManager\n\n        if (!itemPositions.contains(position) || layoutManager !is LinearLayoutManager) {\n            return\n        }\n        outRect.top = offset\n    }\n}\n</code></pre>\n\n<p>In my <code>MainActivity</code>: </p>\n\n<pre><code>val itemOffset = OffsetItemDecoration(-150, arrayOf(1, 5))\nrecycler_view.addItemDecoration(itemOffset)\n</code></pre>\n\n<p>Recommendations of other ways to achieve the same effect would be appreciated as well</p>\n"}, {"tags": ["android", "sockets", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 6601, "user_id": 5457853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ee94ffac93a9a507abbbbd679f4779a?s=128&d=identicon&r=PG&f=1", "display_name": "Thracian", "link": "https://stackoverflow.com/users/5457853/thracian"}, "edited": false, "score": 0, "creation_date": 1528139545, "post_id": 50687203, "comment_id": 88384315, "body": "onPostExecute() method of AsyncTask is invoked in UI thread. You can get data inside that method with correct parameters and change properties of UI elements such as text view. Please, Google AsyncTask for more info."}, {"owner": {"reputation": 243, "user_id": 4862382, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/42aGe.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4862382/adam"}, "reply_to_user": {"reputation": 6601, "user_id": 5457853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ee94ffac93a9a507abbbbd679f4779a?s=128&d=identicon&r=PG&f=1", "display_name": "Thracian", "link": "https://stackoverflow.com/users/5457853/thracian"}, "edited": false, "score": 0, "creation_date": 1528139903, "post_id": 50687203, "comment_id": 88384481, "body": "@Thracian Thanks, this solve my first problem, can you please help me with the other problem? (this is the major one..)."}, {"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1528150544, "post_id": 50687203, "comment_id": 88388757, "body": "Look for &quot;java socket chat&quot; examples, there are plenty. You are going to have to learn about threads."}], "answers": [{"tags": [], "owner": {"reputation": 2410, "user_id": 1022886, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tlx1K.jpg?s=128&g=1", "display_name": "jt-gilkeson", "link": "https://stackoverflow.com/users/1022886/jt-gilkeson"}, "is_accepted": false, "score": 0, "last_activity_date": 1528154677, "creation_date": 1528154677, "answer_id": 50690043, "question_id": 50687203, "link": "https://stackoverflow.com/questions/50687203/pass-data-between-activity-to-asynctask-and-from-asynctask-to-activity/50690043#50690043", "title": "pass data between activity to asyncTask and from asyncTask to activity", "body": "<p>You can implement on ongoing socket like this, and just call the sendDataToNetwork() method for the editText </p>\n\n<p><a href=\"https://stackoverflow.com/questions/5135438/example-android-bi-directional-network-socket-using-asynctask/\">Example: Android bi-directional network socket using AsyncTask</a></p>\n\n<p>There are better ways to manage threads or use libraries like RxJava, but for a basic simple implementation the above should work.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1528186516, "creation_date": 1528186516, "answer_id": 50695320, "question_id": 50687203, "link": "https://stackoverflow.com/questions/50687203/pass-data-between-activity-to-asynctask-and-from-asynctask-to-activity/50695320#50695320", "title": "pass data between activity to asyncTask and from asyncTask to activity", "body": "<p>Instead of bothering with the <code>AsyncTask</code>, I highly recommend you to use coroutines instead:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.chat_show)\n    launch (CommonPool) {\n        val sock = Socket(\"192.168.1.108\", 5000)\n        sock.use {\n            it.outputStream.write(\"hello socket world\".toByteArray())\n            withContext(UI) {\n                // update the view\n            }\n            // more socket ops\n            withContext(UI) {\n                // update the view again\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 4862382, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/42aGe.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4862382/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528198124, "creation_date": 1528139144, "last_edit_date": 1528198124, "question_id": 50687203, "link": "https://stackoverflow.com/questions/50687203/pass-data-between-activity-to-asynctask-and-from-asynctask-to-activity", "title": "pass data between activity to asyncTask and from asyncTask to activity", "body": "<p>I have an app that communicates with a server during <strong>sockets</strong>.\nfirst I did this:</p>\n\n<pre><code>val sock = Socket(\"192.168.1.108\", 5000)\n</code></pre>\n\n<p>and the app crashed because of the error: \"android.os.NetworkOnMainThreadException\", I read about it and I found a solution for that error and the solution is to create a syncTask as an inner class, and this is what I did:</p>\n\n<pre><code>class randomChat : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.chat_show)\n\n        HandleServer().execute()\n    }\n\n    inner class HandleServer: AsyncTask&lt;String, String, String&gt;() {\n\n        override fun doInBackground(vararg p0: String?): String {\n            val sock = Socket(\"192.168.1.108\", 5000)\n            sock.getInputStream()\n\n            sock.use {\n                it.outputStream.write(\"hello socket world\".toByteArray())\n            }\n            return \"Good\"\n        }\n\n    }\n}\n</code></pre>\n\n<p>and that fixed the error, But did not fix my needs...\nbasically, my needs are to have a conversion between the server and the user who use the app, the user will have an editText view and a button to send the data to the server and a textView that always change based on server data.</p>\n\n<p>So:\nWhat I need to have is:</p>\n\n<ol>\n<li>open socket that receives data all the time from the server and updates a view in the activity</li>\n<li>I need to be able to have an editText in the activity that by user click it's send data to the server (with the socket)</li>\n</ol>\n\n<p>Thank you very much !!!!!</p>\n"}, {"tags": ["spring", "mongodb", "spring-boot", "kotlin", "spring-data-mongodb"], "answers": [{"tags": [], "owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "is_accepted": true, "score": 0, "last_activity_date": 1528208749, "creation_date": 1528208749, "answer_id": 50702568, "question_id": 50687190, "link": "https://stackoverflow.com/questions/50687190/sliced-projections-with-spring-data-mongodb-reactivemongorepository/50702568#50702568", "title": "Sliced projections with Spring Data MongoDB ReactiveMongoRepository?", "body": "<p>I managed to solve this by changing:</p>\n\n<pre><code>interface MyRepository : ReactiveMongoRepository&lt;MyDocument, String&gt; {             \n    fun findByMyId(myId: String, pageable: Pageable): Flux&lt;MyArrayProjection&gt;\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>interface MyRepository : ReactiveMongoRepository&lt;MyDocument, String&gt; {             \n    @Query(value = \"{ '_id' : ?0 }\", fields = \"{ 'myArray': { '\\$slice': ?1 } }\")\n    fun findByMyId(myId: String, slice: Array&lt;Int&gt;): Flux&lt;MyArrayProjection&gt;\n}\n</code></pre>\n\n<p>and then call it using:</p>\n\n<pre><code>myRepository.findByMyId(\"1\", arrayOf(1, 2))\n</code></pre>\n"}], "owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 50702568, "answer_count": 1, "score": 0, "last_activity_date": 1528208749, "creation_date": 1528139053, "last_edit_date": 1528142521, "question_id": 50687190, "link": "https://stackoverflow.com/questions/50687190/sliced-projections-with-spring-data-mongodb-reactivemongorepository", "title": "Sliced projections with Spring Data MongoDB ReactiveMongoRepository?", "body": "<p>I have a collection named <code>myCollection</code> that contains documents with the following format:</p>\n\n<pre><code>{\n    \"_id\" : \"1\",\n    \"myArray\" : [ { x: 1, y: \"a\" }, { x: 2, y: \"b\" }, { x: 3, y: \"c\" }, { x: 4, y: \"d\" }, { x: 5, y: \"e\" }]\n}\n</code></pre>\n\n<p>What I'd like to do is to construct a query that returns a <a href=\"https://docs.mongodb.com/manual/reference/operator/projection/slice/\" rel=\"nofollow noreferrer\">slice</a> of some elements in <code>myArray</code> as a projection.</p>\n\n<p>I.e. let's say that my document is defined like this:</p>\n\n<pre><code>@Document(collection = \"myCollection\")\ndata class MyDocument(@Id val myId : String, val myArray : List&lt;MyItem&gt;)\n</code></pre>\n\n<p>where <code>MyItem</code> is defined like this:</p>\n\n<pre><code>data class MyItem(val x: Int, val y: String)\n</code></pre>\n\n<p>Now I want to create a function that returns a list of <code>MyItem</code> given a certain offset and item count (or a \"page\") for a <code>MyDocument</code> with a specific id.</p>\n\n<p>This is what I've tried (using <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#projections\" rel=\"nofollow noreferrer\">projections</a>):</p>\n\n<pre><code>data class MyArrayProjection(val myArray: List&lt;MyItem&gt;)\n\ninterface MyRepository : ReactiveMongoRepository&lt;MyDocument, String&gt; {             \n    fun findByMyId(myId: String, pageable: Pageable): Flux&lt;MyArrayProjection&gt;\n}\n</code></pre>\n\n<p>What I'd like to see when calling this function with e.g.</p>\n\n<pre><code>myRepository.findByMyId(\"1\", PageRequest.of(1, 2))\n</code></pre>\n\n<p>is that it returns a <code>Flux</code> containing <code>MyItem(x=3, y=\"c\")</code> and <code>MyItem(x=4, y=\"d\")</code> but instead it's empty.</p>\n\n<p>The generated MongoDB query looks like this:</p>\n\n<pre><code>{\n    \"find\" : \"myCollection\",\n    \"filter\" : {\n        \"_id\" : \"1\"\n    },\n    \"projection\" : {\n        \"myArray\" : 1\n    },\n    \"skip\" : 2,\n    \"limit\" : 2,\n    \"batchSize\" : 256\n}\n</code></pre>\n\n<p>What I suspect is happening is that the <code>Pageable</code> instance operates on the aggregate (<code>MyDocument</code>) and not \"inside\" the <code>myArray</code> field which is why I suspect that I want to somehow use the <a href=\"https://docs.mongodb.com/manual/reference/operator/projection/slice/\" rel=\"nofollow noreferrer\">$slice</a> operator instead.</p>\n\n<p>How can I achieve this? If it won't work using the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/repository/ReactiveMongoRepository.html\" rel=\"nofollow noreferrer\">ReactiveMongoRepository</a> then I'm fine with using <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoOperations.html\" rel=\"nofollow noreferrer\">ReactiveMongoOperations</a>.</p>\n"}, {"tags": ["kotlin", "android-navigation", "android-jetpack"], "comments": [{"owner": {"reputation": 15333, "user_id": 1617737, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/BSCrn.jpg?s=128&g=1", "display_name": "ban-geoengineering", "link": "https://stackoverflow.com/users/1617737/ban-geoengineering"}, "edited": false, "score": 6, "creation_date": 1592407597, "post_id": 50686907, "comment_id": 110416080, "body": "I had the same issue. <b>Build</b> &gt; <b>Rebuild Project</b> solved it for me."}], "answers": [{"comments": [{"owner": {"reputation": 1987, "user_id": 5420747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1leda.jpg?s=128&g=1", "display_name": "Joshua King", "link": "https://stackoverflow.com/users/5420747/joshua-king"}, "edited": false, "score": 7, "creation_date": 1571676044, "post_id": 51198551, "comment_id": 103311471, "body": "Additionally, I have to re-sync my project for it to show up."}, {"owner": {"reputation": 559, "user_id": 3438172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UdUM2.png?s=128&g=1", "display_name": "Ace", "link": "https://stackoverflow.com/users/3438172/ace"}, "edited": false, "score": 1, "creation_date": 1589725560, "post_id": 51198551, "comment_id": 109401218, "body": "even though I did all of the suggested solutions here before coming to SO, nothing worked, I even did invalidate cache/restart, still didn&#39;t work. This answer is the only one i did not know of or applied, but it still didn&#39;t directly work. It actually gave me a build error, but i think it triggered sth new. I then did a clean&gt;rebuild again, and it finally worked."}, {"owner": {"reputation": 147, "user_id": 9212084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fbf11e37bbd352e3435473cb11009ab?s=128&d=identicon&r=PG&f=1", "display_name": "apsommer", "link": "https://stackoverflow.com/users/9212084/apsommer"}, "edited": false, "score": 0, "creation_date": 1603245762, "post_id": 51198551, "comment_id": 113973944, "body": "Invalidate cache and restart does not work by itself, must clean and rebuild."}], "tags": [], "owner": {"reputation": 964, "user_id": 2504085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dfd8681a57d495a2206e0fef72a9cef?s=128&d=identicon&r=PG", "display_name": "shmulik.r", "link": "https://stackoverflow.com/users/2504085/shmulik-r"}, "is_accepted": true, "score": 75, "last_activity_date": 1587464787, "last_edit_date": 1587464787, "creation_date": 1530818745, "answer_id": 51198551, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/51198551#51198551", "title": "Safeargs library doesnt generate direction class", "body": "<p>Look for the class of the fragment which is the source of navigation. If you define navigation from FragmentA to FragmentB, you will find FragmentADirections class with the actions you defined (in nav_graph.xml) in it.</p>\n\n<p>Then, to generate direction class ( Also argument class) you need to go <code>Project level gradle</code> then click the <code>build</code> command. Here I attached a screenshot to give a clear understanding.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zZHe7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zZHe7.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "edited": false, "score": 2, "creation_date": 1605382082, "post_id": 59732536, "comment_id": 114634992, "body": "also, don&#39;t forget to add the <code>classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.3.&zwnj;&#8203;0&quot;</code> in the project-level <code>build.gradle</code> file, too"}, {"owner": {"reputation": 2890, "user_id": 295141, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a162fb4ab82cef24d302e9dec99c5ff7?s=128&d=identicon&r=PG&f=1", "display_name": "peter.o", "link": "https://stackoverflow.com/users/295141/peter-o"}, "edited": false, "score": 0, "creation_date": 1611598821, "post_id": 59732536, "comment_id": 116498559, "body": "This pointed me to the solution. I had to include this plugin in the module&#39;s <code>build.gradle.kts</code> file, in my multi-module project."}], "tags": [], "owner": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "is_accepted": false, "score": 50, "last_activity_date": 1578999977, "creation_date": 1578999977, "answer_id": 59732536, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/59732536#59732536", "title": "Safeargs library doesnt generate direction class", "body": "<p>I forgot to apply plugin in <code>app.gradle</code> file, just add this line</p>\n\n<pre><code>apply plugin: \"androidx.navigation.safeargs.kotlin\"\n</code></pre>\n\n<p>or this line if you are using java</p>\n\n<pre><code>apply plugin: \"androidx.navigation.safeargs\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1873, "user_id": 2033223, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XjnI4.png?s=128&g=1", "display_name": "Javatar", "link": "https://stackoverflow.com/users/2033223/javatar"}, "edited": false, "score": 1, "creation_date": 1584111711, "post_id": 60669135, "comment_id": 107344872, "body": "Fyi: Also had to add: <code>kotlinOptions {     jvmTarget = JavaVersion.VERSION_1_8.toString() }</code> to build.gradle"}], "tags": [], "owner": {"reputation": 1873, "user_id": 2033223, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XjnI4.png?s=128&g=1", "display_name": "Javatar", "link": "https://stackoverflow.com/users/2033223/javatar"}, "is_accepted": false, "score": 2, "last_activity_date": 1584109627, "last_edit_date": 1584109627, "creation_date": 1584096756, "answer_id": 60669135, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/60669135#60669135", "title": "Safeargs library doesnt generate direction class", "body": "<p>Also make sure to use an up to date version. Had the problem, that I had an 1.X version.</p>\n\n<pre><code>// Navigation\nimplementation \"androidx.navigation:navigation-fragment-ktx:2.2.1\"\nimplementation \"androidx.navigation:navigation-ui-ktx:2.2.1\"\n</code></pre>\n\n<p>And the args correctely in the nav.xml:</p>\n\n<pre><code>&lt;fragment\n    android:id=\"@+id/categoryFragment\"\n    android:name=\"com...CategoryFragment\"\n    android:label=\"CategoryFragment\"\n    tools:layout=\"@layout/fragment_category\"&gt;\n    &lt;action\n        android:id=\"@+id/action_categoryFragment_to_ProductFragment\" // /!\\\n        app:destination=\"@id/productFragment\"\n        &lt;argument\n            android:name=\"products\"\n            android:defaultValue=\"\"\n            app:argType=\"string\" /&gt;\n    &lt;/action&gt;\n&lt;/fragment&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>override fun onItemClicked(category: Category) {\n     val action = CategoryFragmentDirections.actionCategoryToProductFragment(products = \"myString\") // /!\\\n     view?.findNavController()?.navigate(action)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 4594347, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gNiYw2mrIcg/AAAAAAAAAAI/AAAAAAAAAUY/sf4ozBUiO0M/photo.jpg?sz=128", "display_name": "Tonui Nicholus", "link": "https://stackoverflow.com/users/4594347/tonui-nicholus"}, "is_accepted": false, "score": 2, "last_activity_date": 1584602384, "last_edit_date": 1584602384, "creation_date": 1584602038, "answer_id": 60752445, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/60752445#60752445", "title": "Safeargs library doesnt generate direction class", "body": "<p>In your app/module level add the following dependency :</p>\n\n<pre><code>    def nav_version = \"2.3.0-alpha04\"  //your nav_version defined \n\n    implementation \"androidx.navigation:navigation-dynamic-features-fragment:$nav_version\"\n</code></pre>\n\n<p>all the answers are correct too. just felt that I should add this info. It worked for me</p>\n"}, {"comments": [{"owner": {"reputation": 928, "user_id": 9109560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXdeU.png?s=128&g=1", "display_name": "Mashiro", "link": "https://stackoverflow.com/users/9109560/mashiro"}, "edited": false, "score": 1, "creation_date": 1618753116, "post_id": 61055136, "comment_id": 118691923, "body": "i had the same problem and the solution worked for me"}], "tags": [], "owner": {"reputation": 4521, "user_id": 10041823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJ8EW.jpg?s=128&g=1", "display_name": "Alexandre B.", "link": "https://stackoverflow.com/users/10041823/alexandre-b"}, "is_accepted": false, "score": 12, "last_activity_date": 1586159227, "creation_date": 1586159227, "answer_id": 61055136, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/61055136#61055136", "title": "Safeargs library doesnt generate direction class", "body": "<p>If you already added the <code>dependencies &gt; classpath</code> and <code>apply plugin</code> but changes aren't applied, be sure to <strong><code>Clean</code> and <code>Built</code></strong> the project in order changes are applied.</p>\n\n<p>In Android Studio:</p>\n\n<ul>\n<li><code>Build tab &gt; Clean project</code></li>\n<li><code>Build tab &gt; ReBuild project</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 13178919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada431afad2ee04cb414492aa1baafb4?s=128&d=identicon&r=PG&f=1", "display_name": "Leak15", "link": "https://stackoverflow.com/users/13178919/leak15"}, "is_accepted": false, "score": 4, "last_activity_date": 1587883827, "creation_date": 1587883827, "answer_id": 61436869, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/61436869#61436869", "title": "Safeargs library doesnt generate direction class", "body": "<p>For me, I realized that I also needed to put the same arguments into the receiver fragment in navi_graph.xml as well in order for Arg class to be generated(already have directions).\nFor example:</p>\n\n<pre><code>&lt;fragment android:id=\"@+id/receiver_fragment\" ...&gt;\n\n    &lt;argument android:name=\"arg_from_sender_fragment\".../&gt;\n\n    &lt;argument android:name=\"arg2_from_sender_fragment\".../&gt;\n\n&lt;/fragment&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 477, "user_id": 1090523, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Lt4Fvt_xdSQ/AAAAAAAAAAI/AAAAAAAACWc/f2LEBdUKOYI/photo.jpg?sz=128", "display_name": "Chapz", "link": "https://stackoverflow.com/users/1090523/chapz"}, "edited": false, "score": 0, "creation_date": 1612280781, "post_id": 61439134, "comment_id": 116714502, "body": "Thank you for this. Even though I had the problem that my *Args class was not generated, in the end I was adding my &lt;argument&gt; tag under origin fragment instead of the destination fragment."}], "tags": [], "owner": {"reputation": 2125, "user_id": 4963233, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/avUXE.png?s=128&g=1", "display_name": "Rami Jemli", "link": "https://stackoverflow.com/users/4963233/rami-jemli"}, "is_accepted": false, "score": 10, "last_activity_date": 1587896524, "creation_date": 1587896524, "answer_id": 61439134, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/61439134#61439134", "title": "Safeargs library doesnt generate direction class", "body": "<p>If all the answers above didn't work for you and you are still having a problem with the directions class not being generated. <strong>Make sure you are looking for the right directions class</strong>. <br/><br/>For example, we have to pass arguments from <code>FragmentA</code> to <code>FragmentB</code>. <br/>In the navigation graph file, we have to add the <code>&lt;argument/&gt;</code> tag under <code>FragmentB</code>'s tag. This way, we will get two generated classes <code>FragmentBArgs</code> and <code>FragmentADirections</code>. As you can see, <strong>it is the <code>FragmentA</code>'s name who got used for the directions class created, not <code>FragmentB</code></strong>.<br/><br/> So, keep in mind that unlike what this question's user is looking for, the directions class generated will get the class name of the action starter fragment appended with the word \"Directions\". Not the destination fragment's class name (argument's owner).<br/><br/>\nHere is what the <a href=\"https://developer.android.com/guide/navigation/navigation-pass-data\" rel=\"noreferrer\">documentation</a> says:<br/></p>\n\n<blockquote>\n  <p>A class is created for each destination where an action originates.\n  <strong>The name of this class is the name of the originating destination,\n  appended with the word \"Directions\".</strong><br/>\n  <br/>\n  A class is created for the receiving destination. The name of this\n  class is the name of the destination, appended with the word \"Args\".</p>\n</blockquote>\n\n<p>Also, adding the argument tag under the action tag will not generate a directions class. It's used to give a different default value for the destination fragment's argument.</p>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 7328, "user_id": 1101730, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0ZiMa.jpg?s=128&g=1", "display_name": "Micer", "link": "https://stackoverflow.com/users/1101730/micer"}, "edited": false, "score": 0, "creation_date": 1592669192, "post_id": 61826096, "comment_id": 110510224, "body": "You&#39;d better use <code>classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav&zwnj;&#8203;_version&quot;</code> since you use AndroidX."}], "tags": [], "owner": {"reputation": 141, "user_id": 5096792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/386401a4e474adb3b8f2a35df5d0e207?s=128&d=identicon&r=PG&f=1", "display_name": "Fabi", "link": "https://stackoverflow.com/users/5096792/fabi"}, "is_accepted": false, "score": 11, "last_activity_date": 1589568054, "last_edit_date": 1589568054, "creation_date": 1589567691, "answer_id": 61826096, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/61826096#61826096", "title": "Safeargs library doesnt generate direction class", "body": "<p>We can fix this issue by adding the below codes in gradle and rebuilding the app. In the project gradle add below code.</p>\n\n<pre><code>classpath \"android.arch.navigation:navigation-safe-args-gradle-plugin:1.0.0\"\n</code></pre>\n\n<p>In app gradle add below code</p>\n\n<pre><code>apply plugin: \"androidx.navigation.safeargs\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20567, "user_id": 2091181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHqzp.png?s=128&g=1", "display_name": "Jorge Casariego", "link": "https://stackoverflow.com/users/2091181/jorge-casariego"}, "is_accepted": false, "score": 2, "last_activity_date": 1591668941, "creation_date": 1591668941, "answer_id": 62273963, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/62273963#62273963", "title": "Safeargs library doesnt generate direction class", "body": "<p>In my case, the problem was that I was using the same fragment with the same id in 2 navigation graphs.</p>\n\n<p>Android Studio didn\u2019t recognize the actions of one of the navigation graphs. </p>\n\n<p>So the solution for me was to <em>change the id of one of the navigation graphs, rebuild, change again the id and rebuild again</em>. </p>\n\n<p>After that everything worked again</p>\n"}, {"comments": [{"owner": {"reputation": 7328, "user_id": 1101730, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0ZiMa.jpg?s=128&g=1", "display_name": "Micer", "link": "https://stackoverflow.com/users/1101730/micer"}, "edited": false, "score": 1, "creation_date": 1592669716, "post_id": 62333977, "comment_id": 110510380, "body": "You just saved me a few hours! I had exactly the same issue, downgraded to stable and boom, Directions classes are generated! Thanks for sharing this!"}], "tags": [], "owner": {"reputation": 2530, "user_id": 2125351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GO1Q.jpg?s=128&g=1", "display_name": "Sean Blahovici", "link": "https://stackoverflow.com/users/2125351/sean-blahovici"}, "is_accepted": false, "score": 2, "last_activity_date": 1591911401, "creation_date": 1591911401, "answer_id": 62333977, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/62333977#62333977", "title": "Safeargs library doesnt generate direction class", "body": "<p>I followed all instructions to the letter and noticed the Directions classes were being generated, but would not compile when called in code. This happened while using Android Studio 4.1 and 4.2 Preview.</p>\n\n<p>After a few hours, I decided to try downgrading to 4.0 Stable. All issues are now gone, I can call the FragmentDirections and it compiles.</p>\n\n<p>I added a bug in the issue tracker: <a href=\"https://issuetracker.google.com/issues/158777967\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/158777967</a></p>\n"}, {"tags": [], "owner": {"reputation": 705, "user_id": 5328951, "user_type": "registered", "profile_image": "https://graph.facebook.com/899571496801046/picture?type=large", "display_name": "Yogesh Nikam Patil", "link": "https://stackoverflow.com/users/5328951/yogesh-nikam-patil"}, "is_accepted": false, "score": 5, "last_activity_date": 1592819232, "creation_date": 1592819232, "answer_id": 62511635, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/62511635#62511635", "title": "Safeargs library doesnt generate direction class", "body": "<p>Following two steps works for me:</p>\n<ol>\n<li>Clean project.</li>\n<li>Rebuild project</li>\n</ol>\n<p>Android studio 4.0\nKotlin 1.3.72</p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 13150066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4SPQE.png?s=128&g=1", "display_name": "Lheonair", "link": "https://stackoverflow.com/users/13150066/lheonair"}, "is_accepted": false, "score": 2, "last_activity_date": 1593045983, "creation_date": 1593045983, "answer_id": 62566178, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/62566178#62566178", "title": "Safeargs library doesnt generate direction class", "body": "<p>If anybody's having trouble with auto-generated classes with SafeArgs, check your AndroidStudio version. I was using 4.1 beta (at this moment) and when downgraded to 4.0 it works perfectly. Definitely do try that. Cheers!</p>\n"}, {"comments": [{"owner": {"reputation": 452, "user_id": 4713369, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204135339171288/picture?type=large", "display_name": "Geert Berkers", "link": "https://stackoverflow.com/users/4713369/geert-berkers"}, "edited": false, "score": 0, "creation_date": 1602169124, "post_id": 62568138, "comment_id": 113641089, "body": "Yes, this was the correct answer for me. Already included the plugins."}, {"owner": {"reputation": 97, "user_id": 3916257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb5be05c9b65dc5d4ca70f6912c1a088?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/3916257/george"}, "edited": false, "score": 0, "creation_date": 1607194711, "post_id": 62568138, "comment_id": 115197991, "body": "Damn!! You sir are an amazing person! Thank you!!"}, {"owner": {"reputation": 143, "user_id": 2291718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FizIJ.jpg?s=128&g=1", "display_name": "Kochchy", "link": "https://stackoverflow.com/users/2291718/kochchy"}, "edited": false, "score": 0, "creation_date": 1608554568, "post_id": 62568138, "comment_id": 115611013, "body": "the missing args broke the file analysis and inspections for me, the ide was not useable. U just saved my life"}], "tags": [], "owner": {"reputation": 341, "user_id": 1285249, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/KB5MA.png?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/1285249/christian"}, "is_accepted": false, "score": 25, "last_activity_date": 1593061056, "creation_date": 1593061056, "answer_id": 62568138, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/62568138#62568138", "title": "Safeargs library doesnt generate direction class", "body": "<p>I faced a similar issue working with android studio 4.2 preview.</p>\n<p>The issue was that the IDE somehow was not picking the source folders where the generated direction classes where being placed by the plugin. So adding the following to my app build.gradle file resolved the issue for me.</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs += 'build/generated/source/navigation-args'\n        }\n    }\n}\n</code></pre>\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 283, "user_id": 13215280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kycBp.png?s=128&g=1", "display_name": "MaxGDN", "link": "https://stackoverflow.com/users/13215280/maxgdn"}, "edited": false, "score": 2, "creation_date": 1607109054, "post_id": 62591895, "comment_id": 115178438, "body": "This answer solved my issue on Android Studio 4.2"}], "tags": [], "owner": {"reputation": 111, "user_id": 8362757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357ec7be9fd1478245e1c5f604551812?s=128&d=identicon&r=PG&f=1", "display_name": "Zdenek Sima", "link": "https://stackoverflow.com/users/8362757/zdenek-sima"}, "is_accepted": false, "score": 10, "last_activity_date": 1593163882, "creation_date": 1593163882, "answer_id": 62591895, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/62591895#62591895", "title": "Safeargs library doesnt generate direction class", "body": "<p>As Christian wrote, adding source set do app gradle file helped. The problem occurs in Android Studio 4.1 and 4.2 for me.\nIn Kotlin DSL:</p>\n<pre><code>android {\n    ....\n    sourceSets {\n        getByName(&quot;main&quot;).java.srcDirs(&quot;build/generated/source/navigation-args&quot;)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 361, "user_id": 2458337, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ea811a955ac7f2569d799acfea096165?s=128&d=identicon&r=PG", "display_name": "Antroid", "link": "https://stackoverflow.com/users/2458337/antroid"}, "edited": false, "score": 0, "creation_date": 1601161278, "post_id": 63246619, "comment_id": 113320349, "body": "What do  you mean ? action and arg in  same fragment tag? doesn&#39;t make sense.  The argument should be in destination and action should be in the action originating fragment tag"}], "tags": [], "owner": {"reputation": 325, "user_id": 4280197, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1733326262/picture?type=large", "display_name": "Andrei Chernyshev", "link": "https://stackoverflow.com/users/4280197/andrei-chernyshev"}, "is_accepted": false, "score": 2, "last_activity_date": 1596543077, "creation_date": 1596543077, "answer_id": 63246619, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/63246619#63246619", "title": "Safeargs library doesnt generate direction class", "body": "<p>Took a bit to figure out but you need both action and arguments in your nav xml file to generate both.</p>\n<pre><code>&lt;fragment\n    android:id=&quot;@+id/nav_someId&quot;\n    android:name=&quot;.CategoriesFragment&quot;\n    android:label=&quot;@string/someName&quot;\n    tools:layout=&quot;@layout/fragment_categories&quot;&gt;\n    &lt;argument\n        android:name=&quot;@string/category&quot;\n        android:defaultValue=&quot;0&quot;\n        app:argType=&quot;string&quot; /&gt;\n    &lt;action\n        android:id=&quot;@+id/startCategoriesFragment&quot;\n        app:destination=&quot;@+id/categoriesFragment&quot;&gt;\n        &lt;argument\n            android:name=&quot;@string/category&quot;\n            android:defaultValue=&quot;0&quot;\n            app:argType=&quot;string&quot; /&gt;\n    &lt;/action&gt;\n&lt;/fragment&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7824, "user_id": 4380127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53d8cd450fb099709993b03f5556802e?s=128&d=identicon&r=PG", "display_name": "Abror Esonaliev", "link": "https://stackoverflow.com/users/4380127/abror-esonaliev"}, "edited": false, "score": 0, "creation_date": 1617250927, "post_id": 63620122, "comment_id": 118253786, "body": "In my case adding plugin for kotlin helped me, thanks"}], "tags": [], "owner": {"reputation": 659, "user_id": 2606290, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/5fPLm.jpg?s=128&g=1", "display_name": "Fernando Prieto", "link": "https://stackoverflow.com/users/2606290/fernando-prieto"}, "is_accepted": false, "score": 2, "last_activity_date": 1598544800, "creation_date": 1598544800, "answer_id": 63620122, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/63620122#63620122", "title": "Safeargs library doesnt generate direction class", "body": "<p>In my case, the missing part was firstly in the <em>build.gradle.kts</em></p>\n<pre><code>buildscript {\nrepositories {\n    google()\n}\ndependencies {\n    def nav_version = &quot;X.X.X&quot; // Use the latest version\n    classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n}\n</code></pre>\n<p>}</p>\n<p>and then, I had to add the <strong>plugin</strong> in <em>app</em> and <em>navigation</em> modules (I usually separate navigation in a different one):</p>\n<pre><code>apply plugin: &quot;androidx.navigation.safeargs.kotlin&quot;\n</code></pre>\n<p><em>Clean -&gt; Build</em>  But still had to add manually the path to the action</p>\n<pre><code>import yourpackage.FragmentDirections.Companion.actionFirstFragmentToSecondFragment\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 6086086, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/fdfd2f4314d580bf3ab8e33c2da601bc?s=128&d=identicon&r=PG&f=1", "display_name": "Asad", "link": "https://stackoverflow.com/users/6086086/asad"}, "is_accepted": false, "score": 0, "last_activity_date": 1605592577, "creation_date": 1605592577, "answer_id": 64870021, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/64870021#64870021", "title": "Safeargs library doesnt generate direction class", "body": "<p>the problem may be with your <code>apply plugin</code> thing\nplease check if you are using java then add:</p>\n<pre><code>apply plugin: &quot;androidx.navigation.safeargs&quot;\n</code></pre>\n<p>and for kotlin use this:</p>\n<pre><code>apply plugin: &quot;androidx.navigation.safeargs.kotlin&quot;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2702, "user_id": 7254873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jfQVFidpSlo/AAAAAAAAAAI/AAAAAAAAAFM/DBb8C8t0w64/photo.jpg?sz=128", "display_name": "Sumit Shukla", "link": "https://stackoverflow.com/users/7254873/sumit-shukla"}, "is_accepted": false, "score": 1, "last_activity_date": 1609172281, "creation_date": 1609172281, "answer_id": 65480626, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/65480626#65480626", "title": "Safeargs library doesnt generate direction class", "body": "<p>Follow these steps:</p>\n<blockquote>\n<p>Step 1: Add dependencies</p>\n</blockquote>\n<pre><code>def nav_version = &quot;2.3.2&quot;\n\nimplementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\nimplementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n</code></pre>\n<blockquote>\n<p>Step 2: In your app-level <code>build.gradle</code> make sure you have below\nplugins added.</p>\n</blockquote>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'kotlin-android-extensions'\n    id 'androidx.navigation.safeargs.kotlin'\n}\n</code></pre>\n<blockquote>\n<p>Step 3: Add this in project_level <code>build.gradle</code> inside dependencies\nsection :</p>\n</blockquote>\n<pre><code>classpath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:2.3.2&quot;\n</code></pre>\n<blockquote>\n<p>Step 4: In your <code>nav_graph.xml</code> make sure to connect one fragment to\nanother with <code>actions</code>.</p>\n<p>Step 5: Clean &amp; Rebuild your project.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 130, "user_id": 5424329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCWUr.jpg?s=128&g=1", "display_name": "Victor Ude", "link": "https://stackoverflow.com/users/5424329/victor-ude"}, "is_accepted": false, "score": 0, "last_activity_date": 1610267507, "creation_date": 1610267507, "answer_id": 65651388, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/65651388#65651388", "title": "Safeargs library doesnt generate direction class", "body": "<p>In my case I manually added the arguments... in the wrong place \ud83e\udd26\ud83c\udfff\u200d\u2642\ufe0f</p>\n<p>Select the destination in your navigation graph and click the &quot;+&quot; button next to &quot;Arguments&quot;. Add the relevant info and you should be able to see the generated SafeArgs with by navArgs().</p>\n<p>Here's a helpful guide with pictures.\n<a href=\"https://medium.com/androiddevelopers/navigating-with-safeargs-bf26c17b1269\" rel=\"nofollow noreferrer\">https://medium.com/androiddevelopers/navigating-with-safeargs-bf26c17b1269</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14548353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e9fd7be1769aa74afa339e932b187bc?s=128&d=identicon&r=PG&f=1", "display_name": "Tarantino", "link": "https://stackoverflow.com/users/14548353/tarantino"}, "is_accepted": false, "score": 0, "last_activity_date": 1613911491, "creation_date": 1613911491, "answer_id": 66302427, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/66302427#66302427", "title": "Safeargs library doesnt generate direction class", "body": "<p>In my case, instead of control-dragging from Fragment A to B, I did B to A and thus they were not being generated in the correct Fragment class, rookie mistake! So check this too guys!</p>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 9198161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1556cbeab271206ddabeb2b82ace3252?s=128&d=identicon&r=PG", "display_name": "David Arribas", "link": "https://stackoverflow.com/users/9198161/david-arribas"}, "is_accepted": false, "score": 0, "last_activity_date": 1617180087, "creation_date": 1617180087, "answer_id": 66884356, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/66884356#66884356", "title": "Safeargs library doesnt generate direction class", "body": "<p>When you update some actions or arguments on the nav graph. You need to Build &gt; Rebuild Project to see this changes applied</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 12602936, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA_J7VYKudoEnLy8WMdCUwGMk7KpCcA516d62nk=k-s128", "display_name": "mir naim hoseyni", "link": "https://stackoverflow.com/users/12602936/mir-naim-hoseyni"}, "is_accepted": false, "score": 0, "last_activity_date": 1619210706, "creation_date": 1619210706, "answer_id": 67236619, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class/67236619#67236619", "title": "Safeargs library doesnt generate direction class", "body": "<p>I just forgot to rebuild my project after cleaning it :)</p>\n<p>Also dont forget these two steps:</p>\n<ol>\n<li>Add safe-args dependency to project Gradle file</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;android.arch.navigation:navigation-safe-args-gradle-plugin:$version_navigation&quot;\n</code></pre>\n<ol start=\"2\">\n<li>Add safeargs plugin to app Gradle file\n// Adding the apply plugin statement for safeargs</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>apply plugin: 'kotlin-kapt'\napply plugin: 'androidx.navigation.safeargs'\n</code></pre>\n"}], "owner": {"reputation": 3302, "user_id": 6155031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/efc958223065dee5f01fa8997f13384f?s=128&d=identicon&r=PG&f=1", "display_name": "6155031", "link": "https://stackoverflow.com/users/6155031/6155031"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25599, "favorite_count": 9, "accepted_answer_id": 51198551, "answer_count": 22, "score": 91, "last_activity_date": 1619210706, "creation_date": 1528137827, "last_edit_date": 1528195820, "question_id": 50686907, "link": "https://stackoverflow.com/questions/50686907/safeargs-library-doesnt-generate-direction-class", "title": "Safeargs library doesnt generate direction class", "body": "<p>I use navigation library and safeargs for passing data. I define argument to fragment like that.</p>\n\n<pre><code>&lt;fragment\n        android:id=\"@+id/otherFragment\"\n        android:name=\"com.asd.navigate.OtherFragment\"\n        android:label=\"OtherFragment\"&gt;\n        &lt;argument\n            android:name=\"screenTitle\"\n            android:defaultValue=\"0\"\n            app:type=\"string\" /&gt;\n    &lt;/fragment&gt;\n</code></pre>\n\n<p>OtherFragmentArgs generated, I can use it but OtherFragmentDirection class doesnt generate when I click \"make project\". Is that bug or I have to do something different.</p>\n\n<p>Thnx for advice.</p>\n\n<pre><code>buildscript {\n    ...\n    dependencies {\n       ...\n        classpath \"android.arch.navigation:navigation-safe-args-gradle-plugin:1.0.0-alpha01\"\n\n    }\n}\n</code></pre>\n\n<p>build.gradle</p>\n\n<pre><code>apply plugin: \"androidx.navigation.safeargs\"\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<p><a href=\"https://i.stack.imgur.com/YfaZt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YfaZt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "android", "kotlin", "android-jetpack", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1528131810, "post_id": 50685455, "comment_id": 88380680, "body": "This is a <a href=\"https://issuetracker.google.com/issues/79667498\" rel=\"nofollow noreferrer\">known issue with AndroidX</a>"}], "owner": {"reputation": 553, "user_id": 7301994, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-qWaBeDMhPDg/AAAAAAAAAAI/AAAAAAAAAdU/CgdafEnGZbE/photo.jpg?sz=128", "display_name": "Daniel D&#228;schle", "link": "https://stackoverflow.com/users/7301994/daniel-d%c3%a4schle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 510, "favorite_count": 0, "closed_date": 1528131783, "answer_count": 0, "score": 2, "last_activity_date": 1528131753, "creation_date": 1528131499, "last_edit_date": 1528131753, "question_id": 50685455, "link": "https://stackoverflow.com/questions/50685455/using-navigation-with-androidx", "closed_reason": "Duplicate", "title": "Using Navigation with AndroidX", "body": "<p>I want to create an Android Project using AndroidX Jetpack Libaries. However this Library <a href=\"https://developer.android.com/topic/libraries/architecture/navigation/\" rel=\"nofollow noreferrer\">(Navigation)</a> isn't available in the androidx package yet.</p>\n\n<h2>My gradle dependencies</h2>\n\n<pre><code>def lifecycle_version = \"2.0.0-alpha1\"\ndef room_version = \"2.0.0-alpha1\"\ndef nav_version = \"1.0.0-alpha01\"\ndef mat_version = \"1.0.0-alpha1\"\n\n// Lifecycle\nimplementation \"androidx.lifecycle:lifecycle-extensions:$lifecycle_version\"\nannotationProcessor \"androidx.lifecycle:lifecycle-compiler:$lifecycle_version\"\nimplementation \"androidx.lifecycle:lifecycle-reactivestreams-ktx:$lifecycle_version\"\ntestImplementation \"androidx.arch.core:core-testing:$lifecycle_version\"\n\n// Room\nimplementation \"androidx.room:room-runtime:$room_version\"\nimplementation \"androidx.room:room-rxjava2:$room_version\"\nannotationProcessor \"androidx.room:room-compiler:$room_version\"\ntestImplementation \"androidx.room:room-testing:$room_version\"\n\n// Navigation\nimplementation \"android.arch.navigation:navigation-fragment-ktx:$nav_version\"\nimplementation \"android.arch.navigation:navigation-ui-ktx:$nav_version\"\nandroidTestImplementation \"android.arch.navigation:navigation-testing-ktx:$nav_version\"\n\n// Material Design\n// implementation \"com.google.android.material:material:$mat_version\"\n\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.appcompat:appcompat:1.0.0-alpha1'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test:runner:1.1.0-alpha3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha3'\n</code></pre>\n\n<p>I also have <code>compileSdkVersion 'android-P'</code></p>\n\n<h2>But when i want to start the APP i get this Error</h2>\n\n<pre><code>Error: Program type already present: android.support.v4.app.INotificationSideChannel\n</code></pre>\n\n<p>Then i go to <code>Navigate -&gt; Class</code> which results\n<a href=\"https://i.stack.imgur.com/d7i5L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d7i5L.png\" alt=\"\"></a></p>\n\n<p>I often tried <code>Clean Project</code> and <code>Rebuild Project</code></p>\n\n<h2>In my gradle.properties</h2>\n\n<pre><code>android.enableJetifier=false\nandroid.useAndroidX=true\n</code></pre>\n\n<p>If i set <code>enableJetifier</code> to true the whole android.support v4 library is missing and navigation doesn't work either because android.support.v4.Fragment is missing (and other stuff).</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1528128295, "post_id": 50684607, "comment_id": 88378951, "body": "Nothing is optional in both onCreateViewHolder() implementations. Their only difference is that parent: ViewGroup? is nullable but parent: ViewGroup is not."}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1528128483, "post_id": 50684607, "comment_id": 88379047, "body": "sorry, I meant nullable, not optional"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1528131619, "post_id": 50684607, "comment_id": 88380594, "body": "This change happened when the support library upgraded from v7:27.0.2 to v7:27.1.0 about 3 months ago. I remember it because it caused me problems. I guess that this is expected to happen again after upgrades. I always follow the new version."}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1528132407, "post_id": 50684607, "comment_id": 88380951, "body": "Yes I do notice mine is still v7:27.0.2. How can I upgrade it and how can I get notified whenever there is a newer version available?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1528133542, "post_id": 50684607, "comment_id": 88381453, "body": "Android Studio notifies you if there are new versions. You can do it manually from the menu Help/Check for Updates..."}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1528134561, "post_id": 50684607, "comment_id": 88381933, "body": "got it, thanks a lot!"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1528135613, "post_id": 50684607, "comment_id": 88382444, "body": "It&#39;s happening because newer version of support lib method is properly annotated as <code>NonNull</code>. You might want to read more about <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow noreferrer\">platform types</a> to avoid this in the future."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1528181538, "creation_date": 1528181538, "answer_id": 50693813, "question_id": 50684607, "link": "https://stackoverflow.com/questions/50684607/different-function-signature-between-my-project-and-official-reference-guide/50693813#50693813", "title": "Different function signature between my project and official reference guide", "body": "<p>You can just use </p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) ...\n</code></pre>\n\n<p>even when Android Studio/IDEA generates <code>parent: ViewGroup?</code> (because the parameter isn't annotated rather than annotated <code>@Nullable</code>).</p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 50693813, "answer_count": 1, "score": 0, "last_activity_date": 1528181538, "creation_date": 1528128089, "last_edit_date": 1528128447, "question_id": 50684607, "link": "https://stackoverflow.com/questions/50684607/different-function-signature-between-my-project-and-official-reference-guide", "title": "Different function signature between my project and official reference guide", "body": "<p>New to Android development here. Why are some function parameters nullable in my project, but not so in the official reference guide? My minimum sdk level is 22</p>\n\n<p>For instance <code>onCreateViewHolder(parent: ViewGroup?, viewType: Int)</code> in my case but <code>onCreateViewHolder(parent: ViewGroup, viewType: Int)</code> in the guide and some tutorials I see. It gets annoying when I have to append <code>!!</code> each and every time.</p>\n"}, {"tags": ["for-loop", "kotlin"], "comments": [{"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 1, "creation_date": 1528125005, "post_id": 50683626, "comment_id": 88376998, "body": "There is always good old <code>while</code>..."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1528125045, "post_id": 50683626, "comment_id": 88377032, "body": "I don&#39;t think it&#39;s a clean solution to change the counter variable manually, use while instead"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1528125110, "creation_date": 1528125110, "answer_id": 50683707, "question_id": 50683626, "link": "https://stackoverflow.com/questions/50683626/kotlin-how-dynamically-change-the-for-loop-pace/50683707#50683707", "title": "kotlin, how dynamically change the for loop pace", "body": "<p>With <code>while</code>:</p>\n\n<pre><code>var i = 0\n\nwhile (i &lt; datArray.length - 1) {\n    var processed = processData_1(i)\n    i += processed // jump a few steps for those have been processed, then start 2nd process\n    if (i &lt; datArray.length - 1) {\n        processed = processData_2(i)\n        i += processed\n    }\n    i++\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 329, "user_id": 1911023, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3a9696771d6c24c03f0604af65911768?s=128&d=identicon&r=PG", "display_name": "gtRfnkN", "link": "https://stackoverflow.com/users/1911023/gtrfnkn"}, "is_accepted": false, "score": 0, "last_activity_date": 1528125470, "creation_date": 1528125470, "answer_id": 50683811, "question_id": 50683626, "link": "https://stackoverflow.com/questions/50683626/kotlin-how-dynamically-change-the-for-loop-pace/50683811#50683811", "title": "kotlin, how dynamically change the for loop pace", "body": "<p>You can do that with <code>continue</code> as stated in the Kotlin docs here: <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/returns.html</a></p>\n\n<p>Example: </p>\n\n<pre><code>val names = arrayOf(\"james\", \"john\", \"jim\", \"jacob\", \"johan\")\nfor (name in names) {\n    if(name.length &lt;= 4) continue\n    println(name)\n}\n</code></pre>\n\n<p>This would only print names longer than 4 characters (as it skips names with a length of 4 and below)</p>\n\n<p>Edit: this only skips one iteration at a time. So if you want to skip multiple, you could store the process state somewhere else and check the status for each iteration.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 50683707, "answer_count": 2, "score": 0, "last_activity_date": 1528125470, "creation_date": 1528124845, "question_id": 50683626, "link": "https://stackoverflow.com/questions/50683626/kotlin-how-dynamically-change-the-for-loop-pace", "title": "kotlin, how dynamically change the for loop pace", "body": "<p>sometime based on some condition it may want to jump (or move forward) a few steps inside the for loop,  </p>\n\n<p>how to do it is kolin?</p>\n\n<p>a simplified use case:</p>\n\n<pre><code>val datArray  = arrayOf(1, 2, 3......)\n\n/**\n * start from the index to process some data, return how many data has been \n   consumed\n*/\nfun processData_1(startIndex: Int) : Int  {\n   // process dataArray starting from the index of startIndex\n   // return the data it has processed\n}\nfun processData_2(startIndex: Int) : Int  {\n   // process dataArray starting from the index of startIndex\n   // return the data it has processed\n}\n</code></pre>\n\n<p>in Java it could be:</p>\n\n<pre><code>for (int i=0; i&lt;datArray.lenght-1; i++) {\n   int processed = processData_1(i);\n   i += processed; // jump a few steps for those have been processed, then start 2nd process\n   if (i&lt;datArray.lenght-1) { \n       processed = processData_2(i);\n       i += processed;\n   }\n}\n</code></pre>\n\n<p>How to do it in kotlin?</p>\n\n<pre><code>for(i in array.indices){\n  val processed = processData(i);\n  // todo\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1528123577, "post_id": 50683156, "comment_id": 88376139, "body": "tried TOP_DOWN?"}, {"owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1528123879, "post_id": 50683156, "comment_id": 88376322, "body": "@TimCastelijns Yes, its always going to a directory first."}, {"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1528124666, "post_id": 50683156, "comment_id": 88376778, "body": "Collect the walk result into a list, then call <code>reversed</code> on it?"}, {"owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "reply_to_user": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 0, "creation_date": 1528124743, "post_id": 50683156, "comment_id": 88376818, "body": "@jingx yeah... this is my last option :P if I don&#39;t get a better idea."}], "answers": [{"tags": [], "owner": {"reputation": 1706, "user_id": 625265, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/hH8RF.jpg?s=128&g=1", "display_name": "Oz Molaim", "link": "https://stackoverflow.com/users/625265/oz-molaim"}, "is_accepted": true, "score": 4, "last_activity_date": 1528132346, "creation_date": 1528132346, "answer_id": 50685615, "question_id": 50683156, "link": "https://stackoverflow.com/questions/50683156/how-to-use-file-walk-in-kotlin/50685615#50685615", "title": "How to use File.walk in kotlin", "body": "<p>I have to admit that I did not totally undersand your question.\nIf all you want is to print the files first and than the directories and you don't have any other concern you can use the 'sortedBy' function:</p>\n\n<pre><code>File\n    .walk(FileWalkDirection.BOTTOM_UP)\n    .sortedBy { it.isDirectory }\n    .forEach { println(it) }\n</code></pre>\n"}], "owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3548, "favorite_count": 0, "accepted_answer_id": 50685615, "answer_count": 1, "score": 3, "last_activity_date": 1528132346, "creation_date": 1528123352, "last_edit_date": 1528123960, "question_id": 50683156, "link": "https://stackoverflow.com/questions/50683156/how-to-use-file-walk-in-kotlin", "title": "How to use File.walk in kotlin", "body": "<p>I\u2019m trying to walk into folder using <code>file.walk</code> this way:</p>\n\n<pre><code>File.walk(FileWalkDirection.BOTTOM_UP).forEach()\n</code></pre>\n\n<p>The documentation says:</p>\n\n<blockquote>\n  <p>enum entry BOTTOM_UP defined in kotlin.io.FileWalkDirection</p>\n  \n  <p>Depth-first search, directory is visited AFTER its files</p>\n  \n  <p>Enum constant ordinal: 1</p>\n</blockquote>\n\n<p>If I use <code>FileWalkDirection.BOTTOM_UP</code> it\u2019s my print walk</p>\n\n<pre><code>emergency-support/digital/beginner/.category.yml\nemergency-support/digital/.category.yml\nemergency-support/physical/beginner/.category.yml\nemergency-support/physical/.category.yml\nemergency-support/.category.yml\n</code></pre>\n\n<p>I want to walk for this result:</p>\n\n<pre><code>emergency-support/.category.yml\nemergency-support/physical/.category.yml\nemergency-support/physical/beginner/.category.yml\nemergency-support/digital/.category.yml\nemergency-support/digital/beginner/.category.yml\n</code></pre>\n\n<p>How can I walk visiting files before directory?</p>\n"}, {"tags": ["kotlin", "jooq"], "comments": [{"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 1, "creation_date": 1528183997, "post_id": 50682580, "comment_id": 88398379, "body": "Your question mixes 3 questions in one. It&#39;s a bit difficult to know what you&#39;re really after, here. What <i>exactly</i> is the problem you&#39;re running into? Try focusing your question on that problem. It will be much easier to answer."}], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 5478887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5e8d8fba40f49258d4b90ec24cb0cf1f?s=128&d=identicon&r=PG&f=1", "display_name": "Piotrowy", "link": "https://stackoverflow.com/users/5478887/piotrowy"}, "edited": false, "score": 0, "creation_date": 1528188243, "post_id": 50694523, "comment_id": 88400846, "body": "thank you for your answer (as always). I was thinking about my problem again in order to precise my question and I solved it. Thanks for inspiring answer. As this question is useless should I remove it?"}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "reply_to_user": {"reputation": 537, "user_id": 5478887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5e8d8fba40f49258d4b90ec24cb0cf1f?s=128&d=identicon&r=PG&f=1", "display_name": "Piotrowy", "link": "https://stackoverflow.com/users/5478887/piotrowy"}, "edited": false, "score": 0, "creation_date": 1528189275, "post_id": 50694523, "comment_id": 88401449, "body": "@Piotrowy: No, don&#39;t remove it. Answer it yourself! :-) Someone else might still find it useful..."}], "tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": false, "score": 2, "last_activity_date": 1528183937, "creation_date": 1528183937, "answer_id": 50694523, "question_id": 50682580, "link": "https://stackoverflow.com/questions/50682580/binding-custom-data-type-transmit-null-to-converter/50694523#50694523", "title": "Binding custom data type transmit null to converter", "body": "<blockquote>\n  <p>Is it ok to use kotlin non null types with jooq bindings?</p>\n</blockquote>\n\n<p>jOOQ (or any Java library) will not respect your Kotlin non-nullable guarantees and might produce null values where you wouldn't expect them. So, perhaps it's not a good idea after all.</p>\n\n<p>At the interface between jOOQ and your code, you must ensure yourself that this cannot happen.</p>\n\n<blockquote>\n  <p>Is this configuration ok? What should I change?</p>\n</blockquote>\n\n<p>That's an open ended question. If you have any specific questions, please ask.</p>\n\n<blockquote>\n  <p>When I want to store value my converter gets null in from func. I don't why is that.</p>\n</blockquote>\n\n<p>There are not enough infos in your question to help you about this</p>\n"}, {"tags": [], "owner": {"reputation": 537, "user_id": 5478887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5e8d8fba40f49258d4b90ec24cb0cf1f?s=128&d=identicon&r=PG&f=1", "display_name": "Piotrowy", "link": "https://stackoverflow.com/users/5478887/piotrowy"}, "is_accepted": true, "score": 0, "last_activity_date": 1529657916, "creation_date": 1529657916, "answer_id": 50984313, "question_id": 50682580, "link": "https://stackoverflow.com/questions/50682580/binding-custom-data-type-transmit-null-to-converter/50984313#50984313", "title": "Binding custom data type transmit null to converter", "body": "<p>Ok so in my case it was about java-kotlin interoperability between nullable types in Java and non-null types in kotlin. All I had to do was implementing converter using nullable types in kotlin (the ones with <code>?</code>). </p>\n\n<p>Correct converter look like this:</p>\n\n<pre><code>class JSONEventConverter constructor(\n    private val objectMapper: ObjectMapper,\n    private val schemaMatcher: SchemaMatcher\n) : Converter&lt;Any, Event&gt; {\n    override fun from(databaseObject: Any?): Event? {\n        return databaseObject?.let { schemaMatcher.parse(it.toString()) }\n    }\n\n    override fun to(userObject: Event?): Any? {\n        return userObject?.let { objectMapper.writeValueAsString(it) }\n    }\n\n    override fun fromType(): Class&lt;Any&gt; {\n        return Any::class.java\n    }\n\n    override fun toType(): Class&lt;Event&gt; {\n        return Event::class.java\n    }\n\n    companion object {\n        fun create(): JSONEventConverter {\n            return JSONEventConverter(serializingObjectMapper(),         \n                SchemaMatcher.create())\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 5478887, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5e8d8fba40f49258d4b90ec24cb0cf1f?s=128&d=identicon&r=PG&f=1", "display_name": "Piotrowy", "link": "https://stackoverflow.com/users/5478887/piotrowy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 50984313, "answer_count": 2, "score": 1, "last_activity_date": 1529657916, "creation_date": 1528121465, "last_edit_date": 1528143111, "question_id": 50682580, "link": "https://stackoverflow.com/questions/50682580/binding-custom-data-type-transmit-null-to-converter", "title": "Binding custom data type transmit null to converter", "body": "<p>I'm using Jooq and Kotlin in my project. I have object EventEnvelope in which field of type Event is composed. I want to store this field as JSON in my DB (postgres). I prepared jooq custom datatype bindings and converter as it is described here -> <a href=\"https://www.jooq.org/doc/3.10/manual/code-generation/custom-data-type-bindings/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/3.10/manual/code-generation/custom-data-type-bindings/</a> \nBelow I paste converter, binding and gradle generator code. </p>\n\n<p>My questions are:</p>\n\n<ol>\n<li><p>Is it ok to use kotlin non null types with jooq bindings?</p></li>\n<li><p>Is this configuration ok? What should I change?</p></li>\n<li><p>When I want to store value my converter gets null in from func. I don't why is that.</p></li>\n</ol>\n\n<p>I am out of ideas what should I do to fix it.</p>\n\n<pre><code>class JSONEventConverter constructor(\n    private val objectMapper: ObjectMapper,\n    private val schemaMatcher: SchemaMatcher\n) : Converter&lt;Any, Event&gt; {\n    override fun from(databaseObject: Any): Event {\n        return schemaMatcher.parse(databaseObject.toString())\n    }\n\n    override fun to(userObject: Event): Any {\n        return objectMapper.writeValueAsString(userObject)\n    }\n\n    override fun fromType(): Class&lt;Any&gt; {\n        return Any::class.java\n    }\n\n    override fun toType(): Class&lt;Event&gt; {\n        return Event::class.java\n    }\n\n    companion object {\n        fun create(): JSONEventConverter {\n            return JSONEventConverter(jacksonObjectMapper(), \n                SchemaMatcher.create())\n        }\n    }\n}\n\nclass PostgresJSONEventBinding : Binding&lt;Any, Event&gt; {\n    override fun register(ctx: BindingRegisterContext&lt;Event&gt;?) {\n        ctx!!.statement().registerOutParameter(ctx.index(), Types.VARCHAR)\n    }\n\n    override fun sql(ctx: BindingSQLContext&lt;Event&gt;?) {\n        ctx!!.render().visit(DSL.`val`(ctx.convert(converter())\n            .value())).sql(\"::json\")\n    }\n\n    override fun converter(): Converter&lt;Any, Event&gt; {\n        return JSONEventConverter.create()\n    }\n\n    override fun get(ctx: BindingGetResultSetContext&lt;Event&gt;?) {     \n        ctx!!.convert(converter())\n            .value(ctx.resultSet().getString(ctx.index()))\n    }\n\n    override fun get(ctx: BindingGetStatementContext&lt;Event&gt;?) {\n        ctx!!.convert(converter())\n            .value(ctx.statement().getString(ctx.index()))\n    }\n\n    override fun get(ctx: BindingGetSQLInputContext&lt;Event&gt;?) {\n        throw SQLFeatureNotSupportedException()\n    }\n\n    override fun set(ctx: BindingSetStatementContext&lt;Event&gt;?) {\n        ctx!!.statement().setString(ctx.index(), \n            Objects.toString(ctx.convert(converter()).value(), null))\n    }\n\n    override fun set(ctx: BindingSetSQLOutputContext&lt;Event&gt;?) {\n        throw SQLFeatureNotSupportedException()\n    }\n}\n\ngenerator {\n    name = 'org.jooq.util.DefaultGenerator'\n    strategy {\n        name = 'org.jooq.util.DefaultGeneratorStrategy'\n    }\n    database {\n        name = 'org.jooq.util.postgres.PostgresDatabase'\n        schemata {\n            schema {\n                inputSchema = someSchema\n            }\n            schema {\n                inputSchema = otherSchema\n            }\n        }\n        forcedTypes {\n            forcedType {\n                userType = 'package.Event'\n                binding = 'package.PostgresJSONEventBinding'\n                expression = 'someSchema\\\\.event_store\\\\.event'\n            }\n        }\n    }\n    generate {\n        relations = true\n        deprecated = false\n        records = true\n        immutablePojos = true\n        fluentSetters = true\n    }\n    target {\n        packageName = appName\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "compare", "comparator", "compareto"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1528127569, "post_id": 50682240, "comment_id": 88378580, "body": "I strongly recommend doing exactly what you&#39;ve said above, to increase explicitness over magic."}], "answers": [{"comments": [{"owner": {"reputation": 3417, "user_id": 2030088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2b8b708df57dea3f1e2e533f4870126?s=128&d=identicon&r=PG", "display_name": "XDR", "link": "https://stackoverflow.com/users/2030088/xdr"}, "edited": false, "score": 0, "creation_date": 1528125414, "post_id": 50683636, "comment_id": 88377281, "body": "<code>T::class.memberProperties</code> seems to return the properties sorted alphabetically.  I want them in declaration order so I can easily control the property comparison order, as that affects the return value.  Also, is there any way to limit the iterated properties to those in the primary constructor, not all properties of the class? (I know my question didn&#39;t ask the latter part, but I just thought of some derived properties that I&#39;d like to add that aren&#39;t necessary for comparisons)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1528125348, "last_edit_date": 1528125348, "creation_date": 1528124878, "answer_id": 50683636, "question_id": 50682240, "link": "https://stackoverflow.com/questions/50682240/kotlin-generate-a-comparablecompareto-function-from-the-properties-of-a-clas/50683636#50683636", "title": "Kotlin: generate a Comparable#compareTo() function from the properties of a class", "body": "<p>You can use reflection and some simple language features like so:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; compareByAll(): Comparator&lt;T&gt; {\n    val selector = T::class.memberProperties\n        .map { { i: T -&gt; it.get(i) as Comparable&lt;*&gt; } }\n        .toTypedArray()\n    return compareBy(*selector)\n}\n</code></pre>\n\n<p>Used like this:</p>\n\n<pre><code>val testInput = listOf(I(1, 2, 3), I(1, 2, 4), I(1, 0, 4), I(2, 3, 4), I(0, 1, 2)\ntestInput.sortedWith(compareByAll()))\n</code></pre>\n\n<p>Note that this solution doesn't handle the case that a property is not <code>Comparable</code>.</p>\n"}], "owner": {"reputation": 3417, "user_id": 2030088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2b8b708df57dea3f1e2e533f4870126?s=128&d=identicon&r=PG", "display_name": "XDR", "link": "https://stackoverflow.com/users/2030088/xdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1528125348, "creation_date": 1528120372, "question_id": 50682240, "link": "https://stackoverflow.com/questions/50682240/kotlin-generate-a-comparablecompareto-function-from-the-properties-of-a-clas", "title": "Kotlin: generate a Comparable#compareTo() function from the properties of a class", "body": "<p>In Kotlin, is there any concise way to generate a <code>Comparable#compareTo()</code> function for an interface that just calls <code>this.property1.compareTo(that.property1)</code> for each property of the interface in declaration order? Obviously, every property of the interface implements <code>Comparable</code>.</p>\n\n<p>For interface <code>I</code>, it looks like I can create a top-level val like:</p>\n\n<pre><code>private val COMPARATOR = compareBy&lt;I&gt;(\n    {it.property1},\n    {it.property2},\n    {it.property3},\n    ...\n)\n</code></pre>\n\n<p>And <code>return COMPARATOR.compare(this, other)</code> from <code>I#compareTo(I)</code>, but, is there any simpler way to do this?</p>\n"}, {"tags": ["android", "junit", "kotlin"], "comments": [{"owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "reply_to_user": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1528118508, "post_id": 50680982, "comment_id": 88372703, "body": "i am not allowed to open that link"}, {"owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1528176343, "post_id": 50680982, "comment_id": 88394607, "body": "<i>EDIT</i> Sorry, I copy the wrong link. You may want to check the answer given to this other <a href=\"https://stackoverflow.com/questions/41462913/mockito-verify-that-a-specific-lambda-has-been-passed-as-an-argument-in-mocks-m\">question</a>. The basic is that you want to use an <code>ArgumentCaptor</code> from Mockito to get an instance of your lambda and then call the methods on it"}, {"owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "reply_to_user": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1528197130, "post_id": 50680982, "comment_id": 88406470, "body": "Can you take a look to the update?"}], "owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528197036, "creation_date": 1528116353, "last_edit_date": 1528197036, "question_id": 50680982, "link": "https://stackoverflow.com/questions/50680982/is-possible-to-test-unit-with-junit-test", "title": "Is possible to test &quot;() -&gt; Unit?&quot; with junit test", "body": "<p>Is possible to test \"() -> Unit?\" with junit test?</p>\n\n<p>I have the following NetworkUtils class</p>\n\n<pre><code>    class NetworkUtils : NetworkContract{\n\n        /**\n         *Return success if the Internet connection is enought to make an request\n         */\n        override fun isConnectedFast(onSuccess: () -&gt; Unit?, onError: () -&gt; Unit?) {\n        }\n    }\n</code></pre>\n\n<p>That is the interface</p>\n\n<pre><code>interface NetworkContract {\n\n    fun isConnectedFast(onSuccess: (() -&gt; Unit?), onError: (() -&gt; Unit?))\n\n}\n</code></pre>\n\n<p>Here is my presenter where I wanna to check internet connection and do some requests</p>\n\n<pre><code>class Presenter(){\n\n//some declarations\n\noverride fun onContinue(){\n  super.updateUserProfile({\n        super.updateImage({\n                //request success\n        },{\n                 //request failed\n        })\n  },{\n  //some error received\n  })\n}\n}\n</code></pre>\n\n<p>And here is my Handler which is an interface</p>\n\n<pre><code>interface Hndler{\n\nfun updateUserProfile(){\n         service.getProfile(id,token!!)\n                .subscribe({ response -&gt;\n                    onSuccess?.invoke()\n                }, { error -&gt;\n                    onError?.invoke()\n                })\n         }\n}\n</code></pre>\n\n<p>I wanna to mock that somehow. Is that possible or not? If yes, please can you give me an example?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1528115399, "post_id": 50679376, "comment_id": 88370656, "body": "what is the problem? what is your solution missing?"}, {"owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "reply_to_user": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1528115910, "post_id": 50679376, "comment_id": 88370995, "body": "@ESalaIt does not convert my subcategory correctly of email for communications and beginner for email"}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1528116540, "post_id": 50679376, "comment_id": 88371342, "body": "Are your paths always going to contain 1 folder and 2 sub-folders?"}, {"owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1528116903, "post_id": 50679376, "comment_id": 88371580, "body": "@NSimon nope, It should be N folder into the main folder like AA/B/CC/F convert this form  Category(AA).addSubCategory(B).addsubCategory(CC).addSubCate&zwnj;&#8203;gory(F)"}], "answers": [{"tags": [], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "is_accepted": true, "score": 2, "last_activity_date": 1528118334, "creation_date": 1528118334, "answer_id": 50681616, "question_id": 50679376, "link": "https://stackoverflow.com/questions/50679376/transform-directory-to-object-in-kotlin/50681616#50681616", "title": "Transform directory to object in Kotlin", "body": "<p>For the sake of demo/testing purposes, my implementation of Category might be different from yours. Here's the one I was using:</p>\n\n<pre><code>inner class Category(val s: String, var subCategory: Category? = null)\n</code></pre>\n\n<p>Now that being said, here's a little function that will loop through the path of the given File, and construct a Category hierarchy, placing each element in the right order:</p>\n\n<pre><code>private fun processCategory(currentFile: File): Category? {\n        val listOfDirectory = currentFile.path.split(\"/\".toRegex())\n\n        //The root category (in your example, communications)\n        var rootCategory: Category? = null\n        //A reminder of the current Category, so we can attach the next one to it\n        var currentCategory: Category? = null\n        listOfDirectory.forEach {\n            if (rootCategory == null) {\n                //First element, so I need to create the root category\n                rootCategory = Category(it)\n                currentCategory = rootCategory\n            } else {\n                //Other elements are simply created\n                val nextCategory = Category(it)\n                //Added as a subCategory of the previous category\n                currentCategory!!.subCategory = nextCategory\n                //And we progress within the chain\n                currentCategory = nextCategory\n            }\n        }\n        //In the end, my root category will contain :\n        // Category(\"communications\", Category(\"email\", Category(\"Beginner\", null)))\n        return rootCategory\n    }\n</code></pre>\n\n<p>You can surely adapt this code to your needs, by replacing the constructor that I'm using with your YmlParser</p>\n"}], "owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 50681616, "answer_count": 1, "score": 0, "last_activity_date": 1528118334, "creation_date": 1528111110, "question_id": 50679376, "link": "https://stackoverflow.com/questions/50679376/transform-directory-to-object-in-kotlin", "title": "Transform directory to object in Kotlin", "body": "<p>I'm trying to parse some files this way:</p>\n\n<pre><code>File(tentConfig.getPathRepository())\n            .walkTopDown()\n            .forEach { file -&gt; processFile(file) }\n</code></pre>\n\n<p>the path of this file is: <code>/communications/email/begginer/.file</code></p>\n\n<p>I have to convert that path to object like this:\nmy <strong>communications</strong> should be my category, <strong>email</strong> should be a subcategory of communications and <strong>beginner</strong> subcategory of email.</p>\n\n<p>my process method is responsible to serialize this path to object but I'm pretty sure there is a better solution.</p>\n\n<pre><code>private fun processCategory(currentFile: File) {\n    val listOfDirectory = currentFile.path.split(\"/\".toRegex())\n\n    listOfDirectory.forEachIndexed { index, folderName -&gt;\n        if (index == 0) {\n            val currentCategory = parseYmlFile(currentFile, Category::class)\n            lesson.categories.forEach { itCategory -&gt;\n                if (itCategory.title != currentCategory.title) lesson.categories.add(currentCategory)\n            }\n\n        } else {\n            val subCategory = parseYmlFile(currentFile, Category::class)\n            lesson.categories[subCategory.index].subcategories.add(subCategory)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1528111202, "post_id": 50679013, "comment_id": 88368094, "body": "Your method name conflicts with <code>java.lang.Object.finalize()</code>. Try choosing a different method name."}, {"owner": {"reputation": 3909, "user_id": 3067542, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf7e520d66249a250a769cc55effd391?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent F", "link": "https://stackoverflow.com/users/3067542/vincent-f"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1528376425, "post_id": 50679013, "comment_id": 88491225, "body": "thanks a lot, that was it. Don&#39;t you want to post an answer instead of a comment, so that I can accept it ?"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 1, "last_activity_date": 1528383814, "creation_date": 1528383814, "answer_id": 50744518, "question_id": 50679013, "link": "https://stackoverflow.com/questions/50679013/kotlins-jvmdefault-still-need-to-declare-the-method/50744518#50744518", "title": "Kotlin&#39;s JvmDefault - still need to declare the method ?", "body": "<p>Your method name conflicts with <code>java.lang.Object.finalize()</code>. The error should be fixed if you choose a different method name.</p>\n"}], "owner": {"reputation": 3909, "user_id": 3067542, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf7e520d66249a250a769cc55effd391?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent F", "link": "https://stackoverflow.com/users/3067542/vincent-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "accepted_answer_id": 50744518, "answer_count": 1, "score": 0, "last_activity_date": 1528383814, "creation_date": 1528109866, "question_id": 50679013, "link": "https://stackoverflow.com/questions/50679013/kotlins-jvmdefault-still-need-to-declare-the-method", "title": "Kotlin&#39;s JvmDefault - still need to declare the method ?", "body": "<p>I am building my Spring Boot 1.5 + Kotlin 1.2.41 project into a jar. One of the interfaces in the jar has the <code>@JvmDefault</code> and it compiles fine with the flag (if I remove the flag, it fails). </p>\n\n<p>Now, I am trying to use this interface in another java project, in which I define the Kotlin project as a dependency. </p>\n\n<p>In one implementing class, I don't override the default method. Intellij seems to be OK with it, as it doesn't complain. However, when I compile with Maven, I get :  </p>\n\n<pre><code>[ERROR] attempting to assign weaker access privileges; was public\n</code></pre>\n\n<p>If I implement the method (with some dummy implementation), then it compiles... but it defeats the purpose of the default interface. </p>\n\n<p>Any idea what could be wrong ? </p>\n\n<p>When opening the Kotlin interface code from the java project, here's the decompiled code I see : </p>\n\n<pre><code>public interface CrawlerOutput {\n    @kotlin.jvm.JvmDefault public open fun finalize(): kotlin.Unit { /* compiled code */ }\n\n    public abstract fun output(analyzedRepository: com.myCompany.Repository): kotlin.Unit\n}\n</code></pre>\n\n<p>My java code implementing the interface : </p>\n\n<pre><code>public class CsvOutput implements CrawlerOutput {\n\n    @Override\n    public void output(Repository repository) throws IOException {\n        log.info(\"own output is receiving some data !\");\n    }\n\n    /**\n    * IF I REMOVE BELOW METHOD, MAVEN CAN'T COMPILE IT ANYMORE, \n    * COMPLAINING OF WEAKER ACCESS PRIVILEGE\n    */      \n    @Override\n    public void finalize(){\n\n    }\n\n}\n</code></pre>\n\n<p>Am I missing something ? </p>\n\n<p>Thanks</p>\n\n<p>Vincent</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components", "android-jetpack"], "comments": [{"owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1528110320, "post_id": 50678667, "comment_id": 88367623, "body": "Why negative marking, i didn&#39;t understand. Whats illogical in it."}], "answers": [{"comments": [{"owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1528111452, "post_id": 50679302, "comment_id": 88368234, "body": "But in koltin , String concatenation is done using &quot;$ symbol&quot;. when i convert your concat string into kotlin code . it showed me like this . @Query(&quot;&quot;&quot;SELECT * FROM ${Table.USER_TABLE}&quot;&quot;&quot;)"}, {"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "reply_to_user": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1528111808, "post_id": 50679302, "comment_id": 88368473, "body": "I&#39;ve been doing with the + sign and it&#39;s been working. <a href=\"https://github.com/Levi-Moreira/TeamManagerApp/blob/master/app/src/main/java/com/levimoreira/teammenagerapp/person/data/PersonDao.kt\" rel=\"nofollow noreferrer\">github.com/Levi-Moreira/TeamManagerApp/blob/master/app/src/m&zwnj;&#8203;ain/&hellip;</a> My guess is that the kotlin interpolation is evaluated at runtime and it might not work properly with annotation arguments that need to be evaluated at compile time."}], "tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 6, "last_activity_date": 1528110873, "creation_date": 1528110873, "answer_id": 50679302, "question_id": 50678667, "link": "https://stackoverflow.com/questions/50678667/an-annotation-argument-must-be-a-compile-time-constant/50679302#50679302", "title": "An Annotation argument must be a compile time constant", "body": "<p>The problem is the one stated in the error, you can't have dynamically defined arguments for your <code>@Query</code> annotation. If you want to define the name of the table somewhere else, use string concatenation. You can do it like this:</p>\n\n<pre><code>@Query(\"SELECT * FROM \" + Table.USER_TABLE)\nfun getAll(): List&lt;User&gt;\n</code></pre>\n\n<p>This is how they do it in this <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/PersistenceContentProviderSample/app/src/main/java/com/example/android/contentprovidersample/data/CheeseDao.java\" rel=\"noreferrer\">google</a> sample.</p>\n"}, {"comments": [{"owner": {"reputation": 1000, "user_id": 3957303, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bbb1d64e893f1c505511c79f30d79f35?s=128&d=identicon&r=PG&f=1", "display_name": "IIRed-DeathII", "link": "https://stackoverflow.com/users/3957303/iired-deathii"}, "edited": false, "score": 0, "creation_date": 1583602004, "post_id": 53634804, "comment_id": 107175573, "body": "this ends up in the same issue"}], "tags": [], "owner": {"reputation": 7324, "user_id": 2652368, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/22TKg.jpg?s=128&g=1", "display_name": "Amir Hossein Ghasemi", "link": "https://stackoverflow.com/users/2652368/amir-hossein-ghasemi"}, "is_accepted": false, "score": 3, "last_activity_date": 1544020978, "creation_date": 1544020978, "answer_id": 53634804, "question_id": 50678667, "link": "https://stackoverflow.com/questions/50678667/an-annotation-argument-must-be-a-compile-time-constant/53634804#53634804", "title": "An Annotation argument must be a compile time constant", "body": "<p>You should define column name also in data class and access if you want to use columns in queries and access it via this method:</p>\n\n<pre><code>@Query(\"SELECT * FROM ${Table.USER_TABLE}\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 658, "user_id": 3831411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c914e4dff7087384dd86a3bcbc25532?s=128&d=identicon&r=PG&f=1", "display_name": "floatingmuseum", "link": "https://stackoverflow.com/users/3831411/floatingmuseum"}, "is_accepted": false, "score": 8, "last_activity_date": 1571768604, "last_edit_date": 1571768604, "creation_date": 1555781467, "answer_id": 55776029, "question_id": 50678667, "link": "https://stackoverflow.com/questions/50678667/an-annotation-argument-must-be-a-compile-time-constant/55776029#55776029", "title": "An Annotation argument must be a compile time constant", "body": "<p>You need to escape the String concatenation when using <code>@Value</code> annotation with the dollar symbol in Kotlin (prepend <code>\\</code> to <code>$</code>):</p>\n\n<pre><code>@Query(\"SELECT * FROM \\$Table.USER_TABLE\")\nfun getAll(): List&lt;User&gt;\n</code></pre>\n"}], "owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21060, "favorite_count": 2, "accepted_answer_id": 50679302, "answer_count": 3, "score": 17, "last_activity_date": 1571768604, "creation_date": 1528108720, "last_edit_date": 1528111023, "question_id": 50678667, "link": "https://stackoverflow.com/questions/50678667/an-annotation-argument-must-be-a-compile-time-constant", "title": "An Annotation argument must be a compile time constant", "body": "<p>i have seen <a href=\"https://stackoverflow.com/questions/49422901/kotlin-annotation-parameter-must-be-a-compile-time-constant\">this</a> question. Similar error.But in my case it is different.</p>\n\n<p>While working with Room i was creating table. it was working fine. </p>\n\n<pre><code>@Daointerface \nUserDao {\n@Query(\"SELECT * FROM user\")\nfun getAll(): List&lt;User&gt;\n\n@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun insert(user: User)\n\n@Delete\nfun delete(user: User)}\n</code></pre>\n\n<p>but then i found all table Names must be stored in a different class. like table name \"user\" - > Stored in different class.</p>\n\n<p>Eg.</p>\n\n<pre><code>class Table {\ncompanion object {\n    const val USER_TABLE = \"user\"\n}}\n</code></pre>\n\n<p>But below code is not working . <strong>it is not picking up table name from Table class. Giving compile time error</strong> . \"An Annotation argument must be a compile time constant\" please help me out.What wrong in it</p>\n\n<pre><code>@Query(\"SELECT * FROM $Table.USER_TABLE\")\nfun getAll(): List&lt;User&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1528111118, "post_id": 50679248, "comment_id": 88368038, "body": "this still forces me to implement boilerplate on the subclasses. It is an improvement though"}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "reply_to_user": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1528111869, "post_id": 50679248, "comment_id": 88368508, "body": "Did you get any error when you used your inline function getViewModelClass() you mention above ?"}, {"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1528113550, "post_id": 50679248, "comment_id": 88369539, "body": "yes, <code>Cannot use E as reified type paramter. Use class instead</code>"}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "reply_to_user": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1528113951, "post_id": 50679248, "comment_id": 88369780, "body": "can you try the Edit answer."}], "tags": [], "owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "is_accepted": false, "score": 1, "last_activity_date": 1528114015, "last_edit_date": 1528114015, "creation_date": 1528110745, "answer_id": 50679248, "question_id": 50677091, "link": "https://stackoverflow.com/questions/50677091/getting-generic-class-from-kotlin-generic/50679248#50679248", "title": "Getting generic class from Kotlin Generic", "body": "<p>You ca do it in this way:</p>\n\n<pre><code>abstract class BaseActivity&lt;E : ViewModel&gt; : AppCompatActivity() {\n\nprotected lateinit var viewModel: E\n\nabstract fun getViewModel():E\n\noverride fun onCreate(savedInstanceState: Bundle?){\n    super.onCreate(savedInstanceState)\n    viewModel = ViewModelProviders.of(this, viewModelFactory)\n        .get(getViewModel())\n}\n\n}\n</code></pre>\n\n<p>Now, you can extend any class from BaseActivity and override the getViewModel() function returning the respective ViewModel class.</p>\n\n<p>Hope this helps.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Try this once:</p>\n\n<pre><code> inline fun &lt;reified E&gt; getViewModelClass(): Class&lt;E&gt; {\n    return E::class.java\n}\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>viewModel = ViewModelProviders.of(this, viewModelFactory)\n        .get(getViewModelClass())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1528121678, "creation_date": 1528121678, "answer_id": 50682640, "question_id": 50677091, "link": "https://stackoverflow.com/questions/50677091/getting-generic-class-from-kotlin-generic/50682640#50682640", "title": "Getting generic class from Kotlin Generic", "body": "<p><code>E</code> in <code>BaseActivity</code> can't be <code>reified</code>, so you can't pass it to any methods which take a <code>reified E</code>.</p>\n\n<p>Your best option may just be to accept the class as a constructor parameter.</p>\n\n<pre><code>abstract class BaseActivity&lt;E : ViewModel&gt;(private val modelClass: Class&lt;E&gt;) : AppCompatActivity() {\n\n    protected lateinit var viewModel: E\n\n    ... viewModel = ViewModelProviders.of(this, viewModelFactory)\n        .get(modelClass)\n}\n</code></pre>\n\n<p>If <code>BaseActivity</code> wasn't abstract, you could add a factory method:</p>\n\n<pre><code>// outside BaseActivity class itself\nfun &lt;reified E : BaseModel&gt; BaseActivity() = BaseActivity(E::class.java)\n</code></pre>\n\n<p>but it wouldn't help when extending it.</p>\n"}, {"tags": [], "owner": {"reputation": 389, "user_id": 8832537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4yjq.png?s=128&g=1", "display_name": "Yekta Sar\u0131o\u011flu", "link": "https://stackoverflow.com/users/8832537/yekta-sar%c4%b1o%c4%9flu"}, "is_accepted": false, "score": 1, "last_activity_date": 1582207361, "creation_date": 1582207361, "answer_id": 60321712, "question_id": 50677091, "link": "https://stackoverflow.com/questions/50677091/getting-generic-class-from-kotlin-generic/60321712#60321712", "title": "Getting generic class from Kotlin Generic", "body": "<p><a href=\"https://stackoverflow.com/a/52107111/8832537\">https://stackoverflow.com/a/52107111/8832537</a></p>\n\n<p>You should check this guy's solution. The only downside of his approach is he uses Reflection API to get the generic parameter. I researched a lot but didn't find a solution that doesn't use reflection. If you did find it, let me know. That would be more convenient.</p>\n"}], "owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1582207361, "creation_date": 1528103562, "question_id": 50677091, "link": "https://stackoverflow.com/questions/50677091/getting-generic-class-from-kotlin-generic", "title": "Getting generic class from Kotlin Generic", "body": "<p>I have the following class signature:</p>\n\n<pre><code>abstract class BaseActivity&lt;E : ViewModel&gt; : AppCompatActivity() {\n\n    protected lateinit var viewModel: E\n\n}\n</code></pre>\n\n<p>Now I want to initialize my viewModel in a generic way using ViewModelProvider, so:</p>\n\n<pre><code>   viewModel = ViewModelProviders.of(this, viewModelFactory)\n            .get(MyViewModel::class)\n</code></pre>\n\n<p>Given that MyViewModel class will be provided in the generic type, I'd say this could potentially be abstracted into the BaseActivity so I dont have to do it for every Activity that extends it.</p>\n\n<p>I tried with: </p>\n\n<pre><code>inline fun &lt;reified E : ViewModel&gt; getViewModelClass() = E::class.java\n</code></pre>\n\n<p>But then when doing:</p>\n\n<pre><code>viewModel = ViewModelProviders.of(this, viewModelFactory)\n            .get(getViewModelClass())\n</code></pre>\n\n<p>I get <code>Cannot use E as reified type paramter. Use class instead</code></p>\n\n<p>Is there a solution to this?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9891161, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t7IcHq0csKg/AAAAAAAAAAI/AAAAAAAAM2c/ebBMFcRBAO8/photo.jpg?sz=128", "display_name": "Nicolae Manda", "link": "https://stackoverflow.com/users/9891161/nicolae-manda"}, "edited": false, "score": 0, "creation_date": 1528104337, "post_id": 50676794, "comment_id": 88364077, "body": "ok thanks. and i&#39;m sorry for bothering you... but now i&#39;m starting to learn android dev"}], "tags": [], "owner": {"reputation": 3075, "user_id": 199498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/abdea1aff9f4ea1ac48e329a34052fa2?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/199498/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1528102564, "creation_date": 1528102564, "answer_id": 50676794, "question_id": 50676687, "link": "https://stackoverflow.com/questions/50676687/how-do-i-print-on-the-next-line-on-programed-linear-layout-in-kotlin-android-stu/50676794#50676794", "title": "How do i print on the next line on programed linear layout in kotlin android studio?", "body": "<p>This has nothing to do with Kotlin. Linearlayout's default orientation is horizontal so if you want to arrange the views vertically you need to set the orientation to vertical</p>\n"}], "owner": {"reputation": 1, "user_id": 9891161, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t7IcHq0csKg/AAAAAAAAAAI/AAAAAAAAM2c/ebBMFcRBAO8/photo.jpg?sz=128", "display_name": "Nicolae Manda", "link": "https://stackoverflow.com/users/9891161/nicolae-manda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1528104240, "creation_date": 1528102209, "last_edit_date": 1528104240, "question_id": 50676687, "link": "https://stackoverflow.com/questions/50676687/how-do-i-print-on-the-next-line-on-programed-linear-layout-in-kotlin-android-stu", "title": "How do i print on the next line on programed linear layout in kotlin android studio?", "body": "<p>/* Im trying to learn kotlin for android develop and i'm stuck because i can't move to the next line of printing this i what i'm tring to print o three lines:*/</p>\n\n<pre><code>val\n\nSist:LinearLayout=findViewById(R.id.Afisaj)\n\nSist.addView(Textul)\n\nSist.addView(a)\n\nSist.addView(Textul1)\n\nSist.addView(b)\n\nSist.addView(Textul2)\n\nSist.addView(c)\n\nSist.addView(Textul3)\n\nSist.addView(d)\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 2, "last_activity_date": 1528101274, "creation_date": 1528101274, "answer_id": 50676405, "question_id": 50676327, "link": "https://stackoverflow.com/questions/50676327/why-repeat-function-is-cancelable-in-kotlin/50676405#50676405", "title": "why &quot;repeat&quot; function is cancelable in kotlin", "body": "<p>Because <code>delay()</code> is a suspend function.</p>\n\n<p><code>Thread.sleep()</code> is not a suspend function.\nIf you replace <code>delay(500L)</code> with <code>Thread.sleep(500)</code>, then it will not be cancellable on time.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 2, "last_activity_date": 1528118686, "last_edit_date": 1528118686, "creation_date": 1528102345, "answer_id": 50676730, "question_id": 50676327, "link": "https://stackoverflow.com/questions/50676327/why-repeat-function-is-cancelable-in-kotlin/50676730#50676730", "title": "why &quot;repeat&quot; function is cancelable in kotlin", "body": "<p>Here's the analogy with Java threads:</p>\n\n<p>1) Checking the interrupted flag explicitly:</p>\n\n<pre><code>while (!Thread.interrupted()) {\n    // loop code\n}\n</code></pre>\n\n<p>2) Calling interruptible operations:</p>\n\n<pre><code>while (true) {\n    Thread.sleep(1);\n    // loop code\n}\n</code></pre>\n\n<p>In both cases the thread will respond to a raised interrupt flag.</p>\n\n<p>In coroutines, <code>delay()</code> is the counterpart of <code>Thread.sleep()</code> and the <code>isActive</code> flag is the counterpart of the <code>Thread.interrupted</code> flag.</p>\n\n<p>Therefore, when you write</p>\n\n<pre><code>delay(1)\n</code></pre>\n\n<p>the coroutine will be scheduled off the thread and, when its time to resume comes, inside the <code>continuation.resume()</code> call it will first check the <code>isActive</code> flag. If it's raised, it will throw a <code>CancellationException</code> instead.</p>\n"}], "owner": {"reputation": 25, "user_id": 9891127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf4562ca7573cba2b59d02e7d15d3f0f?s=128&d=identicon&r=PG&f=1", "display_name": "YMZ", "link": "https://stackoverflow.com/users/9891127/ymz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 1, "accepted_answer_id": 50676730, "answer_count": 2, "score": 1, "last_activity_date": 1528118686, "creation_date": 1528101025, "question_id": 50676327, "link": "https://stackoverflow.com/questions/50676327/why-repeat-function-is-cancelable-in-kotlin", "title": "why &quot;repeat&quot; function is cancelable in kotlin", "body": "<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\nval job = launch {\n    repeat(1000) { i -&gt;\n        println(\"I'm sleeping $i ...\")\n        delay(500L)\n    }\n}\ndelay(1300L) // delay a bit\nprintln(\"main: I'm tired of waiting!\")\njob.cancel() // cancels the job\njob.join() // waits for job's completion \nprintln(\"main: Now I can quit.\")\n</code></pre>\n\n<p>}\nthis code not check isActive or use suspend function but can canceled</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 1, "creation_date": 1528093303, "post_id": 50674384, "comment_id": 88358472, "body": "are you using textInputLayout or simple edittext ? Posting more code will be good to give us the idea what issue exactly you are facing."}, {"owner": {"reputation": 25, "user_id": 6560978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6366aaa24c5535f8ff3f499804e0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "ButterTofu", "link": "https://stackoverflow.com/users/6560978/buttertofu"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1528094519, "post_id": 50674384, "comment_id": 88359035, "body": "@Umair it\u2019s an editText , added a line to clear the ambiguity"}, {"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1528094757, "post_id": 50674384, "comment_id": 88359143, "body": "you know you can change error color and background. Default way of showing error message is above you already wrote. And in material design you use textInputLayout on which the error message is displayed."}], "answers": [{"tags": [], "owner": {"reputation": 482, "user_id": 7876485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/343de691dce63116ac6248d56d0c67e3?s=128&d=identicon&r=PG&f=1", "display_name": "Shashank Mishra", "link": "https://stackoverflow.com/users/7876485/shashank-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1528093697, "last_edit_date": 1528093697, "creation_date": 1528093376, "answer_id": 50674435, "question_id": 50674384, "link": "https://stackoverflow.com/questions/50674384/changing-text-color-for-seterror-method-for-edittext-fields/50674435#50674435", "title": "Changing text color for setError method for editText fields", "body": "<p><strong><code>Try This To Use Html.fromHtml() in all APIs</code></strong>:-</p>\n\n<pre><code>     @SuppressWarnings(\"deprecation\") \n       public static Spanned fromHtml(String html)\n       { \n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        return Html.fromHtml(html, Html.FROM_HTML_MODE_LEGACY); \n        } else{ \n        return Html.fromHtml(html);\n       }\n</code></pre>\n\n<p>Just Use It With Flag Parameter<br>\n   <strong><code>Flag Parameters Are</code></strong>:-</p>\n\n<pre><code>public static final int FROM_HTML_MODE_COMPACT = 63;\npublic static final int FROM_HTML_MODE_LEGACY = 0;\npublic static final int FROM_HTML_OPTION_USE_CSS_COLORS = 256;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_BLOCKQUOTE = 32;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_DIV = 16;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_HEADING = 2;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_LIST = 8;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_LIST_ITEM = 4;\npublic static final int FROM_HTML_SEPARATOR_LINE_BREAK_PARAGRAPH = 1;\npublic static final int TO_HTML_PARAGRAPH_LINES_CONSECUTIVE = 0;\npublic static final int TO_HTML_PARAGRAPH_LINES_INDIVIDUAL = 1;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1528093922, "creation_date": 1528093922, "answer_id": 50674554, "question_id": 50674384, "link": "https://stackoverflow.com/questions/50674384/changing-text-color-for-seterror-method-for-edittext-fields/50674554#50674554", "title": "Changing text color for setError method for editText fields", "body": "<p>Try this </p>\n\n<pre><code>    String errorString = \"This field cannot be empty\";  // Your custom error message.\n    ForegroundColorSpan foregroundColorSpan = new ForegroundColorSpan(errorColor);\n    SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder(errorString);\n    spannableStringBuilder.setSpan(foregroundColorSpan, 0, errorString.length(), 0);\n    editTextView.setError(spannableStringBuilder);\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6560978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6366aaa24c5535f8ff3f499804e0cb5?s=128&d=identicon&r=PG&f=1", "display_name": "ButterTofu", "link": "https://stackoverflow.com/users/6560978/buttertofu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528093922, "creation_date": 1528093020, "last_edit_date": 1528093894, "question_id": 50674384, "link": "https://stackoverflow.com/questions/50674384/changing-text-color-for-seterror-method-for-edittext-fields", "title": "Changing text color for setError method for editText fields", "body": "<pre><code>editTextField = findViewById&lt;EditText&gt;(R.id.nameText)\neditTextField.setError(\u201cerror message\u201d)\n</code></pre>\n\n<p>For some reason the error messages come with an unreadable combination of darkish background and black text. The old answers for this question are about a deprecated fromHtml method...</p>\n"}, {"tags": ["android", "kotlin", "android-canvas", "android-custom-view"], "comments": [{"owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1528092854, "post_id": 50674313, "comment_id": 88358261, "body": "Translating the canvas does not move the view leftwards."}, {"owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1528093041, "post_id": 50674313, "comment_id": 88358359, "body": "Yes i want to move the view so that i can show new lines which are appearing on the right side and hide the old lines which are on the left side."}, {"owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1528093343, "post_id": 50674313, "comment_id": 88358489, "body": "If i translate it by -500 , it will be completly invisible but i keep adding new lines and that should increase the width of the view. The lines added on the right should now be appearing on the screen. The question is why arent they appearing?"}, {"owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1528093791, "post_id": 50674313, "comment_id": 88358689, "body": "Translating the canvas is not showing the new lines."}], "answers": [{"tags": [], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "is_accepted": false, "score": 0, "last_activity_date": 1528101157, "creation_date": 1528101157, "answer_id": 50676374, "question_id": 50674313, "link": "https://stackoverflow.com/questions/50674313/android-canvas-not-drawing-after-translation/50676374#50676374", "title": "Android - Canvas not drawing after Translation?", "body": "<p>I solved the problem without having to translate anything.</p>\n\n<p>Everytime the collective width of the lines crossed the width of the View , i increased the starting index of the array so that i drew only n elements, where n is the max number of lines that can fit inside the views width. This solution also helped avoid drawing unnecessary lines everytime a new element was added to the array.</p>\n"}], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528101157, "creation_date": 1528092719, "question_id": 50674313, "link": "https://stackoverflow.com/questions/50674313/android-canvas-not-drawing-after-translation", "title": "Android - Canvas not drawing after Translation?", "body": "<p>I am working on a custom view where i draw lines horizontally one after another left to right. When the collective width of all the lines combined crosses the width of the view , i translate the view. After translating the view , the view moves leftward , but canvas.drawLine stops drawing lines as soon as i translate the view. Any solution to this problem?</p>\n\n<pre><code>       for(someCondition){\n\n        canvas?.drawLine(startX,startY,stopX,stopY,linePaint)\n\n        if(startX &gt; (width)){\n            log(\"Invisible , setting translation to ${-(startX - width)}\")\n            translationX = -(startX - width)\n        }\n\n        log(\"width is $width and startX is $startX\")\n\n       }\n</code></pre>\n\n<p>as soon as i translate , the canvas stops drawing but translate keeps happening.</p>\n"}, {"tags": ["java", "firebase", "kotlin", "google-cloud-firestore", "geofire"], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "edited": false, "score": 0, "creation_date": 1528108382, "post_id": 50677076, "comment_id": 88366474, "body": "Thanks, I have seen a couple examples of that answer (not sure why a mile has to be used though). Appreciate the Kotlin translation, saves me having to do it. The only thing is that I believe this provides locations within a &#39;square&#39; around the users location. I&#39;m currently trying to implement a solution inline with my question/suggestion, but I will be sure to compare it to your solution and test the differences in completion time and accuracy."}, {"owner": {"reputation": 9491, "user_id": 5631145, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lgSfD.jpg?s=128&g=1", "display_name": "Francisco Durdin Garcia", "link": "https://stackoverflow.com/users/5631145/francisco-durdin-garcia"}, "reply_to_user": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "edited": false, "score": 0, "creation_date": 1528446282, "post_id": 50677076, "comment_id": 88520520, "body": "Thank you to accept my answer as correct. Did you found the way to measure your locations in the way that you wanted?"}, {"owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "edited": false, "score": 0, "creation_date": 1528497598, "post_id": 50677076, "comment_id": 88546000, "body": "That&#39;s alright, your solution was much easier and faster to implement, and the accuracy difference won&#39;t matter for now. I used almost your code exactly, but changed to support km instead of miles. The query works great now. Thanks."}], "tags": [], "owner": {"reputation": 9491, "user_id": 5631145, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lgSfD.jpg?s=128&g=1", "display_name": "Francisco Durdin Garcia", "link": "https://stackoverflow.com/users/5631145/francisco-durdin-garcia"}, "is_accepted": true, "score": 2, "last_activity_date": 1568058176, "last_edit_date": 1568058176, "creation_date": 1528103504, "answer_id": 50677076, "question_id": 50673639, "link": "https://stackoverflow.com/questions/50673639/firestore-possible-geoquery-workaround/50677076#50677076", "title": "Firestore - Possible GeoQuery Workaround", "body": "<p>I think that the easiest way will be query using the Firestore Geopoints, you can achieve it doing this:</p>\n\n<pre><code>fun Query.getNearestLocation(latitude: Double, longitude: Double, distance: Double): Query {\n    // ~1 mile of lat and lon in degrees\n    val lat = 0.0144927536231884\n    val lon = 0.0181818181818182\n\n    val lowerLat = latitude - (lat * distance)\n    val lowerLon = longitude - (lon * distance)\n\n    val greaterLat = latitude + (lat * distance)\n    val greaterLon = longitude + (lon * distance)\n\n    val lesserGeopoint = GeoPoint(lowerLat, lowerLon)\n    val greaterGeopoint = GeoPoint(greaterLat, greaterLon)\n\n    val docRef = FirebaseFirestore.getInstance().collection(\"locations\")\n    return docRef\n            .whereGreaterThan(\"location\", lesserGeopoint)\n            .whereLessThan(\"location\", greaterGeopoint)\n}\n</code></pre>\n\n<p>It's also wrote on Kotlin. This code is a Kotlin translation from the code made by Ryan Lee on <a href=\"https://stackoverflow.com/questions/46630507/how-to-run-a-geo-nearby-query-with-firestore?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">this post</a>.</p>\n"}], "owner": {"reputation": 269, "user_id": 9648504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5979b00de3502cab6147277e2c78bd35?s=128&d=identicon&r=PG&f=1", "display_name": "NicCoe", "link": "https://stackoverflow.com/users/9648504/niccoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1802, "favorite_count": 2, "accepted_answer_id": 50677076, "answer_count": 1, "score": 1, "last_activity_date": 1568058176, "creation_date": 1528088333, "last_edit_date": 1528427636, "question_id": 50673639, "link": "https://stackoverflow.com/questions/50673639/firestore-possible-geoquery-workaround", "title": "Firestore - Possible GeoQuery Workaround", "body": "<p>Since native GeoQueries are not yet supported, I've thought of a possible solution but would like to know of its validity and effectiveness.</p>\n\n<p><strong>What I want:</strong> I have a collection of about 2000 documents, each containing a Geopoint.\nI would like to query for example, the closest 20 documents to the users current location.</p>\n\n<p><strong>Possible Solution:</strong> Can I create another document in the collection and have that as my 'index'. Each field name would be the String of each documents ID. The value of each field would be the corresponding Geopoint.\nI would then only need 1 read operation when the app is opened... Can I then use a function to work through the 2000 document fields to calculate and order the distance of each location from the user? Finally, could I then take the closest 20 results and then just create a listener and pull only those results?</p>\n\n<p><strong>Edit:</strong> Have attempted my suggestion. Gave up after running into constant issues.\nI got the whole index document working, and was able to download it, arrange it to find the closest locations and the relevant doc id. However I had a lot of issues with using the array of doc IDs to set listeners to. I used a for loop to loop through each ID in the array and set a listener for each, but it only ever did the first one and random crashes kept happening. Also I noticed it took a fair bit longer to get the doc.... So, I decided to ditch the high accuracy solution and just query the geopoints to find locations within a square around the user.</p>\n"}, {"tags": ["android", "kotlin", "zooming"], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "edited": false, "score": 0, "creation_date": 1528088145, "post_id": 50673240, "comment_id": 88356830, "body": "Thanks! The second option worked. I zoomed on the Linearlayout instead of the ImageViews. I normally use ConstraintLayout for everything so I hardly even thought of using a Linearlayout."}], "tags": [], "owner": {"reputation": 389, "user_id": 3611224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f7705892155dd21d611d7a1c9f951e?s=128&d=identicon&r=PG", "display_name": "Stakshi", "link": "https://stackoverflow.com/users/3611224/stakshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1528084737, "creation_date": 1528084737, "answer_id": 50673240, "question_id": 50673070, "link": "https://stackoverflow.com/questions/50673070/zooming-2-imageviews-side-by-side-while-keeping-proportions/50673240#50673240", "title": "Zooming 2 imageviews side by side while keeping proportions", "body": "<p>You may want to get zoom from first view and then set it on second view. That way they will be both zommed at same level giving illusion of on.\nAlso as an alternative rather than zooming on image view set zoom on parent and let images hold 50% weight in layout of parent. They will start behaving as one unit then also</p>\n"}], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 50673240, "answer_count": 1, "score": 0, "last_activity_date": 1528084737, "creation_date": 1528082783, "question_id": 50673070, "link": "https://stackoverflow.com/questions/50673070/zooming-2-imageviews-side-by-side-while-keeping-proportions", "title": "Zooming 2 imageviews side by side while keeping proportions", "body": "<p>I am working on a book page spread that has to be zoomable on both pages. I have found this example on github: <a href=\"https://github.com/MikeOrtiz/TouchImageView\" rel=\"nofollow noreferrer\">TouchImageView sample</a> which works beautifully on a single ImageView.</p>\n\n<p>It also has a mirroring example for two images side by side but that is not the effect I need. The two pages need to be zoomed as if it was a single page and not 2 separate images.</p>\n\n<p>Actually, I already achieved this effect by combining the two bitmaps side by side into a single bitmap and then loading to an imageview. However, this approach is very inefficient and is causing an Out Of Memory error from handling so many bitmap arrays.</p>\n\n<p>So, I'm hoping to work with ImageViews instead of Bitmaps. Can anyone suggest how I might be able to accomplish this?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1528095250, "post_id": 50674562, "comment_id": 88359372, "body": "Thanks! would you please my modified question? But at present I can&#39;t see that  the content  answered by David Rawson"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1528095638, "post_id": 50674562, "comment_id": 88359538, "body": "Do you mean that I can access a private member outside companion objects ?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 2, "creation_date": 1528103265, "post_id": 50674562, "comment_id": 88363482, "body": "No. Private members of a companion object are visible in its containing class but not outside of it. This is, once again, exactly like Java, which doesn&#39;t allow calling private static methods of a class from other classes."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1528093966, "creation_date": 1528093966, "answer_id": 50674562, "question_id": 50672572, "link": "https://stackoverflow.com/questions/50672572/why-can-i-access-a-private-fun-outside-a-companion-object-in-kotlin/50674562#50674562", "title": "Why can I access a private fun outside a companion object in Kotlin?", "body": "<p>In Kotlin, companion objects work effectively as a replacement for Java's static members, and visibility rules for them work in the same way. Just like in Java you can call a private static method from an instance method of a class, in Kotlin you can call a private method of a companion object from a regular method of a class.</p>\n"}, {"tags": [], "owner": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "is_accepted": false, "score": 1, "last_activity_date": 1528263672, "last_edit_date": 1528263672, "creation_date": 1528111413, "answer_id": 50679478, "question_id": 50672572, "link": "https://stackoverflow.com/questions/50672572/why-can-i-access-a-private-fun-outside-a-companion-object-in-kotlin/50679478#50679478", "title": "Why can I access a private fun outside a companion object in Kotlin?", "body": "<p>Your private code is still within your <code>UIPreference class</code> and is therefore visible in this class (only!). That code, however, cannot be accessed <strong>outside</strong> your <code>UIPreference class</code>.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2318, "favorite_count": 0, "accepted_answer_id": 50674562, "answer_count": 2, "score": 1, "last_activity_date": 1528263672, "creation_date": 1528077321, "last_edit_date": 1528112804, "question_id": 50672572, "link": "https://stackoverflow.com/questions/50672572/why-can-i-access-a-private-fun-outside-a-companion-object-in-kotlin", "title": "Why can I access a private fun outside a companion object in Kotlin?", "body": "<p>In my mind, a private function can only be accessed inside a class, but in my example the following code <code>bindPreferenceSummaryToValue(findPreference(\"RestoreItem\"))</code>, which is outside the companion object, is accessible. Why?</p>\n\n<p><strong>Code</strong> </p>\n\n<pre><code>class UIPreference : AppCompatPreferenceActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_preference)\n\n        fragmentManager.beginTransaction().replace(R.id.content, MyPreferenceFragment()).commit()\n\n        setControl()\n        utility.setAD(adView)\n    }\n\n\n    class MyPreferenceFragment : PreferenceFragment() {\n\n        private lateinit var mContext: Context\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            addPreferencesFromResource(R.xml.mypreference)\n            mContext=this.activity\n            setPreference()\n\n            bindPreferenceSummaryToValue(findPreference(\"RestoreItem\"))\n        }\n     }\n\n\n     companion object {\n        private val sBindPreferenceSummaryToValueListener = Preference.OnPreferenceChangeListener { preference, value -&gt;\n            val stringValue = value.toString()\n            if (preference is ListPreference) {\n                val listPreference = preference\n                val index = listPreference.findIndexOfValue(stringValue)\n\n                preference.setSummary(\n                        if (index &gt;= 0)\n                            listPreference.entries[index]\n                        else\n                            preference.summary)\n\n            }\n            true\n        }\n\n        private fun bindPreferenceSummaryToValue(preference: Preference) {           \n            preference.onPreferenceChangeListener = sBindPreferenceSummaryToValueListener\n\n            sBindPreferenceSummaryToValueListener.onPreferenceChange(preference,\n                    PreferenceManager\n                            .getDefaultSharedPreferences(preference.context)\n                            .getString(preference.key, \"\"))\n        }\n    }\n\n\n}\n</code></pre>\n\n<p><strong>To David Rawson</strong></p>\n\n<p>Thanks! But from <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/visibility-modifiers.html</a>, it seems that <em>\"private means visible inside this class only (including all its members);\"</em> for Classes and Interfaces.</p>\n\n<p>Would you please see the image?</p>\n\n<p><a href=\"https://i.stack.imgur.com/72977.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72977.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>To yole:</strong></p>\n\n<p>Thanks! I can't access a private member in the class MyB outside  companion object by the following code.</p>\n\n<pre><code>class UIPreference {\n\n    companion object {\n        private val aa=1\n\n    }\n\n    class MyA {\n        private val bar: Int =UIPreference.aa  //OK\n    }\n\n}\n\n\nclass MyB {\n   private val bar: Int = UIPreference.aa //Failed\n}\n</code></pre>\n"}, {"tags": ["kotlin", "arguments", "named"], "comments": [{"owner": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "edited": false, "score": 1, "creation_date": 1532336186, "post_id": 50672203, "comment_id": 89918173, "body": "<a href=\"https://youtrack.jetbrains.com/issue/KT-9872\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-9872</a>"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1528111407, "creation_date": 1528111407, "answer_id": 50679475, "question_id": 50672203, "link": "https://stackoverflow.com/questions/50672203/kotlin-explicitly-unnamed-function-arguments/50679475#50679475", "title": "Kotlin: explicitly unnamed function arguments", "body": "<p>As of Kotlin 1.2.40, there is no possibility to mark a function argument as explicitly unnamed, and I'm not aware of any plans to add such a possibility.</p>\n"}], "owner": {"reputation": 3677, "user_id": 1128668, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/35ca82b58da21315ee1650c8f4158adf?s=128&d=identicon&r=PG", "display_name": "GlenPeterson", "link": "https://stackoverflow.com/users/1128668/glenpeterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1814, "favorite_count": 0, "accepted_answer_id": 50679475, "answer_count": 1, "score": 6, "last_activity_date": 1528111407, "creation_date": 1528072553, "last_edit_date": 1528073090, "question_id": 50672203, "link": "https://stackoverflow.com/questions/50672203/kotlin-explicitly-unnamed-function-arguments", "title": "Kotlin: explicitly unnamed function arguments", "body": "<pre><code>@FunctionalInterface\ninterface Fn2&lt;A, B, R&gt; : BiFunction&lt;A, B, R&gt;, (A, B) -&gt; R {\n    @JvmDefault\n    override operator fun invoke(p1: A, p2: B): R {\n        ...\n</code></pre>\n\n<p>When I implement this interface:</p>\n\n<pre><code>object: Fn2&lt;Int,Int,Int&gt; {\n    override fun invokeEx(accum: Int, i: Int): Int =\n    accum + i\n}\n</code></pre>\n\n<p>I get a warning:</p>\n\n<blockquote>\n  <p>Warning:(598, 76) Kotlin: The corresponding parameter in the supertype\n  'Fn2' is named 'a'. This may cause problems when calling this function\n  with named arguments.</p>\n</blockquote>\n\n<p>Is there some kind of annotation or keyword or secret name (like <code>it</code> or <code>_</code>) that I can use on the <code>invoke()</code> function definition to get rid of these warnings.  I admit I'm doing something kind of non-standard with Java/Kotlin interop that might go away when I finish refactoring, but I'm still curious.</p>\n\n<p>I know there's a <code>@Suppress(\"PARAMETER_NAME_CHANGED_ON_OVERRIDE\")</code> (<a href=\"https://discuss.kotlinlang.org/t/annoying-warning-on-parameters-when-overriding-methods/682\" rel=\"noreferrer\">thank you evilbloodydemon</a>) but I'm looking for a way to suppress it at the function signature that I'm overriding, not at the implementation.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1528071091, "post_id": 50671182, "comment_id": 88353862, "body": "I believe you might be using the wrong <code>EXTRA_MESSAGE </code> value."}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1528103350, "post_id": 50671182, "comment_id": 88363525, "body": "seems EXTRA_MESSAGE value is not  imported in DisplayMessageActivity"}, {"owner": {"reputation": 233, "user_id": 7737976, "user_type": "registered", "profile_image": "https://graph.facebook.com/1800294509996166/picture?type=large", "display_name": "K&#233;vin Furet", "link": "https://stackoverflow.com/users/7737976/k%c3%a9vin-furet"}, "edited": false, "score": 0, "creation_date": 1528124366, "post_id": 50671182, "comment_id": 88376603, "body": "I tried to check <code>if(intent !=null)</code> and i&#39;m not going inside the if, so it seem that intent is not defined... :/"}], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 7737976, "user_type": "registered", "profile_image": "https://graph.facebook.com/1800294509996166/picture?type=large", "display_name": "K&#233;vin Furet", "link": "https://stackoverflow.com/users/7737976/k%c3%a9vin-furet"}, "edited": false, "score": 0, "creation_date": 1528124368, "post_id": 50671501, "comment_id": 88376606, "body": "I tried to check <code>if(intent !=null)</code> and i&#39;m not going inside the if, so it seem that intent is not defined... :/"}], "tags": [], "owner": {"reputation": 57, "user_id": 7050043, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-69RtFT5YyMU/AAAAAAAAAAI/AAAAAAAADKI/JB0D2N7PsZ0/photo.jpg?sz=128", "display_name": "Amaobi Victor", "link": "https://stackoverflow.com/users/7050043/amaobi-victor"}, "is_accepted": false, "score": 0, "last_activity_date": 1528144845, "last_edit_date": 1528144845, "creation_date": 1528064510, "answer_id": 50671501, "question_id": 50671182, "link": "https://stackoverflow.com/questions/50671182/android-error-attempt-to-invoke-virtual-method-java-lang-string-android-conte/50671501#50671501", "title": "Android Error : Attempt to invoke virtual method &#39;java.lang.String android.content.Intent.getStringExtra(java.lang.String)&#39; on a null object reference", "body": "<p>i think you need to make this import\n     import android.provider.AlarmClock.EXTRA_MESSAGE\nin your DisplayMessageActivity class so as to have the EXTRA_MESSAGE message value. your EXTRA_MESSAGE variable currently does not exists.</p>\n"}], "owner": {"reputation": 233, "user_id": 7737976, "user_type": "registered", "profile_image": "https://graph.facebook.com/1800294509996166/picture?type=large", "display_name": "K&#233;vin Furet", "link": "https://stackoverflow.com/users/7737976/k%c3%a9vin-furet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1411, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528144845, "creation_date": 1528061637, "question_id": 50671182, "link": "https://stackoverflow.com/questions/50671182/android-error-attempt-to-invoke-virtual-method-java-lang-string-android-conte", "title": "Android Error : Attempt to invoke virtual method &#39;java.lang.String android.content.Intent.getStringExtra(java.lang.String)&#39; on a null object reference", "body": "<p>I'm working on a Android app with Android Studio, but I'm getting this error : </p>\n\n<blockquote>\n  <p>Attempt to invoke virtual method 'java.lang.String\n  android.content.Intent.getStringExtra(java.lang.String)' on a null\n  object reference</p>\n</blockquote>\n\n<p>So it's seem that my intent is null, but I'm not getting why...</p>\n\n<p>My first class : Timer</p>\n\n<pre><code>package com.example.work.lustucru\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.EditText\nimport android.provider.AlarmClock.EXTRA_MESSAGE\n\n\n\nconst val EXTRA_MESSAGE = \"com.example.lustucru.MESSAGE\"\n\nclass Timer : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_timer)\n    }\n\n    /** Called when the user taps the Send button */\n    fun sendMessage(view: View) {\n        val editText = findViewById&lt;EditText&gt;(R.id.editText)\n        val message = editText.text.toString()\n        val intent = Intent(this, DisplayMessageActivity::class.java).apply {\n            this.putExtra(EXTRA_MESSAGE, message)\n        }\n        startActivity(intent)\n    }\n}\n</code></pre>\n\n<p>My second class : DisplayMessageActivity</p>\n\n<pre><code>package com.example.work.lustucru\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView\n\nclass DisplayMessageActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_display_message)\n\n        // Get the Intent that started this activity and extract the string\n        val message = intent.getStringExtra(EXTRA_MESSAGE)\n\n        // Capture the layout's TextView and set the string as its text\n        val textView = findViewById&lt;TextView&gt;(R.id.textView).apply {\n            text = message\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["spring", "kotlin", "jackson", "spring-webflux"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1528061291, "post_id": 50671027, "comment_id": 88351971, "body": "What error do you get?"}, {"owner": {"reputation": 912, "user_id": 4345649, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a2J5C.jpg?s=128&g=1", "display_name": "Fernando S. Kroes", "link": "https://stackoverflow.com/users/4345649/fernando-s-kroes"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1528061678, "post_id": 50671027, "comment_id": 88352069, "body": "Added the error msg"}, {"owner": {"reputation": 1715, "user_id": 3811763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ6iX.jpg?s=128&g=1", "display_name": "uneq95", "link": "https://stackoverflow.com/users/3811763/uneq95"}, "edited": false, "score": 0, "creation_date": 1528827649, "post_id": 50671027, "comment_id": 88651965, "body": "What&#39;s the implementation inside map?"}, {"owner": {"reputation": 912, "user_id": 4345649, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a2J5C.jpg?s=128&g=1", "display_name": "Fernando S. Kroes", "link": "https://stackoverflow.com/users/4345649/fernando-s-kroes"}, "reply_to_user": {"reputation": 1715, "user_id": 3811763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ6iX.jpg?s=128&g=1", "display_name": "uneq95", "link": "https://stackoverflow.com/users/3811763/uneq95"}, "edited": false, "score": 0, "creation_date": 1528989209, "post_id": 50671027, "comment_id": 88724017, "body": "@uneq95 can you elaborate on that?"}, {"owner": {"reputation": 61, "user_id": 9395140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0B1U.png?s=128&g=1", "display_name": "Wonjun Kim", "link": "https://stackoverflow.com/users/9395140/wonjun-kim"}, "edited": false, "score": 0, "creation_date": 1573728148, "post_id": 50671027, "comment_id": 103981517, "body": "Did you solved this problem?"}], "owner": {"reputation": 912, "user_id": 4345649, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/a2J5C.jpg?s=128&g=1", "display_name": "Fernando S. Kroes", "link": "https://stackoverflow.com/users/4345649/fernando-s-kroes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1410, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1528101962, "creation_date": 1528060424, "last_edit_date": 1528101962, "question_id": 50671027, "link": "https://stackoverflow.com/questions/50671027/kotlin-how-to-use-bodytomono-with-generics-and-nested-classes-webflux", "title": "Kotlin - how to use BodyToMono with Generics and Nested Classes | WebFlux", "body": "<p>I cannot make it work to map a WebClient response to a data class with generics and/or with nested data classes in Kotlin. What I use is Spring 5 with WebFlux and a Reactive MongoDB</p>\n\n<p>Here is my code for the response of the WebClient and to <code>.map()</code> the response to a data class.</p>\n\n<pre><code>        var response = CreateBittrexUrl(\"/account/getbalances\", \"GET\")\n            .getWebClient()\n            .map { it to Test.Result::class.java } &lt;-- does not work\n            .flatMap { it.bodyToMono(Test.Result::class.java) } &lt;-- does not work\n            .flatMap { it.toEntity(Wrapper&lt;Account&gt;().retrieveSomething()::class.java) } &lt;-- does also not work with generics\n</code></pre>\n\n<p>Here are my data classes that is nested. I need to get the variable result. </p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\ndata class Test(\n    @JsonProperty(\"success\") val success: Boolean = false,\n    @JsonProperty(\"message\") val message: String = \"\",\n    @JsonProperty(\"result\") val result: List&lt;Result&gt; = emptyList()\n) {\n\ndata class Result(\n    @JsonProperty(\"Currency\") val currency: String?,\n    @JsonProperty(\"Balance\") val balance: Double,\n    @JsonProperty(\"Available\") val available: Double,\n    @JsonProperty(\"Pending\") val pending: Double,\n    @JsonProperty(\"CryptoAddress\") val cryptoAddress: String?,\n    @JsonProperty(\"Requested\") val requested: Boolean,\n    @JsonProperty(\"Uuid\") val uuid: Any?\n)\n</code></pre>\n\n<p>The generic version; note that I use an inline function to get the <code>class.java</code> data from the Generic I insert. This is needed for the <code>BodyToMono()</code> method</p>\n\n<pre><code>data class Wrapper&lt;T: Any&gt;(var succes: Boolean? = false,\n                                  var message: String? = \"\",\n                                  var result: T? = null) {\n\n    inline fun &lt;reified T: Any&gt; retrieveSomething() = T::class.java\n}\n</code></pre>\n\n<p>And here is the error message that I get when executing a request:</p>\n\n<pre><code>{\n  \"timestamp\": \"2018-06-03T21:03:52.876+0000\",\n  \"path\": \"/account/getbalances\",\n  \"status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"message\": \"JSON encoding error: object is not an instance of declaring class; nested exception is com.fasterxml.jackson.databind.JsonMappingException: object is not an instance of declaring class (through reference chain: java.util.ArrayList[0]-&gt;kotlin.Unit[\\\"success\\\"])\"\n}\n</code></pre>\n"}, {"tags": ["android", "binding", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "reply_to_user": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "edited": false, "score": 1, "creation_date": 1528061809, "post_id": 50670451, "comment_id": 88352111, "body": "i just checked it on my project and it is working perfectly, make sure you are doing all the necessary things required to do DataBinding and also, clean and rebuild the project before running it. Still not working, then let me know, i can dive more deep into it."}, {"owner": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "edited": false, "score": 0, "creation_date": 1528070747, "post_id": 50670451, "comment_id": 88353806, "body": "created this example project - it has the same errors as I posted above. <a href=\"https://github.com/jchristof/SimpleDatabindingExample\" rel=\"nofollow noreferrer\">github.com/jchristof/SimpleDatabindingExample</a>"}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "reply_to_user": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "edited": false, "score": 0, "creation_date": 1528108300, "post_id": 50670451, "comment_id": 88366426, "body": "I fixed your problem, its working now. Will get back to you with fixes.:)"}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "reply_to_user": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "edited": false, "score": 0, "creation_date": 1528109479, "post_id": 50670451, "comment_id": 88367138, "body": "Updated the answer, please check and let me know the status."}], "tags": [], "owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "is_accepted": true, "score": 5, "last_activity_date": 1528109443, "last_edit_date": 1528109443, "creation_date": 1528055719, "answer_id": 50670451, "question_id": 50669421, "link": "https://stackoverflow.com/questions/50669421/kotlin-layout-width-and-height-binding/50670451#50670451", "title": "Kotlin layout width and height binding", "body": "<p>To make DataBinding work for <code>layout_width</code> and <code>layout_height</code>, you have to give a default width and height to the view. So what you can do is change xml to something like this: </p>\n\n<pre><code>&lt;layout&gt;\n&lt;data class=\"PanelControlBinding\"&gt;\n    &lt;variable\n        name=\"panel\"\n        type=\"com.example.viewmodels.ContainerViewModel\"/&gt;\n&lt;/data&gt;\n&lt;FrameLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"@{panel.width, default=wrap_content}\"\n    android:layout_height=\"@{panel.height, default=wrap_content}\"\n    android:translationX=\"@{panel.left}\"\n    android:translationY=\"@{panel.top}\"\n    android:background=\"@{panel.background}\"\n    &gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>And your BindingAdapter like this:</p>\n\n<pre><code>@BindingAdapter(\"android:layout_width\")\nfun setLayoutWidth(view: View, width: float) {\nval layoutParams = view.layoutParams\nlayoutParams.width = width\nview.layoutParams = layoutParams\n}\n</code></pre>\n\n<p>Try this once, it should work. Let me know if it doesn't work.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>To make your project work, i have added these things to the <code>build.gradle(Module: app)</code></p>\n\n<p><strong>1</strong> added <code>apply plugin: 'kotlin-kapt'</code> to the top level plugins.</p>\n\n<p><strong>2</strong> added this to the <code>android</code> tag:</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>After these changes, clean and rebuild the project before running.</p>\n\n<p>It will work hopefully.:)</p>\n"}], "owner": {"reputation": 2512, "user_id": 650027, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6d1507ab9996c8ba8d73bef048b08f96?s=128&d=identicon&r=PG", "display_name": "jchristof", "link": "https://stackoverflow.com/users/650027/jchristof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1997, "favorite_count": 1, "accepted_answer_id": 50670451, "answer_count": 1, "score": 4, "last_activity_date": 1528118158, "creation_date": 1528048894, "last_edit_date": 1528118158, "question_id": 50669421, "link": "https://stackoverflow.com/questions/50669421/kotlin-layout-width-and-height-binding", "title": "Kotlin layout width and height binding", "body": "<p>I've googled and tried examples but I'm unable to perform binding a FrameLayout width and height. The other bindings work fine.</p>\n\n<p><strong>Final Solution:</strong>\nExample project: <a href=\"https://github.com/jchristof/SimpleDatabindingExample\" rel=\"nofollow noreferrer\">https://github.com/jchristof/SimpleDatabindingExample</a></p>\n\n<p>panel.xml:</p>\n\n<pre><code>&lt;layout&gt;\n    &lt;data class=\"PanelControlBinding\"&gt;\n        &lt;variable\n            name=\"panel\"\n            type=\"com.example.viewmodels.ContainerViewModel\"/&gt;\n    &lt;/data&gt;\n    &lt;FrameLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"@{panel.width}\"\n        android:layout_height=\"@{panel.height}\"\n        android:translationX=\"@{panel.left}\"\n        android:translationY=\"@{panel.top}\"\n        android:background=\"@{panel.background}\"\n        &gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>binding.kt kotlin file </p>\n\n<pre><code>@BindingAdapter(\"android:layout_width\")\nfun setLayoutWidth(view: View, width: Int) {\n    val layoutParams = view.layoutParams\n    layoutParams.width = width\n    view.layoutParams = layoutParams\n}\n</code></pre>\n\n<p>I've tried a number of permutations on the width type (setting it to Float) as well as removing the android: namespace,  declaring the setLayoutWidth as a static companion object etc. </p>\n\n<p>I continue to get the error:</p>\n\n<pre><code>Found data binding errors.\n****/ data binding error ****msg:Cannot find the setter for attribute 'android:layout_width' with parameter type java.lang.Integer on android.widget.FrameLayout.\nfile:D:\\Projects\\strandXmlAppRunner\\app\\src\\main\\res\\layout\\panel.xml\nloc:9:32 - 9:42\n****\\ data binding error ****\n</code></pre>\n\n<p>How do I need to change these declarations to enable binding on the layout width and height?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>also tried adding an import to the binding adapter:</p>\n\n<pre><code>&lt;data class=\"PanelControlBinding\"&gt;\n    &lt;import type=\"com.example.services.BindingKt\"/&gt;\n    &lt;variable\n        name=\"panel\"\n        type=\"com.example.viewmodels.ContainerViewModel\"/&gt;\n&lt;/data&gt;\n</code></pre>\n\n<p>same error</p>\n\n<p><strong>Edit</strong></p>\n\n<p>going back to my ContainerViewModel, I notice that if I change the return type of width from Int? to Int:</p>\n\n<pre><code>open class ContainerViewModel(val attributes: IValuesStore&lt;String&gt;) {\n    val width:Int\n        get() = placementArea?.width?.toInt() ?: 0\n}\n</code></pre>\n\n<p>slightly different error:</p>\n\n<pre><code>Found data binding errors.\n****/ data binding error ****msg:Cannot find the setter for attribute 'android:layout_width' with parameter type int on android.widget.FrameLayout.\nfile:D:\\Projects\\strandXmlAppRunner\\app\\src\\main\\res\\layout\\panel.xml\nloc:11:32 - 11:42\n****\\ data binding error ****\n</code></pre>\n\n<p>type java.lang.Integer vs type int</p>\n\n<p><strong>Edit</strong></p>\n\n<p>per suggestion, modified to include default values:</p>\n\n<pre><code>&lt;FrameLayout\n    android:layout_width=\"@{panel.width, default=wrap_content}\"\n    android:layout_height=\"@{panel.height, default=wrap_content}\"\n    android:translationX=\"@{panel.left}\"\n    android:translationY=\"@{panel.top}\"\n    android:background=\"@{panel.background}\"\n    &gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@BindingAdapter(\"android:layout_width\")\nfun setLayoutWidth(view: View, width: Float) {\n    val layoutParams = view.layoutParams\n    layoutParams.width = width.toInt()\n    view.layoutParams = layoutParams\n}\n</code></pre>\n\n<p>makes no difference:</p>\n\n<pre><code>Found data binding errors.\n****/ data binding error ****msg:Cannot find the setter for attribute 'android:layout_width' with parameter type int on android.widget.FrameLayout.\nfile:D:\\Projects\\strandXmlAppRunner\\app\\src\\main\\res\\layout\\panel.xml\nloc:11:32 - 11:42\n****\\ data binding error ****\n</code></pre>\n"}, {"tags": ["java", "android", "mobile", "kotlin", "navigation"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1528056104, "post_id": 50669071, "comment_id": 88350676, "body": "See donfuxx&#39;s answer below. Or enclose each element after -&gt; in curly braces {val intent....}"}], "answers": [{"tags": [], "owner": {"reputation": 921, "user_id": 9662401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk9UU.jpg?s=128&g=1", "display_name": "Dr4ke the b4dass", "link": "https://stackoverflow.com/users/9662401/dr4ke-the-b4dass"}, "is_accepted": false, "score": 0, "last_activity_date": 1528058538, "last_edit_date": 1528058538, "creation_date": 1528047903, "answer_id": 50669256, "question_id": 50669071, "link": "https://stackoverflow.com/questions/50669071/make-clickable-link-in-menu-with-kotlin/50669256#50669256", "title": "Make clickable link in menu with kotlin", "body": "<p>Please remove the <code>item -&gt;</code> in this line </p>\n\n<pre><code>bottomNavigation.setOnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {` \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10656, "user_id": 2399024, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JjSNR.jpg?s=128&g=1", "display_name": "donfuxx", "link": "https://stackoverflow.com/users/2399024/donfuxx"}, "is_accepted": false, "score": 1, "last_activity_date": 1528048249, "creation_date": 1528048249, "answer_id": 50669317, "question_id": 50669071, "link": "https://stackoverflow.com/questions/50669071/make-clickable-link-in-menu-with-kotlin/50669317#50669317", "title": "Make clickable link in menu with kotlin", "body": "<p>The problem is that you declare <code>val intent</code> various times inside the when block. To solve this just move the declaration of the intent outside of your when block, for example like this:</p>\n\n<pre><code>lateinit var intent:Intent\nbottomNavigation.setOnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {\n\n        R.id.botom__nav__home -&gt;\n            // Action when tab 1 selected\n            intent = Intent(this, HomeActivity::class.java)\n        R.id.botom__nav__profile -&gt;\n            // Action when tab 2 selected\n            intent = Intent(this, LikeActivity::class.java)\n        else -&gt;\n            // Action when tab 3 selected\n            intent = Intent(this, ProfileActivity::class.java)\n    }\n    true\n}\nstartActivityForResult(intent, 99)\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 7115732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TNGrA.jpg?s=128&g=1", "display_name": "Meric Fournier", "link": "https://stackoverflow.com/users/7115732/meric-fournier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528058538, "creation_date": 1528046639, "last_edit_date": 1528058488, "question_id": 50669071, "link": "https://stackoverflow.com/questions/50669071/make-clickable-link-in-menu-with-kotlin", "title": "Make clickable link in menu with kotlin", "body": "<p>I try to make a Bottom navigation, I have this code </p>\n\n<pre><code>val bottomNavigation = findViewById&lt;View&gt;(R.id.bottom_navigation) as \n  BottomNavigationView\n    bottomNavigation.setOnNavigationItemSelectedListener { item -&gt;\n        when (item.itemId) {\n\n            R.id.botom__nav__home -&gt;\n                // Action when tab 1 selected\n                val intent = Intent(this, HomeActivity::class.java)\n            R.id.botom__nav__profile -&gt;\n                // Action when tab 2 selected\n                val intent = Intent(this, LikeActivity::class.java)\n            else -&gt;\n                // Action when tab 3 selected\n                val intent = Intent(this, ProfileActivity::class.java)\n        }\n        true\n    }\n    startActivityForResult(intent, 99)\n}\n</code></pre>\n\n<p>I have these errors:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>' Expecting an expression '\n' Expecting \"-&gt;\" '\n</code></pre>\n\n<p>For each element in the \" When \" ...</p>\n\n<p>Can somebody help me to fix these errors?</p>\n"}, {"tags": ["java", "android", "kotlin", "service-locator", "koin"], "comments": [{"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1528045556, "post_id": 50668797, "comment_id": 88347533, "body": "I am pretty sure that this is possible. Both Java and Kotlin run on the JVM and thus should be interoperable."}, {"owner": {"reputation": 139, "user_id": 2701314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ejuh3.jpg?s=128&g=1", "display_name": "Rafa Araujo", "link": "https://stackoverflow.com/users/2701314/rafa-araujo"}, "reply_to_user": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1528048397, "post_id": 50668797, "comment_id": 88348415, "body": "Yeah, they work. But I would like to know how can I access inject using Koin framework."}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 1, "creation_date": 1528049613, "post_id": 50668797, "comment_id": 88348806, "body": "This might help you...<a href=\"https://github.com/Ekito/koin/issues/81\" rel=\"nofollow noreferrer\">github.com/Ekito/koin/issues/81</a>"}, {"owner": {"reputation": 139, "user_id": 2701314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ejuh3.jpg?s=128&g=1", "display_name": "Rafa Araujo", "link": "https://stackoverflow.com/users/2701314/rafa-araujo"}, "reply_to_user": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 0, "creation_date": 1528049841, "post_id": 50668797, "comment_id": 88348891, "body": "Excellent, @keshavAggarwal  This is what I need <a href=\"https://gist.github.com/fredy-mederos/b74e8c2f2ca2f0f5d5910bcb694cbdbf\" rel=\"nofollow noreferrer\">gist.github.com/fredy-mederos/b74e8c2f2ca2f0f5d5910bcb694cbd&zwnj;&#8203;bf</a>"}, {"owner": {"reputation": 1220, "user_id": 5935559, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/aGsWk.jpg?s=128&g=1", "display_name": "Shudipto Trafder", "link": "https://stackoverflow.com/users/5935559/shudipto-trafder"}, "edited": false, "score": 0, "creation_date": 1555004584, "post_id": 50668797, "comment_id": 97967799, "body": "Hey, Is your problem solved?"}], "answers": [{"tags": [], "owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "is_accepted": false, "score": 1, "last_activity_date": 1528045920, "creation_date": 1528045920, "answer_id": 50668966, "question_id": 50668797, "link": "https://stackoverflow.com/questions/50668797/inject-koin-in-java-classes/50668966#50668966", "title": "Inject Koin in Java classes", "body": "<p>A class or file can either have .kt extension means Kotlin, or have .java extension means Java. You can't write a file or class in both the languages simultaneously.</p>\n\n<p>But your Java and Kotlin files can talk with each other, i.e you can a Java class with a variable and access that variable in your Kotlin file or vice-versa.</p>\n\n<p>So you can inject a Kotlin class reference and use that in your Java class and Vice-versa.</p>\n\n<p>This might help: <a href=\"https://kotlinlang.org/docs/tutorials/mixing-java-kotlin-intellij.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/mixing-java-kotlin-intellij.html</a></p>\n\n<p>I hope that clears the doubt.</p>\n"}, {"comments": [{"owner": {"reputation": 339, "user_id": 5970652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ff6760f3df6a6faab783178de599173?s=128&d=identicon&r=PG&f=1", "display_name": "Blaze Gawlik", "link": "https://stackoverflow.com/users/5970652/blaze-gawlik"}, "edited": false, "score": 0, "creation_date": 1569874659, "post_id": 57759018, "comment_id": 102730243, "body": "Hey @pawan soni, could you clarify which imports you are using for inject and Lazy? is it <code>import static org.koin.core.KoinComponentKt.inject;</code> and  <code>import kotlin.Lazy;</code> ?"}, {"owner": {"reputation": 650, "user_id": 6607435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uVnaE.jpg?s=128&g=1", "display_name": "Pawan Soni", "link": "https://stackoverflow.com/users/6607435/pawan-soni"}, "reply_to_user": {"reputation": 339, "user_id": 5970652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ff6760f3df6a6faab783178de599173?s=128&d=identicon&r=PG&f=1", "display_name": "Blaze Gawlik", "link": "https://stackoverflow.com/users/5970652/blaze-gawlik"}, "edited": false, "score": 0, "creation_date": 1569950463, "post_id": 57759018, "comment_id": 102758757, "body": "kotlin.Lazy  and org.koin.java.KoinJavaComponent.inject"}, {"owner": {"reputation": 779, "user_id": 6621693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc3830995476cddface853701634a185?s=128&d=identicon&r=PG&f=1", "display_name": "ekreloff", "link": "https://stackoverflow.com/users/6621693/ekreloff"}, "edited": false, "score": 1, "creation_date": 1600964411, "post_id": 57759018, "comment_id": 113262383, "body": "Per Koin&#39;s GitHub page: <code>&#47;&#47; Koin for Java developers is now part of core</code> so no need to add any extra implementations in the grade file."}], "tags": [], "owner": {"reputation": 650, "user_id": 6607435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uVnaE.jpg?s=128&g=1", "display_name": "Pawan Soni", "link": "https://stackoverflow.com/users/6607435/pawan-soni"}, "is_accepted": false, "score": 12, "last_activity_date": 1567435976, "creation_date": 1567435976, "answer_id": 57759018, "question_id": 50668797, "link": "https://stackoverflow.com/questions/50668797/inject-koin-in-java-classes/57759018#57759018", "title": "Inject Koin in Java classes", "body": "<p>Yes it is Possible.\nJust sync project with this gradle file</p>\n\n<pre><code>implementation \"org.koin:koin-java:$koin_version\"\n</code></pre>\n\n<p>In your java class </p>\n\n<pre><code> // Inject MyPresenter\n replace //val presenter : MyPresenter by inject()\n\n   with  private Lazy&lt;MyPresenter&gt; presenter = inject(MyPresenter.class);\n</code></pre>\n\n<p>and get presenter method inside Java class like</p>\n\n<pre><code>presenter.getValue().sayHello() \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1514, "user_id": 2060486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7564cae68ad8fcbdcb1ded4a17e75639?s=128&d=identicon&r=PG", "display_name": "peresisUser", "link": "https://stackoverflow.com/users/2060486/peresisuser"}, "is_accepted": false, "score": 1, "last_activity_date": 1574253880, "creation_date": 1574253880, "answer_id": 58954669, "question_id": 50668797, "link": "https://stackoverflow.com/questions/50668797/inject-koin-in-java-classes/58954669#58954669", "title": "Inject Koin in Java classes", "body": "<p>It is, make sure you import in gradle the koin for java library and use above answers.</p>\n\n<p>Gradle: </p>\n\n<pre><code>implementation \"org.koin:koin-java:2.0.1\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1239, "user_id": 2077850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PVmNp.jpg?s=128&g=1", "display_name": "ultra.deep", "link": "https://stackoverflow.com/users/2077850/ultra-deep"}, "is_accepted": false, "score": 0, "last_activity_date": 1605709901, "creation_date": 1605709901, "answer_id": 64895126, "question_id": 50668797, "link": "https://stackoverflow.com/questions/50668797/inject-koin-in-java-classes/64895126#64895126", "title": "Inject Koin in Java classes", "body": "<p>following code worked for me <strong>without</strong> org.koin:koin-java:$koin_version dependency:</p>\n<pre><code>private MyPresenter presenter = org.koin.java.KoinJavaComponentKoinJavaComponent.inject(MyPresenter.class).getValue();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 12854812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/86NsV.jpg?s=128&g=1", "display_name": "Michael McCormick", "link": "https://stackoverflow.com/users/12854812/michael-mccormick"}, "is_accepted": false, "score": 0, "last_activity_date": 1618572065, "last_edit_date": 1618572065, "creation_date": 1617799878, "answer_id": 66986428, "question_id": 50668797, "link": "https://stackoverflow.com/questions/50668797/inject-koin-in-java-classes/66986428#66986428", "title": "Inject Koin in Java classes", "body": "<p>You no longer need the additional <code>koin-java</code> dependency as this is now a part of <code>koin-android</code> &amp; <code>koin-core</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Imports\nimport static org.koin.java.KoinJavaComponent.get;\nimport static org.koin.java.KoinJavaComponent.inject;\nimport static org.koin.core.qualifier.QualifierKt.named;\nimport static org.koin.core.parameter.DefinitionParametersKt.parametersOf;\n\n// Lazy injection\nLazy&lt;MyDependency&gt; dependency = inject(MyDependency.class);\n\n// Eager injection\nMyDependency dependency = get(MyDependency.class);\n\n// Named injection\nget(MyDependency.class, named(&quot;MyNamedDependency&quot;));\n\n// Parameter injection\nget(MyDependency.class, null, () -&gt; parametersOf(this));\n</code></pre>\n<p><a href=\"https://insert-koin.io/docs/quickstart/android-java/\" rel=\"nofollow noreferrer\">Koin Android Java docs</a></p>\n"}], "owner": {"reputation": 139, "user_id": 2701314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ejuh3.jpg?s=128&g=1", "display_name": "Rafa Araujo", "link": "https://stackoverflow.com/users/2701314/rafa-araujo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5733, "favorite_count": 0, "answer_count": 5, "score": 8, "last_activity_date": 1618572065, "creation_date": 1528044993, "last_edit_date": 1600330256, "question_id": 50668797, "link": "https://stackoverflow.com/questions/50668797/inject-koin-in-java-classes", "title": "Inject Koin in Java classes", "body": "<p>I'm trying to replace Dagger 2 to <a href=\"https://insert-koin.io\" rel=\"nofollow noreferrer\">Koin</a> in my current project and I don't want to rewrite some classes in Kotlin to use it.</p>\n\n<p>Is possible to inject with Koin in java classes?</p>\n\n<p>In Kotlin is just</p>\n\n<pre><code>// Inject MyPresenter\nval presenter : MyPresenter by inject()\n</code></pre>\n\n<p>Thanks</p>\n"}]