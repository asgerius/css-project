[{"tags": ["string", "kotlin", "syntax"], "comments": [{"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 0, "creation_date": 1466152418, "post_id": 32993586, "comment_id": 63208811, "body": "Similar: <a href=\"http://stackoverflow.com/questions/33461403/escape-something-in-a-kotlin-string\" title=\"escape something in a kotlin string\">stackoverflow.com/questions/33461403/&hellip;</a>"}, {"owner": {"reputation": 38158, "user_id": 2707792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hjDjB.png?s=128&g=1", "display_name": "Andrey Tyukin", "link": "https://stackoverflow.com/users/2707792/andrey-tyukin"}, "edited": false, "score": 0, "creation_date": 1574970318, "post_id": 32993586, "comment_id": 104424333, "body": "<code>sed &#39;s&#47;\\$&#47;${&#39;&quot;&#39;&quot;&#39;$&#39;&quot;&#39;&quot;&#39;}&#47;g&#39;</code> (in case those Kotlin string literals are automatically generated by something else)"}, {"owner": {"reputation": 316, "user_id": 10348047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3Ibild3Cqng/AAAAAAAAAAI/AAAAAAAAAOY/npBifQvt_DM/photo.jpg?sz=128", "display_name": "Tim Baverstock", "link": "https://stackoverflow.com/users/10348047/tim-baverstock"}, "edited": false, "score": 0, "creation_date": 1596807587, "post_id": 32993586, "comment_id": 111937761, "body": "Since $ is already magic in raw strings, and has to notice whether there&#39;s a {} or a variable name after it, it&#39;s a bit of a shame they didn&#39;t simply allow $ to escape itself: $$ would just become $ and if you wanted $ before $price, you&#39;d write &quot;&quot;&quot;$$$price&quot;&quot;&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 1306, "user_id": 1199452, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3627d3e77bcaa8b54906393d0c9f7055?s=128&d=identicon&r=PG&f=1", "display_name": "ntoskrnl", "link": "https://stackoverflow.com/users/1199452/ntoskrnl"}, "edited": false, "score": 15, "creation_date": 1444228744, "post_id": 32994616, "comment_id": 53815040, "body": "too bad there is no way to escape $ in raw strings... when using single line syntax, it&#39;s a bit ugly and not readable... If only they had something like &quot;really raw and dumb string&quot;, which would ignore everything including $ templates..."}, {"owner": {"reputation": 18331, "user_id": 961018, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/jdMgW.jpg?s=128&g=1", "display_name": "mmm", "link": "https://stackoverflow.com/users/961018/mmm"}, "edited": false, "score": 1, "creation_date": 1454550416, "post_id": 32994616, "comment_id": 58099331, "body": "yes, like singlequote: &#39;aaa${bbb}&#39;  or &#39;&#39;&#39; sssssssss&#39;&#39;&#39;"}, {"owner": {"reputation": 2105, "user_id": 8718773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34213fbac0a5b09b9ff8abe458e6b87a?s=128&d=identicon&r=PG&f=1", "display_name": "Giacomo Alzetta", "link": "https://stackoverflow.com/users/8718773/giacomo-alzetta"}, "edited": false, "score": 4, "creation_date": 1539070722, "post_id": 32994616, "comment_id": 92356758, "body": "<code>\\$</code> does <b>not</b> work in multiline strings. Only <code>${&#39;$&#39;}</code> does. Because the backslash is interpreted as a literal backslash and not as an escape."}, {"owner": {"reputation": 5166, "user_id": 837530, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/fc07f5de08e6d1965dbff1d6627e8429?s=128&d=identicon&r=PG", "display_name": "Sa&#39;ad", "link": "https://stackoverflow.com/users/837530/saad"}, "edited": false, "score": 1, "creation_date": 1546599401, "post_id": 32994616, "comment_id": 94910330, "body": "So groovy has triple single-quote, <a href=\"http://groovy-lang.org/syntax.html#_triple_single_quoted_string\" rel=\"nofollow noreferrer\">groovy-lang.org/syntax.html#_triple_single_quoted_string</a>, which does not interpolate, wish kotlin supported this."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1592572127, "post_id": 32994616, "comment_id": 110480877, "body": "Both variants <code>&quot;x&quot;</code> and <code>&quot;&quot;&quot;x&quot;&quot;&quot;</code> are string literals. I would propose to change &quot;or you could use the literal representation&quot; to &quot;or you could use a raw string&quot;"}], "tags": [], "owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "is_accepted": true, "score": 71, "last_activity_date": 1592572031, "last_edit_date": 1592572031, "creation_date": 1444227231, "answer_id": 32994616, "question_id": 32993586, "link": "https://stackoverflow.com/questions/32993586/templates-escaping-in-kotlin-multiline-strings/32994616#32994616", "title": "Templates escaping in Kotlin multiline strings", "body": "<p>From the <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-literals\" rel=\"noreferrer\">documentation</a></p>\n\n<blockquote>\n  <p>A raw string is delimited by a triple quote (\"\"\"), contains no\n  escaping and can contain newlines and any other character</p>\n</blockquote>\n\n<p>You would need to use a standard string with newlines</p>\n\n<pre><code>\" ...\\n \\$eq \\n ... \"\n</code></pre>\n\n<p>or you could use the literal representation </p>\n\n<pre><code>\"\"\" ... ${'$'}eq ... \"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1306, "user_id": 1199452, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3627d3e77bcaa8b54906393d0c9f7055?s=128&d=identicon&r=PG&f=1", "display_name": "ntoskrnl", "link": "https://stackoverflow.com/users/1199452/ntoskrnl"}, "edited": false, "score": 1, "creation_date": 1444410883, "post_id": 33021924, "comment_id": 53908406, "body": "$eq here is recognized as variable which I don&#39;t want. I want all syntax to be ignored."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 1306, "user_id": 1199452, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3627d3e77bcaa8b54906393d0c9f7055?s=128&d=identicon&r=PG&f=1", "display_name": "ntoskrnl", "link": "https://stackoverflow.com/users/1199452/ntoskrnl"}, "edited": false, "score": 2, "creation_date": 1444416584, "post_id": 33021924, "comment_id": 53911305, "body": "For me that would be a workaround, certainly the syntax is better than `..${&#39;$}eq..`` See for yourself, though"}, {"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 0, "creation_date": 1513378007, "post_id": 33021924, "comment_id": 82645869, "body": "As I mentioned in my answer below, you can make this a little neater with a helper object, but the really cool thing is that you can define the set of <code>$</code>-strings you allow, which in the case of a defined set of operators (like in Mongo) it means you get some typo-protection."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 9, "last_activity_date": 1505376799, "last_edit_date": 1505376799, "creation_date": 1444323921, "answer_id": 33021924, "question_id": 32993586, "link": "https://stackoverflow.com/questions/32993586/templates-escaping-in-kotlin-multiline-strings/33021924#33021924", "title": "Templates escaping in Kotlin multiline strings", "body": "<p>Funny, but that works:</p>\n\n<pre><code>val eq = \"\\$eq\"\n\nprint(\"\"\"... $eq  ...\"\"\"\")   // just like you asked :D\n</code></pre>\n\n<p>Actually, if <code>eq</code> is a number (a price, or sth), then you probably want to calculate it separately, and an additional external calculation as I suggested won't hurt. </p>\n"}, {"tags": [], "owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "is_accepted": false, "score": 4, "last_activity_date": 1513378642, "last_edit_date": 1513378642, "creation_date": 1513377932, "answer_id": 47840823, "question_id": 32993586, "link": "https://stackoverflow.com/questions/32993586/templates-escaping-in-kotlin-multiline-strings/47840823#47840823", "title": "Templates escaping in Kotlin multiline strings", "body": "<p>In the case where you know ahead of time what <code>$</code>-variables you want (like when querying Mongo, as it looks like you might be doing), you can create a little helper object that defines those variables. You also get some protection against accidentally misspelling one of your operators, which is neat.</p>\n\n<pre><code>object MongoString {\n    inline operator fun invoke(callback: MongoString.() -&gt; String) = callback()\n\n    val eq = \"\\$eq\"\n    val lt = \"\\$lt\"\n    // ... and all the other operators ...\n}\n\nfun test() {\n    val query = MongoString { \"\"\"{\"foo\": {$lt: 10}}\"\"\" }\n}\n</code></pre>\n\n<p>I wrote simple versions for update and query strings for mongo here: <a href=\"https://gist.github.com/Yona-Appletree/29be816ca74a0d93cdf9e6f5e23dda15\" rel=\"nofollow noreferrer\">https://gist.github.com/Yona-Appletree/29be816ca74a0d93cdf9e6f5e23dda15</a></p>\n"}], "owner": {"reputation": 1306, "user_id": 1199452, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3627d3e77bcaa8b54906393d0c9f7055?s=128&d=identicon&r=PG&f=1", "display_name": "ntoskrnl", "link": "https://stackoverflow.com/users/1199452/ntoskrnl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22439, "favorite_count": 3, "accepted_answer_id": 32994616, "answer_count": 3, "score": 51, "last_activity_date": 1592572031, "creation_date": 1444224709, "last_edit_date": 1556010968, "question_id": 32993586, "link": "https://stackoverflow.com/questions/32993586/templates-escaping-in-kotlin-multiline-strings", "title": "Templates escaping in Kotlin multiline strings", "body": "<p>If I want to use <code>$</code> sign in multiline strings, how do I escape it?\n</p>\n\n<pre><code>val condition = \"\"\" ... $eq ... \"\"\"\n</code></pre>\n\n<p><code>$eq</code> is parsed as a reference to a variable. How to escape <code>$</code>, so that it will not be recognized as reference to variable? (Kotlin M13)</p>\n"}, {"tags": ["android", "retrofit", "kotlin"], "comments": [{"owner": {"reputation": 8555, "user_id": 94557, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cBUBK.jpg?s=128&g=1", "display_name": "Matt Wolfe", "link": "https://stackoverflow.com/users/94557/matt-wolfe"}, "edited": false, "score": 0, "creation_date": 1512149741, "post_id": 32982095, "comment_id": 82155382, "body": "Jake Wharton&#39;s solution here is the recommended way of doing this; <a href=\"https://stackoverflow.com/questions/38507040/how-to-set-dynamic-filename\" title=\"how to set dynamic filename\">stackoverflow.com/questions/38507040/&hellip;</a> You create the @Part parameters with type MultipartBody.Part parameters which can include a filename."}], "answers": [{"comments": [{"owner": {"reputation": 825, "user_id": 1617914, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7a810b804595dc07df9cd328d4f86d09?s=128&d=identicon&r=PG", "display_name": "pedronveloso", "link": "https://stackoverflow.com/users/1617914/pedronveloso"}, "edited": false, "score": 0, "creation_date": 1444185934, "post_id": 32982619, "comment_id": 53791127, "body": "Did that, and still doesn&#39;t work. I get a 200 but the server sees the message length as having no contents. On the previous version of retrofit the contents got there alright, and I&#39;m doing everything else the same way (or at least I think so). The server is running on app engine, if that makes a difference."}, {"owner": {"reputation": 28482, "user_id": 1904517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mn4kq.png?s=128&g=1", "display_name": "iagreen", "link": "https://stackoverflow.com/users/1904517/iagreen"}, "reply_to_user": {"reputation": 825, "user_id": 1617914, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7a810b804595dc07df9cd328d4f86d09?s=128&d=identicon&r=PG", "display_name": "pedronveloso", "link": "https://stackoverflow.com/users/1617914/pedronveloso"}, "edited": false, "score": 0, "creation_date": 1444187401, "post_id": 32982619, "comment_id": 53791485, "body": "Do you have a transcript of a working request from your old code?"}], "tags": [], "owner": {"reputation": 28482, "user_id": 1904517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mn4kq.png?s=128&g=1", "display_name": "iagreen", "link": "https://stackoverflow.com/users/1904517/iagreen"}, "is_accepted": false, "score": 1, "last_activity_date": 1444183464, "creation_date": 1444183464, "answer_id": 32982619, "question_id": 32982095, "link": "https://stackoverflow.com/questions/32982095/retrofit-2-multipart-requests/32982619#32982619", "title": "Retrofit 2 Multipart requests", "body": "<p>One thing that is different is that <code>TypedString</code> would have a <code>Content-Type</code> of \"text/plain; charset=UTF-8\", where you are not setting a <code>Context-Type</code> at all for your <code>audioDuration</code> parameter.  Try setting it to <code>text/plain</code> to get the same behavior as <code>TypedString</code> (charset will be set to utf-8 by default).</p>\n\n<pre><code>val audioDuration = RequestBody.create(MediaType.parse(\"text/plain\"), audioDuration.toString())\n</code></pre>\n\n<p>If that doesn't work, you'll need to provide more information about how the \"request does not execute correctly\". A working request that you are trying to replicate would also be helpful.</p>\n"}, {"comments": [{"owner": {"reputation": 8555, "user_id": 94557, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cBUBK.jpg?s=128&g=1", "display_name": "Matt Wolfe", "link": "https://stackoverflow.com/users/94557/matt-wolfe"}, "edited": false, "score": 0, "creation_date": 1512149562, "post_id": 32996869, "comment_id": 82155282, "body": "it would be nice if you just showed an example of what to do here. This took me awhile of scouring these threads to find the correct solution which was not what many people advocate (embedding it in a RequestBody name parameter by escaping the quote)"}], "tags": [], "owner": {"reputation": 825, "user_id": 1617914, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7a810b804595dc07df9cd328d4f86d09?s=128&d=identicon&r=PG", "display_name": "pedronveloso", "link": "https://stackoverflow.com/users/1617914/pedronveloso"}, "is_accepted": true, "score": 3, "last_activity_date": 1444233079, "creation_date": 1444233079, "answer_id": 32996869, "question_id": 32982095, "link": "https://stackoverflow.com/questions/32982095/retrofit-2-multipart-requests/32996869#32996869", "title": "Retrofit 2 Multipart requests", "body": "<p>I eventually figured it out. My web-service expects a filename for file uploads. This seems to be a work in progress support in the new Retrofit 2, but it is possible to circumvent the problem by adding it to the named parameter definition.</p>\n\n<p>More details here : <a href=\"https://github.com/square/retrofit/issues/1140\" rel=\"nofollow\">https://github.com/square/retrofit/issues/1140</a></p>\n"}], "owner": {"reputation": 825, "user_id": 1617914, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7a810b804595dc07df9cd328d4f86d09?s=128&d=identicon&r=PG", "display_name": "pedronveloso", "link": "https://stackoverflow.com/users/1617914/pedronveloso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3814, "favorite_count": 0, "accepted_answer_id": 32996869, "answer_count": 2, "score": 3, "last_activity_date": 1444233079, "creation_date": 1444179478, "question_id": 32982095, "link": "https://stackoverflow.com/questions/32982095/retrofit-2-multipart-requests", "title": "Retrofit 2 Multipart requests", "body": "<p>I'm migrating my existing codebase to Retrofit 2, but having some trouble understanding the new syntax for Multipart requests. I'm also using Kotlin, although apart from a few syntax changes I think it shouldn't matter for this particular question.</p>\n\n<p>Here's what I have right now:</p>\n\n<pre><code>val audioDuration = RequestBody.create(null, audioDuration.toString())\nval file = RequestBody.create(MediaType.parse(\"audio/mp4\"), \n               File(context.filesDir, filename).absoluteFile)\n\nsendAudioChunk(audioDuration, file).enqueue(callback)\n</code></pre>\n\n<p>And here's the definition of the API:</p>\n\n<pre><code>@Multipart\n@POST(\"path_to_request\")\nfun sendAudioChunk(@Part(\"duration\") audioDuration: RequestBody,\n                   @Part(\"audio\") audioBlob: RequestBody) : Call&lt;ResponseObject&gt;\n</code></pre>\n\n<p>On Retrofit 1.9 I used TypedString and TypedFile for the request parameters, and now it seems one need to use RequestBody from OkHttp but I must be missing something since the request does not execute correctly.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2560, "user_id": 3757113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391669542/picture?type=large", "display_name": "LordScone", "link": "https://stackoverflow.com/users/3757113/lordscone"}, "edited": false, "score": 2, "creation_date": 1444299951, "post_id": 32980673, "comment_id": 53849523, "body": "Thank you for the fast answer. I really like how the authors of the language work hard for creating an active community. I wanted to avoid declaring a class only for this usage, so I prefer the first solution. Awesome language."}], "tags": [], "owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "is_accepted": true, "score": 6, "last_activity_date": 1444169478, "creation_date": 1444169478, "answer_id": 32980673, "question_id": 32978165, "link": "https://stackoverflow.com/questions/32978165/function-returning-ad-hoc-object-in-kotlin/32980673#32980673", "title": "Function returning ad-hoc object in Kotlin", "body": "<p>Since the type can not be denoted in the language, use return type inference:</p>\n\n<pre><code>class Example {\n    private fun findUsers(instanceWrapper: ExceptionInstanceWrapper) =\n        object {\n            val sender = userCrud.findOne(instanceWrapper.fromWho)\n            val receiver = userCrud.findOne(instanceWrapper.toWho)\n        }\n\n    fun foo() = findUsers(ExceptionInstanceWrapper()).sender\n}\n</code></pre>\n\n<p>Another option would be to devise a data class:</p>\n\n<pre><code>class Example {\n    private data class Users(val sender: User, val receiver: User)\n    private fun findUsers(instanceWrapper: ExceptionInstanceWrapper): Users {\n        return Users(\n            sender = userCrud.findOne(instanceWrapper.fromWho),\n            receiver = userCrud.findOne(instanceWrapper.toWho)\n        )\n    }\n\n    fun foo() = findUsers(ExceptionInstanceWrapper()).sender\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1549, "user_id": 1064375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294f0812e844d56ae17adb9b025dba39?s=128&d=identicon&r=PG", "display_name": "yeoman", "link": "https://stackoverflow.com/users/1064375/yeoman"}, "is_accepted": false, "score": 1, "last_activity_date": 1616417656, "last_edit_date": 1616417656, "creation_date": 1614515371, "answer_id": 66409103, "question_id": 32978165, "link": "https://stackoverflow.com/questions/32978165/function-returning-ad-hoc-object-in-kotlin/66409103#66409103", "title": "Function returning ad-hoc object in Kotlin", "body": "<p>Simply define your function as a lambda.</p>\n<p>Here's simple object I've just written as an example in another context:</p>\n<pre><code>private val Map = {\n    val data = IntArray(400)\n\n    for (index in data.indices) {\n        data[index] = index * 3\n    }\n\n    object {\n        val get = { x: Int, y: Int -&gt;\n            data[y * 20 + x]\n        }\n    }\n}\n\nfun main() {\n    val map = Map()\n    println(map.get(12,1))\n}\n</code></pre>\n<p>Unfortunately, you cannot assign a type name, so it can be used as a return value but not as an argument. Maybe they'll make this possible so we can finally do OOP JS style.</p>\n<p>Alternatively, they could implement object types equivalent to function types but that could end up being too wordy. You could then do a typedef butthen you're actually back to a class definition \ud83d\ude05</p>\n"}], "owner": {"reputation": 2560, "user_id": 3757113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391669542/picture?type=large", "display_name": "LordScone", "link": "https://stackoverflow.com/users/3757113/lordscone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2677, "favorite_count": 0, "accepted_answer_id": 32980673, "answer_count": 2, "score": 2, "last_activity_date": 1616417656, "creation_date": 1444159952, "question_id": 32978165, "link": "https://stackoverflow.com/questions/32978165/function-returning-ad-hoc-object-in-kotlin", "title": "Function returning ad-hoc object in Kotlin", "body": "<p>Currently I have a private function which returns a <code>Pair&lt;User, User&gt;</code> object. The first user is the sender of something, the second user is the receiver of that thing.</p>\n\n<p>I think this <code>Pair&lt;User, User&gt;</code> is not enough self explanatory - or clean if you like - even though it's just a private function.</p>\n\n<p>Is it possible to return with an ad-hoc object like this:</p>\n\n<pre><code>private fun findUsers(instanceWrapper: ExceptionInstanceWrapper): Any {\n    return object {\n        val sender = userCrud.findOne(instanceWrapper.fromWho)\n        val receiver = userCrud.findOne(instanceWrapper.toWho)\n    }\n}\n</code></pre>\n\n<p>and use the returned value like this:</p>\n\n<pre><code>// ...\nval users = findUsers(instanceWrapper)\nusers.sender // ...\nusers.receiver // ...\n// ...\n</code></pre>\n\n<p>?</p>\n\n<p>If not, what's the point of ad-hoc object in Kotlin?</p>\n"}, {"tags": ["spring-security", "kotlin"], "comments": [{"owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1523524202, "post_id": 32970923, "comment_id": 86599389, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44035263/accidental-override-the-following-declarations-have-the-same-jvm-signature\">Accidental override: The following declarations have the same JVM signature</a>"}, {"owner": {"reputation": 2931, "user_id": 2148666, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uLn2O.jpg?s=128&g=1", "display_name": "Nicol&#225;s Carrasco", "link": "https://stackoverflow.com/users/2148666/nicol%c3%a1s-carrasco"}, "edited": false, "score": 0, "creation_date": 1523524276, "post_id": 32970923, "comment_id": 86599433, "body": "This question has a more detailed answer <a href=\"https://stackoverflow.com/questions/44035263/accidental-override-the-following-declarations-have-the-same-jvm-signature\">here</a>. Although it uses Android specific code, the underlying principle is the same"}], "answers": [{"comments": [{"owner": {"reputation": 3944, "user_id": 893898, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cbb75897ee67011990d4706fad19e38b?s=128&d=identicon&r=PG", "display_name": "Hantsy", "link": "https://stackoverflow.com/users/893898/hantsy"}, "edited": false, "score": 0, "creation_date": 1503815706, "post_id": 32971284, "comment_id": 78763245, "body": "I encountered similar problems, <a href=\"https://stackoverflow.com/questions/45901531/how-to-create-a-data-class-implements-spring-secuirty-specific-userdetails\" title=\"how to create a data class implements spring secuirty specific userdetails\">stackoverflow.com/questions/45901531/&hellip;</a>, but if I added <code>private</code>, I found it destroyed destruction operation."}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 36, "last_activity_date": 1444138189, "creation_date": 1444138189, "answer_id": 32971284, "question_id": 32970923, "link": "https://stackoverflow.com/questions/32970923/resolving-accidental-override-errors-in-kotlin/32971284#32971284", "title": "Resolving Accidental Override errors in Kotlin", "body": "<p>The problem here is that it's impossible for a property getter to override a function from a supertype, from Kotlin's point of view. To workaround it, you can prevent the compiler from generating getters by making your properties <code>private</code> and implement required methods from supertypes manually, for example:</p>\n\n<pre><code>data class User(\n    private val username: String = \"\"\n    ...\n): UserDetails {\n    override fun getUsername() = username\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 613, "user_id": 1707531, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f58a6b76c0493a229e58c5f32e289f2f?s=128&d=identicon&r=PG", "display_name": "feugatos", "link": "https://stackoverflow.com/users/1707531/feugatos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4965, "favorite_count": 3, "accepted_answer_id": 32971284, "answer_count": 1, "score": 19, "last_activity_date": 1444138189, "creation_date": 1444137109, "question_id": 32970923, "link": "https://stackoverflow.com/questions/32970923/resolving-accidental-override-errors-in-kotlin", "title": "Resolving Accidental Override errors in Kotlin", "body": "<p>I've recently started expirementing with Kotlin and started a Spring Boot pet project using Kotlin.</p>\n\n<p>I'm trying to integrate a custom User domain object to Spring Security and thus want to implement the <a href=\"http://docs.spring.io/autorepo/docs/spring-security/3.2.1.RELEASE/apidocs/org/springframework/security/core/userdetails/UserDetails.html\">UserDetails</a> inteface.</p>\n\n<p>Given my domain User object below:</p>\n\n<pre><code>import org.springframework.data.annotation.Id as DocumentId\nimport org.springframework.data.mongodb.core.mapping.Document\nimport org.springframework.security.core.GrantedAuthority\nimport org.springframework.security.core.authority.AuthorityUtils\nimport org.springframework.security.core.userdetails.UserDetails\n\n@Document\ndata class User(@DocumentId val id: String? = null,\n                val username: String = \"\",\n                val password: String = \"\",\n                val email: String = \"\",\n                val name: String? = null,\n                val surname: String? = null) : UserDetails {\n\n    override fun isCredentialsNonExpired(): Boolean = true\n\n    override fun isAccountNonExpired(): Boolean = true\n\n    override fun isAccountNonLocked(): Boolean = true\n\n    override fun getAuthorities(): MutableCollection&lt;out GrantedAuthority&gt; = AuthorityUtils.createAuthorityList(\"USER\")\n\n    override fun isEnabled(): Boolean = true\n}\n</code></pre>\n\n<p>I get the following errors:</p>\n\n<ol>\n<li><p>Accidental override: The following declarations have the same JVM\nsignature (getUsername()Ljava/lang/String;): public final fun &lt; get-username>(): Kotlin.String, public abstract fun getUsername(): Kotlin.String!</p></li>\n<li><p>Accidental override: The following declarations have the same JVM\nsignature (getPassword()Ljava/lang/String;): public final fun &lt; get-password>(): Kotlin.String, public abstract fun getPassword(): Kotlin.String!</p></li>\n</ol>\n\n<p>Since my User class already has a method getUsername(): Kotlin.String also implement the method getUsername(): Kotlin.String! ?</p>\n\n<p>How am I supposed to resolve such an error, other than using the <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-name/index.html\">@JvmName</a> on the property's getter and setter?</p>\n"}, {"tags": ["android", "kotlin", "butterknife"], "comments": [{"owner": {"reputation": 14663, "user_id": 343679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e65e5b1cd213c3b9c72f2680257d6eaf?s=128&d=identicon&r=PG&f=1", "display_name": "Sharj", "link": "https://stackoverflow.com/users/343679/sharj"}, "edited": false, "score": 5, "creation_date": 1444058618, "post_id": 32952049, "comment_id": 53729196, "body": "JakeWharton has separately released KotterKnife, isn&#39;t that what you need? <a href=\"https://github.com/JakeWharton/kotterknife\" rel=\"nofollow noreferrer\">github.com/JakeWharton/kotterknife</a>"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 7, "creation_date": 1444062100, "post_id": 32952049, "comment_id": 53731194, "body": "Alternatively, there are the Kotlin Android Extensions. No need for Butterknife."}, {"owner": {"reputation": 482, "user_id": 1413296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IZI9.png?s=128&g=1", "display_name": "Vojt\u011bch S&#225;zel", "link": "https://stackoverflow.com/users/1413296/vojt%c4%9bch-s%c3%a1zel"}, "edited": false, "score": 0, "creation_date": 1444114073, "post_id": 32952049, "comment_id": 53751603, "body": "Yes, I know about these options. I&#39;m going with anko. But thanks for response."}, {"owner": {"reputation": 2292, "user_id": 3383038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PR3Vp.jpg?s=128&g=1", "display_name": "Oleg Osipenko", "link": "https://stackoverflow.com/users/3383038/oleg-osipenko"}, "edited": false, "score": 0, "creation_date": 1444215274, "post_id": 32952049, "comment_id": 53805089, "body": "also there is a tool <b>[kapt][1]</b> that is annotation processing tool for kotlin. Maybe it has solved all problems that were the starting point for developing Kotterknife     [1]: <a href=\"http://blog.jetbrains.com/kotlin/2015/05/kapt-annotation-processing-for-kotlin/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2015/05/&hellip;</a>"}, {"owner": {"reputation": 2979, "user_id": 2025432, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/L02FA.jpg?s=128&g=1", "display_name": "IlyaEremin", "link": "https://stackoverflow.com/users/2025432/ilyaeremin"}, "edited": false, "score": 0, "creation_date": 1448395619, "post_id": 32952049, "comment_id": 55568299, "body": "Kotlin Android Extensions is very buggy. Sometimes when I start Android Studio all views provided by <code>synthetic</code> marked with red color. Also this does not work correct with fragment. KollerKnife is very straightforward and lightweight solution. Also this PR: <a href=\"https://github.com/JakeWharton/kotterknife/pull/7\" rel=\"nofollow noreferrer\">github.com/JakeWharton/kotterknife/pull/7</a> implements reset feature, so you can use kotterknife with fragments."}], "answers": [{"comments": [{"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448206173, "post_id": 33344722, "comment_id": 55477237, "body": "How to make Butterknife set onClicks and etc with kapt?"}], "tags": [], "owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "is_accepted": false, "score": 3, "last_activity_date": 1445859148, "creation_date": 1445859148, "answer_id": 33344722, "question_id": 32952049, "link": "https://stackoverflow.com/questions/32952049/does-butterknife-7-x-work-with-kotlin-m14/33344722#33344722", "title": "Does butterknife 7.x work with Kotlin M14?", "body": "<p>Butterknife is supported. Use kapt: <a href=\"http://blog.jetbrains.com/kotlin/2015/05/kapt-annotation-processing-for-kotlin/\" rel=\"nofollow\">[1]</a>, <a href=\"http://blog.jetbrains.com/kotlin/2015/06/better-annotation-processing-supporting-stubs-in-kapt/\" rel=\"nofollow\">[2]</a>.</p>\n\n<p>Note that Butterknife does not support private Java fields, so you can use the <code>lateinit</code> modifier to make it public.</p>\n\n<p>Also, if you use kapt,\n<code>apply plugin: 'com.neenbedankt.android-apt'</code>\nline is not needed anymore.</p>\n"}, {"comments": [{"owner": {"reputation": 482, "user_id": 1413296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IZI9.png?s=128&g=1", "display_name": "Vojt\u011bch S&#225;zel", "link": "https://stackoverflow.com/users/1413296/vojt%c4%9bch-s%c3%a1zel"}, "edited": false, "score": 0, "creation_date": 1458137823, "post_id": 34356937, "comment_id": 59725752, "body": "Also confirmed with stable kotlin 1.0.0."}, {"owner": {"reputation": 1643, "user_id": 984602, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vIZgp.png?s=128&g=1", "display_name": "Ionoclast Brigham", "link": "https://stackoverflow.com/users/984602/ionoclast-brigham"}, "edited": false, "score": 2, "creation_date": 1476294805, "post_id": 34356937, "comment_id": 67288356, "body": "As of butterknife 8.x, you now run <code>kapt</code> on the compiler lib instead of a second reference to butterknife itself, i.e. <code>kapt &#39;com.jakewharton:butterknife-compiler:8.0.1&#39;</code>. JetBrains&#39; example project linked in the answer above has been updated to reflect this change."}], "tags": [], "owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "is_accepted": true, "score": 13, "last_activity_date": 1450451945, "last_edit_date": 1450451945, "creation_date": 1450445684, "answer_id": 34356937, "question_id": 32952049, "link": "https://stackoverflow.com/questions/32952049/does-butterknife-7-x-work-with-kotlin-m14/34356937#34356937", "title": "Does butterknife 7.x work with Kotlin M14?", "body": "<p>It does work with the current version of Kotlin (1.0.0-beta-3595), I suggest you to take a look at the <a href=\"https://github.com/JetBrains/kotlin-examples/tree/master/gradle/android-butterknife\">android-butterknife</a> project which can be found inside the JetBrains's <a href=\"https://github.com/JetBrains/kotlin-examples\">kotlin-examples</a> repo. In short all you need to do is:</p>\n\n<ol>\n<li><p>Add the following to your <code>app/build.gradle</code> file:  </p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre></li>\n<li><p>Put the following line inside the <code>dependencies</code> block of the same <code>build.gradle</code> file (assuming you already added <code>compile 'com.jakewharton:butterknife:7.0.1'</code> to your dependencies):  </p>\n\n<pre><code>kapt 'com.jakewharton:butterknife:7.0.1'\n</code></pre></li>\n</ol>\n\n<p>And that should be it.</p>\n"}], "owner": {"reputation": 482, "user_id": 1413296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IZI9.png?s=128&g=1", "display_name": "Vojt\u011bch S&#225;zel", "link": "https://stackoverflow.com/users/1413296/vojt%c4%9bch-s%c3%a1zel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3826, "favorite_count": 1, "accepted_answer_id": 34356937, "answer_count": 2, "score": 10, "last_activity_date": 1450451945, "creation_date": 1444058202, "question_id": 32952049, "link": "https://stackoverflow.com/questions/32952049/does-butterknife-7-x-work-with-kotlin-m14", "title": "Does butterknife 7.x work with Kotlin M14?", "body": "<p>I'm trying to use Butterknife with some Kotlin code and also Java code. I know that before M12, there was bad or no support for annotation processing that ButterKnife required. So I have kept my activities in Java. It was working at least in Java with Butterknife 6.x and preM12 Kotlin.\nI'm trying now butterknife 7.x with M13 and M14. It should have even annotation processing support, but it's not working for me.  <code>bind()</code> function doesn't bind anything in my adapter which is written in Java nor in activity written in Kotlin.</p>\n\n<p>I'm using this in build.gradle (tried latest version on Github):</p>\n\n<pre><code>apply plugin: 'com.neenbedankt.android-apt'\n\ndependencies {\n   provided files('libs/butterknife-annotations.jar')\n   kapt files('libs/butterknife-compiler-8.0.0-SNAPSHOT.jar')\n   compile 'com.jakewharton:butterknife:8.0.0-SNAPSHOT@aar'\n}\n</code></pre>\n\n<p>This doesn't compile. I tried also 'com.neenbedankt.android-apt' which does compile but binding is not working.</p>\n\n<p>I know that there is probably not support in <em>butterknife</em> for that yet. But is there any hack to get it working?</p>\n"}, {"tags": ["kotlin", "quasar"], "comments": [{"owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "edited": false, "score": 0, "creation_date": 1444054655, "post_id": 32941541, "comment_id": 53726420, "body": "The do {} while is not the correct flow here but I&#39;m not sure what the best replacement is for &quot;for (Integer m; (m = c.receive()) != null;) {}&quot;"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452112296, "post_id": 32941541, "comment_id": 57030331, "body": "What is the purpose of the edit in the question?  is it fixing the question?  is it showing some solution?  History does not have to be maintained, keep the question concise and we can view the edit history if we want, or you can add a quick edit log at the bottom if you feel it invalidates some answer or comment."}], "answers": [{"comments": [{"owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "edited": false, "score": 0, "creation_date": 1444842748, "post_id": 33122222, "comment_id": 54074723, "body": "Thanks! I was noticing that it acted funny without the sleep so I threw it in another fiber and tested that way. That also led me to see an error in my do while loop."}], "tags": [], "owner": {"reputation": 1608, "user_id": 750563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c69557151e2f8331f6b1865469b694dd?s=128&d=identicon&r=PG", "display_name": "pron", "link": "https://stackoverflow.com/users/750563/pron"}, "is_accepted": true, "score": 2, "last_activity_date": 1444816611, "creation_date": 1444816611, "answer_id": 33122222, "question_id": 32941541, "link": "https://stackoverflow.com/questions/32941541/kotlin-quasar-topic-and-channel-blocking-issue/33122222#33122222", "title": "Kotlin Quasar topic and channel blocking issue", "body": "<p>The <code>join</code> method tells the current <em>strand</em> (i.e. thread or fiber) to block until the strand it is called on terminated. In this case, you wait for the fiber to terminate, but it can hardly start because you haven't sent it anything yet.</p>\n\n<p>To solve, assign the fiber to some local (<code>val f = fiber { ... }</code>), and only join it at the end of the program. Alternatively, don't assign it to anything and never join.</p>\n"}], "owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 33122222, "answer_count": 1, "score": 1, "last_activity_date": 1444842682, "creation_date": 1444021042, "last_edit_date": 1444842682, "question_id": 32941541, "link": "https://stackoverflow.com/questions/32941541/kotlin-quasar-topic-and-channel-blocking-issue", "title": "Kotlin Quasar topic and channel blocking issue", "body": "<p>I was playing with Quasar in Kotlin and got to working with topics and channels. I was following some Java examples and wrote a little snippet. Unfortunately, I can't seem to get it to work. It just blocks the main thread and waits. I'm not quite sure what join is doing and wonder if that could be the issue?</p>\n\n<pre><code>public fun channelsDemo() {\n    val x: Val&lt;Int&gt; = Val()\n    val t: Topic&lt;Int&gt; = Topic()\n\n    fiber {\n        val c: Channel&lt;Int&gt; = t.subscribe(Channels.newChannel(0))\n        do {\n            val m = c.receive()\n            System.out.println(\"Channel =&gt; \" + (m + x.get()))\n        } while (m != null)\n    }.join()\n\n    x.set(13)\n\n    t.send(5)\n    t.close()\n}\n</code></pre>\n\n<p>edit: </p>\n\n<pre><code>public fun channelsDemo() {\n    val x: Val&lt;Int&gt; = Val()\n    val t: Topic&lt;Int&gt; = Topic()\n\n    fiber {\n        val c: Channel&lt;Int&gt; = t.subscribe(Channels.newChannel(0))\n        do {\n            val m = c.receive()\n            System.out.println(\"Channel =&gt; \" + (m + x.get()))\n        } while (m != 40)\n    }\n\n    fiber {\n        Strand.sleep(20000)\n\n        x.set(13)\n\n        t.send(5)\n        t.send(21)\n        t.send(40)\n        t.close()\n    }\n\n}\n</code></pre>\n"}, {"tags": ["dictionary", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2560, "user_id": 3757113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391669542/picture?type=large", "display_name": "LordScone", "link": "https://stackoverflow.com/users/3757113/lordscone"}, "edited": false, "score": 1, "creation_date": 1444157303, "post_id": 32938733, "comment_id": 53779954, "body": "thank you. is it faster because it creates a map, and not converts a list of pairs to a map, like in my example?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 2560, "user_id": 3757113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391669542/picture?type=large", "display_name": "LordScone", "link": "https://stackoverflow.com/users/3757113/lordscone"}, "edited": false, "score": 5, "creation_date": 1445508424, "post_id": 32938733, "comment_id": 54357312, "body": "@lordScone Exactly, the allocations of  <code>Pair</code> instances might be very costly for big collections"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 364, "last_activity_date": 1488603422, "last_edit_date": 1488603422, "creation_date": 1443994986, "answer_id": 32938733, "question_id": 32935470, "link": "https://stackoverflow.com/questions/32935470/how-to-convert-list-to-map-in-kotlin/32938733#32938733", "title": "How to convert List to Map in Kotlin?", "body": "<p>You have two choices:</p>\n\n<p>The first and most performant is to use <code>associateBy</code> function that takes two lambdas for generating the key and value, and inlines the creation of the map:</p>\n\n<pre><code>val map = friends.associateBy({it.facebookId}, {it.points})\n</code></pre>\n\n<p>The second, less performant, is to use the standard <code>map</code> function to create a list of <code>Pair</code> which can be used by <code>toMap</code> to generate the final map:</p>\n\n<pre><code>val map = friends.map { it.facebookId to it.points }.toMap()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1918, "user_id": 638368, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f1ec31433ec0ec7c7bbdd96e109113fb?s=128&d=identicon&r=PG", "display_name": "lagos", "link": "https://stackoverflow.com/users/638368/lagos"}, "is_accepted": false, "score": 0, "last_activity_date": 1455128747, "last_edit_date": 1455128747, "creation_date": 1455105562, "answer_id": 35314648, "question_id": 32935470, "link": "https://stackoverflow.com/questions/32935470/how-to-convert-list-to-map-in-kotlin/35314648#35314648", "title": "How to convert List to Map in Kotlin?", "body": "<p>That have changed on the RC version. </p>\n\n<p>I am using <code>val map =  list.groupByTo(destinationMap, {it.facebookId}, { it -&gt; it.point })</code></p>\n"}, {"comments": [{"owner": {"reputation": 1632, "user_id": 2048653, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3d092293607f2bfc420f73633513b93a?s=128&d=identicon&r=PG", "display_name": "waynesford", "link": "https://stackoverflow.com/users/2048653/waynesford"}, "edited": false, "score": 3, "creation_date": 1525266058, "post_id": 44950690, "comment_id": 87288514, "body": "What&#39;s the difference between associate and associateBy? Would I want to prefer to use one over the other, seeing that they produce the same result?"}], "tags": [], "owner": {"reputation": 75816, "user_id": 1966109, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wPv34.jpg?s=128&g=1", "display_name": "Imanou Petit", "link": "https://stackoverflow.com/users/1966109/imanou-petit"}, "is_accepted": false, "score": 51, "last_activity_date": 1570385123, "last_edit_date": 1570385123, "creation_date": 1499348573, "answer_id": 44950690, "question_id": 32935470, "link": "https://stackoverflow.com/questions/32935470/how-to-convert-list-to-map-in-kotlin/44950690#44950690", "title": "How to convert List to Map in Kotlin?", "body": "<h1>From <code>List</code> to <code>Map</code> with <code>associate</code> function</h1>\n\n<p>With Kotlin 1.3, <code>List</code> has a function called <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"noreferrer\"><code>associate</code></a>. <code>associate</code> has the following declaration:</p>\n\n<pre><code>fun &lt;T, K, V&gt; Iterable&lt;T&gt;.associate(transform: (T) -&gt; Pair&lt;K, V&gt;): Map&lt;K, V&gt;\n</code></pre>\n\n<blockquote>\n  <p>Returns a <code>Map</code> containing key-value pairs provided by <code>transform</code> function applied to elements of the given collection.</p>\n</blockquote>\n\n<p><em>Usage:</em></p>\n\n<pre><code>class Person(val name: String, val id: Int)\n\nfun main() {\n    val friends = listOf(Person(\"Sue Helen\", 1), Person(\"JR\", 2), Person(\"Pamela\", 3))\n    val map = friends.associate({ Pair(it.id, it.name) })\n    //val map = friends.associate({ it.id to it.name }) // also works\n\n    println(map) // prints: {1=Sue Helen, 2=JR, 3=Pamela}\n}    \n</code></pre>\n\n<hr>\n\n<h1>From <code>List</code> to <code>Map</code> with <code>associateBy</code> function</h1>\n\n<p>With Kotlin, <code>List</code> has a function called <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"noreferrer\"><code>associateBy</code></a>. <code>associateBy</code> has the following declaration:</p>\n\n<pre><code>fun &lt;T, K, V&gt; Iterable&lt;T&gt;.associateBy(keySelector: (T) -&gt; K, valueTransform: (T) -&gt; V): Map&lt;K, V&gt;\n</code></pre>\n\n<blockquote>\n  <p>Returns a <code>Map</code> containing the values provided by <code>valueTransform</code> and indexed by <code>keySelector</code> functions applied to elements of the given collection.</p>\n</blockquote>\n\n<p><em>Usage:</em></p>\n\n<pre><code>class Person(val name: String, val id: Int)\n\nfun main() {\n    val friends = listOf(Person(\"Sue Helen\", 1), Person(\"JR\", 2), Person(\"Pamela\", 3))\n    val map = friends.associateBy(keySelector = { person -&gt; person.id }, valueTransform = { person -&gt; person.name })\n    //val map = friends.associateBy({ it.id }, { it.name }) // also works\n\n    println(map) // prints: {1=Sue Helen, 2=JR, 3=Pamela}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 10, "last_activity_date": 1524810986, "creation_date": 1524810986, "answer_id": 50056629, "question_id": 32935470, "link": "https://stackoverflow.com/questions/32935470/how-to-convert-list-to-map-in-kotlin/50056629#50056629", "title": "How to convert List to Map in Kotlin?", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate.html\" rel=\"noreferrer\"><code>associate</code></a> for this task:</p>\n\n<pre><code>val list = listOf(\"a\", \"b\", \"c\", \"d\")\nval m: Map&lt;String, Int&gt; = list.associate { it to it.length }\n</code></pre>\n\n<p>In this example, the strings from <code>list</code> become the keys and their corresponding lengths (as an example) become the values inside the map.</p>\n"}, {"tags": [], "owner": {"reputation": 2177, "user_id": 6247186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ockk6.jpg?s=128&g=1", "display_name": "Hamed Jaliliani", "link": "https://stackoverflow.com/users/6247186/hamed-jaliliani"}, "is_accepted": false, "score": 13, "last_activity_date": 1569331401, "last_edit_date": 1569331401, "creation_date": 1567258846, "answer_id": 57738505, "question_id": 32935470, "link": "https://stackoverflow.com/questions/32935470/how-to-convert-list-to-map-in-kotlin/57738505#57738505", "title": "How to convert List to Map in Kotlin?", "body": "<ul>\n<li>Convert a Iteratable Sequence Elements to a Map in kotlin ,</li>\n<li>associate vs associateBy vs associateWith:</li>\n</ul>\n\n<p>*Reference:<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"noreferrer\">Kotlin Documentation</a></p>\n\n<p>1- associate (to set  both Keys &amp; Values): Build a map that can set key &amp; value elements :</p>\n\n<pre><code>IterableSequenceElements.associate { newKey to newValue } //Output =&gt; Map {newKey : newValue ,...}\n</code></pre>\n\n<blockquote>\n  <p>If any of two pairs would have the same key the last one gets added to the map.</p>\n  \n  <p>The returned map preserves the entry iteration order of the original array.</p>\n</blockquote>\n\n<p>2- associateBy (just set Keys by calculation): Build a map that we can set new Keys, analogous elements will be set for values</p>\n\n<pre><code>IterableSequenceElements.associateBy { newKey } //Result: =&gt; Map {newKey : 'Values will be set  from analogous IterableSequenceElements' ,...}\n</code></pre>\n\n<p>3- associateWith (just set Values by calculation): Build a map that we can set new Values, analogous elements will be set for Keys</p>\n\n<pre><code>IterableSequenceElements.associateWith { newValue }  //Result =&gt; Map { 'Keys will be set from analogous IterableSequenceElements' : newValue , ...}\n</code></pre>\n\n<p>Example from Kotlin tips :\n<a href=\"https://i.stack.imgur.com/JMvRM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JMvRM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1846, "user_id": 3806701, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/14b442768a2a85ed53e71914d88ae926?s=128&d=identicon&r=PG&f=1", "display_name": "cs_pupil", "link": "https://stackoverflow.com/users/3806701/cs-pupil"}, "is_accepted": false, "score": 12, "last_activity_date": 1571252939, "creation_date": 1571252939, "answer_id": 58420169, "question_id": 32935470, "link": "https://stackoverflow.com/questions/32935470/how-to-convert-list-to-map-in-kotlin/58420169#58420169", "title": "How to convert List to Map in Kotlin?", "body": "<p>If you have <strong>duplicates</strong> in your list that you don't want to lose, you can do this using <code>groupBy</code>.</p>\n\n<p>Otherwise, like everyone else said, use <code>associate/By/With</code> (which in the case of duplicates, I believe, will only return the last value with that key). </p>\n\n<p>An example grouping a list of people by age:</p>\n\n<pre><code>class Person(val name: String, val age: Int)\n\nfun main() {\n    val people = listOf(Person(\"Sue Helen\", 31), Person(\"JR\", 25), Person(\"Pamela\", 31))\n\n    val duplicatesKept = people.groupBy { it.age }\n    val duplicatesLost = people.associateBy({ it.age }, { it })\n\n    println(duplicatesKept)\n    println(duplicatesLost)\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>{31=[Person@41629346, Person@4eec7777], 25=[Person@3b07d329]}\n{31=Person@4eec7777, 25=Person@3b07d329}\n</code></pre>\n"}], "owner": {"reputation": 2560, "user_id": 3757113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391669542/picture?type=large", "display_name": "LordScone", "link": "https://stackoverflow.com/users/3757113/lordscone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71982, "favorite_count": 26, "protected_date": 1530682334, "accepted_answer_id": 32938733, "answer_count": 6, "score": 192, "last_activity_date": 1571252939, "creation_date": 1443974590, "last_edit_date": 1559310312, "question_id": 32935470, "link": "https://stackoverflow.com/questions/32935470/how-to-convert-list-to-map-in-kotlin", "title": "How to convert List to Map in Kotlin?", "body": "<p>For example I have a list of strings like:</p>\n\n<pre><code>val list = listOf(\"a\", \"b\", \"c\", \"d\")\n</code></pre>\n\n<p>and I want to convert it to a map, where the strings are the keys.</p>\n\n<p>I know I should use the <code>.toMap()</code> function, but I don't know how, and I haven't seen any examples of it.</p>\n"}, {"tags": ["android", "android-studio", "android-gradle-plugin", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1731, "user_id": 5202007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yOWfD.jpg?s=128&g=1", "display_name": "Mohammad Tauqir", "link": "https://stackoverflow.com/users/5202007/mohammad-tauqir"}, "edited": false, "score": 4, "creation_date": 1443814291, "post_id": 32914499, "comment_id": 53656890, "body": "invalidate cache and restart studio from file menu."}, {"owner": {"reputation": 2059, "user_id": 5401587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evUcd.png?s=128&g=1", "display_name": "Bryony", "link": "https://stackoverflow.com/users/5401587/bryony"}, "reply_to_user": {"reputation": 1731, "user_id": 5202007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yOWfD.jpg?s=128&g=1", "display_name": "Mohammad Tauqir", "link": "https://stackoverflow.com/users/5202007/mohammad-tauqir"}, "edited": false, "score": 0, "creation_date": 1443814515, "post_id": 32914499, "comment_id": 53656994, "body": "I had already tried that, but I tried it again just in case. Still no luck though."}, {"owner": {"reputation": 1731, "user_id": 5202007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yOWfD.jpg?s=128&g=1", "display_name": "Mohammad Tauqir", "link": "https://stackoverflow.com/users/5202007/mohammad-tauqir"}, "edited": false, "score": 0, "creation_date": 1443815203, "post_id": 32914499, "comment_id": 53657329, "body": "This kind of issue often occurs to me. if first option did not work then log off from system then start studio after logging in."}, {"owner": {"reputation": 2059, "user_id": 5401587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evUcd.png?s=128&g=1", "display_name": "Bryony", "link": "https://stackoverflow.com/users/5401587/bryony"}, "reply_to_user": {"reputation": 1731, "user_id": 5202007, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yOWfD.jpg?s=128&g=1", "display_name": "Mohammad Tauqir", "link": "https://stackoverflow.com/users/5202007/mohammad-tauqir"}, "edited": false, "score": 2, "creation_date": 1443816126, "post_id": 32914499, "comment_id": 53657757, "body": "Restarted my PC and the problem still persists. Thanks for your help though."}, {"owner": {"reputation": 8612, "user_id": 8874958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39990cd5d2bd537729f7b2b7a1a724a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kishan Solanki", "link": "https://stackoverflow.com/users/8874958/kishan-solanki"}, "edited": false, "score": 0, "creation_date": 1595573684, "post_id": 32914499, "comment_id": 111527188, "body": "I solved it by deleting build folder from Explorer"}], "answers": [{"comments": [{"owner": {"reputation": 1491, "user_id": 1958032, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/86727edade5674bb70868799a2e778b2?s=128&d=identicon&r=PG", "display_name": "codiac", "link": "https://stackoverflow.com/users/1958032/codiac"}, "edited": false, "score": 0, "creation_date": 1464789374, "post_id": 32924320, "comment_id": 62628881, "body": "I solved the clean problem with this but unable to do the same for running the app. Still get the same error. Got any idea; maybe change the clean with something else?"}, {"owner": {"reputation": 819, "user_id": 7230266, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1015501508596253/picture?type=large", "display_name": "Shashwat Gupta", "link": "https://stackoverflow.com/users/7230266/shashwat-gupta"}, "edited": false, "score": 0, "creation_date": 1503514537, "post_id": 32924320, "comment_id": 78652940, "body": "Error:(21, 0) Declaring custom &#39;clean&#39; task when using the standard Gradle lifecycle plugins is not allowed."}], "tags": [], "owner": {"reputation": 2059, "user_id": 5401587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evUcd.png?s=128&g=1", "display_name": "Bryony", "link": "https://stackoverflow.com/users/5401587/bryony"}, "is_accepted": true, "score": 30, "last_activity_date": 1443890330, "last_edit_date": 1443890330, "creation_date": 1443886385, "answer_id": 32924320, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/32924320#32924320", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>After I posted a bug report to the Kotlin bug tracker, I was notified of <a href=\"https://code.google.com/p/android/issues/detail?id=61300\">Issue 61300</a> on the AOSP tracker. That seems to be the cause. Since there's nothing I can do at the moment, I'll mark this question as answered, and I'll update the answer if the bug is fixed.</p>\n\n<p>In the meantime, if you're running Windows, I believe I've found a workaround. You'll need to download <a href=\"http://lockhunter.com/index.htm\">LockHunter</a> (at your own risk of course), then add the following to your module's <code>gradle.build</code> file, replacing the <code>lockhunter</code> variable with your path to LockHunter.exe:</p>\n\n<pre><code>task clean(type: Exec) {\n    ext.lockhunter = '\\\"C:\\\\LockHunter.exe\\\"'\n    def buildDir = file(new File(\"build\"))\n    commandLine 'cmd', \"$lockhunter\", '/delete', '/silent', buildDir\n}\n</code></pre>\n\n<p>This causes LockHunter to forcefully and silently unlock and delete the build files when the app:clean task runs.</p>\n"}, {"comments": [{"owner": {"reputation": 12786, "user_id": 499125, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1e0971e368bdad6e495b2eafcdeb7796?s=128&d=identicon&r=PG", "display_name": "Some Noob Student", "link": "https://stackoverflow.com/users/499125/some-noob-student"}, "edited": false, "score": 30, "creation_date": 1448870157, "post_id": 33943562, "comment_id": 55743165, "body": "+1. Zombie Java process was the issue. If you&#39;re on Win 10, open Task Manager; look for Java (TM) Platform SE binary; End Task."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 28, "creation_date": 1452113052, "post_id": 33943562, "comment_id": 57030734, "body": "You can use <code>gradle --stop</code> to stop any stuck daemons as an alternative."}, {"owner": {"reputation": 2557, "user_id": 2011291, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0EFaf.jpg?s=128&g=1", "display_name": "AvatarQing", "link": "https://stackoverflow.com/users/2011291/avatarqing"}, "edited": false, "score": 1, "creation_date": 1486965250, "post_id": 33943562, "comment_id": 71556824, "body": "Is there some automatic way to kill the processes. I waste so much time by killing it manually in every clean."}, {"owner": {"reputation": 302, "user_id": 1521498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJnKt.jpg?s=128&g=1", "display_name": "Armando", "link": "https://stackoverflow.com/users/1521498/armando"}, "edited": false, "score": 0, "creation_date": 1542916990, "post_id": 33943562, "comment_id": 93748571, "body": "In my case, there was an open Meld (compare and merge tool) that was locking the folder to clean"}, {"owner": {"reputation": 2594, "user_id": 5873832, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/970069049738547/picture?type=large", "display_name": "Dasser Basyouni", "link": "https://stackoverflow.com/users/5873832/dasser-basyouni"}, "edited": false, "score": 0, "creation_date": 1583535427, "post_id": 33943562, "comment_id": 107162970, "body": "in my case i didn&#39;t found Java TM so i restarted the windows"}, {"owner": {"reputation": 1464, "user_id": 1263423, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/addbbce2a4ece44489dddf6632b116d4?s=128&d=identicon&r=PG", "display_name": "wangqi060934", "link": "https://stackoverflow.com/users/1263423/wangqi060934"}, "reply_to_user": {"reputation": 2594, "user_id": 5873832, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/970069049738547/picture?type=large", "display_name": "Dasser Basyouni", "link": "https://stackoverflow.com/users/5873832/dasser-basyouni"}, "edited": false, "score": 0, "creation_date": 1584944592, "post_id": 33943562, "comment_id": 107586202, "body": "@DasserBasyouni try to kill &quot;OpenJDK Platform binary&quot;"}, {"owner": {"reputation": 195, "user_id": 8979707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu43F.jpg?s=128&g=1", "display_name": "Utkarsh", "link": "https://stackoverflow.com/users/8979707/utkarsh"}, "edited": false, "score": 0, "creation_date": 1597414417, "post_id": 33943562, "comment_id": 112133178, "body": "Close all the windows which are opened except the cmd"}], "tags": [], "owner": {"reputation": 1229, "user_id": 5609340, "user_type": "registered", "profile_image": "https://graph.facebook.com/1077251342308195/picture?type=large", "display_name": "Andres Suarez", "link": "https://stackoverflow.com/users/5609340/andres-suarez"}, "is_accepted": false, "score": 122, "last_activity_date": 1448556347, "creation_date": 1448556347, "answer_id": 33943562, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/33943562#33943562", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I killed all the java TM processes in the task manager and it let me to  rebuild</p>\n"}, {"comments": [{"owner": {"reputation": 464, "user_id": 2027500, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/uS3gT.jpg?s=128&g=1", "display_name": "Song", "link": "https://stackoverflow.com/users/2027500/song"}, "edited": false, "score": 0, "creation_date": 1460053045, "post_id": 35752520, "comment_id": 60577745, "body": "I&#39;m using sshfs. Same issue here. Disabling instant run works for me."}, {"owner": {"reputation": 332, "user_id": 4460535, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/2MF7U.jpg?s=128&g=1", "display_name": "Yogesh Seralia", "link": "https://stackoverflow.com/users/4460535/yogesh-seralia"}, "edited": false, "score": 2, "creation_date": 1460352714, "post_id": 35752520, "comment_id": 60682842, "body": "Yes,DISABLING INSTANT RUN Studio 2.0 beta 7 made resolved this exception"}, {"owner": {"reputation": 4171, "user_id": 1713531, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/FiWZY.jpg?s=128&g=1", "display_name": "Rachita Nanda", "link": "https://stackoverflow.com/users/1713531/rachita-nanda"}, "edited": false, "score": 1, "creation_date": 1460487192, "post_id": 35752520, "comment_id": 60762359, "body": "My Android Studio 2.0 was stuck at refreshing a particular project. I tried everything and accidentally followed this answer &amp; it solved by problem which was different from the question.I was stuck for so long . I wish I could  upvote you more times! Thank you"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4172036"}, "edited": false, "score": 11, "creation_date": 1461951194, "post_id": 35752520, "comment_id": 61447317, "body": "This worked for me. In case it helps someone: To disable Instant Run in version 2.1 of Android Studio that&#39;s File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Instant Run and then un-check the first box &quot;Enable Instant Run...&quot;."}, {"owner": {"reputation": 521, "user_id": 1474230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yOrwP.jpg?s=128&g=1", "display_name": "kshepherd", "link": "https://stackoverflow.com/users/1474230/kshepherd"}, "edited": false, "score": 0, "creation_date": 1465302871, "post_id": 35752520, "comment_id": 62835945, "body": "This worked for me, until Android Studio was updated.  For v2.1.2 this is no longer sufficient.  Any additional fixes gratefully received."}, {"owner": {"reputation": 521, "user_id": 1474230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yOrwP.jpg?s=128&g=1", "display_name": "kshepherd", "link": "https://stackoverflow.com/users/1474230/kshepherd"}, "edited": false, "score": 0, "creation_date": 1465320643, "post_id": 35752520, "comment_id": 62848618, "body": "I have found, like some others, that killing java processes works.  Don&#39;t kill the first one, it is probably your Android Studio: &quot;ps -All | grep java&quot; and then kill -9 nnnn for the process ids of the second, etc processes."}, {"owner": {"reputation": 196, "user_id": 694776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/918d826d9a0b87bd481c917d27644a71?s=128&d=identicon&r=PG", "display_name": "jose", "link": "https://stackoverflow.com/users/694776/jose"}, "edited": false, "score": 1, "creation_date": 1472721051, "post_id": 35752520, "comment_id": 65869265, "body": "I&#39;m using AS v2.1.3. In my case, the &quot;Instant Run&quot; box was already unchecked, so I checked it, applied it, Clean &amp; Rebuid the project (the error was still there) and then unchecked it, applied it, Clean &amp; Rebuid the project and the error was gone."}, {"owner": {"reputation": 1310, "user_id": 2266428, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/W8K6m.png?s=128&g=1", "display_name": "J E Carter II", "link": "https://stackoverflow.com/users/2266428/j-e-carter-ii"}, "reply_to_user": {"reputation": 196, "user_id": 694776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/918d826d9a0b87bd481c917d27644a71?s=128&d=identicon&r=PG", "display_name": "jose", "link": "https://stackoverflow.com/users/694776/jose"}, "edited": false, "score": 0, "creation_date": 1475007479, "post_id": 35752520, "comment_id": 66764961, "body": "Also using AS v2.1.3 and @jose &#39;s solution works here, Win 7, NTFS."}, {"owner": {"reputation": 3297, "user_id": 1324802, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/41K0O.jpg?s=128&g=1", "display_name": "Androidcoder", "link": "https://stackoverflow.com/users/1324802/androidcoder"}, "edited": false, "score": 0, "creation_date": 1480009337, "post_id": 35752520, "comment_id": 68806544, "body": "Instant run was already unchecked for me, as I get the &#39;can&#39;t delete file&#39; error every studio upgrade (this time to 2.3 canary 2). I also had to check it, attempt project run, get error message &#39;need to install apk 23&#39; (the apk of my test device), cancel the run, uncheck instant run, run project and wait 10 minutes for the gradle build with no error."}], "tags": [], "owner": {"reputation": 1728, "user_id": 679829, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/60a5e383f2cee46cd2f88a0153044509?s=128&d=identicon&r=PG", "display_name": "Irfan", "link": "https://stackoverflow.com/users/679829/irfan"}, "is_accepted": false, "score": 123, "last_activity_date": 1457068245, "last_edit_date": 1457068245, "creation_date": 1456935204, "answer_id": 35752520, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/35752520#35752520", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>If you are using Android Studio 2.0 Beta, this issue might appear (more likely if you are working on NTFS filesystem) and it seems like the \"Instant Run\" is the culprit. Search for \"Instant Run\" in settings and uncheck the box.</p>\n\n<p>I have filed an <a href=\"https://code.google.com/p/android/issues/detail?id=202297\">issue</a> on the bug tracker.</p>\n"}, {"tags": [], "owner": {"reputation": 741, "user_id": 1245306, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lPpaO.png?s=128&g=1", "display_name": "Mohamed", "link": "https://stackoverflow.com/users/1245306/mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1460471215, "creation_date": 1460471215, "answer_id": 36576245, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/36576245#36576245", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>This issue appeared to me in android studio 2.0 stable channel and the solution was due to a problem happened while updating my android studio i solved this by installing a fresh android studio. after deleting all old files for the old installation. and to keep the very nice feature of Instant Run </p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 5422919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27616591e4ea0cab1e2d9721035072ed?s=128&d=identicon&r=PG&f=1", "display_name": "HariPrasad", "link": "https://stackoverflow.com/users/5422919/hariprasad"}, "is_accepted": false, "score": 3, "last_activity_date": 1461048291, "creation_date": 1461048291, "answer_id": 36710505, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/36710505#36710505", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I solved this one in my ubuntu like this.</p>\n\n<ol>\n<li><p>Check for the processes running in your system(Ubuntu) like in task manager in windows.</p>\n\n<p>Ubuntu terminal command to list out all processes running  ----> \"gnome-system-monitor\"</p></li>\n<li><p>Terminate or end the JAVA and ANDROID processes in the list.</p></li>\n<li>Again start the studio and import project.</li>\n</ol>\n\n<p>Its works for me without any problems. Hope this helps...</p>\n\n<p>I thought this is the problem with the process that are already created and Duplicated.</p>\n"}, {"comments": [{"owner": {"reputation": 8352, "user_id": 1979347, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b842d236540c2d2d8d2134eb3dcfa71?s=128&d=identicon&r=PG", "display_name": "Rohan Kandwal", "link": "https://stackoverflow.com/users/1979347/rohan-kandwal"}, "edited": false, "score": 0, "creation_date": 1463984678, "post_id": 36976313, "comment_id": 62278146, "body": "Occurring in 2.2 preview 1 for me, so I don&#39;t think it is fixed."}], "tags": [], "owner": {"reputation": 216, "user_id": 2585847, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e8b37b53cab7c6ea9acd12c8e446d75d?s=128&d=identicon&r=PG", "display_name": "Ishant Sagar", "link": "https://stackoverflow.com/users/2585847/ishant-sagar"}, "is_accepted": false, "score": 0, "last_activity_date": 1462171011, "creation_date": 1462171011, "answer_id": 36976313, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/36976313#36976313", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>if you're still having issues then update to the latest version of Android Studio(its 2.1 as of now), might be it was a bug with older version of Android Studio. Its resolved for me now.</p>\n"}, {"comments": [{"owner": {"reputation": 4363, "user_id": 897007, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3db84802a7ea6df4e925635d6c3df00c?s=128&d=identicon&r=PG", "display_name": "Dale", "link": "https://stackoverflow.com/users/897007/dale"}, "edited": false, "score": 2, "creation_date": 1466273731, "post_id": 37314719, "comment_id": 63253419, "body": "Typing the above command started a download, unpack, and install, which took some time.  After that, this solution worked for me."}, {"owner": {"reputation": 1731, "user_id": 280919, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/watY1.png?s=128&g=1", "display_name": "mwieczorek", "link": "https://stackoverflow.com/users/280919/mwieczorek"}, "edited": false, "score": 0, "creation_date": 1466814212, "post_id": 37314719, "comment_id": 63488789, "body": "It took 11 minutes for this to complete, but it seems to work.A stitch in time saves nine. This should be the accepted answer."}, {"owner": {"reputation": 393, "user_id": 1427944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/EbLj0.jpg?s=128&g=1", "display_name": "Abhijit Gujar", "link": "https://stackoverflow.com/users/1427944/abhijit-gujar"}, "edited": false, "score": 0, "creation_date": 1476098086, "post_id": 37314719, "comment_id": 67193397, "body": "I am on ubuntu i ran the gradlew clean as instructed above but did not worked ..:( .command not found ."}, {"owner": {"reputation": 1432, "user_id": 1051764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KcOnP.png?s=128&g=1", "display_name": "TerraPass", "link": "https://stackoverflow.com/users/1051764/terrapass"}, "reply_to_user": {"reputation": 393, "user_id": 1427944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/EbLj0.jpg?s=128&g=1", "display_name": "Abhijit Gujar", "link": "https://stackoverflow.com/users/1427944/abhijit-gujar"}, "edited": false, "score": 1, "creation_date": 1478133258, "post_id": 37314719, "comment_id": 68035522, "body": "@AbhijitGujar You should try <code>.&#47;gradlew clean</code> on Ubuntu instead. (It will run the <code>gradlew</code> executable from the project directory.)"}, {"owner": {"reputation": 331, "user_id": 2752983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pVzq5.jpg?s=128&g=1", "display_name": "abggcv", "link": "https://stackoverflow.com/users/2752983/abggcv"}, "edited": false, "score": 7, "creation_date": 1483463628, "post_id": 37314719, "comment_id": 70104014, "body": "<code>.&#47;gradlew clean</code> did not solve this problem for me. It showed the same error again i.e. &quot;unable to delete directory&quot;"}, {"owner": {"reputation": 2471, "user_id": 4252667, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8eb97d85616defe1c9d75d37889e6f42?s=128&d=identicon&r=PG", "display_name": "Mohamed Ibrahim", "link": "https://stackoverflow.com/users/4252667/mohamed-ibrahim"}, "edited": false, "score": 0, "creation_date": 1591260419, "post_id": 37314719, "comment_id": 109989704, "body": "try using sudo if that is UNIX based system"}, {"owner": {"reputation": 121, "user_id": 5649810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q80GN.jpg?s=128&g=1", "display_name": "Luciano Brum", "link": "https://stackoverflow.com/users/5649810/luciano-brum"}, "edited": false, "score": 0, "creation_date": 1606765049, "post_id": 37314719, "comment_id": 115055455, "body": "It worked for me, but before that, I need to give proper permissions to run ./gradlew, with chmod +x ./gradlew. Using Ubuntu 20.04 and Android version 4.1.1, and gradle version 6.5."}], "tags": [], "owner": {"reputation": 9187, "user_id": 3787546, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/cacbd11d9ac897cc9c15ccbde69b01cd?s=128&d=identicon&r=PG&f=1", "display_name": "B K", "link": "https://stackoverflow.com/users/3787546/b-k"}, "is_accepted": false, "score": 31, "last_activity_date": 1557067458, "last_edit_date": 1557067458, "creation_date": 1463636472, "answer_id": 37314719, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/37314719#37314719", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>Clean project from Terminal using this command <code>gradlew clean</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hO7Gi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hO7Gi.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1788, "user_id": 3321991, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/8iOev.jpg?s=128&g=1", "display_name": "tamtom", "link": "https://stackoverflow.com/users/3321991/tamtom"}, "edited": false, "score": 0, "creation_date": 1488478583, "post_id": 37362822, "comment_id": 72259870, "body": "yes I was having this problem , there was a report file that is saved in build/report/checkstyle.html , closing this file solved my problem , thanks"}], "tags": [], "owner": {"reputation": 2095, "user_id": 1097944, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/471fec003744f576730742c08a4ebd15?s=128&d=identicon&r=PG", "display_name": "Mehul", "link": "https://stackoverflow.com/users/1097944/mehul"}, "is_accepted": false, "score": 3, "last_activity_date": 1463833202, "creation_date": 1463833202, "answer_id": 37362822, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/37362822#37362822", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>The solution is quite easy.</p>\n\n<p>This is one of the solution which worked for me.</p>\n\n<blockquote>\n  <p>It might be possible that your project's <strong>app/build/outputs/apk</strong>\n  folder is opened.</p>\n</blockquote>\n\n<p>so just close this folder and rebuild your project. and it will be solved.</p>\n"}, {"comments": [{"owner": {"reputation": 8520, "user_id": 244104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rf8O7.jpg?s=128&g=1", "display_name": "tronman", "link": "https://stackoverflow.com/users/244104/tronman"}, "edited": false, "score": 1, "creation_date": 1472249565, "post_id": 37365173, "comment_id": 65692814, "body": "I&#39;ve tried to delete the intermediates directory, but Windows tells me I can&#39;t delete the directory.  Weird."}, {"owner": {"reputation": 331, "user_id": 2752983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pVzq5.jpg?s=128&g=1", "display_name": "abggcv", "link": "https://stackoverflow.com/users/2752983/abggcv"}, "edited": false, "score": 0, "creation_date": 1483461582, "post_id": 37365173, "comment_id": 70102699, "body": "It worked for me on one of the projects but not on another :("}], "tags": [], "owner": {"reputation": 525, "user_id": 1424856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af1b0010a95769de8902b3f0e27102e?s=128&d=identicon&r=PG", "display_name": "DeaMon1", "link": "https://stackoverflow.com/users/1424856/deamon1"}, "is_accepted": false, "score": 15, "last_activity_date": 1468328374, "last_edit_date": 1468328374, "creation_date": 1463846566, "answer_id": 37365173, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/37365173#37365173", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>Deleting the directory <code>intermediates</code> is a quick fix for problem. </p>\n\n<p>The directory will be rebuilt when the project is rebuilt.</p>\n"}, {"tags": [], "owner": {"reputation": 8352, "user_id": 1979347, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4b842d236540c2d2d8d2134eb3dcfa71?s=128&d=identicon&r=PG", "display_name": "Rohan Kandwal", "link": "https://stackoverflow.com/users/1979347/rohan-kandwal"}, "is_accepted": false, "score": 8, "last_activity_date": 1463985742, "creation_date": 1463985742, "answer_id": 37384174, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/37384174#37384174", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I was facing same issue on Android Studio 2.2 preview 1, solution by @AndresSuarez was correct but for some reasons I couldn't find JAVA TM process in my task manager. So I tried the following solution and it worked -</p>\n\n<p>Open <em>command prompt</em> and type <code>TASKKILL /F /IM java.exe</code>. This will kill all JAVA TM processes automatically. Now re-compile the app again, it will work.</p>\n\n<p>Additionally, you can create a <em>.bat</em> file, add the above code in it and run it every time you face the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 1668, "user_id": 5992948, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/hUSms.jpg?s=128&g=1", "display_name": "y07k2", "link": "https://stackoverflow.com/users/5992948/y07k2"}, "is_accepted": false, "score": 3, "last_activity_date": 1464799104, "creation_date": 1464799104, "answer_id": 37574303, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/37574303#37574303", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>For me it helps when I <code>Exit Android Studio</code>, click one more time <code>Clean Project</code> (it appears the same error) and next click <code>Make Project</code> - after that of course <code>Run 'app'</code> button in Android Studio.</p>\n"}, {"tags": [], "owner": {"reputation": 5252, "user_id": 1189800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BQHkY.jpg?s=128&g=1", "display_name": "Chetan Joshi", "link": "https://stackoverflow.com/users/1189800/chetan-joshi"}, "is_accepted": false, "score": 3, "last_activity_date": 1485244673, "last_edit_date": 1485244673, "creation_date": 1467290312, "answer_id": 38123354, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/38123354#38123354", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>Some times intermediates creates problem so delete it and Rebuild project</p>\n\n<p>OR</p>\n\n<p>simply run cmd command - > gradlew clean</p>\n\n<p>in your project folder in work space   (its work for me)</p>\n"}, {"tags": [], "owner": {"reputation": 2913, "user_id": 3705478, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/0Rnp5.jpg?s=128&g=1", "display_name": "sofs1", "link": "https://stackoverflow.com/users/3705478/sofs1"}, "is_accepted": false, "score": 0, "last_activity_date": 1470022119, "creation_date": 1470022119, "answer_id": 38690582, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/38690582#38690582", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>Cleaning the project in Android studio and running again fixed the issue. May be do \"Make Project\" as well.</p>\n"}, {"tags": [], "owner": {"reputation": 289, "user_id": 2095573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMuKI.jpg?s=128&g=1", "display_name": "Tino", "link": "https://stackoverflow.com/users/2095573/tino"}, "is_accepted": false, "score": 1, "last_activity_date": 1470843330, "creation_date": 1470843330, "answer_id": 38877876, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/38877876#38877876", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>If you are testing with a local backend (java servlet on local google app engine) the running process blocks some files. So you are not able to live deploy. So in this case you can solve this by stopping the local backend before starting clean or build. You find the option under \"Run -> Stop backend\".</p>\n"}, {"comments": [{"owner": {"reputation": 1503, "user_id": 1904778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/f4qlM.jpg?s=128&g=1", "display_name": "Nithinjith", "link": "https://stackoverflow.com/users/1904778/nithinjith"}, "edited": false, "score": 0, "creation_date": 1477629512, "post_id": 39504772, "comment_id": 67854126, "body": "The &quot;Invalidate cache and restart&quot; makes Android studio to stuck in Window 8 PC. I am using Android studio 2.2.2. I can use this feature at all. Anyone has a right solution for this?."}, {"owner": {"reputation": 548, "user_id": 5293554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-qCDOUHHK7Zo/AAAAAAAAAAI/AAAAAAAAAF8/n8wutrasmnE/photo.jpg?sz=128", "display_name": "Jan Bergstr&#246;m", "link": "https://stackoverflow.com/users/5293554/jan-bergstr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1522625484, "post_id": 39504772, "comment_id": 86214385, "body": "File -&gt; Invalidate Caches and Restart works but takes so much time it is not OK. The basic problem of Win10 file privileges malfunctions re-arrived for me updating to SDK 27 (I accepted the update message). And after the same update the AS cries for NDK 15 but there is only a NDK14 available, set build gradle compile SDK to 26 and it don&#39;t cry. Look like we are in between two generations here?? In Win10 x64 there is also problems with the emulators that need data to be wiped to be reused. Sound like an awful lot of details to fix?"}], "tags": [], "owner": {"reputation": 2051, "user_id": 4840389, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/hLZbm.jpg?s=128&g=1", "display_name": "Cloy", "link": "https://stackoverflow.com/users/4840389/cloy"}, "is_accepted": false, "score": 48, "last_activity_date": 1473922613, "creation_date": 1473922613, "answer_id": 39504772, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/39504772#39504772", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>Try \n         File -> Invalidate Caches and Restart</p>\n\n<p>This worked for me</p>\n"}, {"tags": [], "owner": {"reputation": 2597, "user_id": 1536286, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/stNkD.jpg?s=128&g=1", "display_name": "Mete", "link": "https://stackoverflow.com/users/1536286/mete"}, "is_accepted": false, "score": 3, "last_activity_date": 1478370303, "creation_date": 1478370303, "answer_id": 40441712, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/40441712#40441712", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>Find programs who used <strong>app/build/outputs/apk</strong> folder, then just delete folder. </p>\n\n<p>I think Android Studio have to delete old apk folder before rebuilding.</p>\n"}, {"tags": [], "owner": {"reputation": 2851, "user_id": 1816603, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ead20433abb70e0b8061c0abd81e2d3?s=128&d=identicon&r=PG", "display_name": "Jose G&#243;mez", "link": "https://stackoverflow.com/users/1816603/jose-g%c3%b3mez"}, "is_accepted": false, "score": 2, "last_activity_date": 1481199546, "last_edit_date": 1481199546, "creation_date": 1480982424, "answer_id": 40985579, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/40985579#40985579", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>As <a href=\"https://code.google.com/p/android/issues/detail?id=202297#c81\" rel=\"nofollow noreferrer\">suggested in the bug report</a>, uncommenting the line</p>\n\n<pre><code>idea.jars.nocopy=false\n</code></pre>\n\n<p>in the <code>idea.properties</code> file has solved the issue for me.</p>\n\n<p>Note that this needs to be done every time Android Studio updates.</p>\n"}, {"comments": [{"owner": {"reputation": 8594, "user_id": 2441655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e0a2ff948b6678c5e0054a4c8392b67?s=128&d=identicon&r=PG", "display_name": "Venryx", "link": "https://stackoverflow.com/users/2441655/venryx"}, "edited": false, "score": 0, "creation_date": 1511292784, "post_id": 41313869, "comment_id": 81796754, "body": "Yeah, I&#39;ve read elsewhere that the Android Studio/gradle/React Native/packager/watchman system has issues (for some reason) on NTFS file-systems."}], "tags": [], "owner": {"reputation": 89, "user_id": 6212796, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-UsMxRnGRezY/AAAAAAAAAAI/AAAAAAAAACM/x7tUk_DpiFE/photo.jpg?sz=128", "display_name": "Ahmed Esameddeen", "link": "https://stackoverflow.com/users/6212796/ahmed-esameddeen"}, "is_accepted": false, "score": 0, "last_activity_date": 1482587763, "creation_date": 1482587763, "answer_id": 41313869, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/41313869#41313869", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I had the same problem and I solved it by moving project folder into ext4 partition</p>\n"}, {"tags": [], "owner": {"reputation": 1724, "user_id": 4229911, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c0cb4dcb378399797b41b979f6ee3fd8?s=128&d=identicon&r=PG", "display_name": "Eltaf Hussain", "link": "https://stackoverflow.com/users/4229911/eltaf-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1485982878, "creation_date": 1485982878, "answer_id": 41989679, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/41989679#41989679", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I had the same error, tried multiple ways but the solution worked for me was to delete build folders from /android and /android/app directories. </p>\n\n<p>run <code>react-native run-android</code> worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 2965972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YAjIU.jpg?s=128&g=1", "display_name": "Johan Lund", "link": "https://stackoverflow.com/users/2965972/johan-lund"}, "is_accepted": false, "score": 5, "last_activity_date": 1507286951, "last_edit_date": 1507286951, "creation_date": 1507212891, "answer_id": 46587874, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/46587874#46587874", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I had this problem in Android Studio 2.3.</p>\n\n<p>I simply restarted Android Studio and after that I could clean without complaints.</p>\n"}, {"tags": [], "owner": {"reputation": 9534, "user_id": 2606068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hRup4.jpg?s=128&g=1", "display_name": "wdanxna", "link": "https://stackoverflow.com/users/2606068/wdanxna"}, "is_accepted": false, "score": 1, "last_activity_date": 1509357706, "creation_date": 1509357706, "answer_id": 47012498, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/47012498#47012498", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I solved it by global searching the missing directory in the project. then delete any files containing that keyword. it can clean successfully after I remove all the <code>build</code> and <code>.externalNativeBuild</code> directories manually.</p>\n"}, {"tags": [], "owner": {"reputation": 351, "user_id": 8565446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/213f8f6df29b36700c356623fd724564?s=128&d=identicon&r=PG&f=1", "display_name": "adithya reddy", "link": "https://stackoverflow.com/users/8565446/adithya-reddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1509647960, "creation_date": 1509647960, "answer_id": 47082409, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/47082409#47082409", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I am using Android Studio 3.0 Beta 7. Clean Project, Invalidate caches, restart studio did not work but Updating Kotlin version to 1.1.51 and restart studio solved this issue for me.</p>\n"}, {"tags": [], "owner": {"reputation": 924, "user_id": 4326113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd27861f5b4545b9c92fa2c124494e89?s=128&d=identicon&r=PG&f=1", "display_name": "M. Chavoshi", "link": "https://stackoverflow.com/users/4326113/m-chavoshi"}, "is_accepted": false, "score": 4, "last_activity_date": 1511018091, "creation_date": 1511018091, "answer_id": 47367581, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/47367581#47367581", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I had the same problem and this worked for me:</p>\n\n<ol>\n<li>close Android Studio.</li>\n<li>delete intermediates directory (as long as Android Studio is opened, this directory can't be deleted)</li>\n<li>open Android Studio again </li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1789, "user_id": 6144793, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ea6bce416acab4ceaccc9daf3e2eac2f?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Smolyaninov", "link": "https://stackoverflow.com/users/6144793/dmitry-smolyaninov"}, "is_accepted": false, "score": 5, "last_activity_date": 1565062123, "last_edit_date": 1565062123, "creation_date": 1512646089, "answer_id": 47694094, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/47694094#47694094", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>For me, this happened because of an <strong>active debugging process</strong>. So, before cleaning or rebuilding, make sure to kill all active processes. To nail down the success, execute <strong>Invalidate Caches/Restart</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 414, "user_id": 7552669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b90f973e62e94729e869ade0816bf532?s=128&d=identicon&r=PG", "display_name": "Joseph Bani", "link": "https://stackoverflow.com/users/7552669/joseph-bani"}, "is_accepted": false, "score": 2, "last_activity_date": 1524378616, "creation_date": 1524378616, "answer_id": 49963197, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/49963197#49963197", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>In Android Studio 3.0, I had the same issue. This fixed it:</p>\n\n<ol>\n<li>Close Studio</li>\n<li>Delete projectRoot/build/ and projectRoot/app/build/</li>\n<li>Restart Studio</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 784, "user_id": 2168141, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f4dce302d74522bee483be523f76f156?s=128&d=identicon&r=PG&f=1", "display_name": "benallansmith", "link": "https://stackoverflow.com/users/2168141/benallansmith"}, "is_accepted": false, "score": 2, "last_activity_date": 1529622764, "creation_date": 1529622764, "answer_id": 50978629, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/50978629#50978629", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>For me, the culprit is <strong>adb</strong> holding onto the apk file since I utilise it to install and start the application on my physical device through command line.</p>\n\n<p>So simply:</p>\n\n<blockquote>\n  <p>Task Manager > End process <strong>adb.exe</strong></p>\n</blockquote>\n\n<p>And then the file is free to be deleted and the project may be cleaned</p>\n"}, {"comments": [{"owner": {"reputation": 966, "user_id": 8003636, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Pzg0Z.jpg?s=128&g=1", "display_name": "Rohit Sharma", "link": "https://stackoverflow.com/users/8003636/rohit-sharma"}, "edited": false, "score": 0, "creation_date": 1574070740, "post_id": 51376461, "comment_id": 104085725, "body": "This worked. Thank you! :) But it took almost 5 hrs. time to complete."}], "tags": [], "owner": {"reputation": 421, "user_id": 5599487, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-13LS5fXs3qk/AAAAAAAAAAI/AAAAAAAAAIE/BwDgCEPkUiI/photo.jpg?sz=128", "display_name": "Sumanpal Singh Saggu", "link": "https://stackoverflow.com/users/5599487/sumanpal-singh-saggu"}, "is_accepted": false, "score": 1, "last_activity_date": 1531815508, "creation_date": 1531815508, "answer_id": 51376461, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/51376461#51376461", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I had the same issue after moving my project from D: to G: drive\nbut disk checking solved my issue</p>\n\n<p>I used <strong>chkdsk /f /r /x G:</strong>\n**\nhere some command line switches were used:**</p>\n\n<p>/F Fixes errors on the disk </p>\n\n<p>/R Locates bad sectors and recovers readable information (implies /F) </p>\n\n<p>/X Forces the volume to dismount first if necessary (implies /F) (important)</p>\n\n<p>Note: /X is important because it will dismount the drive and you can manually delete the <strong>build</strong> directory of your project,</p>\n\n<p>now rebuild the project</p>\n"}, {"tags": [], "owner": {"reputation": 938, "user_id": 2828651, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5520d0c1bb85377dea746e1968650bb6?s=128&d=identicon&r=PG&f=1", "display_name": "Atef Farouk", "link": "https://stackoverflow.com/users/2828651/atef-farouk"}, "is_accepted": false, "score": 0, "last_activity_date": 1532853192, "creation_date": 1532853192, "answer_id": 51578592, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/51578592#51578592", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>My Solution for this was very very simple ( if you are using Windows).\n1- Close Android Studio.\n2- Run Android Studio as Administrator.\n3- That is it.</p>\n"}, {"tags": [], "owner": {"reputation": 389, "user_id": 7755864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1kHXN.png?s=128&g=1", "display_name": "MSD", "link": "https://stackoverflow.com/users/7755864/msd"}, "is_accepted": false, "score": 0, "last_activity_date": 1533580695, "creation_date": 1533580695, "answer_id": 51713769, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/51713769#51713769", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>the thing that worked for me was to close visual studio code and open it again ...\ni guess the apk was folder was opened somewhere in code .... \nso just try it might work for you as well</p>\n"}, {"tags": [], "owner": {"reputation": 13881, "user_id": 1474613, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/M34S3.jpg?s=128&g=1", "display_name": "RAM", "link": "https://stackoverflow.com/users/1474613/ram"}, "is_accepted": false, "score": 0, "last_activity_date": 1535045839, "creation_date": 1535045839, "answer_id": 51991412, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/51991412#51991412", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>In my case <code>node.js</code> was using some resources in build folder (my app in <code>reactnative</code>). So I killed <code>node.js</code> and it solved.</p>\n"}, {"tags": [], "owner": {"reputation": 491, "user_id": 8171292, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0GOwGOkQJB4/AAAAAAAAAAI/AAAAAAAABUE/BioA2PBJc7Q/photo.jpg?sz=128", "display_name": "saurabh yadav", "link": "https://stackoverflow.com/users/8171292/saurabh-yadav"}, "is_accepted": false, "score": -2, "last_activity_date": 1540873261, "creation_date": 1540873261, "answer_id": 53057378, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/53057378#53057378", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>Follow these Steps From Build Option tab:\n1) Clean Project\n2) Rebuild Project\n3) Make Project</p>\n"}, {"tags": [], "owner": {"reputation": 877, "user_id": 8173031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb20edc5c5f9951072e5e027c881391c?s=128&d=identicon&r=PG", "display_name": "Farouk Benarous", "link": "https://stackoverflow.com/users/8173031/farouk-benarous"}, "is_accepted": false, "score": 0, "last_activity_date": 1544059885, "creation_date": 1544059885, "answer_id": 53643321, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/53643321#53643321", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>simple solution : </p>\n\n<p>in android or any jetbrains products when you click to you will find 'invalidate cache and restart ' click on it and all the problems will be solved</p>\n"}, {"comments": [{"owner": {"reputation": 747, "user_id": 4208582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001724898318/picture?type=large", "display_name": "Michel Fernandes", "link": "https://stackoverflow.com/users/4208582/michel-fernandes"}, "edited": false, "score": 0, "creation_date": 1596068162, "post_id": 55392602, "comment_id": 111695214, "body": "taskkill /F /IM java.exe  was the solution for me. Thanks!"}], "tags": [], "owner": {"reputation": 191, "user_id": 6112963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8790cf6d0f4f279e19a8588ae8e8825d?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/6112963/rick"}, "is_accepted": false, "score": 17, "last_activity_date": 1553764101, "last_edit_date": 1553764101, "creation_date": 1553759857, "answer_id": 55392602, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/55392602#55392602", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I solved with command: </p>\n\n<pre><code>taskkill /F /IM java.exe\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>gradle assembleDebug \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 615, "user_id": 4716501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5bc45581ac9f552f4409d0076051d472?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Higgins", "link": "https://stackoverflow.com/users/4716501/adam-higgins"}, "is_accepted": false, "score": 1, "last_activity_date": 1564482550, "creation_date": 1564482550, "answer_id": 57269612, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/57269612#57269612", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I just solved this exact problem for myself.</p>\n\n<p>The problem was that somebody else had created the file so even though I have admin rights on the computer I was unable to make changes to the file or files. You need to go into the properties of the file or folder and change the ownership or add ownership. <a href=\"https://answers.microsoft.com/en-us/windows/forum/windows_vista-files/how-do-i-change-folder-and-file-permissions/465f2b42-63dd-4486-8dd1-c870290efeed\" rel=\"nofollow noreferrer\">This web page</a>  explains it well step by step what you need to do.</p>\n\n<p>Once I did the above, I found the file in file explorer and manually extracted it. I don't think it's needed in the android studio project if it was trying to delete it anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 1472, "user_id": 9690365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sASAV.png?s=128&g=1", "display_name": "Muhammad Ashfaq", "link": "https://stackoverflow.com/users/9690365/muhammad-ashfaq"}, "is_accepted": false, "score": 3, "last_activity_date": 1568554934, "creation_date": 1568554934, "answer_id": 57944679, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/57944679#57944679", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p><strong>react native devs</strong></p>\n\n<p>run</p>\n\n<pre><code>sudo cd android &amp;&amp; ./gradlew clean\n</code></pre>\n\n<p>and if you want release apk</p>\n\n<pre><code>sudo cd android &amp;&amp; ./gradlew assembleRelease\n</code></pre>\n\n<p>Hope it will help someone</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 11356492, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xi_X9Ht2sgU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPglv1ooHtOiqbcu3EvuoB7HrUHIA/mo/photo.jpg?sz=128", "display_name": "Corie LeClair", "link": "https://stackoverflow.com/users/11356492/corie-leclair"}, "edited": false, "score": 0, "creation_date": 1586119062, "post_id": 61049163, "comment_id": 108003569, "body": "After you should run gradle build, then gradle clean."}], "tags": [], "owner": {"reputation": 23, "user_id": 11356492, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xi_X9Ht2sgU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPglv1ooHtOiqbcu3EvuoB7HrUHIA/mo/photo.jpg?sz=128", "display_name": "Corie LeClair", "link": "https://stackoverflow.com/users/11356492/corie-leclair"}, "is_accepted": false, "score": 0, "last_activity_date": 1586119011, "creation_date": 1586119011, "answer_id": 61049163, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/61049163#61049163", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>Though this has already been answered, I came from a non-android project and found this, but it could not solve my issue. If someone does see this error, delete the \"build\" folder manually through your file manager. For me, this repaired the code failing to compile in Kotlin. </p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 2061182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/978d0668f34aff9c198b5819724012f4?s=128&d=identicon&r=PG", "display_name": "user2061182", "link": "https://stackoverflow.com/users/2061182/user2061182"}, "is_accepted": false, "score": 1, "last_activity_date": 1588332404, "creation_date": 1588332404, "answer_id": 61541589, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/61541589#61541589", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>Another application that can be using the resources is apparently Android Studio's Kotlin REPL. I closed that, and then I could build again no problem.</p>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 12386834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PSdGm.jpg?s=128&g=1", "display_name": "ABDESSAMAD FELOUACH", "link": "https://stackoverflow.com/users/12386834/abdessamad-felouach"}, "is_accepted": false, "score": 1, "last_activity_date": 1591363074, "creation_date": 1591363074, "answer_id": 62216265, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/62216265#62216265", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>i simply run cmd command - > gradlew clean , And it fix the issue</p>\n"}, {"tags": [], "owner": {"reputation": 2139, "user_id": 7200133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Df7q0.jpg?s=128&g=1", "display_name": "Gk Mohammad Emon", "link": "https://stackoverflow.com/users/7200133/gk-mohammad-emon"}, "is_accepted": false, "score": 0, "last_activity_date": 1600067744, "creation_date": 1600067744, "answer_id": 63879684, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/63879684#63879684", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>For my case, I resolve it by -</p>\n<ol>\n<li>First, close the app if it is running in the emulator.</li>\n<li>Then run the command <code>gradle --stop</code> in the <strong>Terminal</strong> in <strong>Android studio</strong>.</li>\n<li>Then <strong>clean project</strong> and <strong>rebuild project</strong></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1087, "user_id": 2159525, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bYDnR.jpg?s=128&g=1", "display_name": "Nallamachu", "link": "https://stackoverflow.com/users/2159525/nallamachu"}, "is_accepted": false, "score": 0, "last_activity_date": 1602054227, "creation_date": 1602054227, "answer_id": 64238882, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/64238882#64238882", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I have tried to remove all the Java services but still it is failing while executing the <strong>gradlew clean build</strong> command from IntelliJ terminal. I even verified the other applications I have opened somewhere the same path which I am trying the delete. But could not find any of such. So, finally restarted the IntelliJ IDE and able to proceed build smoothly.</p>\n"}, {"tags": [], "owner": {"reputation": 12729, "user_id": 4770877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cccebea2d190bf8f2054c1949ffa8677?s=128&d=identicon&r=PG&f=1", "display_name": "yoAlex5", "link": "https://stackoverflow.com/users/4770877/yoalex5"}, "is_accepted": false, "score": 0, "last_activity_date": 1610717904, "creation_date": 1610717904, "answer_id": 65737105, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file/65737105#65737105", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>try to remove these files manually</p>\n<p>In my case I just removed all <code>build</code> directories from project and subprojects</p>\n"}], "owner": {"reputation": 2059, "user_id": 5401587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/evUcd.png?s=128&g=1", "display_name": "Bryony", "link": "https://stackoverflow.com/users/5401587/bryony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214931, "favorite_count": 29, "protected_date": 1470842205, "accepted_answer_id": 32924320, "answer_count": 41, "score": 175, "last_activity_date": 1610717904, "creation_date": 1443814211, "last_edit_date": 1557067657, "question_id": 32914499, "link": "https://stackoverflow.com/questions/32914499/error-execution-failed-for-task-appclean-unable-to-delete-file", "title": "Error: Execution failed for task &#39;:app:clean&#39;. Unable to delete file", "body": "<p>I'm trying to rebuild my Android Studio Gradle project (containing mostly Kotlin code), but it started to throw an <code>UnableToDeleteFileException</code> during the cleaning/rebuilding process:</p>\n\n<pre><code>Execution failed for task ':app:clean'.\n&gt; Unable to delete file: C:\\Users\\User\\KotlinGameEngine\\app\\build\\intermediates\\exploded-aar\\com.android.support\\appcompat-v7\\23.0.1\\jars\\classes.jar\n</code></pre>\n\n<p>This started happening after I tried to change my project's package structure. Unfortunately, I did it by renaming and moving the source folders rather than refactoring through Android Studio, which was a bad idea.</p>\n\n<p>I've been searching for a solution to this problem all day, and these are the things I have tried to no avail:</p>\n\n<ul>\n<li>Doing a Gradle sync;</li>\n<li>Reinstalling Java JRE and Java SDK;</li>\n<li>Reinstalling the latest version of Android Studio (1.4);</li>\n<li>Rolling back to the previous AS version (1.3);</li>\n<li>Invalidating the AS cache and restarting;</li>\n<li>Deleting the <code>gradle</code> and <code>.gradle</code> directories in the project directory;</li>\n<li>Deleting the <code>.gradle</code> directory in my user directory;</li>\n<li>Running <code>gradlew clean</code> from the AS terminal;</li>\n<li>Manually copying the sources over to a new project (weird that it somehow persists across projects...)</li>\n</ul>\n\n<p>Things that I've tried with a little success, but only let me perform one more clean and rebuild before the error occurs again:</p>\n\n<ul>\n<li>Closing AS, manually deleting the build files, and opening it again;</li>\n<li>Killing the <code>java.exe</code> process while AS is running (this could technically be done every time, but it's tedious and slows down the build process)</li>\n</ul>\n\n<p>So it seems that compile the Java process may put a lock on the build files for some reason, but it might also be something to do with Kotlin. I have a (more mature) Java Android project that I'm working on, though I can't reproduce this error when cleaning it. It seems to only happen to my Kotlin project.</p>\n\n<h2>Update:</h2>\n\n<p>I've found that the problem is being caused by the Kotlin Android plugin. The problem disappears when I remove <code>apply plugin: 'kotlin-android'</code> from the module's <code>build.gradle</code> file and comes back when I reinsert it. Feel free to offer any insight into this.</p>\n\n<h2>Update 2:</h2>\n\n<p>The last update isn't the cause. I found that if a project contains a Kotlin file then rebuilding and cleaning fails. It continues to fail, even if all the Kotlin files are removed, until the background Java process is killed, meaning it has some kind of lock on the build files. I submitted a bug here with more details and steps to reproduce the bug: <a href=\"https://youtrack.jetbrains.com/issue/KT-9440\" rel=\"noreferrer\" title=\"KT-9440\">KT-9440</a></p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23746, "user_id": 510017, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/acdea246313ec67505a196fff761e514?s=128&d=identicon&r=PG", "display_name": "jkschneider", "link": "https://stackoverflow.com/users/510017/jkschneider"}, "edited": false, "score": 0, "creation_date": 1443818196, "post_id": 32908402, "comment_id": 53658750, "body": "It does not, JUnit does not see temp as a field in this case, because it isn&#39;t actually a field.  There is a hidden backing field in there somewhere, and the trick will be how to apply an annotation to it."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 23746, "user_id": 510017, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/acdea246313ec67505a196fff761e514?s=128&d=identicon&r=PG", "display_name": "jkschneider", "link": "https://stackoverflow.com/users/510017/jkschneider"}, "edited": false, "score": 0, "creation_date": 1451966544, "post_id": 32908402, "comment_id": 56953526, "body": "Sorry, @jkschneider, did you actually checked it to work? Because according to the docs it creates a field and should do the trick. Unfortunately I do not work with JUnit myself."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": -4, "last_activity_date": 1443792950, "creation_date": 1443792950, "answer_id": 32908402, "question_id": 32899947, "link": "https://stackoverflow.com/questions/32899947/kotlin-junit-rules/32908402#32908402", "title": "Kotlin JUnit Rules", "body": "<p>Just guessing, but the following might work (with <code>var</code>):</p>\n\n<pre><code>@Rule lateinit var temp = TemporaryFolder()\n</code></pre>\n\n<p>I would try asking at kotlin's slack <a href=\"http://t.co/xpQXUKaDvP\">http://t.co/xpQXUKaDvP</a>\nCurrently it's the fastest way to fix anything.</p>\n"}, {"tags": [], "owner": {"reputation": 23746, "user_id": 510017, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/acdea246313ec67505a196fff761e514?s=128&d=identicon&r=PG", "display_name": "jkschneider", "link": "https://stackoverflow.com/users/510017/jkschneider"}, "is_accepted": false, "score": 21, "last_activity_date": 1465162732, "last_edit_date": 1465162732, "creation_date": 1451671791, "answer_id": 34558666, "question_id": 32899947, "link": "https://stackoverflow.com/questions/32899947/kotlin-junit-rules/34558666#34558666", "title": "Kotlin JUnit Rules", "body": "<p>The answer as of Kotlin 1.0 is as follows:</p>\n\n<pre><code>@Rule @JvmField val temp = TemporaryFolder()\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-field/\" rel=\"noreferrer\"><code>@JvmField</code></a> exposes the backing field with the same visibility as the property, ergo a public field for the JUnit rule to use.</p>\n"}], "owner": {"reputation": 23746, "user_id": 510017, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/acdea246313ec67505a196fff761e514?s=128&d=identicon&r=PG", "display_name": "jkschneider", "link": "https://stackoverflow.com/users/510017/jkschneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 0, "answer_count": 2, "score": 13, "last_activity_date": 1465162732, "creation_date": 1443754970, "last_edit_date": 1451671869, "question_id": 32899947, "link": "https://stackoverflow.com/questions/32899947/kotlin-junit-rules", "title": "Kotlin JUnit Rules", "body": "<p>In Kotlin M13, this was an acceptable way to create a JUnit rule:</p>\n\n<p><code>@Rule @publicField val temp = TemporaryFolder()</code></p>\n\n<p>Now that <code>@publicField</code> has been deprecated, how else can this be achieved?  The IDE hint suggests replacing <code>@publicField</code> with <code>lateinit</code>, but <code>lateinit val</code>'s are no longer allowed, and I'm not sure this would help even if they were.</p>\n"}, {"tags": ["android-studio", "kotlin", "jetbrains-ide"], "comments": [{"owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1443732079, "post_id": 32895188, "comment_id": 53622277, "body": "Looks like a problem with the download server. Please try again."}, {"owner": {"reputation": 1621, "user_id": 4311759, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/9xRdP.png?s=128&g=1", "display_name": "Ardi", "link": "https://stackoverflow.com/users/4311759/ardi"}, "reply_to_user": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "edited": false, "score": 0, "creation_date": 1443739387, "post_id": 32895188, "comment_id": 53624935, "body": "@AndreyBreslav still causes the problem. Hope, tomorrow will be fine."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 1226291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dafeb82fcdccd5766d36ea8ec8cbbdd8?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/1226291/george"}, "is_accepted": false, "score": 2, "last_activity_date": 1520945320, "last_edit_date": 1520945320, "creation_date": 1443746188, "answer_id": 32898856, "question_id": 32895188, "link": "https://stackoverflow.com/questions/32895188/kotlin-failed-to-download/32898856#32898856", "title": "Kotlin failed to download", "body": "<p>Try to download latest version of plugin directly from <a href=\"https://plugins.jetbrains.com/plugin/6954?pr=androidstudio\" rel=\"nofollow noreferrer\">Kotlin Download plugin</a> and install it manually from disk: </p>\n\n<p>Settings > Plugins > Install plugin from disk... and you are ready to go.</p>\n"}], "owner": {"reputation": 1621, "user_id": 4311759, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/9xRdP.png?s=128&g=1", "display_name": "Ardi", "link": "https://stackoverflow.com/users/4311759/ardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1357, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520945320, "creation_date": 1443727007, "question_id": 32895188, "link": "https://stackoverflow.com/questions/32895188/kotlin-failed-to-download", "title": "Kotlin failed to download", "body": "<p>Yesterday I reinstalled my Android Studio and tried to add Kotlin plugin in preferences, but there was no callback afterwards.</p>\n\n<p><a href=\"https://i.stack.imgur.com/H6iJK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H6iJK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Progress bar finished it work and I caught this error.</p>\n\n<p>Is it connected with last Android Studio update?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["generics", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1443733569, "post_id": 32883936, "comment_id": 53623010, "body": "&gt;&gt;&gt;&quot;I wonder why it&#39;s different&quot; @Yaroslav There is +no+ difference to regular functions. It&#39;s just a question of subtyping <code>Foo&lt;A&gt;</code> and  <code>Foo&lt;B&gt;</code> where A is a subtype of B. In Java it would require wild casting. Not sure on Scala, I believe they have <code>Foo[+T]</code> for the same purpose"}], "answers": [{"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 2, "last_activity_date": 1443711376, "last_edit_date": 1443711376, "creation_date": 1443710593, "answer_id": 32890436, "question_id": 32883936, "link": "https://stackoverflow.com/questions/32883936/extension-functions-for-generic-classes-in-kotlin/32890436#32890436", "title": "Extension functions for generic classes in Kotlin", "body": "<p>Your method <code>plus</code> expects the parameter to have the same generic type parameter <code>T</code> as the receiver. Hence, you can't add a <code>Foo&lt;String&gt;</code> to a <code>Foo&lt;Int&gt;</code>.</p>\n\n<p>If you want to be able to add all types of <code>Foo</code>, than you need to declare your extension function like so:</p>\n\n<pre><code>operator fun &lt;T,R&gt; Foo&lt;T&gt;.plus(that: Foo&lt;R&gt;): Foo&lt;T&gt; = throw Exception()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "is_accepted": true, "score": 28, "last_activity_date": 1443732152, "last_edit_date": 1443732152, "creation_date": 1443718178, "answer_id": 32892819, "question_id": 32883936, "link": "https://stackoverflow.com/questions/32883936/extension-functions-for-generic-classes-in-kotlin/32892819#32892819", "title": "Extension functions for generic classes in Kotlin", "body": "<p>The issue is at the very heart of how generics work.</p>\n\n<pre><code>class Foo {\n    fun &lt;T&gt; T.foo(that: T): T = throw Exception()\n\n    init {\n        \"str\" foo 42\n    }\n}\n</code></pre>\n\n<p>This works, because the compiler can find a <code>T</code> that fits both the function signature and the arguments: it is <code>Any</code>, and the function is turned into this one:</p>\n\n<pre><code>fun Any.foo(that: Any): Any = ...\n</code></pre>\n\n<p>Now, <code>String</code> is a subtype of <code>Any</code>, <code>Int</code> is a subtype of <code>Any</code>, so this function is applicable to the arguments.</p>\n\n<p>But in your first example:</p>\n\n<pre><code>class Foo&lt;T&gt; {\n    fun &lt;T&gt; Foo&lt;T&gt;.plus(that: Foo&lt;T&gt;): Foo&lt;T&gt; = throw Exception()\n\n    init {\n        Foo&lt;Int&gt;() + Foo&lt;String&gt;()  // A receiver of type Foo&lt;T&gt; is required\n    }\n}\n</code></pre>\n\n<p>It's all different. There's no such <code>T</code>. Let's be na\u00efve and try <code>Any</code>:</p>\n\n<pre><code>fun Foo&lt;Any&gt;.plus(that: Foo&lt;Any&gt;): Foo&lt;Any&gt; = ...\n</code></pre>\n\n<p>Now, <code>Foo</code> is <em>invariant</em> in <code>T</code>, so <code>Foo&lt;Int&gt;</code> is <strong>not</strong> a subtype of <code>Foo&lt;Any&gt;</code>, and in fact there's no type <code>T</code> other than <code>Int</code> that would make <code>Foo&lt;T&gt;</code> a supertype of <code>Foo&lt;Int&gt;</code>. So, <code>T</code> must be exactly <code>Int</code>, but it also must be exactly <code>String</code> by the same logic (because of the second argument), so there's no solution, and the function is not applicable.</p>\n\n<p>You could make it work by making <code>Foo</code> <em>co-variant</em> in <code>T</code>:</p>\n\n<pre><code>class Foo&lt;out T&gt; {\n    fun &lt;T&gt; Foo&lt;T&gt;.plus(that: Foo&lt;T&gt;): Foo&lt;T&gt; = throw Exception()\n\n    init {\n        Foo&lt;Int&gt;() + Foo&lt;String&gt;()  // A receiver of type Foo&lt;T&gt; is required\n    }\n}\n</code></pre>\n\n<p>This imposes some limitations on possible signatures of members of <code>Foo</code>, but if you are OK with them, it fixes your issue. </p>\n\n<p>Have a look at this link for more details: <a href=\"http://kotlinlang.org/docs/reference/generics.html\">http://kotlinlang.org/docs/reference/generics.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 11246580, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/af65a0e8b68a06bba9b68081611d95da?s=128&d=identicon&r=PG", "display_name": "extender", "link": "https://stackoverflow.com/users/11246580/extender"}, "is_accepted": false, "score": 6, "last_activity_date": 1553333459, "creation_date": 1553333459, "answer_id": 55312369, "question_id": 32883936, "link": "https://stackoverflow.com/questions/32883936/extension-functions-for-generic-classes-in-kotlin/55312369#55312369", "title": "Extension functions for generic classes in Kotlin", "body": "<p>I think the accepted answer by Andrey Breslaw is correct, but provides incorrect solution.</p>\n\n<p>The compiler simply needs to be told to infer common supertype for the generic type arguments supplied, i.e., as long as the generic type arguments of Foo share a common supertype (and they always will), use it. Like:</p>\n\n<pre><code>operator fun &lt;T, R: T, S: T&gt; Foo&lt;R&gt;.plus(that: Foo&lt;S&gt;): Foo&lt;T&gt; = throw Exception()\n</code></pre>\n\n<p>Now the resulting generic type argument of returned Foo will be widened as necessary if the types do not match, but the operation itself is legal, without introducing covariance.</p>\n"}], "owner": {"reputation": 3897, "user_id": 1351319, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ce42732ebb48b66719bccc64b1efb5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Yaroslav", "link": "https://stackoverflow.com/users/1351319/yaroslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12816, "favorite_count": 4, "accepted_answer_id": 32892819, "answer_count": 3, "score": 17, "last_activity_date": 1597247401, "creation_date": 1443691402, "last_edit_date": 1443718997, "question_id": 32883936, "link": "https://stackoverflow.com/questions/32883936/extension-functions-for-generic-classes-in-kotlin", "title": "Extension functions for generic classes in Kotlin", "body": "<p>What's wrong with my extension function below</p>\n\n<pre><code>class Foo&lt;T&gt; {\n    fun &lt;T&gt; Foo&lt;T&gt;.plus(that: Foo&lt;T&gt;): Foo&lt;T&gt; = throw Exception()\n\n    init {\n        Foo&lt;Int&gt;() + Foo&lt;String&gt;()  // A receiver of type Foo&lt;T&gt; is required\n    }\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I wonder why it's different than regular extension functions, where T successfully gets inferred as <code>Any</code> and would like to achieve the same behavior, e. g. T to get inferred as Foo&lt;Any&gt;</p>\n\n<pre><code>class Foo {\n    fun &lt;T&gt; T.foo(that: T): T = throw Exception()\n\n    init {\n        \"str\" foo 42\n    }\n}\n</code></pre>\n"}]