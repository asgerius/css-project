[{"tags": ["java", "android", "json", "gson", "kotlin"], "comments": [{"owner": {"reputation": 3910, "user_id": 4103854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUnmsdTd6P4/AAAAAAAAAAI/AAAAAAAAAGI/TBEWqWgj0wo/photo.jpg?sz=128", "display_name": "Logain", "link": "https://stackoverflow.com/users/4103854/logain"}, "edited": false, "score": 1, "creation_date": 1478130180, "post_id": 40391434, "comment_id": 68034856, "body": "The plugin for android studio auto converts java to kotlin, so you could generate the java classes and then on the IDE convert the java classes to kotlin."}, {"owner": {"reputation": 2354, "user_id": 1081896, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/73fd9757bddc793c9d95228c62b50aaa?s=128&d=identicon&r=PG", "display_name": "Gorets", "link": "https://stackoverflow.com/users/1081896/gorets"}, "reply_to_user": {"reputation": 3910, "user_id": 4103854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUnmsdTd6P4/AAAAAAAAAAI/AAAAAAAAAGI/TBEWqWgj0wo/photo.jpg?sz=128", "display_name": "Logain", "link": "https://stackoverflow.com/users/4103854/logain"}, "edited": false, "score": 0, "creation_date": 1478130440, "post_id": 40391434, "comment_id": 68034914, "body": "@Logain Thanks, it&#39;s really good idea I missed this option"}, {"owner": {"reputation": 1783, "user_id": 958160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4CVw.jpg?s=128&g=1", "display_name": "Li Ying", "link": "https://stackoverflow.com/users/958160/li-ying"}, "edited": false, "score": 0, "creation_date": 1478242115, "post_id": 40391434, "comment_id": 68082862, "body": "The plugin for Eclipse also can convert java to kotlin"}, {"owner": {"reputation": 2223, "user_id": 496895, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/tcfXe.jpg?s=128&g=1", "display_name": "Syed Absar", "link": "https://stackoverflow.com/users/496895/syed-absar"}, "edited": false, "score": 0, "creation_date": 1511000397, "post_id": 40391434, "comment_id": 81682613, "body": "try www.json2kotlin.com if that&#39;s what you&#39;re looking for."}, {"owner": {"reputation": 1461, "user_id": 6897018, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/O6o3k.jpg?s=128&g=1", "display_name": "Drew Szurko", "link": "https://stackoverflow.com/users/6897018/drew-szurko"}, "edited": false, "score": 0, "creation_date": 1512406668, "post_id": 40391434, "comment_id": 82234757, "body": "<a href=\"https://github.com/robohorse/RoboPOJOGenerator\" rel=\"nofollow noreferrer\">github.com/robohorse/RoboPOJOGenerator</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5391, "user_id": 1420441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UGcwx.gif?s=128&g=1", "display_name": "Henrique de Sousa", "link": "https://stackoverflow.com/users/1420441/henrique-de-sousa"}, "edited": false, "score": 3, "creation_date": 1505390415, "post_id": 45834533, "comment_id": 79399491, "body": "Problem is, it doesn&#39;t work when the the Json string is an Array"}, {"owner": {"reputation": 1182, "user_id": 5167396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a9db8b9bb29512ed6923be5dfdd306?s=128&d=identicon&r=PG&f=1", "display_name": "\u5434\u6d77\u8c79", "link": "https://stackoverflow.com/users/5167396/%e5%90%b4%e6%b5%b7%e8%b1%b9"}, "reply_to_user": {"reputation": 5391, "user_id": 1420441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UGcwx.gif?s=128&g=1", "display_name": "Henrique de Sousa", "link": "https://stackoverflow.com/users/1420441/henrique-de-sousa"}, "edited": false, "score": 0, "creation_date": 1505715695, "post_id": 45834533, "comment_id": 79507878, "body": "@HenriquedeSousa You can raise an issue here: <a href=\"https://github.com/wuseal/JsonToKotlinClass/issues\" rel=\"nofollow noreferrer\">github.com/wuseal/JsonToKotlinClass/issues</a>"}, {"owner": {"reputation": 1461, "user_id": 6897018, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/O6o3k.jpg?s=128&g=1", "display_name": "Drew Szurko", "link": "https://stackoverflow.com/users/6897018/drew-szurko"}, "edited": false, "score": 3, "creation_date": 1512064774, "post_id": 45834533, "comment_id": 82116711, "body": "For any future visitors, the actual plugin name is JsonToKotlinClass"}, {"owner": {"reputation": 253, "user_id": 7457272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtHwt.jpg?s=128&g=1", "display_name": "Priya", "link": "https://stackoverflow.com/users/7457272/priya"}, "edited": false, "score": 0, "creation_date": 1560336897, "post_id": 45834533, "comment_id": 99700521, "body": "It is perfect way to concert a json to pojo for kotlin !"}, {"owner": {"reputation": 1098, "user_id": 5646794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8nBm.jpg?s=128&g=1", "display_name": "Touhid", "link": "https://stackoverflow.com/users/5646794/touhid"}, "edited": false, "score": 0, "creation_date": 1592479262, "post_id": 45834533, "comment_id": 110443283, "body": "For online json to data class generator use this: <a href=\"https://json2kt.com/\" rel=\"nofollow noreferrer\">json2kt.com</a> I think it&#39;s cool :)"}], "tags": [], "owner": {"reputation": 1182, "user_id": 5167396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a9db8b9bb29512ed6923be5dfdd306?s=128&d=identicon&r=PG&f=1", "display_name": "\u5434\u6d77\u8c79", "link": "https://stackoverflow.com/users/5167396/%e5%90%b4%e6%b5%b7%e8%b1%b9"}, "is_accepted": true, "score": 29, "last_activity_date": 1531151878, "last_edit_date": 1592644375, "creation_date": 1503476949, "answer_id": 45834533, "question_id": 40391434, "link": "https://stackoverflow.com/questions/40391434/json-to-kotlin-data-classes/45834533#45834533", "title": "Json to kotlin data classes", "body": "<p>There is a plugin for Android Studio and Intellij Idea called <strong>JsonToKotlinClass</strong>.</p>\n<p>You can convert <code>json</code> into kotlin's <code>data class</code> with it: <a href=\"https://github.com/wuseal/JsonToKotlinClass\" rel=\"noreferrer\">https://github.com/wuseal/JsonToKotlinClass</a></p>\n<p><img src=\"https://i.stack.imgur.com/xnMed.gif\" alt=\"A AndroidStudio plugin for Converting json string into kotlin data class \" /></p>\n"}], "owner": {"reputation": 2354, "user_id": 1081896, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/73fd9757bddc793c9d95228c62b50aaa?s=128&d=identicon&r=PG", "display_name": "Gorets", "link": "https://stackoverflow.com/users/1081896/gorets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14287, "favorite_count": 3, "closed_date": 1503478871, "accepted_answer_id": 45834533, "answer_count": 1, "score": 17, "last_activity_date": 1531151878, "creation_date": 1478128935, "question_id": 40391434, "link": "https://stackoverflow.com/questions/40391434/json-to-kotlin-data-classes", "closed_reason": "Not suitable for this site", "title": "Json to kotlin data classes", "body": "<p>Is there existing service for generating kotlin data classes from json model in the way how it works on <a href=\"http://www.jsonschema2pojo.org/\" rel=\"noreferrer\">http://www.jsonschema2pojo.org/</a> site? My new project has over complicated API responses, so it would save me time.</p>\n"}, {"tags": ["intellij-idea", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 2185, "user_id": 973919, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/872fbcf803b76777b0e48dc58957f8ec?s=128&d=identicon&r=PG", "display_name": "xarlymg89", "link": "https://stackoverflow.com/users/973919/xarlymg89"}, "edited": false, "score": 0, "creation_date": 1543573925, "post_id": 40391398, "comment_id": 93976793, "body": "I followed your instructions on Intellij IDEA (2018.3 version) for how to create a Gradle project with Kotlin support, and at least nowawdays is working without any problems. Even with dependencies. Perhaps they have improved it substancially."}], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1478129770, "post_id": 40391447, "comment_id": 68034755, "body": "Updated the answer since it was missing the EAP repository + added a link to an example."}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1478130120, "post_id": 40391447, "comment_id": 68034839, "body": "Thanks! That seems to have fixed it. Though I don&#39;t really agree that a bug that makes the output broken in the base case is minor..."}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1478288859, "post_id": 40391447, "comment_id": 68109780, "body": "I&#39;m getting an error &quot;Unindexed remote maven repositories&quot; referring to the  <a href=\"http://dl.bintray.com/kotlin/kotlin-eap-1.1\" rel=\"nofollow noreferrer\">dl.bintray.com/kotlin/kotlin-eap-1.1</a> URL. If I open the repositories list that URL is highlighted in red, and says &quot;Error&quot; in the &quot;Updated&quot; column."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1478289520, "post_id": 40391447, "comment_id": 68110052, "body": "&quot;Unindexed remote maven repositories&quot; isn&#39;t actually an error, is it? As far as I understand, IDEA simply suggests indexing it, that will enable auto-completion and auto-import of the artifacts in that repository."}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "reply_to_user": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1483697304, "post_id": 40391447, "comment_id": 70211846, "body": "I get exactly the same error, @LaurenceGonsalves, did you solve it? If I leave the mouse on it, it says &quot;Resource nexus-maven-repository-index.properties does not exist&quot;"}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1484011301, "post_id": 40391447, "comment_id": 70324432, "body": "@elect which error are you referring to? The &quot;Unindexed remote maven repositories&quot; error, or the &quot;Could not find org.jetbrains.kotlin:kotlin-gradle-plugin...&quot; error?"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "reply_to_user": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "edited": false, "score": 0, "creation_date": 1484034681, "post_id": 40391447, "comment_id": 70331685, "body": "@LaurenceGonsalves The first one"}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1484177806, "post_id": 40391447, "comment_id": 70407933, "body": "@elect No, I never solved that issue. If you figure it out I&#39;d love to hear about how."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 6, "last_activity_date": 1478129725, "last_edit_date": 1478129725, "creation_date": 1478129044, "answer_id": 40391447, "question_id": 40391398, "link": "https://stackoverflow.com/questions/40391398/how-can-i-create-a-kotlin-project-that-builds-with-gradle/40391447#40391447", "title": "How can I create a Kotlin project that builds with Gradle?", "body": "<p>In your <code>build.gradle</code>, change <code>ext.kotlin_version</code> to be:</p>\n\n<pre><code> ext.kotlin_version = '1.1-M02'\n</code></pre>\n\n<p><sup>It's a minor bug that the IDE plugin puts its own version into build scripts, not the Kotlin version.</sup></p>\n\n<p>And also add the 1.1 EAP repository to the <code>repositories</code> in both <code>buildscript</code> and the root scope:</p>\n\n<pre><code>repositories {\n    // ...\n    maven { url \"http://dl.bintray.com/kotlin/kotlin-eap-1.1\" }\n}\n</code></pre>\n\n<p><sup>Kotlin artifacts related to EAP versions are not put into Maven Central like those of public releases, and this repository is not added automatically into the generated build script.</sup></p>\n\n<p>Then refresh the Gradle project, and the build should pass. </p>\n\n<p>Feel free to check with <a href=\"https://gist.github.com/h0tk3y/0112caf770d2d47bf9cf590c79ba225f\" rel=\"noreferrer\">this <code>build.gradle</code> file</a>.</p>\n"}], "owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6934, "favorite_count": 1, "accepted_answer_id": 40391447, "answer_count": 1, "score": 8, "last_activity_date": 1478129725, "creation_date": 1478128697, "question_id": 40391398, "link": "https://stackoverflow.com/questions/40391398/how-can-i-create-a-kotlin-project-that-builds-with-gradle", "title": "How can I create a Kotlin project that builds with Gradle?", "body": "<p>I'm trying to create a new Kotlin project that builds with Gradle using IntelliJ IDEA (2016.2.5 on Ubuntu 16.04). When I do this I immediately get an error message.</p>\n\n<p>Here's what I'm trying:</p>\n\n<ol>\n<li><p>Select \"Create New Project\" from Welcome Screen.</p></li>\n<li><p>Select \"Gradle\" from left hand pane, \"Kotlin (Java)\" from right. Click \"Next\".</p></li>\n<li><p>Enter \"hello-world\" as ArtifactId. Click Next.</p></li>\n<li><p>Ensure \"Create separate module from source set\" and \"Use default Gradle wrapper\" are\nselected, nothing else is. Click \"Next\".</p></li>\n<li><p>Use defaults for project name and location. Click \"Finish\".</p></li>\n</ol>\n\n<p>I then immediately get this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Gradle 'hello-world' project refresh failed\n\nError: Could not find org.jetbrains.kotlin:kotlin-gradle-plugin:1.1-M02-12.\n       Searched in the following locations:\n           https://repo1.maven.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.1-M02-12/kotlin-gradle-plugin-1.1-M02-12.pom\n           https://repo1.maven.org/maven2/org/jetbrains/kotlin/kotlin-gradle-plugin/1.1-M02-12/kotlin-gradle-plugin-1.1-M02-12.jar\n       Required by:\n           :hello-world:unspecified\n</code></pre>\n\n<p>The generated <code>build.gradle</code> looks like this:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>version '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.1-M02-12'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>How can I create a Kotlin project that builds with Gradle correctly?</p>\n"}, {"tags": ["variables", "kotlin"], "comments": [{"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 2, "creation_date": 1588683825, "post_id": 40385878, "comment_id": 108987665, "body": "This seems to be a good example of a case where something that&#39;s really elegant in Java (declaring multiple variables, not properties) is verbose and awkward in Kotlin."}, {"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 3, "creation_date": 1588684801, "post_id": 40385878, "comment_id": 108988245, "body": "The question linked to as a duplicate is about <i>properties</i>. So it&#39;s not a duplicate of this question about <i>variables</i>. Voting to <b>reopen</b>. An answer stating that it&#39;s not possible to declare multiple properties on one line doesn&#39;t imply that it&#39;s not possible to declare multiple variables on one line."}, {"owner": {"reputation": 2892, "user_id": 1978013, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd980993188a54d04e3cf1f1cbf34110?s=128&d=identicon&r=PG", "display_name": "Seaskyways", "link": "https://stackoverflow.com/users/1978013/seaskyways"}, "reply_to_user": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 1, "creation_date": 1588722454, "post_id": 40385878, "comment_id": 109007444, "body": "@LarsH wow I myself didn&#39;t even think of that. Thanks for your contribution."}, {"owner": {"reputation": 2453, "user_id": 2679529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puE0s.jpg?s=128&g=1", "display_name": "marcelovca90", "link": "https://stackoverflow.com/users/2679529/marcelovca90"}, "reply_to_user": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 1, "creation_date": 1588739416, "post_id": 40385878, "comment_id": 109011318, "body": "@LarsH Thanks for your comment. I&#39;ve updated the accepted answer to clarify about both variables and properties."}, {"owner": {"reputation": 551, "user_id": 6805392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VviGP.jpg?s=128&g=1", "display_name": "F.Mysir", "link": "https://stackoverflow.com/users/6805392/f-mysir"}, "edited": false, "score": 0, "creation_date": 1607942307, "post_id": 40385878, "comment_id": 115421016, "body": "Actually this is why Kotlin came to the surface to make the life of the programmer easier and avoid nulls in order to eliminate bugs as much as possible. So in that case <code>String x,y,z;</code> would not make any sense..."}], "answers": [{"comments": [{"owner": {"reputation": 2892, "user_id": 1978013, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd980993188a54d04e3cf1f1cbf34110?s=128&d=identicon&r=PG", "display_name": "Seaskyways", "link": "https://stackoverflow.com/users/1978013/seaskyways"}, "edited": false, "score": 0, "creation_date": 1478107635, "post_id": 40386049, "comment_id": 68023980, "body": "Thank you , i couldn&#39;t find an answer on stackoverflow nor the kotlin website , however i tried their online converter for String x,y,z; and it gave them on three diffrenet lines , so i guessed it isn&#39;t possible"}, {"owner": {"reputation": 3738, "user_id": 1812434, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gTQAt.jpg?s=128&g=1", "display_name": "Venkata Raju", "link": "https://stackoverflow.com/users/1812434/venkata-raju"}, "edited": false, "score": 47, "creation_date": 1504436441, "post_id": 40386049, "comment_id": 79004696, "body": "This is possible though <code>val (x, y) = arrayOf(20, &quot;Hello&quot;)</code>"}, {"owner": {"reputation": 3738, "user_id": 1812434, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gTQAt.jpg?s=128&g=1", "display_name": "Venkata Raju", "link": "https://stackoverflow.com/users/1812434/venkata-raju"}, "reply_to_user": {"reputation": 253, "user_id": 2620553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fAVEV.jpg?s=128&g=1", "display_name": "Rahul Bali", "link": "https://stackoverflow.com/users/2620553/rahul-bali"}, "edited": false, "score": 1, "creation_date": 1515369512, "post_id": 40386049, "comment_id": 83263508, "body": "@RahulParashar  <code>Destructuring declarations are only allowed for local variables&#47;values</code>, so my example does not work for properties."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1558724441, "post_id": 40386049, "comment_id": 99208795, "body": "The right way to do this is <code>val(x,y) = listOf(20,&quot;Hello&quot;)</code>.  One can use this trick to declare any number of variables in Kotlin. The types are static and implicit by the type of the values inside list."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1558724765, "post_id": 40386049, "comment_id": 99208916, "body": "Complete example: <code>function main() { val (a,b,c,d) = listOf(21.8, &quot;Hello&quot;, 231.3, &quot;shark&quot;) println(&quot;$a $b $c $d&quot;)</code> }`"}, {"owner": {"reputation": 413, "user_id": 9172533, "user_type": "registered", "profile_image": "https://graph.facebook.com/1972857836321516/picture?type=large", "display_name": "Manish Chandra Joshi", "link": "https://stackoverflow.com/users/9172533/manish-chandra-joshi"}, "edited": false, "score": 4, "creation_date": 1558796518, "post_id": 40386049, "comment_id": 99222561, "body": "Even in Java, is declaring multiple variables in one line really bad practice? I think there are places where it reduces redundant code."}, {"owner": {"reputation": 2677, "user_id": 6390459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/83b7880eb3c21add8de6f50823232054?s=128&d=identicon&r=PG&f=1", "display_name": "Shubh", "link": "https://stackoverflow.com/users/6390459/shubh"}, "reply_to_user": {"reputation": 3738, "user_id": 1812434, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gTQAt.jpg?s=128&g=1", "display_name": "Venkata Raju", "link": "https://stackoverflow.com/users/1812434/venkata-raju"}, "edited": false, "score": 0, "creation_date": 1566905577, "post_id": 40386049, "comment_id": 101794469, "body": "@VenkataRaju you should post it as an answer"}, {"owner": {"reputation": 3738, "user_id": 1812434, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gTQAt.jpg?s=128&g=1", "display_name": "Venkata Raju", "link": "https://stackoverflow.com/users/1812434/venkata-raju"}, "reply_to_user": {"reputation": 2677, "user_id": 6390459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/83b7880eb3c21add8de6f50823232054?s=128&d=identicon&r=PG&f=1", "display_name": "Shubh", "link": "https://stackoverflow.com/users/6390459/shubh"}, "edited": false, "score": 1, "creation_date": 1566924292, "post_id": 40386049, "comment_id": 101804928, "body": "@Shubh Since this question was marked duplicate, <code>Stack Overflow</code> does not allow any new answers."}, {"owner": {"reputation": 7658, "user_id": 4997239, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/53b77115da2bf4001930b7334cb684e6?s=128&d=identicon&r=PG&f=1", "display_name": "Hasen", "link": "https://stackoverflow.com/users/4997239/hasen"}, "edited": false, "score": 7, "creation_date": 1574921728, "post_id": 40386049, "comment_id": 104401841, "body": "That&#39;s pretty dumb. Kotlin is supposed to be concise, Java pretty much frowns upon anything concise...doesn&#39;t make a bit of sense."}, {"owner": {"reputation": 2539, "user_id": 4542217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96uVy.png?s=128&g=1", "display_name": "Shahab Rauf", "link": "https://stackoverflow.com/users/4542217/shahab-rauf"}, "edited": false, "score": 0, "creation_date": 1575533883, "post_id": 40386049, "comment_id": 104600837, "body": "You can use terminator for multiple variables inline <code>var first = &quot;&quot; ; var second = &quot;&quot; ; var third = &quot;&quot; </code>"}, {"owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "edited": false, "score": 2, "creation_date": 1580442333, "post_id": 40386049, "comment_id": 106107101, "body": "<code>val(x,y) = listOf(20,&quot;Hello&quot;)</code> Seems like allocating a list just to initialize multiple variables on one line is bad practice"}, {"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 3, "creation_date": 1588685054, "post_id": 40386049, "comment_id": 108988409, "body": "The fact that Kotlin doesn&#39;t allow declaration of multiple <i>properties</i> on one line doesn&#39;t answer the question of whether declaration of multiple <i>variables</i> is allowed... unless someone supplies information showing that all variables in Kotlin are properties."}, {"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 1, "creation_date": 1588771767, "post_id": 40386049, "comment_id": 109026846, "body": "Thank you, this answer is much improved. +1"}], "tags": [], "owner": {"reputation": 2453, "user_id": 2679529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puE0s.jpg?s=128&g=1", "display_name": "marcelovca90", "link": "https://stackoverflow.com/users/2679529/marcelovca90"}, "is_accepted": true, "score": 74, "last_activity_date": 1588778742, "last_edit_date": 1588778742, "creation_date": 1478107408, "answer_id": 40386049, "question_id": 40385878, "link": "https://stackoverflow.com/questions/40385878/define-multiple-variables-at-once-in-kotlin-e-g-java-string-x-y-z/40386049#40386049", "title": "Define multiple variables at once in Kotlin (e.g Java : String x,y,z;)", "body": "<p>You can declare (and assign) multiple <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/declaring-variables.html\" rel=\"nofollow noreferrer\"><strong>variables</strong></a> in one line by using semicolons (<code>;</code>):</p>\n\n\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val number = 42; val message = \"Hello world!\";\n</code></pre>\n\n<p>You can also declare (and assign) multiple <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\"><strong>properties</strong></a> in the same line similarly:</p>\n\n\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Example {\n    var number = 42; var message = \"Hello world!\";\n}\n</code></pre>\n\n<p>A runnable example illustrating both insights that you can <a href=\"https://tio.run/##fVJPT8IwFL/vUzy5uClCQjyBmhhjomfjyRjz2B5Q7dql7VQ0fPb5WsrGDLpT2/f72/VNOylU0@QSrYXbTywrSfCdAH/jMRTEAyPUEspaOuFnldEVGSfIglCAYHnKx6xCgfWOBlRdzslM75WbhX1J1uKSpg/Oa82SnXyulXWmzp024FbooNSFWHhpt2InNFiSI8NbDVRWK7Tii8KMYQsypHKyQWxPKX3p7Ifw0vfOYjf/bWFwCZEAJzBph5Hmp3E5cvqx4uo3aCnNAnCTbJJkUSsoUagUzdJO4doYXF9s3a6yf6/SEBZnWsm1vySBc/n3ncou7flkFg66hIM7klLDhzayOBrMAmVnW7Gl865upS1L6pyprV1ABYhU6eDJ13getU4DOI222UHgXgJGxl3Wsxf8W5ADYMiACvT8lXLHq6KLJpzde1bHvl0ds/miTGGL@DbTbaBhz60LFlG/SrDC6HCRFt/v4gmtw6ZpfgA\" rel=\"nofollow noreferrer\" title=\"Kotlin \u2013 Try It Online\">try online at tio.run</a> (it also worked fine in my local environment using Kotlin version 1.1.2-5 (JRE 1.8.0_144-b01)):</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Example {\n    // declaring multiple properties in a single line\n    var number:Int; var message:String;\n\n    // constructor that modifies the parameters to emphasize the differences\n    constructor(_number:Int, _message:String) {\n        number = _number * 2\n        message = _message.toUpperCase()\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    // declaring multiple read-only variables in a single line\n    val number = 42; val message = \"Hello world!\";\n   &#32;\n    // printing those local variables\n    println(\"[main].number = \" + number)\n    println(\"[main].message = \" + message)\n   &#32;\n    // instantiating an object and printing its properties' values\n    val obj = Example(number,message)\n    println(\"[Example].number = \" + obj.number)\n    println(\"[Example].message = \" + obj.message)\n}\n</code></pre>\n\n<p>Execution output:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>[main].number = 42\n[main].message = Hello world!\n[Example].number = 84\n[Example].message = HELLO WORLD!\n</code></pre>\n\n<p>As a contradictory side note, in <a href=\"https://stackoverflow.com/questions/35036345/how-to-declare-several-properties-on-one-line\">this question and answer</a>, JetBrains' Engineer <a href=\"https://stackoverflow.com/users/147024/yole\"><em>yole</em></a> states that:</p>\n\n<blockquote>\n  <p>\"Declaring multiple properties on the same line is frowned upon by\n  many Java style guides, so we did not implement support for that in\n  Kotlin.\"</p>\n</blockquote>\n\n<p>Note that his answer is more than 4-years old, so there could have been changes since then.</p>\n"}, {"comments": [{"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1603291906, "post_id": 64104226, "comment_id": 113991870, "body": "This is taking advantage of <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">destructuring declarations</a>."}, {"owner": {"reputation": 51, "user_id": 4383678, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5szXcD4x_8E/AAAAAAAAAAI/AAAAAAAACtM/m9K6r5Vw3kw/photo.jpg?sz=128", "display_name": "Jamie Craane", "link": "https://stackoverflow.com/users/4383678/jamie-craane"}, "edited": false, "score": 1, "creation_date": 1604931989, "post_id": 64104226, "comment_id": 114490100, "body": "Indeed, and if you have only two varablkes you can use a Pair for this:  <code>val (a, b) = &quot;a&quot; to &quot;b&quot;</code>"}], "tags": [], "owner": {"reputation": 2243, "user_id": 3466808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pr9RU.jpg?s=128&g=1", "display_name": "Sam Chen", "link": "https://stackoverflow.com/users/3466808/sam-chen"}, "is_accepted": false, "score": 11, "last_activity_date": 1603291851, "last_edit_date": 1603291851, "creation_date": 1601303478, "answer_id": 64104226, "question_id": 40385878, "link": "https://stackoverflow.com/questions/40385878/define-multiple-variables-at-once-in-kotlin-e-g-java-string-x-y-z/64104226#64104226", "title": "Define multiple variables at once in Kotlin (e.g Java : String x,y,z;)", "body": "<p>Try this:</p>\n<pre><code>fun main() {\n    val (x, y, z) = listOf(1, true, &quot;Sam&quot;)    //can be &quot;arrayOf(), &quot;Pair()&quot; or other types\n    println(&quot;$x, $y, $z&quot;)\n}\n</code></pre>\n<p>Output\uff1a</p>\n<pre><code>1, true, Sam\n</code></pre>\n"}], "owner": {"reputation": 2892, "user_id": 1978013, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/fd980993188a54d04e3cf1f1cbf34110?s=128&d=identicon&r=PG", "display_name": "Seaskyways", "link": "https://stackoverflow.com/users/1978013/seaskyways"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33553, "favorite_count": 2, "accepted_answer_id": 40386049, "answer_count": 2, "score": 65, "last_activity_date": 1603291851, "creation_date": 1478106832, "last_edit_date": 1561052241, "question_id": 40385878, "link": "https://stackoverflow.com/questions/40385878/define-multiple-variables-at-once-in-kotlin-e-g-java-string-x-y-z", "title": "Define multiple variables at once in Kotlin (e.g Java : String x,y,z;)", "body": "<p>I was wondering if there is any way to define multiple variables in Kotlin at once like in Java and almost every other existing language in the world .</p>\n\n<p>like in Java :</p>\n\n<pre><code>String x = \"Hello World!\", y = null, z;\n</code></pre>\n"}, {"tags": ["interface", "static-methods", "abstract", "kotlin", "static-functions"], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 3719696, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OvKPb.jpg?s=128&g=1", "display_name": "cuddlecheek", "link": "https://stackoverflow.com/users/3719696/cuddlecheek"}, "edited": false, "score": 7, "creation_date": 1495906556, "post_id": 40373697, "comment_id": 75450237, "body": "But why? Why was it designed this way?"}, {"owner": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "edited": false, "score": 0, "creation_date": 1528599645, "post_id": 40373697, "comment_id": 88567128, "body": "How would I invoke <code>deserialize</code> assuming I adopt this model?"}, {"owner": {"reputation": 1308, "user_id": 4687402, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d49c97e25577cb2b8ccf2a1c7ef94415?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Basmaci", "link": "https://stackoverflow.com/users/4687402/benjamin-basmaci"}, "reply_to_user": {"reputation": 39364, "user_id": 3203487, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/642430374fe647174b3e8bc33cdfc049?s=128&d=identicon&r=PG&f=1", "display_name": "David Berry", "link": "https://stackoverflow.com/users/3203487/david-berry"}, "edited": false, "score": 0, "creation_date": 1555324402, "post_id": 40373697, "comment_id": 98057693, "body": "@DavidBerry Just like you would any static method in Java: C.deserialize()"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 16, "last_activity_date": 1478130053, "last_edit_date": 1495541394, "creation_date": 1478068079, "answer_id": 40373697, "question_id": 40370471, "link": "https://stackoverflow.com/questions/40370471/is-it-possible-to-specify-a-static-function-in-a-kotlin-interface/40373697#40373697", "title": "Is it possible to specify a static function in a Kotlin interface?", "body": "<p>Basically, nothing in a <code>companion object</code> can be <code>abstract</code> or <code>open</code> (and thus be overridden), and there's no way to require the implementations' <code>companion object</code>s to have a method or to define/require a constructor in an interface.</p>\n\n<p>A possible solution for you is to separate these two functions into two interfaces:</p>\n\n<pre><code>interface Serializable&lt;ToType&gt; {\n    fun serialize(): ToType\n}\n\ninterface Deserializer&lt;FromType, ToType&gt; {\n    fun deserialize(serialized: ToType): FromType\n}\n</code></pre>\n\n<p>This way, you will be able to implement the first interface in a class and make its <code>companion object</code> implement the other one:</p>\n\n<pre><code>class C: Serializable&lt;String&gt; {\n    override fun serialize(): String = \"...\"\n\n    companion object : Deserializer&lt;C, String&gt; {\n        override fun deserialize(serialized: String): C = C()\n    }\n}\n</code></pre>\n\n<p>Also, there's a severe limitation that <a href=\"https://stackoverflow.com/questions/35528261/any-way-to-inherit-from-same-generic-interface-twice-with-separate-types-in-ko/35528752\">only a single generic specialization of a type can be used as a supertype</a>, so this model of serializing through the interface implementation may turn out not scalable enough, not allowing multiple implementations with different <code>ToType</code>s.</p>\n"}, {"tags": [], "owner": {"reputation": 403, "user_id": 4083820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5a9a5f9469a566fe4a0574ef86101?s=128&d=identicon&r=PG&f=1", "display_name": "C.A.B.", "link": "https://stackoverflow.com/users/4083820/c-a-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1503953829, "creation_date": 1503953829, "answer_id": 45927262, "question_id": 40370471, "link": "https://stackoverflow.com/questions/40370471/is-it-possible-to-specify-a-static-function-in-a-kotlin-interface/45927262#45927262", "title": "Is it possible to specify a static function in a Kotlin interface?", "body": "<p>I am relatively new with Kotlin. Here are my 2\u00a2</p>\n\n<ol>\n<li><p>companion object is the instance of a class and as such cannot be inherited from. This is why abstract function won't have a place to be implemented.\nIn Java the similar result requires the anonymous class implementing abstract class, but is very different from overriding method for the instance of a class.</p></li>\n<li><p>Interface cannot be used to create instance, so there is no use for constructor in the interface.</p></li>\n</ol>\n\n<p>Why wouldn't you create generic abstract class? Then abstract or open function would work for both serialize(): ToType and deserialize(serialized: ToType): FromType functions.</p>\n"}], "owner": {"reputation": 25726, "user_id": 453435, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/SjPwA.jpg?s=128&g=1", "display_name": "Ben Leggiero", "link": "https://stackoverflow.com/users/453435/ben-leggiero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9194, "favorite_count": 4, "accepted_answer_id": 40373697, "answer_count": 2, "score": 18, "last_activity_date": 1503953829, "creation_date": 1478044941, "question_id": 40370471, "link": "https://stackoverflow.com/questions/40370471/is-it-possible-to-specify-a-static-function-in-a-kotlin-interface", "title": "Is it possible to specify a static function in a Kotlin interface?", "body": "<p>I want to do something like this:</p>\n\n<pre><code>interface Serializable&lt;FromType, ToType&gt; {\n    fun serialize(): ToType\n    companion object {\n        abstract fun deserialize(serialized: ToType): FromType\n    }\n}\n</code></pre>\n\n<p>or even this would work for me:</p>\n\n<pre><code>interface Serializable&lt;ToType&gt; {\n    fun serialize(): ToType\n    constructor(serialized: ToType)\n}\n</code></pre>\n\n<p>but neither compiles. <strong>Is there a syntax for this, or will I be forced to use make this an interface for a factory?</strong> <sub>Or is there another answer? \ud83d\ude2e That'd be neat!</sub></p>\n"}, {"tags": ["wildcard", "kotlin", "syntactic-sugar"], "answers": [{"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 6, "creation_date": 1478039451, "post_id": 40368987, "comment_id": 67992854, "body": "The feature was implemented and will be included in 1.1-M3."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 5, "last_activity_date": 1496421773, "last_edit_date": 1496421773, "creation_date": 1478035924, "answer_id": 40368987, "question_id": 40368834, "link": "https://stackoverflow.com/questions/40368834/kotlin-dont-care-in-desugaring-of-data-class/40368987#40368987", "title": "Kotlin - &quot;Don&#39;t care&quot; in desugaring of data class", "body": "<p>Unfortunately this isn't currently possible, <a href=\"https://blog.jetbrains.com/kotlin/2016/04/kotlin-post-1-0-roadmap/#comment-41992\" rel=\"nofollow noreferrer\">but according to Dmitry Jemerov</a>, the use of the underscore in this use case is planned for Kotlin 1.1.</p>\n\n<p><strong>Update</strong>: The example above does in fact work in Kotlin 1.1 when replacing one of the vals with underscore to indicate \"don't care\". Example:</p>\n\n<pre><code>fun desugarIt() {\n    val (useFoo, dontCare, _) = DesugarExample(1, 2, 3)\n}\n</code></pre>\n"}], "owner": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 40368987, "answer_count": 1, "score": 3, "last_activity_date": 1496421773, "creation_date": 1478035251, "question_id": 40368834, "link": "https://stackoverflow.com/questions/40368834/kotlin-dont-care-in-desugaring-of-data-class", "title": "Kotlin - &quot;Don&#39;t care&quot; in desugaring of data class", "body": "<p>Is it possible to mark \"don't cares\" in Kotlin? I have not been able to find the appropriate syntax, Haskell and Python use the <code>_</code> symbol but this does not work in Kotlin.</p>\n\n<p>Example,</p>\n\n<pre><code>data class DesugarExample(val foo: Int, val bar: Int, val baz: Int)\n\nfun desugarIt() {\n  val (useFoo, dontCare, useBaz) = DesugarExample(1, 2, 3)\n}\n</code></pre>\n"}, {"tags": ["android", "generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1478031275, "post_id": 40367233, "comment_id": 67989143, "body": "Updated the answer with another option you can try."}, {"owner": {"reputation": 610, "user_id": 4623824, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d00831d1fe891782e870c7c8cc3967ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Manuel Pineda Murcia", "link": "https://stackoverflow.com/users/4623824/victor-manuel-pineda-murcia"}, "edited": false, "score": 0, "creation_date": 1478031432, "post_id": 40367233, "comment_id": 67989226, "body": "Thanks you so much! The first option will do it!"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1478034960, "last_edit_date": 1478034960, "creation_date": 1478028291, "answer_id": 40367233, "question_id": 40366470, "link": "https://stackoverflow.com/questions/40366470/kotlin-generics-inheritance-headache/40367233#40367233", "title": "Kotlin generics inheritance headache", "body": "<p>When you override a <code>var</code> property, the compiler enforces that</p>\n\n<ul>\n<li><p>getting the value of the overridden property is type-safe: if the original property has type <code>S</code>, the overridden property should return instances of <code>S</code>, that is, its type should be <code>S</code> or its subtype (e.g. it's safe to return an <code>Int</code> when a <code>Number</code> is required);</p></li>\n<li><p>setting the value of the overridden property is type-safe: if the original property has type <code>S</code>, the overridden property should accept objects of <code>S</code> as its value, so its type should be <code>S</code> or some of its supertypes (e.g. if we need to store a <code>String</code>, storing it as <code>Any</code> would be OK)</p></li>\n</ul>\n\n<p>Given these two requirements, the only type that an overridden <code>var</code> property can have is the original property type itself, because its subtypes and supertypes will violate one of the above conditions. For example, the overridden property should still be able to store a <code>Builder&lt;T, *&gt;</code>, and specifying its type to <code>Builder&lt;T, Int&gt;</code> is not an option:</p>\n\n<pre><code>val s: Shape&lt;SomeType&gt; = Circle&lt;SomeType&gt;()\nval b: Builder&lt;SomeType, *&gt; = someBuilder\n\ns.builder = b // should be type-safe, but won't be with the override you want to do\n</code></pre>\n\n<p>So you simply cannot change the type of a <code>var</code> property when you override it, because, in terms of Kotlin generics, it's in both <code>in</code> and <code>out</code> positions.</p>\n\n<p>You can, however, try one of the following options:</p>\n\n<ul>\n<li><p>Change to a <code>val</code> property. In this case there's no second requirement, and you can change the type of the property to a subtype of the original property type:</p>\n\n<pre><code>abstract class Shape&lt;T: Any&gt;(){\n    abstract val builder: Builder&lt;T, *&gt;\n}\n\nclass Circle() : Shape&lt;String&gt;(){\n    override var builder: Builder&lt;String, Int&gt; = BuilderImpl() // OK\n}\n</code></pre></li>\n<li><p>Add a generic parameter and specify it in the subclass. In this case, you will be able to use <code>var</code>, because <code>Circle</code> will be a subtype of a specialization <code>Shape&lt;String, Int&gt;</code>, not the original type <code>Shape&lt;T, R&gt;</code>:</p>\n\n<pre><code>abstract class Shape&lt;T: Any, R: Any&gt;(){\n    abstract var builder: Builder&lt;T, R&gt;\n}\n\nclass Circle() : Shape&lt;String, Int&gt;(){\n    override var builder: Builder&lt;String, Int&gt; = BuilderImpl() // OK\n}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 610, "user_id": 4623824, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d00831d1fe891782e870c7c8cc3967ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Manuel Pineda Murcia", "link": "https://stackoverflow.com/users/4623824/victor-manuel-pineda-murcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "accepted_answer_id": 40367233, "answer_count": 1, "score": 4, "last_activity_date": 1478034960, "creation_date": 1478025462, "question_id": 40366470, "link": "https://stackoverflow.com/questions/40366470/kotlin-generics-inheritance-headache", "title": "Kotlin generics inheritance headache", "body": "<p>I'm new to Kotlin and I'm trying to compile this code without success (this is only a example of I want to do in a real project):</p>\n\n<pre><code>abstract class Builder&lt;T: Any, Y: Any&gt; \n\nclass BuilderImpl() : Builder&lt;String, Int&gt;()\n\nabstract class Shape&lt;T: Any&gt;(){\n     abstract var builder: Builder&lt;T, *&gt;\n}\n\nclass Circle() : Shape&lt;String&gt;(){\n     override var builder: Builder&lt;String, Int&gt; = BuilderImpl()\n}\n</code></pre>\n\n<p>I want to override builder property from Shape class in Circle class. Shape class only knows the first generic type from Builder class. The second one could be any type, so I use * for that.</p>\n\n<p>When I try to override builder property in Circle class, compiler complains with the message:</p>\n\n<pre><code>  \"Var-property type is 'Builder&lt;String, Int&gt;', which is not a type of overriden public abstract var builder: Builder&lt;String, *&gt;\".\n</code></pre>\n\n<p>I have also try with something like \"out Any\" instead of *, without success.</p>\n\n<p>I'm don't have any idea about how to get this code compiled. </p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1495649438, "post_id": 40352879, "comment_id": 75347826, "body": "Since <b>val</b> in Kotlin connotes read-only, wouldn&#39;t it suffice?"}], "answers": [{"comments": [{"owner": {"reputation": 2689, "user_id": 185498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77120c6ac145bba587b662a014dbdd4?s=128&d=identicon&r=PG", "display_name": "Manushin Igor", "link": "https://stackoverflow.com/users/185498/manushin-igor"}, "edited": false, "score": 0, "creation_date": 1495646827, "post_id": 40354557, "comment_id": 75346374, "body": "First example (with const field) can be used for attributes. Popular case: declare all web api paths in the single file and reference it from controllers with such code: &quot;@RequestMapping(path = arrayOf(WebPathConstants.MapApiPath))&quot; (Spring Boot attribute)"}, {"owner": {"reputation": 1486, "user_id": 5923973, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-hWLYePDKLNk/AAAAAAAAAAI/AAAAAAAAAMs/p-uWhdoLCFY/photo.jpg?sz=128", "display_name": "Leandro Ocampo", "link": "https://stackoverflow.com/users/5923973/leandro-ocampo"}, "edited": false, "score": 0, "creation_date": 1516391013, "post_id": 40354557, "comment_id": 83682996, "body": "Hi guys! Do you know if this @JvmField is still necessary? I am using this in android and it shows a lint warning saying that &quot;const&quot; can be used instead. I changed it to const and the java class that is using it does not have any problems."}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "reply_to_user": {"reputation": 1486, "user_id": 5923973, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-hWLYePDKLNk/AAAAAAAAAAI/AAAAAAAAAMs/p-uWhdoLCFY/photo.jpg?sz=128", "display_name": "Leandro Ocampo", "link": "https://stackoverflow.com/users/5923973/leandro-ocampo"}, "edited": false, "score": 1, "creation_date": 1516403316, "post_id": 40354557, "comment_id": 83688270, "body": "@LeandroOcampo it&#39;s still necessary in case if you have mutable static field, <code>const val</code> - compile time constant and for sure it can be used as replacement for <code>@JvmField val</code> in some cases. Through it doesn&#39;t work if value - calculated in runtime, or it not primitive type or String. Ref: <a href=\"http://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 231, "last_activity_date": 1477978550, "last_edit_date": 1477978550, "creation_date": 1477978007, "answer_id": 40354557, "question_id": 40352879, "link": "https://stackoverflow.com/questions/40352879/what-is-the-equivalent-of-java-static-final-fields-in-kotlin/40354557#40354557", "title": "What is the equivalent of Java static final fields in Kotlin?", "body": "<p>According Kotlin <a href=\"https://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"noreferrer\">documentation</a> this is equivalent:</p>\n\n<pre><code>class Hello {\n    companion object {\n        const val MAX_LEN = 20\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>fun main(srgs: Array&lt;String&gt;) {\n    println(Hello.MAX_LEN)\n}\n</code></pre>\n\n<p>Also this is static final property (field with getter):</p>\n\n<pre><code>class Hello {\n    companion object {\n        @JvmStatic val MAX_LEN = 20\n    }\n}\n</code></pre>\n\n<p>And finally this is static final field:</p>\n\n<pre><code>class Hello {\n    companion object {\n        @JvmField val MAX_LEN = 20\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1197, "user_id": 2144559, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2EQa9.jpg?s=128&g=1", "display_name": "rcorbellini", "link": "https://stackoverflow.com/users/2144559/rcorbellini"}, "edited": false, "score": 1, "creation_date": 1521481823, "post_id": 40354565, "comment_id": 85739613, "body": "the best answer"}], "tags": [], "owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "is_accepted": false, "score": 40, "last_activity_date": 1477978607, "last_edit_date": 1477978607, "creation_date": 1477978074, "answer_id": 40354565, "question_id": 40352879, "link": "https://stackoverflow.com/questions/40352879/what-is-the-equivalent-of-java-static-final-fields-in-kotlin/40354565#40354565", "title": "What is the equivalent of Java static final fields in Kotlin?", "body": "<p>if you have an implementation in <code>Hello</code>, use <code>companion object</code> inside a class</p>\n\n<pre><code>class Hello {\n  companion object {\n    val MAX_LEN = 1 + 1\n  }\n\n}\n</code></pre>\n\n<p>if <code>Hello</code> is a pure singleton object</p>\n\n<pre><code>object Hello {\n  val MAX_LEN = 1 + 1\n}\n</code></pre>\n\n<p>if the properties are compile-time constants, add a <a href=\"https://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"noreferrer\"><code>const</code></a> keyword</p>\n\n<pre><code>object Hello {\n  const val MAX_LEN = 20\n}\n</code></pre>\n\n<p>if you want to use it in Java, add <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-static/\" rel=\"noreferrer\"><code>@JvmStatic</code></a> annotation</p>\n\n<pre><code>object Hello {\n  @JvmStatic val MAX_LEN = 20\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1679, "user_id": 1033645, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4ac945bd3ac7aaf16caac5786c184022?s=128&d=identicon&r=PG", "display_name": "javaxian", "link": "https://stackoverflow.com/users/1033645/javaxian"}, "edited": false, "score": 3, "creation_date": 1524652071, "post_id": 48099849, "comment_id": 87055711, "body": "In the cases where you don&#39;t need the constant to be exposed outside the file (ie. java&#39;s <code>private</code>), this definition is the most concise."}], "tags": [], "owner": {"reputation": 1379, "user_id": 5848801, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dd74811f749786dff0618ba9d6f8b612?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Ludwig", "link": "https://stackoverflow.com/users/5848801/simon-ludwig"}, "is_accepted": false, "score": 10, "last_activity_date": 1612642740, "last_edit_date": 1612642740, "creation_date": 1515084358, "answer_id": 48099849, "question_id": 40352879, "link": "https://stackoverflow.com/questions/40352879/what-is-the-equivalent-of-java-static-final-fields-in-kotlin/48099849#48099849", "title": "What is the equivalent of Java static final fields in Kotlin?", "body": "<p>For me</p>\n<pre><code>object Hello {\n   const val MAX_LEN = 20\n}\n</code></pre>\n<p>was to much boilerplate. I simple put the static final fields above my class like this</p>\n<pre><code>private val MIN_LENGTH = 10 // &lt;-- The `private` scopes this variable to this file. Any class in the file has access to it.\n\nclass MyService{\n}\n</code></pre>\n"}], "owner": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61952, "favorite_count": 18, "accepted_answer_id": 40354557, "answer_count": 3, "score": 146, "last_activity_date": 1612642740, "creation_date": 1477963255, "last_edit_date": 1595587350, "question_id": 40352879, "link": "https://stackoverflow.com/questions/40352879/what-is-the-equivalent-of-java-static-final-fields-in-kotlin", "title": "What is the equivalent of Java static final fields in Kotlin?", "body": "<p>In Java, to declare a constant, you do something like:</p>\n<pre><code>class Hello {\n    public static final int MAX_LEN = 20;\n}\n</code></pre>\n<p>What is the equivalent in Kotlin?</p>\n"}, {"tags": ["java", "kotlin", "static"], "comments": [{"owner": {"reputation": 3908, "user_id": 1398841, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/s8gQQ.png?s=128&g=1", "display_name": "phoenix", "link": "https://stackoverflow.com/users/1398841/phoenix"}, "edited": false, "score": 9, "creation_date": 1518052028, "post_id": 40352684, "comment_id": 84350248, "body": "Use a <a href=\"https://kotlinlang.org/docs/reference/classes.html#companion-objects\" rel=\"nofollow noreferrer\">package-level function</a>."}, {"owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "edited": false, "score": 20, "creation_date": 1522766241, "post_id": 40352684, "comment_id": 86272748, "body": "<b>Be advised:</b> Kotlin has removed Java-style statics to encourage more maintainable (dare I say &#39;better&#39;) coding practices.  Static globals are generally against the OOP-paradigm but they can be quite convenient. Hence, Kotlin has provided us with <a href=\"https://kotlinlang.org/docs/reference/classes.html#companion-objects\" rel=\"nofollow noreferrer\">companions, a more OOP-friendly way of having statics.</a>"}, {"owner": {"reputation": 7649, "user_id": 208881, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bf3eafe58d6aba3dbab9d64307aeb6fb?s=128&d=identicon&r=PG", "display_name": "AFD", "link": "https://stackoverflow.com/users/208881/afd"}, "edited": false, "score": 0, "creation_date": 1563954059, "post_id": 40352684, "comment_id": 100867056, "body": "Kotlin is now preferred language for Android development, according to Google."}, {"owner": {"reputation": 622, "user_id": 4843155, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-UDOzw4iOdUE/AAAAAAAAAAI/AAAAAAAAADw/CiJCP9PE_zg/photo.jpg?sz=128", "display_name": "Torben G", "link": "https://stackoverflow.com/users/4843155/torben-g"}, "reply_to_user": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "edited": false, "score": 2, "creation_date": 1583855475, "post_id": 40352684, "comment_id": 107249773, "body": "@NicholasMiller why is it more OOP-friendly? I think it is easier to read and write without the recurring note of static (boilerplate). Or is there another good reason?"}, {"owner": {"reputation": 45645, "user_id": 1056563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bc888aa658ab0e0d2a4d305ad7f69123?s=128&d=identicon&r=PG", "display_name": "StephenBoesch", "link": "https://stackoverflow.com/users/1056563/stephenboesch"}, "edited": false, "score": 0, "creation_date": 1593534945, "post_id": 40352684, "comment_id": 110813411, "body": "At first glance this looks to be precisely the companion class of Scala. That follows my impression: <code>kotlin</code> is a simpler <i>scala</i> . This is good."}], "answers": [{"comments": [{"owner": {"reputation": 22572, "user_id": 926907, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gZVb2.jpg?s=128&g=1", "display_name": "Dmitry Zaytsev", "link": "https://stackoverflow.com/users/926907/dmitry-zaytsev"}, "edited": false, "score": 4, "creation_date": 1489741684, "post_id": 40352734, "comment_id": 72813228, "body": "In Kotlin it will be <code>fun a(): Int { return 1 }</code> or even <code>fun a(): Int = 1</code>"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 22572, "user_id": 926907, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gZVb2.jpg?s=128&g=1", "display_name": "Dmitry Zaytsev", "link": "https://stackoverflow.com/users/926907/dmitry-zaytsev"}, "edited": false, "score": 6, "creation_date": 1501831599, "post_id": 40352734, "comment_id": 77962076, "body": "@DmitryZaitsev <i>or</i> even <code>fun a() = 1</code>."}, {"owner": {"reputation": 447, "user_id": 4037411, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-hZizbpJJvHw/AAAAAAAAAAI/AAAAAAAAAHE/5QQc1799fSM/photo.jpg?sz=128", "display_name": "Bagus Aji Santoso", "link": "https://stackoverflow.com/users/4037411/bagus-aji-santoso"}, "edited": false, "score": 0, "creation_date": 1503548742, "post_id": 40352734, "comment_id": 78663775, "body": "What do Factory mean?"}, {"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "reply_to_user": {"reputation": 447, "user_id": 4037411, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-hZizbpJJvHw/AAAAAAAAAAI/AAAAAAAAAHE/5QQc1799fSM/photo.jpg?sz=128", "display_name": "Bagus Aji Santoso", "link": "https://stackoverflow.com/users/4037411/bagus-aji-santoso"}, "edited": false, "score": 0, "creation_date": 1503551982, "post_id": 40352734, "comment_id": 78664768, "body": "@BagusAjiSantoso <code>Factory</code> is the <i>name</i> of the companion object - but what can that be used for? I have no idea, but I was interested so I created a question dedicated to that: <a href=\"https://stackoverflow.com/q/45853459/221955\">stackoverflow.com/q/45853459/221955</a>."}, {"owner": {"reputation": 553, "user_id": 1151701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8293573a315ac185e6375c501ad53baf?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Mehrpour", "link": "https://stackoverflow.com/users/1151701/ali-mehrpour"}, "edited": false, "score": 0, "creation_date": 1505037786, "post_id": 40352734, "comment_id": 79240729, "body": "@MichaelAnderson how about static methods which return generic type T?"}, {"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "reply_to_user": {"reputation": 553, "user_id": 1151701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8293573a315ac185e6375c501ad53baf?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Mehrpour", "link": "https://stackoverflow.com/users/1151701/ali-mehrpour"}, "edited": false, "score": 0, "creation_date": 1505092724, "post_id": 40352734, "comment_id": 79255875, "body": "@AliMehrpour As far as I can tell there is no difference needed for functions returning a value of generic type. Did you have a particular issue in mind?"}, {"owner": {"reputation": 553, "user_id": 1151701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8293573a315ac185e6375c501ad53baf?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Mehrpour", "link": "https://stackoverflow.com/users/1151701/ali-mehrpour"}, "edited": false, "score": 0, "creation_date": 1505446144, "post_id": 40352734, "comment_id": 79426073, "body": "@MichaelAnderson Yeah, you are right. there is no difference. I figured it out. thanks for the response."}, {"owner": {"reputation": 332, "user_id": 1084126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erfbb.jpg?s=128&g=1", "display_name": "Yajairo87", "link": "https://stackoverflow.com/users/1084126/yajairo87"}, "edited": false, "score": 0, "creation_date": 1509379212, "post_id": 40352734, "comment_id": 80985673, "body": "Why not just defining an object Class type and call the methods just like this?  <code>object Foo {      fun a() : Int = 1 }</code> As far as I know, the difference here is that with object you are defining a Singleton, thus I don&#39;t see any matter to use it.  <code>Foo.ad()</code>"}, {"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "reply_to_user": {"reputation": 332, "user_id": 1084126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erfbb.jpg?s=128&g=1", "display_name": "Yajairo87", "link": "https://stackoverflow.com/users/1084126/yajairo87"}, "edited": false, "score": 0, "creation_date": 1509411000, "post_id": 40352734, "comment_id": 80999815, "body": "@Yajairo87 Using the companion object rather than a dedicated singleton top level object, provides clearer separation since I believe the visibility rules are different."}, {"owner": {"reputation": 332, "user_id": 1084126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erfbb.jpg?s=128&g=1", "display_name": "Yajairo87", "link": "https://stackoverflow.com/users/1084126/yajairo87"}, "edited": false, "score": 0, "creation_date": 1509469361, "post_id": 40352734, "comment_id": 81028245, "body": "@MichaelAnderson I didn&#39;t understand about that visibility rules you mentioned. Could you give more detail, please?"}, {"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "reply_to_user": {"reputation": 332, "user_id": 1084126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erfbb.jpg?s=128&g=1", "display_name": "Yajairo87", "link": "https://stackoverflow.com/users/1084126/yajairo87"}, "edited": false, "score": 2, "creation_date": 1509496301, "post_id": 40352734, "comment_id": 81040251, "body": "@Yajairo87 I think what you&#39;re asking is too much to cover in a comment here - so I&#39;ve created a question addressing it directly : <a href=\"https://stackoverflow.com/questions/47046474/what-are-the-advantages-of-a-companion-object-over-a-plain-object\" title=\"what are the advantages of a companion object over a plain object\">stackoverflow.com/questions/47046474/&hellip;</a>"}, {"owner": {"reputation": 401, "user_id": 2787886, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5a5d159905fc98892b01ce0bde811ace?s=128&d=identicon&r=PG&f=1", "display_name": "spyro", "link": "https://stackoverflow.com/users/2787886/spyro"}, "edited": false, "score": 0, "creation_date": 1599152198, "post_id": 40352734, "comment_id": 112692676, "body": "IHMO this is one of the few really ugly things about Kotlin where Java is just way more simple to write and read. Feels just - wrong.  I made multiple Kotlin trainings now and all of my students are just confused about that every single times. The only things more worse are the current implementation of coroutines (vs. dead-simple async/await in C#)"}, {"owner": {"reputation": 3321, "user_id": 2323964, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e348b1e9034b66bcd141fe0e65eacb83?s=128&d=identicon&r=PG&f=1", "display_name": "Novaterata", "link": "https://stackoverflow.com/users/2323964/novaterata"}, "edited": false, "score": 0, "creation_date": 1618231801, "post_id": 40352734, "comment_id": 118531977, "body": "If this is the accepted answer, it really should go over singleton <code>object</code> and varaibles/functions that are outside of classes. In Java there are only 2 paradigms for the concept, static and Enum, in Kotlin there are many that are each more appropriate for certain situations. Also, Interface support on Enum and objects vs no Interface for static."}, {"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "reply_to_user": {"reputation": 3321, "user_id": 2323964, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e348b1e9034b66bcd141fe0e65eacb83?s=128&d=identicon&r=PG&f=1", "display_name": "Novaterata", "link": "https://stackoverflow.com/users/2323964/novaterata"}, "edited": false, "score": 1, "creation_date": 1618272286, "post_id": 40352734, "comment_id": 118547119, "body": "@Novaterata there is a great answer by Pablo Baxter much lower in these that covers some of those other options in quite a bit of depth. (<a href=\"https://stackoverflow.com/a/54975004/221955\">stackoverflow.com/a/54975004/221955</a>) And a similar answer by Yogesh Umesh Vaity (<a href=\"https://stackoverflow.com/a/66175395/221955\">stackoverflow.com/a/66175395/221955</a>). As you say it would be nice to include some of that information here. If they are missing some other option that you are aware of, let me know and I&#39;ll add it here."}], "tags": [], "owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "is_accepted": true, "score": 1085, "last_activity_date": 1527787937, "last_edit_date": 1527787937, "creation_date": 1477962006, "answer_id": 40352734, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/40352734#40352734", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>You place the function in the \"companion object\".</p>\n\n<p>So the java code like this:</p>\n\n<pre><code>class Foo {\n  public static int a() { return 1; }\n}\n</code></pre>\n\n<p>will become</p>\n\n<pre><code>class Foo {\n  companion object {\n     fun a() : Int = 1\n  }\n}\n</code></pre>\n\n<p>You can then use it from inside Kotlin code as </p>\n\n<pre><code>Foo.a();\n</code></pre>\n\n<p>But from within Java code, you would need to call it as</p>\n\n<pre><code>Foo.Companion.a();\n</code></pre>\n\n<p>(Which also works from within Kotlin.)</p>\n\n<p>If you don't like having to specify the <code>Companion</code> bit you can either add a <code>@JvmStatic</code> annotation or name your companion class.</p>\n\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <h1>Companion Objects</h1>\n  \n  <p>An object declaration inside a class can be marked with the companion \n  keyword:</p>\n\n<pre><code>class MyClass {\n   companion object Factory {\n       fun create(): MyClass = MyClass()\n   }\n}\n</code></pre>\n  \n  <p>Members of the companion object can be called by using simply the class \n  name as the qualifier:</p>\n\n<pre><code>val instance = MyClass.create()\n</code></pre>\n  \n  <p>...</p>\n  \n  <p>However, on the JVM you can have members of companion objects generated \n  as real static methods and fields, if you use the <code>@JvmStatic</code>\n  annotation.  See the Java interoperability section for more details.</p>\n</blockquote>\n\n<p>Adding the <code>@JvmStatic</code> annotation looks like this</p>\n\n<pre><code>class Foo {\n  companion object {\n    @JvmStatic\n    fun a() : Int = 1;\n  }\n}\n</code></pre>\n\n<p>and then it will exist as a real Java static function, accessible from\nboth Java and Kotlin as <code>Foo.a()</code>. </p>\n\n<p>If it is just disliked for the <code>Companion</code> name, then you can also \nprovide an explicit name for the companion object looks like this:</p>\n\n<pre><code>class Foo {\n  companion object Blah {\n    fun a() : Int = 1;\n  }\n}\n</code></pre>\n\n<p>which will let you call it from Kotlin in the same way, but\nfrom java like <code>Foo.Blah.a()</code> (which will also work in Kotlin). </p>\n"}, {"comments": [{"owner": {"reputation": 335, "user_id": 5367403, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dcb15d926a4b227fbac45384a54c4fe7?s=128&d=identicon&r=PG&f=1", "display_name": "Sudarshan", "link": "https://stackoverflow.com/users/5367403/sudarshan"}, "edited": false, "score": 0, "creation_date": 1498047911, "post_id": 44156017, "comment_id": 76336062, "body": "If i m trying to initialize in some other class its gives java.lang.ExceptionInInitializerError  and I m using var instead of val"}, {"owner": {"reputation": 494, "user_id": 3703516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/MEEub.jpg?s=128&g=1", "display_name": "Raeglan", "link": "https://stackoverflow.com/users/3703516/raeglan"}, "edited": false, "score": 4, "creation_date": 1518783457, "post_id": 44156017, "comment_id": 84656729, "body": "Method calls need to have the <code>INSTANCE</code> keyword, like this: <code>Foo.INSTANCE.sayFoo()</code>"}, {"owner": {"reputation": 7925, "user_id": 890890, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1b39f1212150baa3fe09fe12d7314d6?s=128&d=identicon&r=PG", "display_name": "fabriciorissetto", "link": "https://stackoverflow.com/users/890890/fabriciorissetto"}, "edited": false, "score": 0, "creation_date": 1532369312, "post_id": 44156017, "comment_id": 89938641, "body": "I think this solution is the prefered way if you want a <code>static CLASS</code> not just <code>static methdos</code>. Because with companion objects you still can instantiate the parent class."}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1569847862, "post_id": 44156017, "comment_id": 102717819, "body": "<code>val</code> is not static it&#39;s equivalent of <code>static final</code> in Java"}], "tags": [], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "is_accepted": false, "score": 41, "last_activity_date": 1568220234, "last_edit_date": 1568220234, "creation_date": 1495622512, "answer_id": 44156017, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/44156017#44156017", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p><strong>A. Old Java Way :</strong></p>\n\n<ol>\n<li><p>Declare a <code>companion object</code> to enclose a static <strong>method / variable</strong></p>\n\n<pre><code>class Foo{\ncompanion object {\n    fun foo() = println(\"Foo\")\n    val bar =\"bar\"  \n    }\n}\n</code></pre></li>\n<li><p>Use : </p>\n\n<pre><code>Foo.foo()        // Outputs Foo    \nprintln(Foo.bar) // Outputs bar\n</code></pre></li>\n</ol>\n\n<hr>\n\n<hr>\n\n<p><strong>B. New Kotlin way</strong></p>\n\n<ol>\n<li><p>Declare directly on file <strong>without class</strong> on a <code>.kt</code> file.</p>\n\n<pre><code>fun foo() = println(\"Foo\")\nval bar =\"bar\"\n</code></pre></li>\n<li><p>Use  the <code>methods/variables</code> with their <strong>names</strong>. (<strong>After importing them</strong>)</p>\n\n<p>Use :</p>\n\n<pre><code>foo()        // Outputs Foo          \nprintln(bar) // Outputs bar     \n</code></pre></li>\n</ol>\n\n<hr>\n"}, {"comments": [{"owner": {"reputation": 925, "user_id": 6243347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bjcXEoVtdGs/AAAAAAAAAAI/AAAAAAAABGQ/u8xNvatZnVM/photo.jpg?sz=128", "display_name": "Mitchell Tracy", "link": "https://stackoverflow.com/users/6243347/mitchell-tracy"}, "edited": false, "score": 8, "creation_date": 1512745183, "post_id": 44749988, "comment_id": 82393957, "body": "Note that under the hood these &quot;top-level&quot; or &quot;package&quot; functions are actually compiled into their own class. In the above example, the compiler would create a <code>class FooPackage</code> with all of the top-level properties and functions, and route all of your references to them appropriately. <a href=\"https://blog.jetbrains.com/kotlin/2015/06/improving-java-interop-top-level-functions-and-properties/\" rel=\"nofollow noreferrer\">More info from jetbrains.</a>"}, {"owner": {"reputation": 3908, "user_id": 1398841, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/s8gQQ.png?s=128&g=1", "display_name": "phoenix", "link": "https://stackoverflow.com/users/1398841/phoenix"}, "edited": false, "score": 39, "creation_date": 1518051995, "post_id": 44749988, "comment_id": 84350238, "body": "+1 For explaining how to do the equivalent right <b>in Kotlin</b> rather than just the mirror equivalent from Java."}, {"owner": {"reputation": 312, "user_id": 1295564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6503a8d065090ef83d39895e0012801b?s=128&d=identicon&r=PG", "display_name": "Osama Shabrez", "link": "https://stackoverflow.com/users/1295564/osama-shabrez"}, "edited": false, "score": 2, "creation_date": 1562852662, "post_id": 44749988, "comment_id": 100515950, "body": "This should be the accepted answer or a mod should update the accepted answer to contain package level functions"}, {"owner": {"reputation": 935, "user_id": 8209253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqmrX.jpg?s=128&g=1", "display_name": "A Droid", "link": "https://stackoverflow.com/users/8209253/a-droid"}, "reply_to_user": {"reputation": 925, "user_id": 6243347, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bjcXEoVtdGs/AAAAAAAAAAI/AAAAAAAABGQ/u8xNvatZnVM/photo.jpg?sz=128", "display_name": "Mitchell Tracy", "link": "https://stackoverflow.com/users/6243347/mitchell-tracy"}, "edited": false, "score": 0, "creation_date": 1573425025, "post_id": 44749988, "comment_id": 103868656, "body": "@MitchellTracy Excellent bit of info! Thanks."}, {"owner": {"reputation": 3342, "user_id": 503743, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c07d7b6ab3236dca38c1b1319534cb3a?s=128&d=identicon&r=PG", "display_name": "Mariano Ruiz", "link": "https://stackoverflow.com/users/503743/mariano-ruiz"}, "edited": false, "score": 1, "creation_date": 1579263710, "post_id": 44749988, "comment_id": 105717262, "body": "This is the better solution so far. Just wanted to clarify that where you define the function <code>bar()</code> doesn&#39;t matter the file name, you can name it <code>BarUtils.kt</code> or whatever, then as the text says you will import it with with <code>import &lt;package name&gt;.bar</code>"}], "tags": [], "owner": {"reputation": 1981, "user_id": 8212908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a8cf9005ece4dfcb51f413dc4aaf2e?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik F.", "link": "https://stackoverflow.com/users/8212908/henrik-f"}, "is_accepted": false, "score": 186, "last_activity_date": 1581694902, "last_edit_date": 1581694902, "creation_date": 1498420163, "answer_id": 44749988, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/44749988#44749988", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/classes.html#companion-objects\" rel=\"noreferrer\">Docs</a> recommends to solve most of the needs for static functions with <strong>package-level functions</strong>. They are simply declared outside a class in a source code file. The package of a file can be specified at the beginning of a file with the package keyword.</p>\n\n<p><strong>Declaration</strong></p>\n\n<pre><code>package foo\n\nfun bar() = {}\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>import foo.bar\n</code></pre>\n\n<p><strong>Alternatively</strong></p>\n\n<pre><code>import foo.*\n</code></pre>\n\n<p>You can now call the function with:</p>\n\n<pre><code>bar()\n</code></pre>\n\n<p>or if you do not use the import keyword:</p>\n\n<pre><code>foo.bar()\n</code></pre>\n\n<p>If you do not specify the package the function will be accessible from the root.</p>\n\n<p>If you only have experience with java, this might seem a little strange. The reason is that kotlin is not a strictly object-oriented language. You could say it supports methods outside of classes.</p>\n\n<p>Edit: \nThey have edited the documentation to no longer include the sentence about recommending package level functions. <a href=\"https://web.archive.org/web/20170621203530/https://kotlinlang.org/docs/reference/classes.html#companion-objects\" rel=\"noreferrer\">This</a> is the original that was referred to above. </p>\n"}, {"comments": [{"owner": {"reputation": 804, "user_id": 4012266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B4vUc.jpg?s=128&g=1", "display_name": "CmosBattery", "link": "https://stackoverflow.com/users/4012266/cmosbattery"}, "edited": false, "score": 7, "creation_date": 1510673414, "post_id": 46452261, "comment_id": 81529463, "body": "You forgot &quot;Kotlin (ugly)&quot; ... KOTLIN: companion object { val handler = object : Handler(Looper.getMainLooper()) {] ..... JAVA: static Handler handler = new Handler(Looper.getMainLooper()) {};"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1506527638, "creation_date": 1506527638, "answer_id": 46452261, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/46452261#46452261", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>Write them directly to files.</p>\n\n<p>In Java (ugly):</p>\n\n<pre><code>package xxx;\nclass XxxUtils {\n  public static final Yyy xxx(Xxx xxx) { return xxx.xxx(); }\n}\n</code></pre>\n\n<p>In Kotlin:</p>\n\n<pre><code>@file:JvmName(\"XxxUtils\")\npackage xxx\nfun xxx(xxx: Xxx): Yyy = xxx.xxx()\n</code></pre>\n\n<p>Those two pieces of codes are equaled after compilation (even the compiled file name, the <code>file:JvmName</code> is used to control the compiled file name, which should be put just before the package name declaration).</p>\n"}, {"tags": [], "owner": {"reputation": 1545, "user_id": 5601016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mgp8d.jpg?s=128&g=1", "display_name": "Rajesh Dalsaniya", "link": "https://stackoverflow.com/users/5601016/rajesh-dalsaniya"}, "is_accepted": false, "score": 4, "last_activity_date": 1506533206, "creation_date": 1506533206, "answer_id": 46453863, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/46453863#46453863", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>You need to pass companion object for static method because kotlin don\u2019t have static keyword - Members of the companion object can be called by using simply the class name as the qualifier:</p>\n\n<pre><code>package xxx\n    class ClassName {\n              companion object {\n                       fun helloWord(str: String): String {\n                            return stringValue\n                      }\n              }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 1038018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e0f9581058a6c20090b9f9d34190793?s=128&d=identicon&r=PG", "display_name": "Manuel Rego", "link": "https://stackoverflow.com/users/1038018/manuel-rego"}, "edited": false, "score": 0, "creation_date": 1617729143, "post_id": 47524897, "comment_id": 118384362, "body": "this was what I was looking for, thanks :D"}], "tags": [], "owner": {"reputation": 641, "user_id": 7957325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ud8G6.jpg?s=128&g=1", "display_name": "Asharali V U", "link": "https://stackoverflow.com/users/7957325/asharali-v-u"}, "is_accepted": false, "score": 29, "last_activity_date": 1559250847, "last_edit_date": 1559250847, "creation_date": 1511848808, "answer_id": 47524897, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/47524897#47524897", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>Use <strong>object</strong> to represent val/var/method to make static. You can use object instead of singleton class also. You can use <strong>companion</strong> if you wanted to make static inside of a class</p>\n\n<pre><code>object Abc{\n     fun sum(a: Int, b: Int): Int = a + b\n    }\n</code></pre>\n\n<p>If you need to call it from Java:</p>\n\n<pre><code>int z = Abc.INSTANCE.sum(x,y);\n</code></pre>\n\n<p>In Kotlin, ignore INSTANCE.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6382158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2b82563ca8546f51dfdcede09fd385a?s=128&d=identicon&r=PG&f=1", "display_name": "yasincidem", "link": "https://stackoverflow.com/users/6382158/yasincidem"}, "is_accepted": false, "score": 2, "last_activity_date": 1516532986, "creation_date": 1516532986, "answer_id": 48366140, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/48366140#48366140", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>Simply you need to create a companion object and put the function in it</p>\n\n<pre><code>  class UtilClass {\n        companion object {\n  //        @JvmStatic\n            fun repeatIt5Times(str: String): String = str.repeat(5)\n        }\n    }\n</code></pre>\n\n<hr>\n\n<p>To invoke the method from a kotlin class:</p>\n\n<pre><code>class KotlinClass{\n  fun main(args : Array&lt;String&gt;) { \n    UtilClass.repeatIt5Times(\"Hello\")\n  }\n}\n</code></pre>\n\n<p>or Using import</p>\n\n<pre><code>import Packagename.UtilClass.Companion.repeatIt5Times\nclass KotlinClass{\n  fun main(args : Array&lt;String&gt;) { \n     repeatIt5Times(\"Hello\")\n  }\n}\n</code></pre>\n\n<hr>\n\n<p>To invoke the method from a java class:</p>\n\n<pre><code> class JavaClass{\n    public static void main(String [] args){\n       UtilClass.Companion.repeatIt5Times(\"Hello\");\n    }\n }\n</code></pre>\n\n<p>or by adding @JvmStatic annotation to the method</p>\n\n<pre><code>class JavaClass{\n   public static void main(String [] args){\n     UtilClass.repeatIt5Times(\"Hello\")\n   }\n}\n</code></pre>\n\n<p>or both by adding @JvmStatic annotation to the method and making static import in java </p>\n\n<pre><code>import static Packagename.UtilClass.repeatIt5Times\nclass JavaClass{\n   public static void main(String [] args){\n     repeatIt5Times(\"Hello\")\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1861, "user_id": 3017473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m88R3.jpg?s=128&g=1", "display_name": "Shohel Rana", "link": "https://stackoverflow.com/users/3017473/shohel-rana"}, "is_accepted": false, "score": 1, "last_activity_date": 1615701903, "last_edit_date": 1615701903, "creation_date": 1516539360, "answer_id": 48366995, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/48366995#48366995", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>Kotlin has no any static keyword. You can use below code for Java and Kotlin</p>\n<pre><code> object AppHelper {\n    @JvmStatic\n    fun getAge() : Int = 30\n}\n</code></pre>\n<p>Call for Java Class</p>\n<pre><code>AppHelper.getAge();\n</code></pre>\n<p>Call for Kotlin Class</p>\n<pre><code>AppHelper.getAge()\n</code></pre>\n<p>Its work perfectly for me. Thanks</p>\n"}, {"tags": [], "owner": {"reputation": 4887, "user_id": 371720, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/D2Rdd.png?s=128&g=1", "display_name": "Shihab Uddin", "link": "https://stackoverflow.com/users/371720/shihab-uddin"}, "is_accepted": false, "score": 0, "last_activity_date": 1556097070, "last_edit_date": 1556097070, "creation_date": 1518513522, "answer_id": 48763248, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/48763248#48763248", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>Let, you have a class <strong>Student</strong>. And you have one <strong>static</strong> method <strong>getUniversityName()</strong> &amp; one <strong>static</strong> field called <strong>totalStudent</strong>. </p>\n\n<p>You should declare <strong>companion object</strong> block inside your class. </p>\n\n<pre><code>companion object {\n // define static method &amp; field here.\n}\n</code></pre>\n\n<p>Then your class looks like</p>\n\n<pre><code>    class Student(var name: String, var city: String, var rollNumber: Double = 0.0) {\n\n    // use companion object structure\n    companion object {\n\n        // below method will work as static method\n        fun getUniversityName(): String = \"MBSTU\"\n\n        // below field will work as static field\n        var totalStudent = 30\n    }\n}\n</code></pre>\n\n<p>Then you can use those static method and fields like this way.</p>\n\n<pre><code>println(\"University : \" + Student.getUniversityName() + \", Total Student: \" + Student.totalStudent)\n    // Output:\n    // University : MBSTU, Total Student: 30\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4360, "user_id": 1868841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ADiwD.jpg?s=128&g=1", "display_name": "Waqar UlHaq", "link": "https://stackoverflow.com/users/1868841/waqar-ulhaq"}, "is_accepted": false, "score": 0, "last_activity_date": 1525330061, "creation_date": 1525330061, "answer_id": 50148572, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/50148572#50148572", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>You can achieve the static functionality in Kotlin by <strong>Companion Objects</strong></p>\n\n<ul>\n<li>Adding <strong>companion</strong> to the object declaration allows for adding the\n<strong>static</strong> functionality to an object even though the actual static\nconcept does not exist in Kotlin. </li>\n<li>A <strong>companion object</strong> can access all members of the class too, including the private constructors. </li>\n<li>A <strong>companion object</strong> is initialized when the class is instantiated. </li>\n<li><p>A <strong>companion object</strong> cannot be declared outside the class.</p>\n\n<pre><code>class MyClass{\n\n    companion object {\n\n        val staticField = \"This is an example of static field Object Decleration\"\n\n        fun getStaticFunction(): String {\n            return \"This is example of static function for Object Decleration\"\n        }\n\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>Members of the companion object can be called by using simply the class name as the qualifier:</p>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>MyClass.staticField // This is an example of static field Object Decleration\n\nMyClass.getStaticFunction() : // This is an example of static function for Object Decleration\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 307, "user_id": 2245229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Exp8g.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/2245229/rahul"}, "is_accepted": false, "score": -2, "last_activity_date": 1528892840, "creation_date": 1528892840, "answer_id": 50837279, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/50837279#50837279", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>All static member and function should be inside companion block </p>\n\n<pre><code>  companion object {\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n    }\n\n    fun staticMethod() {\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9365, "user_id": 398715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8087be6cdff4dd55e9d804d03528b7e6?s=128&d=identicon&r=PG", "display_name": "Samuel", "link": "https://stackoverflow.com/users/398715/samuel"}, "is_accepted": false, "score": 15, "last_activity_date": 1530668431, "creation_date": 1530668431, "answer_id": 51164729, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/51164729#51164729", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>This also worked for me</p>\n\n<pre><code>object Bell {\n    @JvmStatic\n    fun ring() { }\n}\n</code></pre>\n\n<p>from Kotlin</p>\n\n<pre><code>Bell.ring()\n</code></pre>\n\n<p>from Java</p>\n\n<pre><code>Bell.ring()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 5412569, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uzBqq-Mn39k/AAAAAAAAAAI/AAAAAAAACmI/oFj2sY5HYSk/photo.jpg?sz=128", "display_name": "SVB-knowmywork", "link": "https://stackoverflow.com/users/5412569/svb-knowmywork"}, "is_accepted": false, "score": 2, "last_activity_date": 1531371166, "creation_date": 1531371166, "answer_id": 51297515, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/51297515#51297515", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>I would like to add something to above answers.</p>\n\n<p>Yes, you can define functions in source code files(outside class). But it is better if you define static functions inside class using <strong>Companion Object</strong> because you can add more static functions by leveraging the <strong>Kotlin Extensions</strong>.</p>\n\n<pre><code>class MyClass {\n    companion object { \n        //define static functions here\n    } \n}\n\n//Adding new static function\nfun MyClass.Companion.newStaticFunction() {\n    // ...\n}\n</code></pre>\n\n<p>And you can call above defined function as you will call any function inside Companion Object.</p>\n"}, {"comments": [{"owner": {"reputation": 8699, "user_id": 3519009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rHxtF.jpg?s=128&g=1", "display_name": "Narendra Jadhav", "link": "https://stackoverflow.com/users/3519009/narendra-jadhav"}, "edited": false, "score": 7, "creation_date": 1531981014, "post_id": 51415283, "comment_id": 89802232, "body": "While this code snippet may be the solution, <a href=\"https://meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}], "tags": [], "owner": {"reputation": 252, "user_id": 10087711, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dVZmRJJMnlw/AAAAAAAAAAI/AAAAAAAAADE/UiKb0Oef9X8/photo.jpg?sz=128", "display_name": "Umesh Maharjan", "link": "https://stackoverflow.com/users/10087711/umesh-maharjan"}, "is_accepted": false, "score": 8, "last_activity_date": 1531979708, "creation_date": 1531979708, "answer_id": 51415283, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/51415283#51415283", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<pre><code>object objectName {\n    fun funName() {\n\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7714, "user_id": 1080355, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3915b3b0af17096bba7ac8cec330138d?s=128&d=identicon&r=PG", "display_name": "VSB", "link": "https://stackoverflow.com/users/1080355/vsb"}, "edited": false, "score": 0, "creation_date": 1540650212, "post_id": 52033259, "comment_id": 92947830, "body": "For first usage (i.e. <code>Test.Companion.isCheck(2)</code>) IDE shows warnings and say <code>Companion reference is redundant</code>. It can be reduced to <code>Test.isCheck(2)</code> and the reduced form is more close to java equivalent."}], "tags": [], "owner": {"reputation": 480, "user_id": 8793928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e4a87116ee745bf8fa001a6c4bf2523?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/8793928/android-geek"}, "is_accepted": false, "score": 3, "last_activity_date": 1535349242, "creation_date": 1535349242, "answer_id": 52033259, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/52033259#52033259", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>There are 2 ways you can apply static in Kotlin</p>\n\n<p>First make a companion object under class</p>\n\n<p>For ex: </p>\n\n<pre><code>class Test{\n    companion object{\n          fun isCheck(a:Int):Boolean{\n             if(a==0) true else false\n          }\n     }\n}\n</code></pre>\n\n<p>you can call this function as</p>\n\n<pre><code>Test.Companion.isCheck(2)\n</code></pre>\n\n<p>Another way we can use is to make an object class</p>\n\n<pre><code>object Test{\n       fun isCheck(a:Int):Boolean{\n            if(a==0) true else false\n       }\n}\n</code></pre>\n\n<p>Happy Coding!</p>\n"}, {"tags": [], "owner": {"reputation": 216, "user_id": 7849042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYkf5.png?s=128&g=1", "display_name": "Zafar Hussain", "link": "https://stackoverflow.com/users/7849042/zafar-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1539102191, "last_edit_date": 1539102191, "creation_date": 1537771067, "answer_id": 52473840, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/52473840#52473840", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>Use <code>@JVMStatic</code> Annotation</p>\n\n<pre><code>companion object {\n\n    // TODO: Rename and change types and number of parameters\n    @JvmStatic\n    fun newInstance(param1: String, param2: String) =\n            EditProfileFragment().apply {\n                arguments = Bundle().apply {\n                    putString(ARG_PARAM1, param1)\n                    putString(ARG_PARAM2, param2)\n                }\n            }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6814271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11278e8c4acd216c0b8ddfd24ea129e?s=128&d=identicon&r=PG&f=1", "display_name": "pranalli", "link": "https://stackoverflow.com/users/6814271/pranalli"}, "is_accepted": false, "score": 0, "last_activity_date": 1541433796, "last_edit_date": 1541433796, "creation_date": 1541433456, "answer_id": 53157852, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/53157852#53157852", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>A lot of people mention companion objects, which is correct.  But, just so you know, you can also use any sort of object (using the object keyword, not class) i.e., </p>\n\n<pre><code>object StringUtils {\n    fun toUpper(s: String) : String { ... }\n}\n</code></pre>\n\n<p>Use it just like any static method in java:</p>\n\n<pre><code>StringUtils.toUpper(\"foobar\")\n</code></pre>\n\n<p>That sort of pattern is kind of useless in Kotlin though, one of its strengths is that it gets rid of the need for classes filled with static methods.  It is more appropriate to utilize global, extension and/or local functions instead, depending on your use case.  Where I work we often define global extension functions in a separate, flat file with the naming convention: [className]Extensions.kt i.e., FooExtensions.kt.  But more typically we write functions where they are needed inside their operating class or object.  </p>\n"}, {"tags": [], "owner": {"reputation": 117, "user_id": 10582460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ecf55b46ac759ad232ca003b90d547?s=128&d=identicon&r=PG", "display_name": "PIZZZZZZZZZZZA is here", "link": "https://stackoverflow.com/users/10582460/pizzzzzzzzzzza-is-here"}, "is_accepted": false, "score": -3, "last_activity_date": 1543863720, "creation_date": 1543863720, "answer_id": 53600200, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/53600200#53600200", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>You can use <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">Companion Objects - kotlinlang</a></p>\n\n<p>Which it can be shown by first creating that Interface</p>\n\n<pre><code>interface I&lt;T&gt; {\n\n}\n</code></pre>\n\n<p>Then we have to make a function inside of that interface:</p>\n\n<pre><code>fun SomeFunc(): T\n</code></pre>\n\n<p>Then after, We need a class:</p>\n\n<pre><code>class SomeClass {}\n</code></pre>\n\n<p>inside that class we need a companion Object inside that class:</p>\n\n<pre><code>companion object : I&lt;SomeClass&gt; {}\n</code></pre>\n\n<p>inside that Companion Object we need that old <code>SomeFunc</code> function, But we need to over ride it:</p>\n\n<pre><code>override fun SomeFunc(): SomeClass = SomeClass()\n</code></pre>\n\n<p>Finally below all of that work, We need something to power that Static function, We need a variable:</p>\n\n<pre><code>var e:I&lt;SomeClass&gt; = SomeClass()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 476, "user_id": 4820070, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/22a3216370fb32835eb4434d65886943?s=128&d=identicon&r=PG&f=1", "display_name": "Lalit Behera", "link": "https://stackoverflow.com/users/4820070/lalit-behera"}, "is_accepted": false, "score": 1, "last_activity_date": 1574021728, "last_edit_date": 1574021728, "creation_date": 1545661224, "answer_id": 53914599, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/53914599#53914599", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>The exact conversion of the java static method to kotlin equivalent would be like this. e.g. Here the util class has one static method which would be equivalent in both java and kotlin. The use of <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">@JvmStatic</a> is important.</p>\n\n<p>Java code: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    class Util{\n         public static String capitalize(String text){\n         return text.toUpperCase();}\n       }\n</code></pre>\n\n<p>Kotlin code:</p>\n\n<pre><code>    class Util {\n        companion object {\n            @JvmStatic\n            fun capitalize(text:String): String {\n                return text.toUpperCase()\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2450, "user_id": 5318240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vyVtK.jpg?s=128&g=1", "display_name": "Pablo Baxter", "link": "https://stackoverflow.com/users/5318240/pablo-baxter"}, "is_accepted": false, "score": 6, "last_activity_date": 1551657155, "creation_date": 1551657155, "answer_id": 54975004, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/54975004#54975004", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>Even though this is a bit over 2 years old now, and had plenty of great answers, I am seeing some other ways of getting \"static\" Kotlin fields are missing. Here is an example guide for Kotlin-Java <code>static</code> interop:</p>\n\n<blockquote>\n  <p><strong>Scenario 1: Creating a static method in Kotlin for Java</strong></p>\n  \n  <p><em>Kotlin</em></p>\n\n<pre><code>@file:JvmName(\"KotlinClass\") //This provides a name for this file, so it's not defaulted as [KotlinClassKt] in Java\npackage com.frybits\n\nclass KotlinClass {\n    companion object {\n\n        //This annotation tells Java classes to treat this method as if it was a static to [KotlinClass]\n        @JvmStatic\n        fun foo(): Int = 1\n\n        //Without it, you would have to use [KotlinClass.Companion.bar()] to use this method.\n        fun bar(): Int = 2\n    }\n}\n</code></pre>\n  \n  <p><em>Java</em></p>\n\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n        println(KotlinClass.foo()); //Prints \"1\"\n        println(KotlinClass.Companion.bar()); //Prints \"2\". This is the only way to use [bar()] in Java.\n        println(KotlinClass.Companion.foo()); //To show that [Companion] is still the holder of the function [foo()]\n    }\n\n    //Because I'm way to lazy to keep typing [System.out], but I still want this to be compilable.\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>Michael Anderson's answer provides more depth than this, and should definitely be referenced for this scenario.</p>\n\n<hr>\n\n<p>This next scenario handles creating static fields in Kotlin so that Java doesn't have to keep calling <code>KotlinClass.foo()</code> for those cases where you don't want a static function.</p>\n\n<blockquote>\n  <p><strong>Scenario 2: Creating a static variable in Kotlin for Java</strong></p>\n  \n  <p><em>Kotlin</em></p>\n\n<pre><code>@file:JvmName(\"KotlinClass\") //This provides a name for this file, so it's not defaulted as [KotlinClassKt] in Java\npackage com.frybits\n\nclass KotlinClass {\n\n    companion object {\n\n        //This annotation tells Kotlin to not generate the getter/setter functions in Java. Instead, this variable should be accessed directly\n        //Also, this is similar to [@JvmStatic], in which it tells Java to treat this as a static variable to [KotlinClass].\n        @JvmField\n        var foo: Int = 1\n\n        //If you want something akin to [final static], and the value is a primitive or a String, you can use the keyword [const] instead\n        //No annotation is needed to make this a field of [KotlinClass]. If the declaration is a non-primitive/non-String, use @JvmField instead\n        const val dog: Int = 1\n\n        //This will be treated as a member of the [Companion] object only. It generates the getter/setters for it.\n        var bar: Int = 2\n\n        //We can still use [@JvmStatic] for 'var' variables, but it generates getter/setters as functions of KotlinClass\n        //If we use 'val' instead, it only generates a getter function\n        @JvmStatic\n        var cat: Int = 9\n    }\n}\n</code></pre>\n  \n  <p><em>Java</em></p>\n\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n        //Example using @JvmField\n        println(KotlinClass.foo); //Prints \"1\"\n        KotlinClass.foo = 3;\n\n        //Example using 'const val'\n        println(KotlinClass.dog); //Prints \"1\". Notice the lack of a getter function\n\n        //Example of not using either @JvmField, @JvmStatic, or 'const val'\n        println(KotlinClass.Companion.getBar()); //Prints \"2\"\n        KotlinClass.Companion.setBar(3); //The setter for [bar]\n\n        //Example of using @JvmStatic instead of @JvmField\n        println(KotlinClass.getCat());\n        KotlinClass.setCat(0);\n    }\n\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>One of the great features about Kotlin is that you can create top level functions and variables. This makes it greate to create \"classless\" lists of constant fields and functions, which in turn can be used as <code>static</code> functions/fields in Java.</p>\n\n<blockquote>\n  <p><strong>Scenario 3: Accessing top level fields and functions in Kotlin from Java</strong></p>\n  \n  <p><em>Kotlin</em></p>\n\n<pre><code>//In this example, the file name is \"KSample.kt\". If this annotation wasn't provided, all functions and fields would have to accessed\n//using the name [KSampleKt.foo()] to utilize them in Java. Make life easier for yourself, and name this something more simple\n@file:JvmName(\"KotlinUtils\")\n\npackage com.frybits\n\n//This can be called from Java as [KotlinUtils.TAG]. This is a final static variable\nconst val TAG = \"You're it!\"\n\n//Since this is a top level variable and not part of a companion object, there's no need to annotate this as \"static\" to access in Java.\n//However, this can only be utilized using getter/setter functions\nvar foo = 1\n\n//This lets us use direct access now\n@JvmField\nvar bar = 2\n\n//Since this is calculated at runtime, it can't be a constant, but it is still a final static variable. Can't use \"const\" here.\nval GENERATED_VAL:Long = \"123\".toLong()\n\n//Again, no need for @JvmStatic, since this is not part of a companion object\nfun doSomethingAwesome() {\n    println(\"Everything is awesome!\")\n}\n</code></pre>\n  \n  <p><em>Java</em></p>\n\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n\n        println(KotlinUtils.TAG); //Example of printing [TAG]\n\n\n        //Example of not using @JvmField.\n        println(KotlinUtils.getFoo()); //Prints \"1\"\n        KotlinUtils.setFoo(3);\n\n        //Example using @JvmField\n        println(KotlinUtils.bar); //Prints \"2\". Notice the lack of a getter function\n        KotlinUtils.bar = 3;\n\n        //Since this is a top level variable, no need for annotations to use this\n        //But it looks awkward without the @JvmField\n        println(KotlinUtils.getGENERATED_VAL());\n\n        //This is how accessing a top level function looks like\n        KotlinUtils.doSomethingAwesome();\n    }\n\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>Another notable mention that can be used in Java as \"static\" fields are Kotlin <code>object</code> classes. These are zero parameter singleton classes that are instantiated lazily on first use. More information about them can be found here: <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations</a></p>\n\n<p>However, to access the singleton, a special <code>INSTANCE</code> object is created, which is just as cumbersome to deal with as <code>Companion</code> is. Here's how to use annotations to give it that clean <code>static</code> feel in Java:</p>\n\n<blockquote>\n  <p><strong>Scenario 4: Using <code>object</code> classes</strong></p>\n  \n  <p><em>Kotlin</em></p>\n\n<pre><code>@file:JvmName(\"KotlinClass\")\n\n//This provides a name for this file, so it's not defaulted as [KotlinClassKt] in Java\npackage com.frybits\n\nobject KotlinClass { //No need for the 'class' keyword here.\n\n    //Direct access to this variable\n    const val foo: Int = 1\n\n    //Tells Java this can be accessed directly from [KotlinClass]\n    @JvmStatic\n    var cat: Int = 9\n\n    //Just a function that returns the class name\n    @JvmStatic\n    fun getCustomClassName(): String = this::class.java.simpleName + \"boo!\"\n\n    //Getter/Setter access to this variable, but isn't accessible directly from [KotlinClass]\n    var bar: Int = 2\n\n    fun someOtherFunction() = \"What is 'INSTANCE'?\"\n}\n</code></pre>\n  \n  <p><em>Java</em></p>\n\n<pre><code>package com.frybits;\n\nclass JavaClass {\n\n    void someFunction() {\n        println(KotlinClass.foo); //Direct read of [foo] in [KotlinClass] singleton\n\n        println(KotlinClass.getCat()); //Getter of [cat]\n        KotlinClass.setCat(0); //Setter of [cat]\n\n        println(KotlinClass.getCustomClassName()); //Example of using a function of this 'object' class\n\n        println(KotlinClass.INSTANCE.getBar()); //This is what the singleton would look like without using annotations\n        KotlinClass.INSTANCE.setBar(23);\n\n        println(KotlinClass.INSTANCE.someOtherFunction()); //Accessing a function in the object class without using annotations\n    }\n\n    void println(Object o) {\n        System.out.println(o);\n    }\n}\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 11157537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82c200845fe5d1056f84a47c1a4e56b9?s=128&d=identicon&r=PG&f=1", "display_name": "Paulami Biswas", "link": "https://stackoverflow.com/users/11157537/paulami-biswas"}, "is_accepted": false, "score": 2, "last_activity_date": 1551848241, "creation_date": 1551848241, "answer_id": 55015846, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/55015846#55015846", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>For Java:</p>\n\n<pre><code>public class Constants {\npublic static final long MAX_CLICK_INTERVAL = 1000;}\n</code></pre>\n\n<p>Equivalent Kotlin code:</p>\n\n<pre><code>object  Constants {\nconst val MAX_CLICK_INTERVAL: Long = 1000}\n</code></pre>\n\n<p>So for the equivalent of Java static methods is object class in Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 8885332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yCSCO.jpg?s=128&g=1", "display_name": "CodeRanger", "link": "https://stackoverflow.com/users/8885332/coderanger"}, "is_accepted": false, "score": 2, "last_activity_date": 1561405410, "last_edit_date": 1561405410, "creation_date": 1555144417, "answer_id": 55663562, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/55663562#55663562", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>To make it short you could use <strong>\"companion object\"</strong> to get into Kotlin static world like :</p>\n\n<pre><code>  companion object {\n    const val TAG = \"tHomeFragment\"\n    fun newInstance() = HomeFragment()\n}\n</code></pre>\n\n<p>and to make a constant field use <strong>\"const val\"</strong> as in the code.\nbut try to avoid the static classes as it is making difficulties in unit testing using Mockito!.</p>\n"}, {"tags": [], "owner": {"reputation": 1107, "user_id": 1947494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/yGTAe.jpg?s=128&g=1", "display_name": "Nikhil Katekhaye", "link": "https://stackoverflow.com/users/1947494/nikhil-katekhaye"}, "is_accepted": false, "score": -1, "last_activity_date": 1560931072, "last_edit_date": 1560931072, "creation_date": 1560929000, "answer_id": 56662184, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/56662184#56662184", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>In Java, we can write in below way </p>\n\n<pre><code>class MyClass {\n  public static int myMethod() { \n  return 1;\n  }\n}\n</code></pre>\n\n<p>In Kotlin, we can write in below way</p>\n\n<pre><code>class MyClass {\n  companion object {\n     fun myMethod() : Int = 1\n  }\n}\n</code></pre>\n\n<p>a companion is used as static in Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 447182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/516f6ce7242b045adea9646cde39edfb?s=128&d=identicon&r=PG", "display_name": "Du Jianyu", "link": "https://stackoverflow.com/users/447182/du-jianyu"}, "is_accepted": false, "score": -1, "last_activity_date": 1565833824, "creation_date": 1565833824, "answer_id": 57503978, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/57503978#57503978", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>The kotlin documents provider three ways to do that,\nthe first is define function in package,without class:</p>\n\n<pre><code>package com.example\n\nfun f() = 1\n</code></pre>\n\n<p>the second is use @JvmStatic annotation:</p>\n\n<pre><code>package com.example\n\nclass A{\n@JvmStatic\nfun f() = 1\n}\n</code></pre>\n\n<p>and the third is use companion object:</p>\n\n<pre><code>package com.example\n\nclss A{\ncompanion object{\nfun f() = 1\n}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "edited": false, "score": 1, "creation_date": 1567804475, "post_id": 57828360, "comment_id": 102087310, "body": "It looks like the accepted answer is already describing companion objects. So are a lot of the other answers. Does your answer provide anything new?"}, {"owner": {"reputation": 240, "user_id": 11972666, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC94ufB8vF-9--AajMwlVjWOinNMvFO0U9DpucO=k-s128", "display_name": "asad mahmood", "link": "https://stackoverflow.com/users/11972666/asad-mahmood"}, "reply_to_user": {"reputation": 34086, "user_id": 787480, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/91cDR.png?s=128&g=1", "display_name": "Sneftel", "link": "https://stackoverflow.com/users/787480/sneftel"}, "edited": false, "score": 0, "creation_date": 1567853283, "post_id": 57828360, "comment_id": 102094989, "body": "for further clarification you can check it out here <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/kotlin-for-py/&hellip;</a>"}], "tags": [], "owner": {"reputation": 240, "user_id": 11972666, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC94ufB8vF-9--AajMwlVjWOinNMvFO0U9DpucO=k-s128", "display_name": "asad mahmood", "link": "https://stackoverflow.com/users/11972666/asad-mahmood"}, "is_accepted": false, "score": -2, "last_activity_date": 1567802647, "creation_date": 1567802647, "answer_id": 57828360, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/57828360#57828360", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>If you need a function or a property to be tied to a class rather than to instances of it, you can declare it inside a companion object:</p>\n\n<pre><code>class Car(val horsepowers: Int) {\n    companion object Factory {\n        val cars = mutableListOf&lt;Car&gt;()\n\n        fun makeCar(horsepowers: Int): Car {\n            val car = Car(horsepowers)\n            cars.add(car)\n            return car\n        }\n    }\n}\n</code></pre>\n\n<p>The companion object is a singleton, and its members can be accessed directly via the name of the containing class</p>\n\n<pre><code>val car = Car.makeCar(150)\nprintln(Car.Factory.cars.size)\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11051546"}, "is_accepted": false, "score": 0, "last_activity_date": 1570426730, "creation_date": 1570426730, "answer_id": 58264004, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/58264004#58264004", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>There is no static keyword in kotlin.  kotlin docs recommends to use package-level functions if u want to follow DRY.\n    Create a file with <strong>.kt</strong> extension and put your method in it.</p>\n\n<pre><code>package p\n    fun m(){\n    //fun body\n    }\n</code></pre>\n\n<p>after compilation <strong>m</strong> will have a signature of <strong>public static final void</strong></p>\n\n<p>and</p>\n\n<pre><code>import p.m\n</code></pre>\n\n<p>\u263a</p>\n"}, {"tags": [], "owner": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "is_accepted": false, "score": 2, "last_activity_date": 1573794626, "creation_date": 1573794626, "answer_id": 58870671, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/58870671#58870671", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>For Android using a string from a single activity to all the necessary activity.\nJust like static in java </p>\n\n<p><code>public final static String TEA_NAME = \"TEA_NAME\";</code></p>\n\n<p>Equivalent approach in Kotlin:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    companion object {\n        const val TEA_NAME = \"TEA_NAME\"\n    }\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n\n<p>Another activity where value is needed:</p>\n\n<pre><code>val teaName = MainActivity.TEA_NAME\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 8497862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8b9a8f548ddb66f05e218d34155e42?s=128&d=identicon&r=PG&f=1", "display_name": "justYuMu", "link": "https://stackoverflow.com/users/8497862/justyumu"}, "is_accepted": false, "score": 1, "last_activity_date": 1584533447, "creation_date": 1584533447, "answer_id": 60739314, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/60739314#60739314", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>except Michael Anderson's answer, i have coding with other two way in my project.  </p>\n\n<h3>First:</h3>\n\n<p>you can white all variable to one class.\ncreated a kotlin file named Const</p>\n\n<pre><code>object Const {\n    const val FIRST_NAME_1 = \"just\"\n    const val LAST_NAME_1 = \"YuMu\"\n}\n</code></pre>\n\n<p>You can use it in kotlin and java code</p>\n\n<pre><code> Log.d(\"stackoverflow\", Const.FIRST_NAME_1)\n</code></pre>\n\n<h3>Second:</h3>\n\n<p>You can use Kotlin's extension function<br>\ncreated a kotlin file named Ext\uff0c below code is the all code in Ext file</p>\n\n<pre><code>package pro.just.yumu\n\n/**\n * Created by lpf on 2020-03-18.\n */\n\nconst val FIRST_NAME = \"just\"\nconst val LAST_NAME = \"YuMu\"\n</code></pre>\n\n<p>You can use it in kotlin code</p>\n\n<pre><code> Log.d(\"stackoverflow\", FIRST_NAME)\n</code></pre>\n\n<p>You can use it in java code</p>\n\n<pre><code> Log.d(\"stackoverflow\", ExtKt.FIRST_NAME);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 1, "creation_date": 1613396398, "post_id": 66175395, "comment_id": 117054574, "body": "Very nicely written and detailed answer."}], "tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 2, "last_activity_date": 1613146989, "creation_date": 1613146989, "answer_id": 66175395, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin/66175395#66175395", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<h2>Top-level / <code>companion object</code> for <code>static</code> properties</h2>\n<p><strong>Top-level</strong></p>\n<p>When the properties are somewhat related to a class, define them as top-level properties just before the class declaration:</p>\n<pre><code>const val MAX_ATTEMPTS = 3\nprivate const val DEFAULT_NAME = &quot;Guest&quot;\nprivate const val MIN_AGE = 16\n\ndata class User(val id: String, val name: String = DEFAULT_NAME)\n</code></pre>\n<p>This is similar to the <code>static</code> properties in Java.</p>\n<p>When the properties are completely independent of any class, you can define them as top-level in a separate file without the class.</p>\n<p><strong><code>companion object</code></strong></p>\n<p>When the properties are closely related to a class and will be used only in that class, define them inside a <code>companion object</code>:</p>\n<pre><code>data class User(val id: String, val name: String = DEFAULT_NAME) {\n    companion object {\n        const val DEFAULT_NAME = &quot;Guest&quot;\n        const val MIN_AGE = 16\n    }\n}\n</code></pre>\n<hr />\n<h2>Top-level / <code>companion object</code> for <code>static</code> methods</h2>\n<p><strong>Top-level</strong></p>\n<p>Similar to the properties above, when the functions are somewhat related to a class, define them just above the class:</p>\n<pre><code>fun getAllUsers() { }\n\nfun getProfileFor(userId: String) { }\n\ndata class User(val id: String, val name: String)\n</code></pre>\n<p>Usage:</p>\n<pre><code>val userList = getAllUsers()\n</code></pre>\n<p><strong><code>companion object</code></strong></p>\n<p>When the functions are closely related to a class, define them inside a <code>companion object</code>:</p>\n<pre><code>data class User(val id: String, val name: String) {\n\n    companion object {\n\n        fun getAll() { }\n\n        fun profileFor(userId: String) { }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val userProfile = User.profileFor(&quot;34&quot;)\n</code></pre>\n<p>This is similar to the <code>static</code> methods in Java.</p>\n<p>The top-level functions are often more idiomatic to Kotlin. A better reason to define functions inside the <code>companion object</code> is when you are extending a <code>companion object</code> with an <code>interface</code>. An example of this is shown in the singleton section.</p>\n<hr />\n<h2>Nested class for <code>static</code> class</h2>\n<p>When the classes with related functionalities belong together, they can be grouped together by nesting:</p>\n<pre><code>class User(val id: String, val name: String) {\n    class UserAccess : UserDao {\n        override fun add(user: User) { }\n        override fun remove(id: String) { }\n    }\n}\n</code></pre>\n<p>This is equivalent to the <code>static</code> nested classes in Java. The <code>UserAccess</code> class here implements an <code>interface</code> <code>UserDao</code>.</p>\n<p>Usage:</p>\n<pre><code>fun main() {\n    val john = User(&quot;34&quot;, &quot;John&quot;)\n    val userAccess = User.UserAccess()\n    userAccess.add(john)\n}\n</code></pre>\n<hr />\n<h2>Singleton <code>object</code> for <code>static INSTANCE</code></h2>\n<p><strong>Top-level</strong></p>\n<p>When you just want a single object of a class, you no longer need to create a <code>static INSTANCE</code> inside a class like in Java. Simply use a top-level <code>object</code> declaration:</p>\n<pre><code>object UserAccess : UserDao {\n    override fun add(user: User) { }\n    override fun remove(id: String) { }\n}\n</code></pre>\n<p>Notice also how easy it is to extend an <code>interface</code> or a <code>class</code> in a singleton.</p>\n<p>The code above, under the hood, produces the following <code>static INSTANCE</code> singleton pattern in Java (simplified):</p>\n<pre><code>public final class UserAccess implements UserDao {\n   public static final UserAccess INSTANCE;\n\n   public void add(User user) { }\n\n   public void remove(String id) { }\n\n   private UserAccess() { }\n\n   static { INSTANCE = new UserAccess();}\n}\n</code></pre>\n<p><strong><code>companion object</code></strong></p>\n<p>When the singleton is closely related to a class use <code>companion object</code>:</p>\n<pre><code>data class User(val id: String, val name: String) {\n    companion object : UserDao {\n        override fun add(user: User) { }\n        override fun remove(id: String) { }\n    }\n}\n</code></pre>\n<p>This way you get more elegant naming: <code>User.add(john)</code>. Also, you make the intent clear that this singleton is only used as a utility for the <code>User</code> class. You can also use the <code>object</code> without the <code>companion</code> keyword inside the class, if you want multiple singletons or groups of functions/properties.</p>\n<hr />\n<h2><code>companion object</code> for <code>static</code> factory</h2>\n<p>Factory functions in Koltin are created using the <code>companion object</code>. Factory functions are useful when you want to provide multiple ways to create an object where the object construction process is complex or when multiple constructors are not expressive enough.</p>\n<p>For example, the <code>newInstance()</code> factory function in the following snippet creates a user by generating the <code>id</code> automatically:</p>\n<pre><code>class User private constructor(val id: Long, val name: String) {\n    companion object {\n        private var currentId = 0L;\n        fun newInstance(name: String) = User(currentId++, name)\n    }\n}\n</code></pre>\n<p>This is equivalent to the <code>static</code> factory methods in Java.</p>\n<p>The <code>constructor</code> is kept <code>private</code> but the <code>companion object</code> has access to the <code>constructor</code>.</p>\n<p>In the code above, consistency of the next <code>id</code> generation is guaranteed because a <code>companion object</code> is a singleton, only one object will keep track of the <code>id</code>, there won't be any duplicate ids.</p>\n<p>Also notice that companion objects can have properties (<code>currentId</code> in this case) to represent state.</p>\n<p>Usage:</p>\n<pre><code>val john = User.newInstance(&quot;John&quot;)\n</code></pre>\n<hr />\n<h2><code>@JvmStatic</code> for Java interoperability</h2>\n<p>The static concept of Java doesn't exist in Kotlin. A <code>companion object</code> is an instance of a real <code>class</code> called <code>Companion</code>. So, when you call the Kotlin code from Java, an object of the <code>Companion</code> class is first instantiated behind the scenes. You need to call the function using the <code>Companion</code> object in Java:</p>\n<pre><code>Profile userProfile = User.Companion.profileFor(&quot;34&quot;);\n</code></pre>\n<p>For the idiomatic Java naming and less verbosity, use <code>@JvmStatic</code> annotation on that function or property:</p>\n<pre><code>companion object {\n    @JvmStatic\n    fun profileFor(userId: String): Profile { }\n}\n</code></pre>\n<p>The <code>@JvmStatic</code> annotation creates a separate pure <code>static</code> copy of the <code>getProfileFor()</code> function. Now you can use it from Java with regular syntax:</p>\n<pre><code>Profile userProfile = User.profileFor(&quot;34&quot;);\n</code></pre>\n<hr />\n<p>That's it! Hope the examples are useful for your projects.</p>\n"}], "owner": {"reputation": 36041, "user_id": 14316, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f1eb8b540db13afbb3426637641534aa?s=128&d=identicon&r=PG", "display_name": "pdeva", "link": "https://stackoverflow.com/users/14316/pdeva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290356, "favorite_count": 77, "protected_date": 1612429071, "accepted_answer_id": 40352734, "answer_count": 29, "score": 744, "last_activity_date": 1615701903, "creation_date": 1477961553, "last_edit_date": 1613101483, "question_id": 40352684, "link": "https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin", "title": "What is the equivalent of Java static methods in Kotlin?", "body": "<p>There is no <code>static</code> keyword in Kotlin.</p>\n\n<p>What is the best way to represent a <code>static</code> Java method in Kotlin?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1477950873, "post_id": 40351071, "comment_id": 67956869, "body": "You have set the return type of the function to <code>T</code>, but you return the string <code>Happy Halloween!</code>. That&#39;s why you get the type mismatch."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1477951860, "post_id": 40351071, "comment_id": 67957197, "body": "@marstran The return type is <code>T</code> but after <code>type is StringType</code> return <code>true</code> I would expect the compiler to now know that <code>T</code> is indeed <code>String</code>."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1477952586, "post_id": 40351071, "comment_id": 67957434, "body": "Ah, now I see :) I&#39;m not sure exactly why it doesn&#39;t work like you did it, but it works if you change the line to <code>is StringType -&gt; &quot;Happy Halloween!&quot; as T</code>"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1477955410, "post_id": 40351071, "comment_id": 67958272, "body": "@marstran Such a cast would be unsafe as <code>is StringType -&gt; 42 as T</code> would also compile which is not what I want. I want the compiler to help me make sure I return the appropriate type."}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 1, "creation_date": 1478004782, "post_id": 40351071, "comment_id": 67974009, "body": "I think that its just that Smart Cast is not smart enough to reason about generic types. I would assume it only checks types at the current level, and does not go deep into type declaration."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1478015749, "post_id": 40351071, "comment_id": 67980493, "body": "@rafal-g Perhaps but this doesn&#39;t even seem like a cast of any kind should be necessary. I thought/hoped that this was simply how generics work."}], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1478089114, "post_id": 40370110, "comment_id": 68011358, "body": "I&#39;ve updated my example code to clarify my use case. I should have been more explicit that there would be multiple sub types of <code>Type&lt;T&gt;</code> and that the function would do multiple <code>is &lt;SubType&gt;</code> checks to determine what to return."}, {"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1478105828, "post_id": 40370110, "comment_id": 68022882, "body": "Sorry, my bad. I edited my answer. I hope it helps now."}], "tags": [], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "is_accepted": false, "score": 0, "last_activity_date": 1478105790, "last_edit_date": 1478105790, "creation_date": 1478042415, "answer_id": 40370110, "question_id": 40351071, "link": "https://stackoverflow.com/questions/40351071/why-do-i-get-a-type-mismatch-when-attempting-to-return-a-value-for-a-checked-gen/40370110#40370110", "title": "Why do I get a type mismatch when attempting to return a value for a checked generic parameter?", "body": "<p>When the compiler applies type erasure the return type is going to be defined. So, let's say, you use a String... your method is going to be like:</p>\n\n<pre><code>fun something(type: Type&lt;String&gt;): String = when (type) {\n    is StringType -&gt; \"Happy Halloween!\"\n    is IntType1 -&gt; 42 //Wrong: you must return String!\n    is IntType2 -&gt; type.a * type.a + type.b * type.b + type.a * type.b   \n    else -&gt; throw IllegalArgumentException()\n}\n</code></pre>\n\n<p>This thing is: <strong>you must know your return type at compile time</strong>. If you dont know this, you have to tell that to the compiler:</p>\n\n<pre><code>fun &lt;T&gt; something(type: Type&lt;T&gt;): Any = when (type) {\n    is StringType -&gt; \"blabla\"\n    is IntType1 -&gt; 42\n    is IntType2 -&gt; type.a * type.a + type.b * type.b + type.a * type.b\n    else -&gt; throw IllegalArgumentException()\n}\n</code></pre>\n\n<p>Sorry this code it's not what you are hopping, you are going to make a cast after the method is returned...</p>\n\n<p>But you can this:</p>\n\n<pre><code>fun &lt;T&gt; something(type: Type&lt;T&gt;): T = when (type) {\n        is StringType -&gt; type.b\n        //is IntType1 -&gt; 42 remove this!\n        is IntType2 -&gt; type.a * type.a + type.b * type.b + type.a * type.b\n        else -&gt; throw IllegalArgumentException()\n    }\n</code></pre>\n\n<p>assuming the type.a and type.b are parametized as T. Then your code will work just fine. </p>\n"}, {"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1478617793, "post_id": 40466826, "comment_id": 68224391, "body": "This is not the case: the author intentionally used <code>StringType</code> (a subclass of <code>Type&lt;String&gt;</code>), because <b>it is</b> possible to make an is-check for <code>StringType</code> at runtime."}, {"owner": {"reputation": 13, "user_id": 1113462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d5acbd4fc149abf0736fea1bf65c47?s=128&d=identicon&r=PG", "display_name": "O.m", "link": "https://stackoverflow.com/users/1113462/o-m"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1478724999, "post_id": 40466826, "comment_id": 68273382, "body": "It&#39;s possible to make the check but it&#39;s still going to think that <code>StringType</code> is just <code>type</code>."}, {"owner": {"reputation": 13, "user_id": 1113462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d5acbd4fc149abf0736fea1bf65c47?s=128&d=identicon&r=PG", "display_name": "O.m", "link": "https://stackoverflow.com/users/1113462/o-m"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1478728582, "post_id": 40466826, "comment_id": 68275047, "body": "Sorry, I meant that <code>StringType</code> will still just be <code>Type&lt;&gt;</code> with no actual type information added to it. So the <code>when</code> cannot tell the difference between them."}], "tags": [], "owner": {"reputation": 13, "user_id": 1113462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d5acbd4fc149abf0736fea1bf65c47?s=128&d=identicon&r=PG", "display_name": "O.m", "link": "https://stackoverflow.com/users/1113462/o-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1478526560, "creation_date": 1478526560, "answer_id": 40466826, "question_id": 40351071, "link": "https://stackoverflow.com/questions/40351071/why-do-i-get-a-type-mismatch-when-attempting-to-return-a-value-for-a-checked-gen/40466826#40466826", "title": "Why do I get a type mismatch when attempting to return a value for a checked generic parameter?", "body": "<p>If I simplify your example a little:</p>\n\n<pre><code>interface Type&lt;T&gt;\n\nfun &lt;T&gt; something(type: Type&lt;T&gt;): T = when (type) {\n    is Type&lt;String&gt; -&gt; \"Happy Halloween!\"\n    else -&gt; throw IllegalArgumentException()\n}\n</code></pre>\n\n<p>the compiler now complains that he: <code>cannot check for instance of erased type</code> </p>\n\n<p>So the problem is that because of type erasure there is no difference between <code>Type&lt;String&gt;</code> and <code>Type&lt;Int&gt;</code> at run time, so the compiler wont allow that. </p>\n\n<p>You can try to use something like Gson's <code>TypeToken&lt;T&gt;</code> or Jackson's <a href=\"http://fasterxml.github.io/jackson-core/javadoc/2.2.0/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"nofollow noreferrer\"><code>TypeReference&lt;T&gt;</code></a>\nThe docs refer to this blog post explaining the idea: <a href=\"http://gafter.blogspot.ca/2006/12/super-type-tokens.html\" rel=\"nofollow noreferrer\">http://gafter.blogspot.ca/2006/12/super-type-tokens.html</a> </p>\n"}, {"tags": [], "owner": {"reputation": 2376, "user_id": 4949974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf69ff8841965fe84a46f7b8238828d9?s=128&d=identicon&r=PG", "display_name": "Asher Stern", "link": "https://stackoverflow.com/users/4949974/asher-stern"}, "is_accepted": false, "score": 0, "last_activity_date": 1500195292, "last_edit_date": 1500195292, "creation_date": 1500194924, "answer_id": 45126709, "question_id": 40351071, "link": "https://stackoverflow.com/questions/40351071/why-do-i-get-a-type-mismatch-when-attempting-to-return-a-value-for-a-checked-gen/45126709#45126709", "title": "Why do I get a type mismatch when attempting to return a value for a checked generic parameter?", "body": "<p>The <code>is</code> operator, much like Java's <code>instanceof</code> operator, is performed at <strong>runtime</strong>.</p>\n\n<p>So, at <strong>compile time</strong>, the compiler does not know the actual type, hence you get a compilation error.</p>\n\n<p>Here is another simple example:</p>\n\n<pre><code>fun &lt;T&gt;f(t: T): T\n{\n    if (t is Int) return 3 // compilation error\n    else return t\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1818, "user_id": 4274651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fd438a86da39049aa93ca14b663851ce?s=128&d=identicon&r=PG", "display_name": "janosch", "link": "https://stackoverflow.com/users/4274651/janosch"}, "is_accepted": false, "score": 1, "last_activity_date": 1507761550, "last_edit_date": 1507761550, "creation_date": 1507761162, "answer_id": 46698562, "question_id": 40351071, "link": "https://stackoverflow.com/questions/40351071/why-do-i-get-a-type-mismatch-when-attempting-to-return-a-value-for-a-checked-gen/46698562#46698562", "title": "Why do I get a type mismatch when attempting to return a value for a checked generic parameter?", "body": "<p>You could write this:</p>\n\n<pre><code>interface Type&lt;T&gt;\nclass StringType() : Type&lt;String&gt;\nclass IntType1() : Type&lt;Int&gt;\nclass IntType2(val a: Int, val b: Int) : Type&lt;Int&gt;\n\ninline fun &lt;reified T&gt; something(type: Type&lt;T&gt;): T {\n    val result = when(type) {\n        is StringType -&gt; \"Happy Halloween\"\n        is IntType1 -&gt; 42\n        is IntType2 -&gt; type.a * type.a + type.b * type.b + type.a * type.b\n        else -&gt; throw IllegalArgumentException()\n    }\n    return if (result is T) result else throw Exception() \n}\n</code></pre>\n\n<p>Running the following:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(something(StringType()))\n    println(something(IntType1()))\n    println(something(IntType2(2, 3)))\n}\n</code></pre>\n\n<p>Will give you this output:</p>\n\n<pre><code>Happy Halloween\n42\n19\n</code></pre>\n\n<p>Learn more about inline functions and reified parameters here: <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">Reified type parameters</a>.</p>\n"}], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2023, "favorite_count": 1, "answer_count": 4, "score": 7, "last_activity_date": 1507761550, "creation_date": 1477950334, "last_edit_date": 1478089032, "question_id": 40351071, "link": "https://stackoverflow.com/questions/40351071/why-do-i-get-a-type-mismatch-when-attempting-to-return-a-value-for-a-checked-gen", "title": "Why do I get a type mismatch when attempting to return a value for a checked generic parameter?", "body": "<p>In the following code <code>\"Happy Halloween!\"</code>, <code>42</code>, etc. are flagged as \"Type mismatch.\" (Required: T, Found: String (or Int)) but shouldn't the compiler be able to infer that the return value is of the correct type from the type check?</p>\n\n<pre><code>interface Type&lt;T&gt;\nclass StringType() : Type&lt;String&gt;\nclass IntType1() : Type&lt;Int&gt;\nclass IntType2(val a: Int, val b: Int) : Type&lt;Int&gt;\n\nfun &lt;T&gt; something(type: Type&lt;T&gt;): T = when (type) {\n    is StringType -&gt; \"Happy Halloween!\"\n    is IntType1 -&gt; 42\n    is IntType2 -&gt; type.a * type.a + type.b * type.b + type.a * type.b\n    else -&gt; throw IllegalArgumentException()\n}\n</code></pre>\n"}, {"tags": ["oop", "static", "kotlin", "companion-object", "static-initializer"], "comments": [{"owner": {"reputation": 22943, "user_id": 870674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0463b7a46ed49025082a795ac2f67f49?s=128&d=identicon&r=PG", "display_name": "klimat", "link": "https://stackoverflow.com/users/870674/klimat"}, "edited": false, "score": 0, "creation_date": 1477914843, "post_id": 40341156, "comment_id": 67937348, "body": "IMO it is like you want. What&#39;s your error?"}, {"owner": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "reply_to_user": {"reputation": 22943, "user_id": 870674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0463b7a46ed49025082a795ac2f67f49?s=128&d=identicon&r=PG", "display_name": "klimat", "link": "https://stackoverflow.com/users/870674/klimat"}, "edited": false, "score": 0, "creation_date": 1477915281, "post_id": 40341156, "comment_id": 67937558, "body": "Sorry, my MWE did not showcase the actual problem. My mistake"}], "answers": [{"tags": [], "owner": {"reputation": 22943, "user_id": 870674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0463b7a46ed49025082a795ac2f67f49?s=128&d=identicon&r=PG", "display_name": "klimat", "link": "https://stackoverflow.com/users/870674/klimat"}, "is_accepted": false, "score": 4, "last_activity_date": 1477916140, "creation_date": 1477916140, "answer_id": 40342005, "question_id": 40341156, "link": "https://stackoverflow.com/questions/40341156/kotlin-is-it-possible-to-initialize-companion-object-before-the-init-block-in/40342005#40342005", "title": "Kotlin - Is it possible to initialize companion object before the init block in a class?", "body": "<p>Just change the order of lines:</p>\n\n<pre><code>@JvmField val foo = mutableListOf&lt;A&gt;()\n@JvmField val STATIC = A(\"hi\")\n</code></pre>\n\n<p>Before you used <code>foo</code> in <code>A</code> but it wasn't initialized.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 12, "last_activity_date": 1477916954, "last_edit_date": 1477916954, "creation_date": 1477916148, "answer_id": 40342006, "question_id": 40341156, "link": "https://stackoverflow.com/questions/40341156/kotlin-is-it-possible-to-initialize-companion-object-before-the-init-block-in/40342006#40342006", "title": "Kotlin - Is it possible to initialize companion object before the init block in a class?", "body": "<p>The property initializers and <code>init</code> blocks are executed in exactly the same order in which they are placed in a class/object body. Here's an example:</p>\n\n<pre><code>companion object B {\n    init {\n        print(\"1 \")\n    }\n\n    @JvmField val foo = mutableListOf&lt;A&gt;().apply { print(\"2 \") }\n    @JvmField val bar = mutableListOf&lt;A&gt;().apply { print(\"3 \") }\n\n    init {\n        print(\"4\")\n    }\n}\n</code></pre>\n\n<p><sup>It will print <code>1 2 3 4</code>.</sup></p>\n\n<p>So, in your case, swapping the two declarations in the <code>companion object</code> is enough:</p>\n\n<pre><code>companion object B {\n    @JvmField val foo = mutableListOf&lt;A&gt;()   \n    @JvmField val STATIC = A(\"hi\")\n}\n</code></pre>\n"}], "owner": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7851, "favorite_count": 0, "accepted_answer_id": 40342006, "answer_count": 2, "score": 13, "last_activity_date": 1477916954, "creation_date": 1477912865, "last_edit_date": 1477915258, "question_id": 40341156, "link": "https://stackoverflow.com/questions/40341156/kotlin-is-it-possible-to-initialize-companion-object-before-the-init-block-in", "title": "Kotlin - Is it possible to initialize companion object before the init block in a class?", "body": "<p>Is it possible to initialize an <code>companion object</code> before the <code>init</code> block in a Kotlin class? If so, how? If not, is there a way to accomplish the same thing. </p>\n\n<p>I have the following scenario,</p>\n\n<pre><code>class A(val iname: String) {\n  init {\n    foo.add(this)\n  }\n\n  companion object B {\n    @JvmField val STATIC = A(\"hi\")\n    @JvmField val foo = mutableListOf&lt;A&gt;()   \n  }\n\n  fun printAllStatics() {\n    for (a in foo) {\n      print(a.iname)\n    }\n  }\n}\n</code></pre>\n\n<p>and calling <code>printAllStatics</code> causes a null-pointer exception.</p>\n"}, {"tags": ["rx-java", "reactive-programming", "kotlin", "rx-kotlin"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 4, "last_activity_date": 1477894485, "creation_date": 1477894485, "answer_id": 40337385, "question_id": 40335952, "link": "https://stackoverflow.com/questions/40335952/how-to-do-a-groupby-and-collect-using-rxjava-and-kotlin/40337385#40337385", "title": "How to do a groupBy and collect using RxJava and Kotlin?", "body": "<p>The trick is to use <a href=\"http://reactivex.io/documentation/operators/count.html\" rel=\"nofollow\"><code>count</code></a> on the <a href=\"http://reactivex.io/RxJava/javadoc/rx/observables/GroupedObservable.html\" rel=\"nofollow\"><code>GroupedObservable</code></a> since it only emits single value when the source observable completes:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DekT8.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/DekT8.png\" alt=\"enter image description here\"></a></p>\n\n<p>From there it follows:</p>\n\n<pre><code>rates\n  .flatMap { Observable.from(it.rates) }\n  .filter { !it.value.isNullOrEmpty() }\n  .groupBy { it.value }\n  .flatMap { group -&gt; group.count().map { group.key to it } } // list \"1\"-&gt;1, \"2\"-&gt;3, ...\n  .mergeWith(Observable.from((1..5).map { it.toString() to 0 })) // defaults \"4\"-&gt;0\n  .reduce(mutableMapOf&lt;String, Int&gt;()) { acc, cur -&gt;\n      acc.apply {\n        val (key, count) = cur  \n        this[key] = (this[key] ?: 0) + count // add counts\n      }\n  }.subscribe { countedRates -&gt; \n    println(countedRates)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3690, "user_id": 1137789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2218f21b85cbbe41f351bf762db08352?s=128&d=identicon&r=PG", "display_name": "Praveer Gupta", "link": "https://stackoverflow.com/users/1137789/praveer-gupta"}, "is_accepted": false, "score": 5, "last_activity_date": 1477900965, "creation_date": 1477900965, "answer_id": 40338435, "question_id": 40335952, "link": "https://stackoverflow.com/questions/40335952/how-to-do-a-groupby-and-collect-using-rxjava-and-kotlin/40338435#40338435", "title": "How to do a groupBy and collect using RxJava and Kotlin?", "body": "<p>Please look at the comments in the code for answers to your question.</p>\n\n<pre><code>import rx.Observable\n\nfun main(args: Array&lt;String&gt;) {\n    val service = Service()\n\n    // This adds all keys with each key mapped to zero\n    val referenceKeyCounts = Observable\n        .just(\"1\", \"2\", \"3\", \"4\", \"5\")\n        .map { it to 0 }\n\n    val keyCountsFromService = service.getRates()\n        .flatMap { Observable.from(it.rates) }\n        .filter { !it.value.isNullOrEmpty() }\n        .map { it.value to 1 } // map each occurrence of key to 1\n\n    Observable.concat(referenceKeyCounts, keyCountsFromService)\n        .groupBy { it.first }\n        .flatMap { group -&gt;  // this converts GroupedObservable to final values\n            group.reduce(0, { acc, pair -&gt; acc + pair.second }) // add instead of counting\n                .map { group.key to it }\n        }\n        .subscribe(::println)\n\n}\n\nclass Service {\n    fun getRates(): Observable&lt;Rates&gt; = Observable.just(Rates(listOf(\n        Rate(\"1\"), Rate(\"2\"), Rate(\"3\"), Rate(\"3\"), Rate(\"2\"), Rate(\"2\")\n    )))\n}\n\nclass Rate(val value: String)\n\nclass Rates(val rates: List&lt;Rate&gt;)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "is_accepted": false, "score": 1, "last_activity_date": 1477904224, "creation_date": 1477904224, "answer_id": 40339051, "question_id": 40335952, "link": "https://stackoverflow.com/questions/40335952/how-to-do-a-groupby-and-collect-using-rxjava-and-kotlin/40339051#40339051", "title": "How to do a groupBy and collect using RxJava and Kotlin?", "body": "<p>I think it is more about functional programming rather than a RxJava related Question</p>\n\n<p>Implement a mapping function from <code>Rates -&gt; Map&lt;String,Int&gt;</code>. </p>\n\n<p>Tricks: Merge two list of <code>Pair&lt;String,Int&gt;</code> to form a <code>Map&lt;String,Int&gt;</code></p>\n\n<pre><code>val ratesToMapWithEmptyValues: (Rates) -&gt; Map&lt;String, Int&gt; = { source -&gt;\n\n  //TODO: Just for demo\n  val validRatesValue = arrayOf(\"1\",\"2\",\"3\",\"4\",\"5\")\n\n  mapOf(\n    *validRatesValue.map { it to 0 }.toTypedArray(),\n    *source.rates.groupBy(Rate::value).mapValues { it.value.size }.toList().toTypedArray()\n  )\n\n}\n</code></pre>\n\n<p>Apply the function in <code>Observable.map</code></p>\n\n<pre><code>service.getRates()\n        .map(ratesToMapWithEmptyValues)\n</code></pre>\n"}], "owner": {"reputation": 1474, "user_id": 1568605, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/dfd2175ca0c6aac9af6fb7aed98fb56f?s=128&d=identicon&r=PG", "display_name": "\u0141ukasz Wo\u017aniczka", "link": "https://stackoverflow.com/users/1568605/%c5%81ukasz-wo%c5%baniczka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6189, "favorite_count": 1, "answer_count": 3, "score": 8, "last_activity_date": 1477917567, "creation_date": 1477882080, "last_edit_date": 1477917567, "question_id": 40335952, "link": "https://stackoverflow.com/questions/40335952/how-to-do-a-groupby-and-collect-using-rxjava-and-kotlin", "title": "How to do a groupBy and collect using RxJava and Kotlin?", "body": "<p>I have got <code>Observable&lt;Rates&gt;</code> and Rate is just a simple object: </p>\n\n<pre><code>Rate(val value:String){}\nRates(val rates: List&lt;Rate&gt;)\n</code></pre>\n\n<p>and i wanna change that <code>Observable&lt;Rates&gt;</code> into <code>Observable&lt;HashMap&lt;String,Long&gt;</code>. </p>\n\n<p>so for example for rates <code>Rates(arrayOf(Rate(\"1\"),Rate(\"2\"), Rate(\"3\"),Rate(\"3\"), Rate(\"2\"),Rate(\"2\")))</code> i expect result: </p>\n\n<pre><code>(1 -&gt; 1)\n(2 -&gt; 3)\n(3 -&gt; 2)\n(4 -&gt; 0)\n(5 -&gt; 0)\n</code></pre>\n\n<p>I start creating something like that : </p>\n\n<pre><code>service.getRates()\n        .flatMap {it-&gt; Observable.from(it.rates) }\n        .filter { !it.value.isNullOrEmpty() }\n        .groupBy {it -&gt; it.value}\n        .collect({ HashMap&lt;String,Long&gt;()}, { b, t -&gt; b.put(t.key, t.count???)}\n</code></pre>\n\n<p>but I am stuck here and i do not know count all values? and i do not know how to add empty values (0) if there is no 5 of 4. Is there any way to do this using rx? </p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "is_accepted": true, "score": 2, "last_activity_date": 1477834115, "creation_date": 1477834115, "answer_id": 40329631, "question_id": 40329051, "link": "https://stackoverflow.com/questions/40329051/kotlin-get-superclass-from-class-object-object-inference-error/40329631#40329631", "title": "Kotlin: Get superclass from class object - object inference error", "body": "<p>In Java, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getSuperclass\" rel=\"nofollow\"><code>Class&lt;T&gt;.getSuperClass()</code></a> returns <code>Class&lt;? super T&gt;</code>. The equalivant of this in Kotlin is <code>Class&lt;in T&gt;</code>.</p>\n\n<p>In your code, <code>var c = nodeClass</code> has an implicit type of <code>Class&lt;Any&gt;</code>, which is not compatible with <code>Class&lt;in T&gt;</code>.</p>\n\n<p>To fix this, simply specify the type c directly:</p>\n\n<p><code>var c: Class&lt;in Any&gt; = nodeClass</code></p>\n"}], "owner": {"reputation": 1635, "user_id": 3918512, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001599098944/picture?type=large", "display_name": "Robin Nabel", "link": "https://stackoverflow.com/users/3918512/robin-nabel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1439, "favorite_count": 0, "accepted_answer_id": 40329631, "answer_count": 1, "score": 2, "last_activity_date": 1477834115, "creation_date": 1477830421, "question_id": 40329051, "link": "https://stackoverflow.com/questions/40329051/kotlin-get-superclass-from-class-object-object-inference-error", "title": "Kotlin: Get superclass from class object - object inference error", "body": "<p>The following code should iterate through the chain of superclasses of the passed object's class until the top-level is reached. </p>\n\n<pre><code>protected fun getBestMethodFor(o: Any): Method? {\n    val nodeClass = o.javaClass\n    val objectClass = Any::class.java\n    ...\n\n    // Go through superclasses.\n    var c = nodeClass\n    while (c != objectClass &amp;&amp; ans == null) {\n        debugMsg(\"Looking for class match for \" + c.name)\n        ...\n        c = c.superclass\n    }\n    ...\n}\n</code></pre>\n\n<p>This results in 2 errors:</p>\n\n<pre><code>Error:(57, 17) Kotlin: Type mismatch: inferred type is Class&lt;in Any!&gt;! but Class&lt;Any&gt; was expected\nError:(57, 19) Kotlin: Type inference failed. Expected type mismatch: inferred type is Class&lt;in Any!&gt;! but Class&lt;Any&gt; was expected\n</code></pre>\n\n<p>Why is this failing, and what do I need to change to fix this?</p>\n\n<p>Note: The code was automatically converted from Java using IntelliJ's converter.</p>\n"}, {"tags": ["inheritance", "kotlin", "equality", "class-extensions"], "answers": [{"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1477900381, "post_id": 40334081, "comment_id": 67931056, "body": "I choose the <code>equals()</code> option for the moment, but your suggestion is interesting, I&#39;ll think about it, +1"}], "tags": [], "owner": {"reputation": 22943, "user_id": 870674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0463b7a46ed49025082a795ac2f67f49?s=128&d=identicon&r=PG", "display_name": "klimat", "link": "https://stackoverflow.com/users/870674/klimat"}, "is_accepted": false, "score": 1, "last_activity_date": 1477904442, "last_edit_date": 1477904442, "creation_date": 1477864739, "answer_id": 40334081, "question_id": 40328626, "link": "https://stackoverflow.com/questions/40328626/data-and-open-incompatibility-which-alternative-do-i-have/40334081#40334081", "title": "data and open incompatibility, which alternative do I have?", "body": "<p>Using interfaces and delegation pattern:</p>\n\n<pre><code>interface Texture {\n    fun method1()\n    fun method2()\n}\n\ndata class TextureImpl(val baseLayer: Int, val maxLayer: Int): Texture{\n    override fun method1() {\n\n    }\n    override fun method2() {\n\n    }\n}\n\ndata class Texture2d(val impl: TextureImpl) : Texture by impl\n\ndata class Texture3d(val impl: TextureImpl) : Texture by impl\n</code></pre>\n\n<p>You initialize concrete classes like <code>Texture2d</code> with <code>TextureImpl</code> which normally would be abstract but we can't make data class abstract.</p>\n\n<p>I hope I wouldn't be wrong if I say I replaced an inheritance with a composition here.</p>\n\n<p>Does it make sense in your case?</p>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1477903369, "post_id": 40336779, "comment_id": 67932056, "body": "Wow, I did not expected this answer to be marked )) After all, @elect, you knew it from the beginning"}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1477949094, "post_id": 40336779, "comment_id": 67956148, "body": "Well, you basically confirmed my temporary choice, so it&#39;s kind of an answer for me :p"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 1, "last_activity_date": 1477889842, "creation_date": 1477889842, "answer_id": 40336779, "question_id": 40328626, "link": "https://stackoverflow.com/questions/40328626/data-and-open-incompatibility-which-alternative-do-i-have/40336779#40336779", "title": "data and open incompatibility, which alternative do I have?", "body": "<p>IMHO the most practical solution would be to generate <code>equals</code> in <code>Texture</code> and be done with it. </p>\n\n<p>Data classes have a very narrow application on purpose. Your example does not really fit a classical <code>data</code> class, that's why you have this problem.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 40336779, "answer_count": 2, "score": 1, "last_activity_date": 1477904442, "creation_date": 1477827386, "last_edit_date": 1495541208, "question_id": 40328626, "link": "https://stackoverflow.com/questions/40328626/data-and-open-incompatibility-which-alternative-do-i-have", "title": "data and open incompatibility, which alternative do I have?", "body": "<p>I am doing a <a href=\"https://github.com/elect86/kt/tree/master/src/gli\" rel=\"nofollow noreferrer\">kotlin port</a> of <a href=\"https://github.com/g-truc/gli\" rel=\"nofollow noreferrer\">gli</a> and I got stuck now </p>\n\n<p>Actually I have the following</p>\n\n<p><code>open class Texture</code></p>\n\n<p>extended by several classes such as <code>Texture2d</code></p>\n\n<p>Now, <code>Texture</code> has quite some properties</p>\n\n<pre><code>protected val storage: StorageLinear?\nprotected val target: Target\nprotected val format: Format\nprotected val baseLayer: Int\nprotected val maxLayer: Int\nprotected val baseFace: Int\nprotected val maxFace: Int\nprotected val baseLevel: Int\nprotected val maxLevel: Int\nprotected val swizzles: Swizzles\n</code></pre>\n\n<p>therefore I'd like to have it as a <code>data</code> class in order to exploit the <code>equals()</code> that comes with it.. </p>\n\n<p>but unfortunately <code>data</code> and <code>open</code> are incompatible..(see this <a href=\"https://stackoverflow.com/questions/26444145/extend-data-class-in-kotlin\">question</a>)</p>\n\n<p>One way I can solve it, I could write my own <code>equals()</code> method, but that would be boilerplate code and dirty, exactly two of the biggest reasons why I switched to kotlin over java</p>\n\n<p>Another way, since all the <code>class</code>es extending <code>Texture</code> don't really add anything, they act kind of builders (looks cpp <a href=\"https://github.com/g-truc/gli/blob/master/gli/texture2d.hpp\" rel=\"nofollow noreferrer\"><code>Texture2d</code> class</a>), would it be that of using them as.. builders (see <a href=\"https://stackoverflow.com/a/36150989/1047713\">this excellent answer</a> from Kirill)</p>\n\n<p>But since nothing comes for free, of big disadvantage of this solution is that I'd lose the possibility to have <code>Texture2d</code> as a class and <code>Texture2d</code> has a nice <a href=\"https://github.com/g-truc/gli/blob/master/gli/texture2d.hpp#L52\" rel=\"nofollow noreferrer\">operator <code>[]</code></a> to retrieve single images of textures..</p>\n\n<p>Since the kotlin community looks extremely active and supporting, I'd like to know if you have any better idea..</p>\n"}, {"tags": ["android", "rx-java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5696, "user_id": 271736, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b1f2c4075a99d2dbff0dd6470630343?s=128&d=identicon&r=PG", "display_name": "RobGThai", "link": "https://stackoverflow.com/users/271736/robgthai"}, "edited": false, "score": 0, "creation_date": 1477858015, "post_id": 40324770, "comment_id": 67921065, "body": "Zip would merge them into a single stream which is not exactly what I&#39;m looking for."}, {"owner": {"reputation": 5696, "user_id": 271736, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b1f2c4075a99d2dbff0dd6470630343?s=128&d=identicon&r=PG", "display_name": "RobGThai", "link": "https://stackoverflow.com/users/271736/robgthai"}, "edited": false, "score": 0, "creation_date": 1477861825, "post_id": 40324770, "comment_id": 67922339, "body": "I was wrong about Zip. I ended up using it as well. I mixed up with <code>merge</code>. My bad!"}], "tags": [], "owner": {"reputation": 54, "user_id": 5611346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FjNE2.jpg?s=128&g=1", "display_name": "Nish", "link": "https://stackoverflow.com/users/5611346/nish"}, "is_accepted": false, "score": 1, "last_activity_date": 1477784648, "creation_date": 1477784648, "answer_id": 40324770, "question_id": 40324616, "link": "https://stackoverflow.com/questions/40324616/rxjava-how-to-create-observable-from-a-subscription/40324770#40324770", "title": "RxJava how to create Observable from a Subscription", "body": "<p>Have a look at <a href=\"http://reactivex.io/documentation/operators/zip.html#collapseRxJava%C2%A02%E2%80%A4x\" rel=\"nofollow\">Zip</a>.  Do something like, Observable.zip(firstObservable, secondObservable,.....{Task 3}</p>\n"}, {"tags": [], "owner": {"reputation": 4300, "user_id": 4438639, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-ebNq5Cp0Ob0/AAAAAAAAAAI/AAAAAAAAANE/MoxentxCjRw/photo.jpg?sz=128", "display_name": "Florescu C\u0103t\u0103lin", "link": "https://stackoverflow.com/users/4438639/florescu-c%c4%83t%c4%83lin"}, "is_accepted": false, "score": 3, "last_activity_date": 1493278349, "last_edit_date": 1493278349, "creation_date": 1477786247, "answer_id": 40324904, "question_id": 40324616, "link": "https://stackoverflow.com/questions/40324616/rxjava-how-to-create-observable-from-a-subscription/40324904#40324904", "title": "RxJava how to create Observable from a Subscription", "body": "<pre><code>.doOnNext()\n</code></pre>\n\n<p>is your answer, because will return your final response or each response if are multiple. Have a try.</p>\n"}, {"comments": [{"owner": {"reputation": 5696, "user_id": 271736, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b1f2c4075a99d2dbff0dd6470630343?s=128&d=identicon&r=PG", "display_name": "RobGThai", "link": "https://stackoverflow.com/users/271736/robgthai"}, "edited": false, "score": 0, "creation_date": 1477861719, "post_id": 40330207, "comment_id": 67922298, "body": "Thanks for the thorough example. Appreciated your help. I ended up using <code>doOnNext</code> for caching then zip both Observable into one. This make method signature a verbose but it will do."}], "tags": [], "owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "is_accepted": true, "score": 0, "last_activity_date": 1477838417, "creation_date": 1477838417, "answer_id": 40330207, "question_id": 40324616, "link": "https://stackoverflow.com/questions/40324616/rxjava-how-to-create-observable-from-a-subscription/40330207#40330207", "title": "RxJava how to create Observable from a Subscription", "body": "<p>As you have mentioned,</p>\n\n<blockquote>\n  <p>I really prefer if the subscriber for each call is separated.</p>\n</blockquote>\n\n<p>Assume we have two observables</p>\n\n<pre><code>val call1 = Observable.from(arrayOf(1,2,3,4,5,6,7,8))\n\nval call2 = Observable.from(arrayOf(2,4,6,8))\n</code></pre>\n\n<p>If we purely use <code>Observable.zip</code> as following, it only can has <strong>single</strong> subscriber for both two Call1 &amp; Call2.</p>\n\n<pre><code>Observable.zip(call1,call2) {c1, c2 -&gt; Pair(c1,c2) }.subscribe(task3Subscriber)\n</code></pre>\n\n<p>If we use three separate subscribers as following, the Call1 &amp; Call2 stream will be triggered <strong>twice</strong>.</p>\n\n<pre><code>call1.subscribe(call1Subscriber)\n\ncall2.subscribe(call2Subscriber)\n\nObservable.zip(call1,call2) {c1, c2 -&gt; Pair(c1,c2) }.subscribe(task3Subscriber)\n</code></pre>\n\n<p>Therefore, we need to use <code>.share().cacheWithInitialCapacity(1)</code> to do the tricks</p>\n\n<pre><code>val call1 = Observable.from(arrayOf(1,2,3,4,5,6,7,8))\n  .share()\n  .cacheWithInitialCapacity(1)\n\nval call2 = Observable.from(arrayOf(2,4,6,8))\n  .share()\n  .cacheWithInitialCapacity(1)\n\nval task3Signal = Observable.zip(call1,call2){ c1, c2 -&gt;\n  c1 + c2\n}\ncall1.subscribe(call1Subscriber)\ncall2.subscribe(call2Subscriber)\ntask3Signal.subscribe(task3Subscriber)\n</code></pre>\n\n<p>You can also prove/test your concept of the Rx graph from a simple Test case.</p>\n\n<pre><code>class SimpleJUnitTest {\n\n  @Test\n  fun test(){\n\n    val call1 = Observable.from(arrayOf(1,2,3,4,5,6,7,8))\n      .doOnNext { println(\"call1 doOnNext $it\") }\n      .share()\n      .cacheWithInitialCapacity(1)\n\n    val call2 = Observable.from(arrayOf(2,4,6,8))\n      .doOnNext { println(\"call2 doOnNext $it\") }\n      .share()\n      .cacheWithInitialCapacity(1)\n\n    val task3Signal = Observable.zip(call1,call2){ c1, c2 -&gt;\n      println(\"task3Signal c1:$c1, c2: $c2\")\n      c1 + c2\n    }\n\n    val testSubscriber1 = TestSubscriber&lt;Int&gt;()\n    val testSubscriber2 = TestSubscriber&lt;Int&gt;()\n    val testSubscriber3 = TestSubscriber&lt;Int&gt;()\n    call1.subscribe(testSubscriber1)\n    call2.subscribe(testSubscriber2)\n    task3Signal.subscribe(testSubscriber3)\n\n    testSubscriber1.assertReceivedOnNext(listOf(1,2,3,4,5,6,7,8))\n    testSubscriber2.assertReceivedOnNext(listOf(2,4,6,8))\n    testSubscriber3.assertReceivedOnNext(listOf(3,6,9,12))\n    testSubscriber1.assertValueCount(8)\n    testSubscriber2.assertValueCount(4)\n    testSubscriber3.assertValueCount(4)\n\n\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>call1 doOnNext 1\ncall1 doOnNext 2\ncall1 doOnNext 3\ncall1 doOnNext 4\ncall1 doOnNext 5\ncall1 doOnNext 6\ncall1 doOnNext 7\ncall1 doOnNext 8\ncall2 doOnNext 2\ncall2 doOnNext 4\ncall2 doOnNext 6\ncall2 doOnNext 8\ntask3Signal c1:1, c2: 2\ntask3Signal c1:2, c2: 4\ntask3Signal c1:3, c2: 6\ntask3Signal c1:4, c2: 8\n</code></pre>\n"}], "owner": {"reputation": 5696, "user_id": 271736, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b1f2c4075a99d2dbff0dd6470630343?s=128&d=identicon&r=PG", "display_name": "RobGThai", "link": "https://stackoverflow.com/users/271736/robgthai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 40330207, "answer_count": 3, "score": 1, "last_activity_date": 1493278349, "creation_date": 1477783150, "question_id": 40324616, "link": "https://stackoverflow.com/questions/40324616/rxjava-how-to-create-observable-from-a-subscription", "title": "RxJava how to create Observable from a Subscription", "body": "<p>I'm looking for a way to create Observable after processing the result in <code>subscribe</code>.</p>\n\n<p>Given I have this Observable from <code>productRepo.list()</code> which is <strong>Retrofit</strong> returning <code>Observable&lt;Response&lt;ProductResponse&gt;&gt;</code>.</p>\n\n<pre><code>productRepo\n    .list()\n    .retry(3)\n    .subscribe { response -&gt;\n        if (response.isSuccessful) {\n            response.body().apply {\n                cache.saveProducts(data)\n            }\n        }\n    }\n</code></pre>\n\n<p>The purpose of this is to save the result into local DB <code>cache</code>. This plus <strong>another very similar call</strong> populate local DB with remote data from API.</p>\n\n<p>After the two calls completed I wanted to load data from the <code>cache</code>.</p>\n\n<p>I don't want to combine both observable in any way. Just want to run some task afterward. </p>\n\n<p>I want this handling as a unit in Rx call graph so that it does Call1 and Call2 at the same time and once Call1 and Call2 completed run Task3. What's the best way in this scenario? I really prefer if the subscriber for each call is separated.</p>\n\n<p>Is <code>flatMap</code> the best option here?</p>\n"}, {"tags": ["android", "kotlin", "sugarorm"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1477826218, "post_id": 40321879, "comment_id": 67912010, "body": "I tried to dig into the Sugar ORM sources (here&#39;s <a href=\"https://github.com/satyan/sugar/blob/ca5dd14df77d4a78047197f223eaf1b0f6c50c16/library/src/main/java/com/orm/util/ReflectionUtil.java\" rel=\"nofollow noreferrer\">the most relevant part</a>) and to reproduce your problem to see what happens inside Sugar ORM. But, surprisingly, <code>getTableFields</code> returns only the <code>login</code> field when called on your <code>KotlinUser</code> class. Could you please re-check if the problem is actually in Sugar ORM persisting <code>KotlinUser::password</code>? Maybe the entry comes from some of the previous runs..."}, {"owner": {"reputation": 1427, "user_id": 1815052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bed5ab71b8d23d9bf07a5fa12915699c?s=128&d=identicon&r=PG", "display_name": "SqueezyMo", "link": "https://stackoverflow.com/users/1815052/squeezymo"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1477829082, "post_id": 40321879, "comment_id": 67912694, "body": "Well, I actually created a new project from scratch to reproduce this behavior. For what it&#39;s worth, here&#39;s the <a href=\"https://github.com/squeezymo/SugarORMTest\" rel=\"nofollow noreferrer\">source</a>; I also applied two solutions from @voddan."}], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1477822649, "post_id": 40327533, "comment_id": 67911063, "body": "As far as I see, <a href=\"https://github.com/satyan/sugar/blob/ca5dd14df77d4a78047197f223eaf1b0f6c50c16/library/src/main/java/com/orm/annotation/Ignore.java\" rel=\"nofollow noreferrer\"><code>@Ignore</code></a> has target <code>FIELD</code>, so it should be applied to the field implicitly, without specifying <code>@field:</code>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1477825048, "post_id": 40327533, "comment_id": 67911694, "body": "Yes, check <a href=\"https://gist.github.com/h0tk3y/cb178ea938bdcfc78bc772755c49c0d8\" rel=\"nofollow noreferrer\">this gist</a>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1477826378, "post_id": 40327533, "comment_id": 67912051, "body": "At this point, it seems to me like the problem is not in <code>@Ignore</code> (please see my comment to the question for details)."}, {"owner": {"reputation": 1427, "user_id": 1815052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bed5ab71b8d23d9bf07a5fa12915699c?s=128&d=identicon&r=PG", "display_name": "SqueezyMo", "link": "https://stackoverflow.com/users/1815052/squeezymo"}, "edited": false, "score": 0, "creation_date": 1477829030, "post_id": 40327533, "comment_id": 67912682, "body": "I tried the first approach and it didn&#39;t help. But targeting did the trick."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 3, "last_activity_date": 1477818627, "creation_date": 1477818627, "answer_id": 40327533, "question_id": 40321879, "link": "https://stackoverflow.com/questions/40321879/kotlin-ignored-properties-persisted-by-sugar-orm/40327533#40327533", "title": "Kotlin: @Ignore&#39;d properties persisted by Sugar ORM", "body": "<p>The core difference between your Java and Kotlin code is that in Java you use fields, but in Kotlin you use properties. See the <a href=\"https://kotlinlang.org/docs/reference/properties.html#properties-and-fields\" rel=\"nofollow\">Properties and Fields</a> section in documentation. </p>\n\n<p>You may try the following solutions and see what works best with SugarORM:</p>\n\n<h3>1. Make Kotlin expose fields:</h3>\n\n<pre><code>@Ignore @JvmField var password: String = \"password\"\n</code></pre>\n\n<h3>2. Apply your annotation to the private backing field:</h3>\n\n<pre><code>@field:Ignore var password: String = \"password\"\n</code></pre>\n"}], "owner": {"reputation": 1427, "user_id": 1815052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bed5ab71b8d23d9bf07a5fa12915699c?s=128&d=identicon&r=PG", "display_name": "SqueezyMo", "link": "https://stackoverflow.com/users/1815052/squeezymo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "accepted_answer_id": 40327533, "answer_count": 1, "score": 4, "last_activity_date": 1477818627, "creation_date": 1477763177, "question_id": 40321879, "link": "https://stackoverflow.com/questions/40321879/kotlin-ignored-properties-persisted-by-sugar-orm", "title": "Kotlin: @Ignore&#39;d properties persisted by Sugar ORM", "body": "<p>In my Android app, I'm using Kotlin in conjunction with SugarORM and I have encountered an issue trying to prevent some properties from being persisted. Ironically, the <code>@com.orm.dsl.Ignore</code> annotation seems to be ignored when used in Kotlin classes.</p>\n\n<p>As an example, </p>\n\n<p>1) let's declare two seemingly identical models:</p>\n\n<pre><code>// JavaUser.java\npublic class JavaUser extends SugarRecord {\n    public String login = \"login\";\n    @Ignore public String password = \"password\";\n}\n\n// KotlinUser.kt\nclass KotlinUser : SugarRecord() {\n    var login: String = \"login\"\n    @Ignore var password: String = \"password\"\n}\n</code></pre>\n\n<p>2) persist their instances</p>\n\n<pre><code>JavaUser().save()\nKotlinUser().save()\n</code></pre>\n\n<p>3) and take a look at what's actually being persisted:</p>\n\n<pre><code>sqlite&gt; select * from java_user;\nID|LOGIN\n1|login\n\nsqlite&gt; select * from kotlin_user;\nID|LOGIN|PASSWORD\n1|login|password\n</code></pre>\n\n<p>I realize that it may have something to do with Kotlin annotation processing but I'm just not sure how I can go about it. Any suggestions are most welcome.</p>\n"}, {"tags": ["operator-overloading", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1477761770, "post_id": 40321577, "comment_id": 67899031, "body": "Updated the answer due to the update of the question."}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 1, "creation_date": 1498423643, "post_id": 40321577, "comment_id": 76481864, "body": "How do you arrange for the function to return <code>false</code> when <code>other</code> is not an instance of <code>Texture</code>?"}, {"owner": {"reputation": 9191, "user_id": 345716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/07f86ee9fbdc7b247c49a6894b46a455?s=128&d=identicon&r=PG", "display_name": "Peter V. M&#248;rch", "link": "https://stackoverflow.com/users/345716/peter-v-m%c3%b8rch"}, "reply_to_user": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 1, "creation_date": 1586774713, "post_id": 40321577, "comment_id": 108242055, "body": "@saulspatz: I guess the first line lines could be <code>if (other == null || other !is Texture) return false</code>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 8, "last_activity_date": 1477763696, "last_edit_date": 1495540124, "creation_date": 1477761139, "answer_id": 40321577, "question_id": 40321557, "link": "https://stackoverflow.com/questions/40321557/problems-defining-equals-operator/40321577#40321577", "title": "Problems defining equals() operator", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/#any\" rel=\"noreferrer\"><code>equals()</code> operator function is defined in <code>Any</code></a>, so it should be overriden with a compatible signature: its parameter <code>other</code> should be of type <code>Any?</code>, and its return value should be <code>Boolean</code> <s>or its subtype</s> <em>(it's final)</em>:</p>\n\n<pre><code>open class Texture {\n    // ...\n\n    override operator fun equals(other: Any?): Boolean { ... }\n}\n</code></pre>\n\n<p>Without <a href=\"https://kotlinlang.org/docs/reference/classes.html#overriding-members\" rel=\"noreferrer\">the <code>override</code> modifier</a>, your function will clash with the <code>Any::equals</code>, hence the accidental override. Also, <code>equals()</code> cannot be an extension (<a href=\"https://stackoverflow.com/questions/35970957/how-to-extend-a-dataclass-with-tostring\">just like <code>toString()</code></a>), and it cannot be overriden in an interface.</p>\n\n<p>In IntelliJ IDEA, you can use <kbd>Ctrl</kbd>+<kbd>O</kbd> to override a member, or <kbd>Ctrl</kbd>+<kbd>Insert</kbd> to generate <code>equals()</code>+<code>hashCode()</code></p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1269, "favorite_count": 0, "accepted_answer_id": 40321577, "answer_count": 1, "score": 10, "last_activity_date": 1477763696, "creation_date": 1477760992, "question_id": 40321557, "link": "https://stackoverflow.com/questions/40321557/problems-defining-equals-operator", "title": "Problems defining equals() operator", "body": "<p>I have a class</p>\n\n<pre><code>open class Texture\n</code></pre>\n\n<p>and I'd like to define the <code>equals(other: Texture)</code> operator</p>\n\n<p><code>operator fun equals(other: Texture) = ...</code></p>\n\n<p>but I get</p>\n\n<blockquote>\n  <p>Error:(129, 5) Kotlin: 'operator' modifier is inapplicable on this function: must override ''equals()'' in Any</p>\n</blockquote>\n\n<p>What does it mean?</p>\n\n<p>If I change that to</p>\n\n<p><code>operator fun equals(other: Any) = ...</code></p>\n\n<blockquote>\n  <p>Accidental override, two declarations have the same jvm signature</p>\n</blockquote>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1477760825, "post_id": 40321484, "comment_id": 67898731, "body": "Why do you have a separate class to do the request?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1477760937, "post_id": 40321484, "comment_id": 67898768, "body": "Also, volley doesn&#39;t automatically refresh or bind to any views  unless you tell it to. Which, you&#39;ve done at <code>setText(city.name)</code>, for example. Not really sure I see the need for <code>var city</code>"}, {"owner": {"reputation": 465, "user_id": 1150584, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fe4e7dc367aad19833260a74e72bdf5e?s=128&d=identicon&r=PG", "display_name": "Andre Roque", "link": "https://stackoverflow.com/users/1150584/andre-roque"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1477761596, "post_id": 40321484, "comment_id": 67898977, "body": "@cricket_007 just for organization reason. not more then that. I&#39;m new at Android so that&#39;s what I wanna know, if there&#39;s a way to update an instance lets say, then the view is refresh"}, {"owner": {"reputation": 465, "user_id": 1150584, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fe4e7dc367aad19833260a74e72bdf5e?s=128&d=identicon&r=PG", "display_name": "Andre Roque", "link": "https://stackoverflow.com/users/1150584/andre-roque"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1477761618, "post_id": 40321484, "comment_id": 67898983, "body": "if you see in my view example the initial values are set manually"}], "answers": [{"comments": [{"owner": {"reputation": 465, "user_id": 1150584, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fe4e7dc367aad19833260a74e72bdf5e?s=128&d=identicon&r=PG", "display_name": "Andre Roque", "link": "https://stackoverflow.com/users/1150584/andre-roque"}, "edited": false, "score": 0, "creation_date": 1477761687, "post_id": 40321635, "comment_id": 67899009, "body": "my question is, how can I bind that city instance fields to my &quot;TextView&quot; fields in the view?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 465, "user_id": 1150584, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fe4e7dc367aad19833260a74e72bdf5e?s=128&d=identicon&r=PG", "display_name": "Andre Roque", "link": "https://stackoverflow.com/users/1150584/andre-roque"}, "edited": false, "score": 0, "creation_date": 1477761825, "post_id": 40321635, "comment_id": 67899053, "body": "<code>(findViewById(R.id.txtCity) as TextView).setText(city.name)</code>... Right?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 465, "user_id": 1150584, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fe4e7dc367aad19833260a74e72bdf5e?s=128&d=identicon&r=PG", "display_name": "Andre Roque", "link": "https://stackoverflow.com/users/1150584/andre-roque"}, "edited": false, "score": 0, "creation_date": 1477761921, "post_id": 40321635, "comment_id": 67899079, "body": "If you are trying to ask about this data binding library, I can&#39;t help with that.  <a href=\"https://developer.android.com/topic/libraries/data-binding/index.html\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/data-binding/index.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 465, "user_id": 1150584, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fe4e7dc367aad19833260a74e72bdf5e?s=128&d=identicon&r=PG", "display_name": "Andre Roque", "link": "https://stackoverflow.com/users/1150584/andre-roque"}, "edited": false, "score": 0, "creation_date": 1477761940, "post_id": 40321635, "comment_id": 67899087, "body": "That I know, I was asking if there&#39;s a way to just do it automatically. Or that is the more efficient one. I asked this because I usually use ASP.Net MVC and WPF where you do almost everything by binding. Not setting the field"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 465, "user_id": 1150584, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fe4e7dc367aad19833260a74e72bdf5e?s=128&d=identicon&r=PG", "display_name": "Andre Roque", "link": "https://stackoverflow.com/users/1150584/andre-roque"}, "edited": false, "score": 0, "creation_date": 1477762081, "post_id": 40321635, "comment_id": 67899123, "body": "Okay, yeah, if you draw that comparison, you&#39;ll just need that library I linked to. Still, though, this approach of defining the callback will allow you to more easily get the references to the Activity class you called to your weather service from"}, {"owner": {"reputation": 465, "user_id": 1150584, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fe4e7dc367aad19833260a74e72bdf5e?s=128&d=identicon&r=PG", "display_name": "Andre Roque", "link": "https://stackoverflow.com/users/1150584/andre-roque"}, "edited": false, "score": 0, "creation_date": 1477762824, "post_id": 40321635, "comment_id": 67899343, "body": "ok. thanks for the help. I think I&#39;ll go your way then investigate a bit more on the link that you gave ;)"}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 1, "last_activity_date": 1477761761, "last_edit_date": 1477761761, "creation_date": 1477761551, "answer_id": 40321635, "question_id": 40321484, "link": "https://stackoverflow.com/questions/40321484/android-update-view-after-jsonrequest-success/40321635#40321635", "title": "Android Update View after JSONRequest success", "body": "<p>Don't know Kotlin at all, but I'll try to explain enough using Java terms. </p>\n\n<p>Redefine your method to accept the Volley listener as a callback to the Activity. </p>\n\n<pre><code>public fun getCityInfo(name: String, callback: Response.Listener&lt;JSONObject&gt;)\n</code></pre>\n\n<p>Then, you call that function, passing in this closure as that <code>callback</code></p>\n\n<pre><code>getCityInfo(\"Chicago\", \n{\n    var cityName = it.getString(\"name\")\n    var main = it.getJSONObject(\"main\")\n    var temp: Double = main.getDouble(\"temp\")\n    //getting the rest of the info\n\n    var currTemp = CurrentTemperature(temp,press,humidity,min,max,state,desc,icon)\n    var city = City(name, currTemp)\n\n    setCity(city) // TODO: implement method within Activity \n}) \n</code></pre>\n\n<p>Notice a added <code>setCity</code>. You'll need to implement that to update whatever views you have. </p>\n\n<p>Now, in that other class, simply pass along the response listener from the Activity </p>\n\n<pre><code>queue.add(JsonObjectRequest(\n            URI,\n            null, \n            callback, \n            { ... } // error handle \n</code></pre>\n"}], "owner": {"reputation": 465, "user_id": 1150584, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fe4e7dc367aad19833260a74e72bdf5e?s=128&d=identicon&r=PG", "display_name": "Andre Roque", "link": "https://stackoverflow.com/users/1150584/andre-roque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 40321635, "answer_count": 1, "score": 0, "last_activity_date": 1477761761, "creation_date": 1477760529, "question_id": 40321484, "link": "https://stackoverflow.com/questions/40321484/android-update-view-after-jsonrequest-success", "title": "Android Update View after JSONRequest success", "body": "<p>I'm building an Android app (I'm using Kotlin not JAVA, but if you can get me the Java approach is fine) that's supposed to show the weather information using the OpenWeather API. I already set the view:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_margin=\"@dimen/activity_horizontal_margin\"&gt;\n    &lt;LinearLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/layCity\"&gt;\n        &lt;TextView\n            android:id=\"@+id/txtCity\"\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"wrap_content\"\n            android:text=\"PORTO\"\n            android:textSize=\"25sp\"\n            android:textStyle=\"bold\"/&gt;\n        &lt;TextView\n            android:id=\"@+id/txtCountry\"\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"wrap_content\"\n            android:text=\"(PT)\"\n            android:textSize=\"25sp\"/&gt;\n    &lt;/LinearLayout&gt;\n    &lt;LinearLayout\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/layTempDetail\"\n        android:layout_below=\"@+id/layCity\"\n        android:orientation=\"vertical\"&gt;\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/txtCurTemp\"\n            android:text=\"20\u00ba\"\n            android:textSize=\"40sp\"\n            android:textStyle=\"bold\"\n            android:layout_marginTop=\"20dp\"/&gt;\n        &lt;LinearLayout\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"&gt;\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/lblMinTemp\"\n                android:text=\"Min:\"\n                android:textStyle=\"bold\"\n                android:textSize=\"20sp\"/&gt;\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/txtMinTemp\"\n                android:text=\"10\u00ba\"\n                android:textSize=\"20sp\"/&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"&gt;\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/lblMaxTemp\"\n                android:text=\"Max:\"\n                android:textStyle=\"bold\"\n                android:textSize=\"20sp\"/&gt;\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/txtMaxTemp\"\n                android:text=\"30\u00ba\"\n                android:textSize=\"20sp\"/&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"&gt;\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/lblPressure\"\n                android:text=\"Pressure:\"\n                android:textStyle=\"bold\"\n                android:textSize=\"20sp\"/&gt;\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/txtPressure\"\n                android:text=\"100\"\n                android:textSize=\"20sp\"/&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"&gt;\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/lblHumidity\"\n                android:text=\"Humidity:\"\n                android:textStyle=\"bold\"\n                android:textSize=\"20sp\"/&gt;\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/txtHumidity\"\n                android:text=\"30%\"\n                android:textSize=\"20sp\"/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Then I have another class responsible to make the request and change each field individually like this:</p>\n\n<pre><code>public fun getCityInfo(name: String){\n        val URI = String.format(\"http://api.openweathermap.org/data/2.5/weather?q=%s&amp;appid=\", name)\n        Log.d(\"uri\", URI)\n        var cityName: String = \"\"\n        queue.add(JsonObjectRequest(\n                URI,\n                null,\n                {\n\n                    cityName = it.getString(\"name\")\n                    var main = it.getJSONObject(\"main\")\n                    var temp: Double = main.getDouble(\"temp\")\n                    //getting the rest of the info\n\n\n//I save the info that I need in a class\n\n                    var currTemp = CurrentTemperature(temp,press,humidity,min,max,state,desc,icon)\n                    var city = City(name, currTemp)\n\n\n//then set each field individually\n                    var detailsview = (context as AppCompatActivity).findViewById(R.id.layDetails) as View\n\n                    (detailsview.findViewById(R.id.txtCity) as TextView).setText(city.name)\n                    (detailsview.findViewById(R.id.txtCurTemp) as TextView).setText(city.currTemp.curr.toString())\n},\n                {\n                    Toast.makeText(context, \"Failed to get weather\", Toast.LENGTH_LONG).show()\n                }\n</code></pre>\n\n<p>But what I wanted is to return the city instance on success, then I have some kind of bind in my fields that automatically update the view.</p>\n\n<p>How can I achieve that?</p>\n"}, {"tags": ["kotlin", "boilerplate", "verbosity"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1477760563, "last_edit_date": 1477760563, "creation_date": 1477759669, "answer_id": 40321371, "question_id": 40320920, "link": "https://stackoverflow.com/questions/40320920/kotlin-secondary-constructor-that-differs-by-one-argument/40321371#40321371", "title": "Kotlin - Secondary constructor that differs by one argument", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow\"><em>Variable number of arguments</em> (<code>vararg</code>)</a> seems to fit your use case very well, but only if you can abandon <code>null</code> as the default value for <code>conditions</code> since <code>vararg</code> cannot be nullable (e.g. use <code>emptyArray()</code>):</p>\n\n<pre><code>class InstructionPrototype constructor(\n      val iname: String,\n      val opcode: Int,\n      val mnemonicExample: String,\n      val numericExample: Int,\n      val description: String,\n      val format: Format,\n      val pattern: Pattern,\n      var type: Type? = null,\n      var rt: Int? = null,\n      var funct: Int? = null,\n      vararg var conditions: (n: Int) -&gt; String? = emptyArray())\n</code></pre>\n\n<p>At use site, you can pass single <code>(n: Int) -&gt; String?</code>, and it will be packed into an array, and, in addition to passing several functions separated by comma, you can use the <strong>spread operator</strong> to pass an array:</p>\n\n<pre><code>f(vararg a: String) { }\n\nf(\"a\")\nf(\"a\", \"b\", \"c\")\n\nval array = arrayOf(\"a\", \"b\", \"c\")\nf(*array) // any array of the correct type can be passed as vararg\n</code></pre>\n\n<p>Also, several parameters before <code>conditions</code> also have default values, and there's no other way to skip them and pass <code>conditions</code> than use <a href=\"https://kotlinlang.org/docs/reference/functions.html#named-arguments\" rel=\"nofollow\">named arguments</a> and the spread operator:</p>\n\n<pre><code>fun f(x: Int = 5, vararg s: String) { }\n\nf(5, \"a\", \"b\", \"c\") // correct\nf(s = \"a\") // correct\nf(s = \"a\", \"b\", \"c\") // error\nf(s = *arrayOf(\"a\", \"b\", \"c\") // correct\n</code></pre>\n"}], "owner": {"reputation": 2379, "user_id": 5045375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/17ed0af705e0449fe49b74d8814a8ce2?s=128&d=identicon&r=PG", "display_name": "Filip Allberg", "link": "https://stackoverflow.com/users/5045375/filip-allberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 40321371, "answer_count": 1, "score": 4, "last_activity_date": 1477760563, "creation_date": 1477756644, "question_id": 40320920, "link": "https://stackoverflow.com/questions/40320920/kotlin-secondary-constructor-that-differs-by-one-argument", "title": "Kotlin - Secondary constructor that differs by one argument", "body": "<p>I have a snippet of Kotlin code where the first and the secondary constructor differs minutely, see below</p>\n\n<pre><code>class InstructionPrototype constructor(\n      val iname: String,\n      val opcode: Int,\n      val mnemonicExample: String,\n      val numericExample: Int,\n      val description: String,\n      val format: Format,\n      val pattern: Pattern,\n      var type: Type? = null,\n      var rt: Int? = null,\n      var funct: Int? = null,\n      var conditions: Array&lt;(n: Int) -&gt; String?&gt;? = null) {\n  constructor(\n        iname: String,\n        opcode: Int,\n        mnemonicExample: String,\n        numericExample: Int,\n        description: String,\n        format: Format,\n        pattern: Pattern,\n        type: Type?,\n        rt: Int?,\n        funct: Int?,\n        condition: (n: Int) -&gt; String?\n  ): this(iname, opcode, mnemonicExample, numericExample, description, \n        format, pattern, type, rt, funct, arrayOf(condition)) {\n\n  }\n</code></pre>\n\n<p>is it possible to reduce the verbosity of this through some language construct? I was thinking about algebraic data types but that did not feel like a good fit - it came across as \"hacky\".</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 455, "user_id": 3939801, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d6622d85dce3775d9a0fded348cf85a?s=128&d=identicon&r=PG&f=1", "display_name": "Sven Vidak", "link": "https://stackoverflow.com/users/3939801/sven-vidak"}, "edited": false, "score": 0, "creation_date": 1477823727, "post_id": 40322245, "comment_id": 67911331, "body": "Because I need to show different views for different data types. E.g. if data type is a boolean, I need checkbox, if is a string or number I need textfield, if is an array of options, I need spinner/combobox (not sure about the name)"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 455, "user_id": 3939801, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d6622d85dce3775d9a0fded348cf85a?s=128&d=identicon&r=PG&f=1", "display_name": "Sven Vidak", "link": "https://stackoverflow.com/users/3939801/sven-vidak"}, "edited": false, "score": 0, "creation_date": 1477950754, "post_id": 40322245, "comment_id": 67956831, "body": "I would suggest looking into the Form component. Loop over your parameters, check the type and append the correct field editor. It seems like a View per parameter is overkill."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1477765543, "creation_date": 1477765543, "answer_id": 40322245, "question_id": 40320767, "link": "https://stackoverflow.com/questions/40320767/create-an-arbitrary-view/40322245#40322245", "title": "Create an arbitrary view", "body": "<p>The reason this is not working for you is that you simply call <code>parameterContainer.getView()</code> but you don't add the View to the row. I think what's confusing you is that for builders you can just say <code>label()</code> for example, and it's added to the current Node in the builder tree. In your case, you just say <code>Label()</code> (just create an instance of Label, not call the label builder), which would create a new Label, but not add it to the children list of the current Node. To solve your problem, do:</p>\n\n<pre><code>this += it.parameterContainer.getView()\n</code></pre>\n\n<p>This will add the View to the row.</p>\n\n<p>Apart from this, I don't quite see the point of the ValueContainer. What does it solve to put a View inside this container object? I suspect this as well might be due to a misunderstanding and I'd like to understand why you feel that you need this construct.</p>\n"}], "owner": {"reputation": 455, "user_id": 3939801, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d6622d85dce3775d9a0fded348cf85a?s=128&d=identicon&r=PG&f=1", "display_name": "Sven Vidak", "link": "https://stackoverflow.com/users/3939801/sven-vidak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 40322245, "answer_count": 1, "score": 0, "last_activity_date": 1477765543, "creation_date": 1477755535, "question_id": 40320767, "link": "https://stackoverflow.com/questions/40320767/create-an-arbitrary-view", "title": "Create an arbitrary view", "body": "<p>So, I have a case in which I need to have N rows in form of: <code>Label TextView/Checkbox</code>. Maybe I will have to have more than those two views, so I want to be able to support anything that is TornadoFx <code>View</code>.</p>\n\n<p>I've created an interface that has one method that returns TornadoFx <code>View</code> and it looks like this:</p>\n\n<pre><code>interface ValueContainer {\n    fun getView() : View\n}\n</code></pre>\n\n<p>One of the implementations looks like this:</p>\n\n<pre><code>class BooleanValueContainer(val checked: Boolean) : ValueContainer {\n\n   val valueProperty = SimpleBooleanProperty(checked)\n\n   override fun getView(): View {\n       return (object : View() {\n           override val root = checkbox {\n               bind(valueProperty)\n           }\n       })\n   }\n</code></pre>\n\n<p>}</p>\n\n<p>Now, when I try to use it inside <code>init</code> block, it doesn't show in the layout. <code>root</code> is <code>GridPane</code> and <code>parameters</code> is a list of objects that have name and reference to <code>ValueContainer</code> implementation (<code>BooleanValueContainer</code> or other one which I haven't shown):</p>\n\n<pre><code>init {\n    with(root) {\n        parameters.map {\n            row(it.name) {\n                it.parameterContainer.getView()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I'm stuck here for quite a while and I've tried anything I could find but nothing really worked except putting <code>textview</code> or <code>checkbox</code> block instead of <code>getView()</code> call, but then I would have to have logic on what view should I show inside this class which represents a view and I don't want that.</p>\n"}, {"tags": ["lazy-evaluation", "kotlin", "assert", "lazy-initialization"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1477742607, "post_id": 40318852, "comment_id": 67893841, "body": "Btw, I think this is called <code>property</code>, not <code>field</code>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1477742634, "post_id": 40318852, "comment_id": 67893852, "body": "Don&#39;t hide the code that causes the exception. Don&#39;t make us guess what you&#39;re doing wrong."}, {"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1477742740, "post_id": 40318852, "comment_id": 67893881, "body": "Fixed both, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1477742799, "post_id": 40318885, "comment_id": 67893892, "body": "Crap, I missed that, thanks! Btw is this the right way to lazily init a <code>property</code> and assert it or is there a better way?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "edited": false, "score": 0, "creation_date": 1477772152, "post_id": 40318885, "comment_id": 67902105, "body": "Looking on your example I can&#39;t really understand why you are making this property lazy at all. I would go with a normal property."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1477918750, "post_id": 40318885, "comment_id": 67939380, "body": "If you do want to apply stuff (e.g. asserts) to something returned in a lambda I recommend using <code>apply</code> instead of a temp variable. e.g.: <code>val table: Array&lt;FormatInfo&gt; by lazy { arrayOf(...).apply { assert(this...) } }</code>."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 3, "last_activity_date": 1477742546, "creation_date": 1477742546, "answer_id": 40318885, "question_id": 40318852, "link": "https://stackoverflow.com/questions/40318852/is-it-possible-to-lazily-initialize-a-property-and-assert-it/40318885#40318885", "title": "Is it possible to lazily initialize a property and assert it?", "body": "<p>The stack trace looks like you are calling the property from inside the <code>lazy {}</code> lambda, which obviously makes it crush.</p>\n\n<p>This should work:</p>\n\n<pre><code>val table: Array&lt;FormatInfo&gt; by lazy {\n   val t = arrayOf(...)\n   myAssert(t)\n   t\n}\n</code></pre>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 40318885, "answer_count": 1, "score": 1, "last_activity_date": 1477742662, "creation_date": 1477742353, "last_edit_date": 1477742662, "question_id": 40318852, "link": "https://stackoverflow.com/questions/40318852/is-it-possible-to-lazily-initialize-a-property-and-assert-it", "title": "Is it possible to lazily initialize a property and assert it?", "body": "<p>How can I lazy init a field and execute an assert on it?</p>\n\n<p>I tried</p>\n\n<pre><code>val table: Array&lt;FormatInfo&gt; by lazy {\n   val t = arrayOf(...)\n   assert(table.size == FORMAT_COUNT, { System.err.println(\"GLI error: format descriptor list doesn't match number of supported formats\") })\n   t\n}\n</code></pre>\n\n<p>But it goes in overflow:</p>\n\n<pre><code>java.lang.StackOverflowError\n    at gli.GliKt$table$2.invoke(gli.kt:451)\n    at gli.GliKt$table$2.invoke(gli.kt)\n    at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:131)\n    at gli.GliKt.getTable(gli.kt)\n    at gli.GliKt$table$2.invoke(gli.kt:693)\n    at gli.GliKt$table$2.invoke(gli.kt)\n    at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:131)\n    at gli.GliKt.getTable(gli.kt)\n    at gli.GliKt$table$2.invoke(gli.kt:693)...\n</code></pre>\n\n<p>How can I solve?</p>\n"}, {"tags": ["java", "android", "concurrency", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1477674063, "post_id": 40309776, "comment_id": 67876831, "body": "Well, <code>lock.await()</code> will never unblock at least if <code>NullPointerException</code> is thrown in the <code>try</code> block before <code>lock.countDown()</code> is called. Isn&#39;t it the case?"}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1477674351, "post_id": 40309776, "comment_id": 67877014, "body": "@hotkey I thought, if exception is thrown - await() won&#39;t be called. But let me check"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1477674432, "post_id": 40309776, "comment_id": 67877058, "body": "My bad, I didn&#39;t spot the <code>return null</code> in the <code>catch</code> block. Sorry."}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1477674944, "post_id": 40309776, "comment_id": 67877333, "body": "I replaced <code>return null</code> with <code>lock.countdown</code> - still an issue"}, {"owner": {"reputation": 38836, "user_id": 1997376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3AtSv.png?s=128&g=1", "display_name": "Nicolas Filotto", "link": "https://stackoverflow.com/users/1997376/nicolas-filotto"}, "edited": false, "score": 0, "creation_date": 1477851220, "post_id": 40309776, "comment_id": 67919057, "body": "do you see the log messages in your log, indicating that the listeners have been called? if so which message do you get?"}, {"owner": {"reputation": 38836, "user_id": 1997376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3AtSv.png?s=128&g=1", "display_name": "Nicolas Filotto", "link": "https://stackoverflow.com/users/1997376/nicolas-filotto"}, "edited": false, "score": 0, "creation_date": 1477851900, "post_id": 40309776, "comment_id": 67919268, "body": "you should modify your code to call <code>lock.countDown()</code> in a <code>finally</code> block, indeed here if <code>BitmapFactory.decodeByteArray(bytes, 0, bytes.size).scale(ctx.dip(64))</code> fails, <code>lock.countDown()</code> is never called"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 38836, "user_id": 1997376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3AtSv.png?s=128&g=1", "display_name": "Nicolas Filotto", "link": "https://stackoverflow.com/users/1997376/nicolas-filotto"}, "edited": false, "score": 2, "creation_date": 1477873719, "post_id": 40309776, "comment_id": 67925483, "body": "@NicolasFilotto if he calls <code>lock.countDown()</code> in the finally block then it will never wait. the finally is on his main thread that is supposed to wait."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1477873819, "post_id": 40309776, "comment_id": 67925498, "body": "@DimaRostopira can you show the logged messages as requested, they are evidence."}, {"owner": {"reputation": 38836, "user_id": 1997376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3AtSv.png?s=128&g=1", "display_name": "Nicolas Filotto", "link": "https://stackoverflow.com/users/1997376/nicolas-filotto"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1477896229, "post_id": 40309776, "comment_id": 67929891, "body": "@JaysonMinard I believe that you missunderstand my proposal, what I propose is to put code of listeners in try/finally blocks and call lock.countDown() in the finally blocks to ensure that it will be called whatever happens"}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 38836, "user_id": 1997376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3AtSv.png?s=128&g=1", "display_name": "Nicolas Filotto", "link": "https://stackoverflow.com/users/1997376/nicolas-filotto"}, "edited": false, "score": 0, "creation_date": 1477903590, "post_id": 40309776, "comment_id": 67932141, "body": "@NicolasFilotto I see messages in logcat, and can catch this lines with debugger. All three listeners are called, onComplete always, onFailure and onSuccess depends on result. Also I put <code>lock.countDown()</code> in catch block, updated code"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 38836, "user_id": 1997376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3AtSv.png?s=128&g=1", "display_name": "Nicolas Filotto", "link": "https://stackoverflow.com/users/1997376/nicolas-filotto"}, "edited": false, "score": 0, "creation_date": 1477917038, "post_id": 40309776, "comment_id": 67938431, "body": "@NicolasFilotto ah, makes sense if the failures are within the callbacks.  Good plan."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1477917135, "post_id": 40309776, "comment_id": 67938479, "body": "@DimaRostopira the last proposal of Nicolas was to make sure within each callback you have a <code>try...finally { lock.countDown() }</code> so that any errors during the callback don&#39;t prevent the countDown call (which would cause this to lockup).  it is likely your only hole in the code if something like <code>decodeByteArray</code> fails with exception."}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1477917551, "post_id": 40309776, "comment_id": 67938705, "body": "@JaysonMinard then there will be no wait, firebase spawns new thread and finally will be called before file loaded. But I will try surround <code>decode...</code> with try catch, but this doesn&#39;t makes sense, since onCompleted called always"}], "answers": [{"tags": [], "owner": {"reputation": 38836, "user_id": 1997376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3AtSv.png?s=128&g=1", "display_name": "Nicolas Filotto", "link": "https://stackoverflow.com/users/1997376/nicolas-filotto"}, "is_accepted": true, "score": 2, "last_activity_date": 1477918949, "creation_date": 1477918949, "answer_id": 40342738, "question_id": 40309776, "link": "https://stackoverflow.com/questions/40309776/countdownlatch-not-freeing-thread/40342738#40342738", "title": "CountDownLatch not freeing thread", "body": "<p>If you want to be sure that <code>lock.await()</code> won't make your current thread wait forever, you need to ensure that <code>lock.countDown()</code> is called whatever happens so here you should surround with a <code>try/finally</code> block the code of your listeners in order to call <code>lock.countDown()</code> within a <code>finally</code> block. </p>\n\n<p>Indeed otherwise with your current code if for example <code>BitmapFactory.decodeByteArray(bytes, 0, bytes.size).scale(ctx.dip(64))</code> fails, <code>lock.countDown()</code> will never be called which will make the thread calling <code>lock.await()</code> wait forever.</p>\n\n<p><em>For example in case of a success the code of your listener should rather be:</em></p>\n\n<pre><code>.addOnSuccessListener { bytes -&gt;\n    try {\n        Log.wtf(TAG, \"$name loaded\")\n        val b = BitmapFactory.decodeByteArray(bytes, 0, bytes.size).scale(ctx.dip(64))\n        result = b\n    } finally {\n        lock.countDown()\n    }        \n    ctx.saveToCache(name, b)\n}\n</code></pre>\n"}], "owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 40342738, "answer_count": 1, "score": 2, "last_activity_date": 1477918949, "creation_date": 1477673740, "last_edit_date": 1477905916, "question_id": 40309776, "link": "https://stackoverflow.com/questions/40309776/countdownlatch-not-freeing-thread", "title": "CountDownLatch not freeing thread", "body": "<p>I have a method, which loading image from Firebase Storage. It's called in background thread, and I need to block it, until image is loaded (to avoid callback hell). Here is the code (in Kotlin)</p>\n\n<pre><code>override fun fromNet(): Bitmap? {\n    Log.wtf(TAG, \"$name loading from firebase\")\n    var result: Bitmap? = null\n    val lock = CountDownLatch(1)\n    try {\n        FirebaseStorage.getInstance().getReferenceFromUrl(FIRE_STORAGE).child(ctx.getKGL().famkey)\n            .child(name).getBytes(524288L)\n            .addOnFailureListener {\n                Log.wtf(TAG, \"$name load failure\")\n                lock.countDown()\n            }\n            .addOnSuccessListener { bytes -&gt;\n                Log.wtf(TAG, \"$name loaded\")\n                val b = BitmapFactory.decodeByteArray(bytes, 0, bytes.size).scale(ctx.dip(64))\n                result = b\n                lock.countDown()\n                ctx.saveToCache(name, b)\n            }\n            .addOnCompleteListener {\n                Log.wtf(TAG, \"on complete\")\n                lock.countDown()\n            }\n    } catch (ignored: NullPointerException) { lock.countDown() }\n    lock.await()\n    return result\n}\n</code></pre>\n\n<p>But thread stays blocked forever</p>\n\n<p>Logcat:</p>\n\n<pre><code>A/MemberPhoto: xvd6z67gZfMCLG4c9mkGXKe9ML53 load failure\nA/MemberPhoto: on complete\n</code></pre>\n\n<p>UPD: May the cause be, that Firebase code is Java, and my code is in Kotlin?</p>\n"}, {"tags": ["enums", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1477646311, "post_id": 40301815, "comment_id": 67861144, "body": "use <code>EGraphicsAPIConvention.values()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 4, "last_activity_date": 1477646225, "creation_date": 1477646225, "answer_id": 40301877, "question_id": 40301815, "link": "https://stackoverflow.com/questions/40301815/extension-function-on-enumerator-values-unavailable/40301877#40301877", "title": "Extension function on enumerator, `values()` unavailable?", "body": "<p>The <code>fun EGraphicsAPIConvention.of(i: Int)</code> is adding <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow\">an extension method</a> to all <code>EGraphicsAPIConvention</code> instances so that you can write <code>EGraphicsAPIConvention. API_DirectX.of(1)</code>. </p>\n\n<p>Kotlin currently does not provide a way to write an extension function at a class level. </p>\n\n<p>However you can make use of <code>companion object</code> to get the desired behavior like so:</p>\n\n<pre><code>enum class EGraphicsAPIConvention(@get:JvmName(\"i\") val i: Int) {\n    API_DirectX(0),\n    API_OpenGL(1);\n\n    companion object {\n        fun of(i: Int) = values().first { it.i == i }\n    }\n}\n</code></pre>\n\n<p>And then use it: <code>EGraphicsAPIConvention.of(0)</code></p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 40301877, "answer_count": 1, "score": 1, "last_activity_date": 1562677757, "creation_date": 1477646008, "last_edit_date": 1562677757, "question_id": 40301815, "link": "https://stackoverflow.com/questions/40301815/extension-function-on-enumerator-values-unavailable", "title": "Extension function on enumerator, `values()` unavailable?", "body": "<p>If I try to type:</p>\n\n<pre><code>enum class EGraphicsAPIConvention(@get:JvmName(\"i\") val i: Int) {    \n   API_DirectX(0),    \n   API_OpenGL(1)    \n}\n\nfun EGraphicsAPIConvention.of(i: Int) = values().first { it.i == i }\n</code></pre>\n\n<p>The compiler complains:</p>\n\n<blockquote>\n  <p>unresolved reference values</p>\n</blockquote>\n\n<p><code>this.values()</code> doesn't help neither</p>\n\n<p>Why don't I have <code>values()</code> available?</p>\n"}, {"tags": ["annotations", "kotlin"], "comments": [{"owner": {"reputation": 693, "user_id": 425993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1267cef00f1c7f190e1912bc50d1e6e5?s=128&d=identicon&r=PG", "display_name": "Ace.Yin", "link": "https://stackoverflow.com/users/425993/ace-yin"}, "edited": false, "score": 0, "creation_date": 1477627045, "post_id": 40297741, "comment_id": 67853563, "body": "UPDATE: when i change the annotation to &quot;@get:NotNull&quot; , &quot;@get:Min&quot; and &quot;@get:Max&quot;, the hibernate-validator can read these annotations success. But what i still want to know is: why the validation-api&#39;s annotation, such as &quot;@NotNull&quot; , &quot;@Min&quot; and &quot;@Max&quot; cannot be used on data class&#39;s members directly, while JPA&#39;s annotations can be????"}], "answers": [{"comments": [{"owner": {"reputation": 693, "user_id": 425993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1267cef00f1c7f190e1912bc50d1e6e5?s=128&d=identicon&r=PG", "display_name": "Ace.Yin", "link": "https://stackoverflow.com/users/425993/ace-yin"}, "edited": false, "score": 0, "creation_date": 1477635751, "post_id": 40298878, "comment_id": 67856156, "body": "thanks for your great explanation which makes things clear ~"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 2, "last_activity_date": 1477637908, "last_edit_date": 1477637908, "creation_date": 1477634099, "answer_id": 40298878, "question_id": 40297741, "link": "https://stackoverflow.com/questions/40297741/kotlin-cannot-get-validation-apis-annotation/40298878#40298878", "title": "kotlin: cannot get validation api&#39;s annotation", "body": "<p>The following is the signature part of <a href=\"https://github.com/hibernate/hibernate-jpa-api/blob/master/src/main/java/javax/persistence/Column.java#L47\" rel=\"nofollow\"><code>javax.persistence.Column</code></a>:</p>\n\n<pre><code>@Target({METHOD, FIELD}) \n@Retention(RUNTIME)\npublic @interface Column {\n</code></pre>\n\n<p>On the contrary here's the same part of <a href=\"https://github.com/beanvalidation/beanvalidation-api/blob/master/src/main/java/javax/validation/constraints/Min.java#L54\" rel=\"nofollow\"><code>javax.validation.constraints.Min</code></a>:</p>\n\n<pre><code>@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE })\n@Retention(RUNTIME)\n@Repeatable(List.class)\n@Documented\n@Constraint(validatedBy = { })\npublic @interface Min {\n</code></pre>\n\n<p>As you can see the JPA Persistence annotations target <code>METHOD</code> and <code>FIELD</code> hence Kotlin emits them on a <code>FIELD</code> level. However the validators API annotations target more constructs, the <code>PARAMETER</code> in particular. Given that when generating annotations for constructor declared properties Kotlin compiler chooses to annotate <strong>parameters only</strong>. The <code>BeanUseValidationAnnotation</code> constructor signature equivalent in Java would look like:</p>\n\n<pre><code>public BeanUseValidationAnnotation(@NotEmpty(message = \"name can not be empty\") @NotNull String name, @Min(1L) @Max(100L) int age) {\n</code></pre>\n\n<p>This behavior is stated <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow\">in the documentation</a>:</p>\n\n<blockquote>\n  <p>If you don't specify a use-site target, the target is chosen according\n  to the <code>@Target</code> annotation of the annotation being used. If there are\n  multiple applicable targets, the first applicable target from the\n  following list is used:</p>\n  \n  <ul>\n  <li><code>param</code></li>\n  <li><code>property</code></li>\n  <li><code>field</code></li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 693, "user_id": 425993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1267cef00f1c7f190e1912bc50d1e6e5?s=128&d=identicon&r=PG", "display_name": "Ace.Yin", "link": "https://stackoverflow.com/users/425993/ace-yin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1146, "favorite_count": 0, "accepted_answer_id": 40298878, "answer_count": 1, "score": 3, "last_activity_date": 1477637908, "creation_date": 1477626438, "last_edit_date": 1477627166, "question_id": 40297741, "link": "https://stackoverflow.com/questions/40297741/kotlin-cannot-get-validation-apis-annotation", "title": "kotlin: cannot get validation api&#39;s annotation", "body": "<p>==========UPDATE==========</p>\n\n<p>when i change the annotation to @get:NotNull , @get:Min and @get:Max, the hibernate-validator can read these annotations success. </p>\n\n<p>But what i still want to know is: </p>\n\n<p><strong>why the validation-api's annotation, such as @NotNull , @Min and @Max cannot be used on data class's members directly, while JPA's annotations can be????</strong></p>\n\n<p>==========Bellow is the origin question===========</p>\n\n<p>when i tried to use validation-api's annotation on data class, the Validator class (from hibernate-validator) cannot get the annotations, so the validation failed.</p>\n\n<p>i wrote a test case, which include 3 data classes:</p>\n\n<ul>\n<li>1st one use JPA annotation @Column and @Id, which can be read successfully by test case.</li>\n<li>2nd one use validation-api annotation @NotEmpty, @Min,@Max on members, these annotation cannot be read by test case</li>\n<li>3rd one use validation-api annotation @get:NotEmpty, @get:Min, @get:Max, the test case cannot read these annotation.</li>\n</ul>\n\n<p>The target and retention of @Column , @NotNull, @Min and @Max are all:\n  RUNTIME and FIELD</p>\n\n<p>So, what happened in the behind? how can i use the validation annotations properly?</p>\n\n<p>here is the test case:</p>\n\n<pre><code>import org.hibernate.validator.constraints.NotEmpty\nimport org.junit.Test\nimport javax.persistence.Column\nimport javax.persistence.Id\nimport javax.validation.constraints.Max\nimport javax.validation.constraints.Min\nimport kotlin.reflect.KFunction\nimport kotlin.reflect.KProperty\nimport kotlin.reflect.jvm.javaField\nimport kotlin.reflect.jvm.javaMethod\n\nclass KotlinFeatureTest2 {\n    @Test\n    fun test_get_annotation() {\n        // can get field's annotation for BeanUseJPAAnnotation success\n        println(\"Getting field annotations for BeanUseJPAAnnotation :\")\n        BeanUseJPAAnnotation::class.members.forEach {\n            if (it is KProperty) {\n                val field = it.javaField\n                println(\"${field?.name}'s annotations:\")\n                field?.annotations?.forEachIndexed { i, an -&gt;\n                    println(\"        $i is: $an\")\n                }\n            }\n        }\n\n        println(\"--------------------\")\n        println(\"Getting field annotations for BeanUseValidationAnnotation :\")\n        // CANT get field's annotation for BeanUseJPAAnnotation success\n        BeanUseValidationAnnotation::class.members.forEach {\n            if (it is KProperty) {\n                val field = it.javaField\n                println(\"${field?.name}'s annotations:\")\n                field?.annotations?.forEachIndexed { i, an -&gt;\n                    println(\"        $i is: $an\")\n                }\n            }\n        }\n\n        println(\"--------------------\")\n        println(\"Getting field annotations for BeanUseValidationAnnotationOnMethod :\")\n        // CANT get field's annotation for BeanUseJPAAnnotation success\n        BeanUseValidationAnnotationOnMethod::class.members.forEach {\n            if (it is KFunction) {\n                val method = it.javaMethod\n                println(\"${method?.name}'s annotations: \")\n                method?.annotations?.forEachIndexed { i, an -&gt;\n                    println(\"        $i is: $an\")\n                }\n            }\n        }\n    }\n}\n\ndata class BeanUseJPAAnnotation(\n        @Column(name = \"id\") @Id val id: String,\n        @Column(name = \"user_name\") val name: String)\n\ndata class BeanUseValidationAnnotation(\n        @NotEmpty(message = \"name can not be empty\")\n        val name: String,\n\n        @Min(value = 1)\n        @Max(value = 100)\n        val age: Int\n)\n\ndata class BeanUseValidationAnnotationOnMethod(\n        @get:NotEmpty(message = \"name can not be empty\")\n        val name: String,\n\n        @get:Min(value = 1)\n        @get:Max(value = 100)\n        val age: Int)\n</code></pre>\n\n<p>and here are the output of this test case:</p>\n\n<pre><code>Getting field annotations for BeanUseJPAAnnotation :\nid's annotations:\n    0 is: @javax.persistence.Column(nullable=true, unique=false, precision=0, name=id, length=255, scale=0, updatable=true, columnDefinition=, table=, insertable=true)\n    1 is: @javax.persistence.Id()\nname's annotations:\n    0 is: @javax.persistence.Column(nullable=true, unique=false, precision=0, name=user_name, length=255, scale=0, updatable=true, columnDefinition=, table=, insertable=true)\n--------------------\nGetting field annotations for BeanUseValidationAnnotation :\nage's annotations:\nname's annotations:\n--------------------\nGetting field annotations for BeanUseValidationAnnotationOnMethod :\ncomponent1's annotations: \ncomponent2's annotations: \ncopy's annotations: \nequals's annotations: \nhashCode's annotations: \ntoString's annotations: \n</code></pre>\n"}, {"tags": ["json", "jackson", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 2, "creation_date": 1477873909, "post_id": 40297407, "comment_id": 67925512, "body": "as @miensol says, you need to upgrade to newest Jackson (2.8.4 or higher) since the ability to handle default parameters was added then and has not been backported."}], "answers": [{"comments": [{"owner": {"reputation": 1390, "user_id": 1240051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ARZko.jpg?s=128&g=1", "display_name": "0cd", "link": "https://stackoverflow.com/users/1240051/0cd"}, "edited": false, "score": 0, "creation_date": 1477633595, "post_id": 40298659, "comment_id": 67855354, "body": "sorry, I should have mentioned I am already using the KotlinModule(). Edited my question to reflect that."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 1390, "user_id": 1240051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ARZko.jpg?s=128&g=1", "display_name": "0cd", "link": "https://stackoverflow.com/users/1240051/0cd"}, "edited": false, "score": 2, "creation_date": 1477634298, "post_id": 40298659, "comment_id": 67855618, "body": "@PuneetArora You need to pay attention to versions. jackson-kotlin-module 2.8.4 supports default parameters on constructor and creator methods."}, {"owner": {"reputation": 296, "user_id": 4695118, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1066435696706887/picture?type=large", "display_name": "Andrew Sneck", "link": "https://stackoverflow.com/users/4695118/andrew-sneck"}, "edited": false, "score": 0, "creation_date": 1566313752, "post_id": 40298659, "comment_id": 101613428, "body": "Best solution, I think it can be answer"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 22, "last_activity_date": 1477634260, "last_edit_date": 1477634260, "creation_date": 1477632843, "answer_id": 40298659, "question_id": 40297407, "link": "https://stackoverflow.com/questions/40297407/how-do-you-make-jackson-use-kotlin-default-params-for-missing-values/40298659#40298659", "title": "How do you make Jackson use Kotlin default params for missing values?", "body": "<p>Default params is a Kotlin feature. Jackson does not know about it hence we need to inform it somehow to be able to support it. Thankfully there's the excellent <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"noreferrer\" title=\"jackson-kotlin-module\">jackson-kotlin-module</a> which let's you do:</p>\n\n<pre><code>val mapper: ObjectMapper = ObjectMapper()\n        .registerModule(KotlinModule()) //let Jackson know about Kotlin\n...\ndata class SomeData(\n    private val notInJson: String = \"some default value\",\n    private val inJson: String\n)\n...\nval data = mapper.readValue&lt;SomeData&gt;(\"\"\"{\"inJson\": \"sample value\"}\"\"\")\nprintln(data) // -&gt; SomeData(notInJson=some default value, inJson=sample value)\n</code></pre>\n\n<p>For instructions how to use it take a look at <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"noreferrer\" title=\"jackson-kotlin-module\">jackson-kotlin-module Readme</a> and <strong>pay special attention to versions</strong> of the module and Jackson itself. In order for the default parameters to work you need <a href=\"https://github.com/FasterXML/jackson-module-kotlin#status\" rel=\"noreferrer\">at least version <code>2.8.4</code></a> of <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"noreferrer\" title=\"jackson-kotlin-module\">jackson-kotlin-module</a> </p>\n"}], "owner": {"reputation": 1390, "user_id": 1240051, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ARZko.jpg?s=128&g=1", "display_name": "0cd", "link": "https://stackoverflow.com/users/1240051/0cd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9145, "favorite_count": 0, "accepted_answer_id": 40298659, "answer_count": 1, "score": 19, "last_activity_date": 1477634260, "creation_date": 1477623749, "last_edit_date": 1477633565, "question_id": 40297407, "link": "https://stackoverflow.com/questions/40297407/how-do-you-make-jackson-use-kotlin-default-params-for-missing-values", "title": "How do you make Jackson use Kotlin default params for missing values?", "body": "<p>I've a Kotlin data class that looks like this,</p>\n\n<pre><code>data class SomeData(\n   private val notInJson: String = \"some default value\",\n   private val inJson: String\n)\n</code></pre>\n\n<p>and a json string, I wish to deserialize into an instance of this class -</p>\n\n<pre><code>{\n    \"inJson\" : \"value\"\n}\n</code></pre>\n\n<p>When I try to deserialize this data, I get an error that the parameter <code>notInJson</code> cannot be null. Seems like Jackson is passing a null value for it since it's missing in the json string. </p>\n\n<p>Is there a way to have Jackson not pass in any value for it, so that the default specified in the class definition could be used?</p>\n\n<p>--EDIT--</p>\n\n<p>I do register a KotlinModule() with the mapper. Using version 2.7.8 or all jackson packages involved.</p>\n\n<p>The following code -</p>\n\n<pre><code>@Test fun jackson_kotlin_module() {\n    val mapper = ObjectMapper().registerModule(KotlinModule())\n    println(\n        mapper.readValue(\"\"\"{ \"inJson\" : \"some value\" }\"\"\",     SomeData::class.java))\n}\n</code></pre>\n\n<p>gives me -</p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Instantiation of [simple \ntype, class SomeData] value failed (java.lang.IllegalArgumentException): \nParameter specified as non-null is null: method SomeData.&lt;init&gt;, parameter \nnotInJson\nat [Source: { \"inJson\" : \"some value\" }; line: 1, column: 27]\n</code></pre>\n"}, {"tags": ["java", "reflection", "null", "kotlin", "nullable"], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1477561206, "post_id": 40278279, "comment_id": 67820860, "body": "could you provide a link to the documentation?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1477563234, "post_id": 40278279, "comment_id": 67822129, "body": "Sorry, missed it."}, {"owner": {"reputation": 1918, "user_id": 488454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/45961c06ee23080bc2955457be959b37?s=128&d=identicon&r=PG", "display_name": "Mirko Klemm", "link": "https://stackoverflow.com/users/488454/mirko-klemm"}, "edited": false, "score": 0, "creation_date": 1580382263, "post_id": 40278279, "comment_id": 106082773, "body": "Is there also a representation of the nullability on the java side of things? i.e. the information of nullability has to be somewhere in the class file, how do you access it via Java reflection?"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 13, "last_activity_date": 1477562321, "last_edit_date": 1477562321, "creation_date": 1477551961, "answer_id": 40278279, "question_id": 40277991, "link": "https://stackoverflow.com/questions/40277991/kotlin-how-to-check-if-the-field-is-nullable-via-reflection/40278279#40278279", "title": "Kotlin. How to check if the field is nullable via reflection?", "body": "<p>You can check nullability with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-type/is-marked-nullable.html\"><code>isMarkedNullable</code></a>. The following code:</p>\n\n<pre><code>class MyClass(val nullable: Long?, val notNullable: MyClass)\nMyClass::class.declaredMemberProperties.forEach {\n    println(\"Property $it isMarkedNullable=${it.returnType.isMarkedNullable}\")\n}\n</code></pre>\n\n<p>will print:</p>\n\n<pre><code>Property val MyClass.notNullable: stack.MyClass isMarkedNullable=false\nProperty val MyClass.nullable: kotlin.Long? isMarkedNullable=true\n</code></pre>\n\n<p>Excerpt from <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-type/is-marked-nullable.html\">documentation</a> (emphasis mine):</p>\n\n<blockquote>\n  <p>For Kotlin types, it means that null value is allowed to be\n  represented by this type. In practice it means that the type was\n  declared with a question mark at the end. For non-Kotlin types, it\n  means the type or the symbol which was declared with this type is\n  annotated with a runtime-retained nullability annotation such as\n  javax.annotation.Nullable.</p>\n  \n  <p><strong>Note that even if <code>isMarkedNullable</code> is false, values of the type can\n  still be <code>null</code></strong>. This may happen if it is a type of the type parameter\n  with a nullable upper bound:</p>\n\n<pre><code>fun &lt;T&gt; foo(t: T) {\n    // isMarkedNullable == false for t's type, but t can be null here \n}\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 233, "user_id": 5816415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3154614ee45afc7723e835debdca4b59?s=128&d=identicon&r=PG&f=1", "display_name": "Yanislav Kornev", "link": "https://stackoverflow.com/users/5816415/yanislav-kornev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1944, "favorite_count": 2, "accepted_answer_id": 40278279, "answer_count": 1, "score": 11, "last_activity_date": 1477562321, "creation_date": 1477550998, "question_id": 40277991, "link": "https://stackoverflow.com/questions/40277991/kotlin-how-to-check-if-the-field-is-nullable-via-reflection", "title": "Kotlin. How to check if the field is nullable via reflection?", "body": "<p>I'm developing a code generator that takes the data from the classes during runtime. This generator is designed to work only with Kotlin. At the moment, I was faced with the problem, as I don't know how to check if the field is nullable. </p>\n\n<p>So the main question is how to implement this check via reflection?</p>\n"}, {"tags": ["kotlin", "quasar"], "comments": [{"owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "edited": false, "score": 0, "creation_date": 1477549366, "post_id": 40274981, "comment_id": 67813716, "body": "Can you add the code where you call this function?"}, {"owner": {"reputation": 1339, "user_id": 1359988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/00c331889adb81f68b66cd75734459a6?s=128&d=identicon&r=PG", "display_name": "zjuhasz", "link": "https://stackoverflow.com/users/1359988/zjuhasz"}, "reply_to_user": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "edited": false, "score": 0, "creation_date": 1477550809, "post_id": 40274981, "comment_id": 67814499, "body": "It&#39;s in the stack trace from the compiler error: {  module -&gt;             module.levelSensor?.addListener(fiberListener { onLevelEvent() })         }"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 7, "creation_date": 1477553026, "post_id": 40274981, "comment_id": 67815844, "body": "This is a bug, please report at <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 1, "creation_date": 1508161496, "post_id": 40274981, "comment_id": 80489170, "body": "If you use <code>noinline</code> instead of <code>crossinline</code>, it might work."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1508466929, "post_id": 40274981, "comment_id": 80630977, "body": "Is it still an issue with the most recent version of Kotlin?"}, {"owner": {"reputation": 1339, "user_id": 1359988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/00c331889adb81f68b66cd75734459a6?s=128&d=identicon&r=PG", "display_name": "zjuhasz", "link": "https://stackoverflow.com/users/1359988/zjuhasz"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1508542312, "post_id": 40274981, "comment_id": 80664777, "body": "@RomanElizarov I just tested and this is still an issue in 1.1.51, although the error seems to be different. Here is a Gist. <a href=\"https://gist.github.com/zjuhasz/0e2d7ed86e9b4390e833876e500fe8e8\" rel=\"nofollow noreferrer\">gist.github.com/zjuhasz/0e2d7ed86e9b4390e833876e500fe8e8</a>. We were using Quasar before kotlin 1.1. we&#39;ve switched to kotlinx.coroutines so I am just testing this by checking out a very old commit. I know it&#39;s still a bug in the Kotlin compiler but it&#39;s not actively in my way at this time. Edit: had to redo because I don&#39;t understand how SO comments work..."}, {"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "reply_to_user": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1509020693, "post_id": 40274981, "comment_id": 80855521, "body": "@AlexanderUdalov could you perhaps expand on this to provide some form of answer to this question?"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1514966113, "post_id": 40274981, "comment_id": 83120161, "body": "For reference, I reported a similar issue to youtrack <a href=\"https://youtrack.jetbrains.com/issue/KT-22086\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 964, "user_id": 8551764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eY20e.jpg?s=128&g=1", "display_name": "Mostafa Arian Nejad", "link": "https://stackoverflow.com/users/8551764/mostafa-arian-nejad"}, "edited": false, "score": 0, "creation_date": 1562360321, "post_id": 40274981, "comment_id": 100362802, "body": "I was getting &quot;Couldn&#39;t inline method call &#39;...&#39; into&quot;, I solved it by changing <code>crossline</code> to <code>noinline</code>."}], "owner": {"reputation": 1339, "user_id": 1359988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/00c331889adb81f68b66cd75734459a6?s=128&d=identicon&r=PG", "display_name": "zjuhasz", "link": "https://stackoverflow.com/users/1359988/zjuhasz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2251, "favorite_count": 0, "answer_count": 0, "score": 9, "last_activity_date": 1477533863, "creation_date": 1477533863, "question_id": 40274981, "link": "https://stackoverflow.com/questions/40274981/kotlin-compiler-error-inline-function-not-exactly-sure-whats-going-on", "title": "Kotlin compiler error inline function, not exactly sure what&#39;s going on", "body": "<p>I got this confusing error that seems to be in the Kotlin compiler, I don't mind changing my code but I am trying to figure out if I actually did something wrong. I think the code it's having trouble with is this:</p>\n\n<pre><code>inline fun &lt;T&gt; fiberListener(bufferSize: Int = 50,\n                             policy: Channels.OverflowPolicy = Channels.OverflowPolicy.BACKOFF,\n                             singleProducer: Boolean = true,\n                             singleConsumer: Boolean = true,\n                             crossinline action: (T) -&gt; Unit): SendPort&lt;T&gt; {\n    val channel = Channels.newChannel&lt;T&gt;(bufferSize, policy, singleProducer, singleConsumer)\n    fiber { channel.forEach(action) }\n    return channel\n}\n</code></pre>\n\n<p>Not sure what more to say, I can make this not inline but I think this code should work. I am using Kotlin 1.0.4 with Gradle. On another note I am not positive inlining this is actually providing a performance improvement, I am still a bit unclear about crossinline. But either way seems like it should work and I get no IDE or compiler error except this internal one.</p>\n\n<pre><code>Error:(37, 45) Kotlin: [Internal Error] org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't inline method call 'fiberListener' into\nlocal final fun &lt;anonymous&gt;(module: org.tenkiv.nexus.thermal.module.ProducerModule): kotlin.Unit defined in org.tenkiv.nexus.thermal.control_point.StateMaintainer.&lt;init&gt;[AnonymousFunctionDescriptor@392d1483]\n{ module -&gt;\n            module.levelSensor?.addListener(fiberListener { onLevelEvent() })\n        }\nCause: fiberListener$default (ILco/paralleluniverse/strands/channels/Channels$OverflowPolicy;ZZLkotlin/jvm/functions/Function1;ILjava/lang/Object;)Lco/paralleluniverse/strands/channels/SendPort;:\n   L0\n    ALOAD 6\n    IFNULL L1\n    NEW java/lang/UnsupportedOperationException\n    DUP\n    LDC \"Super calls with default arguments not supported in this target, function: fiberListener\"\n    INVOKESPECIAL java/lang/UnsupportedOperationException.&lt;init&gt; (Ljava/lang/String;)V\n    ATHROW\n   L1\n    ILOAD 5\n    ICONST_1\n    IAND\n    IFEQ L2\n   L3\n    LINENUMBER 13 L3\n    BIPUSH 50\n    ISTORE 0\n   L2\n    ILOAD 5\n    ICONST_2\n    IAND\n    IFEQ L4\n   L5\n    LINENUMBER 14 L5\n    GETSTATIC co/paralleluniverse/strands/channels/Channels$OverflowPolicy.BACKOFF : Lco/paralleluniverse/strands/channels/Channels$OverflowPolicy;\n    ASTORE 1\n   L4\n    ILOAD 5\n    ICONST_4\n    IAND\n    IFEQ L6\n   L7\n    LINENUMBER 15 L7\n    ICONST_1\n    ISTORE 2\n   L6\n    ILOAD 5\n    BIPUSH 8\n    IAND\n    IFEQ L8\n   L9\n    LINENUMBER 16 L9\n    ICONST_1\n    ISTORE 3\n   L8\n   L10\n   L11\n    ALOAD 1\n    LDC \"policy\"\n    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\n    ALOAD 4\n    LDC \"action\"\n    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\n   L12\n    LINENUMBER 40 L12\n    ILOAD 0\n    ALOAD 1\n    ILOAD 2\n    ILOAD 3\n    INVOKESTATIC co/paralleluniverse/strands/channels/Channels.newChannel (ILco/paralleluniverse/strands/channels/Channels$OverflowPolicy;ZZ)Lco/paralleluniverse/strands/channels/Channel;\n    ASTORE 6\n   L13\n   L14\n    LINENUMBER 41 L14\n    NEW org/tenkiv/nexus/computer/QuasarKt$fiberListener$1\n    DUP\n    ALOAD 6\n    ALOAD 4\n    INVOKESPECIAL org/tenkiv/nexus/computer/QuasarKt$fiberListener$1.&lt;init&gt; (Lco/paralleluniverse/strands/channels/Channel;Lkotlin/jvm/functions/Function1;)V\n    CHECKCAST kotlin/jvm/functions/Function0\n    INVOKESTATIC co/paralleluniverse/kotlin/KotlinKt.fiber (Lkotlin/jvm/functions/Function0;)Lco/paralleluniverse/fibers/Fiber;\n    POP\n   L15\n    LINENUMBER 42 L15\n    ALOAD 6\n    CHECKCAST co/paralleluniverse/strands/channels/SendPort\n    DUP\n    LDC \"channel\"\n    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkExpressionValueIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\n    ARETURN\n   L16\n   L17\n    ARETURN\n    LOCALVARIABLE channel Lco/paralleluniverse/strands/channels/Channel; L13 L17 6\n    LOCALVARIABLE bufferSize I L0 L17 0\n    LOCALVARIABLE policy Lco/paralleluniverse/strands/channels/Channels$OverflowPolicy; L0 L17 1\n    LOCALVARIABLE singleProducer Z L0 L17 2\n    LOCALVARIABLE singleConsumer Z L0 L17 3\n    LOCALVARIABLE action Lkotlin/jvm/functions/Function1; L0 L17 4\n    LOCALVARIABLE $i$f$fiberListener I L10 L17 5\n    MAXSTACK = 4\n    MAXLOCALS = 7\nCause: Parameter specified as non-null is null: method org.jetbrains.kotlin.codegen.inline.ParametersBuilder.addCapturedParam, parameter original\nFile being compiled and position: (37,45) in /Users/zjuhasz/Git/Nexus_Brain/src/main/kotlin/org/tenkiv/nexus/thermal/control_point/StateMaintainer.kt\nPsiElement: fiberListener { onLevelEvent() }\nThe root cause was thrown at: ParametersBuilder.kt:-1\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.throwCompilationException(InlineCodegen.java:172)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:158)\n    at org.jetbrains.kotlin.codegen.CallGenerator.genCall(CallGenerator.kt:100)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2625)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2583)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)\n    at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:102)\n    at org.jetbrains.kotlin.codegen.CallGenerator$DefaultCallGenerator.genValueAndPut(CallGenerator.kt:58)\n    at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generateExpression(CallBasedArgumentGenerator.java:73)\n    at org.jetbrains.kotlin.codegen.ArgumentGenerator.generate(ArgumentGenerator.kt:59)\n    at org.jetbrains.kotlin.codegen.CallBasedArgumentGenerator.generate(CallBasedArgumentGenerator.java:60)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2605)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2583)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)\n    at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)\n    at org.jetbrains.kotlin.codegen.CoercionValue.putSelector(StackValue.kt:28)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:102)\n    at org.jetbrains.kotlin.codegen.StackValue$StackValueWithSimpleReceiver.putReceiver(StackValue.java:1507)\n    at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putReceiver(StackValue.kt:53)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:107)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:102)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:324)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:2066)\n    at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:50)\n    at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:72)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:378)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateMethodBody(InlineCodegen.java:512)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateLambdaBody(InlineCodegen.java:477)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.generateClosuresBodies(InlineCodegen.java:456)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.java:365)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:149)\n    at org.jetbrains.kotlin.codegen.CallGenerator.genCall(CallGenerator.kt:100)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2625)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2583)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:44)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:23)\n    at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:65)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:109)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:102)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1727)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.generateBlock(ExpressionCodegen.java:1676)\n    at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:56)\n    at org.jetbrains.kotlin.codegen.CodegenStatementVisitor.visitBlockExpression(CodegenStatementVisitor.java:22)\n    at org.jetbrains.kotlin.psi.KtBlockExpression.accept(KtBlockExpression.java:44)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.genQualified(ExpressionCodegen.java:283)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.genStatement(ExpressionCodegen.java:342)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:312)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.generateInitializers(MemberCodegen.java:377)\n    at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateInitializers(ImplementationBodyCodegen.java:1099)\n    at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructorImpl(ImplementationBodyCodegen.java:1038)\n    at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.access$300(ImplementationBodyCodegen.java:92)\n    at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen$3.doGenerateBody(ImplementationBodyCodegen.java:946)\n    at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:72)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:378)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:213)\n    at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generatePrimaryConstructor(ImplementationBodyCodegen.java:942)\n    at org.jetbrains.kotlin.codegen.ImplementationBodyCodegen.generateConstructors(ImplementationBodyCodegen.java:397)\n    at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:79)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:118)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:232)\n    at org.jetbrains.kotlin.codegen.PackageCodegen.generateClassOrObject(PackageCodegen.java:145)\n    at org.jetbrains.kotlin.codegen.PackageCodegen.generateFile(PackageCodegen.java:98)\n    at org.jetbrains.kotlin.codegen.PackageCodegen.generate(PackageCodegen.java:61)\n    at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.generatePackage(KotlinCodegenFacade.java:99)\n    at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:77)\n    at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:44)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:452)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:150)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:183)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:52)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:199)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:154)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execAndOutputXml(CLICompiler.java:73)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$remoteIncrementalCompile$1.invoke(CompileServiceImpl.kt:247)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$remoteIncrementalCompile$1.invoke(CompileServiceImpl.kt:70)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$1$1.invoke(CompileServiceImpl.kt:421)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$1$1.invoke(CompileServiceImpl.kt:70)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:454)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$checkedCompile(CompileServiceImpl.kt:70)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$1.invoke(CompileServiceImpl.kt:420)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$1.invoke(CompileServiceImpl.kt:70)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:565)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:504)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:411)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.remoteIncrementalCompile(CompileServiceImpl.kt:244)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:323)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$254(TCPTransport.java:683)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler$$Lambda$1/2057391342.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method org.jetbrains.kotlin.codegen.inline.ParametersBuilder.addCapturedParam, parameter original\n    at org.jetbrains.kotlin.codegen.inline.ParametersBuilder.addCapturedParam(ParametersBuilder.kt)\n    at org.jetbrains.kotlin.codegen.inline.LambdaInfo.addAllParameters(LambdaInfo.java:158)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner$1.visitMethodInsn(MethodInliner.java:223)\n    at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:133)\n    at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)\n    at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:311)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:111)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:95)\n    at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.java:230)\n    at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.java:191)\n    at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.java:144)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner$1.handleAnonymousObjectRegeneration(MethodInliner.java:180)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner$1.anew(MethodInliner.java:199)\n    at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)\n    at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)\n    at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)\n    at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:311)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:111)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:95)\n    at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethod(AnonymousObjectTransformer.java:230)\n    at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.java:191)\n    at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.java:144)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner$1.handleAnonymousObjectRegeneration(MethodInliner.java:180)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner$1.anew(MethodInliner.java:199)\n    at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:478)\n    at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:83)\n    at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:162)\n    at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:817)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:311)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:111)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.java:95)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.java:392)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.genCallInner(InlineCodegen.java:149)\n    ... 107 more\n</code></pre>\n"}]