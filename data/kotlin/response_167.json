[{"tags": ["android", "kotlin", "bluetooth-lowenergy"], "answers": [{"tags": [], "owner": {"reputation": 727, "user_id": 454404, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4f0a9b5e1a74fba27946abe78b71a124?s=128&d=identicon&r=PG", "display_name": "addzo", "link": "https://stackoverflow.com/users/454404/addzo"}, "is_accepted": true, "score": 0, "last_activity_date": 1521749313, "creation_date": 1521749313, "answer_id": 49437580, "question_id": 49417263, "link": "https://stackoverflow.com/questions/49417263/kotlin-ble-cant-discover-characteristics/49437580#49437580", "title": "Kotlin BLE Can&#39;t discover Characteristics", "body": "<p>Ok.  The main problem was that I was a expecting the Android BLE libs/flow to be similar to iOS.</p>\n\n<p>Some things to keep in mind when doing BLE on Android that fixed the problem for me:</p>\n\n<ol>\n<li>There is no call to discover characteristics (like in iOS).  Once you reach onServicesDiscovered in Android, you are expected to operate on the services and characteristics directly.</li>\n</ol>\n\n<p>e.g.</p>\n\n<pre><code>for (characteristic in matchingCharacteristics) {\n        characteristic.setWriteType(BluetoothGattCharacteristic.WRITE_TYPE_DEFAULT)\n        enableCharacteristicNotification(gatt, characteristic)\n    }\n</code></pre>\n\n<p>That's kind of a non-typical use but the basic principle is: Once you have the services you are passed a GATT profile that has all the services, characteristics and descriptors in it.  From there you can operate on all of them directly without any further discovery.  See the Android docs for the functions that are available to the BluetoothGattCharacteristic once the services are found.</p>\n\n<ol start=\"2\">\n<li><p>The line I used above to get the services:\nmClientActionListener.log(\"BLE Service status: $status. What we are looking for: $gatt\")\nWas actually sending back the characteristics NOT the services.  This was confusing me because the BLE peripheral that I was testing agains had only one service and three characteristics associated with it.  But the fact that we were inside onServicesDiscovered when pulling the information and the fact that I did not catch that the gatt object was actually a GATT profile with more in it than the services, and the syntax confused me into thinking that I should be expecting only services at that point\n** Remember: when you are in onServicesDiscovered you get everything in the GATT object passed back to you.</p></li>\n<li><p>There are some functions that will let you discover characteristics and other information from there on. However, they are there for informational purposes.  They don't give you anymore exposure to the characteristics or descriptors.</p></li>\n</ol>\n\n<p>I leave it up to your to decide if this is a good way to do something that is async and a bit \"guns and whiskey\" to begin with.  But it's the way it is in Android.</p>\n\n<p>Code clean.  Code smart.</p>\n"}], "owner": {"reputation": 727, "user_id": 454404, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4f0a9b5e1a74fba27946abe78b71a124?s=128&d=identicon&r=PG", "display_name": "addzo", "link": "https://stackoverflow.com/users/454404/addzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 1, "accepted_answer_id": 49437580, "answer_count": 1, "score": 0, "last_activity_date": 1521749313, "creation_date": 1521669791, "question_id": 49417263, "link": "https://stackoverflow.com/questions/49417263/kotlin-ble-cant-discover-characteristics", "title": "Kotlin BLE Can&#39;t discover Characteristics", "body": "<p>I am new to Kotlin and Android.\nI need to write an app that finds a particular peripheral, connects to it and writes to a characteristic.</p>\n\n<p>I can find it, and I am connecting to it and finding services.</p>\n\n<p>However, I can not seem to discover an characteristics at all.</p>\n\n<p>Code:</p>\n\n<pre><code>override fun onServicesDiscovered(gatt: BluetoothGatt, status: Int) {\n    super.onServicesDiscovered(gatt, status)\n\n    mClientActionListener.log(\"** Made it to onServicesDiscovered\")\n\n    if (status != BluetoothGatt.GATT_SUCCESS) {\n        mClientActionListener.log(\"Device service discovery unsuccessful, status $status\")\n\n        return\n    }\n\n    mClientActionListener.log(\"BLE Service status: $status. What we are looking for: $gatt\")\n\n    val matchingCharacteristics = bluetoothUtils.findCharacteristics(gatt)\n...\n\nfun findCharacteristics(bluetoothGatt: BluetoothGatt): List&lt;BluetoothGattCharacteristic&gt; {\n    Log.i(TAG_BLEUTIL, \"** Made it to findCharacteristics\")\n    val matchingCharacteristics = ArrayList&lt;BluetoothGattCharacteristic&gt;()\n\n    val serviceList = bluetoothGatt.services\n    Log.i(TAG_BLEUTIL, \"** serviceList: $serviceList\")\n\n    val characteristics = bluetoothGatt.readCharacteristic(serviceList[1].characteristics[0])\n    Log.i(TAG_GATT_CALLBACK, \"** Characteristics: $characteristics\")\n\n    val service = findService(serviceList) ?: return matchingCharacteristics\n\n    val characteristicList = service.characteristics\n    Log.i(TAG_BLEUTIL, \"characterList: $characteristicList\")\n\n    for (characteristic in characteristicList) {\n            matchingCharacteristics.add(characteristic)\n    }\n\n    Log.i(TAG_BLEUTIL, \"Characteristics: $matchingCharacteristics\")\n\n    return matchingCharacteristics\n}\n</code></pre>\n\n<p>Logs from a typical run:</p>\n\n<pre><code>... D/PairState: Device004\n... I/PairState: 00:23:A7:FD:2B:B1\n... D/BluetoothAdapter: isLeEnabled(): ON\n... I/PairState: ** Connecting to VQpa004\n... I/BleService: Connecting to 00:23:A7:FD:2B:B1D/BluetoothGatt: onClientConnectionState() - status=0 clientIf=7 device=00:23:A7:FD:2B:B1\n... I/BleService: onConnectionStateChange newState: 2\n... D/BleGattServerCallback: onConnectionStateChange newState: 2\n... I/BleService: Connected to device 00:23:A7:FD:2B:B1\n... D/BleGattServerCallback: BluetoothProfile.STATE_CONNECTED: 0\n... D/BluetoothGatt: discoverServices() - device: 00:23:A7:FD:2B:B1\n... D/BluetoothGatt: onConnectionUpdated() - Device=00:23:A7:FD:2B:B1 interval=6 latency=0 timeout=500 status=0\n... D/BluetoothGatt: onSearchComplete() = Device=00:23:A7:FD:2B:B1 Status=0\n... I/BleService: ** Made it to onServicesDiscovered\n... I/BleService: BLE Service status: 0. What we are looking for: android.bluetooth.BluetoothGatt@9917c65\n... I/BluetoothUtils: ** Made it to findCharacteristics\n... I/BluetoothUtils: ** serviceList: [android.bluetooth.BluetoothGattService@1f6ed3a, android.bluetooth.BluetoothGattService@746ddeb, android.bluetooth.BluetoothGattService@f8c4748]\n... I/BleGattServerCallback: ** Characteristics: false\n... I/BluetoothUtils: ** Made it to findService\n... D/BluetoothGatt: onConnectionUpdated() - Device=00:23:A7:FD:2B:B1 interval=36 latency=0 timeout=500 status=0\n</code></pre>\n\n<p>From what I am understanding from the docs as well as some other (Java oriented) posts here on SO this code should be working.  But I'm out of ideas.</p>\n\n<p>Thanks for the help.  I'm glad to offer more code if that helps.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521667560, "post_id": 49416617, "comment_id": 85835324, "body": "you can always <a href=\"https://developer.android.com/kotlin/get-started.html#convert-to-kotlin-code\" rel=\"nofollow noreferrer\">convert Java to Kotlin</a>"}, {"owner": {"reputation": 2778, "user_id": 6139031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012469378aeb9c6bbb7fc54c08fec6b4?s=128&d=identicon&r=PG", "display_name": "Rizwan Atta", "link": "https://stackoverflow.com/users/6139031/rizwan-atta"}, "edited": false, "score": 0, "creation_date": 1521667619, "post_id": 49416617, "comment_id": 85835352, "body": "(mAllButton.getBackground() as GradientDrawable ).setStroke(1, ContextCompat.getColor(this, R.color.colorPrimary))"}], "answers": [{"comments": [{"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1521814235, "post_id": 49416693, "comment_id": 85905539, "body": "The failsafe variant: <code>(someButton.background as? GradientDrawable)?.setStroke(1, ContextCompat.getColor(context, someColorId))</code>. This does nothing if the background is not set or is not a GradientDrawable (instead of crashing)."}], "tags": [], "owner": {"reputation": 151, "user_id": 7565954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e9fb173c176b85e1bcfafd1dacd0b01?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/7565954/vince"}, "is_accepted": true, "score": 1, "last_activity_date": 1521667157, "creation_date": 1521667157, "answer_id": 49416693, "question_id": 49416617, "link": "https://stackoverflow.com/questions/49416617/how-to-do-i-use-the-method-getbackground-setstroke-in-kotlin/49416693#49416693", "title": "How to do I use the method getBackground.setStroke in Kotlin?", "body": "<p>Here you go.</p>\n\n<p>Kotlin:</p>\n\n<pre><code>(someButton.background as GradientDrawable).setStroke(1, ContextCompat.getColor(context, someColorId))\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>((GradientDrawable)someButton.getBackground()).setStroke(1, ContextCompat.getColor(context, someColorId))\n</code></pre>\n\n<p>P.S. this only works if you initialized your button with a drawable.xml</p>\n"}], "owner": {"reputation": 534, "user_id": 5999852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2bb54630ae2ebfad8b4ba4aefa346c28?s=128&d=identicon&r=PG", "display_name": "Jay", "link": "https://stackoverflow.com/users/5999852/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "accepted_answer_id": 49416693, "answer_count": 1, "score": 1, "last_activity_date": 1521667157, "creation_date": 1521666840, "question_id": 49416617, "link": "https://stackoverflow.com/questions/49416617/how-to-do-i-use-the-method-getbackground-setstroke-in-kotlin", "title": "How to do I use the method getBackground.setStroke in Kotlin?", "body": "<p>How do I perform a set stroke in Kotlin?  This does not appear as a method within the background of a button.  Here is what I am trying to achieve in Java:</p>\n\n<pre><code>((GradientDrawable) mAllButton.getBackground()).setStroke(1, ContextCompat.getColor(this, R.color.colorPrimary));\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521666546, "post_id": 49416321, "comment_id": 85834857, "body": "maybe <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">reflection</a>"}, {"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "edited": false, "score": 0, "creation_date": 1521833583, "post_id": 49416321, "comment_id": 85917187, "body": "What is the benefit of composing the class at runtime? Why can&#39;t it be abstracted with arguments passed in to set it up?"}, {"owner": {"reputation": 895, "user_id": 1423361, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a007e6e204e858571d182fe4adb54a?s=128&d=identicon&r=PG", "display_name": "Robert Elliot", "link": "https://stackoverflow.com/users/1423361/robert-elliot"}, "edited": false, "score": 0, "creation_date": 1540987328, "post_id": 49416321, "comment_id": 93062511, "body": "Not a proper answer, but have a look at <a href=\"https://github.com/JetBrains/kotlin/blob/master/compiler/tests/org/jetbrains/kotlin/scripts/ScriptTest.kt\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/master/compiler/tests/org/&hellip;</a> for a possible guide to doing this."}], "answers": [{"comments": [{"owner": {"reputation": 769, "user_id": 1413900, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2147c68b7ec5d32424a717c801525d56?s=128&d=identicon&r=PG", "display_name": "Travis Well", "link": "https://stackoverflow.com/users/1413900/travis-well"}, "edited": false, "score": 1, "creation_date": 1539726664, "post_id": 49457002, "comment_id": 92605062, "body": "Ugh. Forking a Kotlin compiler does not count as dynamic evaluation."}], "tags": [], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "is_accepted": false, "score": 2, "last_activity_date": 1521832863, "creation_date": 1521832863, "answer_id": 49457002, "question_id": 49416321, "link": "https://stackoverflow.com/questions/49416321/kotlin-dynamically-compile-a-class-from-source-code-at-runtime/49457002#49457002", "title": "Kotlin dynamically compile a class from source code at runtime", "body": "<p>You might want to look at Kotlin Scripting, see <a href=\"https://github.com/andrewoma/kotlin-script\" rel=\"nofollow noreferrer\">https://github.com/andrewoma/kotlin-script</a></p>\n\n<p>Alternatively, you'll need to write your own <code>eval(kotlin-code-string-here)</code> method which will dump the text inside <code>blah.kt</code> file for example, compile it using an external Kotlin compiler into <code>blah.class</code> then dynamically load those classes into the runtime using the Java Classloader doing something like this:</p>\n\n<pre><code>MainClass.class.classLoader.loadClass(\"com.mypackage.MyClass\")\n</code></pre>\n\n<p>This might be very slow and unreliable.</p>\n\n<p>Another no so great option is to make use of Rhino and run JavaScript inside your Kotlin code. So once again, you'll have an <code>eval(kotlin-code-string-here)</code> method which will dump the content to a <code>blah.kt</code> file, then you would use a Kotlin2JS compiler to compile it to JavaScript and directly execute the JavaScript inside Kotlin using Rhino which is not great either.</p>\n\n<p>Another option is to make use of Kotlin Scripting or an external Kotlin compiler (in both cases, the Kotlin compiler will have to start up) and doing something like this will also allow you to execute dynamically, albeit, only on Unix systems.</p>\n\n<pre><code>Runtime.getRuntime().exec(\"\"\"  \"kotlin code here\" &gt; blah.kts | sh\"\"\")\n</code></pre>\n\n<p>I'm not aware of a clean solution for this, Kotlin was not designed to be run like like PHP / JavaScript / Python which just interprets text dynamically, it has to compile to bytecode first before it can do anything on the JVM; so in each scenario, you will need to compile that code first in one way or another, whether to bytecode or to javascript and in both cases load it into you application using the Java Classloader or Rhino.</p>\n"}, {"tags": [], "owner": {"reputation": 2689, "user_id": 185498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77120c6ac145bba587b662a014dbdd4?s=128&d=identicon&r=PG", "display_name": "Manushin Igor", "link": "https://stackoverflow.com/users/185498/manushin-igor"}, "is_accepted": false, "score": 0, "last_activity_date": 1583517475, "creation_date": 1583517475, "answer_id": 60569332, "question_id": 49416321, "link": "https://stackoverflow.com/questions/49416321/kotlin-dynamically-compile-a-class-from-source-code-at-runtime/60569332#60569332", "title": "Kotlin dynamically compile a class from source code at runtime", "body": "<p>Please check <a href=\"https://github.com/s1monw1/KtsRunner\" rel=\"nofollow noreferrer\">this solution</a> for dependencies, jar resources, etc. Code below isn't enough for successful execution.</p>\n\n<p>However, to compile dynamic class you can do the following:</p>\n\n<pre><code>val classLoader = Thread.currentThread().contextClassLoader\n\nval engineManager = ScriptEngineManager(classLoader)\n\nsetIdeaIoUseFallback() // hack to have ability to do this from IntelliJ Idea context\n\nval ktsEngine: ScriptEngine = engineManager.getEngineByExtension(\"kts\")\n\nktsEngine.eval(\"object MyClass { val number = 123 } \")\n\nprintln(ktsEngine.eval(\"MyClass.number\"))\n</code></pre>\n\n<p><strong>Please note: there is code injection possible here. Please be careful and use dedicated process or dedicated ClassLoader for this.</strong></p>\n"}], "owner": {"reputation": 2019, "user_id": 7227475, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a18ae707e89cdc9ffc6cbbd66303ea99?s=128&d=identicon&r=PG&f=1", "display_name": "ohwelppp", "link": "https://stackoverflow.com/users/7227475/ohwelppp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3851, "favorite_count": 0, "answer_count": 2, "score": 13, "last_activity_date": 1583517475, "creation_date": 1521665644, "question_id": 49416321, "link": "https://stackoverflow.com/questions/49416321/kotlin-dynamically-compile-a-class-from-source-code-at-runtime", "title": "Kotlin dynamically compile a class from source code at runtime", "body": "<p>Is it possible to compile and instantiate Kotlin class at runtime? I'm talking about something like that but using Kotlin API: <a href=\"https://stackoverflow.com/questions/2946338/how-do-i-programmatically-compile-and-instantiate-a-java-class\">How do I programmatically compile and instantiate a Java class?</a> </p>\n\n<p>As example:\nI'm getting full class definition as String: </p>\n\n<pre><code>val example = \"package example\\n\" +\n        \"\\n\" +\n        \"fun main(args: Array&lt;String&gt;) {\\n\" +\n        \"    println(\\\"Hello World\\\")\\n\" +\n        \"}\\n\"\n</code></pre>\n\n<p>And then inserting it into some class.kt and running it so I'm getting \"Hello World\" printed in console at runtime.</p>\n"}, {"tags": ["android", "file", "exception", "kotlin", "vcf-vcard"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521664661, "post_id": 49415997, "comment_id": 85833950, "body": "try adding <a href=\"https://stackoverflow.com/a/38858040/4778343\"><code>openVcfIntent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION&zwnj;&#8203;)</code></a> after creating intent"}, {"owner": {"reputation": 43, "user_id": 9424353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "KotC", "link": "https://stackoverflow.com/users/9424353/kotc"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521665016, "post_id": 49415997, "comment_id": 85834138, "body": "I tried but same issue"}, {"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521665074, "post_id": 49415997, "comment_id": 85834170, "body": "something else from the <a href=\"https://stackoverflow.com/a/38858040/4778343\">link</a>?"}, {"owner": {"reputation": 43, "user_id": 9424353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "KotC", "link": "https://stackoverflow.com/users/9424353/kotc"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521665804, "post_id": 49415997, "comment_id": 85834499, "body": "sorry I didn&#39;t notice the link, I really work, I didn&#39;t see this question before. Thank you !"}], "owner": {"reputation": 43, "user_id": 9424353, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "KotC", "link": "https://stackoverflow.com/users/9424353/kotc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551087477, "creation_date": 1521664370, "question_id": 49415997, "link": "https://stackoverflow.com/questions/49415997/open-a-vcf-file-exception", "title": "Open a vcf file exception", "body": "<p>I'm trying to open a vcf file I've created by receiving data from a QrCode.</p>\n\n<p>My code for open the file:</p>\n\n<pre><code>private fun openBackup(savedVCard: File) {\n    try {\n        val vcfMimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(\"vcf\")\n        val openVcfIntent = Intent(Intent.ACTION_VIEW)\n        openVcfIntent.setDataAndType(Uri.fromFile(savedVCard), vcfMimeType)\n        // Try to explicitly specify activity in charge of opening the vCard so that the user doesn't have to choose\n        // https://stackoverflow.com/questions/6827407/how-to-customize-share-intent-in-android/9229654#9229654\n        try {\n            if (mContext!!.packageManager != null) {\n                val resolveInfos = mContext!!.packageManager.queryIntentActivities(openVcfIntent, 0)\n                if (resolveInfos != null) {\n                    for (resolveInfo in resolveInfos) {\n                        val activityInfo = resolveInfo.activityInfo\n                        if (activityInfo != null) {\n                            val packageName = activityInfo.packageName\n                            val name = activityInfo.name\n                            // Find the needed Activity based on Android source files: http://grepcode.com/search?query=ImportVCardActivity&amp;start=0&amp;entity=type&amp;n=\n                            if (packageName != null &amp;&amp; packageName == \"com.android.contacts\" &amp;&amp; name != null &amp;&amp; name.contains(\"ImportVCardActivity\")) {\n                                openVcfIntent.`package` = packageName\n                                break\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (ignored: Exception) {\n        }\n\n        startActivity(openVcfIntent)\n    } catch (exception: Exception) {\n       Log.d(\"DEBUG\", exception.toString())\n    }\n}\n</code></pre>\n\n<p>And I receive this exception :</p>\n\n<p>android.os.FileUriExposedException: </p>\n\n<pre><code> file:///storage/emulated/0/Android/data/pathformyapplication/files/qr.vcf exposed beyond app through Intent.getData()\n</code></pre>\n\n<p>I think the problem is the Uri.fromFile, I tried with Uri.parser with my vCard in String format but it's didn't work to.</p>\n"}, {"tags": ["list", "foreach", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1547117922, "post_id": 49415544, "comment_id": 95085633, "body": "this is the most descriptive answer and thank you very much @moira"}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": false, "score": 1, "last_activity_date": 1521663268, "last_edit_date": 1521663268, "creation_date": 1521662477, "answer_id": 49415544, "question_id": 49415313, "link": "https://stackoverflow.com/questions/49415313/parse-and-replace-a-list-of-object-in-kotlin/49415544#49415544", "title": "parse and replace a list of object in kotlin", "body": "<p>First of all:</p>\n\n<ul>\n<li>you're not assigning <code>assignedTo</code>, you're assigning <code>name</code>...</li>\n<li>in the predicate passed to <code>find</code>, which\n\n<ul>\n<li>should <em>only</em> return a <code>Boolean</code> value to filter elements, and</li>\n<li><strong>should probably not have any side effects</strong>,</li>\n<li>those should be done later with a call to i.e. <code>forEach</code>.</li>\n</ul></li>\n</ul>\n\n<p>Additionally, your constructor parameters to the data class are normal parameters, and as such, need commas between them!</p>\n\n<p>Your last code block, corrected, would be:</p>\n\n<pre><code>updateTools.forEach {\n    val idToSearch = it.id\n    val nameToReplace = it.name\n    tools.find { it.id == idToSearch }.forEach { it.assignedTo = nameToReplace }\n}\nreturn tools\n</code></pre>\n\n<p>I'd do it like this (shorter):</p>\n\n<pre><code>updateTools.forEach { u -&gt; tools.filter { it.id == u.id }.forEach { it.assignedTo = u.name } }\n</code></pre>\n\n<p>This loops through each update, filters <code>tools</code> for tools with the right ID, and sets the name of each of these tools.</p>\n\n<p>I use <code>forEach</code> as <code>filter</code> returns a <code>List&lt;Tool&gt;</code>. </p>\n\n<hr>\n\n<p>If you can guarantee that <code>id</code> is unique, you can do it like this instead:</p>\n\n<pre><code>updateTools.forEach { u -&gt; tools.find { it.id == u.id }?.assignedTo = u.name }\n</code></pre>\n\n<p><s><code>firstOrNull</code> returns the first element matching the condition, or <code>null</code> if there is none.</s> <strong>Edit:</strong> it seems <code>find</code> <em>is</em> <code>firstOrNull</code> - its implementation just calls <code>firstOrNull</code>.</p>\n\n<p>The <code>?.</code> safe call operator returns <code>null</code> if the left operand is <code>null</code>, otherwise, it calls the method.</p>\n\n<p>For <code>=</code> and other operators which return <code>Unit</code> (i.e. <code>void</code>, nothing), using the safe call operator simply does nothing if the left operand is null.</p>\n\n<p>If we combine these, it effectively sets the name of the first element which matches this condition.</p>\n"}, {"tags": [], "owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1521663339, "last_edit_date": 1521663339, "creation_date": 1521662847, "answer_id": 49415636, "question_id": 49415313, "link": "https://stackoverflow.com/questions/49415313/parse-and-replace-a-list-of-object-in-kotlin/49415636#49415636", "title": "parse and replace a list of object in kotlin", "body": "<p>First, you're missing comma after properties in your data classes, so it should be:</p>\n\n<pre><code>data class Tool(\n    var id: String = \"\",\n    var description: String = \"\",\n    var assignedTo: String = \"\"\n)\n\ndata class Updated(\n    var id: String = \"\",\n    var assignedTo: String = \"\"\n)\n</code></pre>\n\n<p>As for second problem, there're probably number of ways to do that, but I've only corrected your idea:</p>\n\n<pre><code>fun updateList(tools: List&lt;Tool&gt;, updateTools: List&lt;Updated&gt;): List&lt;Tool&gt; {\n    updateTools.forEach{ ut -&gt;\n        tools.find { it.id == ut.id }?.assignedTo = ut.assignedTo\n    }\n    return tools\n}\n</code></pre>\n\n<p>Instead of assigning values to variables, you can name parameter for <code>forEach</code> and use it in rest of the loop.</p>\n"}], "owner": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4481, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1521663339, "creation_date": 1521661605, "question_id": 49415313, "link": "https://stackoverflow.com/questions/49415313/parse-and-replace-a-list-of-object-in-kotlin", "title": "parse and replace a list of object in kotlin", "body": "<p>I am currently having a list of obeject defined as:</p>\n\n<pre><code>fun updateList(tools: List&lt;Tool&gt;, updateTools: List&lt;Updated&gt;){\n... code below\n}\n</code></pre>\n\n<p>the <code>Tool</code> data class is defined as:</p>\n\n<pre><code>data class Tool(\n    var id: String = \"\"\n    var description: String = \"\"\n    var assignedTo: String = \"\"\n)\n</code></pre>\n\n<p>the <code>Updated</code> data class is defined as:</p>\n\n<pre><code>data class Updated(\n    var id: String = \"\"\n    var assignedTo: String = \"\"\n)\n</code></pre>\n\n<p>Basically, I parse the list <code>updateTools</code> and if I found a <code>id</code> match in <code>tools</code>, I update the <code>assignedTo</code> field from the <code>Tool</code> type object from <code>tools</code> by the one from <code>updateTools</code></p>\n\n<pre><code>fun updateList(tools: List&lt;Tool&gt;, updateTools: List&lt;Updated&gt;){\n    updateTools.forEach{\n        val idToSearch = it.id\n        val nameToReplace = it.name\n        tools.find(){\n            if(it.id == idToSearch){it.name=nameToReplace}\n        }\n    }\n    return tools\n}\n</code></pre>\n\n<p>it's not working but I do not see how to make it easier to work. I just started kotlin and I feel that it's not the good way to do it\nany idea ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "database-migration", "android-room"], "owner": {"reputation": 4102, "user_id": 1727589, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/U1bCC.jpg?s=128&g=1", "display_name": "Hadi Satrio", "link": "https://stackoverflow.com/users/1727589/hadi-satrio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1521658593, "creation_date": 1521658593, "question_id": 49414539, "link": "https://stackoverflow.com/questions/49414539/room-migration-and-internal-file-loss", "title": "Room migration and internal file loss", "body": "<p>I need to move some files around for my app's next update. These \"files\" are composed mainly of JPEGs that are being tracked by a dedicated table in my database. Based on that fact, I've decided to use a <code>Migration</code> object to handle both database migration and file relocation.</p>\n\n<p>A simplified snippet of my <code>Migration</code> class:</p>\n\n<pre><code>class VersionOneToTwo(private val appDataDir: File) : Migration(1, 2) {\n\n    override fun migrate(database: SupportSQLiteDatabase) {\n        database.beginTransaction()\n        try {\n            renameUriColumnInMedia(database)\n            updatePathDataInMedia(database)\n            moveEntryPhotoFilesToNewFolder(appDataDir)\n            database.setTransactionSuccessful()\n        } catch (e: Exception) {\n            throw MigrationFailed(1, 2, e)\n        } finally {\n            database.endTransaction()\n        }\n    }\n\n    private fun renameUriColumnInMedia(database: SupportSQLiteDatabase) {\n        database.execSQL(\"ALTER TABLE media RENAME TO old_media ...\")\n        database.execSQL(\"CREATE TABLE `media` ...\")\n        database.execSQL(\"INSERT INTO `media` ...\")\n        database.execSQL(\"DROP TABLE old_media ...\")\n    }\n\n    private fun updatePathDataInMedia(database: SupportSQLiteDatabase) {\n        database.execSQL(\"UPDATE media SET `path` = REPLACE(`path`, '/Photos/', '/entry-photos/') ...\")\n    }\n\n    private fun moveEntryPhotoFilesToNewFolder(appDataDir: File) {\n        moveFiles(File(appDataDir, \"Photos\"), File(appDataDir, \"entry-photos\"))\n    }\n\n    private fun moveFiles(sourceDir: File, targetDir: File) {\n        if (sourceDir.exists().not()) {\n            // This operation is not necessary.\n            return\n        }\n        if (sourceDir.isDirectory.not()) {\n            throw IllegalArgumentException(\"The given source directory is not a valid directory.\")\n        }\n\n        if (targetDir.mkdirs().not()) {\n            throw IOException(\"The creation of target directory has failed.\")\n        }\n\n        sourceDir.listFiles().forEach {\n            val movedFile = File(targetDir, it.name)\n            it.copyTo(movedFile, true)\n        }\n\n        sourceDir.deleteRecursively()\n    }\n}\n</code></pre>\n\n<p>The crazy thing is, everytime it gets to the point of actually moving the files (when <code>moveEntryPhotoFilesToNewFolder()</code> gets called) my files seem to have gone missing:</p>\n\n<ul>\n<li><code>sourceDir.exists()</code> in <code>moveEntryPhotoFilesToNewFolder()</code> returned <code>false</code></li>\n<li><code>sourceDir.listFiles()</code> in the same method returned <code>null</code></li>\n<li><code>adb shell; run-as &lt;mypackage&gt;; ls files;</code>printed out nothing</li>\n</ul>\n\n<p>I've tried to comment-out the file relocation part of the migration and sure enough my app would run. The files would still be missing though.</p>\n\n<p>Have I missed something obvious here? I checked and double checked; no other code in my project ever call <code>delete()</code> nor <code>deleteRecursively()</code> outside of that <code>Migration</code> class I've shown above.</p>\n\n<hr>\n\n<p>p.s., <code>appDataDir</code> here is <code>Context.getFilesDir()</code></p>\n"}, {"tags": ["java", "android", "kotlin", "android-room", "java-annotations"], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 11332949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15157e290233e6f6278853938f8b621a?s=128&d=identicon&r=PG&f=1", "display_name": "kiki Kala2", "link": "https://stackoverflow.com/users/11332949/kiki-kala2"}, "edited": false, "score": 0, "creation_date": 1589361603, "post_id": 49414616, "comment_id": 109260333, "body": "someCol is part of class for your example Foo and someOtherCol is for xlass BAr ?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 277, "user_id": 11332949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15157e290233e6f6278853938f8b621a?s=128&d=identicon&r=PG&f=1", "display_name": "kiki Kala2", "link": "https://stackoverflow.com/users/11332949/kiki-kala2"}, "edited": false, "score": 0, "creation_date": 1589388447, "post_id": 49414616, "comment_id": 109276714, "body": "Actually, the other way around. The child columns are the ones from the current entity (so <code>Foo</code> in this case), and the parent columns are from the other entity (<code>Bar</code> in this case)."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 104, "last_activity_date": 1521658880, "creation_date": 1521658880, "answer_id": 49414616, "question_id": 49414476, "link": "https://stackoverflow.com/questions/49414476/using-rooms-foreignkey-as-entity-parameter-in-kotlin/49414616#49414616", "title": "Using Room&#39;s @ForeignKey as @Entity parameter in Kotlin", "body": "<p>This is the way to provide the annotation you're looking for, with explicit arrays for the arguments, and no <code>@</code> for the nested annotation's creation:</p>\n\n<pre><code>@Entity(tableName = \"Foo\", \n    foreignKeys = arrayOf(\n            ForeignKey(entity = Bar::class, \n                    parentColumns = arrayOf(\"someCol\"), \n                    childColumns = arrayOf(\"someOtherCol\"), \n                    onDelete = CASCADE)))\n</code></pre>\n\n<p>Since <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#array-literals-in-annotations\" rel=\"noreferrer\">Kotlin 1.2</a>, you can also use array literals:</p>\n\n<pre><code>@Entity(tableName = \"Foo\",\n    foreignKeys = [\n        ForeignKey(entity = Bar::class,\n                parentColumns = [\"someCol\"],\n                childColumns = [\"someOtherCol\"],\n                onDelete = CASCADE)])\n</code></pre>\n"}], "owner": {"reputation": 2935, "user_id": 3808228, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyJ7J.jpg?s=128&g=1", "display_name": "Chisko", "link": "https://stackoverflow.com/users/3808228/chisko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13077, "favorite_count": 6, "accepted_answer_id": 49414616, "answer_count": 1, "score": 43, "last_activity_date": 1521658880, "creation_date": 1521658377, "question_id": 49414476, "link": "https://stackoverflow.com/questions/49414476/using-rooms-foreignkey-as-entity-parameter-in-kotlin", "title": "Using Room&#39;s @ForeignKey as @Entity parameter in Kotlin", "body": "<p>I came across a Room <a href=\"https://android.jlelse.eu/android-architecture-components-room-relationships-bf473510c14a\" rel=\"noreferrer\">tutorial</a> that makes use of the <code>@PrimaryKey</code> annotation on the class definition:</p>\n\n<pre><code>@Entity(foreignKeys = @ForeignKey(entity = User.class,\n                              parentColumns = \"id\",\n                              childColumns = \"userId\",\n                              onDelete = CASCADE))\npublic class Repo {\n    ...\n}\n</code></pre>\n\n<p>Now, I have the following data class that want to use a primary key on:</p>\n\n<pre><code>@Parcel(Parcel.Serialization.BEAN) \ndata class Foo @ParcelConstructor constructor(var stringOne: String,\n                                              var stringTwo: String,\n                                              var stringThree: String): BaseFoo() {\n\n    ...\n}\n</code></pre>\n\n<p>So, I just added the <code>@Entity(tableName = \"Foo\", foreignKeys = @ForeignKey(entity = Bar::class, parentColumns = \"someCol\", childColumns = \"someOtherCol\", onDelete = CASCADE))</code> snippet on the top as well, but I can't compile:</p>\n\n<blockquote>\n  <p>An annotation can't be used as the annotations argument.</p>\n</blockquote>\n\n<p>I wonder: how come <em>(what I think is)</em> the same concept working in Java but not in Kotlin? Also, is there a way to go around this?</p>\n\n<p>All input is welcome.</p>\n"}, {"tags": ["java", "generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 6, "last_activity_date": 1521654906, "creation_date": 1521654906, "answer_id": 49413477, "question_id": 49413383, "link": "https://stackoverflow.com/questions/49413383/pass-class-to-kotlin-reified-method/49413477#49413477", "title": "Pass class to Kotlin reified method", "body": "<p>This is not possible. When calling an inline function with a reified type parameter, you need to provide a class which is known at compile time, and references to that class will be substituted directly into the body of the function where the inline function is invoked. Classes which are only known at runtime cannot be handled in that way.</p>\n"}], "owner": {"reputation": 13322, "user_id": 1107651, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/939ca2785b6433f7a73992ae2ff6d736?s=128&d=identicon&r=PG", "display_name": "Guilherme Torres Castro", "link": "https://stackoverflow.com/users/1107651/guilherme-torres-castro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1521654906, "creation_date": 1521654630, "question_id": 49413383, "link": "https://stackoverflow.com/questions/49413383/pass-class-to-kotlin-reified-method", "title": "Pass class to Kotlin reified method", "body": "<p>I have an java api which give me as parameter as type: <code>modelClass: Class&lt;T&gt;</code> with this parameter I want to call a kotlin reified method : <code>intance&lt;reified : T&gt;()</code>.</p>\n\n<p>It's possible to pass my modelClass as parameter? I have no access to the source code of the reified method.</p>\n"}, {"tags": ["android", "audio", "kotlin", "chromecast"], "owner": {"reputation": 104, "user_id": 7454926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sHn1N.jpg?s=128&g=1", "display_name": "Vincent Chann", "link": "https://stackoverflow.com/users/7454926/vincent-chann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1521651994, "creation_date": 1521651994, "question_id": 49412537, "link": "https://stackoverflow.com/questions/49412537/switch-programmatically-audio-channel-from-chromecast-screen-mirroring-to-blueto", "title": "Switch programmatically audio channel from chromecast screen mirroring to bluetooth headphones", "body": "<p>My code can switch audio channel of my tablet from speakers to my connected bluetooth headphones with the following code : </p>\n\n<pre><code>if (bluetoothSound) {\n   audioManager.isBluetoothScoOn = false\n   audioManager.stopBluetoothSco()\n   audioManager.isSpeakerphoneOn = true\n   audioManager.mode = AudioManager.MODE_NORMAL\n   initButtonSettingLayout()\n }\n else {\n   audioManager.mode = AudioManager.MODE_IN_COMMUNICATION\n   audioManager.isBluetoothScoOn = true\n   audioManager.startBluetoothSco()\n   audioManager.isSpeakerphoneOn = false\n }\n</code></pre>\n\n<p>But once I am screen mirroring with my chromecast, none of them work.\nI need a robust way to switch audio channel.\nThank you</p>\n"}, {"tags": ["java", "android", "serialization", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1521651265, "post_id": 49412024, "comment_id": 85826272, "body": "not a direct answer to your issue but you might consider using new Android KTX and it&#39;s shared preference &quot;wrapper&quot; (<a href=\"https://github.com/android/android-ktx\" rel=\"nofollow noreferrer\">github.com/android/android-ktx</a>)"}, {"owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "reply_to_user": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1521652768, "post_id": 49412024, "comment_id": 85827243, "body": "@JohnO&#39;Reilly thank you! that seems useful but I am only starting to play with android so I want to get my hands dirty for a bit before abstracting it all away to get used to the way thing are. But still, thanks alot!"}, {"owner": {"reputation": 684, "user_id": 3453164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31db6ceed42e7f2b1639dcc9e2346241?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas Cornette", "link": "https://stackoverflow.com/users/3453164/nicolas-cornette"}, "edited": false, "score": 0, "creation_date": 1521653384, "post_id": 49412024, "comment_id": 85827640, "body": "You should simplify you code by not using extension functions, but implement methods <code>putStringInPrefs </code> and <code>getStringFromPrefs </code> directly in you Activity. Also you can remove the prefsFile argument and replace it with a string constant, as you will always read and write you key from the same place and to avoid confusion"}], "answers": [{"comments": [{"owner": {"reputation": 684, "user_id": 3453164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31db6ceed42e7f2b1639dcc9e2346241?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas Cornette", "link": "https://stackoverflow.com/users/3453164/nicolas-cornette"}, "reply_to_user": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 1, "creation_date": 1521653108, "post_id": 49412472, "comment_id": 85827448, "body": "Are you sure you asked for the same &quot;prefsFile&quot; ?"}, {"owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "edited": false, "score": 0, "creation_date": 1521664653, "post_id": 49412472, "comment_id": 85833944, "body": "yes. The <code>mainPrefsFile</code> is actually a member of the <code>MainActivity</code>, it is initialized right at the start(outside of <code>onCreate</code>, a member of the class itself) <code>val mainPrefsFile: String = &quot;main_prefs&quot;</code>"}], "tags": [], "owner": {"reputation": 684, "user_id": 3453164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31db6ceed42e7f2b1639dcc9e2346241?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas Cornette", "link": "https://stackoverflow.com/users/3453164/nicolas-cornette"}, "is_accepted": false, "score": 1, "last_activity_date": 1521651765, "creation_date": 1521651765, "answer_id": 49412472, "question_id": 49412024, "link": "https://stackoverflow.com/questions/49412024/android-sharedpreferences-not-saving-with-commit-apply-clear/49412472#49412472", "title": "Android sharedPreferences not saving with commit/apply/clear", "body": "<p><code>super.onDestroy()</code> should be the last line in your overridden method <code>onDestroy()</code>. You might experience unexpected behaviour on whatever code you execute after \"destructive\" code has been executed</p>\n"}, {"tags": [], "owner": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "is_accepted": false, "score": 1, "last_activity_date": 1521800349, "last_edit_date": 1521800349, "creation_date": 1521799613, "answer_id": 49447087, "question_id": 49412024, "link": "https://stackoverflow.com/questions/49412024/android-sharedpreferences-not-saving-with-commit-apply-clear/49447087#49447087", "title": "Android sharedPreferences not saving with commit/apply/clear", "body": "<p>Save <code>Activity</code> state in <code>onDestroy()</code> is not good idea, because it is possible for the system to kill the process hosting your activity without calling the activity's final onDestroy() callback. (<a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle.html#onstop\" rel=\"nofollow noreferrer\">see docs</a>).</p>\n\n<p>To save state you can use <code>onSaveInstanceState</code> / <code>onRestoreInstanceState</code> instead. See: <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle.html#saras\" rel=\"nofollow noreferrer\">Saving and restoring activity state</a></p>\n\n<pre><code>override fun onSaveInstanceState(outState: Bundle?) {\n    outState?.putString(YOUR_TEXT, textView.text)\n    super.onSaveInstanceState(outState)\n}\n\noverride fun onRestoreInstanceState(savedInstanceState: Bundle?) {\n    super.onRestoreInstanceState(savedInstanceState)\n    if (savedInstanceState != null) {\n        textView.text = savedInstanceState.getString(YOUR_TEXT)\n    }\n}\n\ncompanion object {\n    val YOUR_TEXT = \"your_text\"\n}\n</code></pre>\n"}], "owner": {"reputation": 1192, "user_id": 7023187, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/321015561587503/picture?type=large", "display_name": "Rares Dima", "link": "https://stackoverflow.com/users/7023187/rares-dima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521800349, "creation_date": 1521650495, "question_id": 49412024, "link": "https://stackoverflow.com/questions/49412024/android-sharedpreferences-not-saving-with-commit-apply-clear", "title": "Android sharedPreferences not saving with commit/apply/clear", "body": "<p>I am trying to save the text contents of a <code>TextView</code> when my app closes, so I am trying to save that info in the <code>onDestroy</code> method, and then set them in the <code>onCreate</code> method.</p>\n\n<p>I have written the following 2 functions to get rid of the boilerplate of getting and putting a value in the shared prefs:</p>\n\n<pre><code>fun MainActivity.putStringInPrefs(prefsFile: String, key: String, value: Any) =\n    getSharedPreferences(prefsFile, Context.MODE_PRIVATE)\n            .edit()\n            .putString(key, value.toString())\n            .apply()\n\nfun MainActivity.getStringFromPrefs(prefsFile: String, key: String, default: Any = \"\") : String =\n    getSharedPreferences(prefsFile, Context.MODE_PRIVATE).getString(key, default.toString())\n</code></pre>\n\n<p>When the app closes this is what gets called:</p>\n\n<pre><code>override fun onDestroy() { \n        super.onDestroy()\n        log(\"OnDestroy!\")\n        putStringInPrefs(mainPrefsFile, \"lastSelectedItemDescription\", textViewItemDetailsTextView.text) }\n</code></pre>\n\n<p><code>log</code> is just a wrapper around <code>Log.d(\"\", \"string\")</code></p>\n\n<p>And in the <code>onCreate</code>  this gets called:</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState) ; log(\"OnCreate!\")\n            setContentView(R.layout.activity_main)\n\n            // Set up the item details text view\n            textViewItemDetailsTextView.text = getStringFromPrefs(mainPrefsFile, \"lastSelectedItemDescription\", detailsText)\n</code></pre>\n\n<p>Problem is that whatever I do the preferences are not saved and the default value is always returned in <code>onCreate</code>. I have tried both apply and commit, with and without clear. No results. What am I doing wrong.</p>\n"}, {"tags": ["json", "kotlin", "data-class"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1521648478, "post_id": 49411039, "comment_id": 85824219, "body": "Do you need to simply convert <code>DataA</code> to <code>DataB</code> or you need to create a <code>DataB</code> instance that contains a clone of <code>cartItems</code> list?"}, {"owner": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1521649241, "post_id": 49411039, "comment_id": 85824783, "body": "I need an instance of DataB."}], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 0, "last_activity_date": 1521649702, "creation_date": 1521649702, "answer_id": 49411745, "question_id": 49411039, "link": "https://stackoverflow.com/questions/49411039/copy-map-json-data-class-structure-in-kotlin/49411745#49411745", "title": "copy/map json/data class structure in kotlin", "body": "<p>Since you simply need to convert an instance of <code>DataA</code> to an instance of <code>DataB</code>, what you can do is <code>DataB(dataA.cartItems)</code>, where <code>dataA</code> is the instance of <code>DataA</code>.</p>\n\n<p>Note, however, that if for any reason you modify any item of <code>cartItems</code> from <code>dataA</code>, this change will be reflected also to <code>dataB</code>, since they share the same list object.</p>\n"}], "owner": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521649702, "creation_date": 1521647806, "last_edit_date": 1521648006, "question_id": 49411039, "link": "https://stackoverflow.com/questions/49411039/copy-map-json-data-class-structure-in-kotlin", "title": "copy/map json/data class structure in kotlin", "body": "<p>I am newbie in kotlin and I try to copy a JSON structure to another one in an efficient way.</p>\n\n<p>I have an API called getData() how send back a data structure defined as below:</p>\n\n<pre><code>data class DataA(\n    var id: String,\n    var cartItems: List&lt;CartItem&gt;, \n}\n</code></pre>\n\n<p>When the getData sent back the DataA structure, I have to map or translate it to another structure defined as below:</p>\n\n<pre><code>data class DataB(\n    var cartItems: List&lt;CartItem&gt;, \n}\n</code></pre>\n\n<p>Is there an easy way to do it? I know that kotlin can easily encapsulate calls to make it nice.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "mockito", "retrofit"], "answers": [{"tags": [], "owner": {"reputation": 412, "user_id": 7564126, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/971ce542fb730b6e4b06d66e6b6240ed?s=128&d=identicon&r=PG&f=1", "display_name": "Tarcisio Wensing", "link": "https://stackoverflow.com/users/7564126/tarcisio-wensing"}, "is_accepted": false, "score": 0, "last_activity_date": 1521644709, "creation_date": 1521644709, "answer_id": 49409842, "question_id": 49409423, "link": "https://stackoverflow.com/questions/49409423/mockito-not-working-when-method-start-observable/49409842#49409842", "title": "Mockito not working when method start Observable", "body": "<p>i found the answer, i dont know why, i tested this before, but was throwing a error about object not being a mock, but i tested again and worked:</p>\n\n<p>change</p>\n\n<pre><code>val api:RestAPI = Mockito.mock(RestAPI::class.java, Mockito.RETURNS_DEEP_STUBS)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>val api:RestAPI = Mockito.spy(MockRetrofitApi.mockApi())\n</code></pre>\n\n<p>mockApi only return a <code>new Retrofit.create(RestApi.class)</code></p>\n"}], "owner": {"reputation": 412, "user_id": 7564126, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/971ce542fb730b6e4b06d66e6b6240ed?s=128&d=identicon&r=PG&f=1", "display_name": "Tarcisio Wensing", "link": "https://stackoverflow.com/users/7564126/tarcisio-wensing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521669466, "creation_date": 1521643643, "last_edit_date": 1521669466, "question_id": 49409423, "link": "https://stackoverflow.com/questions/49409423/mockito-not-working-when-method-start-observable", "title": "Mockito not working when method start Observable", "body": "<p>im trying to test a presenter, but the test only pass when things are outside of Observable, my presenter:</p>\n\n<pre><code>class CompManCodePresenter @Inject constructor(val apiBag: ServiceModule.ApiBag, disposable: CompositeDisposable, scheduler: SchedulerProvider) : BasePresenter&lt;CompManCodeView&gt;(disposable, scheduler) {\n\n    fun validateCompmanCode(code: String) {\n        view?.showProgress()\n        if (code.isEmpty()) {\n            view?.emptyCode()\n            view?.hideProgress()\n        } else {\n\n            val request = mutableMapOf&lt;String, Any?&gt;()\n            request.put(\"code\", code)\n            disposable.add(\n                    apiBag.apiMainFast.check_code(JWT.jwt_encrypted(request))\n                    .subscribeOn(scheduler.io())\n                    .observeOn(scheduler.ui())\n                    .subscribe(\n                            { result -&gt;\n                                view?.hideProgress()\n                            },\n                            { error -&gt;\n                                view?.hideProgress()\n                                view?.onError()\n                            })\n            )\n        }\n\n    }\n</code></pre>\n\n<p>rest api part:</p>\n\n<pre><code>@POST(\"v2/check-code\")\nfun check_code(@Body body: JwtDataRequest): Observable&lt;SyncCompManAndDeviceResponse&gt;\n</code></pre>\n\n<p>test that works ok:</p>\n\n<pre><code>@Test\nfun test_code_empty() {\n    val mockedResponse: Throwable = mock()\n    val params = HashMap&lt;String, Any&gt;()\n    val mockedRequest = JWT.jwt_encrypted(params)\n\n    doReturn(Observable.just(mockedResponse)).`when`(api).check_code(mockedRequest)\n    presenter.validateCompmanCode(\"\")\n\n    testScheduler.triggerActions()\n\n    verify(view).showProgress()\n    verify(view).emptyCode()\n    verify(view).hideProgress()\n}\n</code></pre>\n\n<p><strong>test that is not working (it only run the .showProgress outside</strong> </p>\n\n<pre><code> @Test\n    fun test_no_connection() {\n\n        val mockedResponse: Throwable = mock()\n        val params = HashMap&lt;String, Any&gt;()\n        val mockedRequest = JWT.jwt_encrypted(params)\n\n        doReturn(Observable.just(mockedResponse)).`when`(api).check_code(mockedRequest)\n        presenter.validateCompmanCode(\"A\")\n\n        testScheduler.triggerActions()\n        verify(view).showProgress()\n        verify(view).hideProgress()\n        verify(view).onError()\n    }\n</code></pre>\n\n<p>my test class setup:</p>\n\n<pre><code>  private val view: CompManCodeView = mock()\n    private lateinit var presenter: CompManCodePresenter\n    private lateinit var testScheduler: TestScheduler\n\n    val api:RestAPI = Mockito.mock(RestAPI::class.java, Mockito.RETURNS_DEEP_STUBS)\n    val apiBag:ServiceModule.ApiBag = Mockito.spy(ServiceModule.ApiBag(api,api,api,api))\n\n\n\n    @Before\n    fun setUp() {\n        MockitoAnnotations.initMocks(this);\n        val compositeDisposable = CompositeDisposable()\n        testScheduler = TestScheduler()\n        val testSchedulerProvider = TestSchedulerProvider(testScheduler)\n        presenter = CompManCodePresenter(apiBag, disposable = compositeDisposable, scheduler = testSchedulerProvider)\n        presenter.attachView(view)\n    }\n</code></pre>\n\n<p>no error show, the only thing that the test result show is this:</p>\n\n<pre><code>Wanted but not invoked:\nview.hideProgress();\n\n\nHowever, there were exactly 2 interactions with this mock:\nview.setPresenter(\n    CompManCodePresenter@72ee5d84\n);\n-&gt; BasePresenter.attachView(BasePresenter.kt:13)\n\nview.showProgress();\n-&gt; at CompManCodePresenter.validateCompmanCode(CompManCodePresenter.kt:21)\n</code></pre>\n\n<p>im following this: <a href=\"https://github.com/burakeregar/KotlinRxMvpArchitecture\" rel=\"nofollow noreferrer\">https://github.com/burakeregar/KotlinRxMvpArchitecture</a></p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 2, "last_activity_date": 1521639858, "creation_date": 1521639858, "answer_id": 49407985, "question_id": 49407925, "link": "https://stackoverflow.com/questions/49407925/kotlin-if-readline-is-null-or-empty-assign-default-value-else-parse-readli/49407985#49407985", "title": "Kotlin - &quot;If readLine() is null or empty assign default value, else parse readLine()&quot;", "body": "<h1>Using the elvis operator and null-safe calls</h1>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val parsed = readLine()?.toDouble() ?: 0.0\n}\n</code></pre>\n\n<ul>\n<li>Using <code>?.</code> calls the method only if the value is not null, otherwise it just passes null along.</li>\n<li>Using <code>?:</code> means that the value on the left is returned if it is not null, otherwise the value on the right is returned</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 8870470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa85d9dfb3ec82e78cfd6c3ac825697d?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Gonzales", "link": "https://stackoverflow.com/users/8870470/tim-gonzales"}, "edited": false, "score": 1, "creation_date": 1521640240, "post_id": 49408001, "comment_id": 85817458, "body": "Ah this is perfect. Thank you!"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1521639902, "creation_date": 1521639902, "answer_id": 49408001, "question_id": 49407925, "link": "https://stackoverflow.com/questions/49407925/kotlin-if-readline-is-null-or-empty-assign-default-value-else-parse-readli/49408001#49408001", "title": "Kotlin - &quot;If readLine() is null or empty assign default value, else parse readLine()&quot;", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-double-or-null.html\" rel=\"nofollow noreferrer\"><code>toDoubleOrNull</code></a> here:</p>\n\n<pre><code>val double: Double = readLine()?.toDoubleOrNull() ?: 0\n</code></pre>\n\n<p>If <code>readLine()</code> returns <code>null</code>, then the <code>readLine()?.toDoubleOrNull()</code> expression will also return <code>null</code>, and you'll fall back on the default value.</p>\n\n<p>If <code>readLine()</code> returns a non-null value, <code>toDoubleOrNull</code> will attempt to parse it, and if it fails (for example, for an empty string), it will return <code>null</code>, making you fall back to the default once again.</p>\n"}, {"tags": [], "owner": {"reputation": 403, "user_id": 4083820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5a9a5f9469a566fe4a0574ef86101?s=128&d=identicon&r=PG&f=1", "display_name": "C.A.B.", "link": "https://stackoverflow.com/users/4083820/c-a-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1547096390, "creation_date": 1547096390, "answer_id": 54122184, "question_id": 49407925, "link": "https://stackoverflow.com/questions/49407925/kotlin-if-readline-is-null-or-empty-assign-default-value-else-parse-readli/54122184#54122184", "title": "Kotlin - &quot;If readLine() is null or empty assign default value, else parse readLine()&quot;", "body": "<p>How about this solution:</p>\n\n<pre><code>System.console().readLine()?.ifBlank { null } ?: \"default string value\"\n</code></pre>\n\n<p>and for password (this doesn't work inside IntelliJ):</p>\n\n<pre><code>String(System.console().readPassword()).ifBlank { \"password\" }\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 8870470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa85d9dfb3ec82e78cfd6c3ac825697d?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Gonzales", "link": "https://stackoverflow.com/users/8870470/tim-gonzales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2256, "favorite_count": 0, "accepted_answer_id": 49408001, "answer_count": 3, "score": 4, "last_activity_date": 1547096390, "creation_date": 1521639682, "last_edit_date": 1521643167, "question_id": 49407925, "link": "https://stackoverflow.com/questions/49407925/kotlin-if-readline-is-null-or-empty-assign-default-value-else-parse-readli", "title": "Kotlin - &quot;If readLine() is null or empty assign default value, else parse readLine()&quot;", "body": "<p>I'm a beginner to Kotlin and am loving it so far. I'm curious if Kotlin has a quick and simple solution to checking user input/strings for emptiness. I'd like the funtionality of the following:</p>\n\n<pre><code>\"If readLine() is null or empty assign default value, else parse readLine()\"\n</code></pre>\n\n<p>And so far, what I've come up with is this:</p>\n\n<pre><code>var inp = readLine()\nval double = if(inp.isNullOrEmpty()) 0.0 else inp.toDouble()\n</code></pre>\n\n<p>Is this the best it can be? I'd prefer to not store the original user input string if possible. Thanks for the help!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "edited": false, "score": 0, "creation_date": 1521639645, "post_id": 49407856, "comment_id": 85816976, "body": "let me try this."}], "tags": [], "owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "is_accepted": true, "score": 4, "last_activity_date": 1521639486, "creation_date": 1521639486, "answer_id": 49407856, "question_id": 49407744, "link": "https://stackoverflow.com/questions/49407744/key-hash-for-android-facebook-app-in-kotlin-programmatically/49407856#49407856", "title": "Key hash for Android-Facebook app in Kotlin Programmatically", "body": "<p>Use below code for getting keyhash</p>\n\n<pre><code>try {\n        val info = packageManager.getPackageInfo(\n                \"your package\",\n                PackageManager.GET_SIGNATURES)\n        for (signature in info.signatures) {\n            val md = MessageDigest.getInstance(\"SHA\")\n            md.update(signature.toByteArray())\n            Log.e(\"KeyHash:\", Base64.encodeToString(md.digest(), Base64.DEFAULT))\n        }\n    } catch (e: PackageManager.NameNotFoundException) {\n\n    } catch (e: NoSuchAlgorithmException) {\n\n    }\n</code></pre>\n\n<p>Make sure that. You import correct packages</p>\n\n<pre><code>   import android.content.pm.PackageManager\nimport android.util.Base64\nimport android.util.Log\nimport java.security.MessageDigest\nimport java.security.NoSuchAlgorithmException\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1521639591, "creation_date": 1521639591, "answer_id": 49407899, "question_id": 49407744, "link": "https://stackoverflow.com/questions/49407744/key-hash-for-android-facebook-app-in-kotlin-programmatically/49407899#49407899", "title": "Key hash for Android-Facebook app in Kotlin Programmatically", "body": "<p>Nothing wrong in your code only one change needed\nPlease add <strong>import android.util.Base64</strong> instead of import java.util.*</p>\n"}], "owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2552, "favorite_count": 1, "accepted_answer_id": 49407856, "answer_count": 2, "score": 3, "last_activity_date": 1521639591, "creation_date": 1521639152, "last_edit_date": 1521639436, "question_id": 49407744, "link": "https://stackoverflow.com/questions/49407744/key-hash-for-android-facebook-app-in-kotlin-programmatically", "title": "Key hash for Android-Facebook app in Kotlin Programmatically", "body": "<p>I'm trying to get the hash key in kotlin for facebook-app before that i use this java method to get hask key for my apps: </p>\n\n<p><strong>Java code:</strong></p>\n\n<pre><code>// Add code to print out the key hash\n    try {\n        PackageInfo info = getPackageManager().getPackageInfo(\n                \"your.package\", \n                PackageManager.GET_SIGNATURES);\n        for (Signature signature : info.signatures) {\n            MessageDigest md = MessageDigest.getInstance(\"SHA\");\n            md.update(signature.toByteArray());\n            Log.d(\"KeyHash:\", Base64.encodeToString(md.digest(), Base64.DEFAULT));\n            }\n    } catch (NameNotFoundException e) {\n\n    } catch (NoSuchAlgorithmException e) {\n\n    }\n</code></pre>\n\n<p>Now i tried this code snippet by converting it into kotlin code: </p>\n\n<p><strong>Kotlin Code:</strong></p>\n\n<pre><code>    try {\n           val info = packageManager.getPackageInfo(packageName, PackageManager.GET_SIGNATURES)\n            for (signature in info.signatures) {\n                val md = MessageDigest.getInstance(\"SHA\")\n                md.update(signature.toByteArray())\n                Log.d(\"KeyHash:\", Base64.encodeToString(md.digest(), Base64.DEFAULT))\n            }\n    } catch (e: PackageManager.NameNotFoundException) {\n                    e.printStackTrace()\n    } catch (e: NoSuchAlgorithmException) {\n                    e.printStackTrace()\n    }\n</code></pre>\n\n<p>but getting error on this line of code i have tried some solutions but didn't get anything useful:  </p>\n\n<pre><code>      Log.d(\"KeyHash:\", Base64.encodeToString(md.digest(), Base64.DEFAULT))\n</code></pre>\n\n<p><code>encodeToString</code> is unresolved and same for <code>Base64.DEFAULT</code>.</p>\n\n<p>Thanks in advance for your time.</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 2836, "user_id": 2371515, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b5b5540812ba79a71d52e267f59819?s=128&d=identicon&r=PG", "display_name": "Alex Kombo", "link": "https://stackoverflow.com/users/2371515/alex-kombo"}, "edited": false, "score": 0, "creation_date": 1521639176, "post_id": 49407562, "comment_id": 85816589, "body": "Using <code>DialogInterface</code> as the variable type brings up a <code>conflicting declarations</code> error message on the editor; and so does <code>AlertBuilder&lt;DialogInterface&gt;</code>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2836, "user_id": 2371515, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b5b5540812ba79a71d52e267f59819?s=128&d=identicon&r=PG", "display_name": "Alex Kombo", "link": "https://stackoverflow.com/users/2371515/alex-kombo"}, "edited": false, "score": 0, "creation_date": 1521639320, "post_id": 49407562, "comment_id": 85816717, "body": "What&#39;s the full error message? Perhaps you already have a variable named <code>dialog</code> in scope?"}, {"owner": {"reputation": 2836, "user_id": 2371515, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b5b5540812ba79a71d52e267f59819?s=128&d=identicon&r=PG", "display_name": "Alex Kombo", "link": "https://stackoverflow.com/users/2371515/alex-kombo"}, "edited": false, "score": 1, "creation_date": 1521639551, "post_id": 49407562, "comment_id": 85816905, "body": "You&#39;re right, I had a conflicting variable named <code>dialog</code>. Renaming it worked. Thanks."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1521638730, "creation_date": 1521638730, "answer_id": 49407562, "question_id": 49407091, "link": "https://stackoverflow.com/questions/49407091/dismissing-an-alert-dialog-with-custom-anko-layout-dsl/49407562#49407562", "title": "Dismissing an alert dialog with custom Anko layout DSL", "body": "<p>This is problematic because your <code>button</code> function call which registers the listener executes when the dialog doesn't even exist yet.</p>\n\n<p>Here's one way to do it, using a local <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"noreferrer\"><code>lateinit</code></a> variable to make the <code>dialog</code> available inside the listener:</p>\n\n<pre><code>lateinit var dialog: DialogInterface\ndialog = alert {\n    customView {\n        button(\"Click\") {\n            dialog.dismiss()\n        }\n    }\n}.show()\n</code></pre>\n\n<p>You could also assign the result of the builder to a class property, etc. Note that <code>lateinit</code> for local variables is available <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#lateinit-top-level-properties-and-local-variables\" rel=\"noreferrer\">since Kotlin 1.2</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 5511, "user_id": 7682257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VeNQ.jpg?s=128&g=1", "display_name": "Suraj Vaishnav", "link": "https://stackoverflow.com/users/7682257/suraj-vaishnav"}, "is_accepted": false, "score": 0, "last_activity_date": 1586418161, "creation_date": 1586418161, "answer_id": 61116217, "question_id": 49407091, "link": "https://stackoverflow.com/questions/49407091/dismissing-an-alert-dialog-with-custom-anko-layout-dsl/61116217#61116217", "title": "Dismissing an alert dialog with custom Anko layout DSL", "body": "<p>You can do simply, <code>it.dismiss()</code> inside yes or no button callback, like this here <code>it</code> is <code>DialogInterface</code>:</p>\n\n<pre><code>alert(getString(R.string.logout_message),getString(R.string.logout_title)){\n        yesButton {\n            // some code here\n            it.dismiss()\n        }\n        noButton {\n            it.dismiss()\n        }\n    }.show()\n</code></pre>\n"}], "owner": {"reputation": 2836, "user_id": 2371515, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b5b5540812ba79a71d52e267f59819?s=128&d=identicon&r=PG", "display_name": "Alex Kombo", "link": "https://stackoverflow.com/users/2371515/alex-kombo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1775, "favorite_count": 0, "accepted_answer_id": 49407562, "answer_count": 2, "score": 3, "last_activity_date": 1586418161, "creation_date": 1521637453, "question_id": 49407091, "link": "https://stackoverflow.com/questions/49407091/dismissing-an-alert-dialog-with-custom-anko-layout-dsl", "title": "Dismissing an alert dialog with custom Anko layout DSL", "body": "<p>I have created the following alert dialog with a simple view comprising of a <code>TextView</code>, <code>EditText</code> and <code>Button</code>:</p>\n\n<pre><code>alert {\n            customView {\n                verticalLayout {\n                    textView {\n                        text = getString(R.string.enter_quantity)\n                        textSize = 18f\n                        textColor = Color.BLACK\n                    }.lparams {\n                        topMargin = dip(17)\n                        horizontalMargin = dip(17)\n                        bottomMargin = dip(10)\n                    }\n\n                    val quantity = editText {\n                        inputType = InputType.TYPE_CLASS_NUMBER\n                        background = ContextCompat.getDrawable(this@ProductsList, R.drawable.textbox_bg)\n                    }.lparams(width = matchParent, height = wrapContent) {\n                        bottomMargin = dip(10)\n                        horizontalMargin = dip(17)\n                    }\n\n                    button(getString(R.string.confirm)) {\n                        background = ContextCompat.getDrawable(this@ProductsList, R.color.colorPrimary)\n                        textColor = Color.WHITE\n                    }.lparams(width = matchParent, height = matchParent) {\n                        topMargin = dip(10)\n                    }.setOnClickListener {\n                        if (quantity.text.isNullOrBlank())\n                            snackbar(parentLayout!!, getString(R.string.enter_valid_quantity))\n                        else\n                            addToCart(product, quantity.text.toString().toInt())\n                    }\n                }\n            }\n        }.show()\n</code></pre>\n\n<p>I want to dismiss it whenever the button is clicked and the <code>if-else</code> clause has been executed. I tried using <code>this@alert</code> but it doesn't provide the dialog methods. </p>\n"}, {"tags": ["jaxb", "kotlin", "jaxb2-maven-plugin"], "owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 654, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1521638945, "creation_date": 1521636645, "last_edit_date": 1521638945, "question_id": 49406800, "link": "https://stackoverflow.com/questions/49406800/generate-xml-schema-from-kotlin-enum-using-jaxb", "title": "Generate XML schema from Kotlin Enum using Jaxb", "body": "<p>I would like to use some XML schema files from Kotlin enum classes. </p>\n\n<p>When I generate classes from an xml schema, this is the output:</p>\n\n<pre><code>import javax.xml.bind.annotation.XmlEnum;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java class for LogLevelType.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * &lt;p&gt;\n * &lt;pre&gt;\n * &amp;lt;simpleType name=\"LogLevelType\"&amp;gt;\n *   &amp;lt;restriction base=\"{http://www.w3.org/2001/XMLSchema}string\"&amp;gt;\n *     &amp;lt;enumeration value=\"ERROR\"/&amp;gt;\n *     &amp;lt;enumeration value=\"WARNING\"/&amp;gt;\n *     &amp;lt;enumeration value=\"INFO\"/&amp;gt;\n *     &amp;lt;enumeration value=\"DEBUG\"/&amp;gt;\n *   &amp;lt;/restriction&amp;gt;\n * &amp;lt;/simpleType&amp;gt;\n * &lt;/pre&gt;\n * \n */\n@XmlType(name = \"LogLevelType\", namespace = \"http://www.brabantia.com/XMLSchema/Logging\")\n@XmlEnum\npublic enum LogLevelType {\n\n    ERROR,\n    WARNING,\n    INFO,\n    DEBUG;\n\n    public String value() {\n        return name();\n    }\n\n    public static LogLevelType fromValue(String v) {\n        return valueOf(v);\n    }    \n}\n</code></pre>\n\n<p>So I figured that when I would create an enum class and add the same annotations, I would be able to do the same in reverse.</p>\n\n<pre><code>import javax.xml.bind.annotation.XmlEnum\nimport javax.xml.bind.annotation.XmlType\n\n@XmlType(name = \"ErrorCategoryType\", namespace = \"http://www.brabantia.com/XMLSchema/Enum\")\n@XmlEnum\nenum class ErrorCategoryType {\n    FUNCTIONAL,\n    TECHNICAL;\n\n    fun value(): String = name\n    fun fromValue(v: String) = valueOf(v)\n}\n</code></pre>\n\n<p>In my pom file I have the following configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;xjc&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;xjc&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/generated-sources/jaxb&lt;/outputDirectory&gt;\n\n                    &lt;!-- The package of your generated sources --&gt;\n                    &lt;packageName&gt;com.brabantia.common.schema&lt;/packageName&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;${project.basedir}/src/main/resources/BrabantiaMain.xsd&lt;/source&gt;\n                    &lt;/sources&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;schemagen&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;schemagen&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${project.basedir}/src/main/resources/Generated&lt;/outputDirectory&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;${project.basedir}/src/main/kotlin/com/brabantia/common/xmlschemas/enums&lt;/source&gt;\n                    &lt;/sources&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n\n<p>The Java classes are generated using xjc, but when I try to generate the xml schemas using schemagen, the following error is displayed:</p>\n\n<pre><code>Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.3.1:schemagen (default-cli) on project xml-schemas: Execution default-cli of goal org.codehaus.mojo:jaxb2-maven-plugin:2.3.1:schemagen failed: syntax error @[1,41] in file:/C:/projects/INTEGRATION_FACTORY/XML_SCHEMAS/src/main/kotlin/com/brabantia/common/xmlschemas/enum/ErrorCategoryType.kt -&gt; [Help 1]\n</code></pre>\n\n<p>How can I generate the XML schemas from the Kotlin enum classes?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1521635602, "post_id": 49406350, "comment_id": 85813867, "body": "i am not getting your point."}, {"owner": {"reputation": 1440, "user_id": 4894556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20db54bcfebf8d113947151830b76ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Shrenik Shah", "link": "https://stackoverflow.com/users/4894556/shrenik-shah"}, "edited": false, "score": 1, "creation_date": 1521635723, "post_id": 49406350, "comment_id": 85813953, "body": "as far as i know its not possible that you can put dynamic name to access string resource"}, {"owner": {"reputation": 3495, "user_id": 1993577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/646fb3da2e0fdccacb2a4474a3a6f806?s=128&d=identicon&r=PG", "display_name": "Ruchira Randana", "link": "https://stackoverflow.com/users/1993577/ruchira-randana"}, "edited": false, "score": 0, "creation_date": 1521635732, "post_id": 49406350, "comment_id": 85813959, "body": "Are you trying to use multiple languages/localization?"}, {"owner": {"reputation": 1957, "user_id": 3615605, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vBNcE.jpg?s=128&g=1", "display_name": "MathankumarK", "link": "https://stackoverflow.com/users/3615605/mathankumark"}, "edited": false, "score": 0, "creation_date": 1521635744, "post_id": 49406350, "comment_id": 85813969, "body": "getString needs Resource ID, You can&#39;t pass a String into that parameter, It needs Integer"}, {"owner": {"reputation": 296, "user_id": 5913323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QPWby.jpg?s=128&g=1", "display_name": "Pravin Fofariya", "link": "https://stackoverflow.com/users/5913323/pravin-fofariya"}, "edited": false, "score": 0, "creation_date": 1521635844, "post_id": 49406350, "comment_id": 85814041, "body": "To get the values from the Textview we have to use this method  val str = textView.text.toString()"}, {"owner": {"reputation": 296, "user_id": 5913323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QPWby.jpg?s=128&g=1", "display_name": "Pravin Fofariya", "link": "https://stackoverflow.com/users/5913323/pravin-fofariya"}, "edited": false, "score": 0, "creation_date": 1521636298, "post_id": 49406350, "comment_id": 85814369, "body": "val string: String = getString(R.string.your_string_id)"}, {"owner": {"reputation": 447, "user_id": 6941033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9XFjhxUhqS0/AAAAAAAAAAI/AAAAAAAAAUE/JXrcMiBGe_s/photo.jpg?sz=128", "display_name": "matin sayyad", "link": "https://stackoverflow.com/users/6941033/matin-sayyad"}, "edited": false, "score": 0, "creation_date": 1521636359, "post_id": 49406350, "comment_id": 85814408, "body": "var  a = resources.getString(R.string.app_name);"}], "answers": [{"comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521636155, "post_id": 49406529, "comment_id": 85814276, "body": "maybe it&#39;ll be better as extension function?"}, {"owner": {"reputation": 9151, "user_id": 3506946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lzcgg.png?s=128&g=1", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/3506946/dhaval-patel"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521637411, "post_id": 49406529, "comment_id": 85815157, "body": "@StefanGolubovi\u0107 thank for the suggestion buddy, I will edit the answer."}], "tags": [], "owner": {"reputation": 9151, "user_id": 3506946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lzcgg.png?s=128&g=1", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/3506946/dhaval-patel"}, "is_accepted": true, "score": 5, "last_activity_date": 1521637748, "last_edit_date": 1521637748, "creation_date": 1521635781, "answer_id": 49406529, "question_id": 49406350, "link": "https://stackoverflow.com/questions/49406350/android-kotlin-how-to-get-a-text-using-a-variable-id-within-getstring/49406529#49406529", "title": "Android | Kotlin | How to get a text using a variable ID within getString()", "body": "<p>Try below code, it will work for you:</p>\n\n<pre><code>fun AppCompatActivity.getString(name: String): String {\n   return resources.getString(resources.getIdentifier(name, \"string\", packageName))\n}\n\nUsage: val resource = getString($resourceName);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1957, "user_id": 3615605, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vBNcE.jpg?s=128&g=1", "display_name": "MathankumarK", "link": "https://stackoverflow.com/users/3615605/mathankumark"}, "edited": false, "score": 1, "creation_date": 1521636469, "post_id": 49406646, "comment_id": 85814487, "body": "Do you thing it will help her ? It&#39;s an integer parameter, We need  to pass an integer value (Resource ID). How can we concatenate an integer like this ?"}, {"owner": {"reputation": 1440, "user_id": 4894556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20db54bcfebf8d113947151830b76ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Shrenik Shah", "link": "https://stackoverflow.com/users/4894556/shrenik-shah"}, "reply_to_user": {"reputation": 1957, "user_id": 3615605, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vBNcE.jpg?s=128&g=1", "display_name": "MathankumarK", "link": "https://stackoverflow.com/users/3615605/mathankumark"}, "edited": false, "score": 0, "creation_date": 1521636658, "post_id": 49406646, "comment_id": 85814623, "body": "IDE won&#39;t throw error for it that is for sure but as i mentioned i haven&#39;t tried it and its just an idea"}, {"owner": {"reputation": 1440, "user_id": 4894556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20db54bcfebf8d113947151830b76ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Shrenik Shah", "link": "https://stackoverflow.com/users/4894556/shrenik-shah"}, "reply_to_user": {"reputation": 1957, "user_id": 3615605, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/vBNcE.jpg?s=128&g=1", "display_name": "MathankumarK", "link": "https://stackoverflow.com/users/3615605/mathankumark"}, "edited": false, "score": 0, "creation_date": 1521636730, "post_id": 49406646, "comment_id": 85814679, "body": "Dear readers and visitors do not down vote without trying it your self."}, {"owner": {"reputation": 85, "user_id": 2440506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eefff793257a7773b0885821c48b494?s=128&d=identicon&r=PG", "display_name": "user21681", "link": "https://stackoverflow.com/users/2440506/user21681"}, "edited": false, "score": 0, "creation_date": 1521664910, "post_id": 49406646, "comment_id": 85834079, "body": "I tried it and then I get these errors &quot;expecting an element&quot; and &quot;unresolved reference&quot; for the variable name. Any idea?"}], "tags": [], "owner": {"reputation": 1440, "user_id": 4894556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20db54bcfebf8d113947151830b76ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Shrenik Shah", "link": "https://stackoverflow.com/users/4894556/shrenik-shah"}, "is_accepted": false, "score": -2, "last_activity_date": 1521636169, "creation_date": 1521636169, "answer_id": 49406646, "question_id": 49406350, "link": "https://stackoverflow.com/questions/49406350/android-kotlin-how-to-get-a-text-using-a-variable-id-within-getstring/49406646#49406646", "title": "Android | Kotlin | How to get a text using a variable ID within getString()", "body": "<p>if you want to access string resource dynamically than you have to create pattern something like below</p>\n\n<p>string.xml</p>\n\n<pre><code>&lt;string name=\"abc\"&gt;Hello&lt;/string&gt;\n&lt;string name=\"abc1\"&gt;Hello1&lt;/string&gt;\n&lt;string name=\"abc2\"&gt;Hello2&lt;/string&gt;\n&lt;string name=\"abc3\"&gt;Hello3&lt;/string&gt;\n</code></pre>\n\n<p>java code</p>\n\n<pre><code>getString(R.string.abc+&lt;index&gt;)\n</code></pre>\n\n<p>this is just an idea, i haven't tried it.\nLet me know whether it works or fail.</p>\n\n<p>Happy Coding :)</p>\n"}], "owner": {"reputation": 85, "user_id": 2440506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eefff793257a7773b0885821c48b494?s=128&d=identicon&r=PG", "display_name": "user21681", "link": "https://stackoverflow.com/users/2440506/user21681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5226, "favorite_count": 0, "accepted_answer_id": 49406529, "answer_count": 2, "score": 5, "last_activity_date": 1521648048, "creation_date": 1521635244, "last_edit_date": 1521648048, "question_id": 49406350, "link": "https://stackoverflow.com/questions/49406350/android-kotlin-how-to-get-a-text-using-a-variable-id-within-getstring", "title": "Android | Kotlin | How to get a text using a variable ID within getString()", "body": "<p>I tried a lot of combinations, but somehow I don't get it.</p>\n\n<p>The id for the text I want to show is generated. </p>\n\n<p><strong>I need to write a variable here instead of a concrete id</strong>.</p>\n\n<p>So not: </p>\n\n<pre><code>getString(R.string.id_1)\n</code></pre>\n\n<p>But something like:</p>\n\n<pre><code>var myId = ... \ngetString(R.string.\"$myId\")\n</code></pre>\n\n<p>Do you know what I mean? What ever I tried I got an error that only an Int. </p>\n\n<p>How would you solve this in Kotlin?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication", "facebook-authentication"], "comments": [{"owner": {"reputation": 173, "user_id": 7456779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4WysF.jpg?s=128&g=1", "display_name": "SpKiwi", "link": "https://stackoverflow.com/users/7456779/spkiwi"}, "reply_to_user": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "edited": false, "score": 0, "creation_date": 1521636306, "post_id": 49405788, "comment_id": 85814374, "body": "I provided a little more info to the question. That is the issue. It&#39;s already done using LoginManager.getInstance().logInWithReadPermissions(...) to authenticate by facebook and implementing the onSuccess(...) and onCancel() callbacks."}, {"owner": {"reputation": 319, "user_id": 2956085, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/73256514bbfc95ba44fae4f042bdb7bb?s=128&d=identicon&r=PG", "display_name": "robinyapockets", "link": "https://stackoverflow.com/users/2956085/robinyapockets"}, "edited": false, "score": 0, "creation_date": 1534342437, "post_id": 49405788, "comment_id": 90673010, "body": "Were you able to solve this? I have a similar issue where the user can delete their Firebase Auth login, but not their facebook login manager credentials."}, {"owner": {"reputation": 173, "user_id": 7456779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4WysF.jpg?s=128&g=1", "display_name": "SpKiwi", "link": "https://stackoverflow.com/users/7456779/spkiwi"}, "reply_to_user": {"reputation": 319, "user_id": 2956085, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/73256514bbfc95ba44fae4f042bdb7bb?s=128&d=identicon&r=PG", "display_name": "robinyapockets", "link": "https://stackoverflow.com/users/2956085/robinyapockets"}, "edited": false, "score": 0, "creation_date": 1534419476, "post_id": 49405788, "comment_id": 90703488, "body": "Unfortunately no, didn&#39;t manage to find a way to do this."}, {"owner": {"reputation": 319, "user_id": 2956085, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/73256514bbfc95ba44fae4f042bdb7bb?s=128&d=identicon&r=PG", "display_name": "robinyapockets", "link": "https://stackoverflow.com/users/2956085/robinyapockets"}, "edited": false, "score": 0, "creation_date": 1534503123, "post_id": 49405788, "comment_id": 90738229, "body": "Thanks for the reply! I fixed my issue by updating all pods. I&#39;m sure you tried that already though.."}], "owner": {"reputation": 173, "user_id": 7456779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4WysF.jpg?s=128&g=1", "display_name": "SpKiwi", "link": "https://stackoverflow.com/users/7456779/spkiwi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521642944, "creation_date": 1521633517, "last_edit_date": 1521642944, "question_id": 49405788, "link": "https://stackoverflow.com/questions/49405788/firebase-authentication-after-user-had-been-deleted", "title": "Firebase authentication after user had been deleted", "body": "<p>I have an android application which uses Firebase Authentication via Facebook. A user can delete their account in the application using the following function:</p>\n\n<pre><code>override fun deleteUserAcc() {\n    val user = FirebaseAuth.getInstance().currentUser\n    val userToken = FacebookAuthProvider.getCredential(authTokenProvider.provideToken())\n    user?.reauthenticate(userToken)?.addOnCompleteListener { task -&gt;\n        user.delete()\n    }\n}\n</code></pre>\n\n<p>After this a user really gets deleted on the Firebase servers. However when they try to access the application again and log in one more time, they are not able to do this (their account with uid had been deleted and somehow they are not assigned a new one uid).</p>\n\n<p>The login function and the onSuccess callback are both implemented and called.</p>\n\n<pre><code>override fun login(): Completable {\n    LoginManager.getInstance().logInWithReadPermissions(\n            activityReference.get(),\n            listOf(\"public_profile\", \"user_birthday\", \"user_location\")\n    )\n    return CompletableSubject.create().apply {\n        loginSubject = this\n    }\n}\n\n\noverride fun onSuccess(result: LoginResult) {\n    val credential = FacebookAuthProvider.getCredential(result.accessToken.token)\n    authTokenProvider.saveToken(result.accessToken.token)\n    firebaseAuth.signInWithCredential(credential)\n            .addOnCompleteListener { task -&gt;\n                if (task.isSuccessful) {\n                    getInfoOnFirestore(loginSubject)\n                } else {\n                    loginSubject.onError(task.exception!!)\n                }\n            }\n}\n</code></pre>\n\n<p>What can possibly be the cause of the following issue?</p>\n"}, {"tags": ["kotlin", "token"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1521630795, "post_id": 49404800, "comment_id": 85810474, "body": "Casts in Kotlin use the <code>as</code> operator: <code>findViewById(...) as EditText</code>"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1521630981, "creation_date": 1521630981, "answer_id": 49404871, "question_id": 49404800, "link": "https://stackoverflow.com/questions/49404800/kotlin-complains-about-this-unexpected-tokens/49404871#49404871", "title": "Kotlin complains about this (Unexpected Tokens)", "body": "<p>If you're trying to specify the type of a variable, you can do it like this:</p>\n\n<pre><code>val editTextUsername: EditText = findViewById(R.id.email_edittext)\n</code></pre>\n\n<p>If you're below API level 26, and need a cast:</p>\n\n<pre><code>editTextUsername = findViewById(R.id.email_edittext) as EditText\n</code></pre>\n\n<p>If you already have the generic <code>findViewById</code> method because you're on a newer API level:</p>\n\n<pre><code>editTextUsername = findViewById&lt;EditText&gt;(R.id.email_edittext)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 7761491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9G4is.jpg?s=128&g=1", "display_name": "Berhanu Tarekegn", "link": "https://stackoverflow.com/users/7761491/berhanu-tarekegn"}, "is_accepted": false, "score": 0, "last_activity_date": 1521632793, "creation_date": 1521632793, "answer_id": 49405522, "question_id": 49404800, "link": "https://stackoverflow.com/questions/49404800/kotlin-complains-about-this-unexpected-tokens/49405522#49405522", "title": "Kotlin complains about this (Unexpected Tokens)", "body": "<p>if you are finding and casting view inside activity</p>\n\n<pre><code>editTextUserName = findViewById&lt;EditText&gt;(R.id.&lt;id&gt;) as EditText\n</code></pre>\n\n<p>or inside fragment use the ff</p>\n\n<pre><code>View view = inflater.inflate(R.layout.article_view, container, false);\n\neditTextUserName = view.findViewById&lt;EditText&gt;(R.id.&lt;id&gt;) as EditText\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9528168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d51f8943befc60cdcfd33194ef748a3?s=128&d=identicon&r=PG&f=1", "display_name": "LeALeg89", "link": "https://stackoverflow.com/users/9528168/lealeg89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2209, "favorite_count": 2, "accepted_answer_id": 49404871, "answer_count": 2, "score": 0, "last_activity_date": 1521632793, "creation_date": 1521630713, "question_id": 49404800, "link": "https://stackoverflow.com/questions/49404800/kotlin-complains-about-this-unexpected-tokens", "title": "Kotlin complains about this (Unexpected Tokens)", "body": "<p>In the following Kotlin code</p>\n\n<pre><code>   editTextUsername = EditText findViewById(R.id.email_edittext)\n</code></pre>\n\n<p>and the error is :</p>\n\n<p>Error:(70, 35) Unexpected tokens (use ';' to separate expressions on the same line)</p>\n\n<p>but i can not understand what did i do wrong.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 3, "last_activity_date": 1521630673, "creation_date": 1521630673, "answer_id": 49404787, "question_id": 49404719, "link": "https://stackoverflow.com/questions/49404719/recyclerview-is-not-showing-data-from-firebase-kotlin/49404787#49404787", "title": "Recyclerview is not showing data from Firebase Kotlin", "body": "<blockquote>\n  <p>Recyclerview is not showing data from Firebase Kotlin</p>\n</blockquote>\n\n<p>Because you are not adding any data inside your <strong><code>questions</code></strong> <code>ArrayList&lt;Question&gt;()</code></p>\n\n<p>check in your  code</p>\n\n<p>Try this</p>\n\n<pre><code>override fun onDataChange(dataSnapshot: DataSnapshot?) {\n            mRecyclerView.layoutManager = LinearLayoutManager(this@MainActivity)\n            mRecyclerView.setHasFixedSize(true)\n            val  questions = ArrayList&lt;Question&gt;()\n            val adapter = QuestionAdapter(questions)\n           // add data here inside your questions ArrayList&lt;Question&gt;()\n            mRecyclerView.adapter = adapter\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "reply_to_user": {"reputation": 125, "user_id": 9412929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android", "link": "https://stackoverflow.com/users/9412929/android"}, "edited": false, "score": 0, "creation_date": 1521632305, "post_id": 49405028, "comment_id": 85811546, "body": "when you copy getItemCount() method into adapter it automatic convert into kotlin. and also check your firebase database store question class data and check onDataChange method give data or not."}, {"owner": {"reputation": 125, "user_id": 9412929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android", "link": "https://stackoverflow.com/users/9412929/android"}, "edited": false, "score": 1, "creation_date": 1521632394, "post_id": 49405028, "comment_id": 85811607, "body": "I know but this line, I can&#39;t convert and it&#39;s not working &quot;questions.addAll(dataSnapshot.getValue(Question.class));&quot;"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "reply_to_user": {"reputation": 125, "user_id": 9412929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android", "link": "https://stackoverflow.com/users/9412929/android"}, "edited": false, "score": 0, "creation_date": 1521632803, "post_id": 49405028, "comment_id": 85811872, "body": "sorry for that you can add this line    val question = dataSnapshot.getValue(Question::class.java)                 questions.add(question)"}, {"owner": {"reputation": 125, "user_id": 9412929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android", "link": "https://stackoverflow.com/users/9412929/android"}, "edited": false, "score": 0, "creation_date": 1521632915, "post_id": 49405028, "comment_id": 85811969, "body": "sorry that i&#39;m bothering you, val question = dataSnapshot.getValue(Question::class.java)  is instead of  val  questions = ArrayList&lt;Question&gt;() ?"}, {"owner": {"reputation": 125, "user_id": 9412929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android", "link": "https://stackoverflow.com/users/9412929/android"}, "edited": false, "score": 0, "creation_date": 1521633105, "post_id": 49405028, "comment_id": 85812094, "body": "i don&#39;t know still nothing. would mind if i would start a discussion chat with you ?"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "reply_to_user": {"reputation": 125, "user_id": 9412929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android", "link": "https://stackoverflow.com/users/9412929/android"}, "edited": false, "score": 0, "creation_date": 1521633356, "post_id": 49405028, "comment_id": 85812254, "body": "you can check onDataChange Method call or not.then check you firebase data base node is given question data or not."}], "tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 1, "last_activity_date": 1521633228, "last_edit_date": 1521633228, "creation_date": 1521631363, "answer_id": 49405028, "question_id": 49404719, "link": "https://stackoverflow.com/questions/49404719/recyclerview-is-not-showing-data-from-firebase-kotlin/49405028#49405028", "title": "Recyclerview is not showing data from Firebase Kotlin", "body": "<p>i hope in your adater define getItemCount() method then you can change below code ...</p>\n\n<pre><code>private fun populalteQuestionsList() {\n    val mChatDatabaseReference = FirebaseDatabase.getInstance().reference.child(Constants.USERS).child(mUserID).child(Constants.CHAT).child(Constants.QUESTION)\n    val query = mChatDatabaseReference.orderByChild(\"time\")\n    query.addListenerForSingleValueEvent(object: ValueEventListener {\n        override fun onDataChange(dataSnapshot: DataSnapshot?) {\n            mRecyclerView.layoutManager = LinearLayoutManager(this@MainActivity)\n            mRecyclerView.setHasFixedSize(true)\n            val  questions = ArrayList&lt;Question&gt;()\n            val question = dataSnapshot.getValue(Question::class.java)\n            questions.add(question)\n            val adapter = QuestionAdapter(questions)\n            mRecyclerView.adapter = adapter\n            adapter.notifyDataSetChanged()        \n        }\n        override fun onCancelled(error: DatabaseError?) {\n        }\n    })\n}\n</code></pre>\n\n<p>and i hope in adapter have below method ...</p>\n\n<pre><code>@Override\npublic int getItemCount() {\n    return items.size();\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 9412929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "android", "link": "https://stackoverflow.com/users/9412929/android"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1028, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1538541367, "creation_date": 1521630493, "last_edit_date": 1521643019, "question_id": 49404719, "link": "https://stackoverflow.com/questions/49404719/recyclerview-is-not-showing-data-from-firebase-kotlin", "title": "Recyclerview is not showing data from Firebase Kotlin", "body": "<p>As title says, I'm using since yesterday <strong>Kotlin</strong>. I want to populate a <strong>RecyclerView</strong> with data from <strong>Firebase</strong>.</p>\n\n<p>I tried something, I built an Adapter and tried to populate the <strong>RecyclerView</strong>, my data is going to Firebasebase but not showing in the <strong>RecyclerView</strong> and I get no errors.</p>\n\n<p>I couldn't find any tutorials for my problem with <strong>Kotlin</strong> language</p>\n\n<p><strong>Here is my Adapter:</strong></p>\n\n<pre><code>class QuestionAdapter(var items : ArrayList&lt;Question&gt;): RecyclerView.Adapter&lt;QuestionAdapter.ViewHolder&gt;() {\n\noverride fun getItemCount(): Int {\n    return items.size\n}\n\noverride fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n    var userDto = items[position]\n    holder?.titleTextView?.text = userDto.titlu\n    holder?.msgTextView?.text = userDto.uid\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n    val itemView = LayoutInflater.from(parent?.context)\n            .inflate(R.layout.conv_layout, parent, false)\n\n    return ViewHolder(itemView)\n}\n\nclass ViewHolder(row: View) : RecyclerView.ViewHolder(row) {\n    var titleTextView: TextView? = null\n    var msgTextView: TextView? = null\n\n    init {\n        this.titleTextView = row?.findViewById&lt;TextView&gt;(R.id.titleTextView)\n        this.msgTextView = row?.findViewById&lt;TextView&gt;(R.id.msgTextView)\n    }\n}\n}\n</code></pre>\n\n<p>And here is my code for Activity:</p>\n\n<pre><code> private fun populalteQuestionsList() {\n    val mChatDatabaseReference = FirebaseDatabase.getInstance().reference.child(Constants.USERS).child(mUserID).child(Constants.CHAT).child(Constants.QUESTION)\n    val query = mChatDatabaseReference.orderByChild(\"time\")\n    query.addListenerForSingleValueEvent(object: ValueEventListener {\n        override fun onDataChange(dataSnapshot: DataSnapshot?) {\n            mRecyclerView.layoutManager = LinearLayoutManager(this@MainActivity)\n            mRecyclerView.setHasFixedSize(true)\n            val  questions = ArrayList&lt;Question&gt;()\n            val adapter = QuestionAdapter(questions)\n            mRecyclerView.adapter = adapter\n        }\n        override fun onCancelled(error: DatabaseError?) {\n        }\n    })\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1521626489, "post_id": 49403199, "comment_id": 85807516, "body": "Can you provide some context? What surrounds your first code snippet?"}, {"owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1521626763, "post_id": 49403199, "comment_id": 85807681, "body": "@zsmb13 Edited topic with code"}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1521633101, "post_id": 49403199, "comment_id": 85812090, "body": "Is SaveCallback an interface with one method?"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "edited": false, "score": 0, "creation_date": 1521627123, "post_id": 49403474, "comment_id": 85807949, "body": "Thanks a lot Kevin!"}], "tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": true, "score": 4, "last_activity_date": 1521627142, "last_edit_date": 1521627142, "creation_date": 1521627038, "answer_id": 49403474, "question_id": 49403199, "link": "https://stackoverflow.com/questions/49403199/cannot-override-fun-done/49403474#49403474", "title": "Cannot override fun done()", "body": "<p>Just do like that:</p>\n\n<pre><code>exampleObject.saveInBackground(object : SaveCallback {\n    override fun done(e: ParseException?) {\n        // Add your code here\n    }\n})\n</code></pre>\n\n<p>In Java, you declare an anonymous class that extend <code>SaveCallback</code>. In Kotlin, you do this with <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">Object Expressions</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "is_accepted": false, "score": 2, "last_activity_date": 1521627402, "creation_date": 1521627402, "answer_id": 49403599, "question_id": 49403199, "link": "https://stackoverflow.com/questions/49403199/cannot-override-fun-done/49403599#49403599", "title": "Cannot override fun done()", "body": "<p>you can also try the simplest solution like this </p>\n\n<pre><code> exampleObject.saveInBackground({ \n //you code here\n  })\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions</a></p>\n"}], "owner": {"reputation": 75, "user_id": 8748206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yk2DT.jpg?s=128&g=1", "display_name": "Jurgiele", "link": "https://stackoverflow.com/users/8748206/jurgiele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 876, "favorite_count": 1, "accepted_answer_id": 49403474, "answer_count": 2, "score": 2, "last_activity_date": 1521627402, "creation_date": 1521626367, "last_edit_date": 1521626742, "question_id": 49403199, "link": "https://stackoverflow.com/questions/49403199/cannot-override-fun-done", "title": "Cannot override fun done()", "body": "<p>I'm trying to save object in background by using Parse.com but I can't override </p>\n\n<pre><code>   override fun done(e: ParseException?) {\n    //code\n                  }\n</code></pre>\n\n<p>I'm getting error: <code>Modifier 'override' is not applicable to 'local function</code>\nIn java I would use:</p>\n\n<pre><code>myObject.saveInBackground(new SaveCallback() {\n    public void done(ParseException e) {\n      if (e == null) {\n        myObjectSavedSuccessfully();\n      } else {\n       myObjectSaveDidNotSucceed();\n      }\n   }\n  });\n</code></pre>\n\n<p>Here is my whole class</p>\n\n<pre><code>class StarterApplication : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n\n        Parse.initialize(Parse.Configuration.Builder(this)\n                .applicationId(appID)\n                .clientKey(null)\n                .server(serverUrl)\n                .build()\n        )\n\n        var exampleObject: ParseObject = ParseObject(\"ExampleObject\")\n        exampleObject.put(\"myString\", \"fwfwe\")\n        exampleObject.saveInBackground( {\n               override fun done(e: ParseException?) { //here is an error //`Modifier 'override' is not applicable to 'local function`\n\n              }\n\n     })\n    }\n}\n</code></pre>\n"}, {"tags": ["inheritance", "kotlin", "pojo", "data-class"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 5, "last_activity_date": 1521624637, "creation_date": 1521624637, "answer_id": 49402543, "question_id": 49402358, "link": "https://stackoverflow.com/questions/49402358/inheritance-of-data-class-in-kotlin/49402543#49402543", "title": "Inheritance of data class in Kotlin", "body": "<p>In Kotlin, you can't inherit from a data class because there is no sensible way for the compiler to generate all the methods that are automatically provided for data classes. </p>\n\n<p>In Java, there are no compiler-generated implementations of methods such as <code>equals</code>, <code>hashCode</code> and <code>toString</code>, and you're free to implement them in a way which would be the most sensible in your situation. Therefore, there's no reason why it would be wrong to inherit from a POJO.</p>\n"}, {"comments": [{"owner": {"reputation": 1969, "user_id": 1283501, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ccddd369227d688fdb62ee65b21a88d2?s=128&d=identicon&r=PG", "display_name": "Wolf359", "link": "https://stackoverflow.com/users/1283501/wolf359"}, "edited": false, "score": 0, "creation_date": 1523478133, "post_id": 49402596, "comment_id": 86583116, "body": "What if we don&#39;t want the Kotlin compiler to generate getter / setter methods (like a Pojo with public fields for example) ?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1969, "user_id": 1283501, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ccddd369227d688fdb62ee65b21a88d2?s=128&d=identicon&r=PG", "display_name": "Wolf359", "link": "https://stackoverflow.com/users/1283501/wolf359"}, "edited": false, "score": 1, "creation_date": 1523505907, "post_id": 49402596, "comment_id": 86590619, "body": "You can annotate each property with the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-field/index.html\" rel=\"nofollow noreferrer\"><code>@JvmField</code></a> annotation to do this. Doesn&#39;t change the syntax to access the properties in Kotlin, but you get direct field access instead of getters/setters in Java."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 10, "last_activity_date": 1521624771, "creation_date": 1521624771, "answer_id": 49402596, "question_id": 49402358, "link": "https://stackoverflow.com/questions/49402358/inheritance-of-data-class-in-kotlin/49402596#49402596", "title": "Inheritance of data class in Kotlin", "body": "<p>A <code>data class</code> is not the equivalent of a POJO, it does more than that, which is why its inheritance is restricted. </p>\n\n<p>Take a simple POJO:</p>\n\n<pre><code>public class User {\n\n    private String name;\n    private int age;\n\n    public String getName() { return name; }\n    public int getAge() { return age; }\n\n    public void setName(final String name) { this.name = name; }\n    public void setAge(final int age) { this.age = age; }\n\n    public User(final String name, final int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n}\n</code></pre>\n\n<p>The equivalent of this in Kotlin is <em>not</em> a data class, but just a simple class like this:</p>\n\n<pre><code>class User(var name: String, var age: Int)\n</code></pre>\n\n<p>This will create two mutable properties (fields, plus getters and setters), and the constructor. This is already equivalent to the above POJO.</p>\n\n<p>What adding the <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"noreferrer\"><code>data</code></a> modifier does on top of this is generate <code>equals</code>, <code>hashCode</code>, <code>toString</code> methods. It also adds some Kotlin-specific methods: <code>componentN</code> methods for <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html#destructuring-declarations\" rel=\"noreferrer\">destructuring declarations</a>, and the <code>copy</code> method.</p>\n\n<p>These generated methods, specifically the first three mentioned above get complicated to define if data classes inherit from each other. See this in detail in the <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/data-class-inheritance.md\" rel=\"noreferrer\">KEEP</a> about this topic. See also <a href=\"https://stackoverflow.com/questions/35921234/kotlin-sealed-class-cannot-contain-data-classes-why\">this</a> and <a href=\"https://blog.jetbrains.com/kotlin/2015/09/feedback-request-limitations-on-data-classes/\" rel=\"noreferrer\">this</a> discussion on the topic.</p>\n"}], "owner": {"reputation": 615, "user_id": 1869957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aWO2N.jpg?s=128&g=1", "display_name": "Dinesh Singh", "link": "https://stackoverflow.com/users/1869957/dinesh-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4109, "favorite_count": 0, "accepted_answer_id": 49402596, "answer_count": 2, "score": 1, "last_activity_date": 1521624771, "creation_date": 1521624120, "question_id": 49402358, "link": "https://stackoverflow.com/questions/49402358/inheritance-of-data-class-in-kotlin", "title": "Inheritance of data class in Kotlin", "body": "<p>I know that there are limitations in Kotlin to inherit from a data class. I learn't more while going through this <a href=\"https://discuss.kotlinlang.org/t/data-class-inheritance/4107\" rel=\"nofollow noreferrer\">discussion</a>.</p>\n\n<p>As data class in Kotlin are similar to POJO in Java. Should we not follow inheritance in Java POJO classes as well? To sum it up, is it because of the limitations in Kotlin that we are are not allowed to inherit from data classes or there is a flaw in design if you are doing so.</p>\n\n<p>To break it down into a simpler question. Is it wrong to inherit from a POJO class in Java?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "edited": false, "score": 0, "creation_date": 1553187269, "post_id": 49402039, "comment_id": 97300848, "body": "I think it makes sense to create an extension function"}], "tags": [], "owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "is_accepted": true, "score": 40, "last_activity_date": 1529899643, "last_edit_date": 1529899643, "creation_date": 1521623083, "answer_id": 49402039, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/49402039#49402039", "title": "How to set visibility in Kotlin?", "body": "<p>In response to this answer, I believe a Kotlin-styled way to accomplish this can also be written as:</p>\n\n<pre><code>fun showHide(view:View) {\n    view.visibility = if (view.visibility == View.VISIBLE){\n        View.INVISIBLE\n    } else{\n        View.VISIBLE\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 9, "last_activity_date": 1521623171, "creation_date": 1521623171, "answer_id": 49402058, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/49402058#49402058", "title": "How to set visibility in Kotlin?", "body": "<p>You could do this in an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"noreferrer\">extension function</a>:</p>\n\n<pre><code>fun View.toggleVisibility() {\n    if (visibility == View.VISIBLE) {\n        visibility = View.INVISIBLE\n    } else {\n        visibility = View.VISIBLE\n    }\n}\n</code></pre>\n\n<p>Can be used like this:</p>\n\n<pre><code>someView.toggleVisibility()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1708, "user_id": 2043395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/030b3c97421c19ff583fcb2a244f6cef?s=128&d=identicon&r=PG", "display_name": "Cao Minh Vu", "link": "https://stackoverflow.com/users/2043395/cao-minh-vu"}, "is_accepted": false, "score": 4, "last_activity_date": 1521623253, "creation_date": 1521623253, "answer_id": 49402085, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/49402085#49402085", "title": "How to set visibility in Kotlin?", "body": "<p>You can convert using Android Studio: Click on the Java file you want to convert, choose Code -> Convert Java File To Kotlin File and see the magic.\nThe result is:</p>\n\n<pre><code>fun showHide(view: View) {\n        if (view.visibility == View.VISIBLE) {\n            view.visibility = View.INVISIBLE\n        } else {\n            view.visibility = View.VISIBLE\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1798, "user_id": 5225247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0d5fb959272a6b5703b5f6eb5c0bd7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Aalap Patel", "link": "https://stackoverflow.com/users/5225247/aalap-patel"}, "edited": false, "score": 0, "creation_date": 1525269729, "post_id": 49433931, "comment_id": 87291211, "body": "good explaination.. So in kotlin <code>visible ? View.VISIBLE : View.GONE</code> doesnt work instead we have to write if else statements in one line. ?"}, {"owner": {"reputation": 1450, "user_id": 7784230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5248e600744cd2c04080634b1bc9a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Kaushik", "link": "https://stackoverflow.com/users/7784230/hemant-kaushik"}, "reply_to_user": {"reputation": 1798, "user_id": 5225247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0d5fb959272a6b5703b5f6eb5c0bd7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Aalap Patel", "link": "https://stackoverflow.com/users/5225247/aalap-patel"}, "edited": false, "score": 0, "creation_date": 1525272610, "post_id": 49433931, "comment_id": 87293314, "body": "No need of if/else, just call anyView.visibleOrGone(true/false) directly."}], "tags": [], "owner": {"reputation": 1450, "user_id": 7784230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5248e600744cd2c04080634b1bc9a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Kaushik", "link": "https://stackoverflow.com/users/7784230/hemant-kaushik"}, "is_accepted": false, "score": 2, "last_activity_date": 1521736475, "creation_date": 1521736475, "answer_id": 49433931, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/49433931#49433931", "title": "How to set visibility in Kotlin?", "body": "<p>This is how I handle view's visibility in Kotlin. These methods can be called on any subclass of <code>View</code> class. E.g. <code>LinearLayout</code>, <code>TextView</code> etc.</p>\n\n<p><strong>VISIBLE / GONE:</strong></p>\n\n<pre><code>// @BindingAdapter(\"visibleOrGone\")\nfun View.visibleOrGone(visible: Boolean) {\n    visibility = if(visible) View.VISIBLE else View.GONE\n}\n</code></pre>\n\n<p><strong>VISIBLE / INVISIBLE:</strong></p>\n\n<pre><code>// @BindingAdapter(\"visibleOrInvisible\")\nfun View.visibleOrInvisible(visible: Boolean) {\n    visibility = if(visible) View.VISIBLE else View.INVISIBLE\n}\n</code></pre>\n\n<p><strong>Databinding:</strong>\nUncomment <code>@BindingAdapter</code> if you also want to use above methods with  databinding.</p>\n\n<pre><code>&lt;FrameLayout\n    app:visibleOrGone=\"@{viewModel.visibleView}\"\n    ...\n    /&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;EditText\n    app:visibleOrInvisible=\"@{viewModel.visibleView}\"\n    ...\n    /&gt;\n</code></pre>\n\n<p>My <code>ViewModel</code> class looks like this:</p>\n\n<pre><code>class LoginViewModel {\n    val visibleView = ObservableBoolean()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1146, "user_id": 10211127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b76fcb38d289a2261fc1cd8430ef7d9?s=128&d=identicon&r=PG&f=1", "display_name": "jo jo", "link": "https://stackoverflow.com/users/10211127/jo-jo"}, "is_accepted": false, "score": 1, "last_activity_date": 1536653082, "creation_date": 1536653082, "answer_id": 52271386, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/52271386#52271386", "title": "How to set visibility in Kotlin?", "body": "<p>You can use from bellow code:</p>\n\n<pre><code>fun View.isVisible(): Boolean {\n    return visibility == View.VISIBLE\n}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>fun View.setVisible(visible: Boolean) {\n    visibility = if (visible) {\n        View.VISIBLE\n    } else {\n        View.GONE\n    }\n}\n</code></pre>\n\n<p>And you can use:</p>\n\n<pre><code>if (text_view.isVisible()) {\n    text_view.setVisible(false)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11044, "user_id": 313042, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/43af957409ca71e6da4f6010c90f566c?s=128&d=identicon&r=PG", "display_name": "rajath", "link": "https://stackoverflow.com/users/313042/rajath"}, "is_accepted": false, "score": 3, "last_activity_date": 1555291189, "creation_date": 1555291189, "answer_id": 55681527, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/55681527#55681527", "title": "How to set visibility in Kotlin?", "body": "<p>A simple way in Kotlin:</p>\n\n<pre><code>fun toggleView(view: View) {\n    view.isVisible = !view.isVisible\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 401, "user_id": 11309536, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MoMOJS0jjVA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdTlDMxqCUxMQ0wTIvBAXHyfldyAA/mo/photo.jpg?sz=128", "display_name": "Om Prakash Sharma", "link": "https://stackoverflow.com/users/11309536/om-prakash-sharma"}, "is_accepted": false, "score": 27, "last_activity_date": 1555674163, "creation_date": 1555674163, "answer_id": 55761295, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/55761295#55761295", "title": "How to set visibility in Kotlin?", "body": "<p>if you want to visible icon</p>\n\n<pre><code> ic_back.visibility = View.VISIBLE\n</code></pre>\n\n<p>and if you want to visibility GONE so please try it : </p>\n\n<pre><code>ic_back.visibility = View.GONE\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 8945078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215398012164405/picture?type=large", "display_name": "Thiago Silva", "link": "https://stackoverflow.com/users/8945078/thiago-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1587413453, "creation_date": 1587413453, "answer_id": 61331193, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/61331193#61331193", "title": "How to set visibility in Kotlin?", "body": "<p>You can get the visibility state of a view with the command .isVisible</p>\n\n<p>I\u00b4ll show you how.</p>\n\n<pre><code>   val menu: ConstraintLayout = findViewById(R.id.layMenu)\n\n    if (menu.isVisible==false){\n        //view is not visible\n    } else {\n        //view is visible\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 7710234, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211017026075062/picture?type=large", "display_name": "Nenad \u0160trbi\u0107", "link": "https://stackoverflow.com/users/7710234/nenad-%c5%a0trbi%c4%87"}, "edited": false, "score": 0, "creation_date": 1615746539, "post_id": 63859364, "comment_id": 117781056, "body": "that&#39;s it, why have more code, when you can do less :L) thanks, wanted to post this, but I did not when I saw your answer.. thank you"}], "tags": [], "owner": {"reputation": 134, "user_id": 1553748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KPuMw.png?s=128&g=1", "display_name": "pisumathu", "link": "https://stackoverflow.com/users/1553748/pisumathu"}, "is_accepted": false, "score": 9, "last_activity_date": 1599906553, "creation_date": 1599906553, "answer_id": 63859364, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/63859364#63859364", "title": "How to set visibility in Kotlin?", "body": "<p>You can simply do it.</p>\n<pre><code>idTextview.isVisible = true\nidTextview.isVisible = false\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2676, "user_id": 4187541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bef02774dcdbacad792e3b7850710bcc?s=128&d=identicon&r=PG", "display_name": "peterchaula", "link": "https://stackoverflow.com/users/4187541/peterchaula"}, "is_accepted": false, "score": 1, "last_activity_date": 1604303651, "creation_date": 1604303651, "answer_id": 64641666, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin/64641666#64641666", "title": "How to set visibility in Kotlin?", "body": "<p>If the View is visible initially, one can use the xor operator to toggle the visibility.</p>\n<pre><code>view.visibility = view.visibility.xor(View.GONE)\n</code></pre>\n<p>The correct way however is to use the inline var <code>View.isVisible</code>:</p>\n<pre><code>view.isVisible = !isVisible\n\n\ninline var View.isVisible: Boolean\n    get() = visibility == View.VISIBLE\n    set(value) {\n        visibility = if (value) View.VISIBLE else View.GONE\n    }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9238054"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58795, "favorite_count": 1, "accepted_answer_id": 49402039, "answer_count": 10, "score": 34, "last_activity_date": 1604303651, "creation_date": 1521622979, "last_edit_date": 1587401253, "question_id": 49402001, "link": "https://stackoverflow.com/questions/49402001/how-to-set-visibility-in-kotlin", "title": "How to set visibility in Kotlin?", "body": "<p>I am new in <strong>Kotlin</strong>. I have a view that I need to show or hide in conditional ways.<br>\nHow can I do this in Kotlin?</p>\n\n<p><strong>In Java:</strong></p>\n\n<pre><code>public void showHide(View view){\n    if (view.getVisibility() == View.VISIBLE) {\n        view.setVisibility(View.INVISIBLE);\n    } else {\n        view.setVisibility(View.VISIBLE);\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "c", "android-ndk", "kotlin"], "comments": [{"owner": {"reputation": 362978, "user_id": 28169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG", "display_name": "unwind", "link": "https://stackoverflow.com/users/28169/unwind"}, "edited": false, "score": 2, "creation_date": 1521623334, "post_id": 49401934, "comment_id": 85805380, "body": "Typically problems like this stem from some kind of stack limit in the environment, but the exception you get doesn&#39;t sound like that. Anyway, no reason to use an automatic variable for this, try heap-allocating it instead using <code>calloc()</code> or move it to file scope."}], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 5732539, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/6RUuh.jpg?s=128&g=1", "display_name": "Gre\u015fanu Emanuel - Vasile", "link": "https://stackoverflow.com/users/5732539/gre%c5%9fanu-emanuel-vasile"}, "is_accepted": true, "score": 1, "last_activity_date": 1521624124, "creation_date": 1521624124, "answer_id": 49402360, "question_id": 49401934, "link": "https://stackoverflow.com/questions/49401934/android-ndk-char-array-initializing-more-than-1mb/49402360#49402360", "title": "Android NDK char array initializing more than 1Mb", "body": "<p>Thanks <a href=\"https://stackoverflow.com/users/28169/unwind\">unwind</a>, you saved me. Now it works fine. Here is the correct code:</p>\n\n<pre><code>JNICALL\nJava_project_vasile_emanuel_gresanu_overwrite_1intrnal_1externals_1storage_utils_my_threads_WiperWorkerImpl_executeWiping(\n        JNIEnv *env, jclass clazz, jint fd, jlong bufferSize, jint patterntoWrite = 0) {\n\n    char str[80];\n    sprintf(str, \"FileDescriptor Primit = %d\", fd);\n    ALOG(str, __LINE__);\n\n    if (fd_is_valid(fd)) {\n\n        char *buf = (char*) calloc(bufferSize, sizeof(char));//allocate buffer. Now it doesn't matter how big is the buffer\n        for(int i=0;i&lt;bufferSize;i++)\n        {\n            buf[i] = 0;\n        }\n\n        while (true) {\n            if (0 &lt; write(fd, buf, (size_t) bufferSize)) {// write to file\n                if (0 &gt; fsync(fd)) //write to the raw disk\n                {\n                    ALOG(\"Cred ca am ajuns la capatul de scriere.\", __LINE__);\n                    break;\n                }\n            } else {\n                ALOG(\"Cred ca am ajuns la capatul de scriere.\", __LINE__);\n                break;\n            }\n        }\n        return JNI_TRUE;\n    } else {\n        ALOG(\"Sunt probleme cu file descriptorul primit!\", __LINE__);\n    }\n\n    return JNI_FALSE;\n}\n</code></pre>\n"}], "owner": {"reputation": 927, "user_id": 5732539, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/6RUuh.jpg?s=128&g=1", "display_name": "Gre\u015fanu Emanuel - Vasile", "link": "https://stackoverflow.com/users/5732539/gre%c5%9fanu-emanuel-vasile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 49402360, "answer_count": 1, "score": 0, "last_activity_date": 1521624124, "creation_date": 1521622738, "last_edit_date": 1521623147, "question_id": 49401934, "link": "https://stackoverflow.com/questions/49401934/android-ndk-char-array-initializing-more-than-1mb", "title": "Android NDK char array initializing more than 1Mb", "body": "<p>I have a problem initializing one simple char array. ( With values of 0's ) The size of the char array is higher and/or equal to 2Mb. I already searched the internet and read everything I could find (from <a href=\"https://stackoverflow.com/questions/745152/what-is-the-maximum-size-of-buffers-memcpy-memset-etc-can-handle\">What is the maximum size of buffers memcpy/memset etc. can handle?</a> to ... I don't know) and tried many different processes ( from trying to append values into the char array to trying to ... ). The purpose of this code is to write into a file using C library ( NDK ). The snipper that is being shown below works fine if I try to write values equal or lower then 1Mb. Please help me with suggestions that could replace \"memset\". Here is a sample code:</p>\n\n<p>My c library:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;linux/errno.h&gt;\n#include &lt;errno.h&gt;\n#include &lt;fcntl.h&gt;\n\n\n#define APPNAME \"AppLogger2\"\n\n#define  ALOG(...)  __android_log_print(ANDROID_LOG_INFO,APPNAME,__VA_ARGS__)\n\nint fd_is_valid(int fd) {\n    return fcntl(fd, F_GETFD) != -1 || errno != EBADF;\n}\n\n\nextern \"C\"\nJNIEXPORT jboolean\n\n\nJNICALL\nJava_project_vasile_emanuel_gresanu_overwrite_1intrnal_1externals_1storage_utils_my_threads_WiperWorkerImpl_executeWiping(\n        JNIEnv *env, jclass clazz, jint fd, jlong bufferSize, jint patterntoWrite = 0) {\n\n    char str[80];\n    sprintf(str, \"FileDescriptor Primit = %d\", fd);\n    ALOG(str, __LINE__);\n\n    if (fd_is_valid(fd)) {\n        char buf[bufferSize];//allocate buffer\n        memset(buf, patterntoWrite, (size_t) bufferSize);// init buffer\n\n        while (true) {\n            if (0 &lt; write(fd, buf, (size_t) bufferSize)) {// write to file\n                if (0 &gt; fsync(fd)) //write to the raw disk\n                {\n                    ALOG(\"Cred ca am ajuns la capatul de scriere.\", __LINE__);\n                    break;\n                }\n            } else {\n                ALOG(\"Cred ca am ajuns la capatul de scriere.\", __LINE__);\n                break;\n            }\n        }\n        return JNI_TRUE;\n    } else {\n        ALOG(\"Sunt probleme cu file descriptorul primit!\", __LINE__);\n    }\n\n    return JNI_FALSE;\n}\n</code></pre>\n\n<p>Thre Java code:</p>\n\n<pre><code>class WiperWorkerImpl(val pathToFile: DocumentFile, ...): Runnable{\n\n    companion object {\n\n        const val useCExternalFunctionToOverWriteSpace = true\n\n        // Used to load the 'native-lib' library on application startup.\n        init {\n            System.loadLibrary(\"native-lib\")\n        }\n    }\n\n    /**\n     * A native method that is implemented by the 'native-lib' native library,\n     * which is packaged with this application.\n     */\n    external fun executeWiping(fileDescriptorValue: Int, bytesToWrite:Long, patternToUse:Int): Boolean\n\n\noverride fun run() {\nval pfd: ParcelFileDescriptor = contentResolver.openFileDescriptor(pathToFile.uri, \"w\")\n                        if(checkTheRamSpaceForTheBytestThatAreGoingToBeWritten(bytesPerBlockToWriteLocalThread.get())) {\n                            if (executeWiping(pfd.fd, bytesPerBlockToWriteLocalThread.get(), 0)) {\n                                AppLogger.i(\"WiperWorkerImpl. Finish with success\")\n                            } else {\n                                AppLogger.e(\"WiperWorkerImpl. Finished with error!\")\n                            }\n                        }\n                        closeFileDescriptor(pfd)\n}\n\n}\n</code></pre>\n\n<p>The error:\n<a href=\"https://i.stack.imgur.com/kxGIR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kxGIR.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 2054, "user_id": 8867002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6vVST.png?s=128&g=1", "display_name": "Jyoti JK", "link": "https://stackoverflow.com/users/8867002/jyoti-jk"}, "edited": false, "score": 1, "creation_date": 1521622045, "post_id": 49401620, "comment_id": 85804569, "body": "did you try <code>android.resource:&#47;&#47;com.example.myapp&#47;drawable&#47;image27</code> directly"}, {"owner": {"reputation": 85, "user_id": 2440506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eefff793257a7773b0885821c48b494?s=128&d=identicon&r=PG", "display_name": "user21681", "link": "https://stackoverflow.com/users/2440506/user21681"}, "reply_to_user": {"reputation": 2054, "user_id": 8867002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6vVST.png?s=128&g=1", "display_name": "Jyoti JK", "link": "https://stackoverflow.com/users/8867002/jyoti-jk"}, "edited": false, "score": 0, "creation_date": 1521636071, "post_id": 49401620, "comment_id": 85814209, "body": "Yes. Then there is no attachment at all. And when I write it without the file extension &#39;.png&#39; a file with correct name is attached, but you are not able to open it"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 2440506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eefff793257a7773b0885821c48b494?s=128&d=identicon&r=PG", "display_name": "user21681", "link": "https://stackoverflow.com/users/2440506/user21681"}, "edited": false, "score": 0, "creation_date": 1521635547, "post_id": 49402131, "comment_id": 85813828, "body": "ok great. I understand. I already found <code>ContentResolver.openInputStream(shareImageURI)</code> but it does not work like that in Kotlin. Do you know how to use this?"}, {"owner": {"reputation": 2334, "user_id": 3734172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-11BdfkCrM24/AAAAAAAAAAI/AAAAAAAAACA/eD3PtIY7Imw/photo.jpg?sz=128", "display_name": "Iulian Popescu", "link": "https://stackoverflow.com/users/3734172/iulian-popescu"}, "reply_to_user": {"reputation": 85, "user_id": 2440506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eefff793257a7773b0885821c48b494?s=128&d=identicon&r=PG", "display_name": "user21681", "link": "https://stackoverflow.com/users/2440506/user21681"}, "edited": false, "score": 0, "creation_date": 1521704624, "post_id": 49402131, "comment_id": 85846825, "body": "Well, as I already said, you can&#39;t share a drawable because of the Sandbox (it is only visible to you app). You can have a look here to see a few ways on how you can share it (<a href=\"https://www.youtube.com/watch?v=h9TunRURWNU\" rel=\"nofollow noreferrer\">youtube.com/watch?v=h9TunRURWNU</a>), but you have to store the file in the external storage.  An alternative would ve something like this <a href=\"https://stackoverflow.com/a/36212192/3734172\">stackoverflow.com/a/36212192/3734172</a>, but this approach is more of a &quot;hack&quot; than an actual solution. The proper way to do it is to save it on external storage and then use the path to share it."}], "tags": [], "owner": {"reputation": 2334, "user_id": 3734172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-11BdfkCrM24/AAAAAAAAAAI/AAAAAAAAACA/eD3PtIY7Imw/photo.jpg?sz=128", "display_name": "Iulian Popescu", "link": "https://stackoverflow.com/users/3734172/iulian-popescu"}, "is_accepted": false, "score": 0, "last_activity_date": 1521623375, "creation_date": 1521623375, "answer_id": 49402131, "question_id": 49401620, "link": "https://stackoverflow.com/questions/49401620/send-image-via-share-sends-only-a-strange-number-and-no-file-extension/49402131#49402131", "title": "Send Image via Share : Sends only a strange number and no file extension", "body": "<p>That behaviour is intended. What are you trying to do right now is to share a drawable from you app, but I don't think this will work since every <a href=\"https://developer.android.com/training/articles/security-tips.html\" rel=\"nofollow noreferrer\">Android app runs in a Sanbox</a>. </p>\n\n<blockquote>\n  <p>The Android Application Sandbox, which isolates your app data and code execution from other apps.</p>\n</blockquote>\n\n<p>However, to better understand your issue, you have to learn about the <a href=\"https://stackoverflow.com/questions/6804053/understand-the-r-class-in-android\"><code>R class</code></a>. In a few words, it is a class generated by the system that holds a reference to everything that is found in the resources directory, including the <code>drawables</code> you are using. The important part here is that every reference to a resource will be saved as an <code>int</code> variable, hence your <code>2131099738</code> appears there when you try to use <code>R.drawable.image27.png</code> (Note that if you make any changes to resources, there is a huge chance that this number will change). </p>\n\n<p>To solve the problem, you have two approaches:</p>\n\n<ol>\n<li>store the file in the <a href=\"https://developer.android.com/training/data-storage/files.html\" rel=\"nofollow noreferrer\">external storage</a>;</li>\n<li>use a <a href=\"https://developer.android.com/guide/topics/providers/content-provider-basics.html\" rel=\"nofollow noreferrer\"><code>ContentProvider</code></a> to access the file. </li>\n</ol>\n"}], "owner": {"reputation": 85, "user_id": 2440506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eefff793257a7773b0885821c48b494?s=128&d=identicon&r=PG", "display_name": "user21681", "link": "https://stackoverflow.com/users/2440506/user21681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1521627617, "creation_date": 1521621810, "last_edit_date": 1521627617, "question_id": 49401620, "link": "https://stackoverflow.com/questions/49401620/send-image-via-share-sends-only-a-strange-number-and-no-file-extension", "title": "Send Image via Share : Sends only a strange number and no file extension", "body": "<p>I implemented a share button(code is written in <code>Kotlin</code>) which already can send text to whatsapp / email etc.</p>\n\n<p>Now I also want to send an image, but after trying several tutorials, it still displays the same error: </p>\n\n<p>Instead of the picture \"image27.png\", only an undefined broken file \"2131099738\" is send. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>package com.example.myapp\n...\nshare_button.setOnClickListener {\n        val shareIntent = Intent(Intent.ACTION_SEND)\n        shareIntent.type = \"image/png\"\n\n        val shareImageURI = Uri.parse(\"android.resource://com.example.myapp/drawable/\"+R.drawable.image27)\n\n        val shareSub = \"This is for you\"\n        val shareBody = message \n        shareIntent.putExtra(Intent.EXTRA_STREAM, shareImageURI)\n        shareIntent.putExtra(Intent.EXTRA_SUBJECT, shareSub)\n        shareIntent.putExtra(Intent.EXTRA_TEXT, shareBody)\n        startActivity(Intent.createChooser(shareIntent, \"Share this\"))\n    }\n</code></pre>\n\n<p>The picture is saved here: <code>C:\\Users\\Bine\\AndroidStudioProjects\\MyApp\\app\\src\\main\\res\\drawable\\image27.png</code></p>\n\n<p>How can I fix this? </p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1981, "user_id": 5722608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e2424e7222b5429a16056a147aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/5722608/faraz"}, "edited": false, "score": 0, "creation_date": 1521620849, "post_id": 49401240, "comment_id": 85803929, "body": "I have on question here... There will be list of RBs in your list and can only one will be selected at a time?"}], "answers": [{"tags": [], "owner": {"reputation": 1981, "user_id": 5722608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e2424e7222b5429a16056a147aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/5722608/faraz"}, "is_accepted": false, "score": 1, "last_activity_date": 1521622469, "last_edit_date": 1521622469, "creation_date": 1521620608, "answer_id": 49401295, "question_id": 49401240, "link": "https://stackoverflow.com/questions/49401240/how-can-i-set-the-first-radio-button-in-recyclerview-checked-with-kotlin/49401295#49401295", "title": "How can I set the first radio button in RecyclerView checked with Kotlin?", "body": "<p>If you want to set the first <code>RadioButton</code> in your list to be true, you can check the adapterPosition and if it is 0 (i.e. first item) set it to true.</p>\n\n<p><strong>For example:</strong></p>\n\n<pre><code>class CustomAdapter\n{\n    var mSelectedItem = 0\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n            fun bindItems(aMSetting: MSetting) {\n               ....\n\n                if(adapterPosition == mSelectedItem)\n                    itemView.radioButton.checked = true\n                else\n                    itemView.radioButton.checked = false\n            }\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1101, "user_id": 9450729, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Slava Glushenkov", "link": "https://stackoverflow.com/users/9450729/slava-glushenkov"}, "is_accepted": true, "score": 3, "last_activity_date": 1521639573, "last_edit_date": 1521639573, "creation_date": 1521637935, "answer_id": 49407276, "question_id": 49401240, "link": "https://stackoverflow.com/questions/49401240/how-can-i-set-the-first-radio-button-in-recyclerview-checked-with-kotlin/49407276#49407276", "title": "How can I set the first radio button in RecyclerView checked with Kotlin?", "body": "<pre><code>    private var mSelectedItem = -1\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n    holder.bindItems(backupItemList[position], position, mSelectedItem)\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\nfun bindItems(aMSetting: MSetting, position: Int, selectedPosition: Int) {\n    itemView.radioButton.tag=aMSetting._id\n    itemView.textViewUsername.text=aMSetting.createdDate.toString()\n    itemView.textViewAddress.text=aMSetting.description\n\n    if ((selectedPosition == -1 &amp;&amp; position == 0))\n        itemView.radioButton.setChecked(true)\n    else        \n        if (selectedPosition == position)\n            itemView.radioButton.setChecked(true)\n        else\n            itemView.radioButton.setChecked(false)\n\n\n            itemView.radioButton.setOnClickListener {\n                mSelectedItem=getAdapterPosition()\n                notifyDataSetChanged()\n            }\n    }\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3029, "favorite_count": 2, "accepted_answer_id": 49407276, "answer_count": 2, "score": 0, "last_activity_date": 1521639573, "creation_date": 1521620381, "last_edit_date": 1521623950, "question_id": 49401240, "link": "https://stackoverflow.com/questions/49401240/how-can-i-set-the-first-radio-button-in-recyclerview-checked-with-kotlin", "title": "How can I set the first radio button in RecyclerView checked with Kotlin?", "body": "<p>I use the Code A to create a RecyclerView with radio button based some searched sample code from website.</p>\n\n<p>1\u3001I don't know if these code is good, is there a better way to implement radio button in RecyclerView?</p>\n\n<p>2\u3001How can I set the first radio button checked default when I start the APP? You know that none of radio button is checked when I start the APP.</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>class CustomAdapter (val backupItemList: List&lt;MSetting&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    private var mSelectedItem = -1\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.item_recyclerview, parent, false)\n        return ViewHolder(v)\n    }\n\n    fun getSelectedItem():Int{\n        return  mSelectedItem\n    }\n\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(backupItemList[position])\n        holder.itemView.radioButton.setChecked(position == mSelectedItem);\n    }\n\n    override fun getItemCount(): Int {\n        return backupItemList.size\n    }\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        fun bindItems(aMSetting: MSetting) {\n           itemView.radioButton.tag=aMSetting._id\n            itemView.textViewUsername.text=aMSetting.createdDate.toString()\n            itemView.textViewAddress.text=aMSetting.description\n\n            itemView.radioButton.setOnClickListener {\n                mSelectedItem=getAdapterPosition()\n                notifyDataSetChanged();\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>XML File</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n\n    &lt;android.support.v7.widget.CardView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"5dp\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"&gt;\n\n\n               &lt;RadioButton\n                android:id=\"@+id/radioButton\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"My First\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textViewUsername\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:padding=\"15dp\"\n                android:text=\"Belal Khan\"\n                /&gt;\n\n           &lt;TextView\n                android:id=\"@+id/textViewAddress\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:padding=\"15dp\"\n                android:text=\"Ranchi, Jharkhand\"\n            /&gt;\n\n        &lt;/LinearLayout&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1521614041, "post_id": 49399619, "comment_id": 85800485, "body": "Can you please include the exception?"}, {"owner": {"reputation": 4698, "user_id": 5301119, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7qLZ9.jpg?s=128&g=1", "display_name": "Burhanuddin Rashid", "link": "https://stackoverflow.com/users/5301119/burhanuddin-rashid"}, "edited": false, "score": 1, "creation_date": 1521614057, "post_id": 49399619, "comment_id": 85800495, "body": "You dont need to cast <code>as Fragment</code> it will directly take like this <code>return when(position){         0 -&gt; NewListFragment()</code>"}, {"owner": {"reputation": 13, "user_id": 3500362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/287b5eea6329d64777fdfc1dc6329415?s=128&d=identicon&r=PG&f=1", "display_name": "ouromoros", "link": "https://stackoverflow.com/users/3500362/ouromoros"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1521614841, "post_id": 49399619, "comment_id": 85800854, "body": "@s1m0nw1 The error message is just plain <code>java.lang.ClassCastException: deng.jitian.raeder.NewListFragment cannot be cast to android.support.v4.app.Fragment</code>. No really valuable things to be found after that."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3500362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/287b5eea6329d64777fdfc1dc6329415?s=128&d=identicon&r=PG&f=1", "display_name": "ouromoros", "link": "https://stackoverflow.com/users/3500362/ouromoros"}, "edited": false, "score": 0, "creation_date": 1521622717, "post_id": 49400157, "comment_id": 85805014, "body": "Ah, thanks! That&#39;s exactly the problem. Shamefully I considered the exception message unhelpful."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 4, "last_activity_date": 1521617351, "last_edit_date": 1521617351, "creation_date": 1521615846, "answer_id": 49400157, "question_id": 49399619, "link": "https://stackoverflow.com/questions/49399619/kotlin-casting-between-classes-fails/49400157#49400157", "title": "Kotlin casting between classes fails", "body": "<p>Are you using the <em>same</em> <code>Fragment</code> class?</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/app/Fragment.html\" rel=\"nofollow noreferrer\"><code>android.app.Fragment</code></a> (deprecated as of Android P)</li>\n<li><a href=\"https://developer.android.com/reference/android/support/v4/app/Fragment.html\" rel=\"nofollow noreferrer\"><code>android.support.v4.app.Fragment</code></a></li>\n</ul>\n\n<p>You seem to be casting to <code>android.support.v4.app.Fragment</code>, judging from the exception message. Are your imports in that file incorrect?</p>\n\n<p>The warning in IntelliJ about an impossible cast only appears when it is truly impossible to cast to that specific type (that is, when their type hierarchies are completely different), which is why I think that this is likely the problem.</p>\n\n<p>Additionally, you don't <em>need</em> to cast to a supertype. Such a conversion is already inferred, so you can remove the cast.</p>\n"}], "owner": {"reputation": 13, "user_id": 3500362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/287b5eea6329d64777fdfc1dc6329415?s=128&d=identicon&r=PG&f=1", "display_name": "ouromoros", "link": "https://stackoverflow.com/users/3500362/ouromoros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 49400157, "answer_count": 1, "score": 0, "last_activity_date": 1521617351, "creation_date": 1521613656, "last_edit_date": 1521613958, "question_id": 49399619, "link": "https://stackoverflow.com/questions/49399619/kotlin-casting-between-classes-fails", "title": "Kotlin casting between classes fails", "body": "<p>I'm learning to code in Android with Kotlin, and have issues when casting between classes.</p>\n\n<p>So I had these classes defined:</p>\n\n<pre><code>abstract class ListFragment : Fragment()\nclass NewListFragment : ListFragment()\n</code></pre>\n\n<p>and when I tried to use it when implementing a function that returns a Fragment, it throws ClassCastException. There was IDE warning about the failing cast too</p>\n\n<pre><code>override fun getItem(position: Int): Fragment {\n    return when(position){\n        0 -&gt; NewListFragment() as Fragment\n</code></pre>\n\n<p>I don't know where I got wrong</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": false, "score": 3, "last_activity_date": 1521622703, "creation_date": 1521622703, "answer_id": 49401918, "question_id": 49399368, "link": "https://stackoverflow.com/questions/49399368/what-is-flatmappublisher-in-rxjava2/49401918#49401918", "title": "What is flatMapPublisher in RxJava2?", "body": "<p>From the <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Single.html#flatMapPublisher-io.reactivex.functions.Function-\" rel=\"nofollow noreferrer\">JavaDocs</a>:</p>\n\n<blockquote>\n  <p>Returns a <code>Flowable</code> that emits items based on applying a specified function to the item emitted by the source <code>Single</code>, where that function returns a <code>Publisher</code>.</p>\n</blockquote>\n\n<p><img src=\"https://raw.github.com/wiki/ReactiveX/RxJava/images/rx-operators/Single.flatMapPublisher.png\" alt=\"flatMapPublisher\"></p>\n\n<p>In other terms, a <code>Single</code> will succeed with a value which you'd like to turn into a sequence of values generated by a <code>Publisher</code> (i.e., some <code>Flowable</code>, <code>Flux</code> or other standard Reactive Streams source) and have the items of that.</p>\n"}], "owner": {"reputation": 868, "user_id": 6286539, "user_type": "registered", "profile_image": "https://graph.facebook.com/1195207520519710/picture?type=large", "display_name": "Sujin Shrestha", "link": "https://stackoverflow.com/users/6286539/sujin-shrestha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1189, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1521622703, "creation_date": 1521612573, "last_edit_date": 1521615945, "question_id": 49399368, "link": "https://stackoverflow.com/questions/49399368/what-is-flatmappublisher-in-rxjava2", "title": "What is flatMapPublisher in RxJava2?", "body": "<p>What is the purpose of <code>flatMapPublisher</code> ?</p>\n\n<pre><code>return factory.retrieveDiskDataStore().isCached()\n                .flatMapPublisher {\n                    factory.retrieveDataStore(it).getData(token)\n                }\n                .flatMap {\n                    Flowable.just(if (it is PickupListDataModel) mapper.mapFromData(it) else null)\n                }\n                .flatMap {\n                    saveData(it).toSingle { it }.toFlowable()\n                }\n</code></pre>\n\n<p>In this code, <code>factory.retrieveDiskDataStore().isCached()</code> checks whether the information is stored in database or not.\nIf not, then following code executes</p>\n\n<pre><code>.flatMapPublisher {\n                    factory.retrieveDataStore(it).getData(token)\n                }\n</code></pre>\n"}, {"tags": ["kotlin", "jvm", "refactoring", "dry"], "answers": [{"comments": [{"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "edited": false, "score": 0, "creation_date": 1521610088, "post_id": 49398586, "comment_id": 85798896, "body": "Thanks for the help. But I think I can&#39;t do this. Because the example is a little bit simple while in the real code, caseOne and caseTwo will be in 2 jar file where the <code>suggestion</code> is a class and can&#39;t be appeared in the caseOne jar file."}], "tags": [], "owner": {"reputation": 4169, "user_id": 341772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/250b3c601cbd646bece3d2464b024488?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/341772/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1521608930, "creation_date": 1521608930, "answer_id": 49398586, "question_id": 49397687, "link": "https://stackoverflow.com/questions/49397687/how-to-write-a-base-class-for-dry-in-this-situation-without-di-in-kotlin/49398586#49398586", "title": "How to write a base class for DRY in this situation without DI in Kotlin?", "body": "<p>If your goal is essentially two combine your first two <code>User</code> classes into a single class, you could do this:</p>\n\n<pre><code>class User(suggestion: String? = null) {\n    private val name: NameGenerator = suggestion?.let { NameGenerator(it) } ?: NameGenerator()\n\n    fun sayName() {\n        println(this.name.fakeName)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1521613428, "creation_date": 1521613428, "answer_id": 49399566, "question_id": 49397687, "link": "https://stackoverflow.com/questions/49397687/how-to-write-a-base-class-for-dry-in-this-situation-without-di-in-kotlin/49399566#49399566", "title": "How to write a base class for DRY in this situation without DI in Kotlin?", "body": "<p>Would it be acceptable to make the name provisioning part of the constructor signature by taking a function as a parameter? The following approach enables the desired abstraction imho:</p>\n\n<pre><code>class User(private val nameProvider: () -&gt; Name) {\n    private val name: Name by lazy(nameProvider)\n\n    fun sayName() {\n        println(this.name.fakeName)\n    }\n} \n</code></pre>\n\n<p>You can create <code>User</code>s with any <code>nameProvider</code> such as:</p>\n\n<pre><code>User { MockName() }\nUser { NameGenerator(\"blah\") }\n</code></pre>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521613428, "creation_date": 1521603150, "question_id": 49397687, "link": "https://stackoverflow.com/questions/49397687/how-to-write-a-base-class-for-dry-in-this-situation-without-di-in-kotlin", "title": "How to write a base class for DRY in this situation without DI in Kotlin?", "body": "<p>I got 2 cases for a class, one is like this:</p>\n\n<pre><code>class User {\n    private val name:Name = NameGenerator()\n\n    fun sayName() {\n        println(this.name.fakeName)\n    }\n}\n</code></pre>\n\n<p>The other one is:</p>\n\n<pre><code>class User(suggestion:String) {\n    private val name:Name = NameGenerator(suggestion)\n\n    fun sayName() {\n        println(this.name.fakeName)\n    }\n}\n</code></pre>\n\n<p>Now you see the differences, it's all about that <code>name</code>, it has 2 different ways to initialize.</p>\n\n<p>How could I write a base class to DRY in this case?</p>\n\n<p>I end up with something like this:</p>\n\n<pre><code>abstract class BaseUser {\n    protected val name:Name = MockName()\n\n    fun sayName() {\n        println(this.name.fakeName)\n    }\n}\n</code></pre>\n\n<p>Then I can use it like:</p>\n\n<pre><code>class UserCaseOne():BaseUser() {\n\n}\n\nclass UserCaseTwo(suggestion:String):BaseUser() {\n    init {\n        this.name = NameGenerator(suggestion)\n    }\n}\n</code></pre>\n\n<p>This is pretty lame considering that I have to use a mock object to initialize.</p>\n\n<p>Are there better ways to do this? Without injecting the implementation? I don't want to force the <code>UserCaseTwo</code> to have a redundant constructor.</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 1, "last_activity_date": 1521622373, "creation_date": 1521622373, "answer_id": 49401800, "question_id": 49397660, "link": "https://stackoverflow.com/questions/49397660/objects-with-in-kotlin-translates-to-org-jetbrains-annotations-nullable-in-ja/49401800#49401800", "title": "Objects with ? in Kotlin translates to @org.jetbrains.annotations.Nullable in java", "body": "<p>As of Kotlin 1.2.30 there is no possibility to control which annotation names the Kotlin compiler uses. The JetBrains annotations are part of the Kotlin standard library, and the compiler generates code which only references the standard library, not any external components.</p>\n"}], "owner": {"reputation": 5882, "user_id": 4598169, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42f0c50fc77c68c1b4bc96740d701fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/4598169/tarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 49401800, "answer_count": 1, "score": 0, "last_activity_date": 1521622373, "creation_date": 1521602924, "last_edit_date": 1521605359, "question_id": 49397660, "link": "https://stackoverflow.com/questions/49397660/objects-with-in-kotlin-translates-to-org-jetbrains-annotations-nullable-in-ja", "title": "Objects with ? in Kotlin translates to @org.jetbrains.annotations.Nullable in java", "body": "<p>I have a library which i have written in Kotlin. This library contains an Interface which is as shown :</p>\n\n<pre><code>interface IApiRes {\n    fun onSuccess(response: Any?)\n    fun onError(apiError: ApiError)\n}\n</code></pre>\n\n<p>Now One of our client is in Java and it is using this interface. Interface translates correctly in java but ? gets translated to <strong>@org.jetbrains.annotations.Nullable</strong> and not to <strong>@android.support.annotation.Nullable</strong></p>\n\n<p>I understand both of them offers same functionality but i still want my translated annotation to <strong>android.support.annotation.Nullable</strong>\nAny hint on how we can do this?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 2267994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KtgJx.png?s=128&g=1", "display_name": "Vu Nguyen", "link": "https://stackoverflow.com/users/2267994/vu-nguyen"}, "is_accepted": true, "score": 2, "last_activity_date": 1521601879, "creation_date": 1521601879, "answer_id": 49397498, "question_id": 49397083, "link": "https://stackoverflow.com/questions/49397083/why-does-private-lateinit-var-mcustomadapter-customadapter-cause-property-getter/49397498#49397498", "title": "Why does private lateinit var mCustomAdapter CustomAdapter cause Property getter or setter expected in Kotlin?", "body": "<p>You are missing <code>:</code> at the end of <code>mCustomAdapter</code> variable</p>\n\n<p>Try this:</p>\n\n<pre><code>private lateinit var mCustomAdapter: CustomAdapter\n</code></pre>\n\n<p>See more: <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html#defining-variables\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/basic-syntax.html#defining-variables</a></p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 585, "favorite_count": 0, "accepted_answer_id": 49397498, "answer_count": 1, "score": 0, "last_activity_date": 1521601879, "creation_date": 1521598698, "question_id": 49397083, "link": "https://stackoverflow.com/questions/49397083/why-does-private-lateinit-var-mcustomadapter-customadapter-cause-property-getter", "title": "Why does private lateinit var mCustomAdapter CustomAdapter cause Property getter or setter expected in Kotlin?", "body": "<p>The code <code>mRecyclerView.adapter= CustomAdapter(allList)</code>  works well, I hope to define a private var mCustomAdapter, and assign value late.</p>\n\n<p>But the code <code>private lateinit var mCustomAdapter CustomAdapter</code>  cause error, how can I fixed it? Thanks!</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>class UIMain : AppCompatActivity() {\n\n\n    private lateinit var mCustomAdapter CustomAdapter  //Error\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_main)\n\n        ...\n\n        mRecyclerView.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\n        mRecyclerView.adapter= CustomAdapter(allList) //OK\n\n    }\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>class CustomAdapter (val backupItemList: List&lt;MSetting&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    private var mSelectedItem = -1\n\n    //this method is returning the view for each item in the list\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.item_recyclerview, parent, false)\n\n        return ViewHolder(v)\n    }\n\n\n    fun getSelectedItem():Int{\n        return  mSelectedItem\n    }\n\n    //this method is binding the data on the list\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(backupItemList[position])\n        holder.itemView.radioButton.setChecked(position == mSelectedItem);\n    }\n\n    //this method is giving the size of the list\n    override fun getItemCount(): Int {\n        return backupItemList.size\n    }\n\n    //the class is hodling the list view\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bindItems(aMSetting: MSetting) {\n\n            //itemView.radioButton.isChecked=false\n\n            itemView.radioButton.tag=aMSetting._id\n            itemView.textViewUsername.text=aMSetting.createdDate.toString()\n            itemView.textViewAddress.text=aMSetting.description\n\n            itemView.radioButton.setOnClickListener {\n                mSelectedItem=getAdapterPosition()\n                notifyDataSetChanged();\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 2, "creation_date": 1521598809, "post_id": 49397077, "comment_id": 85795996, "body": "make sure to create default constructor in your Account class it will be better if you share your Account class source code here"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1521598847, "post_id": 49397077, "comment_id": 85796003, "body": "Can you please show the Account class? Or read the Kotlin docs about how to define a constructor?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 2, "creation_date": 1521604935, "post_id": 49397077, "comment_id": 85797453, "body": "As cricket_0007 says, have a look at how to define a non-argument constructor. But it&#39;s likely the same problem as <a href=\"https://stackoverflow.com/questions/47563197/class-is-missing-a-constructor-with-no-arguments-but-ive-provided-a-construct\" title=\"class is missing a constructor with no arguments but ive provided a construct\">stackoverflow.com/questions/47563197/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/38287811/empty-constructor-for-kotlin-object-to-use-firebase\" title=\"empty constructor for kotlin object to use firebase\">stackoverflow.com/questions/38287811/&hellip;</a>"}, {"owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "reply_to_user": {"reputation": 3285, "user_id": 575772, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/418952c15563c7fc60d08becd9a69753?s=128&d=identicon&r=PG", "display_name": "hakim", "link": "https://stackoverflow.com/users/575772/hakim"}, "edited": false, "score": 0, "creation_date": 1521609329, "post_id": 49397077, "comment_id": 85798604, "body": "@hakim I added the Account class as an edit to the question"}, {"owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1521609982, "post_id": 49397077, "comment_id": 85798853, "body": "@cricket_007 I added the Account class to the original question"}], "owner": {"reputation": 157, "user_id": 9216313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/77998e2c7d4ae2ba9193fe8a38105498?s=128&d=identicon&r=PG&f=1", "display_name": "unknown1", "link": "https://stackoverflow.com/users/9216313/unknown1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 778, "favorite_count": 0, "closed_date": 1521644487, "answer_count": 0, "score": 0, "last_activity_date": 1521609374, "creation_date": 1521598627, "last_edit_date": 1521609374, "question_id": 49397077, "link": "https://stackoverflow.com/questions/49397077/reading-data-from-firebase-using-kotlin", "closed_reason": "Duplicate", "title": "Reading data from firebase using Kotlin", "body": "<p>I have the following data base <a href=\"https://i.stack.imgur.com/EjHFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EjHFl.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to read the accounts of each user and I'm using the following code</p>\n\n<pre><code>        database.getReference(\"users\").child(user!!.uid).child(\"accounts\")\n        .addValueEventListener(object  : ValueEventListener{\n            override fun onCancelled(snapshot: DatabaseError?) {\n          }\n\n        override fun onDataChange(snaphsot: DataSnapshot?) {\n\n            for (snap in snaphsot!!.children) {\n\n           val account = snap.getValue(Account::class.java)\n\n            }\n        }\n\n    })\n</code></pre>\n\n<p>But I'm getting this error </p>\n\n<pre><code>Account is missing a constructor with no arguments\n</code></pre>\n\n<p>How can I fix this?</p>\n\n<p><strong>Edit:</strong> Here is the Account class</p>\n\n<pre><code>data class Account(val name : String, val iowe : Double, val theyowe : Double, val notes : String)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "custom-adapter"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1521595754, "post_id": 49396690, "comment_id": 85795230, "body": "Because it&#39;s not <code>inner class ViewHolder</code>."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1521595799, "post_id": 49396690, "comment_id": 85795241, "body": "Thanks, how can I fixed it?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1521595919, "post_id": 49396690, "comment_id": 85795268, "body": "But ViewHolder is packaged by CustomAdapter, why isn&#39;t it inner class?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1521596139, "post_id": 49396690, "comment_id": 85795322, "body": "<a href=\"https://kotlinlang.org/docs/reference/nested-classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/nested-classes.html</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1521596570, "post_id": 49396690, "comment_id": 85795429, "body": "It&#39;s just <code>class</code>. It&#39;s not <code>inner class</code>. Specify it as <code>inner class</code> and it should work."}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1521598539, "post_id": 49396754, "comment_id": 85795914, "body": "Thanks! but position is obsolete"}], "tags": [], "owner": {"reputation": 126, "user_id": 9162860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a634fd969f455252e9161ce8d754eb51?s=128&d=identicon&r=PG&f=1", "display_name": "TangXianQiang", "link": "https://stackoverflow.com/users/9162860/tangxianqiang"}, "is_accepted": false, "score": 0, "last_activity_date": 1521595870, "creation_date": 1521595870, "answer_id": 49396754, "question_id": 49396690, "link": "https://stackoverflow.com/questions/49396690/why-cant-i-use-the-var-mselecteditem-in-inner-class-viewholder/49396754#49396754", "title": "Why can&#39;t I use the var mSelectedItem in inner class ViewHolder?", "body": "<p>ViewHolder is the Recycler rather than the operator.if you want to get the position,you put this <code>mSelectedItem = position</code> in onBindViewHolder.And this method named getAdapterPosition() always works on with notifyItemsetChanged().hope this will help you.</p>\n"}, {"tags": [], "owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "is_accepted": true, "score": 3, "last_activity_date": 1521613808, "creation_date": 1521613808, "answer_id": 49399656, "question_id": 49396690, "link": "https://stackoverflow.com/questions/49396690/why-cant-i-use-the-var-mselecteditem-in-inner-class-viewholder/49399656#49399656", "title": "Why can&#39;t I use the var mSelectedItem in inner class ViewHolder?", "body": "<p>If you don't want to make the ViewHolder an <code>inner class</code> (which you should not), you could create a class like AdapterSelection that has a field <code>var selectedItem:Int</code> inside it and replace your <code>public var mSelectedItem = -1</code> with <code>private var mSelectedItem = AdapterSelection(-1</code>). Then pass the <code>mSelectedItem</code> to the <code>bind</code> method (<code>bindItems(aMSetting: MSetting, adapterSelection:AdapterSelection)</code> and inside the bind, set the position <code>adapterSelection.selectedItem = getAdapterPosition()</code>.</p>\n\n<p>You could have passed the adapter itself, but it is messy, that's why I suggest making another class.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 49399656, "answer_count": 2, "score": 2, "last_activity_date": 1521613808, "creation_date": 1521595278, "last_edit_date": 1521602149, "question_id": 49396690, "link": "https://stackoverflow.com/questions/49396690/why-cant-i-use-the-var-mselecteditem-in-inner-class-viewholder", "title": "Why can&#39;t I use the var mSelectedItem in inner class ViewHolder?", "body": "<p>I define mSelectedItem as a public var in the class CustomAdapter, I think  <code>mSelectedItem=getAdapterPosition()</code>  will be Ok when I use mSelectedItem in inner class ViewHolder.</p>\n\n<p>But it failed, and display \"Unresolved reference: mSelectedItem\" error, why?</p>\n\n<p>And more, what is good way for <code>getAdapterPosition()</code> in Kotlin, there is hint which display \"This inspection reports calls to java get and set methods that can be replaced with use of Kotlin synthetic properties\", but it will cause errro when I use  <code>mSelectedItem=getAdapterPosition</code> .</p>\n\n<pre><code>class CustomAdapter (val backupItemList: List&lt;MSetting&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    public var mSelectedItem = -1\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.item_recyclerview, parent, false)\n\n        return ViewHolder(v)\n    }\n\n\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(backupItemList[position])\n        holder.itemView.radioButton.setChecked(position == mSelectedItem);\n    }\n\n\n    override fun getItemCount(): Int {\n        return backupItemList.size\n    }\n\n\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bindItems(aMSetting: MSetting) {               \n\n            itemView.radioButton.tag=aMSetting._id\n            itemView.textViewUsername.text=aMSetting.createdDate.toString()\n            itemView.textViewAddress.text=aMSetting.description\n            mSelectedItem=getAdapterPosition()  //It will cause error\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "in-app-purchase", "in-app-billing"], "owner": {"reputation": 636, "user_id": 7555345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tXzmi.jpg?s=128&g=1", "display_name": "Mohamed Saber", "link": "https://stackoverflow.com/users/7555345/mohamed-saber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521587714, "creation_date": 1521587714, "question_id": 49395646, "link": "https://stackoverflow.com/questions/49395646/google-play-doesnt-call-onpurchasesupdated-in-billing-library-1-0", "title": "Google Play doesn&#39;t call onPurchasesUpdated in Billing Library 1.0", "body": "<p>I'm trying restore previous purchased item. As the <a href=\"https://developer.android.com/google/play/billing/billing_library.html#retrieve\" rel=\"nofollow noreferrer\">reference</a> say : </p>\n\n<blockquote>\n  <p>Google Play will call <em>onPurchasesUpdated</em> specify this listener\n  setListener() method when creating an instance of the Play Billing\n  Library client.</p>\n</blockquote>\n\n<p>I created an instance of the Play Billing Library client in onCreate method :</p>\n\n<pre><code>  mBillingClient = BillingClient.newBuilder(this).setListener(this).build();\n    mBillingClient.startConnection(object : BillingClientStateListener {\n        override fun onBillingServiceDisconnected() {\n\n        }\n\n        override fun onBillingSetupFinished(responseCode: Int) {\n            if (responseCode == BillingClient.BillingResponse.OK) {\n            }\n        }\n\n    })\n</code></pre>\n\n<p>And Tried to do some action in onPurchasesUpdated but it didn't work at all (Action like : Toast, Log or update the UI)\nAny Help</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1521588760, "post_id": 49395527, "comment_id": 85793434, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40138923/difference-between-and-any-in-kotlin-generics\">Difference between &quot;*&quot; and &quot;Any&quot; in Kotlin generics</a>"}, {"owner": {"reputation": 5402, "user_id": 873139, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/r1v37.jpg?s=128&g=1", "display_name": "Aubergine", "link": "https://stackoverflow.com/users/873139/aubergine"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1521589341, "post_id": 49395527, "comment_id": 85793627, "body": "@jrtapsell can you please read the addition at the bottom in my question? Where do you see the solution in the answer you have referenced?  I cannot use var userAttributes = mapOf&lt;*, *&gt;()  Theory is not helpful without examples."}], "answers": [{"tags": [], "owner": {"reputation": 5402, "user_id": 873139, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/r1v37.jpg?s=128&g=1", "display_name": "Aubergine", "link": "https://stackoverflow.com/users/873139/aubergine"}, "is_accepted": false, "score": 0, "last_activity_date": 1521592934, "last_edit_date": 1521592934, "creation_date": 1521591206, "answer_id": 49396153, "question_id": 49395527, "link": "https://stackoverflow.com/questions/49395527/how-to-read-star-projection-into-variable-with-correct-type-for-particular-examp/49396153#49396153", "title": "How to read star projection into variable with correct type for particular example?", "body": "<p>As some readers of the question mark it as duplicate and point it to theoretical answer to get their blind points I will do reverse, the answer to my problem was to change declaration to:</p>\n\n<pre><code>var userAttributes : Map&lt;out Any?, Any?&gt;\n</code></pre>\n\n<p>If someone who understands it better takes my answer and adds explanation of how and why it works and why :</p>\n\n<pre><code>var userAttributes = mapOf&lt;Any?, Any?&gt;()\n</code></pre>\n\n<p>does not - i.e. why I could not use <strong>out</strong> for <code>mapOf</code> or use projection *, I will gladly accept it as an answer.</p>\n"}], "owner": {"reputation": 5402, "user_id": 873139, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/r1v37.jpg?s=128&g=1", "display_name": "Aubergine", "link": "https://stackoverflow.com/users/873139/aubergine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521592934, "creation_date": 1521586914, "last_edit_date": 1521590218, "question_id": 49395527, "link": "https://stackoverflow.com/questions/49395527/how-to-read-star-projection-into-variable-with-correct-type-for-particular-examp", "title": "How to read star projection into variable with correct type for particular example?", "body": "<pre><code>var userAttributes = mapOf&lt;Any?, Any?&gt;()\n\nval responseEntity = restTemplate.exchange(userInfoEndpointUri, HttpMethod.GET, entity, Map::class.java)\n\nuserAttributes = responseEntity.body // compilation error\n</code></pre>\n\n<p>results in compilation error:</p>\n\n<pre><code>Type inference failed. Expected type mismatch:\nrequired Map&lt;Any?, Any?&gt;\nfound    Map&lt;*,*&gt;!\n</code></pre>\n\n<p>I find myself clueless what <strong>userAttributes</strong> must be declared with to hold such return type.</p>\n\n<p>When I looked at other answers they explain theory, but provide no solution. I understand that the type <strong>Any</strong> for userAttributes is incorrect I don't know what is correct type(well I know it is <strong>out of Any?</strong> which can't be used for the same reason I can't use * to be put as generic type for userAttributes , both resulting in \"Projections are not allowed on type arguments of functions and properties\")</p>\n"}, {"tags": ["kotlin", "spek"], "answers": [{"tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 1, "last_activity_date": 1522386916, "last_edit_date": 1522386916, "creation_date": 1521592969, "answer_id": 49396388, "question_id": 49395420, "link": "https://stackoverflow.com/questions/49395420/spek-variable-not-initialized-in-test/49396388#49396388", "title": "Spek - Variable not initialized in test", "body": "<p>Just use the <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\">lateinit</a> modifier on the variable that will be initialised before use.</p>\n\n<pre><code>  describe(\"something\") {\n    context(\"when something\") {\n\n      lateinit var a: SomeType\n\n      beforeEachTest { \n        a = someNewMutableObject\n      }\n\n      it(\"should do something\") {\n        assertTrue(a.something()) // variable a is okay to use here\n      }\n    }\n  }\n</code></pre>\n\n<p>PS. <code>lateinit</code> local variables are available from Kotlin 1.2 only</p>\n\n<p>In Kotlin 1.1 you should just initialise it to a default value or null (make it a nullable type also).</p>\n"}], "owner": {"reputation": 1384, "user_id": 1726450, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/20469258fb2d81db8009ed6f2de6a5fe?s=128&d=identicon&r=PG", "display_name": "Dylanthepiguy", "link": "https://stackoverflow.com/users/1726450/dylanthepiguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 49396388, "answer_count": 1, "score": 0, "last_activity_date": 1522386916, "creation_date": 1521586306, "question_id": 49395420, "link": "https://stackoverflow.com/questions/49395420/spek-variable-not-initialized-in-test", "title": "Spek - Variable not initialized in test", "body": "<p>The following code does not compile:</p>\n\n<pre><code>  describe(\"something\") {\n    context(\"when something\") {\n      var a: SomeType\n\n      beforeEachTest { \n        a = someNewMutableObject\n      }\n\n      it(\"should do something\") {\n        assertTrue(a.something()) // variable a not initialized\n      }\n    }\n  }\n</code></pre>\n\n<p>How would one get around this problem? What could i assign to the variable to get rid of the warning?</p>\n"}, {"tags": ["generics", "kotlin", "inner-classes", "sealed-class"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "edited": false, "score": 0, "creation_date": 1521584653, "post_id": 49395006, "comment_id": 85791901, "body": "You can declare the sealed class in the way I provided in the answer and then define a factory function inside <code>BaseRepository</code>: <code>fun Success(receivedValue: BR) = BaseSealedResponse.Success(receivedValue)</code>. This will let you directly create instances of <code>Success</code> parameterized with <code>BR</code>."}, {"owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "edited": false, "score": 0, "creation_date": 1521586167, "post_id": 49395006, "comment_id": 85792590, "body": "that really doesnt do the trick (  I guess you cannot combined sealed classes logic with generics ((("}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1521612851, "post_id": 49395006, "comment_id": 85799952, "body": "Parametrize <code>BaseSealedResponse&lt;BR: BaseResponse&gt;</code> and make sure it&#39;s only created with the same parameter inside <code>BaseRepository</code>."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1521584719, "last_edit_date": 1521584719, "creation_date": 1521584061, "answer_id": 49395006, "question_id": 49394889, "link": "https://stackoverflow.com/questions/49394889/passing-a-generic-type-to-a-nested-sealed-class/49395006#49395006", "title": "passing a generic type to a nested sealed class", "body": "<p>No, that's not possible. Only <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html#inner-classes\" rel=\"nofollow noreferrer\"><code>inner</code> classes</a> can refer to type parameters of the outer type. A <code>sealed</code> class cannot be marked as <code>inner</code>, so it can only access its own type parameters:</p>\n\n<pre><code>class BaseRepository&lt;BR: BaseResponse&gt;() {\n    sealed class BaseSealedResponse {\n        open class Success&lt;B: BaseResponse&gt;(val receivedValue: B)\n        open class RequestError(val error: HttpException)\n    }\n}\n</code></pre>\n\n<p>You can define a member function inside <code>BaseRepository</code> that creates instances of <code>Success</code> parameterized with <code>BR</code>:</p>\n\n<pre><code>fun Success(receivedValue: BR) = BaseSealedResponse.Success(receivedValue)\n</code></pre>\n"}], "owner": {"reputation": 1135, "user_id": 7480451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2Fu4.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/7480451/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 0, "accepted_answer_id": 49395006, "answer_count": 1, "score": 2, "last_activity_date": 1521584719, "creation_date": 1521583532, "question_id": 49394889, "link": "https://stackoverflow.com/questions/49394889/passing-a-generic-type-to-a-nested-sealed-class", "title": "passing a generic type to a nested sealed class", "body": "<p>Is it possible?\nHow can I expain to the compiler that its the same type (BR) extending the same class?\nThe code bellow fails</p>\n\n<pre><code>class BaseRepository&lt;BR: BaseResponse&gt;() {\n\nsealed class BaseSealedResponse {\n    open class Success(val receivedValue: BR)\n    open class RequestError(val error: HttpException)\n}\n}\n</code></pre>\n"}, {"tags": ["kotlin", "klaxon"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1521585171, "post_id": 49394844, "comment_id": 85792159, "body": "Did you write any code so far? <a href=\"https://github.com/cbeust/klaxon#objectBindingApi\" rel=\"nofollow noreferrer\">Here&#39;s the documentation for Klaxon</a>"}, {"owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1521618349, "post_id": 49394844, "comment_id": 85802613, "body": "Sorry for my late answer. I added code. And error is: kotlin.KotlinNullPointerException"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1521619705, "post_id": 49394844, "comment_id": 85803357, "body": "which line is throwing the exception?"}, {"owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1521626952, "post_id": 49394844, "comment_id": 85807822, "body": "at DetailItem.parse(val inputStream = cls.getResourceAsStream(name)!!)                                                                      at DetailItem.example(val obj = parse(&quot;url&quot;) as JsonObject) at DetailItem.onResume(example())"}, {"owner": {"reputation": 21876, "user_id": 1678362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba023d18099cde022b9e4394d5714c0?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1678362/aaron"}, "edited": false, "score": 0, "creation_date": 1521629069, "post_id": 49394844, "comment_id": 85809356, "body": "shouldn&#39;t <code>parse(&quot;url&quot;)</code> be <code>parse(url)</code> ? not sure if that&#39;s enough, but that seems like a problematic typo"}, {"owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "reply_to_user": {"reputation": 21876, "user_id": 1678362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba023d18099cde022b9e4394d5714c0?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1678362/aaron"}, "edited": false, "score": 0, "creation_date": 1521629983, "post_id": 49394844, "comment_id": 85809932, "body": "@Aaron, still not working"}, {"owner": {"reputation": 21876, "user_id": 1678362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ba023d18099cde022b9e4394d5714c0?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1678362/aaron"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1521630119, "post_id": 49394844, "comment_id": 85810018, "body": "Then I&#39;ll have to let @user2340612 or someone else guide you through the steps, I&#39;ve hardly got any kotlin experience. I suggest you edit the typo out of your question since answerers might otherwise go no further."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "edited": false, "score": 0, "creation_date": 1521629949, "post_id": 49404159, "comment_id": 85809909, "body": "Is there solution how to read a json on url like I posted in question? If not, how to download url and save it as json file?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "edited": false, "score": 0, "creation_date": 1521633136, "post_id": 49404159, "comment_id": 85812109, "body": "Sure, you need to use an http client (or something more high level like retrofit) to call your server and retrieve the response. After that you can save it to a file or parse it directly"}, {"owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "edited": false, "score": 0, "creation_date": 1521633452, "post_id": 49404159, "comment_id": 85812320, "body": "I post new answer to solve my problem, but it is AsyncTask, How to rewrite it and execute it only when I want?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "edited": false, "score": 0, "creation_date": 1521636647, "post_id": 49404159, "comment_id": 85814616, "body": "<code>AsyncTask</code> is one way to do it, and to execute it when you want you do something like <code>new MyAsyncTask().execute(...)</code>. I can provide you a more detailed answer later, in case"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "edited": false, "score": 0, "creation_date": 1521671922, "post_id": 49404159, "comment_id": 85837092, "body": "@misolo89 I added an example"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 1, "last_activity_date": 1521671910, "last_edit_date": 1521671910, "creation_date": 1521628938, "answer_id": 49404159, "question_id": 49394844, "link": "https://stackoverflow.com/questions/49394844/kotlin-how-to-read-json-string-on-url/49404159#49404159", "title": "Kotlin - How to read JSON string on url", "body": "<p>The issue is that method <code>cls.getResourceAsStream(name)</code> returns <code>null</code>, and the <code>!!</code> operator causes the NPE to be thrown.</p>\n\n<p>Why does <code>cls.getResourceAsStream(name)</code> return <code>null</code>? That happens because method <code>getResourceAsStream</code> searches for a resource (i.e., file) with the provided <code>name</code> among the resources you provide in your project.</p>\n\n<p>In your case, however, you want to download the JSON from a URL, so you need to first perform the download, which will give you a JSON in form of <code>String</code> (or something that can be converted to a <code>String</code>), and then parse that string with <code>Parser().parse(yourJsonString) as JsonObject</code>.</p>\n\n<h2>EDIT</h2>\n\n<p>Here's an example that uses OkHttp library:</p>\n\n<pre><code>import com.beust.klaxon.Klaxon\nimport okhttp3.Call\nimport okhttp3.Callback\nimport okhttp3.OkHttpClient\nimport okhttp3.Request\nimport okhttp3.Response\nimport java.io.IOException\n\nfun main(args: Array&lt;String&gt;) {\n    val url = \"https://jsonplaceholder.typicode.com/posts/1\"\n\n    val client = OkHttpClient()\n    val request = Request.Builder()\n        .url(url)\n        .build()\n\n    println(Thread.currentThread())\n    client.newCall(request).enqueue(object : Callback {\n        override fun onFailure(call: Call?, e: IOException?) {\n            e?.printStackTrace()\n        }\n\n        override fun onResponse(call: Call?, response: Response) {\n            if (!response.isSuccessful) {\n                System.err.println(\"Response not successful\")\n                return\n            }\n            val json = response.body()!!.string()\n            val myData = Klaxon().parse&lt;MyData&gt;(json)\n            println(\"Data = $myData\")\n            println(Thread.currentThread())\n        }\n\n    })\n    // Shutdown the executor as soon as the request is handled\n    client.dispatcher().executorService().shutdown()\n}\n\ndata class MyData(val title: String, val userId: Int)\n</code></pre>\n\n<p>The JSON string returned by the REST API is:</p>\n\n<pre><code>{\n  \"userId\": 1,\n  \"id\": 1,\n  \"title\": \"sunt aut facere repellat provident occaecati excepturi optio reprehenderit\",\n  \"body\": \"quia et suscipitsuscipit recusandae consequuntur expedita et cumreprehenderit molestiae ut ut quas totamnostrum rerum est autem sunt rem eveniet architecto\"\n}\n</code></pre>\n\n<p>That code prints:</p>\n\n<pre><code>Thread[main,5,main]\nData = MyData(title=sunt aut facere repellat provident occaecati excepturi optio reprehenderit, userId=1)\nThread[OkHttp https://jsonplaceholder.typicode.com/...,5,main]\n</code></pre>\n\n<p>Note that the <code>onResponse</code> callback is executed on the worker thread and not on the main one, so if you use this code in Android, you won't be able to change UI elements from there (unless you use <code>runOnUiThread()</code> or similar techniques) </p>\n"}, {"comments": [{"owner": {"reputation": 1192, "user_id": 2395542, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a9cf33ec30f6aae3fedc1dafb22b0a34?s=128&d=identicon&r=PG", "display_name": "Damiii", "link": "https://stackoverflow.com/users/2395542/damiii"}, "edited": false, "score": 0, "creation_date": 1521672931, "post_id": 49405732, "comment_id": 85837406, "body": "what do you mean by &quot;rewrite it&quot; and execute it only when you want ?  Meanwhile you can read this well explained documentation from google for AsyncTask object : <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/AsyncTask.html</a>"}, {"owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "reply_to_user": {"reputation": 1192, "user_id": 2395542, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a9cf33ec30f6aae3fedc1dafb22b0a34?s=128&d=identicon&r=PG", "display_name": "Damiii", "link": "https://stackoverflow.com/users/2395542/damiii"}, "edited": false, "score": 1, "creation_date": 1521708198, "post_id": 49405732, "comment_id": 85848959, "body": "If I understand it right, AsyncTask is only executed when I call <code>MyAsyncTask().execute(...)</code> ?"}], "tags": [], "owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "is_accepted": false, "score": 1, "last_activity_date": 1521633402, "creation_date": 1521633402, "answer_id": 49405732, "question_id": 49394844, "link": "https://stackoverflow.com/questions/49394844/kotlin-how-to-read-json-string-on-url/49405732#49405732", "title": "Kotlin - How to read JSON string on url", "body": "<p>I find this code to solve my problem. But it is AsyncTask, How to rewrite it and execute it only when I want?</p>\n\n<pre><code>inner class AsyncTaskHandleJson : AsyncTask&lt;String, String, String&gt;() {\n        override fun doInBackground(vararg url: String?): String {\n\n            var text: String\n            var connection = URL(url[0]).openConnection() as HttpURLConnection\n            try {\n                connection.connect()\n                text = connection.inputStream.use { it.reader().use { reader -&gt; reader.readText() } }\n            } finally {\n                connection.disconnect()\n            }\n\n            return text\n        }\n\n        override fun onPostExecute(result: String?) {\n            super.onPostExecute(result)\n            handleJson(result)\n        }\n    }\n\n    private fun handleJson(jsonString: String?) {\n\n        val jsonObject = JSONObject(jsonString)\n\n        val itemIdBrand = findViewById&lt;TextView&gt;(R.id.itemIdBrand)\n        itemIdBrand.text = jsonObject.getString(\"brand\")\n\n        println(jsonObject.getString(\"brand\"))\n    }\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5084, "favorite_count": 0, "accepted_answer_id": 49404159, "answer_count": 2, "score": 2, "last_activity_date": 1521671910, "creation_date": 1521583306, "last_edit_date": 1521630368, "question_id": 49394844, "link": "https://stackoverflow.com/questions/49394844/kotlin-how-to-read-json-string-on-url", "title": "Kotlin - How to read JSON string on url", "body": "<p>I am new to Kotlin and I find library Klaxon to parse JSON. I can not find how to execute url(<a href=\"http://localhost:8080/items/2\" rel=\"nofollow noreferrer\">http://localhost:8080/items/2</a>), read JSON string and save data to variables and print them to console. CreatedAt and UpdatedAt I do not need to save.</p>\n\n<p>JSON from url:</p>\n\n<pre><code>{\n    \"brand\": \"Ferrero\",\n    \"name\": \"Nutella\",\n    \"healthy\": false,\n    \"date\": \"2017-03-14T00:00:00.000Z\",\n    \"id\": 2,\n    \"createdAt\": \"2018-03-14T13:33:22.000Z\",\n    \"updatedAt\": \"2018-03-20T21:23:44.000Z\"\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>class DetailItem : AppCompatActivity()  {\n    var itemId : String = \"\"\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_detail_item)\n        itemId = intent.getStringExtra(\"itemId\")\n    }\n\n    override fun onResume() {\n        super.onResume()\n        example()\n    }\n\n    private fun parse(name: String) : Any{\n        val cls = Parser::class.java\n        val inputStream = cls.getResourceAsStream(name)!!\n        return Parser().parse(inputStream)!!\n    }\n\n    private fun example(){\n        val url = \"http://192.168.99.100:8080/items/\" + itemId\n        val obj = parse(\"url\") as JsonObject\n\n        val brand = obj.string(\"brand\")\n        val name = obj.string(\"name\")\n        println(brand + name)\n    }\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1521579362, "creation_date": 1521579362, "answer_id": 49393968, "question_id": 49393920, "link": "https://stackoverflow.com/questions/49393920/uploading-data-in-firestore-database-using-kotlin-unable-to-store-data/49393968#49393968", "title": "Uploading data in Firestore Database using Kotlin. Unable to store data", "body": "<p>You're reading the values in your <code>EditText</code>s immediately (and only once) when they're created - they're still empty at this point. Instead, read their value in the callback of the listener every time, like so:</p>\n\n<pre><code>button.setOnClickListener() {\n    val usermap = HashMap&lt;String, Any&gt;()\n    usermap.put(\"Name\", name.text.toString())\n    usermap.put(\"Occupation\", occ)\n    usermap.put(\"Type\", user.text.toString())\n\n    mFirestore.collection(\"Users\").add(usermap).addOnSuccessListener() {\n        Toast.makeText(this, \"Data Stored\", Toast.LENGTH_SHORT).show()\n    }.addOnFailureListener() {\n        Toast.makeText(this, \"Data Not Stored\", Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 102, "user_id": 6247223, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-LfwHjgMh58I/AAAAAAAAAAI/AAAAAAAAACA/QmDDGLtXql4/photo.jpg?sz=128", "display_name": "Shikhar Singh", "link": "https://stackoverflow.com/users/6247223/shikhar-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 753, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524339916, "creation_date": 1521579228, "last_edit_date": 1524339916, "question_id": 49393920, "link": "https://stackoverflow.com/questions/49393920/uploading-data-in-firestore-database-using-kotlin-unable-to-store-data", "title": "Uploading data in Firestore Database using Kotlin. Unable to store data", "body": "<p><strong>I don't know what is the problem but the String from the Edittext is not getting stored in my Firestore Database.Please help i am new to Firestore and kotlin as well</strong></p>\n\n<blockquote>\n  <p>MainActivity.java</p>\n</blockquote>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val mFirestore: FirebaseFirestore = FirebaseFirestore.getInstance()\n\n    val name = findViewById&lt;EditText&gt;(R.id.nameText)//nameText.text.toString()\n    val user = findViewById&lt;EditText&gt;(R.id.userText)\n    val occ = \"Student\"\n\n    val usermap = HashMap&lt;String, Any&gt;()\n    usermap.put(\"Name\", name.text.toString())\n    usermap.put(\"Occupation\", occ)\n    usermap.put(\"Type\", user.text.toString())\n\n    button.setOnClickListener() {\n\n        mFirestore.collection(\"Users\").add(usermap).addOnSuccessListener() {\n            Toast.makeText(this, \"Data Stored\", Toast.LENGTH_SHORT).show()\n        }.addOnFailureListener() {\n            Toast.makeText(this, \"Data Not Stored\", Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n}\n</code></pre>\n\n<p><strong>This my firestore database screenshot please check it and help me</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Op1Y2.jpg\" rel=\"nofollow noreferrer\">Image</a></p>\n"}, {"tags": ["enums", "delegates", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1521577438, "post_id": 49393339, "comment_id": 85788588, "body": "How much later do you want to specify which implementation to delegate to? Do you want these implementation classes not to be hardcoded into the enum? What if you just had a factory class that gives you the appropriate <code>Foo</code> implementation based on the enum key you provide to it?"}, {"owner": {"reputation": 1805, "user_id": 7598113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afa022bfb89a6089383cb2f018438855?s=128&d=identicon&r=PG&f=1", "display_name": "kuza", "link": "https://stackoverflow.com/users/7598113/kuza"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1521624713, "post_id": 49393339, "comment_id": 85806263, "body": "The idea is to have enumerated entries <code>Google</code> and <code>Microsoft</code> being also aliases to some specific instances of corresponding services or simply delegate whole interface implementation to other objects (that more likely to be initialized later.)"}], "answers": [{"comments": [{"owner": {"reputation": 1805, "user_id": 7598113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afa022bfb89a6089383cb2f018438855?s=128&d=identicon&r=PG&f=1", "display_name": "kuza", "link": "https://stackoverflow.com/users/7598113/kuza"}, "edited": false, "score": 0, "creation_date": 1521614064, "post_id": 49396271, "comment_id": 85800499, "body": "So <code>googleMail</code> and <code>microsoftMail</code> are service instances that are the values of the enumerated entries? Also if I have to override each method of the interface then it seems like enum itself can be an interface."}, {"owner": {"reputation": 111, "user_id": 5058625, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Ef8gAkUjUg/AAAAAAAAAAI/AAAAAAAAALs/8BLqnSBxhJk/photo.jpg?sz=128", "display_name": "Vinicius Rangel", "link": "https://stackoverflow.com/users/5058625/vinicius-rangel"}, "reply_to_user": {"reputation": 1805, "user_id": 7598113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afa022bfb89a6089383cb2f018438855?s=128&d=identicon&r=PG&f=1", "display_name": "kuza", "link": "https://stackoverflow.com/users/7598113/kuza"}, "edited": false, "score": 0, "creation_date": 1521631033, "post_id": 49396271, "comment_id": 85810647, "body": "Yep. But enum cannot extends other classes neither other enum, only interfaces"}, {"owner": {"reputation": 1805, "user_id": 7598113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afa022bfb89a6089383cb2f018438855?s=128&d=identicon&r=PG&f=1", "display_name": "kuza", "link": "https://stackoverflow.com/users/7598113/kuza"}, "edited": false, "score": 0, "creation_date": 1521706049, "post_id": 49396271, "comment_id": 85847639, "body": "I noticed it is possible to use <code>by</code> keyword to delegate interface implementation of the enum class. I wanted to find a solution where I can change delegate during runtime."}, {"owner": {"reputation": 111, "user_id": 5058625, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Ef8gAkUjUg/AAAAAAAAAAI/AAAAAAAAALs/8BLqnSBxhJk/photo.jpg?sz=128", "display_name": "Vinicius Rangel", "link": "https://stackoverflow.com/users/5058625/vinicius-rangel"}, "reply_to_user": {"reputation": 1805, "user_id": 7598113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afa022bfb89a6089383cb2f018438855?s=128&d=identicon&r=PG&f=1", "display_name": "kuza", "link": "https://stackoverflow.com/users/7598113/kuza"}, "edited": false, "score": 0, "creation_date": 1521720070, "post_id": 49396271, "comment_id": 85857308, "body": "If I&#39;m not wrong, delegates cannot be changed, when you set the variable, is called a setter method of your delegate object. If you just want to change the variable mail value, change val for var"}, {"owner": {"reputation": 1805, "user_id": 7598113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afa022bfb89a6089383cb2f018438855?s=128&d=identicon&r=PG&f=1", "display_name": "kuza", "link": "https://stackoverflow.com/users/7598113/kuza"}, "edited": false, "score": 0, "creation_date": 1521968120, "post_id": 49396271, "comment_id": 85950548, "body": "I\u2019m sorry, I think my example was a little bit misleading, as <code>getMail</code> is not a getter but an interface method to be implemented by the service while each enumeration should correspond to the different implementation of that interface."}], "tags": [], "owner": {"reputation": 111, "user_id": 5058625, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Ef8gAkUjUg/AAAAAAAAAAI/AAAAAAAAALs/8BLqnSBxhJk/photo.jpg?sz=128", "display_name": "Vinicius Rangel", "link": "https://stackoverflow.com/users/5058625/vinicius-rangel"}, "is_accepted": false, "score": 11, "last_activity_date": 1521592831, "last_edit_date": 1521592831, "creation_date": 1521592071, "answer_id": 49396271, "question_id": 49393339, "link": "https://stackoverflow.com/questions/49393339/kotlin-enum-classes-with-common-interface-implemented-by-delegates/49396271#49396271", "title": "Kotlin ENUM classes with common interface implemented by delegates", "body": "<p>Yep</p>\n\n<p>You can make the enum implements the interface.</p>\n\n<pre><code>enum class Provider(val mail: Mail) : Foo {\n    Google(googleMail),\n    Microsoft(microsoftMail);\n\n    override fun getMail(): Mail = mail // Or this.mail\n}\n\ninterface Foo { fun getMail(): Mail }\n</code></pre>\n\n<p>Then you access</p>\n\n<pre><code>Provider.Google.getMail()\n</code></pre>\n\n<p>Other way is using val members</p>\n\n<pre><code>interface Foo { val mail: Mail }\n\nenum class Provider(override val mail: Mail) : Foo {\n    Google(googleMail),\n    Microsoft(microsoftMail)\n}\n</code></pre>\n\n<p>And access</p>\n\n<pre><code>Provider.Google.mail\n</code></pre>\n"}], "owner": {"reputation": 1805, "user_id": 7598113, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afa022bfb89a6089383cb2f018438855?s=128&d=identicon&r=PG&f=1", "display_name": "kuza", "link": "https://stackoverflow.com/users/7598113/kuza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4893, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1521592831, "creation_date": 1521576782, "question_id": 49393339, "link": "https://stackoverflow.com/questions/49393339/kotlin-enum-classes-with-common-interface-implemented-by-delegates", "title": "Kotlin ENUM classes with common interface implemented by delegates", "body": "<p>This is a slightly abstract question about finding a pretty design approach with minimal boilerplate.</p>\n\n<p>Prerequisites:</p>\n\n<ul>\n<li>I have an ENUM class for enumerating various providers i.e.: <code>enum class Provider { Google, Microsoft }</code></li>\n<li>Let\u2019s say there is a service interface <code>interface Foo { fun getMail(): Mail }</code> that will be implemented for each specific provider.</li>\n</ul>\n\n<p>I was curious if there is a way to define ENUM class <code>Provider</code> in such way that it\u2019s implementing interface <code>Foo</code> and I can later specify by which objects each concrete provider will be implemented?</p>\n\n<p>I wonder if there can be a boilerplate-less way to define enum class of concrete interface while I can later define by which objects concrete provider will be implemented.</p>\n\n<p>Prerequisites aren\u2019t solid so if a better design requires changes then I\u2019m eager for a better suggestion.</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1521626001, "post_id": 49392919, "comment_id": 85807146, "body": "Please add you database structure."}], "owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 586, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521575613, "creation_date": 1521575126, "last_edit_date": 1521575613, "question_id": 49392919, "link": "https://stackoverflow.com/questions/49392919/firebase-no-properties-to-serialize-found-on-class-when-attempting-to-add-data", "title": "Firebase &quot;No properties to serialize found on class&quot; when attempting to add data to Realtime Database", "body": "<p>In short, I'm trying to format a user's information into the database so that the data is capitalized when being sent through JSON - Googling told me about the @PropertyName feature, which I've been trying to use to no success. The user class is as follows:</p>\n\n<pre><code>class User(@PropertyName(\"FirstName\") @get:Exclude @set:Exclude var firstName: String = \"\",\n           @PropertyName(\"LastName\") @get:Exclude @set:Exclude var lastName: String = \"\",\n           @PropertyName(\"Email\") @get:Exclude @set:Exclude var Email: String = \"\",\n           @PropertyName(\"PhoneNumber\") @get:Exclude @set:Exclude var phoneNumber: String = \"\",\n           @PropertyName(\"Gender\") @get:Exclude @set:Exclude var Gender: String = \"\",\n           @PropertyName(\"City\") @get:Exclude @set:Exclude var City: String = \"\",\n           @PropertyName(\"DateOfBirth\") @get:Exclude @set:Exclude var dateOfBirth: String = \"\",\n           @PropertyName(\"School\") @get:Exclude @set:Exclude var School: String = \"\",\n           @PropertyName(\"Work\") @get:Exclude @set:Exclude var Work: String = \"\",\n           @PropertyName(\"DateJoined\") @get:Exclude @set:Exclude var dateJoined: Long = 0L)\n</code></pre>\n\n<p>When signing up as a new user, the account is created in Firebase, but I receive an error with the following message when attempting to add their information to the Realtime Database: <code>com.google.firebase.database.DatabaseException: No properties to serialize found on class com.android.projectrc.User</code> - I'm fairly certain it has to do with the PropertyName attribute as this never happened before adding it - but removing it is not an option as I need the data to be formatted a specific way to prevent problems with existing information within the database (currently it is formatted as camel-case, so \"firstName\" would be the key, when I need it to be \"FirstName\")</p>\n\n<p>The code where I actually attempt to add the user's information to the DB is these two lines:</p>\n\n<pre><code>val user = User(firstName, lastName, email)\n//add user info to database\nmDatabase.child(\"Users\").child(userId).child(\"UserInfo\").setValue(user)\n</code></pre>\n\n<p>The third line also seems to be where the error occurs. Is there some other workaround I can use to resolve this or is there something I'm missing?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1521573646, "post_id": 49392458, "comment_id": 85786597, "body": "<a href=\"https://stackoverflow.com/a/37839539/7366707\">stackoverflow.com/a/37839539/7366707</a> - tl;dr: use an enum."}, {"owner": {"reputation": 1204, "user_id": 981242, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e7e829d13714ee5b69e9b2b663726cd0?s=128&d=identicon&r=PG", "display_name": "nukeforum", "link": "https://stackoverflow.com/users/981242/nukeforum"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1534800266, "post_id": 49392458, "comment_id": 90827454, "body": "@Moira Hello, the linked question is not the same as this one. The linked question asks if you can use <code>IntDef</code> in Kotlin. This question is asking why <code>IntDef</code> can&#39;t be exhaustive without an else clause in a <code>when</code> block. Using an <code>enum</code> does not allow a <code>when</code> block to be considered exhaustive without an else clause."}], "owner": {"reputation": 605, "user_id": 2558231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b00d9fec45fb7268c1e874dafeb15f?s=128&d=identicon&r=PG", "display_name": "Majkeee", "link": "https://stackoverflow.com/users/2558231/majkeee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "closed_date": 1521578261, "answer_count": 0, "score": 0, "last_activity_date": 1521573285, "creation_date": 1521573285, "question_id": 49392458, "link": "https://stackoverflow.com/questions/49392458/why-is-intdef-in-kotlin-not-exhaustive", "closed_reason": "Duplicate", "title": "Why is IntDef in Kotlin not exhaustive", "body": "<p>Why IntDef in Kotlin is not exhaustive? The next piece of code requires me to add an else branch, but I don't see why should I. I tried to put annotation wherever I could, but no luck. </p>\n\n<p>Is it possible somehow, or do I have to use sealed class for desired behavior?</p>\n\n<pre><code>@IntDef({AWAIT, FAILED, SENT, SEEN})\n@Retention(AnnotationRetention.SOURCE)\nannotation class Status \n\ncompanion object {\n    const val AWAIT = 0;\n    const val FAILED = 1;\n    const val SENT = 2;\n    const val SEEN = 3;\n}\n\n@Status val status = AWAIT\nwhen (status) {   // THIS is red underlined cause it is \"not\" exhaustive\n    AWAIT -&gt; {}\n    FAILED -&gt; {}\n    SENT -&gt; {}\n    SEEN -&gt; {}\n}\n</code></pre>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 5, "last_activity_date": 1521573214, "last_edit_date": 1521573214, "creation_date": 1521572524, "answer_id": 49392276, "question_id": 49391973, "link": "https://stackoverflow.com/questions/49391973/kotlin-use-arraydouble-or-doublearray/49392276#49392276", "title": "Kotlin - use Array&lt;Double&gt; or DoubleArray", "body": "<p>There is no penalty (in fact, it will be faster due to no boxing), but, as with primitive types in Java, it forces you to create specialized overloads of certain methods if you want to be able to use them with <code>[Int/Double/etc]Array</code>.</p>\n\n<p><a href=\"https://discuss.kotlinlang.org/t/why-do-the-primitive-array-classes-need-to-be-exposed/1455\" rel=\"nofollow noreferrer\">This has actually been discussed over at the Kotlin forums</a>:</p>\n\n<blockquote>\n  <p>the memory layout of an array of integers is quite different from that of an array of object pointers.</p>\n</blockquote>\n\n<p>Norswap's comment in that discussion summarizes the tradeoff quite well:</p>\n\n<blockquote>\n  <p>The native one [<code>int[]</code>/<code>IntArray</code>] is faster to read/write, but the wrapped [<code>Integer[]</code>/<code>Array&lt;Int&gt;</code>] does not need to be entirely converted each time it crosses a generic boundary.<br>\n  <sub><a href=\"https://discuss.kotlinlang.org/t/why-do-the-primitive-array-classes-need-to-be-exposed/1455/7\" rel=\"nofollow noreferrer\">#7, norswap</a></sub></p>\n</blockquote>\n\n<p>For example, a function accepting <code>Array&lt;Int&gt;</code> (<code>Integer[]</code> on the JVM) will <em>not</em> accept an <code>IntArray</code> (<code>int[]</code>).</p>\n\n<p>You have already listed the only real difference, that one is compiled to the primitive <code>double[]</code> and the other to <code>Double[]</code>. However, <code>Double[]</code> is an array of <em>objects</em>, so any time you modify the array by setting a value to a <code>double</code>, or retrieve a <code>double</code>, boxing and unboxing will be performed, respectively.</p>\n\n<p>It is usually recommended to use <code>DoubleArray</code> instead, for speed and memory reasons.</p>\n\n<p>As an example of speed penalties due to the object wrappers, take a look at the start of <a href=\"https://stackoverflow.com/a/5199425/7366707\">this</a> post, taken from Effective Java:</p>\n\n<pre><code>public static void main(String[] args) {\n    Long sum = 0L; // uses Long, not long\n    for (long i = 0; i &lt;= Integer.MAX_VALUE; i++) {\n        sum += i;\n    }\n    System.out.println(sum);\n}\n</code></pre>\n\n<p>Replacing <code>Long</code> with <code>long</code> brings runtime from 43 seconds down to 8 seconds.</p>\n"}], "owner": {"reputation": 8388, "user_id": 1130231, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gHygY.png?s=128&g=1", "display_name": "Martin Perry", "link": "https://stackoverflow.com/users/1130231/martin-perry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2578, "favorite_count": 2, "accepted_answer_id": 49392276, "answer_count": 1, "score": 2, "last_activity_date": 1521573214, "creation_date": 1521571472, "last_edit_date": 1521572706, "question_id": 49391973, "link": "https://stackoverflow.com/questions/49391973/kotlin-use-arraydouble-or-doublearray", "title": "Kotlin - use Array&lt;Double&gt; or DoubleArray", "body": "<p>What is the main difference in these two:</p>\n\n<pre><code>val array: Array&lt;Double&gt; = arrayOf()\n</code></pre>\n\n<p>vs </p>\n\n<pre><code>val array: DoubleArray = doubleArrayOf()\n</code></pre>\n\n<p>I know that one is using primitive data type <code>double</code> and the second its object based countrepart <code>Double</code>. </p>\n\n<p>Is there any penalty or disadvatnage in using plain <code>DoubleArray</code>?</p>\n\n<hr>\n\n<p>Why I want to know:</p>\n\n<p>I am using JNI and for <code>Double</code>, I have to call</p>\n\n<pre><code> jclass doubleClass = env-&gt;FindClass(\"java/lang/Double\");\n jmethodID doubleCtor = env-&gt;GetMethodID(doubleClass, \"&lt;init&gt;\", \"(D)V\");\n jobjectArray res = env-&gt;NewObjectArray(elementCount, doubleClass, nullptr);\n\n for (int i = 0; i &lt; elementCount; i++){\n    jobject javaDouble = env-&gt;NewObject(doubleClass, doubleCtor, array[i]);\n    env-&gt;SetObjectArrayElement(res, i, javaDouble);\n    env-&gt;DeleteLocalRef(javaDouble);\n }\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>jdoubleArray res = env-&gt;NewDoubleArray(elementCount);\nenv-&gt;SetDoubleArrayRegion(res, 0, elementCount, array);\n</code></pre>\n"}, {"tags": ["generics", "lambda", "kotlin", "anonymous-function", "named-parameters"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1521568867, "post_id": 49391196, "comment_id": 85783908, "body": "What do you want to specify as the default value? The default value can only be a function from Any to Any, and there are not too many useful functions which fit this signature."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1521569214, "post_id": 49391196, "comment_id": 85784113, "body": "It seems like you can&#39;t even have an <code>(Any) -&gt; Any</code> function as the default here. Since there&#39;s generics involved, a generic <code>(A) -&gt; B</code> function is required, which then forces the caller to specify the generic types, as there&#39;s no way to infer <code>B</code>. As for the implementation of this default function, you can either cast something to <code>B</code> inside it (which <i>probably</i> won&#39;t succeed), or have it return <code>Nothing</code> (which is not what you want here)."}, {"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1521570529, "post_id": 49391196, "comment_id": 85784879, "body": "@yole, a void, Unit would be good for default value."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1521570672, "post_id": 49391196, "comment_id": 85784965, "body": "So you want <code>greeting</code> in your second example to be equal to <code>Unit</code>? How is that useful?"}, {"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1521570848, "post_id": 49391196, "comment_id": 85785086, "body": "@yole, right it&#39;s not useful, but I wanted it to be not useful if it isn&#39;t provided when calling the function. My goal is to make the second function optional, which is why I want a default lambda function to return Unit"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1521571473, "post_id": 49391196, "comment_id": 85785431, "body": "What if you made the second parameter nullable, assigned <code>null</code> to it as a default, and then returned <code>toB?.invoke(raw)</code> ?"}, {"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1521572057, "post_id": 49391196, "comment_id": 85785775, "body": "@zsmb13 Error:(16, 19) Type inference failed: Not enough information to infer parameter B in fun &lt;A, B&gt; parseInput(raw: A, toB: ((raw: A) -&gt; B)? = ...): B? Please specify it explicitly."}], "answers": [{"comments": [{"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "edited": false, "score": 0, "creation_date": 1521643981, "post_id": 49402445, "comment_id": 85820565, "body": "Overloading would work, but it is not what I am looking for. If I have some other logics need to be processed in this <code>parseInput</code>? I will have to duplicate them in the overloading functions. I could move the common logics into another function which can be called in the overloading functions <code>parseInput</code>, but that&#39;s not what I would like to do either."}, {"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "edited": false, "score": 0, "creation_date": 1521643985, "post_id": 49402445, "comment_id": 85820570, "body": "<code>parseInput(1, ::toGreeting)</code> works because toGreeting is providing the type to be returned. You are right that <code>parseInput(1)</code> fails because there is no type provided to the compiler to infer what B is. So this points back to the question, is there a way to provide a default function like toGreeting in the function signature?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "edited": false, "score": 1, "creation_date": 1521647183, "post_id": 49402445, "comment_id": 85823159, "body": "There is no way to specify a default function in such a way that the compiler would take the type arguments from that default function."}, {"owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "edited": false, "score": 0, "creation_date": 1521647417, "post_id": 49402445, "comment_id": 85823378, "body": "It would be nice if there is a way to do so!"}, {"owner": {"reputation": 23433, "user_id": 1127485, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7eccba442d1ee3ca8e4ded89b343362?s=128&d=identicon&r=PG", "display_name": "sschuberth", "link": "https://stackoverflow.com/users/1127485/sschuberth"}, "edited": false, "score": 0, "creation_date": 1616519314, "post_id": 49402445, "comment_id": 118025786, "body": "Just chiming in here that being able to do <code>fun &lt;A, B&gt; parseInput(raw : A, toB : (raw : A) -&gt; B = { it }) : B {}</code> would be great, in which case it would be clear that B is the same type as A."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 1, "last_activity_date": 1521624370, "creation_date": 1521624370, "answer_id": 49402445, "question_id": 49391196, "link": "https://stackoverflow.com/questions/49391196/how-to-set-default-lambda-function-for-named-lambda-argument-with-generics-in-ko/49402445#49402445", "title": "How to set default lambda function for named lambda argument with generics in Kotlin?", "body": "<p>Your requirements are contradictory. You want to be able to specify a function that returns a value of type B for any B (which is actually impossible by itself; the only possible such function is a function that always throws an exception), and you also want the compiler to be able to infer what B is when you haven't given the compiler any information from which it can be determined. In your example:</p>\n\n<pre><code> val greeting = parseInput(1)  \n println(greeting)\n</code></pre>\n\n<p>...there is zero information from which the compiler could determine what type the <code>greeting</code> variable needs to have. There is no logic that would substitute <code>Unit</code> or any other specific type in this case; instead, as you correctly remark in your comment, this code fails to compile.</p>\n\n<p>If you want <code>greeting</code> to be <code>Unit</code> in this case, you can achieve this by simply overloading the function:</p>\n\n<pre><code>fun &lt;A&gt; parseInput(raw: A) {\n}\n</code></pre>\n\n<p>This function will return <code>Unit</code>, giving you the exact behavior you're looking for.</p>\n"}], "owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 49402445, "answer_count": 1, "score": 1, "last_activity_date": 1521624370, "creation_date": 1521568750, "question_id": 49391196, "link": "https://stackoverflow.com/questions/49391196/how-to-set-default-lambda-function-for-named-lambda-argument-with-generics-in-ko", "title": "How to set default lambda function for named lambda argument with generics in Kotlin?", "body": "<p>This code prints \"Hello 1\". <code>parseInput</code> have two generic types, the first arg is a simple object of the first generic type A, the second arg is a function which suppose to change the generic type A to generic B. As you can see it works fine in the following.</p>\n\n<pre><code>fun toGreeting(input : Int) : String {\n    return \"hello \" + input\n}\n\nfun &lt;A, B&gt; parseInput(raw : A, toB : (raw : A) -&gt; B) : B {\n    return toB(raw)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val greeting = parseInput(1, ::toGreeting)\n    println(greeting)\n}\n</code></pre>\n\n<p>The question is how can I give a default lambda value for the second named argument in the <code>parseInput</code>. So I can call this function by just providing the first argument, and having it to use the default lambda function.</p>\n\n<pre><code>val greeting = parseInput(1)\nprintln(greeting)\n</code></pre>\n"}, {"tags": ["kotlin", "extension-function"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1521568114, "creation_date": 1521568114, "answer_id": 49390996, "question_id": 49390878, "link": "https://stackoverflow.com/questions/49390878/add-methods-to-multiple-non-inheriting-classes/49390996#49390996", "title": "Add methods to multiple non-inheriting classes", "body": "<p>What you currently have is the best you can do. If you look into the implementations of some standard library collection functions, you'll see them implemented individually for <code>Iterable</code>, <code>Sequence</code>, <code>Array</code>, and then the primitive array wrappers one by one. </p>\n\n<p>For example, the <code>groupingBy</code> functions you're calling are 3 different ones, and they can be found <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.30/libraries/stdlib/src/generated/_Arrays.kt#L8803\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.30/libraries/stdlib/src/generated/_Collections.kt#L1218\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.30/libraries/stdlib/src/generated/_Sequences.kt#L817\" rel=\"nofollow noreferrer\">here</a>. So even if you could somehow extend all these classes at the same time, you couldn't call the same <code>groupingBy</code> method on them, you'd need to handle them separately.</p>\n\n<p>In conclusion, unfortunately the answer is no, it doesn't get any better than what you have in terms of the code you'll have to have in your application at the end of the day. If you have many cases like this, consider looking into code generation for all the different cases (which is also how the standard library code is maintained).</p>\n"}], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521568114, "creation_date": 1521567685, "question_id": 49390878, "link": "https://stackoverflow.com/questions/49390878/add-methods-to-multiple-non-inheriting-classes", "title": "Add methods to multiple non-inheriting classes", "body": "<p>Is there any way to add a method to multiple classes, or reduce the amount of duplicated code needed to achieve the same.</p>\n\n<p>At the moment I use the following (in this example to add a c method which count repetitions of items in the iterable):</p>\n\n<pre><code>/** Counts each of the distinct items. */\nfun &lt;T&gt; Iterable&lt;T&gt;.c() = groupingBy { it }.eachCount()\n/** Counts each of the distinct items. */\nfun &lt;T&gt; Sequence&lt;T&gt;.c() = groupingBy { it }.eachCount()\n/** Counts each of the distinct items. */\nfun &lt;T&gt; Array&lt;T&gt;.c() = groupingBy { it }.eachCount()\n</code></pre>\n\n<p>I am wondering if there is a way to reduce the amount of code, at the moment I repeat that for all of the methods I want to be usable on any of the 3 types.</p>\n\n<p>The only way I can find is to define an interface with the common methods, and then use a class to wrap each of the types with implements the common interface, but this seems like a lot of code for something that might be possible a simpler way.</p>\n"}, {"tags": ["spring-boot", "kotlin", "java-time", "jackson2"], "comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 1, "creation_date": 1521567857, "post_id": 49390734, "comment_id": 85783249, "body": "ISO 8601 has some room for variation. I believe all of your examples conform."}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 9524466, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/98a06911abde6c15b86c4a000b24f7f4?s=128&d=identicon&r=PG", "display_name": "jeedas", "link": "https://stackoverflow.com/users/9524466/jeedas"}, "is_accepted": false, "score": 2, "last_activity_date": 1521570908, "last_edit_date": 1521570908, "creation_date": 1521568513, "answer_id": 49391137, "question_id": 49390734, "link": "https://stackoverflow.com/questions/49390734/how-to-parse-different-iso-date-time-formats-with-jackson-and-java-time/49391137#49391137", "title": "How to parse different ISO date/time formats with Jackson and java.time?", "body": "<p>One alternative is to create a custom deserializer. First you annotate the respective field:</p>\n\n<pre><code>@JsonDeserialize(using = OffsetDateTimeDeserializer.class)\nprivate OffsetDateTime date;\n</code></pre>\n\n<p>And then you create the deserializer. It uses a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\" rel=\"nofollow noreferrer\"><code>java.time.format.DateTimeFormatterBuilder</code></a>, using lots of optional sections to deal with all the different types of offsets:</p>\n\n<pre><code>public class OffsetDateTimeDeserializer extends JsonDeserializer&lt;OffsetDateTime&gt; {\n\n    private DateTimeFormatter fmt = new DateTimeFormatterBuilder()\n        // date/time\n        .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n        // offset (hh:mm - \"+00:00\" when it's zero)\n        .optionalStart().appendOffset(\"+HH:MM\", \"+00:00\").optionalEnd()\n        // offset (hhmm - \"+0000\" when it's zero)\n        .optionalStart().appendOffset(\"+HHMM\", \"+0000\").optionalEnd()\n        // offset (hh - \"+00\" when it's zero)\n        .optionalStart().appendOffset(\"+HH\", \"+00\").optionalEnd()\n        // offset (pattern \"X\" uses \"Z\" for zero offset)\n        .optionalStart().appendPattern(\"X\").optionalEnd()\n        // create formatter\n        .toFormatter();\n\n    @Override\n    public OffsetDateTime deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        return OffsetDateTime.parse(p.getText(), fmt);\n    }\n}\n</code></pre>\n\n<p>I also used the built-in constant <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.ISO_LOCAL_DATE_TIME</code></a> because it takes care of the optional fraction of seconds - and the number of fractional digits seems to be variable as well, and this built-in formatter already takes care of those details for you.</p>\n\n<hr>\n\n<p>I'm using JDK 1.8.0_144 and found a shorter (but not much) solution:</p>\n\n<pre><code>private DateTimeFormatter fmt = new DateTimeFormatterBuilder()\n    // date/time\n    .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n    // offset +00:00 or Z\n    .optionalStart().appendOffset(\"+HH:MM\", \"Z\").optionalEnd()\n    // offset +0000, +00 or Z\n    .optionalStart().appendOffset(\"+HHmm\", \"Z\").optionalEnd()\n    // create formatter\n    .toFormatter();\n</code></pre>\n\n<p>Another improvement you can make is change the formatter to be <code>static final</code>, <a href=\"https://stackoverflow.com/questions/48540562/can-i-create-only-1-static-instance-of-datetimeformatter-of-java8?rq=1#comment84077015_48540562\">because this class is immutable and thread-safe</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "edited": false, "score": 1, "creation_date": 1521627974, "post_id": 49391489, "comment_id": 85808529, "body": "I would not like to work with regex replace stuff if possible... but your second solution works great!"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "reply_to_user": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "edited": false, "score": 1, "creation_date": 1521628059, "post_id": 49391489, "comment_id": 85808586, "body": "I said it was a hack. Glad you preferred the second snippet."}], "tags": [], "owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "is_accepted": false, "score": 1, "last_activity_date": 1521570776, "last_edit_date": 1521570776, "creation_date": 1521569804, "answer_id": 49391489, "question_id": 49390734, "link": "https://stackoverflow.com/questions/49390734/how-to-parse-different-iso-date-time-formats-with-jackson-and-java-time/49391489#49391489", "title": "How to parse different ISO date/time formats with Jackson and java.time?", "body": "<p>This is just about a quarter of an answer. I neither have experience with Kotlin nor Jackson, but I have a couple of solutions in Java that I\u2019d like to contribute. I should be glad if you can fit them into a total solution somehow.</p>\n\n<pre><code>    String modifiedEx = ex.replaceFirst(\"(\\\\d{2})(\\\\d{2})$\", \"$1:$2\");\n    System.out.println(OffsetDateTime.parse(modifiedEx));\n</code></pre>\n\n<p>On my Java 9 (9.0.4) the one-arg <code>OffsetDateTime.parse</code> parses all of your example strings except the one with offset <code>+0000</code> without colon. So my hack is to insert that colon and then parse. The above parses all of your strings. It doesn\u2019t work readily in Java 8 (there were some changes from Java 8 to Java 9).</p>\n\n<p>The nicer solution that works in Java 8 too (I have tested):</p>\n\n<pre><code>    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n            .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n            .appendPattern(\"[XXX][XX][X]\")\n            .toFormatter();\n    System.out.println(OffsetDateTime.parse(ex, formatter));\n</code></pre>\n\n<p>The patterns <code>XXX</code>, <code>XX</code> and <code>X</code> match <code>+00:00</code>, <code>+0000</code> and <code>+00</code>, respectively. We need to try them in order from the longest to the shortest to make sure that all text is being parsed in all cases.</p>\n"}, {"tags": [], "owner": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "is_accepted": true, "score": 1, "last_activity_date": 1521631460, "last_edit_date": 1521631460, "creation_date": 1521630305, "answer_id": 49404643, "question_id": 49390734, "link": "https://stackoverflow.com/questions/49390734/how-to-parse-different-iso-date-time-formats-with-jackson-and-java-time/49404643#49404643", "title": "How to parse different ISO date/time formats with Jackson and java.time?", "body": "<p>Thank you very much for all your input!</p>\n\n<p>I chose the deserializer suggested by jeedas combined with the formatter suggested by Ole V.V (because it's shorter).</p>\n\n<pre><code>class DefensiveIsoOffsetDateTimeDeserializer : JsonDeserializer&lt;OffsetDateTime&gt;() {\n    private val formatter = DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n        .appendPattern(\"[XXX][XX][X]\")\n        .toFormatter()\n\n    override fun deserialize(p: JsonParser, ctxt: DeserializationContext) \n      = OffsetDateTime.parse(p.text, formatter)\n\n    override fun handledType() = OffsetDateTime::class.java\n}\n</code></pre>\n\n<p>I also added a custom serializer to make sure we use the correct format when producing json:</p>\n\n<pre><code>class OffsetDateTimeSerializer: JsonSerializer&lt;OffsetDateTime&gt;() {\n    override fun serialize(\n        value: OffsetDateTime, \n        gen: JsonGenerator, \n        serializers: SerializerProvider\n    ) = gen.writeString(value.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME))\n\n    override fun handledType() = OffsetDateTime::class.java\n}\n</code></pre>\n\n<p>Putting all the parts together, I added a <code>@Configuraton</code> class to my spring classpath to make it work without any annotations on the data classes:</p>\n\n<pre><code>@Configuration\nopen class JacksonConfig {\n\n  @Bean\n  open fun jacksonCustomizer() = Jackson2ObjectMapperBuilderCustomizer { \n    it.deserializers(DefensiveIsoOffsetDateTimeDeserializer())\n    it.serializers(OffsetDateTimeSerializer())\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 4608, "user_id": 820666, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/w8QYD.jpg?s=128&g=1", "display_name": "Bastian Voigt", "link": "https://stackoverflow.com/users/820666/bastian-voigt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1933, "favorite_count": 1, "accepted_answer_id": 49404643, "answer_count": 3, "score": 1, "last_activity_date": 1521631460, "creation_date": 1521567275, "last_edit_date": 1521631292, "question_id": 49390734, "link": "https://stackoverflow.com/questions/49390734/how-to-parse-different-iso-date-time-formats-with-jackson-and-java-time", "title": "How to parse different ISO date/time formats with Jackson and java.time?", "body": "<p>Our Rest API takes JSON input from several external parties. They all use \"ISO-ish\" formats, but the formatting of the time zone offset is slightly different. These are some of the most common formats we see:</p>\n\n<pre><code>2018-01-01T15:56:31.410Z\n2018-01-01T15:56:31.41Z\n2018-01-01T15:56:31Z\n2018-01-01T15:56:31+00:00\n2018-01-01T15:56:31+0000\n2018-01-01T15:56:31+00\n</code></pre>\n\n<p>Our stack is Spring Boot 2.0 with Jackson ObjectMapper. In our data classes we use the type <code>java.time.OffsetDateTime</code> a lot. </p>\n\n<p>Several developers have tried to achieve a solution that parses all of the above formats, none have been successful. Particularly the fourth variant with a colon (<code>00:00</code>) seems to be unparseable.</p>\n\n<p>It would be great if the solution works without having to place an annotation on each and every date/time field of our models.</p>\n\n<p>Dear community, do you have a solution?</p>\n"}, {"tags": ["android", "kotlin", "rx-java"], "answers": [{"comments": [{"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1521564125, "post_id": 49389666, "comment_id": 85780990, "body": "Thanks, that worked. Its easy to read the java code. However, Where are the return statements in the kotlin code?"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "reply_to_user": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 2, "creation_date": 1521564368, "post_id": 49389666, "comment_id": 85781140, "body": "it still there. Last value of a lambda is the implicit return."}], "tags": [], "owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "is_accepted": true, "score": 3, "last_activity_date": 1521563833, "creation_date": 1521563833, "answer_id": 49389666, "question_id": 49389621, "link": "https://stackoverflow.com/questions/49389621/trying-to-convert-a-kotlin-method-to-java-that-uses-rxjava/49389666#49389666", "title": "Trying to convert a kotlin method to java that uses RxJava", "body": "<p>because it is missing the return statement. It should be</p>\n\n<pre><code>public Single&lt;State&gt; call(final Response response) {\n     return Single.fromCallable(new Callable&lt;State&gt;() {\n</code></pre>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 49389666, "answer_count": 1, "score": 0, "last_activity_date": 1521563833, "creation_date": 1521563682, "question_id": 49389621, "link": "https://stackoverflow.com/questions/49389621/trying-to-convert-a-kotlin-method-to-java-that-uses-rxjava", "title": "Trying to convert a kotlin method to java that uses RxJava", "body": "<pre><code>Android Studio 3.1 RC 2\nkotlin 1.2.30\n</code></pre>\n\n<p>Signature for the fetchMessage </p>\n\n<pre><code>Single&lt;Response&gt; fetchMessage(final String messageId);\n</code></pre>\n\n<p>The kotlin code that I am trying to convert to Java. However, I am not sure where the returns are? As I am new to kotlin and lambda.</p>\n\n<pre><code>private fun getMessage(messageId: String): Observable&lt;State&gt; {\n        return repository\n                .fetchMessage(messageId)\n                .flatMap {\n                    Single.fromCallable&lt;State&gt;({\n                        update(messageId, it, State.COMPLETED)\n                        State.COMPLETED\n                    })\n                }\n                .toObservable()\n}\n</code></pre>\n\n<p>This is my attempt at trying to convert it. However, the compiler complains of a missing return.</p>\n\n<pre><code>public Observable&lt;TranslationChatState&gt; translate(String messageId) {\n        return repository\n                .fetchMessage(messageId)\n                .flatMap(new Func1 &lt;Response, Single&lt;State &gt;&gt;() {\n                    @Override\n                    public Single&lt;State&gt; call(final Response response) {\n                        Single.fromCallable(new Callable&lt;State&gt;() {\n                            @Override\n                            public State call() {\n                                update(messageId, response, State.COMPLETED);\n                                return State.COMPLETED;\n                            }\n                        });\n                    } /* complains about no return here */\n                })\n                .toObservable();\n}\n</code></pre>\n\n<p>Many thanks for any suggestions,</p>\n"}, {"tags": ["java", "gradle", "kotlin", "jacoco"], "comments": [{"owner": {"reputation": 13949, "user_id": 1499296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fbd251ed4408d2a4aa6dbc52bb7389b?s=128&d=identicon&r=PG&f=1", "display_name": "AKS", "link": "https://stackoverflow.com/users/1499296/aks"}, "edited": false, "score": 1, "creation_date": 1521593093, "post_id": 49388824, "comment_id": 85794585, "body": "Are you doing <code>apply plugin: Jacoco</code> at the correct project level or higher level build.gradle file? <a href=\"https://stackoverflow.com/questions/29097393/gradle-jacocotestreport-is-not-working\" title=\"gradle jacocotestreport is not working\">stackoverflow.com/questions/29097393/&hellip;</a>"}, {"owner": {"reputation": 13949, "user_id": 1499296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8fbd251ed4408d2a4aa6dbc52bb7389b?s=128&d=identicon&r=PG&f=1", "display_name": "AKS", "link": "https://stackoverflow.com/users/1499296/aks"}, "edited": false, "score": 0, "creation_date": 1521593929, "post_id": 49388824, "comment_id": 85794775, "body": "or try changing that to <code>task jacocoTestReport(type:JacocoReport, dependsOn: &quot;testDebugUnitTest&quot;) &lt;&lt; { </code>"}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1521683823, "post_id": 49388824, "comment_id": 85840062, "body": "Take a look at my response here. <a href=\"https://stackoverflow.com/questions/49372067/cannot-add-task-jacocotestreport-as-a-task-with-that-name-already-exists/49374833#49374833\" title=\"cannot add task jacocotestreport as a task with that name already exists\">stackoverflow.com/questions/49372067/&hellip;</a>. I suspect that a newer version of the jacoco plugin now defines that task rather than relying on every build to define it manually."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1521683858, "post_id": 49388824, "comment_id": 85840072, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/49372067/cannot-add-task-jacocotestreport-as-a-task-with-that-name-already-exists\">Cannot add task &#39;:jacocoTestReport&#39; as a task with that name already exists</a>"}], "owner": {"reputation": 780, "user_id": 5261088, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8256e8a248d8bcde285d3b97f77e36b0?s=128&d=identicon&r=PG&f=1", "display_name": "MickeyThreeSheds", "link": "https://stackoverflow.com/users/5261088/mickeythreesheds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3097, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1521561496, "creation_date": 1521561496, "question_id": 49388824, "link": "https://stackoverflow.com/questions/49388824/could-not-find-method-jacocotestreport-for-arguments-type-class-org-gradle-t", "title": "Could not find method jacocoTestReport() for arguments [{type=class org.gradle.testing.jacoco.tasks.JacocoReport, dependsOn=testDebugUnitTest}", "body": "<p>I am following along with this tutorial to try and get test coverage metrics in my java + kotlin project which is built with gradle : </p>\n\n<p><a href=\"http://Could%20not%20find%20method%20jacocoTestReport()%20for%20arguments%20[%7Btype=class%20org.gradle.testing.jacoco.tasks.JacocoReport,%20dependsOn=testDebugUnitTest%7D\" rel=\"nofollow noreferrer\">http://vgaidarji.me/blog/2017/12/20/how-to-configure-jacoco-for-kotlin-and-java-project/</a></p>\n\n<p>I copy and pasted each block in, to avoid any syntax errors on my part - and am getting the following error : </p>\n\n<pre><code>Could not find method jacocoTestReport() for arguments [{type=class org.gradle.testing.jacoco.tasks.JacocoReport, dependsOn=testDebugUnitTest}\n</code></pre>\n\n<p>The only thing I do differently from the tutorial is drop 'task' from the line which is the signature of jacocoTestReport... because if I have it - the plugin cries that the task cannot be added, as it is already defined - as per the documentation, I removed it - so that it extends the one provided by the plugin.</p>\n\n<p>Has anyone else seen this? I could really use some help - as it wont work no matter what I do. Also, this is a straight java + kotlin project, not android.</p>\n"}, {"tags": ["spring", "spring-boot", "reflection", "annotations", "kotlin"], "comments": [{"owner": {"reputation": 190, "user_id": 5125986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WoUcE.jpg?s=128&g=1", "display_name": "Tonney Bing", "link": "https://stackoverflow.com/users/5125986/tonney-bing"}, "edited": false, "score": 0, "creation_date": 1521609101, "post_id": 49388214, "comment_id": 85798536, "body": "when the method of Thing was invoked, then notify the method of @Listener annotation?    you mean?"}, {"owner": {"reputation": 3499, "user_id": 2535024, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d3tTo.jpg?s=128&g=1", "display_name": "andrew", "link": "https://stackoverflow.com/users/2535024/andrew"}, "reply_to_user": {"reputation": 190, "user_id": 5125986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WoUcE.jpg?s=128&g=1", "display_name": "Tonney Bing", "link": "https://stackoverflow.com/users/5125986/tonney-bing"}, "edited": false, "score": 0, "creation_date": 1521619838, "post_id": 49388214, "comment_id": 85803421, "body": "I have another service that receives some data of different types from an external service. Every time I get a new data, I parse it and then I want to call all the functions with the <code>@Listener</code> annotation and with a parameter of the type I just received"}, {"owner": {"reputation": 877, "user_id": 10323800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BNzS6.png?s=128&g=1", "display_name": "Mahmoud Odeh", "link": "https://stackoverflow.com/users/10323800/mahmoud-odeh"}, "edited": false, "score": 0, "creation_date": 1613560146, "post_id": 49388214, "comment_id": 117109989, "body": "it would be much easier and controllable with spring AOP"}], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 7347206, "user_type": "registered", "profile_image": "https://graph.facebook.com/1275138099199598/picture?type=large", "display_name": "Mahmoud Turki", "link": "https://stackoverflow.com/users/7347206/mahmoud-turki"}, "is_accepted": false, "score": -1, "last_activity_date": 1550748072, "creation_date": 1550748072, "answer_id": 54805893, "question_id": 49388214, "link": "https://stackoverflow.com/questions/49388214/spring-boot-get-all-methods-with-custom-annotation/54805893#54805893", "title": "Spring Boot - Get all methods with custom annotation", "body": "<p>you can use org.reflections of java :</p>\n\n<p><code>Set&lt;Method&gt; allMethods = new Reflections().getMethodsAnnotatedWith(yourAnnotation.class);</code></p>\n\n<pre><code>for (Method m : allMethods) {\n    if (m.isAnnotationPresent(yourAnnotation.class)) {\n    //YOUR LOGIC\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15226824, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/84ae578ff39321ade1f5d51e675c2779?s=128&d=identicon&r=PG", "display_name": "user15226824", "link": "https://stackoverflow.com/users/15226824/user15226824"}, "is_accepted": false, "score": 0, "last_activity_date": 1613559703, "last_edit_date": 1613559703, "creation_date": 1613556574, "answer_id": 66239781, "question_id": 49388214, "link": "https://stackoverflow.com/questions/49388214/spring-boot-get-all-methods-with-custom-annotation/66239781#66239781", "title": "Spring Boot - Get all methods with custom annotation", "body": "<p>You can use the following:</p>\n<pre><code>Set&lt;Method&gt; methodsAnnotatedWith = new Reflections(&quot;com.example.spring.aop.api&quot;, new MethodAnnotationsScanner()).getMethodsAnnotatedWith(BusinessFunction.class);\n</code></pre>\n"}], "owner": {"reputation": 3499, "user_id": 2535024, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d3tTo.jpg?s=128&g=1", "display_name": "andrew", "link": "https://stackoverflow.com/users/2535024/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1305, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1613559703, "creation_date": 1521559657, "last_edit_date": 1521560720, "question_id": 49388214, "link": "https://stackoverflow.com/questions/49388214/spring-boot-get-all-methods-with-custom-annotation", "title": "Spring Boot - Get all methods with custom annotation", "body": "<p>I have a custom annotation:</p>\n\n<pre><code>@Target(AnnotationTarget.FUNCTION)\n@Retention(AnnotationRetention.RUNTIME)\n@MustBeDocumented\nannotation class Listener\n</code></pre>\n\n<p>Used like this:</p>\n\n<pre><code>@Service\nclass MyService {\n\n   @Listener\n   fun onNewThing(thing: Thing) {\n       ...\n   }\n}\n</code></pre>\n\n<p>In another service, every time something happen, I want to call each function annotated with <code>@Listener</code> and with a parameter of type <code>Thing</code>.\nHow can I do it without looping through all the beans in the context and checking all the methods?</p>\n"}, {"tags": ["arrays", "for-loop", "multidimensional-array", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1521563219, "last_edit_date": 1521563219, "creation_date": 1521562878, "answer_id": 49389340, "question_id": 49388031, "link": "https://stackoverflow.com/questions/49388031/navigating-multidimensional-arrays-with-nested-for-loops-in-kotlin/49389340#49389340", "title": "Navigating multidimensional arrays with nested for-loops in Kotlin", "body": "<p>This is one way of creating your array in Kotlin, without using <code>i</code> (or <code>for</code> loops):    </p>\n\n<pre><code>val data = (0 until nrow).flatMap { r -&gt;\n    (0 until ncol).map { c -&gt;\n        (r * c).toDouble()\n    }\n}.toDoubleArray()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 4, "last_activity_date": 1521672290, "last_edit_date": 1521672290, "creation_date": 1521562923, "answer_id": 49389361, "question_id": 49388031, "link": "https://stackoverflow.com/questions/49388031/navigating-multidimensional-arrays-with-nested-for-loops-in-kotlin/49389361#49389361", "title": "Navigating multidimensional arrays with nested for-loops in Kotlin", "body": "<h1>The simple way</h1>\n\n<p>You can calculate the index based on the offsets...</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) {\n    val nrow = 1000\n    val ncol = 1000\n    val size = nrow * ncol\n    val data = DoubleArray(size)\n\n    for(r in 0 until nrow) {\n        for(c in 0 until ncol) {\n            data[(ncol*r) + c] = (r * c).toDouble()\n        }\n    }\n}\n</code></pre>\n\n<h1>The wrapper way</h1>\n\n<p>You can wrap the array, simplifying access...</p>\n\n<pre><code>class ArrayWrapper&lt;T&gt;(val height: Int, val width: Int, val default: Int) {\n    private val data: Array&lt;Any?&gt; = Array(height, {default})\n    operator fun get(x: Int, y: Int) = data[(width * y) + x] as T\n    operator fun set(x: Int, y: Int, value: T) {\n        data[(width * y) + x] = value\n    }\n\n    val rowIndices = (0 until width)\n    val columnIndices = (0 until height)\n}\n\nfun main(args : Array&lt;String&gt;) {\n    val nrow = 1000\n    val ncol = 1000\n    val data = ArrayWrapper&lt;Double&gt;(nrow, ncol, 0)\n\n    for(r in data.rowIndices) {\n        for(c in data.columnIndices) {\n            data[r, c] = (r * c).toDouble()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 419, "user_id": 7394973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4Vu2l.jpg?s=128&g=1", "display_name": "J.E.Tkaczyk", "link": "https://stackoverflow.com/users/7394973/j-e-tkaczyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1521731138, "creation_date": 1521731138, "answer_id": 49432061, "question_id": 49388031, "link": "https://stackoverflow.com/questions/49388031/navigating-multidimensional-arrays-with-nested-for-loops-in-kotlin/49432061#49432061", "title": "Navigating multidimensional arrays with nested for-loops in Kotlin", "body": "<p>Here is the answer I mentioned involving division and modulo</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) {\n    val nrow = 1000\n    val ncol = 1000\n    val size = nrow * ncol\n    val data=DoubleArray(size,{(it/ncol * it%ncol).toDouble()})\n}\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 7394973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4Vu2l.jpg?s=128&g=1", "display_name": "J.E.Tkaczyk", "link": "https://stackoverflow.com/users/7394973/j-e-tkaczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4029, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1521731138, "creation_date": 1521559127, "question_id": 49388031, "link": "https://stackoverflow.com/questions/49388031/navigating-multidimensional-arrays-with-nested-for-loops-in-kotlin", "title": "Navigating multidimensional arrays with nested for-loops in Kotlin", "body": "<p>Quite often I am navigating a two-dimensional image matrix of pixels or a three-dimensional volumetric data set.  Typically the underlying data structure is a one-dimensional array of some primitive type like <code>Double</code> or <code>Int</code>.  The multi-dimensional nature is navigated through by nested for-loops as illustrated below.  </p>\n\n<p>Given that Kotlin does not currently support the typically C and Java-like for-loop structure, there seems some lost flexibility.  I'm wondering if there is a clever iterator or Kotlin syntax to make this more elegant.</p>\n\n<p>In Java below, we have the ability to capture the whole iteration concisely by embedding the master index <code>i</code> into the for-loops and only involving implicit increment operations which are presumably computationally efficient (compared to division and modulo)...</p>\n\n<pre><code>public static void main(String[] args) {\n    int nrow=1000, ncol=1000;\n    int size=nrow*ncol;\n    double[] data = new double[size];\n\n    for (int i=0, r = 0; r &lt; nrow; r++) {\n        for (int c = 0; c &lt; ncol; c++,i++) {\n            data[i]= r*c;\n        }\n    }\n}\n</code></pre>\n\n<p>In Kotlin as follows, I find a solution where the index <code>i</code> is forced to have scope outside the loop block.  Also the <code>i++</code> line is somewhat buried and separated from the loop structure.  I'm missing in this situation the elegant Kotlin syntax such as 'builders', no semi-colons, etc. I humbly submit that this is because the for-loop flow-control structure is less expressive in Kotlin.  Admittedly, this is not critical, but more of a disappointment.</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) {\n    val nrow = 1000\n    val ncol = 1000\n    val size = nrow * ncol\n    val data = DoubleArray(size)\n\n    var i = 0\n    for(r in 0 until nrow) {\n        for(c in 0 until ncol) {\n            data[i] = (r * c).toDouble()\n            i++\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "spring-data-jpa"], "answers": [{"tags": [], "owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1521619030, "creation_date": 1521619030, "answer_id": 49400892, "question_id": 49387612, "link": "https://stackoverflow.com/questions/49387612/how-can-i-use-generics-to-create-spring-boot-service-classes/49400892#49400892", "title": "How can I use generics to create Spring Boot Service classes", "body": "<p>I finally ended up using Composition instead of inheritance to create the concrete Service classes. </p>\n\n<pre><code>interface LoggingEventBaseService&lt;T : LoggingEventBaseEntity&gt; {\n    fun retrieveLogs(): List&lt;T&gt;    \n    fun retrieveLog(id: Long): T?    \n    fun addLog(loggingEvent: T): T\n}\n\ninterface LoggingEventLogService : LoggingEventBaseService&lt;LoggingEventLogEntity&gt;\n\ninterface LoggingEventExceptionService : LoggingEventBaseService&lt;LoggingEventExceptionEntity&gt;\n\n\nclass LoggingEventBaseServiceJPA&lt;E : LoggingEventBaseEntity&gt;(\n        private val loggingEventRepository: LoggingEventBaseRepository&lt;E&gt;) : LoggingEventBaseService&lt;E&gt; {\n\n    override fun retrieveLogs(): List&lt;E&gt; = loggingEventRepository.findAll().toList()\n\n    override fun retrieveLog(id: Long): E? = loggingEventRepository.findById(id).orElse(null)\n\n    override fun addLog(loggingEvent: E): E {\n        loggingEvent.properties.forEach {\n            it.loggingEvent = loggingEvent\n        }\n\n        loggingEvent.messageContentLogging?.let {\n            it.loggingEvent = loggingEvent\n        }\n\n        return loggingEventRepository.save(loggingEvent)\n    }\n}\n\n@Service\n@Transactional\nclass LoggingEventLogServiceJPA(loggingEventRepository: LoggingEventLogRepository)\n    : LoggingEventLogService {\n\n    private val base = LoggingEventBaseServiceJPA(loggingEventRepository)\n\n    override fun retrieveLogs(): List&lt;LoggingEventLogEntity&gt; {\n        return base.retrieveLogs()\n    }\n\n    override fun retrieveLog(id: Long): LoggingEventLogEntity? {\n        return base.retrieveLog(id)\n    }\n\n    override fun addLog(loggingEvent: LoggingEventLogEntity): LoggingEventLogEntity {\n        return base.addLog(loggingEvent)\n    }\n}\n</code></pre>\n\n<p>The base service class is just a plain POKO, without any annotations. </p>\n\n<p>The concrete implementations have the <code>@Service</code> and <code>@Transactional</code> annotations, making them discoverable by Spring. </p>\n\n<p>This way I still get some duplicate code, but also a lot of freedom when a Subclass would need just a bit of other functionality.</p>\n"}], "owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521619030, "creation_date": 1521557999, "last_edit_date": 1521611293, "question_id": 49387612, "link": "https://stackoverflow.com/questions/49387612/how-can-i-use-generics-to-create-spring-boot-service-classes", "title": "How can I use generics to create Spring Boot Service classes", "body": "<p>I would like to use generics to create an abstract service that can be subclassed</p>\n\n<p>So far I have created 3 entities:</p>\n\n<pre><code>@Inheritance(strategy = InheritanceType.JOINED)\n@Entity\n@Table(name = \"logging_event_base\")\nabstract class LoggingEventBaseEntity constructor(\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = \"id\")\n        val id: Long = -1,\n\n        @Column(name = \"tracking_id\")\n        private val trackingID: String = \"\",\n\n        @Column(name = \"descriptive_message\")\n        private val descriptiveMessage: String = \"\",\n\n        @Column(name = \"message_code\")\n        private val messageCode: String = \"\",\n\n        @Column(name = \"time_stamp\")\n        private val timeStamp: LocalDateTime = LocalDateTime.now(),\n\n        @OneToOne(mappedBy = \"loggingEvent\", cascade = [(CascadeType.ALL)])\n        val messageContentLogging: LoggingEventContentEntity? = null) {\n\n    @OneToMany(mappedBy = \"loggingEvent\", cascade = [(CascadeType.ALL)])\n    private val _properties: MutableSet&lt;LoggingEventPropertyEntity&gt; = mutableSetOf()\n\n    val properties: Set&lt;LoggingEventPropertyEntity&gt;\n        get() = _properties\n\n    fun addProperty(property: LoggingEventPropertyEntity) {\n        this._properties.add(property)\n    }\n\n    fun addProperty(name: String, value: String) {\n        this.addProperty(LoggingEventPropertyEntity(name = name, value = value))\n    }\n}\n\n@Entity\n@Table(name = \"logging_event_log\")\nclass LoggingEventLogEntity(\n        id: Long = -1, trackingID: String = \"\", descriptiveMessage: String = \"\",\n        messageCode: String = \"\", timeStamp: LocalDateTime = LocalDateTime.now(),\n        messageContentLogging: LoggingEventContentEntity? = null,\n\n        @Column(name = \"log_level\")\n        var logLevel: String = \"\",\n\n        @Column(name = \"log_status\")\n        var logStatus: String = \"\")\n    : LoggingEventBaseEntity(id, trackingID, descriptiveMessage, messageCode, timeStamp, messageContentLogging) {  }\n\n@Entity\n@Table(name = \"logging_event_exception\")\nclass LoggingEventExceptionEntity(\n        id: Long = -1, trackingID: String = \"\", descriptiveMessage: String = \"\",\n        messageCode: String = \"\", timeStamp: LocalDateTime = LocalDateTime.now(),\n        messageContentLogging: LoggingEventContentEntity? = null,\n\n        @Column(name = \"error_type\")\n        val errorType: ErrorEventTypes = ErrorEventTypes.UNKNOWN,\n\n        @Column(name = \"status\")\n        val status: ErrorEventStatuses = ErrorEventStatuses.OPEN,\n\n        @Column(name = \"stack_trace\")\n        val stackTrace: String = \"\")\n    : LoggingEventBaseEntity(id, trackingID, descriptiveMessage, messageCode, timeStamp, messageContentLogging) {}\n</code></pre>\n\n<p>3 repositories:</p>\n\n<pre><code>@NoRepositoryBean\ninterface LoggingEventBaseRepository&lt;T : LoggingEventBaseEntity&gt; : CrudRepository&lt;T, Long&gt;\n\n@Transactional\ninterface LoggingEventRepository : LoggingEventBaseRepository&lt;LoggingEventBaseEntity&gt;\n\n@Transactional\ninterface LoggingEventLogRepository : LoggingEventBaseRepository&lt;LoggingEventLogEntity&gt;\n\n@Transactional\ninterface LoggingEventExceptionRepository : LoggingEventBaseRepository&lt;LoggingEventExceptionEntity&gt;\n</code></pre>\n\n<p>And 3 service interfaces:</p>\n\n<pre><code>interface LoggingEventBaseService&lt;T : LoggingEventBaseEntity&gt; {\n    fun retrieveLogs(): List&lt;T&gt;\n\n    fun retrieveLog(id: Long): T?\n\n    fun addLog(loggingEvent: T): T\n}\n\ninterface LoggingEventLogService : LoggingEventBaseService&lt;LoggingEventLogEntity&gt;\n\ninterface LoggingEventExceptionService : LoggingEventBaseService&lt;LoggingEventExceptionEntity&gt;\n</code></pre>\n\n<p>Which should be implemented with the following classes:</p>\n\n<pre><code>@Service\n@Transactional\nclass LoggingEventBaseServiceJPA&lt;E: LoggingEventBaseEntity, out R: LoggingEventBaseRepository&lt;E&gt;&gt;(\n        val loggingEventRepository: R,\n        val logPropertyRepository: LoggingEventPropertyRepository,\n        val logMessageContentRepository: LoggingEventContentRepository) : LoggingEventLogService {\n\n    override fun retrieveLogs(): E = loggingEventRepository.findAll().toList()\n\n    override fun retrieveLog(id: Long): E? = loggingEventRepository.findById(id).orElse(null)\n\n    override fun addLog(loggingEvent: E): LoggingEventLogEntity {\n        loggingEvent.properties.forEach {\n            it.loggingEvent = loggingEvent\n            logPropertyRepository.save(it)\n        }\n\n        loggingEvent.messageContentLogging?.let { logMessageContentRepository.save(it) }\n\n        return loggingEventRepository.save(loggingEvent)\n    }\n}\n\n\n\n@Service\n@Transactional\nclass LoggingEventLogServiceJPA: LoggingEventBaseServiceJPA&lt;LoggingEventLogEntity, LoggingEventLogRepository&gt;, LoggingEventLogService\n\n@Service\n@Transactional\nclass LoggingEventExceptionServiceJPA: LoggingEventBaseServiceJPA&lt;LoggingEventExceptionEntity, LoggingEventExceptionRepository&gt;, LoggingEventLogService\n</code></pre>\n\n<p>I'm running into a couple of issues here:</p>\n\n<ol>\n<li>In the <code>LoggingEventBaseServiceJPA</code> constructor <code>val loggingEventRepository: R</code> shows an error <code>Could not autowire. No beans of 'R' type found</code></li>\n<li><code>override fun retrieveLogs(): E = loggingEventRepository.findAll().toList()</code> shows an error <code>Return type is 'E', which is not subtype of overwridden</code></li>\n<li>The same error is show on <code>override fun retrieveLog(id: Long): E? = loggingEventRepository.findById(id).orElse(null)</code></li>\n<li>Because I subclass <code>LoggingEventBaseServiceJPA</code>, the parameters should be passed to this superclass. This does make sense, but this should be solved using autowiring in some way. </li>\n</ol>\n\n<p>Does anyone know what would be a proper approach in these situations, where the Entity is subclassed, so the Repositories and Services need to have subclasses too? The goal in this case is to keep everything as DRY and maintainable as possible.</p>\n\n<p>It might be that I took a complete wrong approach from the start, so please let me know if you think that is the case.</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 2379, "user_id": 519035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f372079010c5f7b9728c0e5c5635f9c7?s=128&d=identicon&r=PG&f=1", "display_name": "AbstractVoid", "link": "https://stackoverflow.com/users/519035/abstractvoid"}, "edited": false, "score": 0, "creation_date": 1575023404, "post_id": 49387574, "comment_id": 104438201, "body": "combobox cellFormat is exactly what I needed for translation of combobox values, thank you!"}], "tags": [], "owner": {"reputation": 151, "user_id": 2618498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002918245927/picture?type=large", "display_name": "Valery  Kulikov", "link": "https://stackoverflow.com/users/2618498/valery-kulikov"}, "is_accepted": false, "score": 3, "last_activity_date": 1521557897, "creation_date": 1521557897, "answer_id": 49387574, "question_id": 49387111, "link": "https://stackoverflow.com/questions/49387111/how-to-bind-itemviewmodel-to-the-combobox-and-to-the-entire-form/49387574#49387574", "title": "How to bind ItemViewModel to the combobox and to the entire form?", "body": "<p><em>Here is the answer from tornadofx author:</em></p>\n\n<hr>\n\n<p>Here you go:</p>\n\n<pre><code>class User() {\n    constructor(name: String, type: Int, isAdmin: Boolean): this() {\n        this.name = name\n        this.type = type\n        this.isAdmin = isAdmin\n    }\n\n    val nameProperty = SimpleStringProperty()\n    var name by nameProperty\n\n    val typeProperty = SimpleIntegerProperty()\n    var type by typeProperty\n\n    val isAdminProperty = SimpleBooleanProperty()\n    var isAdmin by isAdminProperty\n\n    val passwordProperty = SimpleStringProperty()\n    var password by passwordProperty\n}\n\nclass UserModel(user: User? = null) : ItemViewModel&lt;User&gt;(user) {\n    val name = bind(User::nameProperty)\n    val type = bind(User::typeProperty)\n    val isAdmin = bind(User::isAdminProperty)\n    val password = bind(User::passwordProperty)\n}\n\n\nclass ChooseUserView : View() {\n    val ctrl: ChooseUserCtrl by inject()\n    val selectedUser = UserModel(ctrl.users.first())\n\n    override val root = form {\n        fieldset(\"Choose user\") {\n            field(\"Name\") {\n                combobox(selectedUser.itemProperty, ctrl.users) {\n                    cellFormat {\n                        text = it.name\n                    }\n                }\n            }\n\n            field(\"Psw\") {\n                visibleWhen(selectedUser.isAdmin)\n                textfield(selectedUser.password)\n            }\n        }\n    }\n\n}\n\nclass ChooseUserCtrl : Controller() {\n    val users = FXCollections.observableArrayList&lt;User&gt;()\n\n    init {\n        users.add(User(\"disp\", 1, false))\n        users.add(User(\"admin\", 2, true))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 2618498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002918245927/picture?type=large", "display_name": "Valery  Kulikov", "link": "https://stackoverflow.com/users/2618498/valery-kulikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1578256296, "creation_date": 1521556648, "last_edit_date": 1578256296, "question_id": 49387111, "link": "https://stackoverflow.com/questions/49387111/how-to-bind-itemviewmodel-to-the-combobox-and-to-the-entire-form", "title": "How to bind ItemViewModel to the combobox and to the entire form?", "body": "<p>I have class <code>User</code> and <code>ItemViewModel</code> for it.</p>\n\n<pre><code>class User(name: String, type: Int, isAdmin: Boolean) {\n\n    var name by property&lt;String&gt;(name)\n    fun nameProperty() = getProperty(User::name)\n\n    var type by property&lt;Int&gt;(type)\n    fun typeProperty() = getProperty(User::type)\n\n    var isAdmin by property&lt;Boolean&gt;(isAdmin)\n    fun isAdminProperty() = getProperty(User::isAdmin)\n\n}\n\nclass UserModel : ItemViewModel&lt;User&gt;() {\n    val name = bind { item?.nameProperty() }\n    val type = bind { item?.typeProperty() }\n    val isAdmin = bind { item?.isAdminProperty() }\n}\n</code></pre>\n\n<p>In addition i have <code>View</code> with <code>Form</code> and <code>Controller</code></p>\n\n<pre><code>class ChooseUserView : View() {\n\n    val ctrl: ChooseUserCtrl by inject()\n\n    override val root = form {\n\n        fieldset(\"Choose user\") {\n\n            field(\"Name\") {\n                combobox&lt;User&gt; {\n                    items = ctrl.users\n                    selectionModel.select(0)\n                }\n            }\n\n            field(\"Psw\") {\n                textfield {\n                    whenVisible {\n                        ctrl.model.isAdmin\n                    }\n                }\n            }\n        }\n    }\n\n}\n\nclass ChooseUserCtrl : Controller() {\n\n    val view: ChooseUserView by inject()\n\n    val users = FXCollections.observableArrayList&lt;User&gt;()\n    val model = UserModel()\n\n    init {\n        users.add(User(\"disp\", 1, false))\n        users.add(User(\"admin\", 2, true))\n    }\n\n}\n</code></pre>\n\n<p>I'd like to bind user list to form so  </p>\n\n<ol>\n<li>In combobox i wanna see names, not addresses like these\n<img src=\"https://user-images.githubusercontent.com/3320861/37660315-eeb33f62-2c73-11e8-8dc0-298cf0710753.png\" alt=\"image\"></li>\n<li>When <code>combobox</code> index is changing i'd like to see bind enabling of <code>textfield(\"Psw\")</code> based on boolean property <code>isAdmin</code>.</li>\n</ol>\n"}, {"tags": ["android", "kotlin", "android-volley"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1521557525, "post_id": 49386954, "comment_id": 85776054, "body": "Using the <code>onResponse</code> is best practice for simple updates. If you dont want to update the UI directly use MVP or MVVM and update your model in the onRespone callback. The callback is executed on the UI-thread. If you want a more &#39;elaborate&#39; way look into <a href=\"https://developer.android.com/topic/libraries/architecture/livedata.html\" rel=\"nofollow noreferrer\">LiveData</a>"}, {"owner": {"reputation": 85, "user_id": 5470121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058f5d9c3e8e72745049070a1c3129fe?s=128&d=identicon&r=PG", "display_name": "NitricWare", "link": "https://stackoverflow.com/users/5470121/nitricware"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1521558542, "post_id": 49386954, "comment_id": 85776863, "body": "But using <code>onResponse</code> for UI updates would force me to include the data-fetching-function in the main class which takes away a lot of reusability."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1521562442, "post_id": 49386954, "comment_id": 85779792, "body": "<a href=\"https://proandroiddev.com/mvvm-architecture-viewmodel-and-livedata-part-1-604f50cda1\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1521563204, "post_id": 49386954, "comment_id": 85780357, "body": "If you want it easy, do it this way. If you want it <i>nice</i> you have to learn how to use a pattern like MVVM correctly. There are many resources (including SO) that explain these pattern already. If you have more questions you should ask a new (specific) question instead of editing this one."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5470121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058f5d9c3e8e72745049070a1c3129fe?s=128&d=identicon&r=PG", "display_name": "NitricWare", "link": "https://stackoverflow.com/users/5470121/nitricware"}, "edited": false, "score": 0, "creation_date": 1521558796, "post_id": 49387768, "comment_id": 85777055, "body": "Thank&#39;s for you answer! No need to excuse!  As I said before: Part One does not solve my dilemma, as it tells me to have UI updating and data fetching mixed up. Also it does not really tell me how I could achieve it using a seperate class for the data fetching.  Part Two is indeed very general, but it points to some interesting directions.  It fascinates me, that something so common is solved so complicated..."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 85, "user_id": 5470121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058f5d9c3e8e72745049070a1c3129fe?s=128&d=identicon&r=PG", "display_name": "NitricWare", "link": "https://stackoverflow.com/users/5470121/nitricware"}, "edited": false, "score": 0, "creation_date": 1521561959, "post_id": 49387768, "comment_id": 85779470, "body": "It already uses a separate class for fetching the data. Also if you read the guide from the Architecture Components it should become clear how to use View, Model and ViewModel."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 85, "user_id": 5470121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058f5d9c3e8e72745049070a1c3129fe?s=128&d=identicon&r=PG", "display_name": "NitricWare", "link": "https://stackoverflow.com/users/5470121/nitricware"}, "edited": false, "score": 0, "creation_date": 1521562979, "post_id": 49387768, "comment_id": 85780206, "body": "I see that the example code you gave does not follow a pattern like MVVM. For a simple example of how MVVM can be done look at this: <a href=\"https://github.com/erikcaffrey/People-MVVM/tree/master/app/src/main/java/com/example/jhordan/people_mvvm\" rel=\"nofollow noreferrer\">github.com/erikcaffrey/People-MVVM/tree/master/app/src/main/&zwnj;&#8203;&hellip;</a> (doesnt use the architecture components, but it is easier to understand how it works  in principle that way)"}, {"owner": {"reputation": 85, "user_id": 5470121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058f5d9c3e8e72745049070a1c3129fe?s=128&d=identicon&r=PG", "display_name": "NitricWare", "link": "https://stackoverflow.com/users/5470121/nitricware"}, "edited": false, "score": 0, "creation_date": 1521574779, "post_id": 49387768, "comment_id": 85787178, "body": "Thanks for the link to the repo and the tutorials! I&#39;ll definitely have a look at them!"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 0, "last_activity_date": 1521565694, "last_edit_date": 1521565694, "creation_date": 1521558440, "answer_id": 49387768, "question_id": 49386954, "link": "https://stackoverflow.com/questions/49386954/how-to-update-the-ui-after-an-asynchronous-task-in-an-extra-class-has-finished-u/49387768#49387768", "title": "How to update the UI after an asynchronous task in an extra class has finished using Kotlin?", "body": "<p><strong>First part:</strong></p>\n\n<blockquote>\n  <p>As so many apps are doing just what I want to achieve, this must be an easy task. Any app fetching data from the internet needs exactly what I'm asking for. So I must be missing something.</p>\n</blockquote>\n\n<p>Using the <code>onResponse</code> is best practice for simple updates. The callback is executed on the UI-thread. This is sufficient for small apps and transient data. <strong>This is the easy way.</strong></p>\n\n<p><strong>Second part</strong></p>\n\n<p>How to use a separate class: It already uses a separate class. The <code>StringRequest</code> is an anonymous inner class.</p>\n\n<p><strong>Third part</strong></p>\n\n<blockquote>\n  <p>How could it be done in a simple yet effective and reusable manner?</p>\n</blockquote>\n\n<p>If you dont want to update the UI directly use a pattern like MVP or MVVM and update your model in the onRespone callback.</p>\n\n<p>You will find guidance for this in the Architecture Components provided by the Framework. What you are looking for is <a href=\"https://developer.android.com/topic/libraries/architecture/livedata.html\" rel=\"nofollow noreferrer\">LiveData</a> and <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html\" rel=\"nofollow noreferrer\">ViewModel</a>.\nFor a tutorial look at the <a href=\"https://developer.android.com/topic/libraries/architecture/guide.html\" rel=\"nofollow noreferrer\">Guide</a>. I'm sorry for such a general answer, but the keywords and links should cover your very general question and provide direction for your research.</p>\n\n<p><strong>Fourth part</strong></p>\n\n<blockquote>\n  <p>Please elaborate with examples. </p>\n</blockquote>\n\n<p>No. SO is not the place for this. Look for tutorials on the <a href=\"https://www.google.de/search?q=design%20patterns%20java&amp;client=firefox-b-ab&amp;dcr=0&amp;source=lnms&amp;sa=X&amp;ved=0ahUKEwjNv6KqqfvZAhUDCewKHdiAB9EQ_AUICSgA&amp;biw=1920&amp;bih=966&amp;dpr=1\" rel=\"nofollow noreferrer\">internet</a> or buy a <a href=\"https://www.google.de/search?q=design+patterns+java&amp;client=firefox-b-ab&amp;dcr=0&amp;source=lnms&amp;tbm=bks&amp;sa=X&amp;ved=0ahUKEwjPlpqoqfvZAhXLzqQKHV71C_0Q_AUICygC&amp;biw=1920&amp;bih=966\" rel=\"nofollow noreferrer\">book</a> on design patterns and come back if you have specific questions. This question is just too broad, to be answered here. Also if you want code, share what you have tried already. SO is not a 'code for me' site, although it looks like it sometimes. So look at the code in the examples and try to reproduce.</p>\n"}], "owner": {"reputation": 85, "user_id": 5470121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/058f5d9c3e8e72745049070a1c3129fe?s=128&d=identicon&r=PG", "display_name": "NitricWare", "link": "https://stackoverflow.com/users/5470121/nitricware"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1521565694, "creation_date": 1521556154, "last_edit_date": 1521558680, "question_id": 49386954, "link": "https://stackoverflow.com/questions/49386954/how-to-update-the-ui-after-an-asynchronous-task-in-an-extra-class-has-finished-u", "title": "How to update the UI after an asynchronous task in an extra class has finished using Kotlin?", "body": "<p>Hy!</p>\n\n<p>I'd like to know what the best practice is to update the UI of an Android App with Kotlin once a Volley request has finished and the onResponse handler was called. The way I want to solve the Problem gives me some hard time, so maybe I have the wrong approach...</p>\n\n<p>I come from a synchronous world and therefor my approach would be like this: Create a class that fetches the data and returns the fetched data. Once the function returned the data, update the UI.</p>\n\n<p>We live in an asynchronous world however and therefor the approach must be different.</p>\n\n<p>I still want the data fetching in an extra class. Doing the data fetching in the main class and updating the UI from within the onResponse eventlistener as shown in <a href=\"https://developer.android.com/training/volley/simple.html\" rel=\"nofollow noreferrer\">this tutorial</a> is simple but can't be best practice, right? The data-fetching-class should not contain any reference to the UI, since it should be reusable.</p>\n\n<p>How could it be done in a simple yet effective and reusable manner? Please elaborate with examples. Can it be done with something like async/await? Can it be done with something like a hook or an event listener (I'm thinking of socket.io). Could <code>Adapter.notifyDataSetChanged()</code> help some way?</p>\n\n<p><em>I was looking this Topic up for hours, but I couldn't find anything useful. So either I'm looking in the wrong places, or the answer is so obvious that nobody asked it before. Some of the answers I found so far were very specific or contained so much extra code that i didn't find it useful.</em></p>\n\n<p><em>As so many apps are doing just what I want to achieve, this must be an easy task. Any app fetching data from the internet needs exactly what I'm asking for. So I must be missing something.</em></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin", "rx-java", "retrofit"], "comments": [{"owner": {"reputation": 10110, "user_id": 4584675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqtdH.png?s=128&g=1", "display_name": "Lamorak", "link": "https://stackoverflow.com/users/4584675/lamorak"}, "edited": false, "score": 0, "creation_date": 1521554743, "post_id": 49385468, "comment_id": 85773744, "body": "braces. Just replace <code>map {}</code> with <code>map({})</code> ans so on, it should fix the problem"}, {"owner": {"reputation": 764, "user_id": 5613246, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68e57d509198303dce2361d3a8325a54?s=128&d=identicon&r=PG&f=1", "display_name": "LMaker", "link": "https://stackoverflow.com/users/5613246/lmaker"}, "reply_to_user": {"reputation": 10110, "user_id": 4584675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqtdH.png?s=128&g=1", "display_name": "Lamorak", "link": "https://stackoverflow.com/users/4584675/lamorak"}, "edited": false, "score": 0, "creation_date": 1521555568, "post_id": 49385468, "comment_id": 85774417, "body": "@Lamorak how to handle when I want to get a <code>List</code> of itens from <code>User</code>   by his <code>Id</code> ? <code>Observable.from(user.itens)</code> make it impossible cause I dont have the list yet"}, {"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "reply_to_user": {"reputation": 10110, "user_id": 4584675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqtdH.png?s=128&g=1", "display_name": "Lamorak", "link": "https://stackoverflow.com/users/4584675/lamorak"}, "edited": false, "score": 0, "creation_date": 1521739733, "post_id": 49385468, "comment_id": 85871703, "body": "@Lamorak: the braces are ok, this is Kotlin :)"}, {"owner": {"reputation": 10110, "user_id": 4584675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqtdH.png?s=128&g=1", "display_name": "Lamorak", "link": "https://stackoverflow.com/users/4584675/lamorak"}, "edited": false, "score": 0, "creation_date": 1521742339, "post_id": 49385468, "comment_id": 85873307, "body": "Actually I had a problem with wrong braces in kotlin. Somebody even wrote a <a href=\"https://android.jlelse.eu/kotlin-and-rx2-how-i-wasted-5-hours-because-of-wrong-brackets-581021717774\" rel=\"nofollow noreferrer\">full post</a> about it :)"}], "answers": [{"tags": [], "owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "is_accepted": false, "score": 1, "last_activity_date": 1521739709, "creation_date": 1521739709, "answer_id": 49434934, "question_id": 49385468, "link": "https://stackoverflow.com/questions/49385468/rxjava-retrofit-dont-making-request-with-rx/49434934#49434934", "title": "RxJava - Retrofit dont making request with Rx", "body": "<p>You are just defining your <code>Observable</code>, but you are not subscribing to it, so the stream won't get data at all:</p>\n\n<pre><code>apiManager.getToken(body)\n    .subscribeOn(Schedulers.io())\n    .map { people -&gt; saveUser(people) }\n    .doOnNext { car -&gt; Log.d(\"car\", car.toString()) }\n    .flatMap { car -&gt; Observable.from(car!!.items) }\n    .flatMap { carId -&gt;\n        val header = HashMap&lt;String, String&gt;()\n        header.put(\"Authorization\", \"Bearer \" + user!!.authorization)\n        apiManager.getCarItens(header, carId.id!!)\n    }\n    .doOnCompleted { showUser(user) }\n    .subscribeOn(AndroidSchedulers.mainThread())\n    .subscribe() // This is what you were missing!\n</code></pre>\n\n<p>I'd recommend you cleanup some things, though:</p>\n\n<ol>\n<li>Avoid using <code>!!</code>: it will cause an <code>Exception</code> if the objects are null, which will bubble up, given that you are not handling them (you could, as an <a href=\"http://reactivex.io/documentation/operators/subscribe.html\" rel=\"nofollow noreferrer\"><code>onError</code> parameter to <code>subscribe</code></a></li>\n<li>Instead of <code>doOnCompleted</code>, use <code>onCompleted</code> parameter to <code>subscribe</code>, which makes it be next to the error handling, and it's easier to read</li>\n</ol>\n"}], "owner": {"reputation": 764, "user_id": 5613246, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68e57d509198303dce2361d3a8325a54?s=128&d=identicon&r=PG&f=1", "display_name": "LMaker", "link": "https://stackoverflow.com/users/5613246/lmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521745969, "creation_date": 1521552260, "last_edit_date": 1521745969, "question_id": 49385468, "link": "https://stackoverflow.com/questions/49385468/rxjava-retrofit-dont-making-request-with-rx", "title": "RxJava - Retrofit dont making request with Rx", "body": "<p>I'm studying about <code>RxJava</code> with <code>Retrofit</code>, and I'm trying to combine two requests. But its not making a request to <code>getToken</code> api. It's a simple code just for study case</p>\n\n<p>This is what I have now, what am I doing wrong?</p>\n\n<pre><code> apiManager.getToken(body)\n            .subscribeOn(Schedulers.io())\n            .map { people -&gt; saveUser(people) }\n            .doOnNext { car -&gt; Log.d(\"car\",car.toString()) }\n            .flatMap { car -&gt; Observable.from(car!!.items) }\n            .flatMap { carId -&gt; val header = HashMap&lt;String, String&gt;()\n                header.put(\"Authorization\", \"Bearer \" + user!!.authorization)\n                apiManager.getCarItens(header, carId.id!!)  }\n            .doOnCompleted { showUser(user) }\n            .subscribeOn(AndroidSchedulers.mainThread())\n</code></pre>\n"}, {"tags": ["listview", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521551972, "post_id": 49385101, "comment_id": 85771427, "body": "<a href=\"https://developer.android.com/training/basics/firstapp/starting-activity.html\" rel=\"nofollow noreferrer\">Start new activity</a>, <a href=\"https://stackoverflow.com/questions/2468100/how-to-handle-listview-click-in-android\">How to handle ListView click in Android</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2774, "user_id": 3746306, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NRiba.jpg?s=128&g=1", "display_name": "Nilesh Deokar", "link": "https://stackoverflow.com/users/3746306/nilesh-deokar"}, "is_accepted": true, "score": 1, "last_activity_date": 1521553550, "creation_date": 1521553550, "answer_id": 49385951, "question_id": 49385101, "link": "https://stackoverflow.com/questions/49385101/kotlin-start-new-activity-after-click-on-listview-record/49385951#49385951", "title": "Kotlin - Start new activity after click on ListView record", "body": "<pre><code>lv.setClickable(true)\nlv.setOnItemClickListener(object : AdapterView.OnItemClickListener {\n\n        override fun onItemClick(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\n                    //start activity here\n        }\n    })\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 8736560, "user_type": "registered", "profile_image": "https://graph.facebook.com/1667487456655749/picture?type=large", "display_name": "misolo89", "link": "https://stackoverflow.com/users/8736560/misolo89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 887, "favorite_count": 0, "closed_date": 1521583355, "accepted_answer_id": 49385951, "answer_count": 1, "score": 0, "last_activity_date": 1521553550, "creation_date": 1521551328, "question_id": 49385101, "link": "https://stackoverflow.com/questions/49385101/kotlin-start-new-activity-after-click-on-listview-record", "closed_reason": "Duplicate", "title": "Kotlin - Start new activity after click on ListView record", "body": "<p>I am trying to create a method to start new activity after clicked on record in ListView. Can you show how to do this?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1521550540, "creation_date": 1521550540, "answer_id": 49384807, "question_id": 49384535, "link": "https://stackoverflow.com/questions/49384535/how-to-easily-access-anko-components-within-the-layout-code/49384807#49384807", "title": "How to easily access anko components within the layout code", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#lateinit-top-level-properties-and-local-variables\" rel=\"nofollow noreferrer\">Since Kotlin 1.2</a>, you can use <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties-and-variables\" rel=\"nofollow noreferrer\"><code>lateinit</code></a> for local variables, it could be the solution you need here to get your variables up to the required scope:</p>\n\n<p>Element defined afterwards:</p>\n\n<pre><code>verticalLayout {\n    lateinit var name: EditText\n    button(\"Say Hello\") {\n        // use name\n    }\n    name = editText()\n}\n</code></pre>\n\n<p>Element defined within a sibling:</p>\n\n<pre><code>verticalLayout {\n    lateinit var name: EditText\n    verticalLayout {\n        name = editText()\n    }\n    button(\"Say Hello\") {\n        // use name\n    }\n}\n</code></pre>\n\n<p>Element is a parent:</p>\n\n<pre><code>lateinit var layout: LinearLayout\nlayout = verticalLayout {\n    button(\"Say Hello\") {\n        // use layout\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 557, "user_id": 775362, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b0d7604cc8b28c346bc108f1e0fea89?s=128&d=identicon&r=PG", "display_name": "Hawkings", "link": "https://stackoverflow.com/users/775362/hawkings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 49384807, "answer_count": 1, "score": 2, "last_activity_date": 1521550540, "creation_date": 1521549704, "question_id": 49384535, "link": "https://stackoverflow.com/questions/49384535/how-to-easily-access-anko-components-within-the-layout-code", "title": "How to easily access anko components within the layout code", "body": "<p>With Anko, it is easy to access components defined earlier. For example:</p>\n\n<pre><code>verticalLayout {\n    val name = editText()\n    button(\"Say Hello\") {\n        onClick { ctx.toast(\"Hello, ${name.text}!\") }\n    }\n}\n</code></pre>\n\n<p>Since the edit text is defined before the button, its access is easy.\nHowever, when the component you want to access is defined after the current element, is the parent of the current element, or is within a sibling of the current element, I don't know a simple and easy way of accessing it. Here are some examples:</p>\n\n<p>Element defined afterwards</p>\n\n<pre><code>verticalLayout {\n    button(\"Say Hello\") {\n        // how to access \"name\" here?\n    }\n    val name = editText()\n}\n</code></pre>\n\n<p>Element defined within a sibling</p>\n\n<pre><code>verticalLayout {\n    verticalLayout {\n        val name = editText()\n    }\n    button(\"Say Hello\") {\n        // how to access \"name\" here?\n    }\n}\n</code></pre>\n\n<p>Element is a parent</p>\n\n<pre><code>val layout = verticalLayout {\n    button(\"Say Hello\") {\n        // how to access \"layout\" here?\n    }\n}\n</code></pre>\n\n<p>If I were to do the same without Anko, with the traditional XML layout files, I could simply refer to those element with <code>findViewById()</code>. Is there a simple way of accessing them with Anko?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521548601, "post_id": 49383959, "comment_id": 85769023, "body": "All I know is that <a href=\"https://stackoverflow.com/a/13722113/4778343\">your class must implement the <code>Parcelable</code> or <code>Serializable</code> interface</a>"}, {"owner": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "reply_to_user": {"reputation": 763, "user_id": 4778343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kDMZU.jpg?s=128&g=1", "display_name": "Stefan Golubovi\u0107", "link": "https://stackoverflow.com/users/4778343/stefan-golubovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1521552523, "post_id": 49383959, "comment_id": 85771899, "body": "Yes, I too found that. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "is_accepted": true, "score": 9, "last_activity_date": 1521552491, "creation_date": 1521552491, "answer_id": 49385555, "question_id": 49383959, "link": "https://stackoverflow.com/questions/49383959/kotlin-pass-array-of-custom-objects-via-intents-and-receive-as-a-arraylist/49385555#49385555", "title": "Kotlin pass array of custom objects via Intents and receive as a ArrayList", "body": "<p>The answer is simple.</p>\n\n<pre><code>data class Attachment(val Name: String, val Content: String) : Serializable\n\n// In ActivityB\nval a: Array&lt;SecretJSON.Attachment&gt; = intent.getSerializableExtra(\"Attachments\") as Array&lt;Attachment&gt;\nattachments = a.toCollection(ArrayList())\n</code></pre>\n"}], "owner": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5013, "favorite_count": 1, "accepted_answer_id": 49385555, "answer_count": 1, "score": 3, "last_activity_date": 1521552491, "creation_date": 1521548077, "question_id": 49383959, "link": "https://stackoverflow.com/questions/49383959/kotlin-pass-array-of-custom-objects-via-intents-and-receive-as-a-arraylist", "title": "Kotlin pass array of custom objects via Intents and receive as a ArrayList", "body": "<p>I have a couple of activities and I pass data between them using Intents. I want to pass an array of my custom object from the first activity and make it an arraylist in the second activity. The code that I have is:</p>\n\n<pre><code>data class Attachment(val Name: String, val Content: String)\n\nclass ActivityA {\n    private var attachments: Array&lt;Attachment&gt; = arrayOf()\n    fun callB() {\n        intent = Intent(this,ActivityB::class.java).apply {\n            putExtra(\"Attachments\", attachments)\n        }\n    }\n}\n\nclass ActivityB {\n    private var attachments: ArrayList&lt;Attachment&gt;?\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        // How do I get the passed array and store in the arraylist here ?\n\n        val a: Array&lt;Attachment&gt; = intent.getParcelableArrayExtra(\"Attachments\") as Array&lt;Attachment&gt;\n        attachments = a // fails with a type mismatch error\n        attachments = ArrayList(a) // fails again\n        attachments = intent.get????????(\"Attachments\") // any such option ?\n    }\n}\n</code></pre>\n\n<p>Now my question is, what is the most efficient way to get the <code>attachments</code> array in ActivityA to the <code>attachments</code> array-list in the ActivityB ?</p>\n"}, {"tags": ["android", "lambda", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1521547905, "post_id": 49383876, "comment_id": 85768551, "body": "<b>I now want to pass a function to this class</b> What do you need that and what are you trying to acheive"}, {"owner": {"reputation": 659, "user_id": 2568851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/100001475643669/picture?type=large", "display_name": "Felipe Ribeiro R. Magalhaes", "link": "https://stackoverflow.com/users/2568851/felipe-ribeiro-r-magalhaes"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1521548292, "post_id": 49383876, "comment_id": 85768813, "body": "@Raghunandan I want this class to receive an implementation of a function so it can execute it through data-binding. But I also need this class to be parceleable, so its data can be sent to other activities, etc."}, {"owner": {"reputation": 2422, "user_id": 3841420, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7f328b6e09eb2b3517ae376250c9362?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Gallasch", "link": "https://stackoverflow.com/users/3841420/andrew-gallasch"}, "edited": false, "score": 0, "creation_date": 1565326232, "post_id": 49383876, "comment_id": 101325900, "body": "It&#39;d probably be more useful to create another object with title, imageUrl, categoryId and comingSoon and then make this object Parcelable and pass this same object to your viewModel. <code>data class GearCategoryViewModel(val someObject: parcelableObject, val onClick: (gearCategoryViewModel: GearCategoryViewModel) -&gt; Unit)</code> That way you are not trying to serialise a <code>Function</code>."}], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 5360247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a3bd815adc338fc30cb1d4b950bc655?s=128&d=identicon&r=PG&f=1", "display_name": "Artur  Dumchev", "link": "https://stackoverflow.com/users/5360247/artur-dumchev"}, "edited": false, "score": 0, "creation_date": 1529683894, "post_id": 49386239, "comment_id": 88978407, "body": "It wont work, as u do not write/read anything to/from parcel. But you can force it to work by saving lambda as Serializable into parcel."}], "tags": [], "owner": {"reputation": 945, "user_id": 6619676, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/86e20374410dd2c6e5dea9f46b617d9b?s=128&d=identicon&r=PG&f=1", "display_name": "TheKarlo95", "link": "https://stackoverflow.com/users/6619676/thekarlo95"}, "is_accepted": false, "score": 0, "last_activity_date": 1521554627, "last_edit_date": 1521554627, "creation_date": 1521554285, "answer_id": 49386239, "question_id": 49383876, "link": "https://stackoverflow.com/questions/49383876/function-in-kotlin-data-class-as-argument-leads-to-parceling-error/49386239#49386239", "title": "Function in Kotlin data class as argument leads to parceling error", "body": "<p>I know this isn't exactly a real answer but I would do it like this. Replace your function with class like this:</p>\n\n<pre><code>open class OnClick() : Parcelable {\n\n    companion object {\n        @JvmStatic\n        fun fromLambda(func: (GearCategoryViewModel) -&gt; Unit) = object : OnClick() {\n            override fun invoke(param: GearCategoryViewModel) = func(param)\n        }\n\n        @JvmField\n        val CREATOR = object : Parcelable.Creator&lt;OnClick&gt; {\n            override fun createFromParcel(parcel: Parcel) = OnClick(parcel)\n\n            override fun newArray(size: Int) = arrayOfNulls&lt;OnClick&gt;(size)\n        }\n    }\n\n    constructor(parcel: Parcel) : this()\n\n    open operator fun invoke(param: GearCategoryViewModel) {\n        throw UnsupportedOperationException(\"This method needs to be implemented\")\n    }\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) = Unit\n\n    override fun describeContents() = 0\n}\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>val onClick = OnClick.fromLambda { vm -&gt; /* do something*/ }\nonClick(viewModel);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 809, "user_id": 5360247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a3bd815adc338fc30cb1d4b950bc655?s=128&d=identicon&r=PG&f=1", "display_name": "Artur  Dumchev", "link": "https://stackoverflow.com/users/5360247/artur-dumchev"}, "is_accepted": false, "score": 9, "last_activity_date": 1529685106, "creation_date": 1529685106, "answer_id": 50992181, "question_id": 49383876, "link": "https://stackoverflow.com/questions/49383876/function-in-kotlin-data-class-as-argument-leads-to-parceling-error/50992181#50992181", "title": "Function in Kotlin data class as argument leads to parceling error", "body": "<p>Just cast lambda to serializable, and then create object from </p>\n\n<pre><code>@Parcelize\ndata class GearCategoryViewModel(\n        val title: String,\n        val imageUrl: String,\n        val categoryId: Int,\n        val comingSoon: Boolean,\n        @IgnoredOnParcel val onClick: Serializable\n) : DataBindingAdapter.LayoutViewModel(R.layout.gear_category_item), Parcelable {\n\n    fun onClicked() = onClick as (gearCategoryViewModel: GearCategoryViewModel) -&gt; Unit\n\n    companion object {\n        fun create(\n                title: String,\n                imageUrl: String,\n                categoryId: Int,\n                comingSoon: Boolean,\n                onClick: (gearCategoryViewModel: GearCategoryViewModel) -&gt; Unit\n        ): GearCategoryViewModel = GearCategoryViewModel(\n                title,\n                imageUrl,\n                categoryId,\n                comingSoon,\n                onClick as Serializable\n        )\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2422, "user_id": 3841420, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7f328b6e09eb2b3517ae376250c9362?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Gallasch", "link": "https://stackoverflow.com/users/3841420/andrew-gallasch"}, "is_accepted": false, "score": 0, "last_activity_date": 1533713752, "creation_date": 1533713752, "answer_id": 51741016, "question_id": 49383876, "link": "https://stackoverflow.com/questions/49383876/function-in-kotlin-data-class-as-argument-leads-to-parceling-error/51741016#51741016", "title": "Function in Kotlin data class as argument leads to parceling error", "body": "<p>The premise of the question doesn't really make sense.</p>\n\n<p>You can't deserialise this object if you don't serialise all of its properties.</p>\n\n<p>You seem to want <code>onClick</code> to be <code>null</code> if this is deserialised, but even if that was possible, it'd throw a NPE because this property is not marked nullable.</p>\n\n<p>Consider changing your architecture so you only serialise simple objects (POJOs or data classes) and not Functions.</p>\n"}, {"tags": [], "owner": {"reputation": 3886, "user_id": 8724443, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9njrwo5ZrOA/AAAAAAAAAAI/AAAAAAAAABg/FZ7qGTd26K4/photo.jpg?sz=128", "display_name": "apurv thakkar", "link": "https://stackoverflow.com/users/8724443/apurv-thakkar"}, "is_accepted": false, "score": 1, "last_activity_date": 1580969165, "creation_date": 1580969165, "answer_id": 60088627, "question_id": 49383876, "link": "https://stackoverflow.com/questions/49383876/function-in-kotlin-data-class-as-argument-leads-to-parceling-error/60088627#60088627", "title": "Function in Kotlin data class as argument leads to parceling error", "body": "<pre><code>@Parcelize\ndata class GearCategoryViewModel(\n        val title: String,\n        val imageUrl: String,\n        val categoryId: Int,\n        val comingSoon: Boolean,\n        val onClick: @RawValue (gearCategoryViewModel: GearCategoryViewModel) -&gt; Unit\n) : DataBindingAdapter.LayoutViewModel(R.layout.gear_category_item), Parcelable\n</code></pre>\n\n<p>Use @RawValue with the onClick parameter.</p>\n"}], "owner": {"reputation": 659, "user_id": 2568851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/100001475643669/picture?type=large", "display_name": "Felipe Ribeiro R. Magalhaes", "link": "https://stackoverflow.com/users/2568851/felipe-ribeiro-r-magalhaes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7261, "favorite_count": 0, "answer_count": 4, "score": 11, "last_activity_date": 1580969165, "creation_date": 1521547835, "question_id": 49383876, "link": "https://stackoverflow.com/questions/49383876/function-in-kotlin-data-class-as-argument-leads-to-parceling-error", "title": "Function in Kotlin data class as argument leads to parceling error", "body": "<p>I have a data class in Kotlin hat is using the <code>@Parcelize</code> annotation for easy parcelization. Thing is I now want to pass a function to this class and I do not really know how to make the function not be considered during parceling.</p>\n\n<p>This is my data class:</p>\n\n<pre><code>@Parcelize\ndata class GearCategoryViewModel(\n        val title: String,\n        val imageUrl: String,\n        val categoryId: Int,\n        val comingSoon: Boolean,\n        @IgnoredOnParcel val onClick: (gearCategoryViewModel: GearCategoryViewModel) -&gt; Unit\n) : DataBindingAdapter.LayoutViewModel(R.layout.gear_category_item), Parcelable\n</code></pre>\n\n<p>I tried using <code>@IgnoredOnParcel</code> and <code>@Transient</code> without success.</p>\n\n<p>This is the compile error I get:</p>\n\n<blockquote>\n  <p>Error:(20, 39) Type is not directly supported by 'Parcelize'. Annotate the parameter type with '@RawValue' if you want it to be serialized using 'writeValue()'</p>\n</blockquote>\n\n<p>And this <code>@RawValue</code> annotation does not work either.</p>\n"}, {"tags": ["java", "ssl", "kotlin", "glassfish"], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 1614962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SSjxy.jpg?s=128&g=1", "display_name": "p_anantha", "link": "https://stackoverflow.com/users/1614962/p-anantha"}, "edited": false, "score": 0, "creation_date": 1532036078, "post_id": 49384524, "comment_id": 89834957, "body": "Thank you so much! Jdk 1.8.0_151 worked like a charm while trying to connect to MSSQL 2016 from glassfish 5.0 server"}, {"owner": {"reputation": 1034, "user_id": 7878602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc4f7415fef1c98acc4f1a17766bdda0?s=128&d=identicon&r=PG&f=1", "display_name": "ImtiazeA", "link": "https://stackoverflow.com/users/7878602/imtiazea"}, "edited": false, "score": 0, "creation_date": 1540006215, "post_id": 49384524, "comment_id": 92716007, "body": "Worked for me.!"}, {"owner": {"reputation": 683, "user_id": 3659807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gO2FS.png?s=128&g=1", "display_name": "Omar Abdel Bari", "link": "https://stackoverflow.com/users/3659807/omar-abdel-bari"}, "edited": false, "score": 2, "creation_date": 1542087250, "post_id": 49384524, "comment_id": 93431397, "body": "Since many of the JDK updates often involve security updates. You could be putting yourself at risk. Although this answer is correct I found Antoine&#39;s answer regarding removing sun folder from the specified jar to work without having to resort to downgrading JDK."}], "tags": [], "owner": {"reputation": 1454, "user_id": 878015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nR9pl.jpg?s=128&g=1", "display_name": "David Can&#243;s", "link": "https://stackoverflow.com/users/878015/david-can%c3%b3s"}, "is_accepted": true, "score": 7, "last_activity_date": 1542121889, "last_edit_date": 1542121889, "creation_date": 1521549681, "answer_id": 49384524, "question_id": 49383650, "link": "https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found/49384524#49384524", "title": "sun.security.ssl.SSLSessionImpl not found", "body": "<p>EDIT: since this is the \"correct answer\" and Java 1.8.0-151 will potentialy lack security patches. I can't recommend to downgrade to a such an old Java version.  </p>\n\n<p>Please take a look at Payara project or new releases of Glassfish.</p>\n\n<p>--</p>\n\n<p>Try to downgrade the Java version to Java 1.8.0-151. It should work.</p>\n\n<p>There's an issue in glassfish 5 with Java 8 161, there's an <a href=\"https://github.com/javaee/glassfish/issues/22407\" rel=\"nofollow noreferrer\">issue</a> created, but no changes in nightly builds regarding the issue, I checked yesterday (19th march).</p>\n"}, {"comments": [{"owner": {"reputation": 464, "user_id": 3557680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bd143e5efdc00ae016d59c5adc674e?s=128&d=identicon&r=PG&f=1", "display_name": "Christian G&#252;rtler", "link": "https://stackoverflow.com/users/3557680/christian-g%c3%bcrtler"}, "edited": false, "score": 0, "creation_date": 1540300105, "post_id": 52479362, "comment_id": 92807681, "body": "Worked for me using JRE 1.8.0_191 and Payara 5.181"}, {"owner": {"reputation": 683, "user_id": 3659807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gO2FS.png?s=128&g=1", "display_name": "Omar Abdel Bari", "link": "https://stackoverflow.com/users/3659807/omar-abdel-bari"}, "edited": false, "score": 1, "creation_date": 1542087318, "post_id": 52479362, "comment_id": 93431424, "body": "For those wondering how you can remove the classes from the jar. There is some similarities with jars and zip format. I used 7zip to delete the sun folder from the jar and restarted glassfish, worked like a charm."}, {"owner": {"reputation": 683, "user_id": 3659807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gO2FS.png?s=128&g=1", "display_name": "Omar Abdel Bari", "link": "https://stackoverflow.com/users/3659807/omar-abdel-bari"}, "edited": false, "score": 1, "creation_date": 1542087541, "post_id": 52479362, "comment_id": 93431500, "body": "Another note, there is also another issue which this solution resolves. With later versions of JDK and Glassfish 5 you will find exceptions that may be similar to java.lang.NoSuchMethodError: sun.security.ssl.SSLSessionImpl.&lt;init&gt;(Lsun/security/ssl/Pro&zwnj;&#8203;tocolVersion;Lsun/se&zwnj;&#8203;curity/ssl/CipherSui&zwnj;&#8203;te;Ljava/util/Collec&zwnj;&#8203;tion;Ljava/security/&zwnj;&#8203;SecureRandom;Ljava/l&zwnj;&#8203;ang/String;I)V"}, {"owner": {"reputation": 315, "user_id": 3338629, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/PqzvU.gif?s=128&g=1", "display_name": "MauricioTL", "link": "https://stackoverflow.com/users/3338629/mauriciotl"}, "edited": false, "score": 0, "creation_date": 1578631258, "post_id": 52479362, "comment_id": 105509387, "body": "@Antonie I have no words to thank you bro, really really thank you!!"}, {"owner": {"reputation": 1064, "user_id": 4722577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/df632265f05cfef80f4d3da89de8cd7b?s=128&d=identicon&r=PG&f=1", "display_name": "CAM_344", "link": "https://stackoverflow.com/users/4722577/cam-344"}, "edited": false, "score": 1, "creation_date": 1580095642, "post_id": 52479362, "comment_id": 105972442, "body": "This issue still exists with users on Glassfish 5.0 and Java 1.8.0_232.  But with Antoine&#39;s answer I was able to get passed the issue!"}, {"owner": {"reputation": 468, "user_id": 7050229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mychb.jpg?s=128&g=1", "display_name": "schoener", "link": "https://stackoverflow.com/users/7050229/schoener"}, "edited": false, "score": 0, "creation_date": 1589554567, "post_id": 52479362, "comment_id": 109349138, "body": "Thanks! Works for me as well, but in point of view - you cannot do it in production, right? or will it be a patched glassfish version?"}], "tags": [], "owner": {"reputation": 151, "user_id": 10407866, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/e6fcace196c1b30467a8de415d704a6a?s=128&d=identicon&r=PG", "display_name": "Antoine", "link": "https://stackoverflow.com/users/10407866/antoine"}, "is_accepted": false, "score": 15, "last_activity_date": 1537860523, "last_edit_date": 1537860523, "creation_date": 1537791894, "answer_id": 52479362, "question_id": 49383650, "link": "https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found/52479362#52479362", "title": "sun.security.ssl.SSLSessionImpl not found", "body": "<p>The issue appears because Glassfish embeds native <code>sun.*</code> classes into <code>[glassfish5_home]/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar</code>, so it conflicts with others classes included into <code>[JDK_HOME]/jre/lib/jsse.jar</code></p>\n\n<p>So edit the <code>grizzly-npn-bootstrap.jar</code> (make a copy before) file and remove the sun folder.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10739064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb3141417189216ce29834b67480e5e?s=128&d=identicon&r=PG&f=1", "display_name": "rlfnb", "link": "https://stackoverflow.com/users/10739064/rlfnb"}, "is_accepted": false, "score": 1, "last_activity_date": 1543842923, "creation_date": 1543842923, "answer_id": 53594638, "question_id": 49383650, "link": "https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found/53594638#53594638", "title": "sun.security.ssl.SSLSessionImpl not found", "body": "<p>Maybe a little bit more elegant is to use the existing fix done in the npn-grizzly jar:</p>\n\n<pre><code>mkdir -p scratch/glassfish5/glassfish/modules/endorsed &amp;&amp; cd scratch\nwget http://download.oracle.com/glassfish/5.0.1/nightly/glassfish-5.0.1-b02-12_03_2018.zip\nwget http://central.maven.org/maven2/org/glassfish/grizzly/grizzly-npn-bootstrap/1.8.1/grizzly-npn-bootstrap-1.8.1.jar\nmv grizzly-npn-bootstrap-1.8.1.jar glassfish5/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar\njar uvf glassfish-5.0.1-b02-12_03_2018.zip glassfish5/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar \necho \"you have a patched archive for runnig with Java 8 patchlevel 191\"\n</code></pre>\n\n<p>HTH</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6599413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b3f6d71ca70b5169ba7cf811c8850d6?s=128&d=identicon&r=PG&f=1", "display_name": "Saleh", "link": "https://stackoverflow.com/users/6599413/saleh"}, "is_accepted": false, "score": 6, "last_activity_date": 1547585032, "creation_date": 1547585032, "answer_id": 54206532, "question_id": 49383650, "link": "https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found/54206532#54206532", "title": "sun.security.ssl.SSLSessionImpl not found", "body": "<p>The above Error could result to this displaying in your browser:</p>\n\n<p><strong>The connection was reset The connection to the server was reset while the page was loading.\n    The site could be temporarily unavailable or too busy. Try again in a few moments.\n    If you are unable to load any pages, check your computer\u2019s network connection.\n    If your computer or network is protected by a firewall or proxy, make sure that Firefox is permitted to access the Web.</strong></p>\n\n<p><strong>SOLUTION</strong>\nDownload: <a href=\"http://central.maven.org/maven2/org/glassfish/grizzly/grizzly-npn-bootstrap/1.8.1/grizzly-npn-bootstrap-1.8.1.jar\" rel=\"noreferrer\">http://central.maven.org/maven2/org/glassfish/grizzly/grizzly-npn-bootstrap/1.8.1/grizzly-npn-bootstrap-1.8.1.jar</a>\nand Replace your galssfish/payara  grizzly-npn-bootstrap.jar. </p>\n\n<p>mv grizzly-npn-bootstrap-1.8.1.jar glassfish5/glassfish/modules/endorsed/grizzly-npn-bootstrap.jar</p>\n"}, {"tags": [], "owner": {"reputation": 410, "user_id": 5206423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/affd21b81033c0f253e89cf68c077f39?s=128&d=identicon&r=PG&f=1", "display_name": "Helmwag", "link": "https://stackoverflow.com/users/5206423/helmwag"}, "is_accepted": false, "score": 2, "last_activity_date": 1554923181, "creation_date": 1554923181, "answer_id": 55619696, "question_id": 49383650, "link": "https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found/55619696#55619696", "title": "sun.security.ssl.SSLSessionImpl not found", "body": "<p>The changes in the security ciphers in java 1.8.0_161 have broken the SSL function in the underlying Grizzly server of Glassfish 5,0. The last working java version was 1.8.0_152\n As of the moment of this writing i can confirm, that java 1.8.0_202 works with Glassfish 5.1 (now maintained by and downloadable from Eclipse.org)  The included grizzly-npn-bootstrap is ver 1.9.0. There is no need to delete or alter anything. </p>\n"}, {"tags": [], "owner": {"reputation": 1064, "user_id": 4722577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/df632265f05cfef80f4d3da89de8cd7b?s=128&d=identicon&r=PG&f=1", "display_name": "CAM_344", "link": "https://stackoverflow.com/users/4722577/cam-344"}, "is_accepted": false, "score": 2, "last_activity_date": 1580095511, "creation_date": 1580095511, "answer_id": 59924833, "question_id": 49383650, "link": "https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found/59924833#59924833", "title": "sun.security.ssl.SSLSessionImpl not found", "body": "<p>I just came across this frustrating issue and I did want to expand just a little on Antoine's answer above <a href=\"https://stackoverflow.com/a/52479362/4722577\">https://stackoverflow.com/a/52479362/4722577</a> which worked for me.</p>\n\n<p>As a note, I have Glassfish 5.0 and Java <code>openjdk version \"1.8.0_232\"\nOpenJDK Runtime Environment (build 1.8.0_232-8u232-b09-0ubuntu1~18.04.1-b09)\nOpenJDK 64-Bit Server VM (build 25.232-b09, mixed mode)</code></p>\n\n<ol>\n<li><p>As mentioned by Antoine, I copied the <code>grizzly-npn-bootstrap.jar</code> to another location as a backup.</p></li>\n<li><p>I did the <code>jar -xvf grizzly-npn-bootstrap.jar</code> to see the exact classes and folder locations in the jar. Which gave me the following output:</p></li>\n</ol>\n\n<pre><code>cduran@cduran-VirtualBox:~/Documents$ jar -xvf grizzly-npn-bootstrap.jar \n inflated: META-INF/MANIFEST.MF\n  created: META-INF/\n  created: META-INF/maven/\n  created: META-INF/maven/org.glassfish.grizzly/\n  created: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.properties\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.xml\n  created: org/\n  created: org/glassfish/\n  created: org/glassfish/grizzly/\n  created: org/glassfish/grizzly/npn/\n inflated: org/glassfish/grizzly/npn/AlpnClientNegotiator.class\n inflated: org/glassfish/grizzly/npn/AlpnServerNegotiator.class\n inflated: org/glassfish/grizzly/npn/ClientSideNegotiator.class\n inflated: org/glassfish/grizzly/npn/NegotiationSupport.class\n inflated: org/glassfish/grizzly/npn/ServerSideNegotiator.class\n  created: sun/\n  created: sun/security/\n  created: sun/security/ssl/\n inflated: sun/security/ssl/Alerts.class\n inflated: sun/security/ssl/AlpnExtension$Builder.class\n inflated: sun/security/ssl/AlpnExtension.class\n inflated: sun/security/ssl/ClientHandshaker$1.class\n inflated: sun/security/ssl/ClientHandshaker$2.class\n inflated: sun/security/ssl/ClientHandshaker.class\n inflated: sun/security/ssl/ExtensionType.class\n inflated: sun/security/ssl/GrizzlyNPN.class\n inflated: sun/security/ssl/HandshakeMessage$1.class\n inflated: sun/security/ssl/HandshakeMessage$CertificateMsg.class\n inflated: sun/security/ssl/HandshakeMessage$CertificateRequest.class\n inflated: sun/security/ssl/HandshakeMessage$CertificateVerify$1.class\n inflated: sun/security/ssl/HandshakeMessage$CertificateVerify.class\n inflated: sun/security/ssl/HandshakeMessage$ClientHello.class\n inflated: sun/security/ssl/HandshakeMessage$DH_ServerKeyExchange.class\n inflated: sun/security/ssl/HandshakeMessage$DistinguishedName.class\n inflated: sun/security/ssl/HandshakeMessage$ECDH_ServerKeyExchange.class\n inflated: sun/security/ssl/HandshakeMessage$Finished.class\n inflated: sun/security/ssl/HandshakeMessage$HelloRequest.class\n inflated: sun/security/ssl/HandshakeMessage$NextProtocol$Builder.class\n inflated: sun/security/ssl/HandshakeMessage$NextProtocol.class\n inflated: sun/security/ssl/HandshakeMessage$RSA_ServerKeyExchange.class\n inflated: sun/security/ssl/HandshakeMessage$ServerHello.class\n inflated: sun/security/ssl/HandshakeMessage$ServerHelloDone.class\n inflated: sun/security/ssl/HandshakeMessage$ServerKeyExchange.class\n inflated: sun/security/ssl/HandshakeMessage.class\n inflated: sun/security/ssl/Handshaker$1.class\n inflated: sun/security/ssl/Handshaker$DelegatedTask.class\n inflated: sun/security/ssl/Handshaker.class\n inflated: sun/security/ssl/HelloExtensions.class\n inflated: sun/security/ssl/NextProtocolNegotiationExtension$Builder.class\n inflated: sun/security/ssl/NextProtocolNegotiationExtension.class\n inflated: sun/security/ssl/SSLEngineImpl.class\n inflated: sun/security/ssl/ServerHandshaker$1.class\n inflated: sun/security/ssl/ServerHandshaker$2.class\n inflated: sun/security/ssl/ServerHandshaker$3.class\n inflated: sun/security/ssl/ServerHandshaker.class\n\n</code></pre>\n\n<ol start=\"3\">\n<li>Observe that the jar file contains 3 folders in the root level: <strong>META-INF</strong>, <strong>org</strong>, and <strong>sun</strong>.  Again from Antoine's answer we want to remove the <code>sun</code> folder.</li>\n<li>I don't know a command line way to recreate a jar by specifying a folder to remove, so I did this command where I recreate the <code>grizzly-npn-bootstrap.jar</code> by just adding the <strong>META-INF</strong> and <strong>org</strong> folders: <code>jar -cvf grizzly-npn-bootstrap.jar META-INF/* org/*</code></li>\n<li>Subsequently if I do the <code>jar -xvf grizzly-npn-bootstrap.jar</code> command I get this output (notice no more <strong>sun</strong> folder listed):</li>\n</ol>\n\n<pre><code>cduran@cduran-VirtualBox:~/glassfish-5.0-web-profile/glassfish5/glassfish/modules/endorsed$ jar -xvf grizzly-npn-bootstrap.jar \n  created: META-INF/\n inflated: META-INF/MANIFEST.MF\n  created: META-INF/maven/\n  created: META-INF/maven/org.glassfish.grizzly/\n  created: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.properties\n inflated: META-INF/maven/org.glassfish.grizzly/grizzly-npn-bootstrap/pom.xml\n  created: org/glassfish/\n  created: org/glassfish/grizzly/\n  created: org/glassfish/grizzly/npn/\n inflated: org/glassfish/grizzly/npn/ClientSideNegotiator.class\n inflated: org/glassfish/grizzly/npn/ServerSideNegotiator.class\n inflated: org/glassfish/grizzly/npn/AlpnClientNegotiator.class\n inflated: org/glassfish/grizzly/npn/NegotiationSupport.class\n inflated: org/glassfish/grizzly/npn/AlpnServerNegotiator.class\n</code></pre>\n\n<ol start=\"6\">\n<li>Restart your glassfish.</li>\n</ol>\n\n<p>After this I no longer get that error message the OP posted above:</p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError:\n  sun.security.ssl.SSLSessionImpl.(Lsun/security/ssl/ProtocolVersion;Lsun/security/ssl/CipherSuite;Ljava/util/Collection;Lsun/security/ssl/SessionId;Ljava/lang/String;I)V</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13535708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gikb7a86aNpYH_bMNXxGM3884bv0M2IeP16ANBNTw=k-s128", "display_name": "Steven Zhang", "link": "https://stackoverflow.com/users/13535708/steven-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1589392540, "creation_date": 1589392540, "answer_id": 61781567, "question_id": 49383650, "link": "https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found/61781567#61781567", "title": "sun.security.ssl.SSLSessionImpl not found", "body": "<p>I had a deep dive in this issue just several days ago and found the root reason by reviewing JDK source code. I think you are using openjdk now.\nThis is a bug in openjdk up to 1.8.0_242.\nThe SSLSessionImpl is not instantiated when it is used in SSLSessionEngine. It is used as a static class, however it is only a final class.\nThe issue has been fixed in 1.8.0_252, so I recommend you to upgrade it to this version. Or switch to any build of Oracle jdk1.8.0, as there is no such bug in it.\nHope it helps.\nOpenjdk:\n<a href=\"https://i.stack.imgur.com/bD1pH.png\" rel=\"nofollow noreferrer\">SSLSessionEngine.java</a>\n<a href=\"https://i.stack.imgur.com/CqGE8.png\" rel=\"nofollow noreferrer\">SSLSessionImpl.java</a>\nOracle jdk:\n<a href=\"https://i.stack.imgur.com/gX3t3.png\" rel=\"nofollow noreferrer\">SSLSessionEngine.java</a></p>\n"}], "owner": {"reputation": 1841, "user_id": 2753579, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a15ab14d7d32350031bc4722bae165b9?s=128&d=identicon&r=PG&f=1", "display_name": "yooouuri", "link": "https://stackoverflow.com/users/2753579/yooouuri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9398, "favorite_count": 6, "accepted_answer_id": 49384524, "answer_count": 7, "score": 9, "last_activity_date": 1589392540, "creation_date": 1521547204, "question_id": 49383650, "link": "https://stackoverflow.com/questions/49383650/sun-security-ssl-sslsessionimpl-not-found", "title": "sun.security.ssl.SSLSessionImpl not found", "body": "<p>When I try to use <code>okhttp</code> or <code>javax.ws.rs.client.Client</code> the following error occur</p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError:\n  sun.security.ssl.SSLSessionImpl.(Lsun/security/ssl/ProtocolVersion;Lsun/security/ssl/CipherSuite;Ljava/util/Collection;Lsun/security/ssl/SessionId;Ljava/lang/String;I)V</p>\n</blockquote>\n\n<p>Searching in the sun.security.ssl package, there is no SSLSessionImpl class</p>\n\n<p>Im using Mac OS 10.13.3 (17D102)</p>\n\n<pre><code>java -version\njava version \"1.8.0_162\"\nJava(TM) SE Runtime Environment (build 1.8.0_162-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.162-b12, mixed mode)\n</code></pre>\n\n<p>And running my war on Glassfish 5.0</p>\n\n<p><em>build.gradle</em></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.30'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\"\n    }\n}\n\ngroup 'invoice-administration-api'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'idea'\napply plugin: 'war'\napply plugin: 'kotlin'\napply plugin: 'kotlin-jpa'\napply plugin: 'kotlin-allopen'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compileOnly group: 'javax', name: 'javaee-api', version: '8.0'\n    compile group: 'org.hibernate', name: 'hibernate-core', version: '5.2.13.Final'\n    compile group: 'org.glassfish.jersey.media', name: 'jersey-media-json-jackson', version: '2.26'\n}\n\nallOpen {\n    annotation('javax.ejb.Stateless')\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-glide", "bottom-sheet"], "comments": [{"owner": {"reputation": 1541, "user_id": 964411, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cb9a1fdfa05b19757e92451f14aa9985?s=128&d=identicon&r=PG", "display_name": "SripadRaj", "link": "https://stackoverflow.com/users/964411/sripadraj"}, "edited": false, "score": 0, "creation_date": 1521540952, "post_id": 49381328, "comment_id": 85763640, "body": "by <i>disappear</i>, do you mean that the bottom sheet collapse back to bottom or just vanishes?"}, {"owner": {"reputation": 46, "user_id": 5990959, "user_type": "registered", "profile_image": "https://graph.facebook.com/1734437393451402/picture?type=large", "display_name": "Roma Heshten", "link": "https://stackoverflow.com/users/5990959/roma-heshten"}, "reply_to_user": {"reputation": 1541, "user_id": 964411, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cb9a1fdfa05b19757e92451f14aa9985?s=128&d=identicon&r=PG", "display_name": "SripadRaj", "link": "https://stackoverflow.com/users/964411/sripadraj"}, "edited": false, "score": 1, "creation_date": 1521541097, "post_id": 49381328, "comment_id": 85763751, "body": "just vanishes with no animation. And after debugging, I found that bottomSheet.state is still STATE_EXPANDED"}, {"owner": {"reputation": 1541, "user_id": 964411, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cb9a1fdfa05b19757e92451f14aa9985?s=128&d=identicon&r=PG", "display_name": "SripadRaj", "link": "https://stackoverflow.com/users/964411/sripadraj"}, "edited": false, "score": 0, "creation_date": 1521541390, "post_id": 49381328, "comment_id": 85763955, "body": "I believe it could be because of your root <code>&lt;ConstraintLayout\\&gt;</code> of bottom sheet xml, Change it to <code>&lt;LinearLayout\\&gt;</code> and try"}, {"owner": {"reputation": 46, "user_id": 5990959, "user_type": "registered", "profile_image": "https://graph.facebook.com/1734437393451402/picture?type=large", "display_name": "Roma Heshten", "link": "https://stackoverflow.com/users/5990959/roma-heshten"}, "reply_to_user": {"reputation": 1541, "user_id": 964411, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cb9a1fdfa05b19757e92451f14aa9985?s=128&d=identicon&r=PG", "display_name": "SripadRaj", "link": "https://stackoverflow.com/users/964411/sripadraj"}, "edited": false, "score": 0, "creation_date": 1521541852, "post_id": 49381328, "comment_id": 85764288, "body": "@SripadRaj still nothing. Have tryed both with LinearLayout and FrameLayout as the root ViewGroup"}, {"owner": {"reputation": 1541, "user_id": 964411, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cb9a1fdfa05b19757e92451f14aa9985?s=128&d=identicon&r=PG", "display_name": "SripadRaj", "link": "https://stackoverflow.com/users/964411/sripadraj"}, "edited": false, "score": 0, "creation_date": 1521541919, "post_id": 49381328, "comment_id": 85764343, "body": "check <a href=\"https://stackoverflow.com/questions/37087352/android-bottomsheet-doesnt-disappear-normally\">this</a>"}, {"owner": {"reputation": 1351, "user_id": 6810881, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9fbe82e0efab895d67e02b10d615fac3?s=128&d=identicon&r=PG&f=1", "display_name": "gautam", "link": "https://stackoverflow.com/users/6810881/gautam"}, "edited": false, "score": 0, "creation_date": 1537690239, "post_id": 49381328, "comment_id": 91870363, "body": "Have you found the solution??"}, {"owner": {"reputation": 46, "user_id": 5990959, "user_type": "registered", "profile_image": "https://graph.facebook.com/1734437393451402/picture?type=large", "display_name": "Roma Heshten", "link": "https://stackoverflow.com/users/5990959/roma-heshten"}, "reply_to_user": {"reputation": 1351, "user_id": 6810881, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9fbe82e0efab895d67e02b10d615fac3?s=128&d=identicon&r=PG&f=1", "display_name": "gautam", "link": "https://stackoverflow.com/users/6810881/gautam"}, "edited": false, "score": 0, "creation_date": 1537787799, "post_id": 49381328, "comment_id": 91897229, "body": "@gautamkumar no, i have not. I did my own view with sliding animation like BottomSheet but still it was not a solution because of reimplementing a vehicle"}], "owner": {"reputation": 46, "user_id": 5990959, "user_type": "registered", "profile_image": "https://graph.facebook.com/1734437393451402/picture?type=large", "display_name": "Roma Heshten", "link": "https://stackoverflow.com/users/5990959/roma-heshten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1553442437, "creation_date": 1521540472, "last_edit_date": 1553442437, "question_id": 49381328, "link": "https://stackoverflow.com/questions/49381328/bottomsheet-disapper-after-loading-image-via-glide", "title": "BottomSheet disapper after loading image via Glide", "body": "<p>I want dynamically change <code>ImageView</code> content which is in the <code>BottomSheet</code>. The problem is when I use <code>Glide</code> to load image into my <code>ImageView</code> it triggers <code>requestLayout()</code> of  itself and as the result - <code>BottomSheet</code> is gone. If I comment <code>Glide</code> loading code, everithing works just fine. I mean, the <code>TextView</code> changes text and <code>BottomSheet</code> does not disappear. </p>\n\n<p>How should I deal with image loading?</p>\n\n<p>Here is my code</p>\n\n<p>bottom_sheet_item.xml</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"@dimen/_160sdp\"\n    style=\"@style/MinElevationStyle\"\n    android:background=\"@color/colorHint\"\n    android:layout_gravity=\"bottom\"\n    app:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:contentDescription=\"@null\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:id=\"@+id/imageViewItem\"\n        android:scaleType=\"fitXY\"/&gt;\n\n    &lt;TextView\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:contentDescription=\"@null\"\n        tools:text=\"some text\"\n        android:gravity=\"center\"\n        style=\"@style/TextSmall\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:id=\"@+id/textView\"\n        android:textColor=\"@android:color/white\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>fragment.xml</p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\n\n\n  xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\"com.trader.marinentrader.ui.search.searchresults.map.MapWithItemsFragment\"&gt;\n\n    &lt;fragment\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        android:id=\"@+id/map\"\n        tools:context=\".ui.search.searchresults.SearchResultsActivity\"\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\" /&gt;\n\n    &lt;include\n        android:id=\"@+id/bottomSheetItem\"\n        layout=\"@layout/bottom_sheet_item\" /&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>and exec code</p>\n\n<pre><code> private fun bindItem(item: ItemEntity){\n    val imagePath = item.media?.firstOrNull()?.path\n    if(imagePath == null){\n        imageViewItem.clearGlide()\n    }else{\n        imageViewItem.load(imagePath)\n    }\n    textView.text = item.title\n}\n</code></pre>\n\n<p>load image via kotlin extension</p>\n\n<pre><code>fun ImageView.load(any: Any?, placeholder: Int = 0){\nGlideApp\n        .with(this)\n        .load(any)\n        .centerCrop()\n        .placeholder(placeholder)\n        .fallback(placeholder)\n        .transition(DrawableTransitionOptions.withCrossFade())\n        .into(this)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1521529996, "post_id": 49378129, "comment_id": 85757089, "body": "What type of class is this? Are you passing any context of this class from an activity?"}], "answers": [{"tags": [], "owner": {"reputation": 1295, "user_id": 7316675, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f5237c511b68a7fd01edd9ef7d6b6a84?s=128&d=identicon&r=PG&f=1", "display_name": "Niki", "link": "https://stackoverflow.com/users/7316675/niki"}, "is_accepted": false, "score": 0, "last_activity_date": 1521533504, "last_edit_date": 1521533504, "creation_date": 1521530011, "answer_id": 49378282, "question_id": 49378129, "link": "https://stackoverflow.com/questions/49378129/how-to-start-a-new-activity-from-a-non-activity-class-in-kotlin/49378282#49378282", "title": "How to start a new activity from a non activity class in Kotlin?", "body": "<p>You can not use <code>this</code> as it's not an <code>Activity</code> and therefore not a <code>Context</code>. You have to provide a proper <code>Context</code> and can also pass flag saying new task:</p>\n\n<pre><code> if (Beats != 0) {\n      var intent = Intent(MyClass.this.context, Results::class.java)\n      MyClass.this.context.startActivity(intent)\n  }\n</code></pre>\n\n<p>Here replace <code>MyClass</code> with your class name. Not sure if it will work or not. </p>\n"}, {"tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": false, "score": 1, "last_activity_date": 1521533625, "creation_date": 1521533625, "answer_id": 49379207, "question_id": 49378129, "link": "https://stackoverflow.com/questions/49378129/how-to-start-a-new-activity-from-a-non-activity-class-in-kotlin/49379207#49379207", "title": "How to start a new activity from a non activity class in Kotlin?", "body": "<p>As long as you have a proper <code>Context</code> available, you can start your <code>Results</code> as follow:</p>\n\n<pre><code>if (Beats != 0) {\n    var intent = Intent(context, Results::class.java)\n    context.startActivity(intent)\n}\n</code></pre>\n\n<p>If your non-activity class does not have access to a <code>Context</code> right now, you should inject it somewhere (during creation of your object as a passed-in argument for example).</p>\n"}], "owner": {"reputation": 155, "user_id": 9425209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DkaoB.jpg?s=128&g=1", "display_name": "Jackson", "link": "https://stackoverflow.com/users/9425209/jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521540716, "creation_date": 1521529446, "last_edit_date": 1521540716, "question_id": 49378129, "link": "https://stackoverflow.com/questions/49378129/how-to-start-a-new-activity-from-a-non-activity-class-in-kotlin", "title": "How to start a new activity from a non activity class in Kotlin?", "body": "<p>I'm working on an application which reads heart rate from the finger using camera lens. I want after it's done with previewing the image to pass the results to a new <code>Activity</code>.\nI want to open the next <code>Activity</code> which is <code>Results.kt</code>. </p>\n\n<p>Here is what I've tried so far:</p>\n\n<pre><code>if (Beats != 0) {\n    var intent = Intent(this, Results::class.java)\n    ContextCompat.startActivity(intent)\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 1, "creation_date": 1521527236, "post_id": 49377476, "comment_id": 85755801, "body": "pls, explain your problem in brief. your requirement is like if not update from internet then call from local otherwise call from Internet.right..?"}, {"owner": {"reputation": 603, "user_id": 2015669, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f937d7fb62d7f5966ed9398bca2c7a1?s=128&d=identicon&r=PG", "display_name": "HQuser", "link": "https://stackoverflow.com/users/2015669/hquser"}, "reply_to_user": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 0, "creation_date": 1521527389, "post_id": 49377476, "comment_id": 85755861, "body": "the problem is, if my database is not updated then update my database from internet and then display that data to my fragments."}, {"owner": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 1, "creation_date": 1521527496, "post_id": 49377476, "comment_id": 85755904, "body": "ok then you want to first data store in database after that display from database, not from Internet directly..?"}, {"owner": {"reputation": 603, "user_id": 2015669, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f937d7fb62d7f5966ed9398bca2c7a1?s=128&d=identicon&r=PG", "display_name": "HQuser", "link": "https://stackoverflow.com/users/2015669/hquser"}, "reply_to_user": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 0, "creation_date": 1521527636, "post_id": 49377476, "comment_id": 85755962, "body": "the idea is to first check my database if my data is already present and up to date in order to save unnecessary calls to web API. If my data is not saved in database or is not up-to-date then simply fetch data from internet, update my database and then display the data from database to all the fragments."}, {"owner": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 1, "creation_date": 1521527729, "post_id": 49377476, "comment_id": 85756016, "body": "OK then you should go with timestamps."}, {"owner": {"reputation": 603, "user_id": 2015669, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f937d7fb62d7f5966ed9398bca2c7a1?s=128&d=identicon&r=PG", "display_name": "HQuser", "link": "https://stackoverflow.com/users/2015669/hquser"}, "reply_to_user": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 0, "creation_date": 1521527767, "post_id": 49377476, "comment_id": 85756038, "body": "can you explain more about timestamps?"}, {"owner": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 1, "creation_date": 1521527776, "post_id": 49377476, "comment_id": 85756042, "body": "when update data from internet then your time and internet data time not matched so u should update"}, {"owner": {"reputation": 603, "user_id": 2015669, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f937d7fb62d7f5966ed9398bca2c7a1?s=128&d=identicon&r=PG", "display_name": "HQuser", "link": "https://stackoverflow.com/users/2015669/hquser"}, "reply_to_user": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 0, "creation_date": 1521527822, "post_id": 49377476, "comment_id": 85756062, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/167139/discussion-between-hquser-and-ketan-patel\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 0, "creation_date": 1521527827, "post_id": 49377476, "comment_id": 85756065, "body": "first you addd parameter in server of time field also in your database"}, {"owner": {"reputation": 120, "user_id": 4370665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/283a898ddd0cfc1043de69c1976cfcda?s=128&d=identicon&r=PG", "display_name": "Artem Sborets", "link": "https://stackoverflow.com/users/4370665/artem-sborets"}, "edited": false, "score": 1, "creation_date": 1521528870, "post_id": 49377476, "comment_id": 85756555, "body": "It seems that the problem you face is larger than you feel it. In general, you need to organize the code to handle the logic you described. It is not about specific method or field. It is about the structure of an app. I really recommend you this article:  <a href=\"https://fernandocejas.com/2014/09/03/architecting-android-the-clean-way/\" rel=\"nofollow noreferrer\">fernandocejas.com/2014/09/03/architecting-android-the-clean-&zwnj;&#8203;way</a> It might look little bit overwhelming. In that case, check the links in that article to get a better understanding."}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 1, "creation_date": 1521535659, "post_id": 49377476, "comment_id": 85759981, "body": "refer <a href=\"https://stackoverflow.com/questions/19662851/how-to-call-method-in-activity-form-non-activity-class\" title=\"how to call method in activity form non activity class\">stackoverflow.com/questions/19662851/&hellip;</a>"}, {"owner": {"reputation": 603, "user_id": 2015669, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f937d7fb62d7f5966ed9398bca2c7a1?s=128&d=identicon&r=PG", "display_name": "HQuser", "link": "https://stackoverflow.com/users/2015669/hquser"}, "reply_to_user": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1521538898, "post_id": 49377476, "comment_id": 85762164, "body": "@sasikumar thank you for a breakthrough but how do I cast context to specific Fragment as kotlin is giving me an error when I try to check if (context is Fragment1) it says incompetible types context and Fragment1"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 1, "creation_date": 1521539896, "post_id": 49377476, "comment_id": 85762878, "body": "use another interface from activity to fragment."}], "answers": [{"tags": [], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "is_accepted": true, "score": 2, "last_activity_date": 1521556988, "last_edit_date": 1521556988, "creation_date": 1521542252, "answer_id": 49381975, "question_id": 49377476, "link": "https://stackoverflow.com/questions/49377476/how-to-update-all-fragments-asynchronously-with-the-same-data/49381975#49381975", "title": "How to update all fragments asynchronously with the same data?", "body": "<p>A convenient way to connect activity and fragments inside it is provided by architecture components.</p>\n\n<ol>\n<li><p>Create a ViewModel, that will host your data class instance. \n<a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html#implement\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/viewmodel.html#implement</a></p></li>\n<li><p>Get view model reference in both your fragments.</p>\n\n<pre><code>final MyModel viewModel = ViewModelProviders.of(getActivity()).get(MyModel.class);\n</code></pre></li>\n<li><p>Make your ViewModel expose results of your data class as LiveData.\n<a href=\"https://developer.android.com/topic/libraries/architecture/livedata.html\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/livedata.html</a></p>\n\n<pre><code>private MutableLiveData&lt;String&gt; mCurrentData;\n\npublic MutableLiveData&lt;String&gt; getCurrentData() {\n    if (mCurrentName == null) {\n        mCurrentData = new MutableLiveData&lt;String&gt;();\n    }\n    return mCurrentData;\n}\n\npublic void updateData() {\n    getCurrentData().setValue(myDataClass.getNewData());\n}\n</code></pre></li>\n<li><p>Subscribe to the provided live data in both your fragment your.</p>\n\n<pre><code>// Get the ViewModel.\nmModel = ViewModelProviders.of(getActivity()).get(MyModel.class);\n\n// Create the observer which updates the UI.\nfinal Observer&lt;String&gt; myObserver = new Observer&lt;String&gt;() {\n    @Override\n    public void onChanged(@Nullable final String newData) {\n        // do something with the new data\n    }\n};\n\n// Observe the LiveData, passing in this activity as the LifecycleOwner and the observer.\nmModel.getCurrentData().observe(this, myObserver);\n</code></pre></li>\n</ol>\n\n<p>Using this approach both your fragments will get the same updates in your <code>myObserver</code> instances in both fragments from the ViewModel.</p>\n\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/guide.html\" rel=\"nofollow noreferrer\">Here</a> you can find a more detailed guide.</p>\n"}], "owner": {"reputation": 603, "user_id": 2015669, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f937d7fb62d7f5966ed9398bca2c7a1?s=128&d=identicon&r=PG", "display_name": "HQuser", "link": "https://stackoverflow.com/users/2015669/hquser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 49381975, "answer_count": 1, "score": 2, "last_activity_date": 1521556988, "creation_date": 1521526765, "question_id": 49377476, "link": "https://stackoverflow.com/questions/49377476/how-to-update-all-fragments-asynchronously-with-the-same-data", "title": "How to update all fragments asynchronously with the same data?", "body": "<p><a href=\"https://i.stack.imgur.com/sy0Tv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sy0Tv.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here's what I am trying to do.</p>\n\n<p>I have 2 fragments hosted in MainActivity.</p>\n\n<p>Fragment 1 has just a couple of widgets to update.\nFragment 2 has a recycler view to display the list of items.</p>\n\n<p>I first get an instance of the data class and call its fetchData method.</p>\n\n<p>The fetchData() method communicates with the local database to first see if my data is already stored in my local database. </p>\n\n<p>If it is stored, then it simply returns that data and the recycler view in fragment 2 simply display that data.</p>\n\n<p>But the problem arises when I have to fetch fresh data from the internet if data in my local database is not already present which is an asynchronous call. (The library I am using to call web API is Volly)</p>\n\n<p>Now I am confused how to tell Fragment 1 and Fragment 2 to use the updated data once the database is updated?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2732, "user_id": 1649472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1e372dc8b47350de5ab8e27f477e0b18?s=128&d=identicon&r=PG", "display_name": "ono", "link": "https://stackoverflow.com/users/1649472/ono"}, "edited": false, "score": 0, "creation_date": 1521522826, "post_id": 49376716, "comment_id": 85754284, "body": "Thanks, I tried that but I have a member variable <code>abstract var food: T?</code> in Bird class which is now gives me the error <code>Type parameter T is marked as out but occurs in invariant position of type T</code>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2732, "user_id": 1649472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1e372dc8b47350de5ab8e27f477e0b18?s=128&d=identicon&r=PG", "display_name": "ono", "link": "https://stackoverflow.com/users/1649472/ono"}, "edited": false, "score": 0, "creation_date": 1521523005, "post_id": 49376716, "comment_id": 85754332, "body": "Indeed, this is a restriction if you want covariance to work, the type parameter can only be present in your class in <code>out</code> positions, so you can have functions that return <code>T</code>, but you can&#39;t have ones that accept <code>T</code> (in this case, that would be the setter of the property). Think about it: if you had a reference to your <code>Falcon</code> as a <code>Bird&lt;Food&gt;</code> because you got it from your function, you could feed it any <code>Food</code> and not just <code>Fish</code>. This would break type safety."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 2732, "user_id": 1649472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1e372dc8b47350de5ab8e27f477e0b18?s=128&d=identicon&r=PG", "display_name": "ono", "link": "https://stackoverflow.com/users/1649472/ono"}, "edited": false, "score": 0, "creation_date": 1521563789, "post_id": 49376716, "comment_id": 85780771, "body": "I&#39;ve edited my answer to also include the idea by @tynn and to be more legible for people who find it in the future. Please have a look."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1521564060, "last_edit_date": 1521564060, "creation_date": 1521522552, "answer_id": 49376716, "question_id": 49376641, "link": "https://stackoverflow.com/questions/49376641/creating-method-to-return-generic-parameterized-class/49376716#49376716", "title": "Creating method to return generic parameterized class", "body": "<p>You basically have two options to solve this:</p>\n\n<ol>\n<li><p><strong>Using declaration site variance.</strong> This is preferred when possible.</p>\n\n<p>What you need for this to work is <code>Bird&lt;Fish&gt;</code> (which your <code>Falcon</code> is) to be a subtype of <code>Bird&lt;Food&gt;</code> (which you're returning). Since <code>Fish</code> is also a subtype of <code>Food</code>, what you need here is covariance, which you can specify for the type parameter with the <code>out</code> keyword:</p>\n\n<pre><code>abstract class Bird&lt;out T: Food&gt;\n</code></pre>\n\n<p>Now, you've added below in your comment that you have a mutable property of type <code>T?</code> in your base class, something like:</p>\n\n<pre><code>abstract class Bird&lt;out T: Food&gt; {\n    var food: T? = null\n}\n</code></pre>\n\n<p>This is an issue for declaration site variance. If you want covariance to work, the type parameter can only be present in your class in <code>out</code> positions, meaning you can have functions that return <code>T</code>, but you can't have ones that accept <code>T</code> (in this case, that would be the setter of the property). Think about it: if you had a reference to a <code>Falcon</code> as a <code>Bird&lt;Food&gt;</code> because you got it from the <code>getBird</code> function, you could suddenly feed it any <code>Food</code>, not just <code>Fish</code>. This would break type safety. Which gets us to the other solution...</p></li>\n<li><p><strong>Using use site variance.</strong></p>\n\n<p>This is less ideal, but sometimes necessary (like apparently in your case, because of the mutable property of type <code>T?</code> in your base class. Credit for this solution goes to <a href=\"https://stackoverflow.com/a/49379106/4465208\">@tynn's very good answer</a>, but let me expand on it.</p>\n\n<p>You can mark covariance on just the return type of the function instead of the entire abstract class by making the function return a <code>Bird&lt;out Food&gt;</code>.</p>\n\n<pre><code>fun getBird(type: Int): Bird&lt;out Food&gt;\n</code></pre>\n\n<p>Doing this will let you have your <code>T</code> parameter in both <code>in</code> and <code>out</code> positions in your class, but prevent you from using any functions that take <code>T</code> (have it in the <code>in</code> position) on the <code>Bird</code> instances that you get from the <code>getBird</code> function.</p>\n\n<p>So you could do this after the change:</p>\n\n<pre><code>println(getBird(1).food)\n</code></pre>\n\n<p>But not this for any value of <code>newFood</code> that's not <code>null</code> (since a variable of type <code>Nothing?</code> is required here, which <a href=\"https://stackoverflow.com/a/44292923/4465208\">only <code>null</code> is</a>):</p>\n\n<pre><code>getBird(1).food = newFood\n</code></pre>\n\n<p>This restriction of not being able to set the <code>food</code> property of the <code>Bird</code> returned by the function is what \"restores\" type safety in this case.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1521533223, "creation_date": 1521533223, "answer_id": 49379106, "question_id": 49376641, "link": "https://stackoverflow.com/questions/49376641/creating-method-to-return-generic-parameterized-class/49379106#49379106", "title": "Creating method to return generic parameterized class", "body": "<p>You have to define the <code>out</code> variance on the return type of <code>getBird()</code></p>\n\n<pre><code>fun getBird(type: Int): Bird&lt;out Food&gt;\n</code></pre>\n\n<p>Like this you can return birds with any food source without changing the <code>Bird</code> class.</p>\n"}], "owner": {"reputation": 2732, "user_id": 1649472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1e372dc8b47350de5ab8e27f477e0b18?s=128&d=identicon&r=PG", "display_name": "ono", "link": "https://stackoverflow.com/users/1649472/ono"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 49376716, "answer_count": 2, "score": 0, "last_activity_date": 1521564060, "creation_date": 1521522109, "last_edit_date": 1521563014, "question_id": 49376641, "link": "https://stackoverflow.com/questions/49376641/creating-method-to-return-generic-parameterized-class", "title": "Creating method to return generic parameterized class", "body": "<p>Having a class:</p>\n\n<pre><code>abstract class Bird&lt;T: Food&gt;\n</code></pre>\n\n<p>and a subclass, where <code>Fish</code> extends <code>Food</code>:</p>\n\n<pre><code>class Falcon: Bird&lt;Fish&gt;()\n</code></pre>\n\n<p>How do I create a method that returns a <code>Bird</code>:</p>\n\n<pre><code>fun getBird(type: Int): Bird&lt;Food&gt; {\n   if (type == SOME_CONSTANT) {\n       return Falcon()\n   } else {\n      // Another bird\n   }\n}\n</code></pre>\n\n<p>Getting:  </p>\n\n<pre><code>Type mismatch: Required Bird&lt;Food&gt;, found Falcon  \n</code></pre>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 2618498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002918245927/picture?type=large", "display_name": "Valery  Kulikov", "link": "https://stackoverflow.com/users/2618498/valery-kulikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1521539777, "creation_date": 1521539777, "answer_id": 49381091, "question_id": 49376033, "link": "https://stackoverflow.com/questions/49376033/which-technique-can-be-to-validate-more-than-1-field-in-form-on-their-equality/49381091#49381091", "title": "Which technique can be to validate more than 1 field in form on their equality?", "body": "<p>What I did with it (after tons of cigs and coffees):</p>\n\n<p>First we make model for entering and checking password.</p>\n\n<pre><code>private val model = object : ViewModel() {\n    val password = bind { SimpleStringProperty() }\n    val confirm = bind { SimpleStringProperty() }\n    // This makes boolean binding for control equality.\n    val equal = booleanBinding(confirm, password) {\n        confirm.value == password.value &amp;&amp; confirm.value.isNotEmpty()\n    }\n}\n</code></pre>\n\n<p>And then we can use it for button enabling.</p>\n\n<pre><code>button(\"OK\") {\n    enableWhen { model.equal }\n}\n</code></pre>\n\n<p>Not sure it is best way, but it works. Is there a better way?\n(BTW, we can put it in 'snippets' too)</p>\n"}], "owner": {"reputation": 151, "user_id": 2618498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100002918245927/picture?type=large", "display_name": "Valery  Kulikov", "link": "https://stackoverflow.com/users/2618498/valery-kulikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521541155, "creation_date": 1521517612, "last_edit_date": 1521541155, "question_id": 49376033, "link": "https://stackoverflow.com/questions/49376033/which-technique-can-be-to-validate-more-than-1-field-in-form-on-their-equality", "title": "Which technique can be to validate more than 1 field in form on their equality?", "body": "<p>I have 2 fields: for password and for its confirmation, and wanna check their equality via some common validator.\nHow can i make it more effective way?</p>\n\n<pre><code>private val model = object : ViewModel() {\n    val password = bind { SimpleStringProperty() }\n    val confirmPsw = bind { SimpleStringProperty() }\n}\n\noverride val root = form {\n\n    fieldset(\"Admin\") {\n        field(\"Set password and confirmation\") {\n            val tf1 = textfield(model.password) {\n                promptText = \"Place password\"\n                requestFocus()\n            }.required()\n\n            val pf1 = passwordfield(model.confirmPsw){\n                promptText = \"confirm password\"\n            }.required()\n\n            button(\"set\") {\n                enableWhen { model.valid }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "kotlin-extension"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1521513296, "post_id": 49375143, "comment_id": 85752071, "body": "Have you considered using RxKotlin (<a href=\"https://github.com/ReactiveX/RxKotlin\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxKotlin</a>) which is basically just a collection of Kotlin extension methods for RxJava? You may also just look at their code how the subscriber extensions are implemented <a href=\"https://github.com/ReactiveX/RxKotlin/blob/2.x/src/main/kotlin/io/reactivex/rxkotlin/subscribers.kt\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxKotlin/blob/2.x/src/main/kotlin/io/&hellip;</a>"}, {"owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1521522999, "post_id": 49375143, "comment_id": 85754328, "body": "I&#39;ve been looking into that, and tried a few things, and while I was able to get their code to work for the extension functions, I&#39;m still unsure how to modify it to get me the result back how I want it. I don&#39;t understand how to use my <code>NetworkConsumer</code> in that context, and allow me to route all errors to the onError consumer."}], "answers": [{"comments": [{"owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "edited": false, "score": 0, "creation_date": 1521570135, "post_id": 49378042, "comment_id": 85784653, "body": "Sadly, I cannot. I need to wrap <code>NetworkResponse</code> because all the responses from the server return a 200, but contain a status themselves. So I&#39;m wrapping that logic so I can easily get the actual status and payload."}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "reply_to_user": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "edited": false, "score": 0, "creation_date": 1521612443, "post_id": 49378042, "comment_id": 85799774, "body": "@Advice-Dog I added solution with converter factory to my answer. Wish it can help you."}], "tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": false, "score": 0, "last_activity_date": 1521612348, "last_edit_date": 1521612348, "creation_date": 1521529112, "answer_id": 49378042, "question_id": 49375143, "link": "https://stackoverflow.com/questions/49375143/rxjava-extension-function-for-subscribe/49378042#49378042", "title": "RxJava - Extension Function for Subscribe", "body": "<p>Guess it is because your <code>NetworkConsumer</code> class extends with <code>NetworkResponse&lt;T&gt;</code> generic type. </p>\n\n<p>Your extension function works with <code>Observable&lt;T&gt;</code> object which expects <code>Consumer&lt;T&gt;</code> object for subscribe. When you put your <code>NetworkConsumer</code> for subscribing it equals to <code>Consumer&lt;NetworkResponse&lt;T&gt;&gt;</code> object.</p>\n\n<p>So here is mismatch: <code>Consumer&lt;T&gt;</code> against <code>Consumer&lt;NetworkResponse&lt;T&gt;&gt;</code>. You should rewrite your class like <code>NetworkConsumer&lt;T&gt; : Consumer&lt;T&gt;</code>.</p>\n\n<p><strong>Added</strong></p>\n\n<p>If it is important to use only <code>NetworkResponse</code> types for consumer, you can do following:</p>\n\n<p>1) Add extending statement of generic type for your <code>NetworkConsumer</code> class.</p>\n\n<pre><code>abstract class NetworkConsumer&lt;T : NetworkResponse&lt;TResponce&gt;, TResponce&gt; : Consumer&lt;T&gt; {...\n</code></pre>\n\n<p>Here <code>T</code> - type to \"put\" inside parent <code>Consumer</code> class, that can be only <code>NetworkResponse</code>. And <code>TResponce</code> - type of real responce that should be placed in <code>NetworkResponse</code>.</p>\n\n<p>2) Make all of your <code>retrofit</code> api interface methods as returning <code>NetworkResponse&lt;...&gt;</code> object. After this there should not be any compile errors, but it is not enough - <code>retrofit</code> doesn't know how to create objects of your <code>NetworkResponse</code> class.</p>\n\n<p>3) I think this moment would be most difficult. You need to create <a href=\"https://square.github.io/retrofit/2.x/retrofit/retrofit2/Converter.Factory.html\" rel=\"nofollow noreferrer\">your own converter factory</a> to say <code>retrofit</code> how to create responces objects for you. May be <a href=\"https://stackoverflow.com/questions/35502079/custom-converter-for-retrofit-2\">this question</a> can help, or you can find some similar solutions at google.</p>\n"}], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 725, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521612348, "creation_date": 1521510545, "question_id": 49375143, "link": "https://stackoverflow.com/questions/49375143/rxjava-extension-function-for-subscribe", "title": "RxJava - Extension Function for Subscribe", "body": "<p>I'm trying to use RxJava / Retrofit, and I want to write an extension function to wrap some logic with the network result.</p>\n\n<p>I have a class, <code>NetworkConsumer</code> that extends <code>Consumer</code>.</p>\n\n<pre><code>abstract class NetworkConsumer&lt;T&gt; : Consumer&lt;NetworkResponse&lt;T&gt;&gt; {\n\n    override fun accept(response: NetworkResponse&lt;T&gt;) {\n        if (response.isSuccessful()) {\n            onSuccess(response.data)\n        } else {\n            onFailure()\n        }\n    }\n\n    // other functions such as onSuccess and onFailure\n}\n</code></pre>\n\n<p>I want to create an extension function to allow me to use the Lambda syntax like you can do with normal <code>Consumers</code>.</p>\n\n<pre><code>service.login(email, password)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe({\n            result -&gt; \n                // result is the correct object\n        }, {\n           // handle the error\n        }) \n</code></pre>\n\n<p>However, if I want to use my <code>NetworkConsumer</code>, I must do:</p>\n\n<pre><code>.subscribe(object : NetworkConsumer&lt;LoginResponse&gt;() {\n                    override fun onSuccess(response: LoginResponse) {\n                        // ...\n</code></pre>\n\n<p>So I'm trying to write an extension function, like:</p>\n\n<pre><code>fun &lt;T&gt; Observable&lt;T&gt;.subscribe(onNext: NetworkConsumer&lt;in T&gt;, onError: Consumer&lt;in Throwable&gt;): Disposable {\n    return subscribe(onNext, onError, Functions.EMPTY_ACTION, Functions.emptyConsumer&lt;Any&gt;())\n}\n</code></pre>\n\n<p>But it doesn't compile, the error is:</p>\n\n<pre><code>&gt; Type mismatch. \n\n&gt; Required: Consumer&lt;in T!&gt;! \n\n&gt; Found: NetworkConsumer&lt;in T&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9181, "user_id": 429972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/413633346ff1cd473b1329f8adc174fb?s=128&d=identicon&r=PG", "display_name": "jontro", "link": "https://stackoverflow.com/users/429972/jontro"}, "edited": false, "score": 8, "creation_date": 1521507711, "post_id": 49374774, "comment_id": 85750745, "body": "Why would you need to set mContext to this in the first place?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 9181, "user_id": 429972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/413633346ff1cd473b1329f8adc174fb?s=128&d=identicon&r=PG", "display_name": "jontro", "link": "https://stackoverflow.com/users/429972/jontro"}, "edited": false, "score": 0, "creation_date": 1521511257, "post_id": 49374774, "comment_id": 85751562, "body": "Thanks! I need use mConext in other functions, so I need to assign a value to mContext onCreate function"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 3, "creation_date": 1521511548, "post_id": 49374774, "comment_id": 85751630, "body": "@HelloCW but why not just use <code>this</code> when you want to use it in another function. So strange."}, {"owner": {"reputation": 2832, "user_id": 810770, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/68dc9c285c6eba4be6e95db2e66ab86c?s=128&d=identicon&r=PG&f=1", "display_name": "squeeish", "link": "https://stackoverflow.com/users/810770/squeeish"}, "edited": false, "score": 1, "creation_date": 1521513178, "post_id": 49374774, "comment_id": 85752042, "body": "@HelloCW Get rid of that bad habit asap."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1521557150, "post_id": 49374774, "comment_id": 85775731, "body": "@Strelok I think @HelloCW doesn&#39;t know about qualified this -&gt; <code>this@UIMain</code> for more see my answer"}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1521513335, "post_id": 49375260, "comment_id": 85752083, "body": "Thanks, but I think that mContext should be val"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1521544923, "post_id": 49375260, "comment_id": 85766463, "body": "It is a theoretical impossibility to create memory leak by assigning a property to <code>this</code>. Just think about it for a second."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1521551537, "post_id": 49375260, "comment_id": 85771104, "body": "Thanks! Would you please see my modified question?"}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 0, "last_activity_date": 1521511507, "creation_date": 1521511507, "answer_id": 49375260, "question_id": 49374774, "link": "https://stackoverflow.com/questions/49374774/how-to-delay-to-assign-a-value-to-a-val-in-kotlin/49375260#49375260", "title": "How to delay to assign a value to a val in kotlin?", "body": "<p>I agree with the person commenting, it's rather strange why you want to keep a reference to <code>this</code> in a private property (potential memory leak). </p>\n\n<p>But, in any case, Kotlin has a <code>lateinit</code> modifier that let's you delay setting a property value, but it must be set before the property is used for the first time.</p>\n\n<pre><code>class UIMain : AppCompatActivity() {\n\n    private lateinit var mContext: Context\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_main)\n\n        mContext = this\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1521513877, "post_id": 49375381, "comment_id": 85752238, "body": "Yes that&#39;s right, but if you wanted to set the property later after some action is done (like onCreate is called), this obviously wouldn&#39;t work. But thanks to OP&#39;s more than strange design, this is probably better :D I just want to hear why he wants to do this :D"}, {"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1521515082, "post_id": 49375381, "comment_id": 85752536, "body": "Yeah, it&#39;s weird indeed :D I&#39;m curious why he want to do that. But he does have some alternatives that doesn&#39;t involve keeping that context inside an Activity, since he can access it using <code>this</code>."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1521550187, "post_id": 49375381, "comment_id": 85770100, "body": "Thanks! To Mauker: Do you mean that somtimes your code will cause the APP crash?"}, {"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "edited": false, "score": 0, "creation_date": 1521551869, "post_id": 49375381, "comment_id": 85771330, "body": "No, I didn\u2019t say that. Did it crash for you?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1521552452, "post_id": 49375381, "comment_id": 85771842, "body": "Strelok said &quot; but if you wanted to set the property later after some action is done (like onCreate is called), this obviously wouldn&#39;t work.  &quot;, so I think maybe your code will cause an app crash."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1521552656, "post_id": 49375381, "comment_id": 85771997, "body": "And more, I add some content for  the question, and answer why I need assign this to mContext."}, {"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "edited": false, "score": 0, "creation_date": 1521552741, "post_id": 49375381, "comment_id": 85772056, "body": "In the example you provided, you could call a method inside your Activity instead of trying to display the toast inside the anonymous function."}], "tags": [], "owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "is_accepted": true, "score": 5, "last_activity_date": 1521553731, "last_edit_date": 1521553731, "creation_date": 1521512570, "answer_id": 49375381, "question_id": 49374774, "link": "https://stackoverflow.com/questions/49374774/how-to-delay-to-assign-a-value-to-a-val-in-kotlin/49375381#49375381", "title": "How to delay to assign a value to a val in kotlin?", "body": "<p>If you're using the <code>lateinit</code> keyword, you'll have to change from <code>val</code> to <code>var</code>, thus losing the immutability. If that's ok for you, Strelok's answer will suffice.</p>\n\n<p>But if you really need a <code>val</code> on your code for any reason, you can try the <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"nofollow noreferrer\">lazy delagate property</a>.</p>\n\n<p>As stated on the <a href=\"https://androidessence.com/android/understanding-nullability-in-kotlin/\" rel=\"nofollow noreferrer\">Android Essense</a> blog:</p>\n\n<blockquote>\n  <p>This property takes in a lambda, <strong>which is executed the first time the\n  property is accessed</strong>. After that, it will return the value that was\n  assigned to it. This way we can declare the property as immutable, and\n  non-null, so that as long as the fragment (or Activity) is created before we access it the first time.</p>\n</blockquote>\n\n<p>For example, in your case you could try to do this:</p>\n\n<pre><code>private val mContext : Context by lazy {\n    this\n}\n</code></pre>\n\n<p><strong>In short:</strong></p>\n\n<ul>\n<li>If your value can or need to be mutable, use <code>lateinit</code></li>\n<li>If your value is meant to be initialized once, and shared across your methods, use <code>lazy</code> with <code>val</code>.</li>\n</ul>\n\n<p>But as stated by the others, in your specific case it's better to just call <code>this</code> when you need the Activity/Context reference.</p>\n\n<p><strong>Edit:</strong> As per your example on why you would need a <code>mContext</code> inside your Activity, I still say you don't need it.</p>\n\n<p>Instead of trying to call <code>this</code> and use it on the <code>Toast#makeText()</code> inside your anonymous function directly, you could either:</p>\n\n<ul>\n<li>Change <code>this</code> to <code>UIMain.this</code>.</li>\n<li>Create a method inside your Activity, and call that method inside the anonymous function. e.g.: <code>findViewById(R.id.btnClose).setOnClickListener { otherMethod() }</code>, and inside that method you can reference the Activity using <code>this</code> again.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 3, "last_activity_date": 1521556719, "last_edit_date": 1521556719, "creation_date": 1521556407, "answer_id": 49387044, "question_id": 49374774, "link": "https://stackoverflow.com/questions/49374774/how-to-delay-to-assign-a-value-to-a-val-in-kotlin/49387044#49387044", "title": "How to delay to assign a value to a val in kotlin?", "body": "<p>I think what you really want is a <strong>qualified this expression</strong> like</p>\n\n<pre><code>this@UIMain\n</code></pre>\n\n<p>as in </p>\n\n<pre><code>Toast.makeText(this@UIMain, \"Hello C\", Toast.LENGTH_LONG).show(); //works everytime\n</code></pre>\n\n<p>that solves all your issues. See <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html\" rel=\"nofollow noreferrer\">Kotlin this expression</a></p>\n\n<p>PS: If that solves your problem you should rename the question to \"how to use outer this in nested object\"</p>\n"}, {"tags": [], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "is_accepted": false, "score": 1, "last_activity_date": 1535912291, "creation_date": 1535912291, "answer_id": 52139873, "question_id": 49374774, "link": "https://stackoverflow.com/questions/49374774/how-to-delay-to-assign-a-value-to-a-val-in-kotlin/52139873#52139873", "title": "How to delay to assign a value to a val in kotlin?", "body": "<p>We have never liked Toast even with jelly Here is a way to replace that little slice of toast with a custom visible error message. Yes we included the toast since the question is about Toast. To use this concept you need to add a TextView some where on your screen. This code is testing for valid entry in two EditText fields.</p>\n\n<pre><code>    fun onLAMmultiply(view: View ){\n\n    if(etValOne.text.length == 0){\n        error(\"Enter First Value\")\n        toast(\"Enter First Value TOAST\")\n        etValOne.requestFocus()\n        return@onLAMmultiply\n    }\n\n    if(etValTwo.text.length == 0){\n        error(\"Enter Second Value\")\n        toast(\"Enter Second Value TOAST\")\n        etValTwo.requestFocus()\n        return@onLAMmultiply\n    }\n\n    var X = etValOne.text.toString()\n    var Y = etValTwo.text.toString()\n    val multB = {X:Double,Y:Double -&gt; X.times(Y)}\n    val df = DecimalFormat(\"0.00\")\n    //val df = DecimalFormat(\"#.##\")\n    df.roundingMode = RoundingMode.CEILING\n    df.format(multB(X.toDouble(),Y.toDouble()))\n    etANS.setText(df.format(multB(X.toDouble(),Y.toDouble())).toString())\n    etANS.setText(multB(X.toDouble(),Y.toDouble()).toString())\n\n}\n\nfun Context.toast(message: String) {\n    Toast.makeText(this, message, Toast.LENGTH_SHORT).show()\n}\n\nfun error(msg:String){\n    object : CountDownTimer(4000, 1000) {\n        override fun onTick(millisUntilFinished: Long) {\n            tvError.visibility = View.VISIBLE\n            tvError.setText(msg)\n        }\n        override fun onFinish() {\n            tvError.visibility = View.INVISIBLE\n            tvError.setText(\"\")\n        }\n    }.start()\n}\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "accepted_answer_id": 49375381, "answer_count": 4, "score": 1, "last_activity_date": 1535912291, "creation_date": 1521507436, "last_edit_date": 1521551795, "question_id": 49374774, "link": "https://stackoverflow.com/questions/49374774/how-to-delay-to-assign-a-value-to-a-val-in-kotlin", "title": "How to delay to assign a value to a val in kotlin?", "body": "<p>I define mContext as val and I need to assign a value to it in the fun onCreate.</p>\n\n<p>The code <code>private lateinit val mContext: Context</code> isn't correct, how can I do?</p>\n\n<pre><code>class UIMain : AppCompatActivity() {\n\n    private val mContext: Context\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.layout_main)\n\n        mContext = this\n    }\n}\n</code></pre>\n\n<p><strong>Answer Strelok</strong></p>\n\n<p>The keyword <code>this</code> isn't always fit, just like the following code, so I think it's more handier to assign <code>this</code> to mContext.</p>\n\n<pre><code> private Context mContext;\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.layout_main);\n\n        mContext=this;\n\n        findViewById(R.id.btnClose).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getApplicationContext(), \"Hello A\", Toast.LENGTH_LONG).show();\n                Toast.makeText(mContext, \"Hello B\", Toast.LENGTH_LONG).show();\n                //Toast.makeText(this, \"Hello C\", Toast.LENGTH_LONG).show(); //Doesn't work\n                finish();\n            }\n        });\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "spring-jdbc"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1521498388, "post_id": 49373053, "comment_id": 85748008, "body": "What error do you see actually? is passing null to addValue the problem?"}, {"owner": {"reputation": 5548, "user_id": 2272004, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5a4a49705088dabef2989f0008cf405f?s=128&d=identicon&r=PG", "display_name": "greyfox", "link": "https://stackoverflow.com/users/2272004/greyfox"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1521528016, "post_id": 49373053, "comment_id": 85756151, "body": "Yea I can&#39;t pass null or a nullable type even"}], "answers": [{"comments": [{"owner": {"reputation": 5548, "user_id": 2272004, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5a4a49705088dabef2989f0008cf405f?s=128&d=identicon&r=PG", "display_name": "greyfox", "link": "https://stackoverflow.com/users/2272004/greyfox"}, "edited": false, "score": 0, "creation_date": 1521527990, "post_id": 49374434, "comment_id": 85756140, "body": "This does not compile because branchId?toString() returns String? and it is requiring a non nullable type."}, {"owner": {"reputation": 101, "user_id": 6044858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614b4c174365eeb8d37b68a943a966a4?s=128&d=identicon&r=PG", "display_name": "Jun Bach", "link": "https://stackoverflow.com/users/6044858/jun-bach"}, "reply_to_user": {"reputation": 5548, "user_id": 2272004, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5a4a49705088dabef2989f0008cf405f?s=128&d=identicon&r=PG", "display_name": "greyfox", "link": "https://stackoverflow.com/users/2272004/greyfox"}, "edited": false, "score": 0, "creation_date": 1521538285, "post_id": 49374434, "comment_id": 85761735, "body": "@greyfox Try to use: <code>branchId?.toString() ?: &quot;&quot;</code> or <code>branchId ?: &quot;&quot;</code> The empty string in quote is the return value in case the left side of <code>?:</code> is null"}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 0, "last_activity_date": 1521504789, "creation_date": 1521504789, "answer_id": 49374434, "question_id": 49373053, "link": "https://stackoverflow.com/questions/49373053/kotlin-spring-jdbc-cannot-use-null/49374434#49374434", "title": "Kotlin Spring Jdbc Cannot Use NULL", "body": "<p>If you call your method with a null <code>branchId</code> parameter and inside your method you use that parameter with the <code>!!</code> operator, you will get a NullPointerException because that's what the <code>!!</code> operator does. Shouldn't you use the parameter in your method somehow? Maybe like this:</p>\n\n<pre><code>override fun getBankers(branchId: UUID?): Iterable&lt;Banker&gt; {\n    val query = this.sql.getProperty(\"banker.selectByBranch\")\n    val params = MapSqlParameterSource()\n            .addValue(\"branchId\", branchId?.toString())\n    return this.jdbcTemplate.query(query, params, BankerRowMapper())\n}\n</code></pre>\n"}], "owner": {"reputation": 5548, "user_id": 2272004, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5a4a49705088dabef2989f0008cf405f?s=128&d=identicon&r=PG", "display_name": "greyfox", "link": "https://stackoverflow.com/users/2272004/greyfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521504789, "creation_date": 1521496834, "question_id": 49373053, "link": "https://stackoverflow.com/questions/49373053/kotlin-spring-jdbc-cannot-use-null", "title": "Kotlin Spring Jdbc Cannot Use NULL", "body": "<p>I have the following method in a Spring Boot application using Kotlin. It won't compile because addValue method takes String paramName, and Object value. In my case passing NULL is a valid case, because I want all bankers, not ones from a specific branch.</p>\n\n<p>Is there anyway to work around this in Kotlin. </p>\n\n<pre><code>override fun getBankers(branchId: UUID?): Iterable&lt;Banker&gt; {\n    val query = this.sql.getProperty(\"banker.selectByBranch\")\n    val params = MapSqlParameterSource()\n            .addValue(\"branchId\", null)\n    return this.jdbcTemplate.query(query, params, BankerRowMapper())\n}\n</code></pre>\n\n<p>If I do branchId!! I get an NPE.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1521503949, "post_id": 49372917, "comment_id": 85749832, "body": "What&#39;s the returned boolean? Third parameter can be a <code>ResultReceiver</code>, what number does it receive if you use it?"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1521546513, "post_id": 49372917, "comment_id": 85767478, "body": "does <code>imm.requestHideSelf</code>  work?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9519356"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1521562656, "post_id": 49372917, "comment_id": 85779959, "body": "@EugenPechanec it goes into the method (the view is not null)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9519356"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1521562669, "post_id": 49372917, "comment_id": 85779968, "body": "@Lovis no such function"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1521587373, "post_id": 49372917, "comment_id": 85792998, "body": "Whoop, sorry. You&#39;re right, it&#39;s in <code>InputMethodService</code>. And you&#39;re not supposed to obtain that."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9519356"}, "edited": false, "score": 0, "creation_date": 1522588614, "post_id": 49529566, "comment_id": 86204087, "body": "Thanks! It doesn&#39;t work perfectly, but it&#39;s still better than before :D Now what it does is, that the keyboard shows for ~0.5s and then hides"}], "tags": [], "owner": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "is_accepted": true, "score": 4, "last_activity_date": 1522225623, "creation_date": 1522225623, "answer_id": 49529566, "question_id": 49372917, "link": "https://stackoverflow.com/questions/49372917/android-hide-keyboard-on-android-8/49529566#49529566", "title": "Android - Hide keyboard on Android 8", "body": "<p>Instead of <code>hideSoftInputFromWindow</code> you can use <code>toggleSoftInput</code>.</p>\n\n<pre><code>val imm: InputMethodManager = getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\nif (imm.isActive)\n     imm.toggleSoftInput(InputMethodManager.HIDE_IMPLICIT_ONLY, 0)\n</code></pre>\n\n<p>works for Android 8 on the emulator at least</p>\n"}, {"tags": [], "owner": {"reputation": 298, "user_id": 7792216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wcXjr.jpg?s=128&g=1", "display_name": "Mikkel J&#248;rgensen", "link": "https://stackoverflow.com/users/7792216/mikkel-j%c3%b8rgensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1522411332, "last_edit_date": 1522411332, "creation_date": 1522230598, "answer_id": 49531326, "question_id": 49372917, "link": "https://stackoverflow.com/questions/49372917/android-hide-keyboard-on-android-8/49531326#49531326", "title": "Android - Hide keyboard on Android 8", "body": "<p>I had the same issue recently, and worked around it by providing the root view from (in my case) the fragment for the window token instead of the activity's current focus. \n<BR><BR>This way, the keyboard is dismissed, and focus in the <code>EditText</code> is maintained.</p>\n\n<p>Tested on Pixel 2 XL running <code>Android 8.1</code>:</p>\n\n<pre><code>/**\n * Hides the Soft Keyboard on demand\n *\n * @param activity the activity from which to get the IMM\n * @param view the view from which to provide a windowToken\n */\nfun hideSoftKeyboard(activity: Activity, view: View?) {\n    val inputMethodManager = activity.getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\n    inputMethodManager.hideSoftInputFromWindow(view?.windowToken, 0)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 1059419, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5ff5406283a1ec139a16ecdf00c7838?s=128&d=identicon&r=PG", "display_name": "Yaroslav Samardak", "link": "https://stackoverflow.com/users/1059419/yaroslav-samardak"}, "is_accepted": false, "score": 0, "last_activity_date": 1522235635, "creation_date": 1522235635, "answer_id": 49533029, "question_id": 49372917, "link": "https://stackoverflow.com/questions/49372917/android-hide-keyboard-on-android-8/49533029#49533029", "title": "Android - Hide keyboard on Android 8", "body": "<p>I had a similar problem and I solved it like this:</p>\n\n<pre><code>class MainActivity : Activity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        ...\n        window.setSoftInputMode(\n            WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN)\n\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>This is not the most elegant solution. But in my situation it was acceptable</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 4650003, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ISRa8w7MRuE/AAAAAAAAAAI/AAAAAAAAADo/xSPbnXLI-yQ/photo.jpg?sz=128", "display_name": "Pratik Powar", "link": "https://stackoverflow.com/users/4650003/pratik-powar"}, "is_accepted": false, "score": 0, "last_activity_date": 1522410565, "creation_date": 1522410565, "answer_id": 49573888, "question_id": 49372917, "link": "https://stackoverflow.com/questions/49372917/android-hide-keyboard-on-android-8/49573888#49573888", "title": "Android - Hide keyboard on Android 8", "body": "<p>Use this method I have created</p>\n\n<pre><code>    public static void showHideInput(Context context,boolean visibility, View view){\n\n    if (view != null) {\n        InputMethodManager imm = (InputMethodManager) context.getSystemService(Context.INPUT_METHOD_SERVICE);\n        if (visibility) imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, InputMethodManager.HIDE_IMPLICIT_ONLY);\n        else imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5237, "user_id": 3062697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qIq02.jpg?s=128&g=1", "display_name": "Gent Berani", "link": "https://stackoverflow.com/users/3062697/gent-berani"}, "is_accepted": false, "score": 1, "last_activity_date": 1544516532, "last_edit_date": 1544516532, "creation_date": 1522411190, "answer_id": 49574041, "question_id": 49372917, "link": "https://stackoverflow.com/questions/49372917/android-hide-keyboard-on-android-8/49574041#49574041", "title": "Android - Hide keyboard on Android 8", "body": "<p>Here you have two static functions to hide keyboard, depend on your case which one you want to use. I tested on Android Oreo and it works.</p>\n\n<pre><code>object UIHelper {\n\n            fun hideSoftKeyboard(activity: Activity?) {\n                if (activity != null) {\n                    val inputManager = activity.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n                    if (activity.currentFocus != null &amp;&amp; inputManager != null) {\n                        inputManager.hideSoftInputFromWindow(activity.currentFocus!!.windowToken, 0)\n                        inputManager.hideSoftInputFromInputMethod(activity.currentFocus!!.windowToken, 0)\n                    }\n                }\n            }\n\n            fun hideSoftKeyboard(view: View?) {\n                if (view != null) {\n                    val inputManager = view!!.getContext().getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n                    inputManager?.hideSoftInputFromWindow(view!!.getWindowToken(), 0)\n                }\n            }\n\n            fun showKeyboard(activityContext: Context, editText: EditText) {\n                editText.requestFocus()\n                Handler().postDelayed(Runnable {\n                    val inputMethodManager = activityContext.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n                    inputMethodManager.showSoftInput(editText, InputMethodManager.SHOW_IMPLICIT)\n                }, 250)\n            }\n        }\n</code></pre>\n\n<p>Example of use:</p>\n\n<ol>\n<li><code>UIHelper.hideSoftKeyboard(this)</code> </li>\n<li><code>UIHelper.hideSoftKeyboard(passwordField)</code></li>\n</ol>\n\n<p>To show:</p>\n\n<pre><code>    UIHelper.showKeyboard(this, passwordField)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 573, "user_id": 1537916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a565084904efb180c6e83ad003f7c841?s=128&d=identicon&r=PG", "display_name": "mmmatey", "link": "https://stackoverflow.com/users/1537916/mmmatey"}, "is_accepted": false, "score": 0, "last_activity_date": 1522432578, "creation_date": 1522432578, "answer_id": 49579102, "question_id": 49372917, "link": "https://stackoverflow.com/questions/49372917/android-hide-keyboard-on-android-8/49579102#49579102", "title": "Android - Hide keyboard on Android 8", "body": "<p>Hide keyboard inside runnable, with calling post method of your view:</p>\n\n<pre><code>view.post(() -&gt; {\n   hideKeyboard(view);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9519356"}, "is_accepted": false, "score": 3, "last_activity_date": 1523379841, "creation_date": 1523379841, "answer_id": 49759277, "question_id": 49372917, "link": "https://stackoverflow.com/questions/49372917/android-hide-keyboard-on-android-8/49759277#49759277", "title": "Android - Hide keyboard on Android 8", "body": "<p>The @EarlOfEgo 's solution caused some troubles on older Android versions. This is the ideal solution, which works perfectly on all (at least almost) Android versions: </p>\n\n<pre><code>protected fun hideKeyboard() {\n    val view = activity.currentFocus\n    if(android.os.Build.VERSION.SDK_INT &gt;= 26) {\n        val imm: InputMethodManager = context.getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\n        view?.post({\n            imm.hideSoftInputFromWindow(activity.currentFocus.windowToken, 0)\n            imm.hideSoftInputFromInputMethod(activity.currentFocus.windowToken, 0)\n        })\n    } else {\n        if (view != null) {\n            val imm = activity.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n            imm.hideSoftInputFromWindow(view.windowToken, 0)\n            imm.hideSoftInputFromInputMethod(view.windowToken, 0)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 955, "user_id": 4695618, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lH3XH.jpg?s=128&g=1", "display_name": "Salim Lachdhaf", "link": "https://stackoverflow.com/users/4695618/salim-lachdhaf"}, "is_accepted": false, "score": 0, "last_activity_date": 1539273294, "creation_date": 1539273294, "answer_id": 52764297, "question_id": 49372917, "link": "https://stackoverflow.com/questions/49372917/android-hide-keyboard-on-android-8/52764297#52764297", "title": "Android - Hide keyboard on Android 8", "body": "<p>just try this method to intercept the focus event and hide the softkeyboard:</p>\n\n<pre><code>@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n    super.onWindowFocusChanged(hasFocus);\n\n    if (hasFocus) {\n        View lFocused = getCurrentFocus();\n        if (lFocused != null)\n            lFocused.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    InputMethodManager lInputManager = (InputMethodManager) pContext.getSystemService(Context.INPUT_METHOD_SERVICE);\n                    lInputManager.hideSoftInputFromWindow(getCurrentFocus().getWindowToken(), 0);\n                }\n            }, 100);//Modified to 100ms to intercept SoftKeyBoard on Android 8 (Oreo) and hide it.\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9519356"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3450, "favorite_count": 4, "accepted_answer_id": 49529566, "answer_count": 8, "score": 17, "last_activity_date": 1544516532, "creation_date": 1521496186, "last_edit_date": 1521496509, "question_id": 49372917, "link": "https://stackoverflow.com/questions/49372917/android-hide-keyboard-on-android-8", "title": "Android - Hide keyboard on Android 8", "body": "<p>I'm having troubles with hiding the keyboard on Android 8.\nI used this before and it worked for the older androids: </p>\n\n<pre><code>    val view = activity.currentFocus\n    if (view != null) {\n        val imm = activity.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager\n        imm.hideSoftInputFromWindow(view.windowToken, 0)\n    }\n</code></pre>\n\n<p>Android 8 just ignores it and shows the keyboard anyway.\nProbably making the input field unfocusable would help, but I really need it to be focusable, so this is not an option.</p>\n"}, {"tags": ["reactjs", "kotlin", "reason", "ktor"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1521495130, "post_id": 49372329, "comment_id": 85746515, "body": "This depends on what it means to &quot;make production tar&quot; - how do you intend to serve the React app in production?"}, {"owner": {"reputation": 8735, "user_id": 511837, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ZOTKx.png?s=128&g=1", "display_name": "igr", "link": "https://stackoverflow.com/users/511837/igr"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1521534108, "post_id": 49372329, "comment_id": 85759118, "body": "@OliverCharlesworth updated the question"}], "answers": [{"tags": [], "owner": {"reputation": 9485, "user_id": 20371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/32c7a412ad0caf812ae974df5eb8ffcd?s=128&d=identicon&r=PG", "display_name": "Yawar", "link": "https://stackoverflow.com/users/20371/yawar"}, "is_accepted": true, "score": 1, "last_activity_date": 1521583874, "creation_date": 1521583874, "answer_id": 49394971, "question_id": 49372329, "link": "https://stackoverflow.com/questions/49372329/how-to-pack-reason-and-ktor-apps-together-in-a-bundle-with-gradle/49394971#49394971", "title": "How to pack Reason and Ktor apps together in a bundle with Gradle?", "body": "<p>I'm not sure about the Kotlin and Ktor parts, but on the Reason/React side I'd recommend <a href=\"http://parceljs.org/\" rel=\"nofollow noreferrer\">Parcel</a> to bundle your HTML/JS/CSS assets into a form suitable for serving statically, and also use it as a development server for fast iteration.</p>\n\n<p>Parcel requires zero config for most cases and you can point it at your entrypoint asset, usually your <code>index.html</code> file in your UI project, and in production builds it will bundle everything (HTML/JS/CSS) inside a <code>dist/</code> subdirectory ready to be served. Then just point your Kotlin webapp to serve <code>dist/index.html</code> for the <code>/</code> route.</p>\n\n<p>For development builds Parcel will automatically start up a development server at <code>localhost:1234</code> with auto-reloading. When you're iterating on the UI, the BuckleScript incremental build along with the Parcel reload, should be pretty fast\u2013usually almost instant.</p>\n"}], "owner": {"reputation": 8735, "user_id": 511837, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ZOTKx.png?s=128&g=1", "display_name": "igr", "link": "https://stackoverflow.com/users/511837/igr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 49394971, "answer_count": 1, "score": 1, "last_activity_date": 1521583874, "creation_date": 1521493395, "last_edit_date": 1521534479, "question_id": 49372329, "link": "https://stackoverflow.com/questions/49372329/how-to-pack-reason-and-ktor-apps-together-in-a-bundle-with-gradle", "title": "How to pack Reason and Ktor apps together in a bundle with Gradle?", "body": "<p>I have the following structure:</p>\n\n<pre><code>/             -&gt; root\n/react-app    -&gt; Reason app (initialized using cli)\n/webapp       -&gt; gradle app, maven structure with Gradle build file\n</code></pre>\n\n<p>I am not sure how to build everything so I can:</p>\n\n<ol>\n<li>run server locally so I can debug</li>\n<li>make production tar (using the <code>application</code> plugin for example)</li>\n</ol>\n\n<h3>Production</h3>\n\n<p>The production should look like this:</p>\n\n<ul>\n<li>ktor as a main server</li>\n<li>ktor app has API</li>\n<li>all react JS/HTML files are also served by ktor</li>\n</ul>\n\n<p>In other words, I would like to serve everything from single web app.</p>\n\n<p>I am aware that I could make 2 separate services - one for react, one for API. But I want to bundle this together into single app.</p>\n\n<h3>Local development</h3>\n\n<p>Local development should be quick. I was thinking in having separate React and API part for the local purpose only, as that is easier to run locally. But for production I need those two to be served from single app.</p>\n\n<h3>What I would like to have</h3>\n\n<p>is a single Gradle in the root and having modules. While ktor can be a module, I am not sure how to operate with react module.</p>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1521493240, "post_id": 49372141, "comment_id": 85745627, "body": "you&#39;re not injecting <code>Repository</code>, you could make it part of the dependency graph and provide it from a module"}], "answers": [{"comments": [{"owner": {"reputation": 11316, "user_id": 1203565, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7KUis.jpg?s=128&g=1", "display_name": "Vihaan Verma", "link": "https://stackoverflow.com/users/1203565/vihaan-verma"}, "edited": false, "score": 0, "creation_date": 1521494334, "post_id": 49372343, "comment_id": 85746152, "body": "I&#39;m creating instance of repository somewhere else in code. Any idea about why field injection won&#39;t work ?"}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "reply_to_user": {"reputation": 11316, "user_id": 1203565, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7KUis.jpg?s=128&g=1", "display_name": "Vihaan Verma", "link": "https://stackoverflow.com/users/1203565/vihaan-verma"}, "edited": false, "score": 1, "creation_date": 1521494504, "post_id": 49372343, "comment_id": 85746225, "body": "Do not create the instance yourself, inject it using <code>@Inject internal lateinit var repository: Repository</code>"}], "tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": false, "score": 0, "last_activity_date": 1521493461, "creation_date": 1521493461, "answer_id": 49372343, "question_id": 49372141, "link": "https://stackoverflow.com/questions/49372141/kotlin-dagger-retrofit-field-injection/49372343#49372343", "title": "kotlin dagger retrofit field injection", "body": "<p>Change your <code>Repository</code> to:</p>\n\n<pre><code>class Repository {\n\n    private var examsService: BlogExamsService\n\n    @Inject\n    constructor(retrofit: Retrofit) {\n        examsService = retrofit.create(BlogExamsService::class.java)!!\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 526, "user_id": 1388723, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6b44bccaf65a911e75189270498581b2?s=128&d=identicon&r=PG", "display_name": "BAZTED", "link": "https://stackoverflow.com/users/1388723/bazted"}, "is_accepted": false, "score": 2, "last_activity_date": 1521496267, "creation_date": 1521496267, "answer_id": 49372929, "question_id": 49372141, "link": "https://stackoverflow.com/questions/49372141/kotlin-dagger-retrofit-field-injection/49372929#49372929", "title": "kotlin dagger retrofit field injection", "body": "<p>Field injection won't work as you do not run <code>inject()</code> method.</p>\n\n<p>To make it work with your approach you should call in you <code>Repository</code> class:</p>\n\n<p><code>App.self.getComponent().inject(this)</code></p>\n\n<p>Where:</p>\n\n<p><code>self</code> is <code>static</code> instance of your application</p>\n\n<p><code>getComponent()</code> public getter for <code>ApplicationComponent</code></p>\n\n<p><strong>Though I would not recommend it in your case, it is a misuse of DI framework.</strong></p>\n\n<p>You should create <code>RepositoryModule</code> and <code>@Provide</code> instance of <code>Repository</code> the same as you have done with <code>NetworkModule</code>. </p>\n"}], "owner": {"reputation": 11316, "user_id": 1203565, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/7KUis.jpg?s=128&g=1", "display_name": "Vihaan Verma", "link": "https://stackoverflow.com/users/1203565/vihaan-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1521496267, "creation_date": 1521492494, "question_id": 49372141, "link": "https://stackoverflow.com/questions/49372141/kotlin-dagger-retrofit-field-injection", "title": "kotlin dagger retrofit field injection", "body": "<p>When trying to inject field variables using dagger I'm getting null. Here are the files. Some are in Java and some in Kotlin</p>\n\n<p>App.java</p>\n\n<pre><code>   public class App extends DaggerApplication{\n\n\n    @Override\n    protected AndroidInjector&lt;? extends DaggerApplication&gt; applicationInjector() {\n        return DaggerAppComponent.builder().application(this).build();\n    }\n}\n</code></pre>\n\n<p>AppComponent.kt</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(\n        NetworkModule::class,\n        ApplicationModule::class,\n        AndroidSupportInjectionModule::class\n        ))\ninterface AppComponent : AndroidInjector&lt;TBApplication&gt; {\n\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(application: Application): AppComponent.Builder\n\n        fun build(): AppComponent\n    }\n}\n</code></pre>\n\n<p>NetworkModule.kt</p>\n\n<pre><code>@Module\nclass NetworkModule {\n\n    @Provides\n    @Singleton\n    fun provideOkHttpClient(): OkHttpClient {\n        val builder = OkHttpClient.Builder();\n        if (BuildConfig.DEBUG) {\n            val interceptor = HttpLoggingInterceptor()\n            interceptor.setLevel(HttpLoggingInterceptor.Level.BODY)\n            builder.addInterceptor(interceptor).build()\n        }\n        return builder.build()\n    }\n\n    @Singleton\n    @Provides\n    fun provideRetrofit(client: OkHttpClient): Retrofit {\n        val retrofit = Retrofit.Builder()\n                .baseUrl(BaseApi.SITE_ENDPOINT)\n                .addConverterFactory(GsonConverterFactory.create())\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .client(client)\n                .build();\n        return retrofit\n    }\n\n\n}\n</code></pre>\n\n<p>// Repository where injection should be done</p>\n\n<pre><code>    class Repository {\n\n        private var examsService: BlogExamsService\n\n        @Inject\n        var retrofit: Retrofit? = null\n\n        init {\n            // retrofit is null here\n            examsService = retrofit?.create(BlogExamsService::class.java)!!\n        }\n   }\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin", "jacoco"], "comments": [{"owner": {"reputation": 526, "user_id": 1388723, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6b44bccaf65a911e75189270498581b2?s=128&d=identicon&r=PG", "display_name": "BAZTED", "link": "https://stackoverflow.com/users/1388723/bazted"}, "edited": false, "score": 2, "creation_date": 1521496733, "post_id": 49372067, "comment_id": 85747282, "body": "It may be useful to report a bit bigger part of your <code>build.gradle</code> file. Also I would recommend you to remove your custom definition for this task and list <code>.&#47;gradlew tasks</code> or <code>gradle tasks</code> to check if such task is already defined in gradle&#39;s task list. Please post them here as well."}], "answers": [{"tags": [], "owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "is_accepted": false, "score": 3, "last_activity_date": 1538377676, "last_edit_date": 1538377676, "creation_date": 1521507835, "answer_id": 49374833, "question_id": 49372067, "link": "https://stackoverflow.com/questions/49372067/cannot-add-task-jacocotestreport-as-a-task-with-that-name-already-exists/49374833#49374833", "title": "Cannot add task &#39;:jacocoTestReport&#39; as a task with that name already exists", "body": "<p>Assuming you're already applying the Jacoco Gradle plugin, then yes, it already defines a task called <code>jacocoTestReport</code>, hence the error.</p>\n\n<p>All you need to do is define your specific settings as per the documentation <a href=\"https://docs.gradle.org/current/userguide/jacoco_plugin.html#sec:jacoco_report_configuration\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/jacoco_plugin.html#sec:jacoco_report_configuration</a></p>\n\n<p>an example is below:</p>\n\n<pre><code>jacocoTestReport {\n  dependsOn \"testDebugUnitTest\"\n    reports {\n        xml.enabled = true\n        html.enabled = true\n    }\n}\n</code></pre>\n\n<p>Most of the other configuration items you've listed belong in the 'jacoco' configuration block.\n<a href=\"https://docs.gradle.org/current/userguide/jacoco_plugin.html#sec:jacoco_specific_task_configuration\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/jacoco_plugin.html#sec:jacoco_specific_task_configuration</a></p>\n"}], "owner": {"reputation": 780, "user_id": 5261088, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8256e8a248d8bcde285d3b97f77e36b0?s=128&d=identicon&r=PG&f=1", "display_name": "MickeyThreeSheds", "link": "https://stackoverflow.com/users/5261088/mickeythreesheds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3441, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538377676, "creation_date": 1521492171, "question_id": 49372067, "link": "https://stackoverflow.com/questions/49372067/cannot-add-task-jacocotestreport-as-a-task-with-that-name-already-exists", "title": "Cannot add task &#39;:jacocoTestReport&#39; as a task with that name already exists", "body": "<p>I am trying to add the following task so that I can get some coverage data in my java + kotlin project (for what it is worth, this is a gradle project)... but I get the following error : </p>\n\n<p>\"Cannot add task ':jacocoTestReport' as a task with that name already exists\"</p>\n\n<p>Here is the actual task I am trying to add : </p>\n\n<pre><code>task jacocoTestReport(type: JacocoReport, dependsOn: \"testDebugUnitTest\") {\ngroup = \"Reporting\"\ndescription = \"Generate Jacoco coverage reports for Debug build\"\n\nreports {\n    xml.enabled = true\n    html.enabled = true\n}\n\n// what to exclude from coverage report\n// UI, \"noise\", generated classes, platform classes, etc.\ndef excludes = [\n        '**/R.class',\n        '**/R$*.class',\n        '**/*$ViewInjector*.*',\n        '**/BuildConfig.*',\n        '**/Manifest*.*',\n        '**/*Test*.*',\n        'android/**/*.*',\n        '**/*Fragment.*',\n        '**/*Activity.*'\n]\n// generated classes\nclassDirectories = fileTree(\n        dir: \"$buildDir/intermediates/classes/debug\",\n        excludes: excludes\n) + fileTree(\n        dir: \"$buildDir/tmp/kotlin-classes/debug\",\n        excludes: excludes\n)\n\n// sources\nsourceDirectories = files([\n        android.sourceSets.main.java.srcDirs,\n        \"src/main/kotlin\"\n])\n    executionData = files(\"$buildDir/jacoco/testDebugUnitTest.exec\")\n}\n</code></pre>\n\n<p>Now, the issue I am confused about here, is that I can't find another class of this name anywhere... so perhaps there is something funky going on? I have tried googling this, but haven't really been able to find anything which truly helps me solve the problem.</p>\n\n<p>All help greatly appreciated. I realize this is not a java or kotlin specific problem - but since it is a joint java + kotlin project, I thought I would tag both in this question, in case there is some nuanced issue that somebody else has seen.</p>\n"}, {"tags": ["java", "gradle", "kotlin", "spek"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 4097036, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-gyhuIwSo5OI/AAAAAAAAAAI/AAAAAAAAADY/L9NV4CS8j6o/photo.jpg?sz=128", "display_name": "Eddie Greathouse", "link": "https://stackoverflow.com/users/4097036/eddie-greathouse"}, "edited": false, "score": 0, "creation_date": 1576159909, "post_id": 49545908, "comment_id": 104815110, "body": "I thought you should have your main class in <code>src&#47;main&#47;kotlin&#47;</code> and then your tests in &#39;src/test/kotlin&#39;. Please confirm!"}], "tags": [], "owner": {"reputation": 141, "user_id": 3907500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9eb736499dbd0fc0290bbb1b982a398?s=128&d=identicon&r=PG&f=1", "display_name": "Abakada", "link": "https://stackoverflow.com/users/3907500/abakada"}, "is_accepted": true, "score": 0, "last_activity_date": 1522280745, "creation_date": 1522280745, "answer_id": 49545908, "question_id": 49368490, "link": "https://stackoverflow.com/questions/49368490/unresolved-reference-errors-with-testcompile/49545908#49545908", "title": "&quot;Unresolved reference:&quot; errors with testCompile", "body": "<p>I found out the cause. My tests are inside my <code>Source Folder</code>.</p>\n\n<p>To fix this, I moved my tests out, so <code>Source Folder</code> will not overlap with <code>Tests Source Folder</code>.</p>\n"}], "owner": {"reputation": 141, "user_id": 3907500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9eb736499dbd0fc0290bbb1b982a398?s=128&d=identicon&r=PG&f=1", "display_name": "Abakada", "link": "https://stackoverflow.com/users/3907500/abakada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 739, "favorite_count": 0, "accepted_answer_id": 49545908, "answer_count": 1, "score": 0, "last_activity_date": 1522280745, "creation_date": 1521478817, "last_edit_date": 1521928049, "question_id": 49368490, "link": "https://stackoverflow.com/questions/49368490/unresolved-reference-errors-with-testcompile", "title": "&quot;Unresolved reference:&quot; errors with testCompile", "body": "<p>Currently, I'm getting <code>Unresolved reference: spek</code> and <code>Unresolved reference: test</code> with <code>testCompile / testRuntime</code>:</p>\n\n<pre><code>project(\":core\") {\n        apply plugin: \"kotlin\"\n\n        dependencies {\n            // ... other dependencies\n            testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlinVersion\"\n            testCompile \"org.jetbrains.spek:spek-api:$spekVersion\"\n            testRuntime \"org.jetbrains.spek:spek-junit-platform-engine:$spekVersion\"\n            testCompile \"com.nhaarman:mockito-kotlin:$mockitoVersion\"\n            testCompile \"com.natpryce:hamkrest:$hamkrestVersion\"\n        }\n    }\n</code></pre>\n\n<p>However, when I switch them with <code>compile / runtime</code>, I can run the tests successfully!</p>\n\n<p>Here's my spek test:</p>\n\n<pre><code>package com.mysampleapp\n\nimport org.jetbrains.spek.api.Spek\nimport org.jetbrains.spek.api.dsl.describe\nimport org.jetbrains.spek.api.dsl.it\nimport kotlin.test.assertEquals\n\nclass DummySpec : Spek({\n    describe(\"a dummy\") {\n        it(\"contains a number\") {\n            val dummy = Dummy(1)\n\n            assertEquals(1, dummy.number)\n        }\n    }\n})\n</code></pre>\n\n<p>Could someone please help me to debug this?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "firebaseui"], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "edited": false, "score": 0, "creation_date": 1521549870, "post_id": 49374635, "comment_id": 85769872, "body": "Just to make sure i understand it: <code>var phones: Map&lt;String, Any?&gt; = mapOf()</code> stores the Collection <code>phones</code> and i could access the actual <code>Phone</code> object via <code>phoneObjects</code>.  What i am confused about is the <code>@Exclude</code> annotation. Wouldn&#39;t this prevent the respective properties from beeing stored in Firestore?"}, {"owner": {"reputation": 3492, "user_id": 4548500, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/682a8ee4855d2f4617199afbd9fd23cf?s=128&d=identicon&r=PG", "display_name": "SUPERCILEX", "link": "https://stackoverflow.com/users/4548500/supercilex"}, "reply_to_user": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "edited": false, "score": 0, "creation_date": 1521562847, "post_id": 49374635, "comment_id": 85780104, "body": "Yeah, you got it. About the annotations, do you use proguard? If not, you don&#39;t need any of them. Otherwise, the exclude annotations are there to ensure your fields don&#39;t accidentally get added to Firebase since proguard is allowed to make them public. And the keep ones only apply to the getters and setters. I was just trying to save you the pain of going &quot;What!? Why are my release builds crashing?&quot; \ud83d\ude0a"}], "tags": [], "owner": {"reputation": 3492, "user_id": 4548500, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/682a8ee4855d2f4617199afbd9fd23cf?s=128&d=identicon&r=PG", "display_name": "SUPERCILEX", "link": "https://stackoverflow.com/users/4548500/supercilex"}, "is_accepted": true, "score": 1, "last_activity_date": 1521506286, "creation_date": 1521506286, "answer_id": 49374635, "question_id": 49368359, "link": "https://stackoverflow.com/questions/49368359/managing-custom-models-with-list-attributes-as-documents-with-subcollections/49374635#49374635", "title": "Managing custom models with list attributes as documents with subcollections", "body": "<p>I think you're over engineering things. \ud83d\ude02 It would be much better Kotlin to have those properties be initialized from the constructor through parameters rather than the crazy delegation you're doing. (Though I must applaud you for pushing the language to its limits! \ud83d\udc4d) As it so happens, the <code>toObject</code> method works very nicely with those best practices. So your <code>Contact</code> class should look something like this:</p>\n\n<pre><code>data class Contact(\n        @Exclude\n        @get:Keep\n        @set:Keep\n        var nameDisplay: String? = null,\n\n        @Exclude\n        @get:Keep\n        @set:Keep\n        var nickname: String? = null,\n\n        @Exclude\n        @get:Keep\n        @set:Keep\n        var organisation: String? = null,\n\n        @Exclude\n        @get:Keep\n        @set:Keep\n        @set:RestrictTo(RestrictTo.Scope.TESTS) // Hack b/c Firebase needs a setter but we don't\n        var phones: Map&lt;String, Any?&gt; = mapOf()\n) {\n    val phoneObjects: MutableList&lt;User&gt; by lazy {\n        phones.parse() // Map them to your phone objects\n    }\n}\n</code></pre>\n\n<p>That's a bit ugly but lets you use the <code>toObject</code> method. A version with more code but that makes for a prettier data class would be manually passing in the parameters with <code>snapshot.getString(...)</code>. However, if you really want to go the delegation route, I'm pretty sure you could just delegate the phones property to the map as well and then just pass in the snapshot data: <code>Contact(snapshot.data)</code>.</p>\n"}], "owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 49374635, "answer_count": 1, "score": 0, "last_activity_date": 1521506286, "creation_date": 1521478405, "question_id": 49368359, "link": "https://stackoverflow.com/questions/49368359/managing-custom-models-with-list-attributes-as-documents-with-subcollections", "title": "Managing custom models with list attributes as documents with subcollections", "body": "<p>I have a <code>Contact</code> model which holds different attributes and lists of attributes. Now i want to store these in Firestore but with the lists as subcollections of the respective document.</p>\n\n<p>A minimal example of the <code>Contact</code> model looks like this (note that the list is excluded from the map):</p>\n\n<pre><code>class Contact(private val map: MutableMap&lt;String, Any?&gt;){\n    var nameDisplay:String? by map\n    var nickname:String? by map\n    var organisation:String? by map\n    val phones:ArrayList&lt;Phone&gt; = ArrayList()\n}\n</code></pre>\n\n<p>With this representation in Firestore:</p>\n\n<pre><code>contacts:\n    contact1\n        nameDisplay = \"Test\"\n        nickname = \"Test\"\n        organisation = \"some corp\"\n        phones:\n            phone1\n                number = 8243525\n                label = \"this guy\"\n            phone2\n                number = 8243525433\n                label = \"this guy\"\n    contact2\n        ....\n</code></pre>\n\n<p>I am looking for a way to best implement this behavior.</p>\n\n<p>A working solution i found is with a secondary constructor where i can pass the collections seperately.</p>\n\n<p>A desired implementation would be the default implementation for custom objects but with the above behavior:</p>\n\n<pre><code>var contact: Contact = documentSnapshot.toObject(Contact::class.java);\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-android"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1521478666, "post_id": 49368322, "comment_id": 85737714, "body": "What is this <code>subscriptionRepository</code>? Android databases, for some reason, decided to act as infinite sources, thus they won&#39;t complete, so <code>toList</code> can&#39;t either."}, {"owner": {"reputation": 394, "user_id": 2585294, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/1cc0594c68f9b9a37c65933e82807812?s=128&d=identicon&r=PG", "display_name": "makis kontis", "link": "https://stackoverflow.com/users/2585294/makis-kontis"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1521478756, "post_id": 49368322, "comment_id": 85737781, "body": "yeah its actually making a query to my local db through my repository class. So if it is acting as an infite loop how shall i handle it?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1521479117, "post_id": 49368322, "comment_id": 85737994, "body": "If there is only one component per uuid returned, make that API return <code>Single</code> or add <code>take(1)</code> after the repository call."}, {"owner": {"reputation": 394, "user_id": 2585294, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/1cc0594c68f9b9a37c65933e82807812?s=128&d=identicon&r=PG", "display_name": "makis kontis", "link": "https://stackoverflow.com/users/2585294/makis-kontis"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1521479978, "post_id": 49368322, "comment_id": 85738499, "body": "If i add take(1) then i get a list of size 1 which is not correct"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1521480365, "post_id": 49368322, "comment_id": 85738730, "body": "Then see if you can make your database return <code>Single&lt;List&lt;componenttype&gt;&gt;</code> so that the call ends, then use <code>flattenAsObservable</code> before filtering."}, {"owner": {"reputation": 394, "user_id": 2585294, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/1cc0594c68f9b9a37c65933e82807812?s=128&d=identicon&r=PG", "display_name": "makis kontis", "link": "https://stackoverflow.com/users/2585294/makis-kontis"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1521480814, "post_id": 49368322, "comment_id": 85739007, "body": "What if i cannot do that? Do u think there is another way?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1521481366, "post_id": 49368322, "comment_id": 85739361, "body": "I&#39;m not experienced in Android databases, but so far, this type of issue could be resolved some way. Otherwise, as a last resort, you could use <code>timeout</code>."}, {"owner": {"reputation": 9043, "user_id": 632516, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lDpmr.jpg?s=128&g=1", "display_name": "Divers", "link": "https://stackoverflow.com/users/632516/divers"}, "edited": false, "score": 0, "creation_date": 1521485796, "post_id": 49368322, "comment_id": 85741846, "body": "Please post the code of <code>getComponentByUuid</code> method"}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1521529971, "post_id": 49368322, "comment_id": 85757079, "body": "Your <code>component -&gt; !component.enabled</code> code says that you are looking for only disabled components. Is it right? Because if there is no disabled components then there would be nothing to subscribe for."}], "answers": [{"tags": [], "owner": {"reputation": 259, "user_id": 1010373, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/831fb3ee2deb8daf1a0a466344020118?s=128&d=identicon&r=PG", "display_name": "user1010373", "link": "https://stackoverflow.com/users/1010373/user1010373"}, "is_accepted": false, "score": 1, "last_activity_date": 1523205067, "creation_date": 1523205067, "answer_id": 49720125, "question_id": 49368322, "link": "https://stackoverflow.com/questions/49368322/android-rxjava-tolist-not-returning-data/49720125#49720125", "title": "Android rxjava toList() not returning data", "body": "<p>toList() required onComplete to know when to return. Just call onComplete on your source.</p>\n"}], "owner": {"reputation": 394, "user_id": 2585294, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/1cc0594c68f9b9a37c65933e82807812?s=128&d=identicon&r=PG", "display_name": "makis kontis", "link": "https://stackoverflow.com/users/2585294/makis-kontis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523205067, "creation_date": 1521478299, "question_id": 49368322, "link": "https://stackoverflow.com/questions/49368322/android-rxjava-tolist-not-returning-data", "title": "Android rxjava toList() not returning data", "body": "<p>I have an <code>Observable</code> getting data from a <code>String</code> array. Each string is an id so i want to query my database table with that array and get an object. Finally i want to add the objects found in a list and return it in the <code>subscribe()</code> .Above i have the code i try to do it</p>\n\n<pre><code>val temp = Observable.from(plan.components)\n            .flatMap {\n                id -&gt; subscriptionRepository.getComponentByUuid(id)\n                    .filter { component -&gt; !component.enabled }\n            }\n            .map { component -&gt; component }\n            .toList()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe ({ list -&gt; TNLog.d(\"List size is: \"+list.size)})\n\n    unsubscribeOnUnbindView(temp)\n</code></pre>\n\n<p>Problem is that even though the code reaches the .map and can see the objects are correct, after the <code>.toList()</code> nothing is called. It seems like the <code>onComplete</code> is never called so <code>.subscribe()</code> doesn't either. How should i fix this issue?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 510, "user_id": 4837881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WViro.jpg?s=128&g=1", "display_name": "a23sokolov", "link": "https://stackoverflow.com/users/4837881/a23sokolov"}, "is_accepted": false, "score": 2, "last_activity_date": 1521478745, "creation_date": 1521478745, "answer_id": 49368471, "question_id": 49368288, "link": "https://stackoverflow.com/questions/49368288/does-kotlin-guarantee-that-a-range-check-doesnt-instantiate-a-range/49368471#49368471", "title": "Does Kotlin guarantee that a range check doesn&#39;t instantiate a Range?", "body": "<p>Example from <a href=\"https://kotlinlang.org/docs/reference/ranges.html\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<pre><code>if (i in 1..10) { // equivalent of 1 &lt;= i &amp;&amp; i &lt;= 10\n    println(i)\n}\n</code></pre>\n\n<p>I think it's language \"Sugar\" and it's equals!</p>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1521480182, "post_id": 49368655, "comment_id": 85738626, "body": "I hate to code against implementation details, but i guess that sentence, and the comment in the code example, combined with what I saw in the bytecode, put my worries at rest."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1521484087, "post_id": 49368655, "comment_id": 85740896, "body": "Yeah, I think this is a very safe bet, the optimization is basically promised by the docs. It&#39;s not an optimization that would disappear from the compiler with newer version or anything."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1521491026, "post_id": 49368655, "comment_id": 85744502, "body": "I just noticed the docs say &quot;for <i>integral</i> primitive types&quot;, whereas I deal with Floats :) But the optimization is still there."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1521493384, "post_id": 49368655, "comment_id": 85745687, "body": "It&#39;s &quot;integral&quot; as in essential or basic, not as in integer :)"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1521529190, "post_id": 49368655, "comment_id": 85756723, "body": "No, that word actually has a specified sense. See <a href=\"http://jetbrains.github.io/kotlin-spec/#_miscellaneous\" rel=\"nofollow noreferrer\">Kotlin spec</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-4.html#jls-4.2.1\" rel=\"nofollow noreferrer\">Java spec</a>."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1521529530, "post_id": 49368655, "comment_id": 85756870, "body": "Oh, I see, that&#39;s quite interesting. I still think the Kotlin docs might not be using it in the sense that the specs are."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1521537545, "post_id": 49368655, "comment_id": 85761222, "body": "I think it&#39;s an erratum because the very next sentence uses it correctly: &quot;Integral type ranges (<code>IntRange</code>, <code>LongRange</code>, <code>CharRange</code>) have an extra feature:  they can be iterated over&quot;. <code>FloatRange</code> cannot be iterated over. Taken as written, the docs give no guarantee for the optimization of the <code>FloatRange</code>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1521479343, "creation_date": 1521479343, "answer_id": 49368655, "question_id": 49368288, "link": "https://stackoverflow.com/questions/49368288/does-kotlin-guarantee-that-a-range-check-doesnt-instantiate-a-range/49368655#49368655", "title": "Does Kotlin guarantee that a range check doesn&#39;t instantiate a Range?", "body": "<p>You can check the bytecode generated by the Kotlin compiler yourself by searching actions and typing in \"Show Kotlin Bytecode\", or from the menu via Tools -> Kotlin -> Show Kotlin Bytecode.</p>\n\n<p>Optimizing range checks on primitives (Int, Double, etc) is a pretty trivial thing to do, so you'll find that the Kotlin compiler always does the optimization for you with these types. If you have just a few of these on your critical code path, you can check that it happens by hand to feel safe about using ranges.</p>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/ranges.html\" rel=\"noreferrer\">documentation</a> is brief about this, but it does say:</p>\n\n<blockquote>\n  <p>Range is defined for any comparable type, but for integral primitive types it has an optimized implementation.</p>\n</blockquote>\n"}], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1218, "favorite_count": 0, "accepted_answer_id": 49368655, "answer_count": 2, "score": 4, "last_activity_date": 1521479343, "creation_date": 1521478227, "question_id": 49368288, "link": "https://stackoverflow.com/questions/49368288/does-kotlin-guarantee-that-a-range-check-doesnt-instantiate-a-range", "title": "Does Kotlin guarantee that a range check doesn&#39;t instantiate a Range?", "body": "<p>In my Android app, I wrote</p>\n\n<pre><code>return x &gt;= rangeStart &amp;&amp; x &lt;= rangeEnd\n</code></pre>\n\n<p>IntelliJ has an inspection that wants me to change this to</p>\n\n<pre><code>return x in rangeStart..rangeEnd\n</code></pre>\n\n<p>however, since this code is on the critical path of high-volume event handling, I can accept the transformation only if I know for sure that the second form won't create any garbage. Is there such a guarantee in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1521477260, "post_id": 49367862, "comment_id": 85736748, "body": "<code>launch(UI)</code> runs on the UI thread, which is the foreground."}], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 4206907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oZScB.jpg?s=128&g=1", "display_name": "SteedsOfWar", "link": "https://stackoverflow.com/users/4206907/steedsofwar"}, "edited": false, "score": 0, "creation_date": 1521529879, "post_id": 49368404, "comment_id": 85757034, "body": "That is the sort of explanation i was looking for! Thank you."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 8, "last_activity_date": 1521487858, "last_edit_date": 1521487858, "creation_date": 1521478538, "answer_id": 49368404, "question_id": 49367862, "link": "https://stackoverflow.com/questions/49367862/kotlin-android-coroutines-suspend-function-doesnt-seem-to-run-in-the-backgrou/49368404#49368404", "title": "Kotlin Android Coroutines - suspend function doesn&#39;t seem to run in the background", "body": "<p>Coroutines aren't about running in either foreground or background. They are about the ability to get suspended, just like a native thread gets suspended by the OS, but on the level where you are in control of that behavior.</p>\n\n<p>When you say <code>launch(UI) { some code }</code>, you tell Kotlin to submit \"some code\" as a task to the GUI event loop. It will run on the GUI thread until explicitly suspended; the only difference is that it won't run right away so the next line of code below the <code>launch(UI)</code> block will run before it.</p>\n\n<p>The magic part comes around when your \"some code\" encounters a <code>suspendCoroutine</code> call: this is where its execution stops and you get a continuation object inside the block you pass to <code>suspendCoroutine</code>. You can do with that object whatever you want, typically store it somewhere and then resume it later on. </p>\n\n<p>Often you don't see the <code>suspendCoroutine</code> call because it's inside the implementation of some <code>suspend fun</code> you're calling, but you can freely implement your own.</p>\n\n<p>One such library function is <code>withContext</code> and it's the one you need to solve your problem. It creates another coroutine with the block you pass it, submits that coroutine to some other context you specify (a useful example is <code>CommonPool</code>) and then suspends the current coroutine until that other one completes. This is exactly what you need to turn a blocking call into a suspendable function.</p>\n\n<p>In your case, it would look like this:</p>\n\n<pre><code>private suspend fun store(data: JsonData) = withContext(CommonPool) {\n    val db = Room.databaseBuilder(applicationContext, AppDatabase::class.java, \"app-db\").build()\n    db.appDao().insert(storyData)\n}\n</code></pre>\n\n<p>I'll also add that you're better off creating your own threadpool instead of relying on the system-wide <code>CommonPool</code>. Refer to <a href=\"https://stackoverflow.com/questions/49217668/shut-down-the-underlying-executor-of-executorcoroutinedispatcher\">this thread</a> for details.</p>\n"}], "owner": {"reputation": 443, "user_id": 4206907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/oZScB.jpg?s=128&g=1", "display_name": "SteedsOfWar", "link": "https://stackoverflow.com/users/4206907/steedsofwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2957, "favorite_count": 2, "accepted_answer_id": 49368404, "answer_count": 1, "score": 0, "last_activity_date": 1552981160, "creation_date": 1521476922, "last_edit_date": 1552981160, "question_id": 49367862, "link": "https://stackoverflow.com/questions/49367862/kotlin-android-coroutines-suspend-function-doesnt-seem-to-run-in-the-backgrou", "title": "Kotlin Android Coroutines - suspend function doesn&#39;t seem to run in the background", "body": "<p>I feel like i'm missing some crucial part to my understanding to how this code below is working:</p>\n\n<hr>\n\n<pre><code>private fun retrieveAndStore() {\n        launch(UI) {\n            val service = retrofit.create(AWSService::class.java)\n            val response = service.retrieveData().await()\n            store(data = response)\n        }\n    }\n\n    private suspend fun store(data: JsonData) {\n        val db = Room.databaseBuilder(applicationContext, AppDatabase::class.java, \"app-db\").build()\n        db.appDao().insert(storyData)\n    }\n</code></pre>\n\n<p>This is the error i get when run:</p>\n\n<pre><code>java.lang.IllegalStateException: Cannot access database on the main thread since it may potentially lock the UI for a long period of time.\n</code></pre>\n\n<p>I don't understand why the network code via retrofit works but the store function fails.  I'm hoping someone can tell me what's going on?</p>\n\n<p>Interestingly if i wrap db call with async {}.await it works, does that mean coroutines can only call other coroutines?</p>\n"}, {"tags": ["java", "spring-boot", "websocket", "kotlin", "stomp"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1521488905, "post_id": 49367796, "comment_id": 85743443, "body": "How is the <code>handleData</code> called i.e. how is the instance of <code>STOMPDataListener</code>/<code>BridgeDataListener</code> created? &quot;Normally&quot; when Spring cannot bind to a field an exception is thrown. Since it&#39;s not the case for you I suspect the instance is not created by Spring."}], "answers": [{"tags": [], "owner": {"reputation": 24982, "user_id": 2069812, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b9968835eb719e5d78a04ba7a2bafbd?s=128&d=identicon&r=PG", "display_name": "Jeef", "link": "https://stackoverflow.com/users/2069812/jeef"}, "is_accepted": true, "score": 1, "last_activity_date": 1521503056, "creation_date": 1521503056, "answer_id": 49374163, "question_id": 49367796, "link": "https://stackoverflow.com/questions/49367796/how-to-send-from-server-arbitrarily-to-a-stomp-end-point-in-springboot/49374163#49374163", "title": "How to send from server arbitrarily to a STOMP end point in SpringBoot", "body": "<p>So It looks like I ended up solving my issue.  </p>\n\n<p><code>@Autowired</code> does not work if you instantiate a class with <code>new</code>.  As I was using some libraries I had to follow approach #3 from <a href=\"https://stackoverflow.com/a/19896871/2069812\">https://stackoverflow.com/a/19896871/2069812</a></p>\n\n<p>So I built a java class:</p>\n\n<pre><code>/**\n * See: https://stackoverflow.com/a/19896871/2069812\n */\n@Component\npublic class ApplicationContextHolder implements ApplicationContextAware {\n    private static ApplicationContext context;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        context = applicationContext;\n    }\n\n    public static ApplicationContext getContext() {\n        return context;\n    }\n}\n</code></pre>\n\n<p>And then in my data handler class I accessed the bean via:</p>\n\n<p><code>var template: SimpMessagingTemplate = ApplicationContextHolder.getContext().getBean(SimpMessagingTemplate::class.java)</code></p>\n\n<p>which allowed me to call:</p>\n\n<pre><code> template.convertAndSend(\"/topic/sddf/$source\", json.toString())\n template.convertAndSend(\"/topic/sddf/$source/$peerID\", json.toString())\n</code></pre>\n"}], "owner": {"reputation": 24982, "user_id": 2069812, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3b9968835eb719e5d78a04ba7a2bafbd?s=128&d=identicon&r=PG", "display_name": "Jeef", "link": "https://stackoverflow.com/users/2069812/jeef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 49374163, "answer_count": 1, "score": 0, "last_activity_date": 1521503056, "creation_date": 1521476709, "question_id": 49367796, "link": "https://stackoverflow.com/questions/49367796/how-to-send-from-server-arbitrarily-to-a-stomp-end-point-in-springboot", "title": "How to send from server arbitrarily to a STOMP end point in SpringBoot", "body": "<p>I'm writing a bridge application in SpringBoot two bridge an internal messaging protocol over to a websocket based stomp setup.  I'm operating in a mixed-mode <code>Kotlin</code>, <code>java</code> project (which \"might\" be making things difficult).</p>\n\n<p>My goal is when I receive a message on our internal messaging queue, i wanted to send it over to the STOMP endpoints.  </p>\n\n<p>I can send from <code>STOMP-&gt;STOMP</code> and <code>REST-&gt;STOMP</code> but I seem unable to make the server send directly to a stomp endpoint correclty.</p>\n\n<p>I've gone through just about every single stack post - and I see people have had similar issues, yet, I'm unable to actually get any of the listed solutions working.</p>\n\n<p>From what I gather I need to add: </p>\n\n<h3>java</h3>\n\n<pre><code>@Autowired\nprivate SimpMessagingTemplate template;\n</code></pre>\n\n<h3>kotlin</h3>\n\n<pre><code>@Autowired\nlateinit var template: SimpleMessagingTemplate\n</code></pre>\n\n<p>into one of my classes and either add <code>@Controller</code> or <code>@Service</code> to the top of the class, possibly making it <code>open</code> in <code>kotlin</code></p>\n\n<h3>Attempts (java):</h3>\n\n<pre><code>@Controller\npublic class STOMPDataListener implements SDDFDataListener {\n\n    @Autowired\n    private SimpMessagingTemplate template;\n\n\n    public void handleData(String source, SDDFCommonData data) {\n        System.out.println(\"Received: \" + data);\n    }\n}\n</code></pre>\n\n<p>If I add a breakpoint on my <code>handleData</code> call I find out that:</p>\n\n<blockquote>\n  <p>template = null</p>\n</blockquote>\n\n<h3>Attempt (kotlin)</h3>\n\n<pre><code>@Controller\nclass BridgeDataListener(val peerID: String = \"default\") : SDDFDataListener {\n\n    @Autowired\n    lateinit var template: SimpMessagingTemplate\n\n\n    override fun handleData(source: String, data: SDDFCommonData) {\n        println(\"Received: $data\")\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>lateinit property template has not been initialized\n  <a href=\"https://i.stack.imgur.com/2mtw2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2mtw2.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n\n<p>If I mark it as</p>\n\n<pre><code>@Service\nclass BridgeDataListener(val peerID: String = \"default\") : SDDFDataListener {\n</code></pre>\n\n<p>I get the same error.</p>\n\n<p>I know this is possible because in the Docs: <a href=\"https://docs.spring.io/spring/docs/4.0.1.RELEASE/spring-framework-reference/html/websocket.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/4.0.1.RELEASE/spring-framework-reference/html/websocket.html</a> they give an example, however, I'm not sure how I could use this example directly because I need to construct multiple versions of my DataListeners - and from what I understand an @Autowired class you get one copy of only?  Could I make it a singleton or would that break something?</p>\n\n<pre><code>@Controller\npublic class GreetingController {\n\n    private SimpMessagingTemplate template;\n\n    @Autowired\n    public GreetingController(SimpMessagingTemplate template) {\n        this.template = template;\n    }\n\n    @RequestMapping(value=\"/greetings\", method=POST)\n    public void greet(String greeting) {\n        String text = \"[\" + getTimestamp() + \"]:\" + greeting;\n        this.template.convertAndSend(\"/topic/greetings\", text);\n    }\n\n}\n</code></pre>\n\n<p>Assistance is greatly appreciated.  </p>\n"}, {"tags": ["android", "xml", "kotlin", "scrollview", "expandablelistview"], "comments": [{"owner": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "edited": false, "score": 0, "creation_date": 1521477684, "post_id": 49367779, "comment_id": 85737014, "body": "Did you tried it with nestedScrollView? @javacoder123"}, {"owner": {"reputation": 193, "user_id": 9415361, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0bd32cdecbe4caba774329f441123e2b?s=128&d=identicon&r=PG&f=1", "display_name": "javacoder123", "link": "https://stackoverflow.com/users/9415361/javacoder123"}, "reply_to_user": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "edited": false, "score": 0, "creation_date": 1521478071, "post_id": 49367779, "comment_id": 85737286, "body": "I&#39;ve attempted to use one however I&#39;m unsure if i&#39;m using it correctly, I will upload the code i&#39;ve used with the nested scroll view.@Antonio"}, {"owner": {"reputation": 193, "user_id": 9415361, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0bd32cdecbe4caba774329f441123e2b?s=128&d=identicon&r=PG&f=1", "display_name": "javacoder123", "link": "https://stackoverflow.com/users/9415361/javacoder123"}, "reply_to_user": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "edited": false, "score": 0, "creation_date": 1521478172, "post_id": 49367779, "comment_id": 85737354, "body": "With the code i&#39;ve used with the NestedScrollView it doesnt work"}, {"owner": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "edited": false, "score": 0, "creation_date": 1521478476, "post_id": 49367779, "comment_id": 85737578, "body": "nestedScrollView is for make scroll independent of the parent,but if it isn&#39;t work for you.. I found it: <a href=\"https://stackoverflow.com/questions/22729772/expandable-listview-inside-scrollview\" title=\"expandable listview inside scrollview\">stackoverflow.com/questions/22729772/&hellip;</a>"}, {"owner": {"reputation": 193, "user_id": 9415361, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0bd32cdecbe4caba774329f441123e2b?s=128&d=identicon&r=PG&f=1", "display_name": "javacoder123", "link": "https://stackoverflow.com/users/9415361/javacoder123"}, "reply_to_user": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "edited": false, "score": 0, "creation_date": 1521478942, "post_id": 49367779, "comment_id": 85737890, "body": "The second answer to that has given me the solution thank you!"}, {"owner": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "edited": false, "score": 1, "creation_date": 1521479074, "post_id": 49367779, "comment_id": 85737972, "body": "You&#39;re wellcome, if you want i can post here and you will be able to select as correct answer for the people that will have the same problem :)"}, {"owner": {"reputation": 193, "user_id": 9415361, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0bd32cdecbe4caba774329f441123e2b?s=128&d=identicon&r=PG&f=1", "display_name": "javacoder123", "link": "https://stackoverflow.com/users/9415361/javacoder123"}, "reply_to_user": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "edited": false, "score": 0, "creation_date": 1521479141, "post_id": 49367779, "comment_id": 85738008, "body": "Yeah that&#39;d be great"}], "answers": [{"comments": [{"owner": {"reputation": 3007, "user_id": 705544, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01d0590a2787663c5eac4283092cbc12?s=128&d=identicon&r=PG", "display_name": "edi233", "link": "https://stackoverflow.com/users/705544/edi233"}, "edited": false, "score": 1, "creation_date": 1555836722, "post_id": 49368663, "comment_id": 98233528, "body": "thx, you saved my day :) the best option for few expanded list in scroll view"}, {"owner": {"reputation": 71, "user_id": 6147309, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-t8b8roku5DY/AAAAAAAAAAI/AAAAAAAAABU/174B6je5PaI/photo.jpg?sz=128", "display_name": "Fredy sanchez .m", "link": "https://stackoverflow.com/users/6147309/fredy-sanchez-m"}, "edited": false, "score": 0, "creation_date": 1611596382, "post_id": 49368663, "comment_id": 116497512, "body": "works , tnks , i am happy"}], "tags": [], "owner": {"reputation": 359, "user_id": 9388338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bSS4h.png?s=128&g=1", "display_name": "Tatsuya", "link": "https://stackoverflow.com/users/9388338/tatsuya"}, "is_accepted": true, "score": 5, "last_activity_date": 1521479378, "creation_date": 1521479378, "answer_id": 49368663, "question_id": 49367779, "link": "https://stackoverflow.com/questions/49367779/expandable-listview-inside-a-scrollview/49368663#49368663", "title": "Expandable ListView Inside a ScrollView", "body": "<p><strong>XML code exemple:</strong></p>\n\n<pre><code>&lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        app:headerLayout=\"@layout/nav_header\"&gt;\n\n    &lt;ScrollView\n            android:fillViewport=\"true\"\n            android:layout_marginTop=\"130dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;LinearLayout\n                    android:id=\"@+id/homeLayout\"\n                    android:clickable=\"true\"\n                    android:gravity=\"center_vertical\"\n                    android:background=\"@drawable/layout_click_effect\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"45dp\"&gt;\n                    &lt;ImageView\n                        android:id=\"@+id/homeIv\"\n                        android:layout_width=\"45dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:src=\"@mipmap/ic_home_black_24dp\" /&gt;\n\n                    &lt;TextView\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"Home\" /&gt;\n                &lt;/LinearLayout&gt;\n                &lt;View\n                    android:background=\"@android:color/darker_gray\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"1dp\"/&gt;\n\n                &lt;ExpandableListView\n                    android:id=\"@+id/topCatgExpLv\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_gravity=\"start\"\n                    android:groupIndicator=\"@null\"\n                    android:dividerHeight=\"1dp\" /&gt;\n        &lt;/ScrollView&gt;\n    &lt;/android.support.design.widget.NavigationView&gt;\n</code></pre>\n\n<p><strong>On create code:</strong></p>\n\n<pre><code>mListView = (ExpandableListView) findViewById(R.id.activity_expandable_list_view);\n    MyExpandableListAdapter adapter = new MyExpandableListAdapter(this,\n            mGroups);\n    mListView.setAdapter(adapter);\n    mListView.setOnGroupClickListener(new ExpandableListView.OnGroupClickListener() {\n\n        @Override\n        public boolean onGroupClick(ExpandableListView parent, View v,\n                                    int groupPosition, long id) {\n            setListViewHeight(parent, groupPosition);\n            return false;\n        }\n    });\n\nprivate void setListViewHeight(ExpandableListView listView,\n                           int group) {\nExpandableListAdapter listAdapter = (ExpandableListAdapter) listView.getExpandableListAdapter();\nint totalHeight = 0;\nint desiredWidth = View.MeasureSpec.makeMeasureSpec(listView.getWidth(),\n        View.MeasureSpec.EXACTLY);\nfor (int i = 0; i &lt; listAdapter.getGroupCount(); i++) {\n    View groupItem = listAdapter.getGroupView(i, false, null, listView);\n    groupItem.measure(desiredWidth, View.MeasureSpec.UNSPECIFIED);\n\n    totalHeight += groupItem.getMeasuredHeight();\n\n    if (((listView.isGroupExpanded(i)) &amp;&amp; (i != group))\n            || ((!listView.isGroupExpanded(i)) &amp;&amp; (i == group))) {\n        for (int j = 0; j &lt; listAdapter.getChildrenCount(i); j++) {\n            View listItem = listAdapter.getChildView(i, j, false, null,\n                    listView);\n            listItem.measure(desiredWidth, View.MeasureSpec.UNSPECIFIED);\n\n            totalHeight += listItem.getMeasuredHeight();\n\n        }\n    }\n}\n\nViewGroup.LayoutParams params = listView.getLayoutParams();\nint height = totalHeight\n        + (listView.getDividerHeight() * (listAdapter.getGroupCount() - 1));\nif (height &lt; 10)\n    height = 200;\nparams.height = height;\nlistView.setLayoutParams(params);\nlistView.requestLayout();\n\n}\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 9415361, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0bd32cdecbe4caba774329f441123e2b?s=128&d=identicon&r=PG&f=1", "display_name": "javacoder123", "link": "https://stackoverflow.com/users/9415361/javacoder123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1940, "favorite_count": 1, "accepted_answer_id": 49368663, "answer_count": 1, "score": 0, "last_activity_date": 1521479378, "creation_date": 1521476644, "last_edit_date": 1521478146, "question_id": 49367779, "link": "https://stackoverflow.com/questions/49367779/expandable-listview-inside-a-scrollview", "title": "Expandable ListView Inside a ScrollView", "body": "<p>I have created an <em>Expandable ListView</em> inside a <code>ScrollView</code>. When I want to scroll inside the <em>Expandable ListView</em> I have to select it and hold it down whilst I scroll otherwise the entire page will scroll. Here is my code</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.kitkat.crossroads.JobBidsFragment\"&gt;\n\n    &lt;ScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"\n            android:focusable=\"true\"\n            android:focusableInTouchMode=\"true\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/textViewJobInformation\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:fontFamily=\"@font/bebasneueregular\"\n                    android:text=\"Job Information\"\n                    android:textAlignment=\"center\"\n                    android:textSize=\"30dp\"\n                    tools:layout_editor_absoluteX=\"163dp\"\n                    tools:layout_editor_absoluteY=\"16dp\"/&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/viewName\"\n                        android:layout_width=\"140dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignBottom=\"@id/textViewJobName1\"\n                        android:layout_alignTop=\"@id/textViewJobName1\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\" Job:\"\n                        android:textAlignment=\"viewStart\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/textViewJobName1\"\n                        android:layout_width=\"300dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingLeft=\"10dp\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\"text\"\n                        android:textColor=\"#FF000000\"\n\n                        android:visibility=\"visible\" /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/viewDesc\"\n                        android:layout_width=\"140dp\"\n                        android:layout_height=\"match_parent\"\n                        android:layout_alignBottom=\"@id/textViewJobDescription1\"\n                        android:layout_alignTop=\"@id/textViewJobDescription1\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\" Description:\"\n                        android:textAlignment=\"viewStart\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/textViewJobDescription1\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignParentTop=\"true\"\n                        android:layout_toEndOf=\"@+id/textName\"\n                        android:layout_weight=\"3\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingLeft=\"10dp\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\"TextView\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\"\n\n                        /&gt;\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/viewSize\"\n                        android:layout_width=\"140dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignBottom=\"@id/textViewJobSize1\"\n                        android:layout_alignTop=\"@id/textViewJobSize1\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\" Job Size:\"\n                        android:textAlignment=\"viewStart\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/textViewJobSize1\"\n                        android:layout_width=\"300dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignParentTop=\"true\"\n                        android:layout_toEndOf=\"@+id/textName\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingLeft=\"10dp\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\"TextView\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/viewType\"\n                        android:layout_width=\"140dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\" Job Type:\"\n                        android:textAlignment=\"viewStart\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n\n                    &lt;TextView\n                        android:id=\"@+id/textViewJobType1\"\n                        android:layout_width=\"300dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignParentTop=\"true\"\n                        android:layout_toEndOf=\"@+id/textName\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingLeft=\"10dp\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\"TextView\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"200dp\"&gt;\n\n                    &lt;ExpandableListView\n                        android:id=\"@+id/expandable_list_view\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"fill_parent\"\n                        android:padding=\"10dp\"\n                        android:pointerIcon=\"arrow\"\n                        android:dividerHeight=\"3dp\"&gt;\n\n                    &lt;/ExpandableListView&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n\n\n            &lt;/LinearLayout&gt;\n\n\n            &lt;!-- ACTIVE BIDS PART --&gt;\n\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                android:layout_marginTop=\"10dp\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/textView5\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:fontFamily=\"@font/bebasneueregular\"\n                    android:text=\"Active bids\"\n                    android:textAlignment=\"center\"\n                    android:textSize=\"30dp\"\n                    tools:layout_editor_absoluteX=\"163dp\"\n                    tools:layout_editor_absoluteY=\"16dp\" /&gt;\n\n                &lt;SearchView\n                    android:id=\"@+id/searchViewJob\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:iconifiedByDefault=\"false\"\n                    android:queryHint=\"Name, Location, Size, etc.\" /&gt;\n\n                &lt;ListView\n                    android:id=\"@+id/jobListView1\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\" /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>I want the user to be able to select the <em>Expandable ListView</em> and sub information is displayed that is unscrollable. Is there a way to achieve this whilst having the scroll view inplace</p>\n\n<p>Is there a way to either make the <em>Expandable ListView</em> unscrollable or to make it work with with the ScrollView</p>\n\n<p><strong>Edit - With using a NestedScrollView</strong></p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.kitkat.crossroads.JobBidsFragment\"&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"\n            android:focusable=\"true\"\n            android:focusableInTouchMode=\"true\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\" &gt;\n\n                &lt;TextView\n                    android:id=\"@+id/textViewJobInformation\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:fontFamily=\"@font/bebasneueregular\"\n                    android:text=\"Job Information\"\n                    android:textAlignment=\"center\"\n                    android:textSize=\"30dp\"\n                    tools:layout_editor_absoluteX=\"163dp\"\n                    tools:layout_editor_absoluteY=\"16dp\"/&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/viewName\"\n                        android:layout_width=\"140dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignBottom=\"@id/textViewJobName1\"\n                        android:layout_alignTop=\"@id/textViewJobName1\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\" Job:\"\n                        android:textAlignment=\"viewStart\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/textViewJobName1\"\n                        android:layout_width=\"300dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingLeft=\"10dp\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\"text\"\n                        android:textColor=\"#FF000000\"\n\n                        android:visibility=\"visible\" /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/viewDesc\"\n                        android:layout_width=\"140dp\"\n                        android:layout_height=\"match_parent\"\n                        android:layout_alignBottom=\"@id/textViewJobDescription1\"\n                        android:layout_alignTop=\"@id/textViewJobDescription1\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\" Description:\"\n                        android:textAlignment=\"viewStart\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/textViewJobDescription1\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignParentTop=\"true\"\n                        android:layout_toEndOf=\"@+id/textName\"\n                        android:layout_weight=\"3\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingLeft=\"10dp\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\"TextView\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\"\n\n                        /&gt;\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/viewSize\"\n                        android:layout_width=\"140dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignBottom=\"@id/textViewJobSize1\"\n                        android:layout_alignTop=\"@id/textViewJobSize1\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\" Job Size:\"\n                        android:textAlignment=\"viewStart\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/textViewJobSize1\"\n                        android:layout_width=\"300dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignParentTop=\"true\"\n                        android:layout_toEndOf=\"@+id/textName\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingLeft=\"10dp\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\"TextView\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                    &lt;TextView\n                        android:id=\"@+id/viewType\"\n                        android:layout_width=\"140dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\" Job Type:\"\n                        android:textAlignment=\"viewStart\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n\n                    &lt;TextView\n                        android:id=\"@+id/textViewJobType1\"\n                        android:layout_width=\"300dp\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_alignParentTop=\"true\"\n                        android:layout_toEndOf=\"@+id/textName\"\n                        android:background=\"#FFFFFFFF\"\n                        android:gravity=\"center_vertical\"\n                        android:paddingLeft=\"10dp\"\n                        android:paddingVertical=\"10dp\"\n                        android:text=\"TextView\"\n                        android:textColor=\"#FF000000\"\n                        android:visibility=\"visible\" /&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"200dp\"&gt;\n\n                    &lt;ExpandableListView\n                        android:id=\"@+id/expandable_list_view\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"fill_parent\"\n                        android:padding=\"10dp\"\n                        android:pointerIcon=\"arrow\"\n                        android:dividerHeight=\"3dp\"&gt;\n\n                    &lt;/ExpandableListView&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentStart=\"true\"\n                    android:orientation=\"horizontal\"&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n\n\n            &lt;/LinearLayout&gt;\n\n\n            &lt;!-- ACTIVE BIDS PART --&gt;\n\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"\n                android:layout_marginTop=\"10dp\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/textView5\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:fontFamily=\"@font/bebasneueregular\"\n                    android:text=\"Active bids\"\n                    android:textAlignment=\"center\"\n                    android:textSize=\"30dp\"\n                    tools:layout_editor_absoluteX=\"163dp\"\n                    tools:layout_editor_absoluteY=\"16dp\" /&gt;\n\n                &lt;SearchView\n                    android:id=\"@+id/searchViewJob\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:iconifiedByDefault=\"false\"\n                    android:queryHint=\"Name, Location, Size, etc.\" /&gt;\n\n                &lt;ListView\n                    android:id=\"@+id/jobListView1\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\" /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java", "concatmap"], "answers": [{"comments": [{"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1521480162, "post_id": 49368013, "comment_id": 85738614, "body": "thanks for your answer and pointed me in the right direction. I have updated my answer with 2 possible answers. However, I couldn&#39;t get concatMap to work."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1521480559, "post_id": 49368013, "comment_id": 85738870, "body": "There is no <code>concatMap</code> for <code>Single</code>s and <code>Completable</code>s."}, {"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1521482019, "post_id": 49368013, "comment_id": 85739745, "body": "Thanks, however, what do you think of my updated answers?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1521482975, "post_id": 49368013, "comment_id": 85740294, "body": "Try them out yourself and if they don&#39;t work, post a new question detailing what&#39;s wrong. We usually don&#39;t have the context to run it for you nor have the capacity to do so. There is the <a href=\"https://codereview.stackexchange.com/\">Code Review</a> site to ask for reviews."}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": false, "score": 5, "last_activity_date": 1521477401, "creation_date": 1521477401, "answer_id": 49368013, "question_id": 49367728, "link": "https://stackoverflow.com/questions/49367728/using-concatmap-to-run-a-single-before-running-another-observable/49368013#49368013", "title": "Using concatMap to run a Single before running another observable", "body": "<p>If you have a <code>Completable</code>, you can chain any other reactive type with it via <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Completable.html#andThen-io.reactivex.CompletableSource-\" rel=\"noreferrer\"><code>andThen</code></a>:</p>\n\n<pre><code>insertMessage(\"id\")\n.andThen(translate(\"id\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "is_accepted": true, "score": 2, "last_activity_date": 1521742684, "creation_date": 1521742684, "answer_id": 49435816, "question_id": 49367728, "link": "https://stackoverflow.com/questions/49367728/using-concatmap-to-run-a-single-before-running-another-observable/49435816#49435816", "title": "Using concatMap to run a Single before running another observable", "body": "<p>Both your options make sense, but I would recommend you to clean them a bit.</p>\n\n<p>First of all you need to clearly understand what return type to use in each case: <a href=\"http://reactivex.io/documentation/observable.html\" rel=\"nofollow noreferrer\">Observable</a>, <a href=\"http://reactivex.io/documentation/single.html\" rel=\"nofollow noreferrer\">Single</a> or <a href=\"https://static.javadoc.io/io.reactivex/rxjava/1.2.1/rx/Completable.html\" rel=\"nofollow noreferrer\">Completable</a>.</p>\n\n<p>The definition is the following:</p>\n\n<ul>\n<li><strong>Single</strong> represent Observable that emit single value or error.</li>\n<li><strong>Completable</strong> represent Observable that emits no value, but only terminal events, either onError or onCompleted.</li>\n</ul>\n\n<p>In both your cases you don't need any data returned, all you need is to know if the operation is successful or not. Completable is designed to handle exactly this case.</p>\n\n<p>So I'd recommend you to have:</p>\n\n<pre><code>fun translate(Id: String): Completable {\n    return repository.fetchMessage(Id)\n             .flatMapCompletable {\n                Completable.fromAction {\n                  update(messageId, it, State.COMPLETED)\n                }\n             }.doOnError {\n                update(Id, null, State.ERROR)\n             }\n}\n\nfun insertMessage(Id: String): Completable {\n    return Completable.fromCallable {\n        insert(Id, State.IDLE)\n    }\n}\n</code></pre>\n\n<p>Nice option to make your code cleaner is to use <a href=\"https://static.javadoc.io/io.reactivex/rxjava/1.2.1/rx/Completable.html#fromAction(rx.functions.Action0)\" rel=\"nofollow noreferrer\">Completable.fromAction</a> instead of <a href=\"https://static.javadoc.io/io.reactivex/rxjava/1.2.1/rx/Completable.html#fromCallable(java.util.concurrent.Callable)\" rel=\"nofollow noreferrer\">Completable.fromCallable</a>, so you don't need to return anything.</p>\n\n<p>Then you can use any of your options, <a href=\"https://static.javadoc.io/io.reactivex/rxjava/1.2.1/rx/Completable.html#startWith(rx.Completable)\" rel=\"nofollow noreferrer\">startWith</a> or <a href=\"https://static.javadoc.io/io.reactivex/rxjava/1.2.1/rx/Completable.html#concatWith(rx.Completable)\" rel=\"nofollow noreferrer\">concatWith</a>. Both wait until first observable completes before running the second observable. I prefer to use concatWith, because it runs the functions in the same order that they are written.</p>\n\n<p>Eventually we get an elegant solution:</p>\n\n<pre><code>insertMessage(id).concatWith(translate(id))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>translate(id).startWith(insertMessage(id))\n</code></pre>\n\n<p>More info about concat: <a href=\"http://reactivex.io/documentation/operators/concat.html\" rel=\"nofollow noreferrer\">http://reactivex.io/documentation/operators/concat.html</a></p>\n\n<p>Here is the implementation of the functions inside the rxJava library if you are curious:</p>\n\n<pre><code>public final Completable startWith(Completable other) {\n    requireNonNull(other);\n    return concat(other, this);\n}\n\npublic final Completable concatWith(Completable other) {\n    requireNonNull(other);\n    return concat(this, other);\n}\n</code></pre>\n\n<p>As you can see the only difference is the order.</p>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2007, "favorite_count": 0, "accepted_answer_id": 49435816, "answer_count": 2, "score": 8, "last_activity_date": 1521742684, "creation_date": 1521476492, "last_edit_date": 1521480104, "question_id": 49367728, "link": "https://stackoverflow.com/questions/49367728/using-concatmap-to-run-a-single-before-running-another-observable", "title": "Using concatMap to run a Single before running another observable", "body": "<pre><code>Android Studio 3.1 RC 2\nkotlin 1.2.30\n</code></pre>\n\n<p>The signature of the fetchMessage in Java</p>\n\n<pre><code>Single&lt;Response&gt; fetchMessage(final String Id); \n</code></pre>\n\n<p>The kotlin code </p>\n\n<pre><code>fun translate(Id: String): Completable {\n        return repository.fetchMessage(Id)\n                .flatMap {\n                    Single.fromCallable&lt;State&gt;({\n                        update(messageId, it, State.COMPLETED)\n                        State.COMPLETED\n                    })\n                }\n                .onErrorReturn({\n                    update(Id, null, State.ERROR)\n                    State.ERROR\n                })\n                .toCompletable()\n    }\n</code></pre>\n\n<p>The method I want to run before fetchMessage</p>\n\n<pre><code> fun insertMessage(Id: String): Completable {\n        return Completable.fromCallable {\n            insert(Id, State.IDLE)\n        }\n    }\n</code></pre>\n\n<p>I want the insertMessage e to somehow run before the fetchMessage. I was thinking of using concatMap but not sure how to combine the translate and insertMessage. So that the insertMessage will run first then once completed the translate will run.</p>\n\n<p>Many thanks for any suggestions,</p>\n\n<pre><code>Update solution 1 using startWith(..):\n</code></pre>\n\n<p>By changing the return to Single for the translate method. I have done like this:</p>\n\n<pre><code>fun translate(Id: String): Single&lt;State&gt; {\n        return repository.fetchMessage(Id)\n                .flatMap {\n                    Single.fromCallable&lt;State&gt;({\n                        update(messageId, it, State.COMPLETED)\n                        State.COMPLETED\n                    })\n                }\n                .onErrorReturn({\n                    update(Id, null, State.ERROR)\n                    State.ERROR\n                })\n    }\n</code></pre>\n\n<p>Then I can have a method to do the following insertMessage(..) -> translate(..):</p>\n\n<pre><code>translate(Id).toCompletable().startWith(insertMessage(id, State.IDLE))\n</code></pre>\n\n<p>Would that be an ideal solution?</p>\n\n<pre><code>Update solution 2 using concatWith(..):\n</code></pre>\n\n<p>My returning a Observable and calling toObservable() in the chain.</p>\n\n<pre><code>fun translate(Id: String): Observable&lt;State&gt; {\n        return repository.fetchMessage(Id)\n                .flatMap {\n                    Single.fromCallable&lt;State&gt;({\n                        update(messageId, it, State.COMPLETED)\n                        State.COMPLETED\n                    })\n                }\n                .onErrorReturn({\n                    update(Id, null, State.ERROR)\n                    State.ERROR\n                })\n                .toObservable()\n    }\n</code></pre>\n\n<p>And I can use concatWith so the sequence would be insertMessage(..) -> translate(..):</p>\n\n<pre><code>translate(Id).toCompletable().concatWith(insertMessage(id, State.IDLE).toObservable())\n    .toCompletable()\n</code></pre>\n\n<p>Are these correct solutions?</p>\n"}, {"tags": ["kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 4564, "user_id": 1155415, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/040f21acae20ee730e30f13a8fb26d88?s=128&d=identicon&r=PG", "display_name": "Gary Bak", "link": "https://stackoverflow.com/users/1155415/gary-bak"}, "edited": false, "score": 0, "creation_date": 1521480359, "post_id": 49366972, "comment_id": 85738727, "body": "Thanks, came to that conclusion also after staring at the getValue() call in the delegate for about a minute..."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1521474140, "creation_date": 1521474140, "answer_id": 49366972, "question_id": 49365413, "link": "https://stackoverflow.com/questions/49365413/serializing-a-kotlin-delegate-with-gson/49366972#49366972", "title": "Serializing a Kotlin delegate with Gson", "body": "<p>The <code>property3</code> variable is not field backed. Thus <em>Gson</em> doesn't consider it as field in the <em>Json</em> serialization.</p>\n\n<p>The <a href=\"https://github.com/google/gson/blob/master/GsonDesignDocument.md\" rel=\"nofollow noreferrer\">GsonDesignDocument</a> states for properties as such</p>\n\n<blockquote>\n  <p>Some Json libraries use the getters of a type to deduce the Json elements. We chose to use all fields (up the inheritance hierarchy) that are not transient, static, or synthetic. We did this because not all classes are written with suitably named getters. Moreover, getXXX or isXXX might be semantic rather than indicating properties.</p>\n</blockquote>\n\n<p>So you might have to implement a custom (de)serializer for your needs. </p>\n"}], "owner": {"reputation": 4564, "user_id": 1155415, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/040f21acae20ee730e30f13a8fb26d88?s=128&d=identicon&r=PG", "display_name": "Gary Bak", "link": "https://stackoverflow.com/users/1155415/gary-bak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 1, "accepted_answer_id": 49366972, "answer_count": 1, "score": 3, "last_activity_date": 1521474140, "creation_date": 1521469864, "question_id": 49365413, "link": "https://stackoverflow.com/questions/49365413/serializing-a-kotlin-delegate-with-gson", "title": "Serializing a Kotlin delegate with Gson", "body": "<p>I have a Kotlin object that I am trying serialize with Gson.  A member that is setup as a delegate does not get serialized.  The delegation works if I call it directly, as does the onChange callback, but Gson just ignores it.  </p>\n\n<p>Is there any way to get Gson to serialize this without writing a custom serializer?</p>\n\n<p>Here is a simplified example of what I'm trying to do:</p>\n\n<pre><code>class MyDelegate() {\n\n    fun getProperty(): String {\n        return \"myDelegate Property\"\n    }\n\n    fun observableDelegate(onChange: () -&gt; Unit): ReadWriteProperty&lt;Any?, String&gt; {\n\n        return object: ReadWriteProperty&lt;Any?, String&gt; {\n            override fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n                return getProperty()\n            }\n\n            override fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n                TODO(\"not implemented\")\n            }\n        }\n    }\n}\n\nclass MyTest(delegate: MyDelegate, val property0: String = \"property0\" ) {\n\n    val property1 = \"property1\"\n    var property2 = \"property2\"\n    var property3: String by delegate.observableDelegate {\n        // onChange called\n    }\n}\n</code></pre>\n\n<p>Testing it with:</p>\n\n<pre><code>@Test\n    fun testDelegate() {\n\n        val t1 = MyTest(MyDelegate())\n        val s1 = Gson().toJson(t1)\n\n        Assert.fail(s1)\n\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\"property1\":\"property1\",\"property2\":\"property2\",\"property0\":\"property0\"}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-sqlite"], "comments": [{"owner": {"reputation": 130, "user_id": 6050435, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f47d9abc828ea0da7f42764a3a65ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "Prajjwal Srivastav", "link": "https://stackoverflow.com/users/6050435/prajjwal-srivastav"}, "edited": false, "score": 1, "creation_date": 1521466993, "post_id": 49364420, "comment_id": 85729192, "body": "Please most more of your code so we can better identify your problem and if needed replicate it"}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1521467045, "post_id": 49364420, "comment_id": 85729226, "body": "Also please tell us what language this is.  It is not obvious to me."}, {"owner": {"reputation": 1, "user_id": 9516979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed7fa2a5d4baddf14a879ca89c57946?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Singh", "link": "https://stackoverflow.com/users/9516979/robin-singh"}, "edited": false, "score": 0, "creation_date": 1521479629, "post_id": 49364420, "comment_id": 85738303, "body": "I am trying to build android app using Kotlin. As this is my first time asking a question sorry for mistakes."}], "owner": {"reputation": 1, "user_id": 9516979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed7fa2a5d4baddf14a879ca89c57946?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Singh", "link": "https://stackoverflow.com/users/9516979/robin-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521488488, "creation_date": 1521466852, "last_edit_date": 1521488488, "question_id": 49364420, "link": "https://stackoverflow.com/questions/49364420/sqlite-not-updating-the-column-values-which-is-specified-in-where-clause", "title": "Sqlite not updating the column values which is specified in where clause", "body": "<p>My table contains 3 columns named Name,Day,Month. I want to update these values by specifying them in where clause also.\nThis is to store Name and Date of Birth of a person.</p>\n\n<pre><code>db.update(TABLENAME,cv,NAME+\"=? AND \"+DAY+\"=? AND \"+MONTH+\"=?\",arrayOf(name,dd,mm))\n</code></pre>\n\n<p>This is not working.\nThe values in 'arrayOf' are old values and values in 'cv' are new values. </p>\n\n<p>Table is</p>\n\n<p>Name   Day   Month</p>\n\n<p>Xyz        5        7</p>\n\n<p>Abc       4        3</p>\n\n<p>Now i want to update Name,Day,Month Values with new values that the user will give using editTexts.\nAs Name of person can be same.\nAnd Day and Month can also be same of other person.\nSo i have to use all 3 Column names in where clause. But when i am using 3 columns in where clause it is not updating.</p>\n\n<p>If i write only Name in where clause then it is updating 'Day' and 'Month' values.\nBut i want to update all 3 values.</p>\n"}, {"tags": ["hibernate", "jpa", "spring-boot", "kotlin", "cockroachdb"], "comments": [{"owner": {"reputation": 14194, "user_id": 4966953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dl696.png?s=128&g=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/4966953/marc"}, "edited": false, "score": 0, "creation_date": 1521728153, "post_id": 49363999, "comment_id": 85863570, "body": "The error is not a sql error but something in-between. Could you add details about the actual query run and the sql error? You can find out how to log queries in CockroachDB <a href=\"https://www.cockroachlabs.com/docs/stable/sql-faqs.html#how-do-i-log-sql-queries\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "reply_to_user": {"reputation": 14194, "user_id": 4966953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dl696.png?s=128&g=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/4966953/marc"}, "edited": false, "score": 0, "creation_date": 1521839181, "post_id": 49363999, "comment_id": 85919545, "body": "@Marc: Just added the logs to my question. If they are not sufficient, please let me know."}], "answers": [{"tags": [], "owner": {"reputation": 14194, "user_id": 4966953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dl696.png?s=128&g=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/4966953/marc"}, "is_accepted": true, "score": 1, "last_activity_date": 1521846744, "last_edit_date": 1521846744, "creation_date": 1521839988, "answer_id": 49458432, "question_id": 49363999, "link": "https://stackoverflow.com/questions/49363999/hibernate-and-using-generatedvalue-with-cockroachdb-results-in-sqlgrammarexcept/49458432#49458432", "title": "Hibernate and using @GeneratedValue with CockroachDB results in SQLGrammarException", "body": "<p>The Spring log has the following entry:</p>\n\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near \"sequence\"\n\nDetail: source SQL: \n  create sequence hibernate_sequence start 1 increment 1\n</code></pre>\n\n<p>Sequences are not supported in CockroachDB 1.x, but they are in 2.0 which is <a href=\"https://www.cockroachlabs.com/docs/releases/#testing-releases\" rel=\"nofollow noreferrer\">still in beta</a>. The beta status does mean that it is not considered ready for production use but it might be fine if you're just playing with CockroachDB.</p>\n\n<p>Sequences in CockroachDB 2.0 follow postgres syntax and behavior with the exception of <code>cycle</code> (not yet implemented). The statement used here does not use it, only <code>START 1 INCREMENT 1</code>.</p>\n\n<p>You can find more details about sequences in the <a href=\"https://www.cockroachlabs.com/docs/v2.0/create-sequence.html\" rel=\"nofollow noreferrer\">CockroachDB docs</a>.</p>\n"}], "owner": {"reputation": 7542, "user_id": 1866775, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/4K99R.jpg?s=128&g=1", "display_name": "Tobias Hermann", "link": "https://stackoverflow.com/users/1866775/tobias-hermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 1, "accepted_answer_id": 49458432, "answer_count": 1, "score": 2, "last_activity_date": 1521846744, "creation_date": 1521465588, "last_edit_date": 1521839141, "question_id": 49363999, "link": "https://stackoverflow.com/questions/49363999/hibernate-and-using-generatedvalue-with-cockroachdb-results-in-sqlgrammarexcept", "title": "Hibernate and using @GeneratedValue with CockroachDB results in SQLGrammarException", "body": "<p>The following minimal example using a generated id with Spring Boot, Hibernate, JpaRepository, CockroachDB and Kotlin produces an <code>org.hibernate.exception.SQLGrammarException</code>.</p>\n\n<p>I also tested with PostgresSQL instead of CockroachDB and this is fine.</p>\n\n<pre><code>|------------------------------------------------|\n|                 |  PostgresSQL  |  CockroachDB |\n|-----------------+---------------+--------------|\n| no generated id |  OK           |  OK          |\n| generated id    |  OK           |  ERROR       |\n|------------------------------------------------|\n</code></pre>\n\n<p>This is the code to reproduce the issue.</p>\n\n<hr>\n\n<p><code>./src/main/kotlin/ThingService.kt</code>:</p>\n\n<pre><code>package things\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\n\nimport javax.persistence.Entity\nimport javax.persistence.Id\nimport javax.persistence.Table\nimport javax.persistence.Column\nimport javax.persistence.GeneratedValue\n\nimport org.springframework.web.bind.annotation.RestController\nimport org.springframework.web.bind.annotation.PutMapping\nimport org.springframework.web.bind.annotation.RequestBody\n\nimport org.springframework.data.jpa.repository.JpaRepository\n\nimport com.fasterxml.jackson.annotation.JsonIgnore\n\ninterface ThingRepository : JpaRepository&lt;Thing, Long&gt; {\n}\n\n@RestController\nclass ThingController(private val repository: ThingRepository) {\n    @PutMapping(\"/thing/\")\n    fun save(@RequestBody t:Thing): Thing\n            = repository.save(t)\n}\n\n@Entity\ndata class Thing (\n    @Column(name=\"value\")\n    var value: String,\n    @Id\n    @GeneratedValue\n    @Column(name=\"id\")\n    @JsonIgnore\n    var id: Long = -1\n)\n\n@SpringBootApplication\nclass Application {\n}\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;Application&gt;(*args)\n}\n</code></pre>\n\n<hr>\n\n<p><code>./src/main/resources/application.properties</code>:</p>\n\n<pre><code>server.port=8082\n\nspring.datasource.url=jdbc:postgresql://localhost:26257/things_db?sslmode=disable\nspring.datasource.username=root\nspring.datasource.password=123\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL94Dialect\n\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n\n<hr>\n\n<p><code>./build.gradle.kts</code>:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    val kotlinVersion = \"1.2.20\"\n    id(\"org.springframework.boot\") version \"2.0.0.RELEASE\"\n    id(\"org.jetbrains.kotlin.jvm\") version kotlinVersion\n    id(\"org.jetbrains.kotlin.plugin.spring\") version kotlinVersion\n    id(\"org.jetbrains.kotlin.plugin.jpa\") version kotlinVersion\n    id(\"io.spring.dependency-management\") version \"1.0.4.RELEASE\"\n}\n\nversion = \"1.0.0-SNAPSHOT\"\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n        freeCompilerArgs = listOf(\"-Xjsr305=strict\")\n    }\n}\n\nval test by tasks.getting(Test::class) {\n    useJUnitPlatform()\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-web\")\n    compile(\"org.springframework.boot:spring-boot-starter-data-jpa\")\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    compile(\"org.jetbrains.kotlin:kotlin-reflect\")\n    compile(\"org.hibernate:hibernate-core\")\n    compile(\"org.springframework.retry:spring-retry:1.2.2.RELEASE\")\n    compile(\"org.postgresql:postgresql\")\n    compile(\"org.json:json:20180130\")\n    testCompile(\"org.springframework.boot:spring-boot-starter-test\") {\n        exclude(module = \"junit\")\n    }\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api\")\n    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine\")\n}\n</code></pre>\n\n<hr>\n\n<p>What follows are the steps to reproduce the problem.</p>\n\n<p>Download and initialize CockroachDB:</p>\n\n<pre><code># download\nwget -qO- https://binaries.cockroachdb.com/cockroach-v1.1.6.linux-amd64.tgz | tar xvz\n\n# start\n./cockroach-v1.1.6.linux-amd64/cockroach start --insecure\n# leave terminal open in background\n\n# init\n./cockroach-v1.1.6.linux-amd64/cockroach sql --insecure -e \"CREATE USER root WITH PASSWORD '123';\"\n./cockroach-v1.1.6.linux-amd64/cockroach sql --insecure -e \"CREATE DATABASE things_db;\"\n./cockroach-v1.1.6.linux-amd64/cockroach sql --insecure -e \"GRANT ALL ON DATABASE things_db TO root;\"\n</code></pre>\n\n<p>Run data service:</p>\n\n<pre><code>gradle bootRun\n</code></pre>\n\n<p>And now try to PUT a thing into the service:</p>\n\n<pre><code>curl -w \"\\n\" -H 'Content-Type: application/json' -X PUT -d '{\"value\":\"foo\", \"id\":123}' http://localhost:8082/thing/\n</code></pre>\n\n<p>The response is:</p>\n\n<pre><code>{\"timestamp\":\"2018-03-19T13:05:12.856+0000\",\"status\":500,\"error\":\"Internal Server Error\",\"message\":\"could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\",\"path\":\"/thing/\"}\n</code></pre>\n\n<p>However when using PostgreSQL instread of CockroachDB the result is fine</p>\n\n<pre><code>{\"value\":\"foo\",\"id\":123}\n</code></pre>\n\n<p>Any idea what causes the problem or how it can be avoided when using CockroachDB?</p>\n\n<p>Here are the full logs:</p>\n\n<ul>\n<li>CockroachDB: <a href=\"https://gist.github.com/Dobiasd/4e64eea5457e6eea5bd627ed3c5b780c\" rel=\"nofollow noreferrer\">https://gist.github.com/Dobiasd/4e64eea5457e6eea5bd627ed3c5b780c</a></li>\n<li>Spring: <a href=\"https://gist.github.com/Dobiasd/27615d2b0308724e1202f1a2a8e2eafb\" rel=\"nofollow noreferrer\">https://gist.github.com/Dobiasd/27615d2b0308724e1202f1a2a8e2eafb</a></li>\n</ul>\n"}, {"tags": ["java", "class", "static", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1521464144, "post_id": 49363450, "comment_id": 85727157, "body": "What do you need an alternative <i>for</i>? What doesn&#39;t work?"}, {"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1521464427, "post_id": 49363450, "comment_id": 85727351, "body": "in this code in my question, problem(memory Leak) occur because i using asynTask contain (context) of activity, android studio advice me to use (Inner Static class)"}], "answers": [{"tags": [], "owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "is_accepted": true, "score": 93, "last_activity_date": 1521471007, "creation_date": 1521471007, "answer_id": 49365796, "question_id": 49363450, "link": "https://stackoverflow.com/questions/49363450/static-inner-class-in-kotlin/49365796#49365796", "title": "Static Inner Class in Kotlin", "body": "<p>Just omit the <code>inner</code> in Kotlin.</p>\n\n<p><strong>Inner class (holding reference to outer object)</strong></p>\n\n<p>Java:</p>\n\n<pre><code>class A {\n    class B {\n    ...\n    }\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>class A {\n    inner class B {\n    ...\n    }\n}\n</code></pre>\n\n<p><strong>Static inner class aka nested class (no reference to outer object)</strong></p>\n\n<p>Java:</p>\n\n<pre><code>class A {\n    static class B {\n    ...\n    }\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>class A {\n    class B {\n    ...\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 13209691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ac1fd8146d72691060af056baa6b387?s=128&d=identicon&r=PG&f=1", "display_name": "Clarence Chan", "link": "https://stackoverflow.com/users/13209691/clarence-chan"}, "is_accepted": false, "score": 2, "last_activity_date": 1585919299, "last_edit_date": 1585919299, "creation_date": 1585909761, "answer_id": 61009860, "question_id": 49363450, "link": "https://stackoverflow.com/questions/49363450/static-inner-class-in-kotlin/61009860#61009860", "title": "Static Inner Class in Kotlin", "body": "<p>You can also change the \"class\" to \"object\"</p>\n\n<pre><code>class OuterA {\n  object InnerB {\n  ... }\n}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>object OuterA {\n  object InnerB {\n  ... }\n}\n</code></pre>\n"}], "owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13430, "favorite_count": 5, "accepted_answer_id": 49365796, "answer_count": 2, "score": 34, "last_activity_date": 1585919299, "creation_date": 1521463894, "last_edit_date": 1542645827, "question_id": 49363450, "link": "https://stackoverflow.com/questions/49363450/static-inner-class-in-kotlin", "title": "Static Inner Class in Kotlin", "body": "<p>What alternative to an <code>Inner static Class</code> can I use in Kotlin Language, if it exists? If not, how can I solve this problem when I need to use a <code>static class</code> in Kotlin? See code example below: </p>\n\n<pre><code> inner class GeoTask : AsyncTask&lt;Util, Util, Unit&gt;() {\n\n    override fun doInBackground(vararg p0: Util?) {\n\n        LocationUtil(this@DisplayMembers).startLocationUpdates()\n    }\n}\n</code></pre>\n\n<p>I've searched a lot, haven't found anything,  Thank you very much in advance.</p>\n"}, {"tags": ["android", "kotlin", "android-animation"], "comments": [{"owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 1, "creation_date": 1521676709, "post_id": 49362568, "comment_id": 85838520, "body": "can you add the error output? I don&#39;t see anything in your code that looks like a type mismatch."}, {"owner": {"reputation": 103, "user_id": 4775949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjqqC-JSDfgYmImEZY_C3vC-litIk8f3rT9lcqYZso=k-s128", "display_name": "Josh", "link": "https://stackoverflow.com/users/4775949/josh"}, "reply_to_user": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "edited": false, "score": 0, "creation_date": 1522198849, "post_id": 49362568, "comment_id": 86054920, "body": "I have now added more information."}], "answers": [{"tags": [], "owner": {"reputation": 2156, "user_id": 3390459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c5d596ce3c7398d0c7b3a768abfa52?s=128&d=identicon&r=PG", "display_name": "emerssso", "link": "https://stackoverflow.com/users/3390459/emerssso"}, "is_accepted": true, "score": 1, "last_activity_date": 1522208972, "creation_date": 1522208972, "answer_id": 49525787, "question_id": 49362568, "link": "https://stackoverflow.com/questions/49362568/how-can-i-create-a-shared-element-transition-listener-in-kotlin/49525787#49525787", "title": "How can I create a Shared-element Transition Listener in Kotlin?", "body": "<p>The type mismatch you're seeing is between the <code>android.transition.Transition.TransitionListener</code> and <code>android.transition.support.Transition.TransitionListener</code> classes. (Or at least, this is how I am able to reproduce this issue).</p>\n\n<p><code>window.sharedElementEnterTransition</code> returns an object of the first <code>Transition</code> type, and you are trying to pass an instance of the second type. Because TransitionListener is an interface and one doesn't extend the other, they are not interchangeable. Simply change your import to remove the <code>support</code> package and this should compile and work.</p>\n\n<p>Note that since this isn't support anymore, it's not backwards compatible. I am not familiar enough with transitions to tell you how to convert that <code>window</code> accessor into a compat version.</p>\n"}], "owner": {"reputation": 103, "user_id": 4775949, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjqqC-JSDfgYmImEZY_C3vC-litIk8f3rT9lcqYZso=k-s128", "display_name": "Josh", "link": "https://stackoverflow.com/users/4775949/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1089, "favorite_count": 0, "accepted_answer_id": 49525787, "answer_count": 1, "score": 0, "last_activity_date": 1522208972, "creation_date": 1521461147, "last_edit_date": 1522199421, "question_id": 49362568, "link": "https://stackoverflow.com/questions/49362568/how-can-i-create-a-shared-element-transition-listener-in-kotlin", "title": "How can I create a Shared-element Transition Listener in Kotlin?", "body": "<p>I am using shared element transitions between my activities, and I want to delay some UI updates until after the shared element transition from ActivityA to ActivityB is complete.</p>\n\n<p>I am writing the app in Kotlin, and can't seem to be able to use any solutions converted from java. I have tried </p>\n\n<pre><code>val sharedElementEnterTransition = window.sharedElementEnterTransition\nsharedElementEnterTransition.addListener(object : Transition.TransitionListener() {\n    override fun onTransitionResume(transition: Transition) {\n        super.onTransitionResume(transition)\n    }\n    override fun onTransitionPause(transition: Transition) {\n        super.onTransitionPause(transition)\n    }\n    override fun onTransitionCancel(transition: Transition) {\n        super.onTransitionCancel(transition)\n    }\n    override fun onTransitionStart(transition: Transition) {\n        super.onTransitionStart(transition)\n    }\n    override fun onTransitionEnd(transition: Transition) {\n        super.onTransitionEnd(transition)\n    }\n    override fun equals(other: Any?): Boolean {\n        return super.equals(other)\n    }\n    override fun hashCode(): Int {\n        return super.hashCode()\n    }\n    override fun toString(): String {\n        return super.toString()\n    }\n})\n</code></pre>\n\n<p>in <code>onCreate</code> in ActivityB, but get a type mis-match:</p>\n\n<pre><code>Error:(80, 51) Type mismatch: inferred type is &lt;no name provided&gt; but Transition.TransitionListener! was expected\n</code></pre>\n\n<p>and this for each <code>super</code> call</p>\n\n<pre><code>Error:(98, 24) Abstract member cannot be accessed directly\n</code></pre>\n\n<p>which I can't manage to resolve.</p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["java", "regex", "kotlin"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1521457408, "post_id": 49361344, "comment_id": 85722790, "body": "You should not quote the regex, remove <code>Pattern.quote()</code>, use <code>testString = testString.replaceFirst(stylingRegex.toRegex(), &quot;&quot;)</code>"}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1521457463, "post_id": 49361344, "comment_id": 85722824, "body": "Here is a <a href=\"http://rextester.com/ZVIA41689\" rel=\"nofollow noreferrer\">demo</a> showing that Wiktor&#39;s suggestion fixes the problem."}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1521457577, "creation_date": 1521457577, "answer_id": 49361477, "question_id": 49361344, "link": "https://stackoverflow.com/questions/49361344/using-regex-with-kotlin/49361477#49361477", "title": "Using Regex with Kotlin", "body": "<p>You should not <code>quote</code> the regex pattern and you should make sure you pass a regex to the <code>replaceFirst</code>:</p>\n\n<pre><code>testString = testString.replaceFirst(stylingRegex.toRegex(), \"\")\n</code></pre>\n\n<p>See the <a href=\"http://rextester.com/XXO60993\" rel=\"nofollow noreferrer\">online Kotlin demo</a>:</p>\n\n<pre><code>var stylingRegex = \"\"\"\\\\uline\\{[a-zA-Z\\d]+\\}|\\\\text(super|sub)script\\{[0-9]+\\.[0-9]+\\}\"\"\"\nvar testString = \"12345\\\\uline{james}678\"\ntestString = testString.replaceFirst(stylingRegex.toRegex(), \"\")\nprintln(\"testString: \" + testString)\n// =&gt; testString: 12345678\n</code></pre>\n\n<p>Note that you do not need to use excessive backslashes when using raw string literals (defined with <code>\"\"\"...\"\"\"\"</code>), inside them, the <code>\\</code> symbol denotes a literal backslash that is used to create regex escapes.</p>\n\n<p>Also, to match float numbers only, you need to escape the dot in the <code>[0-9]+.[0-9]+</code> part of your pattern. To match both integer and float, use <code>[0-9]+(?:\\.[0-9]+)?</code>.</p>\n"}], "owner": {"reputation": 337, "user_id": 4261132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/48fe986c0e0707d0a1ac2127e723a165?s=128&d=identicon&r=PG&f=1", "display_name": "james.sw.clark", "link": "https://stackoverflow.com/users/4261132/james-sw-clark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2126, "favorite_count": 0, "accepted_answer_id": 49361477, "answer_count": 1, "score": 1, "last_activity_date": 1521457577, "creation_date": 1521457177, "question_id": 49361344, "link": "https://stackoverflow.com/questions/49361344/using-regex-with-kotlin", "title": "Using Regex with Kotlin", "body": "<p>According to <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">http://www.regexplanet.com/advanced/java/index.html</a>, my regex </p>\n\n<pre><code>\\\\uline\\{[a-zA-Z\\d]+\\}|\\\\text(super|sub)script\\{[0-9]+.[0-9]+\\}\n</code></pre>\n\n<p>should work fine to detect e.g.\n1) \\textsuperscript{1.1}\nand\n2) \\uline{name}</p>\n\n<p>Furthermore, replaceFirst works as expected:\n12345\\textsuperscript{1.1}6789 goes to 123456789</p>\n\n<p>I doubled backslashes and added the regex to my Kotlin code (in IntelliJ Idea):</p>\n\n<pre><code>var stylingRegex = \"\\\\\\\\uline\\\\{[a-zA-Z\\\\d]+\\\\}|\\\\\\\\text(super|sub)script    \\\\{[0-9]+.[0-9]+\\\\}\"\nvar testString = \"12345\\\\uline{james}678\"\ntestString = testString.replaceFirst(Pattern.quote(stylingRegex), \"\")\nprintln(\"testString: \" + testString)\n</code></pre>\n\n<p>However, what's printed is the initialized string without any modification.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 729, "user_id": 3367381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ALFZ3.jpg?s=128&g=1", "display_name": "Suresh kumar", "link": "https://stackoverflow.com/users/3367381/suresh-kumar"}, "edited": false, "score": 0, "creation_date": 1587549825, "post_id": 49361253, "comment_id": 108552499, "body": "its issue in Kotlin Dagger processor  you should convert yours ViewModelFactory and ViewModelKey into Java because its working for me"}], "answers": [{"comments": [{"owner": {"reputation": 7335, "user_id": 884079, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/U0kDh.jpg?s=128&g=1", "display_name": "Ramprasad", "link": "https://stackoverflow.com/users/884079/ramprasad"}, "edited": false, "score": 1, "creation_date": 1521550174, "post_id": 49364565, "comment_id": 85770093, "body": "This issue fixed by adding JvmSuppressWildcards in constructor second parameter of class ViewModelFactory. It works fine.But Provides methods works only on AppModule. If I add another sub module with ContributesAndroidInjector it does not works.Shows error message error: [dagger.android.AndroidInjector.inject(T)] android.arch.lifecycle.MutableLiveData&lt;java.lang.String&gt; cannot be provided without an Inject constructor or from an Provides-annotated method."}, {"owner": {"reputation": 1145, "user_id": 4878972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414228f3433357a25bc2923dc7dab44?s=128&d=identicon&r=PG", "display_name": "Aseem Sharma", "link": "https://stackoverflow.com/users/4878972/aseem-sharma"}, "reply_to_user": {"reputation": 7335, "user_id": 884079, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/U0kDh.jpg?s=128&g=1", "display_name": "Ramprasad", "link": "https://stackoverflow.com/users/884079/ramprasad"}, "edited": false, "score": 0, "creation_date": 1521623957, "post_id": 49364565, "comment_id": 85805788, "body": "@Ramprasad if you can share the link of your code where you are adding another sub module along with ContributesAndroidInjector which is creating issue, then it would be helpful to understand your problem."}, {"owner": {"reputation": 7335, "user_id": 884079, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/U0kDh.jpg?s=128&g=1", "display_name": "Ramprasad", "link": "https://stackoverflow.com/users/884079/ramprasad"}, "edited": false, "score": 0, "creation_date": 1522389933, "post_id": 49364565, "comment_id": 86146398, "body": "<a href=\"https://github.com/rramprasad/FoodRecipes/blob/master/app/src/main/java/com/rramprasad/foodrecipes/dependencyinjection/FoodRecipesAppModule.kt\" rel=\"nofollow noreferrer\">github.com/rramprasad/FoodRecipes/blob/master/app/src/main/j&zwnj;&#8203;ava/&hellip;</a>"}, {"owner": {"reputation": 729, "user_id": 3367381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ALFZ3.jpg?s=128&g=1", "display_name": "Suresh kumar", "link": "https://stackoverflow.com/users/3367381/suresh-kumar"}, "edited": false, "score": 0, "creation_date": 1587549861, "post_id": 49364565, "comment_id": 108552520, "body": "its issue in Kotlin Dagger processor  you should convert yours ViewModelFactory and ViewModelKey into Java because its working for me"}, {"owner": {"reputation": 1145, "user_id": 4878972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414228f3433357a25bc2923dc7dab44?s=128&d=identicon&r=PG", "display_name": "Aseem Sharma", "link": "https://stackoverflow.com/users/4878972/aseem-sharma"}, "edited": false, "score": 0, "creation_date": 1587627026, "post_id": 49364565, "comment_id": 108586193, "body": "The person implemented that in kotlin, why to convert it in Java? Moreover issue was not in processor, it was in wrong implementation of <code>@Binds</code> annotation, refer this <a href=\"https://dagger.dev/tutorial/04-depending-on-interface\" rel=\"nofollow noreferrer\">link</a> for more detatils."}], "tags": [], "owner": {"reputation": 1145, "user_id": 4878972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414228f3433357a25bc2923dc7dab44?s=128&d=identicon&r=PG", "display_name": "Aseem Sharma", "link": "https://stackoverflow.com/users/4878972/aseem-sharma"}, "is_accepted": true, "score": 5, "last_activity_date": 1521467276, "creation_date": 1521467276, "answer_id": 49364565, "question_id": 49361253, "link": "https://stackoverflow.com/questions/49361253/kotlin-dagger-viewmodel-cannot-be-provided-without-an-provides-annotated-method/49364565#49364565", "title": "Kotlin Dagger ViewModel cannot be provided without an @Provides-annotated method", "body": "<p>I have gone through your code and I believe problem lies somewhere in this code:</p>\n\n<pre><code>@Binds\n@IntoMap\n@ViewModelKey(MainViewModel::class)\nabstract fun bindMainViewModel(userViewModel: MainViewModel): MainViewModel\n</code></pre>\n\n<p>For binding MainViewModel, first of all here you need to do constructor injection in MainViewModel which would be like:</p>\n\n<pre><code>class MainViewModel\n@Inject constructor()\n: AndroidViewModel(Application())\n</code></pre>\n\n<p>Also the way you are binding or using @Binds with your MainViewModel is not correct you cannot return what you are passing in as argument, dagger will throw <strong>Cyclic Dependency</strong> exception at build time. For more information about Binds refer to this <a href=\"https://google.github.io/dagger/api/latest/dagger/Binds.html\" rel=\"noreferrer\">article</a> and to avoid this error, change your binds code to this:</p>\n\n<pre><code> @Binds\n @IntoMap\n @ViewModelKey(MainViewModel::class)\n abstract fun bindMainViewModel(userViewModel: MainViewModel): ViewModel\n</code></pre>\n\n<p>Try these changes and let me know if you face any issue. Thanks</p>\n"}], "owner": {"reputation": 7335, "user_id": 884079, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/U0kDh.jpg?s=128&g=1", "display_name": "Ramprasad", "link": "https://stackoverflow.com/users/884079/ramprasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2825, "favorite_count": 1, "closed_date": 1521468388, "accepted_answer_id": 49364565, "answer_count": 1, "score": 2, "last_activity_date": 1521468250, "creation_date": 1521456923, "last_edit_date": 1521468250, "question_id": 49361253, "link": "https://stackoverflow.com/questions/49361253/kotlin-dagger-viewmodel-cannot-be-provided-without-an-provides-annotated-method", "closed_reason": "Duplicate", "title": "Kotlin Dagger ViewModel cannot be provided without an @Provides-annotated method", "body": "<p>I am trying to integrate Dagger 2.15 with my Kotlin project. I am getting following compile time exception even I binded ViewModel,</p>\n\n<blockquote>\n  <p><code>error: [dagger.android.AndroidInjector.inject(T)]\n   java.util.Map&lt;java.lang.Class&lt;? extends\n   android.arch.lifecycle.ViewModel&gt;,? extends javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt; cannot be\n   provided without an @Provides-annotated method.</code></p>\n</blockquote>\n\n<p><strong>My Code:</strong>\n<a href=\"https://github.com/rramprasad/FoodRecipes\" rel=\"nofollow noreferrer\">https://github.com/rramprasad/FoodRecipes</a></p>\n"}, {"tags": ["kotlin", "bean-validation", "javax"], "comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1521508088, "post_id": 49360740, "comment_id": 85750844, "body": "How is the value of name being set if the object gets constructed with a null name? How is the Spring version enforced to be valid? Seems like an unusual scenario."}, {"owner": {"reputation": 459, "user_id": 9271474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b56366b3514441b10c7048fbadd4e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Combo", "link": "https://stackoverflow.com/users/9271474/combo"}, "reply_to_user": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1521531947, "post_id": 49360740, "comment_id": 85758109, "body": "Spring set name to null and after object creation validate the name property to be not null, if it is null it return an object with all properties that not pass validation"}], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 9271474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b56366b3514441b10c7048fbadd4e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Combo", "link": "https://stackoverflow.com/users/9271474/combo"}, "edited": false, "score": 0, "creation_date": 1521457181, "post_id": 49361218, "comment_id": 85722640, "body": "Thanks, but we want to disable it only for some cases, not at all. Maybe an annotation."}], "tags": [], "owner": {"reputation": 386, "user_id": 833171, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/374809ff1d39ec3e64cd07dd2877c58d?s=128&d=identicon&r=PG", "display_name": "Diego G&#243;mez Olvera", "link": "https://stackoverflow.com/users/833171/diego-g%c3%b3mez-olvera"}, "is_accepted": false, "score": 5, "last_activity_date": 1521456841, "creation_date": 1521456841, "answer_id": 49361218, "question_id": 49360740, "link": "https://stackoverflow.com/questions/49360740/disable-not-null-checks-in-kotlin/49361218#49361218", "title": "Disable not null checks in Kotlin", "body": "<p>You can see how to do it in <a href=\"https://medium.com/@BladeCoder/exploring-kotlins-hidden-costs-part-2-324a4a50b70\" rel=\"noreferrer\">this post</a>, using either a compiler flag:</p>\n\n<pre><code>-Xno-param-assertions\n</code></pre>\n\n<p>Or Proguard:</p>\n\n<pre><code>-assumenosideeffects class kotlin.jvm.internal.Intrinsics {\n static void checkParameterIsNotNull(java.lang.Object, java.lang.String); \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "is_accepted": false, "score": 1, "last_activity_date": 1521457077, "creation_date": 1521457077, "answer_id": 49361303, "question_id": 49360740, "link": "https://stackoverflow.com/questions/49360740/disable-not-null-checks-in-kotlin/49361303#49361303", "title": "Disable not null checks in Kotlin", "body": "<p>With Proguard, you can add this rule to get ride of all null checks</p>\n\n<pre><code>-assumenosideeffects class kotlin.jvm.internal.Intrinsics {\n    static void checkParameterIsNotNull(java.lang.Object, java.lang.String);\n}\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 9271474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b56366b3514441b10c7048fbadd4e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Combo", "link": "https://stackoverflow.com/users/9271474/combo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1501, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1521462810, "creation_date": 1521455485, "last_edit_date": 1521456592, "question_id": 49360740, "link": "https://stackoverflow.com/questions/49360740/disable-not-null-checks-in-kotlin", "title": "Disable not null checks in Kotlin", "body": "<pre><code>class User(val name: String)\n</code></pre>\n\n<p>I know that in constructor will be added this check</p>\n\n<pre><code>Intrinsics.checkParameterIsNotNull(name)\n</code></pre>\n\n<p>To make sure that <code>name</code> do not store null.</p>\n\n<p>Is there a way to instrument to not generate such checks? Maybe an annotation?</p>\n\n<p>We need this in Spring, when map json string to a class. \nThe validation is done by <code>@NotNull</code> and <code>@Valid</code>from javax</p>\n\n<pre><code>class User(@field:NotNull @field:Email val name: String)\n</code></pre>\n\n<p>so, checks are performed immediately after object creation, but since exceptions are thrown from constructor this is not possible.</p>\n"}, {"tags": ["scala", "unicode", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 9271474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b56366b3514441b10c7048fbadd4e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Combo", "link": "https://stackoverflow.com/users/9271474/combo"}, "edited": false, "score": 0, "creation_date": 1521449889, "post_id": 49358991, "comment_id": 85717968, "body": "Well, somehow in Scala this is not a problem."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 459, "user_id": 9271474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b56366b3514441b10c7048fbadd4e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Combo", "link": "https://stackoverflow.com/users/9271474/combo"}, "edited": false, "score": 2, "creation_date": 1521449952, "post_id": 49358991, "comment_id": 85718009, "body": "Sorry, I don&#39;t know what Scala does."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 4, "creation_date": 1521449964, "post_id": 49358991, "comment_id": 85718017, "body": "From Todd&#39;s answer: &quot;In Scala names are mangled to avoid this limitation, in Kotlin they are not.&quot;"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 2, "creation_date": 1521454818, "post_id": 49358991, "comment_id": 85721183, "body": "FYI here&#39;s how Scala handles name mangling: <a href=\"https://github.com/scala/scala/blob/2.13.x/src/library/scala/reflect/NameTransformer.scala\" rel=\"nofollow noreferrer\">github.com/scala/scala/blob/2.13.x/src/library/scala/reflect&zwnj;&#8203;/&hellip;</a> . As you can see, <code>&#47;</code> symbol is translated to <code>$div</code>"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 9, "last_activity_date": 1521450020, "last_edit_date": 1521450020, "creation_date": 1521449803, "answer_id": 49358991, "question_id": 49358917, "link": "https://stackoverflow.com/questions/49358917/why-kotlin-does-not-allow-slash-in-identifiers/49358991#49358991", "title": "Why Kotlin does not allow slash in identifiers", "body": "<p>Kotlin's identifiers are used as-is, without any mangling, in the names of JVM classes and methods generated from the Kotlin code. The slash has a special meaning in JVM names (it separates packages and class names). Therefore, Kotlin doesn't allow using it in an identifier.</p>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1521464474, "post_id": 49359005, "comment_id": 85727389, "body": "I&#39;ll add that that the reason Scala needs such mangling is because there operators like <code>&#47;</code>, <code>+</code>, etc. are treated as normal method names."}], "tags": [], "owner": {"reputation": 1390, "user_id": 5517612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9311c4cfa84f7914806dfb88a75ee219?s=128&d=identicon&r=PG&f=1", "display_name": "Todd Sewell", "link": "https://stackoverflow.com/users/5517612/todd-sewell"}, "is_accepted": true, "score": 13, "last_activity_date": 1521449837, "creation_date": 1521449837, "answer_id": 49359005, "question_id": 49358917, "link": "https://stackoverflow.com/questions/49358917/why-kotlin-does-not-allow-slash-in-identifiers/49359005#49359005", "title": "Why Kotlin does not allow slash in identifiers", "body": "<p>This is a JVM limitation. From the specification section <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.2\" rel=\"noreferrer\">4.2.2</a>:</p>\n\n<blockquote>\n  <p>Names of methods, fields, local variables, and formal parameters are stored as unqualified names. An unqualified name must contain at least one Unicode code point and must not contain any of the ASCII characters . ; [ / (that is, period or semicolon or left square bracket or forward slash). </p>\n</blockquote>\n\n<p>In Scala names are mangled to avoid this limitation, in Kotlin they are not.</p>\n"}], "owner": {"reputation": 459, "user_id": 9271474, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b56366b3514441b10c7048fbadd4e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Combo", "link": "https://stackoverflow.com/users/9271474/combo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 49359005, "answer_count": 2, "score": 6, "last_activity_date": 1521450020, "creation_date": 1521449543, "question_id": 49358917, "link": "https://stackoverflow.com/questions/49358917/why-kotlin-does-not-allow-slash-in-identifiers", "title": "Why Kotlin does not allow slash in identifiers", "body": "<p>The Unicode is allowed in identifiers in backticks</p>\n\n<pre><code>val `\ud83d\udcbeid` = \"1\"\n</code></pre>\n\n<p>But slash is not allowed</p>\n\n<pre><code>val `application/json` = \"application/json\"\n</code></pre>\n\n<p>In Scala we can have such names.</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1521453119, "post_id": 49358773, "comment_id": 85720040, "body": "You just need to visit this blog: <a href=\"https://www.bignerdranch.com/blog/room-data-storage-for-everyone/\" rel=\"nofollow noreferrer\">bignerdranch.com/blog/room-data-storage-for-everyone</a>"}, {"owner": {"reputation": 663, "user_id": 4112049, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/o8GjM.png?s=128&g=1", "display_name": "Perqin", "link": "https://stackoverflow.com/users/4112049/perqin"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1521453709, "post_id": 49358773, "comment_id": 85720431, "body": "@pRaNaY No I don&#39;t want the DbChange to be an Entity. Actually DbChange is an interface and I need to serialize and deserialize it manually according to implementation."}, {"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1521454000, "post_id": 49358773, "comment_id": 85720628, "body": "Have you tried <code>@Ignore</code> to avoid compiler error which you are getting? <code>@Ignore var changes: List&lt;DbChange&gt;</code>"}, {"owner": {"reputation": 663, "user_id": 4112049, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/o8GjM.png?s=128&g=1", "display_name": "Perqin", "link": "https://stackoverflow.com/users/4112049/perqin"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1521458315, "post_id": 49358773, "comment_id": 85723328, "body": "@pRaNaY <code>@Ignore</code> may not be what I want, because I do need to store serialized <code>changes</code> into database."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1521833881, "post_id": 49358773, "comment_id": 85917307, "body": "I&#39;m curious, what happens if you change <code>List</code> to <code>MutableList</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 716, "user_id": 7656172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGszH.jpg?s=128&g=1", "display_name": "Micha\u0142 Baran", "link": "https://stackoverflow.com/users/7656172/micha%c5%82-baran"}, "is_accepted": false, "score": 3, "last_activity_date": 1596204601, "last_edit_date": 1596204601, "creation_date": 1524434123, "answer_id": 49971119, "question_id": 49358773, "link": "https://stackoverflow.com/questions/49358773/android-room-cannot-recognize-typeconverer-for-list/49971119#49971119", "title": "Android Room cannot recognize TypeConverer for List", "body": "<p>This is actually Kotlin's fault rather than Room's.<br />\nAs you can see in your error message you get <code>List&lt;? extends DbChange&gt;</code> instead of <code>List&lt;DbChange&gt;</code> for <code>changes</code> field and thus Room tried to find <code>TypeConverters</code> for <code>byte[] -&gt; List&lt;? extends DbChange&gt;</code> and <code>List&lt;? extends DbChange&gt; -&gt; byte[]</code>, but fails to do so.</p>\n<p>That's because <code>changesToByteArray</code> method argument type is generated as <code>List&lt;? extends DbChange&gt;</code>, <strong>but</strong> type of <code>byteArrayToChanges</code> method is still <code>List&lt;DbChange&gt;</code> and thus you get a compilation error.</p>\n<p>I would recommend <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-suppress-wildcards/index.html\" rel=\"nofollow noreferrer\">this</a> article if you want read more.</p>\n<p><strong>Solution 1:</strong><br />\nUse <a href=\"http://adavis.info/2017/08/jvmsuppresswildcards-biggest-annoyance-kotlin.html\" rel=\"nofollow noreferrer\"><code>@JvmSuppressWildcards</code></a><br />\nAnnotate <code>Commit</code> class so that type without wildcards will be generated for <code>changes</code> field and it's setter:</p>\n<pre><code>@Entity(tableName = &quot;commits&quot;)\n@JvmSuppressWildcards\ndata class Commit(\n    @PrimaryKey\n    @ColumnInfo(name = &quot;hash&quot;)\n    val hash: String,\n\n    @ColumnInfo(name = &quot;changes&quot;, typeAffinity = ColumnInfo.BLOB)\n    var changes: List&lt;DbChange&gt;\n)\n</code></pre>\n<p>Annotate <code>List</code>'s type for same reason:</p>\n<pre><code>class Converters {\n    companion object {\n        @JvmStatic\n        @TypeConverter\n        fun changesToByteArray(changes: List&lt;@JvmSuppressWildcards DbChange&gt;): ByteArray {\n            ...\n        }\n\n        @JvmStatic\n        @TypeConverter\n        fun byteArrayToChanges(bytes: ByteArray): List&lt;DbChange&gt; {\n            ...\n        }\n    }\n}\n</code></pre>\n<p><strong>Solution 2:</strong><br />\nCreate wrapper class for your list like:</p>\n<pre><code>data class DbChanges(val list: List&lt;DbChange&gt;)\n</code></pre>\n<p>and then update <code>Commit</code> class:</p>\n<pre><code>@Entity(tableName = &quot;commits&quot;)\ndata class Commit(\n    @PrimaryKey\n    @ColumnInfo(name = &quot;hash&quot;)\n    val hash: String,\n\n    @ColumnInfo(name = &quot;changes&quot;, typeAffinity = ColumnInfo.BLOB)\n    var changes: DbChanges\n)\n</code></pre>\n<p>and write new <code>TypeConverters</code>:</p>\n<pre><code>class Converters {\n    companion object {\n        @JvmStatic\n        @TypeConverter\n        fun changesToByteArray(changes: DbChanges): ByteArray {\n            ...\n        }\n\n        @JvmStatic\n        @TypeConverter\n        fun byteArrayToChanges(bytes: ByteArray): DbChanges {\n            ...\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 663, "user_id": 4112049, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/o8GjM.png?s=128&g=1", "display_name": "Perqin", "link": "https://stackoverflow.com/users/4112049/perqin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1508, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1596204601, "creation_date": 1521448996, "last_edit_date": 1521449178, "question_id": 49358773, "link": "https://stackoverflow.com/questions/49358773/android-room-cannot-recognize-typeconverer-for-list", "title": "Android Room cannot recognize TypeConverer for List", "body": "<p>Here's my Entity:</p>\n\n<pre><code>@Entity(tableName = \"commits\")\ndata class Commit(\n        @PrimaryKey\n        @ColumnInfo(name = \"hash\")\n        val hash: String,\n        @ColumnInfo(name = \"changes\", typeAffinity = ColumnInfo.BLOB)\n        var changes: List&lt;DbChange&gt;\n)\n</code></pre>\n\n<p>And here's the converters:</p>\n\n<pre><code>class Converters {\n    companion object {\n        @JvmStatic\n        @TypeConverter\n        fun changesToByteArray(changes: List&lt;DbChange&gt;): ByteArray {\n            ...\n        }\n\n        @JvmStatic\n        @TypeConverter\n        fun byteArrayToChanges(bytes: ByteArray): List&lt;DbChange&gt; {\n            ...\n        }\n    }\n}\n</code></pre>\n\n<p>And I've already added Converters class to the annotations:</p>\n\n<pre><code>@Database(entities = [Commit::class], version = 1)\n@TypeConverters(Converters::class)\nabstract class AppRoomDatabase : RoomDatabase() {\n    ...\n}\n</code></pre>\n\n<p>But the compiler still complains:</p>\n\n<pre><code>e: /home/perqin/workspaces/cent-budget/cent-budget/app/build/tmp/kapt3/stubs/eaDebug/com/perqin/centbudget/data/sync/commit/Commit.java:20: error: Cannot figure out how to save this field into database. You can consider adding a type converter for it.\n    private java.util.List&lt;? extends com.perqin.centbudget.data.sync.changes.DbChange&gt; changes;\n</code></pre>\n\n<p>How to solve this issue? I have no ideas at all...</p>\n"}, {"tags": ["android", "json", "kotlin"], "comments": [{"owner": {"reputation": 2301, "user_id": 5117236, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh3.googleusercontent.com/-G6BMgWAersY/AAAAAAAAAAI/AAAAAAAAGG4/wnThVo0uWoA/photo.jpg?sz=128", "display_name": "Impulse The Fox", "link": "https://stackoverflow.com/users/5117236/impulse-the-fox"}, "edited": false, "score": 1, "creation_date": 1521448186, "post_id": 49358550, "comment_id": 85717015, "body": "If you want to read that in Kotlin, you really should use a Json-parser like Gson or Jackson."}, {"owner": {"reputation": 4571, "user_id": 1607191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nLqoh.jpg?s=128&g=1", "display_name": "Omid Heshmatinia", "link": "https://stackoverflow.com/users/1607191/omid-heshmatinia"}, "edited": false, "score": 0, "creation_date": 1521448844, "post_id": 49358550, "comment_id": 85717358, "body": "Why not get <code>light_status</code> as an json array and iterate through each object and convert them to your desired list manually?"}, {"owner": {"reputation": 447, "user_id": 6941033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9XFjhxUhqS0/AAAAAAAAAAI/AAAAAAAAAUE/JXrcMiBGe_s/photo.jpg?sz=128", "display_name": "matin sayyad", "link": "https://stackoverflow.com/users/6941033/matin-sayyad"}, "edited": false, "score": 0, "creation_date": 1521448926, "post_id": 49358550, "comment_id": 85717398, "body": "light_status is already in readable format. show code how you are reading json"}, {"owner": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 0, "creation_date": 1521450532, "post_id": 49358550, "comment_id": 85718389, "body": "It might be silly but why don&#39;t you want to use Gson ?"}], "answers": [{"tags": [], "owner": {"reputation": 3868, "user_id": 5844930, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/XPzcu.jpg?s=128&g=1", "display_name": "Vinayak B", "link": "https://stackoverflow.com/users/5844930/vinayak-b"}, "is_accepted": false, "score": -1, "last_activity_date": 1521453977, "last_edit_date": 1521453977, "creation_date": 1521450357, "answer_id": 49359158, "question_id": 49358550, "link": "https://stackoverflow.com/questions/49358550/how-to-convert-json-to-array-without-using-gson/49359158#49359158", "title": "How to convert JSON to array without using Gson", "body": "<p>First add below model into your project</p>\n\n<pre><code>    class LightStatus {\n\n    var idLight: String? = null\n    var status: String? = null\n\n}\n</code></pre>\n\n<p>Now You can use following code for getting light array</p>\n\n<pre><code>    fun getLightArray() :ArrayList&lt;LightStatus&gt;{\n    val jsonString = \"{\\\"home_device_name\\\":\\\"light\\\",\\\"light_status\\\":[{\\\"id_light\\\":\\\"1\\\",\\\"status\\\":\\\"1\\\"},{\\\"id_light\\\":\\\"2\\\",\\\"status\\\":\\\"0\\\"}]}\";\n    val jsonObject=JSONObject(jsonString)\n    val jsonArray =jsonObject.getJSONArray(\"light_status\")\n    val lightArray =ArrayList&lt;LightStatus&gt;()\n\n    for (i in 0..jsonArray.length()-1){\n        val lightStatus=LightStatus()\n        lightStatus.idLight=jsonArray.getJSONObject(i).getString(\"id_light\")\n        lightStatus.status=jsonArray.getJSONObject(i).getString(\"status\")\n        lightArray.add(lightStatus)\n    }\n    return lightArray\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5451, "user_id": 4587527, "user_type": "registered", "profile_image": "https://graph.facebook.com/656830941094290/picture?type=large", "display_name": "Somesh Kumar", "link": "https://stackoverflow.com/users/4587527/somesh-kumar"}, "edited": false, "score": 1, "creation_date": 1521451647, "post_id": 49359395, "comment_id": 85719092, "body": "I think he is expecting an answer in Kotlin."}], "tags": [], "owner": {"reputation": 2098, "user_id": 4711030, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/OQV0d.jpg?s=128&g=1", "display_name": "NehaK", "link": "https://stackoverflow.com/users/4711030/nehak"}, "is_accepted": true, "score": 2, "last_activity_date": 1521451105, "creation_date": 1521451105, "answer_id": 49359395, "question_id": 49358550, "link": "https://stackoverflow.com/questions/49358550/how-to-convert-json-to-array-without-using-gson/49359395#49359395", "title": "How to convert JSON to array without using Gson", "body": "<p>Use following code :</p>\n\n<pre><code>    String str = \"{\\\"home_device_name\\\":\\\"light\\\",\\\"light_status\\\":[{\\\"id_light\\\":\\\"1\\\",\\\"status\\\":\\\"1\\\"},{\\\"id_light\\\":\\\"2\\\",\\\"status\\\":\\\"0\\\"}]}\";\n\n    try {\n        JSONObject jsonObject = new JSONObject(str);\n\n        String home_device_name = jsonObject.getString(\"home_device_name\");\n\n        JSONArray jsonArray = jsonObject.getJSONArray(\"light_status\");\n\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            String id_light = jsonArray.getJSONObject(i).getString(\"id_light\");\n            String status = jsonArray.getJSONObject(i).getString(\"status\");\n\n            Log.d(\"Value\", \"Pos = \" + i + \" id_light = \" + id_light + \" status = \" + status);\n        }\n\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 49359395, "answer_count": 2, "score": 2, "last_activity_date": 1521453977, "creation_date": 1521448093, "last_edit_date": 1521448363, "question_id": 49358550, "link": "https://stackoverflow.com/questions/49358550/how-to-convert-json-to-array-without-using-gson", "title": "How to convert JSON to array without using Gson", "body": "<p>I have this JSON object:</p>\n\n<pre><code>{\"home_device_name\":\"light\",\"light_status\":[{\"id_light\":\"1\",\"status\":\"1\"},{\"id_light\":\"2\",\"status\":\"0\"}]}\n</code></pre>\n\n<p>I read it as a JSON object but I can't access \"light_status\", I want to convert it to an array to be able to read it.</p>\n"}, {"tags": ["android", "testing", "junit", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 1405, "user_id": 2543527, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WdAph.jpg?s=128&g=1", "display_name": "mcd", "link": "https://stackoverflow.com/users/2543527/mcd"}, "edited": false, "score": 0, "creation_date": 1521447795, "post_id": 49358446, "comment_id": 85716827, "body": "yes you are right i just add trampoline() and test works.thanks. then what is actual use of TestScheduler ?"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "reply_to_user": {"reputation": 1405, "user_id": 2543527, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WdAph.jpg?s=128&g=1", "display_name": "mcd", "link": "https://stackoverflow.com/users/2543527/mcd"}, "edited": false, "score": 1, "creation_date": 1521447947, "post_id": 49358446, "comment_id": 85716900, "body": "<code>TestScheduler</code> would come handy when you want to advance time, for example you have a stream, that will emit a value in 10 second. Instead of waiting 10 seconds inside your test you would like to <b>advance</b> 10 seconds and verify that the value is emitted. See <a href=\"https://medium.com/@fabioCollini/testing-asynchronous-rxjava-code-using-mockito-8ad831a16877\" rel=\"nofollow noreferrer\">this</a> blog post for example use-case."}, {"owner": {"reputation": 1405, "user_id": 2543527, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WdAph.jpg?s=128&g=1", "display_name": "mcd", "link": "https://stackoverflow.com/users/2543527/mcd"}, "edited": false, "score": 0, "creation_date": 1521448160, "post_id": 49358446, "comment_id": 85717006, "body": "thanks i got it. i am injecting subscribeOn and observeOn with trampoline. i don&#39;t wont to add RxAndroidPlugins dependency in my domain layer thank you so much. appreciate your help."}, {"owner": {"reputation": 1764, "user_id": 1699586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39131f11f688becf56080b1dc67c61e9?s=128&d=identicon&r=PG&f=1", "display_name": "Sara", "link": "https://stackoverflow.com/users/1699586/sara"}, "edited": false, "score": 0, "creation_date": 1552424481, "post_id": 49358446, "comment_id": 97002724, "body": "You saved my day. I passed <code>trampoline()</code> as well and worked!"}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": true, "score": 2, "last_activity_date": 1521447660, "creation_date": 1521447660, "answer_id": 49358446, "question_id": 49358096, "link": "https://stackoverflow.com/questions/49358096/testscheduler-not-working-while-testing-specific-usecase/49358446#49358446", "title": "TestScheduler not working while testing specific usecase", "body": "<p>The problem is, that your tests are being run on a thread other than those, that you specify using <code>subscribeOn()</code> and <code>observeOn()</code>. What you want is make tests and the tested code run synchronously on the same thread, regardless what is specified inside <code>subscribeOn()</code>/<code>observeOn()</code>.</p>\n\n<p>You can achieve that using custom <a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/Rule.html\" rel=\"nofollow noreferrer\"><code>@Rule</code></a> like <a href=\"https://github.com/ribot/android-boilerplate/blob/master/app/src/test/java/uk/co/ribot/androidboilerplate/util/RxSchedulersOverrideRule.java\" rel=\"nofollow noreferrer\">this one</a>:</p>\n\n<pre><code>/**\n * This rule registers Handlers for RxJava and RxAndroid to ensure that subscriptions\n * always subscribeOn and observeOn Schedulers.trampoline().\n * Warning, this rule will reset RxAndroidPlugins and RxJavaPlugins before and after each test so\n * if the application code uses RxJava plugins this may affect the behaviour of the testing method.\n */\npublic class RxSchedulersOverrideRule implements TestRule {\n\n    private final Function&lt;Callable&lt;Scheduler&gt;, Scheduler&gt; mRxAndroidSchedulersHook =\n            new Function&lt;Callable&lt;Scheduler&gt;, Scheduler&gt;() {\n                @Override\n                public Scheduler apply(@NonNull Callable&lt;Scheduler&gt; schedulerCallable)\n                        throws Exception {\n                    return getScheduler();\n                }\n            };\n\n    private final Function&lt;Scheduler, Scheduler&gt; mRxJavaImmediateScheduler =\n            new Function&lt;Scheduler, Scheduler&gt;() {\n                @Override\n                public Scheduler apply(@NonNull Scheduler scheduler) throws Exception {\n                    return getScheduler();\n                }\n            };\n\n    @Override\n    public Statement apply(final Statement base, Description description) {\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n                RxAndroidPlugins.reset();\n                RxAndroidPlugins.setInitMainThreadSchedulerHandler(mRxAndroidSchedulersHook);\n\n                RxJavaPlugins.reset();\n                RxJavaPlugins.setIoSchedulerHandler(mRxJavaImmediateScheduler);\n                RxJavaPlugins.setNewThreadSchedulerHandler(mRxJavaImmediateScheduler);\n\n                base.evaluate();\n\n                RxAndroidPlugins.reset();\n                RxJavaPlugins.reset();\n            }\n        };\n    }\n\n    public Scheduler getScheduler() {\n        return Schedulers.trampoline();\n    }\n\n}\n</code></pre>\n\n<p>With this code you intercept all the schedulers and make everything to work on <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/schedulers/Schedulers.html#trampoline--\" rel=\"nofollow noreferrer\"><code>trampoline()</code></a> scheduler.</p>\n\n<p>Now just add following <code>@Rule</code> to your test:</p>\n\n<pre>\n<code>\n    public class MyTestClass {\n\n        @Rule\n        public final RxSchedulersOverrideRule mOverrideSchedulersRule = new RxSchedulersOverrideRule();\n\n        @Test\n        public void someTest() {\n            ...\n        }\n    }\n</code>\n</pre>\n"}], "owner": {"reputation": 1405, "user_id": 2543527, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/WdAph.jpg?s=128&g=1", "display_name": "mcd", "link": "https://stackoverflow.com/users/2543527/mcd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 826, "favorite_count": 0, "accepted_answer_id": 49358446, "answer_count": 1, "score": 1, "last_activity_date": 1521447773, "creation_date": 1521446133, "last_edit_date": 1521447773, "question_id": 49358096, "link": "https://stackoverflow.com/questions/49358096/testscheduler-not-working-while-testing-specific-usecase", "title": "TestScheduler not working while testing specific usecase", "body": "<p>I am testing single use-case. but test observer will not emit any thing in test environment.</p>\n\n<ul>\n<li>even if i change <code>subscribeOn()</code> from <code>Schedulers.newThread()</code> to\n<code>TestScheduler()</code> still test fail. i am confuse. and i don't know what\ni am doing wrong here?</li>\n<li>if i remove <code>subscribeOn</code>,<code>observeOn</code> method then test pass successfully.then\nwhat is the actual use of <code>TestScheduler()</code> ?</li>\n</ul>\n\n<p>following are the <code>UseCase.kt</code> file</p>\n\n<pre><code>abstract class UseCase&lt;T&gt;(val postExecutionThread: PostExecutionThread) {\n\n    abstract fun buildUseCaseBuilder(): Observable&lt;T&gt;\n\n    /**\n     * execute method for observables\n     */\n    open fun execute(): Observable&lt;T&gt; {\n        return buildUseCaseBuilder()\n                .subscribeOn(Schedulers.newThread())\n                .observeOn(postExecutionThread.getScheduler())\n    }\n}\n</code></pre>\n\n<p>following the test class with above class under test</p>\n\n<pre><code>class UseCaseTest {\n\n    val postExecutionThread=Mockito.mock(PostExecutionThread::class.java)\n    val result: String=\"test\"\n    val testObserver=TestObserver&lt;String&gt;()\n\n    @Before\n    fun setUp() {\n        _when(postExecutionThread.getScheduler()).thenReturn(TestScheduler())\n    }\n\n    @Test\n    fun `test execute method of use case`() {\n        println(\" thread type ${postExecutionThread.getScheduler()}\")\n\n        //test fail\n        //java.lang.AssertionError: Value count differs; Expected: 1 [test], Actual: 0 [] (latch = 1, values = 0, errors = 0, completions = 0)\n        TestUseCase(postExecutionThread).execute().test()\n                .assertResult(result)\n\n        //subscriber not print any thing\n        TestUseCase(postExecutionThread).execute().subscribe{\n            println(\"called $it\")\n        }\n    }\n\n    inner class TestUseCase(postExecutionThread: PostExecutionThread?) : UseCase&lt;String&gt;(postExecutionThread!!) {\n        override fun buildUseCaseBuilder(): Observable&lt;String&gt; {\n            return Observable.just(result)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 54, "user_id": 4851174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1579590542329442/picture?type=large", "display_name": "unpitted.com", "link": "https://stackoverflow.com/users/4851174/unpitted-com"}, "edited": false, "score": 0, "creation_date": 1521444914, "post_id": 49357821, "comment_id": 85715573, "body": "the RecyclerView Fragment name is Fragmenttask"}, {"owner": {"reputation": 8058, "user_id": 8112541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SyzIV.jpg?s=128&g=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/8112541/goku"}, "edited": false, "score": 0, "creation_date": 1521444986, "post_id": 49357821, "comment_id": 85715612, "body": "remove <code>else  -&gt; {                 return null!!             }</code> condition for test case"}, {"owner": {"reputation": 54, "user_id": 4851174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1579590542329442/picture?type=large", "display_name": "unpitted.com", "link": "https://stackoverflow.com/users/4851174/unpitted-com"}, "reply_to_user": {"reputation": 8058, "user_id": 8112541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SyzIV.jpg?s=128&g=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/8112541/goku"}, "edited": false, "score": 0, "creation_date": 1521445377, "post_id": 49357821, "comment_id": 85715779, "body": "the same error java.lang.IllegalStateException: The specified child already has a parent. You must call removeView()"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1521445618, "post_id": 49357821, "comment_id": 85715892, "body": "@unpitted.com <a href=\"https://stackoverflow.com/questions/28071349/the-specified-child-already-has-a-parent-you-must-call-removeview-on-the-chil\" title=\"the specified child already has a parent you must call removeview on the chil\">stackoverflow.com/questions/28071349/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 54, "user_id": 4851174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1579590542329442/picture?type=large", "display_name": "unpitted.com", "link": "https://stackoverflow.com/users/4851174/unpitted-com"}, "edited": false, "score": 0, "creation_date": 1521445656, "post_id": 49357902, "comment_id": 85715902, "body": "wen i click the last one FragmentMaps.newInstance() and i click to the first Fragmenttask.newInstance()  they give me the same error java.lang.IllegalStateException: The specified child already has a parent. You must call removeView()"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 54, "user_id": 4851174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1579590542329442/picture?type=large", "display_name": "unpitted.com", "link": "https://stackoverflow.com/users/4851174/unpitted-com"}, "edited": false, "score": 0, "creation_date": 1521445750, "post_id": 49357902, "comment_id": 85715945, "body": "@unpitted.com In your fragment class, you should return VIEW"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 54, "user_id": 4851174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1579590542329442/picture?type=large", "display_name": "unpitted.com", "link": "https://stackoverflow.com/users/4851174/unpitted-com"}, "edited": false, "score": 0, "creation_date": 1521468613, "post_id": 49357902, "comment_id": 85730355, "body": "@unpitted.com Kindly return proper view <code>Fragmenttask </code> fragment section"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1521445692, "last_edit_date": 1521445692, "creation_date": 1521445246, "answer_id": 49357902, "question_id": 49357821, "link": "https://stackoverflow.com/questions/49357821/using-fragment-with-tabs-the-specified-child-already-has-a-parent/49357902#49357902", "title": "Using Fragment with tabs .. The specified child already has a parent", "body": "<p>Problem coming from</p>\n\n<pre><code>       else  -&gt; {\n                return null!!\n            }\n</code></pre>\n\n<p>Try this way</p>\n\n<pre><code>override fun getItem(position: Int): android.support.v4.app.Fragment {\n\n        // getItem is called to instantiate the fragment for the given page.\n        // Return a PlaceholderFragment (defined as a static inner class below).\n        //return PlaceholderFragment.newInstance(position + 1)\n       var fragment: android.support.v4.app.Fragment? = null\n       when (position) {\n           0 -&gt; fragment = Fragmenttask.newInstance()\n           1 -&gt; fragment = FragmentChat.newInstance()\n           2 -&gt; fragment = FragmentMaps.newInstance()\n       }\n\n       return fragment!!\n   }\n\n   override fun getCount(): Int {\n       return 3           //no of cases/fragments\n   }\n\n}\n</code></pre>\n\n<p><strong><code>FYI</code></strong></p>\n\n<p>You must call <a href=\"https://stackoverflow.com/questions/28071349/the-specified-child-already-has-a-parent-you-must-call-removeview-on-the-chil\"><strong><code>removeView()</code></strong></a> .</p>\n\n<p>Each Fragment section</p>\n\n<pre><code> View viewOBJ = inflater.inflate(R.layout.layout_child, parent_layout, false);\n\n  return viewOBJ ;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 54, "user_id": 4851174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1579590542329442/picture?type=large", "display_name": "unpitted.com", "link": "https://stackoverflow.com/users/4851174/unpitted-com"}, "edited": false, "score": 0, "creation_date": 1521445718, "post_id": 49357976, "comment_id": 85715930, "body": "val CustumViewtask = inflater!!.inflate(R.layout.fragment_fragmenttask, container, false)         val taskMainRV = CustumViewtask.findViewById(R.id.recyclerView_main) as RecyclerView"}], "tags": [], "owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1521445627, "creation_date": 1521445627, "answer_id": 49357976, "question_id": 49357821, "link": "https://stackoverflow.com/questions/49357821/using-fragment-with-tabs-the-specified-child-already-has-a-parent/49357976#49357976", "title": "Using Fragment with tabs .. The specified child already has a parent", "body": "<p>Are you sure while inflating fragment's view you have set the attachRootView to false?</p>\n\n<pre><code>inflater.inflate(R.layout.fragment, container, false)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1521450760, "last_edit_date": 1521450760, "creation_date": 1521446853, "answer_id": 49358264, "question_id": 49357821, "link": "https://stackoverflow.com/questions/49357821/using-fragment-with-tabs-the-specified-child-already-has-a-parent/49358264#49358264", "title": "Using Fragment with tabs .. The specified child already has a parent", "body": "<p>You are returning  wrong <code>view</code> check in your <strong><code>Fragmenttask</code></strong> <code>Fragment</code></p>\n\n<p><strong>Use this</strong></p>\n\n<pre><code> return CustumViewtask\n</code></pre>\n\n<p><strong>Instead of this</strong></p>\n\n<pre><code>return taskMainRV\n</code></pre>\n\n<p>Change your code like this</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        val CustumViewtask = inflater!!.inflate(R.layout.fragment_fragmenttask, container, false)\n        val taskMainRV = CustumViewtask.findViewById(R.id.recyclerView_main) as RecyclerView\n        //taskMainRV.setBackgroundColor(Color.BLUE)\n\n        taskMainRV.layoutManager = LinearLayoutManager(context)\n        //recyclerView_main.adapter = MainAdapter()\n\n        fetchJson(taskMainRV)\n\n        return CustumViewtask\n    }\n</code></pre>\n"}], "owner": {"reputation": 54, "user_id": 4851174, "user_type": "registered", "profile_image": "https://graph.facebook.com/1579590542329442/picture?type=large", "display_name": "unpitted.com", "link": "https://stackoverflow.com/users/4851174/unpitted-com"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1521450760, "creation_date": 1521444855, "last_edit_date": 1521447462, "question_id": 49357821, "link": "https://stackoverflow.com/questions/49357821/using-fragment-with-tabs-the-specified-child-already-has-a-parent", "title": "Using Fragment with tabs .. The specified child already has a parent", "body": "<p>I'm building an app like WhatsApp using 3 tabs and every tab have a <code>Fragment</code>. In my first <code>Fragment</code> I have a <code>RecyclerView</code>.</p>\n\n<p>Win a set the SectionsPagerAdapter to start width the RecyclerView Fragment \nlike this:</p>\n\n<pre><code>inner class SectionsPagerAdapter(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n\n        override fun getItem(position: Int): Fragment {\n            // getItem is called to instantiate the fragment for the given page.\n            // Return a PlaceholderFragment (defined as a static inner class below).\n            //return PlaceholderFragment.newInstance(position + 1)\n            when(position){\n                0 -&gt;  return Fragmenttask.newInstance()\n                1 -&gt;  return FragmentChat.newInstance()\n                2 -&gt;  return FragmentMaps.newInstance()\n                else  -&gt; {\n                    return null!!\n                }\n            }\n        }\n\n        override fun getCount(): Int {\n            // Show 3 total pages.\n            return 3\n        }\n    }\n</code></pre>\n\n<p>It give me this error:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                            Process: com.deraah.mohamed.deraahpro, PID: 21993\n                                                                            java.lang.IllegalStateException: The specified child already has a\n  parent. You must call removeView() on the child's parent first.\n                                                                                at android.view.ViewGroup.addViewInner(ViewGroup.java:4937)\n                                                                                at android.view.ViewGroup.addView(ViewGroup.java:4768)\n                                                                                at android.support.v4.view.ViewPager.addView(ViewPager.java:1477)\n                                                                                at android.view.ViewGroup.addView(ViewGroup.java:4708)\n                                                                                at android.view.ViewGroup.addView(ViewGroup.java:4681)\n                                                                                at\n  android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1425)\n                                                                                at\n  android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1740)\n                                                                                at\n  android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:794)\n                                                                                at\n  android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2580)\n                                                                                at\n  android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2367)\n                                                                                at\n  android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2322)\n                                                                                at\n  android.support.v4.app.FragmentManagerImpl.execSingleAction(FragmentManager.java:2199)\n                                                                                at\n  android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:651)\n                                                                                at\n  android.support.v4.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:145)\n                                                                                at android.support.v4.view.ViewPager.populate(ViewPager.java:1236)\n                                                                                at\n  android.support.v4.view.ViewPager.setCurrentItemInternal(ViewPager.java:662)\n                                                                                at\n  android.support.v4.view.ViewPager.setCurrentItemInternal(ViewPager.java:624)\n                                                                                at\n  android.support.v4.view.ViewPager.setCurrentItem(ViewPager.java:605)\n                                                                                at\n  android.support.design.widget.TabLayout$ViewPagerOnTabSelectedListener.onTabSelected(TabLayout.java:2170)\n                                                                                at\n  android.support.design.widget.TabLayout.dispatchTabSelected(TabLayout.java:1165)\n                                                                                at\n  android.support.design.widget.TabLayout.selectTab(TabLayout.java:1158)\n                                                                                at\n  android.support.design.widget.TabLayout.selectTab(TabLayout.java:1128)\n                                                                                at\n  android.support.design.widget.TabLayout$Tab.select(TabLayout.java:1427)\n                                                                                at\n  android.support.design.widget.TabLayout$TabView.performClick(TabLayout.java:1537)\n                                                                                at android.view.View$PerformClick.run(View.java:24770)\n                                                                                at android.os.Handler.handleCallback(Handler.java:790)\n                                                                                at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                at android.os.Looper.loop(Looper.java:164)\n                                                                                at android.app.ActivityThread.main(ActivityThread.java:6494)\n                                                                                at java.lang.reflect.Method.invoke(Native Method)\n                                                                                at\n  com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n                                                                                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)</p>\n</blockquote>\n\n<p><strong>UPDATE</strong> </p>\n\n<p>My fragments:</p>\n\n<p>FragmentChat:</p>\n\n<pre><code>/**\n * A simple [Fragment] subclass.\n * Activities that contain this fragment must implement the\n * [FragmentChat.OnFragmentInteractionListener] interface\n * to handle interaction events.\n * Use the [FragmentChat.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass FragmentChat : Fragment() {\n\n    private var mListener: OnFragmentInteractionListener? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.fragment_fragment_chat, container, false)\n    }\n\n    // TODO: Rename method, update argument and hook method into UI event\n    fun onButtonPressed(uri: Uri) {\n        if (mListener != null) {\n            mListener!!.onFragmentInteraction(uri)\n        }\n    }\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n    }\n\n    override fun onDetach() {\n        super.onDetach()\n        mListener = null\n    }\n\n    /**\n     * This interface must be implemented by activities that contain this\n     * fragment to allow an interaction in this fragment to be communicated\n     * to the activity and potentially other fragments contained in that\n     * activity.\n     *\n     *\n     * See the Android Training lesson [Communicating with Other Fragments](http://developer.android.com/training/basics/fragments/communicating.html) for more information.\n     */\n    interface OnFragmentInteractionListener {\n        // TODO: Update argument type and name\n        fun onFragmentInteraction(uri: Uri)\n    }\n\n    companion object {\n\n        // TODO: Rename and change types and number of parameters\n        fun newInstance(): FragmentChat {\n            val fragment = FragmentChat()\n            val args = Bundle()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n}// Required empty public constructor\n</code></pre>\n\n<p>FragmentMaps:</p>\n\n<pre><code>/**\n * A simple [Fragment] subclass.\n * Activities that contain this fragment must implement the\n * [FragmentMaps.OnFragmentInteractionListener] interface\n * to handle interaction events.\n * Use the [FragmentMaps.newInstance] factory method to\n * create an instance of this fragment.\n */\nclass FragmentMaps : Fragment() {\n\n    private var mListener: OnFragmentInteractionListener? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        return inflater!!.inflate(R.layout.fragment_fragment_maps, container, false)\n    }\n\n    // TODO: Rename method, update argument and hook method into UI event\n    fun onButtonPressed(uri: Uri) {\n        if (mListener != null) {\n            mListener!!.onFragmentInteraction(uri)\n        }\n    }\n\n    override fun onDetach() {\n        super.onDetach()\n        mListener = null\n    }\n\n\n    interface OnFragmentInteractionListener {\n        // TODO: Update argument type and name\n        fun onFragmentInteraction(uri: Uri)\n    }\n\n    companion object {\n        // TODO: Rename and change types and number of parameters\n        fun newInstance(): FragmentMaps {\n            val fragment = FragmentMaps()\n            val args = Bundle()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n}// Required empty public constructor\n</code></pre>\n\n<p>Fragmenttask :</p>\n\n<pre><code>class Fragmenttask : Fragment() {\n\n    private var mListener: OnFragmentInteractionListener? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        val CustumViewtask = inflater!!.inflate(R.layout.fragment_fragmenttask, container, false)\n        val taskMainRV = CustumViewtask.findViewById(R.id.recyclerView_main) as RecyclerView\n        //taskMainRV.setBackgroundColor(Color.BLUE)\n\n        taskMainRV.layoutManager = LinearLayoutManager(context)\n        //recyclerView_main.adapter = MainAdapter()\n\n        fetchJson(taskMainRV)\n\n        return taskMainRV\n    }\n\n    fun fetchJson(RSV: RecyclerView) {\n\n        //SharedPreferences\n        val MY_APP_INFO: String = \"UserInfo\"\n        val prefs = activity.getSharedPreferences(MY_APP_INFO, AppCompatActivity.MODE_PRIVATE)\n        val LoggedUserId = prefs.getString(\"UserId\", null)\n        println(\"your code is : $LoggedUserId\")\n\n        println(\"Attempting to Fetch JSON\")\n\n        val url = \"http://Restful.com/get_tasks.php\"\n\n        val client = OkHttpClient()\n\n        val formBody = FormBody.Builder().add(\"UserId\", LoggedUserId).build()\n\n        val request = Request.Builder().url(url)\n                .post(formBody)\n                .build()\n\n        client.newCall(request).enqueue(object: Callback {\n            override fun onResponse(call: Call?, response: Response?) {\n                val body = response?.body()?.string()\n                println(\"mohamed : $body\")\n\n                val gson = GsonBuilder().create()\n\n                val tasksfeed = gson.fromJson(body, M_tasksFeed::class.java)\n\n                activity.runOnUiThread {\n                    RSV.adapter = MainAdaptertasks(tasksfeed)\n                }\n\n            }\n\n            override fun onFailure(call: Call?, e: IOException?) {\n                println(\"Failed to execute request\")\n            }\n        })\n    }\n\n    // TODO: Rename method, update argument and hook method into UI event\n    fun onButtonPressed(uri: Uri) {\n        if (mListener != null) {\n            mListener!!.onFragmentInteraction(uri)\n        }\n    }\n\n    override fun onDetach() {\n        super.onDetach()\n        mListener = null\n    }\n\n    /**\n     * This interface must be implemented by activities that contain this\n     * fragment to allow an interaction in this fragment to be communicated\n     * to the activity and potentially other fragments contained in that\n     * activity.\n     *\n     *\n     * See the Android Training lesson [Communicating with Other Fragments](http://developer.android.com/training/basics/fragments/communicating.html) for more information.\n     */\n    interface OnFragmentInteractionListener {\n        // TODO: Update argument type and name\n        fun onFragmentInteraction(uri: Uri)\n    }\n\n    companion object {\n        fun newInstance(): Fragmenttask {\n            val fragment = Fragmenttask()\n            val args = Bundle()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n}// Required empty public constructor\n</code></pre>\n"}, {"tags": ["postgresql", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "edited": false, "score": 0, "creation_date": 1521443828, "post_id": 49357144, "comment_id": 85715066, "body": "I forgot to mention, I am using docker to virtualization and my controller is created by Blueprint API"}, {"owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "reply_to_user": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "edited": false, "score": 0, "creation_date": 1521444229, "post_id": 49357144, "comment_id": 85715257, "body": "You don&#39;t virtualize with Docker, but containerize. It&#39;s a difference of flavour. What you are containerising? I think that it doesn&#39;t matter."}, {"owner": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "edited": false, "score": 0, "creation_date": 1521470104, "post_id": 49357144, "comment_id": 85731418, "body": "Error: The &#39;java&#39; plugin has been applied, but it is not compatible with the Android plugins. Here is my build.gradle: <a href=\"https://pastebin.com/uyivF5t6\" rel=\"nofollow noreferrer\">pastebin.com/uyivF5t6</a>"}, {"owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "reply_to_user": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "edited": false, "score": 0, "creation_date": 1521470147, "post_id": 49357144, "comment_id": 85731447, "body": "Did you install java plugin in Android Studio?"}, {"owner": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "edited": false, "score": 0, "creation_date": 1521470340, "post_id": 49357144, "comment_id": 85731602, "body": "I have only I18n for Java and Java Bytecode Decompiler plugins"}, {"owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "reply_to_user": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "edited": false, "score": 0, "creation_date": 1521471088, "post_id": 49357144, "comment_id": 85732167, "body": "The REST API using Spring Boot must be created outside the Android Project. It&#39;s something separate of the Android mobile app."}, {"owner": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "edited": false, "score": 0, "creation_date": 1521472303, "post_id": 49357144, "comment_id": 85733101, "body": "So I can not use Spring boot, is there another REST API or should I use json?"}, {"owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "reply_to_user": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "edited": false, "score": 0, "creation_date": 1521472694, "post_id": 49357144, "comment_id": 85733390, "body": "Spring Boot it&#39;s a Java framework, not an Android one. You should develop a Java REST API and call the API from you Android mobile app."}], "tags": [], "owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "is_accepted": true, "score": 0, "last_activity_date": 1521441732, "creation_date": 1521441732, "answer_id": 49357144, "question_id": 49357082, "link": "https://stackoverflow.com/questions/49357082/kotlin-docker-how-to-get-data-to-my-app/49357144#49357144", "title": "Kotlin + Docker - How to get data to my app?", "body": "<p>The best solution for you it's to create a layer that can communicate by http requests (such a REST API). I suggest you to create a Spring REST API using Spring Boot, because it's easy to do. After that, you just create some HTTP Clients in kotlin for firing http requests to some specific URL.</p>\n"}], "owner": {"reputation": 137, "user_id": 8888338, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/408c8967c208a987ea6e27e89fe149e4?s=128&d=identicon&r=PG&f=1", "display_name": "Torrado36", "link": "https://stackoverflow.com/users/8888338/torrado36"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 49357144, "answer_count": 1, "score": 0, "last_activity_date": 1521446625, "creation_date": 1521441392, "last_edit_date": 1521446625, "question_id": 49357082, "link": "https://stackoverflow.com/questions/49357082/kotlin-docker-how-to-get-data-to-my-app", "title": "Kotlin + Docker - How to get data to my app?", "body": "<p>I am new to coding in kotlin in android studio. I have one table(name: Items(three colums:name, price, date)). Database is postgresql. How do I call http method get and save data in application?</p>\n"}, {"tags": ["java", "android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1521441246, "post_id": 49356990, "comment_id": 85714001, "body": "Do you have the Kotlin standard library in your Gradle dependencies?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9068821"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1521442576, "post_id": 49356990, "comment_id": 85714548, "body": "What is it? can you write off the code."}], "answers": [{"tags": [], "owner": {"reputation": 447, "user_id": 6941033, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9XFjhxUhqS0/AAAAAAAAAAI/AAAAAAAAAUE/JXrcMiBGe_s/photo.jpg?sz=128", "display_name": "matin sayyad", "link": "https://stackoverflow.com/users/6941033/matin-sayyad"}, "is_accepted": false, "score": 0, "last_activity_date": 1521441436, "last_edit_date": 1521441436, "creation_date": 1521441367, "answer_id": 49357078, "question_id": 49356990, "link": "https://stackoverflow.com/questions/49356990/intent-in-kotlin/49357078#49357078", "title": "Intent in Kotlin", "body": "<p>On the Java platform, the runtime component required for using the reflection features is distributed as a separate JAR file <code>(kotlin-reflect.jar)</code>. This is done to reduce the required size of the runtime library for applications that do not use reflection features. If you do use reflection, please make sure that the .jar file is added to the classpath of your project.</p>\n\n<p>see link <a href=\"https://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html#class-references</a></p>\n"}, {"tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1521443884, "last_edit_date": 1521443884, "creation_date": 1521443532, "answer_id": 49357526, "question_id": 49356990, "link": "https://stackoverflow.com/questions/49356990/intent-in-kotlin/49357526#49357526", "title": "Intent in Kotlin", "body": "<blockquote>\n  <p>\"Unsoloved refrence: java\"</p>\n</blockquote>\n\n<p>Read <a href=\"https://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"nofollow noreferrer\"><strong><code>Reflection</code></strong></a> </p>\n\n<blockquote>\n  <p>Reflection is a set of language and library features that allows for\n  introspecting the structure of your own program at runtime.</p>\n</blockquote>\n\n<p>Make sure, You added <strong><code>org.jetbrains.kotlin:kotlin-gradle-plugin</code></strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.30'\n    ext.gradle_version = '3.0.1'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$gradle_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>And check you added below in your module level <strong><code>build.gradle</code></strong> </p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 0, "last_activity_date": 1521445479, "creation_date": 1521445479, "answer_id": 49357946, "question_id": 49356990, "link": "https://stackoverflow.com/questions/49356990/intent-in-kotlin/49357946#49357946", "title": "Intent in Kotlin", "body": "<p>if your AndroidMeActivity class is java class then used below code ..</p>\n\n<pre><code>        val intent=Intent(this,MainActivity::class.java)\n    startActivity(intent)\n</code></pre>\n\n<p>if you are used android studio 3.0 above then is working if below then you can add kotlin plugins in android studio and setup configratution.</p>\n\n<p>i suggest you can update your android studio 3.0 above is automatically supported kotlin.\nthen after any new project start it provide include kotlin option in dialog where define you app name.</p>\n"}, {"tags": [], "owner": {"reputation": 1153, "user_id": 11369023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zFtbF.png?s=128&g=1", "display_name": "Aftab Alam", "link": "https://stackoverflow.com/users/11369023/aftab-alam"}, "is_accepted": false, "score": 0, "last_activity_date": 1576676667, "creation_date": 1576676667, "answer_id": 59393361, "question_id": 49356990, "link": "https://stackoverflow.com/questions/49356990/intent-in-kotlin/59393361#59393361", "title": "Intent in Kotlin", "body": "<blockquote>\n  <p>You can use intent like this.</p>\n</blockquote>\n\n<pre><code>val button = findViewById&lt;Button&gt;(R.id.btn_login);\nbutton.setOnClickListener{\n    val intent = Intent(this, OTPActivity::class.java)\n    startActivity(intent)\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9068821"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1560, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1576676667, "creation_date": 1521441004, "last_edit_date": 1521441275, "question_id": 49356990, "link": "https://stackoverflow.com/questions/49356990/intent-in-kotlin", "title": "Intent in Kotlin", "body": "<p>Why can't I just write class.<code>kotlin</code> instead of writing class.java.\nBecause <code>AndroidMeActivity</code> is a kotlin class and I am getting an error <code>(\"Unsoloved refrence: java\")</code> when I write this, </p>\n\n<p>How can I fix it.</p>\n\n<pre><code> val intent = Intent(this, AndroidMeActivity::class.java)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "synchronization"], "comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 1, "creation_date": 1521440264, "post_id": 49356841, "comment_id": 85713624, "body": "Without code it is hard to tell what causes the leak in your project."}, {"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "reply_to_user": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1521440704, "post_id": 49356841, "comment_id": 85713792, "body": "this code for example: class Geo(var context: Context) : AsynTask&lt;Unit, Unit, Unit&gt;(){ ......... }"}, {"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1521440793, "post_id": 49356841, "comment_id": 85713824, "body": "I mean you should edit the question and add your relevant code unto it, do not use the comment cuz it is hard to read :)"}], "answers": [{"comments": [{"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521461060, "post_id": 49357179, "comment_id": 85725036, "body": "but when i call it in Activity i must compensated (context) with (this) or (Applicationcontext) or (this@ActivityName) and that not possible when i use (WeakReference) ?"}, {"owner": {"reputation": 1981, "user_id": 5722608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e2424e7222b5429a16056a147aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/5722608/faraz"}, "reply_to_user": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521466118, "post_id": 49357179, "comment_id": 85728615, "body": "@user4399890 I&#39;ve tried and its working... Check my updated answer."}, {"owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521467976, "post_id": 49357179, "comment_id": 85729952, "body": "the same problem: it is exit in run time and give me this error:( Caused by: java.lang.IllegalStateException: Can&#39;t create handler inside thread that has not called Looper.prepare())"}, {"owner": {"reputation": 1981, "user_id": 5722608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e2424e7222b5429a16056a147aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/5722608/faraz"}, "reply_to_user": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "edited": false, "score": 0, "creation_date": 1521527401, "post_id": 49357179, "comment_id": 85755867, "body": "If you are updating the UI or showing Toast message in <code>doInBackground</code>(i.e. in other thread), you&#39;ll get this error."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1522199574, "post_id": 49357179, "comment_id": 86055078, "body": "Using weak reference in an Asynctask is a hack, use a SingleLiveData in a ViewModel, or run the asynctask in a retained fragment and then use <code>getActivity()</code> in <code>onPostExecute()</code>"}], "tags": [], "owner": {"reputation": 1981, "user_id": 5722608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e2424e7222b5429a16056a147aa9c?s=128&d=identicon&r=PG&f=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/5722608/faraz"}, "is_accepted": false, "score": 0, "last_activity_date": 1521466101, "last_edit_date": 1521466101, "creation_date": 1521441999, "answer_id": 49357179, "question_id": 49356841, "link": "https://stackoverflow.com/questions/49356841/using-asyntask-or-asyntaskloader-subclass-with-context-in-kotlin/49357179#49357179", "title": "Using AsynTask or AsynTaskLoader subclass with Context in Kotlin", "body": "<p>You can try by using <code>WeakReference</code>.</p>\n\n<p>See <a href=\"https://developer.android.com/reference/java/lang/ref/WeakReference.html\" rel=\"nofollow noreferrer\">WeakReference</a></p>\n\n<p><strong>For example</strong></p>\n\n<pre><code>internal class GeoTask(var context: WeakReference&lt;Context&gt; .... {\n\n    override fun doInBackground(vararg p0: String?) {\n        val geocoder = Geocoder(context.get(), Locale.getDefault())\n      ....\n    }\n</code></pre>\n\n<p>This is what I tried:</p>\n\n<pre><code>class MainActivity : AppCompatActivity\n{\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        Test(WeakReference&lt;Context&gt;(this@MainActivity)).call()\n    }\n\n    class Test(val weakReference: WeakReference&lt;Context&gt;)\n    {\n        fun call()\n        {\n            Toast.makeText(weakReference.get(), \"WeakReference Demo\", Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 903, "user_id": 4399890, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-ImVVcfd5tnY/AAAAAAAAAAI/AAAAAAAAACw/1zPd6zM8Elw/photo.jpg?sz=128", "display_name": "Osama Mohammed", "link": "https://stackoverflow.com/users/4399890/osama-mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521466101, "creation_date": 1521440145, "last_edit_date": 1521441564, "question_id": 49356841, "link": "https://stackoverflow.com/questions/49356841/using-asyntask-or-asyntaskloader-subclass-with-context-in-kotlin", "title": "Using AsynTask or AsynTaskLoader subclass with Context in Kotlin", "body": "<p>I need to use AsynTask or AsynTaskLoader, Everything is going fine but when i am try to using Context in this sub class, The Leak memory problem is occur, please how can i solve this problem?</p>\n\n<pre><code>this is my code:\nclass GeoTask(var context: Context, var latitude:Double, var longitude:Double ):AsyncTask&lt;Util, Util, Unit&gt;() {\n\noverride fun doInBackground(vararg p0: Util?) {\n    val geocoder = Geocoder(context, Locale.getDefault())\n    val addresses = geocoder.getFromLocation(latitude, longitude, 1)\n    if (addresses != null &amp;&amp; addresses.size &gt; 0 &amp;&amp; Geocoder.isPresent()) {\n        LocationUtil.country_name = addresses[0].countryName\n        LocationUtil.city_name = addresses[0].locality\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1521438739, "post_id": 49356525, "comment_id": 85713088, "body": "Thank you very much"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1521438348, "creation_date": 1521438348, "answer_id": 49356525, "question_id": 49356500, "link": "https://stackoverflow.com/questions/49356500/why-do-i-get-the-warning-hint-simplify-boolean-expression-in-kotlin/49356525#49356525", "title": "Why do I get the warning hint &quot;Simplify boolean expression&quot; in Kotlin?", "body": "<p>You can simply change it to</p>\n\n<pre><code>if(!isRegistered(mContext))\n</code></pre>\n\n<p>The IDE will even suggest to make this change for you.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1455, "favorite_count": 0, "accepted_answer_id": 49356525, "answer_count": 1, "score": 1, "last_activity_date": 1521438348, "creation_date": 1521438166, "question_id": 49356500, "link": "https://stackoverflow.com/questions/49356500/why-do-i-get-the-warning-hint-simplify-boolean-expression-in-kotlin", "title": "Why do I get the warning hint &quot;Simplify boolean expression&quot; in Kotlin?", "body": "<p>I use Kotlin in Android Studio 3.01, I get the following warning hint for the code <code>if (isRegistered(mContext)==false )</code> in Code A.</p>\n\n<p>How can I fix it? Thanks!</p>\n\n<p><strong>Warning Hint</strong></p>\n\n<p><em>Simplify boolean expression. This inspections reports boolean expressions that have parts which can be reduced to constants</em></p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>public override fun onDestroy() {\n        if (isRegistered(mContext)==false ) {\n            if (isDebug()) {              \n                openActivity(applicationContext, UIBuy::class.java)\n            } else {\n                openActivity(applicationContext, UIBuy::class.java)\n            }\n        }\n        super.onDestroy()\n    }\n</code></pre>\n"}, {"tags": ["spring", "soap", "kotlin", "spring-ws"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 1, "creation_date": 1521505564, "post_id": 49355962, "comment_id": 85750254, "body": "Maybe you annotated it with the wrong <code>@Endpoint</code> annotation? Should be <code>org.springframework.ws.server.endpoint.annotation.Endpoint</code>. Post more code."}, {"owner": {"reputation": 2809, "user_id": 4952551, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aa5c7131e413943783506a7e4f6be395?s=128&d=identicon&r=PG", "display_name": "J. Pichardo", "link": "https://stackoverflow.com/users/4952551/j-pichardo"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1521505945, "post_id": 49355962, "comment_id": 85750341, "body": "@Strelok added the imports"}], "owner": {"reputation": 2809, "user_id": 4952551, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aa5c7131e413943783506a7e4f6be395?s=128&d=identicon&r=PG", "display_name": "J. Pichardo", "link": "https://stackoverflow.com/users/4952551/j-pichardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521507435, "creation_date": 1521434919, "last_edit_date": 1521507435, "question_id": 49355962, "link": "https://stackoverflow.com/questions/49355962/springws-kotlin-no-adapter-for-endpoint-with-endpoint-and-requestpayload", "title": "SpringWS (Kotlin) - No adapter for endpoint with @Endpoint and @RequestPayload", "body": "<p>I was trying to implement this <a href=\"https://spring.io/guides/gs/producing-web-service/#initial\" rel=\"nofollow noreferrer\">guide</a> but in kotlin.</p>\n\n<p>However when I make a request I get the following response:</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope \n  xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;SOAP-ENV:Header/&gt;\n  &lt;SOAP-ENV:Body&gt;\n    &lt;SOAP-ENV:Fault&gt;\n      &lt;faultcode&gt;SOAP-ENV:Server&lt;/faultcode&gt;\n      &lt;faultstring xml:lang=\"en\"&gt;No adapter for endpoint [public final io.spring.guides.gs_producing_web_service.GetCountryResponse jp.tamagotchi.soap.endpoints.CountryEndpoint.getCountry(io.spring.guides.gs_producing_web_service.GetCountryRequest)]: Is your endpoint annotated with @Endpoint, or does it implement a supported interface like MessageHandler or PayloadEndpoint?&lt;/faultstring&gt;\n    &lt;/SOAP-ENV:Fault&gt;\n  &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n<p>My Endpoint class is as follows:</p>\n\n<pre><code>import io.spring.guides.gs_producing_web_service.Country\nimport io.spring.guides.gs_producing_web_service.Currency\nimport io.spring.guides.gs_producing_web_service.GetCountryRequest\nimport io.spring.guides.gs_producing_web_service.GetCountryResponse\n\nimport org.springframework.ws.server.endpoint.annotation.Endpoint\nimport org.springframework.ws.server.endpoint.annotation.PayloadRoot\nimport org.springframework.ws.server.endpoint.annotation.RequestPayload\nimport org.springframework.ws.server.endpoint.annotation.ResponsePayload\n\nconst val NAMESPACE_URI = \"http://spring.io/guides/gs-producing-web-service\"\n\n/**\n * @author J. Pichardo\n */\n@Endpoint\nclass CountryEndpoint {\n\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = \"getCountryRequest\")\n    @ResponsePayload\n    fun getCountry(@RequestPayload request: GetCountryRequest)  =\n            GetCountryResponse().apply {\n                country = Country().apply {\n                    capital = \"Mexico\"\n                    currency = Currency.EUR\n                    name = request.name\n                    population = Math.random().toInt()\n                }\n            }\n\n}\n</code></pre>\n\n<p>The service configuration:</p>\n\n<pre><code>import org.springframework.boot.web.servlet.ServletRegistrationBean\nimport org.springframework.context.ApplicationContext\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.ComponentScan\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.core.io.ClassPathResource\nimport org.springframework.ws.config.annotation.EnableWs\nimport org.springframework.ws.config.annotation.WsConfigurerAdapter\nimport org.springframework.ws.server.EndpointAdapter\nimport org.springframework.ws.server.endpoint.adapter.MessageEndpointAdapter\nimport org.springframework.ws.transport.http.MessageDispatcherServlet\nimport org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition\nimport org.springframework.xml.xsd.SimpleXsdSchema\nimport org.springframework.xml.xsd.XsdSchema\n\n@EnableWs\n@Configuration\nopen class WebServiceConfiguration : WsConfigurerAdapter() {\n\n    @Bean\n    open fun messageDispatcherServlet(applicationContext: ApplicationContext): ServletRegistrationBean&lt;*&gt; =\n            MessageDispatcherServlet().run {\n                setApplicationContext(applicationContext)\n                isTransformWsdlLocations = true\n                ServletRegistrationBean(this, \"/ws/*\")\n            }\n\n    @Bean(name = [\"countries\"])\n    open fun defaultWsdl11Definition(countriesSchema: XsdSchema): DefaultWsdl11Definition =\n            DefaultWsdl11Definition().apply {\n                setPortTypeName(\"CountriesPort\")\n                setLocationUri(\"/ws\")\n                setTargetNamespace(\"http://spring.io/guides/gs-producing-web-service\")\n                setSchema(countriesSchema)\n            }\n\n    @Bean\n    open fun countriesSchema(): XsdSchema = SimpleXsdSchema(ClassPathResource(\"countries.xsd\"))\n\n    @Bean\n    open fun messageEndpointAdapter(): EndpointAdapter = MessageEndpointAdapter()\n}\n</code></pre>\n\n<p>Any thoughts on this? I've read several questions about this issue,and most of them focus on the <code>@Endpoint</code>, <code>@RequestPayload</code> and <code>@ResponsePayload</code> annotations, but I have already taken that into consideration.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": true, "score": 1, "last_activity_date": 1521429694, "creation_date": 1521429694, "answer_id": 49355349, "question_id": 49355221, "link": "https://stackoverflow.com/questions/49355221/i-get-the-error-expecting-member-declaration-when-i-convert-code-from-java-to/49355349#49355349", "title": "I get the error &quot;Expecting member declaration&quot; when I convert code from Java to Kotlin,why?", "body": "<p>You could simply replace this:</p>\n\n<pre><code>popup.setOnMenuItemClickListener(object : PopupMenu.OnMenuItemClickListener() {\n            fun override onMenuItemClick(item: MenuItem): Boolean {\n                return HandleMenu(item, mContext)\n            }\n        })\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>popup.setOnMenuItemClickListener { item -&gt; HandleMenu(item, mContext) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "is_accepted": false, "score": 2, "last_activity_date": 1521438587, "creation_date": 1521438587, "answer_id": 49356562, "question_id": 49355221, "link": "https://stackoverflow.com/questions/49355221/i-get-the-error-expecting-member-declaration-when-i-convert-code-from-java-to/49356562#49356562", "title": "I get the error &quot;Expecting member declaration&quot; when I convert code from Java to Kotlin,why?", "body": "<p>It should be <code>override fun</code> instead of <code>fun override</code>.</p>\n\n<p>Also you can make use of Kotlin SAM and simplify it to <code>popup.setOnMenuItemClickListener { item -&gt; HandleMenu(item, mContext) }</code> as the IDE suggests.</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4500, "favorite_count": 0, "accepted_answer_id": 49355349, "answer_count": 2, "score": 3, "last_activity_date": 1521438587, "creation_date": 1521428726, "question_id": 49355221, "link": "https://stackoverflow.com/questions/49355221/i-get-the-error-expecting-member-declaration-when-i-convert-code-from-java-to", "title": "I get the error &quot;Expecting member declaration&quot; when I convert code from Java to Kotlin,why?", "body": "<p>When I copy java Code A to a Kotlin project in Android Studio 3.01, the  Code A is converted to Code B automatically.</p>\n\n<p>And I add <code>override</code> for  <code>fun override onMenuItemClick(item: MenuItem)</code> in  Code B by the hint of Android Studio 3.01.</p>\n\n<p>But I get still the error \"Expecting member declaration\" in Code B, what wrong with my kotlin Code B?</p>\n\n<p><strong>Code  A</strong></p>\n\n<pre><code>import android.support.v7.widget.PopupMenu;\n\n public static  void showPopup(View v, final Context mContext) {\n\n        PopupMenu popup = new PopupMenu(mContext, v);\n        popup.inflate(R.menu.menu_more);\n\n        popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\n            public boolean onMenuItemClick(MenuItem item) {\n                return HandleMenu(item, mContext);\n            }\n        });\n        popup.show();\n }\n</code></pre>\n\n<p><strong>Code  B</strong></p>\n\n<pre><code>import android.support.v7.widget.PopupMenu;\n\n    fun showPopup(v: View, mContext: Context) {\n\n        val popup = PopupMenu(mContext, v)\n        popup.inflate(R.menu.menu_more)\n\n        popup.setOnMenuItemClickListener(object : PopupMenu.OnMenuItemClickListener() {\n            fun override onMenuItemClick(item: MenuItem): Boolean {\n                return HandleMenu(item, mContext)\n            }\n        })\n\n        popup.show()\n\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "wear-os", "batterylevel"], "comments": [{"owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1521413240, "post_id": 49353565, "comment_id": 85707415, "body": "So ... do you know if your onReceive method is being called?"}, {"owner": {"reputation": 14536, "user_id": 143684, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/iilWV.png?s=128&g=1", "display_name": "ygoe", "link": "https://stackoverflow.com/users/143684/ygoe"}, "reply_to_user": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1521413827, "post_id": 49353565, "comment_id": 85707549, "body": "It&#39;s the only place where <code>watchBatteryLevel</code> is set, so it must be called at least once. Then probably never, or it gets an outdated level value. I don&#39;t know that. Debugging doesn&#39;t work. Edit: I&#39;ve logged it and it always returns the old value. API bug?"}, {"owner": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1521414136, "post_id": 49353565, "comment_id": 85707624, "body": "Do you know that it is being called <b>more than once</b>?  (Use logging ...)"}, {"owner": {"reputation": 14536, "user_id": 143684, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/iilWV.png?s=128&g=1", "display_name": "ygoe", "link": "https://stackoverflow.com/users/143684/ygoe"}, "reply_to_user": {"reputation": 628808, "user_id": 139985, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=128&d=identicon&r=PG", "display_name": "Stephen C", "link": "https://stackoverflow.com/users/139985/stephen-c"}, "edited": false, "score": 0, "creation_date": 1521414441, "post_id": 49353565, "comment_id": 85707703, "body": "Yes, every ~10 seconds, always the same value returned."}], "answers": [{"tags": [], "owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "is_accepted": true, "score": 1, "last_activity_date": 1521431318, "creation_date": 1521431318, "answer_id": 49355516, "question_id": 49353565, "link": "https://stackoverflow.com/questions/49353565/battery-level-is-never-updated/49355516#49355516", "title": "Battery level is never updated", "body": "<p>The battery level is taken from <code>batteryStatus</code> which is only set once. Take it from the <code>intent</code> parameter of <code>onReceive</code> instead.</p>\n"}], "owner": {"reputation": 14536, "user_id": 143684, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/iilWV.png?s=128&g=1", "display_name": "ygoe", "link": "https://stackoverflow.com/users/143684/ygoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 49355516, "answer_count": 1, "score": 0, "last_activity_date": 1521431318, "creation_date": 1521412991, "question_id": 49353565, "link": "https://stackoverflow.com/questions/49353565/battery-level-is-never-updated", "title": "Battery level is never updated", "body": "<p>I want to display the current watch battery level in my watch face. While the value is determined exactly once and then displayed in my watch face correctly, that value is then never updated. The only way to get a new value displayed is either reinstalling the APK through Android Studio or selecting another watch face first.</p>\n\n<p>I think I followed the tutorial code closely. Here's the relevant parts of my <code>CanvasWatchFaceService.Engine</code> class:</p>\n\n<pre><code>inner class Engine : CanvasWatchFaceService.Engine() {\n    private lateinit var batteryBroadcastReceiver: BroadcastReceiver\n    private lateinit var batteryStatus: Intent\n    private var watchBatteryLevel: Int = -1\n\n    override fun onCreate(holder: SurfaceHolder) {\n        super.onCreate(holder)\n        setWatchFaceStyle(WatchFaceStyle.Builder(this@MyWatchFaceService)\n                .setAcceptsTapEvents(true)\n                .build())\n        val intentFilter = IntentFilter(Intent.ACTION_BATTERY_CHANGED)\n        batteryBroadcastReceiver = object: BroadcastReceiver() {\n            override fun onReceive(context: Context?, intent: Intent?) {\n                watchBatteryLevel = batteryStatus.getIntExtra(BatteryManager.EXTRA_LEVEL, -1)\n                invalidate()\n            }\n        }\n        batteryStatus = registerReceiver(batteryBroadcastReceiver, intentFilter)\n    }\n\n    override fun onDestroy() {\n        mUpdateTimeHandler.removeMessages(MSG_UPDATE_TIME)\n        unregisterReceiver(batteryBroadcastReceiver)\n        super.onDestroy()\n    }\n\n    override fun onDraw(canvas: Canvas, bounds: Rect) {\n        val batteryText = String.format(\"%d %%\", watchBatteryLevel)\n        canvas.drawText(batteryText, width * 0.5f, width * 0.15f, mBatteryPaint)\n    }\n}\n</code></pre>\n"}, {"tags": ["spring-boot", "gradle", "kotlin", "spring-boot-gradle-plugin"], "comments": [{"owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "edited": false, "score": 1, "creation_date": 1521410831, "post_id": 49352837, "comment_id": 85706815, "body": "It\u2019s hard to answer when you haven\u2019t really described what you\u2019ve tried and what, specifically, is stopping your from doing what you want to do. You can re-enable the <code>jar</code> task and use it to build a \u201cnormal\u201d jar: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/gradle-plugin/reference/html/#packaging-executable-and-normal\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.0.0.RELEASE/gradle-plugin/&zwnj;&#8203;&hellip;</a>. Does that help?"}, {"owner": {"reputation": 666, "user_id": 23914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84f169f5b95f86c1929affb51f5e1007?s=128&d=identicon&r=PG", "display_name": "bjartek", "link": "https://stackoverflow.com/users/23914/bjartek"}, "reply_to_user": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "edited": false, "score": 0, "creation_date": 1521413379, "post_id": 49352837, "comment_id": 85707445, "body": "I tried to edit my question now to make it a little clearer."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1521426090, "post_id": 49352837, "comment_id": 85710174, "body": "May you show your &quot;gradle script kotlin&quot;."}, {"owner": {"reputation": 666, "user_id": 23914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84f169f5b95f86c1929affb51f5e1007?s=128&d=identicon&r=PG", "display_name": "bjartek", "link": "https://stackoverflow.com/users/23914/bjartek"}, "edited": false, "score": 0, "creation_date": 1521441654, "post_id": 49352837, "comment_id": 85714159, "body": "Added reference to build file, however note that you need to add some properties to Gradle.properties ro make it work as I would see it."}], "answers": [{"tags": [], "owner": {"reputation": 1081, "user_id": 44380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc45766b5ed26fbd96c6d17d2d2fc0d1?s=128&d=identicon&r=PG", "display_name": "Bent Andr&#233; Solheim", "link": "https://stackoverflow.com/users/44380/bent-andr%c3%a9-solheim"}, "is_accepted": false, "score": 7, "last_activity_date": 1521455172, "creation_date": 1521455172, "answer_id": 49360633, "question_id": 49352837, "link": "https://stackoverflow.com/questions/49352837/spring-boot-2-gradle-plugin-without-executable-jar/49360633#49360633", "title": "Spring Boot 2 Gradle plugin without executable jar", "body": "<p>In spring-boot 2, the gradle plugin reconfigures the build to include the boot tar and zip distributions in the uploadArchives task when you apply the application and maven plugins.</p>\n\n<p>From what I can tell from your question, you want a single zip-file with all the jar files in it, similar to what the application plugin creates, but want to exclude everything \"extra\" that the spring boot plugin adds? If that is the case it is a simple matter of telling gradle to do exactly that;</p>\n\n<pre><code>apply plugin: 'application'\napply plugin: 'maven'\n\njar.enabled = true\n[bootJar, distTar, bootDistTar, bootDistZip]*.enabled = false\nconfigurations.archives.artifacts.removeIf { !it.archiveTask.is(distZip) }\n</code></pre>\n\n<p>This is groovy, but hopefully you are able to apply this in a similar way in your kotlin file.</p>\n"}, {"tags": [], "owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "is_accepted": false, "score": 9, "last_activity_date": 1521459228, "creation_date": 1521459228, "answer_id": 49361992, "question_id": 49352837, "link": "https://stackoverflow.com/questions/49352837/spring-boot-2-gradle-plugin-without-executable-jar/49361992#49361992", "title": "Spring Boot 2 Gradle plugin without executable jar", "body": "<p>When the application plugin is configured, Spring Boot creates an additional distribution that contains the application packages as a fat jar. The default distribution is left intact and you should be able to use it without disabling Boot's distribution.</p>\n\n<p>The default distribution relies on the standard <code>jar</code> task. This task is disabled by Spring Boot's plugin by default as the assumption is that you will want to use the fat jar produced by <code>bootJar</code> instead. When that's not the case, you can re-enable the jar like this:</p>\n\n<pre><code>jar {\n    enabled = true\n}\n</code></pre>\n\n<p>With this change in place, you can run the <code>distZip</code> task:</p>\n\n<pre><code>$: ./gradlew clean distZip --console=plain\n:clean\n:bootBuildInfo\n:compileJava\n:processResources\n:classes\n:jar\n:startScripts\n:distZip\n\nBUILD SUCCESSFUL in 1s\n7 actionable tasks: 7 executed\n</code></pre>\n\n<p>It will create a zip that packages the application and all of its dependencies as separate jars in the <code>lib</code> directory of the distribution.</p>\n\n<pre><code>$: unzip -l build/distributions/application-distribution-0.0.1-SNAPSHOT.zip\nArchive:  build/distributions/application-distribution-0.0.1-SNAPSHOT.zip\n  Length      Date    Time    Name\n---------  ---------- -----   ----\n        0  03-19-2018 07:31   application-distribution-0.0.1-SNAPSHOT/\n        0  03-19-2018 07:31   application-distribution-0.0.1-SNAPSHOT/lib/\n     1860  03-19-2018 07:31   application-distribution-0.0.1-SNAPSHOT/lib/application-distribution-0.0.1-SNAPSHOT.jar\n      588  03-01-2018 05:24   application-distribution-0.0.1-SNAPSHOT/lib/spring-boot-starter-web-2.0.0.RELEASE.jar\n      645  03-01-2018 05:24   application-distribution-0.0.1-SNAPSHOT/lib/spring-boot-starter-json-2.0.0.RELEASE.jar\n      592  03-01-2018 05:23   application-distribution-0.0.1-SNAPSHOT/lib/spring-boot-starter-2.0.0.RELEASE.jar\n      590  03-01-2018 05:24   application-distribution-0.0.1-SNAPSHOT/lib/spring-boot-starter-tomcat-2.0.0.RELEASE.jar\n  1117582  01-08-2018 11:43   application-distribution-0.0.1-SNAPSHOT/lib/hibernate-validator-6.0.7.Final.jar\n   782155  02-19-2018 10:08   application-distribution-0.0.1-SNAPSHOT/lib/spring-webmvc-5.0.4.RELEASE.jar\n  1244848  02-19-2018 10:08   application-distribution-0.0.1-SNAPSHOT/lib/spring-web-5.0.4.RELEASE.jar\n  1145432  03-01-2018 05:23   application-distribution-0.0.1-SNAPSHOT/lib/spring-boot-autoconfigure-2.0.0.RELEASE.jar\n   922427  03-01-2018 05:23   application-distribution-0.0.1-SNAPSHOT/lib/spring-boot-2.0.0.RELEASE.jar\n      613  03-01-2018 05:23   application-distribution-0.0.1-SNAPSHOT/lib/spring-boot-starter-logging-2.0.0.RELEASE.jar\n    26586  03-01-2018 05:23   application-distribution-0.0.1-SNAPSHOT/lib/javax.annotation-api-1.3.2.jar\n  1079064  02-19-2018 10:08   application-distribution-0.0.1-SNAPSHOT/lib/spring-context-5.0.4.RELEASE.jar\n   360034  02-19-2018 10:08   application-distribution-0.0.1-SNAPSHOT/lib/spring-aop-5.0.4.RELEASE.jar\n   654022  02-19-2018 10:08   application-distribution-0.0.1-SNAPSHOT/lib/spring-beans-5.0.4.RELEASE.jar\n   263410  02-19-2018 10:08   application-distribution-0.0.1-SNAPSHOT/lib/spring-expression-5.0.4.RELEASE.jar\n  1216414  02-19-2018 10:08   application-distribution-0.0.1-SNAPSHOT/lib/spring-core-5.0.4.RELEASE.jar\n   297518  10-24-2017 03:28   application-distribution-0.0.1-SNAPSHOT/lib/snakeyaml-1.19.jar\n    33391  01-30-2018 09:16   application-distribution-0.0.1-SNAPSHOT/lib/jackson-datatype-jdk8-2.9.4.jar\n    98261  01-30-2018 09:16   application-distribution-0.0.1-SNAPSHOT/lib/jackson-datatype-jsr310-2.9.4.jar\n     8643  01-30-2018 09:16   application-distribution-0.0.1-SNAPSHOT/lib/jackson-module-parameter-names-2.9.4.jar\n  1345154  01-30-2018 09:16   application-distribution-0.0.1-SNAPSHOT/lib/jackson-databind-2.9.4.jar\n   257309  02-14-2018 08:07   application-distribution-0.0.1-SNAPSHOT/lib/tomcat-embed-websocket-8.5.28.jar\n  3109223  02-14-2018 08:07   application-distribution-0.0.1-SNAPSHOT/lib/tomcat-embed-core-8.5.28.jar\n   240498  02-14-2018 08:07   application-distribution-0.0.1-SNAPSHOT/lib/tomcat-embed-el-8.5.28.jar\n    93107  01-08-2018 11:43   application-distribution-0.0.1-SNAPSHOT/lib/validation-api-2.0.1.Final.jar\n    66469  02-20-2018 12:53   application-distribution-0.0.1-SNAPSHOT/lib/jboss-logging-3.3.2.Final.jar\n    65100  09-19-2017 07:31   application-distribution-0.0.1-SNAPSHOT/lib/classmate-1.3.4.jar\n   290339  06-16-2017 04:40   application-distribution-0.0.1-SNAPSHOT/lib/logback-classic-1.2.3.jar\n    17519  11-28-2017 08:42   application-distribution-0.0.1-SNAPSHOT/lib/log4j-to-slf4j-2.10.0.jar\n     4596  03-27-2017 12:22   application-distribution-0.0.1-SNAPSHOT/lib/jul-to-slf4j-1.7.25.jar\n    15836  02-19-2018 10:08   application-distribution-0.0.1-SNAPSHOT/lib/spring-jcl-5.0.4.RELEASE.jar\n    66519  08-03-2017 05:28   application-distribution-0.0.1-SNAPSHOT/lib/jackson-annotations-2.9.0.jar\n   320923  01-30-2018 09:16   application-distribution-0.0.1-SNAPSHOT/lib/jackson-core-2.9.4.jar\n   471901  06-16-2017 04:40   application-distribution-0.0.1-SNAPSHOT/lib/logback-core-1.2.3.jar\n    41203  03-27-2017 12:22   application-distribution-0.0.1-SNAPSHOT/lib/slf4j-api-1.7.25.jar\n   255485  11-28-2017 08:42   application-distribution-0.0.1-SNAPSHOT/lib/log4j-api-2.10.0.jar\n        0  03-19-2018 07:31   application-distribution-0.0.1-SNAPSHOT/bin/\n     7002  03-19-2018 07:31   application-distribution-0.0.1-SNAPSHOT/bin/application-distribution\n     4042  03-19-2018 07:31   application-distribution-0.0.1-SNAPSHOT/bin/application-distribution.bat\n---------                     -------\n 15926900                     42 files\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1313, "user_id": 3554624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e88b33b9be8342951b5da383f3c8e5d7?s=128&d=identicon&r=PG", "display_name": "panser", "link": "https://stackoverflow.com/users/3554624/panser"}, "is_accepted": false, "score": 2, "last_activity_date": 1556266158, "creation_date": 1556266158, "answer_id": 55863397, "question_id": 49352837, "link": "https://stackoverflow.com/questions/49352837/spring-boot-2-gradle-plugin-without-executable-jar/55863397#55863397", "title": "Spring Boot 2 Gradle plugin without executable jar", "body": "<p>this work for me (disable spring-boot bootJar task, and enable jar)</p>\n\n<pre><code>apply plugin: 'java'\nbootJar {\n  enabled = false\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1682, "user_id": 887290, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07600cf212038ea9db54129d66caf13c?s=128&d=identicon&r=PG", "display_name": "ThomasEdwin", "link": "https://stackoverflow.com/users/887290/thomasedwin"}, "is_accepted": false, "score": 8, "last_activity_date": 1563345805, "creation_date": 1563345805, "answer_id": 57069958, "question_id": 49352837, "link": "https://stackoverflow.com/questions/49352837/spring-boot-2-gradle-plugin-without-executable-jar/57069958#57069958", "title": "Spring Boot 2 Gradle plugin without executable jar", "body": "<p>This kotlin DSL version of @panser answer works for me (disable spring-boot bootJar task and enable jar task):</p>\n\n<pre><code>import org.springframework.boot.gradle.tasks.bundling.BootJar\n\ntasks.getByName&lt;BootJar&gt;(\"bootJar\") {\n    enabled = false\n}\n\ntasks.getByName&lt;Jar&gt;(\"jar\") {\n    enabled = true\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 917, "user_id": 4712855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D0Twu.jpg?s=128&g=1", "display_name": "byte mamba", "link": "https://stackoverflow.com/users/4712855/byte-mamba"}, "is_accepted": false, "score": 0, "last_activity_date": 1569744106, "creation_date": 1569744106, "answer_id": 58153388, "question_id": 49352837, "link": "https://stackoverflow.com/questions/49352837/spring-boot-2-gradle-plugin-without-executable-jar/58153388#58153388", "title": "Spring Boot 2 Gradle plugin without executable jar", "body": "<p>spring boot 2.x</p>\n\n<p>My project is multi-module, each module can execute jar</p>\n\n<p>root \nbuild.gradle</p>\n\n<pre><code>subprojects{\n  apply plugin: 'idea'\n  apply plugin: 'java'\n  apply plugin: 'org.springframework.boot'  \n  }\n\n bootJar { enabled = true }\n jar {enabled = true} \n}\n</code></pre>\n\n<p>Sub-module build.gradle </p>\n\n<pre><code>bootJar {\n    mainClassName = 'space.hi.HelloApplication'\n}\n</code></pre>\n\n<p>Then you can click the bootRun submodule in the 'Tasks/application or build' of the idea gradle plugin, or click bootJar to generate the jar.</p>\n"}], "owner": {"reputation": 666, "user_id": 23914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84f169f5b95f86c1929affb51f5e1007?s=128&d=identicon&r=PG", "display_name": "bjartek", "link": "https://stackoverflow.com/users/23914/bjartek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9071, "favorite_count": 2, "answer_count": 5, "score": 12, "last_activity_date": 1569744106, "creation_date": 1521407440, "last_edit_date": 1521441944, "question_id": 49352837, "link": "https://stackoverflow.com/questions/49352837/spring-boot-2-gradle-plugin-without-executable-jar", "title": "Spring Boot 2 Gradle plugin without executable jar", "body": "<p>How do I configure Spring Boot Gradle plugin 2 to disable the Boot distribution in Gradle Script Kotlin.</p>\n\n<p>The distribution i want is a assembly bundle zip with all dependencies (and the jar) in the lib folder. </p>\n\n<p>I have enabled the Jar task and disabled the bootJar task.</p>\n\n<p>Current source of my build file <a href=\"https://github.com/Skatteetaten/mokey/blob/825a81f20c21a2220876a09ebf7f01fe7c61f2fd/build.gradle.kts\" rel=\"noreferrer\">https://github.com/Skatteetaten/mokey/blob/825a81f20c21a2220876a09ebf7f01fe7c61f2fd/build.gradle.kts</a></p>\n\n<p>Note that the aurora skatteetaten gradle plugin adds the distribution mechanism. <a href=\"https://github.com/Skatteetaten/aurora-gradle-plugin\" rel=\"noreferrer\">https://github.com/Skatteetaten/aurora-gradle-plugin</a></p>\n"}]