[{"tags": ["multiple-inheritance", "delegation", "kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1434623534, "post_id": 30902435, "comment_id": 49863019, "body": "isMarked() in TraitA seems redundant. You can just access marked as it is."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1434624738, "post_id": 30902435, "comment_id": 49863813, "body": "<code>isMarked()</code> does a lot of fancy staff and must be overridable for every end user"}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1434629470, "post_id": 30902435, "comment_id": 49867066, "body": "I dont think this will be possible anytime soon, because StateA isnt really a full class, you cant instantiate it without providing an implementation for doStaffWithMarked(), so StateA is useless on its own.And having some classes like User which is a complete class and StateA which is an incomplete class is very strange and will be hell to typecheck i guess"}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1434625647, "post_id": 30913090, "comment_id": 49864421, "body": "Thanks for the answer. But as you said, those approaches are not very nice. The last one is not what I need since <code>isMarked()</code> should be overridable (see update). The first one with classes kills the whole idea of multi-inheritance. The second one with anonymous objects works, but it is <i>supper</i> ugly."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1434625775, "post_id": 30913090, "comment_id": 49864504, "body": "I agree. Could you split up TraitA into two interfaces, so that you can delegate one of them and implement the other? See my edit."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1434627275, "post_id": 30913090, "comment_id": 49865536, "body": "Bingo! It works, and I am able to scale it: <a href=\"http://try.kotlinlang.org/#/UserProjects/oofhklfiv3hi54r971le3l1tth/7pc2m0b7nnkpg766kplfhq3m9v\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/oofhklfiv3hi54r971le3l1tth&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1434627389, "post_id": 30913090, "comment_id": 49865620, "body": "Could you please extract the last solution into a separate answer, so I would mark it as correct? Thank you."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 1, "last_activity_date": 1475826658, "last_edit_date": 1495540494, "creation_date": 1434624045, "answer_id": 30913090, "question_id": 30902435, "link": "https://stackoverflow.com/questions/30902435/partial-class-delegation-in-kotlin/30913090#30913090", "title": "Partial class delegation in Kotlin", "body": "<p>Here's a version that just inherites from <code>StateA</code> instead of delegating but that's not very nice:</p>\n\n<pre><code>interface TraitA {\n    var marked: Boolean\n\n    fun isMarked(): Boolean\n}\n\nabstract class StateA() : TraitA {\n    override var marked = false\n}\n\nclass User() : TraitA, StateA() {\n    override fun isMarked(): Boolean {\n        return marked\n    }\n}\n</code></pre>\n\n<p>And here's a somewhat unusal approach where I delegate <code>TraitA</code> to an anonymous instance of <code>StateA</code></p>\n\n<pre><code>class User() : TraitA by object : StateA() {\n    override fun isMarked(): Boolean {\n        return marked\n    }\n} {\n\n}\n</code></pre>\n\n<p>To be honest though, I'd rather rethink the design of the class hierarchy instead. In particular, you can put method implementations in interfaces (but not property values) so if <code>isMarked()</code> only depends on <code>marked</code> you could just put the implementation for it directly in <code>TraitA</code>. Your code then becomes:</p>\n\n<pre><code>interface TraitA {\n    var marked: Boolean\n\n    fun isMarked(): Boolean {\n        return marked\n    }\n}\n\nclass StateA() : TraitA {\n    override var marked = false\n}\n\nclass User() : TraitA by StateA() {\n\n}\n</code></pre>\n\n<p>Edit: Separate answer: <a href=\"https://stackoverflow.com/a/30914383/615306\">https://stackoverflow.com/a/30914383/615306</a></p>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1434627970, "post_id": 30914383, "comment_id": 49866048, "body": "Would be cool to support such a pattern on the language level. Not sure what it would look like, though."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1434628307, "post_id": 30914383, "comment_id": 49866267, "body": "Kotlin&#39;s motto is making things explicit. I guess the compiler could allow you to delegate interfaces to incomplete implementations but this solution makes it obvious what is delegated and what is implemented."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 13, "last_activity_date": 1434627719, "creation_date": 1434627719, "answer_id": 30914383, "question_id": 30902435, "link": "https://stackoverflow.com/questions/30902435/partial-class-delegation-in-kotlin/30914383#30914383", "title": "Partial class delegation in Kotlin", "body": "<p>Split up <code>TraitA</code> into two interfaces, then delegate the one and implement the other:</p>\n\n<pre><code>interface TraitA {\n    var marked: Boolean\n}\n\ninterface TraitAPlus : TraitA {\n    fun isMarked(): Boolean\n}\n\nclass StateA() : TraitA {\n    override var marked = false\n}\n\nclass User() : TraitA by StateA(), TraitAPlus {\n    override fun isMarked(): Boolean {\n        return marked\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4239, "favorite_count": 6, "accepted_answer_id": 30914383, "answer_count": 2, "score": 10, "last_activity_date": 1475826658, "creation_date": 1434575311, "last_edit_date": 1434626515, "question_id": 30902435, "link": "https://stackoverflow.com/questions/30902435/partial-class-delegation-in-kotlin", "title": "Partial class delegation in Kotlin", "body": "<p>How do I partial delegate methods/fields in Kotlin? </p>\n\n<p>To be specific: here I am trying to inherit class <code>User</code> from interface <code>TraitA</code> and implement field <code>marked: Boolean</code> in the wrapper <code>StateA</code>. That would clean up the <code>User</code> implementation, because <code>marked</code> is just a state field. Note that <code>TraitA</code> can't be a class because I want to use several such interfaces: <code>User() : TraitA by StateA, TraitB by StateB, ..</code></p>\n\n<pre><code>/* does not compile (Kotlin M12) */\ninterface TraitA {\n    var marked: Boolean\n\n    fun doStaffWithMarked()  // must be overridable\n}\n\nclass StateA() : TraitA {\n    override var marked = false\n}\n\nclass User() : TraitA by StateA(){\n    override fum doStaffWithMarked() {\n        //...all fancy logic here...\n    }\n}\n</code></pre>\n\n<p>The alternative is to implement all in one place:</p>\n\n<pre><code>class User() : TraitA{\n    override var marked = false // ugly code\n\n    override fum doStaffWithMarked() {\n        //...\n    }\n}\n</code></pre>\n\n<p>Is there a way/pattern that would solve that problem with easy and as little code as possible? Code/bytecode generation is not an option for me.</p>\n\n<p><em>UPDATE</em></p>\n\n<p>I was not very clear about that, but please note that <code>doStaffWithMarked()</code> is <strong><em>unique</em></strong> for every <code>User</code>.</p>\n\n<p>So I may suggest a 'half-bad' solution with run-time assertions:</p>\n\n<pre><code>interface TraitA {\n    var marked: Boolean\n\n    /* must be overridden */\n    fun doStaffWithMarked() = throw UnsupportedOperationException()\n}\n\nclass StateA() : TraitA {\n    override var marked = false\n}\n\nclass User() : TraitA by StateA() {\n    override fum doStaffWithMarked() {\n        //...all fancy logic here...\n    }\n}\n</code></pre>\n\n<p>The question is still open, since a really good solution would check that <code>doStaffWithMarked()</code> at compilation time.</p>\n"}, {"tags": ["properties", "delegates", "kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1435944047, "post_id": 30896314, "comment_id": 50425000, "body": "By the way, you don&#39;t need the call to let. Just use value?.close()"}, {"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1435944977, "post_id": 30896314, "comment_id": 50425393, "body": "@cypressious, you&#39;re right, thank you."}], "answers": [{"comments": [{"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 1, "creation_date": 1434632940, "post_id": 30913530, "comment_id": 49869675, "body": "thank you for the answer. Your solution is nice and solves the problem in this particular case but it doesn&#39;t work in all cases. Let&#39;s say, for example, I want to close different <code>Closeable</code> object at different moments. To handle such situation I have to add some kind of keys to your implementation to make <code>close()</code> more granular. In my opinion such functionality must be provided by the language itself without all these hacks."}, {"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 1, "creation_date": 1434633306, "post_id": 30913530, "comment_id": 49869963, "body": "Another problem I usually face is when I need to check if <code>Delegate.lazy</code> property has been initialized. This problem could be easily solved if we had access to the property&#39;s delegate, but all walk-arounds seem to be ugly."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 2, "creation_date": 1435917401, "post_id": 30913530, "comment_id": 50410117, "body": "I realized, you can just declare the delegate as a separate property and then delegate the second property to it. This way you can access the delegate itself easily."}, {"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 0, "creation_date": 1435931837, "post_id": 30913530, "comment_id": 50418858, "body": "that&#39;s an interesting workaround. In this case I will have to delegate fields with the same value in the class by it seems to be a working solution. Until such functionality is added to the language core, your solution may be the best way to achieve what I want."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 8, "last_activity_date": 1435932027, "last_edit_date": 1435932027, "creation_date": 1434625212, "answer_id": 30913530, "question_id": 30896314, "link": "https://stackoverflow.com/questions/30896314/access-property-delegate-in-kotlin/30913530#30913530", "title": "Access property delegate in Kotlin", "body": "<p>Ok, so I came up with the following solution:</p>\n\n<pre><code>fun &lt;T : Closeable&gt; closeableLazy(initializer: () -&gt; T) =\n        CloseableLazyVal(initializer)\n\nclass CloseableLazyVal&lt;T : Closeable&gt;(\n        private val initializer: () -&gt; T\n) : ReadOnlyProperty&lt;CloseableDelegateHost, T&gt; {\n\n    private var value: T? = null\n\n    override fun get(thisRef: CloseableDelegateHost, desc: PropertyMetadata): T {\n        if (value == null) {\n            value = initializer()\n            thisRef.registerCloseable(value!!)\n        }\n        return value!!\n    }\n\n}\n\ninterface CloseableDelegateHost : Closeable {\n    fun registerCloseable(prop : Closeable)\n}\n\nclass ClosableDelegateHostImpl : CloseableDelegateHost {\n\n    val closeables = arrayListOf&lt;Closeable&gt;()\n\n    override fun registerCloseable(prop: Closeable) {\n        closeables.add(prop)\n    }\n\n    override fun close() = closeables.forEach { it.close() }\n}\n\nclass Foo : CloseableDelegateHost by ClosableDelegateHostImpl() {\n    private val stream by closeableLazy { FileOutputStream(\"/path/to/file\") }\n\n    fun writeBytes(bytes: ByteArray) {\n        stream.write(bytes)\n    }\n\n}\n</code></pre>\n\n<p>Notice, that the property's get method has a parameter <code>thisRef</code>. I require that it inherits from <code>CloseableDelegateHost</code> which will close any registered <code>Closeable</code>s when it is closed. To simplify the implementation I delegate this interface to a simple list-based implementation.</p>\n\n<p><strong>UPDATE</strong> (copied from comments):\nI realized, you can just declare the delegate as a separate property and then delegate the second property to it. This way you can access the delegate itself easily.</p>\n\n<pre><code>private val streamDelegate = closeableLazy { FileOutputStream(\"/path/to/file\") }\nprivate val stream by streamDelegate\n\nfun writeBytes(bytes: ByteArray) {\n    stream.write(bytes)\n}\n\noverride fun close() {\n    streamDelegate.close()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "edited": false, "score": 0, "creation_date": 1488418836, "post_id": 42012368, "comment_id": 72226246, "body": "Requires the kotlin reflect library though"}], "tags": [], "owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "is_accepted": false, "score": 8, "last_activity_date": 1486069893, "creation_date": 1486069893, "answer_id": 42012368, "question_id": 30896314, "link": "https://stackoverflow.com/questions/30896314/access-property-delegate-in-kotlin/42012368#42012368", "title": "Access property delegate in Kotlin", "body": "<p>In Kotlin 1.1 (since beta 2), delegates can be retrieved from properties, so you can now write</p>\n\n<pre><code>override fun close() {\n    (::stream.apply { isAccessible = true }.getDelegate() \n        as CloseableLazyVal&lt;*&gt;).close()\n}\n</code></pre>\n"}], "owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3623, "favorite_count": 1, "accepted_answer_id": 30913530, "answer_count": 2, "score": 14, "last_activity_date": 1486069893, "creation_date": 1434555791, "last_edit_date": 1469637055, "question_id": 30896314, "link": "https://stackoverflow.com/questions/30896314/access-property-delegate-in-kotlin", "title": "Access property delegate in Kotlin", "body": "<p>Kotlin has delegated properties which is a very nice feature. But sometimes <code>get()</code> and <code>set()</code> methods are not enough. Let's say I want to create a <code>Closeable</code> object lazily and to close it later. Here's an example of how such delegate property could be implemented:</p>\n\n<pre><code>fun &lt;T : Closeable&gt; closeableLazy(initializer: () -&gt; T) =\n        CloseableLazyVal(initializer)\n\nclass CloseableLazyVal&lt;T : Closeable&gt;(\n    private val initializer: () -&gt; T\n) : ReadOnlyProperty&lt;Any?, T&gt; {\n\n    private var value: T? = null\n\n    override fun get(thisRef: Any?, desc: PropertyMetadata): T {\n        if (value == null) {\n            value = initializer()\n        }\n        return value\n    }\n\n    fun close() {\n        value?.close()\n    }\n}\n</code></pre>\n\n<p>And that's how I would like to use it:</p>\n\n<pre><code>private val stream by closeableLazy { FileOutputStream(\"/path/to/file\") }\n\nfun writeBytes(bytes: ByteArray) {\n    stream.write(bytes)\n}\n\noverride fun close() {\n    stream::delegate.close() // This line will not compile\n}\n</code></pre>\n\n<p>Unfortunately, this approach doesn't work because it seems that Kotlin doesn't allow to access property delegates directly. Is there any way to do what I want? Or are there any plans to add such functionality to Kotlin because it would be such a neat feature.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1908, "user_id": 3543130, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d023505076e3ea939260f9f26b88f42?s=128&d=identicon&r=PG&f=1", "display_name": "Martian Odyssey", "link": "https://stackoverflow.com/users/3543130/martian-odyssey"}, "edited": false, "score": 0, "creation_date": 1434633747, "post_id": 30892446, "comment_id": 49870311, "body": "To clarify, the question was not about syntax but rather about whether such a pre-existing function existed in Kotlin. As demonstrated in this answer, it is trivial to write such function one&#39;s self. Scala library writers must have thought, though, that the use case was frequent enough to include it in their standard library."}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 1908, "user_id": 3543130, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d023505076e3ea939260f9f26b88f42?s=128&d=identicon&r=PG&f=1", "display_name": "Martian Odyssey", "link": "https://stackoverflow.com/users/3543130/martian-odyssey"}, "edited": false, "score": 0, "creation_date": 1434633902, "post_id": 30892446, "comment_id": 49870451, "body": "I see. I thought you specifically asked about syntax, because <code>???</code> looks to me as a special syntax, rather than a library function :) But no, currently the closest analogue to what you&#39;re asking is the <code>error</code> function I mentioned. Please leave a request at <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a> if you think an alternative without the error message would be helpful."}, {"owner": {"reputation": 1908, "user_id": 3543130, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d023505076e3ea939260f9f26b88f42?s=128&d=identicon&r=PG&f=1", "display_name": "Martian Odyssey", "link": "https://stackoverflow.com/users/3543130/martian-odyssey"}, "edited": false, "score": 0, "creation_date": 1434634471, "post_id": 30892446, "comment_id": 49870892, "body": "Yes <code>???</code> is a function. You bring up a good point, though, about how it looks like special syntax because Scala allows other non-usual characters in identifiers. If the function in Predef was called <code>todo</code> rather than <code>???</code> that would arguably be clearer.I noticed in kotlin.test package there is a function called <code>todo</code> (which takes a function argument) and serves a slightly different purpose."}, {"owner": {"reputation": 1908, "user_id": 3543130, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d023505076e3ea939260f9f26b88f42?s=128&d=identicon&r=PG&f=1", "display_name": "Martian Odyssey", "link": "https://stackoverflow.com/users/3543130/martian-odyssey"}, "edited": false, "score": 2, "creation_date": 1434635290, "post_id": 30892446, "comment_id": 49871578, "body": "Serendipitously, Alexander&#39;s answer is the quintessence of why allowing special characters in programming language identifiers is a questionable design decision! :)"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452028408, "post_id": 30892446, "comment_id": 56988286, "body": "Link to the TODO function docs: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-t-o-d-o.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin/-t-o-d-o.html</a>"}, {"owner": {"reputation": 533, "user_id": 4884204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dnt29.jpg?s=128&g=1", "display_name": "Sergiu Indrie", "link": "https://stackoverflow.com/users/4884204/sergiu-indrie"}, "edited": false, "score": 0, "creation_date": 1598444988, "post_id": 30892446, "comment_id": 112460467, "body": "I think this answer should be updated. I think the link to the Kotlin TODO function is enough."}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 5, "last_activity_date": 1598635276, "last_edit_date": 1598635276, "creation_date": 1434546191, "answer_id": 30892446, "question_id": 30889368, "link": "https://stackoverflow.com/questions/30889368/kotlin-stub-placeholder-function-for-unimplemented-code/30892446#30892446", "title": "Kotlin stub/placeholder function for unimplemented code", "body": "<p>Since Kotlin 1.0, you can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-t-o-d-o.html\" rel=\"nofollow noreferrer\"><code>TODO</code> function</a> from the Kotlin standard library, which takes an optional message.</p>\n"}], "owner": {"reputation": 1908, "user_id": 3543130, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5d023505076e3ea939260f9f26b88f42?s=128&d=identicon&r=PG&f=1", "display_name": "Martian Odyssey", "link": "https://stackoverflow.com/users/3543130/martian-odyssey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1216, "favorite_count": 2, "accepted_answer_id": 30892446, "answer_count": 1, "score": 3, "last_activity_date": 1598635276, "creation_date": 1434538158, "question_id": 30889368, "link": "https://stackoverflow.com/questions/30889368/kotlin-stub-placeholder-function-for-unimplemented-code", "title": "Kotlin stub/placeholder function for unimplemented code", "body": "<p>Scala's Predef has a bunch of shorthand functions including one for unimplemented code, namely ???. Does Kotlin have anything similar rather than having to resort to the longhand</p>\n\n<pre><code>throw Error(\"Code not yet implemented\")\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "is_accepted": true, "score": 6, "last_activity_date": 1434495502, "creation_date": 1434495502, "answer_id": 30879661, "question_id": 30878506, "link": "https://stackoverflow.com/questions/30878506/use-kotlin-extension-in-android-java-class/30879661#30879661", "title": "Use Kotlin extension in android java class", "body": "<p>You can mix kotlin and java ( use/call kotlin classes in java classes ) \nBut what you want here is use a kotlin feature in java - this is not possible</p>\n"}, {"comments": [{"owner": {"reputation": 6035, "user_id": 421901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/55f687a81e7fb73d7378b0def50d86ba?s=128&d=identicon&r=PG", "display_name": "Informatic0re", "link": "https://stackoverflow.com/users/421901/informatic0re"}, "edited": false, "score": 0, "creation_date": 1434520820, "post_id": 30880699, "comment_id": 49807292, "body": "But I can not call someString.getSomething()? What I thought would be possible is to mix up the languages. &quot;Changing&quot; the String class with Kotlin and use these changes in java."}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 6035, "user_id": 421901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/55f687a81e7fb73d7378b0def50d86ba?s=128&d=identicon&r=PG", "display_name": "Informatic0re", "link": "https://stackoverflow.com/users/421901/informatic0re"}, "edited": false, "score": 4, "creation_date": 1434524390, "post_id": 30880699, "comment_id": 49809069, "body": "No, you can&#39;t. Extension functions/properties in a package are merely a syntactic sugar for static methods, they don&#39;t and can&#39;t change the corresponding receiver class. Also Java is not an extensible language in this regard, there&#39;s nothing in the Java Language Specification that would allow this."}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": false, "score": 27, "last_activity_date": 1461460603, "last_edit_date": 1461460603, "creation_date": 1434502972, "answer_id": 30880699, "question_id": 30878506, "link": "https://stackoverflow.com/questions/30878506/use-kotlin-extension-in-android-java-class/30880699#30880699", "title": "Use Kotlin extension in android java class", "body": "<p>Kotlin's extension functions are compiled to JVM methods taking the receiver as the first parameter. If your extension function is declared on the top level, for example in a file named <code>file.kt</code>:</p>\n\n<pre><code>package foo\n\nfun String.getSomething(): String {\n    return \"something\"\n}\n</code></pre>\n\n<p>Then, in Java, you can call the static method from the corresponding <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#package-level-functions\" rel=\"noreferrer\">file class</a>:</p>\n\n<pre><code>import foo.FileKt;\n\n...\n\nString someString = \"blabla\";\nFileKt.getSomething(someString);\n</code></pre>\n"}], "owner": {"reputation": 6035, "user_id": 421901, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/55f687a81e7fb73d7378b0def50d86ba?s=128&d=identicon&r=PG", "display_name": "Informatic0re", "link": "https://stackoverflow.com/users/421901/informatic0re"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4288, "favorite_count": 1, "accepted_answer_id": 30879661, "answer_count": 2, "score": 11, "last_activity_date": 1513349327, "creation_date": 1434489962, "last_edit_date": 1513349327, "question_id": 30878506, "link": "https://stackoverflow.com/questions/30878506/use-kotlin-extension-in-android-java-class", "title": "Use Kotlin extension in android java class", "body": "<p>Is it possible to use a kotlin extension in a android java class?\nExample:</p>\n\n<pre><code>fun String.getSomething(): String {\n    return \"something\"\n}\n</code></pre>\n\n<p>then in Java use it like:</p>\n\n<pre><code>String someString = \"blabla\";\nsomeString.getSomething();\n</code></pre>\n\n<p>is this possible?</p>\n"}, {"tags": ["java", "switch-statement", "kotlin"], "comments": [{"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "edited": false, "score": 0, "creation_date": 1434301961, "post_id": 30832215, "comment_id": 49709242, "body": "Just stumbled on <a href=\"https://youtrack.jetbrains.com/issue/KT-771\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-771</a> any workaround then?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 2, "creation_date": 1452031692, "post_id": 30832215, "comment_id": 56989807, "body": "I think statistically (no evidence, but I&#39;m sure Kotlin team used statistics to decide) that a <code>switch</code> in Java almost always has a <code>break</code> in each case, therefore it is  inconvenient for the common case."}], "answers": [{"comments": [{"owner": {"reputation": 5511, "user_id": 7682257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VeNQ.jpg?s=128&g=1", "display_name": "Suraj Vaishnav", "link": "https://stackoverflow.com/users/7682257/suraj-vaishnav"}, "edited": false, "score": 2, "creation_date": 1514565963, "post_id": 30832877, "comment_id": 83020882, "body": "Great answer, but you can use recursion instead of calling method from for loop"}, {"owner": {"reputation": 4164, "user_id": 58100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/236eb55ddbef080616afb750f0e288d2?s=128&d=identicon&r=PG", "display_name": "E.M.", "link": "https://stackoverflow.com/users/58100/e-m"}, "reply_to_user": {"reputation": 5511, "user_id": 7682257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VeNQ.jpg?s=128&g=1", "display_name": "Suraj Vaishnav", "link": "https://stackoverflow.com/users/7682257/suraj-vaishnav"}, "edited": false, "score": 0, "creation_date": 1584657044, "post_id": 30832877, "comment_id": 107511716, "body": "@SurajVaishnav why is using recursion better? Using <code>tailrec</code> would be fine, but the loop is pretty straightforward, IMO."}], "tags": [], "owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "is_accepted": true, "score": 72, "last_activity_date": 1434362955, "last_edit_date": 1434362955, "creation_date": 1434305770, "answer_id": 30832877, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/30832877#30832877", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>Simple but wordy solution is:</p>\n\n<pre><code>if (oldVersion &lt;= 1) upgradeFromV1()\nif (oldVersion &lt;= 2) upgradeFromV2()\nif (oldVersion &lt;= 3) upgradeFromV3()\n</code></pre>\n\n<p>Another possible solution with <a href=\"http://kotlinlang.org/docs/reference/reflection.html#function-references\">function references</a>:</p>\n\n<pre><code>fun upgradeFromV0() {}\nfun upgradeFromV1() {}\nfun upgradeFromV2() {}\nfun upgradeFromV3() {}\n\nval upgrades = arrayOf(::upgradeFromV0, ::upgradeFromV1, ::upgradeFromV2, ::upgradeFromV3)\n\nfun upgradeFrom(oldVersion: Int) {\n    for (i in oldVersion..upgrades.lastIndex) {\n        upgrades[i]()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 403, "user_id": 4083820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5a9a5f9469a566fe4a0574ef86101?s=128&d=identicon&r=PG&f=1", "display_name": "C.A.B.", "link": "https://stackoverflow.com/users/4083820/c-a-b"}, "is_accepted": false, "score": 13, "last_activity_date": 1544909228, "last_edit_date": 1544909228, "creation_date": 1471670986, "answer_id": 39050791, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/39050791#39050791", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>How about this:</p>\n\n<pre><code>fun upgradeFromV3() {/* some code */}\nfun upgradeFromV2() {/* some code */ upgradeFromV3()}\nfun upgradeFromV1() {/* some code */ upgradeFromV2()}\nfun upgradeFromV0() {/* some code */ upgradeFromV1()}\n\nfun upgrade(oldVersion: Int) {\n    when (oldVersion) {\n        1 -&gt; upgradeFromV1()\n        2 -&gt; upgradeFromV2()\n        3 -&gt; upgradeFromV3()\n    }\n}\n</code></pre>\n\n<p>Added:</p>\n\n<p>I like the idea by <a href=\"https://stackoverflow.com/a/41238275/4083820\">@lukle</a> to define the upgrade path as a list. This allows to define different upgrade paths for different initial stage. For example:</p>\n\n<ol>\n<li>Simple fast path from released version to the latest released version</li>\n<li>Catch-up path from hot-fix version (could be few in a row), which should not be applied when going from previous full version to the next full version</li>\n</ol>\n\n<p>For that we need to know from which elements of the list to apply.</p>\n\n<pre><code>fun &lt;Vs, V&gt; Pair&lt;Vs, V&gt;.apply(upgrade: () -&gt; Unit): (V) -&gt; V {\n    return { current: V -&gt;\n        if (first == current) {\n            upgrade()\n            second\n        } else {\n            current\n        }\n    }\n}\n\nval upgradePath = listOf(\n        (0 to 10).apply  { /* do something */ },\n        (5 to 15).apply  { /* do something */ },\n        (10 to 20).apply { /* do something */ },\n        (15 to 20).apply { /* do something */ },\n        (20 to 30).apply { /* do something */ },\n        (30 to 40).apply { /* do something */ }\n)\n\nfun upgrade(oldVersion: Int) {\n    var current = oldVersion\n    upgradePath.forEach { current = it(current) }\n}\n</code></pre>\n\n<p>In this code Vs could be the same as V or some kind of collection of V values with overridden <code>equals(other: Any?): Boolean</code> method.</p>\n"}, {"comments": [{"owner": {"reputation": 509, "user_id": 782818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pctie.jpg?s=128&g=1", "display_name": "Jerzyna", "link": "https://stackoverflow.com/users/782818/jerzyna"}, "edited": false, "score": 1, "creation_date": 1489573057, "post_id": 39553898, "comment_id": 72726194, "body": "Add a <a href=\"https://kotlinlang.org/docs/reference/functions.html#tail-recursive-functions\" rel=\"nofollow noreferrer\">tailrec</a> modifier to the (recursively called) function and you&#39;re golden!"}, {"owner": {"reputation": 403, "user_id": 4184103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d93436c8cb786f0042d2c69b7c5f002?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Delphiki", "link": "https://stackoverflow.com/users/4184103/julian-delphiki"}, "reply_to_user": {"reputation": 509, "user_id": 782818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pctie.jpg?s=128&g=1", "display_name": "Jerzyna", "link": "https://stackoverflow.com/users/782818/jerzyna"}, "edited": false, "score": 0, "creation_date": 1492708327, "post_id": 39553898, "comment_id": 74104921, "body": "@Jerzyna edited in my current solution, which is slightly nicer, in my opinion."}], "tags": [], "owner": {"reputation": 403, "user_id": 4184103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d93436c8cb786f0042d2c69b7c5f002?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Delphiki", "link": "https://stackoverflow.com/users/4184103/julian-delphiki"}, "is_accepted": false, "score": 18, "last_activity_date": 1492708193, "last_edit_date": 1492708193, "creation_date": 1474170583, "answer_id": 39553898, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/39553898#39553898", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>edit: Original response below. Here's what I'm currently doing:</p>\n\n<pre><code>fun upgrade() {\n    fun upgradeFromV1() { /* Do stuff */ }\n    fun upgradeFromV3() { /* Do stuff */ }\n\n    tailrec fun upgradeFrom(version: Int): Unit = when (version) {\n        LATEST_VERSION -&gt; {\n            Config.version = version\n        } 1 -&gt; {\n            upgradeFromV1()\n            upgradeFrom(2)\n        } in 2..3 -&gt; {\n            upgradeFromV3()\n            upgradeFrom(4)\n        } else -&gt; {\n            Log(\"Uncaught upgrade from $version\")\n            upgradeFrom(version+1)\n    }\n\n    upgradeFrom(Config.version)\n}\n</code></pre>\n\n<hr>\n\n<p>Here's a variation on the answer @C.A.B. gave:</p>\n\n<pre><code>fun upgrade(oldVersion: Int) {\n    when (oldVersion) {\n        latestVersion -&gt; return\n        1 -&gt; upgradeFromV1()\n        2 -&gt; upgradeFromV2()\n        3 -&gt; upgradeFromV3()\n    }\n    upgrade(oldVersion + 1)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6473, "user_id": 2660462, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e7866e763430b8848f14ffdacb61b99f?s=128&d=identicon&r=PG", "display_name": "Lukas Lechner", "link": "https://stackoverflow.com/users/2660462/lukas-lechner"}, "is_accepted": false, "score": 0, "last_activity_date": 1482224327, "creation_date": 1482224327, "answer_id": 41238275, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/41238275#41238275", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>Here is a mix of the two answers from bashor, with a little bit of functional sugar:</p>\n\n<pre><code>fun upgradeFromV0() {}\nfun upgradeFromV1() {}\nfun upgradeFromV2() {}\nfun upgradeFromV3() {}\n\nval upgrades = arrayOf(::upgradeFromV0, ::upgradeFromV1, ::upgradeFromV2, ::upgradeFromV3)\n\nfun upgradeFrom(oldVersion: Int) {\n    upgrades.filterIndexed { index, kFunction0 -&gt; oldVersion &lt;= index }\n            .forEach { it() }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1498339784, "post_id": 44741038, "comment_id": 76463435, "body": "How does that help with OP&#39;s problem?"}, {"owner": {"reputation": 10733, "user_id": 2775083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7BLJ.jpg?s=128&g=1", "display_name": "TheIT", "link": "https://stackoverflow.com/users/2775083/theit"}, "edited": false, "score": 0, "creation_date": 1500516319, "post_id": 44741038, "comment_id": 77374562, "body": "Thanks for this answer. Although it doesn&#39;t directly answer the question, it does answer a related question of handling various cases in the same way"}], "tags": [], "owner": {"reputation": 4086, "user_id": 1551603, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/gILwn.jpg?s=128&g=1", "display_name": "Yarh", "link": "https://stackoverflow.com/users/1551603/yarh"}, "is_accepted": false, "score": 2, "last_activity_date": 1521710585, "last_edit_date": 1521710585, "creation_date": 1498338812, "answer_id": 44741038, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/44741038#44741038", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>It is absolutly possible \nquote from official reference : <a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"nofollow noreferrer\">Control Flow: if, when, for, while</a> </p>\n\n<pre><code>If many cases should be handled in the same way, the branch conditions may be combined with a comma:\n\nwhen (x) {\n    0, 1 -&gt; print(\"x == 0 or x == 1\")\n    else -&gt; print(\"otherwise\")\n}\n</code></pre>\n\n<p>So if same condition list is short, then you can list them separating by coma, or use ranges like condition in 1..10 as stated in other answers </p>\n"}, {"comments": [{"owner": {"reputation": 403, "user_id": 4083820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5a9a5f9469a566fe4a0574ef86101?s=128&d=identicon&r=PG&f=1", "display_name": "C.A.B.", "link": "https://stackoverflow.com/users/4083820/c-a-b"}, "edited": false, "score": 1, "creation_date": 1544909908, "post_id": 44862868, "comment_id": 94444621, "body": "This seams like infinite recursive loop"}, {"owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "reply_to_user": {"reputation": 403, "user_id": 4083820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5a9a5f9469a566fe4a0574ef86101?s=128&d=identicon&r=PG&f=1", "display_name": "C.A.B.", "link": "https://stackoverflow.com/users/4083820/c-a-b"}, "edited": false, "score": 0, "creation_date": 1545000966, "post_id": 44862868, "comment_id": 94463013, "body": "@C.A.B. My original answer implied that <code>oldVersion</code> would have to be incremented inside the <code>when</code> statement. I have edited the answer to explicitly show that <code>oldVersion</code> has to be incremented in order to avoid infinite recursion. Thanks for pointing out."}, {"owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "edited": false, "score": 1, "creation_date": 1563338004, "post_id": 44862868, "comment_id": 100661208, "body": "Kotlin does not allow you to oldVersion++, because val cannot reassigned. You can instead onUpgrade(db, oldVersion + 1, newVersion)"}, {"owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "reply_to_user": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "edited": false, "score": 0, "creation_date": 1563351222, "post_id": 44862868, "comment_id": 100666588, "body": "@Nishita, yes, thank you for this remark. I will delete this post later on, as it seems to me little different than Julian Delphiki&#39;s post."}], "tags": [], "owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "is_accepted": false, "score": 2, "last_activity_date": 1545000680, "last_edit_date": 1545000680, "creation_date": 1498924903, "answer_id": 44862868, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/44862868#44862868", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>Another variation of OP's answer:</p>\n\n<pre><code>override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n    when (oldVersion) {\n        newVersion -&gt; return\n        1 -&gt; TODO(\"upgrade from v1 to v2\")\n        2 -&gt; TODO(\"upgrade from v2 to v3\")\n    }\n    oldVersion++\n    onUpgrade(db, oldVersion, newVersion)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 4088872, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mbXBdg6YbnI/AAAAAAAAAAI/AAAAAAAABzs/UWo0vjcUC_U/photo.jpg?sz=128", "display_name": "lukDeveloper", "link": "https://stackoverflow.com/users/4088872/lukdeveloper"}, "is_accepted": false, "score": -1, "last_activity_date": 1500036496, "last_edit_date": 1500036496, "creation_date": 1500033606, "answer_id": 45102457, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/45102457#45102457", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<pre><code>val orders = arrayListOf(\n            { upgradeFromV1()},\n            { upgradeFromV2()},\n            { upgradeFromV3()}\n)\n\norders.drop(oldVersion).forEach { it() }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 403, "user_id": 4083820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b5a9a5f9469a566fe4a0574ef86101?s=128&d=identicon&r=PG&f=1", "display_name": "C.A.B.", "link": "https://stackoverflow.com/users/4083820/c-a-b"}, "edited": false, "score": 0, "creation_date": 1544899823, "post_id": 49231218, "comment_id": 94442098, "body": "This doesn&#39;t answer the original question."}], "tags": [], "owner": {"reputation": 273, "user_id": 8420957, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3X6w8x9MhTI/AAAAAAAAAAI/AAAAAAAAABg/H5wT0dTRHMk/photo.jpg?sz=128", "display_name": "Bharat Vasoya", "link": "https://stackoverflow.com/users/8420957/bharat-vasoya"}, "is_accepted": false, "score": -3, "last_activity_date": 1520844681, "creation_date": 1520844681, "answer_id": 49231218, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/49231218#49231218", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>Kotlin works with a different flow control called when.</p>\n\n<p>Your code, using it when, can be that way.</p>\n\n<p>Obviously the code could be different, but I understand that your question is only about the use of switch.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\nval month = 8\n\nval monthString = when(month) {\n    1 -&gt; \"Janeiro\"\n    2 -&gt; \"February\"\n    3 -&gt; \"March\"\n    4 -&gt; \"April\"\n    5 -&gt; \"May\"\n    6 -&gt; \"June\"\n    7 -&gt; \"July\"\n    8 -&gt; \"August\"\n    9 -&gt; \"September\"\n    12 -&gt; \"October\"\n    11 -&gt; \"November\"\n    10 -&gt; \"December\"\n    else -&gt; \"Invalid month\"      \n}\n\nprintln(monthString);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 5484076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PP3ZM.jpg?s=128&g=1", "display_name": "Victor Yevitchenko", "link": "https://stackoverflow.com/users/5484076/victor-yevitchenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1545410097, "last_edit_date": 1545410097, "creation_date": 1545206924, "answer_id": 53846966, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/53846966#53846966", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>What about Kotlin DSL for custom implementation? Something like this approach:</p>\n\n<pre><code>class SwitchTest {\n\n    @Test\n    fun switchTest() {\n\n        switch {\n            case(true) {\n                println(\"case 1\")\n            }\n            case(true) {\n                println(\"case 2\")\n            }\n            case(false) {\n                println(\"case 3\")\n            }\n            caseBreak(true) {\n                println(\"case 4\")\n            }\n            case(true) {\n                println(\"case 5\")\n            }\n//          default { //TODO implement\n//\n//          }\n        }\n    }\n}\n\nclass Switch {\n    private var wasBroken: Boolean = false\n\n    fun case(condition: Boolean = false, block: () -&gt; Unit) {\n        if (wasBroken) return\n        if (condition)\n            block()\n    }\n\n    fun caseBreak(condition: Boolean = false, block: () -&gt; Unit) {\n        if (condition) {\n            block()\n            wasBroken = true\n        }\n    }\n}\n\nfun switch(block: Switch.() -&gt; Unit): Switch {\n    val switch = Switch()\n    switch.block()\n    return switch\n}\n</code></pre>\n\n<p>It prints:\n<code>\ncase 1\ncase 2\ncase 4\n</code>\nUPD: Some refactorings and output example.</p>\n"}, {"tags": [], "owner": {"reputation": 1113, "user_id": 1197590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62259561d9dccd97bb53d7f34dc905e2?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/1197590/john"}, "is_accepted": false, "score": 9, "last_activity_date": 1548319842, "creation_date": 1548319842, "answer_id": 54342614, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/54342614#54342614", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>You can just use for loop with when.</p>\n\n<pre><code>for (version in oldVersion..newVersion) when (version) {\n    1 -&gt; upgradeFromV1()\n    2 -&gt; upgradeFromV2()\n    3 -&gt; upgradeFromV3()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1164, "user_id": 1183178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/742ecab7460bae556315cf870be86caa?s=128&d=identicon&r=PG", "display_name": "Emre", "link": "https://stackoverflow.com/users/1183178/emre"}, "is_accepted": false, "score": 0, "last_activity_date": 1615913770, "creation_date": 1615913770, "answer_id": 66659806, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch/66659806#66659806", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>If you didn't care about the order in which you run these functions, you could make your own pseudo-switch, something like:</p>\n<pre><code>function PretendSwitch() {\n  if(oldVersion&gt;3) return\n  upgradeFromV3();\n  if(oldVersion==3) return\n  upgradeFromV2()\n  if(oldVersion==2) return\n  upgradeFromV1()\n  if(oldVersion==1) return\n}\n</code></pre>\n<p>Nothing is going to be as clean as using a switch. Unfortunately, Kotlin lacks a switch statement so there is no way do perform this elegantly.</p>\n"}], "owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34702, "favorite_count": 6, "accepted_answer_id": 30832877, "answer_count": 11, "score": 61, "last_activity_date": 1615913770, "creation_date": 1434301794, "last_edit_date": 1596271477, "question_id": 30832215, "link": "https://stackoverflow.com/questions/30832215/kotlin-when-statement-vs-java-switch", "title": "Kotlin &#39;when&#39; statement vs Java &#39;switch&#39;", "body": "<p>Pattern matching in Kotlin is nice and the fact it does not execute the next pattern match is good in 90% of use cases.</p>\n<p>In Android, when database is updated, we use Java switch property to go on next case if we do not put a break to have code looking like that:</p>\n<pre><code>switch (oldVersion) {\n    case 1: upgradeFromV1();\n    case 2: upgradeFromV2(); \n    case 3: upgradeFromV3();\n}\n</code></pre>\n<p>So if someone has an app with version 1 of the DB and missed the app version with DB v2, he will get all the needed upgrade code executed.</p>\n<p>Converted to Kotlin, we get a mess like:</p>\n<pre><code>when (oldVersion) {\n    1 -&gt; {\n        upgradeFromV1()\n        upgradeFromV2()\n        upgradeFromV3()\n    }\n    2 -&gt; {\n        upgradeFromV2()\n        upgradeFromV3()\n    }\n    3 -&gt; {\n        upgradeFromV3()\n    }\n}\n</code></pre>\n<p>Here we have only 3 versions, imagine when DB reaches version 19.</p>\n<p>Anyway to makes when acting in the same way then switch? I tried to continue without luck.</p>\n"}, {"tags": ["kotlin", "let"], "comments": [{"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 1, "creation_date": 1434293231, "post_id": 30825084, "comment_id": 49706376, "body": "There&#39;s no such function AFAIK, but in your example, if I&#39;m guessing correctly that <code>rightPartsByLeft</code> is a <code>MutableMap</code>, then you can do <code>rightPartsByLeft.getOrPut(s) { ArrayList() }</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1434300029, "post_id": 30825084, "comment_id": 49708616, "body": "@AlexanderUdalov, thanks, it is not universal solution, but it seems perfect for this particular case."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452031807, "post_id": 30825084, "comment_id": 56989850, "body": "Kotlin now has <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>apply()</code> extension function</a> which you can use on anything."}], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "closed_date": 1434300280, "answer_count": 0, "score": 1, "last_activity_date": 1434245094, "creation_date": 1434244027, "last_edit_date": 1434245094, "question_id": 30825084, "link": "https://stackoverflow.com/questions/30825084/kotlin-let-analogue-which-returns-the-receiver", "closed_reason": "Duplicate", "title": "Kotlin let analogue which returns the receiver", "body": "<p>I was wondering if there's a standard function which behaves similarly to <code>let</code> but returns the receiver itself, not the value calculated by <code>block</code>.</p>\n\n<p>My piece of code with <code>let</code>:</p>\n\n<pre><code>fun rightParts(s: Lexeme) = \n    rightPartsByLeft[s] ?:\n    ArrayList&lt;Rule&gt;() let { rightPartsByLeft[s] = it; it }\n                                                      ^ here's the statement which I would\n                                                        like to avoid\n</code></pre>\n\n<p>So, if there would be such a function named, for example, <code>btw</code>, the code above would shorten a little and become more expressive:</p>\n\n<pre><code> fun rightParts(s: Lexeme) = \n     rightPartsByLeft[s] ?:\n     ArrayList&lt;Rule&gt;() btw { rightPartsByLeft[s] = it }\n</code></pre>\n\n<p>Of course, I might write this function by myself and include it into every project, but I suppose, people would like a function with such semantics.</p>\n\n<p>Or is there another nice way of doing the same in Kotlin?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 3668, "user_id": 239266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2072a8f90f9fe379ca21c3af39a3757?s=128&d=identicon&r=PG", "display_name": "Hadi Hariri", "link": "https://stackoverflow.com/users/239266/hadi-hariri"}, "edited": false, "score": 1, "creation_date": 1434262087, "post_id": 30824479, "comment_id": 49698597, "body": "What version of IntelliJ IDEA are you using? Do you have a src folder? Did you create the Kotlin file inside there?"}, {"owner": {"reputation": 1019, "user_id": 4780746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkniZ.png?s=128&g=1", "display_name": "Mad Scientist Moses", "link": "https://stackoverflow.com/users/4780746/mad-scientist-moses"}, "reply_to_user": {"reputation": 3668, "user_id": 239266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2072a8f90f9fe379ca21c3af39a3757?s=128&d=identicon&r=PG", "display_name": "Hadi Hariri", "link": "https://stackoverflow.com/users/239266/hadi-hariri"}, "edited": false, "score": 0, "creation_date": 1434668122, "post_id": 30824479, "comment_id": 49890846, "body": "IntelliJ version 14.1.3.  I have a source folder named &quot;src&quot; created by default and it has a Kotlin class file in it named Main."}, {"owner": {"reputation": 3668, "user_id": 239266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2072a8f90f9fe379ca21c3af39a3757?s=128&d=identicon&r=PG", "display_name": "Hadi Hariri", "link": "https://stackoverflow.com/users/239266/hadi-hariri"}, "edited": false, "score": 0, "creation_date": 1434864411, "post_id": 30824479, "comment_id": 49955306, "body": "Can you show a screenshot of your project layout or better yet, send me the sample? I&#39;m curious as to why this is happening."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451995769, "post_id": 30824479, "comment_id": 56967694, "body": "See: <a href=\"http://stackoverflow.com/a/34513057/3679676\">stackoverflow.com/a/34513057/3679676</a> for background on running Kotlin classes, it will help you diagnose your own issues."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1451995827, "post_id": 30824479, "comment_id": 56967736, "body": "Note in your question the <code>class Main</code> is missing the <code>companion object</code> within, and the <code>@JvmStatic</code> annotation on the <code>main()</code> method.  See the link I posted in the previous comment for more information."}], "answers": [{"comments": [{"owner": {"reputation": 1019, "user_id": 4780746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkniZ.png?s=128&g=1", "display_name": "Mad Scientist Moses", "link": "https://stackoverflow.com/users/4780746/mad-scientist-moses"}, "edited": false, "score": 0, "creation_date": 1434669216, "post_id": 30827881, "comment_id": 49891154, "body": "The triple dot button for selecting the class didn&#39;t work (double clicking the class didn&#39;t do anything), but I was able to type in the name of my class there.  Now it gives me an error &quot;main method should be static&quot;, which for Kotlin makes no sense because there is no such thing.  I tried to take it out of the class, but that didn&#39;t work."}], "tags": [], "owner": {"reputation": 3575, "user_id": 21133, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b44b247db459649577678740d6679ee?s=128&d=identicon&r=PG", "display_name": "tomjen", "link": "https://stackoverflow.com/users/21133/tomjen"}, "is_accepted": false, "score": 3, "last_activity_date": 1434274627, "creation_date": 1434274627, "answer_id": 30827881, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup/30827881#30827881", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>Open your file that contains your main function and go to menu->\"Edit configurations\" then select \"+\" in the dialog, \"Application\" as the type set the name to what you want and set the main class by clicking on the button next to the top entry box (the one labeled \"main class\").</p>\n\n<p>The select \"use class path of module\" and select your module from the drop down box. Click \"apply\" and close the dialog. Now you should be able to run with shift+F10, debug with shift+F9 and edit run configurations with shift+alt+F10. You can also run or debug from the two buttons in the top right hand of your main screen.</p>\n"}, {"tags": [], "owner": {"reputation": 1019, "user_id": 4780746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkniZ.png?s=128&g=1", "display_name": "Mad Scientist Moses", "link": "https://stackoverflow.com/users/4780746/mad-scientist-moses"}, "is_accepted": false, "score": 0, "last_activity_date": 1434669571, "creation_date": 1434669571, "answer_id": 30927430, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup/30927430#30927430", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>I had to update my Kotlin plugin (which came out very recently) and then the right click options for running started appearing.  I couldn't track the issue down to anything else, so I think that's it.  </p>\n\n<p>If you're having this problem, right click on the source code file where your main function is and click run, create, or debug.</p>\n\n<p>Note that the main function has to have the name \"main\" (no caps), and an \"Array\" argument.  That one caught me a few times when I was making new projects trying to get it to work.</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 10, "last_activity_date": 1451995736, "last_edit_date": 1495535482, "creation_date": 1451995736, "answer_id": 34611363, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup/34611363#34611363", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>A full answer for how to identify the runnable class for a top-level <code>main()</code> function, or to use a <code>main()</code> method within a class are both documented in this other Stack Overflow answer:  <a href=\"https://stackoverflow.com/a/34513057/3679676\">How to run Kotlin classes</a> </p>\n\n<p>This covers running on command-line, within Intellij (as your question asks), Gradle, and more.</p>\n"}, {"tags": [], "owner": {"reputation": 5899, "user_id": 2761641, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JuwBc.jpg?s=128&g=1", "display_name": "Akshay Vijay Jain", "link": "https://stackoverflow.com/users/2761641/akshay-vijay-jain"}, "is_accepted": false, "score": 1, "last_activity_date": 1496059011, "creation_date": 1496059011, "answer_id": 44241934, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup/44241934#44241934", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>I moved my main.kt file inside the src folder of project and problem solved\ni.e. IntelliJ could find MainKt class</p>\n"}, {"tags": [], "owner": {"reputation": 983, "user_id": 4958167, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1632640893647064/picture?type=large", "display_name": "Slava Sotone", "link": "https://stackoverflow.com/users/4958167/slava-sotone"}, "is_accepted": false, "score": 63, "last_activity_date": 1502186125, "last_edit_date": 1502186125, "creation_date": 1502134778, "answer_id": 45554526, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup/45554526#45554526", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>You can't assemble the project cause main method is not static. So you should define it in companion object.</p>\n\n<pre><code>class HelloKotlin {\n\n        companion object {\n            @JvmStatic fun main(args: Array&lt;String&gt;) {\n                println(\"Kotlin main is running here!\")\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1105, "user_id": 3094065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UOwQS.png?s=128&g=1", "display_name": "maXp", "link": "https://stackoverflow.com/users/3094065/maxp"}, "is_accepted": false, "score": 6, "last_activity_date": 1527271758, "creation_date": 1527271758, "answer_id": 50534741, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup/50534741#50534741", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>Specified \"Main class:\" -> com.mypackage.MainKt</p>\n\n<p>And create Kotlin file \"Main\" in package \"com.mypackage\"</p>\n\n<pre><code>package com.mypackage\n\nfun main(args: Array&lt;String&gt;) {\n    println(\"Hello Kotlin!\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 2323471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u7H3u.jpg?s=128&g=1", "display_name": "user2323471", "link": "https://stackoverflow.com/users/2323471/user2323471"}, "is_accepted": false, "score": 0, "last_activity_date": 1540863273, "creation_date": 1540863273, "answer_id": 53056165, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup/53056165#53056165", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>Just simply right click on the class which you want to run and select Run ClassNameKt option, Rest of will be done by IntelliJ IDE.</p>\n"}, {"comments": [{"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1576588508, "post_id": 59374650, "comment_id": 104942323, "body": "The highest upvoted answer to this question lists virtually the same code as you, has the code properly formatted, and provides an explanation on top of it. What exactly are you trying to contribute here?"}], "tags": [], "owner": {"reputation": 105, "user_id": 4412880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/muK9V.jpg?s=128&g=1", "display_name": "kshitij", "link": "https://stackoverflow.com/users/4412880/kshitij"}, "is_accepted": false, "score": 0, "last_activity_date": 1576587102, "creation_date": 1576587102, "answer_id": 59374650, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup/59374650#59374650", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>Its working fine...Please check. copy and paste this code and run.</p>\n\n<p>class MyFirstKotlinClass {</p>\n\n<pre><code>companion object {\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        println(\"=========&gt;&gt;&gt;&gt; run successful\")\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 13765936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/POEnP.jpg?s=128&g=1", "display_name": "Jean_K", "link": "https://stackoverflow.com/users/13765936/jean-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1599957424, "creation_date": 1599957424, "answer_id": 63866103, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup/63866103#63866103", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>Another solution:</p>\n<pre><code>fun main(){\n    println(&quot;Hello world!&quot;)\n}\n</code></pre>\n<p>remember that it goes outside the class declarations, also the following icon should appear:</p>\n<p><a href=\"https://i.stack.imgur.com/uSBP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uSBP3.png\" alt=\"run icon\" /></a></p>\n<p>on click:</p>\n<p><a href=\"https://i.stack.imgur.com/tQUcg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tQUcg.png\" alt=\"enter image description here\" /></a></p>\n<p>And problem resolve. If you want try this code in your Main.kt:</p>\n<pre><code>import javax.swing.JFrame\n\nfun main() {\n    println(&quot;Hi, kotlin !!!&quot;)\n    val window = Main()\n}\n\nclass Main {\n    constructor(){\n        val frame = JFrame()\n        frame.setSize(800, 600)\n        frame.setLocationRelativeTo(null)\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE)\n        frame.setVisible(true)\n    }\n}\n</code></pre>\n<p>Regards !</p>\n"}], "owner": {"reputation": 1019, "user_id": 4780746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkniZ.png?s=128&g=1", "display_name": "Mad Scientist Moses", "link": "https://stackoverflow.com/users/4780746/mad-scientist-moses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24569, "favorite_count": 4, "answer_count": 9, "score": 34, "last_activity_date": 1599957424, "creation_date": 1434237282, "question_id": 30824479, "link": "https://stackoverflow.com/questions/30824479/kotlin-intellij-project-setup", "title": "Kotlin - IntelliJ Project Setup", "body": "<p>I want to start a new project with Kotlin for the JVM using the IntelliJ IDE, but I can't get a configuration for it to work.  I was attempting to follow <a href=\"http://kotlinlang.org/docs/tutorials/getting-started.html\" rel=\"noreferrer\">this tutorial</a>, and after that didn't work (the \"Run '_DefaultPackage'\" option never even showed up), I started trying to intuit what was supposed to be done without success.\nWhat has happened so far (repeatedly):</p>\n\n<ul>\n<li>I created a new project, selected \"Kotlin - JVM\" as the project type.</li>\n<li>I clicked the \"Create...\" button for the Kotlin Runtime on the second page and selected \"Copy to: lib\".</li>\n<li>I click \"Finish\" and the project created has one module with same name as my project.  There is no default source file or any configuration.</li>\n<li>I create a Kotlin file named \"app.kt\" (I've tried other names too, like \"Main.kt\"), and put the following source code in:</li>\n</ul>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main(args: Array&lt;String&gt;){\n    println(\"Hello world!\")\n}\n</code></pre>\n\n<ul>\n<li>I right clicked on the code editor AND the file in the left pane to find the \"Run '_DefaultPackage'\" option mentioned in the tutorial, but failed to find it in either.</li>\n<li>I create a new Kotlin configuration, which asks that I put in a \"Main class\".  Seeing this, I change the code to:</li>\n</ul>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>public class Main {\n    fun main(args: Array&lt;String&gt;) {\n        println(\"Hello world!\")\n    }\n}\n</code></pre>\n\n<ul>\n<li>I edit my configuration and set the main class to \"Main\", and then run the configuration.  It fails with this error: \"Error running : Function 'main' not found in class 'Main'.</li>\n</ul>\n\n<p>What am I missing?</p>\n"}]