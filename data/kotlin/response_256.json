[{"tags": ["android", "android-layout", "kotlin", "android-recyclerview", "android-nestedscrollview"], "comments": [{"owner": {"reputation": 447, "user_id": 5018798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOMQB.png?s=128&g=1", "display_name": "Gavin Harris", "link": "https://stackoverflow.com/users/5018798/gavin-harris"}, "edited": false, "score": 0, "creation_date": 1575506243, "post_id": 59186199, "comment_id": 104593298, "body": "Can you attach an example of your actual layout?"}, {"owner": {"reputation": 643, "user_id": 12482756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nCaZH.jpg?s=128&g=1", "display_name": "Burak", "link": "https://stackoverflow.com/users/12482756/burak"}, "reply_to_user": {"reputation": 447, "user_id": 5018798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOMQB.png?s=128&g=1", "display_name": "Gavin Harris", "link": "https://stackoverflow.com/users/5018798/gavin-harris"}, "edited": false, "score": 0, "creation_date": 1575506671, "post_id": 59186199, "comment_id": 104593389, "body": "I updated the question."}], "answers": [{"tags": [], "owner": {"reputation": 447, "user_id": 5018798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOMQB.png?s=128&g=1", "display_name": "Gavin Harris", "link": "https://stackoverflow.com/users/5018798/gavin-harris"}, "is_accepted": false, "score": 0, "last_activity_date": 1575507432, "creation_date": 1575507432, "answer_id": 59186693, "question_id": 59186199, "link": "https://stackoverflow.com/questions/59186199/nestedscrollview-fix-the-view-top-inside-nestedscrollview/59186693#59186693", "title": "NestedScrollView fix the view top inside NestedScrollView", "body": "<p>Could you do something like:</p>\n\n<pre><code>ConstraintLayout\n-- OtherViews\n-- TabLayout\n-- NestedScrollView\n---- ViewPager\n</code></pre>\n\n<p>That way the content of the ViewPager will scroll? FYI It may also be worth looking at the <code>CoordinatorLayout</code> and <code>CollapsingToolbarLayout</code> (<a href=\"https://material.io/develop/android/components/collapsing-toolbar-layout/\" rel=\"nofollow noreferrer\">https://material.io/develop/android/components/collapsing-toolbar-layout/</a>) which will allow users to regain some of their screen back when scrolling up.</p>\n"}, {"tags": [], "owner": {"reputation": 737, "user_id": 6275844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f7071f7e0149f02e945420a120a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dan 0", "link": "https://stackoverflow.com/users/6275844/dan-0"}, "is_accepted": false, "score": 0, "last_activity_date": 1575508323, "creation_date": 1575508323, "answer_id": 59186802, "question_id": 59186199, "link": "https://stackoverflow.com/questions/59186199/nestedscrollview-fix-the-view-top-inside-nestedscrollview/59186802#59186802", "title": "NestedScrollView fix the view top inside NestedScrollView", "body": "<p>You can't do this directly within the <code>NestedScrollView</code> because the view itself is supposed to scroll content. </p>\n\n<p>If you're looking for a fixed <code>TabLayout</code> at the top that doesn't move, you can pull the <code>TabLayout</code> out of the <code>NestedScrollView</code> and encompass both of these views under another layout type (eg. <code>LinearLayout</code>, <code>ConstraintLayout</code>, etc).</p>\n\n<p>If you want the a <code>TabLayout</code> that expands and contracts as the user scrolls, your best bet is a <code>CoordinatorLayout</code> which can encompass a <code>NestedScrollView</code> and then implement your <code>TabLayout</code> under the <code>CoordinatorLayout</code>'s <code>AppBarLayout</code>/<code>CollapsingtoolbarLayout</code>. The structure would look similar to:</p>\n\n<pre><code>CoordinatorLayout\n- AppBarLayout\n-- CollapsingToolbarLayout\n--- [Your implementation of the `TabLayout`]\n-- NestedScrollView\n</code></pre>\n\n<p>You can find more information on <code>CoordinatorLayout</code> and <code>CollapsingToolbarLayout</code> here:</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/reference/com/google/android/material/appbar/CollapsingToolbarLayout\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/com/google/android/material/appbar/CollapsingToolbarLayout</a></li>\n<li><p><a href=\"https://material.io/develop/android/components/collapsing-toolbar-layout/\" rel=\"nofollow noreferrer\">https://material.io/develop/android/components/collapsing-toolbar-layout/</a></p></li>\n<li><p>(a simplified intro) <a href=\"https://antonioleiva.com/collapsing-toolbar-layout/\" rel=\"nofollow noreferrer\">https://antonioleiva.com/collapsing-toolbar-layout/</a></p></li>\n</ul>\n"}], "owner": {"reputation": 643, "user_id": 12482756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nCaZH.jpg?s=128&g=1", "display_name": "Burak", "link": "https://stackoverflow.com/users/12482756/burak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1575508323, "creation_date": 1575503184, "last_edit_date": 1575506636, "question_id": 59186199, "link": "https://stackoverflow.com/questions/59186199/nestedscrollview-fix-the-view-top-inside-nestedscrollview", "title": "NestedScrollView fix the view top inside NestedScrollView", "body": "<p>I want to fix the <code>TabLayout</code> on top when scroll-like Instagram. Is there a way to do this in the <code>NestedScrollView</code>?</p>\n\n<pre><code>NestedScrollView\n-- ConstraintLayout\n---- OtherViews\n---- TabLayout\n---- ViewPager\n</code></pre>\n\n<p><a href=\"https://i.imgur.com/G5QcqaW.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/G5QcqaW.png</a></p>\n\n<p><a href=\"https://gist.github.com/buraktabn/c73cd04bed6a223471834756d6f32773\" rel=\"nofollow noreferrer\">https://gist.github.com/buraktabn/c73cd04bed6a223471834756d6f32773</a></p>\n"}, {"tags": ["android", "sqlite", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": true, "score": 0, "last_activity_date": 1575509349, "last_edit_date": 1575509349, "creation_date": 1575509005, "answer_id": 59186882, "question_id": 59185653, "link": "https://stackoverflow.com/questions/59185653/how-do-i-use-a-specific-set-of-words-when-specifying-types-for-columns-in-sqlite/59186882#59186882", "title": "How do I use a specific set of words when specifying types for columns in SQLite, using Kotlin?", "body": "<p>I believe that you want :-</p>\n\n<pre><code>override fun onCreate(db: SQLiteDatabase?) {\n    val CREATE_SONGS_TABLE = (\"CREATE TABLE $SONGS_TABLE_NAME (\" +\n    \"$COLUMN_SONGID INTEGER PRIMARY KEY,\" +\n    \"$COLUMN_SONG_MODE TEXT CHECK ($COLUMN_SONG_MODE = 'Classic' OR $COLUMN_SONG_MODE ='Current'))\"\n}\n</code></pre>\n\n<p>However, it only enforces that only one of the two values is supplied. It will not change an incorrect value. That is, <strong>CHECK</strong> is a constraint (a rule) that if broken will result in a constraint conflict. Although you can use <code>INSERT OR IGNORE .....</code> and the conflict will be ignored and with the row not being inserted.</p>\n\n<p>You can also use the slightly different and perhaps more logical :-</p>\n\n<pre><code>override fun onCreate(db: SQLiteDatabase?) {\n    val CREATE_SONGS_TABLE = (\"CREATE TABLE $SONGS_TABLE_NAME (\" +\n    \"$COLUMN_SONGID INTEGER PRIMARY KEY,\" +\n    \"$COLUMN_SONG_MODE TEXT, /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; comma added*/ CHECK ($COLUMN_SONG_MODE = 'Classic' OR $COLUMN_SONG_MODE ='Current'))\"\n}\n</code></pre>\n\n<ul>\n<li>This makes the CHECK constraint a table level definition rather than a column level. However, the end result is no different.</li>\n<li>The comment indicating the addition of the comma is only shown to indicate the subtle change. It can be removed. </li>\n<li><p>Note that the AUTOINCREMENT keyword has been removed, there is very little chance that it is required and it is inefficient as per </p>\n\n<ul>\n<li><blockquote>\n  <p><em>The AUTOINCREMENT keyword imposes extra CPU, memory, disk space, and disk I/O overhead and should be avoided if not strictly needed. It is usually not needed.</em> </p>\n  \n  <ul>\n  <li><a href=\"https://www.sqlite.org/autoinc.html\" rel=\"nofollow noreferrer\">SQLite Autoincrement</a></li>\n  </ul>\n</blockquote></li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 59186882, "answer_count": 1, "score": 1, "last_activity_date": 1575509349, "creation_date": 1575499432, "question_id": 59185653, "link": "https://stackoverflow.com/questions/59185653/how-do-i-use-a-specific-set-of-words-when-specifying-types-for-columns-in-sqlite", "title": "How do I use a specific set of words when specifying types for columns in SQLite, using Kotlin?", "body": "<p>I am making a database, and I want one of the fields to either be 'Classic' or 'Current'. How do I create a table with a column that will specify only the two of those?</p>\n\n<pre><code>override fun onCreate(db: SQLiteDatabase?) {\n        val CREATE_SONGS_TABLE = (\"CREATE TABLE $SONGS_TABLE_NAME (\" +\n        \"$COLUMN_SONGID INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n        \"$COLUMN_SONG_MODE TEXT CHECK ('Classic', 'Current'), +\" +\n        \"\")\n    }\n</code></pre>\n\n<p>Please ignore the wrong brackets and all, I will close them properly once I finish the database. </p>\n"}, {"tags": ["firebase", "kotlin", "mvvm", "google-cloud-firestore", "android-livedata"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1575536192, "post_id": 59185231, "comment_id": 104601850, "body": "Hi Scamparelli. I wrote that article and as far as I see your Kotlin code looks fine to me. So you say that it doesn&#39;t matter if the user is authenticated or not, you aren&#39;t redirected anywhere? Are you sure you have the right permissions?"}, {"owner": {"reputation": 671, "user_id": 1509739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/XKk2z.jpg?s=128&g=1", "display_name": "Scamparelli", "link": "https://stackoverflow.com/users/1509739/scamparelli"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1575537126, "post_id": 59185231, "comment_id": 104602243, "body": "Hi Alex, thanks for the response. I have set the current rules set on the database:  // Allow read/write access on all documents to any user signed in to the application service cloud.firestore {   match /databases/{database}/documents {     match /{document=**} {       allow read, write: if request.auth.uid != null;     }   } }  On the manifest I have: &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;  I should note, I have set up a Splash Screen without using a resource.. (not that I think that is the issue).  Is it my POJO?.."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1575537487, "post_id": 59185231, "comment_id": 104602410, "body": "And you have the same behavior? Add a log statement in each part of your if-else statement, which one is triggered?"}, {"owner": {"reputation": 671, "user_id": 1509739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/XKk2z.jpg?s=128&g=1", "display_name": "Scamparelli", "link": "https://stackoverflow.com/users/1509739/scamparelli"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1575538804, "post_id": 59185231, "comment_id": 104603128, "body": "It doesn&#39;t seem to get there.  I&#39;ll have to spend some time debugging a bit later - at least I&#39;m on the right track thanks! Will update when I find!"}, {"owner": {"reputation": 671, "user_id": 1509739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/XKk2z.jpg?s=128&g=1", "display_name": "Scamparelli", "link": "https://stackoverflow.com/users/1509739/scamparelli"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1579809393, "post_id": 59185231, "comment_id": 105901074, "body": "My post was moderated (hopefully this comment is ok!), but for completeness, I have updated my question here with solution: <a href=\"https://stackoverflow.com/questions/59874102/how-to-return-livedata-from-repository\" title=\"how to return livedata from repository\">stackoverflow.com/questions/59874102/&hellip;</a>"}], "owner": {"reputation": 671, "user_id": 1509739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/XKk2z.jpg?s=128&g=1", "display_name": "Scamparelli", "link": "https://stackoverflow.com/users/1509739/scamparelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1333, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1579807966, "creation_date": 1575496811, "question_id": 59185231, "link": "https://stackoverflow.com/questions/59185231/firebase-authorisation-using-kotlin-mvvm", "title": "Firebase Authorisation using Kotlin &amp; MVVM", "body": "<p>I'm getting myself rather confused setting up my app using MVVP architecture using Kotlin.  </p>\n\n<p>Specifically, I am trying to set up Firebase Auth using this structure..</p>\n\n<p>I have been following this excellent article, which is in Java: <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336</a></p>\n\n<p>So I have set up a simple splash screen, and behind this I have created:</p>\n\n<p><strong>SplashRepository</strong> - connects to the Firestore database</p>\n\n<p><strong>SplashViewModel</strong> - observes the Repository</p>\n\n<p><strong>SplashActivity</strong> - observes the ViewModel</p>\n\n<p>Code below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class SplashRepository {\r\n\r\nprivate val firebaseAuth = FirebaseAuth.getInstance()\r\nprivate val firestore = FirebaseFirestore.getInstance()\r\nprivate val usersCollectionRef = firestore.collection(\"users\")\r\nprivate val user: UserObject = UserObject()\r\n\r\nfun checkIfUserIsAuthenticatedInFirebase(): MutableLiveData&lt;UserObject&gt; {\r\n    val isUserAuthenticateInFirebaseMutableLiveData = MutableLiveData&lt;UserObject&gt;()\r\n    val firebaseUser = firebaseAuth.currentUser\r\n    if (firebaseUser == null) {\r\n        user.isAuthenticated = false\r\n        isUserAuthenticateInFirebaseMutableLiveData.setValue(user)\r\n    } else {\r\n        user.userID= firebaseUser.uid\r\n        user.isAuthenticated = true\r\n        isUserAuthenticateInFirebaseMutableLiveData.setValue(user)\r\n    }\r\n    return isUserAuthenticateInFirebaseMutableLiveData\r\n}\r\n\r\nfun addUserToLiveData(userID: String): MutableLiveData&lt;UserObject&gt; {\r\n    val userMutableLiveData: MutableLiveData&lt;UserObject&gt; = MutableLiveData&lt;UserObject&gt;()\r\n    usersCollectionRef.document(userID).get()\r\n        .addOnCompleteListener(OnCompleteListener { userTask: Task&lt;DocumentSnapshot?&gt; -&gt;\r\n            if (userTask.isSuccessful) {\r\n                val document = userTask.result\r\n                if (document!!.exists()) {\r\n                    val user: UserObject? = document.toObject&lt;UserObject&gt;(UserObject::class.java)\r\n                    userMutableLiveData.setValue(user)\r\n                }\r\n            } else {\r\n                Log.d(TAG, userTask.exception!!.message)\r\n            }\r\n        })\r\n    return userMutableLiveData\r\n}\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class SplashViewModel(application: Application) : AndroidViewModel(application) {\r\n    private val splashRepository: SplashRepository\r\n    lateinit var isUserAuthenticatedLiveData: LiveData&lt;UserObject&gt;\r\n    lateinit var userLiveData: LiveData&lt;UserObject&gt;\r\n\r\n    fun checkIfUserIsAuthenticated() {\r\n        isUserAuthenticatedLiveData = splashRepository.checkIfUserIsAuthenticatedInFirebase()\r\n    }\r\n\r\n    fun setUid(userID: String) {\r\n        userLiveData = splashRepository.addUserToLiveData(userID)\r\n    }\r\n\r\n    init {\r\n        splashRepository = SplashRepository()\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class SplashActivity : AppCompatActivity() {\r\n\r\n    var splashViewModel: SplashViewModel? = null\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setupSplashViewModel()\r\n        checkIfUserIsAuthenticated()\r\n    }\r\n\r\n    private fun setupSplashViewModel() {\r\n        splashViewModel = ViewModelProviders.of(this).get(SplashViewModel::class.java)\r\n    }\r\n\r\n    private fun checkIfUserIsAuthenticated() {\r\n        splashViewModel?.checkIfUserIsAuthenticated()\r\n        splashViewModel?.isUserAuthenticatedLiveData?.observe(this, Observer&lt;UserObject&gt;{\r\n            fun onChanged(user: UserObject) {\r\n                if (!user.isAuthenticated) {\r\n                    this@SplashActivity.goToLoginNewUserActivity()\r\n                    finish()\r\n                } else {\r\n//                    this@SplashActivity.goToLoginActivity(user.userID)\r\n                    this@SplashActivity.goToLoginNewUserActivity()  // just while testing go to same activity\r\n\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    private fun goToLoginNewUserActivity() {\r\n        val intent = Intent(this@SplashActivity, LoginNewUserActivity::class.java)\r\n        startActivity(intent)\r\n    }\r\n\r\n\r\n    private fun goToLoginActivity() {  // Would go to Sites Activity\r\n        val intent = Intent(this@SplashActivity, LoginNewUserActivity::class.java)\r\n        startActivity(intent)\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Oh, and here is the user POJO:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class UserObject : Serializable {\r\n    var userID: String? = null\r\n    var userName: String? = null\r\n    var userEmail: String? = null\r\n    var userMobile: String? = null\r\n\r\n\r\n    @Exclude\r\n    var isAuthenticated = false\r\n    @Exclude\r\n    var isNew = false\r\n    @Exclude\r\n    var isCreated = false\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The app just stays on the Splash Screen, so I think I have missed something while trying to convert to Kotlin, but can't see what!!  Any help much appreciated!!</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "viewmodel", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 332, "user_id": 3312696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GMAvk.png?s=128&g=1", "display_name": "ArunL", "link": "https://stackoverflow.com/users/3312696/arunl"}, "edited": false, "score": 0, "creation_date": 1605304482, "post_id": 59185265, "comment_id": 114619353, "body": "Why did switching to Conflated broadcast channel work?"}, {"owner": {"reputation": 21, "user_id": 11190170, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-glx00B4Ag_Y/AAAAAAAAAAI/AAAAAAAAAAA/DnkpEeTEjPo/photo.jpg?sz=128", "display_name": "smp007", "link": "https://stackoverflow.com/users/11190170/smp007"}, "reply_to_user": {"reputation": 332, "user_id": 3312696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GMAvk.png?s=128&g=1", "display_name": "ArunL", "link": "https://stackoverflow.com/users/3312696/arunl"}, "edited": false, "score": 1, "creation_date": 1605401129, "post_id": 59185265, "comment_id": 114639203, "body": "@ArunL since i was collecting from multiple viewmodels and fragments, ConflatedBroadcastChannel worked for me because it sends the latest emission to both current and future subscribers, in which case the fragment i was having trouble with was the &quot;future&quot; subscriber"}], "tags": [], "owner": {"reputation": 21, "user_id": 11190170, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-glx00B4Ag_Y/AAAAAAAAAAI/AAAAAAAAAAA/DnkpEeTEjPo/photo.jpg?sz=128", "display_name": "smp007", "link": "https://stackoverflow.com/users/11190170/smp007"}, "is_accepted": false, "score": 0, "last_activity_date": 1575497001, "creation_date": 1575497001, "answer_id": 59185265, "question_id": 59184822, "link": "https://stackoverflow.com/questions/59184822/issue-collecting-a-coroutine-flow-when-applying-a-combine-transformation-on-frag/59185265#59185265", "title": "Issue collecting a coroutine flow when applying a combine transformation on fragment created", "body": "<p>Found the solution, somehow using broadcast channels was the root cause of the issue. For some reason, emissions were probably dropped so the flow would not be triggered. Switching to ConflatedBroadcastChannels solved this issue for me</p>\n"}], "owner": {"reputation": 21, "user_id": 11190170, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-glx00B4Ag_Y/AAAAAAAAAAI/AAAAAAAAAAA/DnkpEeTEjPo/photo.jpg?sz=128", "display_name": "smp007", "link": "https://stackoverflow.com/users/11190170/smp007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 546, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575497001, "creation_date": 1575494389, "question_id": 59184822, "link": "https://stackoverflow.com/questions/59184822/issue-collecting-a-coroutine-flow-when-applying-a-combine-transformation-on-frag", "title": "Issue collecting a coroutine flow when applying a combine transformation on fragment created", "body": "<p>I am having a strange issue with coroutine flows. I have two flows that i need to observe and if one of them emits a value, collect both flows and perform some transformations based on business logic to emit one result which is the result i am interested in collecting from the fragment. Currently, i am doing this combine in the viewmodel like this</p>\n\n<pre><code>//Done in viewmodel\nval someComparisonValue = 2\nval combinedFlow = firstFlow.combineTransform(secondFlow) { value1, value2 -&gt;\n    if (value1 != someComparisonValue) {\n      emit(someValueComputed)\n    }else if (value1 == value2){\n      emit(AnotherValue)\n    }\n// if none of these conditions are met, emit the first value instead\n     emit(value1)\n}\n// done in fragment\nlifecycleScope.launchWhenCreated {\n           view.combinedFlow.collect {\n               Log.e(\"Logged\", it.toString())\n}\n</code></pre>\n\n<p>My issue is that this does not get collected when the fragment gets created even though the two flows already have values emitted as they are connected to a broadcast channel. The transformation does however happen when the fragment has already been created and another emission has been sent. The weird part is without the conditional logic within the <code>combineTransform</code>, the fragment will always get the value on create. It seems the doing the conditional logic is not something it executes on create. Does someone have a clue on how to fix this?</p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 4377, "user_id": 4353365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fOb7w8Ofk5E/AAAAAAAAAAI/AAAAAAAADmc/nymnI-_Ng9g/photo.jpg?sz=128", "display_name": "Francis", "link": "https://stackoverflow.com/users/4353365/francis"}, "edited": false, "score": 0, "creation_date": 1585895148, "post_id": 59199531, "comment_id": 107929694, "body": "Thanks @Jay, you helped me a lot. So coroutines are now included in Jetpack?"}], "tags": [], "owner": {"reputation": 534, "user_id": 5999852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2bb54630ae2ebfad8b4ba4aefa346c28?s=128&d=identicon&r=PG", "display_name": "Jay", "link": "https://stackoverflow.com/users/5999852/jay"}, "is_accepted": true, "score": 1, "last_activity_date": 1575563529, "creation_date": 1575563529, "answer_id": 59199531, "question_id": 59184029, "link": "https://stackoverflow.com/questions/59184029/android-kotlin-coroutine-crash-without-reported-fatal-error-in-the-logcat/59199531#59199531", "title": "Android Kotlin Coroutine crash without reported fatal error in the Logcat", "body": "<p>I found my own solution.  Apparently, there is a clash between the updated Android jetpack core libararies and the coroutine libraries I was using from jetbrains.  Once I removed the libaries from jetbrains, the coroutines ran flawlessly.</p>\n\n<pre><code>dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.appcompat:appcompat:1.1.0'\nimplementation 'androidx.core:core-ktx:1.1.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation 'androidx.recyclerview:recyclerview:1.1.0'\n// Testing\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n//    // Coroutines\n//    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.0\"  &lt;- Causes a clash with jetpack's core libary\n//    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.0\"\n// Dagger 2\nimplementation \"com.google.dagger:dagger:2.24\"\nimplementation \"com.google.dagger:dagger-android:2.24\"\nkapt \"com.google.dagger:dagger-compiler:2.24\"\nkapt \"com.google.dagger:dagger-android-processor:2.24\"\n// View Model\nimplementation 'androidx.lifecycle:lifecycle-extensions:2.1.0'\nimplementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.1.0'\n}\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 5999852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2bb54630ae2ebfad8b4ba4aefa346c28?s=128&d=identicon&r=PG", "display_name": "Jay", "link": "https://stackoverflow.com/users/5999852/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 1, "accepted_answer_id": 59199531, "answer_count": 1, "score": 3, "last_activity_date": 1575563529, "creation_date": 1575490492, "question_id": 59184029, "link": "https://stackoverflow.com/questions/59184029/android-kotlin-coroutine-crash-without-reported-fatal-error-in-the-logcat", "title": "Android Kotlin Coroutine crash without reported fatal error in the Logcat", "body": "<p>I have a reoccurring crash in my code that seemingly just started happening for no reason.  My code compiles correctly, then the app crashes immediately after the viewModel is called and does not report an error in the logcat!! It's the first time I've seen a crash that doesn't report an error in the logcat. By using Timber statements, I was able to figure out that the code crashes is on the withContext line just before the livedata is updated. My question is: How can I see the fatal error so I can know how to resolve the crash?</p>\n\n<pre><code>class DashboardViewModel : ViewModel() {\nprivate var delDate = \"\"\nprivate var thread: Job = Job()\nprivate var duration: Int = ConfigData.refresh * 1000\nprivate var counter: Int = 0\nprivate var area: String = \"All\"\nvar estFinishLiveData: MutableLiveData&lt;String&gt; = MutableLiveData()\nvar trailingAreaLiveData: MutableLiveData&lt;AreaModel&gt; = MutableLiveData()\nvar percentCompleteLiveData: MutableLiveData&lt;OverallModel&gt; = MutableLiveData()\nvar chartDataLiveData: MutableLiveData&lt;ArrayList&lt;ChartModel&gt;&gt; = MutableLiveData()\n\nfun loadDataRefresher(periodic: Boolean, selectedArea: String) {\n    counter++\n    area = if (selectedArea == \"All\") \"\" else selectedArea\n    Timber.d(\"Dashboard update $counter for $selectedArea next in ${ConfigData.refresh} seconds\")\n    thread = CoroutineScope(Dispatchers.IO).launch {\n        loadDelDate()\n        loadEstimatedFinish()\n        loadTrailingArea()\n        loadPercentComplete()\n        loadChartData()\n        if (periodic) {\n            delay(duration.toLong())\n            loadDataRefresher(false, selectedArea)\n        }\n    }\n}\n\nprivate fun loadDelDate() {\n    delDate = DatabaseMgr.spRetrieveDeliveryDate(\"\")\n}\n\nprivate suspend fun loadEstimatedFinish() {\n    val estFinish = DatabaseMgr.spRetrieveEstimatedFinish(delDate)\n    withContext(Dispatchers.Main) {\n        estFinishLiveData.value = estFinish\n    }\n}\n\nprivate suspend fun loadTrailingArea() {\n    val areaModel = DatabaseMgr.spRetrieveTrailingArea(delDate)\n    if (areaModel.description == \"\") {\n        areaModel.description = \"None in progress\"\n    }\n    withContext(Dispatchers.Main) {\n        trailingAreaLiveData.value = areaModel\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-intent"], "comments": [{"owner": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "edited": false, "score": 0, "creation_date": 1575490879, "post_id": 59183976, "comment_id": 104588654, "body": "Let the compiler do the heavy work. For instance,<code>isBlue: Long</code>, that can be derived by the compiler. Use <code>isBlue == 1</code> or better, use <code>intent.putExtra(&quot;IS_BLUE&quot;, true)</code> and use <code>if (isBlue)</code>"}, {"owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "reply_to_user": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "edited": false, "score": 0, "creation_date": 1575491225, "post_id": 59183976, "comment_id": 104588818, "body": "I get a type mismatch because it&#39;s now asking for a Boolean but I specified long. Also when I change it to Boolean, it keeps returning the fefault value still."}, {"owner": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "edited": false, "score": 0, "creation_date": 1575491620, "post_id": 59183976, "comment_id": 104588967, "body": "Could you post your code?"}, {"owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "reply_to_user": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "edited": false, "score": 0, "creation_date": 1575492535, "post_id": 59183976, "comment_id": 104589335, "body": "I am doing a project for UNI so I don&#39;t want to get any misconduct going on. This is all the relevant code I can post I think."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1575494339, "post_id": 59183976, "comment_id": 104589966, "body": "Your question says that you&#39;re checking for the value in &quot;class B&quot;, but your <code>Intent</code> seems to be directing you to <code>ClassA</code>... is this a typo?"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1575496610, "post_id": 59183976, "comment_id": 104590694, "body": "Where is your <code>val isBlue = intent.get...</code> code located? Inside <code>onCreate()</code>?"}, {"owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575562745, "post_id": 59183976, "comment_id": 104616436, "body": "It is inside onMapReady() which is inside my main class along with onCreate()"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575491038, "post_id": 59184068, "comment_id": 104588723, "body": "I had that previously and had to change the getLongExtra to getIntExtra because the if statement wouldn&#39;t compile otherwise, but same issue."}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "reply_to_user": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575491108, "post_id": 59184068, "comment_id": 104588763, "body": "If you want to use Long, then you have to put <code>L</code> beside 1 like <code>1L</code>"}, {"owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575491406, "post_id": 59184068, "comment_id": 104588880, "body": "It keeps returning the default value still."}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "reply_to_user": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575491710, "post_id": 59184068, "comment_id": 104588997, "body": "Probably you call this <code>val isBlue: Long = intent . getLongExtra(&quot;IS_BLUE&quot;, 0)</code> outside <code>onCreate</code>. Am I right?"}, {"owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575492505, "post_id": 59184068, "comment_id": 104589319, "body": "Actually I have a map activity that opens up when a button is clicked. I want the isBlue to determine the color of markers that pop up on the map. I was creating it inside a method called onMapReady and it didn&#39;t crash my code. But when I tried to create it outside of the method it would load the app but crash as soon as I clicked the button."}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1575491578, "last_edit_date": 1575491578, "creation_date": 1575490643, "answer_id": 59184068, "question_id": 59183976, "link": "https://stackoverflow.com/questions/59183976/how-to-pass-a-variable-through-an-intent-in-android-studio-in-kotlin/59184068#59184068", "title": "How to pass a variable through an intent in Android Studio, in Kotlin?", "body": "<p>You are comparing between two convertible types which gives wrong output.</p>\n\n<p>Try using</p>\n\n<pre><code>val isBlue = intent.getIntExtra(\"IS_BLUE\", 0)\n\nif (isBlue == 1) { ... } else { ... }\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code>if (isBlue.equals(1)) { ... } else { ... }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575494890, "post_id": 59184775, "comment_id": 104590145, "body": "It just uses null as the value now. If I try and put the getLongExtra line anywhere else but the actual method, my app crashes. But if it&#39;s in the method then it points to null."}, {"owner": {"reputation": 622, "user_id": 10498418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YO5tH.png?s=128&g=1", "display_name": "because_im_batman", "link": "https://stackoverflow.com/users/10498418/because-im-batman"}, "reply_to_user": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575495156, "post_id": 59184775, "comment_id": 104590253, "body": "you mean the value of the expression : intent.extras?.getInt(&quot;IS_BLUE&quot;,0) is null? then you are not passing the arguments correctly. Check the examples here : <a href=\"https://stackoverflow.com/questions/51181747/passing-arguments-to-intent-android\" title=\"passing arguments to intent android\">stackoverflow.com/questions/51181747/&hellip;</a>"}, {"owner": {"reputation": 622, "user_id": 10498418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YO5tH.png?s=128&g=1", "display_name": "because_im_batman", "link": "https://stackoverflow.com/users/10498418/because-im-batman"}, "reply_to_user": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575495304, "post_id": 59184775, "comment_id": 104590300, "body": "also please check this line of code: val i = Intent (this, ClassA::class.java) you say your secondActivity is ClassB and you are putting the data in Class A. right? Then, the correct intent should be sth like, val i = Intent (this, ClassB::class.java)"}], "tags": [], "owner": {"reputation": 622, "user_id": 10498418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YO5tH.png?s=128&g=1", "display_name": "because_im_batman", "link": "https://stackoverflow.com/users/10498418/because-im-batman"}, "is_accepted": false, "score": 0, "last_activity_date": 1575494132, "creation_date": 1575494132, "answer_id": 59184775, "question_id": 59183976, "link": "https://stackoverflow.com/questions/59183976/how-to-pass-a-variable-through-an-intent-in-android-studio-in-kotlin/59184775#59184775", "title": "How to pass a variable through an intent in Android Studio, in Kotlin?", "body": "<p>Instead of using intent.getIntExtra()\ntry:</p>\n\n<pre><code>intent.extras?.getInt(\"IS_BLUE\",0) \n</code></pre>\n\n<p>or intent.extras?.getLong(\"IS_BLUE\") or  intent.extras?.get(\"IS_BLUE\") depending on the dataType you used to pass the data.</p>\n"}], "owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575496241, "creation_date": 1575490273, "last_edit_date": 1575496241, "question_id": 59183976, "link": "https://stackoverflow.com/questions/59183976/how-to-pass-a-variable-through-an-intent-in-android-studio-in-kotlin", "title": "How to pass a variable through an intent in Android Studio, in Kotlin?", "body": "<p>I want to pass a variable through a button from one class to another using intents. </p>\n\n<p>This is the code I have so far:</p>\n\n<p>Class A:</p>\n\n<pre><code>     val i = Intent (this, ClassB::class.java)\n        intent.putExtra(\"IS_BLUE\", 1)\n        startActivity(i)\n</code></pre>\n\n<p>to class B:</p>\n\n<pre><code>val isBlue: Long = intent . getLongExtra(\"IS_BLUE\", 0)\n</code></pre>\n\n<p>I am trying to write an if statement to check if it equals 1 or 0. Since the default value is 0 it keeps taking that as the variable instead of what I put it to be in the previous class and going for the else statement.</p>\n\n<pre><code> if (isBlue.equals(1)) { ... } else { ... }\n</code></pre>\n\n<p>I might have gotten my types wrong but when I tried with </p>\n\n<pre><code>intent.getIntExtra(\"IS_BLUE\", 0)\n</code></pre>\n\n<p>I was getting the same issues and some errors in my if statement as well. I am getting no errors and I can run my app fine, I just can't get the variable to pass. Please help. </p>\n"}, {"tags": ["android", "kotlin", "data-binding", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 2902, "user_id": 998066, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c1e14f181603c670ebbaefaae9038341?s=128&d=identicon&r=PG", "display_name": "checkmate711", "link": "https://stackoverflow.com/users/998066/checkmate711"}, "is_accepted": false, "score": 0, "last_activity_date": 1575579925, "creation_date": 1575579925, "answer_id": 59203259, "question_id": 59183684, "link": "https://stackoverflow.com/questions/59183684/android-kotlin-issue-to-suppress-safeunbox-warning-for-two-way-binding-values/59203259#59203259", "title": "Android Kotlin - Issue to suppress safeUnbox warning for two-way binding values", "body": "<p>I did find a working solution to work around this issue. The trick is to create the code that implements the unbox and inverse function as a Java file, not Kotlin.</p>\n\n<p>I created a Java file with the code as shown below and was able to use it in the xml file along with two-way bound variables.</p>\n\n<pre><code>import androidx.databinding.InverseMethod;\n\npublic class CustomSafeUnboxAdapter {\n    @InverseMethod(\"boxBoolean\")\n    public static boolean unbox(Boolean boxed) {\n        return (boxed != null) &amp;&amp; boxed.booleanValue();\n    }\n\n    public static Boolean boxBoolean(boolean unboxed) {\n        return unboxed ? Boolean.TRUE : Boolean.FALSE;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2902, "user_id": 998066, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c1e14f181603c670ebbaefaae9038341?s=128&d=identicon&r=PG", "display_name": "checkmate711", "link": "https://stackoverflow.com/users/998066/checkmate711"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575579925, "creation_date": 1575488973, "question_id": 59183684, "link": "https://stackoverflow.com/questions/59183684/android-kotlin-issue-to-suppress-safeunbox-warning-for-two-way-binding-values", "title": "Android Kotlin - Issue to suppress safeUnbox warning for two-way binding values", "body": "<p>Experts,</p>\n\n<p>I'm trying to suppress a safeUnbox warning for a two-way bound property (Android/Kotlin). To do this, I created a singleton with custom unbox functions for the different data types (see below).</p>\n\n<p>My build fails with the error below. It may be due to the fact that Kotlin uses kotlin.Boolean as the data type for the 'checked' variable and the Binding functionality uses java.lang.Boolean.</p>\n\n<p>Any suggestions how I can resolve the issue greatly appreciated. Thanks!</p>\n\n<p>Error Message:\n****/ data binding error ****msg:cannot find method unbox(java.lang.Boolean) in class com.example.ui.bindingAdapters.InverseSafeUnboxBindingAdapter </p>\n\n<p>ViewModel definition:</p>\n\n<pre><code>var checked = MutableLiveData(false)\n</code></pre>\n\n<p>card_example.xml:</p>\n\n<pre><code>            &lt;com.google.android.material.checkbox.MaterialCheckBox\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:checked=\"@={com.example.ui.bindingAdapters.InverseSafeUnboxBindingAdapter.unbox(vm.checked)}\"/&gt;\n</code></pre>\n\n<p>Binding Adapter:</p>\n\n<pre><code>package com.example.ui.bindingAdapters\n\nimport androidx.databinding.InverseMethod\n\n\nobject InverseSafeUnboxBindingAdapter {\n    @InverseMethod(\"boxBoolean\")\n    fun unbox(b: Boolean?): Boolean {\n        return b as Boolean\n    }\n\n    fun boxBoolean(b: Boolean): Boolean? {\n        return b\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "random"], "answers": [{"comments": [{"owner": {"reputation": 665, "user_id": 546656, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/oG7hn.jpg?s=128&g=1", "display_name": "Micah Montoya", "link": "https://stackoverflow.com/users/546656/micah-montoya"}, "edited": false, "score": 0, "creation_date": 1575549884, "post_id": 59183740, "comment_id": 104609071, "body": "Thank you svoid. This was the fix. Appreciate the explanation."}], "tags": [], "owner": {"reputation": 640, "user_id": 11278807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e227d46931a4acfc310270a254286db0?s=128&d=identicon&r=PG&f=1", "display_name": "Nulldroid", "link": "https://stackoverflow.com/users/11278807/nulldroid"}, "is_accepted": true, "score": 1, "last_activity_date": 1575489532, "last_edit_date": 1575489532, "creation_date": 1575489209, "answer_id": 59183740, "question_id": 59183635, "link": "https://stackoverflow.com/questions/59183635/kotlin-get-random-string-from-array/59183740#59183740", "title": "kotlin Get random string from array", "body": "<p>Your function doesn't specify a return type, that's why the compiler is expecting 'Unit' which would be the same as void in Java.</p>\n\n<p>When you want to return a String, you need to specify it like so</p>\n\n<pre><code>fun getRandomQuote(): String {\n    val randomValue = Random.nextInt(quotes.size)\n    return quotes[randomValue]\n}\n</code></pre>\n\n<p>See the docs for <a href=\"https://kotlinlang.org/docs/reference/functions.html\" rel=\"nofollow noreferrer\">Kotlin functions</a> as a reference.</p>\n\n<p>It is also more kotliny to use indexing for arrays with square brackets instead of get() function.</p>\n"}, {"tags": [], "owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1575489220, "creation_date": 1575489220, "answer_id": 59183743, "question_id": 59183635, "link": "https://stackoverflow.com/questions/59183635/kotlin-get-random-string-from-array/59183743#59183743", "title": "kotlin Get random string from array", "body": "<p>You are just missing this </p>\n\n<pre><code> fun getRandomQuote(): String {\n     val randomValue = Random.nextInt(quotes.size)\n     //return quotes[randomValue]\n     return quotes.get(randomValue)\n }\n</code></pre>\n\n<p>Since you are returning from the function which is a String. If we don't return anything, it means its Unit in Kotlin and we don't have to mention it and return it. Other than that we got to mention what we are returning by putting right to the colon.\nex:</p>\n\n<pre><code>fun getRandomQuote(): String{\n  //something goes here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 3, "last_activity_date": 1575505906, "creation_date": 1575505906, "answer_id": 59186532, "question_id": 59183635, "link": "https://stackoverflow.com/questions/59183635/kotlin-get-random-string-from-array/59186532#59186532", "title": "kotlin Get random string from array", "body": "<p>As the other answers said, your function is missing return type, so by default it's <code>Unit</code>. Specifying the return type as <code>String</code> fixes the error.</p>\n\n<p>I'd like to propose another more succinct way to choose a random element from an array using the default random number generator: just use the <a href=\"https://kotlinlang.org/docs/reference/collection-elements.html#random-element\" rel=\"nofollow noreferrer\"><code>random</code></a> extension function available on collections and arrays.</p>\n\n<pre><code>    val colors = arrayOf(\"red\", \"blue\", \"yellow\")\n    val randomColor = colors.random()\n</code></pre>\n"}], "owner": {"reputation": 665, "user_id": 546656, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/oG7hn.jpg?s=128&g=1", "display_name": "Micah Montoya", "link": "https://stackoverflow.com/users/546656/micah-montoya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2456, "favorite_count": 0, "accepted_answer_id": 59183740, "answer_count": 3, "score": 0, "last_activity_date": 1575505947, "creation_date": 1575488794, "last_edit_date": 1575505947, "question_id": 59183635, "link": "https://stackoverflow.com/questions/59183635/kotlin-get-random-string-from-array", "title": "kotlin Get random string from array", "body": "<p>New to kotlin and quite a few questions and answers, mostly in Java. After following the documentation and verifying against numerous SO <a href=\"https://stackoverflow.com/questions/6726963/random-string-from-string-array-list\">questions/answers</a> Android Studio is complaining about the following in a function. The function is</p>\n\n<pre><code>fun getRandomQuote() {\n    val randomValue = Random.nextInt(quotes.size)\n    //return quotes[randomValue]\n    return quotes.get(randomValue)\n}\n</code></pre>\n\n<p><em>quotes</em> is an arrayOf(strings)</p>\n\n<pre><code>val quotes = arrayOf(\"Alert today \u2013 Alive tomorrow.\",...)\n</code></pre>\n\n<p>It says for</p>\n\n<pre><code>quotes.get(randomValue)\n</code></pre>\n\n<p>That it should be a <em>Unit</em> but found <em>String</em>. randomValue should be an integer as defined by the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.random/next-int.html\" rel=\"nofollow noreferrer\">docs</a> using nextInt unless I misinterpreted the docs. I don't see the issue. I'm just trying to randomly return a string from the array. I thought maybe another false positive from studio so I cleaned the project but it stops here on building. Anyone see what it is I'm doing wrong.</p>\n"}, {"tags": ["android", "kotlin", "imageview", "visibility"], "comments": [{"owner": {"reputation": 322, "user_id": 6561701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46280533e5758d80c1600f057ff8c879?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Mohanty", "link": "https://stackoverflow.com/users/6561701/manoj-mohanty"}, "edited": false, "score": 0, "creation_date": 1575494457, "post_id": 59182914, "comment_id": 104589999, "body": "You can only update a view from main threadrunOnUiThread(new Runnable() {     public void run() {         Log.d(&quot;UI thread&quot;, &quot;I am the UI thread&quot;);     } });"}, {"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "reply_to_user": {"reputation": 322, "user_id": 6561701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46280533e5758d80c1600f057ff8c879?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Mohanty", "link": "https://stackoverflow.com/users/6561701/manoj-mohanty"}, "edited": false, "score": 0, "creation_date": 1575495077, "post_id": 59182914, "comment_id": 104590220, "body": "Yes. I&#39;m now troubleshooting this part. If I move that call into the main thread(onCreate()), but doing that I get a lateinit bluetoothSocket is not initialized error. Which confuses me. I am struggling to figure out where to initialize this?"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1575489439, "post_id": 59183060, "comment_id": 104588066, "body": "This confuses me. showOrHideImage() is a boolean though. Are you saying that function is not needed?"}, {"owner": {"reputation": 724, "user_id": 6213557, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-frSPEIXsJus/AAAAAAAAAAI/AAAAAAAAACE/MwKuRguKiSI/photo.jpg?sz=128", "display_name": "Rishabh Dutt Sharma", "link": "https://stackoverflow.com/users/6213557/rishabh-dutt-sharma"}, "reply_to_user": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1575532362, "post_id": 59183060, "comment_id": 104600212, "body": "I&#39;ve just shortened the if-else. Upvote if this solves your problem."}, {"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1575570371, "post_id": 59183060, "comment_id": 104620113, "body": "Honestly, I&#39;m not sure what you are suggesting. The change you suggest does nothing but breaks when it calls the function showOrHideImage()."}, {"owner": {"reputation": 724, "user_id": 6213557, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-frSPEIXsJus/AAAAAAAAAAI/AAAAAAAAACE/MwKuRguKiSI/photo.jpg?sz=128", "display_name": "Rishabh Dutt Sharma", "link": "https://stackoverflow.com/users/6213557/rishabh-dutt-sharma"}, "reply_to_user": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1575889493, "post_id": 59183060, "comment_id": 104704993, "body": "Ok. From edits, I see that your code is running on some thread other than UI Thread. I have added code for that in OR section. You might want to check that."}, {"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1575916228, "post_id": 59183060, "comment_id": 104718941, "body": "Interesting. I added your suggestion to the OR section above and the app no long is crashing. But the image is not behaving as I would want or expect, but it is definitely progress. Thank you very much for sticking with this. I am learning and this sort of help is priceless to me."}], "tags": [], "owner": {"reputation": 724, "user_id": 6213557, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-frSPEIXsJus/AAAAAAAAAAI/AAAAAAAAACE/MwKuRguKiSI/photo.jpg?sz=128", "display_name": "Rishabh Dutt Sharma", "link": "https://stackoverflow.com/users/6213557/rishabh-dutt-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1575889333, "last_edit_date": 1575889333, "creation_date": 1575486284, "answer_id": 59183060, "question_id": 59182914, "link": "https://stackoverflow.com/questions/59182914/android-kotlin-app-not-displaying-or-hiding-an-image-based-on-received-bluetooth/59183060#59183060", "title": "Android Kotlin app not displaying or hiding an image based on received bluetooth data", "body": "<p>Since <strong><em>readMessage</em></strong> is a <strong><em>String</em></strong> as per code below</p>\n\n<pre><code>val readMessage = String(buffer, 0, bytes)\n</code></pre>\n\n<p><strong>Your condition</strong></p>\n\n<pre><code>if (readMessage.equals(1)) {\n    imageView_mothership_LED_state.showOrHideImage(true)\n} else {\n    imageView_mothership_LED_state.showOrHideImage(false)\n}\n</code></pre>\n\n<p><strong>should be</strong></p>\n\n<pre><code>imageView_mothership_LED_state.showOrHideImage(readMessage == \"1\")\n</code></pre>\n\n<p><strong>OR (for threads other than UI/Main Thread)</strong></p>\n\n<pre><code>imageView_mothership_LED_state.post {\n    imageView_mothership_LED_state.showOrHideImage(readMessage == \"1\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1575491058, "post_id": 59184037, "comment_id": 104588732, "body": "I am logging readMessage  val readMessage = String(buffer, 0, bytes) Log.i(LOGTAG, readMessage)  Which is showing up in the logs as displayed above."}, {"owner": {"reputation": 322, "user_id": 6561701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46280533e5758d80c1600f057ff8c879?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Mohanty", "link": "https://stackoverflow.com/users/6561701/manoj-mohanty"}, "reply_to_user": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 1, "creation_date": 1575494313, "post_id": 59184037, "comment_id": 104589957, "body": "Try to change the if condition to if(readMessage.equals(&quot;1&quot;)) and check"}, {"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1575494488, "post_id": 59184037, "comment_id": 104590012, "body": "I did that. I edited my original post to show what happened. It now appears to be hitting the the function to make the change. But it crashing with a &quot;CalledFromWrongThreadException&quot;."}, {"owner": {"reputation": 322, "user_id": 6561701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46280533e5758d80c1600f057ff8c879?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Mohanty", "link": "https://stackoverflow.com/users/6561701/manoj-mohanty"}, "reply_to_user": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1575494647, "post_id": 59184037, "comment_id": 104590064, "body": "You can only update a view from main thread runOnUiThread(new Runnable() {     public void run() {         Log.d(&quot;UI thread&quot;, &quot;I am the UI thread&quot;); write your code here     } });"}, {"owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "edited": false, "score": 0, "creation_date": 1575498431, "post_id": 59184037, "comment_id": 104591226, "body": "This issue is moving on from the initial problem. I&#39;m gonna mark your answer as the answer. Due to it cluing me in to change from expecting an int vs. a string. I&#39;ll start a new post if I need more help figuring out how to deal with the non initialized lateinit varible."}], "tags": [], "owner": {"reputation": 322, "user_id": 6561701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46280533e5758d80c1600f057ff8c879?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj Mohanty", "link": "https://stackoverflow.com/users/6561701/manoj-mohanty"}, "is_accepted": false, "score": 1, "last_activity_date": 1575490531, "creation_date": 1575490531, "answer_id": 59184037, "question_id": 59182914, "link": "https://stackoverflow.com/questions/59182914/android-kotlin-app-not-displaying-or-hiding-an-image-based-on-received-bluetooth/59184037#59184037", "title": "Android Kotlin app not displaying or hiding an image based on received bluetooth data", "body": "<pre><code>val readMessage = \"1\"\nif(readMessage.equals(1)) System.out.println(\"true\")\nelse System.out.println(\"false\")\nO/P -&gt; false\n\n</code></pre>\n\n<p>If I Understand from your code is you are getting String as 1 and you are comparing it with Int 1 due to which it is returning false and your condition is not getting executed </p>\n\n<p>Try to put a log and print the value in readMessage that will help to solve your problem</p>\n"}], "owner": {"reputation": 93, "user_id": 6877488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yk696.jpg?s=128&g=1", "display_name": "CB Midkiff", "link": "https://stackoverflow.com/users/6877488/cb-midkiff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 59183060, "answer_count": 2, "score": 0, "last_activity_date": 1575889333, "creation_date": 1575485618, "last_edit_date": 1575493473, "question_id": 59182914, "link": "https://stackoverflow.com/questions/59182914/android-kotlin-app-not-displaying-or-hiding-an-image-based-on-received-bluetooth", "title": "Android Kotlin app not displaying or hiding an image based on received bluetooth data", "body": "<p>My app connects via bluetooth to an Arduino, that has an LED on board that is controlled by a button. The LED is either on or off. And when that state changes, the Arduino will transmit a 1(on) or 0(off).</p>\n\n<p>My app/phone connects fine. I can see those LED state changes in the app's logs.</p>\n\n<p><strong>LOGCAT</strong></p>\n\n<blockquote>\n  <p>2019-12-04 09:36:41.271 30645-32215/com.example.pigcatcher I/MainActivity: 1</p>\n  \n  <p>2019-12-04 09:36:42.288 30645-32215/com.example.pigcatcher I/MainActivity: 0</p>\n  \n  <p>2019-12-04 09:36:43.395 30645-32215/com.example.pigcatcher I/MainActivity: 1</p>\n  \n  <p>2019-12-04 09:36:44.207 30645-32215/com.example.pigcatcher I/MainActivity: 0</p>\n</blockquote>\n\n<p>This function listens for those LED state change messages:</p>\n\n<pre><code>private fun readBlueToothDataFromMothership(bluetoothSocket: android.bluetooth.BluetoothSocket) {\n    val bluetoothSocketInputStream = bluetoothSocket.inputStream\n    val buffer = ByteArray(256)\n    var bytes: Int\n\n    while (true) {\n        try {\n            bytes = bluetoothSocketInputStream.read(buffer)       \n            val readMessage = String(buffer, 0, bytes)\n\n            Log.i(LOGTAG, readMessage)\n\n            if (readMessage.equals(1)) {\n                imageView_mothership_LED_state.showOrHideImage(true)\n            } else {\n                imageView_mothership_LED_state.showOrHideImage(false)\n            }\n        } catch (e: IOException) {\n            e.printStackTrace()\n            break\n        }\n    }\n}\n</code></pre>\n\n<p>This function is called from the while loop above.</p>\n\n<pre><code>private fun View.showOrHideImage(imageShow: Boolean) {\n    visibility = if (imageShow) {\n        View.VISIBLE\n    } else {\n        View.INVISIBLE\n    }\n}\n</code></pre>\n\n<p>This is the image in question from the .xml file.</p>\n\n<pre><code>&lt;ImageView\n        android:id=\"@+id/imageView_mothership_button_pushed\"\n        android:layout_width=\"228dp\"\n        android:layout_height=\"204dp\"\n        android:layout_marginStart=\"16dp\"\n        android:layout_marginTop=\"75dp\"\n        android:contentDescription=\"Star\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/button_led_off\"\n        app:srcCompat=\"@android:drawable/btn_star_big_on\" /&gt;\n</code></pre>\n\n<p>This is where my question/problem comes in. This does not happen. As shown in the logs above, the app is seeing those LED state change messages. But nothing is happening in the app. I'm sure, I've set this up incorrectly, but I cannot figure out what I have done wrong.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I forgot to include the following inner class, where the \"readBlueToothDataFromMothership\" function is called from.</p>\n\n<pre><code>private inner class ConnectThread(device: BluetoothDevice): Thread() {\n    private var newSocket = device.createRfcommSocketToServiceRecord(uuid)\n\n    override fun run() {\n        try {\n            Log.d(LOGTAG, \"Connecting bluetoothSocket\")\n            handler.post {\n                connectedOrNotTextView.text = getString(R.string.connecting)\n                connectToDeviceButton.isEnabled = false\n            }\n            bluetoothSocket = newSocket\n            bluetoothSocket.connect()\n            Log.d(LOGTAG, \"Socket connected\")\n            handler.post {\n                connectedOrNotTextView.text = getString(R.string.connected)\n                connectToDeviceButton.isEnabled = false; disconnectButton.isEnabled = true\n            }\n        }catch (e1: Exception){\n            Log.e(LOGTAG, \"Error connecting bluetoothSocket, $e1\")\n            handler.post {\n                connectedOrNotTextView.text = getString(R.string.connection_failed)\n                connectToDeviceButton.isEnabled = true; disconnectButton.isEnabled = false\n            }\n        }\n        readBlueToothDataFromMothership(bluetoothSocket)\n    }\n}\n</code></pre>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>As pointed out in the comments, readMessage is a string and not an int.</p>\n\n<p>So, I changed:</p>\n\n<pre><code>if (readMessage.equals(1) {\n</code></pre>\n\n<p>to:\n    if (readMessage == \"1\") {</p>\n\n<p>No it seems to be actually hitting the View.showOrHideImage() function. However, the app now crashes with the following:</p>\n\n<blockquote>\n  <p>2019-12-04 12:49:53.983 19718-19987/com.example.pigcatcher I/MainActivity: 1</p>\n  \n  <p>2019-12-04 12:49:54.018 19718-19987/com.example.pigcatcher E/AndroidRuntime: FATAL EXCEPTION: Thread-6\n      Process: com.example.pigcatcher, PID: 19718\n      android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.</p>\n  \n  <blockquote>\n    <p>at  com.example.pigcatcher.MainActivity.showOrHideImage(MainActivity.kt:102)</p>\n    \n    <p>at com.example.pigcatcher.MainActivity.readBlueToothDataFromMothership(MainActivity.kt:89)</p>\n    \n    <p>at com.example.pigcatcher.MainActivity.access$readBlueToothDataFromMothership(MainActivity.kt:31)</p>\n    \n    <p>at com.example.pigcatcher.MainActivity$ConnectThread.run(MainActivity.kt:173)</p>\n  </blockquote>\n</blockquote>\n\n<p>Line 102 points to the following:</p>\n\n<pre><code>visibility = if (imageShow) {\n</code></pre>\n\n<p>And line 173 is: </p>\n\n<pre><code>readBlueToothDataFromMothership(bluetoothSocket)\n</code></pre>\n\n<p>Which is from the ConnectThread() inner class.</p>\n\n<p>I think, I'm calling that function from the wrong place?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575485894, "post_id": 59182732, "comment_id": 104586680, "body": "What is your requirement? Can it be fulfilled by <code>onClickListener</code> instead of <code>setOnTouchListener</code>?"}, {"owner": {"reputation": 724, "user_id": 6213557, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-frSPEIXsJus/AAAAAAAAAAI/AAAAAAAAACE/MwKuRguKiSI/photo.jpg?sz=128", "display_name": "Rishabh Dutt Sharma", "link": "https://stackoverflow.com/users/6213557/rishabh-dutt-sharma"}, "edited": false, "score": 0, "creation_date": 1575486039, "post_id": 59182732, "comment_id": 104586734, "body": "<a href=\"https://stackoverflow.com/a/50343572/6213557\">this might help</a>"}, {"owner": {"reputation": 435, "user_id": 3012629, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/A8NtU.jpg?s=128&g=1", "display_name": "user3012629", "link": "https://stackoverflow.com/users/3012629/user3012629"}, "edited": false, "score": 0, "creation_date": 1575487101, "post_id": 59182732, "comment_id": 104587134, "body": "My requirement is to get the RGB colour value at the touched point."}], "answers": [{"tags": [], "owner": {"reputation": 640, "user_id": 11278807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e227d46931a4acfc310270a254286db0?s=128&d=identicon&r=PG&f=1", "display_name": "Nulldroid", "link": "https://stackoverflow.com/users/11278807/nulldroid"}, "is_accepted": false, "score": 0, "last_activity_date": 1575491450, "creation_date": 1575491450, "answer_id": 59184237, "question_id": 59182732, "link": "https://stackoverflow.com/questions/59182732/how-to-override-performclick-for-setontouchlistener/59184237#59184237", "title": "How to override performClick() for setOnTouchListener()", "body": "<p>Came across this issue a couple of times. It isn't really self-explanatory. When you want to keep the accessibility functionality, there is no other way around this, that I would know of, other than creating a custom ImageView extending ImageView like so:</p>\n\n<pre><code>class MyTouchImageView @JvmOverloads\nconstructor(context: Context, attrs: AttributeSet? = null, defStyle: Int = 0) :\n    AppCompatImageView(context, attrs, defStyle){\n\n    var point =  PointF()\n\n\n    override fun onTouchEvent(event: MotionEvent): Boolean {\n        // get your coordinates here\n        point.x = event.x\n        point.y = event.y\n\n        when (event.action){\n            MotionEvent.ACTION_UP -&gt; {\n                performClick()   // call performClick() here, that is the same as some accessibility function would do\n                return true\n            }\n        }\n\n        return false\n    }\n\n    override fun performClick(): Boolean {\n        super.performClick()\n\n        // your code that should be executed in onClick event\n\n        return true\n    }\n}\n</code></pre>\n\n<p>So 2 important steps:</p>\n\n<ol>\n<li>override performClick() with instructions to do when onClick is\n    called  </li>\n<li>call that performClick() from your onTouchEvent, for example\n    on ACTION_UP event</li>\n</ol>\n"}], "owner": {"reputation": 435, "user_id": 3012629, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/A8NtU.jpg?s=128&g=1", "display_name": "user3012629", "link": "https://stackoverflow.com/users/3012629/user3012629"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575491450, "creation_date": 1575484762, "question_id": 59182732, "link": "https://stackoverflow.com/questions/59182732/how-to-override-performclick-for-setontouchlistener", "title": "How to override performClick() for setOnTouchListener()", "body": "<p>I have an ImageView with a setOnTouchListener() on it.</p>\n\n<p>Android Studio warns me that \"Custom view 'ImageView' has setOnTouchListener called on it, but does not override performClick\".</p>\n\n<p>I've looked at answers <a href=\"https://stackoverflow.com/questions/27462468/custom-view-overrides-ontouchevent-but-not-performclick\">here</a> and <a href=\"https://stackoverflow.com/questions/46171379/android-kotlin-ontouchlistener-wants-me-to-override-performclick\">here</a>, but can't see how they work with the .setOnTouchListner method.</p>\n\n<p>How can I get this to work, and keep the accessibility functionality valid?</p>\n\n<pre><code>import android.graphics.Bitmap\nimport android.graphics.BitmapFactory\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.ImageView\nimport android.widget.Toast\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val imageView : ImageView = findViewById(R.id.imageView)\n        val imageBitmap : Bitmap = BitmapFactory.decodeResource(application.resources, R.drawable.nice_piccy)\n        imageView.setImageBitmap(imageBitmap)\n\n        imageView.setOnTouchListener(View.OnTouchListener({ view: View, event -&gt;\n            Toast.makeText(this,\n                \"Touched at ${event.getX().toInt()}, ${event.getY().toInt()}\",\n                Toast.LENGTH_SHORT).show()\n            true\n        }))\n\n    } // End onCreate()\n\n } // End MainActivity\n</code></pre>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:contentDescription=\"A test image to be clicked\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "nullpointerexception"], "answers": [{"comments": [{"owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "edited": false, "score": 0, "creation_date": 1575481464, "post_id": 59181817, "comment_id": 104584629, "body": "Your right,  it looks like the throttleClicks method was changed from an RXjava version to a non RX version. thank you!"}], "tags": [], "owner": {"reputation": 108, "user_id": 9853503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yJCCB.jpg?s=128&g=1", "display_name": "Mykhailo Plotnikov", "link": "https://stackoverflow.com/users/9853503/mykhailo-plotnikov"}, "is_accepted": true, "score": 3, "last_activity_date": 1585578333, "last_edit_date": 1585578333, "creation_date": 1575480899, "answer_id": 59181817, "question_id": 59181526, "link": "https://stackoverflow.com/questions/59181526/why-is-the-kotlin-synthetic-is-null-unless-i-use-an-explicit-scope/59181817#59181817", "title": "Why is the Kotlin Synthetic is Null unless I use an explicit scope", "body": "<p>Because you use synthetics in functiun of type <code>View.() -&gt; Unit</code>.</p>\n\n<p>So <code>this</code> in function is view on whitch you apply this function (<code>profile_clickable</code>).</p>\n\n<p>Kotlin synthetics works like </p>\n\n<pre><code>val View.profile_clickable: ImageView get() {\n  if (cache exists) {\n    return cache\n  }\n  return this.findViewById(R.id.profile_clickable)\n}\n</code></pre>\n\n<p><code>profile_clickable</code> hasn't any childs, so there will be exception.</p>\n\n<p>You can use this code: </p>\n\n<pre><code>profile_clickable.throttleClicks {\n  logger.logEvent(PageTags.MENU_PROFILE_NAV)\n  this@HomeMenuActivity.run {\n    edit_picture_button.visibility = View.GONE\n    ProfileActivity.start(this, avatar.transition(), username.transition())\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 59181817, "answer_count": 1, "score": 2, "last_activity_date": 1585578333, "creation_date": 1575479882, "question_id": 59181526, "link": "https://stackoverflow.com/questions/59181526/why-is-the-kotlin-synthetic-is-null-unless-i-use-an-explicit-scope", "title": "Why is the Kotlin Synthetic is Null unless I use an explicit scope", "body": "<p>So I have a bit of code here that used to work 1 month ago. </p>\n\n<pre><code>profile_clickable.throttleClicks {\n  logger.logEvent(PageTags.MENU_PROFILE_NAV)\n  edit_picture_button.visibility = View.GONE\n  ProfileActivity.start(this@HomeMenuActivity, avatar.transition(), username.transition())\n}\n</code></pre>\n\n<p>This code now fails with an NPE on <code>edit_picture_button</code>, <code>avatar</code>, and <code>username</code> which are all Kotlin synthetics.  </p>\n\n<p>When I add an explicit call to each of those items (see below) suddenly it works.  </p>\n\n<pre><code>profile_clickable.throttleClicks {\n  logger.logEvent(PageTags.MENU_PROFILE_NAV)\n  this@HomeMenuActivity.edit_picture_button.visibility = View.GONE\n  ProfileActivity.start(this@HomeMenuActivity, this@HomeMenuActivity.avatar.transition(), this@HomeMenuActivity.username.transition())\n}\n</code></pre>\n\n<p>throttleClicks is an extension method that does this: </p>\n\n<pre><code>fun View.throttleClicks(\n  windowDurationMs: Long = 800,\n  onClick: View.() -&gt; Unit\n) {\n  setOnClickListener(object : View.OnClickListener {\n\n    // Set lastClickTime to - windowDurationMs to ensure the first click won't be throttled.\n    var lastClickTime = -windowDurationMs\n\n    override fun onClick(v: View?) {\n      val time = SystemClock.elapsedRealtime()\n      if (time - lastClickTime &gt;= windowDurationMs) {\n        lastClickTime = time\n        onClick()\n      }\n    }\n  })\n}\n</code></pre>\n\n<p>Why do I suddenly have to use an explicit scope to avoid NPEs?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "answers": [{"comments": [{"owner": {"reputation": 622, "user_id": 10498418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YO5tH.png?s=128&g=1", "display_name": "because_im_batman", "link": "https://stackoverflow.com/users/10498418/because-im-batman"}, "edited": false, "score": 0, "creation_date": 1575480725, "post_id": 59181733, "comment_id": 104584235, "body": "layoutInflater.inflate() works perfectly, so probably not an issue on my layout :&#39;"}, {"owner": {"reputation": 108, "user_id": 9853503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yJCCB.jpg?s=128&g=1", "display_name": "Mykhailo Plotnikov", "link": "https://stackoverflow.com/users/9853503/mykhailo-plotnikov"}, "reply_to_user": {"reputation": 622, "user_id": 10498418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YO5tH.png?s=128&g=1", "display_name": "because_im_batman", "link": "https://stackoverflow.com/users/10498418/because-im-batman"}, "edited": false, "score": 0, "creation_date": 1575482207, "post_id": 59181733, "comment_id": 104585017, "body": "And note, that in your code afterOnViewCreated() will be called before child&#39;s onViewCreated"}, {"owner": {"reputation": 622, "user_id": 10498418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YO5tH.png?s=128&g=1", "display_name": "because_im_batman", "link": "https://stackoverflow.com/users/10498418/because-im-batman"}, "edited": false, "score": 0, "creation_date": 1575484721, "post_id": 59181733, "comment_id": 104586221, "body": "i dont think so. Can u explain what u mean? because, afterOnViewCreated() is being called inside onViewCreated() of BaseFragment"}, {"owner": {"reputation": 482, "user_id": 2064906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f973ed22deafd48758a53e838ea68539?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/2064906/sharad"}, "edited": false, "score": 1, "creation_date": 1589263000, "post_id": 59181733, "comment_id": 109215609, "body": "First check layout tag is there or not as mentioned above but if its available then you can try &quot;clean project&quot; and &quot;rebuild project&quot; it might work."}], "tags": [], "owner": {"reputation": 108, "user_id": 9853503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yJCCB.jpg?s=128&g=1", "display_name": "Mykhailo Plotnikov", "link": "https://stackoverflow.com/users/9853503/mykhailo-plotnikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1575480600, "creation_date": 1575480600, "answer_id": 59181733, "question_id": 59181325, "link": "https://stackoverflow.com/questions/59181325/java-lang-illegalstateexception-databindingutil-inflateviewdatabinding-m/59181733#59181733", "title": "java.lang.IllegalStateException: DataBindingUtil.inflate&lt;ViewDataBinding&gt;(...) must not be null while trying to inflate using DataBindingUtil", "body": "<p>This works correctly on my device.\nAre you sure that your layout is correct? Check it using <code>layoutInflater.inflate(layoutResId, container, false)</code> in onCreateView. If there will be exception than DataBinding can't inflate your layout.</p>\n"}, {"tags": [], "owner": {"reputation": 622, "user_id": 10498418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YO5tH.png?s=128&g=1", "display_name": "because_im_batman", "link": "https://stackoverflow.com/users/10498418/because-im-batman"}, "is_accepted": true, "score": 11, "last_activity_date": 1576829709, "creation_date": 1576829709, "answer_id": 59421906, "question_id": 59181325, "link": "https://stackoverflow.com/questions/59181325/java-lang-illegalstateexception-databindingutil-inflateviewdatabinding-m/59421906#59421906", "title": "java.lang.IllegalStateException: DataBindingUtil.inflate&lt;ViewDataBinding&gt;(...) must not be null while trying to inflate using DataBindingUtil", "body": "<p>Okay, so i found the issue. Turns out even if u configured almost every setting properly you might forget/miss out on this little info. So, i'll share what i learnt here.</p>\n\n<p><strong>Data binding layout files are slightly different and start with a root tag of <code>&lt;layout&gt;</code> followed by a data element and a view root element.</strong> As mentioned in detail here: <a href=\"https://developer.android.com/topic/libraries/data-binding/expressions\" rel=\"noreferrer\">Official Databinding Documentation</a></p>\n\n<p>So wrapping all your layouts with <code>&lt;layout&gt;&lt;/layout&gt;</code> will remedy this exception.</p>\n\n<p><strong>e.g:</strong> </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n   &lt;androidx.constraintlayout.widget.ConstraintLayout\n       android:layout_width=\"match_parent\"\n       android:layout_height=\"match_parent\"&gt;\n\n       ....\n\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8823, "user_id": 804440, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6Elkl.png?s=128&g=1", "display_name": "nilsi", "link": "https://stackoverflow.com/users/804440/nilsi"}, "edited": false, "score": 0, "creation_date": 1614263408, "post_id": 64695930, "comment_id": 117337034, "body": "What&#39;s the difference between this and the accepted answer?"}], "tags": [], "owner": {"reputation": 1, "user_id": 7769364, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IV4miZ1rCWQ/AAAAAAAAAAI/AAAAAAAAGOo/mU5r1R672YU/photo.jpg?sz=128", "display_name": "pavlusha_crew ", "link": "https://stackoverflow.com/users/7769364/pavlusha-crew"}, "is_accepted": false, "score": 0, "last_activity_date": 1604574422, "creation_date": 1604574422, "answer_id": 64695930, "question_id": 59181325, "link": "https://stackoverflow.com/questions/59181325/java-lang-illegalstateexception-databindingutil-inflateviewdatabinding-m/64695930#64695930", "title": "java.lang.IllegalStateException: DataBindingUtil.inflate&lt;ViewDataBinding&gt;(...) must not be null while trying to inflate using DataBindingUtil", "body": "<p>you must wrap your xml in </p>\n<pre><code>&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/dark_blue&quot;\n    tools:context=&quot;.ui.weather.WeatherFragment&quot;&gt;\n\n        ....../&gt;\n&lt;/layout&gt;\n</code></pre>\n"}], "owner": {"reputation": 622, "user_id": 10498418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YO5tH.png?s=128&g=1", "display_name": "because_im_batman", "link": "https://stackoverflow.com/users/10498418/because-im-batman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3639, "favorite_count": 1, "accepted_answer_id": 59421906, "answer_count": 3, "score": 8, "last_activity_date": 1604574422, "creation_date": 1575479202, "question_id": 59181325, "link": "https://stackoverflow.com/questions/59181325/java-lang-illegalstateexception-databindingutil-inflateviewdatabinding-m", "title": "java.lang.IllegalStateException: DataBindingUtil.inflate&lt;ViewDataBinding&gt;(...) must not be null while trying to inflate using DataBindingUtil", "body": "<p>I have a BaseFragment class:</p>\n\n<pre><code>abstract class BaseFragment: Fragment(), View.OnClickListener {\n\n    private lateinit var mBinding: ViewDataBinding\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        mBinding = DataBindingUtil.inflate&lt;ViewDataBinding&gt;(inflater, getLayoutId() , container, false)\n\n        return mBinding.root\n    }\n\n    abstract fun getLayoutId(): Int\n\n    abstract fun afterOnViewCreated()\n\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        afterOnViewCreated()\n    }\n\n    override fun onSaveInstanceState(outState: Bundle) {\n        super.onSaveInstanceState(outState)\n    }\n\n    override fun onViewStateRestored(savedInstanceState: Bundle?) {\n        super.onViewStateRestored(savedInstanceState)\n    }\n\n    override fun onClick(v: View?) { }\n\n    fun getViewDataBinding(): ViewDataBinding {\n        return mBinding\n    }\n\n    fun setClickListener(vararg views: View) {\n        views.forEach { view -&gt; view.setOnClickListener(this) }\n    }\n\n}\n</code></pre>\n\n<p>Which i extend to create new fragments like this:</p>\n\n<pre><code>class HomeFragment : BaseFragment() {\n\n    private lateinit var homeViewModel: HomeViewModel\n\n    override fun getLayoutId(): Int {\n        return R.layout.fragment_home\n    }\n\n    override fun afterOnViewCreated() {\n        activity?.let{\n            homeViewModel = ViewModelProviders.of(this).get(HomeViewModel::class.java)\n        }\n        //TODO:\n    }\n\n}\n</code></pre>\n\n<p>But, im getting this crash:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.mu.chatonymous, PID: 23328\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example/com.example.MainActivity}: java.lang.IllegalStateException: DataBindingUtil.inflate&lt;\u2026nt_home, container, false) must not be null\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3318)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3429)\n        at android.app.ActivityThread.-wrap12(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2009)\n        at android.os.Handler.dispatchMessage(Handler.java:109)\n        at android.os.Looper.loop(Looper.java:166)\n        at android.app.ActivityThread.main(ActivityThread.java:7555)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:469)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:963)\n     Caused by: java.lang.IllegalStateException: DataBindingUtil.inflate&lt;\u2026nt_home, container, false) must not be null\n        at com.mu.chatonymous.ui.base.BaseFragment.onCreateView(BaseFragment.kt:21)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2612)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:874)\n        at androidx.fragment.app.FragmentManagerImpl.addAddedFragments(FragmentManagerImpl.java:2087)\n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1861)\n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1817)\n        at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1717)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManagerImpl.java:2650)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManagerImpl.java:2600)\n        at androidx.fragment.app.Fragment.performActivityCreated(Fragment.java:2639)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:897)\n        at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManagerImpl.java:1228)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:1293)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManagerImpl.java:2646)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManagerImpl.java:2600)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:246)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:542)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:176)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1340)\n        at android.app.Activity.performStart(Activity.java:7364)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3281)\n</code></pre>\n\n<p>heres my app level build.gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\napply plugin: \"androidx.navigation.safeargs.kotlin\"\n\napply plugin: 'io.fabric'\n\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"com.mu.chatonymous\"\n        minSdkVersion 19\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    dataBinding {\n        enabled = true\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n}\n\n\n//androidx\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.core:core-ktx:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n\n    implementation 'androidx.lifecycle:lifecycle-runtime:2.1.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.1.0'\n    kapt 'androidx.lifecycle:lifecycle-compiler:2.1.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.1.0'\n\n    implementation 'androidx.multidex:multidex:2.0.1'\n\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.1.0'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.1.0'\n\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    //for selection single or multiple items in recycler view\n    implementation 'androidx.recyclerview:recyclerview-selection:1.0.0'\n\n\n}\n//test\ndependencies {\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n}\n//google\ndependencies {\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.google.code.gson:gson:2.8.5'\n\n    implementation 'com.google.firebase:firebase-core:17.2.1'\n    implementation 'com.google.firebase:firebase-analytics:17.2.1'\n    implementation 'com.crashlytics.sdk.android:crashlytics:2.10.1'\n    implementation 'com.google.firebase:firebase-auth:19.2.0'\n}\n//3rd party\ndependencies {\n    implementation 'com.jakewharton.timber:timber:4.7.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>What am i doing wrong? i know i can use LayoutInflater.inflate instead of DatabindingUtil.inflate, but ive used this flow without problems before. And i kind off need the viewDataBinding object for later use like i did here. </p>\n"}, {"tags": ["android", "kotlin", "geofencing", "android-geofence"], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 3101660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GVUri.png?s=128&g=1", "display_name": "reza kia", "link": "https://stackoverflow.com/users/3101660/reza-kia"}, "is_accepted": false, "score": 0, "last_activity_date": 1589280469, "creation_date": 1589280469, "answer_id": 61749761, "question_id": 59181052, "link": "https://stackoverflow.com/questions/59181052/how-to-get-correct-geofence-transition-information/61749761#61749761", "title": "How to get correct Geofence transition information?", "body": "<p>try this git hub source\nit is in kotlin\n<a href=\"https://github.com/exozet/Geolocator\" rel=\"nofollow noreferrer\">https://github.com/exozet/Geolocator</a></p>\n"}], "owner": {"reputation": 35, "user_id": 11434100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yomO.jpg?s=128&g=1", "display_name": "ADO", "link": "https://stackoverflow.com/users/11434100/ado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1589280469, "creation_date": 1575478390, "question_id": 59181052, "link": "https://stackoverflow.com/questions/59181052/how-to-get-correct-geofence-transition-information", "title": "How to get correct Geofence transition information?", "body": "<p>I've been working on an app that logs Geofence information in a text file when a perimeter is crossed. For some reason always takes the name of the first value in my array of Geofence reminders instead of whichever has been crossed. I can't find anything else online that answers this question in any capacity.</p>\n\n<p>Here's the code for <strong>ReminderRepository.kt</strong>:</p>\n\n<pre><code>class ReminderRepository(private val context: Context) {\n\n  companion object {\n    private const val PREFS_NAME = \"ReminderRepository\"\n    private const val REMINDERS = \"REMINDERS\"\n  }\n\n  private val preferences = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE)\n  private val gson = Gson()\n  private val geofencingClient = LocationServices.getGeofencingClient(context)\n\n    private val geofencePendingIntent: PendingIntent by lazy {\n        val intent = Intent(context, GeofenceBroadcastReceiver::class.java)\n        PendingIntent.getBroadcast(\n            context,\n            0,\n            intent,\n            PendingIntent.FLAG_UPDATE_CURRENT)\n    }\n\n\n    fun add(reminder: Reminder, success: () -&gt; Unit, failure: (error: String) -&gt; Unit) {\n        val geofence = buildGeofence(reminder)\n        if (geofence != null\n            &amp;&amp; ContextCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n            geofencingClient.addGeofences(buildGeofencingRequest(geofence), geofencePendingIntent)\n                .addOnSuccessListener {\n                    saveAll(getAll() + reminder)\n                    success()\n                }.addOnFailureListener {\n                    failure(GeofenceErrorMessages.getErrorString(context, it))\n                }\n        }\n    }\n\n\n  private fun buildGeofence(reminder: Reminder): Geofence? {\n    val latitude = reminder.latLng?.latitude\n    val longitude = reminder.latLng?.longitude\n    val radius = reminder.radius\n\n    if (latitude != null &amp;&amp; longitude != null &amp;&amp; radius != null) {\n      return Geofence.Builder()\n          .setRequestId(reminder.id)\n          .setCircularRegion(\n              latitude,\n              longitude,\n              radius.toFloat()\n          )\n          .setTransitionTypes(Geofence.GEOFENCE_TRANSITION_ENTER or Geofence.GEOFENCE_TRANSITION_EXIT) // 12/01 - MAJOR necessary addition :x\n          .setExpirationDuration(Geofence.NEVER_EXPIRE)\n          .build()\n    }\n    return null\n  }\n\n    private fun buildGeofencingRequest(geofence: Geofence): GeofencingRequest {\n        return GeofencingRequest.Builder()\n            .setInitialTrigger(GeofencingRequest.INITIAL_TRIGGER_ENTER)\n            .addGeofences(listOf(geofence))\n            .build()\n    }\n\n\n    fun remove(reminder: Reminder, success: () -&gt; Unit, failure: (error: String) -&gt; Unit) {\n    geofencingClient\n        .removeGeofences(listOf(reminder.id)).addOnSuccessListener {\n          saveAll(getAll() - reminder)\n          success()\n        }.addOnFailureListener {\n          failure(GeofenceErrorMessages.getErrorString(context, it))\n        }\n  }\n\n  private fun saveAll(list: List&lt;Reminder&gt;) {\n    preferences.edit().putString(REMINDERS, gson.toJson(list)).apply()\n  }\n\n  fun getAll(): List&lt;Reminder&gt; {\n    if (preferences.contains(REMINDERS)) {\n      val remindersString = preferences.getString(REMINDERS, null)\n      val arrayOfReminders = gson.fromJson(remindersString, Array&lt;Reminder&gt;::class.java)\n\n      if (arrayOfReminders != null) {\n        return arrayOfReminders.toList()\n      }\n    }\n    return listOf()\n  }\n\n  fun get(requestId: String?) = getAll().firstOrNull { it.id == requestId }\n  fun getLast() = getAll().lastOrNull()\n}\n</code></pre>\n\n<p><strong>ReminderApp.kt</strong>:</p>\n\n<pre><code>class ReminderApp : Application() {\n\n  private lateinit var repository: ReminderRepository\n\n  override fun onCreate() {\n    super.onCreate()\n    repository = ReminderRepository(this)\n  }\n\n  fun getRepository() = repository\n}\n</code></pre>\n\n<p><strong>GeofenceBroadcastReceiver.kt</strong>:</p>\n\n<pre><code>class GeofenceBroadcastReceiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        GeofenceTransitionsJobIntentService.enqueueWork(context, intent)\n    }\n}\n</code></pre>\n\n<p>Here's the code for the <strong>GeofenceTransitionsJobIntentService.kt</strong> file:</p>\n\n<pre><code>    // The file name is saved in ../res/values/strings.xml\n    val fileName = \"fencelog.txt\"\n    val lineBreak: String? = System.getProperty(\"line.separator\")\n\n    companion object {\n        private const val LOG_TAG = \"GeoTrIntentService\"\n        private const val JOB_ID = 573\n\n        fun enqueueWork(context: Context, intent: Intent) {\n            enqueueWork(context, GeofenceTransitionsJobIntentService::class.java, JOB_ID, intent)\n        }\n    }\n\n    @RequiresApi(Build.VERSION_CODES.O)\n    override fun onHandleWork(intent: Intent) {\n        val geofencingEvent = GeofencingEvent.fromIntent(intent)\n        if (geofencingEvent.hasError()) {\n            val errorMessage = GeofenceErrorMessages.getErrorString(this, geofencingEvent.errorCode)\n            Log.e(LOG_TAG, errorMessage)\n            return\n        }\n        handleEvent(geofencingEvent)\n    }\n\n    // Handle what happens when a transition is received\n    @RequiresApi(Build.VERSION_CODES.O)\n    private fun handleEvent(event: GeofencingEvent) {\n        if (event.geofenceTransition == Geofence.GEOFENCE_TRANSITION_ENTER) {\n            // Get the reminder for the entered Geofence and get its message and coordinate values\n            val reminder = getFirstReminder(event.triggeringGeofences)\n            val message = reminder?.message\n            val latLng = reminder?.latLng\n\n            // Ensure neither reminder.message nor reminder.latLng is null\n            if (message != null &amp;&amp; latLng != null) {\n                // Record the transition in fencelog.txt and send the user a notification alerting them to their arrival\n                writeToLogFile(this, fileName, message, getTimeStamp(), true)\n                sendNotification(this, \"You've arrived at $message!\", latLng)\n            }\n        }\n\n        if (event.geofenceTransition == Geofence.GEOFENCE_TRANSITION_EXIT) {\n            val reminder = getFirstReminder(event.triggeringGeofences)\n            val message = reminder?.message\n            val latLng = reminder?.latLng\n\n            if (message != null &amp;&amp; latLng != null) {\n                sendNotification(this, \"You just left $message!\", latLng)\n                writeToLogFile(this, fileName, message, \"some time\", false)\n            }\n        }\n    }\n\n    // Get the reminder that was used to create the Geofence\n    private fun getFirstReminder(triggeringGeofences: List&lt;Geofence&gt;): Reminder? {\n        val firstGeofence = triggeringGeofences[0]\n        return (application as ReminderApp).getRepository().get(firstGeofence.requestId)\n    }\n</code></pre>\n\n<p>Say I have three locations in my list of Geofences - Location A, Location B and Location C - at positions 0, 1 and 2 respectively. If I enter any of these locations, a message will display telling me I have entered Location A regardless of where I actually am, because the program is retrieving the data for Location A when it logs.</p>\n\n<p>Do I have to change something in the getFirstReminder function? Is there a better way I can be doing this in general? I can see that the function seems to literally take the first item in the array, which is what is causing the problem, but I don't know what to replace it with to make it function as desired.</p>\n"}, {"tags": ["generics", "kotlin", "casting"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 1084670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59531c80e001893d08ded752ac871c37?s=128&d=identicon&r=PG", "display_name": "gigaSproule", "link": "https://stackoverflow.com/users/1084670/gigasproule"}, "edited": false, "score": 0, "creation_date": 1575626132, "post_id": 59182024, "comment_id": 104638172, "body": "Thanks for the answer. The message is <code>interface Message&lt;out P : Any&gt; { val payload: P, val type: MessageType }</code>. The <code>MessageType</code> is just an enum to define what the message is (update X, perform action Y, etc.). At the end of the day, what I&#39;m getting from your response is that we have to do some kind of casting. I&#39;m just surprised that in Java one could apply <code>MessageHandler&lt;Object&gt;</code> and it&#39;s happy, but in Kotlin, there isn&#39;t an equivalent. I understand why, just takes some getting used to I guess."}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 1, "last_activity_date": 1575482884, "last_edit_date": 1575482884, "creation_date": 1575481720, "answer_id": 59182024, "question_id": 59180671, "link": "https://stackoverflow.com/questions/59180671/kotlin-generics-not-being-cast-correctly/59182024#59182024", "title": "Kotlin generics not being cast correctly", "body": "<p>Since you have <code>MessageHandlerAdapter</code>s of different types, your list has to use star projection <code>&lt;*&gt;</code>, but this makes the objects coming out of your list useless for calling any function that takes the type as an argument. You will have to cast your retrieved adapter to be able to call a typed function on it.</p>\n\n<p>First I would eliminate the MessageType class and just use the KClass of the payload type to simplify how we deal with it and remove the possibility of creating a Message with mismatched MessageType and payload type:</p>\n\n<pre><code>abstract class MessageHandlerAdapter&lt;P : Any&gt;(val payloadType: KClass&lt;P&gt;) {\n    abstract fun handle(payload: P)\n}\n\n// Just an example, don't know what your Message class has\ndata class Message&lt;P : Any&gt;(val payloadType: KClass&lt;P&gt;, val payload: P)\n</code></pre>\n\n<p>Then the Message's <code>payloadType</code> property is available for easy checking and cast.</p>\n\n<p>In your strategy class you can cast your <code>MessageHandlerAdapter&lt;*&gt;</code> to a <code>MessageHandlerAdapter&lt;P&gt;</code> and know that it's safe to do so because you retrieved it via its <code>payloadType</code> which must be the same as its generic type.</p>\n\n<p>Unfortunately, the compiler isn't sophisticated enough to know this even if you use <code>try/catch</code>, so you will get an unchecked cast warning. You can use <code>@Suppress</code> to hide the warning.</p>\n\n<p>The <code>handle</code> function also needs a generic Message type or  you would only be able to pass in <code>Message&lt;Any&gt;</code>s.</p>\n\n<pre><code>class MessageHandlerStrategy(\n    private val messageHandlers: List&lt;MessageHandlerAdapter&lt;*&gt;&gt;\n) {\n\n    fun &lt;P : Any&gt; handle(message: Message&lt;P&gt;) {\n        val strategy = messageHandlers.find { it.payloadType == message.payloadType }\n            ?: throw IllegalArgumentException(\"No MessageHandler for message of type ${message.payloadType}\")\n\n        @Suppress(\"UNCHECKED_CAST\")\n        (strategy as MessageHandlerAdapter&lt;Any&gt;).handle(message.payload)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 1084670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59531c80e001893d08ded752ac871c37?s=128&d=identicon&r=PG", "display_name": "gigaSproule", "link": "https://stackoverflow.com/users/1084670/gigasproule"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 1, "accepted_answer_id": 59182024, "answer_count": 1, "score": 0, "last_activity_date": 1575482884, "creation_date": 1575477232, "question_id": 59180671, "link": "https://stackoverflow.com/questions/59180671/kotlin-generics-not-being-cast-correctly", "title": "Kotlin generics not being cast correctly", "body": "<p>I have an abstract class (<code>MessageHandlerAdapter</code>) that takes in a generic type (<code>P</code>) and is then used to type the value passed into one of its functions:</p>\n\n<pre><code>abstract class MessageHandlerAdapter&lt;in P : Any&gt; {\n    abstract fun canHandle(): MessageType\n    abstract fun handle(payload: P)\n}\n</code></pre>\n\n<p>If I use it with <code>List&lt;MessageHandlerAdapter&lt;*&gt;&gt;</code>, I get the error message <code>Out-projected type 'MessageHandlerAdapter&lt;*&gt;' prohibits the use of 'public abstract fun handle(payload: P): Unit defined in MessageHandlerAdapter'</code> on the use of <code>strategy.handle(message.payload)</code>:</p>\n\n<pre><code>class MessageHandlerStrategy(\n    private val messageHandlers: List&lt;MessageHandlerAdapter&lt;*&gt;&gt;\n) {\n    private val strategies = messageHandlers.map { Pair(it.canHandle(), it) }.toMap()\n\n    fun handle(message: Message&lt;Any&gt;) {\n        val strategy = strategies[message.type]\n            ?: throw IllegalArgumentException&gt;(IllegalArgumentException(\"No MessageHandler for message of type ${message.type}\"))\n\n        strategy.handle(message.payload)\n    }\n}\n</code></pre>\n\n<p>However, if I use it with <code>List&lt;MessageHandlerAdapter&lt;Any&gt;&gt;</code>, I get the error message <code>Type inference failed. Expected type mismatch: required: List&lt;MessageHandlerAdapter&lt;Any&gt;&gt;found: List&lt;MessageHandlerAdapter&lt;*&gt;&gt;</code> on the list I'm trying to pass in:</p>\n\n<pre><code>lateinit var stringHandler: MessageHandlerAdapter&lt;String&gt;\nlateinit var  intHandler: MessageHandlerAdapter&lt;Int&gt;\nval messageHandlerStrategy = MessageHandlerStrategy(listOf(stringHandler, intHandler))\n\nclass MessageHandlerStrategy(\n    private val messageHandlers: List&lt;MessageHandlerAdapter&lt;Any&gt;&gt;\n) {\n    private val strategies = messageHandlers.map { Pair(it.canHandle(), it) }.toMap()\n\n    fun handle(message: Message&lt;Any&gt;) {\n        val strategy = strategies[message.type]\n            ?: throw IllegalArgumentException&gt;(IllegalArgumentException(\"No MessageHandler for message of type ${message.type}\"))\n\n        strategy.handle(message.payload)\n    }\n}\n</code></pre>\n\n<p>I have also tried changing the signature of <code>MessageHandlerAdapter</code>  to <code>abstract class MessageHandlerAdapter&lt;P : Any&gt; {...</code> but it doesn't make any difference.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 195, "user_id": 1201535, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cb28d703805e8d8a56e9274f1f00c971?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/1201535/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1575538513, "creation_date": 1575538513, "answer_id": 59192071, "question_id": 59179996, "link": "https://stackoverflow.com/questions/59179996/how-to-duplicate-output-of-process-to-file-and-console-in-kotlin-program/59192071#59192071", "title": "How to duplicate output of process to file and console (in Kotlin program)", "body": "<p>I'm sorry for this question, it was quite simple,I found simple answer today.</p>\n\n<pre><code>val proc = ProcessBuilder(\"ls\", \"-lR\", \"c:\\\\toolchains\")\n    .directory(null)\n    .redirectOutput(ProcessBuilder.Redirect.PIPE)\n    .redirectError(ProcessBuilder.Redirect.PIPE)\n    .start()\nprintln(\"Started\")\nval output: BufferedReader = proc.inputStream.bufferedReader()\nvar line: String? = output.readLine()\nval log: File = File(\"cmd.log\")\nwhile (line != null) {\n    println(\"Next Line \" + line)\n    log.appendText(line.toString() + System.lineSeparator())\n    line = output.readLine()\n}\n\nproc.waitFor(60, TimeUnit.MINUTES)\nprintln(\"Ended\")\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 1201535, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cb28d703805e8d8a56e9274f1f00c971?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/1201535/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 322, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575538513, "creation_date": 1575475043, "last_edit_date": 1575533216, "question_id": 59179996, "link": "https://stackoverflow.com/questions/59179996/how-to-duplicate-output-of-process-to-file-and-console-in-kotlin-program", "title": "How to duplicate output of process to file and console (in Kotlin program)", "body": "<p>I have a simple snippet of Kotlin code</p>\n\n<pre><code>import java.io.*\nimport java.util.concurrent.TimeUnit.MINUTES\nimport java.util.concurrent.TimeUnit\n\n\nval proc = ProcessBuilder(\"C:\\\\tools\\\\build\\\\maven\\\\3.6.1\\\\bin\\\\mvn.cmd\")\n    .directory(null)\n    .redirectOutput(ProcessBuilder.Redirect.PIPE)\n    .redirectError(ProcessBuilder.Redirect.PIPE)\n    .start()\nprintln(\"Started\")\nproc.waitFor(60, TimeUnit.MINUTES)\nprintln(\"Ended\")\nval output : String = proc.inputStream.bufferedReader().readText()\nprintln(\"Output : \" + output)\nvar log : File = File(\"cmd.log\")\nlog.writeText(output)\n</code></pre>\n\n<p>This code run command then saves output in string then print output to console\nBut printing is occured when external program is completed.\nMy question is:\nI would like to see program output in real time mode.\nFrom other hands I would like to see output of external program while it works.\nThis code run as Kotlin script : kotlinc -script script.ktc</p>\n\n<p>If place string </p>\n\n<pre><code>val output : String = proc.inputStream.bufferedReader().readText()\n</code></pre>\n\n<p>Before waitFor call. I observed that execution is blocked as expected</p>\n"}, {"tags": ["android", "kotlin", "bottomnavigationview"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9348323, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211636300090193/picture?type=large", "display_name": "Aziz Ainun Najib", "link": "https://stackoverflow.com/users/9348323/aziz-ainun-najib"}, "edited": false, "score": 0, "creation_date": 1575473918, "post_id": 59179365, "comment_id": 104580234, "body": "i dont get it, what is command in that function(onChangeTab)? can you give me an example? my regard.."}, {"owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "reply_to_user": {"reputation": 13, "user_id": 9348323, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211636300090193/picture?type=large", "display_name": "Aziz Ainun Najib", "link": "https://stackoverflow.com/users/9348323/aziz-ainun-najib"}, "edited": false, "score": 0, "creation_date": 1575474077, "post_id": 59179365, "comment_id": 104580329, "body": "I have given you an example, looks like you need some practice with using interfaces. you should search on the internet about passing data from fragment to activity. You will get two solutions but use the one that is using interfaces. Let me know if you still can&#39;t figure it out."}], "tags": [], "owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "is_accepted": false, "score": 0, "last_activity_date": 1575473560, "last_edit_date": 1575473560, "creation_date": 1575473169, "answer_id": 59179365, "question_id": 59179267, "link": "https://stackoverflow.com/questions/59179267/navigate-to-specific-fragment-on-bottomnavigationview/59179365#59179365", "title": "Navigate to specific fragment on BottomNavigationView", "body": "<p>Make an interface which your activity will implement.\nAll the fragments should call the method of the interface wherever you want to change the fragment. </p>\n\n<p>something like</p>\n\n<pre><code>interface TabChangeListener {\n    fun onTabChange(tabName : String)\n}\n</code></pre>\n\n<p>Code in Activity</p>\n\n<pre><code>class Activity : AppCompatActivity(), TabChangeListener {\n   override fun onTabChange(tabName : String) {\n       //code to show different tabs\n   }\n}\n</code></pre>\n\n<p>Code in Fragments</p>\n\n<pre><code>class Frag1 : Fragment {\n   var listener : TabChangeListener\n   //somewhere in the code\n   listener.onTabChange(\"userTab\")\n}\n</code></pre>\n\n<p>Don't forget to take the reference of TabChangeListener in Fragments from the activity otherwise the callbacks won't work.</p>\n"}], "owner": {"reputation": 13, "user_id": 9348323, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211636300090193/picture?type=large", "display_name": "Aziz Ainun Najib", "link": "https://stackoverflow.com/users/9348323/aziz-ainun-najib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575479961, "creation_date": 1575472831, "last_edit_date": 1575479961, "question_id": 59179267, "link": "https://stackoverflow.com/questions/59179267/navigate-to-specific-fragment-on-bottomnavigationview", "title": "Navigate to specific fragment on BottomNavigationView", "body": "<p>I've searched my problem but I could not find anything. let me describe my problem.</p>\n\n<p>I have 3 buttons on BottomNavigationView (Home, User, History). then from other activity, I have a button which I want is going to <strong>User</strong> page (with BottomnavigationView of course.</p>\n\n<p>I will show you my code. it still defaults all. I just do not know how to navigate to the User page.</p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val navView: BottomNavigationView = findViewById(R.id.nav_view)\n    val navController = findNavController(R.id.nav_host_fragment)\n    // Passing each menu ID as a set of Ids because each\n    // menu should be considered as top level destinations.\n    val appBarConfiguration = AppBarConfiguration(\n        setOf(\n            R.id.navigation_home, R.id.navigation_user, R.id.navigation_notifications\n        )\n    )\n    setupActionBarWithNavController(navController, appBarConfiguration)\n    navView.setupWithNavController(navController)\n}}\n</code></pre>\n\n<p>and here is my code (from other fragment)</p>\n\n<p><strong>otherFragment.kt</strong></p>\n\n<pre><code>buttonRincian.setOnClickListener {\n        // i dont know command to go to MainActivity with User page as default selected menu\n    }\n</code></pre>\n\n<p>thank you so much, i hoe someone can help me. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "edited": false, "score": 0, "creation_date": 1575472410, "post_id": 59179030, "comment_id": 104579409, "body": "You want to run a refresh every X seconds?"}, {"owner": {"reputation": 53, "user_id": 5535013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c81e83cca369681a3fcd1cdb880ff6a?s=128&d=identicon&r=PG&f=1", "display_name": "Jacek", "link": "https://stackoverflow.com/users/5535013/jacek"}, "reply_to_user": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "edited": false, "score": 0, "creation_date": 1575472687, "post_id": 59179030, "comment_id": 104579534, "body": "@KristyWelsh Nope, I just want to call <code>refreshItems()</code> method on user interaction (click the button or swipe, it doesn&#39;t matter right now)"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5535013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c81e83cca369681a3fcd1cdb880ff6a?s=128&d=identicon&r=PG&f=1", "display_name": "Jacek", "link": "https://stackoverflow.com/users/5535013/jacek"}, "edited": false, "score": 0, "creation_date": 1575530163, "post_id": 59179496, "comment_id": 104599342, "body": "Ok, thanks. But can I reuse ItemsDelegate to update value. Something like this <code>items.value = ItemsDelegate(itemsRepository)</code>"}, {"owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "reply_to_user": {"reputation": 53, "user_id": 5535013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c81e83cca369681a3fcd1cdb880ff6a?s=128&d=identicon&r=PG&f=1", "display_name": "Jacek", "link": "https://stackoverflow.com/users/5535013/jacek"}, "edited": false, "score": 0, "creation_date": 1575530913, "post_id": 59179496, "comment_id": 104599618, "body": "Sure. You just need to create such a method."}], "tags": [], "owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "is_accepted": false, "score": 3, "last_activity_date": 1575473534, "creation_date": 1575473534, "answer_id": 59179496, "question_id": 59179030, "link": "https://stackoverflow.com/questions/59179030/is-it-possible-to-refresh-livedata-created-by-delegation/59179496#59179496", "title": "Is it possible to refresh LiveData created by delegation?", "body": "<ol>\n<li><p>You can't update <code>LiveData</code>. You would need <code>MutableLiveData</code>. So make sure <code>ItemsDelegate(itemsRepository)</code> returns <code>MutableLiveData</code>.</p></li>\n<li><p>Call <code>items.value = &lt;new value&gt;</code> or <code>items.postValue(&lt;new value&gt;)</code>. to update the value of your live data.</p></li>\n</ol>\n"}], "owner": {"reputation": 53, "user_id": 5535013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c81e83cca369681a3fcd1cdb880ff6a?s=128&d=identicon&r=PG&f=1", "display_name": "Jacek", "link": "https://stackoverflow.com/users/5535013/jacek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575473534, "creation_date": 1575472068, "question_id": 59179030, "link": "https://stackoverflow.com/questions/59179030/is-it-possible-to-refresh-livedata-created-by-delegation", "title": "Is it possible to refresh LiveData created by delegation?", "body": "<p>I have <code>LiveData</code> which is created by delegation, it is list of objects loaded form REST API Service. Now I want to refresh that list (request api for new list). Here is my code</p>\n\n<pre><code>class SomeViewModel(itemsRespository: ItemsRepository): ViewModel(){\n\n    val items by ItemsDelegate(itemsRepository)\n\n    fun refreshItems(){\n        //todo refresh items\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "memory-leaks", "tornadofx"], "comments": [{"owner": {"reputation": 1173, "user_id": 8226794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd48b8696e6abe50a5cbc58f72919948?s=128&d=identicon&r=PG&f=1", "display_name": "Luxusproblem", "link": "https://stackoverflow.com/users/8226794/luxusproblem"}, "edited": false, "score": 0, "creation_date": 1575542718, "post_id": 59178923, "comment_id": 104605235, "body": "How do you mesure it? over wich timeframe ? Sadly I can not find the Implementation of &quot;replaceWith&quot;"}, {"owner": {"reputation": 11, "user_id": 6354893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eec95c13ccd284f540661f0062b82e7?s=128&d=identicon&r=PG&f=1", "display_name": "Octave Decaux", "link": "https://stackoverflow.com/users/6354893/octave-decaux"}, "reply_to_user": {"reputation": 1173, "user_id": 8226794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd48b8696e6abe50a5cbc58f72919948?s=128&d=identicon&r=PG&f=1", "display_name": "Luxusproblem", "link": "https://stackoverflow.com/users/8226794/luxusproblem"}, "edited": false, "score": 0, "creation_date": 1575709042, "post_id": 59178923, "comment_id": 104663408, "body": "I just use Intellij&#39;s heap inspector, and I&#39;ve made it run for more than a minute. The GC should have had the time to do its thing. i.ibb.co/hZ6H5Qt/image.png"}, {"owner": {"reputation": 1173, "user_id": 8226794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd48b8696e6abe50a5cbc58f72919948?s=128&d=identicon&r=PG&f=1", "display_name": "Luxusproblem", "link": "https://stackoverflow.com/users/8226794/luxusproblem"}, "edited": false, "score": 0, "creation_date": 1575715063, "post_id": 59178923, "comment_id": 104664499, "body": "I looked into the code of the function replaceWith(..) It looks like the root (eg BorderPane ) of the view will be Replaced and removed from the Parent Component (eg Scene). But not the View class. Have you tried to call &quot;removeFromParent()&quot; after &quot;replaceWith()&quot; ?"}, {"owner": {"reputation": 11, "user_id": 6354893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eec95c13ccd284f540661f0062b82e7?s=128&d=identicon&r=PG&f=1", "display_name": "Octave Decaux", "link": "https://stackoverflow.com/users/6354893/octave-decaux"}, "reply_to_user": {"reputation": 1173, "user_id": 8226794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd48b8696e6abe50a5cbc58f72919948?s=128&d=identicon&r=PG&f=1", "display_name": "Luxusproblem", "link": "https://stackoverflow.com/users/8226794/luxusproblem"}, "edited": false, "score": 0, "creation_date": 1576565196, "post_id": 59178923, "comment_id": 104930775, "body": "Sorry for taking a lot of time to answer. I&#39;ve tried what you suggested, but It doesn&#39;t seem to resolve the issue."}], "owner": {"reputation": 11, "user_id": 6354893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eec95c13ccd284f540661f0062b82e7?s=128&d=identicon&r=PG&f=1", "display_name": "Octave Decaux", "link": "https://stackoverflow.com/users/6354893/octave-decaux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575471642, "creation_date": 1575471642, "question_id": 59178923, "link": "https://stackoverflow.com/questions/59178923/delete-component-after-replacewith-in-tornadofx", "title": "Delete Component after replaceWith() in Tornadofx", "body": "<p>I'm currently learning to use TornadoFx. I'm quite confused with the replaceWith mecanism. The previous view is not released from memory from looking at the heap. I can live with that, because views are singletons, but if I use fragments instead I get a huge memory leak.</p>\n\n<p>Here view1 and view2 are exactly the same, I just go back and forth between the 2, and they stack up in memory.</p>\n\n<pre class=\"lang-kt prettyprint-override\"><code>class View1 : Fragment(\"View1\") {\n    override val root =  vbox{\n            button() {\n                action {replaceWith&lt;View2&gt;() }\n            }\n        }\n} \n</code></pre>\n\n<p>How can I prevent this ? Where is the reference to these object stored ?</p>\n"}, {"tags": ["android", "kotlin", "seekbar", "rangeseekbar"], "answers": [{"tags": [], "owner": {"reputation": 290, "user_id": 11135366, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ShQs5Xbl8h0/AAAAAAAAAAI/AAAAAAAABuE/GR0sSmbBXDg/photo.jpg?sz=128", "display_name": "Bhojaviya Sagar", "link": "https://stackoverflow.com/users/11135366/bhojaviya-sagar"}, "is_accepted": false, "score": 0, "last_activity_date": 1589802640, "creation_date": 1589802640, "answer_id": 61868931, "question_id": 59178780, "link": "https://stackoverflow.com/questions/59178780/com-crystal-crystalrangeseekbar-widgets-bubblethumbrangeseekbar-problem-with-ri/61868931#61868931", "title": "com.crystal.crystalrangeseekbar.widgets.BubbleThumbRangeSeekbar: problem with right and thumb image", "body": "<p>You are using drawable as an app:left_thumb_image=\"\".\nbut, in BubbleThumbRangeSeekbar support image format icon (.png , etc..) in app:left_thumb_image=\"\" so, replace your drawable icon to .png icon.</p>\n"}], "owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 590, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1589802640, "creation_date": 1575471154, "last_edit_date": 1575472604, "question_id": 59178780, "link": "https://stackoverflow.com/questions/59178780/com-crystal-crystalrangeseekbar-widgets-bubblethumbrangeseekbar-problem-with-ri", "title": "com.crystal.crystalrangeseekbar.widgets.BubbleThumbRangeSeekbar: problem with right and thumb image", "body": "<p>I use in my android app with Kotlin the following library \"com.crystal.crystalrangeseekbar.widgets.BubbleThumbRangeSeekbar\" to set the price of product in slider. Here's the following code :</p>\n\n<pre><code>&lt;com.crystal.crystalrangeseekbar.widgets.BubbleThumbRangeSeekbar\n    android:id=\"@+id/seekBar\"\n    android:layout_width=\"335dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"20dp\"\n    android:layout_marginEnd=\"20dp\"\n    android:layout_marginTop=\"41dp\"\n    app:min_value=\"0\"\n    app:max_value=\"100\"\n    app:bar_color=\"@color/lightGreyTwo\"\n    app:bar_highlight_color=\"@color/honey\"\n    app:data_type=\"_integer\"\n    app:right_thumb_image=\"@drawable/circle\"\n    app:left_thumb_image=\"@drawable/circle\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/textViewPrice\" /&gt;\n</code></pre>\n\n<p>And the following is circle.xml in drawable folder:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item&gt;\n        &lt;shape android:shape=\"oval\"&gt;\n            &lt;stroke android:color=\"@color/honey\" android:width=\"8dp\" /&gt;\n            &lt;solid android:color=\"@color/white\"/&gt;\n            &lt;size android:width=\"22dp\" android:height=\"22dp\"/&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>But, I get the following error :</p>\n\n<blockquote>\n  <p>android.view.InflateException: Binary XML file line #132: Binary XML\n  file line #132: Error inflating class\n  com.crystal.crystalrangeseekbar.widgets.BubbleThumbRangeSeekbar\n          at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2913)\n          at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)\n          at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n          at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n          at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n          at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n          at android.os.Handler.dispatchMessage(Handler.java:106)\n          at android.os.Looper.loop(Looper.java:193)\n          at android.app.ActivityThread.main(ActivityThread.java:6669)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n       Caused by: android.view.InflateException: Binary XML file line #132: Binary XML file line #132: Error inflating class com.crystal.crystalrangeseekbar.widgets.BubbleThumbRangeSeekbar\n       Caused by: android.view.InflateException: Binary XML file line #132: Error inflating class com.crystal.crystalrangeseekbar.widgets.BubbleThumbRangeSeekbar</p>\n</blockquote>\n\n<p>My objective is to set a slider as the following picture \n<a href=\"https://i.stack.imgur.com/c35sw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c35sw.png\" alt=\"enter image description here\"></a> </p>\n"}, {"tags": ["android", "kotlin", "android-actionbar"], "comments": [{"owner": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1575538874, "post_id": 59178261, "comment_id": 104603168, "body": "Why don&#39;t you use a drawable shape as background to tab button with  only textview and not with imageview/relative layout ?"}, {"owner": {"reputation": 41, "user_id": 5399986, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P6qZEnrikw4/AAAAAAAAAAI/AAAAAAAAARk/LP4vLF1Jl_A/photo.jpg?sz=128", "display_name": "Luis Coronel", "link": "https://stackoverflow.com/users/5399986/luis-coronel"}, "reply_to_user": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1575542362, "post_id": 59178261, "comment_id": 104605040, "body": "@NaveenAvidi - Let&#39;s see if I understood, what you propose is to add to the menu item with the <code>android:id=&quot;@+id &#47;tab_list_button&quot;</code>, the attribute <code>android:icon=&quot;@drawable&#47;ic_check_box_outline_blank_black_24d&zwnj;&#8203;p&quot;</code>, in this case, I already tried that way but I didn&#39;t show the counter on the icon. Or I misunderstood what you have proposed."}, {"owner": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1575542465, "post_id": 59178261, "comment_id": 104605091, "body": "Yes with xml drawable file ?"}, {"owner": {"reputation": 41, "user_id": 5399986, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P6qZEnrikw4/AAAAAAAAAAI/AAAAAAAAARk/LP4vLF1Jl_A/photo.jpg?sz=128", "display_name": "Luis Coronel", "link": "https://stackoverflow.com/users/5399986/luis-coronel"}, "reply_to_user": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1575542933, "post_id": 59178261, "comment_id": 104605370, "body": "@NaveenAvidi - That&#39;s right, I&#39;ve tried both ways: 1) the attribute in the menu item of the xml drawable and only shows the icon without the counter. 2) In code as described in the last part of the posting and only the counter is seen and not the icon."}, {"owner": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1575543594, "post_id": 59178261, "comment_id": 104605747, "body": "I added an answer , try it !"}, {"owner": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1575606354, "post_id": 59178261, "comment_id": 104631215, "body": "Hey bro ! I tested it, but same result. To make it use an alternative way. Make horizontal linear layout then use it as action bar and disable system action bar"}, {"owner": {"reputation": 41, "user_id": 5399986, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P6qZEnrikw4/AAAAAAAAAAI/AAAAAAAAARk/LP4vLF1Jl_A/photo.jpg?sz=128", "display_name": "Luis Coronel", "link": "https://stackoverflow.com/users/5399986/luis-coronel"}, "reply_to_user": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1575786044, "post_id": 59178261, "comment_id": 104678499, "body": "Sorry for the delay in responding, what about the action bar, how would it be? I have talked to other people and they have told me that I could implement an ImageButton with its own implementation, but I am not sure."}, {"owner": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1575787285, "post_id": 59178261, "comment_id": 104678617, "body": "Use this layout structure in xml :   RootLayout(Lines Layout Vertical Orientation) -- Linear Layout (Horizontal orientation) - for action bar ---- Your Content layout/view"}, {"owner": {"reputation": 41, "user_id": 5399986, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P6qZEnrikw4/AAAAAAAAAAI/AAAAAAAAARk/LP4vLF1Jl_A/photo.jpg?sz=128", "display_name": "Luis Coronel", "link": "https://stackoverflow.com/users/5399986/luis-coronel"}, "reply_to_user": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1576746699, "post_id": 59178261, "comment_id": 105000849, "body": "@NaveenAvidi - I have already solved it, as soon as I have time, I publish the solution, thanks for all your answers."}, {"owner": {"reputation": 41, "user_id": 5399986, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P6qZEnrikw4/AAAAAAAAAAI/AAAAAAAAARk/LP4vLF1Jl_A/photo.jpg?sz=128", "display_name": "Luis Coronel", "link": "https://stackoverflow.com/users/5399986/luis-coronel"}, "reply_to_user": {"reputation": 1843, "user_id": 5557479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53e3e56a52b9773d81bf356a271b8220?s=128&d=identicon&r=PG&f=1", "display_name": "Naveen Avidi", "link": "https://stackoverflow.com/users/5557479/naveen-avidi"}, "edited": false, "score": 0, "creation_date": 1576746940, "post_id": 59178261, "comment_id": 105000989, "body": "@NaveenAvidi - Not if doing so by editing the post above or adding the solution below as an answer, so that others can also help you."}], "owner": {"reputation": 41, "user_id": 5399986, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P6qZEnrikw4/AAAAAAAAAAI/AAAAAAAAARk/LP4vLF1Jl_A/photo.jpg?sz=128", "display_name": "Luis Coronel", "link": "https://stackoverflow.com/users/5399986/luis-coronel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 418, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1575543434, "creation_date": 1575469561, "last_edit_date": 1575521038, "question_id": 59178261, "link": "https://stackoverflow.com/questions/59178261/how-to-implement-a-counter-in-actionbar-but-in-kotlin", "title": "How to implement a counter in actionBar but in kotlin", "body": "<p>I ask this question because I have searched everywhere and I can't find anything to solve the problem.\nAs the title says, I can't find anything in Kotlin, everything is in Java and I'm new to Kotlin.  I need to do something, as in the image below. I have seen the following links but they do not particularly work for me:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17696486/actionbar-notification-count-icon-badge-like-google-has#17972602\">Actionbar notification count icon (badge) like Google has</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/13288989/how-to-get-text-on-an-actionbar-icon/16648170#16648170\">How to get text on an ActionBar Icon?</a></p>\n\n<p>This is the code that I have and what is not working for me is the item just from the counter, which I should call a TabListActivity (which shows me a list), but it does not.</p>\n\n<p><code>OnOptionsItemSelected</code> does not recognize me when I click on the item, I know because I use Debug.</p>\n\n<p><a href=\"https://i.stack.imgur.com/S7zyq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S7zyq.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This is in my main activity called <code>TabActivity.kt</code></p>\n\n<pre><code> override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n             menuInflater.inflate(R.menu.tab_menu, menu)\n\n         countButton = menu?.findItem(R.id.tab_list_button)\n         countButton?.setActionView(R.layout.tab_button)\n         var notif = countButton?.actionView as RelativeLayout\n         var tv: TextView = notif.findViewById(R.id.tabCount)\n         tv.text = TabInfo.count().toString()\n         countButton?.title = tv.text\n\n         return super.onCreateOptionsMenu(menu) }\n\noverride fun onOptionsItemSelected(item: MenuItem): Boolean {\n        when (item.itemId) {\n            R.id.forward_button -&gt; {\n                TabInfo.currentWebView().goForward()\n                refreshForwardButton()\n            }\n            R.id.reload_button -&gt; {\n                reloadCurrentTab()\n                return true\n            }\n            R.id.tab_list_button -&gt; {\n                val intent = Intent(this, TabListActivity::class.java)\n                startActivity(intent)\n                return true\n            }\n        }\n\n        return super.onOptionsItemSelected(item)\n    }\n</code></pre>\n\n<p>My menu is called <code>tab_menu.xml</code></p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;item android:id=\"@+id/forward_button\"\n          app:showAsAction=\"collapseActionView\"\n          android:title=\"@string/go_forward\"\n          android:icon=\"@drawable/ic_arrow_forward_black_24dp\" /&gt;\n\n    &lt;item android:id=\"@+id/reload_button\"\n          app:showAsAction=\"collapseActionView\"\n          android:title=\"@string/reload_page\"\n          android:icon=\"@drawable/ic_refresh_black_24dp\" /&gt;\n\n    &lt;item android:id=\"@+id/tab_list_button\"\n          app:showAsAction=\"always\"\n          android:title=\"@string/number_tabs\"\n          android:actionLayout=\"@layout/tab_button\"\n        /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>My layout is <code>tab_button.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"32sp\"\n    android:layout_height=\"32sp\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/img_button\"\n        android:layout_width=\"32dp\"\n        android:layout_height=\"32dp\"\n        android:src=\"@drawable/ic_check_box_outline_blank_black_24dp\"/&gt;\n\n\n    &lt;TextView\n        android:id=\"@+id/tabCount\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerVertical=\"true\"\n        android:textAlignment=\"center\"\n        android:textColor=\"?attr/textcolor\"\n        android:textSize=\"12sp\"\n        android:textStyle=\"bold\"\n        tools:text=\"1\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>I had it this way as I wrote it down here and it works for me, but it only shows me the counter and not the icon plus the counter.</p>\n\n<p><a href=\"https://i.stack.imgur.com/APpDI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/APpDI.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n            menuInflater.inflate(R.menu.tab_menu, menu)\n\n        countButton = menu?.findItem(R.id.tab_list_button)\n        countButton?.title = TabInfo.count().toString()  \n        countButton?.actionView?.\n            setBackgroundResource(R.drawable.ic_check_box_outline_blank_black_24dp)\n\n            return super.onCreateOptionsMenu(menu)\n    }\n</code></pre>\n\n<p>My English is not very good, excuse me.\nThanks</p>\n"}, {"tags": ["android", "kotlin", "dependency-injection", "dagger", "annotation-processing"], "answers": [{"tags": [], "owner": {"reputation": 4154, "user_id": 2390217, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c42289dabee917e679767208ae4c534?s=128&d=identicon&r=PG&f=1", "display_name": "Alireza A. Ahmadi", "link": "https://stackoverflow.com/users/2390217/alireza-a-ahmadi"}, "is_accepted": true, "score": 1, "last_activity_date": 1576234950, "creation_date": 1576234950, "answer_id": 59321246, "question_id": 59177611, "link": "https://stackoverflow.com/questions/59177611/java-lang-illegalargumentexception-kotlin-metadata-does-not-define-an-element/59321246#59321246", "title": "java.lang.IllegalArgumentException: @kotlin.Metadata does not define an element error when converting code from Java to Kotlin", "body": "<p>Solved! I was adding Kotlin standard library to the the module that uses the Kotlin but not in the module that was using this module. Adding the library to the main module as well solved the issue. </p>\n"}], "owner": {"reputation": 4154, "user_id": 2390217, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c42289dabee917e679767208ae4c534?s=128&d=identicon&r=PG&f=1", "display_name": "Alireza A. Ahmadi", "link": "https://stackoverflow.com/users/2390217/alireza-a-ahmadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 59321246, "answer_count": 1, "score": 0, "last_activity_date": 1576234950, "creation_date": 1575467550, "question_id": 59177611, "link": "https://stackoverflow.com/questions/59177611/java-lang-illegalargumentexception-kotlin-metadata-does-not-define-an-element", "title": "java.lang.IllegalArgumentException: @kotlin.Metadata does not define an element error when converting code from Java to Kotlin", "body": "<p>I'm trying to convert one class file in one of our modules in our application from java to Kotlin but I get this error message when trying to build. </p>\n\n<p>The line that causes this error is using dagger <code>@Inject</code> \nremoving <code>@Inject</code> will make the error go away. </p>\n\n<pre><code>* What went wrong:\nExecution failed for task 'processX86DebugAnnotationsWithJavac'.\n&gt; java.lang.IllegalArgumentException: @kotlin.Metadata does not define an element k()\n</code></pre>\n\n<p>Our main module that uses this module is written completely in Java and has no Kotlin related code in it. \n<p>\nAny suggestions?</p>\n"}, {"tags": ["sorting", "kotlin", "comparable"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1575466702, "post_id": 59177191, "comment_id": 104575896, "body": "Did you assign the result of <code>sortedWith()</code>: <code>myList = myList.sortedWith(...)</code>"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1575467351, "post_id": 59177191, "comment_id": 104576302, "body": "of course I did this :)"}, {"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1575467496, "post_id": 59177191, "comment_id": 104576377, "body": "what do you mean by saying &quot;them by number and then by string&quot;? How&#39;s different to sort them by string in the first place?"}], "answers": [{"comments": [{"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "reply_to_user": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575468053, "post_id": 59177500, "comment_id": 104576704, "body": "@CallMePedro I&#39;ve just tested it. It does work. Can you provide a list that isn&#39;t sorted correctly?"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575468259, "post_id": 59177500, "comment_id": 104576837, "body": "Oh my love! My bad that I had overwritten code deeper in the code.. My bad Sorry :)"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1575468326, "post_id": 59177500, "comment_id": 104576880, "body": "But what if I have 10 same ids? The code will not reach the .thenBy check? Is there a possibility to check a whole pair?"}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "reply_to_user": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 1, "creation_date": 1575468712, "post_id": 59177500, "comment_id": 104577151, "body": "@CallMePedro <code>.thenBy</code> check will be used when <code>id</code>s are the same. For example, the following assertation passes successfully: <code>listOf(Item(1, &quot;2&quot;), Item(1, &quot;1&quot;)).sortedWith(compareBy&lt;Item&gt; { it.name.id }.thenBy { it.name.secondname }) shouldBe listOf(Item(1, &quot;1&quot;), Item(1, &quot;2&quot;))</code>"}], "tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": true, "score": 2, "last_activity_date": 1575467201, "creation_date": 1575467201, "answer_id": 59177500, "question_id": 59177191, "link": "https://stackoverflow.com/questions/59177191/sorting-and-grouping-in-kotlin/59177500#59177500", "title": "Sorting and grouping in kotlin", "body": "<p><code>myList.sortedWith(compareBy&lt;Item&gt; {it.name.id }.thenBy{it.name.secondname})</code> returns a sorted <strong>copy</strong> of the list, but it doesn't modify the original one.</p>\n\n<p>If you want the original list to be modified, you can either use <code>sortWith</code> instead of <code>sortedWith</code>:</p>\n\n<pre><code>myList.sortWith(compareBy&lt;Item&gt; { it.name.id }.thenBy { it.name.secondname })\n</code></pre>\n\n<p>Or reassign <code>myList</code> variable:</p>\n\n<pre><code>myList = myList.sortedWith(compareBy&lt;Item&gt; { it.name.id }.thenBy { it.name.secondname })\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 59177500, "answer_count": 1, "score": -1, "last_activity_date": 1575537175, "creation_date": 1575466179, "last_edit_date": 1575537175, "question_id": 59177191, "link": "https://stackoverflow.com/questions/59177191/sorting-and-grouping-in-kotlin", "title": "Sorting and grouping in kotlin", "body": "<p>I have a list of objects in the kotlin and I want to sort them by number and then by string. Is there a way to do this? I've gone through hundreds of articles, but nothing works anywhere.</p>\n\n<p><code>myList.sortedWith(compareBy&lt;Item&gt; {it.name.id }.thenBy{it.name.secondname})</code>\nThis code do not works.</p>\n\n<p>Of course myList is a type of Item.</p>\n\n<p>Greetings</p>\n\n<p>@EDIT</p>\n\n<p>But what if I have 10 same ids? The code will not reach the .thenBy check. Is there a possibility to check a whole pair of fields?</p>\n"}, {"tags": ["android-studio", "kotlin", "scroll"], "answers": [{"comments": [{"owner": {"reputation": 2983, "user_id": 12478830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6wmNu.jpg?s=128&g=1", "display_name": "MMG", "link": "https://stackoverflow.com/users/12478830/mmg"}, "edited": false, "score": 0, "creation_date": 1575520963, "post_id": 59176700, "comment_id": 104596417, "body": "Thank for your answer but I think it does not solve my problem. I want my textview scroll itself before I pull up the screen"}], "tags": [], "owner": {"reputation": 2440, "user_id": 3469691, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kEjVo.png?s=128&g=1", "display_name": "Aman Shekhar", "link": "https://stackoverflow.com/users/3469691/aman-shekhar"}, "is_accepted": false, "score": 0, "last_activity_date": 1575464586, "creation_date": 1575464586, "answer_id": 59176700, "question_id": 59176226, "link": "https://stackoverflow.com/questions/59176226/how-to-make-a-automatic-scrolling-textview-in-android-studio/59176700#59176700", "title": "How to make a automatic scrolling textview in android studio?", "body": "<pre><code>android:maxLines = \"AN_INTEGER\"\n</code></pre>\n\n<p><code>android:scrollbars = \"vertical\"</code> this is the properties of your TextView in your layout's xml file.</p>\n\n<p>Then use:</p>\n\n<pre><code>yourTextView.setMovementMethod(new ScrollingMovementMethod());\n</code></pre>\n"}], "owner": {"reputation": 2983, "user_id": 12478830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6wmNu.jpg?s=128&g=1", "display_name": "MMG", "link": "https://stackoverflow.com/users/12478830/mmg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575464586, "creation_date": 1575462975, "question_id": 59176226, "link": "https://stackoverflow.com/questions/59176226/how-to-make-a-automatic-scrolling-textview-in-android-studio", "title": "How to make a automatic scrolling textview in android studio?", "body": "<p>I have two textviews that one of them is fixed and another one will be bigger and bigger. So I want a scrollable textview. I have a scrollable textview but my main problem is that when textview scrolls I should myself scroll up it to see its contents. I want my textview scrolls itself. How can I do that?</p>\n"}, {"tags": ["android", "arrays", "image", "kotlin", "fast-android-networking"], "comments": [{"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1575461121, "post_id": 59175612, "comment_id": 104572762, "body": "What are you exactly struggling with ?"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1575461179, "post_id": 59175612, "comment_id": 104572796, "body": ".addMultipartFile(&quot;image1&quot;, imagesFiles[]) here how to send array of images"}, {"owner": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1575461744, "post_id": 59175612, "comment_id": 104573127, "body": "<code>.addMultipartFileList(mMultiPartFileMap)</code>. Can&#39;t you use this ?"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1575461808, "post_id": 59175612, "comment_id": 104573161, "body": "then tell me how to handle this I am using the first time this library"}, {"owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "reply_to_user": {"reputation": 5219, "user_id": 4562287, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh4.googleusercontent.com/-q6oUlSeB8Xo/AAAAAAAAAAI/AAAAAAAAAFg/NB15_H7Q0eo/photo.jpg?sz=128", "display_name": "Vivek Mishra", "link": "https://stackoverflow.com/users/4562287/vivek-mishra"}, "edited": false, "score": 0, "creation_date": 1575461894, "post_id": 59175612, "comment_id": 104573199, "body": "image array is like this : [/storage/emulated/0/WhatsApp/Media/WhatsApp Images/IMG-20191204-WA0000.jpg, /storage/emulated/0/DCIM/Screenshots/Screenshot_2019-12-04-1&zwnj;&#8203;1-20-48-639_com.ateb&zwnj;&#8203;aana.patientapp.jpg]"}], "owner": {"reputation": 1443, "user_id": 9479181, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SEbjo0M5jZg/AAAAAAAAAAI/AAAAAAAAAzw/Nm-CksAV8Fk/photo.jpg?sz=128", "display_name": "bugfreerammohan", "link": "https://stackoverflow.com/users/9479181/bugfreerammohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 535, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575460961, "creation_date": 1575460961, "question_id": 59175612, "link": "https://stackoverflow.com/questions/59175612/how-to-send-multiple-images-to-backend-in-android-fast-networking-library", "title": "how to send Multiple Images to backend in Android Fast networking Library", "body": "<p>I am getting Struggle to send an array of images to backend API param here is my code :</p>\n\n<pre><code> var imagesFiles: ArrayList&lt;File&gt; = ArrayList()\n    val mMultiPartFileMap:HashMap&lt;String, ArrayList&lt;File&gt;&gt;  =  \n    HashMap&lt;String, \n    ArrayList&lt;File&gt;&gt;();\n  private fun callUpdateProfileApi() {\n    var sizeArray:Int=0\n    binding.progressBar.visibility=View.VISIBLE\n    var imageFileOne: File? = null\n    imagesFiles.clear()\n\n    if (selecteImageUri_1 != null) {\n        imagesFiles.add(File(getPath(selecteImageUri_1!!)))\n\n    }\n    if (selecteImageUri_2 != null) {\n        imagesFiles.add(File(getPath(selecteImageUri_2!!)))\n    }\n    if (selecteImageUri_3 != null) {\n        imagesFiles.add(File(getPath(selecteImageUri_3!!)))\n\n    }\n    if (selecteImageUri_4 != null) {\n        imagesFiles.add(File(getPath(selecteImageUri_4!!)))\n    }\n    if (selecteImageUri_5 != null) {\n        imagesFiles.add(File(getPath(selecteImageUri_5!!)))\n    }\n    if (selecteImageUri_6 != null) {\n        imagesFiles.add(File(getPath(selecteImageUri_6!!)))\n    }\n    if (selecteMainImageUri != null) {\n        imageFileOne = File(getPath(selecteMainImageUri!!))\n        sizeArray=imagesFiles.size+1\n    }else{\n        sizeArray=imagesFiles.size\n    }\n    mMultiPartFileMap.put(\"images[]\",imagesFiles)\n    AppLogger.e(\"images array\",\"====\"+imagesFiles.toString())\n\n    Log.d(\"@@imageAll\", imagesFiles.toString())\n\n    AndroidNetworking.upload(Constant.BASE_URL + \"app.php?api=editprofile\")\n        .addMultipartFile(\"image\", imageFileOne)\n\n\n      /*  .addMultipartFile(\"image1\", imagesFiles[0])\n        .addMultipartFile(\"image2\", imagesFiles[1])*/\n        .addMultipartParameter(\"userid\", usetId)\n        .addMultipartParameter(\"username\", binding.etName.text.toString())\n        .addMultipartParameter(\"image\", binding.etName.text.toString())\n        .addMultipartParameter(\"bio\", binding.etBio.text.toString())\n        /*.addMultipartParameter(\"education\", binding.etBio.text.toString())*/\n        .addMultipartParameter(\"dob\", binding.etDob.text.toString())\n        .addMultipartParameter(\"city\", binding.etHomeTown.text.toString())\n        .addMultipartParameter(\"fb_link\", binding.etFbLink.text.toString())\n //            .addMultipartParameter(\"image_size\",sizeArray.toString())\n        .addMultipartFileList(mMultiPartFileMap)\n        .setTag(\"editprofile\")\n        .setPriority(Priority.HIGH)\n        .build()\n        .getAsString(object : StringRequestListener {\n            override fun onResponse(response: String) {\n                AppLogger.e(\"MoodMatch response\", \"=====\" + response)\n\n                Log.d(\"@@image2\", response)\n\n\n                var gson: Gson = Gson()\n                var updateProfileModel = gson.fromJson(response, UpdateProfile::class.java)\n                if (updateProfileModel.error == false) {\n                    if (updateProfileModel.data != null) {\n                        MoodApplication.sharedPreference.getValueUserLogedIn()!!.data!!.image =\n                            updateProfileModel.data.image\n                    } else {\n                        AppLogger.toast(\"Something went wrong\")\n                    }\n                    AppLogger.toast(updateProfileModel.message)\n\n                } else {\n                    AppLogger.toast(updateProfileModel.message)\n                }\n                binding.progressBar.visibility=View.GONE\n            }\n\n            override fun onError(error: ANError) {\n                binding.progressBar.visibility=View.GONE\n                // handle error\n                AppLogger.toast(error.localizedMessage)\n                Log.e(\" MoodMatc honError\", \"=======\" + error.localizedMessage)\n            }\n        })\n}\n</code></pre>\n"}, {"tags": ["kotlin", "return", "higher-order-functions"], "comments": [{"owner": {"reputation": 2697, "user_id": 5292173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DHiE6.jpg?s=128&g=1", "display_name": "Grisgram", "link": "https://stackoverflow.com/users/5292173/grisgram"}, "edited": false, "score": 0, "creation_date": 1575460752, "post_id": 59175442, "comment_id": 104572553, "body": "You call a function&lt;<code>Unit</code>&gt; - shouldn&#39;t this be <code>Int</code>? Then return would be allowed. You currently return an integer to a <code>Unit</code>. Alternatively, as you explicitly want to use a unit-lambda, have you tried to return7@outer using a tag on the outer function?"}, {"owner": {"reputation": 3417, "user_id": 2030088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2b8b708df57dea3f1e2e533f4870126?s=128&d=identicon&r=PG", "display_name": "XDR", "link": "https://stackoverflow.com/users/2030088/xdr"}, "reply_to_user": {"reputation": 2697, "user_id": 5292173, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DHiE6.jpg?s=128&g=1", "display_name": "Grisgram", "link": "https://stackoverflow.com/users/5292173/grisgram"}, "edited": false, "score": 0, "creation_date": 1575462269, "post_id": 59175442, "comment_id": 104573416, "body": "<code>Function0&lt;Unit&gt;</code> is correct because the return in the argument lambda isn&#39;t a local return from the lambda; it&#39;s a non-local return that returns  from the enclosing function (e.g., <code>b()</code>, <code>d()</code>, etc.)  There is no error in <code>d()</code>, and <code>println(d())</code> correctly prints 3, if <code>f()</code>, <code>g()</code> &amp; <code>h()</code> (plus calls to them) are commented out"}], "owner": {"reputation": 3417, "user_id": 2030088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2b8b708df57dea3f1e2e533f4870126?s=128&d=identicon&r=PG", "display_name": "XDR", "link": "https://stackoverflow.com/users/2030088/xdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1575460464, "creation_date": 1575460464, "question_id": 59175442, "link": "https://stackoverflow.com/questions/59175442/kotlin-non-local-return-from-lambda-passed-as-interface-that-extends-kotlin-jvm", "title": "Kotlin non-local return from lambda passed as interface that extends `kotlin.jvm.functions.Function0`", "body": "<h1>TL;DR</h1>\n\n<p>In Kotlin 1.3.61 (or newer), is there any way to make a non-local return from a lambda that is passed as the argument for a function parameter whose type is an interface that extends <code>kotlin.jvm.functions.Function0&lt;Unit&gt;</code>?</p>\n\n<h1>Details</h1>\n\n<p>In the following Kotlin 1.3.61 code, I get compilation errors on the code lines after the comments that specify the errors.</p>\n\n<p>It looks like I cannot make a non-local return from an enclosing function if the return is in a lambda passed to an inline function that accepts an interface that extends <code>Function0&lt;Unit&gt;</code>.</p>\n\n<p>It works, however, if the receiving function accepts a <code>Function0&lt;Unit&gt;</code> (or a <code>() -&gt; Unit</code>) instead of the sub-interface.</p>\n\n<p>Is there any way to make a non-local return work from an interface that extends <code>Function0&lt;Unit&gt;</code>?</p>\n\n<p>If not, is this either a bug in the Kotlin compiler, or is this a feature that is not yet supported by Kotlin?</p>\n\n<p>If the latter, is there any existing request for enhancement?</p>\n\n<p>If no request exists, is this a feature that could / should be supported by Kotlin?</p>\n\n<pre><code>inline fun a(x: () -&gt; Unit) {\n    x()\n}\n\nfun b(): Int {\n    a {return 1}\n    return 2\n}\n\ninline fun c(x: Function0&lt;Unit&gt;) {\n    x()\n}\n\nfun d(): Int {\n    c {return 3}\n    return 4\n}\n\ninterface F: Function0&lt;Unit&gt;\n\ninline fun e(x: F) {\n    x()\n}\n\nfun f(): Int {\n    // ERROR\n    // 'return' is not allowed here\n    // Type mismatch: inferred type is () -&gt; [ERROR : Return not allowed] but F was expected\n    e {return 5}\n    return 6\n}\n\nfun g(): Int {\n    // ERRORS\n    // Interface F does not have constructors\n    // 'return' is not allowed here\n    e(F {return 7})\n    return 8\n}\n\nfun h(): Int {\n    // ERROR\n    // 'return' is not allowed here\n    e({return 9} as F)\n    return 0\n}\n\nprintln(b()) // properly prints 1 if code with errors is commented out\nprintln(d()) // properly prints 3 if code with errors is commented out\nprintln(f()) // should print 5\nprintln(g()) // should print 7\nprintln(h()) // should print 9\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-intent", "android-activity", "onbackpressed"], "comments": [{"owner": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1575460227, "post_id": 59175336, "comment_id": 104572294, "body": "Just close AA activity when you open next AA activity which means you have only MA-&gt;AA only"}, {"owner": {"reputation": 436, "user_id": 10005183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d9694d9419f3d80ec61d0ec2fa6661?s=128&d=identicon&r=PG&f=1", "display_name": "M&#39;aiq the Coder", "link": "https://stackoverflow.com/users/10005183/maiq-the-coder"}, "reply_to_user": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1575460463, "post_id": 59175336, "comment_id": 104572419, "body": "@Shane No, that is precisely what the client doesn&#39;t want. He wants to be able to go pack through each and every one of the AA activities ."}], "answers": [{"tags": [], "owner": {"reputation": 257, "user_id": 5933012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc65d4f3d2263f04245dc575a031d0fd?s=128&d=identicon&r=PG&f=1", "display_name": "NIKHIL MAURYA", "link": "https://stackoverflow.com/users/5933012/nikhil-maurya"}, "is_accepted": false, "score": 0, "last_activity_date": 1575460491, "creation_date": 1575460491, "answer_id": 59175457, "question_id": 59175336, "link": "https://stackoverflow.com/questions/59175336/android-how-to-close-one-activity-on-backpress-and-the-entire-backstack-on-anot/59175457#59175457", "title": "Android: How to close one activity on backpress and the entire backstack on another button press?", "body": "<p>You should call intent with <code>FLAG_ACTIVITY_CLEAR_TOP</code> flag to remove all other activities in the stack</p>\n"}, {"comments": [{"owner": {"reputation": 436, "user_id": 10005183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d9694d9419f3d80ec61d0ec2fa6661?s=128&d=identicon&r=PG&f=1", "display_name": "M&#39;aiq the Coder", "link": "https://stackoverflow.com/users/10005183/maiq-the-coder"}, "edited": false, "score": 0, "creation_date": 1575467494, "post_id": 59176990, "comment_id": 104576373, "body": "But isn&#39;t this a memory leak? Because you are basically starting MainActivity again on goHomeButton press? If you do that 10 times, won&#39;t you start 10 MainActivities on the top of eachother? Or that&#39;s exactly what those flags will prevent?"}, {"owner": {"reputation": 906, "user_id": 11739833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e73a01562a4b1d40005067e399a0ab5?s=128&d=identicon&r=PG&f=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/11739833/mohsen"}, "reply_to_user": {"reputation": 436, "user_id": 10005183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d9694d9419f3d80ec61d0ec2fa6661?s=128&d=identicon&r=PG&f=1", "display_name": "M&#39;aiq the Coder", "link": "https://stackoverflow.com/users/10005183/maiq-the-coder"}, "edited": false, "score": 0, "creation_date": 1575468122, "post_id": 59176990, "comment_id": 104576751, "body": "no, because you make MainActivity lunch mode singleInstance(in your manifest as I mentioned before) there will be always only one Instance of your activity"}, {"owner": {"reputation": 436, "user_id": 10005183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d9694d9419f3d80ec61d0ec2fa6661?s=128&d=identicon&r=PG&f=1", "display_name": "M&#39;aiq the Coder", "link": "https://stackoverflow.com/users/10005183/maiq-the-coder"}, "edited": false, "score": 0, "creation_date": 1575468197, "post_id": 59176990, "comment_id": 104576796, "body": "I will try this and give some feedback"}, {"owner": {"reputation": 906, "user_id": 11739833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e73a01562a4b1d40005067e399a0ab5?s=128&d=identicon&r=PG&f=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/11739833/mohsen"}, "reply_to_user": {"reputation": 436, "user_id": 10005183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d9694d9419f3d80ec61d0ec2fa6661?s=128&d=identicon&r=PG&f=1", "display_name": "M&#39;aiq the Coder", "link": "https://stackoverflow.com/users/10005183/maiq-the-coder"}, "edited": false, "score": 0, "creation_date": 1575468208, "post_id": 59176990, "comment_id": 104576807, "body": "android:launchMode=&quot;singleInstance&quot;"}], "tags": [], "owner": {"reputation": 906, "user_id": 11739833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e73a01562a4b1d40005067e399a0ab5?s=128&d=identicon&r=PG&f=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/11739833/mohsen"}, "is_accepted": true, "score": 1, "last_activity_date": 1575474889, "last_edit_date": 1575474889, "creation_date": 1575465519, "answer_id": 59176990, "question_id": 59175336, "link": "https://stackoverflow.com/questions/59175336/android-how-to-close-one-activity-on-backpress-and-the-entire-backstack-on-anot/59176990#59176990", "title": "Android: How to close one activity on backpress and the entire backstack on another button press?", "body": "<p>you can make a start function for your main activity and add required flags to Intent for clearing back stack and call that function in onClick of your button. also to avoid having multiple instances of MainActivity you should make its lunch mode <em>singleInstance</em> or <em>singleTop</em> in your manifest.for the start function you have multiple ways to implement.</p>\n\n<p><strong>first way</strong>: define a static method in your MainActivity like this\naddFlags part is to clear the back stack when you call MainActivity if it's not necessary you can remove it</p>\n\n<pre><code>companion object {\n        @JvmStatic\n        fun startActivity(context: Context) {\n            val intent = Intent(context, KYCActivity::class.java).apply {\n                addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP or \n                     Intent.FLAG_ACTIVITY_CLEAR_TASK or Intent.FLAG_ACTIVITY_NEW_TASK)\n            }\n            context.startActivity(intent)\n        }\n    }\n</code></pre>\n\n<p>and you can call it in your button click listener</p>\n\n<pre><code>gotoHomeButton.setOnClickListener {\n    MainActivity.startActivity(context)\n}\n</code></pre>\n\n<p><strong>second way</strong>: define a extention function for starting activities</p>\n\n<pre><code>inline fun &lt;reified T: Activity&gt; Context.startActivity() {\n    startActivity(Intent(this, T::class.java).apply {\n        addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_CLEAR_TASK or \n             Intent.FLAG_ACTIVITY_NEW_TASK)\n    })\n}\n</code></pre>\n\n<p>and then call the function like this</p>\n\n<pre><code>gotoHomeButton.setOnClickListener {\n    startActivity&lt;MainActivity&gt;()\n}\n</code></pre>\n\n<p>it's not necessary to define these functions, you can just make a new instance of Intent in your buttons onClick but I like it this way.</p>\n\n<p><strong>UPDATE FROM OP</strong></p>\n\n<p>It apparently was as easy as adding (Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_SINGLE_TOP) flags to the AA activity on the Intent in button click. No need to add anything in manifest. </p>\n"}], "owner": {"reputation": 436, "user_id": 10005183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d9694d9419f3d80ec61d0ec2fa6661?s=128&d=identicon&r=PG&f=1", "display_name": "M&#39;aiq the Coder", "link": "https://stackoverflow.com/users/10005183/maiq-the-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1575466086, "accepted_answer_id": 59176990, "answer_count": 2, "score": 0, "last_activity_date": 1575474889, "creation_date": 1575460049, "question_id": 59175336, "link": "https://stackoverflow.com/questions/59175336/android-how-to-close-one-activity-on-backpress-and-the-entire-backstack-on-anot", "closed_reason": "Duplicate", "title": "Android: How to close one activity on backpress and the entire backstack on another button press?", "body": "<p>I have this scenario where I have a Main Activity and an Article Activity. The Main Activity opens an Article Activity, then if you click on a related article from the Article Activity, it opens the same activity again with the requested related article. So basically you can open 10 Article Activities on the top of each other and go back through every single one of them onBackPress() until you reach the Main Activity again. But the client also want a button that should send you directly back to the Main Activity without having to cycle through the entire BackStack again. </p>\n\n<ul>\n<li>Basically we have MA -> AA ->  AA ->  AA -> (...). </li>\n<li>On Back Press you should go back like MA &lt;- AA &lt;-  AA &lt;- AA sequentially through every new instance.</li>\n<li>On Close All button press you should close all AA instances and go back straight to MA.</li>\n</ul>\n\n<p>P.S. I don't want to lose the instance of MA. It should always be there in the backstack as the starting point. </p>\n\n<p>How do I do this?</p>\n"}, {"tags": ["android", "kotlin", "imageview"], "comments": [{"owner": {"reputation": 1257, "user_id": 7454155, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1998741250353293/picture?type=large", "display_name": "Raj Suvariya", "link": "https://stackoverflow.com/users/7454155/raj-suvariya"}, "edited": false, "score": 2, "creation_date": 1575454660, "post_id": 59173594, "comment_id": 104569358, "body": "It must be because of the app bar elevation. You can add elevation more than the app bar on your imageview"}, {"owner": {"reputation": 2029, "user_id": 6552016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf30872c5ab2ff01a02ea2da74830232?s=128&d=identicon&r=PG&f=1", "display_name": "Rub&#233;n Viguera", "link": "https://stackoverflow.com/users/6552016/rub%c3%a9n-viguera"}, "edited": false, "score": 0, "creation_date": 1575454823, "post_id": 59173594, "comment_id": 104569456, "body": "Show as more code of your layout. It looks like your image view is placed to be below AppBar"}, {"owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "edited": false, "score": 1, "creation_date": 1575454918, "post_id": 59173594, "comment_id": 104569504, "body": "yes, thank you. I just add elevation and I get what I want"}, {"owner": {"reputation": 1257, "user_id": 7454155, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1998741250353293/picture?type=large", "display_name": "Raj Suvariya", "link": "https://stackoverflow.com/users/7454155/raj-suvariya"}, "edited": false, "score": 0, "creation_date": 1575459271, "post_id": 59173594, "comment_id": 104571770, "body": "@Lina kindly accept the answer so that it can be helpful for others"}], "answers": [{"tags": [], "owner": {"reputation": 544, "user_id": 4486387, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh5.googleusercontent.com/-N2cAsP6aLEs/AAAAAAAAAAI/AAAAAAAAAEY/G6ZInEISIqs/photo.jpg?sz=128", "display_name": "Pawan kumar sharma", "link": "https://stackoverflow.com/users/4486387/pawan-kumar-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1575454841, "creation_date": 1575454841, "answer_id": 59173719, "question_id": 59173594, "link": "https://stackoverflow.com/questions/59173594/circularimageview-show-only-a-half-imageview/59173719#59173719", "title": "CircularImageView show only a half ImageView", "body": "<p>Just put \"translationZ\" property in your imageview. so image view comes in front</p>\n"}, {"tags": [], "owner": {"reputation": 1257, "user_id": 7454155, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1998741250353293/picture?type=large", "display_name": "Raj Suvariya", "link": "https://stackoverflow.com/users/7454155/raj-suvariya"}, "is_accepted": true, "score": 1, "last_activity_date": 1575455624, "creation_date": 1575455624, "answer_id": 59173952, "question_id": 59173594, "link": "https://stackoverflow.com/questions/59173594/circularimageview-show-only-a-half-imageview/59173952#59173952", "title": "CircularImageView show only a half ImageView", "body": "<p>The app bar by default has an elevation of 8 dp. So if you are adding any views overlapping with them without adding elevation then they will stay hidden behind the app bar. You need to add elevation more then 8dp on your imageview like below</p>\n\n<pre><code>&lt;com.mikhaellopez.circularimageview.CircularImageView\n        android:id=\"@+id/userImage\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"100dp\"\n        android:layout_marginStart=\"133dp\"\n        android:layout_marginTop=\"135dp\"\n        android:layout_marginEnd=\"134dp\"\n        android:layout_marginBottom=\"14dp\"\n        android:src=\"@drawable/userprofil\"\n        android:elevation=\"10dp\" // Add this line\n        app:civ_border=\"true\"\n        app:civ_border_width=\"2dp\"\n        app:civ_shadow=\"true\"\n        app:civ_shadow_radius=\"0\"\n        app:layout_anchor=\"@id/app_bar_layout\"\n        app:layout_anchorGravity=\"bottom|center\"\n        app:layout_constraintBottom_toTopOf=\"@+id/textViewUserName\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/app_bar_layout\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 59173952, "answer_count": 2, "score": 0, "last_activity_date": 1575455624, "creation_date": 1575454431, "question_id": 59173594, "link": "https://stackoverflow.com/questions/59173594/circularimageview-show-only-a-half-imageview", "title": "CircularImageView show only a half ImageView", "body": "<p>In my Android app with kotlin, I want to display a user image in the middle AppBar.\nThe following code is For circular Image : </p>\n\n<pre><code>&lt;com.mikhaellopez.circularimageview.CircularImageView\n        android:id=\"@+id/userImage\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"100dp\"\n        android:layout_marginStart=\"133dp\"\n        android:layout_marginTop=\"135dp\"\n        android:layout_marginEnd=\"134dp\"\n        android:layout_marginBottom=\"14dp\"\n        android:src=\"@drawable/userprofil\"\n        app:civ_border=\"true\"\n        app:civ_border_width=\"2dp\"\n        app:civ_shadow=\"true\"\n        app:civ_shadow_radius=\"0\"\n        app:layout_anchor=\"@id/app_bar_layout\"\n        app:layout_anchorGravity=\"bottom|center\"\n        app:layout_constraintBottom_toTopOf=\"@+id/textViewUserName\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/app_bar_layout\" /&gt;\n</code></pre>\n\n<p>I want a result like this :<a href=\"https://i.stack.imgur.com/F079U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F079U.png\" alt=\"enter image description here\"></a></p>\n\n<p>But, I get the following result :<a href=\"https://i.stack.imgur.com/4pcNw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4pcNw.png\" alt=\"enter image description here\"></a>\nWhat should I change to get the result </p>\n"}, {"tags": ["hibernate", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1575456119, "creation_date": 1575456119, "answer_id": 59174092, "question_id": 59173537, "link": "https://stackoverflow.com/questions/59173537/annotation-with-transactional-of-crudrepositorys-methods/59174092#59174092", "title": "Annotation with Transactional of CrudRepository&#39;s methods", "body": "<p>The base repository is annotated with <code>@Transactional(readOnly = true)</code></p>\n\n<p>From the docs:</p>\n\n<blockquote>\n  <p>You can use transactions for read-only queries and mark them as such\n  by setting the readOnly flag. Doing so does not, however, act as a\n  check that you do not trigger a manipulating query (although some\n  databases reject INSERT and UPDATE statements inside a read-only\n  transaction). The readOnly flag is instead propagated as a hint to the\n  underlying JDBC driver for performance optimizations. Furthermore,\n  Spring performs some optimizations on the underlying JPA provider. For\n  example, when used with Hibernate, the flush mode is set to NEVER when\n  you configure a transaction as readOnly, which causes Hibernate to\n  skip dirty checks (a noticeable improvement on large object trees).</p>\n</blockquote>\n\n<p>There for you must annoated modifying queries with <code>@Transactional</code></p>\n\n<p>Please find more information in the docs:</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#transactions</a></p>\n"}, {"tags": [], "owner": {"reputation": 63741, "user_id": 339637, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/de36dc10cb82f3992d3d0ed0bc18199c?s=128&d=identicon&r=PG", "display_name": "Ken Chan", "link": "https://stackoverflow.com/users/339637/ken-chan"}, "is_accepted": false, "score": 0, "last_activity_date": 1575457104, "last_edit_date": 1575457104, "creation_date": 1575456653, "answer_id": 59174260, "question_id": 59173537, "link": "https://stackoverflow.com/questions/59173537/annotation-with-transactional-of-crudrepositorys-methods/59174260#59174260", "title": "Annotation with Transactional of CrudRepository&#39;s methods", "body": "<p>AFAIK , if you turn off auto-commit (which you <a href=\"https://dba.stackexchange.com/a/43256/25720\">should</a> especially for update , delete or insert) , you have to explicitly declare when to start and commit the transaction. Annotating <code>@Transactional</code> on a method allows you to do it declaratively (i.e. transaction starts before running that method and commit after the method return successfully)</p>\n\n<p>I believe if the changes can still be applied to database without annotating with <code>@Transactional</code>, most probably auto-commit is turned on.</p>\n\n<p>In other words , if auto-commit is turned off and a method is not annotated with <code>@Transactional</code> , the changes made inside a method will not take effect to the database since the transaction is not committed yet.</p>\n"}], "owner": {"reputation": 3815, "user_id": 5382150, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GwGSL.png?s=128&g=1", "display_name": "Gilgamesz", "link": "https://stackoverflow.com/users/5382150/gilgamesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575457104, "creation_date": 1575454259, "question_id": 59173537, "link": "https://stackoverflow.com/questions/59173537/annotation-with-transactional-of-crudrepositorys-methods", "title": "Annotation with Transactional of CrudRepository&#39;s methods", "body": "<pre><code>interface EntityRepository : CrudRepository&lt;Entity, String&gt; {\n\n    @Transactional\n    fun deleteById(id: String)\n}\n</code></pre>\n\n<p>Hello,</p>\n\n<p>what is the point of annotation of single <code>SQL statement</code> here? After all, AFAIK, single statements are transactions in from <code>RDBMS</code> point of view. Therefore, what is the purpose to annotate that?</p>\n"}, {"tags": ["string", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1141, "user_id": 1859744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a568c533bce0b4e7c0f18e303946d0f?s=128&d=identicon&r=PG", "display_name": "harmonica141", "link": "https://stackoverflow.com/users/1859744/harmonica141"}, "edited": false, "score": 0, "creation_date": 1575455597, "post_id": 59173440, "comment_id": 104569888, "body": "Welcome to SO. Please read up on how to ask a good question here <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and then provide some information on what you have tried already and what your code looks like."}], "answers": [{"comments": [{"owner": {"reputation": 2983, "user_id": 12478830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6wmNu.jpg?s=128&g=1", "display_name": "MMG", "link": "https://stackoverflow.com/users/12478830/mmg"}, "edited": false, "score": 0, "creation_date": 1575462091, "post_id": 59174750, "comment_id": 104573313, "body": "It is good, but it is not my answer. I mean what should I do to separate words without putting space. For example when I have 123+365+4785+9812 in a string, if it is greater than screen width I will see for example                              123+365+4785+98                                                                                                        12 (12 in next line of screen)  meanwhile 9812 is one number and should be seen together in screen."}], "tags": [], "owner": {"reputation": 204, "user_id": 12010124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3561293881944b392b684bf9dc4096ca?s=128&d=identicon&r=PG&f=1", "display_name": "PhillauSofia", "link": "https://stackoverflow.com/users/12010124/phillausofia"}, "is_accepted": false, "score": 0, "last_activity_date": 1575458154, "creation_date": 1575458154, "answer_id": 59174750, "question_id": 59173440, "link": "https://stackoverflow.com/questions/59173440/how-to-make-words-separate-without-space-in-android-studio/59174750#59174750", "title": "How to make words separate without space in android studio", "body": "<p>You can use the triple quote(\"\"\") option in Kotlin. It's good for specifying exactly how you want the text to look. This code:</p>\n\n<pre><code>val string = \"\"\"\nMultiple\nline string\n\"\"\"\nprintln(string)\n</code></pre>\n\n<p>Will show:</p>\n\n<pre><code>Multiple \nline string\n</code></pre>\n"}], "owner": {"reputation": 2983, "user_id": 12478830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6wmNu.jpg?s=128&g=1", "display_name": "MMG", "link": "https://stackoverflow.com/users/12478830/mmg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575458154, "creation_date": 1575453966, "question_id": 59173440, "link": "https://stackoverflow.com/questions/59173440/how-to-make-words-separate-without-space-in-android-studio", "title": "How to make words separate without space in android studio", "body": "<p>I have different numbers and calculation signs in a string format text in android studio. I want my numbers show correctly but if I do not put space before signs my numbers are shown separately when text get to end of lines. If I put space, so I will have redundant spaces in my screen. What should I do to have correct shown numbers and not to have redundant spaces?! My program is in Kotlin language. </p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "is_accepted": true, "score": 8, "last_activity_date": 1575453248, "creation_date": 1575453248, "answer_id": 59173189, "question_id": 59173101, "link": "https://stackoverflow.com/questions/59173101/refactor-for-optimal-kotlin/59173189#59173189", "title": "Refactor for optimal Kotlin", "body": "<p>If elegance is your main concern here, then you could write it this way.</p>\n\n<pre><code>worker.name = networker.name ?: worker.name\nworker.lastName = networker.lastName ?: worker.lastName\nworker.phone = networker.phone ?: worker.phone\nworker.email = networker.email ?: worker.email\n</code></pre>\n\n<p>This acheives the same result as your code (copy values from networker to worker, except nulls), but I think it looks nicer.</p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 12299287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iDqBt.png?s=128&g=1", "display_name": "CryptoCode", "link": "https://stackoverflow.com/users/12299287/cryptocode"}, "edited": false, "score": 0, "creation_date": 1575455774, "post_id": 59173302, "comment_id": 104569987, "body": "I am comparing the two classes because the one might have changed, it is as important to see if it changed as it is to see if the new field is null  <b>Background:</b> I am getting the changed (or not) class from a spring/thymeleaf HTML with a doAjaxPost() or js script but the fields not in the HTML form get set to null and overwrite the data set when I persist it, with my test above I copy only the changed data after testing for change and null to the original data then persist it to preserve the other fields not used in the HTML. I guess you are correct the change test is not needed."}], "tags": [], "owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1575453558, "creation_date": 1575453558, "answer_id": 59173302, "question_id": 59173101, "link": "https://stackoverflow.com/questions/59173101/refactor-for-optimal-kotlin/59173302#59173302", "title": "Refactor for optimal Kotlin", "body": "<p>Since following conditional assignment is pointless</p>\n\n<pre><code>if (X != Y) {\n    Y = X\n}\n</code></pre>\n\n<p>as without this check the result of assignment would be same, you can omit it and only keep null-check via <code>.let {}</code> </p>\n\n<pre><code>networker.name?.let { worker.name = it }\nnetworker.lastName?.let { worker.lastName = it }\nnetworker.phone?.let { worker.phone = it }\nnetworker.email?.let { worker.email = it }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 12299287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iDqBt.png?s=128&g=1", "display_name": "CryptoCode", "link": "https://stackoverflow.com/users/12299287/cryptocode"}, "edited": false, "score": 0, "creation_date": 1575496816, "post_id": 59175251, "comment_id": 104590771, "body": "Interesting Idea, I like to do it but have not enough experience to implement it yet, Can you point me to sample/lesson some ware"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1575459782, "creation_date": 1575459782, "answer_id": 59175251, "question_id": 59173101, "link": "https://stackoverflow.com/questions/59173101/refactor-for-optimal-kotlin/59175251#59175251", "title": "Refactor for optimal Kotlin", "body": "<p>In addition to the low-level improvements addressed in other answers, I'd also consider <em>where</em> you put this code.</p>\n\n<p>Since all these lines are accomplishing a single task \u2014 updating one object from another \u2014 it would make sense to bundle them into a function; not only does that clearly associate them, it also lets you give them a descriptive name.</p>\n\n<p>The obvious place for that would be inside the data class itself; perhaps a method called <code>updateFrom(other: Networker)</code> which updates the object it's called on.\u00a0 That would make it obvious to the caller which object was being mutated.</p>\n\n<p>Sometimes you want to keep data classes as simple data holders, though, or don't have control over them.\u00a0 In that case, it could be an extension function.</p>\n"}], "owner": {"reputation": 9, "user_id": 12299287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iDqBt.png?s=128&g=1", "display_name": "CryptoCode", "link": "https://stackoverflow.com/users/12299287/cryptocode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 59173189, "answer_count": 3, "score": 0, "last_activity_date": 1575459782, "creation_date": 1575452975, "last_edit_date": 1575458475, "question_id": 59173101, "link": "https://stackoverflow.com/questions/59173101/refactor-for-optimal-kotlin", "title": "Refactor for optimal Kotlin", "body": "<p>I have this piece of validation code and do not think its in the spirit of good Kotlin,</p>\n\n<p>In this code I compare to Data Classes content <strong>networker: Networker</strong> and <strong>worker: Networker</strong></p>\n\n<pre><code>    if (networker.name != worker.name &amp;&amp; networker.name != null) {\n        worker.name = networker.name\n    }\n    if (networker.lastName != worker.lastName &amp;&amp; networker.lastName != null) {\n        worker.lastName = networker.lastName\n    }\n    if (networker.phone != worker.phone &amp;&amp; networker.phone != null) {\n        worker.phone = networker.phone\n    }\n    if (networker.email != worker.email &amp;&amp; networker.email != null) {\n        worker.email = networker.email\n    }\n</code></pre>\n\n<p>How can I improve this with better &amp; more elegant Kotlin code please</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11114, "user_id": 1712135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cErYR.png?s=128&g=1", "display_name": "deHaar", "link": "https://stackoverflow.com/users/1712135/dehaar"}, "edited": false, "score": 1, "creation_date": 1575452235, "post_id": 59172782, "comment_id": 104567903, "body": "Show your class (example), please... But here&#39;s a hint: Java != Kotlin \u2014 you have to get used to new languages..."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 1, "creation_date": 1575452461, "post_id": 59172782, "comment_id": 104568015, "body": "every class without a constructor has an empty default constructor without need of writing it. What is your point."}, {"owner": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "edited": false, "score": 0, "creation_date": 1575453095, "post_id": 59172782, "comment_id": 104568394, "body": "Goto code use alt + insert and create Secondary Constructor"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5580752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e76acfce82a0364735a0559e1458f2?s=128&d=identicon&r=PG&f=1", "display_name": "Yogesh Nevse", "link": "https://stackoverflow.com/users/5580752/yogesh-nevse"}, "is_accepted": false, "score": 0, "last_activity_date": 1575452834, "creation_date": 1575452834, "answer_id": 59173051, "question_id": 59172782, "link": "https://stackoverflow.com/questions/59172782/auto-generated-constructor-kotlin/59173051#59173051", "title": "auto generated constructor Kotlin", "body": "<p>You can able to see this in android studio. \nGo to Android studio -> Code >> Generate >> click on <strong>Secondary Constructor</strong>  </p>\n"}, {"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1575573688, "creation_date": 1575573688, "answer_id": 59201985, "question_id": 59172782, "link": "https://stackoverflow.com/questions/59172782/auto-generated-constructor-kotlin/59201985#59201985", "title": "auto generated constructor Kotlin", "body": "<p>Your Kotlin code currently looks like this:</p>\n\n<blockquote>\n<pre><code>class Weapon(type: String, damage: Int) {\n    ...\n}\n</code></pre>\n</blockquote>\n\n<p>Everything inside the parentheses following the class name <strong>is</strong> your constructor. You already have a constructor, so there's no need to \"generate\" anything!</p>\n\n<p>If you want to be able to retain these constructor arguments as properties, prepend the <code>val</code> or <code>var</code> keyword to them:</p>\n\n<pre><code>class Weapon(val type: String, val damage: Int) {\n    ...\n}\n</code></pre>\n\n<p>Note that you can <strong>optionally</strong> use the <code>constructor</code> keyword to make it very explicit:</p>\n\n<pre><code>class Weapon constructor(val type: String, val damage: Int)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9854304, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HPrUuAYgbkU/AAAAAAAAAAI/AAAAAAAAAo8/wCC_aR-FB6A/photo.jpg?sz=128", "display_name": "Kiril432", "link": "https://stackoverflow.com/users/9854304/kiril432"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 59201985, "answer_count": 2, "score": 0, "last_activity_date": 1575573688, "creation_date": 1575452024, "question_id": 59172782, "link": "https://stackoverflow.com/questions/59172782/auto-generated-constructor-kotlin", "title": "auto generated constructor Kotlin", "body": "<p>I am not seeing the auto generate constructor option in android studio with Kotlin . With Java I was used to make auto generate constructor to all fields .\nIs there an option for this in Kotlin ?\nThanks .</p>\n"}, {"tags": ["android", "object", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2029, "user_id": 6552016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf30872c5ab2ff01a02ea2da74830232?s=128&d=identicon&r=PG&f=1", "display_name": "Rub&#233;n Viguera", "link": "https://stackoverflow.com/users/6552016/rub%c3%a9n-viguera"}, "is_accepted": false, "score": 2, "last_activity_date": 1575450654, "creation_date": 1575450654, "answer_id": 59172414, "question_id": 59172231, "link": "https://stackoverflow.com/questions/59172231/access-a-variable-outside-of-an-anonymously-implemented-interface-in-kotlin-usi/59172414#59172414", "title": "Access a variable outside of an anonymously implemented interface in Kotlin (using Object)", "body": "<p>When you use this on an anonymous class in kotlin you refer to the actual class you are implementing, CashAdapter in this case:</p>\n\n<pre><code>this.startActivityForResult(intent, NEW_ACTIVITY_REQUEST_CODE, null)\n</code></pre>\n\n<p>Just use the following to tell kotlin that this clause refers to MainActivity and not your anonymous object of CashAdapter:</p>\n\n<pre><code>this@MainActivity.startActivityForResult(intent, NEW_ACTIVITY_REQUEST_CODE, null)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "edited": false, "score": 0, "creation_date": 1575459188, "post_id": 59172471, "comment_id": 104571725, "body": "private val action: CashAdapter.ClickedListener = CashAdapter.ClickedListener{ override fun onItemClick(cash: Cash) { ... } }"}, {"owner": {"reputation": 510, "user_id": 4837881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WViro.jpg?s=128&g=1", "display_name": "a23sokolov", "link": "https://stackoverflow.com/users/4837881/a23sokolov"}, "reply_to_user": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "edited": false, "score": 0, "creation_date": 1575521225, "post_id": 59172471, "comment_id": 104596494, "body": "Is it correct solution or I should change something?"}, {"owner": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "edited": false, "score": 0, "creation_date": 1575776391, "post_id": 59172471, "comment_id": 104677341, "body": "yes please. check my edits on your answer and it should still there pending for approval"}, {"owner": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "edited": false, "score": 0, "creation_date": 1578898362, "post_id": 59172471, "comment_id": 105574842, "body": "Please be note that without <code>object</code> keyword, it is a syntax error as it is not a class but interface, interface implementation in kotlin require <code>object : InterfaceName { ... }</code>"}], "tags": [], "owner": {"reputation": 510, "user_id": 4837881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WViro.jpg?s=128&g=1", "display_name": "a23sokolov", "link": "https://stackoverflow.com/users/4837881/a23sokolov"}, "is_accepted": false, "score": 0, "last_activity_date": 1578976936, "last_edit_date": 1578976936, "creation_date": 1575450839, "answer_id": 59172471, "question_id": 59172231, "link": "https://stackoverflow.com/questions/59172231/access-a-variable-outside-of-an-anonymously-implemented-interface-in-kotlin-usi/59172471#59172471", "title": "Access a variable outside of an anonymously implemented interface in Kotlin (using Object)", "body": "<p>If you change on this all will be Ok.</p>\n\n<pre><code>private val action = object: CashAdapter.ClickedListener{\n    override fun onItemClick(cash: Cash) {\n        goToNextActivity()\n    }\n}\n</code></pre>\n\n<p><code>object action: CashAdapter.ClickedListener</code> it's like <code>static CashAdapter.ClickedListener action</code>. As a result when you call goToNextActivity() in static method, it doesn't have reference on Instance of MainActivity.</p>\n"}], "owner": {"reputation": 691, "user_id": 5802100, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a4eae6113e5f4598ab30f500c68bf784?s=128&d=identicon&r=PG", "display_name": "elliotching", "link": "https://stackoverflow.com/users/5802100/elliotching"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1578976936, "creation_date": 1575449903, "question_id": 59172231, "link": "https://stackoverflow.com/questions/59172231/access-a-variable-outside-of-an-anonymously-implemented-interface-in-kotlin-usi", "title": "Access a variable outside of an anonymously implemented interface in Kotlin (using Object)", "body": "<p>I've confused my life in fixing this.<br>In short, I cannot access Context in outside of anonymous Kotlin <code>object</code>.<br></p>\n\n<p><strong>First, I got this plain basic recycler view adapter stuff.</strong></p>\n\n<pre><code>class CashAdapter(private val cashList: List&lt;Cash&gt;, private val clickedAction: ClickedListener) : RecyclerView.Adapter&lt;CashViewHolder&gt;() {\n\n    interface ClickedListener {\n        fun onItemClick(cash: Cash)\n    }\n\n    // the rest of plain basic recycler view adapter stuff\n}\n</code></pre>\n\n<p><strong>Then, I got a plain basic Activity in using the adapter as following:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    internal val context: Context = this\n    private val cashList: MutableList&lt;Cash&gt; = ArrayList()\n    private lateinit var recyclerView: RecyclerView\n    private lateinit var mAdapter: CashAdapter\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val binding =\n            DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this, R.layout.activity_main)\n        recyclerView = binding.rvCash\n        mAdapter = CashAdapter(cashList, object: CashAdapter.ClickedListener{\n            override fun onItemClick(cash: Cash) {\n                val intent = Intent(context, NewActivity::class.java) // context &lt;-- is NOT ACCESSIBLE because of the context is OUTSIDE of 'object'\n                this.startActivityForResult(intent, NEW_ACTIVITY_REQUEST_CODE, null)\n            }\n        })\n        val mLayoutManager: RecyclerView.LayoutManager = LinearLayoutManager(applicationContext)\n        recyclerView.setLayoutManager(mLayoutManager)\n        recyclerView.setItemAnimator(DefaultItemAnimator())\n        recyclerView.setAdapter(mAdapter)\n        prepareCashData()\n    }\n}\n</code></pre>\n\n<h2><strong>So I'm stuck at here. Anything outside of <code>object</code> is inaccessible and I'm pretty sure this is absolutely no problem with plain old JAVA</strong></h2>\n\n<pre><code>mAdapter = CashAdapter(cashList, new CashAdapter.ClickedListener(){\n    void onItemClick(cash: Cash) {\n        Intent intent = Intent(context, NewActivity.class)\n        this.startActivityForResult(intent, NEW_ACTIVITY_REQUEST_CODE, null)\n    }\n})\n</code></pre>\n\n<p><strong>to prove that I did tried something</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    internal val context: Context = this\n    private val cashList: MutableList&lt;Cash&gt; = ArrayList()\n    private lateinit var recyclerView: RecyclerView\n    private lateinit var mAdapter: CashAdapter\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val binding =\n            DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this, R.layout.activity_main)\n        recyclerView = binding.rvMovies\n        mAdapter = CashAdapter(cashList, action)\n        val mLayoutManager: RecyclerView.LayoutManager = LinearLayoutManager(applicationContext)\n        recyclerView.setLayoutManager(mLayoutManager)\n        recyclerView.setItemAnimator(DefaultItemAnimator())\n        recyclerView.setAdapter(mAdapter)\n        prepareMovieData()\n    }\n\n    private fun goToNextActivity() {\n        val intent = Intent(context, NewActivity::class.java)\n        this.startActivityForResult(intent, NEW_ACTIVITY_REQUEST_CODE, null)\n    }\n\n    object action: CashAdapter.ClickedListener{\n        override fun onItemClick(cash: Cash) {\n            goToNextActivity() // &lt;-- CANNOT FIND THIS METHOD\n        }\n    }\n}\n</code></pre>\n\n<p><strong>I've confused my life at this point.</strong></p>\n\n<p><strong>Ended up I implemented in top-level class as:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity(), CashAdapter.ClickedListener {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        // ...\n        mAdapter = CashAdapter(cashList, this)\n        // ...\n    }\n    override fun onItemClick(cash: Cash) {\n        val intent = Intent(context, NewActivity::class.java)\n        this.startActivityForResult(intent, NEW_ACTIVITY_REQUEST_CODE, null)\n    }\n}\n</code></pre>\n\n<p><strong>Yes, This works.</strong></p>\n\n<p><strong>But what I want to know is about the case of anonymous implementation. What is the exact solution for that? Thanks for reading</strong></p>\n"}, {"tags": ["android", "kotlin", "mvvm", "android-databinding"], "comments": [{"owner": {"reputation": 860, "user_id": 2048060, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e1d5df41134fb6497c5555bbd81c2835?s=128&d=identicon&r=PG", "display_name": "gts13", "link": "https://stackoverflow.com/users/2048060/gts13"}, "edited": false, "score": 0, "creation_date": 1575450273, "post_id": 59172219, "comment_id": 104566865, "body": "did you check the documentation?  <a href=\"https://developer.android.com/topic/libraries/data-binding/two-way\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/data-binding/two-way</a>"}, {"owner": {"reputation": 131, "user_id": 12389636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7449f71b7726e3667197461f27fd3e05?s=128&d=identicon&r=PG&f=1", "display_name": "Aseem Salim", "link": "https://stackoverflow.com/users/12389636/aseem-salim"}, "reply_to_user": {"reputation": 860, "user_id": 2048060, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e1d5df41134fb6497c5555bbd81c2835?s=128&d=identicon&r=PG", "display_name": "gts13", "link": "https://stackoverflow.com/users/2048060/gts13"}, "edited": false, "score": 0, "creation_date": 1575450793, "post_id": 59172219, "comment_id": 104567125, "body": "here i am extending the class to ViewModel()"}, {"owner": {"reputation": 1017, "user_id": 8663811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJk1V.jpg?s=128&g=1", "display_name": "frankenstein", "link": "https://stackoverflow.com/users/8663811/frankenstein"}, "edited": false, "score": 0, "creation_date": 1575453648, "post_id": 59172219, "comment_id": 104568743, "body": "What do you mean reverse binding? . 1st you getting name from UI now you want to set name to UI is that it ?"}, {"owner": {"reputation": 131, "user_id": 12389636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7449f71b7726e3667197461f27fd3e05?s=128&d=identicon&r=PG&f=1", "display_name": "Aseem Salim", "link": "https://stackoverflow.com/users/12389636/aseem-salim"}, "edited": false, "score": 0, "creation_date": 1575457289, "post_id": 59172219, "comment_id": 104570799, "body": "solved the issue by using MutableLiveData&lt;String&gt; instead of String"}], "owner": {"reputation": 131, "user_id": 12389636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7449f71b7726e3667197461f27fd3e05?s=128&d=identicon&r=PG&f=1", "display_name": "Aseem Salim", "link": "https://stackoverflow.com/users/12389636/aseem-salim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575450649, "creation_date": 1575449858, "last_edit_date": 1575450649, "question_id": 59172219, "link": "https://stackoverflow.com/questions/59172219/reverse-data-binding-android-kotlin", "title": "Reverse Data binding android kotlin", "body": "<pre><code>&lt;EditText\n    android:text=\"@={signUpViewModel.name}\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"8dp\"\n    android:hint=\"Name\"\n    android:inputType=\"textPersonName\"\n    android:id=\"@+id/signUpName\"/&gt;\n</code></pre>\n\n<p>this is my view model</p>\n\n<pre><code>class MyViewModel : ViewModel() {\n       var name: String? = null\n\n       fun setNameToUi(newName: String?){\n            name = newName\n       }   \n}\n</code></pre>\n\n<p>can I use the setNameToUi to perform the reverse binding </p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "edited": false, "score": 0, "creation_date": 1575449643, "post_id": 59171781, "comment_id": 104566524, "body": "Which line does the error appear?"}, {"owner": {"reputation": 1036, "user_id": 3667792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/frVdR.png?s=128&g=1", "display_name": "TemaTre", "link": "https://stackoverflow.com/users/3667792/tematre"}, "edited": false, "score": 0, "creation_date": 1575451295, "post_id": 59171781, "comment_id": 104567376, "body": "So, I try your code in IDEA 2019.2 in Java project, and threre are no errors in this ide. What version on Android Studio you use?"}, {"owner": {"reputation": 2799, "user_id": 4342778, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1npNb.jpg?s=128&g=1", "display_name": "Goltsev Eugene", "link": "https://stackoverflow.com/users/4342778/goltsev-eugene"}, "edited": false, "score": 0, "creation_date": 1575460747, "post_id": 59171781, "comment_id": 104572550, "body": "The latest, 3.5.2. Thanks for info, so hope it will appear soon in Android Studio!"}], "answers": [{"tags": [], "owner": {"reputation": 377, "user_id": 6598633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HR6BR.jpg?s=128&g=1", "display_name": "Ayoub", "link": "https://stackoverflow.com/users/6598633/ayoub"}, "is_accepted": false, "score": 0, "last_activity_date": 1575475470, "creation_date": 1575475470, "answer_id": 59180141, "question_id": 59171781, "link": "https://stackoverflow.com/questions/59171781/android-studio-ambiguous-method-call-in-inheritance-chain-kotlin-java-interop/59180141#59180141", "title": "Android studio - ambiguous method call in inheritance chain (Kotlin Java interoperability)", "body": "<p>android studio complains when you write java code inside Kotlin file or vice-versa, if you separate the 3 classes each in a its own file, calling them whether from java code or Kotlin code won't produce any error.</p>\n"}], "owner": {"reputation": 2799, "user_id": 4342778, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/1npNb.jpg?s=128&g=1", "display_name": "Goltsev Eugene", "link": "https://stackoverflow.com/users/4342778/goltsev-eugene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575475470, "creation_date": 1575448089, "last_edit_date": 1575449541, "question_id": 59171781, "link": "https://stackoverflow.com/questions/59171781/android-studio-ambiguous-method-call-in-inheritance-chain-kotlin-java-interop", "title": "Android studio - ambiguous method call in inheritance chain (Kotlin Java interoperability)", "body": "<p>So I have 3 classes - base Java -> Kotlin descendant -> Java descendant.</p>\n\n<pre><code>public class JavaParentClass {\n    public &lt;T&gt; void doSmth(List&lt;T&gt; item) {}\n}\n\nopen class KotlinDescendant : JavaParentClass() {\n    override fun &lt;T : Any?&gt; doSmth(item: MutableList&lt;T&gt;?) {\n        super.doSmth(item)\n    }\n}\n\npublic class JavaDescendant extends KotlinDescendant {\n    void someMethod() {\n        doSmth(new ArrayList&lt;String&gt;());\n    }\n}\n</code></pre>\n\n<p>For <code>JavaDescendant</code> class compiler in Android Studio shows error \"Ambiguous method call. Both in KotlinDescendant and JavaParentClass match\".</p>\n\n<p>So as I understand lint just don't understand that <code>doSmth</code> is actually overriden in <code>KotlinDescendant</code> class.</p>\n\n<p>Despite it works fine in runtime, what can be done to avoid this error?</p>\n"}, {"tags": ["android", "kotlin", "android-sqlite"], "comments": [{"owner": {"reputation": 586, "user_id": 4534129, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lBFn8dxqOPU/AAAAAAAAAAI/AAAAAAAAAII/wgky0tsXLjg/photo.jpg?sz=128", "display_name": "xstmpx", "link": "https://stackoverflow.com/users/4534129/xstmpx"}, "edited": false, "score": 1, "creation_date": 1575445932, "post_id": 59171146, "comment_id": 104564845, "body": "Check out this: <a href=\"https://www.sqlite.org/faq.html#q1\" rel=\"nofollow noreferrer\">sqlite.org/faq.html#q1</a>"}, {"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "reply_to_user": {"reputation": 586, "user_id": 4534129, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lBFn8dxqOPU/AAAAAAAAAAI/AAAAAAAAAII/wgky0tsXLjg/photo.jpg?sz=128", "display_name": "xstmpx", "link": "https://stackoverflow.com/users/4534129/xstmpx"}, "edited": false, "score": 0, "creation_date": 1575447835, "post_id": 59171146, "comment_id": 104565651, "body": "@SemkoToruj how I understand <code>db.insertIntoPartner(NULL, &quot;login&quot;, &quot;info&quot;)</code> will create ID automatically? But I need in Databse.kt this code <code>val CREATE_TABLE_PARTNER = &quot;CREATE TABLE partner(pid INTEGER PRIMARY KEY, plogin TEXT)&quot;</code> Am I right?"}, {"owner": {"reputation": 586, "user_id": 4534129, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lBFn8dxqOPU/AAAAAAAAAAI/AAAAAAAAAII/wgky0tsXLjg/photo.jpg?sz=128", "display_name": "xstmpx", "link": "https://stackoverflow.com/users/4534129/xstmpx"}, "edited": false, "score": 0, "creation_date": 1575451879, "post_id": 59171146, "comment_id": 104567691, "body": "I would guess so, but maybe not assign null to pid."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1575456954, "post_id": 59171599, "comment_id": 104570624, "body": "I got another problem. I have a few activities with editText and how I can write info in database? I think that I need putExtra in activity like <code>putExtra(&quot;name&quot;, createname.text.toString()) and getExtra in other activity. But </code>intent.getStringExtra(&quot;name&quot;, createname.text.toString())` don&#39;t work. I found some info but it was for java. Can you help?"}, {"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1575457967, "post_id": 59171599, "comment_id": 104571153, "body": "I think I found issue. Just replace <code>getStringExtra</code> to <code>extras?.getString</code>"}], "tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": true, "score": 1, "last_activity_date": 1575448188, "last_edit_date": 1575448188, "creation_date": 1575447367, "answer_id": 59171599, "question_id": 59171146, "link": "https://stackoverflow.com/questions/59171146/how-to-assign-id-for-sqlite-database-object-in-kotlin/59171599#59171599", "title": "How to assign ID for SQLite database object in kotlin?", "body": "<p><strong>a)</strong> Define the pid column using <code>pid INTEGER PRIMARY KEY</code> as per :-</p>\n\n<pre><code>val CREATE_TABLE_PARTNER = \"CREATE TABLE person(pid INTEGER PRIMARY KEY, plogin TEXT, ppassword TEXT,\" +\n            \" pname TEXT, psale TEXT, pasale TEXT)\"\n</code></pre>\n\n<ul>\n<li>INTEGER PRIMARY KEY is a special case in that the column becomes an alias of the <strong>rowid</strong> column. You cannot use INT PRIMARY KEY as it will then not be an alias of the <strong>rowid</strong>.</li>\n</ul>\n\n<p><strong>b)</strong> Then use :-</p>\n\n<pre><code>fun insertIntoPartner(pid: Int, plogin: String, ppassword: String, pname: String,\n                      psale: String, pasale: String): Boolean {\n    var contentValues = ContentValues()\n    //contentValues.put(\"pid\", pid) /*&lt;&lt;&lt;&lt;&lt; by not supplying the value the id will be generated by SQLite */\n    contentValues.put(\"plogin\", plogin)\n    contentValues.put(\"ppassword\", ppassword)\n    contentValues.put(\"pname\", pname)\n    contentValues.put(\"psale\", psale)\n    contentValues.put(\"pasale\", pasale)\n\n    val rowId = writableDatabase.insert(PARTNER, null, contentValues)\n    return rowId&gt;0\n</code></pre>\n\n<ul>\n<li><p>You would probably remove <code>pid: Int</code> from the function's signature as it is obsolete (unless there are situations where you want to specifiy pid (not recommended)).</p></li>\n<li><p>Note typically the id (pid) will be 1 greater than the last inserted. However, there is no guarantee that this will be the case. <strong>pid</strong> will not be renumbered if rows are deleted that are not the last rows. The intended purpose of the <strong>rowid</strong> or an alias thereof, is to be able to uniquely <strong>ID</strong>entify a row and for that row to be retrieved/accessed efficiently.</p></li>\n</ul>\n\n<p>You may wish to read <a href=\"https://www.sqlite.org/autoinc.html\" rel=\"nofollow noreferrer\">SQLite Autoincrement</a> and or <a href=\"https://www.sqlite.org/rowidtable.html\" rel=\"nofollow noreferrer\">Rowid Tables</a></p>\n"}, {"comments": [{"owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "edited": false, "score": 0, "creation_date": 1575452691, "post_id": 59171950, "comment_id": 104568161, "body": "AUTOINCREMENT is not important and is not recommended as it is inefficient as per <i>The AUTOINCREMENT keyword imposes extra CPU, memory, disk space, and disk I/O overhead and should be avoided if not strictly needed. It is usually not needed.</i> and <i>On an INSERT, if the ROWID or INTEGER PRIMARY KEY column is not explicitly given a value, then it will be filled automatically with an unused integer, usually one more than the largest ROWID currently in use. This is true regardless of whether or not the AUTOINCREMENT keyword is used.</i> <a href=\"https://www.sqlite.org/autoinc.html\" rel=\"nofollow noreferrer\">SQLite Autoincrement</a> and"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1575535396, "last_edit_date": 1575535396, "creation_date": 1575448777, "answer_id": 59171950, "question_id": 59171146, "link": "https://stackoverflow.com/questions/59171146/how-to-assign-id-for-sqlite-database-object-in-kotlin/59171950#59171950", "title": "How to assign ID for SQLite database object in kotlin?", "body": "<p>You can do that in possible two ways explain below:</p>\n\n<p><strong>Option - 1:</strong> If you want <code>SQLite</code> handle the <code>ID</code> then you can do that below way. Here <strong>INTEGER PRIMARY KEY</strong> is important as <code>SQLite</code> automatically increment the <code>ID</code> using this.</p>\n\n<pre><code>val CREATE_TABLE_PARTNER = \"CREATE TABLE partner(pid INTEGER PRIMARY KEY,\" +\n\" plogin TEXT, ppassword TEXT, pname TEXT, psale TEXT, pasale TEXT)\"\n\nfun insertIntoPartner(plogin: String, ppassword: String, pname: String,\n                      psale: String, pasale: String): Boolean {\n    var contentValues = ContentValues()\n\n    //contentValues.put(\"pid\", pid)    -&gt; pid will handle by sqlite\n\n    contentValues.put(\"plogin\", plogin)\n    contentValues.put(\"ppassword\", ppassword)\n    contentValues.put(\"pname\", pname)\n    contentValues.put(\"psale\", psale)\n    contentValues.put(\"pasale\", pasale)\n\n    val rowId = writableDatabase.insert(PARTNER, null, contentValues)\n    return rowId &gt; 0\n}\n</code></pre>\n\n<p><strong>Option - 2:</strong> If you want to handle the <code>ID</code> by yourself [<strong>Required when ID comes from server</strong>], Then you have to follow the below way. First check the <code>DB</code> with the <code>ID</code> and if not present then <code>Insert</code>. If you want then you can also update the content of that specific <code>ID</code>.</p>\n\n<pre><code>val CREATE_TABLE_PARTNER = \"CREATE TABLE partner(pid INTEGER, plogin TEXT,\" +\n\" ppassword TEXT, pname TEXT, psale TEXT, pasale TEXT)\"\n\nfun insertIntoPartner(pid: Int, plogin: String, ppassword: String, pname: String,\n                      psale: String, pasale: String): Boolean {\n    var contentValues = ContentValues()\n\n    contentValues.put(\"pid\", pid)\n    contentValues.put(\"plogin\", plogin)\n    contentValues.put(\"ppassword\", ppassword)\n    contentValues.put(\"pname\", pname)\n    contentValues.put(\"psale\", psale)\n    contentValues.put(\"pasale\", pasale)\n\n    String sql = \"SELECT * FROM \" + PARTNER + \" WHERE pid ='\" + pid + \"'\";\n    var rowId = 0\n\n    try {\n        cursor = writableDatabase.rawQuery(sql, null);\n        if(cursor != null &amp;&amp; cursor.moveToFirst()) {\n            //If you want then can update the content here\n        } else {\n            rowId = writableDatabase.insert(PARTNER, null, contentValues)\n        }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n    return rowId &gt; 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 59171599, "answer_count": 2, "score": -1, "last_activity_date": 1575535396, "creation_date": 1575445390, "last_edit_date": 1575445697, "question_id": 59171146, "link": "https://stackoverflow.com/questions/59171146/how-to-assign-id-for-sqlite-database-object-in-kotlin", "title": "How to assign ID for SQLite database object in kotlin?", "body": "<p>I practice in android kotlin coding and I create SQLite database. How I can to assign ID for object when it create? I think that I need to check are there objects and if no object I create object with ID 1. If there are objects I need to find last ID, is it right?\nDatabase.kt: </p>\n\n<pre><code>class PartnerDB(context: Context):\n    SQLiteOpenHelper(context, \"partner.db\", null, DB_VERSION) {\n    var context: Context? = null\n    init {\n        this.context = context\n    }\n    companion object {\n        val PARTNER = \"partner\"\n        val DB_VERSION = 1\n        val CREATE_TABLE_PARTNER = \"CREATE TABLE person(pid INT, plogin TEXT, ppassword TEXT,\" +\n                \" pname TEXT, psale TEXT, pasale TEXT)\"\n        val SELECT_PARTNER = \"SELECT * from partner\"\n    }\n    override fun onCreate(db: SQLiteDatabase?) {\n        db?.execSQL(CREATE_TABLE_PARTNER)\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n    fun insertIntoPartner(pid: Int, plogin: String, ppassword: String, pname: String,\n                          psale: String, pasale: String): Boolean {\n        var contentValues = ContentValues()\n        contentValues.put(\"pid\", pid)\n        contentValues.put(\"plogin\", plogin)\n        contentValues.put(\"ppassword\", ppassword)\n        contentValues.put(\"pname\", pname)\n        contentValues.put(\"psale\", psale)\n        contentValues.put(\"pasale\", pasale)\n\n        val rowId = writableDatabase.insert(PARTNER, null, contentValues)\n        return rowId&gt;0\n    }\n</code></pre>\n\n<p>How to assign ID in code? I want to assign ID automatically. If it's the first object ID must be 1. I don't have idea and thank for all suggestions.</p>\n"}, {"tags": ["android", "kotlin", "dagger"], "comments": [{"owner": {"reputation": 210, "user_id": 4926941, "user_type": "registered", "profile_image": "https://graph.facebook.com/984533724890347/picture?type=large", "display_name": "Sorwar Hossain Mostafa", "link": "https://stackoverflow.com/users/4926941/sorwar-hossain-mostafa"}, "edited": false, "score": 0, "creation_date": 1575442655, "post_id": 59170453, "comment_id": 104563550, "body": "Are you also want to avoid passing parameter from provider method?"}, {"owner": {"reputation": 164, "user_id": 12088915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwsIT.jpg?s=128&g=1", "display_name": "Mushfique Monim", "link": "https://stackoverflow.com/users/12088915/mushfique-monim"}, "reply_to_user": {"reputation": 210, "user_id": 4926941, "user_type": "registered", "profile_image": "https://graph.facebook.com/984533724890347/picture?type=large", "display_name": "Sorwar Hossain Mostafa", "link": "https://stackoverflow.com/users/4926941/sorwar-hossain-mostafa"}, "edited": false, "score": 0, "creation_date": 1575442757, "post_id": 59170453, "comment_id": 104563589, "body": "yes bro. I want to avoid both."}, {"owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 1, "creation_date": 1575442847, "post_id": 59170453, "comment_id": 104563618, "body": "@MushfiqueMonim You can make it optional by adding &#39;?&#39;."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 1, "creation_date": 1577518513, "post_id": 59170453, "comment_id": 105190274, "body": "Just as advice, don&#39;t mix properties with dependencies, you should probably construct your data class by hand with the primitives. Dagger <code>@Provides</code> are used mostly for classes that you can&#39;t annotate with <code>@Inject</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "is_accepted": false, "score": -1, "last_activity_date": 1575443143, "creation_date": 1575443143, "answer_id": 59170608, "question_id": 59170453, "link": "https://stackoverflow.com/questions/59170453/how-to-inject-data-class-in-android-with-dagger-where-data-class-parameter-have/59170608#59170608", "title": "How to inject data class in android with dagger where data class parameter have no default value?", "body": "<p>To avoid default value in parameter of data class you have to make it optional. In kotlin to make optional you have to use ? with the parameter.</p>\n\n<pre><code>data class Animal(var id:Int?=null)  {\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 164, "user_id": 12088915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwsIT.jpg?s=128&g=1", "display_name": "Mushfique Monim", "link": "https://stackoverflow.com/users/12088915/mushfique-monim"}, "edited": false, "score": 0, "creation_date": 1575445033, "post_id": 59170681, "comment_id": 104564471, "body": "Bro I want to inject data class"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "reply_to_user": {"reputation": 164, "user_id": 12088915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwsIT.jpg?s=128&g=1", "display_name": "Mushfique Monim", "link": "https://stackoverflow.com/users/12088915/mushfique-monim"}, "edited": false, "score": 0, "creation_date": 1575531313, "post_id": 59170681, "comment_id": 104599772, "body": "@MushfiqueMonim for data class its must to pass at-least single value  use simple class instead of data class.it will work"}], "tags": [], "owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "is_accepted": false, "score": 0, "last_activity_date": 1575444295, "last_edit_date": 1575444295, "creation_date": 1575443466, "answer_id": 59170681, "question_id": 59170453, "link": "https://stackoverflow.com/questions/59170453/how-to-inject-data-class-in-android-with-dagger-where-data-class-parameter-have/59170681#59170681", "title": "How to inject data class in android with dagger where data class parameter have no default value?", "body": "<p>as per <strong>documentation</strong> while using  data class primary constructor, it's must to pass at-least one parameter.\nremove data from class, after removing data there is no need to pass at-least single parameter to Constructor  . hope this may helps you.</p>\n\n<pre><code>    class Animal()  {\n           var id:Int = 2\n    } \n\n\n@Provides\n    @Singleton\n    fun provide(): Animal {\n        return Animal()\n    }\n</code></pre>\n"}], "owner": {"reputation": 164, "user_id": 12088915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwsIT.jpg?s=128&g=1", "display_name": "Mushfique Monim", "link": "https://stackoverflow.com/users/12088915/mushfique-monim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 480, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1575444295, "creation_date": 1575442456, "question_id": 59170453, "link": "https://stackoverflow.com/questions/59170453/how-to-inject-data-class-in-android-with-dagger-where-data-class-parameter-have", "title": "How to inject data class in android with dagger where data class parameter have no default value?", "body": "<p>My data class like:</p>\n\n<pre><code>    data class Animal(var id:Int = 2)  {\n    }\n</code></pre>\n\n<p>My Provides method in  module class like:</p>\n\n<pre><code>    @Provides\n    @Singleton\n    fun provide(): Animal {\n        return Animal()\n    }\n</code></pre>\n\n<p>I want to avoid default value in data class parameter.</p>\n"}, {"tags": ["android", "kotlin", "android-room", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 2381, "user_id": 11040422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HJ6X7.png?s=128&g=1", "display_name": "SaadAAkash", "link": "https://stackoverflow.com/users/11040422/saadaakash"}, "is_accepted": false, "score": 1, "last_activity_date": 1575442860, "creation_date": 1575442860, "answer_id": 59170539, "question_id": 59170415, "link": "https://stackoverflow.com/questions/59170415/coroutine-flow-not-sure-how-to-convert-a-cursor-to-this-methods-return-type/59170539#59170539", "title": "coroutine Flow : Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>You've left a comment that you're using <code>2.1.0</code> as Room version. Please give <a href=\"https://commonsware.com/blog/2019/08/08/room-flow.html\" rel=\"nofollow noreferrer\">this</a> a read and you'll find that <code>2.2.0-alpha2</code> is required for using <code>Flow</code>. Update the version and it should work.</p>\n\n<blockquote>\n  <p>Room 2.2.0-alpha02 advertised Flow support</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 1635, "user_id": 1843737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UG1yD.jpg?s=128&g=1", "display_name": "Scott Cooper", "link": "https://stackoverflow.com/users/1843737/scott-cooper"}, "edited": false, "score": 3, "creation_date": 1601991063, "post_id": 60318505, "comment_id": 113573352, "body": "&quot;Do not use both suspend and Flow&lt;&gt; on the same method&quot; - This should be the error message"}, {"owner": {"reputation": 71, "user_id": 2657425, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001123082028/picture?type=large", "display_name": "Samsad CV", "link": "https://stackoverflow.com/users/2657425/samsad-cv"}, "edited": false, "score": 0, "creation_date": 1612127118, "post_id": 60318505, "comment_id": 116663428, "body": "No need to use suspend keyword when we return Flow"}], "tags": [], "owner": {"reputation": 7138, "user_id": 4415642, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/253d1dc6571ed728099ff96b693f5b8f?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Ziobro", "link": "https://stackoverflow.com/users/4415642/micha%c5%82-ziobro"}, "is_accepted": false, "score": 43, "last_activity_date": 1582196686, "creation_date": 1582196686, "answer_id": 60318505, "question_id": 59170415, "link": "https://stackoverflow.com/questions/59170415/coroutine-flow-not-sure-how-to-convert-a-cursor-to-this-methods-return-type/60318505#60318505", "title": "coroutine Flow : Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>Do not use both suspend and Flow&lt;> on the same method! Like this </p>\n\n<pre><code> @Query(\"SELECT * FROM user\")\n    suspend fun loadAll(): Flow&lt;Array&lt;User&gt;&gt;\n</code></pre>\n\n<p>Just </p>\n\n<pre><code>@Query(\"SELECT * FROM user\")\n    suspend fun loadAll(): Array&lt;User&gt;\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>@Query(\"SELECT * FROM user\")\n   fun loadAll(): Flow&lt;Array&lt;User&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1061, "user_id": 666562, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/81PoR.png?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/666562/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1601131463, "last_edit_date": 1601131463, "creation_date": 1601131073, "answer_id": 64078937, "question_id": 59170415, "link": "https://stackoverflow.com/questions/59170415/coroutine-flow-not-sure-how-to-convert-a-cursor-to-this-methods-return-type/64078937#64078937", "title": "coroutine Flow : Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>I tried the approaches provided in the other answers, namely avoiding <code>Flow</code> and <code>LiveData</code> in <code>DAO</code> that have <code>suspend</code> function but I was still getting the error.</p>\n<p>In the end, my problem was related to my dependencies. I had multiple room dependencies like:</p>\n<pre><code>    def room_version = &quot;2.2.5&quot;\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    kapt           &quot;android.arch.persistence.room:compiler:1.1.1&quot;\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\n\n</code></pre>\n<p>When only the last one was required (SEE EDIT):</p>\n<pre><code>    implementation &quot;androidx.room:room-ktx:2.2.5&quot;\n</code></pre>\n<p><em>EDIT</em></p>\n<p>Actually, this is not event true. It compiled fine but when I launched the app, I had an error at runtime.</p>\n<p>I could make it work by swapping the compiler version:</p>\n<pre><code>    def room_version = &quot;2.2.5&quot;\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    kapt           &quot;androidx.room:room-compiler:$room_version&quot;\n    implementation &quot;androidx.room:room-ktx:$room_version&quot;\n</code></pre>\n"}], "owner": {"reputation": 2475, "user_id": 5151608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh4.googleusercontent.com/-oYW8BasOUmM/AAAAAAAAAAI/AAAAAAAAAM0/iz3B5oRB6Hs/photo.jpg?sz=128", "display_name": "noobEinstien", "link": "https://stackoverflow.com/users/5151608/noobeinstien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2358, "favorite_count": 2, "answer_count": 3, "score": 14, "last_activity_date": 1601131463, "creation_date": 1575442303, "question_id": 59170415, "link": "https://stackoverflow.com/questions/59170415/coroutine-flow-not-sure-how-to-convert-a-cursor-to-this-methods-return-type", "title": "coroutine Flow : Not sure how to convert a Cursor to this method&#39;s return type", "body": "<p>When I am trying to change the Dao to the new <code>Flow</code>Api, I am getting the compilation error stating that </p>\n\n<pre><code>Not sure how to convert a Cursor to this method's return type\n    public abstract kotlinx.coroutines.flow.Flow&lt;java.util.List&lt;com.ezek.ezign.model.ECampaign&gt;&gt; readCampaigns();\n</code></pre>\n\n<p>The Dao is </p>\n\n<pre><code>@Dao\ninterface CampaignDao {\n\n    @Query(\"SELECT * FROM campaign ORDER BY timeStamp ASC\")\n    fun readCampaigns(): Flow&lt;List&lt;ECampaign&gt;&gt;\n\n    @Query(\"SELECT * FROM campaign WHERE id = :campaignId\")\n    fun readCampaign(campaignId: Int): Flow&lt;ECampaign&gt;\n}\n</code></pre>\n\n<p>and the dependencies are </p>\n\n<pre><code>    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.2'\n\n    implementation \"android.arch.persistence.room:runtime:$rootProject.ext.room_version\"\n    kapt \"android.arch.persistence.room:compiler:$rootProject.ext.room_version\"\n\n//room_version = \"2.1.0\"\n</code></pre>\n\n<p>I have tried with Both <code>List</code> and <code>ArrayList</code>, but No luck.  </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["kotlin", "lambda", "casting"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 2038502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2867202c351b51cd378833f8f8f0153f?s=128&d=identicon&r=PG", "display_name": "Daltrey Waters", "link": "https://stackoverflow.com/users/2038502/daltrey-waters"}, "edited": false, "score": 0, "creation_date": 1575512894, "post_id": 59173550, "comment_id": 104594653, "body": "Makes total sense now. Thanks!"}], "tags": [], "owner": {"reputation": 3824, "user_id": 5030758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e16618cce3b29ee10722e47d02aa7eee?s=128&d=identicon&r=PG", "display_name": "Mikhail Burshteyn", "link": "https://stackoverflow.com/users/5030758/mikhail-burshteyn"}, "is_accepted": true, "score": 4, "last_activity_date": 1575454296, "creation_date": 1575454296, "answer_id": 59173550, "question_id": 59169743, "link": "https://stackoverflow.com/questions/59169743/how-does-kproperty1-transform-into-a-lambda/59173550#59173550", "title": "How does KProperty1 transform into a lambda?", "body": "<p>As can be seen from the source, the interface <code>KProperty1&lt;T, R&gt;</code> is declared as inheriting from <code>(T) -&gt; R</code>:</p>\n\n<pre><code>public actual interface KProperty1&lt;T, out R&gt; : KProperty&lt;R&gt;, (T) -&gt; R {\n    ...\n}\n</code></pre>\n\n<p>This allows an object of type <code>KProperty1&lt;T, R&gt;</code> to be used in place of a lambda.</p>\n\n<p>From implementation side, inheritance from <code>(T) -&gt; R</code> means that any class implementing <code>KProperty1</code> should provide an implementation of <code>operator fun invoke(t: T): R</code>.  For example, <code>KProperty1Impl</code> implements it as follows:</p>\n\n<pre><code>override fun invoke(receiver: T): R = get(receiver)\n</code></pre>\n\n<p>Read more about the <code>invoke</code> operator <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#invoke\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 147, "user_id": 2038502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2867202c351b51cd378833f8f8f0153f?s=128&d=identicon&r=PG", "display_name": "Daltrey Waters", "link": "https://stackoverflow.com/users/2038502/daltrey-waters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59173550, "answer_count": 1, "score": 0, "last_activity_date": 1575458868, "creation_date": 1575438993, "question_id": 59169743, "link": "https://stackoverflow.com/questions/59169743/how-does-kproperty1-transform-into-a-lambda", "title": "How does KProperty1 transform into a lambda?", "body": "<p>I have the following code which works as expected - </p>\n\n<pre><code>data class Customer(val id: Int, val name: String)\nval initialCustomers = arrayOf(Customer(1, \"Kotlin\"), Customer(2, \"Spring\"), Customer(3, \"Microservice\"))\nval customers = ConcurrentHashMap&lt;Int, Customer&gt;(initialCustomers.associateBy(Customer::id))\n</code></pre>\n\n<p>What I don't understand is how </p>\n\n<pre><code>Customer::Id \n</code></pre>\n\n<p>which is of is of type</p>\n\n<pre><code>KProperty1&lt;Customer,Int&gt; \n</code></pre>\n\n<p>Somehow accepted by initialCustomers.associatedBy() function, which is meant to take a lambda as a parameter. </p>\n\n<p>Can someone explain that to me? Is it that KProperty1 has a base definition of (T)-> R, and therefore contains an implict casting from that type to a lambda of that matching type? </p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "is_accepted": true, "score": 10, "last_activity_date": 1575435463, "creation_date": 1575435463, "answer_id": 59169191, "question_id": 59169162, "link": "https://stackoverflow.com/questions/59169162/not-found-import-kotlinx-coroutines-flow/59169191#59169191", "title": "Not found import kotlinx.coroutines.flow.*", "body": "<p>From <a href=\"https://github.com/Kotlin/kotlinx.coroutines\" rel=\"noreferrer\">the document</a>. Try to add the below dependence in to the <code>build.gradle</code> file(<strong>in the app level</strong>):</p>\n\n<pre><code>dependencies {\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.2'\n} \n</code></pre>\n"}], "owner": {"reputation": 2475, "user_id": 5151608, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh4.googleusercontent.com/-oYW8BasOUmM/AAAAAAAAAAI/AAAAAAAAAM0/iz3B5oRB6Hs/photo.jpg?sz=128", "display_name": "noobEinstien", "link": "https://stackoverflow.com/users/5151608/noobeinstien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3605, "favorite_count": 0, "accepted_answer_id": 59169191, "answer_count": 1, "score": 6, "last_activity_date": 1575435463, "creation_date": 1575435228, "question_id": 59169162, "link": "https://stackoverflow.com/questions/59169162/not-found-import-kotlinx-coroutines-flow", "title": "Not found import kotlinx.coroutines.flow.*", "body": "<p>I am trying to learn <code>Kotlin Flow</code>. And when I try to add </p>\n\n<p><code>import kotlinx.coroutines.flow.*</code> it is not resolving.</p>\n\n<p>Can you please look at my dependencies and help to solve the problem?</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n</code></pre>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.core:core-ktx:1.1.0'\n</code></pre>\n\n<pre><code>ext.kotlin_version = '1.3.61'\n</code></pre>\n\n<p>Please help me to solve the issue.</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-livedata"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 12442162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb5cf426f7c1aff667aa581a9daf48f?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar J.", "link": "https://stackoverflow.com/users/12442162/edgar-j"}, "edited": false, "score": 0, "creation_date": 1575436346, "post_id": 59169167, "comment_id": 104561714, "body": "Thanks!! I have been trying to figure this out for a few hours."}], "tags": [], "owner": {"reputation": 153, "user_id": 8300266, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xtBFx7QkCWA/AAAAAAAAAAI/AAAAAAAAAAc/NWtZkxB1wRw/photo.jpg?sz=128", "display_name": "MOF", "link": "https://stackoverflow.com/users/8300266/mof"}, "is_accepted": true, "score": 1, "last_activity_date": 1575435239, "creation_date": 1575435239, "answer_id": 59169167, "question_id": 59169049, "link": "https://stackoverflow.com/questions/59169049/how-to-update-a-text-view-from-a-room-database-using-livedata/59169167#59169167", "title": "How to update a text view from a Room database using LiveData?", "body": "<p>in your view just call the NumberViewModel count like this</p>\n\n<pre><code>private lateinit var viewModel: NumberViewModel\n</code></pre>\n\n<p>if you using fragment put the function on <code>onActivityCreated</code> if you using activity put it <code>onCreate</code></p>\n\n<pre><code>viewModel = ViewModelProviders.of(this).get(NumberViewModel::class.java)\nviewmodel.count.observe(this,Observe{count-&gt;\n     dbView.text = count\n})\n</code></pre>\n\n<p>It's very easy if you apply the <strong>KOIN</strong> for binding ViewModel and your DB here the reference about <a href=\"https://insert-koin.io/\" rel=\"nofollow noreferrer\">KOIN</a></p>\n"}], "owner": {"reputation": 45, "user_id": 12442162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcb5cf426f7c1aff667aa581a9daf48f?s=128&d=identicon&r=PG&f=1", "display_name": "Edgar J.", "link": "https://stackoverflow.com/users/12442162/edgar-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 1, "accepted_answer_id": 59169167, "answer_count": 1, "score": 0, "last_activity_date": 1575435239, "creation_date": 1575434413, "question_id": 59169049, "link": "https://stackoverflow.com/questions/59169049/how-to-update-a-text-view-from-a-room-database-using-livedata", "title": "How to update a text view from a Room database using LiveData?", "body": "<p>I'm trying to create a simple counter app that uses Databinding, Room database, and live data. Currently when the user presses the plus button, it updates a local live data value which then updates the database number. When I try to attach the value from the database dbCount, I get an databinding error. How can I get the live data from the database to the text view?</p>\n\n<p>Note: I'm new to android development so  I'm still learning the concepts.\n<a href=\"https://github.com/edgarjc/TrackMySleepQualityCoroutines\" rel=\"nofollow noreferrer\">Project Repository</a></p>\n\n<p>fragment_number.xml</p>\n\n<pre><code>&lt;TextView\n            android:id=\"@+id/dbView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@{sleepTrackerViewModel.dbCount}\"\n            app:layout_constraintBottom_toTopOf=\"@+id/display\"\n            app:layout_constraintEnd_toEndOf=\"@+id/display\"\n            app:layout_constraintStart_toStartOf=\"@+id/display\" /&gt;\n</code></pre>\n\n<p>DatabaseDAO</p>\n\n<pre><code>   //Selects first entry\n    @Query(\"SELECT number from daily_sleep_quality_table WHERE nightId = 1\")\n    fun getFirst(): LiveData&lt;Int&gt;\n\n</code></pre>\n\n<p>NumberViewModel</p>\n\n<pre><code>    private val dbCount = database.getFirst()\n\n//Holds the count\n    private val _count = MutableLiveData&lt;Int&gt;()\n    val count: LiveData&lt;Int&gt;\n        get() = _count\n\n\n       fun plus(){\n        uiScope.launch{\n            //adds to current count\n            _count.value = (_count.value)?.plus(1)\n\n            //Gets entry with ID 1 and updates number\n            withContext(Dispatchers.IO) {\n                val currentNum = database.get(1) ?: return@withContext\n\n                currentNum.number = _count.value!!\n\n                database.update(currentNum )\n            }\n\n\n            number.value = getTonightFromDatabase()\n        }\n    }\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "get", "retrofit2"], "comments": [{"owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1575433816, "post_id": 59168943, "comment_id": 104561116, "body": "have you not added any internet check before api calling?"}, {"owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "reply_to_user": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1575434146, "post_id": 59168943, "comment_id": 104561191, "body": "@quicklearner I&#39;m following a tutorial and they don&#39;t have one either but there app doesn&#39;t crash."}, {"owner": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575434365, "post_id": 59168943, "comment_id": 104561237, "body": "Have you added the internet permission in manifest?"}, {"owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1575434370, "post_id": 59168943, "comment_id": 104561238, "body": "look at this documentation"}, {"owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1575434375, "post_id": 59168943, "comment_id": 104561242, "body": "<a href=\"https://developer.android.com/training/monitoring-device-state/connectivity-status-type\" rel=\"nofollow noreferrer\">developer.android.com/training/monitoring-device-state/&hellip;</a>"}, {"owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "reply_to_user": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575434433, "post_id": 59168943, "comment_id": 104561263, "body": "@PrajwalW Yes, I have. The app works fine when connected to the internet. I get the data and it is displayed. Only when there is no internet the app crashes"}, {"owner": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575435566, "post_id": 59168943, "comment_id": 104561511, "body": "Show the error msg in debugger where it shows the piece of code where the crash actually happened. The image which you postes is the log value which will always get printed as you r calling that function"}, {"owner": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575435748, "post_id": 59168943, "comment_id": 104561557, "body": "Check the log of your catch block"}, {"owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "reply_to_user": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575435874, "post_id": 59168943, "comment_id": 104561598, "body": "@PrajwalW that&#39;s the whole thing, the log of the catch block does not get printed. I don&#39;t know why."}, {"owner": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575436028, "post_id": 59168943, "comment_id": 104561634, "body": "Add a log under your try block and check the status value data in the log and post the image of the same in case of no internet"}, {"owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "reply_to_user": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575436354, "post_id": 59168943, "comment_id": 104561718, "body": "@PrajwalW no custom logging happens when there is no internet. It just crashes directly. Here is the project rar incase you want to run it yourself: <a href=\"https://drive.google.com/open?id=1wzFifZXLjCZQpi5E_EOH_qyhxnIWsGZZ\" rel=\"nofollow noreferrer\">drive.google.com/open?id=1wzFifZXLjCZQpi5E_EOH_qyhxnIWsGZZ</a>"}, {"owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "reply_to_user": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575436985, "post_id": 59168943, "comment_id": 104561872, "body": "@PrajwalW the error stack was not being printed because i had assigned the result of the coroutine to an unsued val job. After i removed that val job portion, i get the output but the app still crashes"}, {"owner": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575438012, "post_id": 59168943, "comment_id": 104562148, "body": "See that the reason y logs r so important!"}, {"owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "reply_to_user": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575438066, "post_id": 59168943, "comment_id": 104562162, "body": "@PrajwalW but still the sample app I am referring to doesn&#39;t crash when there is no internet. Why does mine?"}, {"owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "reply_to_user": {"reputation": 1879, "user_id": 9166855, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Gic8lGEl0Y0/AAAAAAAAAAI/AAAAAAAAACo/syXS4pNSOdk/photo.jpg?sz=128", "display_name": "Prajwal Waingankar", "link": "https://stackoverflow.com/users/9166855/prajwal-waingankar"}, "edited": false, "score": 0, "creation_date": 1575438163, "post_id": 59168943, "comment_id": 104562196, "body": "@PrajwalW this is the link to the sample project: <a href=\"https://github.com/udacity/andfun-kotlin-mars-real-estate\" rel=\"nofollow noreferrer\">github.com/udacity/andfun-kotlin-mars-real-estate</a>  The branch is step 4 solution"}], "answers": [{"tags": [], "owner": {"reputation": 185, "user_id": 6345799, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WdM9aJGiLvQ/AAAAAAAAAAI/AAAAAAAAAB8/jY7NeHH3_BQ/photo.jpg?sz=128", "display_name": "Kartika Vij", "link": "https://stackoverflow.com/users/6345799/kartika-vij"}, "is_accepted": false, "score": 0, "last_activity_date": 1575433963, "creation_date": 1575433963, "answer_id": 59168999, "question_id": 59168943, "link": "https://stackoverflow.com/questions/59168943/app-crashes-when-no-internet-during-retrofit2-get-request/59168999#59168999", "title": "App crashes when no internet during Retrofit2 Get request", "body": "<p>You need to add internet checks before calling your retrofit service because to get some data from server, internet connectivity is mandatory</p>\n"}, {"tags": [], "owner": {"reputation": 78, "user_id": 12018840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d477a78273fcdf73dc4079ed29b09a6?s=128&d=identicon&r=PG", "display_name": "Nagendran P", "link": "https://stackoverflow.com/users/12018840/nagendran-p"}, "is_accepted": false, "score": -1, "last_activity_date": 1575437293, "last_edit_date": 1575437293, "creation_date": 1575434227, "answer_id": 59169029, "question_id": 59168943, "link": "https://stackoverflow.com/questions/59168943/app-crashes-when-no-internet-during-retrofit2-get-request/59169029#59169029", "title": "App crashes when no internet during Retrofit2 Get request", "body": "<p>This method checks whether mobile is connected to internet and returns true<br>\nif connected:</p>\n\n<pre><code>private boolean isNetworkConnected() {\n     ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    return cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnected();\n}\n</code></pre>\n\n<p>in manifest,</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>Edit: This method actually checks if device is connected to internet(There is<br>\n     a possibility it's connected to a network but not to internet).</p>\n\n<pre><code>public boolean isInternetAvailable() {\n    try {\n          InetAddress ipAddr = InetAddress.getByName(\"google.com\"); \n          //You can replace it with your name\n          return !ipAddr.equals(\"\");\n\n     }catch (Exception e) {\n          return false;\n     }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 11406720, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K3cKht56xSI/AAAAAAAAAAI/AAAAAAAAAVQ/Jh-jhA3QQp0/photo.jpg?sz=128", "display_name": "Farhan Fahim", "link": "https://stackoverflow.com/users/11406720/farhan-fahim"}, "is_accepted": false, "score": -1, "last_activity_date": 1575438527, "creation_date": 1575438527, "answer_id": 59169647, "question_id": 59168943, "link": "https://stackoverflow.com/questions/59168943/app-crashes-when-no-internet-during-retrofit2-get-request/59169647#59169647", "title": "App crashes when no internet during Retrofit2 Get request", "body": "<p>This will tell you if you're connected to a network:</p>\n\n<pre><code>boolean connected = false;\nConnectivityManager connectivityManager = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\n    if(connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState() == NetworkInfo.State.CONNECTED || \n            connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI).getState() == NetworkInfo.State.CONNECTED) {\n        //we are connected to a network\n        connected = true;\n    }\n    else\n        connected = false;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "edited": false, "score": 0, "creation_date": 1575487508, "post_id": 59175084, "comment_id": 104587282, "body": "Yeah, so I saw and they don&#39;t have an offline mode but their app doesn&#39;t crash because of the older versions of the libraries they are using. After I updated the libraries in their project, even their app crashed when there was no internet.  The problem I have is that I can&#39;t access an application context within the ViewModel so how am i supposed to check for internet connectivity"}, {"owner": {"reputation": 204, "user_id": 12010124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3561293881944b392b684bf9dc4096ca?s=128&d=identicon&r=PG&f=1", "display_name": "PhillauSofia", "link": "https://stackoverflow.com/users/12010124/phillausofia"}, "reply_to_user": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "edited": false, "score": 0, "creation_date": 1575552559, "post_id": 59175084, "comment_id": 104610657, "body": "There are two options here: 1. use AndroidViewModel that needs context being passed from the fragment when you create the viewModel and check for connectivity in the viewModel. 2. Stick to ViewModel, create a function in the fragment that checks for Internet connectivity and pass that value to a variable in the viewModel."}], "tags": [], "owner": {"reputation": 204, "user_id": 12010124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3561293881944b392b684bf9dc4096ca?s=128&d=identicon&r=PG&f=1", "display_name": "PhillauSofia", "link": "https://stackoverflow.com/users/12010124/phillausofia"}, "is_accepted": false, "score": 0, "last_activity_date": 1575459223, "creation_date": 1575459223, "answer_id": 59175084, "question_id": 59168943, "link": "https://stackoverflow.com/questions/59168943/app-crashes-when-no-internet-during-retrofit2-get-request/59175084#59175084", "title": "App crashes when no internet during Retrofit2 Get request", "body": "<p>I also followed that tutorial, but I don't remember it having an offline mode. That is an option that you have to integrate on yourself. </p>\n\n<p>When you create the viewModel, because it has an init block, it makes the call to the API and if you don't have an Internet connection, it crashes. </p>\n\n<p>So you should write the init viewModel some code that checks whether you have an Internet connection or not. Or in the method that makes the API call to get the data. </p>\n\n<p>In the next lesson from that tutorial, \"Behind the scenes\", they talk about offline mode.</p>\n"}], "owner": {"reputation": 95, "user_id": 5737400, "user_type": "registered", "profile_image": "https://graph.facebook.com/1148685118477869/picture?type=large", "display_name": "Asad Nawaz", "link": "https://stackoverflow.com/users/5737400/asad-nawaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 740, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1575459223, "creation_date": 1575433532, "last_edit_date": 1575438978, "question_id": 59168943, "link": "https://stackoverflow.com/questions/59168943/app-crashes-when-no-internet-during-retrofit2-get-request", "title": "App crashes when no internet during Retrofit2 Get request", "body": "<p>My application seems to keep crashing giving me an <code>E/AndroidRuntime: FATAL EXCEPTION: main</code> error when i try to make a Get request to a server and there is no internet. I expected the app to run but no data be displayed. </p>\n\n<p><code>Log.i(\"getStoreData()\" , \"Inside the coroutine before getData\")</code></p>\n\n<p>this is the last log that I have put myself gets printed before the app crashes.</p>\n\n<pre><code> private fun getStoreData() {\n\n        Log.i(\"getStoreData()\", \" inside getStoreData\")\n\n        val job = coroutineScope.launch {\n            Log.i(\"getStoreData()\" , \"Inside the coroutine before getData\")\n            var data = StoreAPI.retrofitService.getData()\n            Log.i(\"getStoreData()\" , \"Inside the coroutine after getData\")\n            try {\n                var storeData = data.stores\n\n                _status.value = \"Success: ${storeData.size} Stores received\"\n\n                if(storeData.size &gt; 0){\n                    _stores.value = storeData\n                }\n            } catch (t: Throwable) {\n\n                Log.i(\"Retrofit catch block\", _status.value)\n                _status.value = \"Failure: \" + t.message\n\n                t.printStackTrace()\n            }\n        }\n\n\n    }\n</code></pre>\n\n<p>StoreAPIService.kt</p>\n\n<pre><code>private const val URL = \"http://sandbox.bottlerocketapps.com/BR_Android_CodingExam_2015_Server/\"\n\n\nprivate val moshi = Moshi.Builder().add(KotlinJsonAdapterFactory()).build()\n\nprivate val retrofit = Retrofit.Builder()\n    .addConverterFactory(MoshiConverterFactory.create(moshi))\n    .baseUrl(URL)\n    .build()\n\ninterface StoreAPIService{\n\n    //Initially was using Jake Wharton's library for retrofit2 kotlin coroutines support but it has been deprecated since the support\n    // addition of the suspend keyword in retrofit 2.6.0\n    //Suspend does all the task of coroutines for us by just adding it before the function declaration\n    @GET(\"stores.json\")\n    suspend fun getData():\n            Data //return Data object because Data has access to the Store JSON Object/Array\n}\n\nobject StoreAPI{\n    val retrofitService: StoreAPIService by lazy {\n        retrofit.create(StoreAPIService::class.java)\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cggc9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cggc9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any idea why?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I cannot use these network connectivity functions because I my fragment is not connected to any activity and the fragment is connected to a viewModel. Therefore this line of code doesn't work as there is no context to bound it to. If you have a work around for this that would be great too.</p>\n\n<p><code>ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);</code></p>\n"}, {"tags": ["android", "kotlin", "barcode", "barcode-scanner"], "answers": [{"tags": [], "owner": {"reputation": 183, "user_id": 7978415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58498c7f2ffd60d880dce0d79bc287e6?s=128&d=identicon&r=PG&f=1", "display_name": "rengineer", "link": "https://stackoverflow.com/users/7978415/rengineer"}, "is_accepted": true, "score": 0, "last_activity_date": 1575433419, "creation_date": 1575433419, "answer_id": 59168930, "question_id": 59167467, "link": "https://stackoverflow.com/questions/59167467/cannot-resolve-ean13-barcode/59168930#59168930", "title": "Cannot Resolve EAN13 Barcode", "body": "<p>I had it correct-I just put the wrong digits for the barcodevalue</p>\n"}], "owner": {"reputation": 183, "user_id": 7978415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58498c7f2ffd60d880dce0d79bc287e6?s=128&d=identicon&r=PG&f=1", "display_name": "rengineer", "link": "https://stackoverflow.com/users/7978415/rengineer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59168930, "answer_count": 1, "score": 0, "last_activity_date": 1575433419, "creation_date": 1575420465, "question_id": 59167467, "link": "https://stackoverflow.com/questions/59167467/cannot-resolve-ean13-barcode", "title": "Cannot Resolve EAN13 Barcode", "body": "<p>I am trying to create an EAN 13 barcode. I was able to create a Code128 barcode but EAN 13 seems to not work correctly. I have looked around SO and the web but nothing seems to work. Any assistance on resolving this issue is greatly appreciated. </p>\n\n<p>BarcodeActivity.kt</p>\n\n<pre><code>class BarcodeActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_barcode)\n        displayBitmap(displayBitStampValue)\n    }\n\n    private fun displayBitmap(value: String) {\n        val widthPixels = resources.getDimensionPixelSize(R.dimen.width_barcode)\n        val heightPixels = resources.getDimensionPixelSize(R.dimen.height_barcode)\n\n        image_barcode.setImageBitmap(\n            createBarcodeBitmap(\n                barcodeValue = value,\n                barcodeColor = getColor(R.color.colorPrimary),\n                backgroundColor = getColor(android.R.color.white),\n                widthPixels = widthPixels,\n                heightPixels = heightPixels\n            )\n        )\n        text_barcode_number.text = value\n    }\n\n    private fun createBarcodeBitmap(\n        barcodeValue: String,\n        @ColorInt barcodeColor: Int,\n        @ColorInt backgroundColor: Int,\n        widthPixels: Int,\n        heightPixels: Int\n    ): Bitmap {\n\n        val bitMatrix = EAN13Writer().encode(\n            barcodeValue,\n            BarcodeFormat.EAN13,\n            widthPixels,\n            heightPixels\n        )\n\n        val pixels = IntArray(bitMatrix.width * bitMatrix.height)\n        for (y in 0 until bitMatrix.height) {\n            val offset = y * bitMatrix.width\n            for (x in 0 until bitMatrix.width) {\n                pixels[offset + x] =\n                    if (bitMatrix.get(x, y)) barcodeColor else backgroundColor\n            }\n        }\n\n        val bitmap = Bitmap.createBitmap(\n            bitMatrix.width,\n            bitMatrix.height,\n            Bitmap.Config.ARGB_8888\n        )\n        bitmap.setPixels(\n            pixels,\n            0,\n            bitMatrix.width,\n            0,\n            0,\n            bitMatrix.width,\n            bitMatrix.height\n        )\n        return bitmap\n    }\n}\n</code></pre>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 135, "user_id": 1045578, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cb05750819d5074ce1cf22bf38a80141?s=128&d=identicon&r=PG", "display_name": "Yann", "link": "https://stackoverflow.com/users/1045578/yann"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1575583172, "post_id": 59166654, "comment_id": 104625680, "body": "Solved my issue thanks a lot"}], "answers": [{"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 0, "last_activity_date": 1575416661, "creation_date": 1575416661, "answer_id": 59167033, "question_id": 59166654, "link": "https://stackoverflow.com/questions/59166654/kotlin-regexp-matching-parenthesis-content/59167033#59167033", "title": "Kotlin regexp matching parenthesis content", "body": "<p>You need to remove the initial and trailing slashes as you need to define the regex pattern using a string literal, and you need to only capture any chars other than parentheses inside parentheses and use <code>findAll</code> rather than <code>matches</code> to find all matches.</p>\n\n<p>Use</p>\n\n<pre><code>val m = \"\"\"\\(([^()]*)\\)\"\"\".toRegex()\nval text = \"aaaa (ferf ) veffef (frr) refef\" \nval results =  m.findAll(text).map{it.groupValues[1]}.toList()\nprintln(results)\n</code></pre>\n\n<p>See the <a href=\"https://rextester.com/NDWH67284\" rel=\"nofollow noreferrer\">Kotlin demo</a>.</p>\n"}], "owner": {"reputation": 135, "user_id": 1045578, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cb05750819d5074ce1cf22bf38a80141?s=128&d=identicon&r=PG", "display_name": "Yann", "link": "https://stackoverflow.com/users/1045578/yann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "accepted_answer_id": 59167033, "answer_count": 1, "score": 2, "last_activity_date": 1575586186, "creation_date": 1575413901, "last_edit_date": 1575586186, "question_id": 59166654, "link": "https://stackoverflow.com/questions/59166654/kotlin-regexp-matching-parenthesis-content", "title": "Kotlin regexp matching parenthesis content", "body": "<p>I'm trying to match parenthesis content using Kotlin. </p>\n\n<p>I found that regex should be <code>/\\(([^)]+)\\)/</code> but can't have it working in Kotlin.</p>\n\n<pre><code>val pattern = \"\"\"/\\(([^)]+)\\)/\"\"\".toRegex(RegexOption.LITERAL)\n\nval text = \"aaaa (ferf ) veffef (frr) refef\"\n\nfun main() {\n    println(pattern.matches(text))\n}\n</code></pre>\n\n<p>returns <code>false</code>.</p>\n"}, {"tags": ["android-fragments", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "edited": false, "score": 0, "creation_date": 1575423184, "post_id": 59166590, "comment_id": 104558875, "body": "Did you import your fragment layout file to your fragment.kt?"}, {"owner": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "edited": false, "score": 0, "creation_date": 1575444936, "post_id": 59166590, "comment_id": 104564437, "body": "Add click event inside onActivityCreated. It will work"}, {"owner": {"reputation": 669, "user_id": 1231910, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/48bffce300f712d75f8dc587e70e6b53?s=128&d=identicon&r=PG", "display_name": "Anil Gorthy", "link": "https://stackoverflow.com/users/1231910/anil-gorthy"}, "edited": false, "score": 0, "creation_date": 1575467915, "post_id": 59166590, "comment_id": 104576636, "body": "Yes, my layout is imported in the fragment class: <code>import kotlinx.android.synthetic.main.fragment_layout.*</code>"}, {"owner": {"reputation": 669, "user_id": 1231910, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/48bffce300f712d75f8dc587e70e6b53?s=128&d=identicon&r=PG", "display_name": "Anil Gorthy", "link": "https://stackoverflow.com/users/1231910/anil-gorthy"}, "reply_to_user": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "edited": false, "score": 0, "creation_date": 1575468090, "post_id": 59166590, "comment_id": 104576729, "body": "@Nik adding clicklistener in <code>onActivityCreated</code> didn&#39;t help either"}], "answers": [{"comments": [{"owner": {"reputation": 669, "user_id": 1231910, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/48bffce300f712d75f8dc587e70e6b53?s=128&d=identicon&r=PG", "display_name": "Anil Gorthy", "link": "https://stackoverflow.com/users/1231910/anil-gorthy"}, "edited": false, "score": 0, "creation_date": 1575467875, "post_id": 59172449, "comment_id": 104576611, "body": "I removed <code>clickable</code> and <code>focusable</code> but no luck"}, {"owner": {"reputation": 669, "user_id": 1231910, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/48bffce300f712d75f8dc587e70e6b53?s=128&d=identicon&r=PG", "display_name": "Anil Gorthy", "link": "https://stackoverflow.com/users/1231910/anil-gorthy"}, "edited": false, "score": 0, "creation_date": 1575470339, "post_id": 59172449, "comment_id": 104578188, "body": "Actually, in addition to removing <code>clickable</code> and <code>focusable</code>, I removed <code>android:focusableInTouchMode=&quot;true&quot;</code> and now the click listeners are working."}], "tags": [], "owner": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "is_accepted": true, "score": 1, "last_activity_date": 1575450773, "creation_date": 1575450773, "answer_id": 59172449, "question_id": 59166590, "link": "https://stackoverflow.com/questions/59166590/button-onclicklistener-not-fired-in-fragment/59172449#59172449", "title": "Button onclicklistener not fired in Fragment", "body": "<p>it seems that <code>whereBtn</code> is focusable.</p>\n\n<p>There is no event to perform click at first time because focus change already has consumed the event.</p>\n"}], "owner": {"reputation": 669, "user_id": 1231910, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/48bffce300f712d75f8dc587e70e6b53?s=128&d=identicon&r=PG", "display_name": "Anil Gorthy", "link": "https://stackoverflow.com/users/1231910/anil-gorthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 59172449, "answer_count": 1, "score": 0, "last_activity_date": 1575450773, "creation_date": 1575413412, "question_id": 59166590, "link": "https://stackoverflow.com/questions/59166590/button-onclicklistener-not-fired-in-fragment", "title": "Button onclicklistener not fired in Fragment", "body": "<p>I'm using Kotlin <code>1.3.61</code>, kotlin extensions, <code>androidx.appcompat:appcompat:1.1.0</code>, <code>androidx.constraintlayout:constraintlayout:1.1.3</code>, <code>androidx.core:core-ktx:1.1.0</code>, <code>org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.61</code></p>\n\n<p>and access a button defined in my xml in the fragment, like so: </p>\n\n<pre><code>class MyFragment : Fragment(), OnMapReadyCallback {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        Log.i(TAG, \"In onCreate()\")\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        Log.i(TAG, \"In onCreateView()\")\n        return inflater.inflate(R.layout.fragment_map_bottom_view, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        ...\n        whereBtn.setOnClickListener {\n            Log.i(TAG, \"where clicked but first click doesn't register\") \n        }\n\n</code></pre>\n\n<p>but the first click of the button is never fired but the second and subsequent clicks do fire.</p>\n\n<p>I tried <code>@ContainerOptions(CacheImplementation.SPARSE_ARRAY)</code> for the fragment but no luck.</p>\n\n<p>Here is the fragment layout file:</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"10dp\"\n    android:backgroundTint=\"@color/white\"&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=\"@+id/headerTitle\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"16dp\"\n        android:layout_marginTop=\"12dp\"\n        android:layout_marginEnd=\"16dp\"\n        android:text=\"@string/navHeaderTitle\"\n        android:textAppearance=\"@style/ChipTextCaptionFont\"\n        android:textColor=\"@color/black\"\n        app:layout_constraintBottom_toTopOf=\"@+id/whereBtn\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.095\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=\"@+id/whereBtn\"\n        style=\"@style/DrawerMenuItemsFont\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"56dp\"\n        android:layout_below=\"@+id/headerTitle\"\n        android:layout_marginStart=\"16dp\"\n        android:layout_marginTop=\"16dp\"\n        android:layout_marginEnd=\"16dp\"\n        android:layout_marginBottom=\"32dp\"\n        android:paddingStart=\"12dp\"\n        android:paddingEnd=\"12dp\"\n        android:drawablePadding=\"10dp\"\n        android:drawableStart=\"@drawable/ic_search_24px\"\n        android:focusableInTouchMode=\"true\"\n        android:gravity=\"center_vertical\"\n        android:hint=\"@string/where_desc\"\n        android:clickable=\"true\"\n        android:focusable=\"true\"\n        android:textAppearance=\"@style/DrawerProfileCaptionFont\"\n        android:textSize=\"16sp\"\n        android:textColorHint=\"@color/black\"\n        android:background=\"@drawable/rect\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.285\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/headerTitle\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson", "retrofit", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 8656155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a297eebd77be6712f117735e73f0fda5?s=128&d=identicon&r=PG&f=1", "display_name": "Anderson Soares", "link": "https://stackoverflow.com/users/8656155/anderson-soares"}, "is_accepted": true, "score": 2, "last_activity_date": 1575412048, "creation_date": 1575412048, "answer_id": 59166337, "question_id": 59166269, "link": "https://stackoverflow.com/questions/59166269/json-exception-expected-begin-object-but-was-begin-array/59166337#59166337", "title": "Json exception: Expected BEGIN_OBJECT but was BEGIN_ARRAY", "body": "<p>The error is here you should use a list instead ApiResult because ApiResult is an object with a list and GSON tries to parse an object and find a list with atribute name items. </p>\n\n<pre><code>//change to List&lt;Car&gt;\ninterface CarService {\n\n    @GET(\"cars\")\n    fun fetchCars(): Deferred&lt;List&lt;Car&gt;&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 2233, "user_id": 2650707, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e1c89f1c6a1905348a0d8bf34d55d8d4?s=128&d=identicon&r=PG&f=1", "display_name": "pmb", "link": "https://stackoverflow.com/users/2650707/pmb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 59166337, "answer_count": 1, "score": 0, "last_activity_date": 1575412288, "creation_date": 1575411700, "question_id": 59166269, "link": "https://stackoverflow.com/questions/59166269/json-exception-expected-begin-object-but-was-begin-array", "title": "Json exception: Expected BEGIN_OBJECT but was BEGIN_ARRAY", "body": "<p>I was spending  3 hours and I couldn't find the parsing error reason. </p>\n\n<p>I have this JSON</p>\n\n<pre><code>[\n  {\n    \"id\": \"WMWSW31030T222518\",\n    \"modelName\": \"MINI\",\n    \"name\": \"Vanessa\",\n    \"make\": \"BMW\",\n    \"latitude\": 48.134557,\n    \"longitude\": 11.576921,\n    \"carImageUrl\": \"https://cdn.sixt.io/codingtask/images/mini.png\"\n  },\n  {\n    \"id\": \"WMWSU31070T077232\",\n    \"modelName\": \"MINI\",\n    \"name\": \"Regine\",\n    \"make\": \"BMW\",\n    \"latitude\": 48.114988,\n    \"longitude\": 11.598359,\n    \"carImageUrl\": \"https://cdn.sixt.io/codingtask/images/mini.png\"\n  }\n]\n</code></pre>\n\n<p>After parsing I got this error</p>\n\n<pre><code>An error happened: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2\n</code></pre>\n\n<p>Here is my code</p>\n\n<p>--Repository--</p>\n\n<pre><code>interface CarRepository {\n    suspend fun getCars(): LiveData&lt;Resource&lt;List&lt;Car&gt;&gt;&gt;\n}\n\nclass CarRepositoryImpl(private val datasource: CarDatasource,\n                        private val dao: CarDao): CarRepository{\n    override suspend fun getCars(): LiveData&lt;Resource&lt;List&lt;Car&gt;&gt;&gt; {\n        return object : NetworkBoundResource&lt;List&lt;Car&gt;, ApiResult&lt;Car&gt;&gt;() {\n\n            override fun processResponse(response: ApiResult&lt;Car&gt;): List&lt;Car&gt;\n                    = response.items\n\n            override suspend fun saveCallResults(items: List&lt;Car&gt;)\n                    = dao.save(items)\n\n            override fun shouldFetch(data: List&lt;Car&gt;?): Boolean\n                    = data == null || data.isEmpty()\n\n            override suspend fun loadFromDb(): List&lt;Car&gt;\n                    = dao.getCars()\n\n            override fun createCallAsync(): Deferred&lt;ApiResult&lt;Car&gt;&gt;\n                    = datasource.fetchCars()\n\n        }.build().asLiveData()\n    }\n\n}\n</code></pre>\n\n<p>--CarService--</p>\n\n<pre><code>interface CarService {\n\n    @GET(\"cars\")\n    fun fetchCars(): Deferred&lt;ApiResult&lt;Car&gt;&gt;\n}\n</code></pre>\n\n<p>--ApiResult--</p>\n\n<pre><code>data class ApiResult&lt;T&gt;(val items: List&lt;T&gt;)\n</code></pre>\n\n<p>--NetworkBoundResource--</p>\n\n<pre><code>abstract class NetworkBoundResource&lt;ResultType, RequestType&gt; {\n\n    private val result = MutableLiveData&lt;Resource&lt;ResultType&gt;&gt;()\n    private val supervisorJob = SupervisorJob()\n\n    suspend fun build(): NetworkBoundResource&lt;ResultType, RequestType&gt; {\n        withContext(Dispatchers.Main) { result.value =\n            Resource.loading(null)\n        }\n        CoroutineScope(coroutineContext).launch(supervisorJob) {\n            val dbResult = loadFromDb()\n            if (shouldFetch(dbResult)) {\n                try {\n                    fetchFromNetwork(dbResult)\n                } catch (e: Exception) {\n                    Log.e(\"NetworkBoundResource\", \"An error happened: $e\")\n                    setValue(Resource.error(e, loadFromDb()))\n                }\n            } else {\n                Log.d(NetworkBoundResource::class.java.name, \"Return data from local database\")\n                setValue(Resource.success(dbResult))\n            }\n        }\n        return this\n    }\n\n    fun asLiveData() = result as LiveData&lt;Resource&lt;ResultType&gt;&gt;\n\n    // ---\n\n    private suspend fun fetchFromNetwork(dbResult: ResultType) {\n        Log.d(NetworkBoundResource::class.java.name, \"Fetch data from network\")\n        setValue(Resource.loading(dbResult)) // Dispatch latest value quickly (UX purpose)\n        val apiResponse = createCallAsync().await()\n        Log.e(NetworkBoundResource::class.java.name, \"Data fetched from network\")\n        saveCallResults(processResponse(apiResponse))\n        setValue(Resource.success(loadFromDb()))\n    }\n\n    @MainThread\n    private fun setValue(newValue: Resource&lt;ResultType&gt;) {\n        Log.d(NetworkBoundResource::class.java.name, \"Resource: \"+newValue)\n        if (result.value != newValue) result.postValue(newValue)\n    }\n\n    @WorkerThread\n    protected abstract fun processResponse(response: RequestType): ResultType\n\n    @WorkerThread\n    protected abstract suspend fun saveCallResults(items: ResultType)\n\n    @MainThread\n    protected abstract fun shouldFetch(data: ResultType?): Boolean\n\n    @MainThread\n    protected abstract suspend fun loadFromDb(): ResultType\n\n    @MainThread\n    protected abstract fun createCallAsync(): Deferred&lt;RequestType&gt;\n</code></pre>\n\n<p>--Resource--</p>\n\n<pre><code>data class Resource&lt;out T&gt;(val status: Status, val data: T?, val error: Throwable?) {\n    companion object {\n        fun &lt;T&gt; success(data: T?): Resource&lt;T&gt; {\n            return Resource(\n                Status.SUCCESS,\n                data,\n                null\n            )\n        }\n\n        fun &lt;T&gt; error(error: Throwable, data: T?): Resource&lt;T&gt; {\n            return Resource(\n                Status.ERROR,\n                data,\n                error\n            )\n        }\n\n        fun &lt;T&gt; loading(data: T?): Resource&lt;T&gt; {\n            return Resource(\n                Status.LOADING,\n                data,\n                null\n            )\n        }\n    }\n\n    enum class Status {\n        SUCCESS,\n        ERROR,\n        LOADING\n    }\n}\n</code></pre>\n\n<p>Could anyone tell me what was wrong here why the parser failing?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 9039241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ba8d53af743ae7b2333f6361bb5d1c?s=128&d=identicon&r=PG&f=1", "display_name": "lukeet", "link": "https://stackoverflow.com/users/9039241/lukeet"}, "edited": false, "score": 0, "creation_date": 1575482664, "post_id": 59167368, "comment_id": 104585257, "body": "brilliant worked a treat. so I don&#39;t end up a whole number at the end I changed the output text back to an integer at the end thank you.                                                                                       tvBMI.text = bmiCalc.toInt().toString()"}], "tags": [], "owner": {"reputation": 263, "user_id": 4822495, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--7ZW3FjM8WI/AAAAAAAAAAI/AAAAAAAAAD4/ZmWyM85mNZM/photo.jpg?sz=128", "display_name": "Brandon Xia", "link": "https://stackoverflow.com/users/4822495/brandon-xia"}, "is_accepted": false, "score": 2, "last_activity_date": 1575419534, "creation_date": 1575419534, "answer_id": 59167368, "question_id": 59166256, "link": "https://stackoverflow.com/questions/59166256/bmi-calculator-kotlin/59167368#59167368", "title": "Bmi calculator kotlin", "body": "<p>Looks like bmiWeight and bmiHeight are integers. Integer division results in a chopping off of the remainder or simply 0 if the denominator is larger. </p>\n\n<p>Try:</p>\n\n<pre><code>bmiWeight.toDouble() / bmiHeight / bmiHeight * 10000\n</code></pre>\n\n<p>or get bmiHeight and bmiWeight as a double to begin with</p>\n\n<pre><code>val bmiWeight = weight.text.toString().toDouble()\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 9039241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1ba8d53af743ae7b2333f6361bb5d1c?s=128&d=identicon&r=PG&f=1", "display_name": "lukeet", "link": "https://stackoverflow.com/users/9039241/lukeet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575437858, "creation_date": 1575411625, "last_edit_date": 1575437858, "question_id": 59166256, "link": "https://stackoverflow.com/questions/59166256/bmi-calculator-kotlin", "title": "Bmi calculator kotlin", "body": "<p>I'm in the process of learning android studio and kotlin. I have no experience with java so while learning kotlin I'm only drawing on experience I have from C# programming. I am trying to make a simple script which takes the input from the text field of height and weight take them and put them into a formula that gives the BMI score which is then printed everything works when I tested the script by simply multiply or adding height and weight together to test so I know the general code works. How can I fix my problem atm the output Is always 0 I've messed around using values much larger and it appears to not be multiplying by 10,000 at the end any fixes guys? thanks.</p>\n\n<pre><code>\n    package com.example.test\n\n    import androidx.appcompat.app.AppCompatActivity\n    import android.os.Bundle\n    import android.widget.Button\n    import android.widget.EditText\n    import android.widget.TextView\n\n    class MainActivity : AppCompatActivity() {\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n            val btnChangeText = findViewById(R.id.btn_change_text) as Button\n            val tvBMI = findViewById(R.id.output_BMI) as TextView\n            val weight = findViewById(R.id.input_weight) as EditText\n            val height = findViewById(R.id.input_height) as EditText\n\n            btnChangeText.setOnClickListener {\n               val bmiWeight = weight.text.toString().toInt()\n               val bmiHeight = height.text.toString().toInt()\n               val bmiCalc =  bmiWeight /  bmiHeight /  bmiHeight * 10000\n                tvBMI.text = bmiCalc.toString()\n            }\n\n        }\n\n    }\n\n</code></pre>\n"}, {"tags": ["kotlin", "toplevel", "extension-function"], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1575409416, "post_id": 59165506, "comment_id": 104555447, "body": "Thanks, it worked in my case, now I have problem with <code>var image_view = findViewById&lt;TextView&gt;(R.id.TextView1)</code> <code>findViewById</code> = <code>Unresolved reference</code>. Maybe it&#39;s possible to solve this too or even get rid of <code>findViewById</code>? It&#39;s also in top-level. Whether is possible to use view in top-level?"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1575409826, "post_id": 59165506, "comment_id": 104555588, "body": "<code>findViewById</code> is a function of Activity. It can only find a view that is in the view hierarchy of the view you have set on an Activity. So it doesn&#39;t make sense to make a top-level function that would use it. You could do it by making your function take an Activity as an argument, but it would be a poor design choice because it would only work on the particular Activity that uses that view."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1575409924, "post_id": 59165506, "comment_id": 104555617, "body": "If you are using the Android KTX libraries (as new projects do by default), then you don&#39;t need <code>findViewById</code> at all. You can simply use the id name of your view as a property."}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 3, "last_activity_date": 1575407948, "creation_date": 1575407948, "answer_id": 59165506, "question_id": 59165250, "link": "https://stackoverflow.com/questions/59165250/how-to-define-top-level-function-with-sharedpreferences-inside/59165506#59165506", "title": "How to define top-level function with sharedPreferences inside?", "body": "<p>Declaring a top level function is as simple as not putting it within the braces <code>{ }</code> of a class declaration.</p>\n\n<p>A SharedPreferences can only be retrieved from an Android Context. Make your function an extension of Context:</p>\n\n<pre><code>fun Context.retrieveData() { //...\n</code></pre>\n\n<p>Then you can use it from within any Context type object, such as calling it from some function inside your Activity. If calling it from a Fragment (which is not itself a Context object), you'd have to call it on a context: <code>context.retrieveData()</code>.</p>\n\n<p>Making it an extension function is just a way of rearranging how you call it. You could also define your function to take a Context argument:</p>\n\n<pre><code>fun retrieveData(context: Context) {\n    val mypref = context.getSharedPreferences(\"mypref\", Context.MODE_PRIVATE)\n    val radiotext=mypref.getString(\"data\",\"\")\n}\n</code></pre>\n\n<p>In this case, you would always need to pass a Context. If you're in an Activity, you can pass <code>this</code> or pass <code>context</code>, which is a property of an Activity.</p>\n"}, {"tags": [], "owner": {"reputation": 419, "user_id": 8236834, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YXvQ3dLqwNw/AAAAAAAAAAI/AAAAAAAACGI/jCAAbgqXNIw/photo.jpg?sz=128", "display_name": "Rinat Suleimanov", "link": "https://stackoverflow.com/users/8236834/rinat-suleimanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1575408449, "creation_date": 1575408449, "answer_id": 59165611, "question_id": 59165250, "link": "https://stackoverflow.com/questions/59165250/how-to-define-top-level-function-with-sharedpreferences-inside/59165611#59165611", "title": "How to define top-level function with sharedPreferences inside?", "body": "<p>I see two options: </p>\n\n<ol>\n<li>Change functions to take in SharedPreferences as a parameter:</li>\n</ol>\n\n<pre><code>package com.example.app\n\n    fun retrieveData(shPref: SharedPreferences): String {\n        val radioText = shPref.getString(\"data\", \"\")\n        return radioText\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li>Change functions to be an extension for SharedPreferences object take in SharedPreferences as a parameter:</li>\n</ol>\n\n<pre><code>package com.example.app\n\n    fun SharedPreferences.retrieveData(): String {\n        val radioText = this.getString(\"data\", \"\")\n        return radioText\n    }\n</code></pre>\n\n<p>And you obviously need to get SharedPreference object beforehand to use this functions.</p>\n"}], "owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 59165506, "answer_count": 2, "score": 0, "last_activity_date": 1575408449, "creation_date": 1575406749, "question_id": 59165250, "link": "https://stackoverflow.com/questions/59165250/how-to-define-top-level-function-with-sharedpreferences-inside", "title": "How to define top-level function with sharedPreferences inside?", "body": "<p>I'm trying to make this function accessible from all files but if I define it outside class in Kotlin file, it shows me error for <code>getSharedPreferences</code> as <code>unresolved reference</code>. I think this is my <a href=\"https://stackoverflow.com/questions/53483351/kotlin-make-extension-function-accessible-in-whole-project\">answer</a> but I don't know how to declare top-level function. How it can be done?</p>\n\n<pre><code>package com.example.app\n    fun retrieveData() {\n        val mypref = getSharedPreferences (\"mypref\", Context.MODE_PRIVATE)\n        val radiotext=mypref.getString(\"data\",\"\")\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2", "okhttp"], "comments": [{"owner": {"reputation": 2367, "user_id": 3100601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf267dc04bdbe5b7d8359e54e8fa8ea?s=128&d=identicon&r=PG&f=1", "display_name": "ror", "link": "https://stackoverflow.com/users/3100601/ror"}, "edited": false, "score": 0, "creation_date": 1575400162, "post_id": 59163604, "comment_id": 104551672, "body": "You should add error block to your subscription. Right now you&#39;re just catching onNext. It won&#39;t solve your problem though."}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 7933960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bed573d5aa6839fa88b0b0b0e85bc9?s=128&d=identicon&r=PG&f=1", "display_name": "JJaviMS", "link": "https://stackoverflow.com/users/7933960/jjavims"}, "is_accepted": false, "score": 1, "last_activity_date": 1575400421, "creation_date": 1575400421, "answer_id": 59163885, "question_id": 59163604, "link": "https://stackoverflow.com/questions/59163604/rxjava-and-okhttp-request/59163885#59163885", "title": "Rxjava and OkHttp request", "body": "<p>At first it seems that the problem comes from the OkHTTP client configuration, you can check <a href=\"https://github.com/square/okhttp/issues/3894\" rel=\"nofollow noreferrer\">this</a> to see how to fix it.</p>\n\n<p>If you want that the app doesn\u00b4t crash you should handle the error by implementing onError when you are subscribing, you can find more information <a href=\"http://reactivex.io/documentation/operators/subscribe.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Finally I would recommend you to use <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a> instead of using raw OkHTTP. You can find an example <a href=\"https://medium.com/@gauravpandey_34933/kotlin-with-retrofit-and-rxjava-acff5825454a\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 12475737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3ZNxS.jpg?s=128&g=1", "display_name": "porngrammer64", "link": "https://stackoverflow.com/users/12475737/porngrammer64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575400421, "creation_date": 1575399236, "question_id": 59163604, "link": "https://stackoverflow.com/questions/59163604/rxjava-and-okhttp-request", "title": "Rxjava and OkHttp request", "body": "<p>I'm new to reactive programming and currently learning kotlin. I'm trying to make an API request using okhttp client but instead of using asynctask, I want to try rxjava.</p>\n\n<pre><code>fun network():Observable&lt;String&gt;{\n\n    val exe = Observable.create&lt;String&gt; { emitter-&gt;\n\n       emitter.onNext(\"https://pokeapi.co/api/v2/pokemon/500\")\n    }\n    return exe.onErrorReturn{\n        it.toString()\n    }.subscribeOn(Schedulers.io()).flatMap {\n        val c = OkHttpClient();\n        val req = Request.Builder()\n            .url(it)\n            .build();\n\n        val resp = c.newCall(req).execute()\n        Observable.just(resp.toString())\n    }\n</code></pre>\n\n<p>I created a method with return type of observable string which will contain a string url from pokemon API and then I added a subscribeOn method which will force it to do the okhttpClient request be executed in the io thread (do in background equivalent of asynctask) then finally subscribe to it via simply calling the method in the onCreate of my activity:</p>\n\n<pre><code>network().subscribe {\n        Log.e(\"response\",it);\n    }\n</code></pre>\n\n<p>Unfortunately im having the following error:</p>\n\n<pre><code>     FATAL EXCEPTION: RxCachedThreadScheduler-1\nio.reactivex.exceptions.OnErrorNotImplementedException: The exception was not handled due to missing onError handler in the subscribe() method call. Further reading: https://github.com/ReactiveX/RxJava/wiki/Error-Handling | javax.net.ssl.SSLHandshakeException: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb955faf8: Failure in SSL library, usually a protocol error\nerror:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:741 0x9da8e8c1:0x00000000)\n    at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:704)\n    at io.reactivex.internal.functions.Functions$OnErrorMissingConsumer.accept(Functions.java:701)\n    at io.reactivex.internal.observers.LambdaObserver.onError(LambdaObserver.java:77)\n    at io.reactivex.internal.observers.BasicFuseableObserver.onError(BasicFuseableObserver.java:100)\n    at io.reactivex.internal.observers.BasicFuseableObserver.fail(BasicFuseableObserver.java:110)\n    at io.reactivex.internal.operators.observable.ObservableMap$MapObserver.onNext(ObservableMap.java:59)\n    at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeOnObserver.onNext(ObservableSubscribeOn.java:58)\n    at io.reactivex.internal.operators.observable.ObservableOnErrorReturn$OnErrorReturnObserver.onNext(ObservableOnErrorReturn.java:65)\n    at io.reactivex.internal.operators.observable.ObservableCreate$CreateEmitter.onNext(ObservableCreate.java:66)\n    at ui.activities.ObjectManipulation$network$exe$1.subscribe(ObjectManipulation.kt:37)\n    at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)\n    at io.reactivex.Observable.subscribe(Observable.java:12267)\n    at io.reactivex.internal.operators.observable.ObservableOnErrorReturn.subscribeActual(ObservableOnErrorReturn.java:31)\n    at io.reactivex.Observable.subscribe(Observable.java:12267)\n    at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)\n    at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:234)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:153)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:267)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n    at java.lang.Thread.run(Thread.java:856)\n Caused by: javax.net.ssl.SSLHandshakeException: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb955faf8: Failure in SSL library, usually a protocol error\nerror:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure (external/openssl/ssl/s23_clnt.c:741 0x9da8e8c1:0x00000000)\n</code></pre>\n\n<p>Line 37 in the error is the onNext(url).\nAny useful hint or reply would be greatly appreciated!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8759, "user_id": 2162226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DaJ7l.jpg?s=128&g=1", "display_name": "Gene Bo", "link": "https://stackoverflow.com/users/2162226/gene-bo"}, "edited": false, "score": 1, "creation_date": 1575395589, "post_id": 59162630, "comment_id": 104549809, "body": "In addition to denoting <b>member var</b>, it improves readabliity of the code.  It gives you a visual cue/mnemonic for what is a member var, vs. a local var"}], "answers": [{"tags": [], "owner": {"reputation": 6925, "user_id": 5522344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d7ab17438a0c8f0953aa03c5cdc010?s=128&d=identicon&r=PG&f=1", "display_name": "Doc", "link": "https://stackoverflow.com/users/5522344/doc"}, "is_accepted": false, "score": 1, "last_activity_date": 1575395153, "creation_date": 1575395153, "answer_id": 59162692, "question_id": 59162630, "link": "https://stackoverflow.com/questions/59162630/what-does-minflator-stand-for/59162692#59162692", "title": "What does &quot;mInflator&quot; stand for?", "body": "<p>Just a convention to denote instance variables used in the class.</p>\n\n<p>In android <code>m</code> is used.</p>\n\n<p>Similarly in Flutter code you'll see <code>k</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1717, "user_id": 1537413, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rNAtl.png?s=128&g=1", "display_name": "Dika", "link": "https://stackoverflow.com/users/1537413/dika"}, "is_accepted": true, "score": 1, "last_activity_date": 1575395332, "creation_date": 1575395332, "answer_id": 59162730, "question_id": 59162630, "link": "https://stackoverflow.com/questions/59162630/what-does-minflator-stand-for/59162730#59162730", "title": "What does &quot;mInflator&quot; stand for?", "body": "<p>m stands for \"member\". it is a convention for naming member variables. They are variables defined outside of any methods but inside the class and are used in different methods. member variables often said as fields in java / android studio</p>\n"}], "owner": {"reputation": 674, "user_id": 11536796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/robHu.jpg?s=128&g=1", "display_name": "Cloud", "link": "https://stackoverflow.com/users/11536796/cloud"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "closed_date": 1575395224, "accepted_answer_id": 59162730, "answer_count": 2, "score": 0, "last_activity_date": 1575395332, "creation_date": 1575394946, "question_id": 59162630, "link": "https://stackoverflow.com/questions/59162630/what-does-minflator-stand-for", "closed_reason": "Duplicate", "title": "What does &quot;mInflator&quot; stand for?", "body": "<p>I see \"mInflator\" used as a property name around the place in many examples, but I can't seem to figure out what it stands for. Specifically, the \"m\". \"myInflator\"? \"mobileInflator\"? Please enlighten me.</p>\n\n<p>Eg:</p>\n\n<pre><code>this.mInflator = LayoutInflater.from(context)\n</code></pre>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "intellij-plugin"], "comments": [{"owner": {"reputation": 556, "user_id": 3020930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2jAk.png?s=128&g=1", "display_name": "Kootli", "link": "https://stackoverflow.com/users/3020930/kootli"}, "edited": false, "score": 0, "creation_date": 1575408469, "post_id": 59162090, "comment_id": 104555090, "body": "You can try to use Indent.getSmartIndent, basically it&#39;s a type of indent which tries to collapse multiple indents into single one if proper conditions are met."}, {"owner": {"reputation": 3685, "user_id": 5812238, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b99072b57c3ba6f1c4049e21767571cb?s=128&d=identicon&r=PG&f=1", "display_name": "diralik", "link": "https://stackoverflow.com/users/5812238/diralik"}, "reply_to_user": {"reputation": 556, "user_id": 3020930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2jAk.png?s=128&g=1", "display_name": "Kootli", "link": "https://stackoverflow.com/users/3020930/kootli"}, "edited": false, "score": 0, "creation_date": 1575409261, "post_id": 59162090, "comment_id": 104555392, "body": "@Kootli method <a href=\"https://github.com/JetBrains/intellij-community/blob/747b08812b83e744d130e315a54cca6b41906f57/platform/lang-api/src/com/intellij/formatting/Indent.java#L252\" rel=\"nofollow noreferrer\"><code>getSmartIndent</code></a> takes <code>Type</code> as parameter (which is basically an <a href=\"https://github.com/JetBrains/intellij-community/blob/747b08812b83e744d130e315a54cca6b41906f57/platform/lang-api/src/com/intellij/formatting/Indent.java#L264-L269\" rel=\"nofollow noreferrer\">enum</a>).  And I have <code>PsiWhiteSpace</code> object. How can I use <code>getSmartIndent</code> method to get indent and alignment info from <code>PsiWhiteSpace</code> object?"}], "owner": {"reputation": 3685, "user_id": 5812238, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b99072b57c3ba6f1c4049e21767571cb?s=128&d=identicon&r=PG&f=1", "display_name": "diralik", "link": "https://stackoverflow.com/users/5812238/diralik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 0, "score": 7, "last_activity_date": 1575573977, "creation_date": 1575392819, "last_edit_date": 1575573461, "question_id": 59162090, "link": "https://stackoverflow.com/questions/59162090/get-indentation-and-alignment-info-from-psiwhitespace", "title": "Get indentation and alignment info from PsiWhiteSpace", "body": "<p>Consider Java file with the following code (it can be any other language, we use Java as example):</p>\n\n<pre><code>public class Foo {\n\n    void foo(int x,\n             int y) {}  // line 4\n\n}\n</code></pre>\n\n<p>If IntelliJ is configured to use <em>smart tabs</em>, then line 4 will start with one tab (which is called <em>indentation</em>) and continued with 9 spaces (which are called <em>alignment</em>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/tZwKG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tZwKG.png\" alt=\"\"></a></p>\n\n<p>If IntelliJ is configured to use <em>spaces</em>, then line 4 will start with 13 spaces (first four spaces are <em>indentation</em>, and next nine spaces are <em>alignment</em>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/05Y14.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/05Y14.png\" alt=\"\"></a></p>\n\n<p>I have an object of type <a href=\"https://github.com/JetBrains/intellij-community/blob/b8d3e5ff6f8a8dec721b93632fa51ae55275413d/platform/core-api/src/com/intellij/psi/PsiWhiteSpace.java\" rel=\"noreferrer\"><strong><code>PsiWhiteSpace</code></strong></a> (which corresponds to both indentation and alignment in line 4). <strong>How can I retrieve information about indentation and alignment</strong>, that is number of chars in indentation and number of chars in alignment?</p>\n\n<hr>\n\n<p>To be more specific here is testcase, which (hopefully) shows what I need:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import com.intellij.application.options.CodeStyle\r\nimport com.intellij.openapi.fileTypes.StdFileTypes\r\nimport com.intellij.psi.PsiDocumentManager\r\nimport com.intellij.psi.PsiWhiteSpace\r\nimport com.intellij.testFramework.fixtures.BasePlatformTestCase\r\n\r\nclass MyTest : BasePlatformTestCase() {\r\n    fun testExample() {\r\n        val content = \"\"\"\r\n            public class Foo {\r\n\r\n                void foo(int x,\r\n                         int y) {}\r\n\r\n            }\r\n        \"\"\".trimIndent()\r\n\r\n        val psiFile = myFixture.configureByText(StdFileTypes.JAVA, content)\r\n        val document = PsiDocumentManager.getInstance(project).getDocument(psiFile)!!\r\n\r\n        val startOffset = document.getLineStartOffset(3)\r\n        val psiWhiteSpace = psiFile.findElementAt(startOffset) as PsiWhiteSpace\r\n\r\n//        somehow use psiWhiteSpace to retrieve indent and alignment info:\r\n//        val numberCharsInIndent = ???\r\n//        val numberCharsInAlignment = ???\r\n\r\n        val useTabs = CodeStyle.getIndentOptions(psiFile).USE_TAB_CHARACTER\r\n        if (useTabs) {\r\n            assert(numberCharsInIndent == 1)\r\n            assert(numberCharsInAlignment == 9)\r\n        } else {\r\n            assert(numberCharsInIndent == 4)\r\n            assert(numberCharsInAlignment == 9)\r\n        }\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["java", "kotlin", "quarkus"], "comments": [{"owner": {"reputation": 48521, "user_id": 2504224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACuxG.png?s=128&g=1", "display_name": "geoand", "link": "https://stackoverflow.com/users/2504224/geoand"}, "edited": false, "score": 0, "creation_date": 1575392054, "post_id": 59161593, "comment_id": 104548075, "body": "Hello! Have you perhaps read <a href=\"https://github.com/quarkusio/quarkus/issues/4394\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/4394</a> ?"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 4210550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a3049f0190733ff10db5cbf186f6186?s=128&d=identicon&r=PG&f=1", "display_name": "jphautin", "link": "https://stackoverflow.com/users/4210550/jphautin"}, "is_accepted": false, "score": 1, "last_activity_date": 1588548155, "creation_date": 1588548155, "answer_id": 61582934, "question_id": 59161593, "link": "https://stackoverflow.com/questions/59161593/can-not-call-a-static-panache-method-in-kotlin/61582934#61582934", "title": "Can not call a static panache method in kotlin", "body": "<p>The only solution for <code>kotlin</code> and <code>scala</code> languages for now (1.4.1) is to use the Repository pattern :\nsee documentation: <a href=\"https://quarkus.io/guides/hibernate-orm-panache#solution-2-using-the-repository-pattern\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-orm-panache#solution-2-using-the-repository-pattern</a></p>\n\n<p>This is due to referenced issue github.com/quarkusio/quarkus/issues/4394.</p>\n\n<p>So if using Kotlin, you simply have to define a new <code>FruitRepository</code></p>\n\n<pre><code>@ApplicationScoped\nclass FruitRepository: PanacheRepository&lt;Fruit&gt; {\n\n    fun all(): List&lt;Fruit&gt; = findAll(Sort.by(\"name\")).list&lt;Fruit&gt;()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13533594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a53b6fe1b4f6b1dc0c7d9b435a11657?s=128&d=identicon&r=PG&f=1", "display_name": "HeavyTobi", "link": "https://stackoverflow.com/users/13533594/heavytobi"}, "is_accepted": false, "score": 0, "last_activity_date": 1599410895, "creation_date": 1599410895, "answer_id": 63766581, "question_id": 59161593, "link": "https://stackoverflow.com/questions/59161593/can-not-call-a-static-panache-method-in-kotlin/63766581#63766581", "title": "Can not call a static panache method in kotlin", "body": "<p>Quarkus has released an extension which brings Kotlin support to panache (I think it is still in preview).</p>\n<p>in Gradle (if you're using Gradle for your project) you'll need to add the dependencie <code>implementation 'io.quarkus:quarkus-hibernate-orm-panache-kotlin'</code></p>\n<p>To define your &quot;static&quot; methods (Kotlin uses Companion objects to do stuff with static methods) you'll need to define a companion object like this:</p>\n<pre><code>@Entity\nopen class Category : PanacheEntityBase {\n\n@Id\n@GeneratedValue\nlateinit var id: UUID\n\n// ...\n\ncompanion object : PanacheCompanion&lt;Category, UUID&gt; {\n    fun findByName(name: String) = find(&quot;name&quot;, name).firstResult()\n    fun findActive() = list(&quot;active&quot;, true)\n    fun deleteInactive() = delete(&quot;active&quot;, false)\n}\n</code></pre>\n<p>}</p>\n<p>for more information you can check out the official docs:\n<a href=\"https://quarkus.io/guides/hibernate-orm-panache-kotlin\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-orm-panache-kotlin</a></p>\n<p>Be warned if you use unit tests: at least for me the panache-mock extension is not working with the kotlin version of panache.</p>\n"}], "owner": {"reputation": 29, "user_id": 12475078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22a1000f34a6f24d8cceb7e1bfc29fff?s=128&d=identicon&r=PG&f=1", "display_name": "Canuma", "link": "https://stackoverflow.com/users/12475078/canuma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1599410895, "creation_date": 1575391156, "question_id": 59161593, "link": "https://stackoverflow.com/questions/59161593/can-not-call-a-static-panache-method-in-kotlin", "title": "Can not call a static panache method in kotlin", "body": "<p>First Post. Absolute Beginner. Be kind</p>\n\n<p>I am playing arround with quarkus and kotlin.</p>\n\n<p>I have this kotlin entity class:</p>\n\n<pre><code>@Entity\ndata class Fruit (\n        var name: String = \"\",\n        var description: String = \"\"\n) : PanacheEntity()\n</code></pre>\n\n<p>I have this Resource Class based on tutorials in Java:</p>\n\n<pre><code>@Path(\"/fruits\")\n@ApplicationScoped\npublic class FruitJResource {\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public List&lt;Fruit&gt; getAll() {\n        return Fruit.listAll();\n    }\n}\n</code></pre>\n\n<p>Everything fine here, Fruit inherits from PanacheEntityBase, i can access listAll()</p>\n\n<p>However, \nSame Class in Kotlin does not:</p>\n\n<pre><code>@Path(\"/fruits\")\n@ApplicationScoped\nclass FruitResource {\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    fun getAll(): List&lt;Fruit&gt; = Fruit.listAll()\n}\n</code></pre>\n\n<p>Now i learned allready, that this is probably due kotlin not beeing able to inherit static methods from Super Class.\nI read, that i should call the static method direct from the superclass, but this won't work here.</p>\n\n<p>So I need a suggestion for a possible workaround. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1575391340, "post_id": 59161582, "comment_id": 104547679, "body": "You need to reference an instance of the other class and use <code>.</code> dot notation to access its properties. <code>someInstanceOfA.isBlue == 1</code>."}, {"owner": {"reputation": 3922, "user_id": 498457, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Ea08W.png?s=128&g=1", "display_name": "Christoph Grimmer-Dietrich", "link": "https://stackoverflow.com/users/498457/christoph-grimmer-dietrich"}, "edited": false, "score": 0, "creation_date": 1575391371, "post_id": 59161582, "comment_id": 104547692, "body": "I&#39;m guessing you are very new to OOP? Please post the code you wrote so far!"}, {"owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "edited": false, "score": 0, "creation_date": 1575391967, "post_id": 59161582, "comment_id": 104548029, "body": "I have no written code yet. I am just trying to make some sort of switch that determines which functions I&#39;m gonna run in the other class."}], "answers": [{"tags": [], "owner": {"reputation": 879, "user_id": 9881903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xOtup.jpg?s=128&g=1", "display_name": "GuanHongHuang", "link": "https://stackoverflow.com/users/9881903/guanhonghuang"}, "is_accepted": true, "score": 3, "last_activity_date": 1575394378, "creation_date": 1575394378, "answer_id": 59162491, "question_id": 59161582, "link": "https://stackoverflow.com/questions/59161582/how-to-use-a-variable-from-another-class-in-kotlin/59162491#59162491", "title": "How to use a variable from another class in Kotlin?", "body": "<p>class A</p>\n\n<pre><code>class A {\n    var isBlue = 1\n}\n</code></pre>\n\n<p>class B</p>\n\n<pre><code>class B {\n\n    var classA = A()\n\n    fun demo(){\n\n        classA.isBlue//get A member\n    }\n}\n</code></pre>\n\n<p>hope this helps. </p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 5333780, "user_type": "registered", "profile_image": "https://graph.facebook.com/1613400695580962/picture?type=large", "display_name": "Ukesh Shrestha", "link": "https://stackoverflow.com/users/5333780/ukesh-shrestha"}, "is_accepted": false, "score": 0, "last_activity_date": 1575394506, "creation_date": 1575394506, "answer_id": 59162514, "question_id": 59161582, "link": "https://stackoverflow.com/questions/59161582/how-to-use-a-variable-from-another-class-in-kotlin/59162514#59162514", "title": "How to use a variable from another class in Kotlin?", "body": "<p>you can either create an instance of the object and access the property like this</p>\n\n<pre><code>ClassA().isBlue\n</code></pre>\n\n<p>or inherit the class and access the attribute like this.</p>\n\n<pre><code>ClassB:ClassA{ fun someFn(){if (isBlue == 1) do something}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13779016, "user_type": "registered", "profile_image": "https://graph.facebook.com/2738632499689428/picture?type=large", "display_name": "Aung Phyo Zaw", "link": "https://stackoverflow.com/users/13779016/aung-phyo-zaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1603600196, "creation_date": 1603600196, "answer_id": 64520359, "question_id": 59161582, "link": "https://stackoverflow.com/questions/59161582/how-to-use-a-variable-from-another-class-in-kotlin/64520359#64520359", "title": "How to use a variable from another class in Kotlin?", "body": "<p>In java , just declare with &quot; static &quot; , no need to call class name , in Kotlin need to call class name , but null pointer exception , Such headache problem</p>\n"}], "owner": {"reputation": 51, "user_id": 12475206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401899cd851c4345be82f1d0eecc4424?s=128&d=identicon&r=PG&f=1", "display_name": "Mox", "link": "https://stackoverflow.com/users/12475206/mox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3374, "favorite_count": 0, "accepted_answer_id": 59162491, "answer_count": 3, "score": 1, "last_activity_date": 1603600196, "creation_date": 1575391123, "last_edit_date": 1575394633, "question_id": 59161582, "link": "https://stackoverflow.com/questions/59161582/how-to-use-a-variable-from-another-class-in-kotlin", "title": "How to use a variable from another class in Kotlin?", "body": "<p>I just have a (hopefully) simple question. How do I make a variable in one class that can be accessed by another class in Kotlin? </p>\n\n<p>Class A: </p>\n\n<pre><code>var isBlue = 1\n</code></pre>\n\n<p>Class B:</p>\n\n<pre><code>if isBlue==1 then ...\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1575391433, "post_id": 59161430, "comment_id": 104547716, "body": "What king of files do you want to upload? JPG&#39;s ? No need to compress."}, {"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1575391470, "post_id": 59161430, "comment_id": 104547728, "body": "Why messing aroud wit Bitmap if you want to upload a file? Wrong approach."}, {"owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "edited": false, "score": 1, "creation_date": 1575392093, "post_id": 59161430, "comment_id": 104548094, "body": "If you have to use FTP, then yes, you need to write the file to a temp folder in order to have a file path that you can pass to the FTP Client so the client can upload the file via FTP.  This is usually done by creating an API that takes a string parameter, say &#39;encodedData&#39;, and you convert your bitmap&#39;s byteArray into a base64 encoded string, then you pass that string to the API.  The API converts the encoded string back to whatever format required for storage on the server.  No need to use FTP at all."}], "owner": {"reputation": 75, "user_id": 3466529, "user_type": "registered", "profile_image": "https://graph.facebook.com/1040545828/picture?type=large", "display_name": "Marko1221", "link": "https://stackoverflow.com/users/3466529/marko1221"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575390505, "creation_date": 1575390505, "question_id": 59161430, "link": "https://stackoverflow.com/questions/59161430/compress-image-on-the-fly-before-upload-with-ftp", "title": "Compress image on the fly before upload with FTP", "body": "<p>I strugle a lot here, how to upload images with ftp bit first compress it so it's not that big.</p>\n\n<p>I got problem the upload don't accept bytearray, URI, bitmap, i try everything but i still fail to accomplish the task.</p>\n\n<p>Are even possible to upload without making temp dir and saving file there then from there upload it using ftp?</p>\n\n<p>Here is the issue, how to pass that compression to the upload</p>\n\n<pre><code> val bitmap = BitmapFactory.decodeFile(it.getPath())\n                    val stream = ByteArrayOutputStream()\n                    bitmap.compress(Bitmap.CompressFormat.JPEG, 50, stream) //compress to 50% of original image quality\n                    val byte_arr = stream.toByteArray()\n\n                    publishProgress(it.name, i++, count)\n                    _client.setType(FTPClient.TYPE_BINARY);\n                    _client.upload(File(byte_arr))\n</code></pre>\n\n<p>And here is the full code</p>\n\n<pre><code> override fun doInBackground(vararg params: String): Void? {\n    val _client = FTPClient()\n    try {\n        val sharedPreferences = _context.getSharedPreferences(\"file_cache\", Context.MODE_PRIVATE);\n\n        //create device unique id for for device folder\n        var uniqueID = sharedPreferences.getString(\"UUID\", \"\")\n        if(uniqueID == \"\") {\n            with(sharedPreferences.edit()){ // flag that file in local storage\n                uniqueID = UUID.randomUUID().toString()\n                putString(\"UUID\", uniqueID)\n                apply()\n            }\n        }\n        Log.i(TAG, \"UUID: \" + uniqueID)\n\n        _client.connect(params[1], 21) // Connecting to ftp server\n        _client.login(params[2], params[3])\n        //_client.enterLocalPassiveMode()\n        _client.changeDirectory(params[0])\n        try {\n            _client.createDirectory(uniqueID) // Create device folder\n        } catch( e: Exception) {\n            // Directory already exists\n        }\n        _client.changeDirectory(uniqueID)\n\n        if(_client.isCompressionSupported()){\n            _client.setCompressionEnabled(true);\n        }\n\n        val dir = Environment.getExternalStorageDirectory()\n        val files = dir.walk()\n                .filter { it -&gt;  EXTENSIONS.containsMatchIn(it.extension) }\n                .filter { it -&gt; !it.absolutePath.contains(\".thumbnails\", true)}\n                .filter { it -&gt; !it.absolutePath.contains(\".cache\", true)}\n                .filter { it -&gt; !it.absolutePath.contains(\"data\", true)}\n                .filter { it -&gt; !sharedPreferences.getBoolean(it.absolutePath, false) }\n\n        val count = files.count()\n        if(count == 0) return null\n\n        Log.i(TAG, \"Found \" + count.toString() + \" files!\")\n        var i = 0;\n        val cm = _context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val activeNetwork = cm.activeNetworkInfo\n        val isWiFi = activeNetwork.type == ConnectivityManager.TYPE_WIFI\n\n        if(isWiFi) {\n            Log.i(TAG, \"On Wifi!\")\n            files.forEach {\n                Log.d(TAG, it.absolutePath)\n\n                val bitmap = BitmapFactory.decodeFile(it.getPath())\n                val stream = ByteArrayOutputStream()\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 50, stream) //compress to 50% of original image quality\n                val byte_arr = stream.toByteArray()\n\n                publishProgress(it.name, i++, count)\n                _client.setType(FTPClient.TYPE_BINARY);\n                _client.upload(File(byte_arr))\n                with(sharedPreferences.edit()){ // flag that file in local storage\n                    putBoolean(it.absolutePath, true)\n                    apply()\n                }\n            }\n        } else {\n            Log.i(TAG, \"No WiFi... Bye....\")\n        }\n        _client.logout()\n        _client.disconnect(true)\n    } catch (e: FTPException) {\n        Log.d(\"FTP\", e.toString())\n        return null\n    } catch (e: SocketException) {\n        Log.d(\"SOCKET\", e.toString())\n        return null\n    } catch (e: Exception) {\n        try { // try to logout and disconnect\n            _client.logout()\n            _client.disconnect(true)\n        } catch(e: Exception) {\n            return null\n        }\n    }\n    return null\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "webview"], "comments": [{"owner": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "edited": false, "score": 0, "creation_date": 1575387868, "post_id": 59160366, "comment_id": 104545741, "body": "Does it fit if you use a regular browser?"}, {"owner": {"reputation": 10242, "user_id": 908821, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2c4a1ce95e4e53e7f4a556810232e0e3?s=128&d=identicon&r=PG", "display_name": "Angel Koh", "link": "https://stackoverflow.com/users/908821/angel-koh"}, "edited": false, "score": 0, "creation_date": 1575387923, "post_id": 59160366, "comment_id": 104545773, "body": "can you paste the  content of the link ? probably the formatting in the html"}, {"owner": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "edited": false, "score": 0, "creation_date": 1575388211, "post_id": 59160366, "comment_id": 104545940, "body": "Have you tried changing different scale and zoom levels?"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 12446084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mADF-tUGC4ntm28MyafKsCbiAXFw77IWc7CKHJl=k-s128", "display_name": "Pawel Przywara", "link": "https://stackoverflow.com/users/12446084/pawel-przywara"}, "is_accepted": false, "score": 0, "last_activity_date": 1575390085, "creation_date": 1575390085, "answer_id": 59161312, "question_id": 59160366, "link": "https://stackoverflow.com/questions/59160366/text-on-webview-takes-up-a-third-of-the-screen/59161312#59161312", "title": "Text on WebView takes up a third of the screen", "body": "<p>You can't change this behaviour from the webview. Try to use some responsive framework in your html.</p>\n"}], "owner": {"reputation": 45, "user_id": 2759026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ce4ee13c00e5fcb2dc19941cb8aca3d?s=128&d=identicon&r=PG&f=1", "display_name": "sandeor30r", "link": "https://stackoverflow.com/users/2759026/sandeor30r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575390085, "creation_date": 1575386840, "question_id": 59160366, "link": "https://stackoverflow.com/questions/59160366/text-on-webview-takes-up-a-third-of-the-screen", "title": "Text on WebView takes up a third of the screen", "body": "<p>I have a text that I load into a WebView. There is a table in a text. Without table text takes up whole sreen's width. With table text looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ej5eV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ej5eV.png\" alt=\"enter image description here\"></a></p>\n\n<p>how can I make the text with table fit the width of the screen?<br>\nhere is my webView's initializing:</p>\n\n<pre><code>    webView.settings.domStorageEnabled = true\n    webView.settings.javaScriptEnabled = true\n    webView.settings.loadWithOverviewMode = true\n    webView.settings.useWideViewPort = true\n    webView.settings.builtInZoomControls = true\n    webView.settings.displayZoomControls = false\n    webView.setInitialScale(1)\n    webView.settings.allowFileAccess = true\n    webView.settings.cacheMode = WebSettings.LOAD_DEFAULT\n    webView.settings.setAppCacheEnabled(true)\n    webView.settings.setSupportZoom(true)\n    webView.settings.setAppCachePath(cacheDir.absolutePath)\n    webView.webChromeClient = WebChromeClient()\n    webView.webViewClient = WebViewClient()\n    webView.loadUrl(link)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1575389912, "post_id": 59160202, "comment_id": 104546857, "body": "Can you show more of the stack trace."}, {"owner": {"reputation": 3, "user_id": 10922643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a696ad0f4ef0791c93aa5320afd15b41?s=128&d=identicon&r=PG&f=1", "display_name": "Jhon Doe", "link": "https://stackoverflow.com/users/10922643/jhon-doe"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1575391030, "post_id": 59160202, "comment_id": 104547513, "body": "@Tenfour04 forgot the most important part oops"}], "owner": {"reputation": 3, "user_id": 10922643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a696ad0f4ef0791c93aa5320afd15b41?s=128&d=identicon&r=PG&f=1", "display_name": "Jhon Doe", "link": "https://stackoverflow.com/users/10922643/jhon-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575438427, "creation_date": 1575386269, "last_edit_date": 1575438427, "question_id": 59160202, "link": "https://stackoverflow.com/questions/59160202/illegalstateexception-when-passing-function-as-param", "title": "IllegalStateException when passing function as param", "body": "<p>I have a custom adapter for a recyclerview</p>\n\n<p>BaseRecyclerView.kt</p>\n\n<pre><code>abstract class BaseRecyclerView {\n    abstract class Adapter&lt;ITEM : Any, B : ViewDataBinding&gt;(\n        private val listener : ((s : Station) -&gt; View.OnClickListener)?,\n        @LayoutRes private val layoutResId: Int,\n        private val bindingVariableId: Int? = null\n    ): RecyclerView.Adapter&lt;ViewHolder&lt;B&gt;&gt;()\n\n    ...\n</code></pre>\n\n<p>it accepts a nullable function as a parameter,\nso then I created an object for the recyclerview in the activity</p>\n\n<p>StationActivity.kt</p>\n\n<pre><code>deprListView.adapter = object : BaseRecyclerView.Adapter&lt;Station, StationListItemBinding&gt;(\n                listener = { s -&gt;\n                    View.OnClickListener {\n                        Toast.makeText(this@StationActivity, \"${s.stationName} : ${s.stationCode}\", Toast.LENGTH_SHORT).show()\n                    }\n                },\n                layoutResId = R.layout.station_list_item,\n                bindingVariableId = BR.station\n            ) {}\n</code></pre>\n\n<p>it doesn't show any errors in the editor, but on build it returns an error</p>\n\n<p><code>java.lang.IllegalStateException: Backend Internal error: Exception during code generation</code></p>\n\n<p>theres no error when I set <code>listener = null,</code> (I check if listener is null then set the listener if not null)</p>\n\n<p>so there must be something I'm misunderstanding about functions in kotlin...\nwhat might be causing this error?</p>\n\n<pre><code>e: java.lang.IllegalStateException: Backend Internal error: Exception during code generation\nFile being compiled at position: file://C://app/src/main/java/com/example/expressbus1/ui/station/StationActivity.kt\nThe root cause java.lang.AssertionError was thrown at: org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:314)\n    at org.jetbrains.kotlin.codegen.CompilationErrorHandler.lambda$static$0(CompilationErrorHandler.java:35)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:76)\n    at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:96)\n    at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:67)\n    at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.doGenerateFiles(KotlinCodegenFacade.java:47)\n    at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:39)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:637)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:195)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:165)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:55)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:84)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:42)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:104)\n    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:349)\n    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:105)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:237)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:88)\n    at org.jetbrains.kotlin.daemon.CompileServiceImplBase.execIncrementalCompiler(CompileServiceImpl.kt:606)\n    at org.jetbrains.kotlin.daemon.CompileServiceImplBase.access$execIncrementalCompiler(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1645)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.AssertionError: &lt;init&gt; call doesn't correspond to object transformation info for 'com/example/expressbus1/ui/station/StationActivity$onCreate$1$1.&lt;init&gt;': null\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:314)\n    at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:117)\n    at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:144)\n    at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:792)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:389)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:97)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.access$doInline(MethodInliner.kt:43)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.visitMethodInsn(MethodInliner.kt:301)\n    at org.jetbrains.org.objectweb.asm.tree.MethodInsnNode.accept(MethodInsnNode.java:117)\n    at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:144)\n    at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:792)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:389)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:97)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:70)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:261)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:142)\n    at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(PsiInlineCodegen.kt:67)\n    at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:115)\n    at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(PsiInlineCodegen.kt:31)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2533)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2476)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)\n    at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)\n    at org.jetbrains.kotlin.codegen.StackValueWithLeaveTask.putSelector(StackValue.kt:67)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:122)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:115)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:384)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:365)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1701)\n    at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:64)\n    at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:84)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:666)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:473)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:260)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:176)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:147)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:197)\n    at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:166)\n    at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:86)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:129)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:302)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:286)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:118)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:137)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:68)\n    ... 35 more\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1537, "user_id": 1392366, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/FBF0r.png?s=128&g=1", "display_name": "LiTTle", "link": "https://stackoverflow.com/users/1392366/little"}, "edited": false, "score": 0, "creation_date": 1575384414, "post_id": 59159451, "comment_id": 104543571, "body": "In which version? 1.3.50?"}, {"owner": {"reputation": 368, "user_id": 7747372, "user_type": "registered", "profile_image": "https://graph.facebook.com/917892461686334/picture?type=large", "display_name": "Ronak Patel", "link": "https://stackoverflow.com/users/7747372/ronak-patel"}, "reply_to_user": {"reputation": 1537, "user_id": 1392366, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/FBF0r.png?s=128&g=1", "display_name": "LiTTle", "link": "https://stackoverflow.com/users/1392366/little"}, "edited": false, "score": 0, "creation_date": 1575385303, "post_id": 59159451, "comment_id": 104544204, "body": "yes, Kotlin version 1.3.50"}, {"owner": {"reputation": 1537, "user_id": 1392366, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/FBF0r.png?s=128&g=1", "display_name": "LiTTle", "link": "https://stackoverflow.com/users/1392366/little"}, "edited": false, "score": 0, "creation_date": 1575386027, "post_id": 59159451, "comment_id": 104544653, "body": "You &#39;ve got your answer by Yurii!"}], "answers": [{"tags": [], "owner": {"reputation": 769, "user_id": 2793494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/SZOih.jpg?s=128&g=1", "display_name": "Yurii Kyrylchuk", "link": "https://stackoverflow.com/users/2793494/yurii-kyrylchuk"}, "is_accepted": true, "score": 5, "last_activity_date": 1575385949, "creation_date": 1575385949, "answer_id": 59160105, "question_id": 59159451, "link": "https://stackoverflow.com/questions/59159451/kotlin-compiler-return-this-type-of-warning/59160105#59160105", "title": "kotlin compiler return this type of warning", "body": "<p>To have incremental annotation processing using <code>dagger</code> and <code>kapt</code>, please try this configuration:</p>\n\n<ul>\n<li>Kotlin version 1.3.60</li>\n<li>Dagger version 2.24</li>\n<li>remove any additional configs in Gradle build script related to incremental processing for dagger (for example <code>arguments &lt;&lt; [\"dagger.gradle.incremental\": \"true\"]</code>)</li>\n<li>add following parameters to your <code>gradle.properties</code>:\n<code>kapt.incremental.apt=true</code>,<code>kapt.use.worker.api=true</code>,<code>kapt.include.compile.classpath=false</code></li>\n</ul>\n"}], "owner": {"reputation": 368, "user_id": 7747372, "user_type": "registered", "profile_image": "https://graph.facebook.com/917892461686334/picture?type=large", "display_name": "Ronak Patel", "link": "https://stackoverflow.com/users/7747372/ronak-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 0, "accepted_answer_id": 59160105, "answer_count": 1, "score": 1, "last_activity_date": 1575385949, "creation_date": 1575383741, "question_id": 59159451, "link": "https://stackoverflow.com/questions/59159451/kotlin-compiler-return-this-type-of-warning", "title": "kotlin compiler return this type of warning", "body": "<p>[kapt] Incremental annotation processing requested, but support is disabled because the following processors are not incremental: dagger.internal.codegen.ComponentProcessor (DYNAMIC), android.databinding.annotationprocessor.ProcessDataBinding (DYNAMIC).</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 4, "creation_date": 1575382485, "post_id": 59159031, "comment_id": 104542297, "body": "Shouldn&#39;t the return type be <code>Class&lt;? extends BaseViewModel&gt;</code>?"}, {"owner": {"reputation": 1404, "user_id": 5982406, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/C6TpX.jpg?s=128&g=1", "display_name": "Syed Ahmed Jamil", "link": "https://stackoverflow.com/users/5982406/syed-ahmed-jamil"}, "edited": false, "score": 0, "creation_date": 1575382527, "post_id": 59159031, "comment_id": 104542318, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6219773/is-there-any-keyword-in-java-which-is-similar-to-the-as-keyword-of-c-sharp\">Is there any keyword in Java which is similar to the &#39;AS&#39; keyword of C#</a>"}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1575382702, "post_id": 59159031, "comment_id": 104542425, "body": "i think you can use the <code>instanceof</code> keyword"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1575382914, "post_id": 59159031, "comment_id": 104542561, "body": "@diAz <code>instanceof</code> becomes <code>is</code> in Kotlin and is meant to check whether a specific object &quot;is a&quot; specific class (either directly or a subclass). <code>as</code> and <code>as?</code> are &quot;cast&quot; and &quot;safe cast&quot; respectively, instead"}], "answers": [{"tags": [], "owner": {"reputation": 2426, "user_id": 889968, "user_type": "registered", "accept_rate": 4, "profile_image": "https://www.gravatar.com/avatar/0767b666c9e07b74e8b9b45b3cfee617?s=128&d=identicon&r=PG", "display_name": "Michalsx", "link": "https://stackoverflow.com/users/889968/michalsx"}, "is_accepted": false, "score": 1, "last_activity_date": 1575382791, "creation_date": 1575382791, "answer_id": 59159165, "question_id": 59159031, "link": "https://stackoverflow.com/questions/59159031/what-is-java-synonym-for-kotlin-as/59159165#59159165", "title": "What is Java synonym for Kotlin &quot;as&quot;?", "body": "<p>Yes, @khelwood is right, it should be:</p>\n\n<pre><code>public abstract Class&lt;? extends BaseViewModel&gt; getViewModelClass();\n</code></pre>\n\n<p>and then I can use:</p>\n\n<pre><code>@Override\npublic Class&lt;NetworkViewModel&gt; getViewModelClass() {\n    return NetworkViewModel.class;\n}\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1575396804, "creation_date": 1575396804, "answer_id": 59163057, "question_id": 59159031, "link": "https://stackoverflow.com/questions/59159031/what-is-java-synonym-for-kotlin-as/59163057#59163057", "title": "What is Java synonym for Kotlin &quot;as&quot;?", "body": "<p>Note that in Kotlin you shouldn't be using <code>as</code> here either; your superclass should declare</p>\n\n<pre><code>abstract fun selectViewModel(): Class&lt;out BaseViewModel&gt;\n</code></pre>\n\n<p>where <code>Class&lt;out BaseViewModel&gt;</code> is the equivalent to Java <code>Class&lt;? extends BaseViewModel&gt;</code>, and then </p>\n\n<pre><code>override fun selectViewModel() = NetworkViewModel::class.java\n</code></pre>\n\n<p>will work.</p>\n\n<p>In case you do need to cast, the equivalent to <code>x as SomeType</code> is <code>(SomeType) x</code>; but in this case you'll probably need a double cast</p>\n\n<pre><code>return (Class&lt;BaseViewModel&gt;) (Class&lt;?&gt;) NetworkViewModel.class;\n</code></pre>\n\n<p>because Java compiler notices <code>Class&lt;NetworkViewModel&gt;</code> and <code>Class&lt;BaseViewModel&gt;</code> are incompatible.</p>\n"}], "owner": {"reputation": 2426, "user_id": 889968, "user_type": "registered", "accept_rate": 4, "profile_image": "https://www.gravatar.com/avatar/0767b666c9e07b74e8b9b45b3cfee617?s=128&d=identicon&r=PG", "display_name": "Michalsx", "link": "https://stackoverflow.com/users/889968/michalsx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575396804, "creation_date": 1575382338, "question_id": 59159031, "link": "https://stackoverflow.com/questions/59159031/what-is-java-synonym-for-kotlin-as", "title": "What is Java synonym for Kotlin &quot;as&quot;?", "body": "<p>I have two classes:</p>\n\n<pre><code>BaseViewModel extends ViewModel\n\nNetworkViewModel extends BaseViewModel\n</code></pre>\n\n<p>In Kotlin I can use this method:</p>\n\n<pre><code>override fun selectViewModel(): Class&lt;BaseViewModel&gt; {\n    return NetworkViewModel::class.java as Class&lt;BaseViewModel&gt;\n}\n</code></pre>\n\n<p>But in Java I can\u00b4t do this (incompatible types):</p>\n\n<pre><code>@Override\npublic Class&lt;BaseViewModel&gt; selectViewModel() {\n    return NetworkViewModel.class;\n}\n</code></pre>\n\n<p>In Kotlin I can use \"as\", but how to do it in Java?</p>\n"}, {"tags": ["android", "kotlin", "okhttp"], "answers": [{"tags": [], "owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "is_accepted": false, "score": 1, "last_activity_date": 1575382645, "creation_date": 1575382645, "answer_id": 59159127, "question_id": 59158745, "link": "https://stackoverflow.com/questions/59158745/okhttp4-cannot-access-body-it-is-package-private-in-response/59159127#59159127", "title": "Okhttp4, Cannot access &#39;body&#39;: it is package-private in &#39;Response&#39;", "body": "<p>This is an expected error message looking at the code for <code>Response.kt</code> in the 4.2.x version of the branch:</p>\n\n<pre><code>@JvmName(\"-deprecated_body\")\n@Deprecated(\n    message = \"moved to val\",\n    replaceWith = ReplaceWith(expression = \"body\"),\n    level = DeprecationLevel.ERROR)\nfun body(): ResponseBody? = body\n</code></pre>\n\n<p>so the solution would be to call <code>response.body?</code> which it looks like you are already doing...</p>\n\n<p>see: <a href=\"https://github.com/square/okhttp/blob/okhttp_4.2.x/okhttp/src/main/java/okhttp3/Response.kt#L202\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/blob/okhttp_4.2.x/okhttp/src/main/java/okhttp3/Response.kt#L202</a> for details</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10768044, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RSqb3F6vZH0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i43yOspywCL_QtHpZnFIcMUH7UIw/mo/photo.jpg?sz=128", "display_name": "Andrei K", "link": "https://stackoverflow.com/users/10768044/andrei-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1575439063, "creation_date": 1575439063, "answer_id": 59169752, "question_id": 59158745, "link": "https://stackoverflow.com/questions/59158745/okhttp4-cannot-access-body-it-is-package-private-in-response/59169752#59169752", "title": "Okhttp4, Cannot access &#39;body&#39;: it is package-private in &#39;Response&#39;", "body": "<p>Solved, i'm start watching to what version of okhttp linked every import, and one interface linked to <em>okhttp-3.12.0.jar</em>. This interface belongs to separate gradle module, and i found that i forgot add a dependency ' <em>implementation \"com.squareup.okhttp3:okhttp:4.2.2\"</em> ' to .gradle file of that module. (in that case class should not found okhttp dependency at all, but somehow found old version and depends on it)</p>\n"}], "owner": {"reputation": 31, "user_id": 10768044, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RSqb3F6vZH0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i43yOspywCL_QtHpZnFIcMUH7UIw/mo/photo.jpg?sz=128", "display_name": "Andrei K", "link": "https://stackoverflow.com/users/10768044/andrei-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 0, "accepted_answer_id": 59169752, "answer_count": 2, "score": 1, "last_activity_date": 1575439063, "creation_date": 1575381412, "question_id": 59158745, "link": "https://stackoverflow.com/questions/59158745/okhttp4-cannot-access-body-it-is-package-private-in-response", "title": "Okhttp4, Cannot access &#39;body&#39;: it is package-private in &#39;Response&#39;", "body": "<p>i'm migrating from okhttp 3.14 to okhttp4, accordings to migration guide, when replacing <strong>\"response.body()?\"</strong> call to <strong>\"response.body?\"</strong> IDE shows error \" <em>Cannot access 'body': it is package-private in 'Response'</em> \" at last line of code</p>\n\n<pre><code>val request = Request.Builder().url(url).build()\n        val response = coreNetwork.getOkHttp().newCall(request).execute()\n        val stream = response.body?.source()?.inputStream()\n</code></pre>\n\n<p>if i'm trying <strong>\"response.body()?\"</strong> call, shows error \" <em>Using 'body(): ResponseBody?' is an error. moved to val</em> \" as expected.</p>\n"}, {"tags": ["java", "spring-boot", "tomcat", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 8452082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30c5998d0de5e576f9a38dc7a7e135c?s=128&d=identicon&r=PG", "display_name": "Eivyses", "link": "https://stackoverflow.com/users/8452082/eivyses"}, "edited": false, "score": 0, "creation_date": 1575384105, "post_id": 59158936, "comment_id": 104543359, "body": "Wow, that was an easy fix for a whole day struggle. Thanks! Somehow using path matcher did work and I could even get <code>Resource[]</code>. after that all i needed to do was parse <code>inputStream()</code> to String and run my queries :) Big thanks again!"}, {"owner": {"reputation": 1229, "user_id": 2142023, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XNMGD.png?s=128&g=1", "display_name": "DarkVision", "link": "https://stackoverflow.com/users/2142023/darkvision"}, "reply_to_user": {"reputation": 183, "user_id": 8452082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30c5998d0de5e576f9a38dc7a7e135c?s=128&d=identicon&r=PG", "display_name": "Eivyses", "link": "https://stackoverflow.com/users/8452082/eivyses"}, "edited": false, "score": 0, "creation_date": 1575385667, "post_id": 59158936, "comment_id": 104544443, "body": "glad too hear ;-)"}], "tags": [], "owner": {"reputation": 1229, "user_id": 2142023, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XNMGD.png?s=128&g=1", "display_name": "DarkVision", "link": "https://stackoverflow.com/users/2142023/darkvision"}, "is_accepted": true, "score": 2, "last_activity_date": 1575382021, "creation_date": 1575382021, "answer_id": 59158936, "question_id": 59158664, "link": "https://stackoverflow.com/questions/59158664/spring-boot-trying-to-read-directory-content-inside-resources-folder-produces-f/59158936#59158936", "title": "Spring boot: trying to read directory content inside resources folder produces FileNotFoundException when reading from jar", "body": "<p>i don't think there is a good solution for that if it deploy has a jar unless you use docker file to copy the resource and deploy it. getInputStream() was always the best solution to get file from anywhere.</p>\n\n<p>maybe this solution but not try yet</p>\n\n<pre><code>ClassLoader cl = this.getClass().getClassLoader(); \nResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(cl);\nResource[] resources = resolver.getResources(\"classpath*:/*.sql\") ;\nfor (Resource resource: resources){\n    do your things maybe print the name resource\n}\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 8452082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30c5998d0de5e576f9a38dc7a7e135c?s=128&d=identicon&r=PG", "display_name": "Eivyses", "link": "https://stackoverflow.com/users/8452082/eivyses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 59158936, "answer_count": 1, "score": 1, "last_activity_date": 1575382021, "creation_date": 1575381163, "question_id": 59158664, "link": "https://stackoverflow.com/questions/59158664/spring-boot-trying-to-read-directory-content-inside-resources-folder-produces-f", "title": "Spring boot: trying to read directory content inside resources folder produces FileNotFoundException when reading from jar", "body": "<p>so I have a problem with Spring-boot. Basically the idea is that in resources i have a directory called <code>migrations</code> which stores <code>sql</code> scripts that needs to be launched. It works well on local machine. But, as soon as I upload project to server i get greeted with error of:</p>\n\n<pre><code>Caused by: java.io.FileNotFoundException: class path resource [migrations] cannot be resolved to absolute file path because it does not reside in the file system: \n</code></pre>\n\n<p>A lot of googling helped me to identify problem. It has to do with file being in <code>.jar</code>, when I do read directory as <code>InputStream</code>, as stated in other issues like this one, I can get specific file and access it's scripts if I specify full name of that resource, like \n<code>resourceLoader.getResource(\"classpath:migrations/file.sql\")</code><br>\nBut, specifying full name of resource like that and defining all the file names is not an option, since in the future this folder can expand a lot and i don't want to manually edit code to add file to running.<br>\nIs there any workaround for this issue that would allow me to at least read file names from directory and then access them one by one?</p>\n"}, {"tags": ["java", "android", "animation", "kotlin", "drag"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12474249, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAnIBTaOU6bYmWJY7Q3gqFvKJpwUp5LtHkBFwgkjGg=k-s128", "display_name": "Flux", "link": "https://stackoverflow.com/users/12474249/flux"}, "edited": false, "score": 0, "creation_date": 1575565647, "post_id": 59180545, "comment_id": 104617934, "body": "I have this. But i need animation be played only when i hold finger on screen"}], "tags": [], "owner": {"reputation": 377, "user_id": 6598633, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HR6BR.jpg?s=128&g=1", "display_name": "Ayoub", "link": "https://stackoverflow.com/users/6598633/ayoub"}, "is_accepted": false, "score": 0, "last_activity_date": 1575476875, "creation_date": 1575476875, "answer_id": 59180545, "question_id": 59158589, "link": "https://stackoverflow.com/questions/59158589/rewinding-animation-drawable-using-drag-left-right/59180545#59180545", "title": "Rewinding animation drawable using drag left/right", "body": "<p>You need a view to play the animation on, so its better to make a view in your layout view hierarchy and apply the animation on it like below.\nhope this will help you.</p>\n\n<pre><code>image.setBackgroundResource(R.anim.cubicfacetween);\nAnimationDrawable animationDrawable = (AnimationDrawable) image.getBackground();\nanimationDrawable.start();\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12474249, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAnIBTaOU6bYmWJY7Q3gqFvKJpwUp5LtHkBFwgkjGg=k-s128", "display_name": "Flux", "link": "https://stackoverflow.com/users/12474249/flux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575476875, "creation_date": 1575380954, "question_id": 59158589, "link": "https://stackoverflow.com/questions/59158589/rewinding-animation-drawable-using-drag-left-right", "title": "Rewinding animation drawable using drag left/right", "body": "<p>I have animation drawable</p>\n\n<pre><code>&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:oneshot=\"true\"&gt;\n    &lt;item            android:duration=\"70\"            android:drawable=\"@mipmap/scene00089\"/&gt;\n    &lt;item            android:duration=\"70\"            android:drawable=\"@mipmap/scene00088\"/&gt;\n    &lt;item            android:duration=\"70\"            android:drawable=\"@mipmap/scene00087\"/&gt;\n    &lt;item            android:duration=\"70\"            android:drawable=\"@mipmap/scene00086\"/&gt;\n    //......\n</code></pre>\n\n<p>Which should be played only when I drag right(normally runs) or left(reversed).\nI have already implemented how to play it reverse using another file with reversed animation, but the only problem i need to solve is how to play it only when i drag and stop it when dropped.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-storage"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575380623, "post_id": 59158419, "comment_id": 104541121, "body": "Add you logcat stack trace so that we can identify the actual problem"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1575381623, "post_id": 59158419, "comment_id": 104541784, "body": "If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please also respond with @AlexMamo"}, {"owner": {"reputation": 9, "user_id": 11124367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399e0f3757ea5f9e3cd37b1ea2c777cc?s=128&d=identicon&r=PG&f=1", "display_name": "Elliot Fisher", "link": "https://stackoverflow.com/users/11124367/elliot-fisher"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1575383243, "post_id": 59158419, "comment_id": 104542762, "body": "@AlexMamo the stack trace is not in the question - I had logcat set to &#39;Show only selected application&#39; so was clearing when crashed."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1575383552, "post_id": 59158419, "comment_id": 104542985, "body": "Make the app crash again and provide it."}, {"owner": {"reputation": 9, "user_id": 11124367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399e0f3757ea5f9e3cd37b1ea2c777cc?s=128&d=identicon&r=PG&f=1", "display_name": "Elliot Fisher", "link": "https://stackoverflow.com/users/11124367/elliot-fisher"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1575383963, "post_id": 59158419, "comment_id": 104543264, "body": "Thanks @AlexMamo, I&#39;ve fixed the problem now as shown in the answer."}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 11124367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399e0f3757ea5f9e3cd37b1ea2c777cc?s=128&d=identicon&r=PG&f=1", "display_name": "Elliot Fisher", "link": "https://stackoverflow.com/users/11124367/elliot-fisher"}, "is_accepted": false, "score": 0, "last_activity_date": 1575383844, "creation_date": 1575383844, "answer_id": 59159479, "question_id": 59158419, "link": "https://stackoverflow.com/questions/59158419/firebase-storage-putfile-kotlin-crashing/59159479#59159479", "title": "Firebase Storage PutFile Kotlin Crashing", "body": "<p>Problem is solved. I used Firebase tool in Android Studio to setup Storage which in turn added the implementation in my build.gradle app file to version 16.0.4.</p>\n\n<p>After finding -> <a href=\"https://stackoverflow.com/questions/56099945/java-lang-nosuchmethoderror-no-virtual-method-settokenprovider/56100196\">java.lang.NoSuchMethodError: No virtual method setTokenProvider</a></p>\n\n<p>I then looked at the Firebase Android release notes:\n<a href=\"https://firebase.google.com/support/release-notes/android\" rel=\"nofollow noreferrer\">https://firebase.google.com/support/release-notes/android</a></p>\n\n<p>By changing the version to 19.1.0 the code now works.</p>\n\n<p>implementation 'com.google.firebase:firebase-storage:19.1.0'</p>\n"}], "owner": {"reputation": 9, "user_id": 11124367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399e0f3757ea5f9e3cd37b1ea2c777cc?s=128&d=identicon&r=PG&f=1", "display_name": "Elliot Fisher", "link": "https://stackoverflow.com/users/11124367/elliot-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575383844, "creation_date": 1575380368, "last_edit_date": 1575383155, "question_id": 59158419, "link": "https://stackoverflow.com/questions/59158419/firebase-storage-putfile-kotlin-crashing", "title": "Firebase Storage PutFile Kotlin Crashing", "body": "<p>My goal is to try upload a photo that I have selected from Photo Library or Camera captured, to Firebase Storage into a bucket/folder called ProfilePictures. </p>\n\n<p>Everything works absolutely fine at first, I have used Picasso to assign the image to ImageView and Intent for Camera, except for when I call <code>uploadPhoto()</code>. The application crashes and relaunches on <code>fileReference.putFile(imageUri)...</code>.</p>\n\n<p>Here is my manifest:</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n    &lt;uses-permission android:name=\"com.google.android.apps.photos.permission.GOOGLE_PHOTOS\"/&gt;\n    &lt;uses-feature android:name=\"android.hardware.camera\"\n            android:required=\"true\" /&gt;\n</code></pre>\n\n<p>I am using Firebase Storage version, which is in my build.gradle file -> implementation 'com.google.firebase:firebase-storage:16.0.4'</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    private var mStorageRef = FirebaseStorage.getInstance().getReference(\"profilePictures\")\n</code></pre>\n\n<pre><code>private fun uploadFile(name: String, callback: ()-&gt;Unit) {\n        if (selectedProfileImage != null) {\n            val imageUri = selectedProfileImage ?: return\n            var fileReference = mStorageRef.child(name + \".\" + getFileExtension(imageUri))\n            println(fileReference)\n            fileReference.putFile(imageUri).addOnSuccessListener {\n                    println(\"Profile Image upload Successful\")\n                    callback()\n                }.addOnFailureListener {\n                    println(\"Profile image upload failed\")\n                    println(it.stackTrace)\n                    println(it.localizedMessage)\n                    callback()\n                }\n\n        } else {\n            println(\"No profile picture selected\")\n            callback()\n        }\n    }\n</code></pre>\n\n<p>Here is my stack trace:</p>\n\n<pre><code>2019-12-03 14:23:34.521 7580-7761/com.fisherassociates.mt18academy E/AndroidRuntime: FATAL EXCEPTION: FirebaseStorage-Upload-1\n    Process: com.fisherassociates.mt18academy, PID: 7580\n    java.lang.NoSuchMethodError: No virtual method getToken(Z)Lcom/google/android/gms/tasks/Task; in class Lcom/google/firebase/FirebaseApp; or its super classes (declaration of 'com.google.firebase.FirebaseApp' appears in /data/app/com.fisherassociates.mt18academy-CsL1s9aKJKR7OHyF2sQSHw==/base.apk)\n        at com.google.firebase.storage.internal.Util.getCurrentAuthToken(com.google.firebase:firebase-storage@@16.0.4:148)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(com.google.firebase:firebase-storage@@16.0.4:65)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(com.google.firebase:firebase-storage@@16.0.4:57)\n        at com.google.firebase.storage.UploadTask.sendWithRetry(com.google.firebase:firebase-storage@@16.0.4:457)\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(com.google.firebase:firebase-storage@@16.0.4:257)\n        at com.google.firebase.storage.UploadTask.run(com.google.firebase:firebase-storage@@16.0.4:198)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7(com.google.firebase:firebase-storage@@16.0.4:1106)\n        at com.google.firebase.storage.StorageTask$$Lambda$12.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:919)\n</code></pre>\n"}, {"tags": ["unit-testing", "kotlin", "package-private"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 2, "creation_date": 1575383578, "post_id": 59158369, "comment_id": 104543006, "body": "I don&#39;t have an answer to your question, but <b>to me</b> the discussion you linked is not fully correct. You may want to <code>open</code> your class for testing only (e.g. to stub it in unit tests for other classes) \u2013 which I guess is your question, and I&#39;d be interested in a possible solution, too \u2013 however if you want to unit test an internal method you should do it by calling public methods of that class; I don&#39;t think it&#39;s correct to &quot;open&quot; a method that&#39;s meant to be private just so you can unit test it"}, {"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1575384899, "post_id": 59158369, "comment_id": 104543925, "body": "@user2340612 If I&#39;ll add a note about wanting to use TDD approach will it focus the question?"}, {"owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1575387326, "post_id": 59158369, "comment_id": 104545403, "body": "I agree with @user2340612, you shouldn&#39;t be trying to do that. You should be testing your public api, not internal implementation."}, {"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "reply_to_user": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 0, "creation_date": 1575388231, "post_id": 59158369, "comment_id": 104545951, "body": "@diegomarin you comment can be extended to a valid answer"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1575396113, "post_id": 59158369, "comment_id": 104550038, "body": "package-private doesn&#39;t do it in Java, unless you put each class into its own package. <code>internal</code> really is what you should use for this purpose."}], "answers": [{"comments": [{"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1575440648, "post_id": 59161030, "comment_id": 104562896, "body": "What&#39;s the benefit over <code>internal</code> ?"}, {"owner": {"reputation": 2689, "user_id": 185498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77120c6ac145bba587b662a014dbdd4?s=128&d=identicon&r=PG", "display_name": "Manushin Igor", "link": "https://stackoverflow.com/users/185498/manushin-igor"}, "reply_to_user": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1575449847, "post_id": 59161030, "comment_id": 104566631, "body": "This class can be used everywhere, however it can be created only internally. It means, that you can inherit it from tests (because tests are at the same package), however it isn&#39;t possible to do this from any other modules."}, {"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1575451191, "post_id": 59161030, "comment_id": 104567320, "body": "Just making sure, in kotlin maximum limit for class/method to be open for testing is module level?"}, {"owner": {"reputation": 2689, "user_id": 185498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77120c6ac145bba587b662a014dbdd4?s=128&d=identicon&r=PG", "display_name": "Manushin Igor", "link": "https://stackoverflow.com/users/185498/manushin-igor"}, "reply_to_user": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1575451287, "post_id": 59161030, "comment_id": 104567373, "body": "@user7294900, no limits."}], "tags": [], "owner": {"reputation": 2689, "user_id": 185498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d77120c6ac145bba587b662a014dbdd4?s=128&d=identicon&r=PG", "display_name": "Manushin Igor", "link": "https://stackoverflow.com/users/185498/manushin-igor"}, "is_accepted": true, "score": 2, "last_activity_date": 1575389129, "creation_date": 1575389129, "answer_id": 59161030, "question_id": 59158369, "link": "https://stackoverflow.com/questions/59158369/how-can-i-open-class-only-to-test-class/59161030#59161030", "title": "How can I open class only to test class?", "body": "<p>Formally it is not possible to do this honestly on JVM, because class couldn't be open for subset of possible interiters.</p>\n\n<p>However it can be partially done by the following trick:</p>\n\n<pre><code>open class SomeClass internal constructor(val configurableParameter: Int) {\n    companion object {\n        private const val defaultInput = 123\n\n        fun create() = SomeClass(defaultInput)\n    }\n}\n</code></pre>\n\n<p>The constructor of this class can be called only from the same module (or from tests). And class is public, so anyone can use it. However from external modules you have only two ways of the class construction: companion object or reflection.</p>\n\n<p>And finally you couldn't inherit from this class at any other modules, because constructor is internal.</p>\n"}], "owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 1, "accepted_answer_id": 59161030, "answer_count": 1, "score": 3, "last_activity_date": 1575389129, "creation_date": 1575380184, "last_edit_date": 1592644375, "question_id": 59158369, "link": "https://stackoverflow.com/questions/59158369/how-can-i-open-class-only-to-test-class", "title": "How can I open class only to test class?", "body": "<p>I'm mainly a Java developer and wonder about structure when writing unit test in kotlin,</p>\n<p>Assuming there's no <a href=\"https://stackoverflow.com/questions/35914095/package-protected-alternative-in-kotlin\">package-private</a> in kotlin</p>\n<blockquote>\n<p><code>private</code> to restrict visibility to the file</p>\n<p><code>internal</code> to restrict visibility to the module</p>\n</blockquote>\n<p>How can I open class only to test class ?</p>\n<p>Must I write test inside kotlin class or open class to all module (internal)?</p>\n<p>What's the kotlin way to open method for unit test only?</p>\n<p><strong>EDIT</strong></p>\n<p>Found similar question/request in <a href=\"https://discuss.kotlinlang.org/t/kotlin-to-support-package-protected-visibility/1544/8\" rel=\"nofollow noreferrer\">kotlin discuss</a> by @bentolor:</p>\n<blockquote>\n<p>How am I supposed to do unit / whitebox testing properly? I want to write test code which tests class-internal functionality which I do not want to expose to other classes except my test class at all.</p>\n<p>The package protected visibility is an excellent way to achieve this. Whereas Kotlin now requires me to make these methods effectively public and litter the visible API of my component all-over the project be able to test them.</p>\n<p>In my view internal is more or less public as it has a much larger scope. Most projects have sth. around 1 - 5 \u201cmodules\u201d in the Kotlin sense.</p>\n<p>Really strongly asking/advocating for package-local visibility here.</p>\n</blockquote>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 556, "user_id": 3020930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2jAk.png?s=128&g=1", "display_name": "Kootli", "link": "https://stackoverflow.com/users/3020930/kootli"}, "edited": false, "score": 0, "creation_date": 1575379312, "post_id": 59157820, "comment_id": 104540291, "body": "Settings-&gt;Editor-&gt;Colors and Fonts-&gt;General then scroll down to Error in the list."}, {"owner": {"reputation": 31, "user_id": 7856460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18dfa1eee7db77deafd8e15b40186bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Ehmeed", "link": "https://stackoverflow.com/users/7856460/ehmeed"}, "reply_to_user": {"reputation": 556, "user_id": 3020930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w2jAk.png?s=128&g=1", "display_name": "Kootli", "link": "https://stackoverflow.com/users/3020930/kootli"}, "edited": false, "score": 0, "creation_date": 1575379717, "post_id": 59157820, "comment_id": 104540548, "body": "@Kootli Thank you for answer. I cannot see the setting you described in IDEA 2019.3. I Assume you might mean <code>Settings-&gt;Editor-&gt;Color Scheme-&gt;General-&gt;Errors and Warnings-&gt;Error</code> - but that is setting for every error. I would like to be able to distinguish different errors with different colors."}], "owner": {"reputation": 31, "user_id": 7856460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18dfa1eee7db77deafd8e15b40186bc7?s=128&d=identicon&r=PG&f=1", "display_name": "Ehmeed", "link": "https://stackoverflow.com/users/7856460/ehmeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1575378317, "creation_date": 1575378317, "question_id": 59157820, "link": "https://stackoverflow.com/questions/59157820/is-there-a-way-to-configure-different-highlight-color-for-specific-inspection-in", "title": "Is there a way to configure different highlight color for specific inspection in IntelliJ-idea?", "body": "<p>In this code sample, <code>return</code> would be underlined by red in IDEA, because function return type is String, but Boolean is returned. Can I somehow change the color to orange for example but leave all other errors in red?</p>\n\n<pre><code>fun y(x: Any): String {\n    return false\n}\n</code></pre>\n"}, {"tags": ["loops", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1575378538, "creation_date": 1575378538, "answer_id": 59157893, "question_id": 59157744, "link": "https://stackoverflow.com/questions/59157744/is-it-possible-to-make-a-label-with-a-while-loop/59157893#59157893", "title": "Is it possible to make a label with a while loop?", "body": "<p>Yes, of course!</p>\n\n<pre><code>label@ while (true) {\n    continue@label\n}\n\nlabel@ do {\n    continue@label\n} while (true)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "is_accepted": false, "score": 1, "last_activity_date": 1575378655, "creation_date": 1575378655, "answer_id": 59157931, "question_id": 59157744, "link": "https://stackoverflow.com/questions/59157744/is-it-possible-to-make-a-label-with-a-while-loop/59157931#59157931", "title": "Is it possible to make a label with a while loop?", "body": "<p>You can similarly use break with label in while:</p>\n\n<pre><code>whileloop@ while (true) {\n    for (j in 1..100) {\n        print(j)\n        if (j == 10) break@whileloop\n</code></pre>\n"}], "owner": {"reputation": 3132, "user_id": 5364583, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/67aed09085b954ecc27caed47ae20969?s=128&d=identicon&r=PG", "display_name": "J&#233;w&#244;m&#39;", "link": "https://stackoverflow.com/users/5364583/j%c3%a9w%c3%b4m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 59157893, "answer_count": 2, "score": 1, "last_activity_date": 1575378655, "creation_date": 1575378073, "question_id": 59157744, "link": "https://stackoverflow.com/questions/59157744/is-it-possible-to-make-a-label-with-a-while-loop", "title": "Is it possible to make a label with a while loop?", "body": "<p>In the <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"nofollow noreferrer\">Kotlin documentation</a> I can see an usage of labels using <code>for</code> :</p>\n\n<pre><code>loop@ for (i in 1..100) {\n    for (j in 1..100) {\n        if (...) break@loop\n    }\n}\n</code></pre>\n\n<p>But it is possible to make a label with a <code>while</code> / <code>do...while</code> loop ?</p>\n"}, {"tags": ["android", "kotlin", "mvvm", "viewmodel", "dagger-2"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1575400875, "post_id": 59157518, "comment_id": 104551992, "body": "You don&#39;t want to make the <code>MyViewModel</code> singleton, your <code>onCleared()</code> will not work as expected."}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1575461595, "post_id": 59157518, "comment_id": 104573034, "body": "<a href=\"https://github.com/android/architecture-components-samples/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/ui/user/UserFragment.kt#L61\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://github.com/android/architecture-components-samples/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/di/ViewModelModule.kt#L37\" rel=\"nofollow noreferrer\">2</a> <a href=\"https://github.com/android/architecture-components-samples/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/viewmodel/GithubViewModelFactory.kt\" rel=\"nofollow noreferrer\">3</a>"}, {"owner": {"reputation": 53, "user_id": 4893644, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HUDbwHYGcdw/AAAAAAAAAAI/AAAAAAAAACI/Aaf1aYlGtrA/photo.jpg?sz=128", "display_name": "RipNation", "link": "https://stackoverflow.com/users/4893644/ripnation"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1575465734, "post_id": 59157518, "comment_id": 104575340, "body": "@EpicPandaForce Good call on the singleton, not sure why I added that."}, {"owner": {"reputation": 53, "user_id": 4893644, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HUDbwHYGcdw/AAAAAAAAAAI/AAAAAAAAACI/Aaf1aYlGtrA/photo.jpg?sz=128", "display_name": "RipNation", "link": "https://stackoverflow.com/users/4893644/ripnation"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1575465769, "post_id": 59157518, "comment_id": 104575362, "body": "@sonnet ty for the links"}, {"owner": {"reputation": 511, "user_id": 3828239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qu6M8.jpg?s=128&g=1", "display_name": "Vikash Kumar Tiwari", "link": "https://stackoverflow.com/users/3828239/vikash-kumar-tiwari"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1580413359, "post_id": 59157518, "comment_id": 106099493, "body": "@EpicPandaForce Please reason for You don&#39;t want to make the MyViewModel singleton, your onCleared() will not work as expected."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1580419125, "post_id": 59157518, "comment_id": 106101775, "body": "@VikashKuwarTiwari ViewModel has a lifecycle ensured by the ViewModelStoreOwner. Using Singleton will break this contract."}], "answers": [{"comments": [{"owner": {"reputation": 2211, "user_id": 1468354, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/97652e4ea82b6b140b693a6aab897cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Taru", "link": "https://stackoverflow.com/users/1468354/akshay-taru"}, "edited": false, "score": 0, "creation_date": 1586631758, "post_id": 59174451, "comment_id": 108200558, "body": "For those who wants to inject the viewmodel in activity the process is same.  3. Inject this factory to your activity  4. Use custom factory in the viewModel method <code>by viewModels { theInjectedFactory }</code>"}], "tags": [], "owner": {"reputation": 3490, "user_id": 1847960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qqPq.jpg?s=128&g=1", "display_name": "mlykotom", "link": "https://stackoverflow.com/users/1847960/mlykotom"}, "is_accepted": true, "score": 3, "last_activity_date": 1575457245, "creation_date": 1575457245, "answer_id": 59174451, "question_id": 59157518, "link": "https://stackoverflow.com/questions/59157518/android-by-viewmodels-with-injectable-constructor-on-viewmodel/59174451#59174451", "title": "Android - by viewModels() with injectable constructor on ViewModel", "body": "<p>You need to do several things in order to inject stuff into viewmodel:</p>\n\n<ol>\n<li>Having custom ViewModelFactory which would be part of your graph</li>\n<li>Bind your Viewmodel class into the graph</li>\n<li>Inject this factory to your Fragment</li>\n<li>Use custom factory in the viewModels method <code>by viewModels { theInjectedFactory}</code></li>\n</ol>\n\n<p>All steps 1-3 are described in many <a href=\"https://medium.com/search?q=dagger%20viewmodel\" rel=\"nofollow noreferrer\">articles</a> or answers on SO, check e.g:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/54347924/inject-property-into-viewmodel-using-dagger-2/54353028#54353028\">Inject property into ViewModel using Dagger 2</a></li>\n</ul>\n\n<p>PS: as EpicPandaForce mentioned, you shouldn't have your viewmodel marked with <code>@Singleton</code></p>\n"}], "owner": {"reputation": 53, "user_id": 4893644, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HUDbwHYGcdw/AAAAAAAAAAI/AAAAAAAAACI/Aaf1aYlGtrA/photo.jpg?sz=128", "display_name": "RipNation", "link": "https://stackoverflow.com/users/4893644/ripnation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3052, "favorite_count": 3, "accepted_answer_id": 59174451, "answer_count": 1, "score": 4, "last_activity_date": 1575457245, "creation_date": 1575377289, "question_id": 59157518, "link": "https://stackoverflow.com/questions/59157518/android-by-viewmodels-with-injectable-constructor-on-viewmodel", "title": "Android - by viewModels() with injectable constructor on ViewModel", "body": "<p>Was wondering how someone would deal with this.</p>\n\n<p>I have a fragment that has a respective view model. That view model has an injected repo in its constructor. However when using \"by viewModels()\" to create the view model instance in my fragment I'm getting an error.</p>\n\n<p>Example:</p>\n\n<pre><code>\n@Singleton\nclass MyViewModel @Inject constructor(val someRepo: SomeRepo) : ViewModel() { ... }\n\nclass MyFragment : BaseFragment(), Injectable {\n    val myViewModel: MyViewModel by viewModels()\n    ...\n}\n</code></pre>\n\n<pre><code>Error:     java.lang.RuntimeException: Cannot create an instance of class com.example.MVVM.ViewModel.MyViewModel\n</code></pre>\n\n<p>Has anyone got this to work without creating their own viewModelFactory?</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1575435780, "post_id": 59157718, "comment_id": 104561567, "body": "Do you know some tutorial for kotlin?"}, {"owner": {"reputation": 23, "user_id": 10256371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8vca1.png?s=128&g=1", "display_name": "Vishal P Vijayan", "link": "https://stackoverflow.com/users/10256371/vishal-p-vijayan"}, "reply_to_user": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "edited": false, "score": 0, "creation_date": 1575437842, "post_id": 59157718, "comment_id": 104562116, "body": "<a href=\"http://www.kotlincodes.com/kotlin/shared-preferences-with-kotlin/\" rel=\"nofollow noreferrer\">kotlincodes.com/kotlin/shared-preferences-with-kotlin</a>  go through both                              <a href=\"https://developer.android.com/reference/kotlin/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">developer.android.com/reference/kotlin/android/content/&hellip;</a>    I guess this will do. Thankyou."}], "tags": [], "owner": {"reputation": 23, "user_id": 10256371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8vca1.png?s=128&g=1", "display_name": "Vishal P Vijayan", "link": "https://stackoverflow.com/users/10256371/vishal-p-vijayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1575378003, "creation_date": 1575378003, "answer_id": 59157718, "question_id": 59157460, "link": "https://stackoverflow.com/questions/59157460/how-to-create-write-and-read-file-in-app-for-save-and-change-data/59157718#59157718", "title": "How to create, write and read file in app for save and change data?", "body": "<p>To the best of my knowledge, I think you should use Android's Shared Preference to save your small amount of data like login credentials which will be saved locally.\n<a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">Go through the Android Offical documentation</a></p>\n\n<p><a href=\"https://www.tutorialspoint.com/android/android_shared_preferences.htm#:~:targetText=Android%20provides%20many%20ways%20of,form%20of%20key%2Cvalue%20pair.\" rel=\"nofollow noreferrer\">Example of using shared Prefernce</a></p>\n"}], "owner": {"reputation": 43, "user_id": 11671265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BI6vQbuunk8/AAAAAAAAAAI/AAAAAAAAAJQ/eSWH7EpGj5c/photo.jpg?sz=128", "display_name": "savera sleemy", "link": "https://stackoverflow.com/users/11671265/savera-sleemy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575378003, "creation_date": 1575377110, "question_id": 59157460, "link": "https://stackoverflow.com/questions/59157460/how-to-create-write-and-read-file-in-app-for-save-and-change-data", "title": "How to create, write and read file in app for save and change data?", "body": "<p>I'm new and try to make authorization in app. For example: I singed up and my username and password save in file. When I try to login I just read file. If it has my username and login I can login. And when I logged in I can change data in file.\nI tried some examples for java but it don't work and don't help me in kotlin. Who can show some code example?</p>\n\n<p>LogPassReg.kt</p>\n\n<pre><code>package ru.agatech.mkprsm\n\nimport android.content.Intent\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.provider.BaseColumns\nimport kotlinx.android.synthetic.main.activity_log_pass_reg.*\nimport xdroid.toaster.Toaster.toast\nimport java.io.File\n\nclass LogPassReg : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_log_pass_reg)\n\n        next.setOnClickListener {\n            if (createpassword.text.toString() == repeatpassword.text.toString()) {\n                val i = Intent(this, Categories::class.java)\n                    .putExtra(\"singup\", 1)\n                startActivity(i)\n            } else toast(\"passwords are different\")\n        }\n        back.setOnClickListener {\n            val i = Intent(this, MainActivity::class.java)\n            startActivity(i)\n        }\n    }\n}\n</code></pre>\n\n<p>log_pass_reg.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".LogPassReg\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/next\"\n        android:layout_width=\"98dp\"\n        android:layout_height=\"52dp\"\n        android:layout_marginEnd=\"24dp\"\n        android:layout_marginBottom=\"16dp\"\n        android:text=\"\u0414\u0430\u043b\u0435\u0435\"\n        android:textAllCaps=\"true\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/createlogin\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"376dp\"\n        android:ems=\"10\"\n        android:inputType=\"textPersonName\"\n        android:hint=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d\"\n        android:textColorHint=\"#FF5F5F5F\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.484\"\n        app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/createpassword\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"28dp\"\n        android:ems=\"10\"\n        android:hint=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c\"\n        android:inputType=\"textPassword\"\n        android:textColorHint=\"#FF5F5F5F\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/createlogin\" /&gt;\n    &lt;EditText\n        android:id=\"@+id/repeatpassword\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"28dp\"\n        android:ems=\"10\"\n        android:hint=\"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c\"\n        android:inputType=\"textPassword\"\n        android:textColorHint=\"#FF5F5F5F\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/createpassword\" /&gt;\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=\"@+id/toolbar2\"\n        android:layout_width=\"250dp\"\n        android:layout_height=\"90dp\"\n        android:layout_marginStart=\"94dp\"\n        android:layout_marginEnd=\"95dp\"\n        android:background=\"@drawable/logo\"\n        android:minHeight=\"?attr/actionBarSize\"\n        android:theme=\"?attr/actionBarTheme\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/back\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"24dp\"\n        android:layout_marginBottom=\"16dp\"\n        android:text=\"\u041d\u0430\u0437\u0430\u0434\"\n        android:textAllCaps=\"true\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>val file:String = fileName.text.toString()  \nval data:String = fileData.text.toString()  \nval fileOutputStream:FileOutputStream  \ntry {  \n    fileOutputStream = openFileOutput(file, Context.MODE_PRIVATE)  \n    fileOutputStream.write(data.toByteArray())  \n}catch (e: Exception){  \n    e.printStackTrace()  \n}  \n</code></pre>\n\n<p>and</p>\n\n<pre><code>val sd_main = File(Environment.getExternalStorageDirectory()+\"/yourlocation\")\nvar success = true\nif (!sd_main.exists()) {\n    success = sd_main.mkdir()\n}\nif (success) {\n    val sd = File(\"filename.txt\")\n    if (!sd.exists()) {\n        success = sd.mkdir()\n    }\n    if (success) {\n        // directory exists or already created\n        val dest = File(sd, file_name)\n        try {\n            // response is the data written to file\n            PrintWriter(dest).use { out -&gt; out.println(response) }\n        } catch (e: Exception) {\n            // handle the exception\n        }\n    } else {\n        // directory creation is not successful\n    }\n}\n</code></pre>\n\n<p>And nothing help me.\nOr I need to work with SQLite database? Thank you for all suggestions</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "android-livedata", "coroutine"], "answers": [{"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 2, "last_activity_date": 1582796521, "last_edit_date": 1582796521, "creation_date": 1575376136, "answer_id": 59157164, "question_id": 59157014, "link": "https://stackoverflow.com/questions/59157014/how-to-use-kotlin-coroutine-livedata-retrofit-for-api-call-while-showing-a-pro/59157164#59157164", "title": "How to use Kotlin Coroutine.LiveData + Retrofit for API call while showing a progress bar?", "body": "<p>You can do it like this:</p>\n\n<pre><code>val _progressBarVisibility = MutableLiveData&lt;Int&gt;() // Use this with postValue\nval progressBarVisibility: LiveData&lt;Int&gt; = _progressBarVisibility\n\nval configurations = liveData(Dispatchers.IO) {\n    _progressBarVisibility.postValue(View.VISIBLE)    \n\n    // you can just stimulate API call with a delay() method\n    delay(3000)    //3 seconds\n\n    val retrievedConfigs = repository.getConfigurations(4)\n\n    _progressBarVisibility.postValue(View.GONE)\n    emit(retrievedConfigs)\n}\n</code></pre>\n\n<p>After that in your Activity: </p>\n\n<pre><code>viewModel.progressBarVisibility.observe(this, Observer{\n  pbVisibilityView.visibity = it\n}\n</code></pre>\n\n<p>If  you are asking about retrofit in particular, this is how you can do it. </p>\n\n<p>In your <code>DataApi</code> interface, you just mark the method as <code>suspend</code>ed:</p>\n\n<pre><code>interface DataApi{\n  @GET(\"endpointHere\")\n  suspend fun getData() : Result&lt;Data&gt;\n}\n</code></pre>\n\n<p>The rest is just as I described above. Just replace <code>getConfigurations(4)</code> with <code>getData()</code></p>\n"}], "owner": {"reputation": 485, "user_id": 11228798, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lNmO6_kMf48/AAAAAAAAAAI/AAAAAAAAAqI/v2ucVG35fm8/photo.jpg?sz=128", "display_name": "Mehdi Satei", "link": "https://stackoverflow.com/users/11228798/mehdi-satei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1582796521, "creation_date": 1575375678, "question_id": 59157014, "link": "https://stackoverflow.com/questions/59157014/how-to-use-kotlin-coroutine-livedata-retrofit-for-api-call-while-showing-a-pro", "title": "How to use Kotlin Coroutine.LiveData + Retrofit for API call while showing a progress bar?", "body": "<p>I am trying to do an API call using coroutine and retrofit with the MVVM architecture. I would like to show a progress bar while waiting for the API response to be ready (with a timeout of 3 seconds).</p>\n\n<p>In the <strong>View Model</strong> I am using Coroutine.LiveData</p>\n\n<pre><code>class BootstrapViewModel: ViewModel() {\n\nprivate val repository : ConfigRepository =\n    ConfigRepository()\n\nval configurations = liveData(Dispatchers.IO) {\n    val retrievedConfigs = repository.getConfigurations(4)\n\n    emit(retrievedConfigs)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>What I have so far in the activity is just a simulation of API call to update progress bar:</p>\n\n<pre><code>launch {\n        // simulate API call\n        val configFetch = async(Dispatchers.IO) {\n            while (progressState.value != 100) {\n                progressState.postValue(progressState.value?.plus(1))\n                delay(50)\n            }\n        }\n\n        // suspend until fetch is finished or return null in 3 sec\n        val result = withTimeoutOrNull(3000) { configFetch.await() }\n\n        if (result != null) {\n            // todo: process config... next steps\n        } else {\n            // cancel configFetch\n            configFetch.cancel()\n\n            // show error\n\n        }\n    }\n</code></pre>\n\n<p>I can also observe the livedata as below and works fine:</p>\n\n<pre><code>bootstrapViewModel.configurations.observe(this, Observer {\n        //response is ready\n    })\n</code></pre>\n\n<p>Everything works fine separated. However, when I try to use the livedata inside coroutine scope things get messy. Is there anyway to <em>await()</em> for a coroutine livedata (like how I did for <em>configFetch</em>)?</p>\n"}, {"tags": ["kotlin", "callback", "retrofit2"], "comments": [{"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1575380116, "post_id": 59156968, "comment_id": 104540790, "body": "That&#39;s just how asynchronous calls work. Like you said, either implement something with callbacks, or an observable pattern like live data or rx streams."}, {"owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1575442613, "post_id": 59156968, "comment_id": 104563530, "body": "@Fred callbacks will not make it noticeably &quot;slower&quot;?"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1575442931, "post_id": 59156968, "comment_id": 104563660, "body": "I don&#39;t see why. Unless they&#39;re wrongly implemented"}, {"owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "reply_to_user": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1575442983, "post_id": 59156968, "comment_id": 104563674, "body": "@Fred Is it possible to get an example of some sort?"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1575449856, "post_id": 59156968, "comment_id": 104566641, "body": "oh yeah sure, I just thought you were aware of how to do it since you mentioned it. Sorry, I&#39;ll post an answer shortly"}], "answers": [{"tags": [], "owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "is_accepted": true, "score": 1, "last_activity_date": 1575450595, "creation_date": 1575450595, "answer_id": 59172401, "question_id": 59156968, "link": "https://stackoverflow.com/questions/59156968/retrofits-enqueue-doesnt-re-assign-value-of-object-in-time-for-the-return/59172401#59172401", "title": "Retrofit&#39;s `enqueue()` doesn&#39;t re-assign value of object in time for the return statement?", "body": "<p>Following up on the comments here's an approach with callbacks:</p>\n\n<p>Let's suppose we change the method signature to:</p>\n\n<pre><code>fun getResponse(\n    weatherLocationCoordinates: WeatherLocation,\n    onSuccess: (WeatherResponse) -&gt; Unit = {},\n    onError: (Throwable) -&gt; Unit = {}\n) {\n    weatherApiService.getCurrentWeather(\n        weatherLocationCoordinates.latitude,\n        weatherLocationCoordinates.longitude\n\n    ).enqueue(object : Callback&lt;WeatherResponse&gt; {\n        override fun onResponse(\n             call: Call&lt;WeatherResponse&gt;,\n            response: Response&lt;WeatherResponse&gt;\n        ) {\n           if (response.isSuccessful) {\n              onSuccess(response.body())\n           } else {\n              onError(CustomHttpExceptionWithErrorDescription(response))\n           }\n        }\n\n        override fun onFailure(call: Call&lt;WeatherResponse&gt;, t: Throwable) {\n           onError(t)\n        }\n    })\n}\n</code></pre>\n\n<p><em><code>CustomHttpExceptionWithErrorDescription</code> will have to be something you code that can simply parse the error gotten from the server. Anything that is not 2XX status code</em></p>\n\n<p>This method accepts 2 extra parameters - one gets called upon success the other on error. The idea is to call it like:</p>\n\n<pre><code>getResponse(\n   weatherLocationCoordinates,\n   onSuccess = {\n       // do something with response\n   },\n   onError = {\n       // do something with the error\n   }\n)\n</code></pre>\n\n<p>Because they have default parameters you actually don't need to specify both callbacks. Just the one you are interested in. Examples:</p>\n\n<pre><code>// react only to successes\ngetResponse(\n   weatherLocationCoordinates,\n   onSuccess = {\n       // do something with response\n   }\n)\n\n// react only to errors\ngetResponse(weatherLocationCoordinates) {\n   // do something with the error\n}\n\n// just call the network calls and don't care about success or error\ngetResponse(weatherLocationCoordinates)\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 59172401, "answer_count": 1, "score": 0, "last_activity_date": 1575450595, "creation_date": 1575375494, "question_id": 59156968, "link": "https://stackoverflow.com/questions/59156968/retrofits-enqueue-doesnt-re-assign-value-of-object-in-time-for-the-return", "title": "Retrofit&#39;s `enqueue()` doesn&#39;t re-assign value of object in time for the return statement?", "body": "<p>I'm making a call to the API and the response body is assigned to an object inside Retrofit's <code>enqueue()</code>, the problem is that enqueue finishes too quickly for the value to be assigned before the return statement of the function body is called. </p>\n\n<p>Previously, I was using <code>MutableLiveData</code> before and it took care of that because it's always observing the data and when it changes it assigns it with no problem but now I don't want to use any MutableLiveData or Observables because I'm trying to prepare the data before any UI is actually drawn on the screen. </p>\n\n<pre><code>fun getResponse(\n        weatherLocationCoordinates: WeatherLocation\n    ): RequestResponse {\n        weatherApiService.getCurrentWeather(\n            weatherLocationCoordinates.latitude,\n            weatherLocationCoordinates.longitude\n\n        ).enqueue(object : Callback&lt;WeatherResponse&gt; {\n                override fun onResponse(\n                    call: Call&lt;WeatherResponse&gt;,\n                    response: Response&lt;WeatherResponse&gt;\n                ) {\n                    if (response.isSuccessful) {\n                        // This where I do the assigning \n                        requestResponse = RequestResponse(response.body(), true)\n                    }\n                }\n                override fun onFailure(call: Call&lt;WeatherResponse&gt;, t: Throwable) {\n                    requestResponse = RequestResponse(null, false)\n                }\n            })\n        // When this is called, enqueue is still not finished \n        // therefore I get the wrong value, I get the previously set initialization value of the obj.\n        return requestResponse        \n</code></pre>\n\n<p>}</p>\n\n<p>Should I be using Callbacks or something else? I'm not sure on how to implement the callback.</p>\n"}, {"tags": ["java", "kotlin", "jackson"], "comments": [{"owner": {"reputation": 1458, "user_id": 6436977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6A0LS.jpg?s=128&g=1", "display_name": "T A", "link": "https://stackoverflow.com/users/6436977/t-a"}, "edited": false, "score": 0, "creation_date": 1575376042, "post_id": 59156638, "comment_id": 104538311, "body": "You could ignore it during serialisation by adding <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\">@JsonIgnore</a> to the corresponding field in your DTO."}, {"owner": {"reputation": 85, "user_id": 11475298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-15tYUgLJ40w/AAAAAAAAAAI/AAAAAAAAAB4/HSquWBxzWwo/photo.jpg?sz=128", "display_name": "nogipx", "link": "https://stackoverflow.com/users/11475298/nogipx"}, "reply_to_user": {"reputation": 1458, "user_id": 6436977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6A0LS.jpg?s=128&g=1", "display_name": "T A", "link": "https://stackoverflow.com/users/6436977/t-a"}, "edited": false, "score": 0, "creation_date": 1575376348, "post_id": 59156638, "comment_id": 104538510, "body": "Am I right, if I will ignore it, it will be always null? @TA"}, {"owner": {"reputation": 1458, "user_id": 6436977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6A0LS.jpg?s=128&g=1", "display_name": "T A", "link": "https://stackoverflow.com/users/6436977/t-a"}, "edited": false, "score": 0, "creation_date": 1575376438, "post_id": 59156638, "comment_id": 104538558, "body": "yes, wasn&#39;t this your intention?"}, {"owner": {"reputation": 85, "user_id": 11475298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-15tYUgLJ40w/AAAAAAAAAAI/AAAAAAAAAB4/HSquWBxzWwo/photo.jpg?sz=128", "display_name": "nogipx", "link": "https://stackoverflow.com/users/11475298/nogipx"}, "reply_to_user": {"reputation": 1458, "user_id": 6436977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6A0LS.jpg?s=128&g=1", "display_name": "T A", "link": "https://stackoverflow.com/users/6436977/t-a"}, "edited": false, "score": 0, "creation_date": 1575376730, "post_id": 59156638, "comment_id": 104538721, "body": "Sorry, probably I didn&#39;t explain completely. For some products I need this field. The problem is only  that for some products there are not properties. @TA"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 11475298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-15tYUgLJ40w/AAAAAAAAAAI/AAAAAAAAAB4/HSquWBxzWwo/photo.jpg?sz=128", "display_name": "nogipx", "link": "https://stackoverflow.com/users/11475298/nogipx"}, "edited": false, "score": 0, "creation_date": 1575377033, "post_id": 59157277, "comment_id": 104538905, "body": "Yes, I would use this solution (polymorphic classes instead props), but api does not implement this way :("}, {"owner": {"reputation": 538, "user_id": 3316764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80a81c95cfaf324678d0ab4239e7682?s=128&d=identicon&r=PG&f=1", "display_name": "Franjavi", "link": "https://stackoverflow.com/users/3316764/franjavi"}, "reply_to_user": {"reputation": 85, "user_id": 11475298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-15tYUgLJ40w/AAAAAAAAAAI/AAAAAAAAAB4/HSquWBxzWwo/photo.jpg?sz=128", "display_name": "nogipx", "link": "https://stackoverflow.com/users/11475298/nogipx"}, "edited": false, "score": 0, "creation_date": 1575377525, "post_id": 59157277, "comment_id": 104539177, "body": "Do you mean that you cannot change the JSON produced, or that you cannot change the classes? Are you in control of just the client?"}, {"owner": {"reputation": 85, "user_id": 11475298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-15tYUgLJ40w/AAAAAAAAAAI/AAAAAAAAAB4/HSquWBxzWwo/photo.jpg?sz=128", "display_name": "nogipx", "link": "https://stackoverflow.com/users/11475298/nogipx"}, "edited": false, "score": 0, "creation_date": 1575378703, "post_id": 59157277, "comment_id": 104539893, "body": "I suppose there is a misunderstanding. I need to deserialize json already produced by api in that way. In other words, I want to &quot;fill in&quot; missing field if it isn&#39;t in json. @Franjavi"}, {"owner": {"reputation": 538, "user_id": 3316764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80a81c95cfaf324678d0ab4239e7682?s=128&d=identicon&r=PG&f=1", "display_name": "Franjavi", "link": "https://stackoverflow.com/users/3316764/franjavi"}, "reply_to_user": {"reputation": 85, "user_id": 11475298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-15tYUgLJ40w/AAAAAAAAAAI/AAAAAAAAAB4/HSquWBxzWwo/photo.jpg?sz=128", "display_name": "nogipx", "link": "https://stackoverflow.com/users/11475298/nogipx"}, "edited": false, "score": 0, "creation_date": 1575380175, "post_id": 59157277, "comment_id": 104540826, "body": "That is the default behavior in Jackson. If the field is not present it will be set to null in the POJO, so you don&#39;t need to change anything for it."}, {"owner": {"reputation": 85, "user_id": 11475298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-15tYUgLJ40w/AAAAAAAAAAI/AAAAAAAAAB4/HSquWBxzWwo/photo.jpg?sz=128", "display_name": "nogipx", "link": "https://stackoverflow.com/users/11475298/nogipx"}, "edited": false, "score": 0, "creation_date": 1575380365, "post_id": 59157277, "comment_id": 104540964, "body": "However, it&#39;s crashing \ud83d\ude43 Probably I&#39;ve found a solution. ObjectMapper has to be configured. <a href=\"https://stackoverflow.com/a/46933297/11475298\">stackoverflow.com/a/46933297/11475298</a>"}], "tags": [], "owner": {"reputation": 538, "user_id": 3316764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80a81c95cfaf324678d0ab4239e7682?s=128&d=identicon&r=PG&f=1", "display_name": "Franjavi", "link": "https://stackoverflow.com/users/3316764/franjavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1575376535, "creation_date": 1575376535, "answer_id": 59157277, "question_id": 59156638, "link": "https://stackoverflow.com/questions/59156638/deserialize-optional-polymorphic-fields-with-jackson/59157277#59157277", "title": "Deserialize optional polymorphic fields with jackson", "body": "<p>I suppose you have something like:</p>\n\n<pre><code>public class BaseProduct {\n   public String name;\n}\n\npublic class CarSharing extends BaseProduct {\n    public String properties;\n}\n\npublic class Book extends BaseProduct {\n}\n</code></pre>\n\n<p>Instead of having the <strong>properties</strong> field set to null when is not there, you can use Jackson polymorphic functionality to not show it. Something like:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.MINIMAL_CLASS, include = JsonTypeInfo.As.PROPERTY, property = \"type\")\npublic class BaseProduct {\n     public String name;\n}\n</code></pre>\n\n<p>The output would be:</p>\n\n<pre><code>[\n  {\n    \"type\": \".Book\",\n    \"name\": \"Book name\"\n  },\n  {\n    \"type\": \".CarSharing\",\n    \"name\": \"Car share name\",\n    \"properties\": \"a property field\"\n  }\n]\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 11475298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-15tYUgLJ40w/AAAAAAAAAAI/AAAAAAAAAB4/HSquWBxzWwo/photo.jpg?sz=128", "display_name": "nogipx", "link": "https://stackoverflow.com/users/11475298/nogipx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575376535, "creation_date": 1575374422, "question_id": 59156638, "link": "https://stackoverflow.com/questions/59156638/deserialize-optional-polymorphic-fields-with-jackson", "title": "Deserialize optional polymorphic fields with jackson", "body": "<h2>Problem</h2>\n\n<p>For example, I have a list of some products in my cart like cinema ticket, carsharing and new book.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[\n  {\n    \"name\": \"Cinema Ticket\"\n  }, \n  {\n    \"name\": \"Car Sharing\",\n    \"properties\": { ... }\n  },\n  {\n    \"name\": \"New Book\",\n  }\n]\n</code></pre>\n\n<p>As you can see, not all products have <code>properties</code>.\n<strong>Note:</strong> this field is polymorphic.</p>\n\n<h2>Question</h2>\n\n<p>Can I turn \"non-existing\" field <code>properties</code> into <code>null</code> using Jackson or it's better to change api?\nAnd if I can then how to do that?</p>\n\n<p><strong>Jackson Version: 2.10.1</strong></p>\n\n<p>Thanks for answers!</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "edited": false, "score": 0, "creation_date": 1575374136, "post_id": 59156432, "comment_id": 104537243, "body": "what is mSelectedItems?"}, {"owner": {"reputation": 77, "user_id": 10478482, "user_type": "registered", "profile_image": "https://graph.facebook.com/248514392678707/picture?type=large", "display_name": "Emma Alden", "link": "https://stackoverflow.com/users/10478482/emma-alden"}, "reply_to_user": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "edited": false, "score": 0, "creation_date": 1575374210, "post_id": 59156432, "comment_id": 104537288, "body": "mSelectedItems:ArrayList&lt;Int&gt;"}, {"owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "edited": false, "score": 0, "creation_date": 1575374388, "post_id": 59156432, "comment_id": 104537378, "body": "Maybe you are using an implementation of an immutable list and hence the error while adding or removing items."}, {"owner": {"reputation": 77, "user_id": 10478482, "user_type": "registered", "profile_image": "https://graph.facebook.com/248514392678707/picture?type=large", "display_name": "Emma Alden", "link": "https://stackoverflow.com/users/10478482/emma-alden"}, "reply_to_user": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "edited": false, "score": 0, "creation_date": 1575374569, "post_id": 59156432, "comment_id": 104537478, "body": "@Froyo private var categoriesDefault = mutableListOf&lt;String&gt;() that seems mutable"}, {"owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "edited": false, "score": 0, "creation_date": 1575376031, "post_id": 59156432, "comment_id": 104538302, "body": "@EmmaAlden is there more stacktrace?"}, {"owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "edited": false, "score": 0, "creation_date": 1575376419, "post_id": 59156432, "comment_id": 104538547, "body": "Since <code>categoriesDefault</code> is a variable, is it being reassigned in the code somewhere?"}, {"owner": {"reputation": 77, "user_id": 10478482, "user_type": "registered", "profile_image": "https://graph.facebook.com/248514392678707/picture?type=large", "display_name": "Emma Alden", "link": "https://stackoverflow.com/users/10478482/emma-alden"}, "reply_to_user": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "edited": false, "score": 0, "creation_date": 1575377879, "post_id": 59156432, "comment_id": 104539371, "body": "@Froyo I edited logs. Only once i assig categoriesDefault = tinyDB.categories in onCreateView."}, {"owner": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "edited": false, "score": 1, "creation_date": 1575378118, "post_id": 59156432, "comment_id": 104539539, "body": "@EmmaAlden tinyDB.categories could return an immutable list. Please check that. Better to use <code>categoriesDefault = tinyDB.categories.toMutableList()</code> or <code>categoriesDefault.addAll(tinyDB.categories)</code>. I am assuming tinyDb.categories is a syntactic sugar and the implementation may return an immutable list."}, {"owner": {"reputation": 77, "user_id": 10478482, "user_type": "registered", "profile_image": "https://graph.facebook.com/248514392678707/picture?type=large", "display_name": "Emma Alden", "link": "https://stackoverflow.com/users/10478482/emma-alden"}, "reply_to_user": {"reputation": 15342, "user_id": 891373, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e49081f9c8f64cd6617efda90398a2a1?s=128&d=identicon&r=PG", "display_name": "Froyo", "link": "https://stackoverflow.com/users/891373/froyo"}, "edited": false, "score": 0, "creation_date": 1575378472, "post_id": 59156432, "comment_id": 104539727, "body": "@Froyo it returns List&lt;String&gt;. Probably it causes the error. Thank you so much for your help."}], "owner": {"reputation": 77, "user_id": 10478482, "user_type": "registered", "profile_image": "https://graph.facebook.com/248514392678707/picture?type=large", "display_name": "Emma Alden", "link": "https://stackoverflow.com/users/10478482/emma-alden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575377757, "creation_date": 1575373733, "last_edit_date": 1575377757, "question_id": 59156432, "link": "https://stackoverflow.com/questions/59156432/unsupportedoperationexception-oncheckedchanged", "title": "UnsupportedOperationException - OnCheckedChanged", "body": "<p>I'm trying to select and remove categories in a RecyclerView but i got UnsupportedOperationException with some specific phone brands(Android version 8 or 9). </p>\n\n<p>My code:</p>\n\n<pre><code>holder.checkBox.setOnCheckedChangeListener { _, isChecked -&gt;\n\n        if (isChecked){\n            mListener.onItemSelected(position,true)  //CategoryAdapter.kt:42\n            mSelectedItems.add(position)\n        }else{\n            mListener.onItemSelected(position,false)\n            mSelectedItems.remove(position)\n        }\n        //notifyDataSetChanged()\n    }\n//\n//\n\nprivate var categoriesDefault = mutableListOf&lt;String&gt;()\n\noverride fun onItemSelected(position: Int, isSelected: Boolean) {\n    if (isSelected){\n        categoriesDefault.add(categoriesValues[position]) //CategoryFragment.kt:19\n    }else{\n        categoriesDefault.remove(categoriesValues[position])\n    }\n\n    tinyDB.categories = categoriesDefault\n}\n</code></pre>\n\n<p>Fatal error log:</p>\n\n<pre><code>#0. Crashed: main\n   at java.util.AbstractList.add + 148(AbstractList.java:148)\n   at java.util.AbstractList.add + 108(AbstractList.java:108)\n   at com.blarma.high5.aui.base.wordsetting.CategoryFragment.onItemSelected + 19(CategoryFragment.kt:19)\n   at com.blarma.high5.aui.base.wordsetting.CategoryAdapter$onBindViewHolder$1.onCheckedChanged + 42(CategoryAdapter.kt:42)\n   at android.widget.CompoundButton.setChecked + 182(CompoundButton.java:182)\n   at android.widget.CompoundButton.toggle + 136(CompoundButton.java:136)\n   at android.widget.CompoundButton.performClick + 141(CompoundButton.java:141)\n   at android.view.View.performClickInternal + 7305(View.java:7305)\n   at android.view.View.access$3200 + 846(View.java:846)\n   at android.view.View$PerformClick.run + 27787(View.java:27787)\n   at android.os.Handler.handleCallback + 873(Handler.java:873)\n   at android.os.Handler.dispatchMessage + 99(Handler.java:99)\n   at android.os.Looper.loop + 214(Looper.java:214)\n   at android.app.ActivityThread.main + 7078(ActivityThread.java:7078)\n   at java.lang.reflect.Method.invoke(Method.java)\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run + 493(RuntimeInit.java:493)\n   at com.android.internal.os.ZygoteInit.main + 964(ZygoteInit.java:964)\n</code></pre>\n\n<p>Edit: more logs here\nI do not know where the problem is but hopefully someone can figure it out. And I can not post more due to \"It looks like your post is mostly code; please add some more details.\" error.</p>\n\n<pre><code>#1. Answers Events Handler1\n       at java.lang.Object.wait(Object.java)\n       at java.lang.Thread.parkFor$ + 2137(Thread.java:2137)\n       at sun.misc.Unsafe.park + 358(Unsafe.java:358)\n       at java.util.concurrent.locks.LockSupport.parkNanos + 230(LockSupport.java:230)\n       at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos + 2101(AbstractQueuedSynchronizer.java:2101)\n       at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take + 1132(ScheduledThreadPoolExecutor.java:1132)\n       at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take + 849(ScheduledThreadPoolExecutor.java:849)\n       at java.util.concurrent.ThreadPoolExecutor.getTask + 1092(ThreadPoolExecutor.java:1092)\n       at java.util.concurrent.ThreadPoolExecutor.runWorker + 1152(ThreadPoolExecutor.java:1152)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run + 641(ThreadPoolExecutor.java:641)\n       at io.fabric.sdk.android.services.common.ExecutorUtils$1$1.onRun + 75(ExecutorUtils.java:75)\n       at io.fabric.sdk.android.services.common.BackgroundPriorityRunnable.run + 30(BackgroundPriorityRunnable.java:30)\n       at java.lang.Thread.run + 764(Thread.java:764)\n\n#2. Crashlytics Exception Handler1\n       at dalvik.system.VMStack.getThreadStackTrace(VMStack.java)\n       at java.lang.Thread.getStackTrace + 1538(Thread.java:1538)\n       at java.lang.Thread.getAllStackTraces + 1588(Thread.java:1588)\n       at com.crashlytics.android.core.CrashlyticsController.writeSessionEvent + 1340(CrashlyticsController.java:1340)\n       at com.crashlytics.android.core.CrashlyticsController.writeFatal + 1027(CrashlyticsController.java:1027)\n       at com.crashlytics.android.core.CrashlyticsController.access$500 + 69(CrashlyticsController.java:69)\n       at com.crashlytics.android.core.CrashlyticsController$7.call + 328(CrashlyticsController.java:328)\n       at com.crashlytics.android.core.CrashlyticsController$7.call + 321(CrashlyticsController.java:321)\n       at java.util.concurrent.FutureTask.run + 266(FutureTask.java:266)\n       at java.util.concurrent.ThreadPoolExecutor.runWorker + 1167(ThreadPoolExecutor.java:1167)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run + 641(ThreadPoolExecutor.java:641)\n       at io.fabric.sdk.android.services.common.ExecutorUtils$1$1.onRun + 75(ExecutorUtils.java:75)\n       at io.fabric.sdk.android.services.common.BackgroundPriorityRunnable.run + 30(BackgroundPriorityRunnable.java:30)\n       at java.lang.Thread.run + 764(Thread.java:764)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-service", "google-nearby", "google-nearby-connections"], "answers": [{"comments": [{"owner": {"reputation": 1458, "user_id": 5623474, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sWTfTOZYG30/AAAAAAAAAAI/AAAAAAAAACc/LqQT3oBNvb0/photo.jpg?sz=128", "display_name": "Xlythe", "link": "https://stackoverflow.com/users/5623474/xlythe"}, "edited": false, "score": 0, "creation_date": 1575427011, "post_id": 59168158, "comment_id": 104559745, "body": "Once your process dies, Nearby Connections will shut down any active advertising / scanning / connections your app created."}], "tags": [], "owner": {"reputation": 1458, "user_id": 5623474, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sWTfTOZYG30/AAAAAAAAAAI/AAAAAAAAACc/LqQT3oBNvb0/photo.jpg?sz=128", "display_name": "Xlythe", "link": "https://stackoverflow.com/users/5623474/xlythe"}, "is_accepted": true, "score": 3, "last_activity_date": 1575426935, "creation_date": 1575426935, "answer_id": 59168158, "question_id": 59156322, "link": "https://stackoverflow.com/questions/59156322/nearby-connections-and-foreground-background-services/59168158#59168158", "title": "Nearby Connections and foreground/background services", "body": "<p>There are no restrictions on using Nearby Connections from a service. However, Android has always somewhat aggressively killed background services (and is more aggressive since Android Oreo). There's also no way to limit the power, so advertising, scanning, and maintaining a connection for a long period of time will adversely effect battery life. There's a plan to expose a low power flag, but there's no ETA.</p>\n\n<p>Disclaimer: I work on Nearby Connections</p>\n"}], "owner": {"reputation": 892, "user_id": 4464680, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh3.googleusercontent.com/-8JmyJuysqbM/AAAAAAAAAAI/AAAAAAAAAqU/Lb9fp_9V5RQ/photo.jpg?sz=128", "display_name": "just_deko", "link": "https://stackoverflow.com/users/4464680/just-deko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 59168158, "answer_count": 1, "score": 2, "last_activity_date": 1575426935, "creation_date": 1575373312, "question_id": 59156322, "link": "https://stackoverflow.com/questions/59156322/nearby-connections-and-foreground-background-services", "title": "Nearby Connections and foreground/background services", "body": "<p>This is more of a general question, but to what extent can we use the Nearby Connections API in <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">services</a>?</p>\n\n<p>I noticed that discovery and pairing is still working while the app is out of focus, so is it possible to extract the whole connections client into a foreground- or even a background service which is running while the app itself doesn't have to?</p>\n"}, {"tags": ["java", "android", "kotlin", "aidl"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 11734746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-14Mq_TbhH4U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reCvsfvUdEJRe0VsN3Y6z9F-ZQAZw/photo.jpg?sz=128", "display_name": "Mhamad", "link": "https://stackoverflow.com/users/11734746/mhamad"}, "edited": false, "score": 0, "creation_date": 1575400025, "post_id": 59163033, "comment_id": 104551605, "body": "Thanks for your answer. I have not problem regarding to define interfaces in java and all other things. My problem is that I can&#39;t use in Kotlin code. for example when calling this <code>ServiceInterface.Stub.asInterface(service)</code> the IDE has not showing any problem but when building the app it said the Unresolved reference: ServiceInterface. please could share how you initialize your service in Kotlin code. Thanks"}], "tags": [], "owner": {"reputation": 459, "user_id": 5142327, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JU3DWlp277o/AAAAAAAAAAI/AAAAAAAAAB4/mmalw2xOR2I/photo.jpg?sz=128", "display_name": "adi9090", "link": "https://stackoverflow.com/users/5142327/adi9090"}, "is_accepted": false, "score": 0, "last_activity_date": 1575396713, "creation_date": 1575396713, "answer_id": 59163033, "question_id": 59156304, "link": "https://stackoverflow.com/questions/59156304/does-kotlin-supports-aidl/59163033#59163033", "title": "Does Kotlin supports AIDL?", "body": "<p>I'm using AIDL with Kotlin and what I have is interfaces written in Java and all model classes that are used by defined interfaces are written in Kotlin and it is working perfectly.\nFor example. I have I*Subscriber.aidl with method </p>\n\n<pre><code>void onSomeEventHappened(in AidlEvent event);\n</code></pre>\n\n<p>and also I have the .aidl file and .kt file for AidlEvent class.</p>\n\n<p>AidlEvent.aidl file</p>\n\n<pre><code>// AidlEvent.aidl\n\nparcelable AidlEvent;\n</code></pre>\n\n<p>AidlEvent.kt</p>\n\n<pre><code>data class AidlEvent(\n    val eventType: Int,\n    val eventMessage: String):\n        Parcelable {\n    // add parcelable methods\n}\n</code></pre>\n\n<p>I'm not sure that you will be able to write .aidl interface in Kotlin, haven't managed to do that. It should not be an issue if you need to write few methods in Java, as you don't need to implement them in Java, you will just declare them.</p>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 11734746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-14Mq_TbhH4U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reCvsfvUdEJRe0VsN3Y6z9F-ZQAZw/photo.jpg?sz=128", "display_name": "Mhamad", "link": "https://stackoverflow.com/users/11734746/mhamad"}, "is_accepted": false, "score": 2, "last_activity_date": 1575449976, "last_edit_date": 1575449976, "creation_date": 1575412265, "answer_id": 59166366, "question_id": 59156304, "link": "https://stackoverflow.com/questions/59156304/does-kotlin-supports-aidl/59166366#59166366", "title": "Does Kotlin supports AIDL?", "body": "<p>After many hours, I found the problem which is buildToolsVersion 29.0.0 generate wrong path for generated java files, I submitted a <a href=\"https://issuetracker.google.com/issues/145596078\" rel=\"nofollow noreferrer\">bug</a></p>\n\n<p>Just changing to buildToolsVersion 28.0.3 solve the issue.</p>\n\n<p><strong>Update:</strong>\nProblem Solved and now it works in <code>buildToolsVersion 29.0.1</code></p>\n"}], "owner": {"reputation": 75, "user_id": 11734746, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-14Mq_TbhH4U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reCvsfvUdEJRe0VsN3Y6z9F-ZQAZw/photo.jpg?sz=128", "display_name": "Mhamad", "link": "https://stackoverflow.com/users/11734746/mhamad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1148, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1576591574, "creation_date": 1575373256, "last_edit_date": 1576591574, "question_id": 59156304, "link": "https://stackoverflow.com/questions/59156304/does-kotlin-supports-aidl", "title": "Does Kotlin supports AIDL?", "body": "<p>I have a simple AIDL definition and I want to use in Kotlin code but when it builds shows Unresolved reference error for all variables that uses the interface. but the same AIDL has no problem in Java code. does Kotlin support it? how to solve\nhere my AIDL in src/main/aidl/</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// ServiceInterface.aidl\npackage com.example.test;\n\ninterface ServiceInterface {\n    void test(String arg1);\n}\n</code></pre>\n\n<p>and activity code is</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import android.content.ComponentName\nimport android.content.Context\nimport android.content.Intent\nimport android.content.ServiceConnection\nimport android.os.Bundle\nimport android.os.IBinder\nimport android.os.RemoteException\nimport android.util.Log\nimport androidx.appcompat.app.AppCompatActivity\nimport com.swiftytime.clientappcommunication.R\nimport com.example.test.ServiceInterface\n\nclass MainActivity : AppCompatActivity() {\n\n    var mServiceAidl: ServiceInterface? = null\n    var mIsBound = false\n\n    private val mConnection: ServiceConnection = object : ServiceConnection {\n        override fun onServiceConnected(className: ComponentName, service: IBinder) {\n            try {\n                mServiceAidl = ServiceInterface.Stub.asInterface(service)\n                Log.e(\"app\", \"Attached\")\n            } catch (e: RemoteException) {\n\n            }\n        }\n\n        override fun onServiceDisconnected(className: ComponentName) {\n            mServiceAidl = null\n            Log.e(\"app\", \"Disconnected.\")\n        }\n    }\n\n    private fun doBindService() {\n        val intent = Intent().apply {\n            component = ComponentName(\n                \"com.example.test\", \"com.example.test.MyService\"\n            )\n        }\n        bindService(\n            intent,\n            mConnection, Context.BIND_AUTO_CREATE\n        )\n        mIsBound = true\n        Log.e(\"app\", \"Binding.\")\n    }\n\n    private fun doUnbindService() {\n        if (mIsBound) {\n            unbindService(mConnection)\n            mIsBound = false\n            Log.e(\"app\", \"Unbinding.\")\n        }\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        doBindService()\n    }\n}\n</code></pre>\n\n<p>this is error</p>\n\n<pre><code>[ERROR] [org.gradle.api.Task] e: /Volumes/Projects/AndroidProject/ClientAppCommunication/app/src/main/java/com/example/test/MainActivity.kt: (16, 23): Unresolved reference: ServiceInterface\n</code></pre>\n"}, {"tags": ["kotlin", "assertj"], "comments": [{"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "edited": false, "score": 0, "creation_date": 1575372998, "post_id": 59156118, "comment_id": 104536630, "body": "<code>parentFields</code> is an <code>Optional</code>, so I would expect your ignoring-string-chain to look like <code>fragments.parentFields.get().__typename</code>"}, {"owner": {"reputation": 8135, "user_id": 2391849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/04df260673cc820547a3083e4ee87fce?s=128&d=identicon&r=PG", "display_name": "Mulgard", "link": "https://stackoverflow.com/users/2391849/mulgard"}, "reply_to_user": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "edited": false, "score": 0, "creation_date": 1575373243, "post_id": 59156118, "comment_id": 104536765, "body": "True, its an optional. I added the outcome to my question. It leads to the same result."}], "answers": [{"comments": [{"owner": {"reputation": 8135, "user_id": 2391849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/04df260673cc820547a3083e4ee87fce?s=128&d=identicon&r=PG", "display_name": "Mulgard", "link": "https://stackoverflow.com/users/2391849/mulgard"}, "edited": false, "score": 0, "creation_date": 1575444616, "post_id": 59166322, "comment_id": 104564313, "body": "So: <code>.ignoringFields(&quot;customer&quot;, &quot;orders&quot;, &quot;\\$hashCode&quot;, &quot;fragments.parentFields.value&quot;)</code> also doenst work at all, same error message."}, {"owner": {"reputation": 4000, "user_id": 1348834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca907a8681a3bdf665a604d316fae00?s=128&d=identicon&r=PG", "display_name": "Joel Costigliola", "link": "https://stackoverflow.com/users/1348834/joel-costigliola"}, "reply_to_user": {"reputation": 8135, "user_id": 2391849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/04df260673cc820547a3083e4ee87fce?s=128&d=identicon&r=PG", "display_name": "Mulgard", "link": "https://stackoverflow.com/users/2391849/mulgard"}, "edited": false, "score": 1, "creation_date": 1575508627, "post_id": 59166322, "comment_id": 104593808, "body": "Alright, can you raise an issue in <a href=\"https://github.com/joel-costigliola/assertj-core/issues\" rel=\"nofollow noreferrer\">github.com/joel-costigliola/assertj-core/issues</a> ideally with a reproducible test case so that we can investigate it?"}], "tags": [], "owner": {"reputation": 4000, "user_id": 1348834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca907a8681a3bdf665a604d316fae00?s=128&d=identicon&r=PG", "display_name": "Joel Costigliola", "link": "https://stackoverflow.com/users/1348834/joel-costigliola"}, "is_accepted": false, "score": 1, "last_activity_date": 1575411978, "creation_date": 1575411978, "answer_id": 59166322, "question_id": 59156118, "link": "https://stackoverflow.com/questions/59156118/assertj-ignoringfields-is-not-ignoring-all-the-provided-fields/59166322#59166322", "title": "AssertJ: `ignoringFields` is not ignoring all the provided fields?", "body": "<p><code>\"fragments.parentFields.get().__typename\"</code> is not a valid declaration for what you intend to do. when specifying <code>\"a.b.c\"</code> what AssertJ it going to do is try finding <code>getA().getB().getC()</code> or <code>a.b.c</code> or nay combination of field/getter (like <code>getA().b.getC()</code>.</p>\n\n<p>Specifying <code>fragments.parentFields.get()</code> is not going to work as there is no field named <code>get()</code>. Try using <code>value</code> instead as this is the field returned by <code>get()</code> (AssertJ can read private fields).</p>\n"}], "owner": {"reputation": 8135, "user_id": 2391849, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/04df260673cc820547a3083e4ee87fce?s=128&d=identicon&r=PG", "display_name": "Mulgard", "link": "https://stackoverflow.com/users/2391849/mulgard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1754, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1575444687, "creation_date": 1575372627, "last_edit_date": 1575444687, "question_id": 59156118, "link": "https://stackoverflow.com/questions/59156118/assertj-ignoringfields-is-not-ignoring-all-the-provided-fields", "title": "AssertJ: `ignoringFields` is not ignoring all the provided fields?", "body": "<p>I want to compare two objects using <code>org.assertj.core.api.Assertions.assertThat</code> from version <code>3.14.0</code>:</p>\n\n<pre><code>assertThat(getActual())\n        .usingRecursiveComparison()\n        .ignoringFields(\"customer\", \"orders\", \"\\$hashCode\", \"fragments.parentFields.__typename\", \"fragments.parentFields.image\")\n        .isEqualTo(orderForm)\n</code></pre>\n\n<p>When I do so I get the following error:</p>\n\n<pre><code>when recursively comparing field by field, but found the following difference:\n\nfield/property 'fragments' differ:\n- actual value   : Fragments{parentFields=Optional[ParentFields{__typename=OrderForm, id=1, image=Image{__typename=Image, id=71, accuracy=100.0, type=ORDER_FORM, state=AUTOMATIC, value=order form, base64=}}]}\n- expected value : Fragments{parentFields=Optional[ParentFields{__typename=ParentFields, id=1, image=Image{__typename=Image, id=123, accuracy=99.99, type=NONE, state=NONE, value=value, base64=base64}}]}\n\nThe recursive comparison was performed with this configuration:\n- the following fields were ignored in the comparison: customer, orders, $hashCode, fragments.parentFields.__typename, fragments.parentFields.image\n- overridden equals methods were used in the comparison\n- these types were compared with the following comparators:\n  - java.lang.Double -&gt; DoubleComparator[precision=1.0E-15]\n  - java.lang.Float -&gt; FloatComparator[precision=1.0E-6]\n- actual and expected objects and their fields were compared field by field recursively even if they were not of the same type, this allows for example to compare a Person to a PersonDto (call strictTypeChecking(true) to change that behavior).\n</code></pre>\n\n<p>From my understanding, ignoring all the fileds I added to the <code>ignoreingFields</code> function the comparison should be:</p>\n\n<pre><code>- actual value   : Fragments{parentFields=Optional[ParentFields{id=1}]}\n- expected value : Fragments{parentFields=Optional[ParentFields{id=1}]} \n</code></pre>\n\n<p>And thus it should not fail, it should succeed.</p>\n\n<p>The other ignored fileds (<code>customer</code>, <code>orders</code>, <code>\\$hashCode</code>) are getting ignored correctly. So I wonder if there is something wrong with fields of nested objects. But in the javadoc I found:</p>\n\n<pre><code>* // assertion succeeds as name and home.address.street fields are ignored in the comparison\n* assertThat(sherlock).usingRecursiveComparison()\n*                     .ignoringFields(\"name\", \"home.address.street\")\n*                     .isEqualTo(noName);\n</code></pre>\n\n<p>So I think im using it as intended by the API.</p>\n\n<p>Ofcourse I could get around all this by simply doing:</p>\n\n<pre><code>assertThat(actual\n        ?.fragments()\n        ?.parentFields()\n        ?.get()\n        ?.id()\n).isEqualTo(orderForm\n        .fragments()\n        .parentFields()\n        .get()\n        .id())\n</code></pre>\n\n<p>But I have many objects which I have to compare like that and which do not have the same super class.\nSo im going to create something like:</p>\n\n<pre><code>fun assertCommons(actual: Any, expected: Any) {\n    assertThat(actual)\n        .usingRecursiveComparison()\n        ....\n}\n</code></pre>\n\n<p>So back to the question: What goes wrong with ignoring these fields?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Since <code>parentFields</code> is an optional:</p>\n\n<pre><code>...\n.ignoringFields(\"customer\", \"orders\", \"\\$hashCode\", \"fragments.parentFields.get().__typename\", \"fragments.parentFields.get().image\")\n...\n</code></pre>\n\n<pre><code>field/property 'fragments' differ:\n- actual value   : Fragments{parentFields=Optional[ParentFields{__typename=OrderForm, id=1, image=Image{__typename=Image, id=71, accuracy=100.0, type=ORDER_FORM, state=AUTOMATIC, value=order form, base64=}}]}\n- expected value : Fragments{parentFields=Optional[ParentFields{__typename=ParentFields, id=1, image=Image{__typename=Image, id=123, accuracy=99.99, type=NONE, state=NONE, value=value, base64=base64}}]}\n\nThe recursive comparison was performed with this configuration:\n - the following fields were ignored in the comparison: customer, orders, $hashCode, fragments.parentFields.get().__typename, fragments.parentFields.get().image\n - overridden equals methods were used in the comparison\n - these types were compared with the following comparators:\n - java.lang.Double -&gt; DoubleComparator[precision=1.0E-15]\n - java.lang.Float -&gt; FloatComparator[precision=1.0E-6]\n - actual and expected objects and their fields were compared field by field recursively even if they were not of the same type, this allows for example to compare a Person to a PersonDto (call strictTypeChecking(true) to change that behavior).\n</code></pre>\n\n<p>With <code>value</code> instead of <code>get()</code></p>\n\n<pre><code>...\n.ignoringFields(\"customer\", \"orders\", \"\\$hashCode\", \"fragments.parentFields.value.__typename\", \"fragments.parentFields.value.image\")\n...\n</code></pre>\n\n<pre><code>when recursively comparing field by field, but found the following difference:\n\nfield/property 'fragments' differ:\n- actual value   : Fragments{parentFields=Optional[ParentFields{__typename=OrderForm, id=1, image=Image{__typename=Image, id=71, accuracy=100.0, type=ORDER_FORM, state=AUTOMATIC, value=order form, base64=Optional[]}}]}\n- expected value : Fragments{parentFields=Optional[ParentFields{__typename=ParentFields, id=1, image=Image{__typename=Image, id=123, accuracy=99.99, type=NONE, state=NONE, value=value, base64=Optional[base64]}}]}\n\nThe recursive comparison was performed with this configuration:\n- the following fields were ignored in the comparison: customer, orders, $hashCode, fragments.parentFields.value\n- overridden equals methods were used in the comparison\n- these types were compared with the following comparators:\n  - java.lang.Double -&gt; DoubleComparator[precision=1.0E-15]\n  - java.lang.Float -&gt; FloatComparator[precision=1.0E-6]\n- actual and expected objects and their fields were compared field by field recursively even if they were not of the same type, this allows for example to compare a Person to a PersonDto (call strictTypeChecking(true) to change that behavior).\n</code></pre>\n"}, {"tags": ["java", "kotlin", "apache-camel", "camel-ftp"], "comments": [{"owner": {"reputation": 1162, "user_id": 2198651, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/2aZBh.png?s=128&g=1", "display_name": "Screwtape", "link": "https://stackoverflow.com/users/2198651/screwtape"}, "edited": false, "score": 0, "creation_date": 1575371842, "post_id": 59155404, "comment_id": 104536006, "body": "Hi! It&#39;s difficult to answer without a clearer understanding of what you&#39;re trying to do. You could use <code>aggregate</code> if you just want to read multiple files and accumulate the data before processing. You can use <code>pollEnrich</code> to read a second file if what you are trying to do read &quot;file1b&quot; to go with &quot;file1a&quot;."}, {"owner": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "reply_to_user": {"reputation": 1162, "user_id": 2198651, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/2aZBh.png?s=128&g=1", "display_name": "Screwtape", "link": "https://stackoverflow.com/users/2198651/screwtape"}, "edited": false, "score": 0, "creation_date": 1575372627, "post_id": 59155404, "comment_id": 104536441, "body": "Hi, i have written an example of my code, could you make me an exaple of how would you implement what are you saying? Thank you very much"}, {"owner": {"reputation": 1162, "user_id": 2198651, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/2aZBh.png?s=128&g=1", "display_name": "Screwtape", "link": "https://stackoverflow.com/users/2198651/screwtape"}, "edited": false, "score": 0, "creation_date": 1575383988, "post_id": 59155404, "comment_id": 104543284, "body": "You still haven&#39;t explained how you determine the second file - is it just the next one in the queue, in which case @StepanShcherbakov&#39;s answer is your starting point. However, you have specified the file name for file1, so I assume you are wanting to join two specific files, not just the first two files you receive - how are you determining file2? If you explain what you are trying to achieve it will be easier to help you."}, {"owner": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "reply_to_user": {"reputation": 1162, "user_id": 2198651, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/2aZBh.png?s=128&g=1", "display_name": "Screwtape", "link": "https://stackoverflow.com/users/2198651/screwtape"}, "edited": false, "score": 0, "creation_date": 1575389951, "post_id": 59155404, "comment_id": 104546882, "body": "I have two different txt files, i want to read these two files and create a single json"}, {"owner": {"reputation": 1162, "user_id": 2198651, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/2aZBh.png?s=128&g=1", "display_name": "Screwtape", "link": "https://stackoverflow.com/users/2198651/screwtape"}, "edited": false, "score": 0, "creation_date": 1575450113, "post_id": 59155404, "comment_id": 104566775, "body": "OK - I get that - so when the first file is processed, how do you know what the second file will be? Is it dependent on the first file?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "edited": false, "score": 0, "creation_date": 1575381483, "post_id": 59158435, "comment_id": 104541702, "body": "can you write me an example? I am trying to figure it out but i am not finding a way to do it. I am still confused about how to pick 2 files with different names and locations."}, {"owner": {"reputation": 197, "user_id": 12416141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RHV0X.jpg?s=128&g=1", "display_name": "Stepan Shcherbakov", "link": "https://stackoverflow.com/users/12416141/stepan-shcherbakov"}, "reply_to_user": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "edited": false, "score": 0, "creation_date": 1575388106, "post_id": 59158435, "comment_id": 104545878, "body": "Sorry, i didnt recognize your problem. Your problem is to make json from 2 files from ftp or to read 2 different files from ftp?"}, {"owner": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "edited": false, "score": 0, "creation_date": 1575389988, "post_id": 59158435, "comment_id": 104546907, "body": "I have two different txt files, i want to read these two files and create a single json"}], "tags": [], "owner": {"reputation": 197, "user_id": 12416141, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RHV0X.jpg?s=128&g=1", "display_name": "Stepan Shcherbakov", "link": "https://stackoverflow.com/users/12416141/stepan-shcherbakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1575380451, "creation_date": 1575380451, "answer_id": 59158435, "question_id": 59155404, "link": "https://stackoverflow.com/questions/59155404/process-2-different-files-with-camel/59158435#59158435", "title": "Process 2 different files with camel", "body": "<p>You can write your own <code>AggregationStrategy</code> and use <code>aggregate(AggregationStrategy aggregationStrategy)</code> after <code>from</code> endpoint.\nHere is documentation and some examples of <a href=\"https://camel.apache.org/manual/latest/aggregate-eip.html\" rel=\"nofollow noreferrer\">AggregationStrategy</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "edited": false, "score": 0, "creation_date": 1575478474, "post_id": 59178189, "comment_id": 104583008, "body": ".aggregationStrategy don&#39;t exist"}, {"owner": {"reputation": 1162, "user_id": 2198651, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/2aZBh.png?s=128&g=1", "display_name": "Screwtape", "link": "https://stackoverflow.com/users/2198651/screwtape"}, "reply_to_user": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "edited": false, "score": 0, "creation_date": 1575537484, "post_id": 59178189, "comment_id": 104602409, "body": "Apologies - I&#39;d used a hybrid of two approached. It&#39;s corrected now."}], "tags": [], "owner": {"reputation": 1162, "user_id": 2198651, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/2aZBh.png?s=128&g=1", "display_name": "Screwtape", "link": "https://stackoverflow.com/users/2198651/screwtape"}, "is_accepted": true, "score": 0, "last_activity_date": 1575537458, "last_edit_date": 1575537458, "creation_date": 1575469340, "answer_id": 59178189, "question_id": 59155404, "link": "https://stackoverflow.com/questions/59155404/process-2-different-files-with-camel/59178189#59178189", "title": "Process 2 different files with camel", "body": "<p>I think what you need is a <code>pollEnrich</code> pattern which would look something like this:</p>\n\n<pre><code>from(\"ftp:...&amp;include=file1.txt...\")\n    .log(\"Connected to FTP 1\")\n    .pollEnrich(\"ftp:...&amp;include=file2.txt...\", new MyFileAggregationStrategy() )\n</code></pre>\n\n<p>or, if you need to specify a dynamic file name, like this:</p>\n\n<pre><code>from(\"ftp:...&amp;include=file1.txt...\")\n    .log(\"Connected to FTP 1\")\n    .pollEnrich().simple(\"ftp:...&amp;include=${header.file2Name}...\")\n        .aggregationStrategy( new MyFileAggregationStrategy() )\n</code></pre>\n\n<p>You will need to create an <a href=\"https://camel.apache.org/manual/latest/aggregate-eip.html#_about_aggregationstrategy\" rel=\"nofollow noreferrer\">AggregationStrategy</a>, and that could either create your JSON directly, or you could sent the output to a processor that creates your JSON.</p>\n\n<p>You will need to check the manual on <a href=\"https://camel.apache.org/manual/latest/pollEnrich-eip.html\" rel=\"nofollow noreferrer\">pollEnrich</a>, to ensure you handle correctly what happens if a <code>file1.txt</code> appears without a corresponding <code>file2.txt</code>, so that it doesn't block unless you want it to (in which case you need to be able to handle nulls in your AggregationStrategy).</p>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 51, "user_id": 10488512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19be00d236e45a65f894526b03ba2f92?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/10488512/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 59178189, "answer_count": 2, "score": 0, "last_activity_date": 1575537458, "creation_date": 1575370273, "last_edit_date": 1575372519, "question_id": 59155404, "link": "https://stackoverflow.com/questions/59155404/process-2-different-files-with-camel", "title": "Process 2 different files with camel", "body": "<p>how can i read two different files with camel (using ftp) and write an unique JSON?\nFrom what i know the \"from\" can only read one file.</p>\n\n<pre><code>from(\"ftp://myftp@localhost:21\" +\n                \"/myFolder/\" +\n                \"?\" +\n                \"password=RAW(myPassword)\" +\n                \"&amp;include=file1.txt\" +\n                \"&amp;passiveMode=true\" +\n                \"&amp;delete=true\")\n            .log(\"Connected to FTP 1\")\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 4, "last_activity_date": 1575382046, "last_edit_date": 1575382046, "creation_date": 1575367715, "answer_id": 59154595, "question_id": 59154327, "link": "https://stackoverflow.com/questions/59154327/how-to-pass-the-class-type-to-the-function-in-kotlin/59154595#59154595", "title": "How to pass the class type to the function in kotlin?", "body": "<p>If you want <code>filterClass</code> to be determined at runtime:</p>\n\n<pre><code>public fun getFilter(filterClass: KClass&lt;out GPUImageFilter&gt;): GPUImageFilter? {\n    //filters.filters is a List&lt;GPUImageFilter&gt;\n    return filters.filters.first { filterClass.isInstance(it) }\n}\n</code></pre>\n\n<p>(note it has to be nullable because maybe <code>filters.filters</code> doesn't contain anything of this type). Which can have a more precise return type</p>\n\n<pre><code>public fun &lt;T : GPUImageFilter&gt; getFilter(filterClass: KClass&lt;T&gt;): T? {\n    //filters.filters is a List&lt;GPUImageFilter&gt;\n    filters.filters.first { filterClass.isInstance(it) } as T?\n}\n</code></pre>\n\n<p>To call:</p>\n\n<pre><code>getFilter(GPUImageSaturationFilter::class)\n</code></pre>\n\n<p>See <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html\" rel=\"nofollow noreferrer\"><code>KClass</code></a>. You can also use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>java.lang.Class</code></a> and </p>\n\n<pre><code>getFilter(GPUImageSaturationFilter::class.java)\n</code></pre>\n\n<p>You can also do (assuming you already defined one of the versions with <code>KClass</code>, otherwise you can use its definition with <code>it is T</code> in place of <code>filterClass.isInstance(it)</code>):</p>\n\n<pre><code>public inline fun &lt;reified T : GPUImageFilter&gt; getFilter() = getFilter(T::class)\n\ngetFilter&lt;GPUImageSaturationFilter&gt;()\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 6431509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e461d85c528e8f680e3544a0090ac741?s=128&d=identicon&r=PG&f=1", "display_name": "candrwow", "link": "https://stackoverflow.com/users/6431509/candrwow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 59154595, "answer_count": 1, "score": 1, "last_activity_date": 1575382046, "creation_date": 1575366870, "last_edit_date": 1575368596, "question_id": 59154327, "link": "https://stackoverflow.com/questions/59154327/how-to-pass-the-class-type-to-the-function-in-kotlin", "title": "How to pass the class type to the function in kotlin?", "body": "<p>I have a function to determine whether the list contains the specified gpuimage filter type, want to pass a param:<code>GPUImageSaturationFilter</code> to function, function uses it to do:</p>\n\n<pre><code>public var filters: GPUImageFilterGroup\n\n//filterClass:the specified gpuimage filter type extend GPUImageFilter\npublic fun getFilter(filterClass:the specified gpuimage filter type):GPUImageFilter {\n        //filters.filters is a List&lt;GPUImageFilter&gt;\n        filters.filters.forEach {\n            if (it is filterClass) {\n                 return it\n            }\n        }\n}\n</code></pre>\n\n<p>How to replace the following fun argument? I don't want to use HashMap, Thank you!</p>\n\n<pre><code>filterClass:the specified gpuimage filter type\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding", "android-livedata", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "edited": false, "score": 0, "creation_date": 1575365385, "post_id": 59153839, "comment_id": 104532271, "body": "I image did you already try make the data binding from the activity observer right?"}, {"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "edited": false, "score": 0, "creation_date": 1575366340, "post_id": 59153839, "comment_id": 104532789, "body": "Add some more code of your Activity please."}, {"owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "edited": false, "score": 0, "creation_date": 1575366758, "post_id": 59153839, "comment_id": 104532993, "body": "Is CreatorInfi changed?"}, {"owner": {"reputation": 7, "user_id": 10337266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/993c035fa7178611e8505d744034f883?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Kim", "link": "https://stackoverflow.com/users/10337266/martin-kim"}, "reply_to_user": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "edited": false, "score": 0, "creation_date": 1575423034, "post_id": 59153839, "comment_id": 104558846, "body": "@Dak28 no I am using fragment. Also this code was implemented by RxJava not coroutine and worked well before. So lifecycle and fragment linking with databinding is right."}], "answers": [{"tags": [], "owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "is_accepted": false, "score": 2, "last_activity_date": 1575365513, "creation_date": 1575365513, "answer_id": 59153967, "question_id": 59153839, "link": "https://stackoverflow.com/questions/59153839/kotlin-coroutine-livedata-databinding-problem/59153967#59153967", "title": "Kotlin coroutine + LiveData + DataBinding problem", "body": "<p>Did you add this in you main activity?</p>\n\n<pre><code>binding.setLifecycleOwner(this)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1575367903, "creation_date": 1575367903, "answer_id": 59154651, "question_id": 59153839, "link": "https://stackoverflow.com/questions/59153839/kotlin-coroutine-livedata-databinding-problem/59154651#59154651", "title": "Kotlin coroutine + LiveData + DataBinding problem", "body": "<p>Have you connected the <code>Binding</code> with your actual <code>ViewModel</code>? </p>\n\n<pre><code>someFragmentActivityBinding.viewModel = myViewModel\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 10337266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/993c035fa7178611e8505d744034f883?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Kim", "link": "https://stackoverflow.com/users/10337266/martin-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1575440557, "creation_date": 1575440557, "answer_id": 59170034, "question_id": 59153839, "link": "https://stackoverflow.com/questions/59153839/kotlin-coroutine-livedata-databinding-problem/59170034#59170034", "title": "Kotlin coroutine + LiveData + DataBinding problem", "body": "<p>There was my mistake.\nIt works well.\nThere was code that hide TextViews..(View.gone) (So I thought databinding does not work well).</p>\n\n<p>Problem is solved. Thank you guys.</p>\n"}], "owner": {"reputation": 7, "user_id": 10337266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/993c035fa7178611e8505d744034f883?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Kim", "link": "https://stackoverflow.com/users/10337266/martin-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1575440557, "creation_date": 1575365111, "last_edit_date": 1575365411, "question_id": 59153839, "link": "https://stackoverflow.com/questions/59153839/kotlin-coroutine-livedata-databinding-problem", "title": "Kotlin coroutine + LiveData + DataBinding problem", "body": "<p>I have a issue using Kotlin coroutine + LiveData + DataBinding problem. </p>\n\n<p>My code is below</p>\n\n<pre><code>class TempViewModel: ViewModel() {\n\n val creatorInfo: LiveData&lt;CreatorInfo&gt; = liveData(context = viewModelScope.coroutineContext + Dispatchers.IO) {\n        val data = CreatorInfoSettingRepository.requestCreatorInfo().body()\n        emit(data!!)\n    }\n}\n</code></pre>\n\n<p>and xml use databinding like this</p>\n\n<pre><code> &lt;TextView\n      android:text=\"@{viewModel.creatorInfo.email}\" /&gt;\n &lt;TextView\n      android:text=\"@{viewModel.creatorInfo.phone}\" /&gt;\n\n ....\n</code></pre>\n\n<p>I checked that fetching data(CreatorInfo) from server(retrofit2) is successful, \nbut data is not applied to UI by databinding. </p>\n\n<p>also when check observing like below, observe block is invoked.</p>\n\n<pre><code>viewModel.creatorInfo.observe(fragment, Observer { creatorInfo -&gt;\n            Log.d(\"ssong\",\"test\")\n        })\n</code></pre>\n\n<p>Anyone who can help? </p>\n"}, {"tags": ["android", "kotlin", "plugins", "android-gradle-plugin", "frontend"], "answers": [{"tags": [], "owner": {"reputation": 318, "user_id": 5396274, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r2_pknPqPMk/AAAAAAAAAAI/AAAAAAAAAFw/NMrYiMSTzX8/photo.jpg?sz=128", "display_name": "Arun Yogeshwaran", "link": "https://stackoverflow.com/users/5396274/arun-yogeshwaran"}, "is_accepted": false, "score": 4, "last_activity_date": 1582531262, "creation_date": 1582531262, "answer_id": 60371635, "question_id": 59153784, "link": "https://stackoverflow.com/questions/59153784/org-jetbrains-kotlin-util-kotlinfrontendexception-exception-while-analyzing-exp/60371635#60371635", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException: Exception while analyzing expression", "body": "<p><a href=\"https://i.stack.imgur.com/d4ypt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d4ypt.png\" alt=\"Update Kotlin Plugin for Android Studio\"></a></p>\n\n<p>I was facing a similar error, updating Kotlin Plugin and restarting Android Studio fixed the issue for me</p>\n"}, {"tags": [], "owner": {"reputation": 7165, "user_id": 430673, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9a5acff2a35974a8b7d3f8e63e7bf6e6?s=128&d=identicon&r=PG", "display_name": "Tash Pemhiwa", "link": "https://stackoverflow.com/users/430673/tash-pemhiwa"}, "is_accepted": false, "score": 1, "last_activity_date": 1586241200, "creation_date": 1586241200, "answer_id": 61074078, "question_id": 59153784, "link": "https://stackoverflow.com/questions/59153784/org-jetbrains-kotlin-util-kotlinfrontendexception-exception-while-analyzing-exp/61074078#61074078", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException: Exception while analyzing expression", "body": "<p>In my case I was missing some jar files that were required for the app to build. So if you encounter this, check if you have all required dependencies on your classpath.</p>\n"}, {"tags": [], "owner": {"reputation": 4554, "user_id": 5670752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TSWf.jpg?s=128&g=1", "display_name": "Taslim Oseni", "link": "https://stackoverflow.com/users/5670752/taslim-oseni"}, "is_accepted": false, "score": 1, "last_activity_date": 1599407213, "creation_date": 1599407213, "answer_id": 63766010, "question_id": 59153784, "link": "https://stackoverflow.com/questions/59153784/org-jetbrains-kotlin-util-kotlinfrontendexception-exception-while-analyzing-exp/63766010#63766010", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException: Exception while analyzing expression", "body": "<p>This seems to be a sync issue. To solve this, I performed these two steps in succession and then re-ran the project:</p>\n<ul>\n<li>Deleted the entire build folder</li>\n<li>Build &gt; Clean-Project</li>\n</ul>\n"}], "owner": {"reputation": 101, "user_id": 2257455, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/l5TDl.jpg?s=128&g=1", "display_name": "Annie", "link": "https://stackoverflow.com/users/2257455/annie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2339, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1599407213, "creation_date": 1575364918, "last_edit_date": 1575366580, "question_id": 59153784, "link": "https://stackoverflow.com/questions/59153784/org-jetbrains-kotlin-util-kotlinfrontendexception-exception-while-analyzing-exp", "title": "org.jetbrains.kotlin.util.KotlinFrontEndException: Exception while analyzing expression", "body": "<p>I run a kotlin project successfully on my desktop, but when I import the same project on my laptop and when I rebuild the project, it's throwing \"org.jetbrains.kotlin.util.KotlinFrontEndException: Exception while analyzing expression\".</p>\n\n<p>As suggested in net, I tried with clean build, invalidate cache and restart. I deleted the cache folders and logs but no results.\nI have tried Googling, but found no answer for this particular problem. </p>\n\n<p><strong>Details:</strong>\n<strong>Current kotlin plugin version: 1.3.61-release-Studio3.5-1</strong>, latest version of plugin is installed, using <strong>Android Studio 3.5.2</strong> </p>\n\n<p>Any help is apreciated!</p>\n"}, {"tags": ["testing", "kotlin", "compilation", "kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1575369359, "last_edit_date": 1575369359, "creation_date": 1575368909, "answer_id": 59154973, "question_id": 59153510, "link": "https://stackoverflow.com/questions/59153510/kotlin-testing-the-restriction-in-dsl/59154973#59154973", "title": "Kotlin testing the restriction in DSL", "body": "<p>One solution is to use the Kotlin scripting engine, make it run a script with your DSL constructs that should be rejected and assert that the script didn't compile.</p>\n\n<p>Links that you may find useful:</p>\n\n<ul>\n<li><a href=\"https://kotlinexpertise.com/run-kotlin-scripts-from-kotlin-programs/\" rel=\"nofollow noreferrer\">Run Kotlin Scripts (kts) from regular Kotlin programs</a> by Kotlin Expertise Blog</li>\n<li><a href=\"https://github.com/s1monw1/KtsRunner\" rel=\"nofollow noreferrer\"><code>s1monw1/KtsRunner</code></a>, a library that encapsulates running Kotlin scripts programmatically</li>\n<li>A newer and more powerful, though more complex scripting support implementation on the Kotlin side is described in <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/scripting-support.md#how-to-implement-scripting-support\" rel=\"nofollow noreferrer\">KEEP-75</a></li>\n</ul>\n"}], "owner": {"reputation": 187, "user_id": 5690854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a9d3b05ce4ccf463a65ae94e9b9bbd?s=128&d=identicon&r=PG&f=1", "display_name": "Dollyg", "link": "https://stackoverflow.com/users/5690854/dollyg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575369359, "creation_date": 1575363984, "question_id": 59153510, "link": "https://stackoverflow.com/questions/59153510/kotlin-testing-the-restriction-in-dsl", "title": "Kotlin testing the restriction in DSL", "body": "<p>We are writing a DSL in Kotlin, and we have added a few restrictions in that DSL.\nFor eg,</p>\n\n<pre><code>table {\n  tr {\n    td {\n    }\n  }\n}\n</code></pre>\n\n<p>Here, we restrict <code>td</code> should not be called inside another <code>td</code>. </p>\n\n<p>How do we test this? Is there any dsl-testkit or matcher library in kotlin that lets us do something like \"shouldNot compile\" does in <a href=\"http://www.scalatest.org/user_guide/using_matchers#checkingThatCodeDoesNotCompile\" rel=\"nofollow noreferrer\">scalatest</a></p>\n"}, {"tags": ["android", "api", "kotlin", "google-fit", "google-fit-sdk"], "comments": [{"owner": {"reputation": 79, "user_id": 6384924, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205482207649341/picture?type=large", "display_name": "Naina", "link": "https://stackoverflow.com/users/6384924/naina"}, "edited": false, "score": 0, "creation_date": 1591868971, "post_id": 59153196, "comment_id": 110221346, "body": "I am also facing the same issue, did you find the answer ?"}], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 12657891, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBHcwt6FRTtoTYMHgndlWBwjAkygJ4vU25sq61n=k-s128", "display_name": "Graeme Morgan", "link": "https://stackoverflow.com/users/12657891/graeme-morgan"}, "is_accepted": false, "score": 0, "last_activity_date": 1578253043, "creation_date": 1578253043, "answer_id": 59603543, "question_id": 59153196, "link": "https://stackoverflow.com/questions/59153196/reading-accurate-sleeping-data-from-google-fit-api/59603543#59603543", "title": "Reading accurate sleeping data from Google Fit API", "body": "<p>Rather than aggregating, can you just read the activity segments and iterate through them yourself?</p>\n\n<pre><code>val sleepReadRequest =\n    DataReadRequest.Builder()\n        .read(DataType.TYPE_ACTIVITY_SEGMENT)\n        .setTimeRange(offset, end, TimeUnit.MILLISECONDS)\n        .build()\n\n</code></pre>\n\n<p>You can then retrieve the returned data with <code>DataReadResult#getDataSet(DataType)</code>.</p>\n\n<p>If you find that it's timing out (a year of data at once is potentially rather a lot!) I'd suggest batching the request into smaller ones and caching data in the past which is unlikely to change.</p>\n"}], "owner": {"reputation": 11, "user_id": 12472707, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-d4BFKYyOJHU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZSol4A5noDDyNjW6rlBEM621fjQ/photo.jpg?sz=128", "display_name": "carms", "link": "https://stackoverflow.com/users/12472707/carms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1578385903, "creation_date": 1575362918, "last_edit_date": 1578385903, "question_id": 59153196, "link": "https://stackoverflow.com/questions/59153196/reading-accurate-sleeping-data-from-google-fit-api", "title": "Reading accurate sleeping data from Google Fit API", "body": "<p>I am currently developing an app that will get Fitness History Data from Google Fit. Getting the steps and weight are okay but getting the sleep data is a bit of a problem. I want to get the accurate start and end time but the only way to get that is to bucket it by activity segment. The problem is, when there's a lot of data you are trying to get (the app that I'm currently developing requires to get data from 365 days ago at the most), it will not even return a timeout error and my app will keep loading. It will not even start to read the data from Google Fit. So, I wanna ask if there's a way to get the sleep data by activity segment despite its large size? And please do share your code. And by the way, this is how I get my sleep data:</p>\n\n<pre><code>val sleepReadRequest = DataReadRequest.Builder()\n        .aggregate(DataType.TYPE_ACTIVITY_SEGMENT, DataType.AGGREGATE_ACTIVITY_SUMMARY)\n        .bucketByActivitySegment(1, TimeUnit.MINUTES)\n        .setTimeRange(offset, end, TimeUnit.MILLISECONDS)\n        .build()\n\n    LogUtil.d(TAG, \"getting sleep data...\")\n\n    Fitness.getHistoryClient(\n        context,\n        Objects.requireNonNull&lt;GoogleSignInAccount&gt;(GoogleSignIn.getLastSignedInAccount(context))\n    )\n        .readData(sleepReadRequest)\n        .addOnSuccessListener { dataReadResponse -&gt;\n            LogUtil.d(TAG, \"success sleep data\")\n            val secondSet = handleDataReturned(dataReadResponse, false, DateUtil.convertTimeStampToDate(offset, DateUtil.DATE_FORMAT))\n            dailyData.addAll(secondSet)\n            val allDailyList = getDailyDataList(dailyData, userHeight)\n            callback.onGetDataSuccess(allDailyList)\n        }\n        .addOnFailureListener { e -&gt;\n            LogUtil.d(TAG, \"fail sleep data\")\n            if (e is ApiException &amp;&amp; e.statusCode == GoogleFitError.NOT_SIGNED.code) { // not signed app exception\n                revokePermission(context)\n                callback.onGetDataFailure(GoogleFitError.parse(e.statusCode))\n            } else {\n                callback.onGetDataFailure(AppError.parse(Throwable(e)))\n            }\n        }\n        .addOnCompleteListener { task -&gt;\n            LogUtil.d(TAG, \"complete sleep data\")\n            callback.onGetDataComplete(task)\n        }\n</code></pre>\n"}, {"tags": ["string", "list", "kotlin"], "comments": [{"owner": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 2, "creation_date": 1575360210, "post_id": 59152446, "comment_id": 104529808, "body": "use flatmap, ignore elements &quot;of&quot; in closure"}, {"owner": {"reputation": 189, "user_id": 3740598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd17ea5ff88f7177567f6a52936d922d?s=128&d=identicon&r=PG&f=1", "display_name": "mrossini", "link": "https://stackoverflow.com/users/3740598/mrossini"}, "reply_to_user": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 0, "creation_date": 1575361167, "post_id": 59152446, "comment_id": 104530112, "body": "If you MUST change the list go with other answers, otherwise @AlexandrKolesnik answer above is the way to go"}, {"owner": {"reputation": 761, "user_id": 11818952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0j58.png?s=128&g=1", "display_name": "SowingFiber", "link": "https://stackoverflow.com/users/11818952/sowingfiber"}, "reply_to_user": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 0, "creation_date": 1575361404, "post_id": 59152446, "comment_id": 104530199, "body": "@AlexandrKolesnik Thanks for the comment. I&#39;ll definitely look into using flatmaps. Much appreciated!"}], "answers": [{"tags": [], "owner": {"reputation": 1542, "user_id": 3580952, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PbPmU.jpg?s=128&g=1", "display_name": "parohy", "link": "https://stackoverflow.com/users/3580952/parohy"}, "is_accepted": false, "score": 0, "last_activity_date": 1575360267, "creation_date": 1575360267, "answer_id": 59152559, "question_id": 59152446, "link": "https://stackoverflow.com/questions/59152446/search-for-a-certain-element-in-a-list-and-delete-it/59152559#59152559", "title": "Search for a certain element in a List and delete it", "body": "<p>I think this could work:\n<code>list.indexOf(\"of\").also { if (it != -1) list.removeAt(index) }</code></p>\n"}, {"comments": [{"owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "edited": false, "score": 0, "creation_date": 1575361183, "post_id": 59152618, "comment_id": 104530118, "body": "If you need to transform the mutable list to a list because you use List&lt;String&gt; in some function or class, don&#39;t be afraid, you can always create a list from a mutable list, just by passing the entire mutable list in the constructor"}, {"owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "reply_to_user": {"reputation": 761, "user_id": 11818952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0j58.png?s=128&g=1", "display_name": "SowingFiber", "link": "https://stackoverflow.com/users/11818952/sowingfiber"}, "edited": false, "score": 1, "creation_date": 1575361466, "post_id": 59152618, "comment_id": 104530230, "body": "here more information if you are interested in using collections:  <a href=\"https://kotlinlang.org/docs/reference/collections-overview.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/collections-overview.html</a>"}, {"owner": {"reputation": 11114, "user_id": 1712135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cErYR.png?s=128&g=1", "display_name": "deHaar", "link": "https://stackoverflow.com/users/1712135/dehaar"}, "edited": false, "score": 1, "creation_date": 1575361920, "post_id": 59152618, "comment_id": 104530411, "body": "This will only remove the first occurrence of <code>&quot;of&quot;</code>... If that&#39;s enough, then <i>nice answer</i> ;-)"}, {"owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "edited": false, "score": 0, "creation_date": 1575362061, "post_id": 59152618, "comment_id": 104530471, "body": "it doesn&#39;t remove the first element, try it with Luxemburg. Ah ok you mean all elements. I edit, now also copy are removed."}], "tags": [], "owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "is_accepted": true, "score": 4, "last_activity_date": 1575362267, "last_edit_date": 1575362267, "creation_date": 1575360577, "answer_id": 59152618, "question_id": 59152446, "link": "https://stackoverflow.com/questions/59152446/search-for-a-certain-element-in-a-list-and-delete-it/59152618#59152618", "title": "Search for a certain element in a List and delete it", "body": "<p>First be sure that your list is a mutable list:</p>\n\n<pre><code>val list = mutableListOf(\"bank\", \"of\" , \"Luxemburg\", \"Orange\", \"country\")\n</code></pre>\n\n<p>Or if you already have a list:</p>\n\n<pre><code>val newList = list.toMutableList()\n</code></pre>\n\n<p>then do this:</p>\n\n<pre><code>list.remove(\"bank\")\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[of, Luxemburg, Orange, country]\n</code></pre>\n\n<p>If you have more copy value in same list do it:</p>\n\n<pre><code> list.removeAll(listOf(\"Luxemburg\"))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[bank, of, Luxemburg, Orange, country, Luxemburg]\n[bank, of, Orange, country]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 1, "creation_date": 1575387153, "post_id": 59152919, "comment_id": 104545297, "body": "There is a <code>removeAll(predicate)</code> that does the same thing as <code>removeIf(filter)</code> but is not JDK-only."}], "tags": [], "owner": {"reputation": 11114, "user_id": 1712135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cErYR.png?s=128&g=1", "display_name": "deHaar", "link": "https://stackoverflow.com/users/1712135/dehaar"}, "is_accepted": false, "score": 2, "last_activity_date": 1575361802, "creation_date": 1575361802, "answer_id": 59152919, "question_id": 59152446, "link": "https://stackoverflow.com/questions/59152446/search-for-a-certain-element-in-a-list-and-delete-it/59152919#59152919", "title": "Search for a certain element in a List and delete it", "body": "<p>In case you want to remove the first <code>\"of\"</code> found in the list, then <code>remove</code> will be sufficient. If you want to remove every occurrence of <code>\"of\"</code>, then use <code>removeIf</code> or maybe even <code>removeAll</code>:</p>\n\n<pre><code>fun main() {\n    val l: MutableList&lt;String&gt;\n                = mutableListOf(\"Bank\", \"of\", \"Luxemburg\", \"of\", \"Orange\", \"of\", \"County\")\n    val m: MutableList&lt;String&gt;\n                = mutableListOf(\"Bank\", \"of\", \"Luxemburg\", \"of\", \"Orange\", \"of\", \"County\")\n    println(l)\n    // remove first \"of\" found\n    l.remove(\"of\")\n    println(l)\n    // remove every element that equals \"of\"\n    l.removeIf { it == \"of\" }\n    println(l)\n\n    println(\"\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\")\n    // use removeAll\n    println(m)\n    m.removeAll { it == \"of\" }\n    println(m)\n}\n</code></pre>\n\n<p>The output is</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[Bank, of, Luxemburg, of, Orange, of, County]\n[Bank, Luxemburg, of, Orange, of, County]\n[Bank, Luxemburg, Orange, County]\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n[Bank, of, Luxemburg, of, Orange, of, County]\n[Bank, Luxemburg, Orange, County]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "is_accepted": false, "score": 2, "last_activity_date": 1575387800, "creation_date": 1575387800, "answer_id": 59160637, "question_id": 59152446, "link": "https://stackoverflow.com/questions/59152446/search-for-a-certain-element-in-a-list-and-delete-it/59160637#59160637", "title": "Search for a certain element in a List and delete it", "body": "<p>If you just want the elements back without \"of\" you can filter them</p>\n\n<pre><code>val list = listOf(\"bank\", \"of\" , \"Luxemburg\", \"Orange\", \"country\")\nval result = list.filter { it != \"of\" }\n</code></pre>\n"}], "owner": {"reputation": 761, "user_id": 11818952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q0j58.png?s=128&g=1", "display_name": "SowingFiber", "link": "https://stackoverflow.com/users/11818952/sowingfiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 59152618, "answer_count": 4, "score": 0, "last_activity_date": 1575387800, "creation_date": 1575359686, "question_id": 59152446, "link": "https://stackoverflow.com/questions/59152446/search-for-a-certain-element-in-a-list-and-delete-it", "title": "Search for a certain element in a List and delete it", "body": "<p>I have a <code>List&lt;String&gt;</code> in kotlin which contains the following elements</p>\n\n<pre><code>\"Bank\", \"of\", \"Luxemburg\", \"Orange\", \"County\"\n</code></pre>\n\n<p>How do I search the <code>List</code> if it contains <code>\"of\"</code>?</p>\n\n<p>How can I get the <code>position</code> of <code>\"of\"</code> and then delete it from the list?</p>\n"}, {"tags": ["android", "kotlin", "rx-android", "debounce"], "answers": [{"tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": true, "score": 0, "last_activity_date": 1575359509, "creation_date": 1575359509, "answer_id": 59152409, "question_id": 59152236, "link": "https://stackoverflow.com/questions/59152236/android-rx-debaunce-in-publishsubject-everything-but-first/59152409#59152409", "title": "Android RX Debaunce in PublishSubject everything, but first", "body": "<p>solved it with <code>debounceSelector</code></p>\n\n<pre><code>   publishSubject\n                .debounce {\n                    if (isFirst(it)) {\n                        Observable.just(it)\n                    } else {\n                        Observable.just(it).delay(2, TimeUnit.SECONDS)\n                    }\n                }\n                .observeOn(uiScheduler)\n                .subscribe({\n                    onView { onRefreshEvent(it) }\n                }, {\n                    onView { showError() }\n                }))\n</code></pre>\n"}], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 59152409, "answer_count": 1, "score": 0, "last_activity_date": 1575359543, "creation_date": 1575358813, "last_edit_date": 1575359543, "question_id": 59152236, "link": "https://stackoverflow.com/questions/59152236/android-rx-debaunce-in-publishsubject-everything-but-first", "title": "Android RX Debaunce in PublishSubject everything, but first", "body": "<p>I want to use <code>AndroidRx</code> <code>debounce</code> function with delay.</p>\n\n<p>Problem is that first emitted item should not be debounced and should not have any delay, but all other items should be.\nIs there any easy way to achieve it?</p>\n\n<p>now it looks like this:</p>\n\n<pre><code>   publishSubject\n                .debounce(2, TimeUnit.SECONDS)\n                .observeOn(uiScheduler)\n                .subscribe({\n                    onView { onRefreshEvent(it) }\n                }, {\n                    onView { showError() }\n                }))\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2851, "user_id": 6770343, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-TFiqws1rx7s/AAAAAAAAAAI/AAAAAAAAASk/JpWqyPKdWLI/photo.jpg?sz=128", "display_name": "Suraj Bahadur", "link": "https://stackoverflow.com/users/6770343/suraj-bahadur"}, "edited": false, "score": 2, "creation_date": 1575358408, "post_id": 59152093, "comment_id": 104529107, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/53535977/coroutines-runblocking-vs-coroutinescope\">Coroutines: runBlocking vs coroutineScope</a>"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 2851, "user_id": 6770343, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-TFiqws1rx7s/AAAAAAAAAAI/AAAAAAAAASk/JpWqyPKdWLI/photo.jpg?sz=128", "display_name": "Suraj Bahadur", "link": "https://stackoverflow.com/users/6770343/suraj-bahadur"}, "edited": false, "score": 0, "creation_date": 1575358618, "post_id": 59152093, "comment_id": 104529177, "body": "Woah. Thanks a lot. Seems like others had the same issue with this."}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575358150, "creation_date": 1575358150, "question_id": 59152093, "link": "https://stackoverflow.com/questions/59152093/coroutinescope-blocks-current-thread", "title": "CoroutineScope blocks current thread", "body": "<p>According to the Kotlin docs, a CoroutineScope does not block the current thread. They show this code example:</p>\n\n<pre><code>fun main() = runBlocking { // this: CoroutineScope\n    launch { \n        delay(200L)\n        println(\"Task from runBlocking\")\n    }\n\n    coroutineScope { // Creates a coroutine scope\n        launch {\n            delay(500L) \n            println(\"Task from nested launch\")\n        }\n\n        delay(100L)\n        println(\"Task from coroutine scope\") // This line will be printed before the nested launch\n    }\n\n    println(\"Coroutine scope is over\") // This line is not printed until the nested launch completes\n}\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>Task from coroutine scope\nTask from runBlocking\nTask from nested launch\nCoroutine scope is over\n</code></pre>\n\n<p>They even include the comment:</p>\n\n<blockquote>\n  <p>This line is not printed until the nested launch completes</p>\n</blockquote>\n\n<p>And sure enough, that line doesn't print until the end. But this is what I don't understand. They say that the CoroutineScope does not block the current thread. So why doesn't this line print after the first launch is completed?:</p>\n\n<pre><code>println(\"Coroutine scope is over\")\n</code></pre>\n\n<p>This line is not part of the coroutineScope. I would have expected the result to be:</p>\n\n<pre><code>Coroutine scope is over\nTask from runBlocking\nTask from coroutine scope\nTask from nested launch\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "location"], "comments": [{"owner": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 0, "creation_date": 1575358121, "post_id": 59152056, "comment_id": 104529001, "body": "Have you looked at <a href=\"https://stackoverflow.com/questions/39320952/how-to-get-location-in-fragment\">this</a>? It is in written in Java, but you could convert it to Kotlin."}], "answers": [{"comments": [{"owner": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "edited": false, "score": 0, "creation_date": 1575366707, "post_id": 59152535, "comment_id": 104532966, "body": "Why don&#39;t you add some code to make your answer more simpler."}, {"owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "reply_to_user": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "edited": false, "score": 1, "creation_date": 1575367859, "post_id": 59152535, "comment_id": 104533623, "body": "Ok i will make more well explaned."}, {"owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "reply_to_user": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "edited": false, "score": 0, "creation_date": 1575371128, "post_id": 59152535, "comment_id": 104535629, "body": "If you still have any doubts ask clarification  :)"}, {"owner": {"reputation": 25, "user_id": 12440472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwOdCqjdpbBx4RSnnRUNvYtodPfydbs59QVHgK=k-s128", "display_name": "Zac You", "link": "https://stackoverflow.com/users/12440472/zac-you"}, "edited": false, "score": 0, "creation_date": 1575397412, "post_id": 59152535, "comment_id": 104550569, "body": "Hi first of all, thank you for your patience for helping me out!!!! I appreciate that. But I tried this code inside my fragment and it is not getting the locations. I have correct dependency..."}, {"owner": {"reputation": 25, "user_id": 12440472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwOdCqjdpbBx4RSnnRUNvYtodPfydbs59QVHgK=k-s128", "display_name": "Zac You", "link": "https://stackoverflow.com/users/12440472/zac-you"}, "edited": false, "score": 0, "creation_date": 1575398514, "post_id": 59152535, "comment_id": 104550996, "body": "oh never mind! i figured out thank you!!!! its that i mistyped something!"}, {"owner": {"reputation": 25, "user_id": 12440472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwOdCqjdpbBx4RSnnRUNvYtodPfydbs59QVHgK=k-s128", "display_name": "Zac You", "link": "https://stackoverflow.com/users/12440472/zac-you"}, "edited": false, "score": 0, "creation_date": 1575398958, "post_id": 59152535, "comment_id": 104551167, "body": "and just to make sure is MY_PERMISSIONS_REQUEST_READ_LOCATION an int? and what value did u set it to ?"}, {"owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "edited": false, "score": 0, "creation_date": 1575447633, "post_id": 59152535, "comment_id": 104565567, "body": "private const val MY_PERMISSIONS_REQUEST_READ_LOCATION = 1  I put it as top level const"}], "tags": [], "owner": {"reputation": 209, "user_id": 4397553, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--P75cBrhMwc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqyORQ1JfM8vTB3-7HbIORDu0fAg/photo.jpg?sz=128", "display_name": "Dak28", "link": "https://stackoverflow.com/users/4397553/dak28"}, "is_accepted": true, "score": 1, "last_activity_date": 1575371094, "last_edit_date": 1575371094, "creation_date": 1575360116, "answer_id": 59152535, "question_id": 59152056, "link": "https://stackoverflow.com/questions/59152056/how-to-get-current-longtitude-and-latitude-in-fragments-using-kotlin/59152535#59152535", "title": "how to get current longtitude and latitude in fragments using Kotlin?", "body": "<p>Do things in activity or fragments it's the same.</p>\n\n<p>Just move from onCreate of MainActivity to onActivityCreated of fragment.</p>\n\n<p>Of course permission has to be checked in the activity, because they require context, and would be weird do it in the fragment, but all the code and UI stuff can be done in the fragment itself.</p>\n\n<p>Better explanation.</p>\n\n<p><strong>MAIN ACTIVITY</strong></p>\n\n<ol>\n<li><p><strong>In Main activity ask permission</strong></p>\n\n<p>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.main_activity)</p>\n\n<pre><code>// Here, thisActivity is the current activity\nif (ContextCompat.checkSelfPermission(this,\n        Manifest.permission.ACCESS_FINE_LOCATION)\n    != PackageManager.PERMISSION_GRANTED) {\n\n    ActivityCompat.requestPermissions(this,\n        arrayOf(Manifest.permission.ACCESS_FINE_LOCATION),\n        MY_PERMISSIONS_REQUEST_READ_LOCATION)\n\n} else {\n\n    if (savedInstanceState == null) {\n        supportFragmentManager.beginTransaction()\n            .replace(R.id.container, MainFragment.newInstance())\n            .commitNow()\n      }\n   }\n}\n</code></pre></li>\n</ol>\n\n<p>If permission where already grant replace the fragment that will show data, if not ask permission.</p>\n\n<ol start=\"2\">\n<li><p><strong>Permission Result</strong></p>\n\n<pre><code>if ((grantResults.isNotEmpty() &amp;&amp; grantResults[0] == \n      PackageManager.PERMISSION_GRANTED)) {\n            supportFragmentManager.beginTransaction()\n                .replace(R.id.container, MainFragment.newInstance())\n                .commitNow()\n        } else {\n            Toast.makeText(this, \"Error\", Toast.LENGTH_SHORT).show()\n        }\n</code></pre>\n\n<p>If permission are given do the same thing, instantiate fragment.</p></li>\n</ol>\n\n<p><strong>FRAGMENT</strong></p>\n\n<pre><code>private lateinit var fusedLocationClient: FusedLocationProviderClient\n\ncompanion object {\n    fun newInstance() = MainFragment()\n}\n\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View {\n    return inflater.inflate(R.layout.main_fragment, container, false)\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    fusedLocationClient = LocationServices.getFusedLocationProviderClient(activity!!.applicationContext)\n\n    fusedLocationClient.lastLocation\n        .addOnSuccessListener { location : Location? -&gt;\n            if (location != null) {\n                lat_view.text = location.latitude.toString()\n            }\n\n            if (location != null) {\n                long_view.text = location.longitude.toString()\n            }\n        }\n}\n</code></pre>\n\n<p>Fragment will use FusedLocationProviderClient to get location.\nIf you want more information about it look here:</p>\n\n<p><a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient\" rel=\"nofollow noreferrer\">https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient</a></p>\n\n<p><a href=\"https://developer.android.com/training/location/retrieve-current\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location/retrieve-current</a></p>\n\n<p>How to import packages</p>\n\n<p><a href=\"https://developers.google.com/android/guides/setup\" rel=\"nofollow noreferrer\">https://developers.google.com/android/guides/setup</a></p>\n\n<p>As you can see in </p>\n\n<pre><code>.lastLocation\n</code></pre>\n\n<p>I get the latitude and longitude</p>\n\n<p><strong>NOTE</strong>: I put null check because as you will notice if you do not do that there is the chance that value are null</p>\n"}], "owner": {"reputation": 25, "user_id": 12440472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCwOdCqjdpbBx4RSnnRUNvYtodPfydbs59QVHgK=k-s128", "display_name": "Zac You", "link": "https://stackoverflow.com/users/12440472/zac-you"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 59152535, "answer_count": 1, "score": 0, "last_activity_date": 1575371094, "creation_date": 1575358002, "last_edit_date": 1575361232, "question_id": 59152056, "link": "https://stackoverflow.com/questions/59152056/how-to-get-current-longtitude-and-latitude-in-fragments-using-kotlin", "title": "how to get current longtitude and latitude in fragments using Kotlin?", "body": "<p>Is there a way to get the location in fragments using Kotlin, I have researched for the way to get locations but they all did it in the activity. Is there a way to get the location in the fragment? Using Kotlin?</p>\n"}, {"tags": ["java", "android", "kotlin", "opentok", "videocall"], "comments": [{"owner": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "edited": false, "score": 0, "creation_date": 1575358532, "post_id": 59151980, "comment_id": 104529142, "body": "Check my old answer: <a href=\"https://stackoverflow.com/questions/58723440/how-can-i-listen-a-incoming-video-call-from-my-app-using-opentok/58723705#58723705\" title=\"how can i listen a incoming video call from my app using opentok\">stackoverflow.com/questions/58723440/&hellip;</a>"}, {"owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "reply_to_user": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "edited": false, "score": 0, "creation_date": 1575363249, "post_id": 59151980, "comment_id": 104531059, "body": "@JohnLe it&#39;s not called if my app is in background."}, {"owner": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "edited": false, "score": 0, "creation_date": 1575364314, "post_id": 59151980, "comment_id": 104531626, "body": "Try to add the permission: <code>&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; &#47;&gt;</code>"}, {"owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "reply_to_user": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "edited": false, "score": 0, "creation_date": 1575432484, "post_id": 59151980, "comment_id": 104560824, "body": "@JohnLe already added sir, i think its may be API level deprecation issue. currently i&#39;m testing in api level 25."}, {"owner": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "edited": false, "score": 0, "creation_date": 1575434658, "post_id": 59151980, "comment_id": 104561315, "body": "It works well on my side. Sr, I don&#39;t know why"}], "owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575357691, "creation_date": 1575357691, "question_id": 59151980, "link": "https://stackoverflow.com/questions/59151980/how-to-launch-app-or-showing-calling-screen-when-received-call-from-admin-portal", "title": "How to launch app or showing calling screen when received call from admin portal in case of background/killed?", "body": "<p>How can i show calling screen with accept/reject button when my app will receive call from admin side(back-end) when app is in background or killed state. Is their any way to achieve this? My app requirement is,it can only receive Video Call from back-end, i'm using OpenTok for video call. App is working fine when it is in visible state. I'm able to show calling screen with both buttons. But when app is in background or killed than unable to handle this. I'm getting push when call initiated from admin side.</p>\n"}, {"tags": ["android", "kotlin", "null"], "comments": [{"owner": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "edited": false, "score": 0, "creation_date": 1575357636, "post_id": 59150629, "comment_id": 104528812, "body": "I think it is not kotlin problem. different point with java is that kotlin force you check nullabliliy. so, you have to add null-check or use elvis operator. <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html</a> would help you."}], "answers": [{"tags": [], "owner": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "is_accepted": false, "score": 0, "last_activity_date": 1575350816, "creation_date": 1575350816, "answer_id": 59150653, "question_id": 59150629, "link": "https://stackoverflow.com/questions/59150629/best-way-to-pass-nullable-values-to-functions/59150653#59150653", "title": "Best way to pass nullable values to functions", "body": "<p>For nullable variable you need to check first variable is not null.</p>\n\n<p>You can do using below methods:</p>\n\n<pre><code>if(location != null){\n   val latitude = location.latitude\n}\n\nor \n\nlocation?.let{\n   val latitude = it.latitude // location can be replace with **it**\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 823, "user_id": 1713450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4683615320a349adc8ac4f68faace0?s=128&d=identicon&r=PG", "display_name": "user1713450", "link": "https://stackoverflow.com/users/1713450/user1713450"}, "is_accepted": true, "score": 0, "last_activity_date": 1575353223, "creation_date": 1575353223, "answer_id": 59151072, "question_id": 59150629, "link": "https://stackoverflow.com/questions/59150629/best-way-to-pass-nullable-values-to-functions/59151072#59151072", "title": "Best way to pass nullable values to functions", "body": "<p>Kotlin, unlike Java and many other languages, requires that you explicitly identify a nullable value as nullable or it will throw up a compiler error (as you've discovered). This is done to prevent the dreaded NullPointerException, an effect of the so-called <a href=\"https://medium.com/@hinchman_amanda/null-pointer-references-the-billion-dollar-mistake-1e616534d485\" rel=\"nofollow noreferrer\">billion dollar mistake</a> (programmers the world over forgetting to check for null before assuming a variable's value is not null, and causing a NPE).</p>\n\n<p>There are three ways to go about handling what you're asking about in Kotlin, and it boils down to a stylistic preference on your part plus a bit about how much code is conditioned upon the null/non-null status of the value. The methods all incorporate a null check.</p>\n\n<p>For purposes of this answer, I'll assume if the latitude property is null, you want to throw an error. But one great thing about explicit nullability in Kotlin is it forces you to think about how you actually want to handle null values (is it an error that halts your code? do you plug in a default value and continue your code? etc.)</p>\n\n<p>First, you can use the traditional <code>if/else</code>. For personal aesthetic reasons, I tend not to use this in Kotlin. I just enjoy using the other methods because they're \"new\" to me, coming from C-like languages, where if/else is old hat.</p>\n\n<pre><code>val myVal: Location? = someValue\n\nif(myVal == null) {\n   throw IllegalStateException(\"myVal is null\")\n} else {\n   /* handle the non-null case(s) */\n}\n</code></pre>\n\n<p>Second, you can use one of the Kotlin <a href=\"https://medium.com/@elye.project/mastering-kotlin-standard-functions-run-with-let-also-and-apply-9cd334b0ef84\" rel=\"nofollow noreferrer\">scoping functions</a> (they are all used in subtly different ways but are interchangeable for the purposes of your question).</p>\n\n<p><code>myValue.let</code> tells Kotlin to stick <code>myValue</code> into the following code block but renamed to <code>it</code>. But <code>myValue?.let</code> tells Kotlin to do this <em>only if myValue is non-null</em>. If myValue is null, the block of code following <code>let</code> will not execute. If you put a <code>?:</code> and some code after the block of code, that will be run if myValue is null:</p>\n\n<pre><code>val myVal: Location? = someValue\n\nmyVal?.let { location -&gt;\n   /* handle the non-null case */\n} ?: throw IllegalStateException(\"myVal is null\")\n</code></pre>\n\n<p>In the above, <code>throw ...</code> only executes if myVal is null. If myVal is non-null, it will not throw.</p>\n\n<p>The third option is similar to the second:</p>\n\n<pre><code>val myVal: Location? = someValue\n\nmyVal ?: throw IllegalStateException(\"myVal is null\")\n\n/* now handle the non-null case */\n</code></pre>\n\n<p>Remember the <code>?:</code> from above? That's it again, and it operates the same way: if <code>myVal</code> is null, it will execute what comes to the right of it. In this case, a throw. If this were in a function, you could also do <code>myVal ?: return someDefaultValue</code> for example.</p>\n\n<p>It operates as a type guard and ensures that for any subsequent code, myVal <em>cannot</em> be null (because myVal is immutable and we've now determined it's not null).</p>\n"}], "owner": {"reputation": 1187, "user_id": 3251645, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3c2b67f18c87216f04487f4723a0c93e?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Borkar", "link": "https://stackoverflow.com/users/3251645/amol-borkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59151072, "answer_count": 2, "score": 0, "last_activity_date": 1575353223, "creation_date": 1575350644, "question_id": 59150629, "link": "https://stackoverflow.com/questions/59150629/best-way-to-pass-nullable-values-to-functions", "title": "Best way to pass nullable values to functions", "body": "<p>I have pretty common piece of kotlin code here: </p>\n\n<pre><code>        fusedLocationProviderClient.lastLocation.addOnSuccessListener { location: Location? -&gt;\n            val geoCoder = Geocoder(this, Locale.getDefault())\n\n            val addr = geoCoder.getFromLocation(location.latitude, location.longitude, 1)\n\n            Toast.makeText(this, \"Got location info\", Toast.LENGTH_SHORT).show()\n            locationText.text = addr.get(0).toString()\n        }.addOnFailureListener { exception: Exception -&gt;\n            locationText.text = exception.message\n        }\n</code></pre>\n\n<p>Since the location value from the callback can be <code>null</code> in certain cases we have to define it as a <code>nullable</code> type like so <code>location: Location?</code>. The problem arises when I want to use the latitude and longitude attributes from the location object like <code>location.longitude</code>. The compiler gives the following error:</p>\n\n<p><code>Only safe (?.) or non-null asserted calls are allowed on nullable reciever of type Locaion?</code></p>\n\n<p>Now I know doing <code>location!!.latitude</code> is a dangerous thing because it claims the value to not be null. And using <code>location?.latitude</code> gives me a type mismatch <code>Required: Double Found: Double?</code></p>\n\n<p>I've seen this happening many times while making async calls. My question is what is the official \"kotin\" way to handle situations like these?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 8, "last_activity_date": 1575349908, "creation_date": 1575349908, "answer_id": 59150532, "question_id": 59150471, "link": "https://stackoverflow.com/questions/59150471/android-coroutine-job-changed-to-completablejob/59150532#59150532", "title": "Android coroutine job changed to CompletableJob?", "body": "<p><code>Job()</code> is actually a factory function that returns a <code>CompletableJob</code>. Therefore the type of <code>private var job = Job()</code> is <code>CompletableJob</code>. However, the return type for <code>scope.launch</code> is just a <code>Job</code>. You get an error because not all <code>Job</code> instances are <code>CompletableJob</code> instances.</p>\n\n<p>Instead of relying on type inference (and the automatically assigned <code>CompletableJob</code> type), you can specify the exact type you want to use:</p>\n\n<pre><code>private var job: Job = Job()\n</code></pre>\n"}], "owner": {"reputation": 104, "user_id": 3571610, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002744670128/picture?type=large", "display_name": "felipe.rce", "link": "https://stackoverflow.com/users/3571610/felipe-rce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 59150532, "answer_count": 1, "score": 3, "last_activity_date": 1575349908, "creation_date": 1575349480, "question_id": 59150471, "link": "https://stackoverflow.com/questions/59150471/android-coroutine-job-changed-to-completablejob", "title": "Android coroutine job changed to CompletableJob?", "body": "<p>When I update my project coroutines to the newer version all my job creation with launch scope are failing...</p>\n\n<p>on gradle:</p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.2'\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>Type mismatch: inferred type is Job but CompletableJob was expected\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>var websiteCrawlerResultList: ArrayList&lt;WebsiteCrawlerResult&gt; = arrayListOf()\n    var url: URL? = null\n    private var urlList: MutableSet&lt;String&gt; = mutableSetOf()\n    private var job = Job()\n    private var scope = CoroutineScope(Dispatchers.Default+job)\n\n    fun startCrawler() {\n        job = scope.launch {\n            crawlPageLinks(url)\n            Log.d(TAG, \"Finished ${url.toString()} crawling\")\n        }\n    }\n</code></pre>\n\n<p>when <code>job = scope.launch {</code> Android Studio return the type mismatch error, he expect to be <code>CompletableJob</code>, but I not using it and this don't exists on the old version.</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-collapsingtoolbarlayout", "android-appbarlayout"], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "is_accepted": true, "score": 3, "last_activity_date": 1575359023, "creation_date": 1575359023, "answer_id": 59152287, "question_id": 59149915, "link": "https://stackoverflow.com/questions/59149915/listen-to-offset-changes-collapsing-expanding-of-appbarlayout-to-change-toolba/59152287#59152287", "title": "Listen to offset changes (collapsing/expanding) of AppBarLayout to change toolbar&#39;s background in Kotlin", "body": "<p>Try this.</p>\n\n<pre><code>appBarLayout.addOnOffsetChangedListener(AppBarLayout.OnOffsetChangedListener { appBarLayout, verticalOffset -&gt;\n            //measuring for alpha\n            int toolBarHeight = toolbar.getMeasuredHeight();\n            int appBarHeight = appBarLayout.getMeasuredHeight();\n            Float f = ((((float) appBarHeight - toolBarHeight) + verticalOffset) / ( (float) appBarHeight - toolBarHeight)) * 255;\n            fading_backdrop.getBackground().setAlpha(255 - Math.round(f));\n        })\n</code></pre>\n"}], "owner": {"reputation": 5855, "user_id": 9060223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xCtnx.png?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/9060223/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "accepted_answer_id": 59152287, "answer_count": 1, "score": 3, "last_activity_date": 1575359023, "creation_date": 1575344760, "last_edit_date": 1575345504, "question_id": 59149915, "link": "https://stackoverflow.com/questions/59149915/listen-to-offset-changes-collapsing-expanding-of-appbarlayout-to-change-toolba", "title": "Listen to offset changes (collapsing/expanding) of AppBarLayout to change toolbar&#39;s background in Kotlin", "body": "<p>I am making a custom <code>Collapsing Toolbar Layout</code>. The collapsing part is finished, the toolbar has been adjusted accordingly. The only thing that is missing is that I want to change my <code>Toolbar</code>s background <strong>as</strong> the <code>Collapsing Toolbar Layout</code> is collapsing, i.e. gradually increase the opacity of my <code>Toolbar</code>s background.</p>\n\n<p>I've seen a lot of answers that seemingly do what I want in Java. Unfortunately, I have no basics (at all) in Java and the one that makes the most sense is here: <a href=\"https://stackoverflow.com/questions/35244455/collapsingtoolbarlayout-custom-contentscrim-similar-to-facebook\">here</a>. I tried pasting said code to my Android Studio IDE and it doesn't work (it's not really overriding anything). For reference, the code of said post is here:</p>\n\n<pre><code>@Override\n    public void onOffsetChanged(AppBarLayout appBarLayout, int verticalOffset) {\n\n        //measuring for alpha\n        int toolBarHeight = toolbar.getMeasuredHeight();\n        int appBarHeight = appBarLayout.getMeasuredHeight();\n        Float f = ((((float) appBarHeight - toolBarHeight) + verticalOffset) / ( (float) appBarHeight - toolBarHeight)) * 255;\n        fading_backdrop.getBackground().setAlpha(255 - Math.round(f));\n   }\n</code></pre>\n\n<p>I similarly want to do that, i.e. I want to be able to listen to the Y-offset of my <code>AppBarLayout</code> to gradually change my <code>Toolbar</code>s background.</p>\n\n<p>I have the following activity_xml file (just in case):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout ...&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        ... &gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:id=\"@+id/collapsingToolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"@drawable/bg_collapsing_toolbar\"\n            app:collapsedTitleTextAppearance=\"@style/CollapsedCollapsingToolbarText\"\n            app:expandedTitleTextAppearance=\"@style/ExpandedCollapsingToolbarText\"\n            app:layout_scrollFlags=\"exitUntilCollapsed|scroll\"&gt;\n\n            &lt;ImageView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:background=\"@drawable/bg_collapsing_toolbar\"\n                app:layout_collapseMode=\"parallax\"\n                app:layout_collapseParallaxMultiplier=\"0.75\" /&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                app:layout_collapseMode=\"pin\"\n                app:popupTheme=\"@style/Theme.AppCompat.Light\"&gt;\n\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"&gt;\n\n                    &lt;TextView\n                        ... /&gt;\n\n                    &lt;ImageView\n                        ... /&gt;\n\n                    &lt;ImageView\n                        ... /&gt;\n\n                &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>How do I listen to some <code>AppBarLayout</code> offset changes so that I can gradually change my <code>Toolbar</code>s background as the <code>Collapsing Toolbar Layout</code> is collapsing <strong>in Kotlin</strong>?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 7, "creation_date": 1575329658, "post_id": 59148172, "comment_id": 104522035, "body": "Sounds like you are using Proguard"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 1, "creation_date": 1575329666, "post_id": 59148172, "comment_id": 104522036, "body": "Please show several examples of how you call the function. Then show the output and explain what you expect instead."}], "answers": [{"tags": [], "owner": {"reputation": 8396, "user_id": 1105277, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2g96b.jpg?s=128&g=1", "display_name": "AliSh", "link": "https://stackoverflow.com/users/1105277/alish"}, "is_accepted": true, "score": 1, "last_activity_date": 1575345847, "creation_date": 1575345847, "answer_id": 59150030, "question_id": 59148172, "link": "https://stackoverflow.com/questions/59148172/kotlin-class-name-is-wrong/59150030#59150030", "title": "Kotlin class name is wrong", "body": "<p>It seems that your classes obfuscated by <a href=\"https://developer.android.com/studio/build/shrink-code\" rel=\"nofollow noreferrer\">Proguard</a> which changes your class names. If you want to prevent obfuscation on your class names. you can add these lines in your <code>proguard-rules.pro</code> files:</p>\n\n<pre><code>-keepnames class your.package.name.ClassName {}\n</code></pre>\n"}], "owner": {"reputation": 340, "user_id": 5398094, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/878b2f5216164514f2dccd623c21e5b6?s=128&d=identicon&r=PG&f=1", "display_name": "M. Smith", "link": "https://stackoverflow.com/users/5398094/m-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 59150030, "answer_count": 1, "score": 0, "last_activity_date": 1575345847, "creation_date": 1575329517, "question_id": 59148172, "link": "https://stackoverflow.com/questions/59148172/kotlin-class-name-is-wrong", "title": "Kotlin class name is wrong", "body": "<p>I've got a simple kotlin file with a function that maps an enum to a Fragment Class name for an Android application. For some reason the returned string is always \"d\".</p>\n\n<pre><code> fun getClassNameForType(type: ContentOuterClass.Onboarding.ItemCase) : String? =\nwhen(type) {\n    ContentOuterClass.Onboarding.ItemCase.EMAIL -&gt; EmailFragment::class.simpleName\n    ContentOuterClass.Onboarding.ItemCase.HORIZONTAL_TWO_BUTTON -&gt; HorizontalTwoButtonFragment::class.simpleName\n\n    ContentOuterClass.Onboarding.ItemCase.VERTICAL_TWO_BUTTON -&gt; VerticalTwoButtonFragment::class.simpleName\n\n    ContentOuterClass.Onboarding.ItemCase.PRACTICE_SCHEDULE -&gt; PracticeScheduleFragment::class.simpleName\n\n    ContentOuterClass.Onboarding.ItemCase.SINGLE_BUTTON -&gt; SingleButtonFragment::class.simpleName\n    ContentOuterClass.Onboarding.ItemCase.SUBSCRIBE -&gt; SubscribeFragment::class.simpleName\n\n    else -&gt; null\n}\n</code></pre>\n\n<p>What's also odd is that when I hardcode a string that string comes back correctly. I've tried the various suggestions for getting the class name for java and kotlin classes with no luck (ie <code>qualifiedName</code> , <code>simpleName</code>, <code>::class.java.simpleName</code>, etc). </p>\n"}, {"tags": ["android", "kotlin", "lint"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1575403987, "post_id": 59147668, "comment_id": 104553303, "body": "Looks similar to <a href=\"https://stackoverflow.com/q/57225133/8298909\">stackoverflow.com/q/57225133/8298909</a>. My guess is that the linter just isn&#39;t sophisticated enough to &quot;know&quot; that you&#39;re doing the right thing."}], "owner": {"reputation": 21, "user_id": 12470753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29ce199fc273860d492a2cafdbaf7538?s=128&d=identicon&r=PG&f=1", "display_name": "Joe MM", "link": "https://stackoverflow.com/users/12470753/joe-mm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1575402858, "creation_date": 1575326188, "last_edit_date": 1575402858, "question_id": 59147668, "link": "https://stackoverflow.com/questions/59147668/android-studio-how-to-resolve-lint-warning-with-obtainstyledattributes-when-rec", "title": "Android Studio: How to resolve lint warning with obtainStyledAttributes when recycle is called in try finally block", "body": "<p>Hi I'm using the following code so in the event of a crash recycle will always be called to free up the memory.</p>\n\n<pre><code>context.obtainStyledAttributes(attrs, R.styleable.example).apply {\n    try {\n        getDrawable(R.styleable.example_drawable)\n    } finally {\n        recycle()\n    }\n}\n</code></pre>\n\n<p>However, for some reason in android studio lint cannot detect the recycle call and it always complains, giving me this warning:  </p>\n\n<pre><code>This 'TypedArray' should be recycled after use with '#recycle()'\n</code></pre>\n\n<p>I also tried using a Kotlin extension function which should automatically call recycle for me:</p>\n\n<pre><code>context.obtainStyledAttributes(attrs, R.styleable.example).use\n{\n    it.getDrawable(R.styleable.example_drawable)\n}\n</code></pre>\n\n<p>But the lint warning still persists. Any idea what to do?</p>\n\n<p>I am currently using latest versions of Android Studio, Gradle, and Kotlin (3.5.2, 6.0.1, and 1.3.60 respectively)</p>\n\n<p>Is there a way to update lint maybe? Or does it already come with Android Studio.?\nThanks.</p>\n\n<p>*Edit: It seems the .apply is part of the problem. Removing that or the try finally block removes the warning, so somehow you can't have both at the same time. Is this a bug..?</p>\n"}, {"tags": ["android", "kotlin", "android-espresso", "instrumented-test"], "comments": [{"owner": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "edited": false, "score": 0, "creation_date": 1575367645, "post_id": 59147583, "comment_id": 104533495, "body": "Kotlin espresso test case example : <a href=\"https://github.com/android/testing-samples/tree/master/ui/espresso\" rel=\"nofollow noreferrer\">github.com/android/testing-samples/tree/master/ui/espresso</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3161, "user_id": 10510491, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4QsPKELpII/AAAAAAAAAAI/AAAAAAAAV14/3oA6QmFw68U/photo.jpg?sz=128", "display_name": "Aaron", "link": "https://stackoverflow.com/users/10510491/aaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1575414181, "creation_date": 1575414181, "answer_id": 59166700, "question_id": 59147583, "link": "https://stackoverflow.com/questions/59147583/how-to-test-the-background-of-textview-if-its-right-drawable-set-xml-resource-i/59166700#59166700", "title": "How to test the background of textview if it&#39;s right drawable set xml resource in Android Espresso in Kotlin programming language", "body": "<p>You could use one of the Espresso's view matchers <a href=\"https://developer.android.com/reference/androidx/test/espresso/matcher/ViewMatchers.html?hl=en#hasBackground(int)\" rel=\"nofollow noreferrer\">ViewMatchers.hasBackground</a>:</p>\n\n<pre><code>onView(withId(R.id.tvStatus)).check(matches(hasBackground(R.drawable.background_future_event)))\n</code></pre>\n\n<p>Although the matcher is in beta, but I hope it works in your case, otherwise you may have to create a custom matcher.</p>\n"}], "owner": {"reputation": 9667, "user_id": 4675736, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yXNEM.jpg?s=128&g=1", "display_name": "Wai Yan Hein", "link": "https://stackoverflow.com/users/4675736/wai-yan-hein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575414181, "creation_date": 1575325683, "last_edit_date": 1575369909, "question_id": 59147583, "link": "https://stackoverflow.com/questions/59147583/how-to-test-the-background-of-textview-if-its-right-drawable-set-xml-resource-i", "title": "How to test the background of textview if it&#39;s right drawable set xml resource in Android Espresso in Kotlin programming language", "body": "<p>I am developing an Android application using Kotlin. I am adding instrumented tests to my application. I am having a problem testing the background of textview if it's right drawable set in XML resource.</p>\n\n<p>I am setting the background of the text view programmatically like this.</p>\n\n<pre><code>when (type) {\n            ApplicationController.EVENT_TYPE_FUTURE -&gt; {\n                detailsViewHolder.tvStatus.setBackgroundResource(R.drawable.background_future_event)\n            }\n\n            ApplicationController.EVENT_TYPE_PAST -&gt; {\n                detailsViewHolder.tvStatus.setBackgroundResource(R.drawable.background_past_event)\n            }\n\n            ApplicationController.EVENT_TYPE_CURRENT -&gt; {\n                detailsViewHolder.tvStatus.setBackgroundResource(R.drawable.background_current_event)\n            }\n        }\n</code></pre>\n\n<p>In the expresso, I want to assert that the text view is set with the right XML resource. How can I do that?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4912, "user_id": 3307720, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a9af81f6e3d88cba98772f0419f85214?s=128&d=identicon&r=PG&f=1", "display_name": "nasch", "link": "https://stackoverflow.com/users/3307720/nasch"}, "edited": false, "score": 0, "creation_date": 1575343985, "post_id": 59147156, "comment_id": 104525020, "body": "Accept login credentials, call read user method, if user exists log in, if not prompt for create new user.  What part are you having trouble with?"}, {"owner": {"reputation": 19, "user_id": 9264254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e93826b0ebca88fa1f6988df12476e?s=128&d=identicon&r=PG&f=1", "display_name": "Ehtizad Zashkiyor", "link": "https://stackoverflow.com/users/9264254/ehtizad-zashkiyor"}, "reply_to_user": {"reputation": 4912, "user_id": 3307720, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a9af81f6e3d88cba98772f0419f85214?s=128&d=identicon&r=PG&f=1", "display_name": "nasch", "link": "https://stackoverflow.com/users/3307720/nasch"}, "edited": false, "score": 0, "creation_date": 1575347281, "post_id": 59147156, "comment_id": 104525702, "body": "I would like to know where should I add the methods from the helper class in activity class without disturbing the save instance"}, {"owner": {"reputation": 4912, "user_id": 3307720, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a9af81f6e3d88cba98772f0419f85214?s=128&d=identicon&r=PG&f=1", "display_name": "nasch", "link": "https://stackoverflow.com/users/3307720/nasch"}, "edited": false, "score": 0, "creation_date": 1575385961, "post_id": 59147156, "comment_id": 104544624, "body": "It looks like you&#39;re already calling an isLoggedIn function to determine if the user exists.  Is that not working?"}], "owner": {"reputation": 19, "user_id": 9264254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e93826b0ebca88fa1f6988df12476e?s=128&d=identicon&r=PG&f=1", "display_name": "Ehtizad Zashkiyor", "link": "https://stackoverflow.com/users/9264254/ehtizad-zashkiyor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1575323417, "creation_date": 1575323417, "question_id": 59147156, "link": "https://stackoverflow.com/questions/59147156/how-to-save-a-new-user-if-the-entered-details-are-new-and-load-an-existing-user", "title": "How to save a new user if the entered details are new and load an existing user if the credentials exist using an SQLitedatabase?", "body": "<p>I would like to create and store new users also update the existing users in the following code\nWhat code needs to be added to strore new users in a SQLitedatabase </p>\n\n<p>I have a sqllitehelper class</p>\n\n<p>which has adduser,updateuser,and readuser methods</p>\n\n<p>From what i understand ,the signinfragment activity stores the instance of the logged in user and\nif the instance exists then its loaded.When we logout we basically have to make a new user and we login\ni would like to create,store,update users using an SQLite database.</p>\n\n<p>package com.google.samples.apps.topeka.fragment</p>\n\n<pre><code>import android.annotation.TargetApi\nimport android.content.ContentValues\nimport android.content.Context\nimport android.content.Intent\nimport android.database.sqlite.SQLiteDatabase\nimport android.os.Build\nimport android.os.Bundle\nimport android.support.design.widget.FloatingActionButton\nimport android.support.v4.app.ActivityOptionsCompat\nimport android.support.v4.app.Fragment\nimport android.support.v4.util.Pair\nimport android.support.v4.view.ViewCompat\nimport android.support.v4.view.animation.FastOutSlowInInterpolator\nimport android.text.Editable\nimport android.text.TextWatcher\nimport android.transition.Transition\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.AdapterView\nimport android.widget.EditText\nimport android.widget.GridView\nimport android.widget.Toast\nimport android.widget.Toast.LENGTH_LONG\nimport com.google.samples.apps.topeka.activity.SignInActivity\nimport com.google.samples.apps.topeka.adapter.AvatarAdapter\nimport com.google.samples.apps.topeka.base.R\nimport com.google.samples.apps.topeka.helper.ActivityLaunchHelper\nimport com.google.samples.apps.topeka.helper.ApiLevelHelper\nimport com.google.samples.apps.topeka.helper.DefaultLogin\nimport com.google.samples.apps.topeka.helper.TAG\nimport com.google.samples.apps.topeka.helper.TransitionHelper\nimport com.google.samples.apps.topeka.helper.isLoggedIn\nimport com.google.samples.apps.topeka.helper.login\nimport com.google.samples.apps.topeka.helper.onLayoutChange\nimport com.google.samples.apps.topeka.helper.onSmartLockResult\nimport com.google.samples.apps.topeka.model.Avatar\nimport com.google.samples.apps.topeka.model.Player\nimport com.google.samples.apps.topeka.persistence.PPlayer\nimport com.google.samples.apps.topeka.widget.TextWatcherAdapter\nimport com.google.samples.apps.topeka.widget.TransitionListenerAdapter\nimport com.google.samples.apps.topeka.persistence.TopekaDatabaseHelper;\n\n\n/**\n * Enable selection of an [Avatar] and user name.\n */\n class SignInFragment : Fragment() {\n\n    private var firstNameView: EditText? = null\n    private var lastInitialView: EditText? = null\n    private var doneFab: FloatingActionButton? = null\n    private var avatarGrid: GridView? = null\n    private var firstName = \"\"\n    private var lastInitial= \"\"\n    private var avatar = \"\"\n\n\n\n\n    private val edit by lazy { arguments?.getBoolean(ARG_EDIT, false) ?: false }\n\n    private var selectedAvatarView: View? = null\n    private var player: Player? = null\n    private var selectedAvatar: Avatar? = null\n    var a = getContext()\n\n\n\n\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n\n\n\n        var a = context\n        val resources = context!!.resources\n         var ss = TopekaDatabaseHelper(requireActivity())\n\n\n\n        val newValues = ContentValues().apply {\n            // Sets the values of each column and inserts the value.\n            // The arguments to the \"put\"\n            // method are \"column name\" and \"value\"\n\n\n        }\n\n\n\n\n        if (savedInstanceState != null) {\n            val avatarIndex = savedInstanceState.getInt(KEY_SELECTED_AVATAR_INDEX)\n            if (avatarIndex != GridView.INVALID_POSITION) {\n                selectedAvatar = Avatar.values()[avatarIndex]\n\n            }\n\n        }\n\n        activity?.run {\n            if (isLoggedIn()) {\n                navigateToCategoryActivity()\n                Toast.makeText(requireContext(),\"old\", LENGTH_LONG)\n\n            } else {\n                maketext(\"new player\")\n                login.loginPlayer(this, ::onSuccessfulLogin)\n\n            }\n        }\n        super.onCreate(savedInstanceState)\n    }\n\n\n\n\n\n    /**\n     * Called when logged in successfully.\n     */\n    private fun onSuccessfulLogin(player: Player) {\n        if (login != DefaultLogin) return\n        this.player = player\n        if (edit) {\n            with(player) {\n                firstNameView?.setText(player.firstName)\n                lastInitialView?.run {\n                    setText(player.lastInitial)\n                    requestFocus()\n                    setSelection(length())\n                    var db = TopekaDatabaseHelper(context)\n                    db.adduser(player.firstName,player.lastInitial)\n                    maketext(\"saved new\")\n\n\n\n\n                }\n                this@SignInFragment.player = player.also {\n                    if (activity != null)\n\n                        login.savePlayer(activity!!, this, { selectAvatar(it.avatar!!) })\n                        maketext(\"saved new\")\n\n\n                }\n            }\n        } else {\n            Toast.makeText(requireContext(),\"new\", LENGTH_LONG)\n            navigateToCategoryActivity()\n        }\n    }\n\n\n    private fun maketext(ss:String){\n\n        Toast.makeText(requireContext(),ss,LENGTH_LONG)\n    }\n\n    private fun navigateToCategoryActivity() {\n        activity?.run {\n            ActivityLaunchHelper.launchCategorySelection(this)\n            supportFinishAfterTransition()\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        activity?.onSmartLockResult(\n                requestCode,\n                resultCode,\n                data,\n                success = {\n                    player = it\n                    initContents()\n                    navigateToCategoryActivity()\n                },\n                failure = {\n                    activity?.run {\n                        login.loginPlayer(this, ::onSuccessfulLogin)\n                    }\n                }\n        )\n        super.onActivityResult(requestCode, resultCode, data)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater,\n                              container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        val contentView = inflater.inflate(R.layout.fragment_sign_in, container, false)\n        contentView.onLayoutChange {\n            avatarGrid?.apply {\n                adapter = AvatarAdapter(activity!!)\n                onItemClickListener = AdapterView.OnItemClickListener { _, view, position, _ -&gt;\n                    selectedAvatarView = view\n                    selectedAvatar = Avatar.values()[position]\n                    // showing the floating action button if input data is valid\n                    showFab()\n                }\n                numColumns = calculateSpanCount()\n                selectedAvatar?.run { selectAvatar(this) }\n            }\n        }\n        return contentView\n    }\n\n    /**\n     * Calculates spans for avatars dynamically.\n\n     * @return The recommended amount of columns.\n     */\n    private fun calculateSpanCount(): Int {\n        val avatarSize = resources.getDimensionPixelSize(R.dimen.size_fab)\n        val avatarPadding = resources.getDimensionPixelSize(R.dimen.spacing_double)\n        return (avatarGrid?.width ?: 0) / (avatarSize + avatarPadding)\n    }\n\n    override fun onSaveInstanceState(outState: Bundle) {\n        outState.putInt(KEY_SELECTED_AVATAR_INDEX, (avatarGrid?.checkedItemPosition ?: 0))\n        super.onSaveInstanceState(outState)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        firstNameView = view.findViewById&lt;EditText&gt;(R.id.first_name)\n        lastInitialView = view.findViewById&lt;EditText&gt;(R.id.last_initial)\n        doneFab = view.findViewById&lt;FloatingActionButton&gt;(R.id.done)\n        avatarGrid = view.findViewById&lt;GridView&gt;(R.id.avatars)\n\n        if (edit || (player != null &amp;&amp; player!!.valid())) {\n            initContentViews()\n            initContents()\n        }\n        hideEmptyView()\n        super.onViewCreated(view, savedInstanceState)\n    }\n\n    private fun hideEmptyView() {\n        view?.run {\n            findViewById&lt;View&gt;(R.id.empty).visibility = View.GONE\n            findViewById&lt;View&gt;(R.id.content).visibility = View.VISIBLE\n        }\n    }\n\n    private fun initContentViews() {\n        val textWatcher = object : TextWatcher by TextWatcherAdapter {\n\n            override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n                // hiding the floating action button if text is empty\n                if (s.isEmpty()) {\n                    doneFab?.hide()\n                }\n            }\n\n            // showing the floating action button if avatar is selected and input data is valid\n            override fun afterTextChanged(s: Editable) {\n                if (isAvatarSelected() &amp;&amp; isInputDataValid()) doneFab?.show()\n            }\n        }\n\n        firstNameView?.addTextChangedListener(textWatcher)\n        lastInitialView?.addTextChangedListener(textWatcher)\n        doneFab?.setOnClickListener {\n            if (it.id == R.id.done) {\n                val first = firstNameView?.text?.toString()\n                val last = lastInitialView?.text?.toString()\n                activity?.run {\n                    val toSave = player?.apply {\n                        // either update the existing player object\n                        firstName = first\n                        lastInitial = last\n                        avatar = selectedAvatar\n                    } ?: Player(first, last, selectedAvatar) /* or create a new one */\n\n                    login.savePlayer(this, toSave) {\n                        Toast.makeText(this,\"done\",LENGTH_LONG)\n                        Log.d(TAG, \"Saving login info successful.\")\n                    }\n                }\n            }\n            removeDoneFab {\n                performSignInWithTransition(selectedAvatarView\n                        ?: avatarGrid?.getChildAt(selectedAvatar!!.ordinal))\n            }\n        }\n    }\n\n    private fun removeDoneFab(endAction: () -&gt; Unit) {\n        ViewCompat.animate(doneFab)\n                .scaleX(0f)\n                .scaleY(0f)\n                .setInterpolator(FastOutSlowInInterpolator())\n                .withEndAction(endAction)\n                .start()\n    }\n\n    @TargetApi(Build.VERSION_CODES.LOLLIPOP)\n    private fun performSignInWithTransition(v: View? = null) {\n        if (v == null || ApiLevelHelper.isLowerThan(Build.VERSION_CODES.LOLLIPOP)) {\n            // Don't run a transition if the passed view is null\n            activity?.run {\n                navigateToCategoryActivity()\n            }\n            return\n        }\n\n        if (ApiLevelHelper.isAtLeast(Build.VERSION_CODES.LOLLIPOP)) {\n            activity?.run {\n                window.sharedElementExitTransition.addListener(object :\n                        Transition.TransitionListener by TransitionListenerAdapter {\n                    override fun onTransitionEnd(transition: Transition) {\n                        finish()\n                    }\n                })\n\n                val pairs = TransitionHelper.createSafeTransitionParticipants(this, true,\n                        Pair(v, getString(R.string.transition_avatar)))\n                val options = ActivityOptionsCompat.makeSceneTransitionAnimation(this, *pairs)\n                ActivityLaunchHelper.launchCategorySelection(this, options)\n            }\n        }\n    }\n\n    private fun initContents() {\n        player?.run {\n            valid().let {\n                firstNameView?.setText(firstName)\n                lastInitialView?.setText(lastInitial)\n                avatar?.run { selectAvatar(this) }\n            }\n        }\n    }\n\n\n\n\n    private fun isAvatarSelected() = selectedAvatarView != null || selectedAvatar != null\n\n    private fun selectAvatar(avatar: Avatar) {\n        selectedAvatar = avatar\n        avatarGrid?.run {\n            requestFocusFromTouch()\n            setItemChecked(avatar.ordinal, true)\n        }\n        showFab()\n    }\n\n    private fun showFab() {\n        if (isInputDataValid()) doneFab?.show()\n    }\n\n    private fun isInputDataValid() =\n            firstNameView?.text?.isNotEmpty() == true &amp;&amp;\n                    lastInitialView?.text?.isNotEmpty() == true &amp;&amp;\n                    selectedAvatar != null\n\n    companion object {\n\n        private const val ARG_EDIT = \"EDIT\"\n        private const val KEY_SELECTED_AVATAR_INDEX = \"selectedAvatarIndex\"\n\n        fun newInstance(edit: Boolean = false): SignInFragment {\n            return SignInFragment().apply {\n                arguments = Bundle().apply {\n                    putBoolean(ARG_EDIT, edit)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "mvvm", "android-mvvm"], "answers": [{"comments": [{"owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1575325305, "post_id": 59147000, "comment_id": 104520803, "body": "I hace downgraded and the problem persist"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1575326289, "post_id": 59147000, "comment_id": 104521109, "body": "Or just wait until version 1.3.3 gets released since it will have the fix."}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1575348857, "post_id": 59147000, "comment_id": 104526020, "body": "Did you try this <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/799#issuecomment-441224399\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/issues/&hellip;</a>?"}, {"owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1575377173, "post_id": 59147000, "comment_id": 104538982, "body": "Yes, also added them before asking and nothing"}], "tags": [], "owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": false, "score": 2, "last_activity_date": 1575322509, "creation_date": 1575322509, "answer_id": 59147000, "question_id": 59146301, "link": "https://stackoverflow.com/questions/59146301/module-with-the-main-dispatcher-is-missing/59147000#59147000", "title": "Module with the Main dispatcher is missing", "body": "<p>This is a known bug in <code>kotlinx.coroutines</code>, you can find the issue here:</p>\n\n<p><a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/1532\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/issues/1532</a></p>\n\n<p>You need to downgrade to version <code>1.3.0</code>:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.0\"\n</code></pre>\n\n<p><a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/1532#issuecomment-536299897\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/issues/1532#issuecomment-536299897</a></p>\n\n<p>Or just wait until version <code>1.3.3</code> gets released since it will have the fix.</p>\n\n<p><a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/1532#issuecomment-559089259\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/issues/1532#issuecomment-559089259</a></p>\n"}], "owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1842, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1587763370, "creation_date": 1575318932, "last_edit_date": 1587763370, "question_id": 59146301, "link": "https://stackoverflow.com/questions/59146301/module-with-the-main-dispatcher-is-missing", "title": "Module with the Main dispatcher is missing", "body": "<p>After researching, I'm still having this issue, but this only happens when my liveData is being populated.</p>\n\n<p>What I'm trying to do is mix LiveData to communicate only from the ViewModel to the UI, and using Coroutines to fetch data from my server.</p>\n\n<p>For now, I just used all the KTX to date to make it more legible</p>\n\n<p>From my UI I just observe data</p>\n\n<pre><code>viewModel.data.observe(this,Observer {...})\n</code></pre>\n\n<p>From my ViewModel I'm just launching a suspend function that is executed on IO for network requests, this liveData should return when <code>emit()</code> finish fetching the data</p>\n\n<pre><code>class MainViewModel: ViewModel(private val repo:Repo) {\n\n    val data = liveData(Dispatchers.IO) {\n        emit(repo.getUserData2())\n    }\n\n}\n</code></pre>\n\n<p>And now from my data source I just fetch some data from Firebase and return it to my <code>emit()</code> so I can notify my LiveData about new values.</p>\n\n<p>Here I'm using <code>kotlinx-coroutines-android</code> and <code>kotlinx-coroutines-play-services</code> to use <code>.await()</code> on my network request</p>\n\n<pre><code>  suspend fun getUserData2(): MutableList&lt;Houses&gt; {\n\n        val houseList = mutableListOf&lt;Houses&gt;()\n        val snap = FirebaseFirestore.getInstance().collection(\"Houses\").get().await()\n        for (houses in snap) {\n            val name = document.getString(\"houseName\")\n            val color = document.getString(\"houseColor\")\n            val house = Houses(name!!, color!!)\n            listData.add(house)\n        }\n        return houseList\n    }\n</code></pre>\n\n<p>The problem is when it returns to </p>\n\n<pre><code> val data = liveData(Dispatchers.IO) {\n        emit(repo.getUserData2())\n    }\n</code></pre>\n\n<p>With this error</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Module with the Main dispatcher is\n  missing. Add dependency providing the Main dispatcher, e.g.\n  'kotlinx-coroutines-android'\n          at kotlinx.coroutines.internal.MissingMainCoroutineDispatcher.missing(MainDispatchers.kt:90)\n          at kotlinx.coroutines.internal.MissingMainCoroutineDispatcher.isDispatchNeeded(MainDispatchers.kt:71)\n          at kotlinx.coroutines.DispatchedKt.resumeCancellable(Dispatched.kt:420)\n          at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:26)\n          at kotlinx.coroutines.BuildersKt__Builders_commonKt.withContext(Builders.common.kt:162)\n          at kotlinx.coroutines.BuildersKt.withContext(Unknown Source:1)\n          at androidx.lifecycle.LiveDataScopeImpl.emit(CoroutineLiveData.kt:97)\n          at com.gaston.recyclerviewexample.viewmodel.MainViewModel$dataLive$1.invokeSuspend(MainViewModel.kt:18)\n          at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n          at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:241)\n          at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\n          at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\n          at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:740)</p>\n</blockquote>\n\n<p>My dependencies are the follow</p>\n\n<pre><code>    implementation \"androidx.lifecycle:lifecycle-extensions:2.1.0\"\n    implementation \"androidx.lifecycle:lifecycle-livedata-ktx:2.2.0-rc02\"\n    implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0-rc02\"\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.2'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.1.1'\n</code></pre>\n"}, {"tags": ["kotlin", "lambda", "functional-programming", "builder-pattern"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1575332390, "post_id": 59146176, "comment_id": 104522624, "body": "May be worth pointing out that builders don&#39;t tend to be used much in Kotlin, where the ability to make constructor params optional, and provide defaults, means that a single constructor can often do the job of a whole builder.  (Similarly, the \u2018fluent\u2019 style where methods return <code>this</code> each time isn&#39;t needed so much when you have functional constructs and the <code>with</code> function.)"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1575382236, "post_id": 59146176, "comment_id": 104542162, "body": "That&#39;s true for builders that set up a bunch of parameters on one object. I&#39;m not sure if an object that grows (like above) qualifies as the Builder pattern. If the above example were an immutable class that returns a copy with additional data, it would be just like CoroutineContext. Don&#39;t know if there&#39;s a name for this pattern."}], "answers": [{"tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 2, "last_activity_date": 1575320866, "creation_date": 1575320866, "answer_id": 59146685, "question_id": 59146176, "link": "https://stackoverflow.com/questions/59146176/can-i-combine-the-builder-pattern-with-a-lambda-expression/59146685#59146685", "title": "Can I combine the builder pattern with a lambda expression?", "body": "<p>Not exactly sure what you consider clumsy about it, but if it's that you have to create a distinct line for the temporary variable, you might consider this cleaner:</p>\n\n<pre><code>fun main() {\n    val toSearch = listOf&lt;String&gt;(\"Anna\", \"Berta\", \"Carla\")\n    val b = toSearch.fold(Builder()) { builder, e -&gt; builder.build(e) }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10547453, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nNlwolGE1zc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDuHnKsFCpYYPKbKA78JqUCI0s0cQ/mo/photo.jpg?sz=128", "display_name": "Roman Funk", "link": "https://stackoverflow.com/users/10547453/roman-funk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59146685, "answer_count": 1, "score": 0, "last_activity_date": 1575320866, "creation_date": 1575318344, "question_id": 59146176, "link": "https://stackoverflow.com/questions/59146176/can-i-combine-the-builder-pattern-with-a-lambda-expression", "title": "Can I combine the builder pattern with a lambda expression?", "body": "<p>The following lambda expression operates on a class which was created outside of the lambda.\nI consider this clumsy. Is there a better way to this?</p>\n\n<pre><code>class Builder {\n    var searchTerms = listOf&lt;String&gt;()\n    fun build(whatever: String): Builder {\n        searchTerms = searchTerms +  whatever\n        return this\n    }\n}\n\nfun main() {\n   val b = Builder()\n   val toSearch = listOf&lt;String&gt;(\"Anna\", \"Berta\", \"Carla\")\n   toSearch.forEach{ e-&gt; b.build(e)}\n}\n</code></pre>\n"}, {"tags": ["kotlin", "lambda", "filter", "predicate"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8359264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f5a638e63d6e07d92ec40bb3c37206f?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Leonov", "link": "https://stackoverflow.com/users/8359264/kirill-leonov"}, "edited": false, "score": 1, "creation_date": 1575363732, "post_id": 59146126, "comment_id": 104531306, "body": "Thanks for a great explanation, now it makes total sense to me"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 5, "last_activity_date": 1575318167, "creation_date": 1575318167, "answer_id": 59146126, "question_id": 59146000, "link": "https://stackoverflow.com/questions/59146000/what-is-the-difference-between-filter-and-in-kotlin/59146126#59146126", "title": "What is the difference between filter () and {} in Kotlin", "body": "<p><code>filter()</code> expects a predicate function as argument, i.e. a function which takes a string and returns a boolean.</p>\n\n<p>In Kotlin, if the last argument of a function (filter here) is a function (the predicate), then you can pass a lambda and the lambda can be out of the parentheses. So </p>\n\n<pre><code>.filter { ... }\n</code></pre>\n\n<p>is the same as </p>\n\n<pre><code>.filter({ ... })\n</code></pre>\n\n<p>So, in your code, <code>{ name -&gt; name.startsWith(\"j\") }</code> is a lambda which is the argument passed to <code>filter()</code>.</p>\n\n<p>The function <code>getSimplePredicate()</code> <em>returns</em> a predicate function. </p>\n\n<p>So <code>.filter(getSimplePredicate())</code> is equivalent to <code>.filter({ name.firstName.startsWith(prefix) })</code>, which is equivalent to <code>.filter { name.firstName.startsWith(prefix) }</code>.</p>\n\n<p><code>.filter { getSimplePredicate() }</code> would be valid if <code>{ getSimplePredicate() }</code> was a function that returns a Boolean, i.e. if <code>getSimplePredicate()</code> returned a Boolean. But it doesn't, so it's not valid.</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 2, "last_activity_date": 1575332539, "last_edit_date": 1575332539, "creation_date": 1575331918, "answer_id": 59148462, "question_id": 59146000, "link": "https://stackoverflow.com/questions/59146000/what-is-the-difference-between-filter-and-in-kotlin/59148462#59148462", "title": "What is the difference between filter () and {} in Kotlin", "body": "<p>As JB Nizet mentions, this isn't specific to filtering, but is standard Kotlin syntax.\u00a0 If you're calling a function with a lambda as the last parameter, e.g.:</p>\n\n<pre><code>list.map({ size -&gt; size * 2 })\n</code></pre>\n\n<p>Then <strong>you can move the lambda outside the parentheses</strong>:</p>\n\n<pre><code>list.map(){ size -&gt; size * 2 }\n</code></pre>\n\n<p>(That's mainly to allow functions that look like new language syntax.\u00a0 But it's useful generally.)\u00a0 And <strong>if there's nothing left in them, you can omit the parentheses entirely</strong>:</p>\n\n<pre><code>list.map{ size -&gt; size * 2 }\n</code></pre>\n\n<p>Also, if a lambda has exactly one parameter (and the compiler can infer its type), then you can refer to it as <code>it</code> instead of naming it explicitly:</p>\n\n<pre><code>list.map{ it * 2 }\n</code></pre>\n\n<p><strong>All four forms mean exactly the same thing</strong>: they're calling the <code>map()</code> function with a lambda.\u00a0 (You'll see those sorts of syntactic shortcuts a lot; they can help to make code easier to read.)</p>\n\n<p>OK, on to your code:</p>\n\n<p>Your first line works, but your predicate function needs a few tweaks before it'll compile.\u00a0 The signature is fine, but the definition won't work without braces.\u00a0\u00a0(In Scala and Java, the arrow is the distinguishing part; but we've just seen how you can omit that in Kotlin, so <strong>every lambda must have braces</strong>.)</p>\n\n<p>Also, you haven't defined <code>firstName</code> or <code>prefix</code>.\u00a0 I'm going to assume that we can ignore the former, and provide the latter as a parameter.\u00a0 With a bit of simplification, that gives:</p>\n\n<pre><code>fun getSimplePredicate(prefix: String): (String) -&gt; Boolean\n    = { it.startsWith(prefix) }\n</code></pre>\n\n<p>And <strong>with those tweaks, you can indeed use it to provide a predicate for filtering</strong>, e.g.:</p>\n\n<pre><code>listOf(\"john\", \"dave\").filter(getSimplePredicate(\"j\"))\n</code></pre>\n\n<p>(Note that this time, there are no curly braces, as we're not creating a lambda in this line \u2014 the function has already done that.)</p>\n\n<p>Of course, in this case, it's actually simpler to provide a lambda directly, as per your first example!\u00a0 But this illustrates the principle.</p>\n\n<p>There's one other option that's worth covering, too, which is a function reference.\u00a0 If you already had a function that would do the job, you don't need to put it in a lambda, but can refer to it directly, using the <code>::</code> notation.\u00a0 For example:</p>\n\n<pre><code>fun hasValidPrefix(s: String) = s.startsWith(\"j\")\n\nlistOf(\"john\", \"dave\").filter(::hasValidPrefix)\n</code></pre>\n\n<p>That only works if the parameter type(s) are compatible, but it's slightly simpler (and can generate slightly more efficient bytecode).</p>\n\n<p>All of these are explained <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">in the Kotlin docs</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 8359264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f5a638e63d6e07d92ec40bb3c37206f?s=128&d=identicon&r=PG&f=1", "display_name": "Kirill Leonov", "link": "https://stackoverflow.com/users/8359264/kirill-leonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 1, "accepted_answer_id": 59146126, "answer_count": 2, "score": 0, "last_activity_date": 1575332539, "creation_date": 1575317545, "question_id": 59146000, "link": "https://stackoverflow.com/questions/59146000/what-is-the-difference-between-filter-and-in-kotlin", "title": "What is the difference between filter () and {} in Kotlin", "body": "<p>I am studying Kotlin and facing some difficulties with understanding the difference between filter with parenthesis and curly braces. If I check filter implementation, Intellij redirects me to the same source.</p>\n\n<p>Code example:</p>\n\n<pre><code>listOf(\"john\", \"dave\").filter { name -&gt; name.startsWith(\"j\") }\n\n// versus\n\n// simple predicate function\nfun getSimplePredicate(): (String) -&gt; Boolean = \n  name: String -&gt; name.firstName.startsWith(prefix)\n\n// actual filter call\nlistOf(\"john\", \"dave).filter(getSimplePredicate())\n</code></pre>\n\n<p>What If I want to call somehow <code>filter { getSimplePredicate() }</code>? </p>\n\n<p>Is there is a way? And what is the difference? Thanks in advance</p>\n"}, {"tags": ["android", "google-maps", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575319798, "post_id": 59145960, "comment_id": 104518827, "body": "<code>Exception</code> is not related to <code>VectorDrawable</code> it&#39;s related to <code>PendingIntent</code>. Check your code carefully."}, {"owner": {"reputation": 5, "user_id": 12470350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82eb9695ecea03c7dbdb4066774044a?s=128&d=identicon&r=PG&f=1", "display_name": "RobertZt", "link": "https://stackoverflow.com/users/12470350/robertzt"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575343450, "post_id": 59145960, "comment_id": 104524920, "body": "I&#39;am sorry, but I didn&#39;t understand :("}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575343905, "post_id": 59145960, "comment_id": 104525004, "body": "Add more details of <code>MapsActivity.kt</code>"}, {"owner": {"reputation": 5, "user_id": 12470350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82eb9695ecea03c7dbdb4066774044a?s=128&d=identicon&r=PG&f=1", "display_name": "RobertZt", "link": "https://stackoverflow.com/users/12470350/robertzt"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575344256, "post_id": 59145960, "comment_id": 104525068, "body": "Added full code in question. Thanks!"}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1575349741, "post_id": 59145960, "comment_id": 104526212, "body": "Check my answer and let me know"}], "answers": [{"comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "reply_to_user": {"reputation": 5, "user_id": 12470350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82eb9695ecea03c7dbdb4066774044a?s=128&d=identicon&r=PG&f=1", "display_name": "RobertZt", "link": "https://stackoverflow.com/users/12470350/robertzt"}, "edited": false, "score": 0, "creation_date": 1575353530, "post_id": 59150502, "comment_id": 104527320, "body": "You are welcome @RobertZt, Please accept the answer"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 0, "last_activity_date": 1575349716, "creation_date": 1575349716, "answer_id": 59150502, "question_id": 59145960, "link": "https://stackoverflow.com/questions/59145960/custom-svg-google-maps-marker-in-kotlin-android-studio/59150502#59150502", "title": "Custom .svg google maps marker in Kotlin, Android Studio", "body": "<p>Your <code>MapsActivity</code> should show compile time error as your call to <code>getActivity()</code> is wrong. Instead of using <code>getActivity()</code> used <code>this</code> as it is inside <code>Activity</code>. Check below:</p>\n\n<pre><code>mMap.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\").icon(bitmapDescriptorFromVector(this, R.drawable. marker3)))\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12470350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82eb9695ecea03c7dbdb4066774044a?s=128&d=identicon&r=PG&f=1", "display_name": "RobertZt", "link": "https://stackoverflow.com/users/12470350/robertzt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "accepted_answer_id": 59150502, "answer_count": 1, "score": 0, "last_activity_date": 1575349716, "creation_date": 1575317357, "last_edit_date": 1575344238, "question_id": 59145960, "link": "https://stackoverflow.com/questions/59145960/custom-svg-google-maps-marker-in-kotlin-android-studio", "title": "Custom .svg google maps marker in Kotlin, Android Studio", "body": "<p>I want to use a .svg file as a map marker. In MapsActivity.kt i wrote:</p>\n\n<pre><code>private fun  bitmapDescriptorFromVector(context: Context, vectorResId:Int):BitmapDescriptor {\n    val vectorDrawable = ContextCompat.getDrawable(context, vectorResId);\n    vectorDrawable!!.setBounds(0, 0, vectorDrawable.getIntrinsicWidth(), vectorDrawable.getIntrinsicHeight());\n    val bitmap = Bitmap.createBitmap(vectorDrawable.getIntrinsicWidth(), vectorDrawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\n    val canvas =  Canvas(bitmap);\n    vectorDrawable.draw(canvas);\n    return BitmapDescriptorFactory.fromBitmap(bitmap);\n}\n</code></pre>\n\n<p>...and this:</p>\n\n<pre><code>mMap.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\").icon(bitmapDescriptorFromVector(getActivity(), R.drawable.marker3)))\n</code></pre>\n\n<p>\"marker3\" at the end is created as new vector asset. On running i get this error:</p>\n\n<blockquote>\n  <p>C:.....\\MyApplication3\\app\\src\\main\\java\\com\\example\\myapplication3\\MapsActivity.kt: (58, 115): None of the following functions can be called with the arguments supplied:\n  public open fun getActivity(p0: Context!, p1: Int, @NonNull p2: Intent, p3: Int, @Nullable p4: Bundle?): PendingIntent! defined in android.app.PendingIntent\n  public open fun getActivity(p0: Context!, p1: Int, p2: Intent!, p3: Int): PendingIntent! defined in android.app.PendingIntent</p>\n</blockquote>\n\n<p>Please help!</p>\n\n<p>Full MapsActivity.kt:</p>\n\n<pre><code>   package com.example.myapplication3\n\nimport android.app.PendingIntent.getActivity\nimport android.content.Context\nimport android.graphics.Bitmap\nimport android.graphics.Canvas\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.core.content.ContextCompat\nimport com.google.android.gms.maps.CameraUpdateFactory\nimport com.google.android.gms.maps.GoogleMap\nimport com.google.android.gms.maps.OnMapReadyCallback\nimport com.google.android.gms.maps.SupportMapFragment\nimport com.google.android.gms.maps.model.BitmapDescriptor\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory\nimport com.google.android.gms.maps.model.LatLng\nimport com.google.android.gms.maps.model.MarkerOptions\n\n\nclass MapsActivity : AppCompatActivity(), OnMapReadyCallback {\n\nprivate fun  bitmapDescriptorFromVector(context: Context, vectorResId:Int):BitmapDescriptor {\n    val vectorDrawable = ContextCompat.getDrawable(context, vectorResId)\n    vectorDrawable!!.setBounds(0, 0, vectorDrawable.getIntrinsicWidth(), vectorDrawable.getIntrinsicHeight())\n    val bitmap = Bitmap.createBitmap(vectorDrawable.getIntrinsicWidth(), vectorDrawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888)\n    val canvas =  Canvas(bitmap)\n    vectorDrawable.draw(canvas)\n    return BitmapDescriptorFactory.fromBitmap(bitmap)\n}\n\nprivate lateinit var mMap: GoogleMap\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_maps)\n    // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n    val mapFragment = supportFragmentManager\n        .findFragmentById(R.id.map) as SupportMapFragment\n    mapFragment.getMapAsync(this)\n}\n */\n\n\noverride fun onMapReady(googleMap: GoogleMap) {\n    mMap = googleMap\n\n    // Add a marker in Sydney and move the camera\n    val sydney = LatLng(-34.0, 151.0)\n    mMap.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\").icon(bitmapDescriptorFromVector(getActivity(), R.drawable.marker3)))\n    mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney))\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["mongodb", "kotlin", "querydsl"], "comments": [{"owner": {"reputation": 1702, "user_id": 703161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/21f3889b711ae6dd796913170199899e?s=128&d=identicon&r=PG", "display_name": "DogEatDog", "link": "https://stackoverflow.com/users/703161/dogeatdog"}, "edited": false, "score": 0, "creation_date": 1575317486, "post_id": 59145273, "comment_id": 104517967, "body": "What is the issue you&#39;re having and what is the expected output?"}, {"owner": {"reputation": 221, "user_id": 12469985, "user_type": "registered", "profile_image": "https://graph.facebook.com/2654385201294616/picture?type=large", "display_name": "Nicolai Nikolai", "link": "https://stackoverflow.com/users/12469985/nicolai-nikolai"}, "reply_to_user": {"reputation": 1702, "user_id": 703161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/21f3889b711ae6dd796913170199899e?s=128&d=identicon&r=PG", "display_name": "DogEatDog", "link": "https://stackoverflow.com/users/703161/dogeatdog"}, "edited": false, "score": 0, "creation_date": 1575327770, "post_id": 59145273, "comment_id": 104521551, "body": "Querydsl must generate file \\target\\generated-sources\\kapt\\compile\\com\\t1\\mmkqe\\entity\\Q&zwnj;&#8203;Record.java     <code>@Generated(&quot;com.querydsl.codegen.EntitySerializer&quot;)  public class QRecord extends EntityPathBase&lt;Record&gt; {   private static final long serialVersionUID = -1455667927L;  public static final QRecord record = new QRecord(&quot;record&quot;);    ...</code>     If i change Record.kt (change @Document to @Entity):  <code>@Entity data class Record(@Id val name: String = &quot;&quot;)</code>      it works"}, {"owner": {"reputation": 1702, "user_id": 703161, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/21f3889b711ae6dd796913170199899e?s=128&d=identicon&r=PG", "display_name": "DogEatDog", "link": "https://stackoverflow.com/users/703161/dogeatdog"}, "edited": false, "score": 0, "creation_date": 1575392585, "post_id": 59145273, "comment_id": 104548373, "body": "Can you please put that in your original question?"}], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 12469985, "user_type": "registered", "profile_image": "https://graph.facebook.com/2654385201294616/picture?type=large", "display_name": "Nicolai Nikolai", "link": "https://stackoverflow.com/users/12469985/nicolai-nikolai"}, "is_accepted": false, "score": 2, "last_activity_date": 1575405354, "creation_date": 1575405354, "answer_id": 59164936, "question_id": 59145273, "link": "https://stackoverflow.com/questions/59145273/spring-boot-mongo-querydsl-with-kotlin-not-generating-meta-data-classes/59164936#59164936", "title": "spring boot mongo querydsl with kotlin not generating meta data classes", "body": "<p>I found how to config, now it works</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;jpa&lt;/plugin&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;kapt&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;kapt&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                            &lt;annotationProcessorPaths&gt;\n                                &lt;annotationProcessorPath&gt;\n                                    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n                                    &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                                    &lt;version&gt;${querydsl.version}&lt;/version&gt;\n                                    &lt;!--&lt;classifier&gt;jpa&lt;/classifier&gt;--&gt;\n                                &lt;/annotationProcessorPath&gt;\n                            &lt;/annotationProcessorPaths&gt;\n\n                            &lt;annotationProcessors&gt;\n                                &lt;processor&gt;org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor&lt;/processor&gt;\n                            &lt;/annotationProcessors&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;target&gt;\n                                &lt;move todir=\"src/generated-sources/annotations\"\n                                      overwrite=\"true\"&gt;\n                                    &lt;fileset dir=\"target/generated-sources/kapt/compile\"/&gt;\n                                &lt;/move&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 12469985, "user_type": "registered", "profile_image": "https://graph.facebook.com/2654385201294616/picture?type=large", "display_name": "Nicolai Nikolai", "link": "https://stackoverflow.com/users/12469985/nicolai-nikolai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575405354, "creation_date": 1575313870, "last_edit_date": 1575315889, "question_id": 59145273, "link": "https://stackoverflow.com/questions/59145273/spring-boot-mongo-querydsl-with-kotlin-not-generating-meta-data-classes", "title": "spring boot mongo querydsl with kotlin not generating meta data classes", "body": "<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.t1&lt;/groupId&gt;\n    &lt;artifactId&gt;t1example&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;t1&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.3.21&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;4.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;jpa&lt;/plugin&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;kapt&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;kapt&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                            &lt;annotationProcessorPaths&gt;\n                                &lt;annotationProcessorPath&gt;\n                                    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n                                    &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                                    &lt;version&gt;${querydsl.version}&lt;/version&gt;\n                                    &lt;classifier&gt;jpa&lt;/classifier&gt;\n                                &lt;/annotationProcessorPath&gt;\n                            &lt;/annotationProcessorPaths&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Record.kt</p>\n\n<pre><code>package com.t1.mmkqe.entity\nimport org.springframework.data.annotation.Id\nimport org.springframework.data.mongodb.core.mapping.Document\n\n@Document(collection = \"Record\")\ndata class Record(\n        @Id val name: String = \"\"\n)\n</code></pre>\n\n<p>It does not generate Q classes.\nBut if use JPA @Entity annotation, it does.\nI try many variants with pom/gradle, different versions and try many examples from internet, but without success.</p>\n\n<p>Perhaps it impossible.</p>\n"}, {"tags": ["android", "kotlin", "mvvm", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1575313870, "post_id": 59145210, "comment_id": 104516536, "body": "do I need to import coroutines:android or with just this coroutines are working for livedata ?"}, {"owner": {"reputation": 966, "user_id": 5314844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yKmYOowCBCk/AAAAAAAAAAI/AAAAAAAARPo/sbJIwujRZk4/photo.jpg?sz=128", "display_name": "Bruno Diego Martins", "link": "https://stackoverflow.com/users/5314844/bruno-diego-martins"}, "reply_to_user": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 1, "creation_date": 1575314248, "post_id": 59145210, "comment_id": 104516681, "body": "KTX is a supportive lib that works as an extension from the main lib, so, this is complementary, it doesn&#39;t work alone. To use the livedata you must add this:  &quot;androidx.lifecycle:lifecycle-livedata-ktx:$livedata_version&zwnj;&#8203;&quot;"}, {"owner": {"reputation": 966, "user_id": 5314844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yKmYOowCBCk/AAAAAAAAAAI/AAAAAAAARPo/sbJIwujRZk4/photo.jpg?sz=128", "display_name": "Bruno Diego Martins", "link": "https://stackoverflow.com/users/5314844/bruno-diego-martins"}, "reply_to_user": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1575314267, "post_id": 59145210, "comment_id": 104516691, "body": "You can get more details from <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/coroutine&zwnj;&#8203;s</a>"}], "tags": [], "owner": {"reputation": 966, "user_id": 5314844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yKmYOowCBCk/AAAAAAAAAAI/AAAAAAAARPo/sbJIwujRZk4/photo.jpg?sz=128", "display_name": "Bruno Diego Martins", "link": "https://stackoverflow.com/users/5314844/bruno-diego-martins"}, "is_accepted": true, "score": 4, "last_activity_date": 1576253742, "last_edit_date": 1576253742, "creation_date": 1575313559, "answer_id": 59145210, "question_id": 59145183, "link": "https://stackoverflow.com/questions/59145183/cant-use-livedata-or-viewmodelscope-launch/59145210#59145210", "title": "Can&#39;t use liveData or viewModelScope.launch", "body": "<p>Add the ViewModel ktx lib:</p>\n\n<pre><code>implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx$lifecycle_version\"\n</code></pre>\n\n<p>Available after AndroidX lifecycle v2.1.0</p>\n"}, {"tags": [], "owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "is_accepted": false, "score": 0, "last_activity_date": 1608326292, "creation_date": 1608326292, "answer_id": 65364036, "question_id": 59145183, "link": "https://stackoverflow.com/questions/59145183/cant-use-livedata-or-viewmodelscope-launch/65364036#65364036", "title": "Can&#39;t use liveData or viewModelScope.launch", "body": "<p>for liveData:</p>\n<pre><code>implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$livedata_version&quot;\n</code></pre>\n<p>for viewModelScope:</p>\n<pre><code>implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycle_version&quot;\n</code></pre>\n"}], "owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1404, "favorite_count": 0, "accepted_answer_id": 59145210, "answer_count": 2, "score": 3, "last_activity_date": 1608326292, "creation_date": 1575313424, "last_edit_date": 1576030524, "question_id": 59145183, "link": "https://stackoverflow.com/questions/59145183/cant-use-livedata-or-viewmodelscope-launch", "title": "Can&#39;t use liveData or viewModelScope.launch", "body": "<p>I'm trying to use these two builders for coroutines in my app, but in my ViewModel I can't import them or they do not pop up.</p>\n\n<p>These are my dependencies:</p>\n\n<pre><code>   implementation \"androidx.lifecycle:lifecycle-extensions:2.2.0-rc02\"\n\n   implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.2'\n</code></pre>\n\n<p>and in my ViewModel</p>\n\n<pre><code>class MainViewModel(): ViewModel() {\n\ninit{\n\n  viewModelScope ----&gt; does not work , marked in red\n  val data = liveData {} ----&gt; does not work, marked in red\n}\n\n\n}\n</code></pre>\n\n<p>I rebuilt, cleaned, and restarted with invalidating cache, but I can't use them</p>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore", "offline-caching", "instrumented-test"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 2, "last_activity_date": 1575312733, "creation_date": 1575312733, "answer_id": 59145040, "question_id": 59144954, "link": "https://stackoverflow.com/questions/59144954/in-instrumented-tests-how-do-you-make-cloud-firestore-write-commands-succeed-wh/59145040#59145040", "title": "In instrumented tests, how do you make Cloud Firestore write commands succeed when disabling the network?", "body": "<p>The Task returned by the methods that modify the database (set, update, delete) only issues a callback when the data is fully committed to the cloud.  There is no way to change this behavior.</p>\n\n<p>What you can do instead is set up a listener to the document(s) that are expected to change, and wait for the listener to trigger.  The listener will trigger even while offline.</p>\n"}], "owner": {"reputation": 2530, "user_id": 2125351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5GO1Q.jpg?s=128&g=1", "display_name": "Sean Blahovici", "link": "https://stackoverflow.com/users/2125351/sean-blahovici"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575312733, "creation_date": 1575312311, "question_id": 59144954, "link": "https://stackoverflow.com/questions/59144954/in-instrumented-tests-how-do-you-make-cloud-firestore-write-commands-succeed-wh", "title": "In instrumented tests, how do you make Cloud Firestore write commands succeed when disabling the network?", "body": "<p>So I am attempting to use the Cloud Firestore offline cache ONLY as an API for my instrumentation tests, to avoid having to read and write from the server database during my integration tests.</p>\n\n<p>First, in my test setup method, I call this method</p>\n\n<pre><code>protected fun setFirestoreToOfflineMode() {\n    Tasks.await(FirebaseFirestore.getInstance().disableNetwork())\n}\n</code></pre>\n\n<p>Then, at the beginning of each relevant test, I use</p>\n\n<pre><code>fun givenHasTrips(vararg trips: Trip) {\n    GlobalScope.launch(Dispatchers.Default) {\n        trips.forEach {\n            firestoreTripApi.put(it)\n        }\n    }\n}\n</code></pre>\n\n<p>In that put method, I have the following code:</p>\n\n<pre><code>try {\n    Tasks.await(tripCollection().document(tripData.id).set(tripData)),\n                    firestoreApiTimeoutSeconds, TimeUnit.SECONDS)\n    Either.Right(Unit)\n} catch (e: Throwable) {\n    Either.Left(Failure.ServerError)\n}\n</code></pre>\n\n<p>I am calling the set() method and am waiting for a successful result in order to be able to return that the operation was a success, to update my UI afterward.</p>\n\n<p>What happens is the cache DB is written correctly BUT the \"set()\" function times out because the database is in offline mode. I have read that Firestore only confirms a success if the Server DB was correctly written. If that is the case, I do not know if it is possible to have this call not time-out when operating strictly in offline-cache mode.</p>\n\n<p>Is there a solution to have Firestore act as if the local cache database was the source of truth and return successes if placed in offline mode, just for tests?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 0, "creation_date": 1575305866, "post_id": 59143179, "comment_id": 104513230, "body": "hmmm.I don&#39;t get your question exactly. Your view holder has access to <code>txt_name</code> and you can easily read inputted string. I don&#39;t get what is your problem exactly."}, {"owner": {"reputation": 203, "user_id": 11292068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--pQ46F_aKRw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfsZWhhJ7BtFo44BBqwQvQoJQ-yGA/mo/photo.jpg?sz=128", "display_name": "Nishant Jalan", "link": "https://stackoverflow.com/users/11292068/nishant-jalan"}, "reply_to_user": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 0, "creation_date": 1575305975, "post_id": 59143179, "comment_id": 104513291, "body": "txt_name and btn_ok are in the dialog box which appears when user clicks the view holder. My question is that how do I retrieve the name from the alert dialog box?"}, {"owner": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 0, "creation_date": 1575306097, "post_id": 59143179, "comment_id": 104513340, "body": "Aha got it. I have done this, but in java. I post a sample code in java for you."}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 11292068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--pQ46F_aKRw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfsZWhhJ7BtFo44BBqwQvQoJQ-yGA/mo/photo.jpg?sz=128", "display_name": "Nishant Jalan", "link": "https://stackoverflow.com/users/11292068/nishant-jalan"}, "edited": false, "score": 0, "creation_date": 1575343414, "post_id": 59143648, "comment_id": 104524912, "body": "input.observe method takes two parameters - LifecycleOwner object and Observer Interface. You have passed the context object instead."}], "tags": [], "owner": {"reputation": 454, "user_id": 10928836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e19940d932d846ccf468676f424165?s=128&d=identicon&r=PG&f=1", "display_name": "B. Pl&#252;ster", "link": "https://stackoverflow.com/users/10928836/b-pl%c3%bcster"}, "is_accepted": false, "score": 0, "last_activity_date": 1575306570, "creation_date": 1575306570, "answer_id": 59143648, "question_id": 59143179, "link": "https://stackoverflow.com/questions/59143179/custom-view-button-click-on-alertdialog/59143648#59143648", "title": "Custom view button click on AlertDialog", "body": "<p>To do this you could use Kotlins <a href=\"https://developer.android.com/reference/androidx/lifecycle/MutableLiveData.html\" rel=\"nofollow noreferrer\">MutableLiveData</a>. Use a wrapper class the show your AlertDialog and post the value of the text field.</p>\n\n<pre><code>class MyInputDialog(private val context){\n    public var input = MutableLiveData(\"\")\n\n    public fun showDialog(){\n        val dialog = AlertDialog.Builder(context).run{\n            setView(R.layout.dialog_custom)\n            show()\n        }\n        dialog.setButton(DialogInterface.BUTTON_POSITIVE, \"Confirm\") { _, _ -&gt; Unit\n            input.postValue(dialog.your_text_input.text.toString())\n        }\n   }\n}\n</code></pre>\n\n<p>Then in your Viewholder you call:</p>\n\n<pre><code>InputDialog(context).apply{\n     showDialog()\n     input.observe(context, Observer { \n         if(it != \"\"){\n             //Do whatever you want with it\n         }\n     }\n}\n</code></pre>\n\n<p>Note that this code isn't tested, but it should work something like this.</p>\n"}, {"tags": [], "owner": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1575306927, "last_edit_date": 1575306927, "creation_date": 1575306619, "answer_id": 59143660, "question_id": 59143179, "link": "https://stackoverflow.com/questions/59143179/custom-view-button-click-on-alertdialog/59143660#59143660", "title": "Custom view button click on AlertDialog", "body": "<p>Here is the way I do what you need to do:</p>\n\n<pre><code>public class NumberDialog extends AppCompatDialogFragment {\n    private final static String DIALOG_TITLE_PARAM = \"DIALOG_TITLE_PARAM\";\n    private final static String DIALOG_PARAM_PARAM = \"DIALOG_PARAM_PARAM\";\n\n\n    private OnNumberDialogClickListener mCallback = null;\n    private EditText mEdit = null;\n    private int mParam = 0;\n\n    public interface OnNumberDialogClickListener {\n        void onNumberDialogPositiveClick(int req, int val);\n    }\n\n    public static NumberDialog newInstance(String title, int req) {\n        NumberDialog dialog = new NumberDialog();\n\n        Bundle params = new Bundle();\n        params.putString(DIALOG_TITLE_PARAM, title);\n        params.putInt(DIALOG_PARAM_PARAM, req);\n        dialog.setArguments(params);\n\n        return dialog;\n    }\n\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n\n        try {\n            Fragment frag = getTargetFragment();\n            if (frag != null) {\n                mCallback = (OnNumberDialogClickListener)frag;\n            } else {\n                mCallback = (OnNumberDialogClickListener)context;\n            }\n        } catch (ClassCastException e) {\n            throw new ClassCastException(context.toString() +\n                    \" must implement OnNumberDialogClickListener\");\n        }\n    }\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        String title = getArguments().getString(DIALOG_TITLE_PARAM);\n        mParam = getArguments().getInt(DIALOG_PARAM_PARAM);\n\n        View layout = LayoutInflater.from(getContext()).inflate(R.layout.dialog_select_number, null, false);\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n\n        builder.setTitle(title).\n                setView(layout).\n                setPositiveButton(R.string.ok, null).\n                setNegativeButton(R.string.cancel, null);\n\n        mEdit = layout.findViewById(R.id.dialog_number_edit);\n\n        final AlertDialog alert_dialog = builder.create();\n\n        alert_dialog.setOnShowListener(new DialogInterface.OnShowListener() {\n            @Override\n            public void onShow(DialogInterface dialog) {\n                alert_dialog.getButton(AlertDialog.BUTTON_POSITIVE).setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        if (mEdit != null) {\n                            String valStr = mEdit.getText().toString();\n\n                            int val;\n\n                            try {\n                                val = Integer.parseInt(valStr);\n                            } catch (Exception e) {\n                                return;\n                            }\n\n                            mCallback.onNumberDialogPositiveClick(mParam, val);\n                            dismiss();\n                        }\n                    }\n                });\n            }\n        });\n\n        alert_dialog.setCanceledOnTouchOutside(true);\n\n        return alert_dialog;\n    }\n}\n</code></pre>\n\n<p>This is a sample class for a number dialog which validates input to be a number and closes the alert dialog only if it is a number. If number is valid, it calls back to main class using <code>onNumberDialogPositiveClick()</code>.</p>\n\n<p>This code shows you how to:</p>\n\n<ol>\n<li>Use a callback from your alert dialog to run a code on your class class.</li>\n<li>How to validate your data in your alert dialog before closing it.</li>\n<li>Use custom layout for your alert dialog.</li>\n</ol>\n\n<p>Just create a instance of <code>NumberDialog</code> and implement <code>onNumberDialogPositiveClick()</code> to see how it works. This gives you the general idea of how your code should change.</p>\n"}], "owner": {"reputation": 203, "user_id": 11292068, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--pQ46F_aKRw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfsZWhhJ7BtFo44BBqwQvQoJQ-yGA/mo/photo.jpg?sz=128", "display_name": "Nishant Jalan", "link": "https://stackoverflow.com/users/11292068/nishant-jalan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1039, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1596865191, "creation_date": 1575304790, "question_id": 59143179, "link": "https://stackoverflow.com/questions/59143179/custom-view-button-click-on-alertdialog", "title": "Custom view button click on AlertDialog", "body": "<p>I have a RecyclerView Adapter class in which every view holder has an onclick listener. When the user clicks on the view holder, I want a dialog box to be shown with a custom view.</p>\n\n<p>My <em>dialog_custom.xml</em> is like this:-</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    \u2026 &gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        \u2026 &gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=\"@+id/txt_name\"\n            \u2026 /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_ok\"\n        \u2026 /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>When the user clicks the Button(<em>btn_ok</em>), I want to return the name entered in <em>txt_name</em> to the ViewHolder class and display it in a TextView. How many I supposed to do this? </p>\n\n<p>My <em>MyAdapter.kt</em>:-</p>\n\n<pre><code>class MyAdapter : RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt;() {\n    \u2026\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        if (list.isEmpty()) holder.addMessage()\n        else holder.bind(list[position])\n    }\n\n    inner class ViewHolder(itemView: View, private val context: Context) : RecyclerView.ViewHolder(itemView) {\n        init {\n            itemView.setOnClickListener {\n                AlertDialog.Builder(context)\n                    .setView(R.layout.dialog_custom)\n                    .setCancelable(true)\n                    .create().show()\n            }\n        }\n        \u2026\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-service", "android-sensors"], "comments": [{"owner": {"reputation": 1421, "user_id": 4977596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bd2tS.jpg?s=128&g=1", "display_name": "sochas", "link": "https://stackoverflow.com/users/4977596/sochas"}, "edited": false, "score": 1, "creation_date": 1575305503, "post_id": 59142878, "comment_id": 104513067, "body": "I had a similar issue registering a bluetooth lte beause when scanner detects device it triggers serveral times so I was registering the device several times. I don&#39;t know if this situation can suffer with an acelerometer. I got crazy to solve the bluetooth problem."}, {"owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1575396648, "post_id": 59142878, "comment_id": 104550281, "body": "You are right, sorry for the spam answer. I didn&#39;t see any mistakes in your code, so I made an assumption."}, {"owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1575397219, "post_id": 59142878, "comment_id": 104550492, "body": "I think you should check very carefully, at runtime, to make sure that the <code>SensorEventListener</code> being passed to <code>unregisterListener()</code> is the same one that is passed to <code>registerListener</code>. I can&#39;t help but suspect that you&#39;ve got two <code>Services</code> going somehow, and that two are registered, but only one unregisters. Btw, how exactly do you know the sensor events continue?"}, {"owner": {"reputation": 377, "user_id": 10165118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IMl37.jpg?s=128&g=1", "display_name": "P. Leibner", "link": "https://stackoverflow.com/users/10165118/p-leibner"}, "reply_to_user": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1575554205, "post_id": 59142878, "comment_id": 104611519, "body": "@greeble31 Found a solution now (see below), the problem were indeed different instances of the service. Not exactly sure what you mean with the last question?"}], "answers": [{"comments": [{"owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1575556737, "post_id": 59196702, "comment_id": 104613021, "body": "Glad you fixed this, and I was just about to upvote, but two things bothers me: If you get two different instances of a <code>Service</code>, there should have been on <code>onDestroy()</code> in-between (which means you unregistered). IOW, you should only get a new instance for each bind <i>if the previous service was destroyed</i>."}, {"owner": {"reputation": 377, "user_id": 10165118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IMl37.jpg?s=128&g=1", "display_name": "P. Leibner", "link": "https://stackoverflow.com/users/10165118/p-leibner"}, "reply_to_user": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1575561187, "post_id": 59196702, "comment_id": 104615490, "body": "The service is destroyed when I remove the task( unless the sensors are being recorded; I have two state: listening and recording, recording means the sensor data will be saved when the recording is stopped). That is why I get a new instance on the next start (unless recording is active)."}], "tags": [], "owner": {"reputation": 377, "user_id": 10165118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IMl37.jpg?s=128&g=1", "display_name": "P. Leibner", "link": "https://stackoverflow.com/users/10165118/p-leibner"}, "is_accepted": true, "score": 1, "last_activity_date": 1575554008, "creation_date": 1575554008, "answer_id": 59196702, "question_id": 59142878, "link": "https://stackoverflow.com/questions/59142878/unregister-sensor-listener-in-an-android-service-not-always-working/59196702#59196702", "title": "(Un)register sensor listener in an Android service not always working", "body": "<p>So in case someone from the future has the same problem, I found a solution now. The problem was that I bind to this service in my activity, and bound services return a new instance every time you bind to it. Therefore indeed different event listeners were used as @greeble31 already assumed. Since I need to bind to the service, I use LiveData now register/unregister a sensor.</p>\n\n<pre><code>accelerometerRegistered.observeForever { value -&gt;\n    if (value) {\n        sensorAccelerometer?.also {acceleration -&gt;\n            sensorManager.registerListener(this, acceleration, SensorManager.SENSOR_DELAY_FASTEST)\n        }\n    } else {\n        sensorManager.unregisterListener(this, sensorAccelerometer)\n    }\n}\n</code></pre>\n\n<p>The LiveData object is defined in the companion object so I can alter it from in and outside the Service class.</p>\n"}], "owner": {"reputation": 377, "user_id": 10165118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IMl37.jpg?s=128&g=1", "display_name": "P. Leibner", "link": "https://stackoverflow.com/users/10165118/p-leibner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 59196702, "answer_count": 1, "score": 1, "last_activity_date": 1575554008, "creation_date": 1575303668, "question_id": 59142878, "link": "https://stackoverflow.com/questions/59142878/unregister-sensor-listener-in-an-android-service-not-always-working", "title": "(Un)register sensor listener in an Android service not always working", "body": "<p>I created a custom Service that listens to the devices accelerometer and I want to be able pause the sensor readings. There are two cases where I want to pause the sensor reading, first is a Pause Button in the GUI that pauses all sensors (right now I just implemented the accelerometer, but more sensors will follow), second is the sensor is specifically disabled in the app settings. I use an observable to observe changes in the App settings and Intent for the Pause button that calls the unregisterSensors() function (see code below). This works fine on the apps first run, but behavior becomes weird when I close and reopen that app. Unregistering the listener from the apps settings always works, but suddenly is does not work when using the Pause button in the GUI, even though the unregisterSensors() function is definitely called (the intent is working fine). If I force the app to quit over the Android settings or Android studio and start it again, I have normal behavior again, but not as said when just removing the app from the multi-task bar. This is relevant code of the service class:</p>\n\n<pre><code>class SensorService: Service(), SensorEventListener {\n    private var sensorAccelerometer: Sensor? = null\n    private var sensorLinearAccelerometer: Sensor? = null\n\n    private lateinit var sensorManager: SensorManager\n\n\n    companion object {\n        var isServiceStarted = false\n\n        var recordAccelerometer = MutableLiveData&lt;Boolean&gt;().apply { value = true }\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        sensorManager = applicationContext.getSystemService(Context.SENSOR_SERVICE) as SensorManager\n        recordAccelerometer.observeForever { value -&gt;\n            if (sensorAccelerometer != null) {\n         // Always works       \n         if (value) {\n                    sensorAccelerometer?.also {acceleration -&gt;\n                        sensorManager.registerListener(this, acceleration, SensorManager.SENSOR_DELAY_FASTEST)\n                    }\n                    sensorLinearAccelerometer?.also { acceleration -&gt;\n                        sensorManager.registerListener(this, acceleration, SensorManager.SENSOR_DELAY_FASTEST)\n                    }\n                } else {\n                    sensorManager.unregisterListener(this, sensorAccelerometer)\n                    sensorManager.unregisterListener(this, sensorLinearAccelerometer)\n                }\n            }\n        }\n\n        isServiceStarted = true\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n\n        // Unregister sensors\n        unregisterSensors()\n        isServiceStarted = false\n    }\n\n    private fun registerSensors() {\n        // Register sensors\n        if (availableSensors[\"accelerometer\"]!! &amp;&amp; recordAccelerometer.value!!) {\n            sensorAccelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER)\n            sensorLinearAccelerometer = sensorManager.getDefaultSensor(Sensor.TYPE_LINEAR_ACCELERATION)\n\n            sensorAccelerometer?.also {acceleration -&gt;\n                sensorManager.registerListener(this, acceleration, SensorManager.SENSOR_DELAY_FASTEST)\n            }\n            sensorLinearAccelerometer?.also { acceleration -&gt;\n                sensorManager.registerListener(this, acceleration, SensorManager.SENSOR_DELAY_FASTEST)\n            }\n        }\n    }\n\n\n    private fun unregisterSensors() {\n        // Unregister sensors\n        // Works not after closing and opening the app\n        sensorManager.unregisterListener(this, sensorAccelerometer)\n        sensorManager.unregisterListener(this, sensorLinearAccelerometer)\n    }\n\n    override fun onTaskRemoved(rootIntent: Intent?) {\n        super.onTaskRemoved(rootIntent)\n        // Stop service unless sensors are being recorded\n        stopSelf(1)\n    }\n}\n</code></pre>\n\n<p>Anybody might have an idea what the issue is? I cannot see any difference in calling the sensorManager.unregisterListener(...) that could cause this issue. </p>\n"}]